(self.webpackChunkfront=self.webpackChunkfront||[]).push([[792],{62:(Ce,We,te)=>{var we=te(6316);Ce.exports=function be(Le){var V=this.__data__,Ne=we(V,Le);return Ne<0?void 0:V[Ne][1]}},181:(Ce,We,te)=>{var we=te(2873),be=te(2260),V=Object.prototype.propertyIsEnumerable,Ne=Object.getOwnPropertySymbols;Ce.exports=Ne?function(He){return null==He?[]:(He=Object(He),we(Ne(He),function(et){return V.call(He,et)}))}:be},298:(Ce,We,te)=>{var we=te(8653),be=te(8401),Le=te(3278),V=te(8020),Fe=/^\[object .+?Constructor\]$/,or=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");Ce.exports=function Xn(Yr){return!(!Le(Yr)||be(Yr))&&(we(Yr)?or:Fe).test(V(Yr))}},322:(Ce,We,te)=>{var we=te(9038);Ce.exports=function be(Le){return we(this,Le).has(Le)}},324:Ce=>{Ce.exports=function We(te){return this.__data__.has(te)}},336:(Ce,We,te)=>{var we=te(1464);Ce.exports=we["__core-js_shared__"]},342:(Ce,We,te)=>{var we=te(752),be=te(4643),Le=te(2768);function V(Ne){var Fe=-1,He=null==Ne?0:Ne.length;for(this.__data__=new we;++Fe<He;)this.add(Ne[Fe])}V.prototype.add=V.prototype.push=be,V.prototype.has=Le,Ce.exports=V},512:(Ce,We,te)=>{Ce=te.nmd(Ce);var we=te(8657),be=We&&!We.nodeType&&We,Le=be&&Ce&&!Ce.nodeType&&Ce,Ne=Le&&Le.exports===be&&we.process,Fe=function(){try{return Le&&Le.require&&Le.require("util").types||Ne&&Ne.binding&&Ne.binding("util")}catch{}}();Ce.exports=Fe},752:(Ce,We,te)=>{var we=te(1891),be=te(2759),Le=te(7766),V=te(322),Ne=te(7258);function Fe(He){var et=-1,Sn=null==He?0:He.length;for(this.clear();++et<Sn;){var An=He[et];this.set(An[0],An[1])}}Fe.prototype.clear=we,Fe.prototype.delete=be,Fe.prototype.get=Le,Fe.prototype.has=V,Fe.prototype.set=Ne,Ce.exports=Fe},828:(Ce,We,te)=>{var we=te(5013),be=te(1012),Le=te(1339),V=te(7814),Ne=te(2248),Fe=te(1057),He=te(8020),et="[object Map]",An="[object Promise]",or="[object Set]",Xn="[object WeakMap]",Yr="[object DataView]",Ri=He(we),us=He(be),oi=He(Le),Wr=He(V),Rr=He(Ne),ur=Fe;(we&&ur(new we(new ArrayBuffer(1)))!=Yr||be&&ur(new be)!=et||Le&&ur(Le.resolve())!=An||V&&ur(new V)!=or||Ne&&ur(new Ne)!=Xn)&&(ur=function(vi){var S=Fe(vi),U="[object Object]"==S?vi.constructor:void 0,$=U?He(U):"";if($)switch($){case Ri:return Yr;case us:return et;case oi:return An;case Wr:return or;case Rr:return Xn}return S}),Ce.exports=ur},1012:(Ce,We,te)=>{var Le=te(4385)(te(1464),"Map");Ce.exports=Le},1028:(Ce,We,te)=>{var we=te(8068),be=te(2502),Le=te(512),V=Le&&Le.isTypedArray,Ne=V?be(V):we;Ce.exports=Ne},1057:(Ce,We,te)=>{var we=te(8516),be=te(8488),Le=te(3327),Fe=we?we.toStringTag:void 0;Ce.exports=function He(et){return null==et?void 0===et?"[object Undefined]":"[object Null]":Fe&&Fe in Object(et)?be(et):Le(et)}},1090:(Ce,We,te)=>{var we=te(6316);Ce.exports=function be(Le,V){var Ne=this.__data__,Fe=we(Ne,Le);return Fe<0?(++this.size,Ne.push([Le,V])):Ne[Fe][1]=V,this}},1339:(Ce,We,te)=>{var Le=te(4385)(te(1464),"Promise");Ce.exports=Le},1464:(Ce,We,te)=>{var we=te(8657),be="object"==typeof self&&self&&self.Object===Object&&self,Le=we||be||Function("return this")();Ce.exports=Le},1483:Ce=>{Ce.exports=function We(te){var we=this.has(te)&&delete this.__data__[te];return this.size-=we?1:0,we}},1610:(Ce,We,te)=>{var we=te(6316);Ce.exports=function be(Le){return we(this.__data__,Le)>-1}},1614:(Ce,We,te)=>{"use strict";function we(n,t,i,s,o,a,l){try{var c=n[a](l),u=c.value}catch(d){return void i(d)}c.done?t(u):Promise.resolve(u).then(s,o)}function be(n){return function(){var t=this,i=arguments;return new Promise(function(s,o){var a=n.apply(t,i);function l(u){we(a,s,o,l,c,"next",u)}function c(u){we(a,s,o,l,c,"throw",u)}l(void 0)})}}function Le(n,t){return Object.is(n,t)}let V=null,Ne=!1,Fe=1;const He=Symbol("SIGNAL");function et(n){const t=V;return V=n,t}const Xn={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Yr(n){if(Ne)throw new Error("");if(null===V)return;V.consumerOnSignalRead(n);const t=V.nextProducerIndex++;_e(V),t<V.producerNode.length&&V.producerNode[t]!==n&&De(V)&&xe(V.producerNode[t],V.producerIndexOfThis[t]),V.producerNode[t]!==n&&(V.producerNode[t]=n,V.producerIndexOfThis[t]=De(V)?ce(n,V,t):0),V.producerLastReadVersion[t]=n.version}function us(n){if((!De(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==Fe)){if(!n.producerMustRecompute(n)&&!U(n))return void ur(n);n.producerRecomputeValue(n),ur(n)}}function oi(n){if(void 0===n.liveConsumerNode)return;const t=Ne;Ne=!0;try{for(const i of n.liveConsumerNode)i.dirty||Rr(i)}finally{Ne=t}}function Wr(){return!1!==V?.consumerAllowSignalWrites}function Rr(n){n.dirty=!0,oi(n),n.consumerMarkedDirty?.(n)}function ur(n){n.dirty=!1,n.lastCleanEpoch=Fe}function vi(n){return n&&(n.nextProducerIndex=0),et(n)}function S(n,t){if(et(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(De(n))for(let i=n.nextProducerIndex;i<n.producerNode.length;i++)xe(n.producerNode[i],n.producerIndexOfThis[i]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function U(n){_e(n);for(let t=0;t<n.producerNode.length;t++){const i=n.producerNode[t],s=n.producerLastReadVersion[t];if(s!==i.version||(us(i),s!==i.version))return!0}return!1}function $(n){if(_e(n),De(n))for(let t=0;t<n.producerNode.length;t++)xe(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ce(n,t,i){if(ke(n),0===n.liveConsumerNode.length&&Bt(n))for(let s=0;s<n.producerNode.length;s++)n.producerIndexOfThis[s]=ce(n.producerNode[s],n,s);return n.liveConsumerIndexOfThis.push(i),n.liveConsumerNode.push(t)-1}function xe(n,t){if(ke(n),1===n.liveConsumerNode.length&&Bt(n))for(let s=0;s<n.producerNode.length;s++)xe(n.producerNode[s],n.producerIndexOfThis[s]);const i=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[i],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[i],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const s=n.liveConsumerIndexOfThis[t],o=n.liveConsumerNode[t];_e(o),o.producerIndexOfThis[s]=t}}function De(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function _e(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function ke(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Bt(n){return void 0!==n.producerNode}const _t=Symbol("UNSET"),St=Symbol("COMPUTING"),ge=Symbol("ERRORED"),Dt={...Xn,value:_t,dirty:!0,error:null,equal:Le,kind:"computed",producerMustRecompute:n=>n.value===_t||n.value===St,producerRecomputeValue(n){if(n.value===St)throw new Error("Detected cycle in computations.");const t=n.value;n.value=St;const i=vi(n);let s,o=!1;try{s=n.computation(),et(null),o=t!==_t&&t!==ge&&s!==ge&&n.equal(t,s)}catch(a){s=ge,n.error=a}finally{S(n,i)}o?n.value=t:(n.value=s,n.version++)}};let Cn=function pn(){throw new Error};function Nr(n){Cn(n)}function Ns(n,t){Wr()||Nr(n),n.equal(n.value,t)||(n.value=t,function O2(n){n.version++,function Ri(){Fe++}(),oi(n)}(n))}const la={...Xn,equal:Le,value:void 0,kind:"signal"};let QM;function A4(){return QM}function ih(n){const t=QM;return QM=n,t}const JM=Symbol("NotFound");function ai(n){return"function"==typeof n}function _Y(n){const i=n(s=>{Error.call(s),s.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}Error;const e7=_Y(n=>function(i){n(this),this.message=i?`${i.length} errors occurred during unsubscription:\n${i.map((s,o)=>`${o+1}) ${s.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=i});function t7(n,t){if(n){const i=n.indexOf(t);0<=i&&n.splice(i,1)}}class Lc{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(const a of i)a.remove(this);else i.remove(this);const{initialTeardown:s}=this;if(ai(s))try{s()}catch(a){t=a instanceof e7?a.errors:[a]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const a of o)try{xY(a)}catch(l){t=t??[],l instanceof e7?t=[...t,...l.errors]:t.push(l)}}if(t)throw new e7(t)}}add(t){var i;if(t&&t!==this)if(this.closed)xY(t);else{if(t instanceof Lc){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(t)}}_hasParent(t){const{_parentage:i}=this;return i===t||Array.isArray(i)&&i.includes(t)}_addParent(t){const{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(t),i):i?[i,t]:t}_removeParent(t){const{_parentage:i}=this;i===t?this._parentage=null:Array.isArray(i)&&t7(i,t)}remove(t){const{_finalizers:i}=this;i&&t7(i,t),t instanceof Lc&&t._removeParent(this)}}Lc.EMPTY=(()=>{const n=new Lc;return n.closed=!0,n})();const EY=Lc.EMPTY;function wY(n){return n instanceof Lc||n&&"closed"in n&&ai(n.remove)&&ai(n.add)&&ai(n.unsubscribe)}function xY(n){ai(n)?n():n.unsubscribe()}const wm={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},I4={setTimeout(n,t,...i){const{delegate:s}=I4;return s?.setTimeout?s.setTimeout(n,t,...i):setTimeout(n,t,...i)},clearTimeout(n){const{delegate:t}=I4;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function CY(n){I4.setTimeout(()=>{const{onUnhandledError:t}=wm;if(!t)throw n;t(n)})}function n7(){}const Tke=r7("C",void 0,void 0);function r7(n,t,i){return{kind:n,value:t,error:i}}let xm=null;function R4(n){if(wm.useDeprecatedSynchronousErrorHandling){const t=!xm;if(t&&(xm={errorThrown:!1,error:null}),n(),t){const{errorThrown:i,error:s}=xm;if(xm=null,i)throw s}}else n()}class i7 extends Lc{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,wY(t)&&t.add(this)):this.destination=Rke}static create(t,i,s){return new o7(t,i,s)}next(t){this.isStopped?a7(function Dke(n){return r7("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?a7(function Pke(n){return r7("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?a7(Tke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Mke=Function.prototype.bind;function s7(n,t){return Mke.call(n,t)}class Ake{constructor(t){this.partialObserver=t}next(t){const{partialObserver:i}=this;if(i.next)try{i.next(t)}catch(s){N4(s)}}error(t){const{partialObserver:i}=this;if(i.error)try{i.error(t)}catch(s){N4(s)}else N4(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(i){N4(i)}}}class o7 extends i7{constructor(t,i,s){let o;if(super(),ai(t)||!t)o={next:t??void 0,error:i??void 0,complete:s??void 0};else{let a;this&&wm.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&s7(t.next,a),error:t.error&&s7(t.error,a),complete:t.complete&&s7(t.complete,a)}):o=t}this.destination=new Ake(o)}}function N4(n){wm.useDeprecatedSynchronousErrorHandling?function kke(n){wm.useDeprecatedSynchronousErrorHandling&&xm&&(xm.errorThrown=!0,xm.error=n)}(n):CY(n)}function a7(n,t){const{onStoppedNotification:i}=wm;i&&I4.setTimeout(()=>i(n,t))}const Rke={closed:!0,next:n7,error:function Ike(n){throw n},complete:n7},l7="function"==typeof Symbol&&Symbol.observable||"@@observable";function SY(n){return n}let $a=(()=>{class n{constructor(i){i&&(this._subscribe=i)}lift(i){const s=new n;return s.source=this,s.operator=i,s}subscribe(i,s,o){const a=function Lke(n){return n&&n instanceof i7||function Nke(n){return n&&ai(n.next)&&ai(n.error)&&ai(n.complete)}(n)&&wY(n)}(i)?i:new o7(i,s,o);return R4(()=>{const{operator:l,source:c}=this;a.add(l?l.call(a,c):c?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(i){try{return this._subscribe(i)}catch(s){i.error(s)}}forEach(i,s){return new(s=TY(s))((o,a)=>{const l=new o7({next:c=>{try{i(c)}catch(u){a(u),l.unsubscribe()}},error:a,complete:o});this.subscribe(l)})}_subscribe(i){var s;return null===(s=this.source)||void 0===s?void 0:s.subscribe(i)}[l7](){return this}pipe(...i){return function OY(n){return 0===n.length?SY:1===n.length?n[0]:function(i){return n.reduce((s,o)=>o(s),i)}}(i)(this)}toPromise(i){return new(i=TY(i))((s,o)=>{let a;this.subscribe(l=>a=l,l=>o(l),()=>s(a))})}}return n.create=t=>new n(t),n})();function TY(n){var t;return null!==(t=n??wm.Promise)&&void 0!==t?t:Promise}const Fke=_Y(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Cm=(()=>{class n extends $a{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){const s=new PY(this,this);return s.operator=i,s}_throwIfClosed(){if(this.closed)throw new Fke}next(i){R4(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const s of this.currentObservers)s.next(i)}})}error(i){R4(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;const{observers:s}=this;for(;s.length;)s.shift().error(i)}})}complete(){R4(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){const{hasError:s,isStopped:o,observers:a}=this;return s||o?EY:(this.currentObservers=null,a.push(i),new Lc(()=>{this.currentObservers=null,t7(a,i)}))}_checkFinalizedStatuses(i){const{hasError:s,thrownError:o,isStopped:a}=this;s?i.error(o):a&&i.complete()}asObservable(){const i=new $a;return i.source=this,i}}return n.create=(t,i)=>new PY(t,i),n})();class PY extends Cm{constructor(t,i){super(),this.destination=t,this.source=i}next(t){var i,s;null===(s=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===s||s.call(i,t)}error(t){var i,s;null===(s=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===s||s.call(i,t)}complete(){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===i||i.call(t)}_subscribe(t){var i,s;return null!==(s=null===(i=this.source)||void 0===i?void 0:i.subscribe(t))&&void 0!==s?s:EY}}class DY extends Cm{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const i=super._subscribe(t);return!i.closed&&t.next(this._value),i}getValue(){const{hasError:t,thrownError:i,_value:s}=this;if(t)throw i;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}}function xp(n){return t=>{if(function Bke(n){return ai(n?.lift)}(t))return t.lift(function(i){try{return n(i,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function md(n,t,i,s,o){return new jke(n,t,i,s,o)}class jke extends i7{constructor(t,i,s,o,a,l){super(t),this.onFinalize=a,this.shouldUnsubscribe=l,this._next=i?function(c){try{i(c)}catch(u){t.error(u)}}:super._next,this._error=o?function(c){try{o(c)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:i}=this;super.unsubscribe(),!i&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Cp(n,t){return xp((i,s)=>{let o=0;i.subscribe(md(s,a=>{s.next(n.call(t,a,o++))}))})}class xt extends Error{code;constructor(t,i){super(function sh(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,i)),this.code=t}}function Sp(n){return{toString:n}.toString()}const uy="__parameters__";function py(n,t,i){return Sp(()=>{const s=function c7(n){return function(...i){if(n){const s=n(...i);for(const o in s)this[o]=s[o]}}}(t);function o(...a){if(this instanceof o)return s.apply(this,a),this;const l=new o(...a);return c.annotation=l,c;function c(u,d,p){const f=u.hasOwnProperty(uy)?u[uy]:Object.defineProperty(u,uy,{value:[]})[uy];for(;f.length<=p;)f.push(null);return(f[p]=f[p]||[]).push(l),u}}return o.prototype.ngMetadataName=n,o.annotationCls=o,o})}const vs=globalThis;function li(n){for(let t in n)if(n[t]===li)return t;throw Error("Could not find renamed property on target object.")}function Vke(n,t){for(const i in t)t.hasOwnProperty(i)&&!n.hasOwnProperty(i)&&(n[i]=t[i])}function ao(n){if("string"==typeof n)return n;if(Array.isArray(n))return`[${n.map(ao).join(", ")}]`;if(null==n)return""+n;const t=n.overriddenName||n.name;if(t)return`${t}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return s>=0?i.slice(0,s):i}function u7(n,t){return n?t?`${n} ${t}`:n:t||""}const $ke=li({__forward_ref__:li});function Ni(n){return n.__forward_ref__=Ni,n.toString=function(){return ao(this())},n}function qn(n){return F4(n)?n():n}function F4(n){return"function"==typeof n&&n.hasOwnProperty($ke)&&n.__forward_ref__===Ni}function Zn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function oh(n){return{providers:n.providers||[],imports:n.imports||[]}}function B4(n){return RY(n,V4)||RY(n,NY)}function RY(n,t){return n.hasOwnProperty(t)?n[t]:null}function j4(n){return n&&(n.hasOwnProperty(d7)||n.hasOwnProperty(Wke))?n[d7]:null}const V4=li({\u0275prov:li}),d7=li({\u0275inj:li}),NY=li({ngInjectableDef:li}),Wke=li({ngInjectorDef:li});class Yt{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,i){this._desc=t,this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Zn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function h7(n){return n&&!!n.\u0275providers}const fy=li({\u0275cmp:li}),m7=li({\u0275dir:li}),g7=li({\u0275pipe:li}),FY=li({\u0275mod:li}),Op=li({\u0275fac:li}),P2=li({__NG_ELEMENT_ID__:li}),BY=li({__NG_ENV_ID__:li});function Qn(n){return"string"==typeof n?n:null==n?"":String(n)}function jY(n,t){throw new xt(-200,n)}function y7(n,t){throw new xt(-201,!1)}var Dr=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Dr||{});let v7;function VY(){return v7}function _l(n){const t=v7;return v7=n,t}function $Y(n,t,i){const s=B4(n);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&Dr.Optional?null:void 0!==t?t:void y7()}const Om={},b7="__NG_DI_FLAG__";class zY{injector;constructor(t){this.injector=t}retrieve(t,i){return this.injector.get(t,i.optional?JM:Om,i)}}const H4="ngTempTokenPath",Zke=/\n/gm,HY="__source";function Jke(n,t=Dr.Default){if(void 0===A4())throw new xt(-203,!1);if(null===A4())return $Y(n,void 0,t);{const i=A4();let s;return s=i instanceof zY?i.injector:i,s.get(n,t&Dr.Optional?null:void 0,t)}}function tr(n,t=Dr.Default){return(VY()||Jke)(qn(n),t)}function Gt(n,t=Dr.Default){return tr(n,U4(t))}function U4(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function _7(n){const t=[];for(let i=0;i<n.length;i++){const s=qn(n[i]);if(Array.isArray(s)){if(0===s.length)throw new xt(900,!1);let o,a=Dr.Default;for(let l=0;l<s.length;l++){const c=s[l],u=eMe(c);"number"==typeof u?-1===u?o=c.token:a|=u:o=c}t.push(tr(o,a))}else t.push(tr(s))}return t}function D2(n,t){return n[b7]=t,n.prototype[b7]=t,n}function eMe(n){return n[b7]}const E7=D2(py("Optional"),8),w7=D2(py("SkipSelf"),4);function Tm(n,t){return n.hasOwnProperty(Op)?n[Op]:null}function hy(n,t){n.forEach(i=>Array.isArray(i)?hy(i,t):t(i))}function qY(n,t,i){t>=n.length?n.push(i):n.splice(t,0,i)}function q4(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Kl(n,t,i){let s=k2(n,t);return s>=0?n[1|s]=i:(s=~s,function GY(n,t,i,s){let o=n.length;if(o==t)n.push(i,s);else if(1===o)n.push(s,n[0]),n[0]=i;else{for(o--,n.push(n[o-1],n[o]);o>t;)n[o]=n[o-2],o--;n[t]=i,n[t+1]=s}}(n,s,t,i)),s}function x7(n,t){const i=k2(n,t);if(i>=0)return n[1|i]}function k2(n,t){return function aMe(n,t,i){let s=0,o=n.length>>i;for(;o!==s;){const a=s+(o-s>>1),l=n[a<<i];if(t===l)return a<<i;l>t?o=a:s=a+1}return~(o<<i)}(n,t,1)}const Su={},Gr=[],Ou=new Yt(""),KY=new Yt("",-1),C7=new Yt("");class G4{get(t,i=Om){if(i===Om){const s=new Error(`NullInjectorError: No provider for ${ao(t)}!`);throw s.name="NullInjectorError",s}return i}}function Er(n){return n[fy]||null}function Xl(n){return n[g7]||null}function lMe(...n){return{\u0275providers:S7(0,n),\u0275fromNgModule:!0}}function S7(n,...t){const i=[],s=new Set;let o;const a=l=>{i.push(l)};return hy(t,l=>{const c=l;K4(c,a,[],s)&&(o||=[],o.push(c))}),void 0!==o&&YY(o,a),i}function YY(n,t){for(let i=0;i<n.length;i++){const{ngModule:s,providers:o}=n[i];O7(o,a=>{t(a,s)})}}function K4(n,t,i,s){if(!(n=qn(n)))return!1;let o=null,a=j4(n);const l=!a&&Er(n);if(a||l){if(l&&!l.standalone)return!1;o=n}else{const u=n.ngModule;if(a=j4(u),!a)return!1;o=u}const c=s.has(o);if(l){if(c)return!1;if(s.add(o),l.dependencies){const u="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const d of u)K4(d,t,i,s)}}else{if(!a)return!1;{if(null!=a.imports&&!c){let d;s.add(o);try{hy(a.imports,p=>{K4(p,t,i,s)&&(d||=[],d.push(p))})}finally{}void 0!==d&&YY(d,t)}if(!c){const d=Tm(o)||(()=>new o);t({provide:o,useFactory:d,deps:Gr},o),t({provide:C7,useValue:o,multi:!0},o),t({provide:Ou,useValue:()=>tr(o),multi:!0},o)}const u=a.providers;if(null!=u&&!c){const d=n;O7(u,p=>{t(p,d)})}}}return o!==n&&void 0!==n.providers}function O7(n,t){for(let i of n)h7(i)&&(i=i.\u0275providers),Array.isArray(i)?O7(i,t):t(i)}const cMe=li({provide:String,useValue:li});function T7(n){return null!==n&&"object"==typeof n&&cMe in n}function Pm(n){return"function"==typeof n}const P7=new Yt(""),Y4={},QY={};let D7;function X4(){return void 0===D7&&(D7=new G4),D7}class Fc{}class Dm extends Fc{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,i,s,o){super(),this.parent=i,this.source=s,this.scopes=o,M7(t,l=>this.processProvider(l)),this.records.set(KY,gy(void 0,this)),o.has("environment")&&this.records.set(Fc,gy(void 0,this));const a=this.records.get(P7);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(C7,Gr,Dr.Self))}retrieve(t,i){return this.get(t,i.optional?JM:Om,i)}destroy(){M2(this),this._destroyed=!0;const t=et(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),et(t)}}onDestroy(t){return M2(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){M2(this);const i=ih(this),s=_l(void 0);try{return t()}finally{ih(i),_l(s)}}get(t,i=Om,s=Dr.Default){if(M2(this),t.hasOwnProperty(BY))return t[BY](this);s=U4(s);const a=ih(this),l=_l(void 0);try{if(!(s&Dr.SkipSelf)){let u=this.records.get(t);if(void 0===u){const d=function mMe(n){return"function"==typeof n||"object"==typeof n&&n instanceof Yt}(t)&&B4(t);u=d&&this.injectableDefInScope(d)?gy(k7(t),Y4):null,this.records.set(t,u)}if(null!=u)return this.hydrate(t,u)}return(s&Dr.Self?X4():this.parent).get(t,i=s&Dr.Optional&&i===Om?null:i)}catch(c){if("NullInjectorError"===c.name){if((c[H4]=c[H4]||[]).unshift(ao(t)),a)throw c;return function tMe(n,t,i,s){const o=n[H4];throw t[HY]&&o.unshift(t[HY]),n.message=function nMe(n,t,i,s=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let o=ao(t);if(Array.isArray(t))o=t.map(ao).join(" -> ");else if("object"==typeof t){let a=[];for(let l in t)if(t.hasOwnProperty(l)){let c=t[l];a.push(l+":"+("string"==typeof c?JSON.stringify(c):ao(c)))}o=`{${a.join(", ")}}`}return`${i}${s?"("+s+")":""}[${o}]: ${n.replace(Zke,"\n  ")}`}("\n"+n.message,o,i,s),n.ngTokenPath=o,n[H4]=null,n}(c,t,"R3InjectorError",this.source)}throw c}finally{_l(l),ih(a)}}resolveInjectorInitializers(){const t=et(null),i=ih(this),s=_l(void 0);try{const a=this.get(Ou,Gr,Dr.Self);for(const l of a)l()}finally{ih(i),_l(s),et(t)}}toString(){const t=[],i=this.records;for(const s of i.keys())t.push(ao(s));return`R3Injector[${t.join(", ")}]`}processProvider(t){let i=Pm(t=qn(t))?t:qn(t&&t.provide);const s=function pMe(n){return T7(n)?gy(void 0,n.useValue):gy(JY(n),Y4)}(t);if(!Pm(t)&&!0===t.multi){let o=this.records.get(i);o||(o=gy(void 0,Y4,!0),o.factory=()=>_7(o.multi),this.records.set(i,o)),i=t,o.multi.push(t)}this.records.set(i,s)}hydrate(t,i){const s=et(null);try{return i.value===QY?jY(ao(t)):i.value===Y4&&(i.value=QY,i.value=i.factory()),"object"==typeof i.value&&i.value&&function hMe(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{et(s)}}injectableDefInScope(t){if(!t.providedIn)return!1;const i=qn(t.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(t){const i=this._onDestroyHooks.indexOf(t);-1!==i&&this._onDestroyHooks.splice(i,1)}}function k7(n){const t=B4(n),i=null!==t?t.factory:Tm(n);if(null!==i)return i;if(n instanceof Yt)throw new xt(204,!1);if(n instanceof Function)return function dMe(n){if(n.length>0)throw new xt(204,!1);const i=function qke(n){return n&&(n[V4]||n[NY])||null}(n);return null!==i?()=>i.factory(n):()=>new n}(n);throw new xt(204,!1)}function JY(n,t,i){let s;if(Pm(n)){const o=qn(n);return Tm(o)||k7(o)}if(T7(n))s=()=>qn(n.useValue);else if(function ZY(n){return!(!n||!n.useFactory)}(n))s=()=>n.useFactory(..._7(n.deps||[]));else if(function XY(n){return!(!n||!n.useExisting)}(n))s=()=>tr(qn(n.useExisting));else{const o=qn(n&&(n.useClass||n.provide));if(!function fMe(n){return!!n.deps}(n))return Tm(o)||k7(o);s=()=>new o(..._7(n.deps))}return s}function M2(n){if(n.destroyed)throw new xt(205,!1)}function gy(n,t,i=!1){return{factory:n,value:t,multi:i?[]:void 0}}function M7(n,t){for(const i of n)Array.isArray(i)?M7(i,t):i&&h7(i)?M7(i.\u0275providers,t):t(i)}function A7(n,t){let i;n instanceof Dm?(M2(n),i=n):i=new zY(n);const o=ih(i),a=_l(void 0);try{return t()}finally{ih(o),_l(a)}}function bs(n){return Array.isArray(n)&&"object"==typeof n[1]}function co(n){return Array.isArray(n)&&!0===n[1]}function N7(n){return!!(4&n.flags)}function Pu(n){return n.componentOffset>-1}function tC(n){return!(1&~n.flags)}function Ql(n){return!!n.template}function Pp(n){return!!(512&n[2])}function ch(n){return!(256&~n[2])}class TMe{previousValue;currentValue;firstChange;constructor(t,i,s){this.previousValue=t,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function lX(n,t,i,s){null!==t?t.applyValueToInputSignal(t,s):n[i]=s}const uh=(()=>{const n=()=>cX;return n.ngInherit=!0,n})();function cX(n){return n.type.prototype.ngOnChanges&&(n.setInput=DMe),PMe}function PMe(){const n=dX(this),t=n?.current;if(t){const i=n.previous;if(i===Su)n.previous=t;else for(let s in t)i[s]=t[s];n.current=null,this.ngOnChanges(t)}}function DMe(n,t,i,s,o){const a=this.declaredInputs[s],l=dX(n)||function kMe(n,t){return n[uX]=t}(n,{previous:Su,current:null}),c=l.current||(l.current={}),u=l.previous,d=u[a];c[a]=new TMe(d&&d.currentValue,i,u===Su),lX(n,t,o,i)}const uX="__ngSimpleChanges__";function dX(n){return n[uX]||null}function Br(n){for(;Array.isArray(n);)n=n[0];return n}function Cy(n,t){return Br(t[n])}function Ha(n,t){return Br(t[n.index])}function Im(n,t){return n.data[t]}function Ua(n,t){const i=t[n];return bs(i)?i:i[0]}function B7(n){return!(128&~n[2])}function Bc(n,t){return null==t?null:n[t]}function hX(n){n[17]=0}function j7(n){1024&n[2]||(n[2]|=1024,B7(n)&&Sy(n))}function R2(n){return!!(9216&n[2]||n[24]?.dirty)}function V7(n){n[10].changeDetectionScheduler?.notify(8),64&n[2]&&(n[2]|=1024),R2(n)&&Sy(n)}function Sy(n){n[10].changeDetectionScheduler?.notify(0);let t=Dp(n);for(;null!==t&&!(8192&t[2])&&(t[2]|=8192,B7(t));)t=Dp(t)}function rC(n,t){if(ch(n))throw new xt(911,!1);null===n[21]&&(n[21]=[]),n[21].push(t)}function Dp(n){const t=n[3];return co(t)?t[3]:t}function gX(n){return n[7]??=[]}function yX(n){return n.cleanup??=[]}const Wn={lFrame:OX(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let H7=!1;function U7(){return Wn.bindingsEnabled}function Xe(){return Wn.lFrame.lView}function zn(){return Wn.lFrame.tView}function mt(n){return Wn.lFrame.contextLView=n,n[8]}function gt(n){return Wn.lFrame.contextLView=null,n}function yr(){let n=vX();for(;null!==n&&64===n.type;)n=n.parent;return n}function vX(){return Wn.lFrame.currentTNode}function Du(n,t){const i=Wn.lFrame;i.currentTNode=n,i.isParent=t}function q7(){return Wn.lFrame.isParent}function EX(){return H7}function sC(n){const t=H7;return H7=n,t}function kp(){return Wn.lFrame.bindingIndex}function jc(){return Wn.lFrame.bindingIndex++}function Mp(n){const t=Wn.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,i}function qMe(n,t){const i=Wn.lFrame;i.bindingIndex=i.bindingRootIndex=n,G7(t)}function G7(n){Wn.lFrame.currentDirectiveIndex=n}function Y7(){return Wn.lFrame.currentQueryIndex}function oC(n){Wn.lFrame.currentQueryIndex=n}function GMe(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[5]:null}function CX(n,t,i){if(i&Dr.SkipSelf){let o=t,a=n;for(;!(o=o.parent,null!==o||i&Dr.Host||(o=GMe(a),null===o||(a=a[14],10&o.type))););if(null===o)return!1;t=o,n=a}const s=Wn.lFrame=SX();return s.currentTNode=t,s.lView=n,!0}function X7(n){const t=SX(),i=n[1];Wn.lFrame=t,t.currentTNode=i.firstChild,t.lView=n,t.tView=i,t.contextLView=n,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function SX(){const n=Wn.lFrame,t=null===n?null:n.child;return null===t?OX(n):t}function OX(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function TX(){const n=Wn.lFrame;return Wn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const PX=TX;function Z7(){const n=TX();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Vo(){return Wn.lFrame.selectedIndex}function Lm(n){Wn.lFrame.selectedIndex=n}function bi(){const n=Wn.lFrame;return Im(n.tView,n.selectedIndex)}let kX=!0;function L2(){return kX}function vd(n){kX=n}function Q7(n,t){for(let i=t.directiveStart,s=t.directiveEnd;i<s;i++){const a=n.data[i].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=a;l&&(n.contentHooks??=[]).push(-i,l),c&&((n.contentHooks??=[]).push(i,c),(n.contentCheckHooks??=[]).push(i,c)),u&&(n.viewHooks??=[]).push(-i,u),d&&((n.viewHooks??=[]).push(i,d),(n.viewCheckHooks??=[]).push(i,d)),null!=p&&(n.destroyHooks??=[]).push(i,p)}}function aC(n,t,i){MX(n,t,3,i)}function lC(n,t,i,s){(3&n[2])===i&&MX(n,t,i,s)}function J7(n,t){let i=n[2];(3&i)===t&&(i&=16383,i+=1,n[2]=i)}function MX(n,t,i,s){const a=s??-1,l=t.length-1;let c=0;for(let u=void 0!==s?65535&n[17]:0;u<l;u++)if("number"==typeof t[u+1]){if(c=t[u],null!=s&&c>=s)break}else t[u]<0&&(n[17]+=65536),(c<a||-1==a)&&(e7e(n,i,t,u),n[17]=(4294901760&n[17])+u+2),u++}function AX(n,t){const i=et(null);try{t.call(n)}finally{et(i)}}function e7e(n,t,i,s){const o=i[s]<0,a=i[s+1],c=n[o?-i[s]:i[s]];o?n[2]>>14<n[17]>>16&&(3&n[2])===t&&(n[2]+=16384,AX(c,a)):AX(c,a)}class F2{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,i,s){this.factory=t,this.canSeeViewProviders=i,this.injectImpl=s}}function IX(n){return 3===n||4===n||6===n}function RX(n){return 64===n.charCodeAt(0)}function Ty(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let i=-1;for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:0===i||NX(n,i,o,0,-1===i||2===i?t[++s]:null)}}return n}function NX(n,t,i,s,o){let a=0,l=n.length;if(-1===t)l=-1;else for(;a<n.length;){const c=n[a++];if("number"==typeof c){if(c===t){l=-1;break}if(c>t){l=a-1;break}}}for(;a<n.length;){const c=n[a];if("number"==typeof c)break;if(c===i)return void(null!==o&&(n[a+1]=o));a++,null!==o&&a++}-1!==l&&(n.splice(l,0,t),a=l+1),n.splice(a++,0,i),null!==o&&n.splice(a++,0,o)}const nA={};class Fm{injector;parentInjector;constructor(t,i){this.injector=t,this.parentInjector=i}get(t,i,s){s=U4(s);const o=this.injector.get(t,nA,s);return o!==nA||i===nA?o:this.parentInjector.get(t,i,s)}}function rA(n){return-1!==n}function B2(n){return 32767&n}function j2(n,t){let i=function s7e(n){return n>>16}(n),s=t;for(;i>0;)s=s[14],i--;return s}let iA=!0;function cC(n){const t=iA;return iA=n,t}let a7e=0;const bd={};function uC(n,t){const i=BX(n,t);if(-1!==i)return i;const s=t[1];s.firstCreatePass&&(n.injectorIndex=t.length,sA(s.data,n),sA(t,null),sA(s.blueprint,null));const o=dC(n,t),a=n.injectorIndex;if(rA(o)){const l=B2(o),c=j2(o,t),u=c[1].data;for(let d=0;d<8;d++)t[a+d]=c[l+d]|u[l+d]}return t[a+8]=o,a}function sA(n,t){n.push(0,0,0,0,0,0,0,0,t)}function BX(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function dC(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let i=0,s=null,o=t;for(;null!==o;){if(s=qX(o),null===s)return-1;if(i++,o=o[14],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return-1}function oA(n,t,i){!function l7e(n,t,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(P2)&&(s=i[P2]),null==s&&(s=i[P2]=a7e++);const o=255&s;t.data[n+(o>>5)]|=1<<o}(n,t,i)}function jX(n,t,i){if(i&Dr.Optional||void 0!==n)return n;y7()}function VX(n,t,i,s){if(i&Dr.Optional&&void 0===s&&(s=null),!(i&(Dr.Self|Dr.Host))){const o=n[9],a=_l(void 0);try{return o?o.get(t,s,i&Dr.Optional):$Y(t,s,i&Dr.Optional)}finally{_l(a)}}return jX(s,0,i)}function $X(n,t,i,s=Dr.Default,o){if(null!==n){if(2048&t[2]&&!(s&Dr.Self)){const l=function f7e(n,t,i,s,o){let a=n,l=t;for(;null!==a&&null!==l&&2048&l[2]&&!Pp(l);){const c=zX(a,l,i,s|Dr.Self,bd);if(c!==bd)return c;let u=a.parent;if(!u){const d=l[20];if(d){const p=d.get(i,bd,s);if(p!==bd)return p}u=qX(l),l=l[14]}a=u}return o}(n,t,i,s,bd);if(l!==bd)return l}const a=zX(n,t,i,s,bd);if(a!==bd)return a}return VX(t,i,s,o)}function zX(n,t,i,s,o){const a=function d7e(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(P2)?n[P2]:void 0;return"number"==typeof t?t>=0?255&t:p7e:t}(i);if("function"==typeof a){if(!CX(t,n,s))return s&Dr.Host?jX(o,0,s):VX(t,i,s,o);try{let l;if(l=a(s),null!=l||s&Dr.Optional)return l;y7()}finally{PX()}}else if("number"==typeof a){let l=null,c=BX(n,t),u=-1,d=s&Dr.Host?t[15][5]:null;for((-1===c||s&Dr.SkipSelf)&&(u=-1===c?dC(n,t):t[c+8],-1!==u&&UX(s,!1)?(l=t[1],c=B2(u),t=j2(u,t)):c=-1);-1!==c;){const p=t[1];if(HX(a,c,p.data)){const f=u7e(c,t,i,l,s,d);if(f!==bd)return f}u=t[c+8],-1!==u&&UX(s,t[1].data[c+8]===d)&&HX(a,c,t)?(l=p,c=B2(u),t=j2(u,t)):c=-1}}return o}function u7e(n,t,i,s,o,a){const l=t[1],c=l.data[n+8],p=pC(c,l,i,null==s?Pu(c)&&iA:s!=l&&!!(3&c.type),o&Dr.Host&&a===c);return null!==p?V2(t,l,p,c):bd}function pC(n,t,i,s,o){const a=n.providerIndexes,l=t.data,c=1048575&a,u=n.directiveStart,p=a>>20,h=o?c+p:n.directiveEnd;for(let m=s?c:c+p;m<h;m++){const g=l[m];if(m<u&&i===g||m>=u&&g.type===i)return m}if(o){const m=l[u];if(m&&Ql(m)&&m.type===i)return u}return null}function V2(n,t,i,s){let o=n[i];const a=t.data;if(o instanceof F2){const l=o;l.resolving&&jY(function Xr(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Qn(n)}(a[i]));const c=cC(l.canSeeViewProviders);l.resolving=!0;const d=l.injectImpl?_l(l.injectImpl):null;CX(n,s,Dr.Default);try{o=n[i]=l.factory(void 0,a,n,s),t.firstCreatePass&&i>=s.directiveStart&&function JMe(n,t,i){const{ngOnChanges:s,ngOnInit:o,ngDoCheck:a}=t.type.prototype;if(s){const l=cX(t);(i.preOrderHooks??=[]).push(n,l),(i.preOrderCheckHooks??=[]).push(n,l)}o&&(i.preOrderHooks??=[]).push(0-n,o),a&&((i.preOrderHooks??=[]).push(n,a),(i.preOrderCheckHooks??=[]).push(n,a))}(i,a[i],t)}finally{null!==d&&_l(d),cC(c),l.resolving=!1,PX()}}return o}function HX(n,t,i){return!!(i[t+(n>>5)]&1<<n)}function UX(n,t){return!(n&Dr.Self||n&Dr.Host&&t)}class _s{_tNode;_lView;constructor(t,i){this._tNode=t,this._lView=i}get(t,i,s){return $X(this._tNode,this._lView,t,U4(s),i)}}function p7e(){return new _s(yr(),Xe())}function ua(n){return Sp(()=>{const t=n.prototype.constructor,i=t[Op]||aA(t),s=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==s;){const a=o[Op]||aA(o);if(a&&a!==i)return a;o=Object.getPrototypeOf(o)}return a=>new a})}function aA(n){return F4(n)?()=>{const t=aA(qn(n));return t&&t()}:Tm(n)}function qX(n){const t=n[1],i=t.type;return 2===i?t.declTNode:1===i?n[5]:null}function XX(n,t=null,i=null,s){const o=ZX(n,t,i,s);return o.resolveInjectorInitializers(),o}function ZX(n,t=null,i=null,s,o=new Set){const a=[i||Gr,lMe(n)];return s=s||("object"==typeof n?void 0:ao(n)),new Dm(a,t||X4(),s||null,o)}class $o{static THROW_IF_NOT_FOUND=Om;static NULL=new G4;static create(t,i){if(Array.isArray(t))return XX({name:""},i,t,"");{const s=t.name??"";return XX({name:s},t.parent,t.providers,s)}}static \u0275prov=Zn({token:$o,providedIn:"any",factory:()=>tr(KY)});static __NG_ELEMENT_ID__=-1}new Yt("").__NG_ELEMENT_ID__=n=>{const t=yr();if(null===t)throw new xt(204,!1);if(2&t.type)return t.value;if(n&Dr.Optional)return null;throw new xt(204,!1)};const QX=!1;let ph=(()=>class n{static __NG_ELEMENT_ID__=w7e;static __NG_ENV_ID__=i=>i})();class JX extends ph{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return rC(this._lView,t),()=>function $7(n,t){if(null===n[21])return;const i=n[21].indexOf(t);-1!==i&&n[21].splice(i,1)}(this._lView,t)}}function w7e(){return new JX(Xe())}class Ap{}const $2=new Yt("",{providedIn:"root",factory:()=>!1}),eZ=new Yt(""),cA=new Yt("");let Ip=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new DY(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}has(i){return this.pendingTasks.has(i)}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Zn({token:n,providedIn:"root",factory:()=>new n})}return n})();const da=class C7e extends Cm{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,function eX(){return void 0!==VY()||null!=A4()}()&&(this.destroyRef=Gt(ph,{optional:!0})??void 0,this.pendingTasks=Gt(Ip,{optional:!0})??void 0)}emit(t){const i=et(null);try{super.next(t)}finally{et(i)}}subscribe(t,i,s){let o=t,a=i||(()=>null),l=s;if(t&&"object"==typeof t){const u=t;o=u.next?.bind(u),a=u.error?.bind(u),l=u.complete?.bind(u)}this.__isAsync&&(a=this.wrapInTimeout(a),o&&(o=this.wrapInTimeout(o)),l&&(l=this.wrapInTimeout(l)));const c=super.subscribe({next:o,error:a,complete:l});return t instanceof Lc&&t.add(c),c}wrapInTimeout(t){return i=>{const s=this.pendingTasks?.add();setTimeout(()=>{t(i),void 0!==s&&this.pendingTasks?.remove(s)})}}};function z2(...n){}function tZ(n){let t,i;function s(){n=z2;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),s()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{n(),s()})),()=>s()}function nZ(n){return queueMicrotask(()=>n()),()=>{n=z2}}const uA="isAngularZone",mC=uA+"_ID";let S7e=0;class ni{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new da(!1);onMicrotaskEmpty=new da(!1);onStable=new da(!1);onError=new da(!1);constructor(t){const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:a=QX}=t;if(typeof Zone>"u")throw new xt(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!o&&s,l.shouldCoalesceRunChangeDetection=o,l.callbackScheduled=!1,l.scheduleInRootZone=a,function P7e(n){const t=()=>{!function T7e(n){function t(){tZ(()=>{n.callbackScheduled=!1,pA(n),n.isCheckStableRunning=!0,dA(n),n.isCheckStableRunning=!1})}n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),pA(n))}(n)},i=S7e++;n._inner=n._inner.fork({name:"angular",properties:{[uA]:!0,[mC]:i,[mC+i]:!0},onInvokeTask:(s,o,a,l,c,u)=>{if(function D7e(n){return sZ(n,"__ignore_ng_zone__")}(u))return s.invokeTask(a,l,c,u);try{return rZ(n),s.invokeTask(a,l,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||n.shouldCoalesceRunChangeDetection)&&t(),iZ(n)}},onInvoke:(s,o,a,l,c,u,d)=>{try{return rZ(n),s.invoke(a,l,c,u,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!function k7e(n){return sZ(n,"__scheduler_tick__")}(u)&&t(),iZ(n)}},onHasTask:(s,o,a,l)=>{s.hasTask(a,l),o===a&&("microTask"==l.change?(n._hasPendingMicrotasks=l.microTask,pA(n),dA(n)):"macroTask"==l.change&&(n.hasPendingMacrotasks=l.macroTask))},onHandleError:(s,o,a,l)=>(s.handleError(a,l),n.runOutsideAngular(()=>n.onError.emit(l)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(uA)}static assertInAngularZone(){if(!ni.isInAngularZone())throw new xt(909,!1)}static assertNotInAngularZone(){if(ni.isInAngularZone())throw new xt(909,!1)}run(t,i,s){return this._inner.run(t,i,s)}runTask(t,i,s,o){const a=this._inner,l=a.scheduleEventTask("NgZoneEvent: "+o,t,O7e,z2,z2);try{return a.runTask(l,i,s)}finally{a.cancelTask(l)}}runGuarded(t,i,s){return this._inner.runGuarded(t,i,s)}runOutsideAngular(t){return this._outer.run(t)}}const O7e={};function dA(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function pA(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&!0===n.callbackScheduled)}function rZ(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function iZ(n){n._nesting--,dA(n)}class fA{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new da;onMicrotaskEmpty=new da;onStable=new da;onError=new da;run(t,i,s){return t.apply(i,s)}runGuarded(t,i,s){return t.apply(i,s)}runOutsideAngular(t){return t()}runTask(t,i,s,o){return t.apply(i,s)}}function sZ(n,t){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0]?.data?.[t]}class _d{_console=console;handleError(t){this._console.error("ERROR",t)}}const A7e=new Yt("",{providedIn:"root",factory:()=>{const n=Gt(ni),t=Gt(_d);return i=>n.runOutsideAngular(()=>t.handleError(i))}});function I7e(){return Py(yr(),Xe())}function Py(n,t){return new ku(Ha(n,t))}let ku=(()=>class n{nativeElement;constructor(i){this.nativeElement=i}static __NG_ELEMENT_ID__=I7e})();function aZ(n){return n instanceof ku?n.nativeElement:n}function Mu(n,t){const i=function aa(n){const t=Object.create(la);t.value=n;const i=()=>(Yr(t),t.value);return i[He]=t,i}(n),s=i[He];return t?.equal&&(s.equal=t.equal),i.set=o=>Ns(s,o),i.update=o=>function _o(n,t){Wr()||Nr(n),Ns(n,t(n.value))}(s,o),i.asReadonly=gC.bind(i),i}function gC(){const n=this[He];if(void 0===n.readonlyFn){const t=()=>this();t[He]=n,n.readonlyFn=t}return n.readonlyFn}function cZ(n){return function lZ(n){return"function"==typeof n&&void 0!==n[He]}(n)&&"function"==typeof n.set}function R7e(){return this._results[Symbol.iterator]()}class N7e{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Cm}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,i){return this._results.reduce(t,i)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,i){this.dirty=!1;const s=function El(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function oMe(n,t,i){if(n.length!==t.length)return!1;for(let s=0;s<n.length;s++){let o=n[s],a=t[s];if(i&&(o=i(o),a=i(a)),a!==o)return!1}return!0}(this._results,s,i))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=R7e}function U2(n){return!(128&~n.flags)}var yC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(yC||{});const vC=new Map;let F7e=0;function mA(n){vC.delete(n[19])}const yA="__ngContext__";function xl(n,t){bs(t)?(n[yA]=t[19],function j7e(n){vC.set(n[19],n)}(t)):n[yA]=t}function vZ(n){return _Z(n[12])}function bZ(n){return _Z(n[4])}function _Z(n){for(;null!==n&&!co(n);)n=n[4];return n}let bA;const jm=new Yt("",{providedIn:"root",factory:()=>iAe}),iAe="ng",_A=new Yt(""),_C=new Yt("",{providedIn:"platform",factory:()=>"unknown"}),TZ=new Yt("",{providedIn:"root",factory:()=>function Ed(){if(void 0!==bA)return bA;if(typeof document<"u")return document;throw new xt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),MZ=new Yt("",{providedIn:"root",factory:()=>!1});var MA=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(MA||{});const ky=new Yt(""),NZ=new Set;function Jl(n){NZ.has(n)||(NZ.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}let AA=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=Zn({token:n,providedIn:"root",factory:()=>new n})}return n})();function uQ(n,t){const i=n.contentQueries;if(null!==i){const s=et(null);try{for(let o=0;o<i.length;o+=2){const l=i[o+1];if(-1!==l){const c=n.data[l];oC(i[o]),c.contentQueries(2,t[l],l)}}}finally{et(s)}}}function UA(n,t,i){oC(0);const s=et(null);try{t(n,i)}finally{et(s)}}function qA(n,t,i){if(N7(t)){const s=et(null);try{const a=t.directiveEnd;for(let l=t.directiveStart;l<a;l++){const c=n.data[l];c.contentQueries&&c.contentQueries(1,i[l],l)}}finally{et(s)}}}var Vc=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Vc||{});class mQ{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss)`}}function kIe(n,t,i){let s=n.length;for(;;){const o=n.indexOf(t,i);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const a=t.length;if(o+a===s||n.charCodeAt(o+a)<=32)return o}i=o+1}}const RQ="ng-template";function MIe(n,t,i,s){let o=0;if(s){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==kIe(t[o+1].toLowerCase(),i,0))return!0}else if(JA(n))return!1;if(o=t.indexOf(1,o),o>-1){let a;for(;++o<t.length&&"string"==typeof(a=t[o]);)if(a.toLowerCase()===i)return!0}return!1}function JA(n){return 4===n.type&&n.value!==RQ}function AIe(n,t,i){return t===(4!==n.type||i?n.value:RQ)}function IIe(n,t,i){let s=4;const o=n.attrs,a=null!==o?function LIe(n){for(let t=0;t<n.length;t++)if(IX(n[t]))return t;return n.length}(o):0;let l=!1;for(let c=0;c<t.length;c++){const u=t[c];if("number"!=typeof u){if(!l)if(4&s){if(s=2|1&s,""!==u&&!AIe(n,u,i)||""===u&&1===t.length){if(Au(s))return!1;l=!0}}else if(8&s){if(null===o||!MIe(n,o,u,i)){if(Au(s))return!1;l=!0}}else{const d=t[++c],p=RIe(u,o,JA(n),i);if(-1===p){if(Au(s))return!1;l=!0;continue}if(""!==d){let f;if(f=p>a?"":o[p+1].toLowerCase(),2&s&&d!==f){if(Au(s))return!1;l=!0}}}}else{if(!l&&!Au(s)&&!Au(u))return!1;if(l&&Au(u))continue;l=!1,s=u|1&s}}return Au(s)||l}function Au(n){return!(1&n)}function RIe(n,t,i,s){if(null===t)return-1;let o=0;if(s||!i){let a=!1;for(;o<t.length;){const l=t[o];if(l===n)return o;if(3===l||6===l)a=!0;else{if(1===l||2===l){let c=t[++o];for(;"string"==typeof c;)c=t[++o];continue}if(4===l)break;if(0===l){o+=4;continue}}o+=a?1:2}return-1}return function FIe(n,t){let i=n.indexOf(4);if(i>-1)for(i++;i<n.length;){const s=n[i];if("number"==typeof s)return-1;if(s===t)return i;i++}return-1}(t,n)}function NQ(n,t,i=!1){for(let s=0;s<t.length;s++)if(IIe(n,t[s],i))return!0;return!1}function LQ(n,t){return n?":not("+t.trim()+")":t}function jIe(n){let t=n[0],i=1,s=2,o="",a=!1;for(;i<n.length;){let l=n[i];if("string"==typeof l)if(2&s){const c=n[++i];o+="["+l+(c.length>0?'="'+c+'"':"")+"]"}else 8&s?o+="."+l:4&s&&(o+=" "+l);else""!==o&&!Au(l)&&(t+=LQ(a,o),o=""),s=l,a=a||!Au(s);i++}return""!==o&&(t+=LQ(a,o)),t}const Jn={};function jC(n,t,i){return n.createElement(t,i)}function zm(n,t,i,s,o){n.insertBefore(t,i,s,o)}function BQ(n,t,i){n.appendChild(t,i)}function jQ(n,t,i,s,o){null!==s?zm(n,t,i,s,o):BQ(n,t,i)}function $Q(n,t,i){const{mergedAttrs:s,classes:o,styles:a}=i;null!==s&&function i7e(n,t,i){let s=0;for(;s<i.length;){const o=i[s];if("number"==typeof o){if(0!==o)break;s++;const a=i[s++],l=i[s++],c=i[s++];n.setAttribute(t,l,c,a)}else{const a=o,l=i[++s];RX(a)?n.setProperty(t,a,l):n.setAttribute(t,a,l),s++}}}(n,t,s),null!==o&&function HIe(n,t,i){""===i?n.removeAttribute(t,"class"):n.setAttribute(t,"class",i)}(n,t,o),null!==a&&function zIe(n,t,i){n.setAttribute(t,"style",i)}(n,t,a)}function nI(n,t,i,s,o,a,l,c,u,d,p){const f=26+s,h=f+o,m=function UIe(n,t){const i=[];for(let s=0;s<t;s++)i.push(s<n?null:Jn);return i}(f,h),g="function"==typeof d?d():d;return m[1]={type:n,blueprint:m,template:i,queries:null,viewQuery:c,declTNode:t,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:u,consts:g,incompleteFirstPass:!1,ssrId:p}}function VC(n,t,i,s,o,a,l,c,u,d,p){const f=t.blueprint.slice();return f[0]=o,f[2]=1228|s,(null!==d||n&&2048&n[2])&&(f[2]|=2048),hX(f),f[3]=f[14]=n,f[8]=i,f[10]=l||n&&n[10],f[11]=c||n&&n[11],f[9]=u||n&&n[9]||null,f[5]=a,f[19]=function B7e(){return F7e++}(),f[6]=p,f[20]=d,f[15]=2==t.type?n[15]:f,f}function rI(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function a3(n,t,i,s){if(0===i)return-1;const o=t.length;for(let a=0;a<i;a++)t.push(s),n.blueprint.push(s),n.data.push(null);return o}function iI(n,t){return n[12]?n[13][4]=t:n[12]=t,n[13]=t,t}function qe(n=1){HQ(zn(),Xe(),Vo()+n,!1)}function HQ(n,t,i,s){if(!s)if(3&~t[2]){const a=n.preOrderHooks;null!==a&&lC(t,a,0,i)}else{const a=n.preOrderCheckHooks;null!==a&&aC(t,a,i)}Lm(i)}var $C=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}($C||{});function sI(n,t,i,s){const o=et(null);try{const[a,l,c]=n.inputs[i];let u=null;!!(l&$C.SignalBased)&&(u=t[a][He]),null!==u&&void 0!==u.transformFn?s=u.transformFn(s):null!==c&&(s=c.call(t,s)),null!==n.setInput?n.setInput(t,u,s,i,a):lX(t,u,a,s)}finally{et(o)}}function UQ(n,t,i,s,o){const a=Vo(),l=2&s;try{Lm(-1),l&&t.length>26&&HQ(n,t,26,!1),i(s,o)}finally{Lm(a)}}function zC(n,t,i){(function QIe(n,t,i){const s=i.directiveStart,o=i.directiveEnd;Pu(i)&&function qIe(n,t,i){const s=Ha(t,n),o=function zQ(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=nI(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}(i),a=n[10].rendererFactory,l=iI(n,VC(n,o,null,rI(i),s,t,null,a.createRenderer(s,i),null,null,null));n[t.index]=l}(t,i,n.data[s+i.componentOffset]),n.firstCreatePass||uC(i,t);const a=i.initialInputs;for(let l=s;l<o;l++){const c=n.data[l],u=V2(t,n,l,i);xl(u,t),null!==a&&tRe(0,l-s,u,c,0,a),Ql(c)&&(Ua(i.index,t)[8]=V2(t,n,l,i))}})(n,t,i),!(64&~i.flags)&&function JIe(n,t,i){const s=i.directiveStart,o=i.directiveEnd,a=i.index,l=function WMe(){return Wn.lFrame.currentDirectiveIndex}();try{Lm(a);for(let c=s;c<o;c++){const u=n.data[c],d=t[c];G7(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&eRe(u,d)}}finally{Lm(-1),G7(l)}}(n,t,i)}function oI(n,t,i=Ha){const s=t.localNames;if(null!==s){let o=t.index+1;for(let a=0;a<s.length;a+=2){const l=s[a+1],c=-1===l?i(t,n):n[l];n[o++]=c}}}let qQ=()=>null;function Cl(n,t,i,s,o,a,l,c){if(c||!cI(t,n,i,s,o)){if(3&t.type){const u=Ha(t,i);s=function XIe(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(s),o=null!=l?l(o,t.value||"",s):o,a.setProperty(u,s,o)}}else Pu(t)&&function ZIe(n,t){const i=Ua(t,n);16&i[2]||(i[2]|=64)}(i,t.index)}function eRe(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function aI(n,t){const i=n.directiveRegistry;let s=null;if(i)for(let o=0;o<i.length;o++){const a=i[o];NQ(t,a.selectors,!1)&&(s??=[],Ql(a)?s.unshift(a):s.push(a))}return s}function xd(n,t,i,s,o,a){const l=Ha(n,t);!function lI(n,t,i,s,o,a,l){if(null==a)n.removeAttribute(t,o,i);else{const c=null==l?Qn(a):l(a,s||"",o);n.setAttribute(t,o,c,i)}}(t[11],l,a,n.value,i,s,o)}function tRe(n,t,i,s,o,a){const l=a[t];if(null!==l)for(let c=0;c<l.length;c+=2)sI(s,i,l[c],l[c+1])}function HC(n,t){const i=n[9],s=i?i.get(_d,null):null;s&&s.handleError(t)}function cI(n,t,i,s,o){const a=n.inputs?.[s],l=n.hostDirectiveInputs?.[s];let c=!1;if(l)for(let u=0;u<l.length;u+=2){const d=l[u];sI(t.data[d],i[d],l[u+1],o),c=!0}if(a)for(const u of a)sI(t.data[u],i[u],s,o),c=!0;return c}function nRe(n,t){const i=Ua(t,n),s=i[1];!function rRe(n,t){for(let i=t.length;i<n.blueprint.length;i++)t.push(n.blueprint[i])}(s,i);const o=i[0];null!==o&&null===i[6]&&(i[6]=null),UC(s,i,i[8])}function UC(n,t,i){X7(t);try{const s=n.viewQuery;null!==s&&UA(1,s,i);const o=n.template;null!==o&&UQ(n,t,o,1,i),n.firstCreatePass&&(n.firstCreatePass=!1),t[18]?.finishViewCreation(n),n.staticContentQueries&&uQ(n,t),n.staticViewQueries&&UA(2,n.viewQuery,i);const a=n.components;null!==a&&function iRe(n,t){for(let i=0;i<t.length;i++)nRe(n,t[i])}(t,a)}catch(s){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),s}finally{t[2]&=-5,Z7()}}function zy(n,t,i,s){const o=et(null);try{const a=t.tView,u=VC(n,a,i,4096&n[2]?4096:16,null,t,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null);u[16]=n[t.index];const p=n[18];return null!==p&&(u[18]=p.createEmbeddedView(a)),UC(a,u,i),u}finally{et(o)}}function Hm(n,t){return!t||null===t.firstChild||U2(n)}function dI(n,t){return undefined(n,t)}var mh=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(mh||{});function gh(n){return!(32&~n.flags)}function Hy(n,t,i,s,o){if(null!=s){let a,l=!1;co(s)?a=s:bs(s)&&(l=!0,s=s[0]);const c=Br(s);0===n&&null!==i?null==o?BQ(t,i,c):zm(t,i,c,o||null,!0):1===n&&null!==i?zm(t,i,c,o||null,!0):2===n?function o3(n,t,i){n.removeChild(null,t,i)}(t,c,l):3===n&&t.destroyNode(c),null!=a&&function dRe(n,t,i,s,o){const a=i[7];a!==Br(i)&&Hy(t,n,s,a,o);for(let c=10;c<i.length;c++){const u=i[c];WC(u[1],u,n,t,s,a)}}(t,n,a,i,o)}}function YQ(n,t){t[10].changeDetectionScheduler?.notify(9),WC(n,t,t[11],2,null,null)}function pI(n,t){const i=n[9],s=i.indexOf(t);i.splice(s,1)}function l3(n,t){if(ch(t))return;const i=t[11];i.destroyNode&&WC(n,t,i,3,null,null),function aRe(n){let t=n[12];if(!t)return fI(n[1],n);for(;t;){let i=null;if(bs(t))i=t[12];else{const s=t[10];s&&(i=s)}if(!i){for(;t&&!t[4]&&t!==n;)bs(t)&&fI(t[1],t),t=t[3];null===t&&(t=n),bs(t)&&fI(t[1],t),i=t&&t[4]}t=i}}(t)}function fI(n,t){if(ch(t))return;const i=et(null);try{t[2]&=-129,t[2]|=256,t[24]&&$(t[24]),function cRe(n,t){let i;if(null!=n&&null!=(i=n.destroyHooks))for(let s=0;s<i.length;s+=2){const o=t[i[s]];if(!(o instanceof F2)){const a=i[s+1];if(Array.isArray(a))for(let l=0;l<a.length;l+=2){const c=o[a[l]],u=a[l+1];try{u.call(c)}finally{}}else try{a.call(o)}finally{}}}}(n,t),function lRe(n,t){const i=n.cleanup,s=t[7];if(null!==i)for(let l=0;l<i.length-1;l+=2)if("string"==typeof i[l]){const c=i[l+3];c>=0?s[c]():s[-c].unsubscribe(),l+=2}else i[l].call(s[i[l+1]]);null!==s&&(t[7]=null);const o=t[21];if(null!==o){t[21]=null;for(let l=0;l<o.length;l++)(0,o[l])()}const a=t[23];if(null!==a){t[23]=null;for(const l of a)l.destroy()}}(n,t),1===t[1].type&&t[11].destroy();const s=t[16];if(null!==s&&co(t[3])){s!==t[3]&&pI(s,t);const o=t[18];null!==o&&o.detachView(n)}mA(t)}finally{et(i)}}function hI(n,t,i){return function XQ(n,t,i){let s=t;for(;null!==s&&168&s.type;)s=(t=s).parent;if(null===s)return i[0];if(Pu(s)){const{encapsulation:o}=n.data[s.directiveStart+s.componentOffset];if(o===Vc.None||o===Vc.Emulated)return null}return Ha(s,i)}(n,t.parent,i)}let JQ=function QQ(n,t,i){return 40&n.type?Ha(n,i):null};function qC(n,t,i,s){const o=hI(n,s,t),a=t[11],c=function ZQ(n,t,i){return JQ(n,t,i)}(s.parent||t[5],s,t);if(null!=o)if(Array.isArray(i))for(let u=0;u<i.length;u++)jQ(a,o,i[u],c,!1);else jQ(a,o,i,c,!1)}function Um(n,t){if(null!==t){const i=t.type;if(3&i)return Ha(t,n);if(4&i)return gI(-1,n[t.index]);if(8&i){const s=t.child;if(null!==s)return Um(n,s);{const o=n[t.index];return co(o)?gI(-1,o):Br(o)}}if(128&i)return Um(n,t.next);if(32&i)return dI(t,n)()||Br(n[t.index]);{const s=tJ(n,t);return null!==s?Array.isArray(s)?s[0]:Um(Dp(n[15]),s):Um(n,t.next)}}return null}function tJ(n,t){return null!==t?n[15][5].projection[t.projection]:null}function gI(n,t){const i=10+n+1;if(i<t.length){const s=t[i],o=s[1].firstChild;if(null!==o)return Um(s,o)}return t[7]}function yI(n,t,i,s,o,a,l){for(;null!=i;){if(128===i.type){i=i.next;continue}const c=s[i.index],u=i.type;if(l&&0===t&&(c&&xl(Br(c),s),i.flags|=2),!gh(i))if(8&u)yI(n,t,i.child,s,o,a,!1),Hy(t,n,o,c,a);else if(32&u){const d=dI(i,s);let p;for(;p=d();)Hy(t,n,o,p,a);Hy(t,n,o,c,a)}else 16&u?nJ(n,t,s,i,o,a):Hy(t,n,o,c,a);i=l?i.projectionNext:i.next}}function WC(n,t,i,s,o,a){yI(i,s,n.firstChild,t,o,a,!1)}function nJ(n,t,i,s,o,a){const l=i[15],u=l[5].projection[s.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++)Hy(t,n,o,u[d],a);else{let d=u;const p=l[3];U2(s)&&(d.flags|=128),yI(n,t,d,p,o,a,!0)}}function Uy(n,t,i,s,o=!1){for(;null!==i;){if(128===i.type){i=o?i.projectionNext:i.next;continue}const a=t[i.index];null!==a&&s.push(Br(a)),co(a)&&vI(a,s);const l=i.type;if(8&l)Uy(n,t,i.child,s);else if(32&l){const c=dI(i,t);let u;for(;u=c();)s.push(u)}else if(16&l){const c=tJ(t,i);if(Array.isArray(c))s.push(...c);else{const u=Dp(t[15]);Uy(u[1],u,c,s,!0)}}i=o?i.projectionNext:i.next}return s}function vI(n,t){for(let i=10;i<n.length;i++){const s=n[i],o=s[1].firstChild;null!==o&&Uy(s[1],s,o,t)}n[7]!==n[0]&&t.push(n[7])}function rJ(n){if(null!==n[25]){for(const t of n[25])t.impl.addSequence(t);n[25].length=0}}let iJ=[];const gRe={...Xn,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Sy(n.lView)},consumerOnSignalRead(){this.lView[24]=this}},vRe={...Xn,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Dp(n.lView);for(;t&&!sJ(t[1]);)t=Dp(t);t&&j7(t)},consumerOnSignalRead(){this.lView[24]=this}};function sJ(n){return 2!==n.type}function oJ(n){if(null===n[23])return;let t=!0;for(;t;){let i=!1;for(const s of n[23])s.dirty&&(i=!0,null===s.zone||Zone.current===s.zone?s.run():s.zone.run(()=>s.run()));t=i&&!!(8192&n[2])}}function GC(n,t=!0,i=0){const o=n[10].rendererFactory;o.begin?.();try{!function _Re(n,t){const i=EX();try{sC(!0),bI(n,t);let s=0;for(;R2(n);){if(100===s)throw new xt(103,!1);s++,bI(n,1)}}finally{sC(i)}}(n,i)}catch(l){throw t&&HC(n,l),l}finally{o.end?.()}}function lJ(n,t,i,s){if(ch(t))return;const o=t[2];X7(t);let c=!0,u=null,d=null;sJ(n)?(d=function fRe(n){return n[24]??function hRe(n){const t=iJ.pop()??Object.create(gRe);return t.lView=n,t}(n)}(t),u=vi(d)):null===function Sn(){return V}()?(c=!1,d=function yRe(n){const t=n[24]??Object.create(vRe);return t.lView=n,t}(t),u=vi(d)):t[24]&&($(t[24]),t[24]=null);try{hX(t),function wX(n){return Wn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==i&&UQ(n,t,i,2,s);const p=!(3&~o);if(p){const m=n.preOrderCheckHooks;null!==m&&aC(t,m,null)}else{const m=n.preOrderHooks;null!==m&&lC(t,m,0,null),J7(t,0)}if(function ERe(n){for(let t=vZ(n);null!==t;t=bZ(t)){if(!(2&t[2]))continue;const i=t[9];for(let s=0;s<i.length;s++)j7(i[s])}}(t),oJ(t),cJ(t,0),null!==n.contentQueries&&uQ(n,t),p){const m=n.contentCheckHooks;null!==m&&aC(t,m)}else{const m=n.contentHooks;null!==m&&lC(t,m,1),J7(t,1)}!function xRe(n,t){const i=n.hostBindingOpCodes;if(null!==i)try{for(let s=0;s<i.length;s++){const o=i[s];if(o<0)Lm(~o);else{const a=o,l=i[++s],c=i[++s];qMe(l,a);const u=t[a];c(2,u)}}}finally{Lm(-1)}}(n,t);const f=n.components;null!==f&&dJ(t,f,0);const h=n.viewQuery;if(null!==h&&UA(2,h,s),p){const m=n.viewCheckHooks;null!==m&&aC(t,m)}else{const m=n.viewHooks;null!==m&&lC(t,m,2),J7(t,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[22]){for(const m of t[22])m();t[22]=null}rJ(t),t[2]&=-73}catch(p){throw Sy(t),p}finally{null!==d&&(S(d,u),c&&function mRe(n){n.lView[24]!==n&&(n.lView=null,iJ.push(n))}(d)),Z7()}}function cJ(n,t){for(let i=vZ(n);null!==i;i=bZ(i))for(let s=10;s<i.length;s++)uJ(i[s],t)}function wRe(n,t,i){const s=Ua(t,n);uJ(s,i)}function uJ(n,t){B7(n)&&bI(n,t)}function bI(n,t){const s=n[1],o=n[2],a=n[24];let l=!!(0===t&&16&o);if(l||=!!(64&o&&0===t),l||=!!(1024&o),l||=!(!a?.dirty||!U(a)),l||=!1,a&&(a.dirty=!1),n[2]&=-9217,l)lJ(s,n,s.template,n[8]);else if(8192&o){oJ(n),cJ(n,1);const c=s.components;null!==c&&dJ(n,c,1),rJ(n)}}function dJ(n,t,i){for(let s=0;s<t.length;s++)wRe(n,t[s],i)}function c3(n,t){const i=EX()?64:1088;for(n[10].changeDetectionScheduler?.notify(t);n;){n[2]|=i;const s=Dp(n);if(Pp(n)&&!s)return n;n=s}return null}function pJ(n,t,i,s){return[n,!0,0,t,null,s,null,i,null,null]}function fJ(n,t){const i=10+t;if(i<n.length)return n[i]}function qy(n,t,i,s=!0){const o=t[1];if(function CRe(n,t,i,s){const o=10+s,a=i.length;s>0&&(i[o-1][4]=t),s<a-10?(t[4]=i[o],qY(i,10+s,t)):(i.push(t),t[4]=null),t[3]=i;const l=t[16];null!==l&&i!==l&&hJ(l,t);const c=t[18];null!==c&&c.insertView(n),V7(t),t[2]|=128}(o,t,n,i),s){const l=gI(i,n),c=t[11],u=c.parentNode(n[7]);null!==u&&function oRe(n,t,i,s,o,a){s[0]=o,s[5]=t,WC(n,s,i,1,o,a)}(o,n[5],c,t,u,l)}const a=t[6];null!==a&&null!==a.firstChild&&(a.firstChild=null)}function _I(n,t){const i=u3(n,t);return void 0!==i&&l3(i[1],i),i}function u3(n,t){if(n.length<=10)return;const i=10+t,s=n[i];if(s){const o=s[16];null!==o&&o!==n&&pI(o,s),t>0&&(n[i-1][4]=s[4]);const a=q4(n,10+t);!function KQ(n,t){YQ(n,t),t[0]=null,t[5]=null}(s[1],s);const l=a[18];null!==l&&l.detachView(a[1]),s[3]=null,s[4]=null,s[2]&=-129}return s}function hJ(n,t){const i=n[9],s=t[3];(bs(s)||t[15]!==s[3][15])&&(n[2]|=2),null===i?n[9]=[t]:i.push(t)}let d3=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const t=this._lView,i=t[1];return Uy(i,t,i.firstChild,[])}constructor(t,i,s=!0){this._lView=t,this._cdRefInjectingView=i,this.notifyErrorHandler=s}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return ch(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(co(t)){const i=t[8],s=i?i.indexOf(this):-1;s>-1&&(u3(t,s),q4(i,s))}this._attachedToViewContainer=!1}l3(this._lView[1],this._lView)}onDestroy(t){rC(this._lView,t)}markForCheck(){c3(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){V7(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,GC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Pp(this._lView),i=this._lView[16];null!==i&&!t&&pI(i,this._lView),YQ(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new xt(902,!1);this._appRef=t;const i=Pp(this._lView),s=this._lView[16];null!==s&&!i&&hJ(s,this._lView),V7(this._lView)}},Fp=(()=>class n{static __NG_ELEMENT_ID__=TRe})();const SRe=Fp,ORe=class extends SRe{_declarationLView;_declarationTContainer;elementRef;constructor(t,i,s){super(),this._declarationLView=t,this._declarationTContainer=i,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,s){const o=zy(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:s});return new d3(o)}};function TRe(){return KC(yr(),Xe())}function KC(n,t){return 4&n.type?new ORe(t,n,Py(n,t)):null}function Wy(n,t,i,s,o){let a=n.data[t];if(null===a)a=function CI(n,t,i,s,o){const a=vX(),l=q7(),u=n.data[t]=function FRe(n,t,i,s,o,a){let l=t?t.injectorIndex:-1,c=0;return function Nm(){return null!==Wn.skipHydrationRootTNode}()&&(c|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:l,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:o,attrs:a,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?a:a&&a.parent,i,t,s,o);return function LRe(n,t,i,s){null===n.firstChild&&(n.firstChild=t),null!==i&&(s?null==i.child&&null!==t.parent&&(i.child=t):null===i.next&&(i.next=t,t.prev=i))}(n,u,a,l),u}(n,t,i,s,o),function UMe(){return Wn.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=i,a.value=s,a.attrs=o;const l=function N2(){const n=Wn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();a.injectorIndex=null===l?-1:l.injectorIndex}return Du(a,!0),a}let x9e=class{},FJ=class{};class C9e{resolveComponentFactory(t){throw Error(`No component factory found for ${ao(t)}.`)}}let t6=class{static NULL=new C9e};class AI{}let Wm=(()=>class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>function S9e(){const n=Xe(),i=Ua(yr().index,n);return(bs(i)?i:n)[11]}()})(),O9e=(()=>{class n{static \u0275prov=Zn({token:n,providedIn:"root",factory:()=>null})}return n})();function RI(n,t,i){let s=i?n.styles:null,o=i?n.classes:null,a=0;if(null!==t)for(let l=0;l<t.length;l++){const c=t[l];"number"==typeof c?a=c:1==a?o=u7(o,c):2==a&&(s=u7(s,c+": "+t[++l]+";"))}i?n.styles=s:n.stylesWithoutHost=s,i?n.classes=o:n.classesWithoutHost=o}function Tt(n,t=Dr.Default){const i=Xe();return null===i?tr(n,t):$X(yr(),i,qn(n),t)}function NI(n,t,i,s,o){const a=null===s?null:{"":-1},l=o(n,i);if(null!==l){let c,u=null,d=null;const p=function A9e(n){let t=null,i=!1;for(let l=0;l<n.length;l++){const c=n[l];if(0===l&&Ql(c)&&(t=c),null!==c.findHostDirectiveDefs){i=!0;break}}if(!i)return null;let s=null,o=null,a=null;for(const l of n)null!==l.findHostDirectiveDefs&&(s??=[],o??=new Map,a??=new Map,I9e(l,s,a,o)),l===t&&(s??=[],s.push(l));return null!==s?(s.push(...null===t?n:n.slice(1)),[s,o,a]):null}(l);null===p?c=l:[c,u,d]=p,function N9e(n,t,i,s,o,a,l){const c=s.length;let u=!1;for(let h=0;h<c;h++){const m=s[h];!u&&Ql(m)&&(u=!0,R9e(n,i,h)),oA(uC(i,t),n,m.type)}!function $9e(n,t,i){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+i,n.providerIndexes=t}(i,n.data.length,c);for(let h=0;h<c;h++){const m=s[h];m.providersResolver&&m.providersResolver(m)}let d=!1,p=!1,f=a3(n,t,c,null);c>0&&(i.directiveToIndex=new Map);for(let h=0;h<c;h++){const m=s[h];if(i.mergedAttrs=Ty(i.mergedAttrs,m.hostAttrs),F9e(n,i,t,f,m),V9e(f,m,o),null!==l&&l.has(m)){const[y,v]=l.get(m);i.directiveToIndex.set(m.type,[f,y+i.directiveStart,v+i.directiveStart])}else(null===a||!a.has(m))&&i.directiveToIndex.set(m.type,f);null!==m.contentQueries&&(i.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(i.flags|=64);const g=m.type.prototype;!d&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(i.index),d=!0),!p&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(i.index),p=!0),f++}!function L9e(n,t,i){for(let s=t.directiveStart;s<t.directiveEnd;s++){const o=n.data[s];if(null!==i&&i.has(o)){const a=i.get(o);VJ(0,t,a,s),VJ(1,t,a,s),zJ(t,s,!0)}else jJ(0,t,o,s),jJ(1,t,o,s),zJ(t,s,!1)}}(n,i,a)}(n,t,i,c,a,u,d)}null!==a&&null!==s&&function M9e(n,t,i){const s=n.localNames=[];for(let o=0;o<t.length;o+=2){const a=i[t[o+1]];if(null==a)throw new xt(-301,!1);s.push(t[o],a)}}(i,s,a)}function I9e(n,t,i,s){const o=t.length;n.findHostDirectiveDefs(n,t,s),i.set(n,[o,t.length-1])}function R9e(n,t,i){t.componentOffset=i,(n.components??=[]).push(t.index)}function jJ(n,t,i,s){const o=0===n?i.inputs:i.outputs;for(const a in o)if(o.hasOwnProperty(a)){let l;l=0===n?t.inputs??={}:t.outputs??={},l[a]??=[],l[a].push(s),$J(t,a)}}function VJ(n,t,i,s){const o=0===n?i.inputs:i.outputs;for(const a in o)if(o.hasOwnProperty(a)){const l=o[a];let c;c=0===n?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},c[l]??=[],c[l].push(s,a),$J(t,l)}}function $J(n,t){"class"===t?n.flags|=8:"style"===t&&(n.flags|=16)}function zJ(n,t,i){const{attrs:s,inputs:o,hostDirectiveInputs:a}=n;if(null===s||!i&&null===o||i&&null===a||JA(n))return n.initialInputs??=[],void n.initialInputs.push(null);let l=null,c=0;for(;c<s.length;){const u=s[c];if(0!==u)if(5!==u){if("number"==typeof u)break;if(!i&&o.hasOwnProperty(u)){const d=o[u];for(const p of d)if(p===t){l??=[],l.push(u,s[c+1]);break}}else if(i&&a.hasOwnProperty(u)){const d=a[u];for(let p=0;p<d.length;p+=2)if(d[p]===t){l??=[],l.push(d[p+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}n.initialInputs??=[],n.initialInputs.push(l)}function F9e(n,t,i,s,o){n.data[s]=o;const a=o.factory||(o.factory=Tm(o.type)),l=new F2(a,Ql(o),Tt);n.blueprint[s]=l,i[s]=l,function B9e(n,t,i,s,o){const a=o.hostBindings;if(a){let l=n.hostBindingOpCodes;null===l&&(l=n.hostBindingOpCodes=[]);const c=~t.index;(function j9e(n){let t=n.length;for(;t>0;){const i=n[--t];if("number"==typeof i&&i<0)return i}return 0})(l)!=c&&l.push(c),l.push(i,s,a)}}(n,t,s,a3(n,i,o.hostVars,Jn),o)}function V9e(n,t,i){if(i){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)i[t.exportAs[s]]=n;Ql(t)&&(i[""]=n)}}function HJ(n,t,i,s,o,a,l,c){const u=t.consts,p=Wy(t,n,2,s,Bc(u,l));return a&&NI(t,i,p,Bc(u,c),o),p.mergedAttrs=Ty(p.mergedAttrs,p.attrs),null!==p.attrs&&RI(p,p.attrs,!1),null!==p.mergedAttrs&&RI(p,p.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,p),p}function UJ(n,t){Q7(n,t),N7(t)&&n.queries.elementEnd(t)}class qJ extends t6{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const i=Er(t);return new E3(i,this.ngModule)}}class E3 extends FJ{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function z9e(n){return Object.keys(n).map(t=>{const[i,s,o]=n[t],a={propName:i,templateName:t,isSignal:!!(s&$C.SignalBased)};return o&&(a.transform=o),a})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function H9e(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,i){super(),this.componentDef=t,this.ngModule=i,this.componentType=t.type,this.selector=function VIe(n){return n.map(jIe).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!i}create(t,i,s,o){const a=et(null);try{const l=this.componentDef,c=s?["ng-version","19.2.2"]:function $Ie(n){const t=[],i=[];let s=1,o=2;for(;s<n.length;){let a=n[s];if("string"==typeof a)2===o?""!==a&&t.push(a,n[++s]):8===o&&i.push(a);else{if(!Au(o))break;o=a}s++}return i.length&&t.push(1,...i),t}(this.componentDef.selectors[0]),u=nI(0,null,null,1,0,null,null,null,null,[c],null),d=function U9e(n,t,i){let s=t instanceof Fc?t:t?.injector;return s&&null!==n.getStandaloneInjector&&(s=n.getStandaloneInjector(s)||s),s?new Fm(i,s):i}(l,o||this.ngModule,t),p=function q9e(n){const t=n.get(AI,null);if(null===t)throw new xt(407,!1);return{rendererFactory:t,sanitizer:n.get(O9e,null),changeDetectionScheduler:n.get(Ap,null)}}(d),f=p.rendererFactory.createRenderer(null,l),h=s?function WIe(n,t,i,s){const a=s.get(MZ,!1)||i===Vc.ShadowDom,l=n.selectRootElement(t,a);return function GIe(n){qQ(n)}(l),l}(f,s,l.encapsulation,d):function W9e(n,t){const i=(n.selectors[0][0]||"div").toLowerCase();return jC(t,i,"svg"===i?"svg":"math"===i?"math":null)}(l,f),m=VC(null,u,null,512|rI(l),null,null,p,f,d,null,null);m[26]=h,X7(m);let g=null;try{const y=HJ(26,u,m,"#host",()=>[this.componentDef],!0,0);h&&($Q(f,h,y),xl(h,m)),zC(u,m,y),qA(u,y,m),UJ(u,y),void 0!==i&&function K9e(n,t,i){const s=n.projection=[];for(let o=0;o<t.length;o++){const a=i[o];s.push(null!=a&&a.length?Array.from(a):null)}}(y,this.ngContentSelectors,i),g=Ua(y.index,m),m[8]=g[8],UC(u,m,null)}catch(y){throw null!==g&&mA(g),mA(m),y}finally{Z7()}return new G9e(this.componentType,m)}finally{et(a)}}}class G9e extends x9e{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,i){super(),this._rootLView=i,this._tNode=Im(i[1],26),this.location=Py(this._tNode,i),this.instance=Ua(this._tNode.index,i)[8],this.hostView=this.changeDetectorRef=new d3(i,void 0,!1),this.componentType=t}setInput(t,i){const s=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),i))return;const o=this._rootLView;cI(s,o[1],o,t,i),this.previousInputValues.set(t,i),c3(Ua(s.index,o),1)}get injector(){return new _s(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Cd=(()=>class n{static __NG_ELEMENT_ID__=Y9e})();function Y9e(){return KJ(yr(),Xe())}const X9e=Cd,WJ=class extends X9e{_lContainer;_hostTNode;_hostLView;constructor(t,i,s){super(),this._lContainer=t,this._hostTNode=i,this._hostLView=s}get element(){return Py(this._hostTNode,this._hostLView)}get injector(){return new _s(this._hostTNode,this._hostLView)}get parentInjector(){const t=dC(this._hostTNode,this._hostLView);if(rA(t)){const i=j2(t,this._hostLView),s=B2(t);return new _s(i[1].data[s+8],i)}return new _s(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const i=GJ(this._lContainer);return null!==i&&i[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,i,s){let o,a;"number"==typeof s?o=s:null!=s&&(o=s.index,a=s.injector);const c=t.createEmbeddedViewImpl(i||{},a,null);return this.insertImpl(c,o,Hm(this._hostTNode,null)),c}createComponent(t,i,s,o,a){const l=t&&!function A2(n){return"function"==typeof n}(t);let c;if(l)c=i;else{const g=i||{};c=g.index,s=g.injector,o=g.projectableNodes,a=g.environmentInjector||g.ngModuleRef}const u=l?t:new E3(Er(t)),d=s||this.parentInjector;if(!a&&null==u.ngModule){const y=(l?d:this.parentInjector).get(Fc,null);y&&(a=y)}Er(u.componentType??{});const m=u.create(d,o,null,a);return this.insertImpl(m.hostView,c,Hm(this._hostTNode,null)),m}insert(t,i){return this.insertImpl(t,i,!0)}insertImpl(t,i,s){const o=t._lView;if(function RMe(n){return co(n[3])}(o)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const u=o[3],d=new WJ(u,u[5],u[3]);d.detach(d.indexOf(t))}}const a=this._adjustIndex(i),l=this._lContainer;return qy(l,o,a,s),t.attachToViewContainerRef(),qY(LI(l),a,t),t}move(t,i){return this.insert(t,i)}indexOf(t){const i=GJ(this._lContainer);return null!==i?i.indexOf(t):-1}remove(t){const i=this._adjustIndex(t,-1),s=u3(this._lContainer,i);s&&(q4(LI(this._lContainer),i),l3(s[1],s))}detach(t){const i=this._adjustIndex(t,-1),s=u3(this._lContainer,i);return s&&null!=q4(LI(this._lContainer),i)?new d3(s):null}_adjustIndex(t,i=0){return t??this.length+i}};function GJ(n){return n[8]}function LI(n){return n[8]||(n[8]=[])}function KJ(n,t){let i;const s=t[n.index];return co(s)?i=s:(i=pJ(s,t,null,n),t[n.index]=i,iI(t,i)),YJ(i,t,n,s),new WJ(i,n,t)}let YJ=function ZJ(n,t,i,s){if(n[7])return;let o;o=8&i.type?Br(s):function Z9e(n,t){const i=n[11],s=i.createComment(""),o=Ha(t,n),a=i.parentNode(o);return zm(i,a,s,i.nextSibling(o),!1),s}(t,i),n[7]=o};class BI{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new BI(this.queryList)}setDirty(){this.queryList.setDirty()}}class jI{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const i=t.queries;if(null!==i){const s=null!==t.contentQueries?t.contentQueries[0]:i.length,o=[];for(let a=0;a<s;a++){const l=i.getByIndex(a);o.push(this.queries[l.indexInDeclarationView].clone())}return new jI(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let i=0;i<this.queries.length;i++)null!==UI(t,i).matches&&this.queries[i].setDirty()}}class QJ{flags;read;predicate;constructor(t,i,s=null){this.flags=i,this.read=s,this.predicate="string"==typeof t?function sNe(n){return n.split(",").map(t=>t.trim())}(t):t}}class VI{queries;constructor(t=[]){this.queries=t}elementStart(t,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(t,i)}elementEnd(t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(t)}embeddedTView(t){let i=null;for(let s=0;s<this.length;s++){const o=null!==i?i.length:0,a=this.getByIndex(s).embeddedTView(t,o);a&&(a.indexInDeclarationView=s,null!==i?i.push(a):i=[a])}return null!==i?new VI(i):null}template(t,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(t,i)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class $I{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,i=-1){this.metadata=t,this._declarationNodeIndex=i}elementStart(t,i){this.isApplyingToNode(i)&&this.matchTNode(t,i)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,i){this.elementStart(t,i)}embeddedTView(t,i){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,i),new $I(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let s=t.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(t,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let o=0;o<s.length;o++){const a=s[o];this.matchTNodeWithReadOption(t,i,tNe(i,a)),this.matchTNodeWithReadOption(t,i,pC(i,t,a,!1,!1))}else s===Fp?4&i.type&&this.matchTNodeWithReadOption(t,i,-1):this.matchTNodeWithReadOption(t,i,pC(i,t,s,!1,!1))}matchTNodeWithReadOption(t,i,s){if(null!==s){const o=this.metadata.read;if(null!==o)if(o===ku||o===Cd||o===Fp&&4&i.type)this.addMatch(i.index,-2);else{const a=pC(i,t,o,!1,!1);null!==a&&this.addMatch(i.index,a)}else this.addMatch(i.index,s)}}addMatch(t,i){null===this.matches?this.matches=[t,i]:this.matches.push(t,i)}}function tNe(n,t){const i=n.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===t)return i[s+1];return null}function rNe(n,t,i,s){return-1===i?function nNe(n,t){return 11&n.type?Py(n,t):4&n.type?KC(n,t):null}(t,n):-2===i?function iNe(n,t,i){return i===ku?Py(t,n):i===Fp?KC(t,n):i===Cd?KJ(t,n):void 0}(n,t,s):V2(n,n[1],i,t)}function JJ(n,t,i,s){const o=t[18].queries[s];if(null===o.matches){const a=n.data,l=i.matches,c=[];for(let u=0;null!==l&&u<l.length;u+=2){const d=l[u];c.push(d<0?null:rNe(t,a[d],l[u+1],i.metadata.read))}o.matches=c}return o.matches}function zI(n,t,i,s){const o=n.queries.getByIndex(i),a=o.matches;if(null!==a){const l=JJ(n,t,o,i);for(let c=0;c<a.length;c+=2){const u=a[c];if(u>0)s.push(l[c/2]);else{const d=a[c+1],p=t[-u];for(let f=10;f<p.length;f++){const h=p[f];h[16]===h[3]&&zI(h[1],h,d,s)}if(null!==p[9]){const f=p[9];for(let h=0;h<f.length;h++){const m=f[h];zI(m[1],m,d,s)}}}}}return s}function tee(n,t,i){const s=zn();return s.firstCreatePass&&(function ree(n,t,i){null===n.queries&&(n.queries=new VI),n.queries.track(new $I(t,i))}(s,new QJ(n,t,i),-1),!(2&~t)&&(s.staticViewQueries=!0)),function eee(n,t,i){const s=new N7e(!(4&~i));return function NMe(n,t,i,s){const o=gX(t);o.push(i),n.firstCreatePass&&yX(n).push(s,o.length-1)}(n,t,s,s.destroy),(t[18]??=new jI).queries.push(new BI(s))-1}(s,Xe(),t)}function UI(n,t){return n.queries.getByIndex(t)}function iee(n,t){const i=n[1],s=UI(i,t);return s.crossesNgTemplate?zI(i,n,t,[]):JJ(i,n,s,t)}let Gm=class{},gNe=class{};class GI extends Gm{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new qJ(this);constructor(t,i,s,o=!0){super(),this.ngModuleType=t,this._parent=i;const a=function Yl(n,t){const i=n[FY]||null;if(!i&&!0===t)throw new Error(`Type ${ao(n)} does not have '\u0275mod' property.`);return i}(t);this._bootstrapComponents=function wd(n){return n instanceof Function?n():n}(a.bootstrap),this._r3Injector=ZX(t,i,[{provide:Gm,useValue:this},{provide:t6,useValue:this.componentFactoryResolver},...s],ao(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class KI extends gNe{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new GI(this.moduleType,t,[])}}class mee extends Gm{injector;componentFactoryResolver=new qJ(this);instance=null;constructor(t){super();const i=new Dm([...t.providers,{provide:Gm,useValue:this},{provide:t6,useValue:this.componentFactoryResolver}],t.parent||X4(),t.debugName,new Set(["environment"]));this.injector=i,t.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}let bNe=(()=>{class n{_injector;cachedInjectors=new Map;constructor(i){this._injector=i}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const s=S7(0,i.type),o=s.length>0?function gee(n,t,i=null){return new mee({providers:n,parent:t,debugName:i,runEnvironmentInitializers:!0}).injector}([s],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Zn({token:n,providedIn:"environment",factory:()=>new n(tr(Fc))})}return n})();function Ga(n){return Sp(()=>{const t=yee(n),i={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===yC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(bNe).getOrCreateStandaloneInjector(i):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Vc.Emulated,styles:n.styles||Gr,_:null,schemas:n.schemas||null,tView:null,id:""};t.standalone&&Jl("NgStandalone"),vee(i);const s=n.dependencies;return i.directiveDefs=r6(s,!1),i.pipeDefs=r6(s,!0),i.id=function SNe(n){let t=0;const s=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,"function"==typeof n.consts?"":n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(const a of s.join("|"))t=Math.imul(31,t)+a.charCodeAt(0)|0;return t+=2147483648,"c"+t}(i),i})}function _Ne(n){return Er(n)||function jo(n){return n[m7]||null}(n)}function ENe(n){return null!==n}function Km(n){return Sp(()=>({type:n.type,bootstrap:n.bootstrap||Gr,declarations:n.declarations||Gr,imports:n.imports||Gr,exports:n.exports||Gr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function wNe(n,t){if(null==n)return Su;const i={};for(const s in n)if(n.hasOwnProperty(s)){const o=n[s];let a,l,c,u;Array.isArray(o)?(c=o[0],a=o[1],l=o[2]??a,u=o[3]||null):(a=o,l=o,c=$C.None,u=null),i[a]=[s,c,u],t[a]=l}return i}function xNe(n){if(null==n)return Su;const t={};for(const i in n)n.hasOwnProperty(i)&&(t[n[i]]=i);return t}function nr(n){return Sp(()=>{const t=yee(n);return vee(t),t})}function Sl(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function yee(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||Su,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:!0===n.signals,selectors:n.selectors||Gr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wNe(n.inputs,t),outputs:xNe(n.outputs),debugInfo:null}}function vee(n){n.features?.forEach(t=>t(n))}function r6(n,t){if(!n)return null;const i=t?Xl:_Ne;return()=>("function"==typeof n?n():n).map(s=>i(s)).filter(ENe)}function ui(n){let t=function bee(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),i=!0;const s=[n];for(;t;){let o;if(Ql(n))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new xt(903,!1);o=t.\u0275dir}if(o){if(i){s.push(o);const l=n;l.inputs=YI(n.inputs),l.declaredInputs=YI(n.declaredInputs),l.outputs=YI(n.outputs);const c=o.hostBindings;c&&kNe(n,c);const u=o.viewQuery,d=o.contentQueries;if(u&&PNe(n,u),d&&DNe(n,d),ONe(n,o),Vke(n.outputs,o.outputs),Ql(o)&&o.data.animation){const p=n.data;p.animation=(p.animation||[]).concat(o.data.animation)}}const a=o.features;if(a)for(let l=0;l<a.length;l++){const c=a[l];c&&c.ngInherit&&c(n),c===ui&&(i=!1)}}t=Object.getPrototypeOf(t)}!function TNe(n){let t=0,i=null;for(let s=n.length-1;s>=0;s--){const o=n[s];o.hostVars=t+=o.hostVars,o.hostAttrs=Ty(o.hostAttrs,i=Ty(i,o.hostAttrs))}}(s)}function ONe(n,t){for(const i in t.inputs){if(!t.inputs.hasOwnProperty(i)||n.inputs.hasOwnProperty(i))continue;const s=t.inputs[i];void 0!==s&&(n.inputs[i]=s,n.declaredInputs[i]=t.declaredInputs[i])}}function YI(n){return n===Su?{}:n===Gr?[]:n}function PNe(n,t){const i=n.viewQuery;n.viewQuery=i?(s,o)=>{t(s,o),i(s,o)}:t}function DNe(n,t){const i=n.contentQueries;n.contentQueries=i?(s,o,a)=>{t(s,o,a),i(s,o,a)}:t}function kNe(n,t){const i=n.hostBindings;n.hostBindings=i?(s,o)=>{t(s,o),i(s,o)}:t}function i6(n){return!!ZI(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function ZI(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Es(n,t,i){return!Object.is(n[t],i)&&(n[t]=i,!0)}function Ym(n,t,i,s){const o=Es(n,t,i);return Es(n,t+1,s)||o}function $c(n,t,i,s,o,a){const l=Ym(n,t,i,s);return Ym(n,t+2,o,a)||l}function C3(n,t,i,s,o,a,l,c,u,d){const p=i+26,f=t.firstCreatePass?function jNe(n,t,i,s,o,a,l,c,u){const d=t.consts,p=Wy(t,n,4,l||null,c||null);U7()&&NI(t,i,p,Bc(d,u),aI),p.mergedAttrs=Ty(p.mergedAttrs,p.attrs),Q7(t,p);const f=p.tView=nI(2,p,s,o,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d,null);return null!==t.queries&&(t.queries.template(t,p),f.queries=t.queries.embeddedTView(p)),p}(p,t,n,s,o,a,l,c,u):t.data[p];Du(f,!1);const h=Cee(t,n,f,i);L2()&&qC(t,n,h,f),xl(h,n);const m=pJ(h,n,h,f);return n[p]=m,iI(n,m),tC(f)&&zC(t,n,f),null!=u&&oI(n,f,d),f}function Pn(n,t,i,s,o,a,l,c){const u=Xe(),d=zn();return C3(u,d,n,t,i,s,o,Bc(d.consts,a),l,c),Pn}let Cee=function See(n,t,i,s){return vd(!0),t[11].createComment("")};const Bee=new Yt(""),c6=new Yt("");let sR,rR=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(i,s,o){this._ngZone=i,this.registry=s,sR||(function BLe(n){sR=n}(o),o.addToWindow(s)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ni.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,o){let a=-1;s&&s>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==a),i()},s)),this._callbacks.push({doneCb:i,timeoutId:a,updateCb:o})}whenStable(i,s,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,o),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,s,o){return[]}static \u0275fac=function(s){return new(s||n)(tr(ni),tr(iR),tr(c6))};static \u0275prov=Zn({token:n,factory:n.\u0275fac})}return n})(),iR=(()=>{class n{_applications=new Map;registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return sR?.findTestabilityInTree(this,i,s)??null}static \u0275fac=function(s){return new(s||n)};static \u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),oR=(()=>{class n{static \u0275prov=Zn({token:n,providedIn:"root",factory:()=>new jLe})}return n})();class jLe{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){const s=this.queues.get(t.zone);s.has(t)&&(s.delete(t),this.queuedEffectCount--)}enqueue(t){const i=t.zone;this.queues.has(i)||this.queues.set(i,new Set);const s=this.queues.get(i);s.has(t)||(this.queuedEffectCount++,s.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,i]of this.queues)null===t?this.flushQueue(i):t.run(()=>this.flushQueue(i))}flushQueue(t){for(const i of t)t.delete(i),this.queuedEffectCount--,i.run()}}function u6(n){return!!n&&"function"==typeof n.then}function jee(n){return!!n&&"function"==typeof n.subscribe}const Vee=new Yt("");let $ee=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s});appInits=Gt(Vee,{optional:!0})??[];injector=Gt($o);constructor(){}runInitializers(){if(this.initialized)return;const i=[];for(const o of this.appInits){const a=A7(this.injector,o);if(u6(a))i.push(a);else if(jee(a)){const l=new Promise((c,u)=>{a.subscribe({complete:c,error:u})});i.push(l)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{s()}).catch(o=>{this.reject(o)}),0===i.length&&s(),this.initialized=!0}static \u0275fac=function(s){return new(s||n)};static \u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const d6=new Yt("");function Hee(n,t){return Array.isArray(t)?t.reduce(Hee,n):{...n,...t}}let zc=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Gt(A7e);afterRenderManager=Gt(AA);zonelessEnabled=Gt($2);rootEffectScheduler=Gt(oR);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Cm;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Gt(Ip).hasPendingTasks.pipe(Cp(i=>!i));constructor(){Gt(ky,{optional:!0})}whenStable(){let i;return new Promise(s=>{i=this.isStable.subscribe({next:o=>{o&&s()}})}).finally(()=>{i.unsubscribe()})}_injector=Gt(Fc);_rendererFactory=null;get injector(){return this._injector}bootstrap(i,s){const o=i instanceof FJ;if(!this._injector.get($ee).done)throw new xt(405,"");let l;l=o?i:this._injector.get(t6).resolveComponentFactory(i),this.componentTypes.push(l.componentType);const c=function VLe(n){return n.isBoundToModule}(l)?void 0:this._injector.get(Gm),d=l.create($o.NULL,[],s||l.selector,c),p=d.location.nativeElement,f=d.injector.get(Bee,null);return f?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),p6(this.components,d),f?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){null!==this.tracingSnapshot?this.tracingSnapshot.run(MA.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new xt(101,!1);const i=et(null);try{this._runningTick=!0,this.synchronize()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,et(i),this.afterTick.next()}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(AI,null,{optional:!0}));let i=0;for(;0!==this.dirtyFlags&&i++<10;)this.synchronizeOnce()}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const i=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:s,notifyErrorHandler:o}of this.allViews)zLe(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:i})=>R2(i))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;p6(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(d6,[]).forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>p6(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new xt(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(s){return new(s||n)};static \u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function p6(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}function zLe(n,t,i,s){(i||R2(n))&&GC(n,t,i&&!s?0:1)}function Bp(n,t,i,s){const o=Xe();return Es(o,jc(),t)&&(zn(),xd(bi(),o,n,t,i,s)),Bp}function ev(n,t,i,s){return Es(n,jc(),i)?t+Qn(i)+s:Jn}function nv(n,t,i,s,o,a,l,c){const d=function s6(n,t,i,s,o){const a=Ym(n,t,i,s);return Es(n,t+2,o)||a}(n,kp(),i,o,l);return Mp(3),d?t+Qn(i)+s+Qn(o)+a+Qn(l)+c:Jn}function f6(n,t){return n<<17|t<<2}function Zm(n){return n>>17&32767}function dR(n){return 2|n}function lv(n){return(131068&n)>>2}function pR(n,t){return-131069&n|t<<2}function fR(n){return 1|n}function ote(n,t,i,s){const o=n[i+1],a=null===t;let l=s?Zm(o):lv(o),c=!1;for(;0!==l&&(!1===c||a);){const d=n[l+1];PFe(n[l],t)&&(c=!0,n[l+1]=s?fR(d):dR(d)),l=s?Zm(d):lv(d)}c&&(n[i+1]=s?dR(o):fR(o))}function PFe(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&k2(n,t)>=0}function En(n,t,i){const s=Xe();return Es(s,jc(),t)&&Cl(zn(),bi(),s,n,t,s[11],i,!1),En}function hR(n,t,i,s,o){cI(t,n,i,o?"class":"style",s)}function h6(n,t){return function Iu(n,t,i,s){const o=Xe(),a=zn(),l=Mp(2);a.firstUpdatePass&&function mte(n,t,i,s){const o=n.data;if(null===o[i+1]){const a=o[Vo()],l=function hte(n,t){return t>=n.expandoStartIndex}(n,i);(function bte(n,t){return!!(n.flags&(t?8:16))})(a,s)&&null===t&&!l&&(t=!1),t=function FFe(n,t,i,s){const o=function K7(n){const t=Wn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let a=s?t.residualClasses:t.residualStyles;if(null===o)0===(s?t.classBindings:t.styleBindings)&&(i=T3(i=mR(null,n,t,i,s),t.attrs,s),a=null);else{const l=t.directiveStylingLast;if(-1===l||n[l]!==o)if(i=mR(o,n,t,i,s),null===a){let u=function BFe(n,t,i){const s=i?t.classBindings:t.styleBindings;if(0!==lv(s))return n[Zm(s)]}(n,t,s);void 0!==u&&Array.isArray(u)&&(u=mR(null,n,t,u[1],s),u=T3(u,t.attrs,s),function jFe(n,t,i,s){n[Zm(i?t.classBindings:t.styleBindings)]=s}(n,t,s,u))}else a=function VFe(n,t,i){let s;const o=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<o;a++)s=T3(s,n[a].hostAttrs,i);return T3(s,t.attrs,i)}(n,t,s)}return void 0!==a&&(s?t.residualClasses=a:t.residualStyles=a),i}(o,a,t,s),function OFe(n,t,i,s,o,a){let l=a?t.classBindings:t.styleBindings,c=Zm(l),u=lv(l);n[s]=i;let p,d=!1;if(Array.isArray(i)?(p=i[1],(null===p||k2(i,p)>0)&&(d=!0)):p=i,o)if(0!==u){const h=Zm(n[c+1]);n[s+1]=f6(h,c),0!==h&&(n[h+1]=pR(n[h+1],s)),n[c+1]=function CFe(n,t){return 131071&n|t<<17}(n[c+1],s)}else n[s+1]=f6(c,0),0!==c&&(n[c+1]=pR(n[c+1],s)),c=s;else n[s+1]=f6(u,0),0===c?c=s:n[u+1]=pR(n[u+1],s),u=s;d&&(n[s+1]=dR(n[s+1])),ote(n,p,s,!0),ote(n,p,s,!1),function TFe(n,t,i,s,o){const a=o?n.residualClasses:n.residualStyles;null!=a&&"string"==typeof t&&k2(a,t)>=0&&(i[s+1]=fR(i[s+1]))}(t,p,n,s,a),l=f6(c,u),a?t.classBindings=l:t.styleBindings=l}(o,a,t,i,l,s)}}(a,n,l,s),t!==Jn&&Es(o,l,t)&&function yte(n,t,i,s,o,a,l,c){if(!(3&t.type))return;const u=n.data,d=u[c+1],p=function SFe(n){return!(1&~n)}(d)?vte(u,t,i,o,lv(d),l):void 0;m6(p)||(m6(a)||function xFe(n){return!(2&~n)}(d)&&(a=vte(u,null,i,o,c,l)),function pRe(n,t,i,s,o){if(t)o?n.addClass(i,s):n.removeClass(i,s);else{let a=-1===s.indexOf("-")?void 0:mh.DashCase;null==o?n.removeStyle(i,s,a):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),a|=mh.Important),n.setStyle(i,s,o,a))}}(s,l,Cy(Vo(),i),o,a))}(a,a.data[Vo()],o,o[11],n,o[l+1]=function UFe(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=ao(function hh(n){return n instanceof mQ?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(t,i),s,l)}(n,t,null,!0),h6}function mR(n,t,i,s,o){let a=null;const l=i.directiveEnd;let c=i.directiveStylingLast;for(-1===c?c=i.directiveStart:c++;c<l&&(a=t[c],s=T3(s,a.hostAttrs,o),a!==n);)c++;return null!==n&&(i.directiveStylingLast=c),s}function T3(n,t,i){const s=i?1:2;let o=-1;if(null!==t)for(let a=0;a<t.length;a++){const l=t[a];"number"==typeof l?o=l:o===s&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Kl(n,l,!!i||t[++a]))}return void 0===n?null:n}function vte(n,t,i,s,o,a){const l=null===t;let c;for(;o>0;){const u=n[o],d=Array.isArray(u),p=d?u[1]:u,f=null===p;let h=i[o+1];h===Jn&&(h=f?Gr:void 0);let m=f?x7(h,s):p===s?h:void 0;if(d&&!m6(m)&&(m=x7(u,s)),m6(m)&&(c=m,l))return c;const g=n[o+1];o=l?Zm(g):lv(g)}if(null!==t){let u=a?t.residualClasses:t.residualStyles;null!=u&&(c=x7(u,s))}return c}function m6(n){return void 0!==n}class tBe{destroy(t){}updateValue(t,i){}swap(t,i){const s=Math.min(t,i),o=Math.max(t,i),a=this.detach(o);if(o-s>1){const l=this.detach(s);this.attach(s,a),this.attach(o,l)}else this.attach(s,a)}move(t,i){this.attach(i,this.detach(t))}}function gR(n,t,i,s,o){return n===i&&Object.is(t,s)?1:Object.is(o(n,t),o(i,s))?-1:0}function yR(n,t,i,s){return!(void 0===t||!t.has(s)||(n.attach(i,t.get(s)),t.delete(s),0))}function _te(n,t,i,s,o){if(yR(n,t,s,i(s,o)))n.updateValue(s,o);else{const a=n.create(s,o);n.attach(s,a)}}function Ete(n,t,i,s){const o=new Set;for(let a=t;a<=i;a++)o.add(s(a,n.at(a)));return o}class wte{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const i=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(i)?(this.kvMap.set(t,this._vMap.get(i)),this._vMap.delete(i)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,i){if(this.kvMap.has(t)){let s=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const o=this._vMap;for(;o.has(s);)s=o.get(s);o.set(s,i)}else this.kvMap.set(t,i)}forEach(t){for(let[i,s]of this.kvMap)if(t(s,i),void 0!==this._vMap){const o=this._vMap;for(;o.has(s);)s=o.get(s),t(s,i)}}}function Zr(n,t){Jl("NgControlFlow");const i=Xe(),s=jc(),o=i[s]!==Jn?i[s]:-1,a=-1!==o?g6(i,26+o):void 0;if(Es(i,s,n)){const c=et(null);try{if(void 0!==a&&_I(a,0),-1!==n){const u=26+n,d=g6(i,u),p=ER(i[1],u),f=null;qy(d,zy(i,p,t,{dehydratedView:f}),0,Hm(p,f))}}finally{et(c)}}else if(void 0!==a){const c=fJ(a,0);void 0!==c&&(c[8]=t)}}class rBe{lContainer;$implicit;$index;constructor(t,i,s){this.lContainer=t,this.$implicit=i,this.$index=s}get $count(){return this.lContainer.length-10}}function vR(n,t){return t}class sBe{hasEmptyBlock;trackByFn;liveCollection;constructor(t,i,s){this.hasEmptyBlock=t,this.trackByFn=i,this.liveCollection=s}}function bR(n,t,i,s,o,a,l,c,u,d,p,f,h){Jl("NgControlFlow");const m=Xe(),g=zn(),y=void 0!==u,v=Xe(),_=c?l.bind(v[15][8]):l,E=new sBe(y,_);v[26+n]=E,C3(m,g,n+1,t,i,s,o,Bc(g.consts,a)),y&&C3(m,g,n+2,u,d,p,f,Bc(g.consts,h))}class oBe extends tBe{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,i,s){super(),this.lContainer=t,this.hostLView=i,this.templateTNode=s}get length(){return this.lContainer.length-10}at(t){return this.getLView(t)[8].$implicit}attach(t,i){const s=i[6];this.needsIndexUpdate||=t!==this.length,qy(this.lContainer,i,t,Hm(this.templateTNode,s))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function aBe(n,t){return u3(n,t)}(this.lContainer,t)}create(t,i){const o=zy(this.hostLView,this.templateTNode,new rBe(this.lContainer,i,t),{dehydratedView:null});return this.operationsCounter?.recordCreate(),o}destroy(t){l3(t[1],t),this.operationsCounter?.recordDestroy()}updateValue(t,i){this.getLView(t)[8].$implicit=i}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[8].$index=t}getLView(t){return function lBe(n,t){return fJ(n,t)}(this.lContainer,t)}}function _R(n){const t=et(null),i=Vo();try{const s=Xe(),o=s[1],a=s[i],l=i+1,c=g6(s,l);if(void 0===a.liveCollection){const d=ER(o,l);a.liveCollection=new oBe(c,s,d)}else a.liveCollection.reset();const u=a.liveCollection;if(function nBe(n,t,i){let s,o,a=0,l=n.length-1;if(Array.isArray(t)){let u=t.length-1;for(;a<=l&&a<=u;){const d=n.at(a),p=t[a],f=gR(a,d,a,p,i);if(0!==f){f<0&&n.updateValue(a,p),a++;continue}const h=n.at(l),m=t[u],g=gR(l,h,u,m,i);if(0!==g){g<0&&n.updateValue(l,m),l--,u--;continue}const y=i(a,d),v=i(l,h),_=i(a,p);if(Object.is(_,v)){const E=i(u,m);Object.is(E,y)?(n.swap(a,l),n.updateValue(l,m),u--,l--):n.move(l,a),n.updateValue(a,p),a++}else if(s??=new wte,o??=Ete(n,a,l,i),yR(n,s,a,_))n.updateValue(a,p),a++,l++;else if(o.has(_))s.set(y,n.detach(a)),l--;else{const E=n.create(a,t[a]);n.attach(a,E),a++,l++}}for(;a<=u;)_te(n,s,i,a,t[a]),a++}else if(null!=t){const u=t[Symbol.iterator]();let d=u.next();for(;!d.done&&a<=l;){const p=n.at(a),f=d.value,h=gR(a,p,a,f,i);if(0!==h)h<0&&n.updateValue(a,f),a++,d=u.next();else{s??=new wte,o??=Ete(n,a,l,i);const m=i(a,f);if(yR(n,s,a,m))n.updateValue(a,f),a++,l++,d=u.next();else if(o.has(m)){const g=i(a,p);s.set(g,n.detach(a)),l--}else n.attach(a,n.create(a,f)),a++,l++,d=u.next()}}for(;!d.done;)_te(n,s,i,n.length,d.value),d=u.next()}for(;a<=l;)n.destroy(n.detach(l--));s?.forEach(u=>{n.destroy(u)})}(u,n,a.trackByFn),u.updateIndexes(),a.hasEmptyBlock){const d=jc(),p=0===u.length;if(Es(s,d,p)){const f=i+2,h=g6(s,f);if(p){const m=ER(o,f),g=null;qy(h,zy(s,m,void 0,{dehydratedView:g}),0,Hm(m,g))}else _I(h,0)}}}finally{et(t)}}function g6(n,t){return n[t]}function ER(n,t){return Im(n,t)}function ne(n,t,i,s){const o=Xe(),a=zn(),l=26+n,c=o[11],u=a.firstCreatePass?HJ(l,a,o,t,aI,U7(),i,s):a.data[l],d=xte(a,o,u,c,t,n);o[l]=d;const p=tC(u);return Du(u,!0),$Q(c,d,u),!gh(u)&&L2()&&qC(a,o,d,u),(0===function LMe(){return Wn.lFrame.elementDepthCount}()||p)&&xl(d,o),function FMe(){Wn.lFrame.elementDepthCount++}(),p&&(zC(a,o,u),qA(a,u,o)),null!==s&&oI(o,u),ne}function ie(){let n=yr();q7()?function W7(){Wn.lFrame.isParent=!1}():(n=n.parent,Du(n,!1));const t=n;(function jMe(n){return Wn.skipHydrationRootTNode===n})(t)&&function HMe(){Wn.skipHydrationRootTNode=null}(),function BMe(){Wn.lFrame.elementDepthCount--}();const i=zn();return i.firstCreatePass&&UJ(i,t),null!=t.classesWithoutHost&&function n7e(n){return!!(8&n.flags)}(t)&&hR(i,t,Xe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function r7e(n){return!!(16&n.flags)}(t)&&hR(i,t,Xe(),t.stylesWithoutHost,!1),ie}function qt(n,t,i,s){return ne(n,t,i,s),ie(),qt}let xte=(n,t,i,s,o,a)=>(vd(!0),jC(s,o,function DX(){return Wn.lFrame.currentNamespace}()));function wn(){return Xe()}const y6="en-US";let kte=y6;function Mt(n,t,i,s){const o=Xe(),a=zn(),l=yr();return OR(a,o,o[11],l,n,t,s),Mt}function OR(n,t,i,s,o,a,l){const c=tC(s),d=n.firstCreatePass?yX(n):null,p=t[8],f=gX(t);let h=!0;if(3&s.type||l){const m=Ha(s,t),g=l?l(m):m,y=f.length,v=l?E=>l(Br(E[s.index])):s.index;let _=null;if(!l&&c&&(_=function ije(n,t,i,s){const o=n.cleanup;if(null!=o)for(let a=0;a<o.length-1;a+=2){const l=o[a];if(l===i&&o[a+1]===s){const c=t[7],u=o[a+2];return c.length>u?c[u]:null}"string"==typeof l&&(a+=2)}return null}(n,t,o,s.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=a,_.__ngLastListenerFn__=a,h=!1;else{a=Jte(s,t,p,a);const E=i.listen(g,o,a);f.push(a,E),d&&d.push(o,v,y,y+1)}}else a=Jte(s,t,p,a);if(h){const m=s.outputs?.[o],g=s.hostDirectiveOutputs?.[o];if(g&&g.length)for(let y=0;y<g.length;y+=2)Zte(s,n,t,g[y],g[y+1],o,a,f,d);if(m&&m.length)for(const y of m)Zte(s,n,t,y,o,o,a,f,d)}}function Zte(n,t,i,s,o,a,l,c,u){const m=i[s][t.data[s].outputs[o]].subscribe(l),g=c.length;c.push(l,m),u&&u.push(a,n.index,g,-(g+1))}function Qte(n,t,i,s){const o=et(null);try{return!1!==i(s)}catch(a){return HC(n,a),!1}finally{et(o)}}function Jte(n,t,i,s){return function o(a){if(a===Function)return s;c3(Pu(n)?Ua(n.index,t):t,5);let c=Qte(t,0,s,a),u=o.__ngNextListenerFn__;for(;u;)c=Qte(t,0,u,a)&&c,u=u.__ngNextListenerFn__;return c}}function Je(n=1){return function KMe(n){return(Wn.lFrame.contextLView=function mX(n,t){for(;n>0;)t=t[14],n--;return t}(n,Wn.lFrame.contextLView))[8]}(n)}function E6(n,t,i){return dv(n,"",t,"",i),E6}function dv(n,t,i,s,o){const a=Xe(),l=ev(a,t,i,s);return l!==Jn&&Cl(zn(),bi(),a,n,l,a[11],o,!1),dv}function pa(n,t,i){tee(n,t,i)}function fa(n){const t=Xe(),i=zn(),s=Y7();oC(s+1);const o=UI(i,s);if(n.dirty&&function IMe(n){return!(4&~n[2])}(t)===!(2&~o.metadata.flags)){if(null===o.matches)n.reset([]);else{const a=iee(t,s);n.reset(a,aZ),n.notifyOnChanges()}return!0}return!1}function ha(){return function HI(n,t){return n[18].queries[t].queryList}(Xe(),Y7())}function Se(n,t=""){const i=Xe(),s=zn(),o=n+26,a=s.firstCreatePass?Wy(s,o,1,t,null):s.data[o],l=yne(s,i,a,t,n);i[o]=l,L2()&&qC(s,i,l,a),Du(a,!1)}let yne=(n,t,i,s,o)=>(vd(!0),function eI(n,t){return n.createText(t)}(t[11],s));function Pd(n){return qs("",n,""),Pd}function qs(n,t,i){const s=Xe(),o=ev(s,n,t,i);return o!==Jn&&jp(s,Vo(),o),qs}function pv(n,t,i,s,o){const a=Xe(),l=function tv(n,t,i,s,o,a){const c=Ym(n,kp(),i,o);return Mp(2),c?t+Qn(i)+s+Qn(o)+a:Jn}(a,n,t,i,s,o);return l!==Jn&&jp(a,Vo(),l),pv}function PR(n,t,i,s,o,a,l){const c=Xe(),u=nv(c,n,t,i,s,o,a,l);return u!==Jn&&jp(c,Vo(),u),PR}function DR(n,t,i,s,o,a,l,c,u){const d=Xe(),p=function rv(n,t,i,s,o,a,l,c,u,d){const f=$c(n,kp(),i,o,l,u);return Mp(4),f?t+Qn(i)+s+Qn(o)+a+Qn(l)+c+Qn(u)+d:Jn}(d,n,t,i,s,o,a,l,c,u);return p!==Jn&&jp(d,Vo(),p),DR}function kR(n,t,i,s,o,a,l,c,u,d,p){const f=Xe(),h=function iv(n,t,i,s,o,a,l,c,u,d,p,f){const h=kp();let m=$c(n,h,i,o,l,u);return m=Es(n,h+4,p)||m,Mp(5),m?t+Qn(i)+s+Qn(o)+a+Qn(l)+c+Qn(u)+d+Qn(p)+f:Jn}(f,n,t,i,s,o,a,l,c,u,d,p);return h!==Jn&&jp(f,Vo(),h),kR}function jp(n,t,i){const s=Cy(t,n);!function FQ(n,t,i){n.setValue(t,i)}(n[11],s,i)}function Dn(n,t,i){cZ(t)&&(t=t());const s=Xe();return Es(s,jc(),t)&&Cl(zn(),bi(),s,n,t,s[11],i,!1),Dn}function Rn(n,t){const i=cZ(n);return i&&n.set(t),i}function kn(n,t){const i=Xe(),s=zn(),o=yr();return OR(s,i,i[11],o,n,t),kn}function MR(n,t,i,s,o){if(n=qn(n),Array.isArray(n))for(let a=0;a<n.length;a++)MR(n[a],t,i,s,o);else{const a=zn(),l=Xe(),c=yr();let u=Pm(n)?n:qn(n.provide);const d=JY(n),p=1048575&c.providerIndexes,f=c.directiveStart,h=c.providerIndexes>>20;if(Pm(n)||!n.multi){const m=new F2(d,o,Tt),g=IR(u,t,o?p:p+h,f);-1===g?(oA(uC(c,l),a,u),AR(a,n,t.length),t.push(u),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),i.push(m),l.push(m)):(i[g]=m,l[g]=m)}else{const m=IR(u,t,p+h,f),g=IR(u,t,p,p+h),v=g>=0&&i[g];if(o&&!v||!o&&!(m>=0&&i[m])){oA(uC(c,l),a,u);const _=function Mje(n,t,i,s,o){const a=new F2(n,i,Tt);return a.multi=[],a.index=t,a.componentProviders=0,Cne(a,o,s&&!i),a}(o?kje:Dje,i.length,o,s,d);!o&&v&&(i[g].providerFactory=_),AR(a,n,t.length,0),t.push(u),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),i.push(_),l.push(_)}else AR(a,n,m>-1?m:g,Cne(i[o?g:m],d,!o&&s));!o&&s&&v&&i[g].componentProviders++}}}function AR(n,t,i,s){const o=Pm(t),a=function uMe(n){return!!n.useClass}(t);if(o||a){const u=(a?qn(t.useClass):t).prototype.ngOnDestroy;if(u){const d=n.destroyHooks||(n.destroyHooks=[]);if(!o&&t.multi){const p=d.indexOf(i);-1===p?d.push(i,[s,u]):d[p+1].push(s,u)}else d.push(i,u)}}}function Cne(n,t,i){return i&&n.componentProviders++,n.multi.push(t)-1}function IR(n,t,i,s){for(let o=i;o<s;o++)if(t[o]===n)return o;return-1}function Dje(n,t,i,s){return RR(this.multi,[])}function kje(n,t,i,s){const o=this.multi;let a;if(this.providerFactory){const l=this.providerFactory.componentProviders,c=V2(i,i[1],this.providerFactory.index,s);a=c.slice(0,l),RR(o,a);for(let u=l;u<c.length;u++)a.push(c[u])}else a=[],RR(o,a);return a}function RR(n,t){for(let i=0;i<n.length;i++)t.push((0,n[i])());return t}function rs(n,t=[]){return i=>{i.providersResolver=(s,o)=>function Pje(n,t,i){const s=zn();if(s.firstCreatePass){const o=Ql(n);MR(i,s.data,s.blueprint,o,!0),MR(t,s.data,s.blueprint,o,!1)}}(s,o?o(n):n,t)}}function One(n,t,i,s,o,a){const l=t+i;return Es(n,l,o)?function Sd(n,t,i){return n[t]=i}(n,l+1,a?s.call(a,o):s(o)):function I3(n,t){const i=n[t];return i===Jn?void 0:i}(n,l+1)}function fv(n,t){const i=zn();let s;const o=n+26;i.firstCreatePass?(s=function qje(n,t){if(t)for(let i=t.length-1;i>=0;i--){const s=t[i];if(n===s.name)return s}}(t,i.pipeRegistry),i.data[o]=s,s.onDestroy&&(i.destroyHooks??=[]).push(o,s.onDestroy)):s=i.data[o];const a=s.factory||(s.factory=Tm(s.type)),c=_l(Tt);try{const u=cC(!1),d=a();return cC(u),function TR(n,t,i,s){i>=n.data.length&&(n.data[i]=null,n.blueprint[i]=null),t[i]=s}(i,Xe(),o,d),d}finally{_l(c)}}function hv(n,t,i){const s=n+26,o=Xe(),a=function Rm(n,t){return n[t]}(o,s);return function R3(n,t){return n[1].data[t].pure}(o,s)?One(o,function qa(){const n=Wn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}(),t,a.transform,i,a):a.transform(i)}let OVe=(()=>{class n{zone=Gt(ni);changeDetectionScheduler=Gt(Ap);applicationRef=Gt(zc);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(s){return new(s||n)};static \u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jR({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:i}){return n??=()=>new ni({...VR(),scheduleInRootZone:i}),[{provide:ni,useFactory:n},{provide:Ou,multi:!0,useFactory:()=>{const s=Gt(OVe,{optional:!0});return()=>s.initialize()}},{provide:Ou,multi:!0,useFactory:()=>{const s=Gt(PVe);return()=>{s.initialize()}}},!0===t?{provide:eZ,useValue:!0}:[],{provide:cA,useValue:i??QX}]}function VR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}let PVe=(()=>{class n{subscription=new Lc;initialized=!1;zone=Gt(ni);pendingTasks=Gt(Ip);initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ni.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ni.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(s){return new(s||n)};static \u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),L3=(()=>{class n{appRef=Gt(zc);taskService=Gt(Ip);ngZone=Gt(ni);zonelessEnabled=Gt($2);tracing=Gt(ky,{optional:!0});disableScheduling=Gt(eZ,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Lc;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(mC):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Gt(cA,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof fA||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&5===i)return;let s=!1;switch(i){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,s=!0;break;case 12:this.appRef.dirtyFlags|=16,s=!0;break;case 11:s=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(s))return;const o=this.useMicrotaskScheduler?nZ:tZ;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(i){return!(this.disableScheduling&&!i||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(mC+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,nZ(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static \u0275fac=function(s){return new(s||n)};static \u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Eh=new Yt("",{providedIn:"root",factory:()=>Gt(Eh,Dr.Optional|Dr.SkipSelf)||function DVe(){return typeof $localize<"u"&&$localize.locale||y6}()}),O6=new Yt(""),NVe=new Yt("");function F3(n){return!n.moduleRef}let Jne=(()=>{class n{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(i){this._injector=i}bootstrapModuleFactory(i,s){const o=s?.scheduleInRootZone,l=s?.ignoreChangesOutsideZone,c=[jR({ngZoneFactory:()=>function M7e(n="zone.js",t){return"noop"===n?new fA:"zone.js"===n?new ni(t):n}(s?.ngZone,{...VR({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}),scheduleInRootZone:o}),ignoreChangesOutsideZone:l}),{provide:Ap,useExisting:L3}],u=function vNe(n,t,i){return new GI(n,t,i,!1)}(i.moduleType,this.injector,c);return function Qne(n){const t=F3(n)?n.r3Injector:n.moduleRef.injector,i=t.get(ni);return i.run(()=>{F3(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();const s=t.get(_d,null);let o;if(i.runOutsideAngular(()=>{o=i.onError.subscribe({next:a=>{s.handleError(a)}})}),F3(n)){const a=()=>t.destroy(),l=n.platformInjector.get(O6);l.add(a),t.onDestroy(()=>{o.unsubscribe(),l.delete(a)})}else{const a=()=>n.moduleRef.destroy(),l=n.platformInjector.get(O6);l.add(a),n.moduleRef.onDestroy(()=>{p6(n.allPlatformModules,n.moduleRef),o.unsubscribe(),l.delete(a)})}return function FVe(n,t,i){try{const s=i();return u6(s)?s.catch(o=>{throw t.runOutsideAngular(()=>n.handleError(o)),o}):s}catch(s){throw t.runOutsideAngular(()=>n.handleError(s)),s}}(s,i,()=>{const a=t.get($ee);return a.runInitializers(),a.donePromise.then(()=>{if(function _Be(n){"string"==typeof n&&(kte=n.toLowerCase().replace(/_/g,"-"))}(t.get(Eh,y6)||y6),!t.get(NVe,!0))return F3(n)?t.get(zc):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(F3(n)){const u=t.get(zc);return void 0!==n.rootComponent&&u.bootstrap(n.rootComponent),u}return function LVe(n,t){const i=n.injector.get(zc);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!n.instance.ngDoBootstrap)throw new xt(-403,!1);n.instance.ngDoBootstrap(i)}t.push(n)}(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}({moduleRef:u,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(i,s=[]){const o=Hee({},s);return function SVe(n,t,i){const s=new KI(i);return Promise.resolve(s)}(0,0,i).then(a=>this.bootstrapModuleFactory(a,o))}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xt(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const i=this._injector.get(O6,null);i&&(i.forEach(s=>s()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(s){return new(s||n)(tr($o))};static \u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),wh=null;const ere=new Yt("");function tre(n,t,i=[]){const s=`Platform: ${t}`,o=new Yt(s);return(a=[])=>{let l=zR();if(!l||l.injector.get(ere,!1)){const c=[...i,...a,{provide:o,useValue:!0}];n?n(c):function BVe(n){if(wh&&!wh.get(ere,!1))throw new xt(400,!1);(function zee(){!function On(n){Cn=n}(()=>{throw new xt(600,!1)})})(),wh=n;const t=n.get(Jne);(function rre(n){const t=n.get(_A,null);A7(n,()=>{t?.forEach(i=>i())})})(n)}(function nre(n=[],t){return $o.create({name:t,providers:[{provide:P7,useValue:"platform"},{provide:O6,useValue:new Set([()=>wh=null])},...n]})}(c,s))}return function jVe(){const t=zR();if(!t)throw new xt(401,!1);return t}()}}function zR(){return wh?.get(Jne)??null}let T6=(()=>class n{static __NG_ELEMENT_ID__=$Ve})();function $Ve(n){return function zVe(n,t,i){if(Pu(n)&&!i){const s=Ua(n.index,t);return new d3(s,s)}return 175&n.type?new d3(t[15],t):null}(yr(),Xe(),!(16&~n))}class lre{constructor(){}supports(t){return i6(t)}create(t){return new GVe(t)}}const WVe=(n,t)=>t;class GVe{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||WVe}forEachItem(t){let i;for(i=this._itHead;null!==i;i=i._next)t(i)}forEachOperation(t){let i=this._itHead,s=this._removalsHead,o=0,a=null;for(;i||s;){const l=!s||i&&i.currentIndex<ure(s,o,a)?i:s,c=ure(l,o,a),u=l.currentIndex;if(l===s)o--,s=s._nextRemoved;else if(i=i._next,null==l.previousIndex)o++;else{a||(a=[]);const d=c-o,p=u-o;if(d!=p){for(let h=0;h<d;h++){const m=h<a.length?a[h]:a[h]=0,g=m+h;p<=g&&g<d&&(a[h]=m+1)}a[l.previousIndex]=p-d}}c!==u&&t(l,c,u)}}forEachPreviousItem(t){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachMovedItem(t){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}forEachIdentityChange(t){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)t(i)}diff(t){if(null==t&&(t=[]),!i6(t))throw new xt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,a,l,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)a=t[c],l=this._trackByFn(c,a),null!==i&&Object.is(i.trackById,l)?(s&&(i=this._verifyReinsertion(i,a,l,c)),Object.is(i.item,a)||this._addIdentityChange(i,a)):(i=this._mismatch(i,a,l,c),s=!0),i=i._next}else o=0,function FNe(n,t){if(Array.isArray(n))for(let i=0;i<n.length;i++)t(n[i]);else{const i=n[Symbol.iterator]();let s;for(;!(s=i.next()).done;)t(s.value)}}(t,c=>{l=this._trackByFn(o,c),null!==i&&Object.is(i.trackById,l)?(s&&(i=this._verifyReinsertion(i,c,l,o)),Object.is(i.item,c)||this._addIdentityChange(i,c)):(i=this._mismatch(i,c,l,o),s=!0),i=i._next,o++}),this.length=o;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,i,s,o){let a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._reinsertAfter(t,a,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(s,o))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._moveAfter(t,a,o)):t=this._addAfter(new KVe(i,s),a,o),t}_verifyReinsertion(t,i,s,o){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==a?t=this._reinsertAfter(a,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const i=t._next;this._addToRemovals(this._unlink(t)),t=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,a=t._nextRemoved;return null===o?this._removalsHead=a:o._nextRemoved=a,null===a?this._removalsTail=o:a._prevRemoved=o,this._insertAfter(t,i,s),this._addToMoves(t,s),t}_moveAfter(t,i,s){return this._unlink(t),this._insertAfter(t,i,s),this._addToMoves(t,s),t}_addAfter(t,i,s){return this._insertAfter(t,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,i,s){const o=null===i?this._itHead:i._next;return t._next=o,t._prev=i,null===o?this._itTail=t:o._prev=t,null===i?this._itHead=t:i._next=t,null===this._linkedRecords&&(this._linkedRecords=new cre),this._linkedRecords.put(t),t.currentIndex=s,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const i=t._prev,s=t._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,t}_addToMoves(t,i){return t.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cre),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,i){return t.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class KVe{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,i){this.item=t,this.trackById=i}}class YVe{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,t))return s;return null}remove(t){const i=t._prevDup,s=t._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class cre{map=new Map;put(t){const i=t.trackById;let s=this.map.get(i);s||(s=new YVe,this.map.set(i,s)),s.add(t)}get(t,i){const o=this.map.get(t);return o?o.get(t,i):null}remove(t){const i=t.trackById;return this.map.get(i).remove(t)&&this.map.delete(i),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ure(n,t,i){const s=n.previousIndex;if(null===s)return s;let o=0;return i&&s<i.length&&(o=i[s]),s+t+o}class dre{constructor(){}supports(t){return t instanceof Map||ZI(t)}create(){return new XVe}}class XVe{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let i;for(i=this._mapHead;null!==i;i=i._next)t(i)}forEachPreviousItem(t){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)t(i)}forEachChangedItem(t){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}diff(t){if(t){if(!(t instanceof Map||ZI(t)))throw new xt(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(t,(s,o)=>{if(i&&i.key===o)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const a=this._getOrCreateRecordForKey(o,s);i=this._insertBeforeOrAppend(i,a)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,i){if(t){const s=t._prev;return i._next=t,i._prev=s,t._prev=i,s&&(s._next=i),t===this._mapHead&&(this._mapHead=i),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(t,i){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,i);const a=o._prev,l=o._next;return a&&(a._next=l),l&&(l._prev=a),o._next=null,o._prev=null,o}const s=new ZVe(t);return this._records.set(t,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,i){Object.is(i,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=i,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,i){t instanceof Map?t.forEach(i):Object.keys(t).forEach(s=>i(t[s],s))}}class ZVe{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}}function pre(){return new WR([new lre])}let WR=(()=>{class n{factories;static \u0275prov=Zn({token:n,providedIn:"root",factory:pre});constructor(i){this.factories=i}static create(i,s){if(null!=s){const o=s.factories.slice();i=i.concat(o)}return new n(i)}static extend(i){return{provide:n,useFactory:s=>n.create(i,s||pre()),deps:[[n,new w7,new E7]]}}find(i){const s=this.factories.find(o=>o.supports(i));if(null!=s)return s;throw new xt(901,!1)}}return n})();function fre(){return new k6([new dre])}let k6=(()=>{class n{static \u0275prov=Zn({token:n,providedIn:"root",factory:fre});factories;constructor(i){this.factories=i}static create(i,s){if(s){const o=s.factories.slice();i=i.concat(o)}return new n(i)}static extend(i){return{provide:n,useFactory:s=>n.create(i,s||fre()),deps:[[n,new w7,new E7]]}}find(i){const s=this.factories.find(o=>o.supports(i));if(s)return s;throw new xt(901,!1)}}return n})();const e$e=tre(null,"core",[]);let t$e=(()=>{class n{constructor(i){}static \u0275fac=function(s){return new(s||n)(tr(zc))};static \u0275mod=Km({type:n});static \u0275inj=oh({})}return n})();function Ws(n){const t=et(null);try{return n()}finally{et(t)}}function Dd(n,t){const i=function wt(n){const t=Object.create(Dt);t.computation=n;const i=()=>{if(us(t),Yr(t),t.value===ge)throw t.error;return t.value};return i[He]=t,i}(n);return t?.equal&&(i[He].equal=t.equal),i}let Ire=null;function V3(){return Ire}class U$e{}const xh=new Yt("");function zre(n,t){t=encodeURIComponent(t);for(const i of n.split(";")){const s=i.indexOf("="),[o,a]=-1==s?[i,""]:[i.slice(0,s),i.slice(s+1)];if(o.trim()===t)return decodeURIComponent(a)}return null}const o9=/\s+/,Hre=[];let eg=(()=>{class n{_ngEl;_renderer;initialClasses=Hre;rawClass;stateMap=new Map;constructor(i,s){this._ngEl=i,this._renderer=s}set klass(i){this.initialClasses=null!=i?i.trim().split(o9):Hre}set ngClass(i){this.rawClass="string"==typeof i?i.trim().split(o9):i}ngDoCheck(){for(const s of this.initialClasses)this._updateState(s,!0);const i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(const s of i)this._updateState(s,!0);else if(null!=i)for(const s of Object.keys(i))this._updateState(s,!!i[s]);this._applyStateDiff()}_updateState(i,s){const o=this.stateMap.get(i);void 0!==o?(o.enabled!==s&&(o.changed=!0,o.enabled=s),o.touched=!0):this.stateMap.set(i,{enabled:s,changed:!0,touched:!0})}_applyStateDiff(){for(const i of this.stateMap){const s=i[0],o=i[1];o.changed?(this._toggleClass(s,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(s,!1),this.stateMap.delete(s)),o.touched=!1}}_toggleClass(i,s){(i=i.trim()).length>0&&i.split(o9).forEach(o=>{s?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(s){return new(s||n)(Tt(ku),Tt(Wm))};static \u0275dir=nr({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();class Mze{$implicit;ngForOf;index;count;constructor(t,i,s,o){this.$implicit=t,this.ngForOf=i,this.index=s,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $p=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(i,s,o){this._viewContainer=i,this._template=s,this._differs=o}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const s=this._viewContainer;i.forEachOperation((o,a,l)=>{if(null==o.previousIndex)s.createEmbeddedView(this._template,new Mze(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)s.remove(null===a?void 0:a);else if(null!==a){const c=s.get(a);s.move(c,l),qre(c,o)}});for(let o=0,a=s.length;o<a;o++){const c=s.get(o).context;c.index=o,c.count=a,c.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{qre(s.get(o.currentIndex),o)})}static ngTemplateContextGuard(i,s){return!0}static \u0275fac=function(s){return new(s||n)(Tt(Cd),Tt(Fp),Tt(WR))};static \u0275dir=nr({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function qre(n,t){n.context.$implicit=t.item}let W6=(()=>{class n{_viewContainer;_context=new Aze;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(i,s){this._viewContainer=i,this._thenTemplateRef=s}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Wre(i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Wre(i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(i,s){return!0}static \u0275fac=function(s){return new(s||n)(Tt(Cd),Tt(Fp))};static \u0275dir=nr({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})();class Aze{$implicit=null;ngIf=null}function Wre(n,t){if(n&&!n.createEmbeddedView)throw new xt(2020,!1)}let G6=(()=>{class n{differs;constructor(i){this.differs=i}differ;keyValues=[];compareFn=Kre;transform(i,s=Kre){if(!i||!(i instanceof Map)&&"object"!=typeof i)return null;this.differ??=this.differs.find(i).create();const o=this.differ.diff(i),a=s!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(l=>{this.keyValues.push(function Qze(n,t){return{key:n,value:t}}(l.key,l.currentValue))})),(o||a)&&(s&&this.keyValues.sort(s),this.compareFn=s),this.keyValues}static \u0275fac=function(s){return new(s||n)(Tt(k6,16))};static \u0275pipe=Sl({name:"keyvalue",type:n,pure:!1})}return n})();function Kre(n,t){const i=n.key,s=t.key;if(i===s)return 0;if(null==i)return 1;if(null==s)return-1;if("string"==typeof i&&"string"==typeof s)return i<s?-1:1;if("number"==typeof i&&"number"==typeof s)return i-s;if("boolean"==typeof i&&"boolean"==typeof s)return i<s?-1:1;const o=String(i),a=String(s);return o==a?0:o<a?-1:1}let nHe=(()=>{class n{static \u0275fac=function(s){return new(s||n)};static \u0275mod=Km({type:n});static \u0275inj=oh({})}return n})();function Xre(n){return"server"===n}class Zre{}class AHe extends U$e{supportsDOMEvents=!0}class h9 extends AHe{static makeCurrent(){!function H$e(n){Ire??=n}(new h9)}onAndCancel(t,i,s,o){return t.addEventListener(i,s,o),()=>{t.removeEventListener(i,s,o)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.remove()}createElement(t,i){return(i=i||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return"window"===i?window:"document"===i?t:"body"===i?t.body:null}getBaseHref(t){const i=function IHe(){return q3=q3||document.querySelector("base"),q3?q3.getAttribute("href"):null}();return null==i?null:function RHe(n){return new URL(n,document.baseURI).pathname}(i)}resetBaseElement(){q3=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return zre(document.cookie,t)}}let q3=null,LHe=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(s){return new(s||n)};static \u0275prov=Zn({token:n,factory:n.\u0275fac})}return n})();const m9=new Yt("");let lie=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(i,s){this._zone=s,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,s,o,a){return this._findPluginFor(s).addEventListener(i,s,o,a)}getZone(){return this._zone}_findPluginFor(i){let s=this._eventNameToPlugin.get(i);if(s)return s;if(s=this._plugins.find(a=>a.supports(i)),!s)throw new xt(5101,!1);return this._eventNameToPlugin.set(i,s),s}static \u0275fac=function(s){return new(s||n)(tr(m9),tr(ni))};static \u0275prov=Zn({token:n,factory:n.\u0275fac})}return n})();class cie{_doc;constructor(t){this._doc=t}manager}const Z6="ng-app-id";function uie(n){for(const t of n)t.remove()}function die(n,t){const i=t.createElement("style");return i.textContent=n,i}function g9(n,t){const i=t.createElement("link");return i.setAttribute("rel","stylesheet"),i.setAttribute("href",n),i}let pie=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(i,s,o,a={}){this.doc=i,this.appId=s,this.nonce=o,this.isServer=Xre(a),function FHe(n,t,i,s){const o=n.head?.querySelectorAll(`style[${Z6}="${t}"],link[${Z6}="${t}"]`);if(o)for(const a of o)a.removeAttribute(Z6),a instanceof HTMLLinkElement?s.set(a.href.slice(a.href.lastIndexOf("/")+1),{usage:0,elements:[a]}):a.textContent&&i.set(a.textContent,{usage:0,elements:[a]})}(i,s,this.inline,this.external),this.hosts.add(i.head)}addStyles(i,s){for(const o of i)this.addUsage(o,this.inline,die);s?.forEach(o=>this.addUsage(o,this.external,g9))}removeStyles(i,s){for(const o of i)this.removeUsage(o,this.inline);s?.forEach(o=>this.removeUsage(o,this.external))}addUsage(i,s,o){const a=s.get(i);a?a.usage++:s.set(i,{usage:1,elements:[...this.hosts].map(l=>this.addElement(l,o(i,this.doc)))})}removeUsage(i,s){const o=s.get(i);o&&(o.usage--,o.usage<=0&&(uie(o.elements),s.delete(i)))}ngOnDestroy(){for(const[,{elements:i}]of[...this.inline,...this.external])uie(i);this.hosts.clear()}addHost(i){this.hosts.add(i);for(const[s,{elements:o}]of this.inline)o.push(this.addElement(i,die(s,this.doc)));for(const[s,{elements:o}]of this.external)o.push(this.addElement(i,g9(s,this.doc)))}removeHost(i){this.hosts.delete(i)}addElement(i,s){return this.nonce&&s.setAttribute("nonce",this.nonce),this.isServer&&s.setAttribute(Z6,this.appId),i.appendChild(s)}static \u0275fac=function(s){return new(s||n)(tr(xh),tr(jm),tr(TZ,8),tr(_C))};static \u0275prov=Zn({token:n,factory:n.\u0275fac})}return n})();const y9={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},v9=/%COMP%/g,HHe=new Yt("",{providedIn:"root",factory:()=>!0});function hie(n,t){return t.map(i=>i.replace(v9,n))}let mie=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(i,s,o,a,l,c,u,d=null,p=null){this.eventManager=i,this.sharedStylesHost=s,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=l,this.platformId=c,this.ngZone=u,this.nonce=d,this.tracingService=p,this.platformIsServer=Xre(c),this.defaultRenderer=new b9(i,l,u,this.platformIsServer,this.tracingService)}createRenderer(i,s){if(!i||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===Vc.ShadowDom&&(s={...s,encapsulation:Vc.Emulated});const o=this.getOrCreateRenderer(i,s);return o instanceof yie?o.applyToHost(i):o instanceof _9&&o.applyStyles(),o}getOrCreateRenderer(i,s){const o=this.rendererByCompId;let a=o.get(s.id);if(!a){const l=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,f=this.platformIsServer,h=this.tracingService;switch(s.encapsulation){case Vc.Emulated:a=new yie(u,d,s,this.appId,p,l,c,f,h);break;case Vc.ShadowDom:return new GHe(u,d,i,s,l,c,this.nonce,f,h);default:a=new _9(u,d,s,p,l,c,f,h)}o.set(s.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(i){this.rendererByCompId.delete(i)}static \u0275fac=function(s){return new(s||n)(tr(lie),tr(pie),tr(jm),tr(HHe),tr(xh),tr(_C),tr(ni),tr(TZ),tr(ky,8))};static \u0275prov=Zn({token:n,factory:n.\u0275fac})}return n})();class b9{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,i,s,o,a){this.eventManager=t,this.doc=i,this.ngZone=s,this.platformIsServer=o,this.tracingService=a}destroy(){}destroyNode=null;createElement(t,i){return i?this.doc.createElementNS(y9[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(gie(t)?t.content:t).appendChild(i)}insertBefore(t,i,s){t&&(gie(t)?t.content:t).insertBefore(i,s)}removeChild(t,i){i.remove()}selectRootElement(t,i){let s="string"==typeof t?this.doc.querySelector(t):t;if(!s)throw new xt(-5104,!1);return i||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,s,o){if(o){i=o+":"+i;const a=y9[o];a?t.setAttributeNS(a,i,s):t.setAttribute(i,s)}else t.setAttribute(i,s)}removeAttribute(t,i,s){if(s){const o=y9[s];o?t.removeAttributeNS(o,i):t.removeAttribute(`${s}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,s,o){o&(mh.DashCase|mh.Important)?t.style.setProperty(i,s,o&mh.Important?"important":""):t.style[i]=s}removeStyle(t,i,s){s&mh.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,s){null!=t&&(t[i]=s)}setValue(t,i){t.nodeValue=i}listen(t,i,s,o){if("string"==typeof t&&!(t=V3().getGlobalEventTarget(this.doc,t)))throw new xt(5102,!1);let a=this.decoratePreventDefault(s);return this.tracingService?.wrapEventListener&&(a=this.tracingService.wrapEventListener(t,i,a)),this.eventManager.addEventListener(t,i,a,o)}decoratePreventDefault(t){return i=>{if("__ngUnwrap__"===i)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))&&i.preventDefault()}}}function gie(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class GHe extends b9{sharedStylesHost;hostEl;shadowRoot;constructor(t,i,s,o,a,l,c,u,d){super(t,a,l,u,d),this.sharedStylesHost=i,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=o.styles;p=hie(o.id,p);for(const h of p){const m=document.createElement("style");c&&m.setAttribute("nonce",c),m.textContent=h,this.shadowRoot.appendChild(m)}const f=o.getExternalStyles?.();if(f)for(const h of f){const m=g9(h,a);c&&m.setAttribute("nonce",c),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,s){return super.insertBefore(this.nodeOrShadowRoot(t),i,s)}removeChild(t,i){return super.removeChild(null,i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _9 extends b9{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,i,s,o,a,l,c,u,d){super(t,a,l,c,u),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=o;let p=s.styles;this.styles=d?hie(d,p):p,this.styleUrls=s.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class yie extends _9{contentAttr;hostAttr;constructor(t,i,s,o,a,l,c,u,d){const p=o+"-"+s.id;super(t,i,s,a,l,c,u,d,p),this.contentAttr=function UHe(n){return"_ngcontent-%COMP%".replace(v9,n)}(p),this.hostAttr=function qHe(n){return"_nghost-%COMP%".replace(v9,n)}(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){const s=super.createElement(t,i);return super.setAttribute(s,this.contentAttr,""),s}}let KHe=(()=>{class n extends cie{constructor(i){super(i)}supports(i){return!0}addEventListener(i,s,o,a){return i.addEventListener(s,o,a),()=>this.removeEventListener(i,s,o,a)}removeEventListener(i,s,o,a){return i.removeEventListener(s,o,a)}static \u0275fac=function(s){return new(s||n)(tr(xh))};static \u0275prov=Zn({token:n,factory:n.\u0275fac})}return n})();const vie=["alt","control","meta","shift"],YHe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XHe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ZHe=(()=>{class n extends cie{constructor(i){super(i)}supports(i){return null!=n.parseEventName(i)}addEventListener(i,s,o,a){const l=n.parseEventName(s),c=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>V3().onAndCancel(i,l.domEventName,c,a))}static parseEventName(i){const s=i.toLowerCase().split("."),o=s.shift();if(0===s.length||"keydown"!==o&&"keyup"!==o)return null;const a=n._normalizeKey(s.pop());let l="",c=s.indexOf("code");if(c>-1&&(s.splice(c,1),l="code."),vie.forEach(d=>{const p=s.indexOf(d);p>-1&&(s.splice(p,1),l+=d+".")}),l+=a,0!=s.length||0===a.length)return null;const u={};return u.domEventName=o,u.fullKey=l,u}static matchEventFullKeyCode(i,s){let o=YHe[i.key]||i.key,a="";return s.indexOf("code.")>-1&&(o=i.code,a="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),vie.forEach(l=>{l!==o&&(0,XHe[l])(i)&&(a+=l+".")}),a+=o,a===s)}static eventCallback(i,s,o){return a=>{n.matchEventFullKeyCode(a,i)&&o.runGuarded(()=>s(a))}}static _normalizeKey(i){return"esc"===i?"escape":i}static \u0275fac=function(s){return new(s||n)(tr(xh))};static \u0275prov=Zn({token:n,factory:n.\u0275fac})}return n})();const tUe=tre(e$e,"browser",[{provide:_C,useValue:"browser"},{provide:_A,useValue:function QHe(){h9.makeCurrent()},multi:!0},{provide:xh,useFactory:function eUe(){return function rAe(n){bA=n}(document),document},deps:[]}]),Eie=[{provide:c6,useClass:class NHe{addToWindow(t){vs.getAngularTestability=(s,o=!0)=>{const a=t.findTestabilityInTree(s,o);if(null==a)throw new xt(5103,!1);return a},vs.getAllAngularTestabilities=()=>t.getAllTestabilities(),vs.getAllAngularRootElements=()=>t.getAllRootElements(),vs.frameworkStabilizers||(vs.frameworkStabilizers=[]),vs.frameworkStabilizers.push(s=>{const o=vs.getAllAngularTestabilities();let a=o.length;const l=function(){a--,0==a&&s()};o.forEach(c=>{c.whenStable(l)})})}findTestabilityInTree(t,i,s){return null==i?null:t.getTestability(i)??(s?V3().isShadowRoot(i)?this.findTestabilityInTree(t,i.host,!0):this.findTestabilityInTree(t,i.parentElement,!0):null)}},deps:[]},{provide:Bee,useClass:rR,deps:[ni,iR,c6]},{provide:rR,useClass:rR,deps:[ni,iR,c6]}],wie=[{provide:P7,useValue:"root"},{provide:_d,useFactory:function JHe(){return new _d},deps:[]},{provide:m9,useClass:KHe,multi:!0,deps:[xh]},{provide:m9,useClass:ZHe,multi:!0,deps:[xh]},mie,pie,lie,{provide:AI,useExisting:mie},{provide:Zre,useClass:LHe,deps:[]},[]];let nUe=(()=>{class n{constructor(){}static \u0275fac=function(s){return new(s||n)};static \u0275mod=Km({type:n});static \u0275inj=oh({providers:[...wie,...Eie],imports:[nHe,t$e]})}return n})();function E9(n){return n[n.length-1]}function Sh(n){return this instanceof Sh?(this.v=n,this):new Sh(n)}function Pie(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function S9(n){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&n[t],s=0;if(i)return i.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(a){i[a]=n[a]&&function(l){return new Promise(function(c,u){!function o(a,l,c,u){Promise.resolve(u).then(function(d){a({value:d,done:c})},l)}(c,u,(l=n[a](l)).done,l.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const T9=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Die(n){return ai(n?.then)}function kie(n){return ai(n[l7])}function Mie(n){return Symbol.asyncIterator&&ai(n?.[Symbol.asyncIterator])}function Aie(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Iie=function NUe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Rie(n){return ai(n?.[Iie])}function Nie(n){return function Tie(n,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,s=i.apply(n,t||[]),a=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",function l(m){return function(g){return Promise.resolve(g).then(m,f)}}),o[Symbol.asyncIterator]=function(){return this},o;function c(m,g){s[m]&&(o[m]=function(y){return new Promise(function(v,_){a.push([m,y,v,_])>1||u(m,y)})},g&&(o[m]=g(o[m])))}function u(m,g){try{!function d(m){m.value instanceof Sh?Promise.resolve(m.value.v).then(p,f):h(a[0][2],m)}(s[m](g))}catch(y){h(a[0][3],y)}}function p(m){u("next",m)}function f(m){u("throw",m)}function h(m,g){m(g),a.shift(),a.length&&u(a[0][0],a[0][1])}}(this,arguments,function*(){const i=n.getReader();try{for(;;){const{value:s,done:o}=yield Sh(i.read());if(o)return yield Sh(void 0);yield yield Sh(s)}}finally{i.releaseLock()}})}function Lie(n){return ai(n?.getReader)}function zp(n){if(n instanceof $a)return n;if(null!=n){if(kie(n))return function LUe(n){return new $a(t=>{const i=n[l7]();if(ai(i.subscribe))return i.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(T9(n))return function FUe(n){return new $a(t=>{for(let i=0;i<n.length&&!t.closed;i++)t.next(n[i]);t.complete()})}(n);if(Die(n))return function BUe(n){return new $a(t=>{n.then(i=>{t.closed||(t.next(i),t.complete())},i=>t.error(i)).then(null,CY)})}(n);if(Mie(n))return Fie(n);if(Rie(n))return function jUe(n){return new $a(t=>{for(const i of n)if(t.next(i),t.closed)return;t.complete()})}(n);if(Lie(n))return function VUe(n){return Fie(Nie(n))}(n)}throw Aie(n)}function Fie(n){return new $a(t=>{(function $Ue(n,t){var i,s,o,a;return function Sie(n,t,i,s){return new(i||(i=Promise))(function(a,l){function c(p){try{d(s.next(p))}catch(f){l(f)}}function u(p){try{d(s.throw(p))}catch(f){l(f)}}function d(p){p.done?a(p.value):function o(a){return a instanceof i?a:new i(function(l){l(a)})}(p.value).then(c,u)}d((s=s.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(i=Pie(n);!(s=yield i.next()).done;)if(t.next(s.value),t.closed)return}catch(l){o={error:l}}finally{try{s&&!s.done&&(a=i.return)&&(yield a.call(i))}finally{if(o)throw o.error}}t.complete()})})(n,t).catch(i=>t.error(i))})}function Oh(n,t,i,s=0,o=!1){const a=t.schedule(function(){i(),o?n.add(this.schedule(null,s)):this.unsubscribe()},s);if(n.add(a),!o)return a}function Bie(n,t=0){return xp((i,s)=>{i.subscribe(md(s,o=>Oh(s,n,()=>s.next(o),t),()=>Oh(s,n,()=>s.complete(),t),o=>Oh(s,n,()=>s.error(o),t)))})}function jie(n,t=0){return xp((i,s)=>{s.add(n.schedule(()=>i.subscribe(s),t))})}function Vie(n,t){if(!n)throw new Error("Iterable cannot be null");return new $a(i=>{Oh(i,t,()=>{const s=n[Symbol.asyncIterator]();Oh(i,t,()=>{s.next().then(o=>{o.done?i.complete():i.next(o.value)})},0,!0)})})}function P9(n,t){return t?function GUe(n,t){if(null!=n){if(kie(n))return function zUe(n,t){return zp(n).pipe(jie(t),Bie(t))}(n,t);if(T9(n))return function UUe(n,t){return new $a(i=>{let s=0;return t.schedule(function(){s===n.length?i.complete():(i.next(n[s++]),i.closed||this.schedule())})})}(n,t);if(Die(n))return function HUe(n,t){return zp(n).pipe(jie(t),Bie(t))}(n,t);if(Mie(n))return Vie(n,t);if(Rie(n))return function qUe(n,t){return new $a(i=>{let s;return Oh(i,t,()=>{s=n[Iie](),Oh(i,t,()=>{let o,a;try{({value:o,done:a}=s.next())}catch(l){return void i.error(l)}a?i.complete():i.next(o)},0,!0)}),()=>ai(s?.return)&&s.return()})}(n,t);if(Lie(n))return function WUe(n,t){return Vie(Nie(n),t)}(n,t)}throw Aie(n)}(n,t):zp(n)}function $ie(...n){return P9(n,function lUe(n){return function oUe(n){return n&&ai(n.schedule)}(E9(n))?n.pop():void 0}(n))}function Q6(n,t,i=1/0){return ai(t)?Q6((s,o)=>Cp((a,l)=>t(s,a,o,l))(zp(n(s,o))),i):("number"==typeof t&&(i=t),xp((s,o)=>function KUe(n,t,i,s,o,a,l,c){const u=[];let d=0,p=0,f=!1;const h=()=>{f&&!u.length&&!d&&t.complete()},m=y=>d<s?g(y):u.push(y),g=y=>{a&&t.next(y),d++;let v=!1;zp(i(y,p++)).subscribe(md(t,_=>{o?.(_),a?m(_):t.next(_)},()=>{v=!0},void 0,()=>{if(v)try{for(d--;u.length&&d<s;){const _=u.shift();l?Oh(t,l,()=>g(_)):g(_)}h()}catch(_){t.error(_)}}))};return n.subscribe(md(t,m,()=>{f=!0,h()})),()=>{c?.()}}(s,o,n,i)))}function zie(n){return xp((t,i)=>{try{t.subscribe(i)}finally{i.add(n)}})}function Hie(n,t){return xp((i,s)=>{let o=null,a=0,l=!1;const c=()=>l&&!o&&s.complete();i.subscribe(md(s,u=>{o?.unsubscribe();let d=0;const p=a++;zp(n(u,p)).subscribe(o=md(s,f=>s.next(t?t(u,f,p,d++):f),()=>{o=null,c()}))},()=>{l=!0,c()}))})}class J6{}class eS{}class Tl{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(i=>{const s=i.indexOf(":");if(s>0){const o=i.slice(0,s),a=i.slice(s+1).trim();this.addHeaderEntry(o,a)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,s)=>{this.addHeaderEntry(s,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,s])=>{this.setHeaderEntries(i,s)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof Tl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){const i=new Tl;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof Tl?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){const i=t.name.toLowerCase();switch(t.op){case"a":case"s":let s=t.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(t.name,i);const o=("a"===t.op?this.headers.get(i):void 0)||[];o.push(...s),this.headers.set(i,o);break;case"d":const a=t.value;if(a){let l=this.headers.get(i);if(!l)return;l=l.filter(c=>-1===a.indexOf(c)),0===l.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,l)}else this.headers.delete(i),this.normalizedNames.delete(i)}}addHeaderEntry(t,i){const s=t.toLowerCase();this.maybeSetNormalizedName(t,s),this.headers.has(s)?this.headers.get(s).push(i):this.headers.set(s,[i])}setHeaderEntries(t,i){const s=(Array.isArray(i)?i:[i]).map(a=>a.toString()),o=t.toLowerCase();this.headers.set(o,s),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}}class ZUe{encodeKey(t){return Uie(t)}encodeValue(t){return Uie(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const JUe=/%(\d[a-f0-9])/gi,eqe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Uie(n){return encodeURIComponent(n).replace(JUe,(t,i)=>eqe[i]??t)}function tS(n){return`${n}`}class kd{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new ZUe,t.fromString){if(t.fromObject)throw new xt(2805,!1);this.map=function QUe(n,t){const i=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const a=o.indexOf("="),[l,c]=-1==a?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,a)),t.decodeValue(o.slice(a+1))],u=i.get(l)||[];u.push(c),i.set(l,u)}),i}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{const s=t.fromObject[i],o=Array.isArray(s)?s.map(tS):[tS(s)];this.map.set(i,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){const i=[];return Object.keys(t).forEach(s=>{const o=t[s];Array.isArray(o)?o.forEach(a=>{i.push({param:s,value:a,op:"a"})}):i.push({param:s,value:o,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const i=this.encoder.encodeKey(t);return this.map.get(t).map(s=>i+"="+this.encoder.encodeValue(s)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const i=new kd({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const i=("a"===t.op?this.map.get(t.param):void 0)||[];i.push(tS(t.value)),this.map.set(t.param,i);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let s=this.map.get(t.param)||[];const o=s.indexOf(tS(t.value));-1!==o&&s.splice(o,1),s.length>0?this.map.set(t.param,s):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class tqe{map=new Map;set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function qie(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Wie(n){return typeof Blob<"u"&&n instanceof Blob}function Gie(n){return typeof FormData<"u"&&n instanceof FormData}const G3="Content-Type",D9="X-Request-URL",Kie="text/plain",Yie="application/json",Xie=`${Yie}, ${Kie}, */*`;class yv{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,i,s,o){let a;if(this.url=i,this.method=t.toUpperCase(),function nqe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==s?s:null,a=o):a=s,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params),this.transferCache=a.transferCache),this.headers??=new Tl,this.context??=new tqe,this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=i;else{const c=i.indexOf("?");this.urlWithParams=i+(-1===c?"?":c<i.length-1?"&":"")+l}}else this.params=new kd,this.urlWithParams=i}serializeBody(){return null===this.body?null:"string"==typeof this.body||qie(this.body)||Wie(this.body)||Gie(this.body)||function rqe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof kd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Gie(this.body)?null:Wie(this.body)?this.body.type||null:qie(this.body)?null:"string"==typeof this.body?Kie:this.body instanceof kd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Yie:null}clone(t={}){const i=t.method||this.method,s=t.url||this.url,o=t.responseType||this.responseType,a=t.transferCache??this.transferCache,l=void 0!==t.body?t.body:this.body,c=t.withCredentials??this.withCredentials,u=t.reportProgress??this.reportProgress;let d=t.headers||this.headers,p=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(d=Object.keys(t.setHeaders).reduce((h,m)=>h.set(m,t.setHeaders[m]),d)),t.setParams&&(p=Object.keys(t.setParams).reduce((h,m)=>h.set(m,t.setParams[m]),p)),new yv(i,s,l,{params:p,headers:d,context:f,reportProgress:u,responseType:o,withCredentials:c,transferCache:a})}}var Md=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Md||{});class k9{headers;status;statusText;url;ok;type;constructor(t,i=200,s="OK"){this.headers=t.headers||new Tl,this.status=void 0!==t.status?t.status:i,this.statusText=t.statusText||s,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class rS extends k9{constructor(t={}){super(t)}type=Md.ResponseHeader;clone(t={}){return new rS({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class tg extends k9{body;constructor(t={}){super(t),this.body=void 0!==t.body?t.body:null}type=Md.Response;clone(t={}){return new tg({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class vv extends k9{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function M9(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let K3=(()=>{class n{handler;constructor(i){this.handler=i}request(i,s,o={}){let a;if(i instanceof yv)a=i;else{let u,d;u=o.headers instanceof Tl?o.headers:new Tl(o.headers),o.params&&(d=o.params instanceof kd?o.params:new kd({fromObject:o.params})),a=new yv(i,s,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const l=$ie(a).pipe(function YUe(n,t){return ai(t)?Q6(n,t,1):Q6(n,1)}(u=>this.handler.handle(u)));if(i instanceof yv||"events"===o.observe)return l;const c=l.pipe(function XUe(n,t){return xp((i,s)=>{let o=0;i.subscribe(md(s,a=>n.call(t,a,o++)&&s.next(a)))})}(u=>u instanceof tg));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return c.pipe(Cp(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new xt(2806,!1);return u.body}));case"blob":return c.pipe(Cp(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new xt(2807,!1);return u.body}));case"text":return c.pipe(Cp(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new xt(2808,!1);return u.body}));default:return c.pipe(Cp(u=>u.body))}case"response":return c;default:throw new xt(2809,!1)}}delete(i,s={}){return this.request("DELETE",i,s)}get(i,s={}){return this.request("GET",i,s)}head(i,s={}){return this.request("HEAD",i,s)}jsonp(i,s){return this.request("JSONP",i,{params:(new kd).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,s={}){return this.request("OPTIONS",i,s)}patch(i,s,o={}){return this.request("PATCH",i,M9(o,s))}post(i,s,o={}){return this.request("POST",i,M9(o,s))}put(i,s,o={}){return this.request("PUT",i,M9(o,s))}static \u0275fac=function(s){return new(s||n)(tr(J6))};static \u0275prov=Zn({token:n,factory:n.\u0275fac})}return n})();const Jie=new Yt("");function ese(n,t){return t(n)}function cqe(n,t){return(i,s)=>t.intercept(i,{handle:o=>n(o,s)})}const dqe=new Yt(""),Y3=new Yt(""),tse=new Yt(""),nse=new Yt("",{providedIn:"root",factory:()=>!0});function pqe(){let n=null;return(t,i)=>{null===n&&(n=(Gt(dqe,{optional:!0})??[]).reduceRight(cqe,ese));const s=Gt(Ip);if(Gt(nse)){const a=s.add();return n(t,i).pipe(zie(()=>s.remove(a)))}return n(t,i)}}let rse=(()=>{class n extends J6{backend;injector;chain=null;pendingTasks=Gt(Ip);contributeToStability=Gt(nse);constructor(i,s){super(),this.backend=i,this.injector=s}handle(i){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(Y3),...this.injector.get(tse,[])]));this.chain=s.reduceRight((o,a)=>function uqe(n,t,i){return(s,o)=>A7(i,()=>t(s,a=>n(a,o)))}(o,a,this.injector),ese)}if(this.contributeToStability){const s=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(zie(()=>this.pendingTasks.remove(s)))}return this.chain(i,s=>this.backend.handle(s))}static \u0275fac=function(s){return new(s||n)(tr(eS),tr(Fc))};static \u0275prov=Zn({token:n,factory:n.\u0275fac})}return n})();const gqe=/^\)\]\}',?\n/,yqe=RegExp(`^${D9}:`,"m");let sse=(()=>{class n{xhrFactory;constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new xt(-2800,!1);const s=this.xhrFactory;return(s.\u0275loadImpl?P9(s.\u0275loadImpl()):$ie(null)).pipe(Hie(()=>new $a(a=>{const l=s.build();if(l.open(i.method,i.urlWithParams),i.withCredentials&&(l.withCredentials=!0),i.headers.forEach((y,v)=>l.setRequestHeader(y,v.join(","))),i.headers.has("Accept")||l.setRequestHeader("Accept",Xie),!i.headers.has(G3)){const y=i.detectContentTypeHeader();null!==y&&l.setRequestHeader(G3,y)}if(i.responseType){const y=i.responseType.toLowerCase();l.responseType="json"!==y?y:"text"}const c=i.serializeBody();let u=null;const d=()=>{if(null!==u)return u;const y=l.statusText||"OK",v=new Tl(l.getAllResponseHeaders()),_=function vqe(n){return"responseURL"in n&&n.responseURL?n.responseURL:yqe.test(n.getAllResponseHeaders())?n.getResponseHeader(D9):null}(l)||i.url;return u=new rS({headers:v,status:l.status,statusText:y,url:_}),u},p=()=>{let{headers:y,status:v,statusText:_,url:E}=d(),x=null;204!==v&&(x=typeof l.response>"u"?l.responseText:l.response),0===v&&(v=x?200:0);let b=v>=200&&v<300;if("json"===i.responseType&&"string"==typeof x){const w=x;x=x.replace(gqe,"");try{x=""!==x?JSON.parse(x):null}catch(C){x=w,b&&(b=!1,x={error:C,text:x})}}b?(a.next(new tg({body:x,headers:y,status:v,statusText:_,url:E||void 0})),a.complete()):a.error(new vv({error:x,headers:y,status:v,statusText:_,url:E||void 0}))},f=y=>{const{url:v}=d(),_=new vv({error:y,status:l.status||0,statusText:l.statusText||"Unknown Error",url:v||void 0});a.error(_)};let h=!1;const m=y=>{h||(a.next(d()),h=!0);let v={type:Md.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),"text"===i.responseType&&l.responseText&&(v.partialText=l.responseText),a.next(v)},g=y=>{let v={type:Md.UploadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),a.next(v)};return l.addEventListener("load",p),l.addEventListener("error",f),l.addEventListener("timeout",f),l.addEventListener("abort",f),i.reportProgress&&(l.addEventListener("progress",m),null!==c&&l.upload&&l.upload.addEventListener("progress",g)),l.send(c),a.next({type:Md.Sent}),()=>{l.removeEventListener("error",f),l.removeEventListener("abort",f),l.removeEventListener("load",p),l.removeEventListener("timeout",f),i.reportProgress&&(l.removeEventListener("progress",m),null!==c&&l.upload&&l.upload.removeEventListener("progress",g)),l.readyState!==l.DONE&&l.abort()}})))}static \u0275fac=function(s){return new(s||n)(tr(Zre))};static \u0275prov=Zn({token:n,factory:n.\u0275fac})}return n})();const R9=new Yt(""),ose=new Yt("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ase=new Yt("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class lse{}let Eqe=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(i,s,o){this.doc=i,this.platform=s,this.cookieName=o}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=zre(i,this.cookieName),this.lastCookieString=i),this.lastToken}static \u0275fac=function(s){return new(s||n)(tr(xh),tr(_C),tr(ose))};static \u0275prov=Zn({token:n,factory:n.\u0275fac})}return n})();function wqe(n,t){const i=n.url.toLowerCase();if(!Gt(R9)||"GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return t(n);const s=Gt(lse).getToken(),o=Gt(ase);return null!=s&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,s)})),t(n)}var Th=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Th||{});function ng(n,t){return{\u0275kind:n,\u0275providers:t}}function xqe(...n){const t=[K3,sse,rse,{provide:J6,useExisting:rse},{provide:eS,useFactory:()=>Gt(Jie,{optional:!0})??Gt(sse)},{provide:Y3,useValue:wqe,multi:!0},{provide:R9,useValue:!0},{provide:lse,useClass:Eqe}];for(const i of n)t.push(...i.\u0275providers);return function ah(n){return{\u0275providers:n}}(t)}const cse=new Yt(""),{isArray:Vqe}=Array,{getPrototypeOf:$qe,prototype:zqe,keys:Hqe}=Object;const{isArray:Wqe}=Array;function dse(n){return Cp(t=>function Gqe(n,t){return Wqe(t)?n(...t):n(t)}(n,t))}function Kqe(n,t){return n.reduce((i,s,o)=>(i[s]=t[o],i),{})}function Yqe(...n){const t=function aUe(n){return ai(E9(n))?n.pop():void 0}(n),{args:i,keys:s}=function Uqe(n){if(1===n.length){const t=n[0];if(Vqe(t))return{args:t,keys:null};if(function qqe(n){return n&&"object"==typeof n&&$qe(n)===zqe}(t)){const i=Hqe(t);return{args:i.map(s=>t[s]),keys:i}}}return{args:n,keys:null}}(n),o=new $a(a=>{const{length:l}=i;if(!l)return void a.complete();const c=new Array(l);let u=l,d=l;for(let p=0;p<l;p++){let f=!1;zp(i[p]).subscribe(md(a,h=>{f||(f=!0,d--),c[p]=h},()=>u--,void 0,()=>{(!u||!f)&&(d||a.next(s?Kqe(s,c):c),a.complete())}))}});return t?o.pipe(dse(t)):o}let pse=(()=>{class n{_renderer;_elementRef;onChange=i=>{};onTouched=()=>{};constructor(i,s){this._renderer=i,this._elementRef=s}setProperty(i,s){this._renderer.setProperty(this._elementRef.nativeElement,i,s)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}static \u0275fac=function(s){return new(s||n)(Tt(Wm),Tt(ku))};static \u0275dir=nr({type:n})}return n})(),rg=(()=>{class n extends pse{static \u0275fac=(()=>{let i;return function(o){return(i||(i=ua(n)))(o||n)}})();static \u0275dir=nr({type:n,features:[ui]})}return n})();const Ad=new Yt(""),Xqe={provide:Ad,useExisting:Ni(()=>L9),multi:!0};let L9=(()=>{class n extends rg{writeValue(i){this.setProperty("checked",i)}static \u0275fac=(()=>{let i;return function(o){return(i||(i=ua(n)))(o||n)}})();static \u0275dir=nr({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(s,o){1&s&&Mt("change",function(l){return o.onChange(l.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[rs([Xqe]),ui]})}return n})();const Zqe={provide:Ad,useExisting:Ni(()=>Ph),multi:!0},Jqe=new Yt("");let Ph=(()=>{class n extends pse{_compositionMode;_composing=!1;constructor(i,s,o){super(i,s),this._compositionMode=o,null==this._compositionMode&&(this._compositionMode=!function Qqe(){const n=V3()?V3().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(i){this.setProperty("value",i??"")}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}static \u0275fac=function(s){return new(s||n)(Tt(Wm),Tt(ku),Tt(Jqe,8))};static \u0275dir=nr({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,o){1&s&&Mt("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},standalone:!1,features:[rs([Zqe]),ui]})}return n})();const ma=new Yt(""),Dh=new Yt("");function iS(n){return null}function Ese(n){return null!=n}function wse(n){return u6(n)?P9(n):n}function xse(n){let t={};return n.forEach(i=>{t=null!=i?{...t,...i}:t}),0===Object.keys(t).length?null:t}function Cse(n,t){return t.map(i=>i(n))}function Sse(n){return n.map(t=>function tWe(n){return!n.validate}(t)?t:i=>t.validate(i))}function j9(n){return null!=n?function Ose(n){if(!n)return null;const t=n.filter(Ese);return 0==t.length?null:function(i){return xse(Cse(i,t))}}(Sse(n)):null}function V9(n){return null!=n?function Tse(n){if(!n)return null;const t=n.filter(Ese);return 0==t.length?null:function(i){return Yqe(Cse(i,t).map(wse)).pipe(Cp(xse))}}(Sse(n)):null}function Pse(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function $9(n){return n?Array.isArray(n)?n:[n]:[]}function sS(n,t){return Array.isArray(n)?n.includes(t):n===t}function Mse(n,t){const i=$9(t);return $9(n).forEach(o=>{sS(i,o)||i.push(o)}),i}function Ase(n,t){return $9(t).filter(i=>!sS(n,i))}class Ise{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=j9(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=V9(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return!!this.control&&this.control.hasError(t,i)}getError(t,i){return this.control?this.control.getError(t,i):null}}class Za extends Ise{name;get formDirective(){return null}get path(){return null}}class kh extends Ise{_parent=null;name=null;valueAccessor=null}class Rse{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let ig=(()=>{class n extends Rse{constructor(i){super(i)}static \u0275fac=function(s){return new(s||n)(Tt(kh,2))};static \u0275dir=nr({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,o){2&s&&h6("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[ui]})}return n})();const X3="VALID",aS="INVALID",bv="PENDING",Z3="DISABLED";class _v{}class Lse extends _v{value;source;constructor(t,i){super(),this.value=t,this.source=i}}class U9 extends _v{pristine;source;constructor(t,i){super(),this.pristine=t,this.source=i}}class q9 extends _v{touched;source;constructor(t,i){super(),this.touched=t,this.source=i}}class lS extends _v{status;source;constructor(t,i){super(),this.status=t,this.source=i}}function cS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class K9{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,i){this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ws(this.statusReactive)}set status(t){Ws(()=>this.statusReactive.set(t))}_status=Dd(()=>this.statusReactive());statusReactive=Mu(void 0);get valid(){return this.status===X3}get invalid(){return this.status===aS}get pending(){return this.status==bv}get disabled(){return this.status===Z3}get enabled(){return this.status!==Z3}errors;get pristine(){return Ws(this.pristineReactive)}set pristine(t){Ws(()=>this.pristineReactive.set(t))}_pristine=Dd(()=>this.pristineReactive());pristineReactive=Mu(!0);get dirty(){return!this.pristine}get touched(){return Ws(this.touchedReactive)}set touched(t){Ws(()=>this.touchedReactive.set(t))}_touched=Dd(()=>this.touchedReactive());touchedReactive=Mu(!1);get untouched(){return!this.touched}_events=new Cm;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Mse(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Mse(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Ase(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Ase(t,this._rawAsyncValidators))}hasValidator(t){return sS(this._rawValidators,t)}hasAsyncValidator(t){return sS(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const i=!1===this.touched;this.touched=!0;const s=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:s}),i&&!1!==t.emitEvent&&this._events.next(new q9(!0,s))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(t))}markAsUntouched(t={}){const i=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const s=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:s})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,s),i&&!1!==t.emitEvent&&this._events.next(new q9(!1,s))}markAsDirty(t={}){const i=!0===this.pristine;this.pristine=!1;const s=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:s}),i&&!1!==t.emitEvent&&this._events.next(new U9(!1,s))}markAsPristine(t={}){const i=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const s=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,s),i&&!1!==t.emitEvent&&this._events.next(new U9(!0,s))}markAsPending(t={}){this.status=bv;const i=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new lS(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:i})}disable(t={}){const i=this._parentMarkedDirty(t.onlySelf);this.status=Z3,this.errors=null,this._forEachChild(o=>{o.disable({...t,onlySelf:!0})}),this._updateValue();const s=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new Lse(this.value,s)),this._events.next(new lS(this.status,s)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:i},this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const i=this._parentMarkedDirty(t.onlySelf);this.status=X3,this._forEachChild(s=>{s.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:i},this),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(t,i){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const s=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===X3||this.status===bv)&&this._runAsyncValidator(s,t.emitEvent)}const i=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new Lse(this.value,i)),this._events.next(new lS(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:i})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Z3:X3}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,i){if(this.asyncValidator){this.status=bv,this._hasOwnPendingAsyncValidator={emitEvent:!1!==i};const s=wse(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:i,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(!1!==i.emitEvent,this,i.shouldHaveEmitted)}get(t){let i=t;return null==i||(Array.isArray(i)||(i=i.split(".")),0===i.length)?null:i.reduce((s,o)=>s&&s._find(o),this)}getError(t,i){const s=i?this.get(i):this;return s&&s.errors?s.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,i,s){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||s)&&this._events.next(new lS(this.status,i)),this._parent&&this._parent._updateControlsErrors(t,i,s)}_initObservables(){this.valueChanges=new da,this.statusChanges=new da}_calculateStatus(){return this._allControlsDisabled()?Z3:this.errors?aS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bv)?bv:this._anyControlsHaveStatus(aS)?aS:X3}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,i){const s=!this._anyControlsDirty(),o=this.pristine!==s;this.pristine=s,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),o&&this._events.next(new U9(this.pristine,i))}_updateTouched(t={},i){this.touched=this._anyControlsTouched(),this._events.next(new q9(this.touched,i)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cS(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function dWe(n){return Array.isArray(n)?j9(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function pWe(n){return Array.isArray(n)?V9(n):n||null}(this._rawAsyncValidators)}}const Ev=new Yt("",{providedIn:"root",factory:()=>uS}),uS="always";function Q3(n,t,i=uS){(function X9(n,t){const i=function Dse(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(Pse(i,t.validator)):"function"==typeof i&&n.setValidators([i]);const s=function kse(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(Pse(s,t.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const o=()=>n.updateValueAndValidity();fS(t._rawValidators,o),fS(t._rawAsyncValidators,o)})(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===i)&&t.valueAccessor.setDisabledState?.(n.disabled),function mWe(n,t){t.valueAccessor.registerOnChange(i=>{n._pendingValue=i,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&jse(n,t)})}(n,t),function yWe(n,t){const i=(s,o)=>{t.valueAccessor.writeValue(s),o&&t.viewToModelUpdate(s)};n.registerOnChange(i),t._registerOnDestroy(()=>{n._unregisterOnChange(i)})}(n,t),function gWe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&jse(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function hWe(n,t){if(t.valueAccessor.setDisabledState){const i=s=>{t.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(i),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(i)})}}(n,t)}function fS(n,t){n.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function jse(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zse(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}function Hse(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}Promise.resolve();const Use=class extends K9{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,i,s){super(function W9(n){return(cS(n)?n.validators:n)||null}(i),function G9(n,t){return(cS(t)?t.asyncValidators:n)||null}(s,i)),this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cS(i)&&(i.nonNullable||i.initialValueIsDefault)&&(this.defaultValue=Hse(t)?t.value:t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){zse(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){zse(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Hse(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},TWe={provide:kh,useExisting:Ni(()=>Mh)},qse=Promise.resolve();let Mh=(()=>{class n extends kh{_changeDetectorRef;callSetDisabledState;control=new Use;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new da;constructor(i,s,o,a,l,c){super(),this._changeDetectorRef=l,this.callSetDisabledState=c,this._parent=i,this._setValidators(s),this._setAsyncValidators(o),this.valueAccessor=function J9(n,t){if(!t)return null;let i,s,o;return Array.isArray(t),t.forEach(a=>{a.constructor===Ph?i=a:function _We(n){return Object.getPrototypeOf(n.constructor)===rg}(a)?s=a:o=a}),o||s||i||null}(0,a)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){const s=i.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),function Q9(n,t){if(!n.hasOwnProperty("model"))return!1;const i=n.model;return!!i.isFirstChange()||!Object.is(t,i.currentValue)}(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Q3(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){qse.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){const s=i.isDisabled.currentValue,o=0!==s&&function KR(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(s);qse.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?function dS(n,t){return[...t.path,n]}(i,this._parent):[i]}static \u0275fac=function(s){return new(s||n)(Tt(Za,9),Tt(ma,10),Tt(Dh,10),Tt(Ad,10),Tt(T6,8),Tt(Ev,8))};static \u0275dir=nr({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[rs([TWe]),ui,uh]})}return n})();const DWe={provide:Ad,useExisting:Ni(()=>vS),multi:!0};let vS=(()=>{class n extends rg{writeValue(i){this.setProperty("value",i??"")}registerOnChange(i){this.onChange=s=>{i(""==s?null:parseFloat(s))}}static \u0275fac=(()=>{let i;return function(o){return(i||(i=ua(n)))(o||n)}})();static \u0275dir=nr({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(s,o){1&s&&Mt("input",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[rs([DWe]),ui]})}return n})();const BWe={provide:Ad,useExisting:Ni(()=>sg),multi:!0};function Qse(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let sg=(()=>{class n extends rg{value;_optionMap=new Map;_idCounter=0;set compareWith(i){this._compareWith=i}_compareWith=Object.is;writeValue(i){this.value=i;const o=Qse(this._getOptionId(i),i);this.setProperty("value",o)}registerOnChange(i){this.onChange=s=>{this.value=this._getOptionValue(s),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(const s of this._optionMap.keys())if(this._compareWith(this._optionMap.get(s),i))return s;return null}_getOptionValue(i){const s=function jWe(n){return n.split(":")[0]}(i);return this._optionMap.has(s)?this._optionMap.get(s):i}static \u0275fac=(()=>{let i;return function(o){return(i||(i=ua(n)))(o||n)}})();static \u0275dir=nr({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(s,o){1&s&&Mt("change",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[rs([BWe]),ui]})}return n})(),tE=(()=>{class n{_element;_renderer;_select;id;constructor(i,s,o){this._element=i,this._renderer=s,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(i){null!=this._select&&(this._select._optionMap.set(this.id,i),this._setElementValue(Qse(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(s){return new(s||n)(Tt(ku),Tt(Wm),Tt(sg,9))};static \u0275dir=nr({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();const VWe={provide:Ad,useExisting:Ni(()=>eN),multi:!0};function Jse(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let eN=(()=>{class n extends rg{value;_optionMap=new Map;_idCounter=0;set compareWith(i){this._compareWith=i}_compareWith=Object.is;writeValue(i){let s;if(this.value=i,Array.isArray(i)){const o=i.map(a=>this._getOptionId(a));s=(a,l)=>{a._setSelected(o.indexOf(l.toString())>-1)}}else s=(o,a)=>{o._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(i){this.onChange=s=>{const o=[],a=s.selectedOptions;if(void 0!==a){const l=a;for(let c=0;c<l.length;c++){const d=this._getOptionValue(l[c].value);o.push(d)}}else{const l=s.options;for(let c=0;c<l.length;c++){const u=l[c];if(u.selected){const d=this._getOptionValue(u.value);o.push(d)}}}this.value=o,i(o)}}_registerOption(i){const s=(this._idCounter++).toString();return this._optionMap.set(s,i),s}_getOptionId(i){for(const s of this._optionMap.keys())if(this._compareWith(this._optionMap.get(s)._value,i))return s;return null}_getOptionValue(i){const s=function $We(n){return n.split(":")[0]}(i);return this._optionMap.has(s)?this._optionMap.get(s)._value:i}static \u0275fac=(()=>{let i;return function(o){return(i||(i=ua(n)))(o||n)}})();static \u0275dir=nr({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(s,o){1&s&&Mt("change",function(l){return o.onChange(l.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[rs([VWe]),ui]})}return n})(),nE=(()=>{class n{_element;_renderer;_select;id;_value;constructor(i,s,o){this._element=i,this._renderer=s,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){null!=this._select&&(this._value=i,this._setElementValue(Jse(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(Jse(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(s){return new(s||n)(Tt(ku),Tt(Wm),Tt(eN,9))};static \u0275dir=nr({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function toe(n){return"number"==typeof n?n:parseFloat(n)}let og=(()=>{class n{_validator=iS;_onChange;_enabled;ngOnChanges(i){if(this.inputName in i){const s=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(s),this._validator=this._enabled?this.createValidator(s):iS,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return null!=i}static \u0275fac=function(s){return new(s||n)};static \u0275dir=nr({type:n,features:[uh]})}return n})();const zWe={provide:ma,useExisting:Ni(()=>ES),multi:!0};let ES=(()=>{class n extends og{max;inputName="max";normalizeInput=i=>toe(i);createValidator=i=>function hse(n){return t=>{if(null==t.value||null==n)return null;const i=parseFloat(t.value);return!isNaN(i)&&i>n?{max:{max:n,actual:t.value}}:null}}(i);static \u0275fac=(()=>{let i;return function(o){return(i||(i=ua(n)))(o||n)}})();static \u0275dir=nr({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(s,o){2&s&&Bp("max",o._enabled?o.max:null)},inputs:{max:"max"},standalone:!1,features:[rs([zWe]),ui]})}return n})();const HWe={provide:ma,useExisting:Ni(()=>wS),multi:!0};let wS=(()=>{class n extends og{min;inputName="min";normalizeInput=i=>toe(i);createValidator=i=>function fse(n){return t=>{if(null==t.value||null==n)return null;const i=parseFloat(t.value);return!isNaN(i)&&i<n?{min:{min:n,actual:t.value}}:null}}(i);static \u0275fac=(()=>{let i;return function(o){return(i||(i=ua(n)))(o||n)}})();static \u0275dir=nr({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(s,o){2&s&&Bp("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[rs([HWe]),ui]})}return n})(),XWe=(()=>{class n{static \u0275fac=function(s){return new(s||n)};static \u0275mod=Km({type:n});static \u0275inj=oh({})}return n})(),QWe=(()=>{class n{static withConfig(i){return{ngModule:n,providers:[{provide:Ev,useValue:i.callSetDisabledState??uS}]}}static \u0275fac=function(s){return new(s||n)};static \u0275mod=Km({type:n});static \u0275inj=oh({imports:[XWe]})}return n})();function Lt(n,t){t&&(n.super_=t,n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}function rE(n){return Array.prototype.concat.apply([],n)}const iE=Object.prototype.toString,JWe=Object.prototype.hasOwnProperty;function Sr(n){return void 0===n}function Hr(n){return void 0!==n}function Id(n){return null==n}function Vt(n){return"[object Array]"===iE.call(n)}function fr(n){return"[object Object]"===iE.call(n)}function un(n){return"[object Number]"===iE.call(n)}function Gn(n){const t=iE.call(n);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}function $n(n){return"[object String]"===iE.call(n)}function po(n,t){return JWe.call(n,t)}function It(n,t){const i=xS(t);let s;return se(n,function(o,a){if(i(o,a))return s=o,!1}),s}function Pl(n,t){const i=xS(t);let s=Vt(n)?-1:void 0;return se(n,function(o,a){if(i(o,a))return s=a,!1}),s}function hn(n,t){const i=xS(t);let s=[];return se(n,function(o,a){i(o,a)&&s.push(o)}),s}function se(n,t){let i,s;if(Sr(n))return;const o=Vt(n)?iGe:rGe;for(let a in n)if(po(n,a)&&(i=n[a],s=t(i,o(a)),!1===s))return i}function Mn(n,t){if(Sr(n))return[];!function eGe(n){if(!Vt(n))throw new Error("must supply array")}(n);const i=xS(t);return n.filter(function(s,o){return!i(s,o)})}function ps(n,t,i){return se(n,function(s,o){i=t(i,s,o)}),i}function tc(n,t){return!!ps(n,function(i,s,o){return i&&t(s,o)},!0)}function qc(n,t){return!!It(n,t)}function xs(n,t){let i=[];return se(n,function(s,o){i.push(t(s,o))}),i}function Dl(n){return n&&Object.keys(n)||[]}function wv(n){return xs(n,t=>t)}function Fu(n,t,i={}){return t=rN(t),se(n,function(s){let o=t(s)||"_",a=i[o];a||(a=i[o]=[]),a.push(s)}),i}function nN(n,...t){n=rN(n);let i={};return se(t,o=>Fu(o,n,i)),xs(i,function(o,a){return o[0]})}const nGe=nN;function Ys(n,t){t=rN(t);let i=[];return se(n,function(s,o){let a=t(s,o),l={d:a,v:s};for(var c=0;c<i.length;c++){let{d:u}=i[c];if(a<u)return void i.splice(c,0,l)}i.push(l)}),xs(i,s=>s.v)}function Bu(n){return function(t){return tc(n,function(i,s){return t[s]===i})}}function rN(n){return Gn(n)?n:t=>t[n]}function xS(n){return Gn(n)?n:t=>t===n}function rGe(n){return n}function iGe(n){return Number(n)}function xv(n,t){let i,s,o,a;function l(f){let h=Date.now(),m=f?0:a+t-h;if(m>0)return c(m);n.apply(o,s),u()}function c(f){i=setTimeout(l,f)}function u(){i&&clearTimeout(i),i=a=s=o=void 0}function p(...f){a=Date.now(),s=f,o=this,i||c(t)}return p.flush=function d(){i&&l(!0),u()},p.cancel=u,p}function Cs(n,t){return n.bind(t)}function pe(n,...t){return Object.assign(n,...t)}function Ah(n,t,i){let s=n;return se(t,function(o,a){if("number"!=typeof o&&"string"!=typeof o)throw new Error("illegal key type: "+typeof o+". Key should be of type number or string.");if("constructor"===o)throw new Error("illegal key: constructor");if("__proto__"===o)throw new Error("illegal key: __proto__");let l=t[a+1],c=s[o];Hr(l)&&Id(c)&&(c=s[o]=isNaN(+l)?{}:[]),Sr(l)?Sr(i)?delete s[o]:s[o]=i:s=c}),n}function kl(n,t,i){let s=n;return se(t,function(o){if(Id(s))return s=void 0,!1;s=s[o]}),Sr(s)?i:s}function nc(n,t){let i={},s=Object(n);return se(t,function(o){o in s&&(i[o]=n[o])}),i}function Wc(n,t){let i={};return se(Object(n),function(o,a){-1===t.indexOf(a)&&(i[a]=o)}),i}function Qa(n,t){var i=this;n.on(["render.shape","render.connection"],t=t||1e3,function(s,o){var a=s.type,l=o.element,c=o.gfx,u=o.attrs;if(i.canRender(l))return"render.shape"===a?i.drawShape(c,l,u):i.drawConnection(c,l,u)}),n.on(["render.getShapePath","render.getConnectionPath"],t,function(s,o){if(i.canRender(o))return"render.getShapePath"===s.type?i.getShapePath(o):i.getConnectionPath(o)})}function T(n,t){var i=G(n);return i&&"function"==typeof i.$instanceOf&&i.$instanceOf(t)}function Kt(n,t){return qc(t,function(i){return T(n,i)})}function G(n){return n&&n.businessObject||n}function vr(n){return n&&n.di}function ar(n,t){return!T(n,"bpmn:CallActivity")&&(T(n,"bpmn:SubProcess")?!(!(t=t||vr(n))||!T(t,"bpmndi:BPMNPlane"))||t&&!!t.isExpanded:!T(n,"bpmn:Participant")||!!G(n).processRef)}function Xs(n){if(T(n,"bpmn:Participant")||T(n,"bpmn:Lane")){var t=vr(n).isHorizontal;return void 0===t||t}}function aoe(n){return n&&!1!==G(n).isInterrupting}function Zs(n){return n&&!!G(n).triggeredByEvent}function Cv(n,t){return qc(G(n).eventDefinitions,function(s){return T(s,t)})}function ri(n){return fr(n)&&po(n,"waypoints")}function hr(n){return fr(n)&&po(n,"labelTarget")}Qa.prototype.canRender=function(n){},Qa.prototype.drawShape=function(n,t){},Qa.prototype.drawConnection=function(n,t){},Qa.prototype.getShapePath=function(n){},Qa.prototype.getConnectionPath=function(n){};var sE={width:90,height:20};function ag(n){return T(n,"bpmn:Event")||T(n,"bpmn:Gateway")||T(n,"bpmn:DataStoreReference")||T(n,"bpmn:DataObjectReference")||T(n,"bpmn:DataInput")||T(n,"bpmn:DataOutput")||T(n,"bpmn:SequenceFlow")||T(n,"bpmn:MessageFlow")||T(n,"bpmn:Group")}function CS(n){return hr(n.label)}function iN(n){return n.waypoints?function dGe(n){var t=n.length/2-1,i=n[Math.floor(t)],s=n[Math.ceil(t+.01)],o=function pGe(n){var t=n.length/2-1,i=n[Math.floor(t)],s=n[Math.ceil(t+.01)];return{x:i.x+(s.x-i.x)/2,y:i.y+(s.y-i.y)/2}}(n),a=Math.atan((s.y-i.y)/(s.x-i.x)),l=o.x,c=o.y;return Math.abs(a)<Math.PI/2?c-=15:l+=15,{x:l,y:c}}(n.waypoints):T(n,"bpmn:Group")?{x:n.x+n.width/2,y:n.y+sE.height/2}:{x:n.x+n.width/2,y:n.y+n.height+sE.height/2}}function coe(n){return T(n,"bpmn:FlowElement")||T(n,"bpmn:Participant")||T(n,"bpmn:Lane")||T(n,"bpmn:SequenceFlow")||T(n,"bpmn:MessageFlow")||T(n,"bpmn:DataInput")||T(n,"bpmn:DataOutput")?"name":T(n,"bpmn:TextAnnotation")?"text":T(n,"bpmn:Group")?"categoryValueRef":void 0}function Ja(n){var t=n.businessObject,i=coe(t);if(i)return"categoryValueRef"===i?function hGe(n){var t=n.categoryValueRef;return t&&t.value||""}(t):t[i]||""}function uoe(n,t){var i=n.businessObject,s=coe(i);return s&&("categoryValueRef"===s?i.categoryValueRef.value=t:i[s]=t),n}function doe(n,t){return t.appendChild(function sN(n,t){if(n.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(n,!0)}catch{}return n}(n,t))}function sn(n,t){return doe(t,n),n}var poe={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":2,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":2,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function foe(n,t,i){var s=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=poe[s];o?(2===o&&"number"==typeof i&&(i=String(i)+"px"),n.style[s]=i):n.setAttributeNS(null,t,i)}function Pt(n,t,i){if("string"==typeof t){if(void 0===i)return function mGe(n,t){return poe[t]?n.style[t]:n.getAttributeNS(null,t)}(n,t);foe(n,t,i)}else!function gGe(n,t){var s,o,i=Object.keys(t);for(s=0;o=i[s];s++)foe(n,o,t[o])}(n,t);return n}const yGe=Object.prototype.toString;function mr(n){return new Ih(n)}function Ih(n){if(!n||!n.nodeType)throw new Error("A DOM element reference is required");this.el=n,this.list=n.classList}function lg(n){for(var t;t=n.firstChild;)n.removeChild(t);return n}function aN(n){return n.cloneNode(!0)}Ih.prototype.add=function(n){return this.list.add(n),this},Ih.prototype.remove=function(n){return"[object RegExp]"==yGe.call(n)?this.removeMatching(n):(this.list.remove(n),this)},Ih.prototype.removeMatching=function(n){const t=this.array();for(let i=0;i<t.length;i++)n.test(t[i])&&this.remove(t[i]);return this},Ih.prototype.toggle=function(n,t){return typeof t<"u"?t!==this.list.toggle(n,t)&&this.list.toggle(n):this.list.toggle(n),this},Ih.prototype.array=function(){return Array.from(this.list)},Ih.prototype.has=Ih.prototype.contains=function(n){return this.list.contains(n)};var lN_svg="http://www.w3.org/2000/svg",hoe='<svg xmlns="'+lN_svg+'"';function moe(n){var t=!1;"<svg"===n.substring(0,4)?-1===n.indexOf(lN_svg)&&(n=hoe+n.substring(4)):(n=hoe+">"+n+"</svg>",t=!0);var i=function vGe(n){var t;return(t=new DOMParser).async=!1,t.parseFromString(n,"text/xml")}(n);if(!t)return i;for(var s=document.createDocumentFragment(),o=i.firstChild;o.firstChild;)s.appendChild(o.firstChild);return s}function $t(n,t){var i;return"<"===(n=n.trim()).charAt(0)?(i=moe(n).firstChild,i=document.importNode(i,!0)):i=document.createElementNS(lN_svg,n),t&&Pt(i,t),i}var cN=null;function SS(){return null===cN&&(cN=$t("svg")),cN}function uN(n,t){var i,s,o=Object.keys(t);for(i=0;s=o[i];i++)n[s]=t[s];return n}function oE(n){return n?SS().createSVGTransformFromMatrix(n):SS().createSVGTransform()}var goe=/([&<>]{1})/g,_Ge=/([\n\r"]{1})/g,EGe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function dN(n,t){return n.replace(t,function i(s,o){return EGe[o]||o})}function yoe(n,t){var i,s,o,a,l;switch(n.nodeType){case 3:t.push(dN(n.textContent,goe));break;case 1:if(t.push("<",n.tagName),n.hasAttributes())for(i=0,s=(o=n.attributes).length;i<s;++i)a=o.item(i),t.push(" ",a.name,'="',dN(a.value,_Ge),'"');if(n.hasChildNodes()){for(t.push(">"),i=0,s=(l=n.childNodes).length;i<s;++i)yoe(l.item(i),t);t.push("</",n.tagName,">")}else t.push("/>");break;case 8:t.push("\x3c!--",dN(n.nodeValue,goe),"--\x3e");break;case 4:t.push("<![CDATA[",n.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+n.nodeType)}return t}function pN(n,t){if(void 0!==t){try{!function wGe(n,t){var i=moe(t);if(lg(n),t){(function CGe(n){return"#document-fragment"===n.nodeName})(i)||(i=i.documentElement);for(var s=function SGe(n){return Array.prototype.slice.call(n)}(i.childNodes),o=0;o<s.length;o++)doe(s[o],n)}}(n,t)}catch(i){throw new Error("error parsing SVG: "+i.message)}return n}return function xGe(n){for(var t=n.firstChild,i=[];t;)yoe(t,i),t=t.nextSibling;return i.join("")}(n)}function Ss(n){var t=n.parentNode;return t&&t.removeChild(n),n}function TGe(n,t){return t instanceof SVGMatrix?n.createSVGTransformFromMatrix(t):t}function aE(n,t){var i=n.transform.baseVal;return t&&(Array.isArray(t)||(t=[t]),function PGe(n,t){var i,s;for(n.clear(),i=0;s=t[i];i++)n.appendItem(TGe(n,s))}(i,t)),i.consolidate()}function cg(n){return n.flat().join(",").replace(/,?([A-z]),?/g,"$1")}function DGe(n){return["M",n.x,n.y]}function fN(n){return["L",n.x,n.y]}function kGe(n,t,i){return["C",n.x,n.y,t.x,t.y,i.x,i.y]}function MGe(n,t){const i=n.length,s=[DGe(n[0])];for(let o=1;o<i;o++){const a=n[o-1],l=n[o],c=n[o+1];if(!c||!t){s.push(fN(l));continue}const u=Math.min(t,hN(l.x-a.x,l.y-a.y),hN(c.x-l.x,c.y-l.y));if(!u){s.push(fN(l));continue}const d=OS(l,a,u),p=OS(l,a,.5*u),f=OS(l,c,u),h=OS(l,c,.5*u);s.push(fN(d)),s.push(kGe(p,h,f))}return s}function OS(n,t,i){const s=t.x-n.x,o=t.y-n.y,l=i/hN(s,o);return{x:n.x+s*l,y:n.y+o*l}}function hN(n,t){return Math.sqrt(Math.pow(n,2)+Math.pow(t,2))}function lE(n,t,i){un(t)&&(i=t,t=null),t||(t={});const s=$t("path",t);return un(i)&&(s.dataset.cornerRadius=String(i)),voe(s,n)}function voe(n,t){return Pt(n,{d:cg(MGe(t,parseInt(n.dataset.cornerRadius,10)||0))}),n}var mN="hsl(225, 10%, 15%)";function Rd(n,t){return qc(n.eventDefinitions,function(i){return i.$type===t})}function rr(n,t,i){var s=vr(n);return i||s.get("color:background-color")||s.get("bioc:fill")||t||"white"}function en(n,t,i){var s=vr(n);return i||s.get("color:border-color")||s.get("bioc:stroke")||t||mN}function cE(n,t,i,s){var a=vr(n).get("label");return s||a&&a.get("color:color")||t||en(n,i)}function uE(n,t={}){return{width:Gc(n,t),height:Ml(n,t)}}function Gc(n,t={}){return po(t,"width")?t.width:n.width}function Ml(n,t={}){return po(t,"height")?t.height:n.height}function jGe(n,t){return t.forEach(function(i){i&&"string"!=typeof i&&!Array.isArray(i)&&Object.keys(i).forEach(function(s){if("default"!==s&&!(s in n)){var o=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:function(){return i[s]}})}})}),Object.freeze(n)}const VGe=Object.prototype.toString,$Ge=Object.prototype.hasOwnProperty;function UGe(n,t){return $Ge.call(n,t)}function boe(n,t){let i,s;if(function zGe(n){return void 0===n}(n))return;const o=function HGe(n){return"[object Array]"===VGe.call(n)}(n)?WGe:qGe;for(let a in n)if(UGe(n,a)&&(i=n[a],s=t(i,o(a)),!1===s))return i}function qGe(n){return n}function WGe(n){return Number(n)}function zo(n,...t){const i=n.style;return boe(t,function(s){s&&boe(s,function(o,a){i[a]=o})}),n}function fo(n,t,i){return 2==arguments.length?n.getAttribute(t):null===i?n.removeAttribute(t):(n.setAttribute(t,i),n)}const GGe=Object.prototype.toString;function Nn(n){return new Rh(n)}function Rh(n){if(!n||!n.nodeType)throw new Error("A DOM element reference is required");this.el=n,this.list=n.classList}function TS(n){for(var t;t=n.firstChild;)n.removeChild(t);return n}function Ho(n,t,i){var s=i?n:n.parentNode;return s&&"function"==typeof s.closest&&s.closest(t)||null}Rh.prototype.add=function(n){return this.list.add(n),this},Rh.prototype.remove=function(n){return"[object RegExp]"==GGe.call(n)?this.removeMatching(n):(this.list.remove(n),this)},Rh.prototype.removeMatching=function(n){const t=this.array();for(let i=0;i<t.length;i++)n.test(t[i])&&this.remove(t[i]);return this},Rh.prototype.toggle=function(n,t){return typeof t<"u"?t!==this.list.toggle(n,t)&&this.list.toggle(n):this.list.toggle(n),this},Rh.prototype.array=function(){return Array.from(this.list)},Rh.prototype.has=Rh.prototype.contains=function(n){return this.list.contains(n)};var DS,gN,yN,PS={};function _oe(){DS=window.addEventListener?"addEventListener":"attachEvent",gN=window.removeEventListener?"removeEventListener":"detachEvent",yN="addEventListener"!==DS?"on":""}var kS,Xt=jGe({__proto__:null,bind:PS.bind=function(n,t,i,s){return DS||_oe(),n[DS](yN+t,i,s||!1),i},unbind:PS.unbind=function(n,t,i,s){return gN||_oe(),n[gN](yN+t,i,s||!1),i},default:PS},[PS]),Eoe=["focus","blur"],Uo_bind=function XGe(n,t,i,s,o){return-1!==Eoe.indexOf(i)&&(o=!0),Xt.bind(n,i,function(a){a.delegateTarget=Ho(a.target||a.srcElement,t,!0),a.delegateTarget&&s.call(n,a)},o)},Uo_unbind=function ZGe(n,t,i,s){return-1!==Eoe.indexOf(t)&&(s=!0),Xt.unbind(n,t,i,s)},woe=!1;typeof document<"u"&&((kS=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',woe=!kS.getElementsByTagName("link").length,kS=void 0);var Bs={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:woe?[1,"X<div>","</div>"]:[0,"",""]};Bs.td=Bs.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Bs.option=Bs.optgroup=[1,'<select multiple="multiple">',"</select>"],Bs.thead=Bs.tbody=Bs.colgroup=Bs.caption=Bs.tfoot=[1,"<table>","</table>"],Bs.polyline=Bs.ellipse=Bs.polygon=Bs.circle=Bs.text=Bs.line=Bs.path=Bs.rect=Bs.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var lr=function JGe(n,t){if("string"!=typeof n)throw new TypeError("String expected");t||(t=document);var i=/<([\w:]+)/.exec(n);if(!i)return t.createTextNode(n);n=n.replace(/^\s+|\s+$/g,"");var s=i[1];if("body"==s)return(u=t.createElement("html")).innerHTML=n,u.removeChild(u.lastChild);var u,o=Object.prototype.hasOwnProperty.call(Bs,s)?Bs[s]:Bs._default,a=o[0],l=o[1],c=o[2];for((u=t.createElement("div")).innerHTML=l+n+c;a--;)u=u.lastChild;if(u.firstChild==u.lastChild)return u.removeChild(u.firstChild);for(var d=t.createDocumentFragment();u.firstChild;)d.appendChild(u.removeChild(u.firstChild));return d};function Sv(n,t){return n&&"function"==typeof n.matches&&n.matches(t)||!1}function dn(n,t){return(t=t||document).querySelector(n)}function ju(n,t){return(t=t||document).querySelectorAll(n)}function xo(n){n.parentNode&&n.parentNode.removeChild(n)}function MS(n,t,i,s,o){var a=oE();a.setTranslate(t,i);var l=oE();l.setRotate(s||0,0,0);var c=oE();c.setScale(o||1,o||1),aE(n,[a,l,c])}function Co(n,t,i){var s=oE();s.setTranslate(t,i),aE(n,s)}function xoe(n,t){var i=oE();i.setRotate(t,0,0),aE(n,i)}var tKe=function eKe(n,t){return n(t={exports:{}},t.exports),t.exports}(function(n){var t=n.exports=function(i,s){if(s||(s=16),void 0===i&&(i=128),i<=0)return"0";for(var o=Math.log(Math.pow(2,i))/Math.log(s),a=2;o===1/0;a*=2)o=Math.log(Math.pow(2,i/a))/Math.log(s)*a;var l=o-Math.floor(o),c="";for(a=0;a<Math.floor(o);a++)c=Math.floor(Math.random()*s).toString(s)+c;if(l){var d=Math.pow(s,l);c=Math.floor(Math.random()*d).toString(s)+c}var p=parseInt(c,s);return p!==1/0&&p>=Math.pow(2,i)?t(i,s):c};t.rack=function(i,s,o){var a=function(c){var u=0;do{if(u++>10){if(!o)throw new Error("too many ID collisions, use more bits");i+=o}var d=t(i,s)}while(Object.hasOwnProperty.call(l,d));return l[d]=c,d},l=a.hats={};return a.get=function(c){return a.hats[c]},a.set=function(c,u){return a.hats[c]=u,a},a.bits=i||128,a.base=s||16,a}});function Hp(n){if(!(this instanceof Hp))return new Hp(n);this._seed=(n=n||[128,36,1]).length?tKe.rack(n[0],n[1],n[2]):n}Hp.prototype.next=function(n){return this._seed(n||!0)},Hp.prototype.nextPrefixed=function(n,t){var i;do{i=n+this.next(!0)}while(this.assigned(i));return this.claim(i,t),i},Hp.prototype.claim=function(n,t){this._seed.set(n,t||!0)},Hp.prototype.assigned=function(n){return this._seed.get(n)||!1},Hp.prototype.unclaim=function(n){delete this._seed.hats[n]},Hp.prototype.clear=function(){var t,n=this._seed.hats;for(t in n)this.unclaim(t)};const Nd=Hp;var nKe=new Nd,Ov=.95;function ug(n,t,i,s,o,a,l){Qa.call(this,t,l);var c=n&&n.defaultFillColor,u=n&&n.defaultStrokeColor,d=n&&n.defaultLabelColor;function p(R){return i.computeStyle(R,{strokeLinecap:"round",strokeLinejoin:"round",stroke:mN,strokeWidth:2,fill:"white"})}function f(R){return i.computeStyle(R,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:mN,strokeWidth:2})}function h(R,A){var{ref:N={x:0,y:0},scale:z=1,element:W,parentGfx:Ke=o._svg}=A,tt=$t("marker",{id:R,viewBox:"0 0 20 20",refX:N.x,refY:N.y,markerWidth:20*z,markerHeight:20*z,orient:"auto"});sn(tt,W);var Ge=dn(":scope > defs",Ke);Ge||sn(Ke,Ge=$t("defs")),sn(Ge,tt)}function m(R,A,N,z){var W=nKe.nextPrefixed("marker-");return function g(R,A,N,z,W){"sequenceflow-end"===N&&h(A,{element:$t("path",{d:"M 1 5 L 11 10 L 1 15 Z",...p({fill:W,stroke:W,strokeWidth:1})}),ref:{x:11,y:10},scale:.5,parentGfx:R}),"messageflow-start"===N&&h(A,{element:$t("circle",{cx:6,cy:6,r:3.5,...p({fill:z,stroke:W,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:6,y:6},parentGfx:R}),"messageflow-end"===N&&h(A,{element:$t("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...p({fill:z,stroke:W,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:8.5,y:5},parentGfx:R}),"association-start"===N&&h(A,{element:$t("path",{d:"M 11 5 L 1 10 L 11 15",...f({fill:"none",stroke:W,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:1,y:10},scale:.5,parentGfx:R}),"association-end"===N&&h(A,{element:$t("path",{d:"M 1 5 L 11 10 L 1 15",...f({fill:"none",stroke:W,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:11,y:10},scale:.5,parentGfx:R}),"conditional-flow-marker"===N&&h(A,{element:$t("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...p({fill:z,stroke:W})}),ref:{x:-1,y:10},scale:.5,parentGfx:R}),"conditional-default-flow-marker"===N&&h(A,{element:$t("path",{d:"M 6 4 L 10 16",...p({stroke:W,fill:"none"})}),ref:{x:0,y:10},scale:.5,parentGfx:R})}(R,W,A,N,z),"url(#"+W+")"}function y(R,A,N,z,W={}){fr(z)&&(W=z,z=0),z=z||0,W=p(W);var Ge=$t("circle",{cx:A/2,cy:N/2,r:Math.round((A+N)/4-z),...W});return sn(R,Ge),Ge}function v(R,A,N,z,W,Ke){fr(W)&&(Ke=W,W=0),W=W||0,Ke=p(Ke);var tt=$t("rect",{x:W,y:W,width:A-2*W,height:N-2*W,rx:z,ry:z,...Ke});return sn(R,tt),tt}function E(R,A,N,z){var W=lE(A,N=f(N),z);return sn(R,W),W}function x(R,A,N){return E(R,A,N,5)}function b(R,A,N){N=f(N);var z=$t("path",{...N,d:A});return sn(R,z),z}function w(R,A,N,z){return b(A,N,pe({"data-marker":R},z))}function C(R){return j[R]}function P(R){return function(A,N,z){return C(R)(A,N,z)}}function I(R,A,N={}){var z=G(R),W=function IGe(n){return"bpmn:IntermediateThrowEvent"===n.$type||"bpmn:EndEvent"===n.$type}(z);return z.get("eventDefinitions")&&z.get("eventDefinitions").length>1?z.get("parallelMultiple")?function(R,A,N={}){return b(R,s.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:A.width,containerHeight:A.height,position:{mx:.458,my:.194}}),{fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke),strokeWidth:1})}(A,R,N):function(R,A,N={},z){return b(R,s.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:A.width,containerHeight:A.height,position:{mx:.222,my:.36}}),{fill:z?en(A,u,N.stroke):rr(A,c,N.fill),strokeWidth:1})}(A,R,N,W):Rd(z,"bpmn:MessageEventDefinition")?function(R,A,N={},z){return b(R,s.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:A.width,containerHeight:A.height,position:{mx:.235,my:.315}}),{fill:z?en(A,u,N.stroke):rr(A,c,N.fill),stroke:z?rr(A,c,N.fill):en(A,u,N.stroke),strokeWidth:1})}(A,R,N,W):Rd(z,"bpmn:TimerEventDefinition")?function(R,A,N={}){var z=y(R,A.width,A.height,.2*A.height,{fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke),strokeWidth:2});b(R,s.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:A.width,containerHeight:A.height,position:{mx:.5,my:.5}}),{stroke:en(A,u,N.stroke),strokeWidth:2});for(var Ke=0;Ke<12;Ke++){var tt=s.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:A.width,containerHeight:A.height,position:{mx:.5,my:.5}}),Ge=A.width/2,Nt=A.height/2;b(R,tt,{strokeWidth:1,stroke:en(A,u,N.stroke),transform:"rotate("+30*Ke+","+Nt+","+Ge+")"})}return z}(A,R,N):Rd(z,"bpmn:ConditionalEventDefinition")?function(R,A,N={}){return b(R,s.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:.5,my:.222}}),{fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke),strokeWidth:1})}(A,R,N):Rd(z,"bpmn:SignalEventDefinition")?function(R,A,N={},z){return b(R,s.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:A.width,containerHeight:A.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:z?en(A,u,N.stroke):rr(A,c,N.fill),stroke:en(A,u,N.stroke)})}(A,R,N,W):Rd(z,"bpmn:EscalationEventDefinition")?function(R,A,N={},z){return b(R,s.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:.5,my:.2}}),{fill:z?en(A,u,N.stroke):rr(A,c,N.fill),stroke:en(A,u,N.stroke),strokeWidth:1})}(A,R,N,W):Rd(z,"bpmn:LinkEventDefinition")?function(R,A,N={},z){return b(R,s.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:.57,my:.263}}),{fill:z?en(A,u,N.stroke):rr(A,c,N.fill),stroke:en(A,u,N.stroke),strokeWidth:1})}(A,R,N,W):Rd(z,"bpmn:ErrorEventDefinition")?function(R,A,N={},z){return b(R,s.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:A.width,containerHeight:A.height,position:{mx:.2,my:.722}}),{fill:z?en(A,u,N.stroke):rr(A,c,N.fill),stroke:en(A,u,N.stroke),strokeWidth:1})}(A,R,N,W):Rd(z,"bpmn:CancelEventDefinition")?function(R,A,N={},z){var tt=b(R,s.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:.638,my:-.055}}),{fill:z?en(A,u,N.stroke):"none",stroke:en(A,u,N.stroke),strokeWidth:1});return xoe(tt,45),tt}(A,R,N,W):Rd(z,"bpmn:CompensateEventDefinition")?function(R,A,N={},z){return b(R,s.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:.22,my:.5}}),{fill:z?en(A,u,N.stroke):rr(A,c,N.fill),stroke:en(A,u,N.stroke),strokeWidth:1})}(A,R,N,W):Rd(z,"bpmn:TerminateEventDefinition")?function(R,A,N={}){return y(R,A.width,A.height,8,{fill:en(A,u,N.stroke),stroke:en(A,u,N.stroke),strokeWidth:4})}(A,R,N):null}var k={ParticipantMultiplicityMarker:function(R,A,N={}){var z=Gc(A,N),W=Ml(A,N);w("participant-multiplicity",R,s.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:z,containerHeight:W,position:{mx:(z/2-6)/z,my:(W-15)/W}}),{strokeWidth:2,fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke)})},SubProcessMarker:function(R,A,N={}){Co(v(R,14,14,0,{strokeWidth:1,fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke)}),A.width/2-7.5,A.height-20),w("sub-process",R,s.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:A.width,containerHeight:A.height,position:{mx:(A.width/2-7.5)/A.width,my:(A.height-20)/A.height}}),{fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke)})},ParallelMarker:function(R,A,N){var z=Gc(A,N),W=Ml(A,N);w("parallel",R,s.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:z,containerHeight:W,position:{mx:(z/2+N.parallel)/z,my:(W-20)/W}}),{fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke)})},SequentialMarker:function(R,A,N){w("sequential",R,s.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:(A.width/2+N.seq)/A.width,my:(A.height-19)/A.height}}),{fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke)})},CompensationMarker:function(R,A,N){w("compensation",R,s.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:(A.width/2+N.compensation)/A.width,my:(A.height-13)/A.height}}),{strokeWidth:1,fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke)})},LoopMarker:function(R,A,N){var z=Gc(A,N),W=Ml(A,N);w("loop",R,s.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:z,containerHeight:W,position:{mx:(z/2+N.loop)/z,my:(W-7)/W}}),{strokeWidth:1.5,fill:"none",stroke:en(A,u,N.stroke),strokeMiterlimit:.5})},AdhocMarker:function(R,A,N){var z=Gc(A,N),W=Ml(A,N);w("adhoc",R,s.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:z,containerHeight:W,position:{mx:(z/2+N.adhoc)/z,my:(W-15)/W}}),{strokeWidth:1,fill:en(A,u,N.stroke),stroke:en(A,u,N.stroke)})}};function F(R,A,N,z){k[R](A,N,z)}function M(R,A,N,z={}){z={fill:z.fill,stroke:z.stroke,width:Gc(A,z),height:Ml(A,z)};var W=G(A),Ke=N&&N.includes("SubProcessMarker");z=Ke?{...z,seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{...z,seq:-5,parallel:-6,compensation:-27,loop:0,adhoc:10},se(N,function(Nt){F(Nt,R,A,z)}),W.get("isForCompensation")&&F("CompensationMarker",R,A,z),T(W,"bpmn:AdHocSubProcess")&&F("AdhocMarker",R,A,z);var tt=W.get("loopCharacteristics"),Ge=tt&&tt.get("isSequential");tt&&(void 0===Ge&&F("LoopMarker",R,A,z),!1===Ge&&F("ParallelMarker",R,A,z),!0===Ge&&F("SequentialMarker",R,A,z))}function B(R,A,N={}){N=pe({size:{width:100}},N);var z=a.createText(A||"",N);return mr(z).add("djs-label"),sn(R,z),z}function q(R,A,N,z={}){var W=G(A),Ke=uE({x:A.x,y:A.y,width:A.width,height:A.height},z);return B(R,W.name,{align:N,box:Ke,padding:7,style:{fill:cE(A,d,u,z.stroke)}})}function H(R,A,N,z={}){var W=Xs(N),Ke=B(R,A,{box:{height:30,width:W?Ml(N,z):Gc(N,z)},align:"center-middle",style:{fill:cE(N,d,u,z.stroke)}});W&&MS(Ke,0,1*Ml(N,z),270)}function ee(R,A,N={}){var{width:z,height:W}=uE(A,N);return v(R,z,W,10,{...N,fill:rr(A,c,N.fill),fillOpacity:Ov,stroke:en(A,u,N.stroke)})}function Q(R,A,N={}){var z=G(A),W=rr(A,c,N.fill),Ke=en(A,u,N.stroke);return("One"===z.get("associationDirection")||"Both"===z.get("associationDirection"))&&(N.markerEnd=m(R,"association-end",W,Ke)),"Both"===z.get("associationDirection")&&(N.markerStart=m(R,"association-start",W,Ke)),N=br(N,["markerStart","markerEnd"]),x(R,A.waypoints,{...N,stroke:Ke,strokeDasharray:"0, 5"})}function Ee(R,A,N={}){var z=rr(A,c,N.fill),W=en(A,u,N.stroke),tt=b(R,s.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:.474,my:.296}}),{fill:z,fillOpacity:Ov,stroke:W});return function RGe(n){var t=n.dataObjectRef;return n.isCollection||t&&t.isCollection}(G(A))&&b(R,s.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:.33,my:(A.height-18)/A.height}}),{strokeWidth:2,fill:z,stroke:W}),tt}function Te(R,A,N={}){return y(R,A.width,A.height,{fillOpacity:Ov,...N,fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke)})}function Ve(R,A,N={}){return function _(R,A,N,z){var W=A/2,Ke=N/2,Ge=[{x:W,y:0},{x:A,y:Ke},{x:W,y:N},{x:0,y:Ke}].map(function(Ln){return Ln.x+","+Ln.y}).join(" ");z=p(z);var Nt=$t("polygon",{...z,points:Ge});return sn(R,Nt),Nt}(R,A.width,A.height,{fill:rr(A,c,N.fill),fillOpacity:Ov,stroke:en(A,u,N.stroke)})}function Pe(R,A,N={}){var z=v(R,Gc(A,N),Ml(A,N),0,{fill:rr(A,c,N.fill),fillOpacity:N.fillOpacity||Ov,stroke:en(A,u,N.stroke),strokeWidth:1.5}),W=G(A);return T(W,"bpmn:Lane")&&H(R,W.get("name"),A,N),z}function de(R,A,N={}){var z=ee(R,A,N);Zs(A)&&Pt(z,{strokeDasharray:"0, 5.5",strokeWidth:2.5});var W=ar(A);return q(R,A,W?"center-top":"center-middle",N),M(R,A,W?void 0:["SubProcessMarker"],N),z}function X(R,A,N={}){var z=ee(R,A,N);return q(R,A,"center-middle",N),M(R,A,void 0,N),z}var j=this.handlers={"bpmn:AdHocSubProcess":function(R,A,N={}){return de(R,A,N=ar(A)?br(N,["fill","stroke","width","height"]):br(N,["fill","stroke"]))},"bpmn:Association":function(R,A,N={}){return Q(R,A,N=br(N,["fill","stroke"]))},"bpmn:BoundaryEvent":function(R,A,N={}){var{renderIcon:z=!0}=N;N=br(N,["fill","stroke"]);var Ke=G(A).get("cancelActivity");N={strokeWidth:1.5,fill:rr(A,c,N.fill),fillOpacity:1,stroke:en(A,u,N.stroke)},Ke||(N.strokeDasharray="6");var tt=Te(R,A,N);return y(R,A.width,A.height,3,{...N,fill:"none"}),z&&I(A,R,N),tt},"bpmn:BusinessRuleTask":function(R,A,N={}){var z=X(R,A,N=br(N,["fill","stroke"]));return Pt(b(R,s.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}})),{fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke),strokeWidth:1}),Pt(b(R,s.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}})),{fill:en(A,u,N.stroke),stroke:en(A,u,N.stroke),strokeWidth:1}),z},"bpmn:CallActivity":function(R,A,N={}){return N=br(N,["fill","stroke"]),de(R,A,{strokeWidth:5,...N})},"bpmn:ComplexGateway":function(R,A,N={}){var z=Ve(R,A,N=br(N,["fill","stroke"]));return b(R,s.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:A.width,containerHeight:A.height,position:{mx:.46,my:.26}}),{fill:en(A,u,N.stroke),stroke:en(A,u,N.stroke),strokeWidth:1}),z},"bpmn:DataInput":function(R,A,N={}){N=br(N,["fill","stroke"]);var z=s.getRawPath("DATA_ARROW"),W=Ee(R,A,N);return b(R,z,{fill:"none",stroke:en(A,u,N.stroke),strokeWidth:1}),W},"bpmn:DataInputAssociation":function(R,A,N={}){return N=br(N,["fill","stroke"]),Q(R,A,{...N,markerEnd:m(R,"association-end",rr(A,c,N.fill),en(A,u,N.stroke))})},"bpmn:DataObject":function(R,A,N={}){return Ee(R,A,N=br(N,["fill","stroke"]))},"bpmn:DataObjectReference":P("bpmn:DataObject"),"bpmn:DataOutput":function(R,A,N={}){N=br(N,["fill","stroke"]);var z=s.getRawPath("DATA_ARROW"),W=Ee(R,A,N);return b(R,z,{strokeWidth:1,fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke)}),W},"bpmn:DataOutputAssociation":function(R,A,N={}){return N=br(N,["fill","stroke"]),Q(R,A,{...N,markerEnd:m(R,"association-end",rr(A,c,N.fill),en(A,u,N.stroke))})},"bpmn:DataStoreReference":function(R,A,N={}){return N=br(N,["fill","stroke"]),b(R,s.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:0,my:.133}}),{fill:rr(A,c,N.fill),fillOpacity:Ov,stroke:en(A,u,N.stroke),strokeWidth:2})},"bpmn:EndEvent":function(R,A,N={}){var{renderIcon:z=!0}=N;N=br(N,["fill","stroke"]);var W=Te(R,A,{...N,strokeWidth:4});return z&&I(A,R,N),W},"bpmn:EventBasedGateway":function(R,A,N={}){N=br(N,["fill","stroke"]);var z=G(A),W=Ve(R,A,N);y(R,A.width,A.height,.2*A.height,{fill:rr(A,"none",N.fill),stroke:en(A,u,N.stroke),strokeWidth:1});var Ke=z.get("eventGatewayType"),tt=!!z.get("instantiate");if("Parallel"===Ke){var Nt=s.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:A.width,containerHeight:A.height,position:{mx:.474,my:.296}});b(R,Nt,{fill:"none",stroke:en(A,u,N.stroke),strokeWidth:1})}else"Exclusive"===Ke&&(tt||y(R,A.width,A.height,.26*A.height,{fill:"none",stroke:en(A,u,N.stroke),strokeWidth:1}),function Ge(){var Ln=s.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:A.width,containerHeight:A.height,position:{mx:.36,my:.44}});b(R,Ln,{fill:"none",stroke:en(A,u,N.stroke),strokeWidth:2})}());return W},"bpmn:ExclusiveGateway":function(R,A,N={}){var z=Ve(R,A,N=br(N,["fill","stroke"])),W=s.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:A.width,containerHeight:A.height,position:{mx:.32,my:.3}});return vr(A).get("isMarkerVisible")&&b(R,W,{fill:en(A,u,N.stroke),stroke:en(A,u,N.stroke),strokeWidth:1}),z},"bpmn:Gateway":function(R,A,N={}){return Ve(R,A,N=br(N,["fill","stroke"]))},"bpmn:Group":function(R,A,N={}){return N=br(N,["fill","stroke","width","height"]),v(R,A.width,A.height,10,{stroke:en(A,u,N.stroke),strokeWidth:1.5,strokeDasharray:"10, 6, 0, 6",fill:"none",pointerEvents:"none",width:Gc(A,N),height:Ml(A,N)})},"bpmn:InclusiveGateway":function(R,A,N={}){var z=Ve(R,A,N=br(N,["fill","stroke"]));return y(R,A.width,A.height,.24*A.height,{fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke),strokeWidth:2.5}),z},"bpmn:IntermediateEvent":function(R,A,N={}){var{renderIcon:z=!0}=N;N=br(N,["fill","stroke"]);var W=Te(R,A,{...N,strokeWidth:1.5});return y(R,A.width,A.height,3,{fill:"none",stroke:en(A,u,N.stroke),strokeWidth:1.5}),z&&I(A,R,N),W},"bpmn:IntermediateCatchEvent":P("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":P("bpmn:IntermediateEvent"),"bpmn:Lane":function(R,A,N={}){return N=br(N,["fill","stroke","width","height"]),Pe(R,A,{...N,fillOpacity:.25})},"bpmn:ManualTask":function(R,A,N={}){var z=X(R,A,N=br(N,["fill","stroke"]));return b(R,s.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke),strokeWidth:.5}),z},"bpmn:MessageFlow":function(R,A,N={}){N=br(N,["fill","stroke"]);var z=G(A),W=vr(A),Ke=rr(A,c,N.fill),tt=en(A,u,N.stroke),Ge=x(R,A.waypoints,{markerEnd:m(R,"messageflow-end",Ke,tt),markerStart:m(R,"messageflow-start",Ke,tt),stroke:tt,strokeDasharray:"10, 11",strokeWidth:1.5});if(z.get("messageRef")){var Nt=Ge.getPointAtLength(Ge.getTotalLength()/2),Ln=s.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:Nt.x,y:Nt.y}}),Cr={strokeWidth:1};"initiating"===W.get("messageVisibleKind")?(Cr.fill=Ke,Cr.stroke=tt):(Cr.fill=tt,Cr.stroke=Ke);var At=b(R,Ln,Cr),Ye=B(R,z.get("messageRef").get("name"),{align:"center-top",fitBox:!0,style:{fill:tt}}),Et=At.getBBox(),Ct=Ye.getBBox();MS(Ye,Nt.x-Ct.width/2,Nt.y+Et.height/2+10,0)}return Ge},"bpmn:ParallelGateway":function(R,A,N={}){var z=Ve(R,A,N=br(N,["fill","stroke"]));return b(R,s.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:A.width,containerHeight:A.height,position:{mx:.46,my:.2}}),{fill:en(A,u,N.stroke),stroke:en(A,u,N.stroke),strokeWidth:1}),z},"bpmn:Participant":function(R,A,N={}){var z=Pe(R,A,N=br(N,["fill","stroke","width","height"])),W=ar(A),Ke=Xs(A),tt=G(A),Ge=tt.get("name");if(W)E(R,Ke?[{x:30,y:0},{x:30,y:Ml(A,N)}]:[{x:0,y:30},{x:Gc(A,N),y:30}],{stroke:en(A,u,N.stroke),strokeWidth:1.5}),H(R,Ge,A,N);else{var Ln=uE(A,N);Ke||(Ln.height=Gc(A,N),Ln.width=Ml(A,N));var Cr=B(R,Ge,{box:Ln,align:"center-middle",style:{fill:cE(A,d,u,N.stroke)}});Ke||MS(Cr,0,1*Ml(A,N),270)}return tt.get("participantMultiplicity")&&F("ParticipantMultiplicityMarker",R,A,N),z},"bpmn:ReceiveTask":function(R,A,N={}){N=br(N,["fill","stroke"]);var Ke,z=G(A),W=X(R,A,N);return z.get("instantiate")?(y(R,28,28,4.4,{fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke),strokeWidth:1}),Ke=s.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):Ke=s.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),b(R,Ke,{fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke),strokeWidth:1}),W},"bpmn:ScriptTask":function(R,A,N={}){var z=X(R,A,N=br(N,["fill","stroke"]));return b(R,s.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke),strokeWidth:1}),z},"bpmn:SendTask":function(R,A,N={}){var z=X(R,A,N=br(N,["fill","stroke"]));return b(R,s.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{fill:en(A,u,N.stroke),stroke:rr(A,c,N.fill),strokeWidth:1}),z},"bpmn:SequenceFlow":function(R,A,N={}){N=br(N,["fill","stroke"]);var z=rr(A,c,N.fill),W=en(A,u,N.stroke),Ke=x(R,A.waypoints,{markerEnd:m(R,"sequenceflow-end",z,W),stroke:W}),tt=G(A),{source:Ge}=A;if(Ge){var Nt=G(Ge);tt.get("conditionExpression")&&T(Nt,"bpmn:Activity")&&Pt(Ke,{markerStart:m(R,"conditional-flow-marker",z,W)}),Nt.get("default")&&(T(Nt,"bpmn:Gateway")||T(Nt,"bpmn:Activity"))&&Nt.get("default")===tt&&Pt(Ke,{markerStart:m(R,"conditional-default-flow-marker",z,W)})}return Ke},"bpmn:ServiceTask":function(R,A,N={}){var z=X(R,A,N=br(N,["fill","stroke"]));return y(R,10,10,{fill:rr(A,c,N.fill),stroke:"none",transform:"translate(6, 6)"}),b(R,s.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke),strokeWidth:1}),y(R,10,10,{fill:rr(A,c,N.fill),stroke:"none",transform:"translate(11, 10)"}),b(R,s.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke),strokeWidth:1}),z},"bpmn:StartEvent":function(R,A,N={}){var{renderIcon:z=!0}=N;N=br(N,["fill","stroke"]),G(A).get("isInterrupting")||(N={...N,strokeDasharray:"6"});var Ke=Te(R,A,N);return z&&I(A,R,N),Ke},"bpmn:SubProcess":function(R,A,N={}){return de(R,A,N=ar(A)?br(N,["fill","stroke","width","height"]):br(N,["fill","stroke"]))},"bpmn:Task":function(R,A,N={}){return X(R,A,N=br(N,["fill","stroke"]))},"bpmn:TextAnnotation":function(R,A,N={}){N=br(N,["fill","stroke","width","height"]);var{width:z,height:W}=uE(A,N),Ke=v(R,z,W,0,0,{fill:"none",stroke:"none"});return b(R,s.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:z,containerHeight:W,position:{mx:0,my:0}}),{stroke:en(A,u,N.stroke)}),B(R,G(A).get("text")||"",{align:"left-top",box:uE(A,N),padding:7,style:{fill:cE(A,d,u,N.stroke)}}),Ke},"bpmn:Transaction":function(R,A,N={}){N=ar(A)?br(N,["fill","stroke","width","height"]):br(N,["fill","stroke"]);var z=de(R,A,{strokeWidth:1.5,...N}),W=i.style(["no-fill","no-events"],{stroke:en(A,u,N.stroke),strokeWidth:1.5});return ar(A)||(N={}),v(R,Gc(A,N),Ml(A,N),7,3,W),z},"bpmn:UserTask":function(R,A,N={}){var z=X(R,A,N=br(N,["fill","stroke"]));return b(R,s.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke),strokeWidth:.5}),b(R,s.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{fill:rr(A,c,N.fill),stroke:en(A,u,N.stroke),strokeWidth:.5}),b(R,s.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{fill:en(A,u,N.stroke),stroke:en(A,u,N.stroke),strokeWidth:.5}),z},label:function(R,A,N={}){return function ue(R,A,N={}){var z={width:90,height:30,x:A.width/2+A.x,y:A.height/2+A.y};return B(R,Ja(A),{box:z,fitBox:!0,style:pe({},a.getExternalStyle(),{fill:cE(A,d,u,N.stroke)})})}(R,A,N)}};this._drawPath=b,this._renderer=C}function br(n,t=[]){return t.reduce((i,s)=>(n[s]&&(i[s]=n[s]),i),{})}Lt(ug,Qa),ug.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],ug.prototype.canRender=function(n){return T(n,"bpmn:BaseElement")},ug.prototype.drawShape=function(n,t,i={}){var{type:s}=t;return this._renderer(s)(n,t,i)},ug.prototype.drawConnection=function(n,t,i={}){var{type:s}=t;return this._renderer(s)(n,t,i)},ug.prototype.getShapePath=function(n){return T(n,"bpmn:Event")?function NGe(n){var s=n.width/2;return cg([["M",n.x+n.width/2,n.y+n.height/2],["m",0,-s],["a",s,s,0,1,1,0,2*s],["a",s,s,0,1,1,0,-2*s],["z"]])}(n):T(n,"bpmn:Activity")?function LGe(n,t){var o=n.width,a=n.height;return cg([["M",n.x+t,n.y],["l",o-2*t,0],["a",t,t,0,0,1,t,t],["l",0,a-2*t],["a",t,t,0,0,1,-t,t],["l",2*t-o,0],["a",t,t,0,0,1,-t,-t],["l",0,2*t-a],["a",t,t,0,0,1,t,-t],["z"]])}(n,10):T(n,"bpmn:Gateway")?function FGe(n){var a=n.width/2,l=n.height/2;return cg([["M",n.x+a,n.y],["l",a,l],["l",-a,l],["l",-a,-l],["z"]])}(n):function BGe(n){var s=n.width;return cg([["M",n.x,n.y],["l",s,0],["l",0,n.height],["l",-s,0],["z"]])}(n)};var lKe={width:150,height:50};function dKe(n,t){var i;t.textContent=n;try{var s,o=""===n;return t.textContent=o?"dummy":n,s={width:(i=t.getBBox()).width+2*i.x,height:i.height},o&&(s.width=0),s}catch{return{width:0,height:0}}}function pKe(n,t,i){for(var a,s=n.shift(),o=s;;){if((a=dKe(o,i)).width=o?a.width:0," "===o||""===o||a.width<Math.round(t)||o.length<2)return fKe(n,o,s,a);o=mKe(o,a.width,t)}}function fKe(n,t,i,s){if(t.length<i.length){var o=i.slice(t.length).trim();n.unshift(o)}return{width:s.width,height:s.height,text:t}}var Coe="\xad";function mKe(n,t,i){var s=Math.max(n.length*(i/t),1),o=function hKe(n,t){var s,i=n.split(/(\s|-|\u00AD)/g),o=[],a=0;if(i.length>1)for(;s=i.shift();){if(!(s.length+a<t)){("-"===s||s===Coe)&&o.pop();break}o.push(s),a+=s.length}var l=o[o.length-1];return l&&l===Coe&&(o[o.length-1]="-"),o.join("")}(n,s);return o||(o=n.slice(0,Math.max(Math.round(s-1),1))),o}function dE(n){this._config=pe({},{size:lKe,padding:0,style:{},align:"center-top"},n||{})}function Soe(n){var t=pe({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},n&&n.defaultStyle||{}),i=parseInt(t.fontSize,10)-1,s=pe({},t,{fontSize:i},n&&n.externalStyle||{}),o=new dE({style:t});this.getExternalLabelBounds=function(a,l){var c=o.getDimensions(l,{box:{width:90,height:30},style:s});return{x:Math.round(a.x+a.width/2-c.width/2),y:Math.round(a.y),width:Math.ceil(c.width),height:Math.ceil(c.height)}},this.getTextAnnotationBounds=function(a,l){var c=o.getDimensions(l,{box:a,style:t,align:"left-top",padding:5});return{x:a.x,y:a.y,width:a.width,height:Math.max(30,Math.round(c.height))}},this.createText=function(a,l){return o.createText(a,l||{})},this.getDefaultStyle=function(){return t},this.getExternalStyle=function(){return s}}dE.prototype.createText=function(n,t){return this.layoutText(n,t).element},dE.prototype.getDimensions=function(n,t){return this.layoutText(n,t).dimensions},dE.prototype.layoutText=function(n,t){var i=pe({},this._config.size,t.box),s=pe({},this._config.style,t.style),o=function cKe(n){var t=n.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}(t.align||this._config.align),a=function uKe(n){return fr(n)?pe({top:0,left:0,right:0,bottom:0},n):{top:n,left:n,right:n,bottom:n}}(void 0!==t.padding?t.padding:this._config.padding),l=t.fitBox||!1,c=function yKe(n){if("fontSize"in n&&"lineHeight"in n)return n.lineHeight*parseInt(n.fontSize,10)}(s),u=n.split(/\u00AD?\r?\n/),d=[],p=i.width-a.left-a.right,f=$t("text");Pt(f,{x:0,y:0}),Pt(f,s);var h=function gKe(){var n=document.getElementById("helper-svg");return n||(Pt(n=$t("svg"),{id:"helper-svg"}),zo(n,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(n)),n}();for(sn(h,f);u.length;)d.push(pKe(u,p,f));"middle"===o.vertical&&(a.top=a.bottom=0);var m=ps(d,function(E,x,b){return E+(c||x.height)},0)+a.top+a.bottom,g=ps(d,function(E,x,b){return x.width>E?x.width:E},0),y=a.top;"middle"===o.vertical&&(y+=(i.height-m)/2),y-=(c||d[0].height)/4;var v=$t("text");return Pt(v,s),se(d,function(E){var x;switch(y+=c||E.height,o.horizontal){case"left":x=a.left;break;case"right":x=(l?g:p)-a.right-E.width;break;default:x=Math.max(((l?g:p)-E.width)/2+a.left,0)}var b=$t("tspan");Pt(b,{x,y}),b.textContent=E.text,sn(v,b)}),Ss(f),{dimensions:{width:g,height:m},element:v}},Soe.$inject=["config.textRenderer"];var wKe=/\{([^{}]+)\}/g,xKe=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;const OKe={__init__:["bpmnRenderer"],bpmnRenderer:["type",ug],textRenderer:["type",Soe],pathMap:["type",function EKe(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(t){return this.pathMap[t].d},this.getScaledPath=function(t,i){var o,a,s=this.pathMap[t];i.abspos?(o=i.abspos.x,a=i.abspos.y):(o=i.containerWidth*i.position.mx,a=i.containerHeight*i.position.my);var l={};if(i.position){for(var c=i.containerHeight/s.height*i.yScaleFactor,u=i.containerWidth/s.width*i.xScaleFactor,d=0;d<s.heightElements.length;d++)l["y"+d]=s.heightElements[d]*c;for(var p=0;p<s.widthElements.length;p++)l["x"+p]=s.widthElements[p]*u}var f=function SKe(n,t){return String(n).replace(wKe,function(i,s){return function CKe(n,t,i){var s=i;return t.replace(xKe,function(o,a,l,c,u){a=a||c,s&&(a in s&&(s=s[a]),"function"==typeof s&&u&&(s=s()))}),s=(null==s||s==i?n:s)+""}(i,s,t)})}(s.d,{mx:o,my:a,e:l});return f}}]},So={translate:["value",function TKe(n,t){return t=t||{},n.replace(/{([^}]+)}/g,function(i,s){return t[s]||"{"+s+"}"})}]};function pE(n,t){return n&&t?Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)):-1}function vN(n,t,i,s){if(typeof s>"u"&&(s=5),!n||!t||!i)return!1;var o=(t.x-n.x)*(i.y-n.y)-(t.y-n.y)*(i.x-n.x),a=pE(n,t);return Math.abs(o/a)<=s}function Up(n,t){var i=Array.from(arguments).flat();const s={x:"v",y:"h"};for(const[o,a]of Object.entries(s))if(DKe(o,i))return a;return!1}function DKe(n,t){const i=t[0];return tc(t,function(s){return Math.abs(i[n]-s[n])<=2})}function Ooe(n,t,i){return n.x>t.x-(i=i||0)&&n.y>t.y-i&&n.x<t.x+t.width+i&&n.y<t.y+t.height+i}function bN(n,t){return{x:Math.round(n.x+(t.x-n.x)/2),y:Math.round(n.y+(t.y-n.y)/2)}}var kKe=/,?([a-z]),?/gi,Toe=parseFloat,Os=Math,Nh=Os.PI,Ld=Os.min,Fd=Os.max,Poe=Os.pow,Lh=Os.abs,MKe=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,AKe=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,RS=Array.isArray||function(n){return n instanceof Array};function _N(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function fE(n){if("function"==typeof n||Object(n)!==n)return n;var t=new n.constructor;for(var i in n)_N(n,i)&&(t[i]=fE(n[i]));return t}function Tv(n){var t=Tv.ps=Tv.ps||{};return t[n]?t[n].sleep=100:t[n]={sleep:100},setTimeout(function(){for(var i in t)_N(t,i)&&i!=n&&(t[i].sleep--,!t[i].sleep&&delete t[i])}),t[n]}function EN(n,t,i,s){return 1===arguments.length&&(t=n.y,i=n.width,s=n.height,n=n.x),{x:n,y:t,width:i,height:s,x2:n+i,y2:t+s}}function Doe(){return this.join(",").replace(kKe,"$1")}function NS(n){var t=fE(n);return t.toString=Doe,t}function koe(n,t,i,s,o,a,l,c,u){var d=1-u,p=Poe(d,3),f=Poe(d,2),m=u*u*u,y=p*t+3*f*u*s+3*d*u*u*a+m*c;return{x:LS(p*n+3*f*u*i+3*d*u*u*o+m*l),y:LS(y)}}function Moe(n){var t=function VKe(n,t,i,s,o,a,l,c){for(var p,f,h,m,g,y,v,_,u=[],d=[[],[]],E=0;E<2;++E)if(0==E?(f=6*n-12*i+6*o,p=-3*n+9*i-9*o+3*l,h=3*i-3*n):(f=6*t-12*s+6*a,p=-3*t+9*s-9*a+3*c,h=3*s-3*t),Lh(p)<1e-12){if(Lh(f)<1e-12)continue;0<(m=-h/f)&&m<1&&u.push(m)}else _=Os.sqrt(v=f*f-4*h*p),!(v<0)&&(0<(g=(-f+_)/(2*p))&&g<1&&u.push(g),0<(y=(-f-_)/(2*p))&&y<1&&u.push(y));for(var w,x=u.length,b=x;x--;)d[0][x]=(w=1-(m=u[x]))*w*w*n+3*w*w*m*i+3*w*m*m*o+m*m*m*l,d[1][x]=w*w*w*t+3*w*w*m*s+3*w*m*m*a+m*m*m*c;return d[0][b]=n,d[1][b]=t,d[0][b+1]=l,d[1][b+1]=c,d[0].length=d[1].length=b+2,{x0:Ld(...d[0]),y0:Ld(...d[1]),x1:Fd(...d[0]),y1:Fd(...d[1])}}(...n);return EN(t.x0,t.y0,t.x1-t.x0,t.y1-t.y0)}function Fh(n,t,i){return t>=n.x&&t<=n.x+n.width&&i>=n.y&&i<=n.y+n.height}function Aoe(n,t,i,s,o){return n*(n*(-3*t+9*i-9*s+3*o)+6*t-12*i+6*s)-3*t+3*i}function Ioe(n,t,i,s,o,a,l,c,u){null==u&&(u=1);for(var d=(u=u>1?1:u<0?0:u)/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],m=0,g=0;g<12;g++){var y=d*f[g]+d,v=Aoe(y,n,i,o,l),_=Aoe(y,t,s,a,c);m+=h[g]*Os.sqrt(v*v+_*_)}return d*m}function FKe(n,t,i,s,o,a,l,c){if(!(Fd(n,i)<Ld(o,l)||Ld(n,i)>Fd(o,l)||Fd(t,s)<Ld(a,c)||Ld(t,s)>Fd(a,c))){var d=(n*s-t*i)*(a-c)-(t-s)*(o*c-a*l),p=(n-i)*(a-c)-(t-s)*(o-l);if(p){var f=LS(((n*s-t*i)*(o-l)-(n-i)*(o*c-a*l))/p),h=LS(d/p),m=+f.toFixed(2),g=+h.toFixed(2);if(!(m<+Ld(n,i).toFixed(2)||m>+Fd(n,i).toFixed(2)||m<+Ld(o,l).toFixed(2)||m>+Fd(o,l).toFixed(2)||g<+Ld(t,s).toFixed(2)||g>+Fd(t,s).toFixed(2)||g<+Ld(a,c).toFixed(2)||g>+Fd(a,c).toFixed(2)))return{x:f,y:h}}}}function LS(n){return Math.round(1e11*n)/1e11}function BKe(n,t,i){if(!function LKe(n,t){return n=EN(n),Fh(t=EN(t),n.x,n.y)||Fh(t,n.x2,n.y)||Fh(t,n.x,n.y2)||Fh(t,n.x2,n.y2)||Fh(n,t.x,t.y)||Fh(n,t.x2,t.y)||Fh(n,t.x,t.y2)||Fh(n,t.x2,t.y2)||(n.x<t.x2&&n.x>t.x||t.x<n.x2&&t.x>n.x)&&(n.y<t.y2&&n.y>t.y||t.y<n.y2&&t.y>n.y)}(Moe(n),Moe(t)))return i?0:[];for(var a=Ioe(...n),l=Ioe(...t),c=Noe(n)?1:~~(a/5)||1,u=Noe(t)?1:~~(l/5)||1,d=[],p=[],f={},h=i?0:[],m=0;m<c+1;m++){var g=koe(...n,m/c);d.push({x:g.x,y:g.y,t:m/c})}for(m=0;m<u+1;m++)g=koe(...t,m/u),p.push({x:g.x,y:g.y,t:m/u});for(m=0;m<c;m++)for(var y=0;y<u;y++){var P,v=d[m],_=d[m+1],E=p[y],x=p[y+1],b=Lh(_.x-v.x)<.01?"y":"x",w=Lh(x.x-E.x)<.01?"y":"x",C=FKe(v.x,v.y,_.x,_.y,E.x,E.y,x.x,x.y);if(C){if(f[P=C.x.toFixed(9)+"#"+C.y.toFixed(9)])continue;f[P]=!0;var D=v.t+Lh((C[b]-v[b])/(_[b]-v[b]))*(_.t-v.t),I=E.t+Lh((C[w]-E[w])/(x[w]-E[w]))*(x.t-E.t);D>=0&&D<=1&&I>=0&&I<=1&&(i?h++:h.push({x:C.x,y:C.y,t1:D,t2:I}))}}return h}function Roe(n,t,i){n=Boe(n),t=Boe(t);for(var s,o,a,l,c,u,d,p,f,h,m=i?0:[],g=0,y=n.length;g<y;g++){var v=n[g];if("M"==v[0])s=c=v[1],o=u=v[2];else{"C"==v[0]?(s=(f=[s,o,...v.slice(1)])[6],o=f[7]):(f=[s,o,s,o,c,u,c,u],s=c,o=u);for(var _=0,E=t.length;_<E;_++){var x=t[_];if("M"==x[0])a=d=x[1],l=p=x[2];else{"C"==x[0]?(a=(h=[a,l,...x.slice(1)])[6],l=h[7]):(h=[a,l,a,l,d,p,d,p],a=d,l=p);var b=BKe(f,h,i);if(i)m+=b;else{for(var w=0,C=b.length;w<C;w++)b[w].segment1=g,b[w].segment2=_,b[w].bez1=f,b[w].bez2=h;m=m.concat(b)}}}}}return m}function Noe(n){return n[0]===n[2]&&n[1]===n[3]&&n[4]===n[6]&&n[5]===n[7]}function FS(n,t,i,s){return[n,t,i,s,i,s]}function Loe(n,t,i,s,o,a){var l=.3333333333333333,c=2/3;return[l*n+c*i,l*t+c*s,l*o+c*i,l*a+c*s,o,a]}function Foe(n,t,i,s,o,a,l,c,u,d){var m,p=120*Nh/180,f=Nh/180*(+o||0),h=[],g=function RKe(n){return function t(){var s=Array.prototype.slice.call(arguments,0).join("\u2400"),o=t.cache=t.cache||{},a=t.count=t.count||[];return _N(o,s)?(function IKe(n,t){for(var i=0,s=n.length;i<s;i++)if(n[i]===t)return n.push(n.splice(i,1)[0])}(a,s),o[s]):(a.length>=1e3&&delete o[a.shift()],a.push(s),o[s]=n(...arguments),o[s])}}(function(A,N,z){return{x:A*Os.cos(z)-N*Os.sin(z),y:A*Os.sin(z)+N*Os.cos(z)}});if(d)P=d[0],D=d[1],w=d[2],C=d[3];else{t=(m=g(n,t,-f)).y;var y=((n=m.x)-(c=(m=g(c,u,-f)).x))/2,v=(t-(u=m.y))/2,_=y*y/(i*i)+v*v/(s*s);_>1&&(i*=_=Os.sqrt(_),s*=_);var E=i*i,x=s*s,b=(a==l?-1:1)*Os.sqrt(Lh((E*x-E*v*v-x*y*y)/(E*v*v+x*y*y))),w=b*i*v/s+(n+c)/2,C=b*-s*y/i+(t+u)/2,P=Os.asin(((t-C)/s).toFixed(9)),D=Os.asin(((u-C)/s).toFixed(9));(P=n<w?Nh-P:P)<0&&(P=2*Nh+P),(D=c<w?Nh-D:D)<0&&(D=2*Nh+D),l&&P>D&&(P-=2*Nh),!l&&D>P&&(D-=2*Nh)}var I=D-P;if(Lh(I)>p){var k=D,F=c,M=u;h=Foe(c=w+i*Os.cos(D=P+p*(l&&D>P?1:-1)),u=C+s*Os.sin(D),i,s,o,0,l,F,M,[D,k,w,C])}I=D-P;var B=Os.cos(P),q=Os.sin(P),ue=Os.cos(D),H=Os.sin(D),ee=Os.tan(I/4),Q=4/3*i*ee,Ee=4/3*s*ee,Te=[n,t],Ve=[n+Q*q,t-Ee*B],Pe=[c+Q*H,u-Ee*ue],de=[c,u];if(Ve[0]=2*Te[0]-Ve[0],Ve[1]=2*Te[1]-Ve[1],d)return[Ve,Pe,de].concat(h);for(var X=[],j=0,R=(h=[Ve,Pe,de].concat(h).join().split(",")).length;j<R;j++)X[j]=j%2?g(h[j-1],h[j],f).y:g(h[j],h[j+1],f).x;return X}function Boe(n){var t=Tv(n);if(t.curve)return NS(t.curve);for(var i=function jKe(n){var t=Tv(n);if(t.abs)return NS(t.abs);if((!RS(n)||!RS(n&&n[0]))&&(n=function NKe(n){if(!n)return null;var t=Tv(n);if(t.arr)return fE(t.arr);var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},s=[];return RS(n)&&RS(n[0])&&(s=fE(n)),s.length||String(n).replace(MKe,function(o,a,l){var c=[],u=a.toLowerCase();for(l.replace(AKe,function(d,p){p&&c.push(+p)}),"m"==u&&c.length>2&&(s.push([a,...c.splice(0,2)]),u="l",a="m"==a?"l":"L");c.length>=i[u]&&(s.push([a,...c.splice(0,i[u])]),i[u]););}),s.toString=Tv.toString,t.arr=fE(s),s}(n)),!n||!n.length)return[["M",0,0]];var u,i=[],s=0,o=0,a=0,l=0,c=0;"M"==n[0][0]&&(a=s=+n[0][1],l=o=+n[0][2],c++,i[0]=["M",s,o]);for(var d,p,f=c,h=n.length;f<h;f++){if(i.push(d=[]),(u=(p=n[f])[0])!=u.toUpperCase())switch(d[0]=u.toUpperCase(),d[0]){case"A":d[1]=p[1],d[2]=p[2],d[3]=p[3],d[4]=p[4],d[5]=p[5],d[6]=+p[6]+s,d[7]=+p[7]+o;break;case"V":d[1]=+p[1]+o;break;case"H":d[1]=+p[1]+s;break;case"M":a=+p[1]+s,l=+p[2]+o;default:for(var m=1,g=p.length;m<g;m++)d[m]=+p[m]+(m%2?s:o)}else for(var y=0,v=p.length;y<v;y++)d[y]=p[y];switch(u=u.toUpperCase(),d[0]){case"Z":s=+a,o=+l;break;case"H":s=d[1];break;case"V":o=d[1];break;case"M":a=d[d.length-2],l=d[d.length-1];default:s=d[d.length-2],o=d[d.length-1]}}return i.toString=Doe,t.abs=NS(i),i}(n),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=function(m,g,y){var v,_;if(!m)return["C",g.x,g.y,g.x,g.y,g.x,g.y];switch(!(m[0]in{T:1,Q:1})&&(g.qx=g.qy=null),m[0]){case"M":g.X=m[1],g.Y=m[2];break;case"A":m=["C",...Foe(g.x,g.y,...m.slice(1))];break;case"S":"C"==y||"S"==y?(v=2*g.x-g.bx,_=2*g.y-g.by):(v=g.x,_=g.y),m=["C",v,_,...m.slice(1)];break;case"T":"Q"==y||"T"==y?(g.qx=2*g.x-g.qx,g.qy=2*g.y-g.qy):(g.qx=g.x,g.qy=g.y),m=["C",...Loe(g.x,g.y,g.qx,g.qy,m[1],m[2])];break;case"Q":g.qx=m[1],g.qy=m[2],m=["C",...Loe(g.x,g.y,m[1],m[2],m[3],m[4])];break;case"L":m=["C",...FS(g.x,g.y,m[1],m[2])];break;case"H":m=["C",...FS(g.x,g.y,m[1],g.y)];break;case"V":m=["C",...FS(g.x,g.y,g.x,m[1])];break;case"Z":m=["C",...FS(g.x,g.y,g.X,g.Y)]}return m},a=function(m,g){if(m[g].length>7){m[g].shift();for(var y=m[g];y.length;)l[g]="A",m.splice(g++,0,["C",...y.splice(0,6)]);m.splice(g,1),p=i.length}},l=[],c="",u="",d=0,p=i.length;d<p;d++){i[d]&&(c=i[d][0]),"C"!=c&&(l[d]=c,d&&(u=l[d-1])),i[d]=o(i[d],s,u),"A"!=l[d]&&"C"==c&&(l[d]="C"),a(i,d);var f=i[d],h=f.length;s.x=f[h-2],s.y=f[h-1],s.bx=Toe(f[h-4])||s.x,s.by=Toe(f[h-3])||s.y}return t.curve=NS(i),i}function joe(n){return{x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)}}function qp(n){return{x:Math.round(n.x),y:Math.round(n.y)}}function tn(n){return{top:n.y,right:n.x+(n.width||0),bottom:n.y+(n.height||0),left:n.x}}function BS(n){return{x:n.left,y:n.top,width:n.right-n.left,height:n.bottom-n.top}}function cn(n){return ri(n)?function zKe(n){for(var t=n.waypoints,i=t.reduce(function(d,p,f){var h=t[f-1];if(h){var m=d[d.length-1],g=m&&m.endLength||0,y=function qKe(n,t){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}(h,p);d.push({start:h,end:p,startLength:g,endLength:g+y,length:y})}return d},[]),o=i.reduce(function(d,p){return d+p.length},0)/2,a=0,l=i[a];l.endLength<o;)l=i[++a];var c=(o-l.startLength)/l.length;return{x:l.start.x+(l.end.x-l.start.x)*c,y:l.start.y+(l.end.y-l.start.y)*c}}(n):function $Ke(n){return qp({x:n.x+(n.width||0)/2,y:n.y+(n.height||0)/2})}(n)}function ji(n,t,i){fr(i=i||0)||(i={x:i,y:i});var s=tn(n),o=tn(t),d=s.bottom+i.y<=o.top?"top":s.top-i.y>=o.bottom?"bottom":null,p=s.right+i.x<=o.left?"left":s.left-i.x>=o.right?"right":null;return p&&d?d+"-"+p:p||d||"intersect"}function wN(n,t,i){var s=function HKe(n,t){return Roe(n,t)}(n,t);return 1===s.length||2===s.length&&pE(s[0],s[1])<1?qp(s[0]):s.length>1?qp((s=Ys(s,function(o){var a=Math.floor(100*o.t2)||1;return o.segment2+"#"+((a=100-a)<10?"0":"")+a}))[i?0:s.length-1]):null}function qo(n){return n?"<"+n.$type+(n.id?' id="'+n.id:"")+'" />':"<null>"}function jS(n,t,i){return pe({id:n.id,type:n.$type,businessObject:n,di:t},i)}function WKe(n,t,i){var s=n.waypoint;return!s||s.length<2?[cn(t),cn(i)]:s.map(function(o){return{x:o.x,y:o.y}})}function Voe(n,t,i){return new Error(`element ${qo(t)} referenced by ${qo(n)}#${i} not yet drawn`)}function Wp(n,t,i,s,o){this._eventBus=n,this._canvas=t,this._elementFactory=i,this._elementRegistry=s,this._textRenderer=o}Wp.$inject=["eventBus","canvas","elementFactory","elementRegistry","textRenderer"],Wp.prototype.add=function(n,t,i){var s,a;if(T(t,"bpmndi:BPMNPlane")){var l=T(n,"bpmn:SubProcess")?{id:n.id+"_plane"}:{};s=this._elementFactory.createRoot(jS(n,t,l)),this._canvas.addRootElement(s)}else if(T(t,"bpmndi:BPMNShape")){var c=!ar(n,t),u=function KKe(n){return T(n,"bpmn:Group")}(n),d=t.bounds;s=this._elementFactory.createShape(jS(n,t,{collapsed:c,hidden:i&&(i.hidden||i.collapsed),x:Math.round(d.x),y:Math.round(d.y),width:Math.round(d.width),height:Math.round(d.height),isFrame:u})),T(n,"bpmn:BoundaryEvent")&&this._attachBoundary(n,s),T(n,"bpmn:Lane")&&(a=0),T(n,"bpmn:DataStoreReference")&&(function GKe(n,t){var i=t.x,s=t.y;return i>=n.x&&i<=n.x+n.width&&s>=n.y&&s<=n.y+n.height}(i,cn(d))||(i=this._canvas.findRoot(i))),this._canvas.addShape(s,i,a)}else{if(!T(t,"bpmndi:BPMNEdge"))throw new Error(`unknown di ${qo(t)} for element ${qo(n)}`);var p=this._getSource(n),f=this._getTarget(n);s=this._elementFactory.createConnection(jS(n,t,{hidden:i&&(i.hidden||i.collapsed),source:p,target:f,waypoints:WKe(t,p,f)})),T(n,"bpmn:DataAssociation")&&(i=this._canvas.findRoot(i)),this._canvas.addConnection(s,i,a)}return ag(n)&&Ja(s)&&this.addLabel(n,t,s),this._eventBus.fire("bpmnElement.added",{element:s}),s},Wp.prototype._attachBoundary=function(n,t){var i=n.attachedToRef;if(!i)throw new Error(`missing ${qo(n)}#attachedToRef`);var s=this._elementRegistry.get(i.id),o=s&&s.attachers;if(!s)throw Voe(n,i,"attachedToRef");t.host=s,o||(s.attachers=o=[]),-1===o.indexOf(t)&&o.push(t)},Wp.prototype.addLabel=function(n,t,i){var s,o,a;return s=function fGe(n,t){var i,s,o,a=n.label;return a&&a.bounds?(o=a.bounds,s={width:Math.max(sE.width,o.width),height:o.height},i={x:o.x+o.width/2,y:o.y+o.height/2}):(i=iN(t),s=sE),pe({x:i.x-s.width/2,y:i.y-s.height/2},s)}(t,i),(o=Ja(i))&&(s=this._textRenderer.getExternalLabelBounds(s,o)),a=this._elementFactory.createLabel(jS(n,t,{id:n.id+"_label",labelTarget:i,type:"label",hidden:i.hidden||!Ja(i),x:Math.round(s.x),y:Math.round(s.y),width:Math.round(s.width),height:Math.round(s.height)})),this._canvas.addShape(a,i.parent)},Wp.prototype._getConnectedElement=function(n,t){var i,s,o=n.$type;if(s=n[t+"Ref"],"source"===t&&"bpmn:DataInputAssociation"===o&&(s=s&&s[0]),("source"===t&&"bpmn:DataOutputAssociation"===o||"target"===t&&"bpmn:DataInputAssociation"===o)&&(s=n.$parent),i=s&&this._getElement(s))return i;throw s?Voe(n,s,t+"Ref"):new Error(`${qo(n)}#${t} Ref not specified`)},Wp.prototype._getSource=function(n){return this._getConnectedElement(n,"source")},Wp.prototype._getTarget=function(n){return this._getConnectedElement(n,"target")},Wp.prototype._getElement=function(n){return this._elementRegistry.get(n.id)};const YKe={__depends__:[OKe,{__depends__:[So],bpmnImporter:["type",Wp]}]};function VS(n){return hn(n,function(t){return!It(n,function(i){return i!==t&&$oe(t,i)})})}function $oe(n,t){if(t){if(n===t)return t;if(n.parent)return $oe(n.parent,t)}}function zoe(n,t,i){var s=!i||-1===n.indexOf(t);return s&&n.push(t),s}function dg(n,t,i){i=i||0,Vt(n)||(n=[n]),se(n,function(s,o){var a=t(s,o,i);Vt(a)&&a.length&&dg(a,t,i+1)})}function hE(n,t){return function Hoe(n,t,i){var s=[],o=[];return dg(n,function(a,l,c){zoe(s,a,t);var u=a.children;if((-1===i||c<i)&&u&&zoe(o,u,t))return u}),s}(n,!t,-1)}function Qs(n,t){var i,s,o,a;return t=!!t,Vt(n)||(n=[n]),se(n,function(l){var c=l;l.waypoints&&!t&&(c=Qs(l.waypoints,!0));var u=c.x,d=c.y,p=c.height||0,f=c.width||0;(u<i||void 0===i)&&(i=u),(d<s||void 0===s)&&(s=d),(u+f>o||void 0===o)&&(o=u+f),(d+p>a||void 0===a)&&(a=d+p)}),{x:i,y:s,height:a-s,width:o-i}}function Uoe(n){return"waypoints"in n?"connection":"x"in n?"shape":"root"}function qoe(n){return!(!n||!n.isFrame)}function mE(n,t){return pe({},n||{},t||{})}function Pv(n){this._counter=0,this._prefix=(n?n+"-":"")+Math.floor(1e9*Math.random())+"-"}Pv.prototype.next=function(){return this._prefix+ ++this._counter};var QKe=new Pv("ov");function ho(n,t,i,s){this._eventBus=t,this._canvas=i,this._elementRegistry=s,this._ids=QKe,this._overlayDefaults=pe({show:null,scale:!0},n&&n.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=function eYe(n){var t=lr('<div class="djs-overlay-container" />');return zo(t,{position:"absolute",width:0,height:0}),n.insertBefore(t,n.firstChild),t}(i.getContainer()),this._init()}function Woe(n,t,i){zo(n,{left:t+"px",top:i+"px"})}function $S(n,t){n.style.display=!1===t?"none":""}function Goe(n,t){n.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(i){n.style[i+"transform"]=t})}ho.$inject=["config.overlays","eventBus","canvas","elementRegistry"],ho.prototype.get=function(n){if($n(n)&&(n={id:n}),$n(n.element)&&(n.element=this._elementRegistry.get(n.element)),n.element){var t=this._getOverlayContainer(n.element,!0);return t?n.type?hn(t.overlays,Bu({type:n.type})):t.overlays.slice():[]}return n.type?hn(this._overlays,Bu({type:n.type})):n.id?this._overlays[n.id]:null},ho.prototype.add=function(n,t,i){if(fr(t)&&(i=t,t=null),n.id||(n=this._elementRegistry.get(n)),!i.position)throw new Error("must specifiy overlay position");if(!i.html)throw new Error("must specifiy overlay html");if(!n)throw new Error("invalid element specified");var s=this._ids.next();return i=pe({},this._overlayDefaults,i,{id:s,type:t,element:n,html:i.html}),this._addOverlay(i),s},ho.prototype.remove=function(n){var t=this.get(n)||[];Vt(t)||(t=[t]);var i=this;se(t,function(s){var o=i._getOverlayContainer(s.element,!0);if(s&&(xo(s.html),xo(s.htmlContainer),delete s.htmlContainer,delete s.element,delete i._overlays[s.id]),o){var a=o.overlays.indexOf(s);-1!==a&&o.overlays.splice(a,1)}})},ho.prototype.isShown=function(){return"none"!==this._overlayRoot.style.display},ho.prototype.show=function(){$S(this._overlayRoot)},ho.prototype.hide=function(){$S(this._overlayRoot,!1)},ho.prototype.clear=function(){this._overlays={},this._overlayContainers=[],TS(this._overlayRoot)},ho.prototype._updateOverlayContainer=function(n){var t=n.element,i=n.html,s=t.x,o=t.y;if(t.waypoints){var a=Qs(t);s=a.x,o=a.y}Woe(i,s,o),fo(n.html,"data-container-id",t.id)},ho.prototype._updateOverlay=function(n){var l,c,t=n.position,i=n.htmlContainer,s=n.element,o=t.left,a=t.top;void 0!==t.right&&(l=s.waypoints?Qs(s).width:s.width,o=-1*t.right+l),void 0!==t.bottom&&(c=s.waypoints?Qs(s).height:s.height,a=-1*t.bottom+c),Woe(i,o||0,a||0),this._updateOverlayVisibilty(n,this._canvas.viewbox())},ho.prototype._createOverlayContainer=function(n){var t=lr('<div class="djs-overlays" />');zo(t,{position:"absolute"}),this._overlayRoot.appendChild(t);var i={html:t,element:n,overlays:[]};return this._updateOverlayContainer(i),this._overlayContainers.push(i),i},ho.prototype._updateRoot=function(n){var t=n.scale||1,i="matrix("+[t,0,0,t,-1*n.x*t,-1*n.y*t].join(",")+")";Goe(this._overlayRoot,i)},ho.prototype._getOverlayContainer=function(n,t){var i=It(this._overlayContainers,function(s){return s.element===n});return i||t?i:this._createOverlayContainer(n)},ho.prototype._addOverlay=function(n){var o,a,t=n.id,i=n.element,s=n.html;s.get&&s.constructor.prototype.jquery&&(s=s.get(0)),$n(s)&&(s=lr(s)),a=this._getOverlayContainer(i),zo(o=lr('<div class="djs-overlay" data-overlay-id="'+t+'">'),{position:"absolute"}),o.appendChild(s),n.type&&Nn(o).add("djs-overlay-"+n.type),$S(o,this._canvas.findRoot(i)===this._canvas.getRootElement()),n.htmlContainer=o,a.overlays.push(n),a.html.appendChild(o),this._overlays[t]=n,this._updateOverlay(n),this._updateOverlayVisibilty(n,this._canvas.viewbox())},ho.prototype._updateOverlayVisibilty=function(n,t){var i=n.show,s=this._canvas.findRoot(n.element),o=i&&i.minZoom,a=i&&i.maxZoom,l=n.htmlContainer,u=!0;(s!==this._canvas.getRootElement()||i&&(Hr(o)&&o>t.scale||Hr(a)&&a<t.scale))&&(u=!1),$S(l,u),this._updateOverlayScale(n,t)},ho.prototype._updateOverlayScale=function(n,t){var s,o,l,i=n.scale,a=n.htmlContainer,c="";!0!==i&&(!1===i?(s=1,o=1):(s=i.min,o=i.max),Hr(s)&&t.scale<s&&(l=(1/t.scale||1)*s),Hr(o)&&t.scale>o&&(l=(1/t.scale||1)*o)),Hr(l)&&(c="scale("+l+","+l+")"),Goe(a,c)},ho.prototype._updateOverlaysVisibilty=function(n){var t=this;se(this._overlays,function(i){t._updateOverlayVisibilty(i,n)})},ho.prototype._init=function(){var n=this._eventBus,t=this;n.on("canvas.viewbox.changing",function(s){t.hide()}),n.on("canvas.viewbox.changed",function(s){!function i(s){t._updateRoot(s),t._updateOverlaysVisibilty(s),t.show()}(s.viewbox)}),n.on(["shape.remove","connection.remove"],function(s){var o=s.element;se(t.get({element:o}),function(u){t.remove(u.id)});var l=t._getOverlayContainer(o);if(l){xo(l.html);var c=t._overlayContainers.indexOf(l);-1!==c&&t._overlayContainers.splice(c,1)}}),n.on("element.changed",500,function(s){var a=t._getOverlayContainer(s.element,!0);a&&(se(a.overlays,function(l){t._updateOverlay(l)}),t._updateOverlayContainer(a))}),n.on("element.marker.update",function(s){var o=t._getOverlayContainer(s.element,!0);o&&Nn(o.html)[s.add?"add":"remove"](s.marker)}),n.on("root.set",function(){t._updateOverlaysVisibilty(t._canvas.viewbox())}),n.on("diagram.clear",this.clear,this)};const Dv={__init__:["overlays"],overlays:["type",ho]};function Koe(n,t,i,s){n.on("element.changed",function(o){var a=o.element;(a.parent||a===t.getRootElement())&&(o.gfx=i.getGraphics(a)),o.gfx&&n.fire(Uoe(a)+".changed",o)}),n.on("elements.changed",function(o){var a=o.elements;a.forEach(function(l){n.fire("element.changed",{element:l})}),s.updateContainments(a)}),n.on("shape.changed",function(o){s.update("shape",o.element,o.gfx)}),n.on("connection.changed",function(o){s.update("connection",o.element,o.gfx)})}Koe.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const gE={__init__:["changeSupport"],changeSupport:["type",Koe]};function Qe(n){this._eventBus=n}function Gp(n){return function(i,s,o,a,l){(Gn(i)||un(i))&&(l=a,a=o,o=s,s=i,i=null),this.on(i,n,s,o,a,l)}}function xN(n,t){t.invoke(Qe,this),this.executed(function(i){var s=i.context;s.rootElement?n.setRootElement(s.rootElement):s.rootElement=n.getRootElement()}),this.revert(function(i){var s=i.context;s.rootElement&&n.setRootElement(s.rootElement)})}Qe.$inject=["eventBus"],Qe.prototype.on=function(n,t,i,s,o,a){if((Gn(t)||un(t))&&(a=o,o=s,s=i,i=t,t=null),Gn(i)&&(a=o,o=s,s=i,i=1e3),fr(o)&&(a=o,o=!1),!Gn(s))throw new Error("handlerFn must be a function");Vt(n)||(n=[n]);var l=this._eventBus;se(n,function(c){var u=["commandStack",c,t].filter(function(d){return d}).join(".");l.on(u,i,o?function nYe(n,t){return function(i){return n.call(t||null,i.context,i.command,i)}}(s,a):s,a)})},Qe.prototype.canExecute=Gp("canExecute"),Qe.prototype.preExecute=Gp("preExecute"),Qe.prototype.preExecuted=Gp("preExecuted"),Qe.prototype.execute=Gp("execute"),Qe.prototype.executed=Gp("executed"),Qe.prototype.postExecute=Gp("postExecute"),Qe.prototype.postExecuted=Gp("postExecuted"),Qe.prototype.revert=Gp("revert"),Qe.prototype.reverted=Gp("reverted"),Lt(xN,Qe),xN.$inject=["canvas","injector"];const rYe={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",xN]};function pg(n){return CSS.escape(n)}var iYe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function CN(n){return(n=""+n)&&n.replace(/[&<>"']/g,function(t){return iYe[t]})}function SN(n){return function sYe(n){return n.replace(new RegExp("_plane$"),"")}(n.id)}function Kp(n){var t=n.id;return T(n,"bpmn:SubProcess")?Xoe(t):t}function fg(n){return Xoe(n)}function yE(n){return T(vr(n),"bpmndi:BPMNPlane")}function Xoe(n){return n+"_plane"}function Zoe(n,t,i){var s=lr('<ul class="bjs-breadcrumbs"></ul>'),o=i.getContainer(),a=Nn(o);o.appendChild(s);var l=[];function c(u){u&&(l=function aYe(n){for(var i=[],s=G(n);s;s=s.$parent)(T(s,"bpmn:SubProcess")||T(s,"bpmn:Process"))&&i.push(s);return i.reverse()}(u));var d=l.flatMap(function(f){var h=i.findRoot(Kp(f))||i.findRoot(f.id);if(!h&&T(f,"bpmn:Process")){var m=t.find(function(v){var _=G(v);return _&&_.get("processRef")===f});h=m&&i.findRoot(m.id)}if(!h)return[];var g=CN(f.name||f.id),y=lr('<li><span class="bjs-crumb"><a title="'+g+'">'+g+"</a></span></li>");return y.addEventListener("click",function(){i.setRootElement(h)}),y});s.innerHTML="",a.toggle("bjs-breadcrumbs-shown",d.length>1),d.forEach(function(f){s.appendChild(f)})}n.on("element.changed",function(u){var p=G(u.element);It(l,function(h){return h===p})&&c()}),n.on("root.set",function(u){c(u.element)})}function Qoe(n,t){var i=null,s=new lYe;n.on("root.set",function(o){var a=o.element,l=t.viewbox(),c=s.get(a);if(s.set(i,{x:l.x,y:l.y,zoom:l.scale}),i=a,T(a,"bpmn:SubProcess")||c){var u=(l.x-(c=c||{x:0,y:0,zoom:1}).x)*l.scale,d=(l.y-c.y)*l.scale;(0!==u||0!==d)&&t.scroll({dx:u,dy:d}),c.zoom!==l.scale&&t.zoom(c.zoom,{x:0,y:0})}}),n.on("diagram.clear",function(){s.clear(),i=null})}function lYe(){this._entries=[],this.set=function(n,t){var i=!1;for(var s in this._entries)if(this._entries[s][0]===n){this._entries[s][1]=t,i=!0;break}i||this._entries.push([n,t])},this.get=function(n){for(var t in this._entries)if(this._entries[t][0]===n)return this._entries[t][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(n){var t=-1;for(var i in this._entries)if(this._entries[i][0]===n){t=i;break}-1!==t&&this._entries.splice(t,1)}}Zoe.$inject=["eventBus","elementRegistry","canvas"],Qoe.$inject=["eventBus","canvas"];function hg(n,t){this._eventBus=n,this._moddle=t;var i=this;n.on("import.render.start",1500,function(s,o){i._handleImport(o.definitions)})}function eae(n){return T(n,"bpmndi:BPMNDiagram")?n:eae(n.$parent)}function Bh(n,t,i,s,o){Qe.call(this,t),this._canvas=n,this._eventBus=t,this._elementRegistry=i,this._overlays=s,this._translate=o;var a=this;this.executed("shape.toggleCollapse",250,function(l){var c=l.shape;a._canDrillDown(c)?a._addOverlay(c):a._removeOverlay(c)},!0),this.reverted("shape.toggleCollapse",250,function(l){var c=l.shape;a._canDrillDown(c)?a._addOverlay(c):a._removeOverlay(c)},!0),this.executed(["shape.create","shape.move","shape.delete"],250,function(l){var c=l.oldParent,u=l.newParent||l.parent,d=l.shape;a._canDrillDown(d)&&a._addOverlay(d),a._updateDrilldownOverlay(c),a._updateDrilldownOverlay(u),a._updateDrilldownOverlay(d)},!0),this.reverted(["shape.create","shape.move","shape.delete"],250,function(l){var c=l.oldParent,u=l.newParent||l.parent,d=l.shape;a._canDrillDown(d)&&a._addOverlay(d),a._updateDrilldownOverlay(c),a._updateDrilldownOverlay(u),a._updateDrilldownOverlay(d)},!0),t.on("import.render.complete",function(){i.filter(function(l){return a._canDrillDown(l)}).map(function(l){a._addOverlay(l)})})}hg.prototype._handleImport=function(n){if(n.diagrams){var t=this;this._definitions=n,this._processToDiagramMap={},n.diagrams.forEach(function(s){!s.plane||!s.plane.bpmnElement||(t._processToDiagramMap[s.plane.bpmnElement.id]=s)}),n.diagrams.filter(s=>s.plane).flatMap(s=>t._createNewDiagrams(s.plane)).forEach(function(s){t._movePlaneElementsToOrigin(s.plane)})}},hg.prototype._createNewDiagrams=function(n){var t=this,i=[],s=[];n.get("planeElement").forEach(function(a){var l=a.bpmnElement;if(l){var c=l.$parent;T(l,"bpmn:SubProcess")&&!a.isExpanded&&i.push(l),function uYe(n,t){var i=n.$parent;return!(!T(i,"bpmn:SubProcess")||i===t.bpmnElement||Kt(n,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))}(l,n)&&s.push({diElement:a,parent:c})}});var o=[];return i.forEach(function(a){if(!t._processToDiagramMap[a.id]){var l=t._createDiagram(a);t._processToDiagramMap[a.id]=l,o.push(l)}}),s.forEach(function(a){for(var l=a.diElement,c=a.parent;c&&-1===i.indexOf(c);)c=c.$parent;c&&t._moveToDiPlane(l,t._processToDiagramMap[c.id].plane)}),o},hg.prototype._movePlaneElementsToOrigin=function(n){var t=n.get("planeElement"),i=function cYe(n){var t={top:1/0,right:-1/0,bottom:-1/0,left:1/0};return n.planeElement.forEach(function(i){if(i.bounds){var s=tn(i.bounds);t.top=Math.min(s.top,t.top),t.left=Math.min(s.left,t.left)}}),BS(t)}(n),s_x=i.x-180,s_y=i.y-160;t.forEach(function(o){o.waypoint?o.waypoint.forEach(function(a){a.x=a.x-s_x,a.y=a.y-s_y}):o.bounds&&(o.bounds.x=o.bounds.x-s_x,o.bounds.y=o.bounds.y-s_y)})},hg.prototype._moveToDiPlane=function(n,t){var s=eae(n).plane.get("planeElement");s.splice(s.indexOf(n),1),t.get("planeElement").push(n)},hg.prototype._createDiagram=function(n){var t=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:n}),i=this._moddle.create("bpmndi:BPMNDiagram",{plane:t});return t.$parent=i,t.bpmnElement=n,i.$parent=this._definitions,this._definitions.diagrams.push(i),i},hg.$inject=["eventBus","moddle"],Lt(Bh,Qe),Bh.prototype._updateDrilldownOverlay=function(n){if(n){var i=this._canvas.findRoot(n);i&&this._updateOverlayVisibility(i)}},Bh.prototype._canDrillDown=function(n){var t=this._canvas;return T(n,"bpmn:SubProcess")&&t.findRoot(Kp(n))},Bh.prototype._updateOverlayVisibility=function(n){var t=this._overlays,i=G(n),s=t.get({element:i.id,type:"drilldown"})[0];if(s){var o=i&&i.get("flowElements")&&i.get("flowElements").length;Nn(s.html).toggle("bjs-drilldown-empty",!o)}},Bh.prototype._addOverlay=function(n){var t=this._canvas,i=this._overlays,s=G(n);i.get({element:n,type:"drilldown"}).length&&this._removeOverlay(n);var a=lr('<button type="button" class="bjs-drilldown"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg></button>'),l=s.get("name")||s.get("id"),c=this._translate("Open {element}",{element:l});a.setAttribute("title",c),a.addEventListener("click",function(){t.setRootElement(t.findRoot(Kp(n)))}),i.add(n,"drilldown",{position:{bottom:-7,right:-8},html:a}),this._updateOverlayVisibility(n)},Bh.prototype._removeOverlay=function(n){this._overlays.remove({element:n,type:"drilldown"})},Bh.$inject=["canvas","eventBus","elementRegistry","overlays","translate"];const fYe={__depends__:[Dv,gE,rYe],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",Zoe],drilldownCentering:["type",Qoe],drilldownOverlayBehavior:["type",Bh],subprocessCompatibility:["type",hg]};function mg(n,t){this._eventBus=n,this.offset=5;var i=t.cls("djs-outline",["no-fill"]),s=this;function o(a){var l=$t("rect");return Pt(l,pe({x:0,y:0,rx:4,width:100,height:100},i)),l}n.on(["shape.added","shape.changed"],500,function(a){var l=a.element,c=a.gfx,u=dn(".djs-outline",c);u||sn(c,u=s.getOutline(l)||o()),s.updateShapeOutline(u,l)}),n.on(["connection.added","connection.changed"],function(a){var l=a.element,c=a.gfx,u=dn(".djs-outline",c);u||sn(c,u=o()),s.updateConnectionOutline(u,l)})}mg.prototype.updateShapeOutline=function(n,t){var i=!1,s=this._getProviders();s.length&&se(s,function(o){i=i||o.updateOutline(t,n)}),i||Pt(n,{x:-this.offset,y:-this.offset,width:t.width+2*this.offset,height:t.height+2*this.offset})},mg.prototype.updateConnectionOutline=function(n,t){var i=Qs(t);Pt(n,{x:i.x-this.offset,y:i.y-this.offset,width:i.width+2*this.offset,height:i.height+2*this.offset})},mg.prototype.registerProvider=function(n,t){t||(t=n,n=1e3),this._eventBus.on("outline.getProviders",n,function(i){i.providers.push(t)})},mg.prototype._getProviders=function(){var n=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(n),n.providers},mg.prototype.getOutline=function(n){var t;return se(this._getProviders(),function(s){Gn(s.getOutline)&&(t=t||s.getOutline(n))}),t},mg.$inject=["eventBus","styles","elementRegistry"];const HS={__init__:["outline"],outline:["type",mg]},vYe={width:36,height:50},bYe={width:50,height:50};function tae(n,t,i){return $t("path",{d:n,strokeWidth:2,transform:`translate(${t.x}, ${t.y})`,...i})}function US(n,t){this._styles=t,n.registerProvider(this)}function nae(n,t){var i;return"bpmn:DataObjectReference"===t?i=vYe:"bpmn:DataStoreReference"===t&&(i=bYe),n.width===i.width&&n.height===i.height}US.$inject=["outline","styles"],US.prototype.getOutline=function(n){const t=this._styles.cls("djs-outline",["no-fill"]);var i;if(!hr(n))return T(n,"bpmn:Gateway")?(pe((i=$t("rect")).style,{"transform-box":"fill-box",transform:"rotate(45deg)","transform-origin":"center"}),Pt(i,pe({x:2,y:2,rx:4,width:n.width-4,height:n.height-4},t))):Kt(n,["bpmn:Task","bpmn:SubProcess","bpmn:Group","bpmn:CallActivity"])?Pt(i=$t("rect"),pe({x:-5,y:-5,rx:14,width:n.width+10,height:n.height+10},t)):T(n,"bpmn:EndEvent")?Pt(i=$t("circle"),pe({cx:n.width/2,cy:n.height/2,r:n.width/2+5+1},t)):T(n,"bpmn:Event")?Pt(i=$t("circle"),pe({cx:n.width/2,cy:n.height/2,r:n.width/2+5},t)):T(n,"bpmn:DataObjectReference")&&nae(n,"bpmn:DataObjectReference")?i=tae("M44.7648 11.3263L36.9892 2.64074C36.0451 1.58628 34.5651 0.988708 33.1904 0.988708H5.98667C3.22688 0.988708 0.989624 3.34892 0.989624 6.26039V55.0235C0.989624 57.9349 3.22688 60.2952 5.98667 60.2952H40.966C43.7257 60.2952 45.963 57.9349 45.963 55.0235V14.9459C45.963 13.5998 45.6407 12.3048 44.7648 11.3263Z",{x:-6,y:-6},t):T(n,"bpmn:DataStoreReference")&&nae(n,"bpmn:DataStoreReference")&&(i=tae("M1.03845 48.1347C1.03845 49.3511 1.07295 50.758 1.38342 52.064C1.69949 53.3938 2.32428 54.7154 3.56383 55.6428C6.02533 57.4841 10.1161 58.7685 14.8212 59.6067C19.5772 60.4538 25.1388 60.8738 30.6831 60.8738C36.2276 60.8738 41.7891 60.4538 46.545 59.6067C51.2504 58.7687 55.3412 57.4842 57.8028 55.6429C59.0424 54.7156 59.6673 53.3938 59.9834 52.064C60.2938 50.7579 60.3285 49.351 60.3285 48.1344V13.8415C60.3285 12.6249 60.2938 11.218 59.9834 9.91171C59.6673 8.58194 59.0423 7.2602 57.8027 6.33294C55.341 4.49168 51.2503 3.20723 46.545 2.36914C41.7891 1.522 36.2276 1.10204 30.6831 1.10205C25.1388 1.10206 19.5772 1.52206 14.8213 2.36923C10.1162 3.20734 6.02543 4.49183 3.5639 6.33314C2.32433 7.26038 1.69951 8.58206 1.38343 9.91181C1.07295 11.2179 1.03845 12.6247 1.03845 13.8411V48.1347Z",{x:-6,y:-6},t)),i},US.prototype.updateOutline=function(n,t){if(!hr(n))return Kt(n,["bpmn:SubProcess","bpmn:Group"])?(Pt(t,{width:n.width+10,height:n.height+10}),!0):!!Kt(n,["bpmn:Event","bpmn:Gateway","bpmn:DataStoreReference","bpmn:DataObjectReference"])};const _Ye={__depends__:[HS],__init__:["outlineProvider"],outlineProvider:["type",US]};function rae(n){!n||"function"!=typeof n.stopPropagation||n.stopPropagation()}function kv(n){return n.originalEvent||n.srcEvent}function ON(n){rae(n),rae(kv(n))}function gg(n){return n.pointers&&n.pointers.length&&(n=n.pointers[0]),n.touches&&n.touches.length&&(n=n.touches[0]),n?{x:n.clientX,y:n.clientY}:null}function iae(){return/mac/i.test(navigator.platform)}function TN(n,t){return(kv(n)||n).button===t}function Vh(n){return TN(n,0)}function Mv(n){var t=kv(n)||n;return!!Vh(n)&&(iae()?t.metaKey:t.ctrlKey)}function qS(n){var t=kv(n)||n;return Vh(n)&&t.shiftKey}function wYe(n){return!0}function WS(n){return Vh(n)||function EYe(n){return TN(n,1)}(n)}function oae(n,t,i){var s=this;function o(D,I,k){var F,M;(function c(D,I){return!(d[D]||Vh)(I)})(D,I)||(k?M=t.getGraphics(k):(F=I.delegateTarget||I.target)&&(k=t.get(M=F)),M&&k&&!1===n.fire(D,{element:k,gfx:M,originalEvent:I})&&(I.stopPropagation(),I.preventDefault()))}var a={};function l(D){return a[D]}var u={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},d={"element.contextmenu":wYe,"element.mousedown":WS,"element.mouseup":WS,"element.click":WS,"element.dblclick":WS};function h(D,I,k,F){var M=a[k]=function(B){o(k,B)};F&&(d[k]=F),M.$delegate=Uo_bind(D,"svg, .djs-element",I,M)}function m(D,I,k){var F=l(k);F&&Uo_unbind(D,I,F.$delegate)}n.on("canvas.destroy",function(D){!function y(D){se(u,function(I,k){m(D,k,I)})}(D.svg)}),n.on("canvas.init",function(D){!function g(D){se(u,function(I,k){h(D,k,I)})}(D.svg)}),n.on(["shape.added","connection.added"],function(D){n.fire("interactionEvents.createHit",{element:D.element,gfx:D.gfx})}),n.on(["shape.changed","connection.changed"],500,function(D){n.fire("interactionEvents.updateHit",{element:D.element,gfx:D.gfx})}),n.on("interactionEvents.createHit",500,function(D){s.createDefaultHit(D.element,D.gfx)}),n.on("interactionEvents.updateHit",function(D){s.updateDefaultHit(D.element,D.gfx)});var v=w("djs-hit djs-hit-stroke"),_=w("djs-hit djs-hit-click-stroke"),b={all:w("djs-hit djs-hit-all"),"click-stroke":_,stroke:v,"no-move":w("djs-hit djs-hit-no-move")};function w(D,I){return I=pe({stroke:"white",strokeWidth:15},I||{}),i.cls(D,["no-fill","no-border"],I)}function C(D,I){var k=b[I];if(!k)throw new Error("invalid hit type <"+I+">");return Pt(D,k),D}function P(D,I){sn(D,I)}this.removeHits=function(D){se(ju(".djs-hit",D),Ss)},this.createDefaultHit=function(D,I){var k=D.waypoints,F=D.isFrame;return k?this.createWaypointsHit(I,k):this.createBoxHit(I,F?"stroke":"all",{width:D.width,height:D.height})},this.createWaypointsHit=function(D,I){var k=lE(I);return C(k,"stroke"),P(D,k),k},this.createBoxHit=function(D,I,k){k=pe({x:0,y:0},k);var F=$t("rect");return C(F,I),Pt(F,k),P(D,F),F},this.updateDefaultHit=function(D,I){var k=dn(".djs-hit",I);if(k)return D.waypoints?voe(k,D.waypoints):Pt(k,{width:D.width,height:D.height}),k},this.fire=o,this.triggerMouseEvent=function p(D,I,k){var F=u[D];if(!F)throw new Error("unmapped DOM event name <"+D+">");return o(F,I,k)},this.mouseHandler=l,this.registerEvent=h,this.unregisterEvent=m}oae.$inject=["eventBus","elementRegistry","styles"];const GS={__init__:["interactionEvents"],interactionEvents:["type",oae]};function Av(n,t){this._eventBus=n,this._canvas=t,this._selectedElements=[];var i=this;n.on(["shape.remove","connection.remove"],function(s){i.deselect(s.element)}),n.on(["diagram.clear","root.set"],function(s){i.select(null)})}function PN(n,t,i){this._canvas=n;var s=this;function o(l,c){n.addMarker(l,c)}function a(l,c){n.removeMarker(l,c)}this._multiSelectionBox=null,t.on("element.hover",function(l){o(l.element,"hover")}),t.on("element.out",function(l){a(l.element,"hover")}),t.on("selection.changed",function(l){var d=l.oldSelection,p=l.newSelection;se(d,function(f){-1===p.indexOf(f)&&function c(f){a(f,"selected")}(f)}),se(p,function(f){-1===d.indexOf(f)&&function u(f){o(f,"selected")}(f)}),s._updateSelectionOutline(p)}),t.on("element.changed",function(l){i.isSelected(l.element)&&s._updateSelectionOutline(i.get())})}function cae(n,t,i,s){n.on("create.end",500,function(o){var a=o.context,c=a.elements,d=(a.hints||{}).autoSelect;if(a.canExecute){if(!1===d)return;Vt(d)?t.select(d):t.select(c.filter(CYe))}}),n.on("connect.end",500,function(o){var l=o.context.connection;l&&t.select(l)}),n.on("shape.move.end",500,function(o){var a=o.previousSelection||[],l=s.get(o.context.shape.id);It(a,function(u){return l.id===u.id})||t.select(l)}),n.on("element.click",function(o){if(Vh(o)){var a=o.element;a===i.getRootElement()&&(a=null);var l=t.isSelected(a),c=t.get().length>1,u=qS(o);if(l&&c)return u?t.deselect(a):t.select(a);l?t.deselect(a):t.select(a,u)}})}function CYe(n){return!n.hidden}Av.$inject=["eventBus","canvas"],Av.prototype.deselect=function(n){var t=this._selectedElements,i=t.indexOf(n);if(-1!==i){var s=t.slice();t.splice(i,1),this._eventBus.fire("selection.changed",{oldSelection:s,newSelection:t})}},Av.prototype.get=function(){return this._selectedElements},Av.prototype.isSelected=function(n){return-1!==this._selectedElements.indexOf(n)},Av.prototype.select=function(n,t){var i=this._selectedElements,s=i.slice();Vt(n)||(n=n?[n]:[]);var o=this._canvas,a=o.getRootElement();n=n.filter(function(l){var c=o.findRoot(l);return a===c}),t?se(n,function(l){-1===i.indexOf(l)&&i.push(l)}):this._selectedElements=i=n.slice(),this._eventBus.fire("selection.changed",{oldSelection:s,newSelection:i})},PN.$inject=["canvas","eventBus","selection"],PN.prototype._updateSelectionOutline=function(n){var t=this._canvas.getLayer("selectionOutline");lg(t);var i=n.length>1;if(mr(this._canvas.getContainer())[i?"add":"remove"]("djs-multi-select"),i){var o=function xYe(n){return{x:n.x-6,y:n.y-6,width:n.width+12,height:n.height+12}}(Qs(n)),a=$t("rect");Pt(a,pe({rx:3},o)),mr(a).add("djs-selection-outline"),sn(t,a)}},cae.$inject=["eventBus","selection","canvas","elementRegistry"];const Al={__init__:["selectionVisuals","selectionBehavior"],__depends__:[GS,HS],selection:["type",Av],selectionVisuals:["type",PN],selectionBehavior:["type",cae]},SYe=/^class[ {]/;function DN(n){return Array.isArray(n)}function kN(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function YS(...n){1===n.length&&DN(n[0])&&(n=n[0]);const t=(n=[...n]).pop();return t.$inject=n,t}const TYe=/constructor\s*[^(]*\(\s*([^)]*)\)/m,PYe=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,DYe=/\/\*([^*]*)\*\//m;function kYe(n){if("function"!=typeof n)throw new Error(`Cannot annotate "${n}". Expected a function!`);const t=n.toString().match(function OYe(n){return SYe.test(n.toString())}(n)?TYe:PYe);if(!t)return[];const i=t[1]||t[2];return i&&i.split(",").map(s=>{const o=s.match(DYe);return(o&&o[1]||s).trim()})||[]}function XS(n,t){const i=t||{get:function(x,b){if(s.push(x),!1===b)return null;throw c(`No provider for "${x}"!`)}},s=[],o=this._providers=Object.create(i._providers||null),a=this._instances=Object.create(null),l=a.injector=this,c=function(x){const b=s.join(" -> ");return s.length=0,new Error(b?`${x} (Resolving: ${b})`:x)};function u(x,b){if(!o[x]&&x.includes(".")){const w=x.split(".");let C=u(w.shift());for(;w.length;)C=C[w.shift()];return C}if(kN(a,x))return a[x];if(kN(o,x)){if(-1!==s.indexOf(x))throw s.push(x),c("Cannot resolve circular dependency!");return s.push(x),a[x]=o[x][0](o[x][1]),s.pop(),a[x]}return i.get(x,b)}function d(x,b){if(typeof b>"u"&&(b={}),"function"!=typeof x){if(!DN(x))throw c(`Cannot invoke "${x}". Expected a function!`);x=YS(x.slice())}return{fn:x,dependencies:(x.$inject||kYe(x)).map(P=>kN(b,P)?b[P]:u(P))}}function p(x){const{fn:b,dependencies:w}=d(x);return new(Function.prototype.bind.call(b,null,...w))}function f(x,b,w){const{fn:C,dependencies:P}=d(x,w);return C.apply(b,P)}function h(x){return YS(b=>x.get(b))}function m(x,b){if(b&&b.length){const w=Object.create(null),C=Object.create(null),P=[],D=[],I=[];let k,F,M,B;for(let q in o)k=o[q],-1!==b.indexOf(q)&&("private"===k[2]?(F=P.indexOf(k[3]),-1===F?(M=k[3].createChild([],b),B=h(M),P.push(k[3]),D.push(M),I.push(B),w[q]=[B,q,"private",M]):w[q]=[I[F],q,"private",D[F]]):w[q]=[k[2],k[1]],C[q]=!0),("factory"===k[2]||"type"===k[2])&&k[1].$scope&&b.forEach(ue=>{-1!==k[1].$scope.indexOf(ue)&&(w[q]=[k[2],k[1]],C[ue]=!0)});b.forEach(q=>{if(!C[q])throw new Error('No provider for "'+q+'". Cannot use provider from the parent!')}),x.unshift(w)}return new XS(x,l)}const g={factory:f,type:p,value:function(x){return x}};function y(x,b){const w=x.__init__||[];return function(){w.forEach(C=>{"string"==typeof C?b.get(C):b.invoke(C)})}}function v(x){const b=x.__exports__;if(b){const w=x.__modules__,C=Object.keys(x).reduce((F,M)=>("__exports__"!==M&&"__modules__"!==M&&"__init__"!==M&&"__depends__"!==M&&(F[M]=x[M]),F),Object.create(null)),D=m((w||[]).concat(C)),I=YS(function(F){return D.get(F)});b.forEach(function(F){o[F]=[I,F,"private",D]});const k=(x.__init__||[]).slice();return k.unshift(function(){D.init()}),y(x=Object.assign({},x,{__init__:k}),D)}return Object.keys(x).forEach(function(w){if("__init__"===w||"__depends__"===w)return;const C=x[w];if("private"===C[2])return void(o[w]=C);const P=C[0];o[w]=[g[P],MYe(P,C[1]),P]}),y(x,l)}function _(x,b){return-1!==x.indexOf(b)||-1!==(x=(b.__depends__||[]).reduce(_,x)).indexOf(b)?x:x.concat(b)}this.get=u,this.invoke=f,this.instantiate=p,this.createChild=m,this.init=function E(x){const b=x.reduce(_,[]).map(v);let w=!1;return function(){w||(w=!0,b.forEach(C=>C()))}}(n)}function MYe(n,t){return"value"!==n&&DN(t)&&(t=YS(t.slice())),t}function $h(n,t){Qa.call(this,n,1),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=t.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}Lt($h,Qa),$h.prototype.canRender=function(){return!0},$h.prototype.drawShape=function(t,i,s){var o=$t("rect");return Pt(o,{x:0,y:0,width:i.width||0,height:i.height||0}),qoe(i)?Pt(o,pe({},this.FRAME_STYLE,s||{})):Pt(o,pe({},this.SHAPE_STYLE,s||{})),sn(t,o),o},$h.prototype.drawConnection=function(t,i,s){var o=lE(i.waypoints,pe({},this.CONNECTION_STYLE,s||{}));return sn(t,o),o},$h.prototype.getShapePath=function(t){var o=t.width;return cg([["M",t.x,t.y],["l",o,0],["l",0,t.height],["l",-o,0],["z"]])},$h.prototype.getConnectionPath=function(t){var s,o,i=t.waypoints,a=[];for(s=0;o=i[s];s++)a.push([0===s?"M":"L",(o=o.original||o).x,o.y]);return cg(a)},$h.$inject=["eventBus","styles"];const RYe={__init__:["defaultRenderer"],defaultRenderer:["type",$h],styles:["type",function IYe(){var n={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(i,s,o){return pe(this.style(s,o),{class:i})},this.style=function(i,s){!Vt(i)&&!s&&(s=i,i=[]);var o=ps(i,function(a,l){return pe(a,n[l]||{})},{});return s?pe(o,s):o},this.computeStyle=function(i,s,o){return Vt(s)||(o=s,s=[]),t.style(s||[],pe({},o,i||{}))}}]};function ss(n,t){if(!n||!t)return-1;var i=n.indexOf(t);return-1!==i&&n.splice(i,1),i}function fs(n,t,i){if(n&&t){"number"!=typeof i&&(i=-1);var s=n.indexOf(t);if(-1!==s){if(s===i)return;if(-1===i)return;n.splice(s,1)}-1!==i?n.splice(i,0,t):n.push(t)}}function MN(n,t){return n&&t?n.indexOf(t):-1}function ZS(n,t){return Math.round(n*t)/t}function uae(n){return un(n)?n+"px":n}function dae(n,t,i){const s=$t("g");return mr(s).add(t),n.insertBefore(s,n.childNodes[void 0!==i?i:n.childNodes.length-1]||null),s}const jYe={shape:["x","y","width","height"],connection:["waypoints"]};function Hn(n,t,i,s){this._eventBus=t,this._elementRegistry=s,this._graphicsFactory=i,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(n||{})}function fae(n,t){n.setAttribute("transform","matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")")}Hn.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],Hn.prototype._init=function(n){const t=this._eventBus,i=this._container=function LYe(n){const t=(n=pe({},{width:"100%",height:"100%"},n)).container||document.body,i=document.createElement("div");return i.setAttribute("class","djs-container djs-parent"),zo(i,{position:"relative",overflow:"hidden",width:uae(n.width),height:uae(n.height)}),t.appendChild(i),i}(n),s=this._svg=$t("svg");Pt(s,{width:"100%",height:"100%"}),sn(i,s);const o=this._viewport=dae(s,"viewport");n.deferUpdate&&(this._viewboxChanged=xv(Cs(this._viewboxChanged,this),300)),t.on("diagram.init",()=>{t.fire("canvas.init",{svg:s,viewport:o})}),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)},Hn.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const n=this._container.parentNode;n&&n.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport},Hn.prototype._clear=function(){this._elementRegistry.getAll().forEach(t=>{const i=Uoe(t);"root"===i?this.removeRootElement(t):this._removeElement(t,i)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox},Hn.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},Hn.prototype.getLayer=function(n,t){if(!n)throw new Error("must specify a name");let i=this._layers[n];if(i||(i=this._layers[n]=this._createLayer(n,t)),typeof t<"u"&&i.index!==t)throw new Error("layer <"+n+"> already created at index <"+t+">");return i.group},Hn.prototype._getChildIndex=function(n){return ps(this._layers,function(t,i){return i.visible&&n>=i.index&&t++,t},0)},Hn.prototype._createLayer=function(n,t){typeof t>"u"&&(t=1);const i=this._getChildIndex(t);return{group:dae(this._viewport,"layer-"+n,i),index:t,visible:!0}},Hn.prototype.showLayer=function(n){if(!n)throw new Error("must specify a name");const t=this._layers[n];if(!t)throw new Error("layer <"+n+"> does not exist");const i=this._viewport,s=t.group;if(t.visible)return s;const a=this._getChildIndex(t.index);return i.insertBefore(s,i.childNodes[a]||null),t.visible=!0,s},Hn.prototype.hideLayer=function(n){if(!n)throw new Error("must specify a name");const t=this._layers[n];if(!t)throw new Error("layer <"+n+"> does not exist");const i=t.group;return t.visible&&(Ss(i),t.visible=!1),i},Hn.prototype._removeLayer=function(n){const t=this._layers[n];t&&(delete this._layers[n],Ss(t.group))},Hn.prototype.getActiveLayer=function(){const n=this._findPlaneForRoot(this.getRootElement());return n?n.layer:null},Hn.prototype.findRoot=function(n){return"string"==typeof n&&(n=this._elementRegistry.get(n)),n?(this._findPlaneForRoot(function NYe(n){for(;n.parent;)n=n.parent;return n}(n))||{}).rootElement:void 0},Hn.prototype.getRootElements=function(){return this._planes.map(function(n){return n.rootElement})},Hn.prototype._findPlaneForRoot=function(n){return It(this._planes,function(t){return t.rootElement===n})},Hn.prototype.getContainer=function(){return this._container},Hn.prototype._updateMarker=function(n,t,i){let s;n.id||(n=this._elementRegistry.get(n)),n.markers=n.markers||new Set,s=this._elementRegistry._elements[n.id],s&&(se([s.gfx,s.secondaryGfx],function(o){o&&(i?(n.markers.add(t),mr(o).add(t)):(n.markers.delete(t),mr(o).remove(t)))}),this._eventBus.fire("element.marker.update",{element:n,gfx:s.gfx,marker:t,add:!!i}))},Hn.prototype.addMarker=function(n,t){this._updateMarker(n,t,!0)},Hn.prototype.removeMarker=function(n,t){this._updateMarker(n,t,!1)},Hn.prototype.hasMarker=function(n,t){return n.id||(n=this._elementRegistry.get(n)),!!n.markers&&n.markers.has(t)},Hn.prototype.toggleMarker=function(n,t){this.hasMarker(n,t)?this.removeMarker(n,t):this.addMarker(n,t)},Hn.prototype.getRootElement=function(){const n=this._rootElement;return n||this._planes.length?n:this.setRootElement(this.addRootElement(null))},Hn.prototype.addRootElement=function(n){const t=this._rootsIdx++;n||(n={id:"__implicitroot_"+t,children:[],isImplicit:!0});const i=n.layer="root-"+t;this._ensureValid("root",n);const s=this.getLayer(i,0);return this.hideLayer(i),this._addRoot(n,s),this._planes.push({rootElement:n,layer:s}),n},Hn.prototype.removeRootElement=function(n){if("string"==typeof n&&(n=this._elementRegistry.get(n)),this._findPlaneForRoot(n))return this._removeRoot(n),this._removeLayer(n.layer),this._planes=this._planes.filter(function(i){return i.rootElement!==n}),this._rootElement===n&&(this._rootElement=null),n},Hn.prototype.setRootElement=function(n){if(n===this._rootElement)return n;let t;if(!n)throw new Error("rootElement required");return t=this._findPlaneForRoot(n),t||(n=this.addRootElement(n)),this._setRoot(n),n},Hn.prototype._removeRoot=function(n){const t=this._elementRegistry,i=this._eventBus;i.fire("root.remove",{element:n}),i.fire("root.removed",{element:n}),t.remove(n)},Hn.prototype._addRoot=function(n,t){const i=this._elementRegistry,s=this._eventBus;s.fire("root.add",{element:n}),i.add(n,t),s.fire("root.added",{element:n,gfx:t})},Hn.prototype._setRoot=function(n,t){const i=this._rootElement;i&&(this._elementRegistry.updateGraphics(i,null,!0),this.hideLayer(i.layer)),n&&(t||(t=this._findPlaneForRoot(n).layer),this._elementRegistry.updateGraphics(n,this._svg,!0),this.showLayer(n.layer)),this._rootElement=n,this._eventBus.fire("root.set",{element:n})},Hn.prototype._ensureValid=function(n,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element <"+t.id+"> already exists");const i=jYe[n];if(!tc(i,function(o){return typeof t[o]<"u"}))throw new Error("must supply { "+i.join(", ")+" } with "+n)},Hn.prototype._setParent=function(n,t,i){fs(t.children,n,i),n.parent=t},Hn.prototype._addElement=function(n,t,i,s){i=i||this.getRootElement();const o=this._eventBus,a=this._graphicsFactory;this._ensureValid(n,t),o.fire(n+".add",{element:t,parent:i}),this._setParent(t,i,s);const l=a.create(n,t,s);return this._elementRegistry.add(t,l),a.update(n,t,l),o.fire(n+".added",{element:t,gfx:l}),t},Hn.prototype.addShape=function(n,t,i){return this._addElement("shape",n,t,i)},Hn.prototype.addConnection=function(n,t,i){return this._addElement("connection",n,t,i)},Hn.prototype._removeElement=function(n,t){const i=this._elementRegistry,s=this._graphicsFactory,o=this._eventBus;if(n=i.get(n.id||n))return o.fire(t+".remove",{element:n}),s.remove(n),ss(n.parent&&n.parent.children,n),n.parent=null,o.fire(t+".removed",{element:n}),i.remove(n),n},Hn.prototype.removeShape=function(n){return this._removeElement(n,"shape")},Hn.prototype.removeConnection=function(n){return this._removeElement(n,"connection")},Hn.prototype.getGraphics=function(n,t){return this._elementRegistry.getGraphics(n,t)},Hn.prototype._changeViewbox=function(n){this._eventBus.fire("canvas.viewbox.changing"),n.apply(this),this._cachedViewbox=null,this._viewboxChanged()},Hn.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},Hn.prototype.viewbox=function(n){if(void 0===n&&this._cachedViewbox)return JSON.parse(JSON.stringify(this._cachedViewbox));const t=this._viewport,i=this.getSize();let s,o,a,l,c,u,d;return n?(this._changeViewbox(function(){c=Math.min(i.width/n.width,i.height/n.height);const p=this._svg.createSVGMatrix().scale(c).translate(-n.x,-n.y);aE(t,p)}),n):(a=this._rootElement?this.getActiveLayer():null,s=a&&a.getBBox()||{},l=aE(t),o=l?l.matrix:function bGe(n,t,i,s,o,a){var l=SS().createSVGMatrix();switch(arguments.length){case 0:return l;case 1:return uN(l,n);case 6:return uN(l,{a:n,b:t,c:i,d:s,e:o,f:a})}}(),c=ZS(o.a,1e3),u=ZS(-o.e||0,1e3),d=ZS(-o.f||0,1e3),n=this._cachedViewbox={x:u?u/c:0,y:d?d/c:0,width:i.width/c,height:i.height/c,scale:c,inner:{width:s.width||0,height:s.height||0,x:s.x||0,y:s.y||0},outer:i})},Hn.prototype.scroll=function(n){const t=this._viewport;let i=t.getCTM();return n&&this._changeViewbox(function(){n=pe({dx:0,dy:0},n||{}),i=this._svg.createSVGMatrix().translate(n.dx,n.dy).multiply(i),fae(t,i)}),{x:i.e,y:i.f}},Hn.prototype.scrollToElement=function(n,t){let i=100;"string"==typeof n&&(n=this._elementRegistry.get(n));const s=this.findRoot(n);if(s!==this.getRootElement()&&this.setRootElement(s),s===n)return;t||(t={}),"number"==typeof t&&(i=t),t={top:t.top||i,right:t.right||i,bottom:t.bottom||i,left:t.left||i};const o=Qs(n),a=tn(o),l=this.viewbox(),c=this.zoom();let u,d;l.y+=t.top/c,l.x+=t.left/c,l.width-=(t.right+t.left)/c,l.height-=(t.bottom+t.top)/c;const p=tn(l);if(o.width<l.width&&o.height<l.height){const h=Math.max(0,a.right-p.right),m=Math.min(0,a.left-p.left),g=Math.max(0,a.bottom-p.bottom),y=Math.min(0,a.top-p.top);u=h||m,d=g||y}else u=o.x-l.x,d=o.y-l.y;this.scroll({dx:-u*c,dy:-d*c})},Hn.prototype.zoom=function(n,t){if(!n)return this.viewbox(n).scale;if("fit-viewport"===n)return this._fitViewport(t);let i,s;return this._changeViewbox(function(){"object"!=typeof t&&(i=this.viewbox().outer,t={x:i.width/2,y:i.height/2}),s=this._setZoom(n,t)}),ZS(s.a,1e3)},Hn.prototype._fitViewport=function(n){const t=this.viewbox(),i=t.outer,s=t.inner;let o,a;return s.x>=0&&s.y>=0&&s.x+s.width<=i.width&&s.y+s.height<=i.height&&!n?a={x:0,y:0,width:Math.max(s.width+s.x,i.width),height:Math.max(s.height+s.y,i.height)}:(o=Math.min(1,i.width/s.width,i.height/s.height),a={x:s.x+(n?s.width/2-i.width/o/2:0),y:s.y+(n?s.height/2-i.height/o/2:0),width:i.width/o,height:i.height/o}),this.viewbox(a),this.viewbox(!1).scale},Hn.prototype._setZoom=function(n,t){const i=this._svg,s=this._viewport,o=i.createSVGMatrix(),a=i.createSVGPoint();let l,c,u,d,p;u=s.getCTM();const f=u.a;return t?(l=pe(a,t),c=l.matrixTransform(u.inverse()),d=o.translate(c.x,c.y).scale(1/f*n).translate(-c.x,-c.y),p=u.multiply(d)):p=o.scale(n),fae(this._viewport,p),p},Hn.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},Hn.prototype.getAbsoluteBBox=function(n){const t=this.viewbox();let i;return i=n.waypoints?this.getGraphics(n).getBBox():n,{x:i.x*t.scale-t.x*t.scale,y:i.y*t.scale-t.y*t.scale,width:i.width*t.scale,height:i.height*t.scale}},Hn.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var Iv="data-element-id";function rc(n){this._elements={},this._eventBus=n}function gae(n,t,i){var s=function hae(n,t,i,s){var o=i.inverse;return Object.defineProperty(n,"remove",{value:function(a){var l=this.indexOf(a);return-1!==l&&(this.splice(l,1),t.unset(a,o,s)),a}}),Object.defineProperty(n,"contains",{value:function(a){return-1!==this.indexOf(a)}}),Object.defineProperty(n,"add",{value:function(a,l){var c=this.indexOf(a);if(typeof l>"u"){if(-1!==c)return;l=this.length}-1!==c&&this.splice(c,1),this.splice(l,0,a),-1===c&&t.set(a,o,s)}}),Object.defineProperty(n,"__refs_collection",{value:!0}),n}(i[t.name]||[],n,t,i);Object.defineProperty(i,t.name,{enumerable:t.enumerable,value:s}),s.length&&s.forEach(function(o){n.set(o,t.inverse,i)})}function ic(n,t){if(!(this instanceof ic))return new ic(n,t);n.inverse=t,t.inverse=n,this.props={},this.props[n.name]=n,this.props[t.name]=t}rc.$inject=["eventBus"],rc.prototype.add=function(n,t,i){var s=n.id;this._validateId(s),Pt(t,Iv,s),i&&Pt(i,Iv,s),this._elements[s]={element:n,gfx:t,secondaryGfx:i}},rc.prototype.remove=function(n){var t=this._elements,i=n.id||n,s=i&&t[i];s&&(Pt(s.gfx,Iv,""),s.secondaryGfx&&Pt(s.secondaryGfx,Iv,""),delete t[i])},rc.prototype.updateId=function(n,t){this._validateId(t),"string"==typeof n&&(n=this.get(n)),this._eventBus.fire("element.updateId",{element:n,newId:t});var i=this.getGraphics(n),s=this.getGraphics(n,!0);this.remove(n),n.id=t,this.add(n,i,s)},rc.prototype.updateGraphics=function(n,t,i){var s=n.id||n,o=this._elements[s];return i?o.secondaryGfx=t:o.gfx=t,t&&Pt(t,Iv,s),t},rc.prototype.get=function(n){var t;t="string"==typeof n?n:n&&Pt(n,Iv);var i=this._elements[t];return i&&i.element},rc.prototype.filter=function(n){var t=[];return this.forEach(function(i,s){n(i,s)&&t.push(i)}),t},rc.prototype.find=function(n){for(var t=this._elements,i=Object.keys(t),s=0;s<i.length;s++){var a=t[i[s]],l=a.element;if(n(l,a.gfx))return l}},rc.prototype.getAll=function(){return this.filter(function(n){return n})},rc.prototype.forEach=function(n){var t=this._elements;Object.keys(t).forEach(function(i){var s=t[i];return n(s.element,s.gfx)})},rc.prototype.getGraphics=function(n,t){var s=this._elements[n.id||n];return s&&(t?s.secondaryGfx:s.gfx)},rc.prototype._validateId=function(n){if(!n)throw new Error("element must have an id");if(this._elements[n])throw new Error("element with id "+n+" already added")},ic.prototype.bind=function(n,t){if("string"==typeof t){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}t.collection?gae(this,t,n):function $Ye(n,t,i){var s=t.inverse,o=i[t.name];Object.defineProperty(i,t.name,{configurable:t.configurable,enumerable:t.enumerable,get:function(){return o},set:function(a){if(a!==o){var l=o;o=null,l&&n.unset(l,s,i),n.set(o=a,s,i)}}})}(this,t,n)},ic.prototype.ensureRefsCollection=function(n,t){var i=n[t.name];return function mae(n){return!0===n.__refs_collection}(i)||gae(this,t,n),i},ic.prototype.ensureBound=function(n,t){(function VYe(n,t){return Object.prototype.hasOwnProperty.call(n,t.name||t)})(n,t)||this.bind(n,t)},ic.prototype.unset=function(n,t,i){n&&(this.ensureBound(n,t),t.collection?this.ensureRefsCollection(n,t).remove(i):n[t.name]=void 0)},ic.prototype.set=function(n,t,i){n&&(this.ensureBound(n,t),t.collection?this.ensureRefsCollection(n,t).add(i):n[t.name]=i)};var AN=new ic({name:"children",enumerable:!0,collection:!0},{name:"parent"}),yae=new ic({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),vae=new ic({name:"attachers",collection:!0},{name:"host"}),bae=new ic({name:"outgoing",collection:!0},{name:"source"}),_ae=new ic({name:"incoming",collection:!0},{name:"target"});function Rv(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(n){var t=this.label,i=this.labels;!n&&t?i.remove(t):i.add(n,0)}}),AN.bind(this,"parent"),yae.bind(this,"labels"),bae.bind(this,"outgoing"),_ae.bind(this,"incoming")}function vE(){Rv.call(this),AN.bind(this,"children"),vae.bind(this,"host"),vae.bind(this,"attachers")}function Eae(){Rv.call(this),AN.bind(this,"children")}function wae(){vE.call(this),yae.bind(this,"labelTarget")}function xae(){Rv.call(this),bae.bind(this,"source"),_ae.bind(this,"target")}Lt(vE,Rv),Lt(Eae,vE),Lt(wae,vE),Lt(xae,Rv);var zYe={connection:xae,shape:vE,label:wae,root:Eae};function Kc(){this._uid=12}Kc.prototype.createRoot=function(n){return this.create("root",n)},Kc.prototype.createLabel=function(n){return this.create("label",n)},Kc.prototype.createShape=function(n){return this.create("shape",n)},Kc.prototype.createConnection=function(n){return this.create("connection",n)},Kc.prototype.create=function(n,t){return(t=pe({},t||{})).id||(t.id=n+"_"+this._uid++),function HYe(n,t){var i=zYe[n];if(!i)throw new Error("unknown type: <"+n+">");return pe(new i,t)}(n,t)};var QS="__fn",qYe=Array.prototype.slice;function Wo(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function bE(){}function zh(n){return n.childNodes[0]}function sc(n,t){this._eventBus=n,this._elementRegistry=t}function Sae(n,t,i){var s=i||t.firstChild;n!==s&&t.insertBefore(n,s)}Wo.prototype.on=function(n,t,i,s){if(n=Vt(n)?n:[n],Gn(t)&&(s=i,i=t,t=1e3),!un(t))throw new Error("priority must be a number");var o=i;s&&((o=Cs(i,s))[QS]=i[QS]||i);var a=this;n.forEach(function(l){a._addListener(l,{priority:t,callback:o,next:null})})},Wo.prototype.once=function(n,t,i,s){var o=this;if(Gn(t)&&(s=i,i=t,t=1e3),!un(t))throw new Error("priority must be a number");function a(){a.__isTomb=!0;var l=i.apply(s,arguments);return o.off(n,a),l}a[QS]=i,this.on(n,t,a)},Wo.prototype.off=function(n,t){n=Vt(n)?n:[n];var i=this;n.forEach(function(s){i._removeListener(s,t)})},Wo.prototype.createEvent=function(n){var t=new bE;return t.init(n),t},Wo.prototype.fire=function(n,t){var i,s,o,a;if(a=qYe.call(arguments),"object"==typeof n&&(n=(t=n).type),!n)throw new Error("no event type specified");if(s=this._listeners[n]){i=t instanceof bE?t:this.createEvent(t),a[0]=i;var l=i.type;n!==l&&(i.type=n);try{o=this._invokeListeners(i,a,s)}finally{n!==l&&(i.type=l)}return void 0===o&&i.defaultPrevented&&(o=!1),o}},Wo.prototype.handleError=function(n){return!1===this.fire("error",{error:n})},Wo.prototype._destroy=function(){this._listeners={}},Wo.prototype._invokeListeners=function(n,t,i){for(var s;i&&!n.cancelBubble;)s=this._invokeListener(n,t,i),i=i.next;return s},Wo.prototype._invokeListener=function(n,t,i){var s;if(i.callback.__isTomb)return s;try{s=function WYe(n,t){return n.apply(null,t)}(i.callback,t),void 0!==s&&(n.returnValue=s,n.stopPropagation()),!1===s&&n.preventDefault()}catch(o){if(!this.handleError(o))throw console.error("unhandled error in event listener",o),o}return s},Wo.prototype._addListener=function(n,t){var s,i=this._getListeners(n);if(i){for(;i;){if(i.priority<t.priority)return t.next=i,void(s?s.next=t:this._setListeners(n,t));s=i,i=i.next}s.next=t}else this._setListeners(n,t)},Wo.prototype._getListeners=function(n){return this._listeners[n]},Wo.prototype._setListeners=function(n,t){this._listeners[n]=t},Wo.prototype._removeListener=function(n,t){var s,o,a,i=this._getListeners(n);if(t)for(;i;)s=i.next,((a=i.callback)===t||a[QS]===t)&&(o?o.next=s:this._setListeners(n,s)),o=i,i=s;else this._setListeners(n,null)},bE.prototype.stopPropagation=function(){this.cancelBubble=!0},bE.prototype.preventDefault=function(){this.defaultPrevented=!0},bE.prototype.init=function(n){pe(this,n||{})},sc.$inject=["eventBus","elementRegistry"],sc.prototype._getChildrenContainer=function(n){var i,t=this._elementRegistry.getGraphics(n);return n.parent?(i=function GYe(n){return n.parentNode.childNodes[1]}(t),i||(mr(i=$t("g")).add("djs-children"),sn(t.parentNode,i))):i=t,i},sc.prototype._clear=function(n){var t=zh(n);return TS(t),t},sc.prototype._createContainer=function(n,t,i,s){var o=$t("g");mr(o).add("djs-group"),typeof i<"u"?Sae(o,t,t.childNodes[i]):sn(t,o);var a=$t("g");mr(a).add("djs-element"),mr(a).add("djs-"+n),s&&mr(a).add("djs-frame"),sn(o,a);var l=$t("g");return mr(l).add("djs-visual"),sn(a,l),a},sc.prototype.create=function(n,t,i){var s=this._getChildrenContainer(t.parent);return this._createContainer(n,s,i,qoe(t))},sc.prototype.updateContainments=function(n){var t=this,i=this._elementRegistry;se(ps(n,function(o,a){return a.parent&&(o[a.parent.id]=a.parent),o},{}),function(o){var a=o.children;if(a){var l=t._getChildrenContainer(o);se(a.slice().reverse(),function(c){Sae(i.getGraphics(c).parentNode,l)})}})},sc.prototype.drawShape=function(n,t,i={}){return this._eventBus.fire("render.shape",{gfx:n,element:t,attrs:i})},sc.prototype.getShapePath=function(n){return this._eventBus.fire("render.getShapePath",n)},sc.prototype.drawConnection=function(n,t,i={}){return this._eventBus.fire("render.connection",{gfx:n,element:t,attrs:i})},sc.prototype.getConnectionPath=function(n){return this._eventBus.fire("render.getConnectionPath",n)},sc.prototype.update=function(n,t,i){if(t.parent){var s=this._clear(i);if("shape"===n)this.drawShape(s,t),Co(i,t.x,t.y);else{if("connection"!==n)throw new Error("unknown type: "+n);this.drawConnection(s,t)}Pt(i,"display",t.hidden?"none":"block")}},sc.prototype.remove=function(n){Ss(this._elementRegistry.getGraphics(n).parentNode)};const KYe={__depends__:[RYe],__init__:["canvas"],canvas:["type",Hn],elementRegistry:["type",rc],elementFactory:["type",Kc],eventBus:["type",Wo],graphicsFactory:["type",sc]};function Vu(n,t){this._injector=t||function XYe(n){return function YYe(n){var t=new XS(n);return t.init(),t}([{config:["value",n=n||{}]},KYe].concat(n.modules||[]))}(n),this.get("eventBus").fire("diagram.init")}function IN(){}function Oae(n,t){this.model=n,this.properties=t}Vu.prototype.get=function(n,t){return this._injector.get(n,t)},Vu.prototype.invoke=function(n,t,i){return this._injector.invoke(n,t,i)},Vu.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},Vu.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},IN.prototype.get=function(n){return this.$model.properties.get(this,n)},IN.prototype.set=function(n,t){this.$model.properties.set(this,n,t)},Oae.prototype.createType=function(n){var t=this.model,i=this.properties,s=Object.create(IN.prototype);se(n.properties,function(l){!l.isMany&&void 0!==l.default&&(s[l.name]=l.default)}),i.defineModel(s,t),i.defineDescriptor(s,n);var o=n.ns.name;function a(l){i.define(this,"$type",{value:o,enumerable:!0}),i.define(this,"$attrs",{value:{}}),i.define(this,"$parent",{writable:!0}),se(l,Cs(function(c,u){this.set(u,c)},this))}return a.prototype=s,a.hasType=s.$instanceOf=this.model.hasType,i.defineModel(a,t),i.defineDescriptor(a,n),a};var ZYe={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},Tae={String:function(n){return n},Boolean:function(n){return"true"===n},Integer:function(n){return parseInt(n,10)},Real:function(n){return parseFloat(n)}};function RN(n,t){var i=Tae[n];return i?i(t):t}function NN(n){return!!ZYe[n]}function Pae(n){return!!Tae[n]}function ga(n,t){var s,o,i=n.split(/:/);if(1===i.length)s=n,o=t;else{if(2!==i.length)throw new Error("expected <prefix:localName> or <localName>, got "+n);s=i[1],o=i[0]}return{name:n=(o?o+":":"")+s,prefix:o,localName:s}}function oc(n){this.ns=n,this.name=n.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function Hh(n,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,se(n,Cs(this.registerPackage,this))}function Dae(n,t,i){var s=t[i];if(s in n)throw new Error("package with "+i+" <"+s+"> already defined")}function yg(n){this.model=n}function kae(n,t,i){Object.defineProperty(n,t.name,{enumerable:!t.isReference,writable:!0,value:i,configurable:!0})}function LN(n){return n.replace(/^:/,"")}function Yc(n,t={}){this.properties=new yg(this),this.factory=new Oae(this,this.properties),this.registry=new Hh(n,this.properties),this.typeCache={},this.config=t}oc.prototype.build=function(){return nc(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},oc.prototype.addProperty=function(n,t,i){"boolean"==typeof t&&(i=t,t=void 0),this.addNamedProperty(n,!1!==i);var s=this.properties;void 0!==t?s.splice(t,0,n):s.push(n)},oc.prototype.replaceProperty=function(n,t,i){var s=n.ns,o=this.properties,a=this.propertiesByName,l=n.name!==t.name;if(n.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+n.ns.name+">");this.setIdProperty(t,!1)}if(n.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+n.ns.name+">");this.setBodyProperty(t,!1)}var c=o.indexOf(n);if(-1===c)throw new Error("property <"+s.name+"> not found in property list");o.splice(c,1),this.addProperty(t,i?void 0:c,l),a[s.name]=a[s.localName]=t},oc.prototype.redefineProperty=function(n,t,i){var s=n.ns.prefix,o=t.split("#"),a=ga(o[0],s),l=ga(o[1],a.prefix).name,c=this.propertiesByName[l];if(!c)throw new Error("refined property <"+l+"> not found");this.replaceProperty(c,n,i),delete n.redefines},oc.prototype.addNamedProperty=function(n,t){var i=n.ns,s=this.propertiesByName;t&&(this.assertNotDefined(n,i.name),this.assertNotDefined(n,i.localName)),s[i.name]=s[i.localName]=n},oc.prototype.removeNamedProperty=function(n){var t=n.ns,i=this.propertiesByName;delete i[t.name],delete i[t.localName]},oc.prototype.setBodyProperty=function(n,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+n.ns.name+">)");this.bodyProperty=n},oc.prototype.setIdProperty=function(n,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+n.ns.name+">)");this.idProperty=n},oc.prototype.assertNotTrait=function(n){if((n.extends||[]).length)throw new Error(`cannot create <${n.name}> extending <${n.extends}>`)},oc.prototype.assertNotDefined=function(n,t){var i=n.name,s=this.propertiesByName[i];if(s)throw new Error("property <"+i+"> already defined; override of <"+s.definedBy.ns.name+"#"+s.ns.name+"> by <"+n.definedBy.ns.name+"#"+n.ns.name+"> not allowed without redefines")},oc.prototype.hasProperty=function(n){return this.propertiesByName[n]},oc.prototype.addTrait=function(n,t){t&&this.assertNotTrait(n);var i=this.allTypesByName,s=this.allTypes,o=n.name;o in i||(se(n.properties,Cs(function(a){a=pe({},a,{name:a.ns.localName,inherited:t}),Object.defineProperty(a,"definedBy",{value:n});var l=a.replaces,c=a.redefines;l||c?this.redefineProperty(a,l||c,l):(a.isBody&&this.setBodyProperty(a),a.isId&&this.setIdProperty(a),this.addProperty(a))},this)),s.push(n),i[o]=n)},Hh.prototype.getPackage=function(n){return this.packageMap[n]},Hh.prototype.getPackages=function(){return this.packages},Hh.prototype.registerPackage=function(n){n=pe({},n);var t=this.packageMap;Dae(t,n,"prefix"),Dae(t,n,"uri"),se(n.types,Cs(function(i){this.registerType(i,n)},this)),t[n.uri]=t[n.prefix]=n,this.packages.push(n)},Hh.prototype.registerType=function(n,t){var i=ga((n=pe({},n,{superClass:(n.superClass||[]).slice(),extends:(n.extends||[]).slice(),properties:(n.properties||[]).slice(),meta:pe(n.meta||{})})).name,t.prefix),s=i.name,o={};se(n.properties,Cs(function(a){var l=ga(a.name,i.prefix),c=l.name;NN(a.type)||(a.type=ga(a.type,l.prefix).name),pe(a,{ns:l,name:c}),o[c]=a},this)),pe(n,{ns:i,name:s,propertiesByName:o}),se(n.extends,Cs(function(a){var l=ga(a,i.prefix),c=this.typeMap[l.name];c.traits=c.traits||[],c.traits.push(s)},this)),this.definePackage(n,t),this.typeMap[s]=n},Hh.prototype.mapTypes=function(n,t,i){var s=NN(n.name)?{name:n.name}:this.typeMap[n.name],o=this;function a(u,d){var p=ga(u,NN(u)?"":n.prefix);o.mapTypes(p,t,d)}function l(u){return a(u,!0)}if(!s)throw new Error("unknown type <"+n.name+">");se(s.superClass,i?l:function c(u){return a(u,!1)}),t(s,!i),se(s.traits,l)},Hh.prototype.getEffectiveDescriptor=function(n){var t=ga(n),i=new oc(t);this.mapTypes(t,function(o,a){i.addTrait(o,a)});var s=i.build();return this.definePackage(s,s.allTypes[s.allTypes.length-1].$pkg),s},Hh.prototype.definePackage=function(n,t){this.properties.define(n,"$pkg",{value:t})},yg.prototype.set=function(n,t,i){if(!$n(t)||!t.length)throw new TypeError("property name must be a non-empty string");var s=this.getProperty(n,t),o=s&&s.name;!function QYe(n){return typeof n>"u"}(i)?s?o in n?n[o]=i:kae(n,s,i):n.$attrs[LN(t)]=i:s?delete n[o]:delete n.$attrs[LN(t)]},yg.prototype.get=function(n,t){var i=this.getProperty(n,t);if(!i)return n.$attrs[LN(t)];var s=i.name;return!n[s]&&i.isMany&&kae(n,i,[]),n[s]},yg.prototype.define=function(n,t,i){if(!i.writable){var s=i.value;delete(i=pe({},i,{get:function(){return s}})).value}Object.defineProperty(n,t,i)},yg.prototype.defineDescriptor=function(n,t){this.define(n,"$descriptor",{value:t})},yg.prototype.defineModel=function(n,t){this.define(n,"$model",{value:t})},yg.prototype.getProperty=function(n,t){var i=this.model,s=i.getPropertyDescriptor(n,t);if(s)return s;if(t.includes(":"))return null;const o=i.config.strict;if(typeof o<"u"){const a=new TypeError(`unknown property <${t}> on <${n.$type}>`);if(o)throw a;typeof console<"u"&&console.warn(a)}return null},Yc.prototype.create=function(n,t){var i=this.getType(n);if(!i)throw new Error("unknown type <"+n+">");return new i(t)},Yc.prototype.getType=function(n){var t=this.typeCache,i=$n(n)?n:n.ns.name,s=t[i];return s||(n=this.registry.getEffectiveDescriptor(i),s=t[i]=this.factory.createType(n)),s},Yc.prototype.createAny=function(n,t,i){var s=ga(n),o={$type:n,$instanceOf:function(l){return l===this.$type},get:function(l){return this[l]},set:function(l,c){Ah(this,[l],c)}};return this.properties.defineDescriptor(o,{name:n,isGeneric:!0,ns:{prefix:s.prefix,localName:s.localName,uri:t}}),this.properties.defineModel(o,this),this.properties.define(o,"get",{enumerable:!1,writable:!0}),this.properties.define(o,"set",{enumerable:!1,writable:!0}),this.properties.define(o,"$parent",{enumerable:!1,writable:!0}),this.properties.define(o,"$instanceOf",{enumerable:!1,writable:!0}),se(i,function(l,c){fr(l)&&void 0!==l.value?o[l.name]=l.value:o[c]=l}),o},Yc.prototype.getPackage=function(n){return this.registry.getPackage(n)},Yc.prototype.getPackages=function(){return this.registry.getPackages()},Yc.prototype.getElementDescriptor=function(n){return n.$descriptor},Yc.prototype.hasType=function(n,t){return void 0===t&&(t=n,n=this),t in n.$model.getElementDescriptor(n).allTypesByName},Yc.prototype.getPropertyDescriptor=function(n,t){return this.getElementDescriptor(n).propertiesByName[t]},Yc.prototype.getTypeDescriptor=function(n){return this.registry.typeMap[n]};var Mae=String.fromCharCode,JYe=Object.prototype.hasOwnProperty,eXe=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,_E={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function tXe(n,t,i,s){return s?JYe.call(_E,s)?_E[s]:"&"+s+";":Mae(t||parseInt(i,16))}function vg(n){return n.length>3&&-1!==n.indexOf("&")?n.replace(eXe,tXe):n}Object.keys(_E).forEach(function(n){_E[n.toUpperCase()]=_E[n]});var Iae="non-whitespace outside of root node";function Nv(n){return new Error(n)}function Rae(n){return"missing namespace for prefix <"+n+">"}function JS(n){return{get:n,enumerable:!0}}function iXe(n){var i,t={};for(i in n)t[i]=n[i];return t}function FN(n){return n+"$uri"}function Nae(){return{line:0,column:0}}function oXe(n){throw n}function BN(n){if(!this)return new BN(n);var i,s,o,a,c,u,d,p,v,t=n&&n.proxy,l=oXe,f=Nae,h=!1,m=!1,g=null,y=!1;function _(b){b instanceof Error||(b=Nv(b)),g=b,l(b,f)}function E(b){c&&(b instanceof Error||(b=Nv(b)),c(b,f))}this.on=function(b,w){if("function"!=typeof w)throw Nv("required args <name, cb>");switch(b){case"openTag":s=w;break;case"text":i=w;break;case"closeTag":o=w;break;case"error":l=w;break;case"warn":c=w;break;case"cdata":a=w;break;case"attention":p=w;break;case"question":d=w;break;case"comment":u=w;break;default:throw Nv("unsupported event: "+b)}return this},this.ns=function(b){if(typeof b>"u"&&(b={}),"object"!=typeof b)throw Nv("required args <nsMap={}>");var C,w={};for(C in b)w[C]=b[C];return w["http://www.w3.org/2001/XMLSchema-instance"]="xsi",m=!0,v=w,this},this.parse=function(b){if("string"!=typeof b)throw Nv("required args <xml=string>");return g=null,function x(b){var P,q,ue,H,ee,Q,Ee,Te,Ve,Pe,j,w=m?[]:null,C=m?function sXe(n){var i,s,t={};for(i in n)t[s=n[i]]=s,t[FN(s)]=i;return t}(v):null,D=[],I=0,k=!1,F=!1,M=0,B=0,de="",X=0;function R(){if(null!==j)return j;var N,z,W,Cr,At,an,ae,Ye,re,ve,le,Ke=m&&C.xmlns,tt=m&&h?[]:null,Ge=X,Nt=de,Ln=Nt.length,Et={},Ct={};e:for(;Ge<Ln;Ge++)if(re=!1,ve=Nt.charCodeAt(Ge),!(32===ve||ve<14&&ve>8)){for((ve<65||ve>122||ve>90&&ve<97)&&95!==ve&&58!==ve&&(E("illegal first char attribute name"),re=!0),le=Ge+1;le<Ln;le++)if(!((ve=Nt.charCodeAt(le))>96&&ve<123||ve>64&&ve<91||ve>47&&ve<59||46===ve||45===ve||95===ve)){if(32===ve||ve<14&&ve>8){E("missing attribute value"),Ge=le;continue e}if(61===ve)break;E("illegal attribute name char"),re=!0}if("xmlns:xmlns"===(Ye=Nt.substring(Ge,le))&&(E("illegal declaration of xmlns"),re=!0),34===(ve=Nt.charCodeAt(le+1)))-1===(le=Nt.indexOf('"',Ge=le+2))&&-1!==(le=Nt.indexOf("'",Ge))&&(E("attribute value quote missmatch"),re=!0);else if(39===ve)-1===(le=Nt.indexOf("'",Ge=le+2))&&-1!==(le=Nt.indexOf('"',Ge))&&(E("attribute value quote missmatch"),re=!0);else for(E("missing attribute value quotes"),re=!0,le+=1;le<Ln&&!(32===(ve=Nt.charCodeAt(le+1))||ve<14&&ve>8);le++);for(-1===le&&(E("missing closing quotes"),le=Ln,re=!0),re||(an=Nt.substring(Ge,le)),Ge=le;le+1<Ln&&!(32===(ve=Nt.charCodeAt(le+1))||ve<14&&ve>8);le++)Ge===le&&(E("illegal character after attribute end"),re=!0);if(Ge=le+1,re)continue e;if(Ye in Ct){E("attribute <"+Ye+"> already defined");continue}if(Ct[Ye]=!0,!m){Et[Ye]=an;continue}if(h){if(null!==(At="xmlns"===Ye?"xmlns":120===Ye.charCodeAt(0)&&"xmlns:"===Ye.substr(0,6)?Ye.substr(6):null)){if(N=vg(an),z=FN(At),!(ae=v[N])){if("xmlns"===At||z in C&&C[z]!==N)do{ae="ns"+I++}while(typeof C[ae]<"u");else ae=At;v[N]=ae}C[At]!==ae&&(Cr||(C=iXe(C),Cr=!0),C[At]=ae,"xmlns"===At&&(C[FN(ae)]=N,Ke=ae),C[z]=N),Et[Ye]=an;continue}tt.push(Ye,an);continue}if(-1===(ve=Ye.indexOf(":"))){Et[Ye]=an;continue}if(!(W=C[Ye.substring(0,ve)])){E(Rae(Ye.substring(0,ve)));continue}"xsi:type"===(Ye=Ke===W?Ye.substr(ve+1):W+Ye.substr(ve))&&(-1!==(ve=an.indexOf(":"))?(W=an.substring(0,ve),an=(W=C[W]||W)+an.substring(ve)):an=Ke+":"+an),Et[Ye]=an}if(h)for(Ge=0,Ln=tt.length;Ge<Ln;Ge++){if(Ye=tt[Ge++],an=tt[Ge],-1!==(ve=Ye.indexOf(":"))){if(!(W=C[Ye.substring(0,ve)])){E(Rae(Ye.substring(0,ve)));continue}"xsi:type"===(Ye=Ke===W?Ye.substr(ve+1):W+Ye.substr(ve))&&(-1!==(ve=an.indexOf(":"))?(W=an.substring(0,ve),an=(W=C[W]||W)+an.substring(ve)):an=Ke+":"+an)}Et[Ye]=an}return j=Et}for(f=function A(){for(var Ge,Nt,N=/(\r\n|\r|\n)/g,z=0,W=0,Ke=0,tt=B;M>=Ke&&(Ge=N.exec(b))&&!((tt=Ge[0].length+Ge.index)>M);)z+=1,Ke=tt;return-1==M?(W=tt,Nt=b.substring(B)):0===B?Nt=b.substring(B,M):(W=M-Ke,Nt=-1==B?b.substring(M):b.substring(M,B+1)),{data:Nt,line:z,column:W}},t&&(Pe=Object.create({},{name:JS(function(){return Te}),originalName:JS(function(){return Ve}),attrs:JS(R),ns:JS(function(){return C})}));-1!==B;){if(-1===(M=60===b.charCodeAt(B)?B:b.indexOf("<",B)))return D.length?_("unexpected end of file"):0===B?_("missing start tag"):void(B<b.length&&b.substring(B).trim()&&E(Iae));if(B!==M)if(D.length){if(i&&(i(b.substring(B,M),vg,f),y))return}else if(b.substring(B,M).trim()&&(E(Iae),y))return;if(33===(ee=b.charCodeAt(M+1))){if(91===(H=b.charCodeAt(M+2))&&"CDATA["===b.substr(M+3,6)){if(-1===(B=b.indexOf("]]>",M)))return _("unclosed cdata");if(a&&(a(b.substring(M+9,B),f),y))return;B+=3;continue}if(45===H&&45===b.charCodeAt(M+3)){if(-1===(B=b.indexOf("--\x3e",M)))return _("unclosed comment");if(u&&(u(b.substring(M+4,B),vg,f),y))return;B+=3;continue}}if(63!==ee){for(q=M+1;;q++){if(Q=b.charCodeAt(q),isNaN(Q))return B=-1,_("unclosed tag");if(34===Q)q=-1!==(H=b.indexOf('"',q+1))?H:q;else if(39===Q)q=-1!==(H=b.indexOf("'",q+1))?H:q;else if(62===Q){B=q;break}}if(33!==ee){if(j={},47===ee){if(k=!1,F=!0,!D.length)return _("missing open tag");if(q=Te=D.pop(),b.substring(M+2,H=M+2+q.length)!==q)return _("closing tag mismatch");for(;H<B;H++)if(!(32===(ee=b.charCodeAt(H))||ee>8&&ee<14))return _("close tag")}else{if(47===b.charCodeAt(B-1)?(q=Te=b.substring(M+1,B-1),k=!0,F=!0):(q=Te=b.substring(M+1,B),k=!0,F=!1),!(ee>96&&ee<123||ee>64&&ee<91||95===ee||58===ee))return _("illegal first char nodeName");for(H=1,ue=q.length;H<ue;H++)if(!((ee=q.charCodeAt(H))>96&&ee<123||ee>64&&ee<91||ee>47&&ee<59||45===ee||95===ee||46==ee)){if(32===ee||ee<14&&ee>8){Te=q.substring(0,H),j=null;break}return _("invalid nodeName")}F||D.push(Te)}if(m){if(P=C,k&&(F||w.push(P),null===j&&(h=-1!==q.indexOf("xmlns",H))&&(X=H,de=q,R(),h=!1)),Ve=Te,-1!==(ee=Te.indexOf(":"))){if(!(Ee=C[Te.substring(0,ee)]))return _("missing namespace on <"+Ve+">");Te=Te.substr(ee+1)}else Ee=C.xmlns;Ee&&(Te=Ee+":"+Te)}if(k&&(X=H,de=q,s&&(t?s(Pe,vg,F,f):s(Te,R,vg,F,f),y)))return;if(F){if(o&&(o(t?Pe:Te,vg,k,f),y))return;m&&(C=k?P:w.pop())}B+=1}else{if(p&&(p(b.substring(M,B+1),vg,f),y))return;B+=1}}else{if(-1===(B=b.indexOf("?>",M)))return _("unclosed question");if(d&&(d(b.substring(M,B+2),f),y))return;B+=2}}}(b),f=Nae,y=!1,g},this.stop=function(){y=!0}}function Lae(n){return n.xml&&"lowerCase"===n.xml.tagAlias}var aXe={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},eO="xsi:type";function Fae(n){return n.xml&&n.xml.serialize}function Bae(n){return Fae(n)===eO}function jae(n,t){return Lae(t)?n.prefix+":"+function cXe(n){return n.charAt(0).toUpperCase()+n.slice(1)}(n.localName):n.name}function Uh(n){return new Error(n)}function Yp(n){return n.$descriptor}function pXe(n){pe(this,n),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(t){this.references.push(t)},this.addElement=function(t){if(!t)throw Uh("expected element");var a,i=this.elementsById,o=Yp(t).idProperty;if(o&&(a=t.get(o.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(a))throw new Error("illegal ID <"+a+">");if(i[a])throw Uh("duplicate ID <"+a+">");i[a]=t}},this.addWarning=function(t){this.warnings.push(t)}}function EE(){}function jN(){}function Lv(){}function wE(n,t){this.property=n,this.context=t}function VN(n,t){this.element=t,this.propertyDesc=n}function tO(){}function ya(n,t,i){this.model=n,this.type=n.getType(t),this.context=i}function $N(n,t,i){ya.call(this,n,t,i)}function Fv(n,t,i){this.model=n,this.context=i}function zN(n){n instanceof Yc&&(n={model:n}),pe(this,{lax:!1},n)}EE.prototype.handleEnd=function(){},EE.prototype.handleText=function(){},EE.prototype.handleNode=function(){},(jN.prototype=Object.create(EE.prototype)).handleNode=function(){return this},(Lv.prototype=Object.create(EE.prototype)).handleText=function(n){this.body=(this.body||"")+n},(wE.prototype=Object.create(Lv.prototype)).handleNode=function(n){if(this.element)throw Uh("expected no sub nodes");return this.element=this.createReference(n),this},wE.prototype.handleEnd=function(){this.element.id=this.body},wE.prototype.createReference=function(n){return{property:this.property.ns.name,id:""}},(VN.prototype=Object.create(Lv.prototype)).handleEnd=function(){var n=this.body||"",t=this.element,i=this.propertyDesc;n=RN(i.type,n),i.isMany?t.get(i.name).push(n):t.set(i.name,n)},(tO.prototype=Object.create(Lv.prototype)).handleNode=function(n){var t=this,i=this.element;return i?t=this.handleChild(n):(i=this.element=this.createElement(n),this.context.addElement(i)),t},(ya.prototype=Object.create(tO.prototype)).addReference=function(n){this.context.addReference(n)},ya.prototype.handleText=function(n){if(!Yp(this.element).bodyProperty)throw Uh("unexpected body text <"+n+">");Lv.prototype.handleText.call(this,n)},ya.prototype.handleEnd=function(){var n=this.body,t=this.element,s=Yp(t).bodyProperty;s&&void 0!==n&&(n=RN(s.type,n),t.set(s.name,n))},ya.prototype.createElement=function(n){var c,t=n.attributes,i=this.type,s=Yp(i),o=this.context,a=new i({}),l=this.model;return se(t,function(u,d){var p=s.propertiesByName[d];p&&p.isReference?p.isMany?se(u.split(" "),function(h){o.addReference({element:a,property:p.ns.name,id:h})}):o.addReference({element:a,property:p.ns.name,id:u}):(p?u=RN(p.type,u):"xmlns"!==d&&(c=ga(d,s.ns.prefix),l.getPackage(c.prefix)&&o.addWarning({message:"unknown attribute <"+d+">",element:a,property:d,value:u})),a.set(d,u))}),a},ya.prototype.getPropertyForNode=function(n){var u,d,i=ga(n.name),o=this.model,a=Yp(this.type),c=a.propertiesByName[i.name];if(c&&!c.isAttr)return Bae(c)&&(u=n.attributes[eO])?(u=function dXe(n,t){var i=ga(n);return function uXe(n,t){var i=n.name,s=n.localName,o=t.xml&&t.xml.typePrefix;return o&&0===s.indexOf(o)?n.prefix+":"+s.slice(o.length):i}(i,t.getPackage(i.prefix))}(u,o),pe({},c,{effectiveType:Yp(d=o.getType(u)).name})):c;var p=o.getPackage(i.prefix);if(p){if(u=jae(i,p),d=o.getType(u),c=It(a.properties,function(f){return!f.isVirtual&&!f.isReference&&!f.isAttribute&&d.hasType(f.type)}))return pe({},c,{effectiveType:Yp(d).name})}else if(c=It(a.properties,function(f){return!f.isReference&&!f.isAttribute&&"Element"===f.type}))return c;throw Uh("unrecognized element <"+i.name+">")},ya.prototype.toString=function(){return"ElementDescriptor["+Yp(this.type).name+"]"},ya.prototype.valueHandler=function(n,t){return new VN(n,t)},ya.prototype.referenceHandler=function(n){return new wE(n,this.context)},ya.prototype.handler=function(n){return"Element"===n?new Fv(this.model,n,this.context):new ya(this.model,n,this.context)},ya.prototype.handleChild=function(n){var t,i,s,o;if(t=this.getPropertyForNode(n),s=this.element,Pae(i=t.effectiveType||t.type))return this.valueHandler(t,s);var a=(o=t.isReference?this.referenceHandler(t).handleNode(n):this.handler(i).handleNode(n)).element;return void 0!==a&&(t.isMany?s.get(t.name).push(a):s.set(t.name,a),t.isReference?(pe(a,{element:s}),this.context.addReference(a)):a.$parent=s),o},($N.prototype=Object.create(ya.prototype)).createElement=function(n){var t=n.name,i=ga(t),o=this.type,a=this.model.getPackage(i.prefix),l=a&&jae(i,a)||t;if(!o.hasType(l))throw Uh("unexpected element <"+n.originalName+">");return ya.prototype.createElement.call(this,n)},(Fv.prototype=Object.create(tO.prototype)).createElement=function(n){var t=n.name,i=ga(t);return this.model.createAny(t,n.ns[i.prefix+"$uri"],n.attributes)},Fv.prototype.handleChild=function(n){var t=new Fv(this.model,"Element",this.context).handleNode(n),i=this.element,s=t.element;return void 0!==s&&((i.$children=i.$children||[]).push(s),s.$parent=i),t},Fv.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},zN.prototype.fromXML=function(n,t,i){var s=t.rootHandler;t instanceof ya?(s=t,t={}):"string"==typeof t?(s=this.handler(t),t={}):"string"==typeof s&&(s=this.handler(s));var o=this.model,a=this.lax,l=new pXe(pe({},t,{rootHandler:s})),c=new BN({proxy:!0}),u=function fXe(){var n=[];return Object.defineProperty(n,"peek",{value:function(){return this[this.length-1]}}),n}();function d(w,C,P){var D=C(),I=D.line,k=D.column,F=D.data;"<"===F.charAt(0)&&-1!==F.indexOf(" ")&&(F=F.slice(0,F.indexOf(" "))+">");var M="unparsable content "+(F?F+" ":"")+"detected\n\tline: "+I+"\n\tcolumn: "+k+"\n\tnested error: "+w.message;if(P)return l.addWarning({message:M,error:w}),!0;throw Uh(M)}function p(w,C){return d(w,C,!0)}s.context=l,u.push(s);var m=/^<\?xml /i,g=/ encoding="([^"]+)"/i,y=/^utf-8$/i;function E(w,C){try{u.peek().handleText(w)}catch(P){p(P,C)}}var b=o.getPackages().reduce(function(w,C){return w[C.uri]=C.prefix,w},{"http://www.w3.org/XML/1998/namespace":"xml"});return c.ns(b).on("openTag",function(w,C,P,D){var I=w.attrs||{},k=Object.keys(I).reduce(function(M,B){var q=C(I[B]);return M[B]=q,M},{});!function _(w,C){var P=u.peek();try{u.push(P.handleNode(w))}catch(D){d(D,C,a)&&u.push(new jN)}}({name:w.name,originalName:w.originalName,attributes:k,ns:w.ns},D)}).on("question",function v(w){if(m.test(w)){var C=g.exec(w),P=C&&C[1];!P||y.test(P)||l.addWarning({message:"unsupported document encoding <"+P+">, falling back to UTF-8"})}}).on("closeTag",function h(){u.pop().handleEnd()}).on("cdata",E).on("text",function(w,C,P){!function x(w,C){w.trim()&&E(w,C)}(C(w),P)}).on("error",d).on("warn",p),new Promise(function(w,C){var P;try{c.parse(n),function f(){var P,D,w=l.elementsById,C=l.references;for(P=0;D=C[P];P++){var I=D.element,k=w[D.id],F=Yp(I).propertiesByName[D.property];if(k||l.addWarning({message:"unresolved reference <"+D.id+">",element:D.element,property:D.property,value:D.id}),F.isMany){var M=I.get(F.name),B=M.indexOf(D);-1===B&&(B=M.length),k?M[B]=k:M.splice(B,1)}else I.set(F.name,k)}}()}catch(M){P=M}var D=s.element;!P&&!D&&(P=Uh("failed to parse document as <"+s.type.$descriptor.name+">"));var I=l.warnings,k=l.references,F=l.elementsById;return P?(P.warnings=I,C(P)):w({rootElement:D,elementsById:F,references:k,warnings:I})})},zN.prototype.handler=function(n){return new $N(this.model,n)};var mXe=/<|>|'|"|&|\n\r|\n/g,Vae=/<|>|&/g;function gXe(n){var t={},i={},s={},o=[],a=[];this.byUri=function(l){return i[l]||n&&n.byUri(l)},this.add=function(l,c){i[l.uri]=l,c?o.push(l):a.push(l),this.mapPrefix(l.prefix,l.uri)},this.uriByPrefix=function(l){return t[l||"xmlns"]},this.mapPrefix=function(l,c){t[l||"xmlns"]=c},this.getNSKey=function(l){return void 0!==l.prefix?l.uri+"|"+l.prefix:l.uri},this.logUsed=function(l){var c=l.uri,u=this.getNSKey(l);s[u]=this.byUri(c),n&&n.logUsed(l)},this.getUsed=function(l){var u=this;return[].concat(o,a).filter(function c(p){var f=u.getNSKey(p);return s[f]})}}function vXe(n,t){return Lae(t)?function yXe(n){return n.charAt(0).toLowerCase()+n.slice(1)}(n):n}function $ae(n,t){n.super_=t,n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}function zae(n){return $n(n)?n:(n.prefix?n.prefix+":":"")+n.localName}var xXe={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},CXe={"<":"lt",">":"gt","&":"amp"};function Hae(n,t,i){return(n=$n(n)?n:""+n).replace(t,function(s){return"&"+i[s]+";"})}function HN(n){this.tagName=n}function bg(){}function UN(n){this.tagName=n}function Ui(n,t){this.body=[],this.attrs=[],this.parent=n,this.propertyDescriptor=t}function nO(n,t){Ui.call(this,n,t)}function DXe(){this.value="",this.write=function(n){this.value+=n}}function kXe(n,t){var i=[""];this.append=function(s){return n.write(s),this},this.appendNewLine=function(){return t&&n.write("\n"),this},this.appendIndent=function(){return t&&n.write(i.join("  ")),this},this.indent=function(){return i.push(""),this},this.unindent=function(){return i.pop(),this}}function MXe(n){return n=pe({format:!1,preamble:!0},n||{}),{toXML:function t(i,s){var o=s||new DXe,a=new kXe(o,n.format);if(n.preamble&&a.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new Ui).build(i).serializeTo(a),!s)return o.value}}}function rO(n,t){Yc.call(this,n,t)}HN.prototype.build=function(n){return this.element=n,this},HN.prototype.serializeTo=function(n){n.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},bg.prototype.serializeValue=bg.prototype.serializeTo=function(n){n.append(this.escape?function OXe(n){return Hae(n,Vae,CXe)}(this.value):this.value)},bg.prototype.build=function(n,t){return this.value=t,"String"===n.type&&-1!==t.search(Vae)&&(this.escape=!0),this},$ae(UN,bg),UN.prototype.serializeTo=function(n){n.appendIndent().append("<"+this.tagName+">"),this.serializeValue(n),n.append("</"+this.tagName+">").appendNewLine()},Ui.prototype.build=function(n){this.element=n;var s,o,t=n.$descriptor,i=this.propertyDescriptor,a=t.isGeneric;return s=a?this.parseGeneric(n):this.parseNsAttributes(n),this.ns=i?this.nsPropertyTagName(i):this.nsTagName(t),this.tagName=this.addTagName(this.ns),a||(o=function wXe(n){return hn(n.$descriptor.properties,function(i){var s=i.name;if(i.isVirtual||!po(n,s))return!1;var o=n[s];return o!==i.default&&null!==o&&(!i.isMany||o.length)})}(n),this.parseAttributes(function TXe(n){return hn(n,function(t){return t.isAttr})}(o)),this.parseContainments(function PXe(n){return hn(n,function(t){return!t.isAttr})}(o))),this.parseGenericAttributes(n,s),this},Ui.prototype.nsTagName=function(n){return function _Xe(n,t){return pe(t.isGeneric?{localName:t.ns.localName}:{localName:vXe(t.ns.localName,t.$pkg)},n)}(this.logNamespaceUsed(n.ns),n)},Ui.prototype.nsPropertyTagName=function(n){return function EXe(n,t){return pe({localName:t.ns.localName},n)}(this.logNamespaceUsed(n.ns),n)},Ui.prototype.isLocalNs=function(n){return n.uri===this.ns.uri},Ui.prototype.nsAttributeName=function(n){var t;if(t=$n(n)?ga(n):n.ns,n.inherited)return{localName:t.localName};var i=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(i),this.isLocalNs(i)?{localName:t.localName}:pe({localName:t.localName},i)},Ui.prototype.parseGeneric=function(n){var t=this,i=this.body,s=[];return se(n,function(o,a){"$body"===a?i.push((new bg).build({type:"String"},o)):"$children"===a?se(o,function(c){i.push(new Ui(t).build(c))}):0!==a.indexOf("$")&&t.parseNsAttribute(n,a,o)&&s.push({name:a,value:o})}),s},Ui.prototype.parseNsAttribute=function(n,t,i){var a,s=n.$model,o=ga(t);if("xmlns"===o.prefix&&(a={prefix:o.localName,uri:i}),!o.prefix&&"xmlns"===o.localName&&(a={uri:i}),!a)return{name:t,value:i};if(s&&s.getPackage(i))this.logNamespace(a,!0,!0);else{var l=this.logNamespaceUsed(a,!0);this.getNamespaces().logUsed(l)}},Ui.prototype.parseNsAttributes=function(n,t){var i=this,o=[];return se(n.$attrs,function(a,l){var c=i.parseNsAttribute(n,l,a);c&&o.push(c)}),o},Ui.prototype.parseGenericAttributes=function(n,t){var i=this;se(t,function(s){if(s.name!==eO)try{i.addAttribute(i.nsAttributeName(s.name),s.value)}catch(o){console.warn("missing namespace information for ",s.name,"=",s.value,"on",n,o)}})},Ui.prototype.parseContainments=function(n){var t=this,i=this.body,s=this.element;se(n,function(o){var a=s.get(o.name),l=o.isReference;if(o.isMany||(a=[a]),o.isBody)i.push((new bg).build(o,a[0]));else if(Pae(o.type))se(a,function(p){i.push(new UN(t.addTagName(t.nsPropertyTagName(o))).build(o,p))});else if(l)se(a,function(p){i.push(new HN(t.addTagName(t.nsPropertyTagName(o))).build(p))});else{var u=Bae(o),d=function lXe(n){return"property"===Fae(n)}(o);se(a,function(p){var f;f=u?new nO(t,o):d?new Ui(t,o):new Ui(t),i.push(f.build(p))})}})},Ui.prototype.getNamespaces=function(n){var s,t=this.namespaces,i=this.parent;return t||(s=i&&i.getNamespaces(),n||!s?this.namespaces=t=new gXe(s):t=s),t},Ui.prototype.logNamespace=function(n,t,i){var s=this.getNamespaces(i),o=n.uri,a=n.prefix;return(!s.byUri(o)||i)&&s.add(n,t),s.mapPrefix(a,o),n},Ui.prototype.logNamespaceUsed=function(n,t){var c,u,d,s=this.element.$model,o=this.getNamespaces(t),a=n.prefix,l=n.uri;if(!a&&!l)return{localName:n.localName};if(d=aXe[a]||s&&(s.getPackage(a)||{}).uri,!(l=l||d||o.uriByPrefix(a)))throw new Error("no namespace uri given for prefix <"+a+">");if(!(n=o.byUri(l))){for(c=a,u=1;o.uriByPrefix(c);)c=a+"_"+u++;n=this.logNamespace({prefix:c,uri:l},d===l)}return a&&o.mapPrefix(a,l),n},Ui.prototype.parseAttributes=function(n){var t=this,i=this.element;se(n,function(s){var o=i.get(s.name);if(s.isReference)if(s.isMany){var a=[];se(o,function(l){a.push(l.id)}),o=a.join(" ")}else o=o.id;t.addAttribute(t.nsAttributeName(s),o)})},Ui.prototype.addTagName=function(n){var t=this.logNamespaceUsed(n);return this.getNamespaces().logUsed(t),zae(n)},Ui.prototype.addAttribute=function(n,t){var i=this.attrs;$n(t)&&(t=function SXe(n){return Hae(n,mXe,xXe)}(t));var s=Pl(i,function(a){return a.name.localName===n.localName&&a.name.uri===n.uri&&a.name.prefix===n.prefix}),o={name:n,value:t};-1!==s?i.splice(s,1,o):i.push(o)},Ui.prototype.serializeAttributes=function(n){var t=this.attrs,i=this.namespaces;i&&(t=function bXe(n){return n.getUsed().filter(function(t){return"xml"!==t.prefix}).map(function(t){return{name:"xmlns"+(t.prefix?":"+t.prefix:""),value:t.uri}})}(i).concat(t)),se(t,function(s){n.append(" ").append(zae(s.name)).append('="').append(s.value).append('"')})},Ui.prototype.serializeTo=function(n){var t=this.body[0],i=t&&t.constructor!==bg;n.appendIndent().append("<"+this.tagName),this.serializeAttributes(n),n.append(t?">":" />"),t&&(i&&n.appendNewLine().indent(),se(this.body,function(s){s.serializeTo(n)}),i&&n.unindent().appendIndent(),n.append("</"+this.tagName+">")),n.appendNewLine()},$ae(nO,Ui),nO.prototype.parseNsAttributes=function(n){var t=Ui.prototype.parseNsAttributes.call(this,n),i=n.$descriptor;if(i.name===this.propertyDescriptor.type)return t;var s=this.typeNs=this.nsTagName(i);this.getNamespaces().logUsed(this.typeNs);var o=n.$model.getPackage(s.uri),a=o.xml&&o.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(eO),(s.prefix?s.prefix+":":"")+a+i.ns.localName),t},nO.prototype.isLocalNs=function(n){return n.uri===(this.typeNs||this.ns).uri},(rO.prototype=Object.create(Yc.prototype)).fromXML=function(n,t,i){$n(t)||(i=t,t="bpmn:Definitions");var s=new zN(pe({model:this,lax:!0},i)),o=s.handler(t);return s.fromXML(n,o)},rO.prototype.toXML=function(n,t){var i=new MXe(t);return new Promise(function(s,o){try{return s({xml:i.toXML(n)})}catch(l){return o(l)}})};var _Ze={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};function EZe(n,t){return new rO(pe({},_Ze,n),t)}function Uae(n){po(n,"di")||Object.defineProperty(n,"di",{enumerable:!1,get:function(){throw new Error("Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472")}})}function el(n,t){return n.$instanceOf(t)}function CZe(n){var t={},i=[],s={};function o(Pe,de){return function(X){Pe(X,de)}}function a(Pe){t[Pe.id]=Pe}function d(Pe,de){try{var X=s[Pe.id]&&function c(Pe,de){if(Pe.gfx)throw new Error(`already rendered ${qo(Pe)}`);return n.element(Pe,s[Pe.id],de)}(Pe,de);return a(Pe),X}catch(j){p(j.message,{element:Pe,error:j}),console.error(`failed to import ${qo(Pe)}`,j)}}function p(Pe,de){n.error(Pe,de)}var f=this.registerDi=function(de){var X=de.bpmnElement;X?s[X.id]?p(`multiple DI elements defined for ${qo(X)}`,{element:X}):(s[X.id]=de,Uae(X)):p(`no bpmnElement referenced in ${qo(de)}`,{element:de})};function g(Pe){f(Pe)}this.handleDefinitions=function(de,X){var j=de.diagrams;if(X&&-1===j.indexOf(X))throw new Error("diagram not part of <bpmn:Definitions />");if(!X&&j&&j.length&&(X=j[0]),!X)throw new Error("no diagram to display");s={},function h(Pe){!function m(Pe){f(Pe),se(Pe.planeElement,g)}(Pe.plane)}(X);var R=X.plane;if(!R)throw new Error(`no plane for ${qo(X)}`);var A=R.bpmnElement;if(!A){if(A=function xZe(n){return It(n.rootElements,function(t){return el(t,"bpmn:Process")||el(t,"bpmn:Collaboration")})}(de),!A)throw new Error("no process or collaboration to display");p(`correcting missing bpmnElement on ${qo(R)} to ${qo(A)}`),R.bpmnElement=A,f(R)}var N=function u(Pe,de){return n.root(Pe,s[Pe.id],de)}(A,R);if(el(A,"bpmn:Process")||el(A,"bpmn:SubProcess"))v(A,N);else{if(!el(A,"bpmn:Collaboration"))throw new Error(`unsupported bpmnElement for ${qo(R)}: ${qo(A)}`);(function Te(Pe,de){se(Pe.participants,o(Ee,de)),D(Pe.artifacts,de),i.push(function(){!function x(Pe,de){se(Pe,o(E,de))}(Pe.messageFlows,de)})})(A,N),function _(Pe,de){var X=hn(Pe,function(j){return!function l(Pe){return t[Pe.id]}(j)&&el(j,"bpmn:Process")&&j.laneSets});X.forEach(o(v,de))}(de.rootElements,N)}y(i)};var y=this.handleDeferred=function(){for(;i.length;)i.shift()()};function v(Pe,de){ee(Pe,de),I(Pe.ioSpecification,de),D(Pe.artifacts,de),a(Pe)}function E(Pe,de){d(Pe,de)}function b(Pe,de){d(Pe,de)}function w(Pe,de){d(Pe,de)}function C(Pe,de){d(Pe,de)}function P(Pe,de){d(Pe,de)}function D(Pe,de){se(Pe,function(X){el(X,"bpmn:Association")?i.push(function(){P(X,de)}):P(X,de)})}function I(Pe,de){Pe&&(se(Pe.dataInputs,o(w,de)),se(Pe.dataOutputs,o(C,de)))}var k=this.handleSubProcess=function(de,X){ee(de,X),D(de.artifacts,X)};function F(Pe,de){var X=d(Pe,de);el(Pe,"bpmn:SubProcess")&&k(Pe,X||de),el(Pe,"bpmn:Activity")&&I(Pe.ioSpecification,de),i.push(function(){se(Pe.dataInputAssociations,o(b,de)),se(Pe.dataOutputAssociations,o(b,de))})}function q(Pe,de){i.push(function(){var X=d(Pe,de);Pe.childLaneSet&&ue(Pe.childLaneSet,X||de),function Ve(Pe){se(Pe.flowNodeRef,function(de){var X=de.get("lanes");X&&X.push(Pe)})}(Pe)})}function ue(Pe,de){se(Pe.lanes,o(q,de))}function ee(Pe,de){(function Q(Pe,de){se(Pe,function(X){el(X,"bpmn:SequenceFlow")?i.push(function(){!function M(Pe,de){d(Pe,de)}(X,de)}):el(X,"bpmn:BoundaryEvent")?i.unshift(function(){F(X,de)}):el(X,"bpmn:FlowNode")?F(X,de):el(X,"bpmn:DataObject")||(el(X,"bpmn:DataStoreReference")||el(X,"bpmn:DataObjectReference")?function B(Pe,de){d(Pe,de)}(X,de):p(`unrecognized flowElement ${qo(X)} in context ${qo(de&&de.businessObject)}`,{element:X,context:de}))})})(Pe.flowElements,de),Pe.laneSets&&function H(Pe,de){se(Pe,o(ue,de))}(Pe.laneSets,de)}function Ee(Pe,de){var X=d(Pe,de),j=Pe.processRef;j&&v(j,X||de)}}function SZe(n,t,i){var s,o,a,c=[];function u(d,p){var h=new CZe({root:function(y,v){return s.add(y,v)},element:function(y,v,_){return s.add(y,v,_)},error:function(y,v){c.push({message:y,context:v})}}),m=function OZe(n,t){if(t&&t.plane){var o,i=t.plane.bpmnElement,s=i;!T(i,"bpmn:Process")&&!T(i,"bpmn:Collaboration")&&(s=function TZe(n){for(var t=n;t;){if(T(t,"bpmn:Process"))return t;t=t.$parent}}(i)),o=T(s,"bpmn:Collaboration")?s:It(n.rootElements,function(d){if(T(d,"bpmn:Collaboration"))return It(d.participants,function(p){return p.processRef===s})});var a=[s];o&&(a=xs(o.participants,function(d){return d.processRef}),a.push(o));var l=qae(a),c=[t],u=[i];return se(n.diagrams,function(d){if(d.plane){var p=d.plane.bpmnElement;-1!==l.indexOf(p)&&-1===u.indexOf(p)&&(c.push(d),u.push(p))}}),c}}(d,p=p||d.diagrams&&d.diagrams[0]);if(!m)throw new Error("no diagram to display");se(m,function(y){h.handleDefinitions(d,y)});var g=p.plane.bpmnElement.id;a.setRootElement(a.findRoot(g+"_plane")||a.findRoot(g))}return new Promise(function(d,p){try{return s=n.get("bpmnImporter"),o=n.get("eventBus"),a=n.get("canvas"),o.fire("import.render.start",{definitions:t}),u(t,i),o.fire("import.render.complete",{error:void 0,warnings:c}),d({warnings:c})}catch(f){return f.warnings=c,p(f)}})}function qae(n){var t=[];return se(n,function(i){i&&(t.push(i),t=t.concat(qae(i.flowElements)))}),t}var Bd,Wae='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',Gae={verticalAlign:"middle"},Kae={color:"#404040"},DZe={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},kZe={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},MZe={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},AZe='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+Wae+'</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>';function qi(n){n=pe({},LZe,n),this._moddle=this._createModdle(n),this._container=this._createContainer(n),function BZe(n){const s=lr('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+Wae+"</a>");zo(dn("svg",s),Gae),zo(s,Kae,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),n.appendChild(s),Xt.bind(s,"click",function(o){(function RZe(){Bd||(function IZe(){zo(Bd=lr(AZe),DZe),zo(dn("svg",Bd),Gae),zo(dn(".backdrop",Bd),kZe),zo(dn(".notice",Bd),MZe),zo(dn(".link",Bd),Kae,{margin:"15px 20px 15px 10px",alignSelf:"center"})}(),Uo_bind(Bd,".backdrop","click",function(n){document.body.removeChild(Bd)})),document.body.appendChild(Bd)})(),o.preventDefault()})}(this._container),this._init(this._container,this._moddle,n)}function iO(n,t){return n.warnings=t,n}Lt(qi,Vu),qi.prototype.importXML=function(){var n=be(function*(i,s){const o=this;let l=[];try{let c;i=this._emit("import.parse.start",{xml:i})||i;try{c=yield this._moddle.fromXML(i,"bpmn:Definitions")}catch(m){throw this._emit("import.parse.complete",{error:m}),m}let u=c.rootElement;const d=c.references,f=c.elementsById;l=l.concat(c.warnings),u=this._emit("import.parse.complete",function a(c){return o.get("eventBus").createEvent(c)}({error:null,definitions:u,elementsById:f,references:d,warnings:l}))||u;const h=yield this.importDefinitions(u,s);return l=l.concat(h.warnings),this._emit("import.done",{error:null,warnings:l}),{warnings:l}}catch(c){let u=c;throw l=l.concat(u.warnings||[]),iO(u,l),u=function NZe(n){const i=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(n.message);return i&&(n.message="unparsable content <"+i[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+i[2]),n}(u),this._emit("import.done",{error:u,warnings:u.warnings}),u}});return function t(i,s){return n.apply(this,arguments)}}(),qi.prototype.importDefinitions=function(){var n=be(function*(i,s){return this._setDefinitions(i),{warnings:(yield this.open(s)).warnings}});return function t(i,s){return n.apply(this,arguments)}}(),qi.prototype.open=function(){var n=be(function*(i){const s=this._definitions;let o=i;if(!s){const l=new Error("no XML imported");throw iO(l,[]),l}if("string"==typeof i&&(o=function FZe(n,t){return t&&It(n.diagrams,function(i){return i.id===t})||null}(s,i),!o)){const l=new Error("BPMNDiagram <"+i+"> not found");throw iO(l,[]),l}try{this.clear()}catch(l){throw iO(l,[]),l}const{warnings:a}=yield SZe(this,s,o);return{warnings:a}});return function t(i){return n.apply(this,arguments)}}(),qi.prototype.saveXML=function(){var n=be(function*(i){i=i||{};let o,a,s=this._definitions;try{if(!s)throw new Error("no definitions loaded");s=this._emit("saveXML.start",{definitions:s})||s,a=(yield this._moddle.toXML(s,i)).xml,a=this._emit("saveXML.serialized",{xml:a})||a}catch(c){o=c}const l=o?{error:o}:{xml:a};if(this._emit("saveXML.done",l),o)throw o;return l});return function t(i){return n.apply(this,arguments)}}(),qi.prototype.saveSVG=function(){var n=be(function*(){let i,s;this._emit("saveSVG.start");try{const o=this.get("canvas"),a=o.getActiveLayer(),l=dn(":scope > defs",o._svg),c=pN(a),u=l?"<defs>"+pN(l)+"</defs>":"",d=a.getBBox();i='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+d.width+'" height="'+d.height+'" viewBox="'+d.x+" "+d.y+" "+d.width+" "+d.height+'" version="1.1">'+u+c+"</svg>"}catch(o){s=o}if(this._emit("saveSVG.done",{error:s,svg:i}),s)throw s;return{svg:i}});return function t(){return n.apply(this,arguments)}}(),qi.prototype._setDefinitions=function(n){this._definitions=n},qi.prototype.getModules=function(){return this._modules},qi.prototype.clear=function(){this.getDefinitions()&&Vu.prototype.clear.call(this)},qi.prototype.destroy=function(){Vu.prototype.destroy.call(this),xo(this._container)},qi.prototype.on=function(n,t,i,s){return this.get("eventBus").on(n,t,i,s)},qi.prototype.off=function(n,t){this.get("eventBus").off(n,t)},qi.prototype.attachTo=function(n){if(!n)throw new Error("parentNode required");this.detach(),n.get&&n.constructor.prototype.jquery&&(n=n.get(0)),"string"==typeof n&&(n=dn(n)),n.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},qi.prototype.getDefinitions=function(){return this._definitions},qi.prototype.detach=function(){const n=this._container,t=n.parentNode;t&&(this._emit("detach",{}),t.removeChild(n))},qi.prototype._init=function(n,t,i){const s=i.modules||this.getModules(i),l=[].concat([{bpmnjs:["value",this],moddle:["value",t]}],s,i.additionalModules||[]),c=pe(Wc(i,["additionalModules"]),{canvas:pe({},i.canvas,{container:n}),modules:l});Vu.call(this,c),i&&i.container&&this.attachTo(i.container)},qi.prototype._emit=function(n,t){return this.get("eventBus").fire(n,t)},qi.prototype._createContainer=function(n){const t=lr('<div class="bjs-container"></div>');return zo(t,{width:Yae(n.width),height:Yae(n.height),position:n.position}),t},qi.prototype._createModdle=function(n){return new EZe(pe({},this._moddleExtensions,n.moddleExtensions))},qi.prototype._modules=[];const LZe={width:"100%",height:"100%",position:"relative"};function Yae(n){return n+(un(n)?"px":"")}function qh(n){qi.call(this,n)}Lt(qh,qi),qh.prototype._modules=[YKe,fYe,_Ye,Dv,Al,So],qh.prototype._moddleExtensions={};var jZe=["c","C"],VZe=["v","V"],$Ze=["y","Y"],Xae=["z","Z"];function ac(n){return!n.altKey&&(n.ctrlKey||n.metaKey)}function Js(n,t){return-1!==(n=Vt(n)?n:[n]).indexOf(t.key)||-1!==n.indexOf(t.code)}function qN(n){return n.shiftKey}function sO(n){return ac(n)&&!qN(n)&&Js(Xae,n)}function oO(n){return ac(n)&&(Js($Ze,n)||Js(Xae,n)&&qN(n))}var aO="keyboard.keydown",Zae="input-handle-modified-keys";function Oo(n,t){var i=this;this._config=n||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",function(){i._fire("destroy"),i.unbind()}),t.on("diagram.init",function(){i._fire("init")}),t.on("attach",function(){n&&n.bindTo&&i.bind(n.bindTo)}),t.on("detach",function(){i.unbind()})}function Xp(n,t){var i=this;n.on("editorActions.init",500,function(s){i.registerBindings(t,s.editorActions)})}Oo.$inject=["config.keyboard","eventBus"],Oo.prototype._keydownHandler=function(n){this._keyHandler(n,aO)},Oo.prototype._keyupHandler=function(n){this._keyHandler(n,"keyboard.keyup")},Oo.prototype._keyHandler=function(n,t){this._isEventIgnored(n)||this._eventBus.fire(t||aO,{keyEvent:n})&&n.preventDefault()},Oo.prototype._isEventIgnored=function(n){return!!n.defaultPrevented||(function GZe(n){return n&&(Sv(n,"input, textarea")||"true"===n.contentEditable)}(n.target)||function KZe(n){return n&&Sv(n,"button, input[type=submit], input[type=button], a[href], [aria-role=button]")}(n.target)&&Js([" ","Enter"],n))&&this._isModifiedKeyIgnored(n)},Oo.prototype._isModifiedKeyIgnored=function(n){return!ac(n)||-1===this._getAllowedModifiers(n.target).indexOf(n.key)},Oo.prototype._getAllowedModifiers=function(n){var t=Ho(n,"["+Zae+"]",!0);return!t||this._node&&!this._node.contains(t)?[]:t.getAttribute(Zae).split(",")},Oo.prototype.bind=function(n){this.unbind(),this._node=n,Xt.bind(n,"keydown",this._keydownHandler),Xt.bind(n,"keyup",this._keyupHandler),this._fire("bind")},Oo.prototype.getBinding=function(){return this._node},Oo.prototype.unbind=function(){var n=this._node;n&&(this._fire("unbind"),Xt.unbind(n,"keydown",this._keydownHandler),Xt.unbind(n,"keyup",this._keyupHandler)),this._node=null},Oo.prototype._fire=function(n){this._eventBus.fire("keyboard."+n,{node:this._node})},Oo.prototype.addListener=function(n,t,i){Gn(n)&&(i=t,t=n,n=1e3),this._eventBus.on(i||aO,n,t)},Oo.prototype.removeListener=function(n,t){this._eventBus.off(t||aO,n)},Oo.prototype.hasModifier=function zZe(n){return n.ctrlKey||n.metaKey||n.shiftKey||n.altKey},Oo.prototype.isCmd=ac,Oo.prototype.isShift=qN,Oo.prototype.isKey=Js,Xp.$inject=["eventBus","keyboard"],Xp.prototype.registerBindings=function(n,t){function i(s,o){t.isRegistered(s)&&n.addListener(o)}i("undo",function(s){if(sO(s.keyEvent))return t.trigger("undo"),!0}),i("redo",function(s){if(oO(s.keyEvent))return t.trigger("redo"),!0}),i("copy",function(s){if(function HZe(n){return ac(n)&&Js(jZe,n)}(s.keyEvent))return t.trigger("copy"),!0}),i("paste",function(s){if(function UZe(n){return ac(n)&&Js(VZe,n)}(s.keyEvent))return t.trigger("paste"),!0}),i("stepZoom",function(s){var o=s.keyEvent;if(Js(["+","Add","="],o)&&ac(o))return t.trigger("stepZoom",{value:1}),!0}),i("stepZoom",function(s){var o=s.keyEvent;if(Js(["-","Subtract"],o)&&ac(o))return t.trigger("stepZoom",{value:-1}),!0}),i("zoom",function(s){var o=s.keyEvent;if(Js("0",o)&&ac(o))return t.trigger("zoom",{value:1}),!0}),i("removeSelection",function(s){if(Js(["Backspace","Delete","Del"],s.keyEvent))return t.trigger("removeSelection"),!0})};const xE={__init__:["keyboard","keyboardBindings"],keyboard:["type",Oo],keyboardBindings:["type",Xp]};var XZe={moveSpeed:50,moveSpeedAccelerated:200};function Qae(n,t,i){var s=this;this._config=pe({},XZe,n||{}),t.addListener(function o(a){var l=a.keyEvent,c=s._config;if(t.isCmd(l)&&t.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],l)){var d,u=t.isShift(l)?c.moveSpeedAccelerated:c.moveSpeed;switch(l.key){case"ArrowLeft":case"Left":d="left";break;case"ArrowUp":case"Up":d="up";break;case"ArrowRight":case"Right":d="right";break;case"ArrowDown":case"Down":d="down"}return s.moveCanvas({speed:u,direction:d}),!0}}),this.moveCanvas=function(a){var l=0,c=0,d=a.speed/Math.min(Math.sqrt(i.viewbox().scale),1);switch(a.direction){case"left":l=d;break;case"up":c=d;break;case"right":l=-d;break;case"down":c=-d}i.scroll({dx:l,dy:c})}}Qae.$inject=["config.keyboardMove","keyboard","canvas"];const WN={__depends__:[xE],__init__:["keyboardMove"],keyboardMove:["type",Qae]};var ZZe=/^djs-cursor-.*$/;function lO(n){var t=Nn(document.body);t.removeMatching(ZZe),n&&t.add("djs-cursor-"+n)}function Jae(){lO(null)}function ele(n,t){function i(){return!1}return n.once(t=t||"element.click",5e3,i),function(){n.off(t,i)}}function CE(n){return{x:n.x+n.width/2,y:n.y+n.height/2}}function $u(n,t){return{x:n.x-t.x,y:n.y-t.y}}function tle(n,t){var i;function s(l){var c=i.start,u=i.button,d=gg(l),p=$u(d,c);!i.dragging&&function eQe(n){return Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}(p)>15&&(i.dragging=!0,0===u&&ele(n),lO("grab")),i.dragging&&(p=$u(d,i.last||i.start),t.scroll({dx:p.x,dy:p.y}),i.last=d),l.preventDefault()}function o(l){Xt.unbind(document,"mousemove",s),Xt.unbind(document,"mouseup",o),i=null,Jae()}n.on("element.mousedown",500,function(l){return function a(l){if(!Ho(l.target,".djs-draggable")){var c=l.button;if(!(c>=2||l.ctrlKey||l.shiftKey||l.altKey))return i={button:c,start:gg(l)},Xt.bind(document,"mousemove",s),Xt.bind(document,"mouseup",o),!0}}(l.originalEvent)}),this.isActive=function(){return!!i}}tle.$inject=["eventBus","canvas"];const GN={__init__:["moveCanvas"],moveCanvas:["type",tle]};function KN(n){return Math.log(n)/Math.log(10)}function nle(n,t){var i=KN(n.min),s=KN(n.max);return(Math.abs(i)+Math.abs(s))/t}var nQe=Math.sign||function(n){return n>=0?1:-1},YN={min:.2,max:4};function jd(n,t,i){n=n||{},this._enabled=!1,this._canvas=i,this._container=i._container,this._handleWheel=Cs(this._handleWheel,this),this._totalDelta=0,this._scale=n.scale||.75;var s=this;t.on("canvas.init",function(o){s._init(!1!==n.enabled)})}jd.$inject=["config.zoomScroll","eventBus","canvas"],jd.prototype.scroll=function(t){this._canvas.scroll(t)},jd.prototype.reset=function(){this._canvas.zoom("fit-viewport")},jd.prototype.zoom=function(t,i){var s=nle(YN,20);this._totalDelta+=t,Math.abs(this._totalDelta)>.1&&(this._zoom(t,i,s),this._totalDelta=0)},jd.prototype._handleWheel=function(t){if(!Ho(t.target,".djs-scrollable",!0)){var i=this._container;t.preventDefault();var l,s=t.ctrlKey||iae()&&t.metaKey,o=t.shiftKey,a=-1*this._scale;if(a*=s?0===t.deltaMode?.02:.32:0===t.deltaMode?1:16,s){var c=i.getBoundingClientRect(),u={x:t.clientX-c.left,y:t.clientY-c.top};l=Math.sqrt(Math.pow(t.deltaY,2)+Math.pow(t.deltaX,2))*nQe(t.deltaY)*a,this.zoom(l,u)}else this.scroll(l=o?{dx:a*t.deltaY,dy:0}:{dx:a*t.deltaX,dy:a*t.deltaY})}},jd.prototype.stepZoom=function(t,i){var s=nle(YN,10);this._zoom(t,i,s)},jd.prototype._zoom=function(n,t,i){var s=this._canvas,o=n>0?1:-1,a=KN(s.zoom()),l=Math.round(a/i)*i,c=Math.pow(10,l+=i*o);s.zoom(function tQe(n,t){return Math.max(n.min,Math.min(n.max,t))}(YN,c),t)},jd.prototype.toggle=function(t){var o=this._enabled;return typeof t>"u"&&(t=!o),o!==t&&Xt[t?"bind":"unbind"](this._container,"wheel",this._handleWheel,!1),this._enabled=t,t},jd.prototype._init=function(n){this.toggle(n)};const XN={__init__:["zoomScroll"],zoomScroll:["type",jd]};function Bv(n){qh.call(this,n)}Lt(Bv,qh),Bv.prototype._modules=[].concat(qh.prototype._modules,Bv.prototype._navigationModules=[WN,GN,XN]);const ZN=Bv;function jv(n,t,i){this._bpmnRenderer=t,this._iconProperty=n&&n.iconProperty,Qa.call(this,i,1250)}Lt(jv,Qa),jv.prototype.canRender=function(n){return!hr(n)&&!(!Kt(n,["bpmn:Task","bpmn:Event"])||!this._getIcon(n))},jv.prototype._getIcon=function(n){return function sQe(n,t){return t=t||"zeebe:modelerTemplateIcon",G(n).get(t)}(n,this._iconProperty)},jv.prototype.drawShape=function(n,t,i={}){var o=(0,this._bpmnRenderer.handlers[["bpmn:BoundaryEvent","bpmn:EndEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:StartEvent","bpmn:Task"].find(d=>T(t,d))])(n,t,{...i,renderIcon:!1}),a=this._getIcon(t),c=T(t,"bpmn:Task")?{x:5,y:5}:{x:(t.width-18)/2,y:(t.height-18)/2},u=$t("image");return Pt(u,{href:a,width:18,height:18,...c}),sn(n,u),o},jv.$inject=["config.elementTemplateIconRenderer","bpmnRenderer","eventBus"];const cO={__init__:["elementTemplateIconRenderer"],elementTemplateIconRenderer:["type",jv]},ile=[cO],sle={zeebe:JSON.parse('{"name":"zeebe","prefix":"zeebe","uri":"http://camunda.org/schema/zeebe/1.0","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"ZeebeServiceTask","extends":["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:SendTask","bpmn:EndEvent","bpmn:IntermediateThrowEvent"],"properties":[{"name":"retryCounter","type":"String","isAttr":true}]},{"name":"IoMapping","superClass":["Element"],"properties":[{"name":"ioMapping","type":"IoMapping"},{"name":"inputParameters","isMany":true,"type":"Input"},{"name":"outputParameters","isMany":true,"type":"Output"}],"meta":{"allowedIn":["bpmn:CallActivity","bpmn:Event","bpmn:ReceiveTask","zeebe:ZeebeServiceTask","bpmn:SubProcess","bpmn:UserTask"]}},{"name":"InputOutputParameter","properties":[{"name":"source","isAttr":true,"type":"String"},{"name":"target","isAttr":true,"type":"String"}]},{"name":"Subscription","superClass":["Element"],"properties":[{"name":"correlationKey","isAttr":true,"type":"String"}]},{"name":"Input","superClass":["InputOutputParameter"],"meta":{"allowedIn":["bpmn:CallActivity","zeebe:ZeebeServiceTask","bpmn:SubProcess","bpmn:UserTask"]}},{"name":"Output","superClass":["InputOutputParameter"],"meta":{"allowedIn":["bpmn:CallActivity","bpmn:Event","bpmn:ReceiveTask","zeebe:ZeebeServiceTask","bpmn:SubProcess","bpmn:UserTask"]}},{"name":"TaskHeaders","superClass":["Element"],"meta":{"allowedIn":["zeebe:ZeebeServiceTask","bpmn:UserTask"]},"properties":[{"name":"values","type":"Header","isMany":true}]},{"name":"Header","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"key","type":"String","isAttr":true},{"name":"value","type":"String","isAttr":true}]},{"name":"TaskDefinition","superClass":["Element"],"meta":{"allowedIn":["zeebe:ZeebeServiceTask"]},"properties":[{"name":"type","type":"String","isAttr":true},{"name":"retries","type":"String","isAttr":true}]},{"name":"LoopCharacteristics","superClass":["Element"],"meta":{"allowedIn":["zeebe:ZeebeServiceTask","bpmn:ReceiveTask","bpmn:SubProcess"]},"properties":[{"name":"inputCollection","type":"String","isAttr":true},{"name":"inputElement","type":"String","isAttr":true},{"name":"outputCollection","type":"String","isAttr":true},{"name":"outputElement","type":"String","isAttr":true}]},{"name":"CalledElement","superClass":["Element"],"meta":{"allowedIn":["bpmn:CallActivity"]},"properties":[{"name":"processId","type":"String","isAttr":true},{"name":"processIdExpression","type":"String","isAttr":true},{"name":"propagateAllChildVariables","isAttr":true,"type":"Boolean"},{"name":"propagateAllParentVariables","isAttr":true,"type":"Boolean","default":true}]},{"name":"UserTaskForm","superClass":["Element"],"meta":{"allowedIn":["bpmn:Process"]},"properties":[{"name":"id","type":"String","isAttr":true},{"name":"body","type":"String","isBody":true}]},{"name":"FormDefinition","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"formKey","type":"String","isAttr":true},{"name":"formId","type":"String","isAttr":true},{"name":"externalReference","type":"String","isAttr":true}]},{"name":"UserTask","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[]},{"name":"CalledDecision","superClass":["Element"],"meta":{"allowedIn":["bpmn:BusinessRuleTask"]},"properties":[{"name":"decisionId","type":"String","isAttr":true},{"name":"resultVariable","type":"String","isAttr":true}]},{"name":"AssignmentDefinition","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"assignee","type":"String","isAttr":true},{"name":"candidateGroups","type":"String","isAttr":true},{"name":"candidateUsers","type":"String","isAttr":true}]},{"name":"PriorityDefinition","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"priority","type":"String","isAttr":true}]},{"name":"TaskSchedule","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"dueDate","type":"String","isAttr":true},{"name":"followUpDate","type":"String","isAttr":true}]},{"name":"Properties","superClass":["Element"],"properties":[{"name":"properties","type":"Property","isMany":true}]},{"name":"Property","properties":[{"name":"name","type":"String","isAttr":true},{"name":"value","type":"String","isAttr":true}]},{"name":"TemplateSupported","isAbstract":true,"extends":["bpmn:Collaboration","bpmn:Process","bpmn:FlowElement"],"properties":[{"name":"modelerTemplate","isAttr":true,"type":"String"},{"name":"modelerTemplateVersion","isAttr":true,"type":"Integer"},{"name":"modelerTemplateIcon","isAttr":true,"type":"String"}]},{"name":"TemplatedRootElement","isAbstract":true,"extends":["bpmn:Error","bpmn:Escalation","bpmn:Message","bpmn:Signal"],"properties":[{"name":"modelerTemplate","isAttr":true,"type":"String"}]},{"name":"Script","superClass":["Element"],"meta":{"allowedIn":["bpmn:ScriptTask"]},"properties":[{"name":"expression","type":"String","isAttr":true},{"name":"resultVariable","type":"String","isAttr":true}]},{"name":"ExecutionListeners","superClass":["Element"],"meta":{"allowedIn":["bpmn:Event","bpmn:Activity","bpmn:Process","bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:ParallelGateway","bpmn:EventBasedGateway"]},"properties":[{"name":"listeners","type":"ExecutionListener","isMany":true}]},{"name":"ExecutionListener","superClass":["Element"],"meta":{"allowedIn":["zeebe:ExecutionListeners"]},"properties":[{"name":"eventType","type":"String","isAttr":true},{"name":"retries","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true}]},{"name":"VersionTag","superClass":["Element"],"meta":{"allowedIn":["bpmn:Process"]},"properties":[{"name":"value","type":"String","isAttr":true}]},{"name":"BindingTypeSupported","isAbstract":true,"extends":["zeebe:CalledDecision","zeebe:CalledElement","zeebe:FormDefinition"],"properties":[{"name":"bindingType","isAttr":true,"type":"String","default":"latest"},{"name":"versionTag","isAttr":true,"type":"String"}]}]}')};function _g(n={}){n={...n,moddleExtensions:{...sle,...n.moddleExtensions}},ZN.call(this,n)}Lt(_g,ZN),_g.prototype._camundaCloudModules=[...ile],_g.prototype._modules=[].concat(ZN.prototype._modules,_g.prototype._camundaCloudModules);let Vd=(()=>{class n{constructor(i){this.http=i,this.scenario={},this.activitySubject=new DY(""),this.activities={},this.managedActivities=["bpmn:ServiceTask","bpmn:UserTask","bpmn:SendTask","bpmn:IntermediateCatchEvent","bpmn:BoundaryEvent"]}isManagedActivity(i){return this.managedActivities.indexOf(i)>=0}list(){return this.http.get("/api/plan")}mapActivityName(i,s){this.activities[i]=s}getActivityName(i){return this.activities[i]}loadXmlActivities(i){let s=new _g;s.importXML(i).then(o=>{s.get("elementRegistry").forEach(l=>{this.isManagedActivity(l.type)&&this.mapActivityName(l.di.bpmnElement.id,l.di.bpmnElement.name)})})}loadActivities(){if(this.loadXmlActivities(this.executionPlan.xml),this.executionPlan.xmlDependencies)for(const i in this.executionPlan.xmlDependencies)this.loadXmlActivities(this.executionPlan.xmlDependencies[i])}stepLabel(i){return"id"==this.executionPlan.stepLabel?i:"name"==this.executionPlan.stepLabel?this.getActivityName(i):this.getActivityName(i)+" ("+i+")"}createExecutionPlan(i){this.http.post("/api/plan",i).subscribe(s=>{this.executionPlan=s,this.loadActivities(),this.selectScenario(s.scenarii[0])})}openExecutionPlan(i){this.http.get("/api/plan/"+i.bpmnProcessId).subscribe(s=>{this.executionPlan=s,this.loadActivities(),this.selectScenario(s.scenarii[0])})}delete(i){return this.http.delete("/api/plan/"+i.bpmnProcessId)}executePlan(i){return this.http.get("/api/plan/"+i.bpmnProcessId+"/start")}executeCurrentPlan(){this.http.post("/api/plan/start",this.executionPlan).subscribe(i=>{console.log("status "+i)})}testPlan(){return this.http.post("/api/plan/test",this.executionPlan)}executeCurrentScenario(){this.http.post("/api/plan/start?scenario="+this.scenario.name,this.executionPlan).subscribe(i=>{console.log("status "+i)})}updateDep(i,s){"Main definition"==i?this.executionPlan.xml=s:this.executionPlan.xmlDependencies[i]=s}updateDef(i){this.http.post("/api/plan/"+this.executionPlan.definition.bpmnProcessId+"/xml",i).subscribe(s=>{this.executionPlan=s})}updatePlan(){this.http.put("/api/plan",this.executionPlan).subscribe(i=>{this.executionPlan=i})}addScenario(){this.http.put("/api/plan/newScenario",this.executionPlan).subscribe(i=>{this.executionPlan=i})}currentlyRunning(){return this.http.get("/api/plan/running")}stopPlan(){return this.http.get("/api/plan/stop")}previewEvol(i){return this.http.post("/api/plan/preview/evol",i)}previewPlan(){return this.http.post("/api/plan/preview/plan",this.executionPlan)}clear(){this.executionPlan=void 0,this.scenario={},this.currentActivity=void 0}selectActivity(i){this.currentActivity=i,this.activitySubject.next(i)}selectScenario(i){this.scenario=i,this.selectActivity("startInstances")}createDuration(i){return"FEEL"==this.executionPlan.durationsType?"PT"+i+"S":"MILLIS"==this.executionPlan.durationsType?1e3*i:i}createStepInScenario(i){this.scenario.steps[i]={elementId:i,action:"COMPLETE",duration:{startDesiredAvg:this.createDuration(8),endDesiredAvg:this.createDuration(4),minMaxPercent:0,avgProgression:"LINEAR",progressionSalt:0},jsonTemplate:{template:"{}",exampleContext:{}}},this.selectActivity(i)}isNumber(i){return"number"==typeof i}createPreStepInScenario(i,s,o,a){this.isNumber(a)&&(a=this.createDuration(a)),this.scenario.steps[i]||(this.scenario.steps[i]={elementId:i,action:"DO_NOTHING",duration:{startDesiredAvg:this.createDuration(1),endDesiredAvg:this.createDuration(1),minMaxPercent:0,avgProgression:"LINEAR",progressionSalt:0},jsonTemplate:{template:"",exampleContext:{}},preSteps:[],postSteps:[]}),this.scenario.steps[i].preSteps||(this.scenario.steps[i].preSteps=[]),"MSG"==s?this.scenario.steps[i].preSteps.push({type:s,delay:a,msg:o.name,correlationKey:o.extensionElements.valueOf("correlationKey").values[0].correlationKey.replace("=","").trim(),jsonTemplate:{template:"{}",exampleContext:{}}}):"CLOCK"==s?this.scenario.steps[i].preSteps.push({type:s,delay:a}):"BPMN_ERROR"==s?this.scenario.steps[i].preSteps.push({type:s,errorCode:o.errorCode,delay:a,jsonTemplate:{template:"{}",exampleContext:{}}}):"SIGNAL"==s&&this.scenario.steps[i].preSteps.push({type:s,signal:o.name,delay:a,jsonTemplate:{template:"{}",exampleContext:{}}}),this.selectActivity(i)}createPostStepInScenario(i,s,o,a){this.isNumber(a)&&(a=this.createDuration(a)),this.scenario.steps[i]||(this.scenario.steps[i]={elementId:i,action:"COMPLETE",duration:{startDesiredAvg:1e3,endDesiredAvg:1e3,minMaxPercent:0,avgProgression:"LINEAR",progressionSalt:0},jsonTemplate:{template:"{}",exampleContext:{}},preSteps:[],postSteps:[]}),this.scenario.steps[i].preSteps||(this.scenario.steps[i].postSteps=[]),"MSG"==s?this.scenario.steps[i].postSteps.push({type:s,delay:a,msg:o.name,correlationKey:o.extensionElements.valueOf("correlationKey").values[0].correlationKey.replace("=","").trim(),jsonTemplate:{template:"{}",exampleContext:{}}}):"CLOCK"==s?this.scenario.steps[i].postSteps.push({type:s,delay:a}):"BPMN_ERROR"==s?this.scenario.steps[i].postSteps.push({type:s,errorCode:o.errorCode,delay:a,jsonTemplate:{template:"{}",exampleContext:{}}}):"SIGNAL"==s&&this.scenario.steps[i].postSteps.push({type:s,signal:o.name,delay:a,jsonTemplate:{template:"{}",exampleContext:{}}}),this.selectActivity(i)}deleteCurrentStep(){delete this.scenario.steps[this.currentActivity],this.selectActivity("startInstances")}deleteScenario(i){this.executionPlan.scenarii.splice(i,1)}static{this.\u0275fac=function(s){return new(s||n)(tr(K3))}}static{this.\u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),SE=(()=>{class n{constructor(i){this.http=i}checkTemplate(i){return this.http.post("/api/templating/test",i)}listTemplatingMethodsNames(){return this.http.get("/api/templating")}listTemplatingMethods(i){return this.http.get("/api/templating/method/"+i)}listDatasets(){return this.http.get("/api/templating/datasets")}listJsonDatasets(){return this.http.get("/api/templating/jsondatasets")}getDataset(i){this.http.get("/api/templating/dataset/"+i).subscribe(s=>{this.dataset=s})}getJsonDataset(i){this.http.get("/api/templating/jsondataset/"+i).subscribe(s=>{this.jsondataset=s})}deleteDataset(i){return this.http.delete("/api/templating/dataset/"+i)}deleteJsonDataset(i){return this.http.delete("/api/templating/jsondataset/name"+i)}saveDataset(i){return this.http.post("/api/templating/datasets",i)}saveJsonDataset(){return this.http.post("/api/templating/jsondatasets",this.jsondataset)}newDataset(){this.dataset={name:"dataset",categorizedData:{en:[]}}}newJsonDataset(){this.jsondataset={name:"dataset",data:[]}}clear(){this.dataset=void 0,this.jsondataset=void 0}static{this.\u0275fac=function(s){return new(s||n)(tr(K3))}}static{this.\u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lQe=(()=>{class n{constructor(i){this.http=i}executions(){return this.http.get("/api/histo")}static{this.\u0275fac=function(s){return new(s||n)(tr(K3))}}static{this.\u0275prov=Zn({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function cQe(n,t){1&n&&(ne(0,"i"),Se(1,"(running)"),ie())}function uQe(n,t){if(1&n){const i=wn();ne(0,"tr")(1,"td"),Se(2),ie(),ne(3,"td")(4,"button",31),Mt("click",function(){const o=mt(i).$implicit;return gt(Je().openPlan(o))}),qt(5,"i",32),Se(6," Edit"),ie(),ne(7,"button",33),Mt("click",function(){const o=mt(i).$implicit;return gt(Je().executePlan(o))}),qt(8,"i",34),Se(9," Execute "),Pn(10,cQe,2,0,"i"),ie(),ne(11,"button",35),Mt("click",function(){const o=mt(i).$implicit;return gt(Je().delete(o))}),qt(12,"i",36),ie()()()}if(2&n){const i=t.$implicit,s=Je();qe(2),Pd(i.bpmnProcessId),qe(5),En("disabled",s.runningPlan),qe(3),Zr(s.runningPlan&&s.runningPlan.definition.bpmnProcessId==i.bpmnProcessId&&s.runningPlan.definition.version==i.version?10:-1)}}function dQe(n,t){if(1&n){const i=wn();ne(0,"button",31),Mt("click",function(){return mt(i),gt(Je(2).stopExecution())}),qt(1,"i",39),Se(2," Stop"),ie()}}function pQe(n,t){if(1&n&&(ne(0,"div",37),Se(1),Pn(2,dQe,3,0,"button",38),ie()),2&n){const i=t.$implicit;qe(),kR(" ",i.bpmnProcessId," progressed at ",i.currentDate,"",i.running?"(running)":"",". Created ",i.instancesCreated," and completed ",i.instancesCompleted,". "),qe(),Zr(i.running?2:-1)}}function fQe(n,t){if(1&n){const i=wn();ne(0,"tr")(1,"td"),Se(2),ie(),ne(3,"td")(4,"button",31),Mt("click",function(){const o=mt(i).$implicit;return gt(Je().editDataset(o))}),qt(5,"i",32),ie(),ne(6,"button",40),Mt("click",function(){const o=mt(i).$implicit;return gt(Je().deleteDataset(o))}),qt(7,"i",36),ie()()()}if(2&n){const i=t.$implicit,s=Je();qe(2),qs(" ",i," "),qe(4),En("disabled",s.runningPlan)}}function hQe(n,t){if(1&n){const i=wn();ne(0,"tr")(1,"td"),Se(2),ie(),ne(3,"td")(4,"button",31),Mt("click",function(){const o=mt(i).$implicit;return gt(Je().editJsonDataset(o))}),qt(5,"i",32),ie(),ne(6,"button",40),Mt("click",function(){const o=mt(i).$implicit;return gt(Je().deleteJsonDataset(o))}),qt(7,"i",36),ie()()()}if(2&n){const i=t.$implicit,s=Je();qe(2),qs(" ",i," "),qe(4),En("disabled",s.runningPlan)}}let mQe=(()=>{class n{constructor(i,s,o){this.execPlanService=i,this.histoService=s,this.templatingService=o,this.plans=[],this.executions=[],this.runningPlan=null,this.filter=null,this.datasets=[],this.jsondatasets=[],this.createPlan=!1}ngOnInit(){this.refreshPage()}refreshPage(){this.execPlanService.list().subscribe(i=>{this.plans=[];for(let s of i)this.plans.push({bpmnProcessId:s})}),this.reload(),this.loadDatasets()}loadDatasets(){this.templatingService.listDatasets().subscribe(i=>{this.datasets=i}),this.templatingService.listJsonDatasets().subscribe(i=>{this.jsondatasets=i})}reload(){this.execPlanService.currentlyRunning().subscribe(i=>{this.runningPlan=i}),this.histoService.executions().subscribe(i=>{this.execMap=i,this.executions=[];for(let s in this.execMap){let o=this.execMap[s];o.key=s,this.executions.push(o)}})}openPlan(i){this.execPlanService.openExecutionPlan(i)}delete(i){this.execPlanService.delete(i).subscribe(s=>{this.refreshPage()})}executePlan(i){this.execPlanService.executePlan(i).subscribe(()=>{this.reload()})}stopExecution(){this.execPlanService.stopPlan().subscribe(()=>{this.reload()})}addDataset(){this.templatingService.newDataset()}addJsonDataset(){this.templatingService.newJsonDataset()}editDataset(i){this.templatingService.getDataset(i)}editJsonDataset(i){this.templatingService.getJsonDataset(i)}deleteDataset(i){this.templatingService.deleteDataset(i).subscribe(()=>{this.loadDatasets()})}deleteJsonDataset(i){this.templatingService.deleteJsonDataset(i).subscribe(()=>{this.loadDatasets()})}toggleCreatePlan(){this.createPlan=!this.createPlan,this.createPlan?window.bootstrap.Modal.getOrCreateInstance(document.getElementById("createPlanModal")).show():(this.newPlanXml=void 0,window.bootstrap.Modal.getInstance(document.getElementById("createPlanModal")).hide())}loadBpmnFile(i){var s=i.target.files[0];if(s){var o=new FileReader;o.readAsText(s,"UTF-8"),o.onload=this._handleReaderLoaded.bind(this),o.onerror=this._handleReaderError.bind(this)}}_handleReaderLoaded(i){this.newPlanXml=i.target.result}_handleReaderError(){this.newPlanXml=void 0}createNewPlan(){this.execPlanService.createExecutionPlan(this.newPlanXml),this.toggleCreatePlan()}static{this.\u0275fac=function(s){return new(s||n)(Tt(Vd),Tt(lQe),Tt(SE))}}static{this.\u0275cmp=Ga({type:n,selectors:[["app-home"]],standalone:!1,decls:66,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand"],[1,"bi","bi-house"],[1,"container-fluid","row"],[1,"col-6","p-2"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"btn","btn-primary","mx-1",3,"click"],[1,"bi","bi-plus"],[1,"table","table-striped","table-hover"],[1,"table-dark"],["scope","col"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],["class","card-text",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],["id","createPlanModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade","modal-xl"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"input-group","mb-1"],[1,"input-group-text"],["type","file","min","0","max","100",1,"form-control",3,"change"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"btn","btn-dark","mx-1",3,"click"],[1,"bi","bi-pen"],[1,"btn","btn-dark","mx-1",3,"click","disabled"],[1,"bi","bi-send"],[1,"btn","btn-danger","mx-1",3,"click"],[1,"bi","bi-trash"],[1,"card-text"],[1,"btn","btn-dark","mx-1"],[1,"bi","bi-sign-stop"],[1,"btn","btn-danger","mx-1",3,"click","disabled"]],template:function(s,o){1&s&&(ne(0,"nav",0)(1,"div",1)(2,"span",2),qt(3,"i",3),Se(4," Camunda 8 Data Simulator"),ie()()(),ne(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h5",8),Se(10,"Available plans "),ne(11,"button",9),Mt("click",function(){return o.toggleCreatePlan()}),qt(12,"i",10),ie()(),ne(13,"table",11)(14,"thead",12)(15,"tr")(16,"th",13),Se(17,"BPMN Process Id"),ie(),ne(18,"th",13),Se(19,"Actions"),ie()()(),ne(20,"tbody",14),Pn(21,uQe,13,3,"tr",15),ie()()()()(),ne(22,"div",5)(23,"div",6)(24,"div",7)(25,"h5",8),Se(26,"Executions"),ie(),Pn(27,pQe,3,6,"div",16),ie()()()(),ne(28,"div",4)(29,"div",5)(30,"div",6)(31,"div",7)(32,"h5",8),Se(33,"Available datasets "),ne(34,"button",17),Mt("click",function(){return o.addDataset()}),Se(35,"+"),ie()(),ne(36,"table",11)(37,"tbody"),Pn(38,fQe,8,2,"tr",15),ie()()()()(),ne(39,"div",5)(40,"div",6)(41,"div",7)(42,"h5",8),Se(43,"Available JSON datasets "),ne(44,"button",17),Mt("click",function(){return o.addJsonDataset()}),Se(45,"+"),ie()(),ne(46,"table",11)(47,"tbody"),Pn(48,hQe,8,2,"tr",15),ie()()()()()(),ne(49,"div",18)(50,"div",19)(51,"div",20)(52,"div",21)(53,"h5",22),Se(54,"Create plan from BPMN file"),ie(),ne(55,"button",23),Mt("click",function(){return o.toggleCreatePlan()}),ie()(),ne(56,"div",24)(57,"div",25)(58,"span",26),Se(59,"BPMN file"),ie(),ne(60,"input",27),Mt("change",function(l){return o.loadBpmnFile(l)}),ie()()(),ne(61,"div",28)(62,"button",29),Mt("click",function(){return o.createNewPlan()}),Se(63,"Create"),ie(),ne(64,"button",30),Mt("click",function(){return o.toggleCreatePlan()}),Se(65,"Close"),ie()()()()()),2&s&&(qe(21),En("ngForOf",o.plans),qe(6),En("ngForOf",o.executions),qe(11),En("ngForOf",o.datasets),qe(10),En("ngForOf",o.jsondatasets),qe(14),En("disabled",!o.newPlanXml))},dependencies:[$p],encapsulation:2})}}return n})();function Vv(n){return n+.5|0}const Zp=(n,t,i)=>Math.max(Math.min(n,i),t);function OE(n){return Zp(Vv(2.55*n),0,255)}function Wh(n){return Zp(Vv(255*n),0,255)}function Qp(n){return Zp(Vv(n/2.55)/100,0,1)}function ole(n){return Zp(Vv(100*n),0,100)}const Xc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},QN=[..."0123456789ABCDEF"],gQe=n=>QN[15&n],yQe=n=>QN[(240&n)>>4]+QN[15&n],uO=n=>(240&n)>>4==(15&n);const wQe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ale(n,t,i){const s=t*Math.min(i,1-i),o=(a,l=(a+n/30)%12)=>i-s*Math.max(Math.min(l-3,9-l,1),-1);return[o(0),o(8),o(4)]}function xQe(n,t,i){const s=(o,a=(o+n/60)%6)=>i-i*t*Math.max(Math.min(a,4-a,1),0);return[s(5),s(3),s(1)]}function CQe(n,t,i){const s=ale(n,1,.5);let o;for(t+i>1&&(o=1/(t+i),t*=o,i*=o),o=0;o<3;o++)s[o]*=1-t-i,s[o]+=t;return s}function JN(n){const i=n.r/255,s=n.g/255,o=n.b/255,a=Math.max(i,s,o),l=Math.min(i,s,o),c=(a+l)/2;let u,d,p;return a!==l&&(p=a-l,d=c>.5?p/(2-a-l):p/(a+l),u=function SQe(n,t,i,s,o){return n===o?(t-i)/s+(t<i?6:0):t===o?(i-n)/s+2:(n-t)/s+4}(i,s,o,p,a),u=60*u+.5),[0|u,d||0,c]}function eL(n,t,i,s){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,i,s)).map(Wh)}function tL(n,t,i){return eL(ale,n,t,i)}function lle(n){return(n%360+360)%360}const cle={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ule={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let dO;const IQe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,nL=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,$v=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function pO(n,t,i){if(n){let s=JN(n);s[t]=Math.max(0,Math.min(s[t]+s[t]*i,0===t?360:1)),s=tL(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function dle(n,t){return n&&Object.assign(t||{},n)}function ple(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Wh(n[3]))):(t=dle(n,{r:0,g:0,b:0,a:1})).a=Wh(t.a),t}function FQe(n){return"r"===n.charAt(0)?function RQe(n){const t=IQe.exec(n);let s,o,a,i=255;if(t){if(t[7]!==s){const l=+t[7];i=t[8]?OE(l):Zp(255*l,0,255)}return s=+t[1],o=+t[3],a=+t[5],s=255&(t[2]?OE(s):Zp(s,0,255)),o=255&(t[4]?OE(o):Zp(o,0,255)),a=255&(t[6]?OE(a):Zp(a,0,255)),{r:s,g:o,b:a,a:i}}}(n):function PQe(n){const t=wQe.exec(n);let s,i=255;if(!t)return;t[5]!==s&&(i=t[6]?OE(+t[5]):Wh(+t[5]));const o=lle(+t[2]),a=+t[3]/100,l=+t[4]/100;return s="hwb"===t[1]?function OQe(n,t,i){return eL(CQe,n,t,i)}(o,a,l):"hsv"===t[1]?function TQe(n,t,i){return eL(xQe,n,t,i)}(o,a,l):tL(o,a,l),{r:s[0],g:s[1],b:s[2],a:i}}(n)}class zv{constructor(t){if(t instanceof zv)return t;const i=typeof t;let s;"object"===i?s=ple(t):"string"===i&&(s=function bQe(n){var i,t=n.length;return"#"===n[0]&&(4===t||5===t?i={r:255&17*Xc[n[1]],g:255&17*Xc[n[2]],b:255&17*Xc[n[3]],a:5===t?17*Xc[n[4]]:255}:(7===t||9===t)&&(i={r:Xc[n[1]]<<4|Xc[n[2]],g:Xc[n[3]]<<4|Xc[n[4]],b:Xc[n[5]]<<4|Xc[n[6]],a:9===t?Xc[n[7]]<<4|Xc[n[8]]:255})),i}(t)||function AQe(n){dO||(dO=function MQe(){const n={},t=Object.keys(ule),i=Object.keys(cle);let s,o,a,l,c;for(s=0;s<t.length;s++){for(l=c=t[s],o=0;o<i.length;o++)a=i[o],c=c.replace(a,cle[a]);a=parseInt(ule[l],16),n[c]=[a>>16&255,a>>8&255,255&a]}return n}(),dO.transparent=[0,0,0,0]);const t=dO[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||FQe(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=dle(this._rgb);return t&&(t.a=Qp(t.a)),t}set rgb(t){this._rgb=ple(t)}rgbString(){return this._valid?function NQe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Qp(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function EQe(n){var t=(n=>uO(n.r)&&uO(n.g)&&uO(n.b)&&uO(n.a))(n)?gQe:yQe;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function kQe(n){if(!n)return;const t=JN(n),i=t[0],s=ole(t[1]),o=ole(t[2]);return n.a<255?`hsla(${i}, ${s}%, ${o}%, ${Qp(n.a)})`:`hsl(${i}, ${s}%, ${o}%)`}(this._rgb):void 0}mix(t,i){if(t){const s=this.rgb,o=t.rgb;let a;const l=i===a?.5:i,c=2*l-1,u=s.a-o.a,d=((c*u==-1?c:(c+u)/(1+c*u))+1)/2;a=1-d,s.r=255&d*s.r+a*o.r+.5,s.g=255&d*s.g+a*o.g+.5,s.b=255&d*s.b+a*o.b+.5,s.a=l*s.a+(1-l)*o.a,this.rgb=s}return this}interpolate(t,i){return t&&(this._rgb=function LQe(n,t,i){const s=$v(Qp(n.r)),o=$v(Qp(n.g)),a=$v(Qp(n.b));return{r:Wh(nL(s+i*($v(Qp(t.r))-s))),g:Wh(nL(o+i*($v(Qp(t.g))-o))),b:Wh(nL(a+i*($v(Qp(t.b))-a))),a:n.a+i*(t.a-n.a)}}(this._rgb,t._rgb,i)),this}clone(){return new zv(this.rgb)}alpha(t){return this._rgb.a=Wh(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,i=Vv(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=i,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return pO(this._rgb,2,t),this}darken(t){return pO(this._rgb,2,-t),this}saturate(t){return pO(this._rgb,1,t),this}desaturate(t){return pO(this._rgb,1,-t),this}rotate(t){return function DQe(n,t){var i=JN(n);i[0]=lle(i[0]+t),i=tL(i),n.r=i[0],n.g=i[1],n.b=i[2]}(this._rgb,t),this}}function Jp(){}const BQe=(()=>{let n=0;return()=>n++})();function Ur(n){return null===n||typeof n>"u"}function Wi(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function kr(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function Ts(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function lc(n,t){return Ts(n)?n:t}function dr(n,t){return typeof n>"u"?t:n}const fle=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Vi(n,t,i){if(n&&"function"==typeof n.call)return n.apply(i,t)}function di(n,t,i,s){let o,a,l;if(Wi(n))if(a=n.length,s)for(o=a-1;o>=0;o--)t.call(i,n[o],o);else for(o=0;o<a;o++)t.call(i,n[o],o);else if(kr(n))for(l=Object.keys(n),a=l.length,o=0;o<a;o++)t.call(i,n[l[o]],l[o])}function fO(n,t){let i,s,o,a;if(!n||!t||n.length!==t.length)return!1;for(i=0,s=n.length;i<s;++i)if(o=n[i],a=t[i],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function hO(n){if(Wi(n))return n.map(hO);if(kr(n)){const t=Object.create(null),i=Object.keys(n),s=i.length;let o=0;for(;o<s;++o)t[i[o]]=hO(n[i[o]]);return t}return n}function hle(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function VQe(n,t,i,s){if(!hle(n))return;const o=t[n],a=i[n];kr(o)&&kr(a)?TE(o,a,s):t[n]=hO(a)}function TE(n,t,i){const s=Wi(t)?t:[t],o=s.length;if(!kr(n))return n;const a=(i=i||{}).merger||VQe;let l;for(let c=0;c<o;++c){if(l=s[c],!kr(l))continue;const u=Object.keys(l);for(let d=0,p=u.length;d<p;++d)a(u[d],n,l,i)}return n}function PE(n,t){return TE(n,t,{merger:$Qe})}function $Qe(n,t,i){if(!hle(n))return;const s=t[n],o=i[n];kr(s)&&kr(o)?PE(s,o):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=hO(o))}const mle={"":n=>n,x:n=>n.x,y:n=>n.y};function Gh(n,t){return(mle[t]||(mle[t]=function HQe(n){const t=function zQe(n){const t=n.split("."),i=[];let s="";for(const o of t)s+=o,s.endsWith("\\")?s=s.slice(0,-1)+".":(i.push(s),s="");return i}(n);return i=>{for(const s of t){if(""===s)break;i=i&&i[s]}return i}}(t)))(n)}function rL(n){return n.charAt(0).toUpperCase()+n.slice(1)}const DE=n=>typeof n<"u",Kh=n=>"function"==typeof n,gle=(n,t)=>{if(n.size!==t.size)return!1;for(const i of n)if(!t.has(i))return!1;return!0},Gi=Math.PI,Ki=2*Gi,qQe=Ki+Gi,mO=Number.POSITIVE_INFINITY,WQe=Gi/180,js=Gi/2,Eg=Gi/4,yle=2*Gi/3,Yh=Math.log10,$d=Math.sign;function kE(n,t,i){return Math.abs(n-t)<i}function vle(n){const t=Math.round(n);n=kE(n,t,n/1e3)?t:n;const i=Math.pow(10,Math.floor(Yh(n))),s=n/i;return(s<=1?1:s<=2?2:s<=5?5:10)*i}function Hv(n){return!isNaN(parseFloat(n))&&isFinite(n)}function ble(n,t,i){let s,o,a;for(s=0,o=n.length;s<o;s++)a=n[s][i],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function zu(n){return n*(Gi/180)}function iL(n){return n*(180/Gi)}function _le(n){if(!Ts(n))return;let t=1,i=0;for(;Math.round(n*t)/t!==n;)t*=10,i++;return i}function Ele(n,t){const i=t.x-n.x,s=t.y-n.y,o=Math.sqrt(i*i+s*s);let a=Math.atan2(s,i);return a<-.5*Gi&&(a+=Ki),{angle:a,distance:o}}function sL(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function YQe(n,t){return(n-t+qQe)%Ki-Gi}function cc(n){return(n%Ki+Ki)%Ki}function ME(n,t,i,s){const o=cc(n),a=cc(t),l=cc(i),c=cc(a-o),u=cc(l-o),d=cc(o-a),p=cc(o-l);return o===a||o===l||s&&a===l||c>u&&d<p}function To(n,t,i){return Math.max(t,Math.min(i,n))}function ef(n,t,i,s=1e-6){return n>=Math.min(t,i)-s&&n<=Math.max(t,i)+s}function oL(n,t,i){i=i||(l=>n[l]<t);let a,s=n.length-1,o=0;for(;s-o>1;)a=o+s>>1,i(a)?o=a:s=a;return{lo:o,hi:s}}const tf=(n,t,i,s)=>oL(n,i,s?o=>{const a=n[o][t];return a<i||a===i&&n[o+1][t]===i}:o=>n[o][t]<i),ZQe=(n,t,i)=>oL(n,i,s=>n[s][t]>=i),wle=["push","pop","shift","splice","unshift"];function xle(n,t){const i=n._chartjs;if(!i)return;const s=i.listeners,o=s.indexOf(t);-1!==o&&s.splice(o,1),!(s.length>0)&&(wle.forEach(a=>{delete n[a]}),delete n._chartjs)}function Cle(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Sle=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function Ole(n,t){let i=[],s=!1;return function(...o){i=o,s||(s=!0,Sle.call(window,()=>{s=!1,n.apply(t,i)}))}}const aL=n=>"start"===n?"left":"end"===n?"right":"center",va=(n,t,i)=>"start"===n?t:"end"===n?i:(t+i)/2;function Tle(n,t,i){const s=t.length;let o=0,a=s;if(n._sorted){const{iScale:l,_parsed:c}=n,u=l.axis,{min:d,max:p,minDefined:f,maxDefined:h}=l.getUserBounds();f&&(o=To(Math.min(tf(c,u,d).lo,i?s:tf(t,u,l.getPixelForValue(d)).lo),0,s-1)),a=h?To(Math.max(tf(c,l.axis,p,!0).hi+1,i?0:tf(t,u,l.getPixelForValue(p),!0).hi+1),o,s)-o:s-o}return{start:o,count:a}}function Ple(n){const{xScale:t,yScale:i,_scaleRanges:s}=n,o={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!s)return n._scaleRanges=o,!0;const a=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==i.min||s.ymax!==i.max;return Object.assign(s,o),a}const gO=n=>0===n||1===n,Dle=(n,t,i)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*Ki/i),kle=(n,t,i)=>Math.pow(2,-10*n)*Math.sin((n-t)*Ki/i)+1,AE={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*js),easeOutSine:n=>Math.sin(n*js),easeInOutSine:n=>-.5*(Math.cos(Gi*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>gO(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>gO(n)?n:Dle(n,.075,.3),easeOutElastic:n=>gO(n)?n:kle(n,.075,.3),easeInOutElastic:n=>gO(n)?n:n<.5?.5*Dle(2*n,.1125,.45):.5+.5*kle(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-AE.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*AE.easeInBounce(2*n):.5*AE.easeOutBounce(2*n-1)+.5};function lL(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Mle(n){return lL(n)?n:new zv(n)}function cL(n){return lL(n)?n:new zv(n).saturate(.5).darken(.1).hexString()}const nJe=["x","y","borderWidth","radius","tension"],rJe=["color","borderColor","backgroundColor"],Ale=new Map;function IE(n,t,i){return function oJe(n,t){t=t||{};const i=n+JSON.stringify(t);let s=Ale.get(i);return s||(s=new Intl.NumberFormat(n,t),Ale.set(i,s)),s}(t,i).format(n)}const Ile={values:n=>Wi(n)?n:""+n,numeric(n,t,i){if(0===n)return"0";const s=this.chart.options.locale;let o,a=n;if(i.length>1){const d=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(d<1e-4||d>1e15)&&(o="scientific"),a=function aJe(n,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&n!==Math.floor(n)&&(i=n-Math.floor(n)),i}(n,i)}const l=Yh(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),u={notation:o,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),IE(n,s,u)},logarithmic(n,t,i){if(0===n)return"0";const s=i[t].significand||n/Math.pow(10,Math.floor(Yh(n)));return[1,2,3,5,10,15].includes(s)||t>.8*i.length?Ile.numeric.call(this,n,t,i):""}};var yO={formatters:Ile};const wg=Object.create(null),uL=Object.create(null);function RE(n,t){if(!t)return n;const i=t.split(".");for(let s=0,o=i.length;s<o;++s){const a=i[s];n=n[a]||(n[a]=Object.create(null))}return n}function dL(n,t,i){return"string"==typeof t?TE(RE(n,t),i):TE(RE(n,""),t)}class cJe{constructor(t,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,o)=>cL(o.backgroundColor),this.hoverBorderColor=(s,o)=>cL(o.borderColor),this.hoverColor=(s,o)=>cL(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(i)}set(t,i){return dL(this,t,i)}get(t){return RE(this,t)}describe(t,i){return dL(uL,t,i)}override(t,i){return dL(wg,t,i)}route(t,i,s,o){const a=RE(this,t),l=RE(this,s),c="_"+i;Object.defineProperties(a,{[c]:{value:a[i],writable:!0},[i]:{enumerable:!0,get(){const u=this[c],d=l[o];return kr(u)?Object.assign({},d,u):dr(u,d)},set(u){this[c]=u}}})}apply(t){t.forEach(i=>i(this))}}var Ps=new cJe({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function iJe(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),n.set("animations",{colors:{type:"color",properties:rJe},numbers:{type:"number",properties:nJe}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function sJe(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function lJe(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,i)=>i.lineWidth,tickColor:(t,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:yO.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function vO(n,t,i,s,o){let a=t[o];return a||(a=t[o]=n.measureText(o).width,i.push(o)),a>s&&(s=a),s}function dJe(n,t,i,s){let o=(s=s||{}).data=s.data||{},a=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(o=s.data={},a=s.garbageCollect=[],s.font=t),n.save(),n.font=t;let l=0;const c=i.length;let u,d,p,f,h;for(u=0;u<c;u++)if(f=i[u],null==f||Wi(f)){if(Wi(f))for(d=0,p=f.length;d<p;d++)h=f[d],null!=h&&!Wi(h)&&(l=vO(n,o,a,l,h))}else l=vO(n,o,a,l,f);n.restore();const m=a.length/2;if(m>i.length){for(u=0;u<m;u++)delete o[a[u]];a.splice(0,m)}return l}function xg(n,t,i){const s=n.currentDevicePixelRatio,o=0!==i?Math.max(i/2,.5):0;return Math.round((t-o)*s)/s+o}function Rle(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function pL(n,t,i,s){Nle(n,t,i,s,null)}function Nle(n,t,i,s,o){let a,l,c,u,d,p,f,h;const m=t.pointStyle,g=t.rotation,y=t.radius;let v=(g||0)*WQe;if(m&&"object"==typeof m&&(a=m.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return n.save(),n.translate(i,s),n.rotate(v),n.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),void n.restore();if(!(isNaN(y)||y<=0)){switch(n.beginPath(),m){default:o?n.ellipse(i,s,o/2,y,0,0,Ki):n.arc(i,s,y,0,Ki),n.closePath();break;case"triangle":p=o?o/2:y,n.moveTo(i+Math.sin(v)*p,s-Math.cos(v)*y),v+=yle,n.lineTo(i+Math.sin(v)*p,s-Math.cos(v)*y),v+=yle,n.lineTo(i+Math.sin(v)*p,s-Math.cos(v)*y),n.closePath();break;case"rectRounded":d=.516*y,u=y-d,l=Math.cos(v+Eg)*u,f=Math.cos(v+Eg)*(o?o/2-d:u),c=Math.sin(v+Eg)*u,h=Math.sin(v+Eg)*(o?o/2-d:u),n.arc(i-f,s-c,d,v-Gi,v-js),n.arc(i+h,s-l,d,v-js,v),n.arc(i+f,s+c,d,v,v+js),n.arc(i-h,s+l,d,v+js,v+Gi),n.closePath();break;case"rect":if(!g){u=Math.SQRT1_2*y,p=o?o/2:u,n.rect(i-p,s-u,2*p,2*u);break}v+=Eg;case"rectRot":f=Math.cos(v)*(o?o/2:y),l=Math.cos(v)*y,c=Math.sin(v)*y,h=Math.sin(v)*(o?o/2:y),n.moveTo(i-f,s-c),n.lineTo(i+h,s-l),n.lineTo(i+f,s+c),n.lineTo(i-h,s+l),n.closePath();break;case"crossRot":v+=Eg;case"cross":f=Math.cos(v)*(o?o/2:y),l=Math.cos(v)*y,c=Math.sin(v)*y,h=Math.sin(v)*(o?o/2:y),n.moveTo(i-f,s-c),n.lineTo(i+f,s+c),n.moveTo(i+h,s-l),n.lineTo(i-h,s+l);break;case"star":f=Math.cos(v)*(o?o/2:y),l=Math.cos(v)*y,c=Math.sin(v)*y,h=Math.sin(v)*(o?o/2:y),n.moveTo(i-f,s-c),n.lineTo(i+f,s+c),n.moveTo(i+h,s-l),n.lineTo(i-h,s+l),v+=Eg,f=Math.cos(v)*(o?o/2:y),l=Math.cos(v)*y,c=Math.sin(v)*y,h=Math.sin(v)*(o?o/2:y),n.moveTo(i-f,s-c),n.lineTo(i+f,s+c),n.moveTo(i+h,s-l),n.lineTo(i-h,s+l);break;case"line":l=o?o/2:Math.cos(v)*y,c=Math.sin(v)*y,n.moveTo(i-l,s-c),n.lineTo(i+l,s+c);break;case"dash":n.moveTo(i,s),n.lineTo(i+Math.cos(v)*(o?o/2:y),s+Math.sin(v)*y);break;case!1:n.closePath()}n.fill(),t.borderWidth>0&&n.stroke()}}function nf(n,t,i){return i=i||.5,!t||n&&n.x>t.left-i&&n.x<t.right+i&&n.y>t.top-i&&n.y<t.bottom+i}function bO(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function _O(n){n.restore()}function pJe(n,t,i,s,o){if(!t)return n.lineTo(i.x,i.y);if("middle"===o){const a=(t.x+i.x)/2;n.lineTo(a,t.y),n.lineTo(a,i.y)}else"after"===o!=!!s?n.lineTo(t.x,i.y):n.lineTo(i.x,t.y);n.lineTo(i.x,i.y)}function fJe(n,t,i,s){if(!t)return n.lineTo(i.x,i.y);n.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?i.cp2x:i.cp1x,s?i.cp2y:i.cp1y,i.x,i.y)}function mJe(n,t,i,s,o){if(o.strikethrough||o.underline){const a=n.measureText(s),l=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,d=i+a.actualBoundingBoxDescent,p=o.strikethrough?(i-a.actualBoundingBoxAscent+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(l,p),n.lineTo(c,p),n.stroke()}}function gJe(n,t){const i=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=i}function Cg(n,t,i,s,o,a={}){const l=Wi(t)?t:[t],c=a.strokeWidth>0&&""!==a.strokeColor;let u,d;for(n.save(),n.font=o.string,function hJe(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Ur(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,a),u=0;u<l.length;++u)d=l[u],a.backdrop&&gJe(n,a.backdrop),c&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Ur(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(d,i,s,a.maxWidth)),n.fillText(d,i,s,a.maxWidth),mJe(n,i,s,d,a),s+=Number(o.lineHeight);n.restore()}function NE(n,t){const{x:i,y:s,w:o,h:a,radius:l}=t;n.arc(i+l.topLeft,s+l.topLeft,l.topLeft,1.5*Gi,Gi,!0),n.lineTo(i,s+a-l.bottomLeft),n.arc(i+l.bottomLeft,s+a-l.bottomLeft,l.bottomLeft,Gi,js,!0),n.lineTo(i+o-l.bottomRight,s+a),n.arc(i+o-l.bottomRight,s+a-l.bottomRight,l.bottomRight,js,0,!0),n.lineTo(i+o,s+l.topRight),n.arc(i+o-l.topRight,s+l.topRight,l.topRight,0,-js,!0),n.lineTo(i+l.topLeft,s)}const yJe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,vJe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function bJe(n,t){const i=(""+n).match(yJe);if(!i||"normal"===i[1])return 1.2*t;switch(n=+i[2],i[3]){case"px":return n;case"%":n/=100}return t*n}const _Je=n=>+n||0;function fL(n,t){const i={},s=kr(t),o=s?Object.keys(t):t,a=kr(n)?s?l=>dr(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of o)i[l]=_Je(a(l));return i}function Lle(n){return fL(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Sg(n){return fL(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ba(n){const t=Lle(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function mo(n,t){let i=dr((n=n||{}).size,(t=t||Ps.font).size);"string"==typeof i&&(i=parseInt(i,10));let s=dr(n.style,t.style);s&&!(""+s).match(vJe)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const o={family:dr(n.family,t.family),lineHeight:bJe(dr(n.lineHeight,t.lineHeight),i),size:i,style:s,weight:dr(n.weight,t.weight),string:""};return o.string=function uJe(n){return!n||Ur(n.size)||Ur(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(o),o}function LE(n,t,i,s){let a,l,c,o=!0;for(a=0,l=n.length;a<l;++a)if(c=n[a],void 0!==c&&(void 0!==t&&"function"==typeof c&&(c=c(t),o=!1),void 0!==i&&Wi(c)&&(c=c[i%c.length],o=!1),void 0!==c))return s&&!o&&(s.cacheable=!1),c}function Xh(n,t){return Object.assign(Object.create(n),t)}function hL(n,t=[""],i,s,o=()=>n[0]){const a=i||n;typeof s>"u"&&(s=$le("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:s,_getTarget:o,override:c=>hL([c,...n],t,a,s)};return new Proxy(l,{deleteProperty:(c,u)=>(delete c[u],delete c._keys,delete n[0][u],!0),get:(c,u)=>Ble(c,u,()=>function DJe(n,t,i,s){let o;for(const a of t)if(o=$le(wJe(a,n),i),typeof o<"u")return mL(n,o)?gL(i,s,n,o):o}(u,t,n,c)),getOwnPropertyDescriptor:(c,u)=>Reflect.getOwnPropertyDescriptor(c._scopes[0],u),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(c,u)=>zle(c).includes(u),ownKeys:c=>zle(c),set(c,u,d){const p=c._storage||(c._storage=o());return c[u]=p[u]=d,delete c._keys,!0}})}function Uv(n,t,i,s){const o={_cacheable:!1,_proxy:n,_context:t,_subProxy:i,_stack:new Set,_descriptors:Fle(n,s),setContext:a=>Uv(n,a,i,s),override:a=>Uv(n.override(a),t,i,s)};return new Proxy(o,{deleteProperty:(a,l)=>(delete a[l],delete n[l],!0),get:(a,l,c)=>Ble(a,l,()=>function xJe(n,t,i){const{_proxy:s,_context:o,_subProxy:a,_descriptors:l}=n;let c=s[t];return Kh(c)&&l.isScriptable(t)&&(c=function CJe(n,t,i,s){const{_proxy:o,_context:a,_subProxy:l,_stack:c}=i;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let u=t(a,l||s);return c.delete(n),mL(n,u)&&(u=gL(o._scopes,o,n,u)),u}(t,c,n,i)),Wi(c)&&c.length&&(c=function SJe(n,t,i,s){const{_proxy:o,_context:a,_subProxy:l,_descriptors:c}=i;if(typeof a.index<"u"&&s(n))return t[a.index%t.length];if(kr(t[0])){const u=t,d=o._scopes.filter(p=>p!==u);t=[];for(const p of u){const f=gL(d,o,n,p);t.push(Uv(f,a,l&&l[n],c))}}return t}(t,c,n,l.isIndexable)),mL(t,c)&&(c=Uv(c,o,a&&a[t],l)),c}(a,l,c)),getOwnPropertyDescriptor:(a,l)=>a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(a,l)=>Reflect.has(n,l),ownKeys:()=>Reflect.ownKeys(n),set:(a,l,c)=>(n[l]=c,delete a[l],!0)})}function Fle(n,t={scriptable:!0,indexable:!0}){const{_scriptable:i=t.scriptable,_indexable:s=t.indexable,_allKeys:o=t.allKeys}=n;return{allKeys:o,scriptable:i,indexable:s,isScriptable:Kh(i)?i:()=>i,isIndexable:Kh(s)?s:()=>s}}const wJe=(n,t)=>n?n+rL(t):t,mL=(n,t)=>kr(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Ble(n,t,i){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const s=i();return n[t]=s,s}function jle(n,t,i){return Kh(n)?n(t,i):n}const OJe=(n,t)=>!0===n?t:"string"==typeof n?Gh(t,n):void 0;function TJe(n,t,i,s,o){for(const a of t){const l=OJe(i,a);if(l){n.add(l);const c=jle(l._fallback,i,o);if(typeof c<"u"&&c!==i&&c!==s)return c}else if(!1===l&&typeof s<"u"&&i!==s)return null}return!1}function gL(n,t,i,s){const o=t._rootScopes,a=jle(t._fallback,i,s),l=[...n,...o],c=new Set;c.add(s);let u=Vle(c,l,i,a||i,s);return!(null===u||typeof a<"u"&&a!==i&&(u=Vle(c,l,a,u,s),null===u))&&hL(Array.from(c),[""],o,a,()=>function PJe(n,t,i){const s=n._getTarget();t in s||(s[t]={});const o=s[t];return Wi(o)&&kr(i)?i:o||{}}(t,i,s))}function Vle(n,t,i,s,o){for(;i;)i=TJe(n,t,i,s,o);return i}function $le(n,t){for(const i of t){if(!i)continue;const s=i[n];if(typeof s<"u")return s}}function zle(n){let t=n._keys;return t||(t=n._keys=function kJe(n){const t=new Set;for(const i of n)for(const s of Object.keys(i).filter(o=>!o.startsWith("_")))t.add(s);return Array.from(t)}(n._scopes)),t}function Hle(n,t,i,s){const{iScale:o}=n,{key:a="r"}=this._parsing,l=new Array(s);let c,u,d,p;for(c=0,u=s;c<u;++c)d=c+i,p=t[d],l[c]={r:o.parse(Gh(p,a),d)};return l}const MJe=Number.EPSILON||1e-14,qv=(n,t)=>t<n.length&&!n[t].skip&&n[t],Ule=n=>"x"===n?"y":"x";function AJe(n,t,i,s){const o=n.skip?t:n,a=t,l=i.skip?t:i,c=sL(a,o),u=sL(l,a);let d=c/(c+u),p=u/(c+u);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const f=s*d,h=s*p;return{previous:{x:a.x-f*(l.x-o.x),y:a.y-f*(l.y-o.y)},next:{x:a.x+h*(l.x-o.x),y:a.y+h*(l.y-o.y)}}}function EO(n,t,i){return Math.max(Math.min(n,i),t)}function FJe(n,t,i,s,o){let a,l,c,u;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),"monotone"===t.cubicInterpolationMode)!function NJe(n,t="x"){const i=Ule(t),s=n.length,o=Array(s).fill(0),a=Array(s);let l,c,u,d=qv(n,0);for(l=0;l<s;++l)if(c=u,u=d,d=qv(n,l+1),u){if(d){const p=d[t]-u[t];o[l]=0!==p?(d[i]-u[i])/p:0}a[l]=c?d?$d(o[l-1])!==$d(o[l])?0:(o[l-1]+o[l])/2:o[l-1]:o[l]}(function IJe(n,t,i){const s=n.length;let o,a,l,c,u,d=qv(n,0);for(let p=0;p<s-1;++p)if(u=d,d=qv(n,p+1),u&&d){if(kE(t[p],0,MJe)){i[p]=i[p+1]=0;continue}o=i[p]/t[p],a=i[p+1]/t[p],c=Math.pow(o,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),i[p]=o*l*t[p],i[p+1]=a*l*t[p])}})(n,o,a),function RJe(n,t,i="x"){const s=Ule(i),o=n.length;let a,l,c,u=qv(n,0);for(let d=0;d<o;++d){if(l=c,c=u,u=qv(n,d+1),!c)continue;const p=c[i],f=c[s];l&&(a=(p-l[i])/3,c[`cp1${i}`]=p-a,c[`cp1${s}`]=f-a*t[d]),u&&(a=(u[i]-p)/3,c[`cp2${i}`]=p+a,c[`cp2${s}`]=f+a*t[d])}}(n,a,t)}(n,o);else{let d=s?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)c=n[a],u=AJe(d,c,n[Math.min(a+1,l-(s?0:1))%l],t.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,d=c}t.capBezierPoints&&function LJe(n,t){let i,s,o,a,l,c=nf(n[0],t);for(i=0,s=n.length;i<s;++i)l=a,a=c,c=i<s-1&&nf(n[i+1],t),a&&(o=n[i],l&&(o.cp1x=EO(o.cp1x,t.left,t.right),o.cp1y=EO(o.cp1y,t.top,t.bottom)),c&&(o.cp2x=EO(o.cp2x,t.left,t.right),o.cp2y=EO(o.cp2y,t.top,t.bottom)))}(n,i)}function yL(){return typeof window<"u"&&typeof document<"u"}function vL(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function wO(n,t,i){let s;return"string"==typeof n?(s=parseInt(n,10),-1!==n.indexOf("%")&&(s=s/100*t.parentNode[i])):s=n,s}const xO=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),jJe=["top","right","bottom","left"];function Og(n,t,i){const s={};i=i?"-"+i:"";for(let o=0;o<4;o++){const a=jJe[o];s[a]=parseFloat(n[t+"-"+a+i])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function Tg(n,t){if("native"in n)return n;const{canvas:i,currentDevicePixelRatio:s}=t,o=xO(i),a="border-box"===o.boxSizing,l=Og(o,"padding"),c=Og(o,"border","width"),{x:u,y:d,box:p}=function $Je(n,t){const i=n.touches,s=i&&i.length?i[0]:n,{offsetX:o,offsetY:a}=s;let c,u,l=!1;if(((n,t,i)=>(n>0||t>0)&&(!i||!i.shadowRoot))(o,a,n.target))c=o,u=a;else{const d=t.getBoundingClientRect();c=s.clientX-d.left,u=s.clientY-d.top,l=!0}return{x:c,y:u,box:l}}(n,i),f=l.left+(p&&c.left),h=l.top+(p&&c.top);let{width:m,height:g}=t;return a&&(m-=l.width+c.width,g-=l.height+c.height),{x:Math.round((u-f)/m*i.width/s),y:Math.round((d-h)/g*i.height/s)}}const CO=n=>Math.round(10*n)/10;function qle(n,t,i){const s=t||1,o=Math.floor(n.height*s),a=Math.floor(n.width*s);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(i||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==s||l.height!==o||l.width!==a)&&(n.currentDevicePixelRatio=s,l.height=o,l.width=a,n.ctx.setTransform(s,0,0,s,0,0),!0)}const UJe=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};yL()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function Wle(n,t){const i=function BJe(n,t){return xO(n).getPropertyValue(t)}(n,t),s=i&&i.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Pg(n,t,i,s){return{x:n.x+i*(t.x-n.x),y:n.y+i*(t.y-n.y)}}function qJe(n,t,i,s){return{x:n.x+i*(t.x-n.x),y:"middle"===s?i<.5?n.y:t.y:"after"===s?i<1?n.y:t.y:i>0?t.y:n.y}}function WJe(n,t,i,s){const o={x:n.cp2x,y:n.cp2y},a={x:t.cp1x,y:t.cp1y},l=Pg(n,o,i),c=Pg(o,a,i),u=Pg(a,t,i),d=Pg(l,c,i),p=Pg(c,u,i);return Pg(d,p,i)}function Wv(n,t,i){return n?function(n,t){return{x:i=>n+n+t-i,setWidth(i){t=i},textAlign:i=>"center"===i?i:"right"===i?"left":"right",xPlus:(i,s)=>i-s,leftForLtr:(i,s)=>i-s}}(t,i):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function Gle(n,t){let i,s;("ltr"===t||"rtl"===t)&&(i=n.canvas.style,s=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),n.prevTextDirection=s)}function Kle(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Yle(n){return"angle"===n?{between:ME,compare:YQe,normalize:cc}:{between:ef,compare:(t,i)=>t-i,normalize:t=>t}}function Xle({start:n,end:t,count:i,loop:s,style:o}){return{start:n%i,end:t%i,loop:s&&(t-n+1)%i==0,style:o}}function Zle(n,t,i){if(!i)return[n];const{property:s,start:o,end:a}=i,l=t.length,{compare:c,between:u,normalize:d}=Yle(s),{start:p,end:f,loop:h,style:m}=function YJe(n,t,i){const{property:s,start:o,end:a}=i,{between:l,normalize:c}=Yle(s),u=t.length;let h,m,{start:d,end:p,loop:f}=n;if(f){for(d+=u,p+=u,h=0,m=u;h<m&&l(c(t[d%u][s]),o,a);++h)d--,p--;d%=u,p%=u}return p<d&&(p+=u),{start:d,end:p,loop:f,style:n.style}}(n,t,i),g=[];let _,E,x,y=!1,v=null;for(let D=p,I=p;D<=f;++D)E=t[D%l],!E.skip&&(_=d(E[s]),_!==x&&(y=u(_,o,a),null===v&&(y||u(o,x,_)&&0!==c(o,x))&&(v=0===c(_,o)?D:I),null!==v&&(!y||0===c(a,_)||u(a,x,_))&&(g.push(Xle({start:v,end:D,loop:h,count:l,style:m})),v=null),I=D,x=_));return null!==v&&g.push(Xle({start:v,end:f,loop:h,count:l,style:m})),g}function Qle(n,t){const i=[],s=n.segments;for(let o=0;o<s.length;o++){const a=Zle(s[o],n.points,t);a.length&&i.push(...a)}return i}function ece(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function eet(n,t){if(!t)return!1;const i=[],s=function(o,a){return lL(a)?(i.includes(a)||i.push(a),i.indexOf(a)):a};return JSON.stringify(n,s)!==JSON.stringify(t,s)}class tet{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,i,s,o){const l=i.duration;i.listeners[o].forEach(c=>c({chart:t,initial:i.initial,numSteps:l,currentStep:Math.min(s-i.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Sle.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let i=0;this._charts.forEach((s,o)=>{if(!s.running||!s.items.length)return;const a=s.items;let u,l=a.length-1,c=!1;for(;l>=0;--l)u=a[l],u._active?(u._total>s.duration&&(s.duration=u._total),u.tick(t),c=!0):(a[l]=a[a.length-1],a.pop());c&&(o.draw(),this._notify(o,s,t,"progress")),a.length||(s.running=!1,this._notify(o,s,t,"complete"),s.initial=!1),i+=a.length}),this._lastDate=t,0===i&&(this._running=!1)}_getAnims(t){const i=this._charts;let s=i.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(t,s)),s}listen(t,i,s){this._getAnims(t).listeners[i].push(s)}add(t,i){!i||!i.length||this._getAnims(t).items.push(...i)}has(t){return this._getAnims(t).items.length>0}start(t){const i=this._charts.get(t);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((s,o)=>Math.max(s,o._duration),0),this._refresh())}running(t){if(!this._running)return!1;const i=this._charts.get(t);return!(!i||!i.running||!i.items.length)}stop(t){const i=this._charts.get(t);if(!i||!i.items.length)return;const s=i.items;let o=s.length-1;for(;o>=0;--o)s[o].cancel();i.items=[],this._notify(t,i,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var rf=new tet;const tce="transparent",net={boolean:(n,t,i)=>i>.5?t:n,color(n,t,i){const s=Mle(n||tce),o=s.valid&&Mle(t||tce);return o&&o.valid?o.mix(s,i).hexString():t},number:(n,t,i)=>n+(t-n)*i};class ret{constructor(t,i,s,o){const a=i[s];o=LE([t.to,o,a,t.from]);const l=LE([t.from,a,o]);this._active=!0,this._fn=t.fn||net[t.type||typeof l],this._easing=AE[t.easing]||AE.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=i,this._prop=s,this._from=l,this._to=o,this._promises=void 0}active(){return this._active}update(t,i,s){if(this._active){this._notify(!1);const o=this._target[this._prop],a=s-this._start,l=this._duration-a;this._start=s,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=LE([t.to,i,o,t.from]),this._from=LE([t.from,o,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const i=t-this._start,s=this._duration,o=this._prop,a=this._from,l=this._loop,c=this._to;let u;if(this._active=a!==c&&(l||i<s),!this._active)return this._target[o]=c,void this._notify(!0);i<0?this._target[o]=a:(u=i/s%2,u=l&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[o]=this._fn(a,c,u))}wait(){const t=this._promises||(this._promises=[]);return new Promise((i,s)=>{t.push({res:i,rej:s})})}_notify(t){const i=t?"res":"rej",s=this._promises||[];for(let o=0;o<s.length;o++)s[o][i]()}}class nce{constructor(t,i){this._chart=t,this._properties=new Map,this.configure(i)}configure(t){if(!kr(t))return;const i=Object.keys(Ps.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{const a=t[o];if(!kr(a))return;const l={};for(const c of i)l[c]=a[c];(Wi(a.properties)&&a.properties||[o]).forEach(c=>{(c===o||!s.has(c))&&s.set(c,l)})})}_animateOptions(t,i){const s=i.options,o=function oet(n,t){if(!t)return;let i=n.options;if(i)return i.$shared&&(n.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i;n.options=t}(t,s);if(!o)return[];const a=this._createAnimations(o,s);return s.$shared&&function iet(n,t){const i=[],s=Object.keys(t);for(let o=0;o<s.length;o++){const a=n[s[o]];a&&a.active()&&i.push(a.wait())}return Promise.all(i)}(t.options.$animations,s).then(()=>{t.options=s},()=>{}),a}_createAnimations(t,i){const s=this._properties,o=[],a=t.$animations||(t.$animations={}),l=Object.keys(i),c=Date.now();let u;for(u=l.length-1;u>=0;--u){const d=l[u];if("$"===d.charAt(0))continue;if("options"===d){o.push(...this._animateOptions(t,i));continue}const p=i[d];let f=a[d];const h=s.get(d);if(f){if(h&&f.active()){f.update(h,p,c);continue}f.cancel()}h&&h.duration?(a[d]=f=new ret(h,t,d,p),o.push(f)):t[d]=p}return o}update(t,i){if(0===this._properties.size)return void Object.assign(t,i);const s=this._createAnimations(t,i);return s.length?(rf.add(this._chart,s),!0):void 0}}function rce(n,t){const i=n&&n.options||{},s=i.reverse,o=void 0===i.min?t:0,a=void 0===i.max?t:0;return{start:s?a:o,end:s?o:a}}function ice(n,t){const i=[],s=n._getSortedDatasetMetas(t);let o,a;for(o=0,a=s.length;o<a;++o)i.push(s[o].index);return i}function sce(n,t,i,s={}){const o=n.keys,a="single"===s.mode;let l,c,u,d;if(null!==t){for(l=0,c=o.length;l<c;++l){if(u=+o[l],u===i){if(s.all)continue;break}d=n.values[u],Ts(d)&&(a||0===t||$d(t)===$d(d))&&(t+=d)}return t}}function oce(n,t){const i=n&&n.options.stacked;return i||void 0===i&&void 0!==t.stack}function fet(n,t,i){const s=n[t]||(n[t]={});return s[i]||(s[i]={})}function ace(n,t,i,s){for(const o of t.getMatchingVisibleMetas(s).reverse()){const a=n[o.index];if(i&&a>0||!i&&a<0)return o.index}return null}function lce(n,t){const{chart:i,_cachedMeta:s}=n,o=i._stacks||(i._stacks={}),{iScale:a,vScale:l,index:c}=s,u=a.axis,d=l.axis,p=function det(n,t,i){return`${n.id}.${t.id}.${i.stack||i.type}`}(a,l,s),f=t.length;let h;for(let m=0;m<f;++m){const g=t[m],{[u]:y,[d]:v}=g;h=(g._stacks||(g._stacks={}))[d]=fet(o,p,y),h[c]=v,h._top=ace(h,l,!0,s.type),h._bottom=ace(h,l,!1,s.type),(h._visualValues||(h._visualValues={}))[c]=v}}function bL(n,t){const i=n.scales;return Object.keys(i).filter(s=>i[s].axis===t).shift()}function FE(n,t){const i=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){t=t||n._parsed;for(const o of t){const a=o._stacks;if(!a||void 0===a[s]||void 0===a[s][i])return;delete a[s][i],void 0!==a[s]._visualValues&&void 0!==a[s]._visualValues[i]&&delete a[s]._visualValues[i]}}}const _L=n=>"reset"===n||"none"===n,cce=(n,t)=>t?n:Object.assign({},n);let Zh=(()=>class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(i,s){this.chart=i,this._ctx=i.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const i=this._cachedMeta;this.configure(),this.linkScales(),i._stacked=oce(i.vScale,i),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(i){this.index!==i&&FE(this._cachedMeta),this.index=i}linkScales(){const i=this.chart,s=this._cachedMeta,o=this.getDataset(),a=(h,m,g,y)=>"x"===h?m:"r"===h?y:g,l=s.xAxisID=dr(o.xAxisID,bL(i,"x")),c=s.yAxisID=dr(o.yAxisID,bL(i,"y")),u=s.rAxisID=dr(o.rAxisID,bL(i,"r")),d=s.indexAxis,p=s.iAxisID=a(d,l,c,u),f=s.vAxisID=a(d,c,l,u);s.xScale=this.getScaleForId(l),s.yScale=this.getScaleForId(c),s.rScale=this.getScaleForId(u),s.iScale=this.getScaleForId(p),s.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(i){return this.chart.scales[i]}_getOtherScale(i){const s=this._cachedMeta;return i===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const i=this._cachedMeta;this._data&&xle(this._data,this),i._stacked&&FE(i)}_dataCheck(){const i=this.getDataset(),s=i.data||(i.data=[]),o=this._data;if(kr(s))this._data=function uet(n){const t=Object.keys(n),i=new Array(t.length);let s,o,a;for(s=0,o=t.length;s<o;++s)a=t[s],i[s]={x:a,y:n[a]};return i}(s);else if(o!==s){if(o){xle(o,this);const a=this._cachedMeta;FE(a),a._parsed=[]}s&&Object.isExtensible(s)&&function JQe(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),wle.forEach(i=>{const s="_onData"+rL(i),o=n[i];Object.defineProperty(n,i,{configurable:!0,enumerable:!1,value(...a){const l=o.apply(this,a);return n._chartjs.listeners.forEach(c=>{"function"==typeof c[s]&&c[s](...a)}),l}})}))}(s,this),this._syncList=[],this._data=s}}addElements(){const i=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(i.dataset=new this.datasetElementType)}buildOrUpdateElements(i){const s=this._cachedMeta,o=this.getDataset();let a=!1;this._dataCheck();const l=s._stacked;s._stacked=oce(s.vScale,s),s.stack!==o.stack&&(a=!0,FE(s),s.stack=o.stack),this._resyncElements(i),(a||l!==s._stacked)&&lce(this,s._parsed)}configure(){const i=this.chart.config,s=i.datasetScopeKeys(this._type),o=i.getOptionScopes(this.getDataset(),s,!0);this.options=i.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(i,s){const{_cachedMeta:o,_data:a}=this,{iScale:l,_stacked:c}=o,u=l.axis;let f,h,m,d=0===i&&s===a.length||o._sorted,p=i>0&&o._parsed[i-1];if(!1===this._parsing)o._parsed=a,o._sorted=!0,m=a;else{m=Wi(a[i])?this.parseArrayData(o,a,i,s):kr(a[i])?this.parseObjectData(o,a,i,s):this.parsePrimitiveData(o,a,i,s);const g=()=>null===h[u]||p&&h[u]<p[u];for(f=0;f<s;++f)o._parsed[f+i]=h=m[f],d&&(g()&&(d=!1),p=h);o._sorted=d}c&&lce(this,m)}parsePrimitiveData(i,s,o,a){const{iScale:l,vScale:c}=i,u=l.axis,d=c.axis,p=l.getLabels(),f=l===c,h=new Array(a);let m,g,y;for(m=0,g=a;m<g;++m)y=m+o,h[m]={[u]:f||l.parse(p[y],y),[d]:c.parse(s[y],y)};return h}parseArrayData(i,s,o,a){const{xScale:l,yScale:c}=i,u=new Array(a);let d,p,f,h;for(d=0,p=a;d<p;++d)f=d+o,h=s[f],u[d]={x:l.parse(h[0],f),y:c.parse(h[1],f)};return u}parseObjectData(i,s,o,a){const{xScale:l,yScale:c}=i,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,p=new Array(a);let f,h,m,g;for(f=0,h=a;f<h;++f)m=f+o,g=s[m],p[f]={x:l.parse(Gh(g,u),m),y:c.parse(Gh(g,d),m)};return p}getParsed(i){return this._cachedMeta._parsed[i]}getDataElement(i){return this._cachedMeta.data[i]}applyStack(i,s,o){const l=this._cachedMeta,c=s[i.axis];return sce({keys:ice(this.chart,!0),values:s._stacks[i.axis]._visualValues},c,l.index,{mode:o})}updateRangeFromParsed(i,s,o,a){const l=o[s.axis];let c=null===l?NaN:l;const u=a&&o._stacks[s.axis];a&&u&&(a.values=u,c=sce(a,l,this._cachedMeta.index)),i.min=Math.min(i.min,c),i.max=Math.max(i.max,c)}getMinMax(i,s){const o=this._cachedMeta,a=o._parsed,l=o._sorted&&i===o.iScale,c=a.length,u=this._getOtherScale(i),d=((n,t)=>n&&!t.hidden&&t._stacked&&{keys:ice(this.chart,!0),values:null})(s,o),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:h}=function pet(n){const{min:t,max:i,minDefined:s,maxDefined:o}=n.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:o?i:Number.POSITIVE_INFINITY}}(u);let m,g;function y(){g=a[m];const v=g[u.axis];return!Ts(g[i.axis])||f>v||h<v}for(m=0;m<c&&(y()||(this.updateRangeFromParsed(p,i,g,d),!l));++m);if(l)for(m=c-1;m>=0;--m)if(!y()){this.updateRangeFromParsed(p,i,g,d);break}return p}getAllParsedValues(i){const s=this._cachedMeta._parsed,o=[];let a,l,c;for(a=0,l=s.length;a<l;++a)c=s[a][i.axis],Ts(c)&&o.push(c);return o}getMaxOverflow(){return!1}getLabelAndValue(i){const s=this._cachedMeta,o=s.iScale,a=s.vScale,l=this.getParsed(i);return{label:o?""+o.getLabelForValue(l[o.axis]):"",value:a?""+a.getLabelForValue(l[a.axis]):""}}_update(i){const s=this._cachedMeta;this.update(i||"default"),s._clip=function cet(n){let t,i,s,o;return kr(n)?(t=n.top,i=n.right,s=n.bottom,o=n.left):t=i=s=o=n,{top:t,right:i,bottom:s,left:o,disabled:!1===n}}(dr(this.options.clip,function aet(n,t,i){if(!1===i)return!1;const s=rce(n,i),o=rce(t,i);return{top:o.end,right:s.end,bottom:o.start,left:s.start}}(s.xScale,s.yScale,this.getMaxOverflow())))}update(i){}draw(){const i=this._ctx,o=this._cachedMeta,a=o.data||[],l=this.chart.chartArea,c=[],u=this._drawStart||0,d=this._drawCount||a.length-u,p=this.options.drawActiveElementsOnTop;let f;for(o.dataset&&o.dataset.draw(i,l,u,d),f=u;f<u+d;++f){const h=a[f];h.hidden||(h.active&&p?c.push(h):h.draw(i,l))}for(f=0;f<c.length;++f)c[f].draw(i,l)}getStyle(i,s){const o=s?"active":"default";return void 0===i&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(i||0,o)}getContext(i,s,o){const a=this.getDataset();let l;if(i>=0&&i<this._cachedMeta.data.length){const c=this._cachedMeta.data[i];l=c.$context||(c.$context=function met(n,t,i){return Xh(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}(this.getContext(),i,c)),l.parsed=this.getParsed(i),l.raw=a.data[i],l.index=l.dataIndex=i}else l=this.$context||(this.$context=function het(n,t){return Xh(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),l.dataset=a,l.index=l.datasetIndex=this.index;return l.active=!!s,l.mode=o,l}resolveDatasetElementOptions(i){return this._resolveElementOptions(this.datasetElementType.id,i)}resolveDataElementOptions(i,s){return this._resolveElementOptions(this.dataElementType.id,s,i)}_resolveElementOptions(i,s="default",o){const a="active"===s,l=this._cachedDataOpts,c=i+"-"+s,u=l[c],d=this.enableOptionSharing&&DE(o);if(u)return cce(u,d);const p=this.chart.config,f=p.datasetElementScopeKeys(this._type,i),h=a?[`${i}Hover`,"hover",i,""]:[i,""],m=p.getOptionScopes(this.getDataset(),f),g=Object.keys(Ps.elements[i]),v=p.resolveNamedOptions(m,g,()=>this.getContext(o,a,s),h);return v.$shared&&(v.$shared=d,l[c]=Object.freeze(cce(v,d))),v}_resolveAnimations(i,s,o){const a=this.chart,l=this._cachedDataOpts,c=`animation-${s}`,u=l[c];if(u)return u;let d;if(!1!==a.options.animation){const f=this.chart.config,h=f.datasetAnimationScopeKeys(this._type,s),m=f.getOptionScopes(this.getDataset(),h);d=f.createResolver(m,this.getContext(i,o,s))}const p=new nce(a,d&&d.animations);return d&&d._cacheable&&(l[c]=Object.freeze(p)),p}getSharedOptions(i){if(i.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},i))}includeOptions(i,s){return!s||_L(i)||this.chart._animationsDisabled}_getSharedOptions(i,s){const o=this.resolveDataElementOptions(i,s),a=this._sharedOptions,l=this.getSharedOptions(o),c=this.includeOptions(s,l)||l!==a;return this.updateSharedOptions(l,s,o),{sharedOptions:l,includeOptions:c}}updateElement(i,s,o,a){_L(a)?Object.assign(i,o):this._resolveAnimations(s,a).update(i,o)}updateSharedOptions(i,s,o){i&&!_L(s)&&this._resolveAnimations(void 0,s).update(i,o)}_setStyle(i,s,o,a){i.active=a;const l=this.getStyle(s,a);this._resolveAnimations(s,o,a).update(i,{options:!a&&this.getSharedOptions(l)||l})}removeHoverStyle(i,s,o){this._setStyle(i,o,"active",!1)}setHoverStyle(i,s,o){this._setStyle(i,o,"active",!0)}_removeDatasetHoverStyle(){const i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!1)}_setDatasetHoverStyle(){const i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!0)}_resyncElements(i){const s=this._data,o=this._cachedMeta.data;for(const[u,d,p]of this._syncList)this[u](d,p);this._syncList=[];const a=o.length,l=s.length,c=Math.min(l,a);c&&this.parse(0,c),l>a?this._insertElements(a,l-a,i):l<a&&this._removeElements(l,a-l)}_insertElements(i,s,o=!0){const a=this._cachedMeta,l=a.data,c=i+s;let u;const d=p=>{for(p.length+=s,u=p.length-1;u>=c;u--)p[u]=p[u-s]};for(d(l),u=i;u<c;++u)l[u]=new this.dataElementType;this._parsing&&d(a._parsed),this.parse(i,s),o&&this.updateElements(l,i,s,"reset")}updateElements(i,s,o,a){}_removeElements(i,s){const o=this._cachedMeta;if(this._parsing){const a=o._parsed.splice(i,s);o._stacked&&FE(o,a)}o.data.splice(i,s)}_sync(i){if(this._parsing)this._syncList.push(i);else{const[s,o,a]=i;this[s](o,a)}this.chart._dataChanges.push([this.index,...i])}_onDataPush(){const i=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-i,i])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(i,s){s&&this._sync(["_removeElements",i,s]);const o=arguments.length-2;o&&this._sync(["_insertElements",i,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function bet(n){const t=n.iScale,i=function vet(n,t){if(!n._cache.$bar){const i=n.getMatchingVisibleMetas(t);let s=[];for(let o=0,a=i.length;o<a;o++)s=s.concat(i[o].controller.getAllParsedValues(n));n._cache.$bar=Cle(s.sort((o,a)=>o-a))}return n._cache.$bar}(t,n.type);let o,a,l,c,s=t._length;const u=()=>{32767===l||-32768===l||(DE(c)&&(s=Math.min(s,Math.abs(l-c)||s)),c=l)};for(o=0,a=i.length;o<a;++o)l=t.getPixelForValue(i[o]),u();for(c=void 0,o=0,a=t.ticks.length;o<a;++o)l=t.getPixelForTick(o),u();return s}function uce(n,t,i,s){return Wi(n)?function wet(n,t,i,s){const o=i.parse(n[0],s),a=i.parse(n[1],s),l=Math.min(o,a),c=Math.max(o,a);let u=l,d=c;Math.abs(l)>Math.abs(c)&&(u=c,d=l),t[i.axis]=d,t._custom={barStart:u,barEnd:d,start:o,end:a,min:l,max:c}}(n,t,i,s):t[i.axis]=i.parse(n,s),t}function dce(n,t,i,s){const o=n.iScale,a=n.vScale,l=o.getLabels(),c=o===a,u=[];let d,p,f,h;for(d=i,p=i+s;d<p;++d)h=t[d],f={},f[o.axis]=c||o.parse(l[d],d),u.push(uce(h,f,a,d));return u}function EL(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function Oet(n,t,i,s){let o=t.borderSkipped;const a={};if(!o)return void(n.borderSkipped=a);if(!0===o)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:l,end:c,reverse:u,top:d,bottom:p}=function Cet(n){let t,i,s,o,a;return n.horizontal?(t=n.base>n.x,i="left",s="right"):(t=n.base<n.y,i="bottom",s="top"),t?(o="end",a="start"):(o="start",a="end"),{start:i,end:s,reverse:t,top:o,bottom:a}}(n);"middle"===o&&i&&(n.enableBorderRadius=!0,(i._top||0)===s?o=d:(i._bottom||0)===s?o=p:(a[pce(p,l,c,u)]=!0,o=d)),a[pce(o,l,c,u)]=!0,n.borderSkipped=a}function pce(n,t,i,s){return s?(n=function Tet(n,t,i){return n===t?i:n===i?t:n}(n,t,i),n=fce(n,i,t)):n=fce(n,t,i),n}function fce(n,t,i){return"start"===n?t:"end"===n?i:n}function Pet(n,{inflateAmount:t},i){n.inflateAmount="auto"===t?1===i?.33:0:t}let Det=(()=>class n extends Zh{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(i,s,o,a){return dce(i,s,o,a)}parseArrayData(i,s,o,a){return dce(i,s,o,a)}parseObjectData(i,s,o,a){const{iScale:l,vScale:c}=i,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,p="x"===l.axis?u:d,f="x"===c.axis?u:d,h=[];let m,g,y,v;for(m=o,g=o+a;m<g;++m)v=s[m],y={},y[l.axis]=l.parse(Gh(v,p),m),h.push(uce(Gh(v,f),y,c,m));return h}updateRangeFromParsed(i,s,o,a){super.updateRangeFromParsed(i,s,o,a);const l=o._custom;l&&s===this._cachedMeta.vScale&&(i.min=Math.min(i.min,l.min),i.max=Math.max(i.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(i){const s=this._cachedMeta,{iScale:o,vScale:a}=s,l=this.getParsed(i),c=l._custom,u=EL(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(l[a.axis]);return{label:""+o.getLabelForValue(l[o.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(i){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,i)}updateElements(i,s,o,a){const l="reset"===a,{index:c,_cachedMeta:{vScale:u}}=this,d=u.getBasePixel(),p=u.isHorizontal(),f=this._getRuler(),{sharedOptions:h,includeOptions:m}=this._getSharedOptions(s,a);for(let g=s;g<s+o;g++){const y=this.getParsed(g),v=l||Ur(y[u.axis])?{base:d,head:d}:this._calculateBarValuePixels(g),_=this._calculateBarIndexPixels(g,f),E=(y._stacks||{})[u.axis],x={horizontal:p,base:v.base,enableBorderRadius:!E||EL(y._custom)||c===E._top||c===E._bottom,x:p?v.head:_.center,y:p?_.center:v.head,height:p?_.size:Math.abs(v.size),width:p?Math.abs(v.size):_.size};m&&(x.options=h||this.resolveDataElementOptions(g,i[g].active?"active":a));const b=x.options||i[g].options;Oet(x,b,E,c),Pet(x,b,f.ratio),this.updateElement(i[g],g,x,a)}}_getStacks(i,s){const{iScale:o}=this._cachedMeta,a=o.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),l=o.options.stacked,c=[],u=d=>{const p=d.controller.getParsed(s),f=p&&p[d.vScale.axis];if(Ur(f)||isNaN(f))return!0};for(const d of a)if((void 0===s||!u(d))&&((!1===l||-1===c.indexOf(d.stack)||void 0===l&&void 0===d.stack)&&c.push(d.stack),d.index===i))break;return c.length||c.push(void 0),c}_getStackCount(i){return this._getStacks(void 0,i).length}_getStackIndex(i,s,o){const a=this._getStacks(i,o),l=void 0!==s?a.indexOf(s):-1;return-1===l?a.length-1:l}_getRuler(){const i=this.options,s=this._cachedMeta,o=s.iScale,a=[];let l,c;for(l=0,c=s.data.length;l<c;++l)a.push(o.getPixelForValue(this.getParsed(l)[o.axis],l));const u=i.barThickness;return{min:u||bet(s),pixels:a,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:i.grouped,ratio:u?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(i){const{_cachedMeta:{vScale:s,_stacked:o,index:a},options:{base:l,minBarLength:c}}=this,u=l||0,d=this.getParsed(i),p=d._custom,f=EL(p);let y,v,h=d[s.axis],m=0,g=o?this.applyStack(s,d,o):h;g!==h&&(m=g-h,g=h),f&&(h=p.barStart,g=p.barEnd-p.barStart,0!==h&&$d(h)!==$d(p.barEnd)&&(m=0),m+=h);const _=Ur(l)||f?m:l;let E=s.getPixelForValue(_);if(y=this.chart.getDataVisibility(i)?s.getPixelForValue(m+g):E,v=y-E,Math.abs(v)<c){v=function xet(n,t,i){return 0!==n?$d(n):(t.isHorizontal()?1:-1)*(t.min>=i?1:-1)}(v,s,u)*c,h===u&&(E-=v/2);const x=s.getPixelForDecimal(0),b=s.getPixelForDecimal(1),w=Math.min(x,b),C=Math.max(x,b);E=Math.max(Math.min(E,C),w),y=E+v,o&&!f&&(d._stacks[s.axis]._visualValues[a]=s.getValueForPixel(y)-s.getValueForPixel(E))}if(E===s.getPixelForValue(u)){const x=$d(v)*s.getLineWidthForValue(u)/2;E+=x,v-=x}return{size:v,base:E,head:y,center:y+v/2}}_calculateBarIndexPixels(i,s){const o=s.scale,a=this.options,l=a.skipNull,c=dr(a.maxBarThickness,1/0);let u,d;if(s.grouped){const p=l?this._getStackCount(i):s.stackCount,f="flex"===a.barThickness?function Eet(n,t,i,s){const o=t.pixels,a=o[n];let l=n>0?o[n-1]:null,c=n<o.length-1?o[n+1]:null;const u=i.categoryPercentage;null===l&&(l=a-(null===c?t.end-t.start:c-a)),null===c&&(c=a+a-l);const d=a-(a-Math.min(l,c))/2*u;return{chunk:Math.abs(c-l)/2*u/s,ratio:i.barPercentage,start:d}}(i,s,a,p):function _et(n,t,i,s){const o=i.barThickness;let a,l;return Ur(o)?(a=t.min*i.categoryPercentage,l=i.barPercentage):(a=o*s,l=1),{chunk:a/s,ratio:l,start:t.pixels[n]-a/2}}(i,s,a,p),h=this._getStackIndex(this.index,this._cachedMeta.stack,l?i:void 0);u=f.start+f.chunk*h+f.chunk/2,d=Math.min(c,f.chunk*f.ratio)}else u=o.getPixelForValue(this.getParsed(i)[o.axis],i),d=Math.min(c,s.min*s.ratio);return{base:u-d/2,head:u+d/2,center:u,size:d}}draw(){const i=this._cachedMeta,s=i.vScale,o=i.data,a=o.length;let l=0;for(;l<a;++l)null!==this.getParsed(l)[s.axis]&&o[l].draw(this._ctx)}})(),ket=(()=>class n extends Zh{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(i,s,o,a){const l=super.parsePrimitiveData(i,s,o,a);for(let c=0;c<l.length;c++)l[c]._custom=this.resolveDataElementOptions(c+o).radius;return l}parseArrayData(i,s,o,a){const l=super.parseArrayData(i,s,o,a);for(let c=0;c<l.length;c++)l[c]._custom=dr(s[o+c][2],this.resolveDataElementOptions(c+o).radius);return l}parseObjectData(i,s,o,a){const l=super.parseObjectData(i,s,o,a);for(let c=0;c<l.length;c++){const u=s[o+c];l[c]._custom=dr(u&&u.r&&+u.r,this.resolveDataElementOptions(c+o).radius)}return l}getMaxOverflow(){const i=this._cachedMeta.data;let s=0;for(let o=i.length-1;o>=0;--o)s=Math.max(s,i[o].size(this.resolveDataElementOptions(o))/2);return s>0&&s}getLabelAndValue(i){const s=this._cachedMeta,o=this.chart.data.labels||[],{xScale:a,yScale:l}=s,c=this.getParsed(i),u=a.getLabelForValue(c.x),d=l.getLabelForValue(c.y),p=c._custom;return{label:o[i]||"",value:"("+u+", "+d+(p?", "+p:"")+")"}}update(i){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,i)}updateElements(i,s,o,a){const l="reset"===a,{iScale:c,vScale:u}=this._cachedMeta,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(s,a),f=c.axis,h=u.axis;for(let m=s;m<s+o;m++){const g=i[m],y=!l&&this.getParsed(m),v={},_=v[f]=l?c.getPixelForDecimal(.5):c.getPixelForValue(y[f]),E=v[h]=l?u.getBasePixel():u.getPixelForValue(y[h]);v.skip=isNaN(_)||isNaN(E),p&&(v.options=d||this.resolveDataElementOptions(m,g.active?"active":a),l&&(v.options.radius=0)),this.updateElement(g,m,v,a)}}resolveDataElementOptions(i,s){const o=this.getParsed(i);let a=super.resolveDataElementOptions(i,s);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const l=a.radius;return"active"!==s&&(a.radius=0),a.radius+=dr(o&&o._custom,l),a}})(),wL=(()=>class n extends Zh{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:i=>"spacing"!==i,_indexable:i=>"spacing"!==i&&!i.startsWith("borderDash")&&!i.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const s=i.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:o,color:a}}=i.legend.options;return s.labels.map((l,c)=>{const d=i.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:a,lineWidth:d.borderWidth,pointStyle:o,hidden:!i.getDataVisibility(c),index:c}})}return[]}},onClick(i,s,o){o.chart.toggleDataVisibility(s.index),o.chart.update()}}}};constructor(i,s){super(i,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(i,s){const o=this.getDataset().data,a=this._cachedMeta;if(!1===this._parsing)a._parsed=o;else{let c,u,l=d=>+o[d];if(kr(o[i])){const{key:d="value"}=this._parsing;l=p=>+Gh(o[p],d)}for(c=i,u=i+s;c<u;++c)a._parsed[c]=l(c)}}_getRotation(){return zu(this.options.rotation-90)}_getCircumference(){return zu(this.options.circumference)}_getRotationExtents(){let i=Ki,s=-Ki;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){const a=this.chart.getDatasetMeta(o).controller,l=a._getRotation(),c=a._getCircumference();i=Math.min(i,l),s=Math.max(s,l+c)}return{rotation:i,circumference:s-i}}update(i){const s=this.chart,{chartArea:o}=s,a=this._cachedMeta,l=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,u=Math.max((Math.min(o.width,o.height)-c)/2,0),d=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/t)(this.options.cutout,u),1),p=this._getRingWeight(this.index),{circumference:f,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:g,offsetX:y,offsetY:v}=function Met(n,t,i){let s=1,o=1,a=0,l=0;if(t<Ki){const c=n,u=c+t,d=Math.cos(c),p=Math.sin(c),f=Math.cos(u),h=Math.sin(u),m=(x,b,w)=>ME(x,c,u,!0)?1:Math.max(b,b*i,w,w*i),g=(x,b,w)=>ME(x,c,u,!0)?-1:Math.min(b,b*i,w,w*i),y=m(0,d,f),v=m(js,p,h),_=g(Gi,d,f),E=g(Gi+js,p,h);s=(y-_)/2,o=(v-E)/2,a=-(y+_)/2,l=-(v+E)/2}return{ratioX:s,ratioY:o,offsetX:a,offsetY:l}}(h,f,d),x=Math.max(Math.min((o.width-c)/m,(o.height-c)/g)/2,0),b=fle(this.options.radius,x),C=(b-Math.max(b*d,0))/this._getVisibleDatasetWeightTotal();this.offsetX=y*b,this.offsetY=v*b,a.total=this.calculateTotal(),this.outerRadius=b-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*p,0),this.updateElements(l,0,l.length,i)}_circumference(i,s){const o=this.options,a=this._cachedMeta,l=this._getCircumference();return s&&o.animation.animateRotate||!this.chart.getDataVisibility(i)||null===a._parsed[i]||a.data[i].hidden?0:this.calculateCircumference(a._parsed[i]*l/Ki)}updateElements(i,s,o,a){const l="reset"===a,c=this.chart,u=c.chartArea,f=(u.left+u.right)/2,h=(u.top+u.bottom)/2,m=l&&c.options.animation.animateScale,g=m?0:this.innerRadius,y=m?0:this.outerRadius,{sharedOptions:v,includeOptions:_}=this._getSharedOptions(s,a);let x,E=this._getRotation();for(x=0;x<s;++x)E+=this._circumference(x,l);for(x=s;x<s+o;++x){const b=this._circumference(x,l),w=i[x],C={x:f+this.offsetX,y:h+this.offsetY,startAngle:E,endAngle:E+b,circumference:b,outerRadius:y,innerRadius:g};_&&(C.options=v||this.resolveDataElementOptions(x,w.active?"active":a)),E+=b,this.updateElement(w,x,C,a)}}calculateTotal(){const i=this._cachedMeta,s=i.data;let a,o=0;for(a=0;a<s.length;a++){const l=i._parsed[a];null!==l&&!isNaN(l)&&this.chart.getDataVisibility(a)&&!s[a].hidden&&(o+=Math.abs(l))}return o}calculateCircumference(i){const s=this._cachedMeta.total;return s>0&&!isNaN(i)?Ki*(Math.abs(i)/s):0}getLabelAndValue(i){const o=this.chart,a=o.data.labels||[],l=IE(this._cachedMeta._parsed[i],o.options.locale);return{label:a[i]||"",value:l}}getMaxBorderWidth(i){let s=0;const o=this.chart;let a,l,c,u,d;if(!i)for(a=0,l=o.data.datasets.length;a<l;++a)if(o.isDatasetVisible(a)){c=o.getDatasetMeta(a),i=c.data,u=c.controller;break}if(!i)return 0;for(a=0,l=i.length;a<l;++a)d=u.resolveDataElementOptions(a),"inner"!==d.borderAlign&&(s=Math.max(s,d.borderWidth||0,d.hoverBorderWidth||0));return s}getMaxOffset(i){let s=0;for(let o=0,a=i.length;o<a;++o){const l=this.resolveDataElementOptions(o);s=Math.max(s,l.offset||0,l.hoverOffset||0)}return s}_getRingWeightOffset(i){let s=0;for(let o=0;o<i;++o)this.chart.isDatasetVisible(o)&&(s+=this._getRingWeight(o));return s}_getRingWeight(i){return Math.max(dr(this.chart.data.datasets[i].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),Aet=(()=>class n extends Zh{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(i){const s=this._cachedMeta,{dataset:o,data:a=[],_dataset:l}=s,c=this.chart._animationsDisabled;let{start:u,count:d}=Tle(s,a,c);this._drawStart=u,this._drawCount=d,Ple(s)&&(u=0,d=a.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=a;const p=this.resolveDatasetElementOptions(i);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(o,void 0,{animated:!c,options:p},i),this.updateElements(a,u,d,i)}updateElements(i,s,o,a){const l="reset"===a,{iScale:c,vScale:u,_stacked:d,_dataset:p}=this._cachedMeta,{sharedOptions:f,includeOptions:h}=this._getSharedOptions(s,a),m=c.axis,g=u.axis,{spanGaps:y,segment:v}=this.options,_=Hv(y)?y:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||l||"none"===a,x=s+o,b=i.length;let w=s>0&&this.getParsed(s-1);for(let C=0;C<b;++C){const P=i[C],D=E?P:{};if(C<s||C>=x){D.skip=!0;continue}const I=this.getParsed(C),k=Ur(I[g]),F=D[m]=c.getPixelForValue(I[m],C),M=D[g]=l||k?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,I,d):I[g],C);D.skip=isNaN(F)||isNaN(M)||k,D.stop=C>0&&Math.abs(I[m]-w[m])>_,v&&(D.parsed=I,D.raw=p.data[C]),h&&(D.options=f||this.resolveDataElementOptions(C,P.active?"active":a)),E||this.updateElement(P,C,D,a),w=I}}getMaxOverflow(){const i=this._cachedMeta,s=i.dataset,o=s.options&&s.options.borderWidth||0,a=i.data||[];if(!a.length)return o;const l=a[0].size(this.resolveDataElementOptions(0)),c=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(o,l,c)/2}draw(){const i=this._cachedMeta;i.dataset.updateControlPoints(this.chart.chartArea,i.iScale.axis),super.draw()}})(),hce=(()=>class n extends Zh{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const s=i.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:o,color:a}}=i.legend.options;return s.labels.map((l,c)=>{const d=i.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:a,lineWidth:d.borderWidth,pointStyle:o,hidden:!i.getDataVisibility(c),index:c}})}return[]}},onClick(i,s,o){o.chart.toggleDataVisibility(s.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(i,s){super(i,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(i){const o=this.chart,a=o.data.labels||[],l=IE(this._cachedMeta._parsed[i].r,o.options.locale);return{label:a[i]||"",value:l}}parseObjectData(i,s,o,a){return Hle.bind(this)(i,s,o,a)}update(i){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,i)}getMinMax(){const s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((o,a)=>{const l=this.getParsed(a).r;!isNaN(l)&&this.chart.getDataVisibility(a)&&(l<s.min&&(s.min=l),l>s.max&&(s.max=l))}),s}_updateRadius(){const i=this.chart,s=i.chartArea,o=i.options,a=Math.min(s.right-s.left,s.bottom-s.top),l=Math.max(a/2,0),u=(l-Math.max(o.cutoutPercentage?l/100*o.cutoutPercentage:1,0))/i.getVisibleDatasetCount();this.outerRadius=l-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(i,s,o,a){const l="reset"===a,c=this.chart,d=c.options.animation,p=this._cachedMeta.rScale,f=p.xCenter,h=p.yCenter,m=p.getIndexAngle(0)-.5*Gi;let y,g=m;const v=360/this.countVisibleElements();for(y=0;y<s;++y)g+=this._computeAngle(y,a,v);for(y=s;y<s+o;y++){const _=i[y];let E=g,x=g+this._computeAngle(y,a,v),b=c.getDataVisibility(y)?p.getDistanceFromCenterForValue(this.getParsed(y).r):0;g=x,l&&(d.animateScale&&(b=0),d.animateRotate&&(E=x=m));const w={x:f,y:h,innerRadius:0,outerRadius:b,startAngle:E,endAngle:x,options:this.resolveDataElementOptions(y,_.active?"active":a)};this.updateElement(_,y,w,a)}}countVisibleElements(){let s=0;return this._cachedMeta.data.forEach((o,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&s++}),s}_computeAngle(i,s,o){return this.chart.getDataVisibility(i)?zu(this.resolveDataElementOptions(i,s).angle||o):0}})();var Iet=Object.freeze({__proto__:null,BarController:Det,BubbleController:ket,DoughnutController:wL,LineController:Aet,PieController:(()=>class n extends wL{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:hce,RadarController:(()=>class n extends Zh{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(i){const s=this._cachedMeta.vScale,o=this.getParsed(i);return{label:s.getLabels()[i],value:""+s.getLabelForValue(o[s.axis])}}parseObjectData(i,s,o,a){return Hle.bind(this)(i,s,o,a)}update(i){const s=this._cachedMeta,o=s.dataset,a=s.data||[],l=s.iScale.getLabels();if(o.points=a,"resize"!==i){const c=this.resolveDatasetElementOptions(i);this.options.showLine||(c.borderWidth=0),this.updateElement(o,void 0,{_loop:!0,_fullLoop:l.length===a.length,options:c},i)}this.updateElements(a,0,a.length,i)}updateElements(i,s,o,a){const l=this._cachedMeta.rScale,c="reset"===a;for(let u=s;u<s+o;u++){const d=i[u],p=this.resolveDataElementOptions(u,d.active?"active":a),f=l.getPointPositionForValue(u,this.getParsed(u).r),h=c?l.xCenter:f.x,m=c?l.yCenter:f.y,g={x:h,y:m,angle:f.angle,skip:isNaN(h)||isNaN(m),options:p};this.updateElement(d,u,g,a)}}})(),ScatterController:(()=>class n extends Zh{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(i){const s=this._cachedMeta,o=this.chart.data.labels||[],{xScale:a,yScale:l}=s,c=this.getParsed(i),u=a.getLabelForValue(c.x),d=l.getLabelForValue(c.y);return{label:o[i]||"",value:"("+u+", "+d+")"}}update(i){const s=this._cachedMeta,{data:o=[]}=s,a=this.chart._animationsDisabled;let{start:l,count:c}=Tle(s,o,a);if(this._drawStart=l,this._drawCount=c,Ple(s)&&(l=0,c=o.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:d}=s;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!d._decimated,u.points=o;const p=this.resolveDatasetElementOptions(i);p.segment=this.options.segment,this.updateElement(u,void 0,{animated:!a,options:p},i)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(o,l,c,i)}addElements(){const{showLine:i}=this.options;!this.datasetElementType&&i&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(i,s,o,a){const l="reset"===a,{iScale:c,vScale:u,_stacked:d,_dataset:p}=this._cachedMeta,f=this.resolveDataElementOptions(s,a),h=this.getSharedOptions(f),m=this.includeOptions(a,h),g=c.axis,y=u.axis,{spanGaps:v,segment:_}=this.options,E=Hv(v)?v:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||l||"none"===a;let b=s>0&&this.getParsed(s-1);for(let w=s;w<s+o;++w){const C=i[w],P=this.getParsed(w),D=x?C:{},I=Ur(P[y]),k=D[g]=c.getPixelForValue(P[g],w),F=D[y]=l||I?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,P,d):P[y],w);D.skip=isNaN(k)||isNaN(F)||I,D.stop=w>0&&Math.abs(P[g]-b[g])>E,_&&(D.parsed=P,D.raw=p.data[w]),m&&(D.options=h||this.resolveDataElementOptions(w,C.active?"active":a)),x||this.updateElement(C,w,D,a),b=P}this.updateSharedOptions(h,a,f)}getMaxOverflow(){const i=this._cachedMeta,s=i.data||[];if(!this.options.showLine){let u=0;for(let d=s.length-1;d>=0;--d)u=Math.max(u,s[d].size(this.resolveDataElementOptions(d))/2);return u>0&&u}const o=i.dataset,a=o.options&&o.options.borderWidth||0;if(!s.length)return a;const l=s[0].size(this.resolveDataElementOptions(0)),c=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(a,l,c)/2}})()});function Dg(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class xL{static override(t){Object.assign(xL.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Dg()}parse(){return Dg()}format(){return Dg()}add(){return Dg()}diff(){return Dg()}startOf(){return Dg()}endOf(){return Dg()}}var Ret__date=xL;function Net(n,t,i,s){const{controller:o,data:a,_sorted:l}=n,c=o._cachedMeta.iScale;if(c&&t===c.axis&&"r"!==t&&l&&a.length){const u=c._reversePixels?ZQe:tf;if(!s)return u(a,t,i);if(o._sharedOptions){const d=a[0],p="function"==typeof d.getRange&&d.getRange(t);if(p){const f=u(a,t,i-p),h=u(a,t,i+p);return{lo:f.lo,hi:h.hi}}}}return{lo:0,hi:a.length-1}}function BE(n,t,i,s,o){const a=n.getSortedVisibleDatasetMetas(),l=i[t];for(let c=0,u=a.length;c<u;++c){const{index:d,data:p}=a[c],{lo:f,hi:h}=Net(a[c],t,l,o);for(let m=f;m<=h;++m){const g=p[m];g.skip||s(g,d,m)}}}function CL(n,t,i,s,o){const a=[];return!o&&!n.isPointInArea(t)||BE(n,i,t,function(c,u,d){!o&&!nf(c,n.chartArea,0)||c.inRange(t.x,t.y,s)&&a.push({element:c,datasetIndex:u,index:d})},!0),a}function SL(n,t,i,s,o,a){return a||n.isPointInArea(t)?"r"!==i||s?function Bet(n,t,i,s,o,a){let l=[];const c=function Let(n){const t=-1!==n.indexOf("x"),i=-1!==n.indexOf("y");return function(s,o){const a=t?Math.abs(s.x-o.x):0,l=i?Math.abs(s.y-o.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}(i);let u=Number.POSITIVE_INFINITY;return BE(n,i,t,function d(p,f,h){const m=p.inRange(t.x,t.y,o);if(s&&!m)return;const g=p.getCenterPoint(o);if(!a&&!n.isPointInArea(g)&&!m)return;const v=c(t,g);v<u?(l=[{element:p,datasetIndex:f,index:h}],u=v):v===u&&l.push({element:p,datasetIndex:f,index:h})}),l}(n,t,i,s,o,a):function Fet(n,t,i,s){let o=[];return BE(n,i,t,function a(l,c,u){const{startAngle:d,endAngle:p}=l.getProps(["startAngle","endAngle"],s),{angle:f}=Ele(l,{x:t.x,y:t.y});ME(f,d,p)&&o.push({element:l,datasetIndex:c,index:u})}),o}(n,t,i,o):[]}function mce(n,t,i,s,o){const a=[],l="x"===i?"inXRange":"inYRange";let c=!1;return BE(n,i,t,(u,d,p)=>{u[l](t[i],o)&&(a.push({element:u,datasetIndex:d,index:p}),c=c||u.inRange(t.x,t.y,o))}),s&&!c?[]:a}var jet={evaluateInteractionItems:BE,modes:{index(n,t,i,s){const o=Tg(t,n),a=i.axis||"x",l=i.includeInvisible||!1,c=i.intersect?CL(n,o,a,s,l):SL(n,o,a,!1,s,l),u=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const p=c[0].index,f=d.data[p];f&&!f.skip&&u.push({element:f,datasetIndex:d.index,index:p})}),u):[]},dataset(n,t,i,s){const o=Tg(t,n),a=i.axis||"xy",l=i.includeInvisible||!1;let c=i.intersect?CL(n,o,a,s,l):SL(n,o,a,!1,s,l);if(c.length>0){const u=c[0].datasetIndex,d=n.getDatasetMeta(u).data;c=[];for(let p=0;p<d.length;++p)c.push({element:d[p],datasetIndex:u,index:p})}return c},point:(n,t,i,s)=>CL(n,Tg(t,n),i.axis||"xy",s,i.includeInvisible||!1),nearest:(n,t,i,s)=>SL(n,Tg(t,n),i.axis||"xy",i.intersect,s,i.includeInvisible||!1),x:(n,t,i,s)=>mce(n,Tg(t,n),"x",i.intersect,s),y:(n,t,i,s)=>mce(n,Tg(t,n),"y",i.intersect,s)}};const gce=["left","top","right","bottom"];function jE(n,t){return n.filter(i=>i.pos===t)}function yce(n,t){return n.filter(i=>-1===gce.indexOf(i.pos)&&i.box.axis===t)}function VE(n,t){return n.sort((i,s)=>{const o=t?s:i,a=t?i:s;return o.weight===a.weight?o.index-a.index:o.weight-a.weight})}function vce(n,t,i,s){return Math.max(n[i],t[i])+Math.max(n[s],t[s])}function bce(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Uet(n,t,i,s){const{pos:o,box:a}=i,l=n.maxPadding;if(!kr(o)){i.size&&(n[o]-=i.size);const f=s[i.stack]||{size:0,count:1};f.size=Math.max(f.size,i.horizontal?a.height:a.width),i.size=f.size/f.count,n[o]+=i.size}a.getPadding&&bce(l,a.getPadding());const c=Math.max(0,t.outerWidth-vce(l,n,"left","right")),u=Math.max(0,t.outerHeight-vce(l,n,"top","bottom")),d=c!==n.w,p=u!==n.h;return n.w=c,n.h=u,i.horizontal?{same:d,other:p}:{same:p,other:d}}function Wet(n,t){const i=t.maxPadding;return function s(o){const a={left:0,top:0,right:0,bottom:0};return o.forEach(l=>{a[l]=Math.max(t[l],i[l])}),a}(n?["left","right"]:["top","bottom"])}function $E(n,t,i,s){const o=[];let a,l,c,u,d,p;for(a=0,l=n.length,d=0;a<l;++a){c=n[a],u=c.box,u.update(c.width||t.w,c.height||t.h,Wet(c.horizontal,t));const{same:f,other:h}=Uet(t,i,c,s);d|=f&&o.length,p=p||h,u.fullSize||o.push(c)}return d&&$E(o,t,i,s)||p}function SO(n,t,i,s,o){n.top=i,n.left=t,n.right=t+s,n.bottom=i+o,n.width=s,n.height=o}function _ce(n,t,i,s){const o=i.padding;let{x:a,y:l}=t;for(const c of n){const u=c.box,d=s[c.stack]||{count:1,placed:0,weight:1},p=c.stackWeight/d.weight||1;if(c.horizontal){const f=t.w*p,h=d.size||u.height;DE(d.start)&&(l=d.start),u.fullSize?SO(u,o.left,l,i.outerWidth-o.right-o.left,h):SO(u,t.left+d.placed,l,f,h),d.start=l,d.placed+=f,l=u.bottom}else{const f=t.h*p,h=d.size||u.width;DE(d.start)&&(a=d.start),u.fullSize?SO(u,a,o.top,h,i.outerHeight-o.bottom-o.top):SO(u,a,t.top+d.placed,h,f),d.start=a,d.placed+=f,a=u.right}}t.x=a,t.y=l}var _a={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(i){t.draw(i)}}]},n.boxes.push(t)},removeBox(n,t){const i=n.boxes?n.boxes.indexOf(t):-1;-1!==i&&n.boxes.splice(i,1)},configure(n,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(n,t,i,s){if(!n)return;const o=ba(n.options.layout.padding),a=Math.max(t-o.width,0),l=Math.max(i-o.height,0),c=function Het(n){const t=function Vet(n){const t=[];let i,s,o,a,l,c;for(i=0,s=(n||[]).length;i<s;++i)o=n[i],({position:a,options:{stack:l,stackWeight:c=1}}=o),t.push({index:i,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:l&&a+l,stackWeight:c});return t}(n),i=VE(t.filter(d=>d.box.fullSize),!0),s=VE(jE(t,"left"),!0),o=VE(jE(t,"right")),a=VE(jE(t,"top"),!0),l=VE(jE(t,"bottom")),c=yce(t,"x"),u=yce(t,"y");return{fullSize:i,leftAndTop:s.concat(a),rightAndBottom:o.concat(u).concat(l).concat(c),chartArea:jE(t,"chartArea"),vertical:s.concat(o).concat(u),horizontal:a.concat(l).concat(c)}}(n.boxes),u=c.vertical,d=c.horizontal;di(n.boxes,y=>{"function"==typeof y.beforeLayout&&y.beforeLayout()});const p=u.reduce((y,v)=>v.box.options&&!1===v.box.options.display?y:y+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:i,padding:o,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),h=Object.assign({},o);bce(h,ba(s));const m=Object.assign({maxPadding:h,w:a,h:l,x:o.left,y:o.top},o),g=function zet(n,t){const i=function $et(n){const t={};for(const i of n){const{stack:s,pos:o,stackWeight:a}=i;if(!s||!gce.includes(o))continue;const l=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}(n),{vBoxMaxWidth:s,hBoxMaxHeight:o}=t;let a,l,c;for(a=0,l=n.length;a<l;++a){c=n[a];const{fullSize:u}=c.box,d=i[c.stack],p=d&&c.stackWeight/d.weight;c.horizontal?(c.width=p?p*s:u&&t.availableWidth,c.height=o):(c.width=s,c.height=p?p*o:u&&t.availableHeight)}return i}(u.concat(d),f);$E(c.fullSize,m,f,g),$E(u,m,f,g),$E(d,m,f,g)&&$E(u,m,f,g),function qet(n){const t=n.maxPadding;function i(s){const o=Math.max(t[s]-n[s],0);return n[s]+=o,o}n.y+=i("top"),n.x+=i("left"),i("right"),i("bottom")}(m),_ce(c.leftAndTop,m,f,g),m.x+=m.w,m.y+=m.h,_ce(c.rightAndBottom,m,f,g),n.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},di(c.chartArea,y=>{const v=y.box;Object.assign(v,n.chartArea),v.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Ece{acquireContext(t,i){}releaseContext(t){return!1}addEventListener(t,i,s){}removeEventListener(t,i,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,i,s,o){return i=Math.max(0,i||t.width),s=s||t.height,{width:i,height:Math.max(0,o?Math.floor(i/o):s)}}isAttached(t){return!0}updateConfig(t){}}class Get extends Ece{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const OO="$chartjs",Ket={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},wce=n=>null===n||""===n,xce=!!UJe&&{passive:!0};function Zet(n,t,i){n.canvas.removeEventListener(t,i,xce)}function TO(n,t){for(const i of n)if(i===t||i.contains(t))return!0}function Jet(n,t,i){const s=n.canvas,o=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||TO(c.addedNodes,s),l=l&&!TO(c.removedNodes,s);l&&i()});return o.observe(document,{childList:!0,subtree:!0}),o}function ett(n,t,i){const s=n.canvas,o=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||TO(c.removedNodes,s),l=l&&!TO(c.addedNodes,s);l&&i()});return o.observe(document,{childList:!0,subtree:!0}),o}const zE=new Map;let Cce=0;function Sce(){const n=window.devicePixelRatio;n!==Cce&&(Cce=n,zE.forEach((t,i)=>{i.currentDevicePixelRatio!==n&&t()}))}function rtt(n,t,i){const s=n.canvas,o=s&&vL(s);if(!o)return;const a=Ole((c,u)=>{const d=o.clientWidth;i(c,u),d<o.clientWidth&&i()},window),l=new ResizeObserver(c=>{const u=c[0],d=u.contentRect.width,p=u.contentRect.height;0===d&&0===p||a(d,p)});return l.observe(o),function ttt(n,t){zE.size||window.addEventListener("resize",Sce),zE.set(n,t)}(n,a),l}function OL(n,t,i){i&&i.disconnect(),"resize"===t&&function ntt(n){zE.delete(n),zE.size||window.removeEventListener("resize",Sce)}(n)}function itt(n,t,i){const s=n.canvas,o=Ole(a=>{null!==n.ctx&&i(function Qet(n,t){const i=Ket[n.type]||n.type,{x:s,y:o}=Tg(n,t);return{type:i,chart:t,native:n,x:void 0!==s?s:null,y:void 0!==o?o:null}}(a,n))},n);return function Xet(n,t,i){n.addEventListener(t,i,xce)}(s,t,o),o}class stt extends Ece{acquireContext(t,i){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(function Yet(n,t){const i=n.style,s=n.getAttribute("height"),o=n.getAttribute("width");if(n[OO]={initial:{height:s,width:o,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",wce(o)){const a=Wle(n,"width");void 0!==a&&(n.width=a)}if(wce(s))if(""===n.style.height)n.height=n.width/(t||2);else{const a=Wle(n,"height");void 0!==a&&(n.height=a)}}(t,i),s):null}releaseContext(t){const i=t.canvas;if(!i[OO])return!1;const s=i[OO].initial;["height","width"].forEach(a=>{const l=s[a];Ur(l)?i.removeAttribute(a):i.setAttribute(a,l)});const o=s.style||{};return Object.keys(o).forEach(a=>{i.style[a]=o[a]}),i.width=i.width,delete i[OO],!0}addEventListener(t,i,s){this.removeEventListener(t,i),(t.$proxies||(t.$proxies={}))[i]=({attach:Jet,detach:ett,resize:rtt}[i]||itt)(t,i,s)}removeEventListener(t,i){const s=t.$proxies||(t.$proxies={}),o=s[i];o&&(({attach:OL,detach:OL,resize:OL}[i]||Zet)(t,i,o),s[i]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,i,s,o){return function HJe(n,t,i,s){const o=xO(n),a=Og(o,"margin"),l=wO(o.maxWidth,n,"clientWidth")||mO,c=wO(o.maxHeight,n,"clientHeight")||mO,u=function zJe(n,t,i){let s,o;if(void 0===t||void 0===i){const a=vL(n);if(a){const l=a.getBoundingClientRect(),c=xO(a),u=Og(c,"border","width"),d=Og(c,"padding");t=l.width-d.width-u.width,i=l.height-d.height-u.height,s=wO(c.maxWidth,a,"clientWidth"),o=wO(c.maxHeight,a,"clientHeight")}else t=n.clientWidth,i=n.clientHeight}return{width:t,height:i,maxWidth:s||mO,maxHeight:o||mO}}(n,t,i);let{width:d,height:p}=u;if("content-box"===o.boxSizing){const h=Og(o,"border","width"),m=Og(o,"padding");d-=m.width+h.width,p-=m.height+h.height}return d=Math.max(0,d-a.width),p=Math.max(0,s?d/s:p-a.height),d=CO(Math.min(d,l,u.maxWidth)),p=CO(Math.min(p,c,u.maxHeight)),d&&!p&&(p=CO(d/2)),(void 0!==t||void 0!==i)&&s&&u.height&&p>u.height&&(p=u.height,d=CO(Math.floor(p*s))),{width:d,height:p}}(t,i,s,o)}isAttached(t){const i=vL(t);return!(!i||!i.isConnected)}}class sf{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:i,y:s}=this.getProps(["x","y"],t);return{x:i,y:s}}hasValue(){return Hv(this.x)&&Hv(this.y)}getProps(t,i){const s=this.$animations;if(!i||!s)return this;const o={};return t.forEach(a=>{o[a]=s[a]&&s[a].active()?s[a]._to:this[a]}),o}}function PO(n,t,i,s,o){const a=dr(s,0),l=Math.min(dr(o,n.length),n.length);let u,d,p,c=0;for(i=Math.ceil(i),o&&(u=o-s,i=u/Math.floor(u/i)),p=a;p<0;)c++,p=Math.round(a+c*i);for(d=Math.max(a,0);d<l;d++)d===p&&(t.push(n[d]),c++,p=Math.round(a+c*i))}const Oce=(n,t,i)=>"top"===t||"left"===t?n[t]+i:n[t]-i,Tce=(n,t)=>Math.min(t||n,n);function Pce(n,t){const i=[],s=n.length/t,o=n.length;let a=0;for(;a<o;a+=s)i.push(n[Math.floor(a)]);return i}function htt(n,t,i){const s=n.ticks.length,o=Math.min(t,s-1),a=n._startPixel,l=n._endPixel,c=1e-6;let d,u=n.getPixelForTick(o);if(!(i&&(d=1===s?Math.max(u-a,l-u):0===t?(n.getPixelForTick(1)-u)/2:(u-n.getPixelForTick(o-1))/2,u+=o<t?d:-d,u<a-c||u>l+c)))return u}function HE(n){return n.drawTicks?n.tickLength:0}function Dce(n,t){if(!n.display)return 0;const i=mo(n.font,t),s=ba(n.padding);return(Wi(n.text)?n.text.length:1)*i.lineHeight+s.height}function vtt(n,t,i){let s=aL(n);return(i&&"right"!==t||!i&&"right"===t)&&(s=(n=>"left"===n?"right":"right"===n?"left":n)(s)),s}class kg extends sf{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,i){return t}getUserBounds(){let{_userMin:t,_userMax:i,_suggestedMin:s,_suggestedMax:o}=this;return t=lc(t,Number.POSITIVE_INFINITY),i=lc(i,Number.NEGATIVE_INFINITY),s=lc(s,Number.POSITIVE_INFINITY),o=lc(o,Number.NEGATIVE_INFINITY),{min:lc(t,s),max:lc(i,o),minDefined:Ts(t),maxDefined:Ts(i)}}getMinMax(t){let l,{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();if(o&&a)return{min:i,max:s};const c=this.getMatchingVisibleMetas();for(let u=0,d=c.length;u<d;++u)l=c[u].controller.getMinMax(this,t),o||(i=Math.min(i,l.min)),a||(s=Math.max(s,l.max));return i=a&&i>s?s:i,s=o&&i>s?i:s,{min:lc(i,lc(s,i)),max:lc(s,lc(i,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Vi(this.options.beforeUpdate,[this])}update(t,i,s){const{beginAtZero:o,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function EJe(n,t,i){const{min:s,max:o}=n,a=fle(t,(o-s)/2),l=(c,u)=>i&&0===c?0:c+u;return{min:l(s,-Math.abs(a)),max:l(o,a)}}(this,a,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?Pce(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||"auto"===l.source)&&(this.ticks=function att(n,t){const i=n.options.ticks,s=function ltt(n){const t=n.options.offset,i=n._tickSize();return Math.floor(Math.min(n._length/i+(t?0:1),n._maxLength/i))}(n),o=Math.min(i.maxTicksLimit||s,s),a=i.major.enabled?function utt(n){const t=[];let i,s;for(i=0,s=n.length;i<s;i++)n[i].major&&t.push(i);return t}(t):[],l=a.length,c=a[0],u=a[l-1],d=[];if(l>o)return function dtt(n,t,i,s){let l,o=0,a=i[0];for(s=Math.ceil(s),l=0;l<n.length;l++)l===a&&(t.push(n[l]),o++,a=i[o*s])}(t,d,a,l/o),d;const p=function ctt(n,t,i){const s=function ptt(n){const t=n.length;let i,s;if(t<2)return!1;for(s=n[0],i=1;i<t;++i)if(n[i]-n[i-1]!==s)return!1;return s}(n),o=t.length/i;if(!s)return Math.max(o,1);const a=function GQe(n){const t=[],i=Math.sqrt(n);let s;for(s=1;s<i;s++)n%s==0&&(t.push(s),t.push(n/s));return i===(0|i)&&t.push(i),t.sort((o,a)=>o-a).pop(),t}(s);for(let l=0,c=a.length-1;l<c;l++){const u=a[l];if(u>o)return u}return Math.max(o,1)}(a,t,o);if(l>0){let f,h;const m=l>1?Math.round((u-c)/(l-1)):null;for(PO(t,d,p,Ur(m)?0:c-m,c),f=0,h=l-1;f<h;f++)PO(t,d,p,a[f],a[f+1]);return PO(t,d,p,u,Ur(m)?t.length:u+m),d}return PO(t,d,p),d}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let i,s,t=this.options.reverse;this.isHorizontal()?(i=this.left,s=this.right):(i=this.top,s=this.bottom,t=!t),this._startPixel=i,this._endPixel=s,this._reversePixels=t,this._length=s-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Vi(this.options.afterUpdate,[this])}beforeSetDimensions(){Vi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Vi(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Vi(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Vi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const i=this.options.ticks;let s,o,a;for(s=0,o=t.length;s<o;s++)a=t[s],a.label=Vi(i.callback,[a.value,s,t],this)}afterTickToLabelConversion(){Vi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Vi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,i=t.ticks,s=Tce(this.ticks.length,t.ticks.maxTicksLimit),o=i.minRotation||0,a=i.maxRotation;let c,u,d,l=o;if(!this._isVisible()||!i.display||o>=a||s<=1||!this.isHorizontal())return void(this.labelRotation=o);const p=this._getLabelSizes(),f=p.widest.width,h=p.highest.height,m=To(this.chart.width-f,0,this.maxWidth);c=t.offset?this.maxWidth/s:m/(s-1),f+6>c&&(c=m/(s-(t.offset?.5:1)),u=this.maxHeight-HE(t.grid)-i.padding-Dce(t.title,this.chart.options.font),d=Math.sqrt(f*f+h*h),l=iL(Math.min(Math.asin(To((p.highest.height+6)/c,-1,1)),Math.asin(To(u/d,-1,1))-Math.asin(To(h/d,-1,1)))),l=Math.max(o,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Vi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Vi(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:i,options:{ticks:s,title:o,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const u=Dce(o,i.options.font);if(c?(t.width=this.maxWidth,t.height=HE(a)+u):(t.height=this.maxHeight,t.width=HE(a)+u),s.display&&this.ticks.length){const{first:d,last:p,widest:f,highest:h}=this._getLabelSizes(),m=2*s.padding,g=zu(this.labelRotation),y=Math.cos(g),v=Math.sin(g);c?t.height=Math.min(this.maxHeight,t.height+(s.mirror?0:v*f.width+y*h.height)+m):t.width=Math.min(this.maxWidth,t.width+(s.mirror?0:y*f.width+v*h.height)+m),this._calculatePadding(d,p,v,y)}}this._handleMargins(),c?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,i,s,o){const{ticks:{align:a,padding:l},position:c}=this.options,u=0!==this.labelRotation,d="top"!==c&&"x"===this.axis;if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,m=0;u?d?(h=o*t.width,m=s*i.height):(h=s*t.height,m=o*i.width):"start"===a?m=i.width:"end"===a?h=t.width:"inner"!==a&&(h=t.width/2,m=i.width/2),this.paddingLeft=Math.max((h-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((m-f+l)*this.width/(this.width-f),0)}else{let p=i.height/2,f=t.height/2;"start"===a?(p=0,f=t.height):"end"===a&&(p=i.height,f=0),this.paddingTop=p+l,this.paddingBottom=f+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Vi(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:i}=this.options;return"top"===i||"bottom"===i||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let i,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),i=0,s=t.length;i<s;i++)Ur(t[i].label)&&(t.splice(i,1),s--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const i=this.options.ticks.sampleSize;let s=this.ticks;i<s.length&&(s=Pce(s,i)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,i,s){const{ctx:o,_longestTextCache:a}=this,l=[],c=[],u=Math.floor(i/Tce(i,s));let f,h,m,g,y,v,_,E,x,b,w,d=0,p=0;for(f=0;f<i;f+=u){if(g=t[f].label,y=this._resolveTickFontOptions(f),o.font=v=y.string,_=a[v]=a[v]||{data:{},gc:[]},E=y.lineHeight,x=b=0,Ur(g)||Wi(g)){if(Wi(g))for(h=0,m=g.length;h<m;++h)w=g[h],!Ur(w)&&!Wi(w)&&(x=vO(o,_.data,_.gc,x,w),b+=E)}else x=vO(o,_.data,_.gc,x,g),b=E;l.push(x),c.push(b),d=Math.max(x,d),p=Math.max(b,p)}!function mtt(n,t){di(n,i=>{const s=i.gc,o=s.length/2;let a;if(o>t){for(a=0;a<o;++a)delete i.data[s[a]];s.splice(0,o)}})}(a,i);const C=l.indexOf(d),P=c.indexOf(p),D=I=>({width:l[I]||0,height:c[I]||0});return{first:D(0),last:D(i-1),widest:D(C),highest:D(P),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,i){return NaN}getValueForPixel(t){}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const i=this._startPixel+t*this._length;return function XQe(n){return To(n,-32768,32767)}(this._alignToPixels?xg(this.chart,i,0):i)}getDecimalForPixel(t){const i=(t-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:i}=this;return t<0&&i<0?i:t>0&&i>0?t:0}getContext(t){const i=this.ticks||[];if(t>=0&&t<i.length){const s=i[t];return s.$context||(s.$context=function ytt(n,t,i){return Xh(n,{tick:i,index:t,type:"tick"})}(this.getContext(),t,s))}return this.$context||(this.$context=function gtt(n,t){return Xh(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,i=zu(this.labelRotation),s=Math.abs(Math.cos(i)),o=Math.abs(Math.sin(i)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,c=a?a.widest.width+l:0,u=a?a.highest.height+l:0;return this.isHorizontal()?u*s>c*o?c/s:u/o:u*o<c*s?u/s:c/o}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const i=this.axis,s=this.chart,o=this.options,{grid:a,position:l,border:c}=o,u=a.offset,d=this.isHorizontal(),f=this.ticks.length+(u?1:0),h=HE(a),m=[],g=c.setContext(this.getContext()),y=g.display?g.width:0,v=y/2,_=function(H){return xg(s,H,y)};let E,x,b,w,C,P,D,I,k,F,M,B;if("top"===l)E=_(this.bottom),P=this.bottom-h,I=E-v,F=_(t.top)+v,B=t.bottom;else if("bottom"===l)E=_(this.top),F=t.top,B=_(t.bottom)-v,P=E+v,I=this.top+h;else if("left"===l)E=_(this.right),C=this.right-h,D=E-v,k=_(t.left)+v,M=t.right;else if("right"===l)E=_(this.left),k=t.left,M=_(t.right)-v,C=E+v,D=this.left+h;else if("x"===i){if("center"===l)E=_((t.top+t.bottom)/2+.5);else if(kr(l)){const H=Object.keys(l)[0];E=_(this.chart.scales[H].getPixelForValue(l[H]))}F=t.top,B=t.bottom,P=E+v,I=P+h}else if("y"===i){if("center"===l)E=_((t.left+t.right)/2);else if(kr(l)){const H=Object.keys(l)[0];E=_(this.chart.scales[H].getPixelForValue(l[H]))}C=E-v,D=C-h,k=t.left,M=t.right}const q=dr(o.ticks.maxTicksLimit,f),ue=Math.max(1,Math.ceil(f/q));for(x=0;x<f;x+=ue){const H=this.getContext(x),ee=a.setContext(H),Q=c.setContext(H),Ee=ee.lineWidth,Te=ee.color,Ve=Q.dash||[],Pe=Q.dashOffset,de=ee.tickWidth,X=ee.tickColor,j=ee.tickBorderDash||[],R=ee.tickBorderDashOffset;b=htt(this,x,u),void 0!==b&&(w=xg(s,b,Ee),d?C=D=k=M=w:P=I=F=B=w,m.push({tx1:C,ty1:P,tx2:D,ty2:I,x1:k,y1:F,x2:M,y2:B,width:Ee,color:Te,borderDash:Ve,borderDashOffset:Pe,tickWidth:de,tickColor:X,tickBorderDash:j,tickBorderDashOffset:R}))}return this._ticksLength=f,this._borderValue=E,m}_computeLabelItems(t){const i=this.axis,s=this.options,{position:o,ticks:a}=s,l=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:d,padding:p,mirror:f}=a,h=HE(s.grid),m=h+p,g=f?-p:m,y=-zu(this.labelRotation),v=[];let _,E,x,b,w,C,P,D,I,k,F,M,B="middle";if("top"===o)C=this.bottom-g,P=this._getXAxisLabelAlignment();else if("bottom"===o)C=this.top+g,P=this._getXAxisLabelAlignment();else if("left"===o){const ue=this._getYAxisLabelAlignment(h);P=ue.textAlign,w=ue.x}else if("right"===o){const ue=this._getYAxisLabelAlignment(h);P=ue.textAlign,w=ue.x}else if("x"===i){if("center"===o)C=(t.top+t.bottom)/2+m;else if(kr(o)){const ue=Object.keys(o)[0];C=this.chart.scales[ue].getPixelForValue(o[ue])+m}P=this._getXAxisLabelAlignment()}else if("y"===i){if("center"===o)w=(t.left+t.right)/2-m;else if(kr(o)){const ue=Object.keys(o)[0];w=this.chart.scales[ue].getPixelForValue(o[ue])}P=this._getYAxisLabelAlignment(h).textAlign}"y"===i&&("start"===u?B="top":"end"===u&&(B="bottom"));const q=this._getLabelSizes();for(_=0,E=c.length;_<E;++_){x=c[_],b=x.label;const ue=a.setContext(this.getContext(_));D=this.getPixelForTick(_)+a.labelOffset,I=this._resolveTickFontOptions(_),k=I.lineHeight,F=Wi(b)?b.length:1;const H=F/2,ee=ue.color,Q=ue.textStrokeColor,Ee=ue.textStrokeWidth;let Ve,Te=P;if(l?(w=D,"inner"===P&&(Te=_===E-1?this.options.reverse?"left":"right":0===_?this.options.reverse?"right":"left":"center"),M="top"===o?"near"===d||0!==y?-F*k+k/2:"center"===d?-q.highest.height/2-H*k+k:k/2-q.highest.height:"near"===d||0!==y?k/2:"center"===d?q.highest.height/2-H*k:q.highest.height-F*k,f&&(M*=-1),0!==y&&!ue.showLabelBackdrop&&(w+=k/2*Math.sin(y))):(C=D,M=(1-F)*k/2),ue.showLabelBackdrop){const Pe=ba(ue.backdropPadding),de=q.heights[_],X=q.widths[_];let j=M-Pe.top,R=0-Pe.left;switch(B){case"middle":j-=de/2;break;case"bottom":j-=de}switch(P){case"center":R-=X/2;break;case"right":R-=X;break;case"inner":_===E-1?R-=X:_>0&&(R-=X/2)}Ve={left:R,top:j,width:X+Pe.width,height:de+Pe.height,color:ue.backdropColor}}v.push({label:b,font:I,textOffset:M,options:{rotation:y,color:ee,strokeColor:Q,strokeWidth:Ee,textAlign:Te,textBaseline:B,translation:[w,C],backdrop:Ve}})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:i}=this.options;if(-zu(this.labelRotation))return"top"===t?"left":"right";let o="center";return"start"===i.align?o="left":"end"===i.align?o="right":"inner"===i.align&&(o="inner"),o}_getYAxisLabelAlignment(t){const{position:i,ticks:{crossAlign:s,mirror:o,padding:a}}=this.options,c=t+a,u=this._getLabelSizes().widest.width;let d,p;return"left"===i?o?(p=this.right+a,"near"===s?d="left":"center"===s?(d="center",p+=u/2):(d="right",p+=u)):(p=this.right-c,"near"===s?d="right":"center"===s?(d="center",p-=u/2):(d="left",p=this.left)):"right"===i?o?(p=this.left+a,"near"===s?d="right":"center"===s?(d="center",p-=u/2):(d="left",p-=u)):(p=this.left+c,"near"===s?d="left":"center"===s?(d="center",p+=u/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,i=this.options.position;return"left"===i||"right"===i?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===i||"bottom"===i?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:i},left:s,top:o,width:a,height:l}=this;i&&(t.save(),t.fillStyle=i,t.fillRect(s,o,a,l),t.restore())}getLineWidthForValue(t){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const o=this.ticks.findIndex(a=>a.value===t);return o>=0?i.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){const i=this.options.grid,s=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const c=(u,d,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(u.x,u.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(i.display)for(a=0,l=o.length;a<l;++a){const u=o[a];i.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),i.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:i,options:{border:s,grid:o}}=this,a=s.setContext(this.getContext()),l=s.display?a.width:0;if(!l)return;const c=o.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,p,f,h;this.isHorizontal()?(d=xg(t,this.left,l)-l/2,p=xg(t,this.right,c)+c/2,f=h=u):(f=xg(t,this.top,l)-l/2,h=xg(t,this.bottom,c)+c/2,d=p=u),i.save(),i.lineWidth=a.width,i.strokeStyle=a.color,i.beginPath(),i.moveTo(d,f),i.lineTo(p,h),i.stroke(),i.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,o=this._computeLabelArea();o&&bO(s,o);const a=this.getLabelItems(t);for(const l of a)Cg(s,l.label,0,l.textOffset,l.font,l.options);o&&_O(s)}drawTitle(){const{ctx:t,options:{position:i,title:s,reverse:o}}=this;if(!s.display)return;const a=mo(s.font),l=ba(s.padding),c=s.align;let u=a.lineHeight/2;"bottom"===i||"center"===i||kr(i)?(u+=l.bottom,Wi(s.text)&&(u+=a.lineHeight*(s.text.length-1))):u+=l.top;const{titleX:d,titleY:p,maxWidth:f,rotation:h}=function btt(n,t,i,s){const{top:o,left:a,bottom:l,right:c,chart:u}=n,{chartArea:d,scales:p}=u;let h,m,g,f=0;const y=l-o,v=c-a;if(n.isHorizontal()){if(m=va(s,a,c),kr(i)){const _=Object.keys(i)[0];g=p[_].getPixelForValue(i[_])+y-t}else g="center"===i?(d.bottom+d.top)/2+y-t:Oce(n,i,t);h=c-a}else{if(kr(i)){const _=Object.keys(i)[0];m=p[_].getPixelForValue(i[_])-v+t}else m="center"===i?(d.left+d.right)/2-v+t:Oce(n,i,t);g=va(s,l,o),f="left"===i?-js:js}return{titleX:m,titleY:g,maxWidth:h,rotation:f}}(this,u,i,c);Cg(t,s.text,0,0,a,{color:s.color,maxWidth:f,rotation:h,textAlign:vtt(c,i,o),textBaseline:"middle",translation:[d,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,i=t.ticks&&t.ticks.z||0,s=dr(t.grid&&t.grid.z,-1),o=dr(t.border&&t.border.z,0);return this._isVisible()&&this.draw===kg.prototype.draw?[{z:s,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:i,draw:a=>{this.drawLabels(a)}}]:[{z:i,draw:a=>{this.draw(a)}}]}getMatchingVisibleMetas(t){const i=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",o=[];let a,l;for(a=0,l=i.length;a<l;++a){const c=i[a];c[s]===this.id&&(!t||c.type===t)&&o.push(c)}return o}_resolveTickFontOptions(t){return mo(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class DO{constructor(t,i,s){this.type=t,this.scope=i,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const i=Object.getPrototypeOf(t);let s;(function wtt(n){return"id"in n&&"defaults"in n})(i)&&(s=this.register(i));const o=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in o||(o[a]=t,function _tt(n,t,i){const s=TE(Object.create(null),[i?Ps.get(i):{},Ps.get(t),n.defaults]);Ps.set(t,s),n.defaultRoutes&&function Ett(n,t){Object.keys(t).forEach(i=>{const s=i.split("."),o=s.pop(),a=[n].concat(s).join("."),l=t[i].split("."),c=l.pop(),u=l.join(".");Ps.route(a,o,u,c)})}(t,n.defaultRoutes),n.descriptors&&Ps.describe(t,n.descriptors)}(t,l,s),this.override&&Ps.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const i=this.items,s=t.id,o=this.scope;s in i&&delete i[s],o&&s in Ps[o]&&(delete Ps[o][s],this.override&&delete wg[s])}}class xtt{constructor(){this.controllers=new DO(Zh,"datasets",!0),this.elements=new DO(sf,"elements"),this.plugins=new DO(Object,"plugins"),this.scales=new DO(kg,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,i,s){[...i].forEach(o=>{const a=s||this._getRegistryForType(o);s||a.isForType(o)||a===this.plugins&&o.id?this._exec(t,a,o):di(o,l=>{const c=s||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,i,s){const o=rL(t);Vi(s["before"+o],[],s),i[t](s),Vi(s["after"+o],[],s)}_getRegistryForType(t){for(let i=0;i<this._typedRegistries.length;i++){const s=this._typedRegistries[i];if(s.isForType(t))return s}return this.plugins}_get(t,i,s){const o=i.get(t);if(void 0===o)throw new Error('"'+t+'" is not a registered '+s+".");return o}}var zd=new xtt;class Ctt{constructor(){this._init=[]}notify(t,i,s,o){"beforeInit"===i&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=o?this._descriptors(t).filter(o):this._descriptors(t),l=this._notify(a,t,i,s);return"afterDestroy"===i&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,i,s,o){o=o||{};for(const a of t){const l=a.plugin;if(!1===Vi(l[s],[i,o,a.options],l)&&o.cancelable)return!1}return!0}invalidate(){Ur(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),i}_createDescriptors(t,i){const s=t&&t.config,o=dr(s.options&&s.options.plugins,{}),a=function Stt(n){const t={},i=[],s=Object.keys(zd.plugins.items);for(let a=0;a<s.length;a++)i.push(zd.getPlugin(s[a]));const o=n.plugins||[];for(let a=0;a<o.length;a++){const l=o[a];-1===i.indexOf(l)&&(i.push(l),t[l.id]=!0)}return{plugins:i,localIds:t}}(s);return!1!==o||i?function Ttt(n,{plugins:t,localIds:i},s,o){const a=[],l=n.getContext();for(const c of t){const u=c.id,d=Ott(s[u],o);null!==d&&a.push({plugin:c,options:Ptt(n.config,{plugin:c,local:i[u]},d,l)})}return a}(t,a,o,i):[]}_notifyStateChanges(t){const i=this._oldCache||[],s=this._cache,o=(a,l)=>a.filter(c=>!l.some(u=>c.plugin.id===u.plugin.id));this._notify(o(i,s),t,"stop"),this._notify(o(s,i),t,"start")}}function Ott(n,t){return t||!1!==n?!0===n?{}:n:null}function Ptt(n,{plugin:t,local:i},s,o){const a=n.pluginScopeKeys(t),l=n.getOptionScopes(s,a);return i&&t.defaults&&l.push(t.defaults),n.createResolver(l,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function TL(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(Ps.datasets[n]||{}).indexAxis||"x"}function kce(n){if("x"===n||"y"===n||"r"===n)return n}function Mtt(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function PL(n,...t){if(kce(n))return n;for(const i of t){const s=i.axis||Mtt(i.position)||n.length>1&&kce(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Mce(n,t,i){if(i[t+"AxisID"]===n)return{axis:t}}function Ace(n){const t=n.options||(n.options={});t.plugins=dr(t.plugins,{}),t.scales=function Itt(n,t){const i=wg[n.type]||{scales:{}},s=t.scales||{},o=TL(n.type,t),a=Object.create(null);return Object.keys(s).forEach(l=>{const c=s[l];if(!kr(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const u=PL(l,c,function Att(n,t){if(t.data&&t.data.datasets){const i=t.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(i.length)return Mce(n,"x",i[0])||Mce(n,"y",i[0])}return{}}(l,n),Ps.scales[c.type]),d=function ktt(n,t){return n===t?"_index_":"_value_"}(u,o),p=i.scales||{};a[l]=PE(Object.create(null),[{axis:u},c,p[u],p[d]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,u=l.indexAxis||TL(c,t),p=(wg[c]||{}).scales||{};Object.keys(p).forEach(f=>{const h=function Dtt(n,t){let i=n;return"_index_"===n?i=t:"_value_"===n&&(i="x"===t?"y":"x"),i}(f,u),m=l[h+"AxisID"]||h;a[m]=a[m]||Object.create(null),PE(a[m],[{axis:h},s[m],p[f]])})}),Object.keys(a).forEach(l=>{const c=a[l];PE(c,[Ps.scales[c.type],Ps.scale])}),a}(n,t)}function Ice(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const Rce=new Map,Nce=new Set;function kO(n,t){let i=Rce.get(n);return i||(i=t(),Rce.set(n,i),Nce.add(i)),i}const UE=(n,t,i)=>{const s=Gh(t,i);void 0!==s&&n.add(s)};class Ntt{constructor(t){this._config=function Rtt(n){return(n=n||{}).data=Ice(n.data),Ace(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Ice(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Ace(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return kO(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,i){return kO(`${t}.transition.${i}`,()=>[[`datasets.${t}.transitions.${i}`,`transitions.${i}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,i){return kO(`${t}-${i}`,()=>[[`datasets.${t}.elements.${i}`,`datasets.${t}`,`elements.${i}`,""]])}pluginScopeKeys(t){const i=t.id;return kO(`${this.type}-plugin-${i}`,()=>[[`plugins.${i}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,i){const s=this._scopeCache;let o=s.get(t);return(!o||i)&&(o=new Map,s.set(t,o)),o}getOptionScopes(t,i,s){const{options:o,type:a}=this,l=this._cachedScopes(t,s),c=l.get(i);if(c)return c;const u=new Set;i.forEach(p=>{t&&(u.add(t),p.forEach(f=>UE(u,t,f))),p.forEach(f=>UE(u,o,f)),p.forEach(f=>UE(u,wg[a]||{},f)),p.forEach(f=>UE(u,Ps,f)),p.forEach(f=>UE(u,uL,f))});const d=Array.from(u);return 0===d.length&&d.push(Object.create(null)),Nce.has(i)&&l.set(i,d),d}chartOptionScopes(){const{options:t,type:i}=this;return[t,wg[i]||{},Ps.datasets[i]||{},{type:i},Ps,uL]}resolveNamedOptions(t,i,s,o=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=Lce(this._resolverCache,t,o);let u=l;(function Ftt(n,t){const{isScriptable:i,isIndexable:s}=Fle(n);for(const o of t){const a=i(o),l=s(o),c=(l||a)&&n[o];if(a&&(Kh(c)||Ltt(c))||l&&Wi(c))return!0}return!1})(l,i)&&(a.$shared=!1,u=Uv(l,s=Kh(s)?s():s,this.createResolver(t,s,c)));for(const d of i)a[d]=u[d];return a}createResolver(t,i,s=[""],o){const{resolver:a}=Lce(this._resolverCache,t,s);return kr(i)?Uv(a,i,void 0,o):a}}function Lce(n,t,i){let s=n.get(t);s||(s=new Map,n.set(t,s));const o=i.join();let a=s.get(o);return a||(a={resolver:hL(t,i),subPrefixes:i.filter(c=>!c.toLowerCase().includes("hover"))},s.set(o,a)),a}const Ltt=n=>kr(n)&&Object.getOwnPropertyNames(n).some(t=>Kh(n[t])),jtt=["top","bottom","left","right","chartArea"];function Fce(n,t){return"top"===n||"bottom"===n||-1===jtt.indexOf(n)&&"x"===t}function Bce(n,t){return function(i,s){return i[n]===s[n]?i[t]-s[t]:i[n]-s[n]}}function jce(n){const t=n.chart,i=t.options.animation;t.notifyPlugins("afterRender"),Vi(i&&i.onComplete,[n],t)}function Vtt(n){const t=n.chart,i=t.options.animation;Vi(i&&i.onProgress,[n],t)}function Vce(n){return yL()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const MO={},$ce=n=>{const t=Vce(n);return Object.values(MO).filter(i=>i.canvas===t).pop()};function $tt(n,t,i){const s=Object.keys(n);for(const o of s){const a=+o;if(a>=t){const l=n[o];delete n[o],(i>0||a>t)&&(n[a+i]=l)}}}function AO(n,t,i){return n.options.clip?n[i]:t[i]}let DL=(()=>class n{static defaults=Ps;static instances=MO;static overrides=wg;static registry=zd;static version="4.4.1";static getChart=$ce;static register(...i){zd.add(...i),zce()}static unregister(...i){zd.remove(...i),zce()}constructor(i,s){const o=this.config=new Ntt(s),a=Vce(i),l=$ce(a);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||function ott(n){return!yL()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Get:stt}(a)),this.platform.updateConfig(o);const u=this.platform.acquireContext(a,c.aspectRatio),d=u&&u.canvas,p=d&&d.height,f=d&&d.width;this.id=BQe(),this.ctx=u,this.canvas=d,this.width=f,this.height=p,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ctt,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function eJe(n,t){let i;return function(...s){return t?(clearTimeout(i),i=setTimeout(n,t,s)):n.apply(this,s),t}}(h=>this.update(h),c.resizeDelay||0),this._dataChanges=[],MO[this.id]=this,u&&d?(rf.listen(this,"complete",jce),rf.listen(this,"progress",Vtt),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:i,maintainAspectRatio:s},width:o,height:a,_aspectRatio:l}=this;return Ur(i)?s&&l?l:a?o/a:null:i}get data(){return this.config.data}set data(i){this.config.data=i}get options(){return this._options}set options(i){this.config.options=i}get registry(){return zd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():qle(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Rle(this.canvas,this.ctx),this}stop(){return rf.stop(this),this}resize(i,s){rf.running(this)?this._resizeBeforeDraw={width:i,height:s}:this._resize(i,s)}_resize(i,s){const o=this.options,c=this.platform.getMaximumSize(this.canvas,i,s,o.maintainAspectRatio&&this.aspectRatio),u=o.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,qle(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),Vi(o.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){di(this.options.scales||{},(o,a)=>{o.id=a})}buildOrUpdateScales(){const i=this.options,s=i.scales,o=this.scales,a=Object.keys(o).reduce((c,u)=>(c[u]=!1,c),{});let l=[];s&&(l=l.concat(Object.keys(s).map(c=>{const u=s[c],d=PL(c,u),p="r"===d,f="x"===d;return{options:u,dposition:p?"chartArea":f?"bottom":"left",dtype:p?"radialLinear":f?"category":"linear"}}))),di(l,c=>{const u=c.options,d=u.id,p=PL(d,u),f=dr(u.type,c.dtype);(void 0===u.position||Fce(u.position,p)!==Fce(c.dposition))&&(u.position=c.dposition),a[d]=!0;let h=null;d in o&&o[d].type===f?h=o[d]:(h=new(zd.getScale(f))({id:d,type:f,ctx:this.ctx,chart:this}),o[h.id]=h),h.init(u,i)}),di(a,(c,u)=>{c||delete o[u]}),di(o,c=>{_a.configure(this,c,c.options),_a.addBox(this,c)})}_updateMetasets(){const i=this._metasets,s=this.data.datasets.length,o=i.length;if(i.sort((a,l)=>a.index-l.index),o>s){for(let a=s;a<o;++a)this._destroyDatasetMeta(a);i.splice(s,o-s)}this._sortedMetasets=i.slice(0).sort(Bce("order","index"))}_removeUnreferencedMetasets(){const{_metasets:i,data:{datasets:s}}=this;i.length>s.length&&delete this._stacks,i.forEach((o,a)=>{0===s.filter(l=>l===o._dataset).length&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const i=[],s=this.data.datasets;let o,a;for(this._removeUnreferencedMetasets(),o=0,a=s.length;o<a;o++){const l=s[o];let c=this.getDatasetMeta(o);const u=l.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(o),c=this.getDatasetMeta(o)),c.type=u,c.indexAxis=l.indexAxis||TL(u,this.options),c.order=l.order||0,c.index=o,c.label=""+l.label,c.visible=this.isDatasetVisible(o),c.controller)c.controller.updateIndex(o),c.controller.linkScales();else{const d=zd.getController(u),{datasetElementType:p,dataElementType:f}=Ps.datasets[u];Object.assign(d,{dataElementType:zd.getElement(f),datasetElementType:p&&zd.getElement(p)}),c.controller=new d(this,o),i.push(c.controller)}}return this._updateMetasets(),i}_resetElements(){di(this.data.datasets,(i,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(i){const s=this.config;s.update();const o=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:i,cancelable:!0}))return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let p=0,f=this.data.datasets.length;p<f;p++){const{controller:h}=this.getDatasetMeta(p),m=!a&&-1===l.indexOf(h);h.buildOrUpdateElements(m),c=Math.max(+h.getMaxOverflow(),c)}c=this._minPadding=o.layout.autoPadding?c:0,this._updateLayout(c),a||di(l,p=>{p.reset()}),this._updateDatasets(i),this.notifyPlugins("afterUpdate",{mode:i}),this._layers.sort(Bce("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){di(this.scales,i=>{_a.removeBox(this,i)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const i=this.options,s=new Set(Object.keys(this._listeners)),o=new Set(i.events);(!gle(s,o)||!!this._responsiveListeners!==i.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:i}=this,s=this._getUniformDataChanges()||[];for(const{method:o,start:a,count:l}of s)$tt(i,a,"_removeElements"===o?-l:l)}_getUniformDataChanges(){const i=this._dataChanges;if(!i||!i.length)return;this._dataChanges=[];const s=this.data.datasets.length,o=l=>new Set(i.filter(c=>c[0]===l).map((c,u)=>u+","+c.splice(1).join(","))),a=o(0);for(let l=1;l<s;l++)if(!gle(a,o(l)))return;return Array.from(a).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(i){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;_a.update(this,this.width,this.height,i);const s=this.chartArea,o=s.width<=0||s.height<=0;this._layers=[],di(this.boxes,a=>{o&&"chartArea"===a.position||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,l)=>{a._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(i){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})){for(let s=0,o=this.data.datasets.length;s<o;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,o=this.data.datasets.length;s<o;++s)this._updateDataset(s,Kh(i)?i({datasetIndex:s}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(i,s){const o=this.getDatasetMeta(i),a={meta:o,index:i,mode:s,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",a)&&(o.controller._update(s),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(rf.has(this)?this.attached&&!rf.running(this)&&rf.start(this):(this.draw(),jce({chart:this})))}draw(){let i;if(this._resizeBeforeDraw){const{width:o,height:a}=this._resizeBeforeDraw;this._resize(o,a),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const s=this._layers;for(i=0;i<s.length&&s[i].z<=0;++i)s[i].draw(this.chartArea);for(this._drawDatasets();i<s.length;++i)s[i].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(i){const s=this._sortedMetasets,o=[];let a,l;for(a=0,l=s.length;a<l;++a){const c=s[a];(!i||c.visible)&&o.push(c)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const i=this.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s)this._drawDataset(i[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(i){const s=this.ctx,o=i._clip,a=!o.disabled,l=function Htt(n,t){const{xScale:i,yScale:s}=n;return i&&s?{left:AO(i,t,"left"),right:AO(i,t,"right"),top:AO(s,t,"top"),bottom:AO(s,t,"bottom")}:t}(i,this.chartArea),c={meta:i,index:i.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",c)&&(a&&bO(s,{left:!1===o.left?0:l.left-o.left,right:!1===o.right?this.width:l.right+o.right,top:!1===o.top?0:l.top-o.top,bottom:!1===o.bottom?this.height:l.bottom+o.bottom}),i.controller.draw(),a&&_O(s),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}isPointInArea(i){return nf(i,this.chartArea,this._minPadding)}getElementsAtEventForMode(i,s,o,a){const l=jet.modes[s];return"function"==typeof l?l(this,i,o,a):[]}getDatasetMeta(i){const s=this.data.datasets[i],o=this._metasets;let a=o.filter(l=>l&&l._dataset===s).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:i,_dataset:s,_parsed:[],_sorted:!1},o.push(a)),a}getContext(){return this.$context||(this.$context=Xh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(i){const s=this.data.datasets[i];if(!s)return!1;const o=this.getDatasetMeta(i);return"boolean"==typeof o.hidden?!o.hidden:!s.hidden}setDatasetVisibility(i,s){this.getDatasetMeta(i).hidden=!s}toggleDataVisibility(i){this._hiddenIndices[i]=!this._hiddenIndices[i]}getDataVisibility(i){return!this._hiddenIndices[i]}_updateVisibility(i,s,o){const a=o?"show":"hide",l=this.getDatasetMeta(i),c=l.controller._resolveAnimations(void 0,a);DE(s)?(l.data[s].hidden=!o,this.update()):(this.setDatasetVisibility(i,o),c.update(l,{visible:o}),this.update(u=>u.datasetIndex===i?a:void 0))}hide(i,s){this._updateVisibility(i,s,!1)}show(i,s){this._updateVisibility(i,s,!0)}_destroyDatasetMeta(i){const s=this._metasets[i];s&&s.controller&&s.controller._destroy(),delete this._metasets[i]}_stop(){let i,s;for(this.stop(),rf.remove(this),i=0,s=this.data.datasets.length;i<s;++i)this._destroyDatasetMeta(i)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:i,ctx:s}=this;this._stop(),this.config.clearCache(),i&&(this.unbindEvents(),Rle(i,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete MO[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...i){return this.canvas.toDataURL(...i)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const i=this._listeners,s=this.platform,o=(l,c)=>{s.addEventListener(this,l,c),i[l]=c},a=(l,c,u)=>{l.offsetX=c,l.offsetY=u,this._eventHandler(l)};di(this.options.events,l=>o(l,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const i=this._responsiveListeners,s=this.platform,o=(d,p)=>{s.addEventListener(this,d,p),i[d]=p},a=(d,p)=>{i[d]&&(s.removeEventListener(this,d,p),delete i[d])},l=(d,p)=>{this.canvas&&this.resize(d,p)};let c;const u=()=>{a("attach",u),this.attached=!0,this.resize(),o("resize",l),o("detach",c)};c=()=>{this.attached=!1,a("resize",l),this._stop(),this._resize(0,0),o("attach",u)},s.isAttached(this.canvas)?u():c()}unbindEvents(){di(this._listeners,(i,s)=>{this.platform.removeEventListener(this,s,i)}),this._listeners={},di(this._responsiveListeners,(i,s)=>{this.platform.removeEventListener(this,s,i)}),this._responsiveListeners=void 0}updateHoverStyle(i,s,o){const a=o?"set":"remove";let l,c,u,d;for("dataset"===s&&(l=this.getDatasetMeta(i[0].datasetIndex),l.controller["_"+a+"DatasetHoverStyle"]()),u=0,d=i.length;u<d;++u){c=i[u];const p=c&&this.getDatasetMeta(c.datasetIndex).controller;p&&p[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(i){const s=this._active||[],o=i.map(({datasetIndex:l,index:c})=>{const u=this.getDatasetMeta(l);if(!u)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:u.data[c],index:c}});!fO(o,s)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,s))}notifyPlugins(i,s,o){return this._plugins.notify(this,i,s,o)}isPluginEnabled(i){return 1===this._plugins._cache.filter(s=>s.plugin.id===i).length}_updateHoverStyles(i,s,o){const a=this.options.hover,l=(d,p)=>d.filter(f=>!p.some(h=>f.datasetIndex===h.datasetIndex&&f.index===h.index)),c=l(s,i),u=o?i:l(i,s);c.length&&this.updateHoverStyle(c,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(i,s){const o={event:i,replay:s,cancelable:!0,inChartArea:this.isPointInArea(i)},a=c=>(c.options.events||this.options.events).includes(i.native.type);if(!1===this.notifyPlugins("beforeEvent",o,a))return;const l=this._handleEvent(i,s,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,a),(l||o.changed)&&this.render(),this}_handleEvent(i,s,o){const{_active:a=[],options:l}=this,u=this._getActiveElements(i,a,o,s),d=function UQe(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(i),p=function ztt(n,t,i,s){return i&&"mouseout"!==n.type?s?t:n:null}(i,this._lastEvent,o,d);o&&(this._lastEvent=null,Vi(l.onHover,[i,u,this],this),d&&Vi(l.onClick,[i,u,this],this));const f=!fO(u,a);return(f||s)&&(this._active=u,this._updateHoverStyles(u,a,s)),this._lastEvent=p,f}_getActiveElements(i,s,o,a){if("mouseout"===i.type)return[];if(!o)return s;const l=this.options.hover;return this.getElementsAtEventForMode(i,l.mode,l,a)}})();function zce(){return di(DL.instances,n=>n._plugins.invalidate())}function Gv(n,t,i,s){return{x:i+n*Math.cos(t),y:s+n*Math.sin(t)}}function IO(n,t,i,s,o,a){const{x:l,y:c,startAngle:u,pixelMargin:d,innerRadius:p}=t,f=Math.max(t.outerRadius+s+i-d,0),h=p>0?p+s+i+d:0;let m=0;const g=o-u;if(s){const ee=((p>0?p-s:0)+(f>0?f-s:0))/2;m=(g-(0!==ee?g*ee/(ee+s):g))/2}const v=(g-Math.max(.001,g*f-i/Gi)/f)/2,_=u+v+m,E=o-v-m,{outerStart:x,outerEnd:b,innerStart:w,innerEnd:C}=function Wtt(n,t,i,s){const o=function qtt(n){return fL(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),a=(i-t)/2,l=Math.min(a,s*t/2),c=u=>{const d=(i-Math.min(a,u))*s/2;return To(u,0,Math.min(a,d))};return{outerStart:c(o.outerStart),outerEnd:c(o.outerEnd),innerStart:To(o.innerStart,0,l),innerEnd:To(o.innerEnd,0,l)}}(t,h,f,E-_),P=f-x,D=f-b,I=_+x/P,k=E-b/D,F=h+w,M=h+C,B=_+w/F,q=E-C/M;if(n.beginPath(),a){const ue=(I+k)/2;if(n.arc(l,c,f,I,ue),n.arc(l,c,f,ue,k),b>0){const Ee=Gv(D,k,l,c);n.arc(Ee.x,Ee.y,b,k,E+js)}const H=Gv(M,E,l,c);if(n.lineTo(H.x,H.y),C>0){const Ee=Gv(M,q,l,c);n.arc(Ee.x,Ee.y,C,E+js,q+Math.PI)}const ee=(E-C/h+(_+w/h))/2;if(n.arc(l,c,h,E-C/h,ee,!0),n.arc(l,c,h,ee,_+w/h,!0),w>0){const Ee=Gv(F,B,l,c);n.arc(Ee.x,Ee.y,w,B+Math.PI,_-js)}const Q=Gv(P,_,l,c);if(n.lineTo(Q.x,Q.y),x>0){const Ee=Gv(P,I,l,c);n.arc(Ee.x,Ee.y,x,_-js,I)}}else{n.moveTo(l,c);const ue=Math.cos(I)*f+l,H=Math.sin(I)*f+c;n.lineTo(ue,H);const ee=Math.cos(k)*f+l,Q=Math.sin(k)*f+c;n.lineTo(ee,Q)}n.closePath()}function Hce(n,t,i=t){n.lineCap=dr(i.borderCapStyle,t.borderCapStyle),n.setLineDash(dr(i.borderDash,t.borderDash)),n.lineDashOffset=dr(i.borderDashOffset,t.borderDashOffset),n.lineJoin=dr(i.borderJoinStyle,t.borderJoinStyle),n.lineWidth=dr(i.borderWidth,t.borderWidth),n.strokeStyle=dr(i.borderColor,t.borderColor)}function Xtt(n,t,i){n.lineTo(i.x,i.y)}function Uce(n,t,i={}){const s=n.length,{start:o=0,end:a=s-1}=i,{start:l,end:c}=t,u=Math.max(o,l),d=Math.min(a,c);return{count:s,start:u,loop:t.loop,ilen:d<u&&!(o<l&&a<l||o>c&&a>c)?s+d-u:d-u}}function Qtt(n,t,i,s){const{points:o,options:a}=t,{count:l,start:c,loop:u,ilen:d}=Uce(o,i,s),p=function Ztt(n){return n.stepped?pJe:n.tension||"monotone"===n.cubicInterpolationMode?fJe:Xtt}(a);let m,g,y,{move:f=!0,reverse:h}=s||{};for(m=0;m<=d;++m)g=o[(c+(h?d-m:m))%l],!g.skip&&(f?(n.moveTo(g.x,g.y),f=!1):p(n,y,g,h,a.stepped),y=g);return u&&(g=o[(c+(h?d:0))%l],p(n,y,g,h,a.stepped)),!!u}function Jtt(n,t,i,s){const o=t.points,{count:a,start:l,ilen:c}=Uce(o,i,s),{move:u=!0,reverse:d}=s||{};let h,m,g,y,v,_,p=0,f=0;const E=b=>(l+(d?c-b:b))%a,x=()=>{y!==v&&(n.lineTo(p,v),n.lineTo(p,y),n.lineTo(p,_))};for(u&&(m=o[E(0)],n.moveTo(m.x,m.y)),h=0;h<=c;++h){if(m=o[E(h)],m.skip)continue;const b=m.x,w=m.y,C=0|b;C===g?(w<y?y=w:w>v&&(v=w),p=(f*p+b)/++f):(x(),n.lineTo(b,w),g=C,f=0,y=v=w),_=w}x()}function kL(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?Qtt:Jtt}const rnt="function"==typeof Path2D;let RO=(()=>class n extends sf{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:i=>"borderDash"!==i&&"fill"!==i};constructor(i){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,i&&Object.assign(this,i)}updateControlPoints(i,s){const o=this.options;!o.tension&&"monotone"!==o.cubicInterpolationMode||o.stepped||this._pointsUpdated||(FJe(this._points,o,i,o.spanGaps?this._loop:this._fullLoop,s),this._pointsUpdated=!0)}set points(i){this._points=i,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function QJe(n,t){const i=n.points,s=n.options.spanGaps,o=i.length;if(!o)return[];const a=!!n._loop,{start:l,end:c}=function XJe(n,t,i,s){let o=0,a=t-1;if(i&&!s)for(;o<t&&!n[o].skip;)o++;for(;o<t&&n[o].skip;)o++;for(o%=t,i&&(a+=o);a>o&&n[a%t].skip;)a--;return a%=t,{start:o,end:a}}(i,o,a,s);return function Jle(n,t,i,s){return s&&s.setContext&&i?function JJe(n,t,i,s){const o=n._chart.getContext(),a=ece(n.options),{_datasetIndex:l,options:{spanGaps:c}}=n,u=i.length,d=[];let p=a,f=t[0].start,h=f;function m(g,y,v,_){const E=c?-1:1;if(g!==y){for(g+=u;i[g%u].skip;)g-=E;for(;i[y%u].skip;)y+=E;g%u!=y%u&&(d.push({start:g%u,end:y%u,loop:v,style:_}),p=_,f=y%u)}}for(const g of t){f=c?f:g.start;let v,y=i[f%u];for(h=f+1;h<=g.end;h++){const _=i[h%u];v=ece(s.setContext(Xh(o,{type:"segment",p0:y,p1:_,p0DataIndex:(h-1)%u,p1DataIndex:h%u,datasetIndex:l}))),eet(v,p)&&m(f,h-1,g.loop,p),y=_,p=v}f<h-1&&m(f,h-1,g.loop,p)}return d}(n,t,i,s):t}(n,!0===s?[{start:l,end:c,loop:a}]:function ZJe(n,t,i,s){const o=n.length,a=[];let u,l=t,c=n[t];for(u=t+1;u<=i;++u){const d=n[u%o];d.skip||d.stop?c.skip||(a.push({start:t%o,end:(u-1)%o,loop:s=!1}),t=l=d.stop?u:null):(l=u,c.skip&&(t=u)),c=d}return null!==l&&a.push({start:t%o,end:l%o,loop:s}),a}(i,l,c<l?c+o:c,!!n._fullLoop&&0===l&&c===o-1),i,t)}(this,this.options.segment))}first(){const i=this.segments;return i.length&&this.points[i[0].start]}last(){const i=this.segments,o=i.length;return o&&this.points[i[o-1].end]}interpolate(i,s){const o=this.options,a=i[s],l=this.points,c=Qle(this,{property:s,start:a,end:a});if(!c.length)return;const u=[],d=function ent(n){return n.stepped?qJe:n.tension||"monotone"===n.cubicInterpolationMode?WJe:Pg}(o);let p,f;for(p=0,f=c.length;p<f;++p){const{start:h,end:m}=c[p],g=l[h],y=l[m];if(g===y){u.push(g);continue}const _=d(g,y,Math.abs((a-g[s])/(y[s]-g[s])),o.stepped);_[s]=i[s],u.push(_)}return 1===u.length?u[0]:u}pathSegment(i,s,o){return kL(this)(i,this,s,o)}path(i,s,o){const a=this.segments,l=kL(this);let c=this._loop;s=s||0,o=o||this.points.length-s;for(const u of a)c&=l(i,this,u,{start:s,end:s+o-1});return!!c}draw(i,s,o,a){(this.points||[]).length&&(this.options||{}).borderWidth&&(i.save(),function int(n,t,i,s){rnt&&!t.options.segment?function tnt(n,t,i,s){let o=t._path;o||(o=t._path=new Path2D,t.path(o,i,s)&&o.closePath()),Hce(n,t.options),n.stroke(o)}(n,t,i,s):function nnt(n,t,i,s){const{segments:o,options:a}=t,l=kL(t);for(const c of o)Hce(n,a,c.style),n.beginPath(),l(n,t,c,{start:i,end:i+s-1})&&n.closePath(),n.stroke()}(n,t,i,s)}(i,this,o,a),i.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function qce(n,t,i,s){const o=n.options,{[i]:a}=n.getProps([i],s);return Math.abs(t-a)<o.radius+o.hitRadius}let snt=(()=>class n extends sf{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(i){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,s,o){const a=this.options,{x:l,y:c}=this.getProps(["x","y"],o);return Math.pow(i-l,2)+Math.pow(s-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(i,s){return qce(this,i,"x",s)}inYRange(i,s){return qce(this,i,"y",s)}getCenterPoint(i){const{x:s,y:o}=this.getProps(["x","y"],i);return{x:s,y:o}}size(i){let s=(i=i||this.options||{}).radius||0;return s=Math.max(s,s&&i.hoverRadius||0),2*(s+(s&&i.borderWidth||0))}draw(i,s){const o=this.options;this.skip||o.radius<.1||!nf(this,s,this.size(o)/2)||(i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.fillStyle=o.backgroundColor,pL(i,o,this.x,this.y))}getRange(){const i=this.options||{};return i.radius+i.hitRadius}})();function Wce(n,t){const{x:i,y:s,base:o,width:a,height:l}=n.getProps(["x","y","base","width","height"],t);let c,u,d,p,f;return n.horizontal?(f=l/2,c=Math.min(i,o),u=Math.max(i,o),d=s-f,p=s+f):(f=a/2,c=i-f,u=i+f,d=Math.min(s,o),p=Math.max(s,o)),{left:c,top:d,right:u,bottom:p}}function Qh(n,t,i,s){return n?0:To(t,i,s)}function ML(n,t,i,s){const o=null===t,a=null===i,c=n&&!(o&&a)&&Wce(n,s);return c&&(o||ef(t,c.left,c.right))&&(a||ef(i,c.top,c.bottom))}function unt(n,t){n.rect(t.x,t.y,t.w,t.h)}function AL(n,t,i={}){const s=n.x!==i.x?-t:0,o=n.y!==i.y?-t:0;return{x:n.x+s,y:n.y+o,w:n.w+((n.x+n.w!==i.x+i.w?t:0)-s),h:n.h+((n.y+n.h!==i.y+i.h?t:0)-o),radius:n.radius}}var pnt=Object.freeze({__proto__:null,ArcElement:class Ytt extends sf{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,s){const o=this.getProps(["x","y"],s),{angle:a,distance:l}=Ele(o,{x:t,y:i}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:p,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),h=(this.options.spacing+this.options.borderWidth)/2,g=dr(f,u-c)>=Ki||ME(a,c,u),y=ef(l,d+h,p+h);return g&&y}getCenterPoint(t){const{x:i,y:s,startAngle:o,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:d}=this.options,p=(o+a)/2,f=(l+c+d+u)/2;return{x:i+Math.cos(p)*f,y:s+Math.sin(p)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:s}=this,o=(i.offset||0)/4,a=(i.spacing||0)/2,l=i.circular;if(this.pixelMargin="inner"===i.borderAlign?.33:0,this.fullCircles=s>Ki?Math.floor(s/Ki):0,0===s||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*o,Math.sin(c)*o);const d=o*(1-Math.sin(Math.min(Gi,s||0)));t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,function Gtt(n,t,i,s,o){const{fullCircles:a,startAngle:l,circumference:c}=t;let u=t.endAngle;if(a){IO(n,t,i,s,u,o);for(let d=0;d<a;++d)n.fill();isNaN(c)||(u=l+(c%Ki||Ki))}IO(n,t,i,s,u,o),n.fill()}(t,this,d,a,l),function Ktt(n,t,i,s,o){const{fullCircles:a,startAngle:l,circumference:c,options:u}=t,{borderWidth:d,borderJoinStyle:p,borderDash:f,borderDashOffset:h}=u,m="inner"===u.borderAlign;if(!d)return;n.setLineDash(f||[]),n.lineDashOffset=h,m?(n.lineWidth=2*d,n.lineJoin=p||"round"):(n.lineWidth=d,n.lineJoin=p||"bevel");let g=t.endAngle;if(a){IO(n,t,i,s,g,o);for(let y=0;y<a;++y)n.stroke();isNaN(c)||(g=l+(c%Ki||Ki))}m&&function Utt(n,t,i){const{startAngle:s,pixelMargin:o,x:a,y:l,outerRadius:c,innerRadius:u}=t;let d=o/c;n.beginPath(),n.arc(a,l,c,s-d,i+d),u>o?(d=o/u,n.arc(a,l,u,i+d,s-d,!0)):n.arc(a,l,o,i+js,s-js),n.closePath(),n.clip()}(n,t,g),a||(IO(n,t,i,s,g,o),n.stroke())}(t,this,d,a,l),t.restore()}},BarElement:class dnt extends sf{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:i,options:{borderColor:s,backgroundColor:o}}=this,{inner:a,outer:l}=function lnt(n){const t=Wce(n),i=t.right-t.left,s=t.bottom-t.top,o=function ont(n,t,i){const o=n.borderSkipped,a=Lle(n.options.borderWidth);return{t:Qh(o.top,a.top,0,i),r:Qh(o.right,a.right,0,t),b:Qh(o.bottom,a.bottom,0,i),l:Qh(o.left,a.left,0,t)}}(n,i/2,s/2),a=function ant(n,t,i){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),o=n.options.borderRadius,a=Sg(o),l=Math.min(t,i),c=n.borderSkipped,u=s||kr(o);return{topLeft:Qh(!u||c.top||c.left,a.topLeft,0,l),topRight:Qh(!u||c.top||c.right,a.topRight,0,l),bottomLeft:Qh(!u||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:Qh(!u||c.bottom||c.right,a.bottomRight,0,l)}}(n,i/2,s/2);return{outer:{x:t.left,y:t.top,w:i,h:s,radius:a},inner:{x:t.left+o.l,y:t.top+o.t,w:i-o.l-o.r,h:s-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}(this),c=function cnt(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(l.radius)?NE:unt;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),c(t,AL(l,i,a)),t.clip(),c(t,AL(a,-i,l)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),c(t,AL(a,i)),t.fillStyle=o,t.fill(),t.restore()}inRange(t,i,s){return ML(this,t,i,s)}inXRange(t,i){return ML(this,t,null,i)}inYRange(t,i){return ML(this,null,t,i)}getCenterPoint(t){const{x:i,y:s,base:o,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(i+o)/2:i,y:a?s:(s+o)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:RO,PointElement:snt});const IL=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Gce=IL.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Kce(n){return IL[n%IL.length]}function Yce(n){return Gce[n%Gce.length]}function Xce(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}var Zce={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,i){if(!i.enabled)return;const{data:{datasets:s},options:o}=n.config,{elements:a}=o;if(!i.forceOverride&&(Xce(s)||function ynt(n){return n&&(n.borderColor||n.backgroundColor)}(o)||a&&Xce(a)))return;const l=function gnt(n){let t=0;return(i,s)=>{const o=n.getDatasetMeta(s).controller;o instanceof wL?t=function hnt(n,t){return n.backgroundColor=n.data.map(()=>Kce(t++)),t}(i,t):o instanceof hce?t=function mnt(n,t){return n.backgroundColor=n.data.map(()=>Yce(t++)),t}(i,t):o&&(t=function fnt(n,t){return n.borderColor=Kce(t),n.backgroundColor=Yce(t),++t}(i,t))}}(n);s.forEach(l)}};function Qce(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Jce(n){n.data.datasets.forEach(t=>{Qce(t)})}var Ent={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,i)=>{if(!i.enabled)return void Jce(n);const s=n.width;n.data.datasets.forEach((o,a)=>{const{_data:l,indexAxis:c}=o,u=n.getDatasetMeta(a),d=l||o.data;if("y"===LE([c,n.options.indexAxis])||!u.controller.supportsDecimation)return;const p=n.scales[u.xAxisID];if("linear"!==p.type&&"time"!==p.type||n.options.parsing)return;let g,{start:f,count:h}=function _nt(n,t){const i=t.length;let o,s=0;const{iScale:a}=n,{min:l,max:c,minDefined:u,maxDefined:d}=a.getUserBounds();return u&&(s=To(tf(t,a.axis,l).lo,0,i-1)),o=d?To(tf(t,a.axis,c).hi+1,s,i)-s:i-s,{start:s,count:o}}(u,d);if(h<=(i.threshold||4*s))Qce(o);else{switch(Ur(l)&&(o._data=d,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}})),i.algorithm){case"lttb":g=function vnt(n,t,i,s,o){const a=o.samples||s;if(a>=i)return n.slice(t,t+i);const l=[],c=(i-2)/(a-2);let u=0;const d=t+i-1;let f,h,m,g,y,p=t;for(l[u++]=n[p],f=0;f<a-2;f++){let E,v=0,_=0;const x=Math.floor((f+1)*c)+1+t,b=Math.min(Math.floor((f+2)*c)+1,i)+t,w=b-x;for(E=x;E<b;E++)v+=n[E].x,_+=n[E].y;v/=w,_/=w;const C=Math.floor(f*c)+1+t,P=Math.min(Math.floor((f+1)*c)+1,i)+t,{x:D,y:I}=n[p];for(m=g=-1,E=C;E<P;E++)g=.5*Math.abs((D-v)*(n[E].y-I)-(D-n[E].x)*(_-I)),g>m&&(m=g,h=n[E],y=E);l[u++]=h,p=y}return l[u++]=n[d],l}(d,f,h,s,i);break;case"min-max":g=function bnt(n,t,i,s){let l,c,u,d,p,f,h,m,g,y,o=0,a=0;const v=[],E=n[t].x,b=n[t+i-1].x-E;for(l=t;l<t+i;++l){c=n[l],u=(c.x-E)/b*s,d=c.y;const w=0|u;if(w===p)d<g?(g=d,f=l):d>y&&(y=d,h=l),o=(a*o+c.x)/++a;else{const C=l-1;if(!Ur(f)&&!Ur(h)){const P=Math.min(f,h),D=Math.max(f,h);P!==m&&P!==C&&v.push({...n[P],x:o}),D!==m&&D!==C&&v.push({...n[D],x:o})}l>0&&C!==m&&v.push(n[C]),v.push(c),p=w,a=0,g=y=d,f=h=m=l}}return v}(d,f,h,s);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}o._decimated=g}})},destroy(n){Jce(n)}};function RL(n,t,i,s){if(s)return;let o=t[n],a=i[n];return"angle"===n&&(o=cc(o),a=cc(a)),{property:n,start:o,end:a}}function NL(n,t,i){for(;t>n;t--){const s=i[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function eue(n,t,i,s){return n&&t?s(n[i],t[i]):n?n[i]:t?t[i]:0}function tue(n,t){let i=[],s=!1;return Wi(n)?(s=!0,i=n):i=function xnt(n,t){const{x:i=null,y:s=null}=n||{},o=t.points,a=[];return t.segments.forEach(({start:l,end:c})=>{c=NL(l,c,o);const u=o[l],d=o[c];null!==s?(a.push({x:u.x,y:s}),a.push({x:d.x,y:s})):null!==i&&(a.push({x:i,y:u.y}),a.push({x:i,y:d.y}))}),a}(n,t),i.length?new RO({points:i,options:{tension:0},_loop:s,_fullLoop:s}):null}function nue(n){return n&&!1!==n.fill}function Cnt(n,t,i){let o=n[t].fill;const a=[t];let l;if(!i)return o;for(;!1!==o&&-1===a.indexOf(o);){if(!Ts(o))return o;if(l=n[o],!l)return!1;if(l.visible)return o;a.push(o),o=l.fill}return!1}function Snt(n,t,i){const s=function Dnt(n){const t=n.options,i=t.fill;let s=dr(i&&i.target,i);return void 0===s&&(s=!!t.backgroundColor),!1!==s&&null!==s&&(!0===s?"origin":s)}(n);if(kr(s))return!isNaN(s.value)&&s;let o=parseFloat(s);return Ts(o)&&Math.floor(o)===o?function Ont(n,t,i,s){return("-"===n||"+"===n)&&(i=t+i),!(i===t||i<0||i>=s)&&i}(s[0],t,o,i):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function Ant(n,t,i){const s=[];for(let o=0;o<i.length;o++){const a=i[o],{first:l,last:c,point:u}=Int(a,t,"x");if(!(!u||l&&c))if(l)s.unshift(u);else if(n.push(u),!c)break}n.push(...s)}function Int(n,t,i){const s=n.interpolate(t,i);if(!s)return{};const o=s[i],a=n.segments,l=n.points;let c=!1,u=!1;for(let d=0;d<a.length;d++){const p=a[d],f=l[p.start][i],h=l[p.end][i];if(ef(o,f,h)){c=o===f,u=o===h;break}}return{first:c,last:u,point:s}}class rue{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,i,s){const{x:o,y:a,radius:l}=this;return t.arc(o,a,l,(i=i||{start:0,end:Ki}).end,i.start,!0),!s.bounds}interpolate(t){const{x:i,y:s,radius:o}=this,a=t.angle;return{x:i+Math.cos(a)*o,y:s+Math.sin(a)*o,angle:a}}}function LL(n,t,i){const s=function Rnt(n){const{chart:t,fill:i,line:s}=n;if(Ts(i))return function Nnt(n,t){const i=n.getDatasetMeta(t);return i&&n.isDatasetVisible(t)?i.dataset:null}(t,i);if("stack"===i)return function knt(n){const{scale:t,index:i,line:s}=n,o=[],a=s.segments,l=s.points,c=function Mnt(n,t){const i=[],s=n.getMatchingVisibleMetas("line");for(let o=0;o<s.length;o++){const a=s[o];if(a.index===t)break;a.hidden||i.unshift(a.dataset)}return i}(t,i);c.push(tue({x:null,y:t.bottom},s));for(let u=0;u<a.length;u++){const d=a[u];for(let p=d.start;p<=d.end;p++)Ant(o,l[p],c)}return new RO({points:o,options:{}})}(n);if("shape"===i)return!0;const o=function Lnt(n){return(n.scale||{}).getPointPositionForValue?function Bnt(n){const{scale:t,fill:i}=n,s=t.options,o=t.getLabels().length,a=s.reverse?t.max:t.min,l=function Pnt(n,t,i){let s;return s="start"===n?i:"end"===n?t.options.reverse?t.min:t.max:kr(n)?n.value:t.getBaseValue(),s}(i,t,a),c=[];if(s.grid.circular){const u=t.getPointPositionForValue(0,a);return new rue({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(l)})}for(let u=0;u<o;++u)c.push(t.getPointPositionForValue(u,l));return c}(n):function Fnt(n){const{scale:t={},fill:i}=n,s=function Tnt(n,t){let i=null;return"start"===n?i=t.bottom:"end"===n?i=t.top:kr(n)?i=t.getPixelForValue(n.value):t.getBasePixel&&(i=t.getBasePixel()),i}(i,t);if(Ts(s)){const o=t.isHorizontal();return{x:o?s:null,y:o?null:s}}return null}(n)}(n);return o instanceof rue?o:tue(o,s)}(t),{line:o,scale:a,axis:l}=t,c=o.options,u=c.fill,d=c.backgroundColor,{above:p=d,below:f=d}=u||{};s&&o.points.length&&(bO(n,i),function jnt(n,t){const{line:i,target:s,above:o,below:a,area:l,scale:c}=t,u=i._loop?"angle":t.axis;n.save(),"x"===u&&a!==o&&(iue(n,s,l.top),sue(n,{line:i,target:s,color:o,scale:c,property:u}),n.restore(),n.save(),iue(n,s,l.bottom)),sue(n,{line:i,target:s,color:a,scale:c,property:u}),n.restore()}(n,{line:o,target:s,above:p,below:f,area:i,scale:a,axis:l}),_O(n))}function iue(n,t,i){const{segments:s,points:o}=t;let a=!0,l=!1;n.beginPath();for(const c of s){const{start:u,end:d}=c,p=o[u],f=o[NL(u,d,o)];a?(n.moveTo(p.x,p.y),a=!1):(n.lineTo(p.x,i),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,c,{move:l}),l?n.closePath():n.lineTo(f.x,i)}n.lineTo(t.first().x,i),n.closePath(),n.clip()}function sue(n,t){const{line:i,target:s,property:o,color:a,scale:l}=t,c=function wnt(n,t,i){const s=n.segments,o=n.points,a=t.points,l=[];for(const c of s){let{start:u,end:d}=c;d=NL(u,d,o);const p=RL(i,o[u],o[d],c.loop);if(!t.segments){l.push({source:c,target:p,start:o[u],end:o[d]});continue}const f=Qle(t,p);for(const h of f){const m=RL(i,a[h.start],a[h.end],h.loop),g=Zle(c,o,m);for(const y of g)l.push({source:y,target:h,start:{[i]:eue(p,m,"start",Math.max)},end:{[i]:eue(p,m,"end",Math.min)}})}}return l}(i,s,o);for(const{source:u,target:d,start:p,end:f}of c){const{style:{backgroundColor:h=a}={}}=u,m=!0!==s;n.save(),n.fillStyle=h,Vnt(n,l,m&&RL(o,p,f)),n.beginPath();const g=!!i.pathSegment(n,u);let y;if(m){g?n.closePath():oue(n,s,f,o);const v=!!s.pathSegment(n,d,{move:g,reverse:!0});y=g&&v,y||oue(n,s,p,o)}n.closePath(),n.fill(y?"evenodd":"nonzero"),n.restore()}}function Vnt(n,t,i){const{top:s,bottom:o}=t.chart.chartArea,{property:a,start:l,end:c}=i||{};"x"===a&&(n.beginPath(),n.rect(l,s,c-l,o-s),n.clip())}function oue(n,t,i,s){const o=t.interpolate(i,s);o&&n.lineTo(o.x,o.y)}var $nt={id:"filler",afterDatasetsUpdate(n,t,i){const s=(n.data.datasets||[]).length,o=[];let a,l,c,u;for(l=0;l<s;++l)a=n.getDatasetMeta(l),c=a.dataset,u=null,c&&c.options&&c instanceof RO&&(u={visible:n.isDatasetVisible(l),index:l,fill:Snt(c,l,s),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=u,o.push(u);for(l=0;l<s;++l)u=o[l],u&&!1!==u.fill&&(u.fill=Cnt(o,l,i.propagate))},beforeDraw(n,t,i){const s="beforeDraw"===i.drawTime,o=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let l=o.length-1;l>=0;--l){const c=o[l].$filler;c&&(c.line.updateControlPoints(a,c.axis),s&&c.fill&&LL(n.ctx,c,a))}},beforeDatasetsDraw(n,t,i){if("beforeDatasetsDraw"!==i.drawTime)return;const s=n.getSortedVisibleDatasetMetas();for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;nue(a)&&LL(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,t,i){const s=t.meta.$filler;!nue(s)||"beforeDatasetDraw"!==i.drawTime||LL(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const aue=(n,t)=>{let{boxHeight:i=t,boxWidth:s=t}=n;return n.usePointStyle&&(i=Math.min(i,t),s=n.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:i,itemHeight:Math.max(t,i)}};class lue extends sf{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i,s){this.maxWidth=t,this.maxHeight=i,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let i=Vi(t.generateLabels,[this.chart],this)||[];t.filter&&(i=i.filter(s=>t.filter(s,this.chart.data))),t.sort&&(i=i.sort((s,o)=>t.sort(s,o,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:t,ctx:i}=this;if(!t.display)return void(this.width=this.height=0);const s=t.labels,o=mo(s.font),a=o.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=aue(s,a);let d,p;i.font=o.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(l,a,c,u)+10):(p=this.maxHeight,d=this._fitCols(l,o,c,u)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,i,s,o){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],p=o+c;let f=t;a.textAlign="left",a.textBaseline="middle";let h=-1,m=-p;return this.legendItems.forEach((g,y)=>{const v=s+i/2+a.measureText(g.text).width;(0===y||d[d.length-1]+v+2*c>l)&&(f+=p,d[d.length-(y>0?0:1)]=0,m+=p,h++),u[y]={left:0,top:m,row:h,width:v,height:o},d[d.length-1]+=v+c}),f}_fitCols(t,i,s,o){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],p=l-t;let f=c,h=0,m=0,g=0,y=0;return this.legendItems.forEach((v,_)=>{const{itemWidth:E,itemHeight:x}=function Hnt(n,t,i,s,o){const a=function Unt(n,t,i,s){let o=n.text;return o&&"string"!=typeof o&&(o=o.reduce((a,l)=>a.length>l.length?a:l)),t+i.size/2+s.measureText(o).width}(s,n,t,i),l=function qnt(n,t,i){let s=n;return"string"!=typeof t.text&&(s=cue(t,i)),s}(o,s,t.lineHeight);return{itemWidth:a,itemHeight:l}}(s,i,a,v,o);_>0&&m+x+2*c>p&&(f+=h+c,d.push({width:h,height:m}),g+=h+c,y++,h=m=0),u[_]={left:g,top:m,col:y,width:E,height:x},h=Math.max(h,E),m+=x+c}),f+=h,d.push({width:h,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:s,labels:{padding:o},rtl:a}}=this,l=Wv(a,this.left,this.width);if(this.isHorizontal()){let c=0,u=va(s,this.left+o,this.right-this.lineWidths[c]);for(const d of i)c!==d.row&&(c=d.row,u=va(s,this.left+o,this.right-this.lineWidths[c])),d.top+=this.top+t+o,d.left=l.leftForLtr(l.x(u),d.width),u+=d.width+o}else{let c=0,u=va(s,this.top+t+o,this.bottom-this.columnSizes[c].height);for(const d of i)d.col!==c&&(c=d.col,u=va(s,this.top+t+o,this.bottom-this.columnSizes[c].height)),d.top=u,d.left+=this.left+o,d.left=l.leftForLtr(l.x(d.left),d.width),u+=d.height+o}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;bO(t,this),this._draw(),_O(t)}}_draw(){const{options:t,columnSizes:i,lineWidths:s,ctx:o}=this,{align:a,labels:l}=t,c=Ps.color,u=Wv(t.rtl,this.left,this.width),d=mo(l.font),{padding:p}=l,f=d.size,h=f/2;let m;this.drawTitle(),o.textAlign=u.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=d.string;const{boxWidth:g,boxHeight:y,itemHeight:v}=aue(l,f),x=this.isHorizontal(),b=this._computeTitleHeight();m=x?{x:va(a,this.left+p,this.right-s[0]),y:this.top+p+b,line:0}:{x:this.left+p,y:va(a,this.top+b+p,this.bottom-i[0].height),line:0},Gle(this.ctx,t.textDirection);const w=v+p;this.legendItems.forEach((C,P)=>{o.strokeStyle=C.fontColor,o.fillStyle=C.fontColor;const D=o.measureText(C.text).width,I=u.textAlign(C.textAlign||(C.textAlign=l.textAlign)),k=g+h+D;let F=m.x,M=m.y;u.setWidth(this.width),x?P>0&&F+k+p>this.right&&(M=m.y+=w,m.line++,F=m.x=va(a,this.left+p,this.right-s[m.line])):P>0&&M+w>this.bottom&&(F=m.x=F+i[m.line].width+p,m.line++,M=m.y=va(a,this.top+b+p,this.bottom-i[m.line].height)),function(C,P,D){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;o.save();const I=dr(D.lineWidth,1);if(o.fillStyle=dr(D.fillStyle,c),o.lineCap=dr(D.lineCap,"butt"),o.lineDashOffset=dr(D.lineDashOffset,0),o.lineJoin=dr(D.lineJoin,"miter"),o.lineWidth=I,o.strokeStyle=dr(D.strokeStyle,c),o.setLineDash(dr(D.lineDash,[])),l.usePointStyle){const k={radius:y*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:I},F=u.xPlus(C,g/2);Nle(o,k,F,P+h,l.pointStyleWidth&&g)}else{const k=P+Math.max((f-y)/2,0),F=u.leftForLtr(C,g),M=Sg(D.borderRadius);o.beginPath(),Object.values(M).some(B=>0!==B)?NE(o,{x:F,y:k,w:g,h:y,radius:M}):o.rect(F,k,g,y),o.fill(),0!==I&&o.stroke()}o.restore()}(u.x(F),M,C),F=((n,t,i,s)=>n===(s?"left":"right")?i:"center"===n?(t+i)/2:t)(I,F+g+h,x?F+k:this.right,t.rtl),function(C,P,D){Cg(o,D.text,C,P+v/2,d,{strikethrough:D.hidden,textAlign:u.textAlign(D.textAlign)})}(u.x(F),M,C),x?m.x+=k+p:m.y+="string"!=typeof C.text?cue(C,d.lineHeight)+p:w}),Kle(this.ctx,t.textDirection)}drawTitle(){const t=this.options,i=t.title,s=mo(i.font),o=ba(i.padding);if(!i.display)return;const a=Wv(t.rtl,this.left,this.width),l=this.ctx,c=i.position,d=o.top+s.size/2;let p,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),p=this.top+d,f=va(t.align,f,this.right-h);else{const g=this.columnSizes.reduce((y,v)=>Math.max(y,v.height),0);p=d+va(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const m=va(c,f,f+h);l.textAlign=a.textAlign(aL(c)),l.textBaseline="middle",l.strokeStyle=i.color,l.fillStyle=i.color,l.font=s.string,Cg(l,i.text,m,p,s)}_computeTitleHeight(){const t=this.options.title,i=mo(t.font),s=ba(t.padding);return t.display?i.lineHeight+s.height:0}_getLegendItemAt(t,i){let s,o,a;if(ef(t,this.left,this.right)&&ef(i,this.top,this.bottom))for(a=this.legendHitBoxes,s=0;s<a.length;++s)if(o=a[s],ef(t,o.left,o.left+o.width)&&ef(i,o.top,o.top+o.height))return this.legendItems[s];return null}handleEvent(t){const i=this.options;if(!function Wnt(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,i))return;const s=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const o=this._hoveredItem,a=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(o,s);o&&!a&&Vi(i.onLeave,[t,o,this],this),this._hoveredItem=s,s&&!a&&Vi(i.onHover,[t,s,this],this)}else s&&Vi(i.onClick,[t,s,this],this)}}function cue(n,t){return t*(n.text?n.text.length:0)}var Gnt={id:"legend",_element:lue,start(n,t,i){const s=n.legend=new lue({ctx:n.ctx,options:i,chart:n});_a.configure(n,s,i),_a.addBox(n,s)},stop(n){_a.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,i){const s=n.legend;_a.configure(n,s,i),s.options=i},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,i){const s=t.datasetIndex,o=i.chart;o.isDatasetVisible(s)?(o.hide(s),t.hidden=!0):(o.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:i,pointStyle:s,textAlign:o,color:a,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(i?0:void 0),p=ba(d.borderWidth);return{text:t[u.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:o||d.textAlign,borderRadius:l&&(c||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class FL extends sf{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=i;const o=Wi(s.text)?s.text.length:1;this._padding=ba(s.padding);const a=o*mo(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:i,left:s,bottom:o,right:a,options:l}=this,c=l.align;let d,p,f,u=0;return this.isHorizontal()?(p=va(c,s,a),f=i+t,d=a-s):("left"===l.position?(p=s+t,f=va(c,o,i),u=-.5*Gi):(p=a-t,f=va(c,i,o),u=.5*Gi),d=o-i),{titleX:p,titleY:f,maxWidth:d,rotation:u}}draw(){const t=this.ctx,i=this.options;if(!i.display)return;const s=mo(i.font),a=s.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:u,rotation:d}=this._drawArgs(a);Cg(t,i.text,0,0,s,{color:i.color,maxWidth:u,rotation:d,textAlign:aL(i.align),textBaseline:"middle",translation:[l,c]})}}var Ynt={id:"title",_element:FL,start(n,t,i){!function Knt(n,t){const i=new FL({ctx:n.ctx,options:t,chart:n});_a.configure(n,i,t),_a.addBox(n,i),n.titleBlock=i}(n,i)},stop(n){_a.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,i){const s=n.titleBlock;_a.configure(n,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const NO=new WeakMap;var Xnt={id:"subtitle",start(n,t,i){const s=new FL({ctx:n.ctx,options:i,chart:n});_a.configure(n,s,i),_a.addBox(n,s),NO.set(n,s)},stop(n){_a.removeBox(n,NO.get(n)),NO.delete(n)},beforeUpdate(n,t,i){const s=NO.get(n);_a.configure(n,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qE={average(n){if(!n.length)return!1;let t,i,s=0,o=0,a=0;for(t=0,i=n.length;t<i;++t){const l=n[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();s+=c.x,o+=c.y,++a}}return{x:s/a,y:o/a}},nearest(n,t){if(!n.length)return!1;let a,l,c,i=t.x,s=t.y,o=Number.POSITIVE_INFINITY;for(a=0,l=n.length;a<l;++a){const u=n[a].element;if(u&&u.hasValue()){const p=sL(t,u.getCenterPoint());p<o&&(o=p,c=u)}}if(c){const u=c.tooltipPosition();i=u.x,s=u.y}return{x:i,y:s}}};function Hd(n,t){return t&&(Wi(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function af(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function Znt(n,t){const{element:i,datasetIndex:s,index:o}=t,a=n.getDatasetMeta(s).controller,{label:l,value:c}=a.getLabelAndValue(o);return{chart:n,label:l,parsed:a.getParsed(o),raw:n.data.datasets[s].data[o],formattedValue:c,dataset:a.getDataset(),dataIndex:o,datasetIndex:s,element:i}}function uue(n,t){const i=n.chart.ctx,{body:s,footer:o,title:a}=n,{boxWidth:l,boxHeight:c}=t,u=mo(t.bodyFont),d=mo(t.titleFont),p=mo(t.footerFont),f=a.length,h=o.length,m=s.length,g=ba(t.padding);let y=g.height,v=0,_=s.reduce((b,w)=>b+w.before.length+w.lines.length+w.after.length,0);_+=n.beforeBody.length+n.afterBody.length,f&&(y+=f*d.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),_&&(y+=m*(t.displayColors?Math.max(c,u.lineHeight):u.lineHeight)+(_-m)*u.lineHeight+(_-1)*t.bodySpacing),h&&(y+=t.footerMarginTop+h*p.lineHeight+(h-1)*t.footerSpacing);let E=0;const x=function(b){v=Math.max(v,i.measureText(b).width+E)};return i.save(),i.font=d.string,di(n.title,x),i.font=u.string,di(n.beforeBody.concat(n.afterBody),x),E=t.displayColors?l+2+t.boxPadding:0,di(s,b=>{di(b.before,x),di(b.lines,x),di(b.after,x)}),E=0,i.font=p.string,di(n.footer,x),i.restore(),v+=g.width,{width:v,height:y}}function ert(n,t,i,s){const{x:o,width:a}=i,{width:l,chartArea:{left:c,right:u}}=n;let d="center";return"center"===s?d=o<=(c+u)/2?"left":"right":o<=a/2?d="left":o>=l-a/2&&(d="right"),function Jnt(n,t,i,s){const{x:o,width:a}=s,l=i.caretSize+i.caretPadding;if("left"===n&&o+a+l>t.width||"right"===n&&o-a-l<0)return!0}(d,n,t,i)&&(d="center"),d}function due(n,t,i){const s=i.yAlign||t.yAlign||function Qnt(n,t){const{y:i,height:s}=t;return i<s/2?"top":i>n.height-s/2?"bottom":"center"}(n,i);return{xAlign:i.xAlign||t.xAlign||ert(n,t,i,s),yAlign:s}}function pue(n,t,i,s){const{caretSize:o,caretPadding:a,cornerRadius:l}=n,{xAlign:c,yAlign:u}=i,d=o+a,{topLeft:p,topRight:f,bottomLeft:h,bottomRight:m}=Sg(l);let g=function trt(n,t){let{x:i,width:s}=n;return"right"===t?i-=s:"center"===t&&(i-=s/2),i}(t,c);const y=function nrt(n,t,i){let{y:s,height:o}=n;return"top"===t?s+=i:s-="bottom"===t?o+i:o/2,s}(t,u,d);return"center"===u?"left"===c?g+=d:"right"===c&&(g-=d):"left"===c?g-=Math.max(p,h)+o:"right"===c&&(g+=Math.max(f,m)+o),{x:To(g,0,s.width-t.width),y:To(y,0,s.height-t.height)}}function LO(n,t,i){const s=ba(i.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-s.right:n.x+s.left}function fue(n){return Hd([],af(n))}function hue(n,t){const i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?n.override(i):n}const mue={beforeTitle:Jp,title(n){if(n.length>0){const t=n[0],i=t.chart.data.labels,s=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return i[t.dataIndex]}return""},afterTitle:Jp,beforeBody:Jp,beforeLabel:Jp,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const i=n.formattedValue;return Ur(i)||(t+=i),t},labelColor(n){const i=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const i=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:Jp,afterBody:Jp,beforeFooter:Jp,footer:Jp,afterFooter:Jp};function Il(n,t,i,s){const o=n[t].call(i,s);return typeof o>"u"?mue[t].call(i,s):o}let gue=(()=>class n extends sf{static positioners=qE;constructor(i){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=i.chart,this.options=i.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(i){this.options=i,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const i=this._cachedAnimations;if(i)return i;const s=this.chart,o=this.options.setContext(this.getContext()),a=o.enabled&&s.options.animation&&o.animations,l=new nce(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=function rrt(n,t,i){return Xh(n,{tooltip:t,tooltipItems:i,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(i,s){const{callbacks:o}=s,a=Il(o,"beforeTitle",this,i),l=Il(o,"title",this,i),c=Il(o,"afterTitle",this,i);let u=[];return u=Hd(u,af(a)),u=Hd(u,af(l)),u=Hd(u,af(c)),u}getBeforeBody(i,s){return fue(Il(s.callbacks,"beforeBody",this,i))}getBody(i,s){const{callbacks:o}=s,a=[];return di(i,l=>{const c={before:[],lines:[],after:[]},u=hue(o,l);Hd(c.before,af(Il(u,"beforeLabel",this,l))),Hd(c.lines,Il(u,"label",this,l)),Hd(c.after,af(Il(u,"afterLabel",this,l))),a.push(c)}),a}getAfterBody(i,s){return fue(Il(s.callbacks,"afterBody",this,i))}getFooter(i,s){const{callbacks:o}=s,a=Il(o,"beforeFooter",this,i),l=Il(o,"footer",this,i),c=Il(o,"afterFooter",this,i);let u=[];return u=Hd(u,af(a)),u=Hd(u,af(l)),u=Hd(u,af(c)),u}_createItems(i){const s=this._active,o=this.chart.data,a=[],l=[],c=[];let d,p,u=[];for(d=0,p=s.length;d<p;++d)u.push(Znt(this.chart,s[d]));return i.filter&&(u=u.filter((f,h,m)=>i.filter(f,h,m,o))),i.itemSort&&(u=u.sort((f,h)=>i.itemSort(f,h,o))),di(u,f=>{const h=hue(i.callbacks,f);a.push(Il(h,"labelColor",this,f)),l.push(Il(h,"labelPointStyle",this,f)),c.push(Il(h,"labelTextColor",this,f))}),this.labelColors=a,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=u,u}update(i,s){const o=this.options.setContext(this.getContext()),a=this._active;let l,c=[];if(a.length){const u=qE[o.position].call(this,a,this._eventPosition);c=this._createItems(o),this.title=this.getTitle(c,o),this.beforeBody=this.getBeforeBody(c,o),this.body=this.getBody(c,o),this.afterBody=this.getAfterBody(c,o),this.footer=this.getFooter(c,o);const d=this._size=uue(this,o),p=Object.assign({},u,d),f=due(this.chart,o,p),h=pue(o,p,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,l={opacity:1,x:h.x,y:h.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}else 0!==this.opacity&&(l={opacity:0});this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),i&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(i,s,o,a){const l=this.getCaretPosition(i,o,a);s.lineTo(l.x1,l.y1),s.lineTo(l.x2,l.y2),s.lineTo(l.x3,l.y3)}getCaretPosition(i,s,o){const{xAlign:a,yAlign:l}=this,{caretSize:c,cornerRadius:u}=o,{topLeft:d,topRight:p,bottomLeft:f,bottomRight:h}=Sg(u),{x:m,y:g}=i,{width:y,height:v}=s;let _,E,x,b,w,C;return"center"===l?(w=g+v/2,"left"===a?(_=m,E=_-c,b=w+c,C=w-c):(_=m+y,E=_+c,b=w-c,C=w+c),x=_):(E="left"===a?m+Math.max(d,f)+c:"right"===a?m+y-Math.max(p,h)-c:this.caretX,"top"===l?(b=g,w=b-c,_=E-c,x=E+c):(b=g+v,w=b+c,_=E+c,x=E-c),C=b),{x1:_,x2:E,x3:x,y1:b,y2:w,y3:C}}drawTitle(i,s,o){const a=this.title,l=a.length;let c,u,d;if(l){const p=Wv(o.rtl,this.x,this.width);for(i.x=LO(this,o.titleAlign,o),s.textAlign=p.textAlign(o.titleAlign),s.textBaseline="middle",c=mo(o.titleFont),u=o.titleSpacing,s.fillStyle=o.titleColor,s.font=c.string,d=0;d<l;++d)s.fillText(a[d],p.x(i.x),i.y+c.lineHeight/2),i.y+=c.lineHeight+u,d+1===l&&(i.y+=o.titleMarginBottom-u)}}_drawColorBox(i,s,o,a,l){const c=this.labelColors[o],u=this.labelPointStyles[o],{boxHeight:d,boxWidth:p}=l,f=mo(l.bodyFont),h=LO(this,"left",l),m=a.x(h),y=s.y+(d<f.lineHeight?(f.lineHeight-d)/2:0);if(l.usePointStyle){const v={radius:Math.min(p,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},_=a.leftForLtr(m,p)+p/2,E=y+d/2;i.strokeStyle=l.multiKeyBackground,i.fillStyle=l.multiKeyBackground,pL(i,v,_,E),i.strokeStyle=c.borderColor,i.fillStyle=c.backgroundColor,pL(i,v,_,E)}else{i.lineWidth=kr(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,i.strokeStyle=c.borderColor,i.setLineDash(c.borderDash||[]),i.lineDashOffset=c.borderDashOffset||0;const v=a.leftForLtr(m,p),_=a.leftForLtr(a.xPlus(m,1),p-2),E=Sg(c.borderRadius);Object.values(E).some(x=>0!==x)?(i.beginPath(),i.fillStyle=l.multiKeyBackground,NE(i,{x:v,y,w:p,h:d,radius:E}),i.fill(),i.stroke(),i.fillStyle=c.backgroundColor,i.beginPath(),NE(i,{x:_,y:y+1,w:p-2,h:d-2,radius:E}),i.fill()):(i.fillStyle=l.multiKeyBackground,i.fillRect(v,y,p,d),i.strokeRect(v,y,p,d),i.fillStyle=c.backgroundColor,i.fillRect(_,y+1,p-2,d-2))}i.fillStyle=this.labelTextColors[o]}drawBody(i,s,o){const{body:a}=this,{bodySpacing:l,bodyAlign:c,displayColors:u,boxHeight:d,boxWidth:p,boxPadding:f}=o,h=mo(o.bodyFont);let m=h.lineHeight,g=0;const y=Wv(o.rtl,this.x,this.width),v=function(I){s.fillText(I,y.x(i.x+g),i.y+m/2),i.y+=m+l},_=y.textAlign(c);let E,x,b,w,C,P,D;for(s.textAlign=c,s.textBaseline="middle",s.font=h.string,i.x=LO(this,_,o),s.fillStyle=o.bodyColor,di(this.beforeBody,v),g=u&&"right"!==_?"center"===c?p/2+f:p+2+f:0,w=0,P=a.length;w<P;++w){for(E=a[w],x=this.labelTextColors[w],s.fillStyle=x,di(E.before,v),b=E.lines,u&&b.length&&(this._drawColorBox(s,i,w,y,o),m=Math.max(h.lineHeight,d)),C=0,D=b.length;C<D;++C)v(b[C]),m=h.lineHeight;di(E.after,v)}g=0,m=h.lineHeight,di(this.afterBody,v),i.y-=l}drawFooter(i,s,o){const a=this.footer,l=a.length;let c,u;if(l){const d=Wv(o.rtl,this.x,this.width);for(i.x=LO(this,o.footerAlign,o),i.y+=o.footerMarginTop,s.textAlign=d.textAlign(o.footerAlign),s.textBaseline="middle",c=mo(o.footerFont),s.fillStyle=o.footerColor,s.font=c.string,u=0;u<l;++u)s.fillText(a[u],d.x(i.x),i.y+c.lineHeight/2),i.y+=c.lineHeight+o.footerSpacing}}drawBackground(i,s,o,a){const{xAlign:l,yAlign:c}=this,{x:u,y:d}=i,{width:p,height:f}=o,{topLeft:h,topRight:m,bottomLeft:g,bottomRight:y}=Sg(a.cornerRadius);s.fillStyle=a.backgroundColor,s.strokeStyle=a.borderColor,s.lineWidth=a.borderWidth,s.beginPath(),s.moveTo(u+h,d),"top"===c&&this.drawCaret(i,s,o,a),s.lineTo(u+p-m,d),s.quadraticCurveTo(u+p,d,u+p,d+m),"center"===c&&"right"===l&&this.drawCaret(i,s,o,a),s.lineTo(u+p,d+f-y),s.quadraticCurveTo(u+p,d+f,u+p-y,d+f),"bottom"===c&&this.drawCaret(i,s,o,a),s.lineTo(u+g,d+f),s.quadraticCurveTo(u,d+f,u,d+f-g),"center"===c&&"left"===l&&this.drawCaret(i,s,o,a),s.lineTo(u,d+h),s.quadraticCurveTo(u,d,u+h,d),s.closePath(),s.fill(),a.borderWidth>0&&s.stroke()}_updateAnimationTarget(i){const s=this.chart,o=this.$animations,a=o&&o.x,l=o&&o.y;if(a||l){const c=qE[i.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=uue(this,i),d=Object.assign({},c,this._size),p=due(s,i,d),f=pue(i,d,p,s);(a._to!==f.x||l._to!==f.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(i){const s=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(s);const a={width:this.width,height:this.height},l={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const c=ba(s.padding);s.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(i.save(),i.globalAlpha=o,this.drawBackground(l,i,a,s),Gle(i,s.textDirection),l.y+=c.top,this.drawTitle(l,i,s),this.drawBody(l,i,s),this.drawFooter(l,i,s),Kle(i,s.textDirection),i.restore())}getActiveElements(){return this._active||[]}setActiveElements(i,s){const o=this._active,a=i.map(({datasetIndex:u,index:d})=>{const p=this.chart.getDatasetMeta(u);if(!p)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:p.data[d],index:d}}),l=!fO(o,a),c=this._positionChanged(a,s);(l||c)&&(this._active=a,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(i,s,o=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,l=this._active||[],c=this._getActiveElements(i,l,s,o),u=this._positionChanged(c,i),d=s||!fO(c,l)||u;return d&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:i.x,y:i.y},this.update(!0,s))),d}_getActiveElements(i,s,o,a){const l=this.options;if("mouseout"===i.type)return[];if(!a)return s.filter(u=>this.chart.data.datasets[u.datasetIndex]&&void 0!==this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index));const c=this.chart.getElementsAtEventForMode(i,l.mode,l,o);return l.reverse&&c.reverse(),c}_positionChanged(i,s){const{caretX:o,caretY:a,options:l}=this,c=qE[l.position].call(this,i,s);return!1!==c&&(o!==c.x||a!==c.y)}})();var srt=Object.freeze({__proto__:null,Colors:Zce,Decimation:Ent,Filler:$nt,Legend:Gnt,SubTitle:Xnt,Title:Ynt,Tooltip:{id:"tooltip",_element:gue,positioners:qE,afterInit(n,t,i){i&&(n.tooltip=new gue({chart:n,options:i}))},beforeUpdate(n,t,i){n.tooltip&&n.tooltip.initialize(i)},reset(n,t,i){n.tooltip&&n.tooltip.initialize(i)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const i={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0}))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",i)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mue},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function yue(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}let crt=(()=>class n extends kg{static id="category";static defaults={ticks:{callback:yue}};constructor(i){super(i),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(i){const s=this._addedLabels;if(s.length){const o=this.getLabels();for(const{index:a,label:l}of s)o[a]===l&&o.splice(a,1);this._addedLabels=[]}super.init(i)}parse(i,s){if(Ur(i))return null;const o=this.getLabels();return((n,t)=>null===n?null:To(Math.round(n),0,t))(s=isFinite(s)&&o[s]===i?s:function art(n,t,i,s){const o=n.indexOf(t);return-1===o?((n,t,i,s)=>("string"==typeof t?(i=n.push(t)-1,s.unshift({index:i,label:t})):isNaN(t)&&(i=null),i))(n,t,i,s):o!==n.lastIndexOf(t)?i:o}(o,i,dr(s,i),this._addedLabels),o.length-1)}determineDataLimits(){const{minDefined:i,maxDefined:s}=this.getUserBounds();let{min:o,max:a}=this.getMinMax(!0);"ticks"===this.options.bounds&&(i||(o=0),s||(a=this.getLabels().length-1)),this.min=o,this.max=a}buildTicks(){const i=this.min,s=this.max,o=this.options.offset,a=[];let l=this.getLabels();l=0===i&&s===l.length-1?l:l.slice(i,s+1),this._valueRange=Math.max(l.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let c=i;c<=s;c++)a.push({value:c});return a}getLabelForValue(i){return yue.call(this,i)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(i){return"number"!=typeof i&&(i=this.parse(i)),null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getPixelForTick(i){const s=this.ticks;return i<0||i>s.length-1?null:this.getPixelForValue(s[i].value)}getValueForPixel(i){return Math.round(this._startValue+this.getDecimalForPixel(i)*this._valueRange)}getBasePixel(){return this.bottom}})();function vue(n,t,{horizontal:i,minRotation:s}){const o=zu(s),a=(i?Math.sin(o):Math.cos(o))||.001;return Math.min(t/a,.75*t*(""+n).length)}class FO extends kg{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,i){return Ur(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:i,maxDefined:s}=this.getUserBounds();let{min:o,max:a}=this;const l=u=>o=i?o:u,c=u=>a=s?a:u;if(t){const u=$d(o),d=$d(a);u<0&&d<0?c(0):u>0&&d>0&&l(0)}if(o===a){let u=0===a?1:Math.abs(.05*a);c(a+u),t||l(o-u)}this.min=o,this.max=a}getTickLimit(){const t=this.options.ticks;let o,{maxTicksLimit:i,stepSize:s}=t;return s?(o=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),i=i||11),i&&(o=Math.min(i,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,i=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const l=function urt(n,t){const i=[],{bounds:o,step:a,min:l,max:c,precision:u,count:d,maxTicks:p,maxDigits:f,includeBounds:h}=n,m=a||1,g=p-1,{min:y,max:v}=t,_=!Ur(l),E=!Ur(c),x=!Ur(d),b=(v-y)/(f+1);let C,P,D,I,w=vle((v-y)/g/m)*m;if(w<1e-14&&!_&&!E)return[{value:y},{value:v}];I=Math.ceil(v/w)-Math.floor(y/w),I>g&&(w=vle(I*w/g/m)*m),Ur(u)||(C=Math.pow(10,u),w=Math.ceil(w*C)/C),"ticks"===o?(P=Math.floor(y/w)*w,D=Math.ceil(v/w)*w):(P=y,D=v),_&&E&&a&&function KQe(n,t){const i=Math.round(n);return i-t<=n&&i+t>=n}((c-l)/a,w/1e3)?(I=Math.round(Math.min((c-l)/w,p)),w=(c-l)/I,P=l,D=c):x?(P=_?l:P,D=E?c:D,I=d-1,w=(D-P)/I):(I=(D-P)/w,I=kE(I,Math.round(I),w/1e3)?Math.round(I):Math.ceil(I));const k=Math.max(_le(w),_le(P));C=Math.pow(10,Ur(u)?k:u),P=Math.round(P*C)/C,D=Math.round(D*C)/C;let F=0;for(_&&(h&&P!==l?(i.push({value:l}),P<l&&F++,kE(Math.round((P+F*w)*C)/C,l,vue(l,b,n))&&F++):P<l&&F++);F<I;++F){const M=Math.round((P+F*w)*C)/C;if(E&&M>c)break;i.push({value:M})}return E&&h&&D!==c?i.length&&kE(i[i.length-1].value,c,vue(c,b,n))?i[i.length-1].value=c:i.push({value:c}):(!E||D===c)&&i.push({value:D}),i}({maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:!1!==i.includeBounds},this._range||this);return"ticks"===t.bounds&&ble(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let i=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const o=(s-i)/Math.max(t.length-1,1)/2;i-=o,s+=o}this._startValue=i,this._endValue=s,this._valueRange=s-i}getLabelForValue(t){return IE(t,this.chart.options.locale,this.options.ticks.format)}}const WE=n=>Math.floor(Yh(n)),Mg=(n,t)=>Math.pow(10,WE(n)+t);function bue(n){return n/Math.pow(10,WE(n))==1}function _ue(n,t,i){const s=Math.pow(10,i),o=Math.floor(n/s);return Math.ceil(t/s)-o}function BL(n){const t=n.ticks;if(t.display&&n.display){const i=ba(t.backdropPadding);return dr(t.font&&t.font.size,Ps.font.size)+i.height}return 0}function mrt(n,t,i){return i=Wi(i)?i:[i],{w:dJe(n,t.string,i),h:i.length*t.lineHeight}}function Eue(n,t,i,s,o){return n===s||n===o?{start:t-i/2,end:t+i/2}:n<s||n>o?{start:t-i,end:t}:{start:t,end:t+i}}function yrt(n,t,i,s,o){const a=Math.abs(Math.sin(i)),l=Math.abs(Math.cos(i));let c=0,u=0;s.start<t.l?(c=(t.l-s.start)/a,n.l=Math.min(n.l,t.l-c)):s.end>t.r&&(c=(s.end-t.r)/a,n.r=Math.max(n.r,t.r+c)),o.start<t.t?(u=(t.t-o.start)/l,n.t=Math.min(n.t,t.t-u)):o.end>t.b&&(u=(o.end-t.b)/l,n.b=Math.max(n.b,t.b+u))}function vrt(n,t,i){const s=n.drawingArea,{extra:o,additionalAngle:a,padding:l,size:c}=i,u=n.getPointPosition(t,s+o+l,a),d=Math.round(iL(cc(u.angle+js))),p=function xrt(n,t,i){return 90===i||270===i?n-=t/2:(i>270||i<90)&&(n-=t),n}(u.y,c.h,d),f=function Ert(n){return 0===n||180===n?"center":n<180?"left":"right"}(d),h=function wrt(n,t,i){return"right"===i?n-=t:"center"===i&&(n-=t/2),n}(u.x,c.w,f);return{visible:!0,x:u.x,y:p,textAlign:f,left:h,top:p,right:h+c.w,bottom:p+c.h}}function brt(n,t){if(!t)return!0;const{left:i,top:s,right:o,bottom:a}=n;return!(nf({x:i,y:s},t)||nf({x:i,y:a},t)||nf({x:o,y:s},t)||nf({x:o,y:a},t))}function Crt(n,t,i){const{left:s,top:o,right:a,bottom:l}=i,{backdropColor:c}=t;if(!Ur(c)){const u=Sg(t.borderRadius),d=ba(t.backdropPadding);n.fillStyle=c;const p=s-d.left,f=o-d.top,h=a-s+d.width,m=l-o+d.height;Object.values(u).some(g=>0!==g)?(n.beginPath(),NE(n,{x:p,y:f,w:h,h:m,radius:u}),n.fill()):n.fillRect(p,f,h,m)}}function wue(n,t,i,s){const{ctx:o}=n;if(i)o.arc(n.xCenter,n.yCenter,t,0,Ki);else{let a=n.getPointPosition(0,t);o.moveTo(a.x,a.y);for(let l=1;l<s;l++)a=n.getPointPosition(l,t),o.lineTo(a.x,a.y)}}const BO={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rl=Object.keys(BO);function xue(n,t){return n-t}function Cue(n,t){if(Ur(t))return null;const i=n._adapter,{parser:s,round:o,isoWeekday:a}=n._parseOpts;let l=t;return"function"==typeof s&&(l=s(l)),Ts(l)||(l="string"==typeof s?i.parse(l,s):i.parse(l)),null===l?null:(o&&(l="week"!==o||!Hv(a)&&!0!==a?i.startOf(l,o):i.startOf(l,"isoWeek",a)),+l)}function Sue(n,t,i,s){const o=Rl.length;for(let a=Rl.indexOf(n);a<o-1;++a){const l=BO[Rl[a]];if(l.common&&Math.ceil((i-t)/((l.steps?l.steps:Number.MAX_SAFE_INTEGER)*l.size))<=s)return Rl[a]}return Rl[o-1]}function Oue(n,t,i){if(i){if(i.length){const{lo:s,hi:o}=oL(i,t);n[i[s]>=t?i[s]:i[o]]=!0}}else n[t]=!0}function Tue(n,t,i){const s=[],o={},a=t.length;let l,c;for(l=0;l<a;++l)c=t[l],o[c]=l,s.push({value:c,major:!1});return 0!==a&&i?function Mrt(n,t,i,s){const o=n._adapter,a=+o.startOf(t[0].value,s),l=t[t.length-1].value;let c,u;for(c=a;c<=l;c=+o.add(c,1,s))u=i[c],u>=0&&(t[u].major=!0);return t}(n,s,o,i):s}let jL=(()=>class n extends kg{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(i){super(i),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(i,s={}){const o=i.time||(i.time={}),a=this._adapter=new Ret__date(i.adapters.date);a.init(s),PE(o.displayFormats,a.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(i),this._normalized=s.normalized}parse(i,s){return void 0===i?null:Cue(this,i)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const i=this.options,s=this._adapter,o=i.time.unit||"day";let{min:a,max:l,minDefined:c,maxDefined:u}=this.getUserBounds();function d(p){!c&&!isNaN(p.min)&&(a=Math.min(a,p.min)),!u&&!isNaN(p.max)&&(l=Math.max(l,p.max))}(!c||!u)&&(d(this._getLabelBounds()),("ticks"!==i.bounds||"labels"!==i.ticks.source)&&d(this.getMinMax(!1))),a=Ts(a)&&!isNaN(a)?a:+s.startOf(Date.now(),o),l=Ts(l)&&!isNaN(l)?l:+s.endOf(Date.now(),o)+1,this.min=Math.min(a,l-1),this.max=Math.max(a+1,l)}_getLabelBounds(){const i=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return i.length&&(s=i[0],o=i[i.length-1]),{min:s,max:o}}buildTicks(){const i=this.options,s=i.time,o=i.ticks,a="labels"===o.source?this.getLabelTimestamps():this._generate();"ticks"===i.bounds&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const l=this.min,u=function QQe(n,t,i){let s=0,o=n.length;for(;s<o&&n[s]<t;)s++;for(;o>s&&n[o-1]>i;)o--;return s>0||o<n.length?n.slice(s,o):n}(a,l,this.max);return this._unit=s.unit||(o.autoSkip?Sue(s.minUnit,this.min,this.max,this._getLabelCapacity(l)):function Drt(n,t,i,s,o){for(let a=Rl.length-1;a>=Rl.indexOf(i);a--){const l=Rl[a];if(BO[l].common&&n._adapter.diff(o,s,l)>=t-1)return l}return Rl[i?Rl.indexOf(i):0]}(this,u.length,s.minUnit,this.min,this.max)),this._majorUnit=o.major.enabled&&"year"!==this._unit?function krt(n){for(let t=Rl.indexOf(n)+1,i=Rl.length;t<i;++t)if(BO[Rl[t]].common)return Rl[t]}(this._unit):void 0,this.initOffsets(a),i.reverse&&u.reverse(),Tue(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(i=>+i.value))}initOffsets(i=[]){let a,l,s=0,o=0;this.options.offset&&i.length&&(a=this.getDecimalForValue(i[0]),s=1===i.length?1-a:(this.getDecimalForValue(i[1])-a)/2,l=this.getDecimalForValue(i[i.length-1]),o=1===i.length?l:(l-this.getDecimalForValue(i[i.length-2]))/2);const c=i.length<3?.5:.25;s=To(s,0,c),o=To(o,0,c),this._offsets={start:s,end:o,factor:1/(s+1+o)}}_generate(){const i=this._adapter,s=this.min,o=this.max,a=this.options,l=a.time,c=l.unit||Sue(l.minUnit,s,o,this._getLabelCapacity(s)),u=dr(a.ticks.stepSize,1),d="week"===c&&l.isoWeekday,p=Hv(d)||!0===d,f={};let m,g,h=s;if(p&&(h=+i.startOf(h,"isoWeek",d)),h=+i.startOf(h,p?"day":c),i.diff(o,s,c)>1e5*u)throw new Error(s+" and "+o+" are too far apart with stepSize of "+u+" "+c);const y="data"===a.ticks.source&&this.getDataTimestamps();for(m=h,g=0;m<o;m=+i.add(m,u,c),g++)Oue(f,m,y);return(m===o||"ticks"===a.bounds||1===g)&&Oue(f,m,y),Object.keys(f).sort(xue).map(v=>+v)}getLabelForValue(i){const o=this.options.time;return this._adapter.format(i,o.tooltipFormat?o.tooltipFormat:o.displayFormats.datetime)}format(i,s){return this._adapter.format(i,s||this.options.time.displayFormats[this._unit])}_tickFormatFunction(i,s,o,a){const l=this.options,c=l.ticks.callback;if(c)return Vi(c,[i,s,o],this);const u=l.time.displayFormats,d=this._unit,p=this._majorUnit,h=p&&u[p],m=o[s];return this._adapter.format(i,a||(p&&h&&m&&m.major?h:d&&u[d]))}generateTickLabels(i){let s,o,a;for(s=0,o=i.length;s<o;++s)a=i[s],a.label=this._tickFormatFunction(a.value,s,i)}getDecimalForValue(i){return null===i?NaN:(i-this.min)/(this.max-this.min)}getPixelForValue(i){const s=this._offsets,o=this.getDecimalForValue(i);return this.getPixelForDecimal((s.start+o)*s.factor)}getValueForPixel(i){const s=this._offsets,o=this.getDecimalForPixel(i)/s.factor-s.end;return this.min+o*(this.max-this.min)}_getLabelSize(i){const s=this.options.ticks,o=this.ctx.measureText(i).width,a=zu(this.isHorizontal()?s.maxRotation:s.minRotation),l=Math.cos(a),c=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:o*l+u*c,h:o*c+u*l}}_getLabelCapacity(i){const s=this.options.time,o=s.displayFormats,a=o[s.unit]||o.millisecond,l=this._tickFormatFunction(i,0,Tue(this,[i],this._majorUnit),a),c=this._getLabelSize(l),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let s,o,i=this._cache.data||[];if(i.length)return i;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(s=0,o=a.length;s<o;++s)i=i.concat(a[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const i=this._cache.labels||[];let s,o;if(i.length)return i;const a=this.getLabels();for(s=0,o=a.length;s<o;++s)i.push(Cue(this,a[s]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(i){return Cle(i.sort(xue))}})();function jO(n,t,i){let a,l,c,u,s=0,o=n.length-1;i?(t>=n[s].pos&&t<=n[o].pos&&({lo:s,hi:o}=tf(n,"pos",t)),({pos:a,time:c}=n[s]),({pos:l,time:u}=n[o])):(t>=n[s].time&&t<=n[o].time&&({lo:s,hi:o}=tf(n,"time",t)),({time:a,pos:c}=n[s]),({time:l,pos:u}=n[o]));const d=l-a;return d?c+(u-c)*(t-a)/d:c}DL.register(Iet,pnt,srt,Object.freeze({__proto__:null,CategoryScale:crt,LinearScale:class drt extends FO{static id="linear";static defaults={ticks:{callback:yO.formatters.numeric}};determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=Ts(t)?t:0,this.max=Ts(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),i=t?this.width:this.height,s=zu(this.options.ticks.minRotation),o=(t?Math.sin(s):Math.cos(s))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,a.lineHeight/o))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},LogarithmicScale:class hrt extends kg{static id="logarithmic";static defaults={ticks:{callback:yO.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,i){const s=FO.prototype.parse.apply(this,[t,i]);if(0!==s)return Ts(s)&&s>0?s:null;this._zero=!0}determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=Ts(t)?Math.max(0,t):null,this.max=Ts(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ts(this._userMin)&&(this.min=t===Mg(this.min,0)?Mg(this.min,-1):Mg(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let s=this.min,o=this.max;const a=c=>s=t?s:c,l=c=>o=i?o:c;s===o&&(s<=0?(a(1),l(10)):(a(Mg(s,-1)),l(Mg(o,1)))),s<=0&&a(Mg(o,-1)),o<=0&&l(Mg(s,1)),this.min=s,this.max=o}buildTicks(){const t=this.options,s=function frt(n,{min:t,max:i}){t=lc(n.min,t);const s=[],o=WE(t);let a=function prt(n,t){let s=WE(t-n);for(;_ue(n,t,s)>10;)s++;for(;_ue(n,t,s)<10;)s--;return Math.min(s,WE(n))}(t,i),l=a<0?Math.pow(10,Math.abs(a)):1;const c=Math.pow(10,a),u=o>a?Math.pow(10,o):0,d=Math.round((t-u)*l)/l,p=Math.floor((t-u)/c/10)*c*10;let f=Math.floor((d-p)/Math.pow(10,a)),h=lc(n.min,Math.round((u+p+f*Math.pow(10,a))*l)/l);for(;h<i;)s.push({value:h,major:bue(h),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(a++,f=2,l=a>=0?1:l),h=Math.round((u+p+f*Math.pow(10,a))*l)/l;const m=lc(n.max,h);return s.push({value:m,major:bue(m),significand:f}),s}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&ble(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return void 0===t?"0":IE(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Yh(t),this._valueRange=Yh(this.max)-Yh(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Yh(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const i=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+i*this._valueRange)}},RadialLinearScale:class Prt extends FO{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:yO.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ba(BL(this.options)/2),i=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+i/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(i,s)/2)}determineDataLimits(){const{min:t,max:i}=this.getMinMax(!1);this.min=Ts(t)&&!isNaN(t)?t:0,this.max=Ts(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/BL(this.options))}generateTickLabels(t){FO.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((i,s)=>{const o=Vi(this.options.pointLabels.callback,[i,s],this);return o||0===o?o:""}).filter((i,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?function grt(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},i=Object.assign({},t),s=[],o=[],a=n._pointLabels.length,l=n.options.pointLabels,c=l.centerPointLabels?Gi/a:0;for(let u=0;u<a;u++){const d=l.setContext(n.getPointLabelContext(u));o[u]=d.padding;const p=n.getPointPosition(u,n.drawingArea+o[u],c),f=mo(d.font),h=mrt(n.ctx,f,n._pointLabels[u]);s[u]=h;const m=cc(n.getIndexAngle(u)+c),g=Math.round(iL(m));yrt(i,t,m,Eue(g,p.x,h.w,0,180),Eue(g,p.y,h.h,90,270))}n.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),n._pointLabelItems=function _rt(n,t,i){const s=[],o=n._pointLabels.length,a=n.options,{centerPointLabels:l,display:c}=a.pointLabels,u={extra:BL(a)/2,additionalAngle:l?Gi/o:0};let d;for(let p=0;p<o;p++){u.padding=i[p],u.size=t[p];const f=vrt(n,p,u);s.push(f),"auto"===c&&(f.visible=brt(f,d),f.visible&&(d=f))}return s}(n,s,o)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,i,s,o){this.xCenter+=Math.floor((t-i)/2),this.yCenter+=Math.floor((s-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,i,s,o))}getIndexAngle(t){return cc(t*(Ki/(this._pointLabels.length||1))+zu(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Ur(t))return NaN;const i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*i:(t-this.min)*i}getValueForDistanceFromCenter(t){if(Ur(t))return NaN;const i=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(t){const i=this._pointLabels||[];if(t>=0&&t<i.length){const s=i[t];return function Trt(n,t,i){return Xh(n,{label:i,index:t,type:"pointLabel"})}(this.getContext(),t,s)}}getPointPosition(t,i,s=0){const o=this.getIndexAngle(t)-js+s;return{x:Math.cos(o)*i+this.xCenter,y:Math.sin(o)*i+this.yCenter,angle:o}}getPointPositionForValue(t,i){return this.getPointPosition(t,this.getDistanceFromCenterForValue(i))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:i,top:s,right:o,bottom:a}=this._pointLabelItems[t];return{left:i,top:s,right:o,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:i}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),wue(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,i=this.options,{angleLines:s,grid:o,border:a}=i,l=this._pointLabels.length;let c,u,d;if(i.pointLabels.display&&function Srt(n,t){const{ctx:i,options:{pointLabels:s}}=n;for(let o=t-1;o>=0;o--){const a=n._pointLabelItems[o];if(!a.visible)continue;const l=s.setContext(n.getPointLabelContext(o));Crt(i,l,a);const c=mo(l.font),{x:u,y:d,textAlign:p}=a;Cg(i,n._pointLabels[o],u,d+c.lineHeight/2,c,{color:l.color,textAlign:p,textBaseline:"middle"})}}(this,l),o.display&&this.ticks.forEach((p,f)=>{if(0!==f){u=this.getDistanceFromCenterForValue(p.value);const h=this.getContext(f),m=o.setContext(h),g=a.setContext(h);!function Ort(n,t,i,s,o){const a=n.ctx,l=t.circular,{color:c,lineWidth:u}=t;!l&&!s||!c||!u||i<0||(a.save(),a.strokeStyle=c,a.lineWidth=u,a.setLineDash(o.dash),a.lineDashOffset=o.dashOffset,a.beginPath(),wue(n,i,l,s),a.closePath(),a.stroke(),a.restore())}(this,m,u,l,g)}}),s.display){for(t.save(),c=l-1;c>=0;c--){const p=s.setContext(this.getPointLabelContext(c)),{color:f,lineWidth:h}=p;!h||!f||(t.lineWidth=h,t.strokeStyle=f,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,u=this.getDistanceFromCenterForValue(i.ticks.reverse?this.min:this.max),d=this.getPointPosition(c,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,i=this.options,s=i.ticks;if(!s.display)return;const o=this.getIndexAngle(0);let a,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,u)=>{if(0===u&&!i.reverse)return;const d=s.setContext(this.getContext(u)),p=mo(d.font);if(a=this.getDistanceFromCenterForValue(this.ticks[u].value),d.showLabelBackdrop){t.font=p.string,l=t.measureText(c.label).width,t.fillStyle=d.backdropColor;const f=ba(d.backdropPadding);t.fillRect(-l/2-f.left,-a-p.size/2-f.top,l+f.width,p.size+f.height)}Cg(t,c.label,0,-a,p,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}},TimeScale:jL,TimeSeriesScale:class Art extends jL{static id="timeseries";static defaults=jL.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(t);this._minPos=jO(i,this.min),this._tableRange=jO(i,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:i,max:s}=this,o=[],a=[];let l,c,u,d,p;for(l=0,c=t.length;l<c;++l)d=t[l],d>=i&&d<=s&&o.push(d);if(o.length<2)return[{time:i,pos:0},{time:s,pos:1}];for(l=0,c=o.length;l<c;++l)p=o[l+1],u=o[l-1],d=o[l],Math.round((p+u)/2)!==d&&a.push({time:d,pos:l/(c-1)});return a}_generate(){const t=this.min,i=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(i)||1===s.length)&&s.push(i),s.sort((o,a)=>o-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const i=this.getDataTimestamps(),s=this.getLabelTimestamps();return t=i.length&&s.length?this.normalize(i.concat(s)):i.length?i:s,t=this._cache.all=t,t}getDecimalForValue(t){return(jO(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const i=this._offsets,s=this.getDecimalForPixel(t)/i.factor-i.end;return jO(this._table,s*this._tableRange+this._minPos,!0)}}}));const VL=DL,Nrt=["chart1"];let Lrt=(()=>{class n{constructor(i){this.execPlanService=i}ngAfterViewInit(){this.execPlanService.previewPlan().subscribe(i=>{this.chart?(this.chart.data=i,this.chart.update()):(VL.register(Zce),this.chart=new VL(this.chart1.nativeElement,{type:"line",data:i,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Instances start progression"}}}}))})}static{this.\u0275fac=function(s){return new(s||n)(Tt(Vd))}}static{this.\u0275cmp=Ga({type:n,selectors:[["app-optimize-preview"]],viewQuery:function(s,o){if(1&s&&pa(Nrt,5),2&s){let a;fa(a=ha())&&(o.chart1=a.first)}},standalone:!1,decls:3,vars:0,consts:[["chart1",""],[1,"mx-2","mt-2","mb-2","p-4",2,"max-height","400px"]],template:function(s,o){1&s&&(ne(0,"div",1),qt(1,"canvas",null,0),ie())},encapsulation:2})}}return n})();function GE(n){qi.call(this,n),this.on("import.parse.complete",function(t){t.error||this._collectIds(t.definitions,t.elementsById)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}function $L(n){return n&&n[n.length-1]}function Pue(n){return n.y}function Due(n){return n.x}Lt(GE,qi),GE.prototype._createModdle=function(n){var t=qi.prototype._createModdle.call(this,n);return t.ids=new Nd([32,36,1]),t},GE.prototype._collectIds=function(n,t){var o,s=n.$model.ids;for(o in s.clear(),t)s.claim(o,t[o])};var Frt={left:Due,center:Due,right:function(n){return n.x+n.width},top:Pue,middle:Pue,bottom:function(n){return n.y+n.height}};function Kv(n,t){this._modeling=n,this._rules=t}Kv.$inject=["modeling","rules"],Kv.prototype._getOrientationDetails=function(n){var i="x",s="width";return-1!==["top","bottom","middle"].indexOf(n)&&(i="y",s="height"),{axis:i,dimension:s}},Kv.prototype._isType=function(n,t){return-1!==t.indexOf(n)},Kv.prototype._alignmentPosition=function(n,t){var u,d,p,i=this._getOrientationDetails(n),s=i.axis,o=i.dimension,a={},l={},c=!1;if(this._isType(n,["left","top"]))a[n]=t[0][s];else if(this._isType(n,["right","bottom"]))p=$L(t),a[n]=p[s]+p[o];else if(this._isType(n,["center","middle"])){if(se(t,function(h){var m=h[s]+Math.round(h[o]/2);l[m]?l[m].elements.push(h):l[m]={elements:[h],center:m}}),u=Ys(l,function(h){return h.elements.length>1&&(c=!0),h.elements.length}),c)return a[n]=$L(u).center,a;d=t[0],p=$L(t=Ys(t,function(h){return h[s]+h[o]})),a[n]=function f(h,m){return Math.round((h[s]+m[s]+m[o])/2)}(d,p)}return a},Kv.prototype.trigger=function(n,t){var s,i=this._modeling,o=hn(n,function(u){return!(u.waypoints||u.host||u.labelTarget)});if(Vt(s=this._rules.allowed("elements.align",{elements:o}))&&(o=s),!(o.length<2)&&s){var l=Ys(o,Frt[t]),c=this._alignmentPosition(t,l);i.alignElements(l,c)}};const kue={__init__:["alignElements"],alignElements:["type",Kv]},Brt=new Pv;function Yv(n){this._scheduled={},n.on("diagram.destroy",()=>{Object.keys(this._scheduled).forEach(t=>{this.cancel(t)})})}Yv.$inject=["eventBus"],Yv.prototype.schedule=function(n,t=Brt.next()){this.cancel(t);const i=this._schedule(n,t);return this._scheduled[t]=i,i.promise},Yv.prototype._schedule=function(n,t){const{promise:i,resolve:s,reject:o}=function jrt(){let n,t;return{promise:new Promise((s,o)=>{n=s,t=o}),resolve:n,reject:t}}();return{executionId:requestAnimationFrame(()=>{try{s(n())}catch(l){o(l)}}),promise:i}},Yv.prototype.cancel=function(n){const t=this._scheduled[n];t&&(this._cancel(t),this._scheduled[n]=null)},Yv.prototype._cancel=function(n){cancelAnimationFrame(n.executionId)};const Vrt={scheduler:["type",Yv]};var VO=".entry";function Ds(n,t,i,s){this._canvas=n,this._elementRegistry=t,this._eventBus=i,this._scheduler=s,this._current=null,this._init()}Ds.$inject=["canvas","elementRegistry","eventBus","scheduler"],Ds.prototype._init=function(){var n=this;this._eventBus.on("selection.changed",function(t){var i=t.newSelection,s=i.length?1===i.length?i[0]:i:null;s?n.open(s,!0):n.close()}),this._eventBus.on("elements.changed",function(t){var i=t.elements,s=n._current;if(s){var o=s.target,a=Vt(o)?o:[o];if(a.filter(function(u){return i.includes(u)}).length){n.close();var c=a.filter(function(u){return n._elementRegistry.get(u.id)});c.length&&n._updateAndOpen(c.length>1?c:c[0])}}}),this._eventBus.on("canvas.viewbox.changed",function(){n._updatePosition()}),this._eventBus.on("element.marker.update",function(t){if(n.isOpen()){var i=t.element,s=n._current;(Vt(s.target)?s.target:[s.target]).includes(i)&&n._updateVisibility()}}),this._container=this._createContainer()},Ds.prototype._createContainer=function(){var n=lr('<div class="djs-context-pad-parent"></div>');return this._canvas.getContainer().appendChild(n),n},Ds.prototype.registerProvider=function(n,t){t||(t=n,n=1e3),this._eventBus.on("contextPad.getProviders",n,function(i){i.providers.push(t)})},Ds.prototype.getEntries=function(n){var t=this._getProviders(),i=Vt(n)?"getMultiElementContextPadEntries":"getContextPadEntries",s={};return se(t,function(o){if(Gn(o[i])){var a=o[i](n);Gn(a)?s=a(s):se(a,function(l,c){s[c]=l})}}),s},Ds.prototype.trigger=function(n,t,i){var o,a,s=this,l=t.delegateTarget||t.target;return l?(o=fo(l,"data-action"),a=t.originalEvent||t,"mouseover"!==n?"mouseout"===n?(clearTimeout(this._timeout),void(this._mouseout&&(this._mouseout(),this._mouseout=null))):this.triggerEntry(o,n,a,i):void(this._timeout=setTimeout(function(){s._mouseout=s.triggerEntry(o,"hover",a,i)},300))):t.preventDefault()},Ds.prototype.triggerEntry=function(n,t,i,s){if(this.isShown()){var o=this._current.target,l=this._current.entries[n];if(l){var c=l.action;if(!1!==this._eventBus.fire("contextPad.trigger",{entry:l,event:i})){if(Gn(c)){if("click"===t)return c(i,o,s)}else if(c[t])return c[t](i,o,s);i.preventDefault()}}}},Ds.prototype.open=function(n,t){!t&&this.isOpen(n)||(this.close(),this._updateAndOpen(n))},Ds.prototype._getProviders=function(){var n=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(n),n.providers},Ds.prototype._updateAndOpen=function(n){var s,t=this.getEntries(n),i=this._createHtml(n);se(t,function(o,a){var u,l=o.group||"default",c=lr(o.html||'<div class="entry" draggable="true"></div>');fo(c,"data-action",a),(u=dn("[data-group="+pg(l)+"]",i))||(fo(u=lr('<div class="group"></div>'),"data-group",l),i.appendChild(u)),u.appendChild(c),o.className&&function Urt(n,t){var i=Nn(n);(t=Vt(t)?t:t.split(/\s+/g)).forEach(function(s){i.add(s)})}(c,o.className),o.title&&fo(c,"title",o.title),o.imageUrl&&(fo(s=lr("<img>"),"src",o.imageUrl),s.style.width="100%",s.style.height="100%",c.appendChild(s))}),Nn(i).add("open"),this._current={entries:t,html:i,target:n},this._updatePosition(),this._updateVisibility(),this._eventBus.fire("contextPad.open",{current:this._current})},Ds.prototype._createHtml=function(n){var t=this,i=lr('<div class="djs-context-pad"></div>');return Uo_bind(i,VO,"click",function(s){t.trigger("click",s)}),Uo_bind(i,VO,"dragstart",function(s){t.trigger("dragstart",s)}),Uo_bind(i,VO,"mouseover",function(s){t.trigger("mouseover",s)}),Uo_bind(i,VO,"mouseout",function(s){t.trigger("mouseout",s)}),Xt.bind(i,"mousedown",function(s){s.stopPropagation()}),this._container.appendChild(i),this._eventBus.fire("contextPad.create",{target:n,pad:i}),i},Ds.prototype.getPad=function(n){let t;return console.warn(new Error("ContextPad#getPad is deprecated and will be removed in future library versions, cf. https://github.com/bpmn-io/diagram-js/pull/888")),t=this.isOpen()&&function Wrt(n,t){return n=Vt(n)?n:[n],t=Vt(t)?t:[t],n.length===t.length&&tc(n,function(i){return t.includes(i)})}(this._current.target,n)?this._current.html:this._createHtml(n),{html:t}},Ds.prototype.close=function(){this.isOpen()&&(clearTimeout(this._timeout),this._container.innerHTML="",this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},Ds.prototype.isOpen=function(n){var t=this._current;if(!t)return!1;if(!n)return!0;var i=t.target;return Vt(n)===Vt(i)&&(Vt(n)?n.length===i.length&&tc(n,function(s){return i.includes(s)}):i===n)},Ds.prototype.isShown=function(){return this.isOpen()&&Nn(this._current.html).has("open")},Ds.prototype.show=function(){this.isOpen()&&(Nn(this._current.html).add("open"),this._updatePosition(),this._eventBus.fire("contextPad.show",{current:this._current}))},Ds.prototype.hide=function(){this.isOpen()&&(Nn(this._current.html).remove("open"),this._eventBus.fire("contextPad.hide",{current:this._current}))},Ds.prototype._getPosition=function(n){if(!Vt(n)&&ri(n)){var t=this._canvas.viewbox(),i=function qrt(n){return n.waypoints[n.waypoints.length-1]}(n),o=i.y*t.scale-t.y*t.scale;return{left:i.x*t.scale-t.x*t.scale+8*this._canvas.zoom(),top:o}}var l=this._canvas.getContainer().getBoundingClientRect(),c=this._getTargetBounds(n);return{left:c.right-l.left+8*this._canvas.zoom(),top:c.top-l.top}},Ds.prototype._updatePosition=function(){this._scheduler.schedule(()=>{if(this.isOpen()){var t=this._current.html,i=this._getPosition(this._current.target);"x"in i&&"y"in i?(t.style.left=i.x+"px",t.style.top=i.y+"px"):["top","right","bottom","left"].forEach(function(s){s in i&&(t.style[s]=i[s]+"px")})}},"ContextPad#_updatePosition")},Ds.prototype._updateVisibility=function(){this._scheduler.schedule(()=>{if(this.isOpen()){var t=this,i=this._current.target;(Vt(i)?i:[i]).some(function(a){return t._canvas.hasMarker(a,"djs-element-hidden")})?t.hide():t.show()}},"ContextPad#_updateVisibility")},Ds.prototype._getTargetBounds=function(n){var t=this;return(Vt(n)?n:[n]).map(function(o){return t._canvas.getGraphics(o)}).reduce(function(o,a){const l=a.getBoundingClientRect();return o.top=Math.min(o.top,l.top),o.right=Math.max(o.right,l.right),o.bottom=Math.max(o.bottom,l.bottom),o.left=Math.min(o.left,l.left),o.x=o.left,o.y=o.top,o.width=o.right-o.left,o.height=o.bottom-o.top,o},{top:1/0,right:-1/0,bottom:-1/0,left:1/0})};const zL={__depends__:[GS,Vrt,Dv],contextPad:["type",Ds]};var KE,_n,Aue,Ag,Iue,Rue,HL,Nue,YE={},UL=[],Krt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,$O=Array.isArray;function lf(n,t){for(var i in t)n[i]=t[i];return n}function Lue(n){var t=n.parentNode;t&&t.removeChild(n)}function zt(n,t,i){var s,o,a,l={};for(a in t)"key"==a?s=t[a]:"ref"==a?o=t[a]:l[a]=t[a];if(arguments.length>2&&(l.children=arguments.length>3?KE.call(arguments,2):i),"function"==typeof n&&null!=n.defaultProps)for(a in n.defaultProps)void 0===l[a]&&(l[a]=n.defaultProps[a]);return XE(n,l,s,o,null)}function XE(n,t,i,s,o){var a={type:n,props:t,key:i,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++Aue,__i:-1,__u:0};return null==o&&null!=_n.vnode&&_n.vnode(a),a}function go(n){return n.children}function Ud(n,t){this.props=n,this.context=t}function Xv(n,t){if(null==t)return n.__?Xv(n.__,n.__i+1):null;for(var i;t<n.__k.length;t++)if(null!=(i=n.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof n.type?Xv(n):null}function Xrt(n,t,i){var s,o=n.__v,a=o.__e,l=n.__P;if(l)return(s=lf({},o)).__v=o.__v+1,_n.vnode&&_n.vnode(s),WL(l,s,o,n.__n,void 0!==l.ownerSVGElement,32&o.__u?[a]:null,t,a??Xv(o),!!(32&o.__u),i),s.__v=o.__v,s.__.__k[s.__i]=s,s.__d=void 0,s.__e!=a&&Fue(s),s}function Fue(n){var t,i;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,t=0;t<n.__k.length;t++)if(null!=(i=n.__k[t])&&null!=i.__e){n.__e=n.__c.base=i.__e;break}return Fue(n)}}function qL(n){(!n.__d&&(n.__d=!0)&&Ag.push(n)&&!zO.__r++||Iue!==_n.debounceRendering)&&((Iue=_n.debounceRendering)||Rue)(zO)}function zO(){var n,t,i,s=[],o=[];for(Ag.sort(HL);n=Ag.shift();)n.__d&&(i=Ag.length,t=Xrt(n,s,o)||t,0===i||Ag.length>i?(GL(s,t,o),o.length=s.length=0,t=void 0,Ag.sort(HL)):t&&_n.__c&&_n.__c(t,UL));t&&GL(s,t,o),zO.__r=0}function Bue(n,t,i,s,o,a,l,c,u,d,p){var f,h,m,g,y,v=s&&s.__k||UL,_=t.length;for(i.__d=u,function Zrt(n,t,i){var s,o,a,l,c,u=t.length,d=i.length,p=d,f=0;for(n.__k=[],s=0;s<u;s++)null!=(o=n.__k[s]=null==(o=t[s])||"boolean"==typeof o||"function"==typeof o?null:"string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?XE(null,o,null,null,o):$O(o)?XE(go,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?XE(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)?(o.__=n,o.__b=n.__b+1,c=Qrt(o,i,l=s+f,p),o.__i=c,a=null,-1!==c&&(p--,(a=i[c])&&(a.__u|=131072)),null==a||null===a.__v?(-1==c&&f--,"function"!=typeof o.type&&(o.__u|=65536)):c!==l&&(c===l+1?f++:c>l?p>u-l?f+=c-l:f--:f=c<l&&c==l-1?c-l:0,c!==s+f&&(o.__u|=65536))):(a=i[s])&&null==a.key&&a.__e&&!(131072&a.__u)&&(a.__e==n.__d&&(n.__d=Xv(a)),YL(a,a,!1),i[s]=null,p--);if(p)for(s=0;s<d;s++)null!=(a=i[s])&&!(131072&a.__u)&&(a.__e==n.__d&&(n.__d=Xv(a)),YL(a,a))}(i,t,v),u=i.__d,f=0;f<_;f++)null!=(m=i.__k[f])&&"boolean"!=typeof m&&"function"!=typeof m&&(h=-1===m.__i?YE:v[m.__i]||YE,m.__i=f,WL(n,m,h,o,a,l,c,u,d,p),g=m.__e,m.ref&&h.ref!=m.ref&&(h.ref&&KL(h.ref,null,m),p.push(m.ref,m.__c||g,m)),null==y&&null!=g&&(y=g),65536&m.__u||h.__k===m.__k?u=jue(m,u,n):"function"==typeof m.type&&void 0!==m.__d?u=m.__d:g&&(u=g.nextSibling),m.__d=void 0,m.__u&=-196609);i.__d=u,i.__e=y}function jue(n,t,i){var s,o;if("function"==typeof n.type){for(s=n.__k,o=0;s&&o<s.length;o++)s[o]&&(s[o].__=n,t=jue(s[o],t,i));return t}n.__e!=t&&(i.insertBefore(n.__e,t||null),t=n.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function cf(n,t){return t=t||[],null==n||"boolean"==typeof n||($O(n)?n.some(function(i){cf(i,t)}):t.push(n)),t}function Qrt(n,t,i,s){var o=n.key,a=n.type,l=i-1,c=i+1,u=t[i];if(null===u||u&&o==u.key&&a===u.type)return i;if(s>(null==u||131072&u.__u?0:1))for(;l>=0||c<t.length;){if(l>=0){if((u=t[l])&&!(131072&u.__u)&&o==u.key&&a===u.type)return l;l--}if(c<t.length){if((u=t[c])&&!(131072&u.__u)&&o==u.key&&a===u.type)return c;c++}}return-1}function Vue(n,t,i){"-"===t[0]?n.setProperty(t,i??""):n[t]=null==i?"":"number"!=typeof i||Krt.test(t)?i:i+"px"}function HO(n,t,i,s,o){var a;e:if("style"===t)if("string"==typeof i)n.style.cssText=i;else{if("string"==typeof s&&(n.style.cssText=s=""),s)for(t in s)i&&t in i||Vue(n.style,t,"");if(i)for(t in i)s&&i[t]===s[t]||Vue(n.style,t,i[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in n?t.toLowerCase().slice(2):t.slice(2),n.l||(n.l={}),n.l[t+a]=i,i?s?i.u=s.u:(i.u=Date.now(),n.addEventListener(t,a?zue:$ue,a)):n.removeEventListener(t,a?zue:$ue,a);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in n)try{n[t]=i??"";break e}catch{}"function"==typeof i||(null==i||!1===i&&"-"!==t[4]?n.removeAttribute(t):n.setAttribute(t,i))}}function $ue(n){if(this.l){var t=this.l[n.type+!1];if(n.t){if(n.t<=t.u)return}else n.t=Date.now();return t(_n.event?_n.event(n):n)}}function zue(n){if(this.l)return this.l[n.type+!0](_n.event?_n.event(n):n)}function WL(n,t,i,s,o,a,l,c,u,d){var p,f,h,m,g,y,v,_,E,x,b,w,C,P,D,I=t.type;if(void 0!==t.constructor)return null;128&i.__u&&(u=!!(32&i.__u),a=[c=t.__e=i.__e]),(p=_n.__b)&&p(t);e:if("function"==typeof I)try{if(_=t.props,E=(p=I.contextType)&&s[p.__c],x=p?E?E.props.value:p.__:s,i.__c?v=(f=t.__c=i.__c).__=f.__E:("prototype"in I&&I.prototype.render?t.__c=f=new I(_,x):(t.__c=f=new Ud(_,x),f.constructor=I,f.render=eit),E&&E.sub(f),f.props=_,f.state||(f.state={}),f.context=x,f.__n=s,h=f.__d=!0,f.__h=[],f._sb=[]),null==f.__s&&(f.__s=f.state),null!=I.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=lf({},f.__s)),lf(f.__s,I.getDerivedStateFromProps(_,f.__s))),m=f.props,g=f.state,f.__v=t,h)null==I.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==I.getDerivedStateFromProps&&_!==m&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(_,x),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(_,f.__s,x)||t.__v===i.__v)){for(t.__v!==i.__v&&(f.props=_,f.state=f.__s,f.__d=!1),t.__e=i.__e,t.__k=i.__k,t.__k.forEach(function(k){k&&(k.__=t)}),b=0;b<f._sb.length;b++)f.__h.push(f._sb[b]);f._sb=[],f.__h.length&&l.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(_,f.__s,x),null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(m,g,y)})}if(f.context=x,f.props=_,f.__P=n,f.__e=!1,w=_n.__r,C=0,"prototype"in I&&I.prototype.render){for(f.state=f.__s,f.__d=!1,w&&w(t),p=f.render(f.props,f.state,f.context),P=0;P<f._sb.length;P++)f.__h.push(f._sb[P]);f._sb=[]}else do{f.__d=!1,w&&w(t),p=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++C<25);f.state=f.__s,null!=f.getChildContext&&(s=lf(lf({},s),f.getChildContext())),h||null==f.getSnapshotBeforeUpdate||(y=f.getSnapshotBeforeUpdate(m,g)),Bue(n,$O(D=null!=p&&p.type===go&&null==p.key?p.props.children:p)?D:[D],t,i,s,o,a,l,c,u,d),f.base=t.__e,t.__u&=-161,f.__h.length&&l.push(f),v&&(f.__E=f.__=null)}catch(k){t.__v=null,u||null!=a?(t.__e=c,t.__u|=u?160:32,a[a.indexOf(c)]=null):(t.__e=i.__e,t.__k=i.__k),_n.__e(k,t,i)}else null==a&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=function Jrt(n,t,i,s,o,a,l,c,u){var d,p,f,h,m,g,y,v=i.props,_=t.props,E=t.type;if("svg"===E&&(o=!0),null!=a)for(d=0;d<a.length;d++)if((m=a[d])&&"setAttribute"in m==!!E&&(E?m.localName===E:3===m.nodeType)){n=m,a[d]=null;break}if(null==n){if(null===E)return document.createTextNode(_);n=o?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,_.is&&_),a=null,c=!1}if(null===E)v===_||c&&n.data===_||(n.data=_);else{if(a=a&&KE.call(n.childNodes),v=i.props||YE,!c&&null!=a)for(v={},d=0;d<n.attributes.length;d++)v[(m=n.attributes[d]).name]=m.value;for(d in v)m=v[d],"children"==d||("dangerouslySetInnerHTML"==d?f=m:"key"===d||d in _||HO(n,d,null,m,o));for(d in _)m=_[d],"children"==d?h=m:"dangerouslySetInnerHTML"==d?p=m:"value"==d?g=m:"checked"==d?y=m:"key"===d||c&&"function"!=typeof m||v[d]===m||HO(n,d,m,v[d],o);if(p)c||f&&(p.__html===f.__html||p.__html===n.innerHTML)||(n.innerHTML=p.__html),t.__k=[];else if(f&&(n.innerHTML=""),Bue(n,$O(h)?h:[h],t,i,s,o&&"foreignObject"!==E,a,l,a?a[0]:i.__k&&Xv(i,0),c,u),null!=a)for(d=a.length;d--;)null!=a[d]&&Lue(a[d]);c||(d="value",void 0!==g&&(g!==n[d]||"progress"===E&&!g||"option"===E&&g!==v[d])&&HO(n,d,g,v[d],!1),d="checked",void 0!==y&&y!==n[d]&&HO(n,d,y,v[d],!1))}return n}(i.__e,t,i,s,o,a,l,u,d);(p=_n.diffed)&&p(t)}function GL(n,t,i){for(var s=0;s<i.length;s++)KL(i[s],i[++s],i[++s]);_n.__c&&_n.__c(t,n),n.some(function(o){try{n=o.__h,o.__h=[],n.some(function(a){a.call(o)})}catch(a){_n.__e(a,o.__v)}})}function KL(n,t,i){try{"function"==typeof n?n(t):n.current=t}catch(s){_n.__e(s,i)}}function YL(n,t,i){var s,o;if(_n.unmount&&_n.unmount(n),(s=n.ref)&&(s.current&&s.current!==n.__e||KL(s,null,t)),null!=(s=n.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(a){_n.__e(a,t)}s.base=s.__P=null,n.__c=void 0}if(s=n.__k)for(o=0;o<s.length;o++)s[o]&&YL(s[o],t,i||"function"!=typeof n.type);i||null==n.__e||Lue(n.__e),n.__=n.__e=n.__d=void 0}function eit(n,t,i){return this.constructor(n,i)}function uf(n,t,i){var s,o,a,l;_n.__&&_n.__(n,t),o=(s="function"==typeof i)?null:i&&i.__k||t.__k,a=[],l=[],WL(t,n=(!s&&i||t).__k=zt(go,null,[n]),o||YE,YE,void 0!==t.ownerSVGElement,!s&&i?[i]:o?null:t.firstChild?KE.call(t.childNodes):null,a,!s&&i?i:o?o.__e:t.firstChild,s,l),n.__d=void 0,GL(a,n,l)}function UO(n,t){var i={__c:t="__cC"+Nue++,__:n,Consumer:function(s,o){return s.children(o)},Provider:function(s){var o,a;return this.getChildContext||(o=[],(a={})[t]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&o.some(function(c){c.__e=!0,qL(c)})},this.sub=function(l){o.push(l);var c=l.componentWillUnmount;l.componentWillUnmount=function(){o.splice(o.indexOf(l),1),c&&c.call(l)}}),s.children}};return i.Provider.__=i.Consumer.contextType=i}KE=UL.slice,_n={__e:function(n,t,i,s){for(var o,a,l;t=t.__;)if((o=t.__c)&&!o.__)try{if((a=o.constructor)&&null!=a.getDerivedStateFromError&&(o.setState(a.getDerivedStateFromError(n)),l=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(n,s||{}),l=o.__d),l)return o.__E=o}catch(c){n=c}throw n}},Aue=0,Ud.prototype.setState=function(n,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=lf({},this.state),"function"==typeof n&&(n=n(lf({},i),this.props)),n&&lf(i,n),null!=n&&this.__v&&(t&&this._sb.push(t),qL(this))},Ud.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),qL(this))},Ud.prototype.render=go,Ag=[],Rue="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,HL=function(n,t){return n.__v.__b-t.__v.__b},zO.__r=0,Nue=0;var df,Ti,XL,Wue,Uue=function(n,t,i,s){var o;t[0]=0;for(var a=1;a<t.length;a++){var l=t[a++],c=t[a]?(t[0]|=l?1:2,i[t[a++]]):t[++a];3===l?s[0]=c:4===l?s[1]=Object.assign(s[1]||{},c):5===l?(s[1]=s[1]||{})[t[++a]]=c:6===l?s[1][t[++a]]+=c+"":l?(o=n.apply(c,Uue(n,c,i,["",null])),s.push(o),c[0]?t[0]|=2:(t[a-2]=0,t[a]=o)):s.push(c)}return s},que=new Map,os=function nit(n){var t=que.get(this);return t||que.set(this,t=new Map),(t=Uue(this,t.get(n)||(t.set(n,t=function(i){for(var s,o,a=1,l="",c="",u=[0],d=function(h){1===a&&(h||(l=l.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?u.push(0,h,l):3===a&&(h||l)?(u.push(3,h,l),a=2):2===a&&"..."===l&&h?u.push(4,h,0):2===a&&l&&!h?u.push(5,0,!0,l):a>=5&&((l||!h&&5===a)&&(u.push(a,0,l,o),a=6),h&&(u.push(a,h,0,o),a=6)),l=""},p=0;p<i.length;p++){p&&(1===a&&d(),d(p));for(var f=0;f<i[p].length;f++)s=i[p][f],1===a?"<"===s?(d(),u=[u],a=3):l+=s:4===a?"--"===l&&">"===s?(a=1,l=""):l=s+l[0]:c?s===c?c="":l+=s:'"'===s||"'"===s?c=s:">"===s?(d(),a=1):a&&("="===s?(a=5,o=l,l=""):"/"===s&&(a<5||">"===i[p][f+1])?(d(),3===a&&(u=u[0]),a=u,(u=u[0]).push(2,0,a),a=0):" "===s||"\t"===s||"\n"===s||"\r"===s?(d(),a=2):l+=s),3===a&&"!--"===l&&(a=4,u=u[0])}return d(),u}(n)),t),arguments,[])).length>1?t:t[0]}.bind(zt),Zv=0,Gue=[],qO=[],Kue=_n.__b,Yue=_n.__r,Xue=_n.diffed,Zue=_n.__c,Que=_n.unmount;function Ig(n,t){_n.__h&&_n.__h(Ti,n,Zv||t),Zv=0;var i=Ti.__H||(Ti.__H={__:[],__h:[]});return n>=i.__.length&&i.__.push({__V:qO}),i.__[n]}function Lr(n){return Zv=1,function Jue(n,t,i){var s=Ig(df++,2);if(s.t=n,!s.__c&&(s.__=[i?i(t):tde(void 0,t),function(c){var u=s.__N?s.__N[0]:s.__[0],d=s.t(u,c);u!==d&&(s.__N=[d,s.__[1]],s.__c.setState({}))}],s.__c=Ti,!Ti.u)){var o=function(c,u,d){if(!s.__c.__H)return!0;var p=s.__c.__H.__.filter(function(h){return h.__c});if(p.every(function(h){return!h.__N}))return!a||a.call(this,c,u,d);var f=!1;return p.forEach(function(h){if(h.__N){var m=h.__[0];h.__=h.__N,h.__N=void 0,m!==h.__[0]&&(f=!0)}}),!(!f&&s.__c.props===c)&&(!a||a.call(this,c,u,d))};Ti.u=!0;var a=Ti.shouldComponentUpdate,l=Ti.componentWillUpdate;Ti.componentWillUpdate=function(c,u,d){if(this.__e){var p=a;a=void 0,o(c,u,d),a=p}l&&l.call(this,c,u,d)},Ti.shouldComponentUpdate=o}return s.__N||s.__}(tde,n)}function pi(n,t){var i=Ig(df++,3);!_n.__s&&QL(i.__H,t)&&(i.__=n,i.i=t,Ti.__H.__h.push(i))}function Jh(n,t){var i=Ig(df++,4);!_n.__s&&QL(i.__H,t)&&(i.__=n,i.i=t,Ti.__h.push(i))}function hs(n){return Zv=5,cr(function(){return{current:n}},[])}function cr(n,t){var i=Ig(df++,7);return QL(i.__H,t)?(i.__V=n(),i.i=t,i.__h=n,i.__V):i.__}function gr(n,t){return Zv=8,cr(function(){return n},t)}function Ea(n){var t=Ti.context[n.__c],i=Ig(df++,9);return i.c=n,t?(null==i.__&&(i.__=!0,t.sub(Ti)),t.props.value):n.__}function oit(){for(var n;n=Gue.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(WO),n.__H.__h.forEach(ZL),n.__H.__h=[]}catch(t){n.__H.__h=[],_n.__e(t,n.__v)}}_n.__b=function(n){Ti=null,Kue&&Kue(n)},_n.__r=function(n){Yue&&Yue(n),df=0;var t=(Ti=n.__c).__H;t&&(XL===Ti?(t.__h=[],Ti.__h=[],t.__.forEach(function(i){i.__N&&(i.__=i.__N),i.__V=qO,i.__N=i.i=void 0})):(t.__h.forEach(WO),t.__h.forEach(ZL),t.__h=[],df=0)),XL=Ti},_n.diffed=function(n){Xue&&Xue(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Gue.push(t)&&Wue===_n.requestAnimationFrame||((Wue=_n.requestAnimationFrame)||ait)(oit)),t.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.__V!==qO&&(i.__=i.__V),i.i=void 0,i.__V=qO})),XL=Ti=null},_n.__c=function(n,t){t.some(function(i){try{i.__h.forEach(WO),i.__h=i.__h.filter(function(s){return!s.__||ZL(s)})}catch(s){t.some(function(o){o.__h&&(o.__h=[])}),t=[],_n.__e(s,i.__v)}}),Zue&&Zue(n,t)},_n.unmount=function(n){Que&&Que(n);var t,i=n.__c;i&&i.__H&&(i.__H.__.forEach(function(s){try{WO(s)}catch(o){t=o}}),i.__H=void 0,t&&_n.__e(t,i.__v))};var ede="function"==typeof requestAnimationFrame;function ait(n){var t,i=function(){clearTimeout(s),ede&&cancelAnimationFrame(t),setTimeout(n)},s=setTimeout(i,100);ede&&(t=requestAnimationFrame(i))}function WO(n){var t=Ti,i=n.__c;"function"==typeof i&&(n.__c=void 0,i()),Ti=t}function ZL(n){var t=Ti;n.__c=n.__(),Ti=t}function QL(n,t){return!n||n.length!==t.length||t.some(function(i,s){return i!==n[s]})}function tde(n,t){return"function"==typeof t?t(n):t}function nde(n){var t,i,s="";if("string"==typeof n||"number"==typeof n)s+=n;else if("object"==typeof n)if(Array.isArray(n)){var o=n.length;for(t=0;t<o;t++)n[t]&&(i=nde(n[t]))&&(s&&(s+=" "),s+=i)}else for(i in n)n[i]&&(s&&(s+=" "),s+=i);return s}const GO=function lit(){for(var n,t,i=0,s="",o=arguments.length;i<o;i++)(n=arguments[i])&&(t=nde(n))&&(s&&(s+=" "),s+=t);return s};function cit(n){const{headerEntries:t,onSelect:i,selectedEntry:s,setSelectedEntry:o,title:a}=n,l=cr(()=>function uit(n){return n.reduce((t,i)=>{const s=i.group||"default",o=t.find(a=>a.id===s);return o?o.entries.push(i):t.push({id:s,entries:[i]}),t},[])}(t),[t]);return os`
    <div class="djs-popup-header">
      <h3 class="djs-popup-title" title=${a}>${a}</h3>
      ${l.map(c=>os`
        <ul key=${c.id} class="djs-popup-header-group" data-header-group=${c.id}>

          ${c.entries.map(u=>os`
            <li key=${u.id}>
              <${u.action?"button":"span"}
                class=${function dit(n,t){return GO("entry",n.className,n.active?"active":"",n.disabled?"disabled":"",t?"selected":"")}(u,u===s)}
                onClick=${d=>u.action&&i(d,u)}
                title=${u.title||u.label}
                data-id=${u.id}
                onMouseEnter=${()=>u.action&&o(u)}
                onMouseLeave=${()=>u.action&&o(null)}
                onFocus=${()=>u.action&&o(u)}
                onBlur=${()=>u.action&&o(null)}
              >
                ${u.imageUrl&&os`<img class="djs-popup-entry-icon" src=${u.imageUrl} alt="" />`||u.imageHtml&&os`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:u.imageHtml}} />`}
                ${u.label?os`
                  <span class="djs-popup-label">${u.label}</span>
                `:null}
              </${u.action?"button":"span"}>
            </li>
          `)}
        </ul>
      `)}
    </div>
  `}function pit(n){const{entry:t,selected:i,onMouseEnter:s,onMouseLeave:o,onAction:a}=n;return os`
    <li
      class=${GO("entry",{selected:i})}
      data-id=${t.id}
      title=${t.title||t.label}
      tabIndex="0"
      onClick=${a}
      onFocus=${s}
      onBlur=${o}
      onMouseEnter=${s}
      onMouseLeave=${o}
      onDragStart=${l=>a(l,t,"dragstart")}
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${GO("djs-popup-entry-name",t.className)}
        >
          ${t.imageUrl&&os`<img class="djs-popup-entry-icon" src=${t.imageUrl} alt="" />`||t.imageHtml&&os`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:t.imageHtml}} />`}

          ${t.label?os`
            <span class="djs-popup-label">
              ${t.label}
            </span>
          `:null}
        </span>
        ${t.description&&os`
          <span
            class="djs-popup-entry-description"
            title=${t.description}
          >
            ${t.description}
          </span>
        `}
      </div>
      ${t.documentationRef&&os`
        <div class="djs-popup-entry-docs">
          <a
            href="${t.documentationRef}"
            onClick=${l=>l.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function fit(n){const{selectedEntry:t,setSelectedEntry:i,entries:s,...o}=n,a=hs(),l=cr(()=>function hit(n){const t=[],i=a=>t.find(l=>a.id===l.id);return n.forEach(a=>{const l=a.group?(a=>"string"==typeof a?{id:a}:a)(a.group):{id:"default"};(a=>!!i(a))(l)?i(l).entries.push(a):t.push({...l,entries:[a]})}),t}(s),[s]);return Jh(()=>{const c=a.current;if(!c)return;const u=c.querySelector(".selected");u&&function mit(n){"function"==typeof n.scrollIntoViewIfNeeded?n.scrollIntoViewIfNeeded():n.scrollIntoView({scrollMode:"if-needed",block:"nearest"})}(u)},[t]),os`
    <div class="djs-popup-results" ref=${a}>
      ${l.map(c=>os`
        ${c.name&&os`
          <div key=${c.id} class="entry-header" title=${c.name}>
            ${c.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${c.id}>
          ${c.entries.map(u=>os`
            <${pit}
              key=${u.id}
              entry=${u}
              selected=${u===t}
              onMouseEnter=${()=>i(u)}
              onMouseLeave=${()=>i(null)}
              ...${o}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function git(n){const{onClose:t,onSelect:i,className:s,headerEntries:o,position:a,title:l,width:c,scale:u,search:d,emptyPlaceholder:p,entries:f,onOpened:h,onClosed:m}=n,g=cr(()=>!!Hr(d)&&f.length>5,[d,f]),[y,v]=Lr(""),_=gr((F,M)=>g?F.filter(q=>{if(!M)return(q.rank||0)>=0;if(!1===q.searchable)return!1;const ue=[q.description||"",q.label||"",q.search||""].map(H=>H.toLowerCase());return M.toLowerCase().split(/\s/g).every(H=>ue.some(ee=>ee.includes(H)))}):F,[g]),[E,x]=Lr(_(f,y)),[b,w]=Lr(E[0]),C=gr(F=>{(!b||!F.includes(b))&&w(F[0]),x(F)},[b,x,w]);pi(()=>{C(_(f,y))},[y,f]);const P=gr(F=>{let B=E.indexOf(b)+F;B<0&&(B=E.length-1),B>=E.length&&(B=0),w(E[B])},[E,b,w]),D=gr(F=>"Enter"===F.key&&b?i(F,b):"ArrowUp"===F.key?(P(-1),F.preventDefault()):"ArrowDown"===F.key?(P(1),F.preventDefault()):void 0,[i,b,P]),I=gr(F=>{Sv(F.target,"input")&&v(()=>F.target.value)},[v]);pi(()=>(h(),()=>{m()}),[]);const k=cr(()=>l||o.length>0,[l,o]);return os`
    <${rde}
      onClose=${t}
      onKeyup=${I}
      onKeydown=${D}
      className=${s}
      position=${a}
      width=${c}
      scale=${u}
    >
      ${k&&os`
        <${cit}
          headerEntries=${o}
          onSelect=${i}
          selectedEntry=${b}
          setSelectedEntry=${w}
          title=${l}
        />
      `}
      ${f.length>0&&os`
        <div class="djs-popup-body">

          ${g&&os`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input type="text" spellcheck=${!1} aria-label="${l}" />
          </div>
          `}

          <${fit}
            entries=${E}
            selectedEntry=${b}
            setSelectedEntry=${w}
            onAction=${i}
          />
        </div>
      `}
    ${p&&0===E.length&&os`
      <div class="djs-popup-no-results">${Gn(p)?p(y):p}</div>
    `}
    </${rde}>
  `}function rde(n){const{onClose:t,onKeydown:i,onKeyup:s,className:o,children:a,position:l}=n,c=hs();return Jh(()=>{if("function"!=typeof l)return;const u=c.current,d=l(u);u.style.left=`${d.x}px`,u.style.top=`${d.y}px`},[c.current,l]),Jh(()=>{const u=c.current;u&&(u.querySelector("input")||u).focus()},[]),pi(()=>{const u=p=>{if("Escape"===p.key)return p.preventDefault(),t()},d=p=>{if(!Ho(p.target,".djs-popup",!0))return t()};return document.documentElement.addEventListener("keydown",u),document.body.addEventListener("click",d),()=>{document.documentElement.removeEventListener("keydown",u),document.body.removeEventListener("click",d)}},[]),os`
    <div
      class=${GO("djs-popup",o)}
      style=${function yit(n){return{transform:`scale(${n.scale})`,width:`${n.width}px`,"transform-origin":"top left"}}(n)}
      onKeydown=${i}
      onKeyup=${s}
      ref=${c}
      tabIndex="-1"
    >
      ${a}
    </div>
  `}var ide=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function Yi(n,t,i){this._eventBus=t,this._canvas=i,this._current=null;var s=Hr(n&&n.scale)?n.scale:{min:1,max:1};this._config={scale:s},t.on("diagram.destroy",()=>{this.close()}),t.on("element.changed",o=>{const a=this.isOpen()&&this._current.target;o.element===a&&this.refresh()})}Yi.$inject=["config.popupMenu","eventBus","canvas"],Yi.prototype._render=function(){const{position:n,providerId:t,entries:i,headerEntries:s,emptyPlaceholder:o,options:a}=this._current,l=Object.entries(i).map(([h,m])=>({id:h,...m})),c=Object.entries(s).map(([h,m])=>({id:h,...m})),u=n&&(h=>this._ensureVisible(h,n)),d=this._updateScale(this._current.container);uf(os`
      <${git}
        onClose=${h=>this.close(h)}
        onSelect=${(h,m,g)=>this.trigger(h,m,g)}
        position=${u}
        className=${t}
        entries=${l}
        headerEntries=${c}
        emptyPlaceholder=${o}
        scale=${d}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        ...${{...a}}
      />
    `,this._current.container)},Yi.prototype.open=function(n,t,i,s){if(!n)throw new Error("target is missing");if(!t)throw new Error("providers for <"+t+"> not found");if(!i)throw new Error("position is missing");this.isOpen()&&this.close();const{entries:o,headerEntries:a,emptyPlaceholder:l}=this._getContext(n,t);this._current={position:i,providerId:t,target:n,entries:o,headerEntries:a,emptyPlaceholder:l,container:this._createContainer({provider:t}),options:s},this._emit("open"),this._bindAutoClose(),this._render()},Yi.prototype.refresh=function(){if(!this.isOpen())return;const{target:n,providerId:t}=this._current,{entries:i,headerEntries:s,emptyPlaceholder:o}=this._getContext(n,t);this._current={...this._current,entries:i,headerEntries:s,emptyPlaceholder:o},this._emit("refresh"),this._render()},Yi.prototype._getContext=function(n,t){const i=this._getProviders(t);if(!i||!i.length)throw new Error("provider for <"+t+"> not found");const s=this._getEntries(n,i),o=this._getHeaderEntries(n,i);return{entries:s,headerEntries:o,emptyPlaceholder:this._getEmptyPlaceholder(i),empty:!(Object.keys(s).length||Object.keys(o).length)}},Yi.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._current=null)},Yi.prototype.reset=function(){const n=this._current.container;uf(null,n),xo(n)},Yi.prototype._emit=function(n,t){this._eventBus.fire(`popupMenu.${n}`,t)},Yi.prototype._onOpened=function(){this._emit("opened")},Yi.prototype._onClosed=function(){this._emit("closed")},Yi.prototype._createContainer=function(n){var i=this._canvas.getContainer();const s=lr(`<div class="djs-popup-parent djs-scrollable" data-popup=${n.provider}></div>`);return i.appendChild(s),s},Yi.prototype._bindAutoClose=function(){this._eventBus.once(ide,this.close,this)},Yi.prototype._unbindAutoClose=function(){this._eventBus.off(ide,this.close,this)},Yi.prototype._updateScale=function(){var i,s,n=this._canvas.zoom(),t=this._config.scale,o=n;return!0!==t&&(!1===t?(i=1,s=1):(i=t.min,s=t.max),Hr(i)&&n<i&&(o=i),Hr(s)&&n>s&&(o=s)),o},Yi.prototype._ensureVisible=function(n,t){var i=document.documentElement.getBoundingClientRect(),s=n.getBoundingClientRect(),o={},a=t.x,l=t.y;return t.x+s.width>i.width&&(o.x=!0),t.y+s.height>i.height&&(o.y=!0),o.x&&o.y?(a=t.x-s.width,l=t.y-s.height):o.x?(a=t.x-s.width,l=t.y):o.y&&t.y<s.height?(a=t.x,l=10):o.y&&(a=t.x,l=t.y-s.height),t.y<i.top&&(l=t.y+s.height),{x:a,y:l}},Yi.prototype.isEmpty=function(n,t){if(!n)throw new Error("target is missing");if(!t)throw new Error("provider ID is missing");const i=this._getProviders(t);return!i||!i.length||this._getContext(n,t).empty},Yi.prototype.registerProvider=function(n,t,i){i||(i=t,t=1e3),this._eventBus.on("popupMenu.getProviders."+n,t,function(s){s.providers.push(i)})},Yi.prototype._getProviders=function(n){var t=this._eventBus.createEvent({type:"popupMenu.getProviders."+n,providers:[]});return this._eventBus.fire(t),t.providers},Yi.prototype._getEntries=function(n,t){var i={};return se(t,function(s){if(s.getPopupMenuEntries){var o=s.getPopupMenuEntries(n);Gn(o)?i=o(i):se(o,function(a,l){i[l]=a})}else se(s.getEntries(n),function(a){var l=a.id;if(!l)throw new Error("entry ID is missing");i[l]=Wc(a,["id"])})}),i},Yi.prototype._getHeaderEntries=function(n,t){var i={};return se(t,function(s){if(s.getPopupMenuHeaderEntries){var o=s.getPopupMenuHeaderEntries(n);Gn(o)?i=o(i):se(o,function(a,l){i[l]=a})}else{if(!s.getHeaderEntries)return;se(s.getHeaderEntries(n),function(a){var l=a.id;if(!l)throw new Error("entry ID is missing");i[l]=Wc(a,["id"])})}}),i},Yi.prototype._getEmptyPlaceholder=function(n){const t=n.find(i=>Gn(i.getEmptyPlaceholder));return t&&t.getEmptyPlaceholder()},Yi.prototype.isOpen=function(){return!!this._current},Yi.prototype.trigger=function(n,t,i="click"){if(n.preventDefault(),!t){let a=fo(Ho(n.delegateTarget||n.target,".entry",!0),"data-id");t={id:a,...this._getEntry(a)}}const s=t.action;if(!1!==this._emit("trigger",{entry:t,event:n}))if(Gn(s)){if("click"===i)return s(n,t)}else if(s[i])return s[i](n,t)},Yi.prototype._getEntry=function(n){var t=this._current.entries[n]||this._current.headerEntries[n];if(!t)throw new Error("entry not found");return t};const KO={__init__:["popupMenu"],popupMenu:["type",Yi]},sde={align:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 2000">\n              <line x1="200" y1="150" x2="200" y2="1850" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n              <rect x="500" y="150" width="1300" height="700" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n              <rect x="500" y="1150" width="700" height="700" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',bottom:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="1650" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="350" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="850" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="900" y1="150" x2="900" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="250" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="500" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="100" y1="150" x2="100" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="100" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="100" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="1650" y1="150" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="350" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="850" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',top:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="150" x2="1650" y2="150" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="150" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="150" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',middle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="900" x2="1650" y2="900" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="250" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="500" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>'};function Qv(n,t,i,s){n.registerProvider(900,this),this._contextPad=n,this._popupMenu=t,this._translate=i,this._canvas=s}Qv.$inject=["contextPad","popupMenu","translate","canvas"],Qv.prototype.getMultiElementContextPadEntries=function(n){var t={};return this._isAllowed(n)&&pe(t,this._getEntries(n)),t},Qv.prototype._isAllowed=function(n){return!this._popupMenu.isEmpty(n,"align-elements")},Qv.prototype._getEntries=function(){var n=this;return{"align-elements":{group:"align-elements",title:n._translate("Align elements"),html:`<div class="entry">${sde.align}</div>`,action:{click:function(t,i){var s=n._getMenuPosition(i);pe(s,{cursor:{x:t.x,y:t.y}}),n._popupMenu.open(i,"align-elements",s)}}}}},Qv.prototype._getMenuPosition=function(n){var s=this._contextPad.getPad(n).html.getBoundingClientRect();return{x:s.left,y:s.bottom+5}};var wit=["left","center","right","top","middle","bottom"];function ZE(n,t,i,s){this._alignElements=t,this._translate=i,this._popupMenu=n,this._rules=s,n.registerProvider("align-elements",this)}function tl(n){Qe.call(this,n),this.init()}function YO(n){tl.call(this,n)}ZE.$inject=["popupMenu","alignElements","translate","rules"],ZE.prototype.getPopupMenuEntries=function(n){var t={};return this._isAllowed(n)&&pe(t,this._getEntries(n)),t},ZE.prototype._isAllowed=function(n){return this._rules.allowed("elements.align",{elements:n})},ZE.prototype._getEntries=function(n){var t=this._alignElements,i=this._translate,s=this._popupMenu,o={};return se(wit,function(a){o["align-elements-"+a]={group:"align",title:i("Align elements "+a),className:"bjs-align-elements-menu-entry",imageHtml:sde[a],action:function(){t.trigger(n,a),s.close()}}}),o},tl.$inject=["eventBus"],Lt(tl,Qe),tl.prototype.addRule=function(n,t,i){var s=this;"string"==typeof n&&(n=[n]),n.forEach(function(o){s.canExecute(o,t,function(a,l,c){return i(a)},!0)})},tl.prototype.init=function(){},YO.$inject=["eventBus"],Lt(YO,tl),YO.prototype.init=function(){this.addRule("elements.align",function(n){var i=hn(n.elements,function(s){return!(s.waypoints||s.host||s.labelTarget)});return!((i=VS(i)).length<2)&&i})};const xit={__depends__:[kue,zL,KO],__init__:["alignElementsContextPadProvider","alignElementsMenuProvider","bpmnAlignElements"],alignElementsContextPadProvider:["type",Qv],alignElementsMenuProvider:["type",ZE],bpmnAlignElements:["type",YO]};function QE(n,t,i,s){for(var o;o=Oit(n,i,t);)i=s(t,i,o);return i}function XO(n){return function(t,i,s){var o={x:i.x,y:i.y};return["x","y"].forEach(function(a){var l=n[a];if(l){var c="x"===a?"width":"height",u=l.margin,d=l.minDistance;o[a]=u<0?Math.min(s[a]+u-t[c]/2,i[a]-d+u):Math.max(s[a]+s[c]+u+t[c]/2,i[a]+d+u)}}),o}}function Oit(n,t,i){var s={x:t.x-i.width/2,y:t.y-i.height/2,width:i.width,height:i.height},o=function Tit(n){var t=JL(n);return n.host&&(t=t.concat(JL(n.host))),n.attachers&&(t=t.concat(n.attachers.reduce(function(i,s){return i.concat(JL(s))},[]))),t}(n);return It(o,function(a){return a!==i&&"intersect"===ji(a,s,10)})}function ade(n,t){t||(t={});var s=t.defaultDistance||50,o=t.direction||"e",a=t.filter,l=t.getWeight||function i(g){return g.source===n?1:-1},c=t.maxDistance||250,u=t.reference||"start";function d(g,y){return"n"===o?"start"===u?tn(g).top-tn(y).bottom:"center"===u?tn(g).top-cn(y).y:tn(g).top-tn(y).top:"w"===o?"start"===u?tn(g).left-tn(y).right:"center"===u?tn(g).left-cn(y).x:tn(g).left-tn(y).left:"s"===o?"start"===u?tn(y).top-tn(g).bottom:"center"===u?cn(y).y-tn(g).bottom:tn(y).bottom-tn(g).bottom:"start"===u?tn(y).left-tn(g).right:"center"===u?cn(y).x-tn(g).right:tn(y).right-tn(g).right}a||(a=kit);var p=n.incoming.filter(a).map(function(g){var y=l(g),v=y<0?d(g.source,n):d(n,g.source);return{id:g.source.id,distance:v,weight:y}}),f=n.outgoing.filter(a).map(function(g){var y=l(g),v=y>0?d(n,g.target):d(g.target,n);return{id:g.target.id,distance:v,weight:y}});return ps(p.concat(f).reduce(function(g,y){return g[y.id+"__weight_"+y.weight]=y,g},{}),function(g,y){var v=y.distance,_=y.weight;return v<0||v>c||(g[String(v)]||(g[String(v)]=0),g[String(v)]+=1*_,(!g.distance||g[g.distance]<g[String(v)])&&(g.distance=v)),g},{}).distance||s}function JL(n){return function Dit(n){return n.outgoing.map(function(t){return t.target})}(n).concat(function Pit(n){return n.incoming.map(function(t){return t.source})}(n))}function kit(){return!0}function lde(n,t,i){n.on("autoPlace",100,function(s){return function Ait(n,t,i){i||(i={});var s=i.defaultDistance||50,o=cn(n);return{x:tn(n).right+s+t.width/2,y:o.y}}(s.source,s.shape)}),n.on("autoPlace.end",function(s){i.scrollToElement(s.shape)}),this.append=function(s,o,a){n.fire("autoPlace.start",{source:s,shape:o});var l=n.fire("autoPlace",{source:s,shape:o}),c=t.appendShape(s,o,l,s.parent,a);return n.fire("autoPlace.end",{source:s,shape:c}),c}}function cde(n,t){n.on("autoPlace.end",500,function(i){t.select(i.shape)})}lde.$inject=["eventBus","modeling","canvas"],cde.$inject=["eventBus","selection"];const ude={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",lde],autoPlaceSelectionBehavior:["type",cde]};function Jv(n,t){for($n(t)&&(t=[t]);n=n.parent;)if(Kt(n,t))return n;return null}function dde(n,t){var i=Jv(n,"bpmn:Process");if(i)return!0;var o,s=["bpmn:Participant","bpmn:Lane"];if(i=Jv(n,s))return Xs(i);if(Kt(n,s))return Xs(n);for(o=G(n);o&&!T(o,"bpmn:Process");o=o.$parent);if(!t)return!0;var a=t.find(function(l){var c=G(l);return c&&c.get("processRef")===o});return!a||Xs(a)}function pde(n,t,i){var s=dde(n,i);return T(t,"bpmn:TextAnnotation")?function Rit(n,t,i){var s=tn(n),o=i?{x:s.right+t.width/2,y:s.top-50-t.height/2}:{x:s.right+50+t.width/2,y:s.bottom+t.height/2};ri(n)&&(o=cn(n),i?(o.x+=100,o.y-=50):(o.x+=100,o.y+=50));var a={margin:i?-30:30,minDistance:20};return QE(n,t,o,XO(i?{y:a}:{x:a}))}(n,t,s):Kt(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])?function Nit(n,t,i){var s=tn(n),a={margin:30,minDistance:30};return QE(n,t,i?{x:s.right-10+t.width/2,y:s.bottom+40+t.width/2}:{x:s.left-40-t.width/2,y:s.bottom-10+t.height/2},XO(i?{x:a}:{y:a}))}(n,t,s):T(t,"bpmn:FlowNode")?function Iit(n,t,i){var s=tn(n),o=cn(n),a=i?{directionHint:"e",minDistance:80,baseOrientation:"left",boundaryOrientation:"top",start:"top",end:"bottom"}:{directionHint:"s",minDistance:90,baseOrientation:"top",boundaryOrientation:"left",start:"left",end:"right"},l=ade(n,{filter:function(m){return T(m,"bpmn:SequenceFlow")},direction:a.directionHint}),c=30,u=a.minDistance,d=a.baseOrientation;T(n,"bpmn:BoundaryEvent")&&(-1!==(d=ji(n,n.host,-25)).indexOf(a.boundaryOrientation)&&(c*=-1));var f={margin:c,minDistance:u};return QE(n,t,i?{x:s.right+l+t.width/2,y:o.y+fde(d,u,a)}:{x:o.x+fde(d,u,a),y:s.bottom+l+t.height/2},XO(i?{y:f}:{x:f}))}(n,t,s):void 0}function fde(n,t,i){return n.includes(i.start)?-1*t:n.includes(i.end)?t:0}function hde(n,t){n.on("autoPlace",function(i){return pde(i.source,i.shape,t)})}hde.$inject=["eventBus","elementRegistry"];const eF={__depends__:[ude],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",hde]};function pf(n,t,i,s){Qe.call(this,n),this._elementRegistry=t,this._modeling=i,this._rules=s;var o=this;this.postExecuted(["shape.create"],function(a){var l=a.context;!1!==(l.hints||{}).autoResize&&o._expand([l.shape],l.parent||l.newParent)}),this.postExecuted(["elements.move"],function(a){var l=a.context,c=rE(wv(l.closure.topLevel)),u=l.hints,d=!u||u.autoResize;!1!==d&&se(Fu(c,function(f){return f.parent.id}),function(f,h){Vt(d)&&(f=f.filter(function(m){return It(d,Bu({id:m.id}))})),o._expand(f,h)})}),this.postExecuted(["shape.toggleCollapse"],function(a){var l=a.context,c=l.hints,u=l.shape;c&&!1===c.autoResize||u.collapsed||o._expand(u.children||[],u)}),this.postExecuted(["shape.resize"],function(a){var l=a.context,c=l.hints,u=l.shape,d=u.parent;c&&!1===c.autoResize||d&&o._expand([u],d)})}function ZO(n){n.invoke(pf,this)}function JE(n){tl.call(this,n);var t=this;this.addRule("element.autoResize",function(i){return t.canResize(i.elements,i.target)})}function QO(n,t){JE.call(this,n),this._modeling=t}pf.$inject=["eventBus","elementRegistry","modeling","rules"],Lt(pf,Qe),pf.prototype._getOptimalBounds=function(n,t){var i=this.getOffset(t),s=this.getPadding(t),o=tn(Qs(n)),a=tn(t),l={};return o.top-a.top<s.top&&(l.top=o.top-i.top),o.left-a.left<s.left&&(l.left=o.left-i.left),a.right-o.right<s.right&&(l.right=o.right+i.right),a.bottom-o.bottom<s.bottom&&(l.bottom=o.bottom+i.bottom),BS(pe({},a,l))},pf.prototype._expand=function(n,t){if("string"==typeof t&&(t=this._elementRegistry.get(t)),this._rules.allowed("element.autoResize",{elements:n,target:t})){var s=this._getOptimalBounds(n,t);if(function Lit(n,t){return n.x!==t.x||n.y!==t.y||n.width!==t.width||n.height!==t.height}(s,t)){var o=function Fit(n,t){var i="";return n=tn(n),t=tn(t),n.top>t.top&&(i=i.concat("n")),n.right<t.right&&(i=i.concat("w")),n.bottom<t.bottom&&(i=i.concat("s")),n.left>t.left&&(i=i.concat("e")),i}(nc(t,["x","y","width","height"]),s);this.resize(t,s,{autoResize:o});var a=t.parent;a&&this._expand([t],a)}}},pf.prototype.getOffset=function(n){return{top:60,bottom:60,left:100,right:100}},pf.prototype.getPadding=function(n){return{top:2,bottom:2,left:15,right:15}},pf.prototype.resize=function(n,t,i){this._modeling.resizeShape(n,t,null,i)},ZO.$inject=["injector"],Lt(ZO,pf),ZO.prototype.resize=function(n,t,i){T(n,"bpmn:Participant")?this._modeling.resizeLane(n,t,null,i):this._modeling.resizeShape(n,t,null,i)},JE.$inject=["eventBus"],Lt(JE,tl),JE.prototype.canResize=function(n,t){return!1},Lt(QO,JE),QO.$inject=["eventBus","modeling"],QO.prototype.canResize=function(n,t){if(T(t.di,"bpmndi:BPMNPlane")||!T(t,"bpmn:Participant")&&!T(t,"bpmn:Lane")&&!T(t,"bpmn:SubProcess"))return!1;var i=!0;return se(n,function(s){(T(s,"bpmn:Lane")||hr(s))&&(i=!1)}),i};const Bit={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",ZO],bpmnAutoResizeProvider:["type",QO]};function gde(n,t,i){var l,c,s=this,o=i.get("dragging",!1);o&&t.on("drag.start",function(l){t.once("drag.move",1500,function(c){!function a(l){if(!l.hover){var c=l.originalEvent,u=s._findTargetGfx(c),d=u&&n.get(u);u&&d&&(l.stopPropagation(),o.hover({element:d,gfx:u}),o.move(c))}}(c)})}),t.on("element.hover",function(u){l=u.gfx,c=u.element}),t.on("element.hover",1500,function(u){c&&t.fire("element.out",{element:c,gfx:l})}),t.on("element.out",function(){l=null,c=null}),this._findTargetGfx=function(l){var c;if(l instanceof MouseEvent)return c=gg(l),function jit(n){return Ho(n,"svg, .djs-element",!0)}(document.elementFromPoint(c.x,c.y))}}gde.$inject=["elementRegistry","eventBus","injector"];const Vit={__init__:["hoverFix"],hoverFix:["type",gde]};var eb=Math.round,yde="djs-drag-active";function Rg(n){n.preventDefault()}function vde(n,t,i,s){var a,o={threshold:5,trapClick:!0};function l(x){var b=t.viewbox(),w=t._container.getBoundingClientRect();return{x:b.x+(x.x-w.left)/b.scale,y:b.y+(x.y-w.top)/b.scale}}function c(x,b){var w=n.createEvent(pe({},(b=b||a).payload,b.data,{isTouch:b.isTouch}));return!1!==n.fire("drag."+x,w)&&n.fire(b.prefix+"."+x,w)}function d(x,b){var w=a.payload,C=a.displacement,P=a.globalStart,D=gg(x),I=$u(D,P),k=a.localStart,F=l(D),M=$u(F,k);if(!a.active&&(b||function zit(n){return Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}(I)>a.threshold)){if(pe(w,{x:eb(k.x+C.x),y:eb(k.y+C.y),dx:0,dy:0},{originalEvent:x}),!1===c("start"))return v();a.active=!0,a.keepSelection||(w.previousSelection=i.get(),i.select(null)),a.cursor&&lO(a.cursor),t.addMarker(t.getRootElement(),yde)}ON(x),a.active&&(pe(w,{x:eb(F.x+C.x),y:eb(F.y+C.y),dx:eb(M.x),dy:eb(M.y)},{originalEvent:x}),c("move"))}function p(x){var w=!0;a.active&&(x&&(a.payload.originalEvent=x,ON(x)),w=c("end")),!1===w&&c("rejected"),c("ended",_(!0!==w))}function f(x){Js("Escape",x)&&(Rg(x),v())}function h(x){var b;a.active&&(b=ele(n),setTimeout(b,400),Rg(x)),p(x)}function m(x){d(x)}function g(x){var b=a.payload;b.hoverGfx=x.gfx,b.hover=x.element,c("hover")}function y(x){c("out");var b=a.payload;b.hoverGfx=null,b.hover=null}function v(x){var b;if(a){var w=a.active;w&&c("cancel"),b=_(x),w&&c("canceled",b)}}function _(x){var b,w;c("cleanup"),Jae(),w=a.trapClick?h:p,Xt.unbind(document,"mousemove",d),Xt.unbind(document,"dragstart",Rg),Xt.unbind(document,"selectstart",Rg),Xt.unbind(document,"mousedown",w,!0),Xt.unbind(document,"mouseup",w,!0),Xt.unbind(document,"keyup",f),Xt.unbind(document,"touchstart",m,!0),Xt.unbind(document,"touchcancel",v,!0),Xt.unbind(document,"touchmove",d,!0),Xt.unbind(document,"touchend",p,!0),n.off("element.hover",g),n.off("element.out",y),t.removeMarker(t.getRootElement(),yde);var C=a.payload.previousSelection;return!1!==x&&C&&!i.get().length&&function u(x){var b=x.filter(function(w){return s.get(w.id)});b.length&&i.select(b)}(C),b=a,a=null,b}n.on("diagram.destroy",v),this.init=function E(x,b,w,C){a&&v(!1),"string"==typeof b&&(C=w,w=b,b=null);var D,I,k,F,M,P=(C=pe({},o,C||{})).data||{};F=C.trapClick?h:p,x?(D=kv(x)||x,I=gg(x),ON(x),"dragstart"===D.type&&Rg(D)):(D=null,I={x:0,y:0}),k=l(I),b||(b=k),M=function $it(n){return typeof TouchEvent<"u"&&n instanceof TouchEvent}(D),a=pe({prefix:w,data:P,payload:{},globalStart:I,displacement:$u(b,k),localStart:k,isTouch:M},C),C.manual||(M?(Xt.bind(document,"touchstart",m,!0),Xt.bind(document,"touchcancel",v,!0),Xt.bind(document,"touchmove",d,!0),Xt.bind(document,"touchend",p,!0)):(Xt.bind(document,"mousemove",d),Xt.bind(document,"dragstart",Rg),Xt.bind(document,"selectstart",Rg),Xt.bind(document,"mousedown",F,!0),Xt.bind(document,"mouseup",F,!0)),Xt.bind(document,"keyup",f),n.on("element.hover",g),n.on("element.out",y)),c("init"),C.autoActivate&&d(x,!0)},this.move=d,this.hover=g,this.out=y,this.end=p,this.cancel=v,this.context=function(){return a},this.setOptions=function(x){pe(o,x)}}vde.$inject=["eventBus","canvas","selection","elementRegistry"];const ff={__depends__:[Vit,Al],dragging:["type",vde]};function tb(n,t,i){this._canvas=i,this._opts=pe({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},n);var s=this;t.on("drag.move",function(o){var a=s._toBorderPoint(o);s.startScroll(a)}),t.on(["drag.cleanup"],function(){s.stopScroll()})}function Hit(n,t,i){return t<n&&n<i}tb.$inject=["config.autoScroll","eventBus","canvas"],tb.prototype.startScroll=function(n){var t=this._canvas,i=this._opts,s=this,o=t.getContainer().getBoundingClientRect(),a=[n.x,n.y,o.width-n.x,o.height-n.y];this.stopScroll();for(var l=0,c=0,u=0;u<4;u++)Hit(a[u],i.scrollThresholdOut[u],i.scrollThresholdIn[u])&&(0===u?l=i.scrollStep:1==u?c=i.scrollStep:2==u?l=-i.scrollStep:3==u&&(c=-i.scrollStep));(0!==l||0!==c)&&(t.scroll({dx:l,dy:c}),this._scrolling=setTimeout(function(){s.startScroll(n)},i.scrollRepeatTimeout))},tb.prototype.stopScroll=function(){clearTimeout(this._scrolling)},tb.prototype.setOptions=function(n){this._opts=pe({},this._opts,n)},tb.prototype._toBorderPoint=function(n){var t=this._canvas._container.getBoundingClientRect(),i=gg(n.originalEvent);return{x:i.x-t.left,y:i.y-t.top}};const bde={__depends__:[ff],__init__:["autoScroll"],autoScroll:["type",tb]};function tF(n){this._commandStack=n.get("commandStack",!1)}tF.$inject=["injector"],tF.prototype.allowed=function(n,t){var i=!0,s=this._commandStack;return s&&(i=s.canExecute(n,t)),void 0===i||i};const Zc={__init__:["rules"],rules:["type",tF]};var JO=Math.round,Uit=Math.max;function nF(n,t){return function Git(n,t){var i,s;for(i=0;s=n[i];i++)if(pE(s,t)<=10)return{point:n[i],bendpoint:!0,index:i};return null}(n,t)||function Kit(n,t){var a,i=Roe(function qit(n,t){return[["M",n.x,n.y],["m",0,-t],["a",t,t,0,1,1,0,2*t],["a",t,t,0,1,1,0,-2*t],["z"]]}(t,10),function Wit(n){var t=[];return n.forEach(function(i,s){t.push([0===s?"M":"L",i.x,i.y])}),t}(n)),s=i[0],o=i[i.length-1];return s?s!==o?s.segment2!==o.segment2?{point:n[a=Uit(s.segment2,o.segment2)-1],bendpoint:!0,index:a}:{point:{x:JO(s.x+o.x)/2,y:JO(s.y+o.y)/2},index:s.segment2}:{point:{x:JO(s.x),y:JO(s.y)},index:s.segment2}:null}(n,t)}function Ede(n){return Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}function wde(n){return Math.atan((n[1].y-n[0].y)/(n[1].x-n[0].x))}function rF(n,t){var i=t[0],s=t[1],o={x:s.x-i.x,y:s.y-i.y},a=function Xit(n,t,i){var s=[{n:n[0]-i[0],lambda:t[0]},{n:n[1]-i[1],lambda:t[1]}];return-(s[0].n*t[0]+s[1].n*t[1])/(s[0].lambda*t[0]+s[1].lambda*t[1])}([i.x,i.y],[o.x,o.y],[n.x,n.y]);return{x:i.x+a*o.x,y:i.y+a*o.y}}function xde(n,t){var i=rF(n,t);return Ede({x:i.x-n.x,y:i.y-n.y})}function e8(n,t){return Ede({x:n.x-t.x,y:n.y-t.y})}var Cde="djs-bendpoint",Sde="djs-segment-dragger";function iF(n,t,i){var s=function Zit(n,t){var o,i=gg(t),s=n._container.getBoundingClientRect();o={x:s.left,y:s.top};var a=n.viewbox();return{x:a.x+(i.x-o.x)/a.scale,y:a.y+(i.y-o.y)/a.scale}}(n,i);return nF(t,s)}function sF(n,t){var i=$t("g");mr(i).add(Cde),sn(n,i);var s=$t("circle");Pt(s,{cx:0,cy:0,r:4}),mr(s).add("djs-visual"),sn(i,s);var o=$t("circle");return Pt(o,{cx:0,cy:0,r:10}),mr(o).add("djs-hit"),sn(i,o),t&&mr(i).add(t),i}function Ode(n,t,i){var s=$t("g"),o=bN(t,i),a=Up(t,i);return sn(n,s),function Qit(n,t,i,s){var o=$t("g");sn(n,o);var u=function est(n,t,i){return oF("h"===i?t.x-n.x:t.y-n.y)}(t,i,s),p=$t("rect");Pt(p,{x:-9,y:-3,width:18,height:6}),mr(p).add("djs-visual"),sn(o,p);var f=$t("rect");return Pt(f,{x:-u/2,y:-8.5,width:u,height:17}),mr(f).add("djs-hit"),sn(o,f),xoe(o,"v"===s?90:0),o}(s,t,i,a),mr(s).add(Sde),mr(s).add("h"===a?"horizontal":"vertical"),Co(s,o.x,o.y),s}function oF(n){return Math.abs(Math.round(2*n/3))}function Tde(n,t,i,s,o){function u(x,b,w){Xt.bind(x,b,function(C){i.triggerMouseEvent(b,C,w),C.stopPropagation()})}function d(x,b){var w=t.getLayer("overlays"),C=dn('.djs-bendpoints[data-element-id="'+pg(x.id)+'"]',w);return!C&&b&&(Pt(C=$t("g"),{"data-element-id":x.id}),mr(C).add("djs-bendpoints"),sn(w,C),u(C,"mousedown",x),u(C,"click",x),u(C,"dblclick",x)),C}function p(x,b){return dn('.djs-segment-dragger[data-segment-idx="'+x+'"]',b)}function f(x,b){b.waypoints.forEach(function(w,C){var P=sF(x);sn(x,P),Co(P,w.x,w.y)}),sF(x,"floating")}function h(x,b){for(var C,P,D,w=b.waypoints,I=1;I<w.length;I++)Up(C=w[I-1],P=w[I])&&(Pt(D=Ode(x,C,P),{"data-segment-idx":I}),u(D,"mousemove",b))}function y(x){var b=d(x);return b||(f(b=d(x,!0),x),h(b,x)),b}function v(x){var b=d(x);b&&(function g(x){se(ju("."+Sde,x),function(b){Ss(b)})}(b),function m(x){se(ju("."+Cde,x),function(b){Ss(b)})}(b),h(b,x),f(b,x))}n.on("connection.changed",function(x){v(x.element)}),n.on("connection.remove",function(x){var b=d(x.element);b&&Ss(b)}),n.on("element.marker.update",function(x){var w,b=x.element;b.waypoints&&(w=y(b),x.add?mr(w).add(x.marker):mr(w).remove(x.marker))}),n.on("element.mousemove",function(x){var C,P,b=x.element,w=b.waypoints;if(w){if(C=d(b,!0),!(P=iF(t,w,x.originalEvent)))return;(function _(x,b){var w=dn(".floating",x),C=b.point;w&&Co(w,C.x,C.y)})(C,P),P.bendpoint||function E(x,b,w){var M,B,C=p(b.index,x),P=w[b.index-1],D=w[b.index],I=b.point,k=bN(P,D),F=Up(P,D);C&&(M=function nst(n){return dn(".djs-visual",n)}(C),B={x:I.x-k.x,y:I.y-k.y},"v"===F&&(B={x:B.y,y:B.x}),Co(M,B.x,B.y))}(C,P,w)}}),n.on("element.mousedown",function(x){if(Vh(x)){var w=x.element;if(w.waypoints)return function c(x,b){var P,w=b.waypoints,C=iF(t,w,x);if(C)return P=function l(x,b){var C,P,w=x.waypoints;return b.index<=0||b.bendpoint||!(P=Up((C={start:w[b.index-1],end:w[b.index]}).start,C.end))?null:oF("h"===P?C.end.x-C.start.x:C.end.y-C.start.y)/2}(b,C),function a(x,b,w){var D,I,k,F,M,B,C=x.index,P=x.point;return!(C<=0||x.bendpoint)&&(k=bN(D=b[C-1],I=b[C]),F=Up(D,I),M=Math.abs(P.x-k.x),B=Math.abs(P.y-k.y),F&&M<=w&&B<=w)}(C,w,P)?o.start(x,b,C.index):s.start(x,b,C.index,!C.bendpoint),!0}(x.originalEvent,w)}}),n.on("selection.changed",function(x){var w=x.newSelection[0];w&&w.waypoints&&y(w)}),n.on("element.hover",function(x){var b=x.element;b.waypoints&&(y(b),i.registerEvent(x.gfx,"mousemove","element.mousemove"))}),n.on("element.out",function(x){i.unregisterEvent(x.gfx,"mousemove","element.mousemove")}),n.on("element.updateId",function(x){var b=x.element,w=x.newId;if(b.waypoints){var C=d(b);C&&Pt(C,{"data-element-id":w})}}),this.addHandles=y,this.updateHandles=v,this.getBendpointsContainer=d,this.getSegmentDragger=p}Tde.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var Pde=Math.round,Ng="reconnectStart",Lg="reconnectEnd",ew="updateWaypoints";function aF(n,t,i,s,o,a){this._injector=n,this.start=function(l,c,u,d){var g,p=i.getGraphics(c),f=c.source,h=c.target,y=(g=d||0!==u?d||u!==c.waypoints.length-1?ew:Lg:Ng)===ew?"connection.updateWaypoints":"connection.reconnect",v=o.allowed(y,{connection:c,source:f,target:h});!1===v&&(v=o.allowed(y,{connection:c,source:h,target:f})),!1!==v&&s.init(l,"bendpoint.move",{data:{connection:c,connectionGfx:p,context:{allowed:v,bendpointIndex:u,connection:c,source:f,target:h,insert:d,type:g}}})},t.on("bendpoint.move.hover",function(l){var m,c=l.context,u=c.connection,d=u.source,p=u.target,f=l.hover,h=c.type;if(c.hover=f,f){var g=h===ew?"connection.updateWaypoints":"connection.reconnect";if(m=c.allowed=o.allowed(g,{connection:u,source:h===Ng?f:d,target:h===Lg?f:p}))return c.source=h===Ng?f:d,void(c.target=h===Lg?f:p);!1===m&&(m=c.allowed=o.allowed(g,{connection:u,source:h===Lg?f:p,target:h===Ng?f:d})),m&&(c.source=h===Lg?f:p,c.target=h===Ng?f:d)}}),t.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(l){var c=l.context,u=c.type;c.hover=null,c.source=null,c.target=null,u!==ew&&(c.allowed=!1)}),t.on("bendpoint.move.end",function(l){var c=l.context,u=c.allowed,d=c.bendpointIndex,p=c.connection,f=c.insert,h=p.waypoints.slice(),m=c.source,g=c.target,y=c.type,v=c.hints||{},_={x:Pde(l.x),y:Pde(l.y)};if(!u)return!1;y===ew?(f?h.splice(d,0,_):h[d]=_,v.bendpointMove={insert:f,bendpointIndex:d},h=this.cropWaypoints(p,h),a.updateWaypoints(p,function UKe(n){n=n.slice();for(var i,s,o,t=0;n[t];)s=n[t-1],0===pE(i=n[t],o=n[t+1])||vN(s,o,i)?n.splice(t,1):t++;return n}(h),v)):(y===Ng?(v.docking="source",t8(c)&&(v.docking="target",v.newWaypoints=h.reverse())):y===Lg&&(v.docking="target",t8(c)&&(v.docking="source",v.newWaypoints=h.reverse())),a.reconnect(p,m,g,_,v))},this)}function t8(n){var t=n.hover,i=n.source,s=n.target,o=n.type;return o===Ng?t&&s&&t===s&&i!==s:o===Lg?t&&i&&t===i&&i!==s:void 0}aF.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],aF.prototype.cropWaypoints=function(n,t){var i=this._injector.get("connectionDocking",!1);if(!i)return t;var s=n.waypoints;return n.waypoints=t,n.waypoints=i.getCroppedWaypoints(n),t=n.waypoints,n.waypoints=s,t};var Dde="updateWaypoints",tw="connect-ok",n8="connect-not-ok",kde="connect-hover",Mde="djs-updating",Ade="djs-dragging";function Rde(n,t,i,s){this._injector=t;var o=t.get("connectionPreview",!1);i.on("bendpoint.move.start",function(a){var l=a.context,c=l.bendpointIndex,u=l.connection,d=l.insert,p=u.waypoints,f=p.slice();l.waypoints=p,d&&f.splice(c,0,{x:a.x,y:a.y}),u.waypoints=f,mr(l.draggerGfx=sF(s.getLayer("overlays"))).add("djs-dragging"),s.addMarker(u,Ade),s.addMarker(u,Mde)}),i.on("bendpoint.move.hover",function(a){var l=a.context,c=l.allowed,u=l.hover,d=l.type;if(u){if(s.addMarker(u,kde),d===Dde)return;c?(s.removeMarker(u,n8),s.addMarker(u,tw)):!1===c&&(s.removeMarker(u,tw),s.addMarker(u,n8))}}),i.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,function(a){var l=a.context,c=l.hover,u=l.target;c&&(s.removeMarker(c,kde),s.removeMarker(c,u?tw:n8))}),i.on("bendpoint.move.move",function(a){var l=a.context,c=l.allowed,u=l.bendpointIndex,d=l.draggerGfx,p=l.hover,f=l.type,h=l.connection,m=h.source,g=h.target,y=h.waypoints.slice(),v={x:a.x,y:a.y},_=l.hints||{},E={};o&&(_.connectionStart&&(E.connectionStart=_.connectionStart),_.connectionEnd&&(E.connectionEnd=_.connectionEnd),"reconnectStart"===f?t8(l)?(E.connectionEnd=E.connectionEnd||v,E.source=g,E.target=p||m,y=y.reverse()):(E.connectionStart=E.connectionStart||v,E.source=p||m,E.target=g):"reconnectEnd"===f?t8(l)?(E.connectionStart=E.connectionStart||v,E.source=p||g,E.target=m,y=y.reverse()):(E.connectionEnd=E.connectionEnd||v,E.source=m,E.target=p||g):(E.noCropping=!0,E.noLayout=!0,y[u]=v),f===Dde&&(y=n.cropWaypoints(h,y)),E.waypoints=y,o.drawPreview(l,c,E)),Co(d,a.x,a.y)},this),i.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,function(a){var l=a.context,c=l.connection,u=l.draggerGfx,d=l.hover,p=l.target;c.waypoints=l.waypoints,Ss(u),s.removeMarker(c,Mde),s.removeMarker(c,Ade),d&&(s.removeMarker(d,tw),s.removeMarker(d,p?tw:n8)),o&&o.cleanUp(l)})}Rde.$inject=["bendpointMove","injector","eventBus","canvas"];var Nde="connect-hover",Lde="djs-updating";function Fde(n,t,i){return lF(n,t,n[t]+i)}function lF(n,t,i){return{x:"x"===t?i:n.x,y:"y"===t?i:n.y}}function Bde(n){return"x"===n?"y":"x"}function jde(n,t,i){var s,o;return n.original?n.original:(s=cn(t),lF(n,o=Bde(i),s[o]))}function Vde(n,t,i,s,o,a){var l=n.get("connectionDocking",!1);function c(f,h){if(!l)return h;var g,m=f.waypoints;return f.waypoints=h,g=l.getCroppedWaypoints(f),f.waypoints=m,g}function u(f){o.update("connection",f.connection,f.connectionGfx)}this.start=function(f,h,m){var C,P,D,y=i.getGraphics(h),v=m-1,_=m,E=h.waypoints,x=E[v],b=E[_],w=iF(i,E,f);(C=Up(x,b))&&(P="v"===C?"x":"y",0===v&&(x=jde(x,h.source,P)),_===E.length-1&&(b=jde(b,h.target,P)),s.init(f,D=w?w.point:{x:(x.x+b.x)/2,y:(x.y+b.y)/2},"connectionSegment.move",{cursor:"x"===P?"resize-ew":"resize-ns",data:{connection:h,connectionGfx:y,context:{connection:h,segmentStartIndex:v,segmentEndIndex:_,segmentStart:x,segmentEnd:b,axis:P,dragPosition:D}}}))},t.on("connectionSegment.move.start",function(f){var h=f.context,m=f.connection,g=i.getLayer("overlays");h.originalWaypoints=m.waypoints.slice(),h.draggerGfx=Ode(g,h.segmentStart,h.segmentEnd),mr(h.draggerGfx).add("djs-dragging"),i.addMarker(m,Lde)}),t.on("connectionSegment.move.move",function(f){var D,I,h=f.context,m=h.connection,g=h.segmentStartIndex,y=h.segmentEndIndex,v=h.segmentStart,_=h.segmentEnd,E=h.axis,x=h.originalWaypoints.slice(),b=Fde(v,E,f["d"+E]),w=Fde(_,E,f["d"+E]),C=x.length,P=0;x[g]=b,x[y]=w,g<2&&(D=ji(m.source,b),1===g?"intersect"===D&&(x.shift(),x[0]=b,P--):"intersect"!==D&&(x.unshift(v),P++)),y>C-3&&(I=ji(m.target,w),y===C-2?"intersect"===I&&(x.pop(),x[x.length-1]=w):"intersect"!==I&&x.push(_)),h.newWaypoints=m.waypoints=c(m,x),function d(f,h,m){var g=f.newWaypoints,b=function sst(n,t,i,s){var o=Math.max(t[s],i[s]),a=Math.min(t[s],i[s]);return lF(t,s,Math.min(Math.max(a+20,n[s]),o-20))}(m,g[f.segmentStartIndex+h],g[f.segmentEndIndex+h],Bde(f.axis));Co(f.draggerGfx,b.x,b.y)}(h,P,f),h.newSegmentStartIndex=g+P,u(f)}),t.on("connectionSegment.move.hover",function(f){f.context.hover=f.hover,i.addMarker(f.hover,Nde)}),t.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(f){var h=f.context.hover;h&&i.removeMarker(h,Nde)}),t.on("connectionSegment.move.cleanup",function(f){var h=f.context,m=h.connection;h.draggerGfx&&Ss(h.draggerGfx),i.removeMarker(m,Lde)}),t.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(f){var h=f.context;h.connection.waypoints=h.originalWaypoints,u(f)}),t.on("connectionSegment.move.end",function(f){var h=f.context,m=h.connection,g=h.newWaypoints,y=h.newSegmentStartIndex,v=function p(f,h){var m=0;return{waypoints:f.filter(function(y,v){return!vN(f[v-1],f[v+1],y)||(m=v<=h?m-1:m,!1)}),segmentOffset:m}}(g=g.map(function(w){return{original:w.original,x:Math.round(w.x),y:Math.round(w.y)}}),y),E=c(m,v.waypoints);a.updateWaypoints(m,E,{segmentMove:{segmentStartIndex:h.segmentStartIndex,newSegmentStartIndex:y+v.segmentOffset}})})}Vde.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var ost=Math.abs,$de=Math.round;function zde(n){return{x:n.x,y:n.y}}function Hde(n){return{x:n.x+n.width,y:n.y+n.height}}function Qc(n,t){return!n||isNaN(n.x)||isNaN(n.y)?t:{x:$de(n.x+n.width/2),y:$de(n.y+n.height/2)}}function nb(n,t){var i=n.snapped;return!!i&&("string"==typeof t?i[t]:i.x&&i.y)}function ks(n,t,i){if("string"!=typeof t)throw new Error("axis must be in [x, y]");if("number"!=typeof i&&!1!==i)throw new Error("value must be Number or false");var s,o=n[t],a=n.snapped=n.snapped||{};return!1===i?a[t]=!1:(a[t]=!0,n[t]+=s=i-o,n["d"+t]+=s),o}function Ude(n){return n.children||[]}var lst=Math.abs,qde=Math.round;function Wde(n){function t(a,l){if(Vt(a)){for(var c=a.length;c--;)if(lst(a[c]-l)<=10)return a[c]}else{var u=l%(a=+a);if(u<10)return l-u;if(u>a-10)return l-u+a}return l}function i(a,l){return a.waypoints?function Jit(n,t){var i=function tst(n,t){for(var o,i=t.waypoints,s=1/0,a=0;a<i.length-1;a++){var u=xde(n,[i[a],i[a+1]]);u<s&&(s=u,o=a)}return[i[o],i[o+1]]}(n,t);return rF(n,i)}(l,a):a.width?{x:qde(a.width/2+a.x),y:qde(a.height/2+a.y)}:void 0}n.on("connectionSegment.move.move",1500,function(a){var d,p,l=function s(a){var l=a.context,c=l.snapPoints,u=l.connection,d=u.waypoints,f=l.segmentStartIndex,m=l.segmentEndIndex,g=l.axis;if(c)return c;var y=[d[f-1],l.segmentStart,l.segmentEnd,d[m+1]];return f<2&&y.unshift(i(u.source,a)),m>d.length-3&&y.unshift(i(u.target,a)),l.snapPoints=c={horizontal:[],vertical:[]},se(y,function(v){v&&(v=v.original||v,"y"===g&&c.horizontal.push(v.y),"x"===g&&c.vertical.push(v.x))}),c}(a),c=a.x,u=a.y;if(l){var f=c-(d=t(l.vertical,c)),h=u-(p=t(l.horizontal,u));pe(a,{dx:a.dx-f,dy:a.dy-h,x:d,y:p}),(f||-1!==l.vertical.indexOf(c))&&ks(a,"x",d),(h||-1!==l.horizontal.indexOf(u))&&ks(a,"y",p)}}),n.on(["connect.hover","connect.move","connect.end"],1500,function(a){var c=a.context.hover,u=c&&i(c,a);!ri(c)||!u||!u.x||!u.y||(ks(a,"x",u.x),ks(a,"y",u.y))}),n.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(a){var h,m,l=a.context,c=function o(a){var l=a.snapPoints,c=a.connection.waypoints,u=a.bendpointIndex;if(l)return l;var d=[c[u-1],c[u+1]];return a.snapPoints=l={horizontal:[],vertical:[]},se(d,function(p){p&&(l.horizontal.push((p=p.original||p).y),l.vertical.push(p.x))}),l}(l),u=l.hover,d=u&&i(u,a),p=a.x,f=a.y;if(c){var g=p-(h=t(d?c.vertical.concat([d.x]):c.vertical,p)),y=f-(m=t(d?c.horizontal.concat([d.y]):c.horizontal,f));pe(a,{dx:a.dx-g,dy:a.dy-y,x:a.x-g,y:a.y-y}),(g||-1!==c.vertical.indexOf(p))&&ks(a,"x",h),(y||-1!==c.horizontal.indexOf(f))&&ks(a,"y",m)}})}Wde.$inject=["eventBus"];const Gde={__depends__:[ff,Zc],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",Tde],bendpointMove:["type",aF],bendpointMovePreview:["type",Rde],connectionSegmentMove:["type",Vde],bendpointSnapping:["type",Wde]};function Kde(n,t,i,s){function o(l,c){return s.allowed("connection.create",{source:l,target:c})}n.on("connect.hover",function(l){var p,c=l.context,u=c.start,d=l.hover;if(c.hover=d,!Id(p=c.canExecute=o(u,d))){if(!1!==p)return c.source=u,void(c.target=d);p=c.canExecute=function a(l,c){return o(c,l)}(u,d),!Id(p)&&!1!==p&&(c.source=d,c.target=u)}}),n.on(["connect.out","connect.cleanup"],function(l){var c=l.context;c.hover=null,c.source=null,c.target=null,c.canExecute=!1}),n.on("connect.end",function(l){var c=l.context,u=c.canExecute,d=c.connectionStart,p={x:l.x,y:l.y},f=c.source,h=c.target;if(!u)return!1;var m=null,g={connectionStart:uF(c)?p:d,connectionEnd:uF(c)?d:p};fr(u)&&(m=u),c.connection=i.connect(f,h,m,g)}),this.start=function(l,c,u,d){fr(u)||(d=u,u=cn(c)),t.init(l,"connect",{autoActivate:d,data:{shape:c,context:{start:c,connectionStart:u}}})}}function uF(n){var t=n.hover,i=n.source;return t&&i&&t===i&&i!==n.target}Kde.$inject=["eventBus","dragging","modeling","rules"];var Yde="connect-ok",Xde="connect-not-ok";function Zde(n,t,i){var s=n.get("connectionPreview",!1);s&&t.on("connect.move",function(o){var a=o.context,l=a.canExecute,c=a.hover,u=a.source,d=a.start,f=a.target,h=a.connectionStart||a.startPosition,m=a.connectionEnd||{x:o.x,y:o.y},g=h,y=m;uF(a)&&(g=m,y=h),s.drawPreview(a,l,{source:u||d,target:f||c,connectionStart:g,connectionEnd:y})}),t.on("connect.hover",900,function(o){var c=o.context.canExecute;null!==c&&i.addMarker(o.hover,c?Yde:Xde)}),t.on(["connect.out","connect.cleanup"],1100,function(o){var a=o.hover;a&&(i.removeMarker(a,Yde),i.removeMarker(a,Xde))}),s&&t.on("connect.cleanup",function(o){s.cleanUp(o.context)})}Zde.$inject=["injector","eventBus","canvas"];const r8={__depends__:[Al,Zc,ff],__init__:["connectPreview"],connect:["type",Kde],connectPreview:["type",Zde]};function hf(n,t,i,s){this._canvas=t,this._graphicsFactory=i,this._elementFactory=s,this._connectionDocking=n.get("connectionDocking",!1),this._layouter=n.get("layouter",!1)}hf.$inject=["injector","canvas","graphicsFactory","elementFactory"],hf.prototype.drawPreview=function(n,t,i){var m,s=n.connectionPreviewGfx,o=n.getConnection,a=(i=i||{}).source,l=i.target,c=i.waypoints,u=i.connectionStart,d=i.connectionEnd,p=i.noLayout,f=i.noCropping,h=i.noNoop,g=this;s||(s=n.connectionPreviewGfx=this.createConnectionPreviewGfx()),lg(s),o||(o=n.getConnection=function pst(n){var t={};return function(i){var s=JSON.stringify(i),o=t[s];return o||(o=t[s]=n.apply(null,arguments)),o}}(function(y,v,_){return g.getConnection(y,v,_)})),t&&(m=o(t,a,l)),m?(m.waypoints=c||[],this._layouter&&!p&&(m.waypoints=this._layouter.layoutConnection(m,{source:a,target:l,connectionStart:u,connectionEnd:d,waypoints:i.waypoints||m.waypoints})),(!m.waypoints||!m.waypoints.length)&&(m.waypoints=[a?cn(a):u,l?cn(l):d]),this._connectionDocking&&(a||l)&&!f&&(m.waypoints=this._connectionDocking.getCroppedWaypoints(m,a,l)),this._graphicsFactory.drawConnection(s,m,{stroke:"var(--element-dragger-color)"})):!h&&this.drawNoopPreview(s,i)},hf.prototype.drawNoopPreview=function(n,t){var i=t.source,s=t.target,o=t.connectionStart||cn(i),a=t.connectionEnd||cn(s),l=this.cropWaypoints(o,a,i,s);sn(n,this.createNoopConnection(l[0],l[1]))},hf.prototype.cropWaypoints=function(n,t,i,s){var o=this._graphicsFactory,a=i&&o.getShapePath(i),l=s&&o.getShapePath(s),c=o.getConnectionPath({waypoints:[n,t]});return[n=i&&wN(a,c,!0)||n,t=s&&wN(l,c,!1)||t]},hf.prototype.cleanUp=function(n){n&&n.connectionPreviewGfx&&Ss(n.connectionPreviewGfx)},hf.prototype.getConnection=function(n){var t=function fst(n){return fr(n)?n:{}}(n);return this._elementFactory.createConnection(t)},hf.prototype.createConnectionPreviewGfx=function(){var n=$t("g");return Pt(n,{pointerEvents:"none"}),mr(n).add("djs-dragger"),sn(this._canvas.getActiveLayer(),n),n},hf.prototype.createNoopConnection=function(n,t){return lE([n,t],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};const Qde={__init__:["connectionPreview"],connectionPreview:["type",hf]},hst=new Pv("ps");var mst=["marker-start","marker-mid","marker-end"],gst=["circle","ellipse","line","path","polygon","polyline","path","rect"];function e0(n,t,i,s){this._elementRegistry=n,this._canvas=i,this._styles=s}e0.$inject=["elementRegistry","eventBus","canvas","styles"],e0.prototype.cleanUp=function(){console.warn("PreviewSupport#cleanUp is deprecated and will be removed in future versions. You do not need to manually clean up previews anymore. cf. https://github.com/bpmn-io/diagram-js/pull/906")},e0.prototype.getGfx=function(n){return this._elementRegistry.getGraphics(n)},e0.prototype.addDragger=function(n,t,i,s="djs-dragger"){var o=aN(i=i||this.getGfx(n)),a=i.getBoundingClientRect();return this._cloneMarkers(zh(o),s),Pt(o,this._styles.cls(s,[],{x:a.top,y:a.left})),sn(t,o),Pt(o,"data-preview-support-element-id",n.id),o},e0.prototype.addFrame=function(n,t){var i=$t("rect",{class:"djs-resize-overlay",width:n.width,height:n.height,x:n.x,y:n.y});return sn(t,i),Pt(i,"data-preview-support-element-id",n.id),i},e0.prototype._cloneMarkers=function(n,t="djs-dragger",i=n){var s=this;if(n.childNodes)for(var o=0;o<n.childNodes.length;o++)s._cloneMarkers(n.childNodes[o],t,i);(function _st(n){return-1!==gst.indexOf(n.nodeName)})(n)&&mst.forEach(function(a){if(Pt(n,a)){var l=function yst(n,t,i){var s=function vst(n){return n.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}(Pt(n,t));return dn("marker#"+s,i||document)}(n,a,s._canvas.getContainer());l&&s._cloneMarker(i,n,l,a,t)}})},e0.prototype._cloneMarker=function(n,t,i,s,o="djs-dragger"){var a=[i.id,o,hst.next()].join("-"),l=dn("marker#"+i.id,n);n=n||this._canvas._svg;var c=l||aN(i);c.id=a,mr(c).add(o);var u=dn(":scope > defs",n);u||sn(n,u=$t("defs")),sn(u,c);var d=function bst(n){return"url(#"+n+")"}(c.id);Pt(t,s,d)};const rb={__init__:["previewSupport"],previewSupport:["type",e0]},i8="complex-preview",xst={__depends__:[rb],__init__:["complexPreview"],complexPreview:["type",(()=>{class n{constructor(i,s,o){this._canvas=i,this._graphicsFactory=s,this._previewSupport=o,this._markers=[]}create(i){this.cleanUp();const{created:s=[],moved:o=[],removed:a=[],resized:l=[]}=i,c=this._canvas.getLayer(i8);s.filter(u=>!function wst(n){return n.hidden}(u)).forEach(u=>{let d;ri(u)?(d=this._graphicsFactory._createContainer("connection",$t("g")),this._graphicsFactory.drawConnection(zh(d),u)):(d=this._graphicsFactory._createContainer("shape",$t("g")),this._graphicsFactory.drawShape(zh(d),u),Co(d,u.x,u.y)),this._previewSupport.addDragger(u,c,d)}),o.forEach(({element:u,delta:d})=>{this._previewSupport.addDragger(u,c,void 0,"djs-dragging"),this._canvas.addMarker(u,"djs-element-hidden"),this._markers.push([u,"djs-element-hidden"]);const p=this._previewSupport.addDragger(u,c);ri(u)?Co(p,d.x,d.y):Co(p,u.x+d.x,u.y+d.y)}),a.forEach(u=>{this._previewSupport.addDragger(u,c,void 0,"djs-dragging"),this._canvas.addMarker(u,"djs-element-hidden"),this._markers.push([u,"djs-element-hidden"])}),l.forEach(({shape:u,bounds:d})=>{this._canvas.addMarker(u,"djs-hidden"),this._markers.push([u,"djs-hidden"]),this._previewSupport.addDragger(u,c,void 0,"djs-dragging");const p=this._graphicsFactory._createContainer("shape",$t("g"));this._graphicsFactory.drawShape(zh(p),u,{width:d.width,height:d.height}),Co(p,d.x,d.y),this._previewSupport.addDragger(u,c,p)})}cleanUp(){lg(this._canvas.getLayer(i8)),this._markers.forEach(([i,s])=>this._canvas.removeMarker(i,s)),this._markers=[]}show(){this._canvas.showLayer(i8)}hide(){this._canvas.hideLayer(i8)}}return n.$inject=["canvas","graphicsFactory","previewSupport"],n})()]};var dF=["top","bottom","left","right"];function pF(n,t){function i(o){if(CS(o)){var a=function Ost(n){var t=cn(n.label),s=Jde(cn(n),t);if(function Tst(n){return-1!==dF.indexOf(n)}(s)){var o=function Sst(n){var t=cn(n),i=[].concat(n.incoming.map(function(s){return s.waypoints[s.waypoints.length-2]}),n.outgoing.map(function(s){return s.waypoints[1]})).map(function(s){return Jde(t,s)});return i}(n);if(n.host){var a=function Cst(n){var o,t=n.host,s=ji(cn(n),t);o=s.indexOf("-")>=0?s.split("-"):[s];var a=dF.filter(function(l){return-1===o.indexOf(l)});return a}(n);o=o.concat(a)}var l=dF.filter(function(c){return-1===o.indexOf(c)});if(-1===l.indexOf(s))return l[0]}}(o);a&&function s(o,a){var l=cn(o),c=o.label,u=cn(c);if(c.parent){var p,d=tn(o);switch(a){case"top":p={x:l.x,y:d.top-10-c.height/2};break;case"left":p={x:d.left-10-c.width/2,y:l.y};break;case"bottom":p={x:l.x,y:d.bottom+10+c.height/2};break;case"right":p={x:d.right+10+c.width/2,y:l.y}}var f=$u(p,u);t.moveShape(c,f)}}(o,a)}}Qe.call(this,n),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(o){var a=o.context,l=a.connection,u=l.target;!1!==(a.hints||{}).createElementsBehavior&&(i(l.source),i(u))}),this.postExecuted(["label.create"],function(o){var a=o.context;!1!==(a.hints||{}).createElementsBehavior&&i(a.shape.labelTarget)}),this.postExecuted(["elements.create"],function(o){var a=o.context;!1!==(a.hints||{}).createElementsBehavior&&a.elements.forEach(function(u){i(u)})})}function Jde(n,t){return ji(t,n,5)}function fF(n){Qe.call(this,n),this.preExecute("shape.append",function(t){var i=t.source,s=t.shape;t.position||(t.position=T(s,"bpmn:TextAnnotation")?{x:i.x+i.width/2+75,y:i.y-50-s.height/2}:{x:i.x+i.width+80+s.width/2,y:i.y+i.height/2})},!0)}function hF(n,t){n.invoke(Qe,this),this.postExecute("shape.move",function(i){var s=i.newParent,o=i.shape;se(hn(o.incoming.concat(o.outgoing),function(l){return T(l,"bpmn:Association")}),function(l){t.moveConnection(l,{x:0,y:0},s)})},!0)}function o8(n,t){t.invoke(Qe,this),this._bpmnReplace=n;var i=this;this.postExecuted("elements.create",500,function(s){var o=s.elements;1===(o=o.filter(function(a){return tpe(a,a.host)})).length&&o.map(function(a){return o.indexOf(a)}).forEach(function(a){s.elements[a]=i._replaceShape(o[a],o[a])})},!0),this.preExecute("elements.move",500,function(s){var o=s.shapes,a=s.newHost;if(1===o.length){var l=o[0];tpe(l,a)&&(s.shapes=[i._replaceShape(l,a)])}},!0)}function tpe(n,t){return!hr(n)&&Kt(n,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!t}function mF(n,t){function i(s){return hn(s.attachers,function(o){return T(o,"bpmn:BoundaryEvent")})}Qe.call(this,n),this.postExecute("connection.create",function(s){var o=s.context.source,a=s.context.target,l=i(a);T(o,"bpmn:EventBasedGateway")&&T(a,"bpmn:ReceiveTask")&&l.length>0&&t.removeElements(l)}),this.postExecute("connection.reconnect",function(s){var a=s.context.newSource;T(s.context.oldSource,"bpmn:Gateway")&&T(a,"bpmn:EventBasedGateway")&&se(a.outgoing,function(l){var c=l.target,u=i(c);T(c,"bpmn:ReceiveTask")&&u.length>0&&t.removeElements(u)})})}function gF(n,t,i){function d(v){t.updateProperties(v,{isForCompensation:!0})}function p(v){t.updateProperties(v,{isForCompensation:void 0})}Qe.call(this,n),this.preExecute("shape.replace",function c(v){const{newData:_,oldShape:E}=v;if(ib(v.oldShape)&&"bpmn:CompensateEventDefinition"!==_.eventDefinitionType||"bpmn:BoundaryEvent"!==_.type){const x=E.outgoing.find(({target:b})=>nw(b));x&&x.target&&(v._connectionTarget=x.target)}else if(!ib(v.oldShape)&&"bpmn:CompensateEventDefinition"===_.eventDefinitionType&&"bpmn:BoundaryEvent"===_.type){const x=E.outgoing.find(({target:b})=>a8(b));x&&x.target&&(v._connectionTarget=x.target),function y(v){const _=v.outgoing.filter(E=>T(E,"bpmn:SequenceFlow"));t.removeElements(_)}(E)}},!0),this.postExecuted("shape.replace",function u(v){const{_connectionTarget:_,newShape:E}=v;_&&t.connect(E,_)},!0),this.preExecute("connection.create",function o(v){const _=v.connection,E=v.source,x=v.target;ib(E)&&a8(x)&&(d(x),function h(v,_){v.outgoing.filter(b=>T(b,"bpmn:Association")).filter(b=>nw(b.target)&&!_.includes(b)).forEach(b=>t.removeConnection(b))}(E,[_]))},!0),this.postExecuted("connection.delete",function s(v){const E=v.target;ib(v.source)&&nw(E)&&p(E)},!0),this.postExecuted("connection.reconnect",function a(v){const _=v.newTarget,x=v.oldTarget;if(x!==_){const b=v.oldSource;nw(x)&&p(x),ib(b)&&a8(_)&&d(_)}},!0),this.postExecuted("element.updateProperties",function l(v){const{element:_}=v;nw(_)?(function f(v){for(const _ of v.incoming)i.canConnect(_.source,v)||t.removeConnection(_);for(const _ of v.outgoing)i.canConnect(v,_.target)||t.removeConnection(_)}(_),function m(v){const _=v.attachers.slice();_.length&&t.removeElements(_)}(_)):a8(_)&&function g(v){const _=v.incoming.filter(E=>ib(E.source));t.removeElements(_)}(_)},!0)}function nw(n){const t=G(n);return t&&t.get("isForCompensation")}function ib(n){return n&&T(n,"bpmn:BoundaryEvent")&&Cv(n,"bpmn:CompensateEventDefinition")}function a8(n){return n&&T(n,"bpmn:Activity")&&!Zs(n)}function yF(n){n.invoke(Qe,this),this.preExecute("shape.create",1500,function(t){var i=t.context,s=i.parent,o=i.shape;T(s,"bpmn:Lane")&&!T(o,"bpmn:Lane")&&(i.parent=Jv(s,"bpmn:Participant"))})}function vF(n,t){Qe.call(this,n),this.preExecute("shape.create",function(i){var o=i.context.shape;if(T(o,"bpmn:DataObjectReference")&&"label"!==o.type){var a=t.create("bpmn:DataObject");o.businessObject.dataObjectRef=a}})}function EF(n,t,i){function s(){var o=n.getRootElement();return T(o,"bpmn:Collaboration")?o:i.makeCollaboration()}Qe.call(this,t),t.on(["create.start","shape.move.start"],2e3,function(o){var a=o.context,l=a.shape,c=n.getRootElement();if(T(l,"bpmn:Participant")&&T(c,"bpmn:Process")&&c.children.length){var u=c.children.filter(function(f){return!T(f,"bpmn:Group")&&!hr(f)&&!ri(f)});if(u.length){var d=Qs(u),p=function Dst(n,t){t={width:t.width+40+30,height:t.height+40};var i=Math.max(n.width,t.width),s=Math.max(n.height,t.height);return{x:-i/2,y:-s/2,width:i,height:s}}(l,d);pe(l,p),a.createConstraints=function kst(n,t){return{bottom:(t=tn(t)).top+n.height/2-20,left:t.right-n.width/2+20,top:t.bottom-n.height/2+20,right:t.left+n.width/2-20-30}}(l,d)}}}),t.on("create.start",2e3,function(o){var l=o.context.shape,c=n.getRootElement(),u=n.getGraphics(c);function d(p){p.element=c,p.gfx=u}T(l,"bpmn:Participant")&&T(c,"bpmn:Process")&&(t.on("element.hover",2e3,d),t.once("create.cleanup",function(){t.off("element.hover",d)}))}),this.preExecute("elements.create",2e3,function(o){var u,l=o.parent,c=function Mst(n){return It(n,function(t){return T(t,"bpmn:Participant")})}(o.elements);c&&T(l,"bpmn:Process")&&(o.parent=s(),(u=o.hints=o.hints||{}).participant=c,u.process=l,u.processRef=G(c).get("processRef"))},!0),this.preExecute("shape.create",function(o){var a=o.parent,l=o.shape;T(l,"bpmn:Participant")&&T(a,"bpmn:Process")&&(o.parent=s(),o.process=a,o.processRef=G(l).get("processRef"))},!0),this.execute("shape.create",function(o){var a=o.hints||{},l=o.process||a.process,c=o.shape,u=a.participant;l&&(!u||c===u)&&G(c).set("processRef",G(l))},!0),this.revert("shape.create",function(o){var a=o.hints||{},c=o.processRef||a.processRef,u=o.shape,d=a.participant;(o.process||a.process)&&(!d||u===d)&&G(u).set("processRef",c)},!0),this.postExecute("shape.create",function(o){var l=o.process||o.hints.process,c=o.shape,u=(o.hints||{}).participant;if(l){var d=l.children.slice();u?c===u&&i.moveElements(d,{x:0,y:0},u):i.moveElements(d,{x:0,y:0},c)}},!0)}Lt(pF,Qe),pF.$inject=["eventBus","modeling"],Lt(fF,Qe),fF.$inject=["eventBus"],Lt(hF,Qe),hF.$inject=["injector","modeling"],o8.$inject=["bpmnReplace","injector"],Lt(o8,Qe),o8.prototype._replaceShape=function(n,t){var i=function Pst(n){var i=G(n).eventDefinitions;return i&&i[0]}(n),s={type:"bpmn:BoundaryEvent",host:t};return i&&(s.eventDefinitionType=i.$type),this._bpmnReplace.replaceElement(n,s,{layoutConnection:!1})},mF.$inject=["eventBus","modeling"],Lt(mF,Qe),Lt(gF,Qe),gF.$inject=["eventBus","modeling","bpmnRules"],yF.$inject=["injector"],Lt(yF,Qe),vF.$inject=["eventBus","bpmnFactory"],Lt(vF,Qe),EF.$inject=["canvas","eventBus","modeling"],Lt(EF,Qe);var rpe="__targetRef_placeholder";function wF(n,t){function s(l,c){var u=l.get("properties"),d=It(u,function(p){return p.name===rpe});return!d&&c&&fs(u,d=t.create("bpmn:Property",{name:rpe})),d}function o(l,c){var u=s(l);u&&(function i(l,c,u){return It(l.get("dataInputAssociations"),function(p){return p!==u&&p.targetRef===c})}(l,u,c)||ss(l.get("properties"),u))}function a(l){var _,c=l.context,u=c.connection,d=u.businessObject,p=u.target,f=p&&p.businessObject,h=c.newTarget,m=h&&h.businessObject,g=c.oldTarget||c.target,y=g&&g.businessObject,v=u.businessObject;y&&y!==f&&o(y,d),m&&m!==f&&o(m,d),f?(_=s(f,!0),v.targetRef=_):v.targetRef=null}Qe.call(this,n),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],ipe(a)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],ipe(a))}function ipe(n){return function(t){if(T(t.context.connection,"bpmn:DataInputAssociation"))return n(t)}}function c8(n){this._bpmnUpdater=n}function xF(n,t,i,s){function a(c){return c.children.filter(function(u){return T(u,"bpmn:DataStoreReference")&&!u.labelTarget})}function l(c,u){var d=c.businessObject||c;if(u=u||function o(){return i.filter(function(c){return T(c,"bpmn:Participant")&&G(c).processRef})[0]}(),u){var p=u.businessObject||u;t.execute("dataStore.updateContainment",{dataStoreBo:d,dataStoreDi:vr(c),newSemanticParent:p.processRef||p,newDiParent:vr(u)})}}Qe.call(this,s),t.registerHandler("dataStore.updateContainment",c8),this.preExecute("shape.create",function(c){var u=c.context,d=u.shape;T(d,"bpmn:DataStoreReference")&&"label"!==d.type&&(u.hints||(u.hints={}),u.hints.autoResize=!1)}),this.preExecute("elements.move",function(c){var u=c.context,d=u.shapes;d.filter(function(f){return T(f,"bpmn:DataStoreReference")}).length&&(u.hints||(u.hints={}),u.hints.autoResize=d.filter(function(f){return!T(f,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(c){var d=c.context.shape,p=d.parent;T(d,"bpmn:DataStoreReference")&&"label"!==d.type&&T(p,"bpmn:Collaboration")&&l(d)}),this.postExecute("shape.move",function(c){var u=c.context,d=u.shape,p=u.oldParent,f=d.parent;if(!T(p,"bpmn:Collaboration")&&T(d,"bpmn:DataStoreReference")&&"label"!==d.type&&T(f,"bpmn:Collaboration")){var h=T(p,"bpmn:Participant")?p:function Ist(n,t){for(;n.parent;){if(T(n.parent,t))return n.parent;n=n.parent}}(p,"bpmn:Participant");l(d,h)}}),this.postExecute("shape.delete",function(c){var d=c.context.shape,p=n.getRootElement();Kt(d,["bpmn:Participant","bpmn:SubProcess"])&&T(p,"bpmn:Collaboration")&&a(p).filter(function(f){return function Ast(n,t){for(var i=n.businessObject||n,s=t.businessObject||t;i.$parent;){if(i.$parent===s.processRef||s)return!0;i=i.$parent}return!1}(f,d)}).forEach(function(f){l(f)})}),this.postExecute("canvas.updateRoot",function(c){var u=c.context,p=u.newRoot;a(u.oldRoot).forEach(function(h){T(p,"bpmn:Process")&&l(h,p)})})}wF.$inject=["eventBus","bpmnFactory"],Lt(wF,Qe),c8.$inject=["bpmnUpdater"],c8.prototype.execute=function(n){var t=n.dataStoreBo,i=n.dataStoreDi,s=n.newSemanticParent,o=n.newDiParent;return n.oldSemanticParent=t.$parent,n.oldDiParent=i.$parent,this._bpmnUpdater.updateSemanticParent(t,s),this._bpmnUpdater.updateDiParent(i,o),[]},c8.prototype.revert=function(n){var i=n.dataStoreDi,o=n.oldDiParent;return this._bpmnUpdater.updateSemanticParent(n.dataStoreBo,n.oldSemanticParent),this._bpmnUpdater.updateDiParent(i,o),[]},xF.$inject=["canvas","commandStack","elementRegistry","eventBus"],Lt(xF,Qe);var u8=Math.max,d8=Math.min;function spe(n,t){return{top:n.top-t.top,right:n.right-t.right,bottom:n.bottom-t.bottom,left:n.left-t.left}}function Lst(n,t){return{x:n.x+(t.left||0),y:n.y+(t.top||0),width:n.width-(t.left||0)+(t.right||0),height:n.height-(t.top||0)+(t.bottom||0)}}function p8(n,t,i){var s=t[n],o=i.min&&i.min[n],a=i.max&&i.max[n];return un(o)&&(s=(/top|left/.test(n)?d8:u8)(s,o)),un(a)&&(s=(/top|left/.test(n)?u8:d8)(s,a)),s}function rw(n,t){return typeof n<"u"?n:20}function Vst(n){return!(n.waypoints||"label"===n.type)}function ope(n,t){var i;if((i=void 0===n.length?hn(n.children,Vst):n).length)return function jst(n,t){var i,s,o,a;return"object"==typeof t?(i=rw(t.left),s=rw(t.right),o=rw(t.top),a=rw(t.bottom)):i=s=o=a=rw(t),{x:n.x-i,y:n.y-o,width:n.width+i+s,height:n.height+o+a}}(Qs(i),t)}var t0=Math.abs,zst=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"];function f8(n,t){return t=t||[],n.children.filter(function(i){T(i,"bpmn:Lane")&&(f8(i,t),t.push(i))}),t}function n0(n){return n.children.filter(function(t){return T(t,"bpmn:Lane")})}function eu(n){return Jv(n,zst)||n}function CF(n,t){Qe.call(this,n),this.postExecuted("shape.delete",500,function(s){var o=s.context,a=o.hints,l=o.shape,c=o.oldParent;T(l,"bpmn:Lane")&&(a&&a.nested||function i(s,o){var f,h,m,g,y,a=Xs(s),l=n0(o),c=[],u=[],d=[],p=[];dg(l,function(v){return a?v.y>s.y?u.push(v):c.push(v):v.x>s.x?p.push(v):d.push(v),v.children}),l.length&&(f=a?u.length&&c.length?s.height/2:s.height:p.length&&d.length?s.width/2:s.width,c.length&&(h=t.calculateAdjustments(c,"y",f,s.y-10),t.makeSpace(h.movingShapes,h.resizingShapes,{x:0,y:f},"s")),u.length&&(m=t.calculateAdjustments(u,"y",-f,s.y+s.height+10),t.makeSpace(m.movingShapes,m.resizingShapes,{x:0,y:-f},"n")),d.length&&(g=t.calculateAdjustments(d,"x",f,s.x-10),t.makeSpace(g.movingShapes,g.resizingShapes,{x:f,y:0},"e")),p.length&&(y=t.calculateAdjustments(p,"x",-f,s.x+s.width+10),t.makeSpace(y.movingShapes,y.resizingShapes,{x:-f,y:0},"w")))}(l,c))})}function h8(n,t){t.invoke(Qe,this),this._bpmnReplace=n;var i=this;this.postExecuted("elements.create",500,function(s){var o=s.elements;o.filter(function(a){return lpe(a,a.host)}).map(function(a){return o.indexOf(a)}).forEach(function(a){s.elements[a]=i._replaceShape(o[a])})},!0),this.preExecute("elements.move",500,function(s){var o=s.shapes,a=s.newHost;o.forEach(function(l,c){var u=l.host;lpe(l,function Wst(n,t){return-1!==n.indexOf(t)}(o,u)?u:a)&&(o[c]=i._replaceShape(l))})},!0)}function lpe(n,t){return!hr(n)&&T(n,"bpmn:BoundaryEvent")&&!t}function SF(n,t,i){function s(o,a,l){var u,d,p,h,m,g,_,c=a.waypoints,y=o.outgoing.slice(),v=o.incoming.slice(),E=nF(c,_=un(l.width)?cn(l):l);if(E){if(u=c.slice(0,E.index),d=c.slice(E.index+(E.bendpoint?1:0)),!u.length||!d.length)return;p=E.bendpoint?c[E.index]:_,(1===u.length||!cpe(o,u[u.length-1]))&&u.push(upe(p)),(1===d.length||!cpe(o,d[0]))&&d.unshift(upe(p))}h=a.target,t.canConnect(a.source,o,a)&&(i.reconnectEnd(a,o,u||_),m=a),t.canConnect(o,h,a)&&(m?g=i.connect(o,h,{type:a.type,waypoints:d}):(i.reconnectStart(a,o,d||_),g=a));var x=[].concat(m&&hn(v,function(b){return b.source===m.source})||[],g&&hn(y,function(b){return b.target===g.target})||[]);x.length&&i.removeElements(x)}Qe.call(this,n),this.preExecute("elements.move",function(o){var a=o.newParent,l=o.shapes,c=o.delta,u=l[0];if(u&&a){a&&a.waypoints&&(o.newParent=a=a.parent);var d=cn(u),p={x:d.x+c.x,y:d.y+c.y},f=It(a.children,function(h){return t.canInsert(l,h)&&nF(h.waypoints,p)});f&&(o.targetFlow=f,o.position=p)}},!0),this.postExecuted("elements.move",function(o){var l=o.targetFlow;l&&s(o.shapes[0],l,o.position)},!0),this.preExecute("shape.create",function(o){var a=o.parent;t.canInsert(o.shape,a)&&(o.targetFlow=a,o.parent=a.parent)},!0),this.postExecuted("shape.create",function(o){var l=o.targetFlow;l&&s(o.shape,l,o.position)},!0)}function cpe(n,t){var i=t.x,s=t.y;return i>=n.x&&i<=n.x+n.width&&s>=n.y&&s<=n.y+n.height}function upe(n){return pe({},n)}function OF(n,t){Qe.call(this,n),this.preExecuted("connection.create",function(i){var s=i.context,o=s.connection,a=s.source,l=s.target,c=s.hints;c&&!1===c.createElementsBehavior||!sb(o)||(T(a,"bpmn:EventBasedGateway")?l.incoming.filter(d=>d!==o&&sb(d)):l.incoming.filter(d=>d!==o&&sb(d)&&T(d.source,"bpmn:EventBasedGateway"))).forEach(function(d){t.removeConnection(d)})}),this.preExecuted("shape.replace",function(i){var o=i.context.newShape;T(o,"bpmn:EventBasedGateway")&&o.outgoing.filter(sb).reduce(function(l,c){return l.includes(c.target)?l:l.concat(c.target)},[]).forEach(function(l){l.incoming.filter(sb).forEach(function(c){const u=l.incoming.filter(sb).filter(function(d){return d.source===o});(c.source!==o||u.length>1)&&t.removeConnection(c)})})})}function sb(n){return T(n,"bpmn:SequenceFlow")}function ppe(n,t,i){t.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],1500,function(s){var a=s.context.shape||s.shape,l=s.hover;T(l,"bpmn:Lane")&&!Kt(a,["bpmn:Lane","bpmn:Participant"])&&(s.hover=eu(l),s.hoverGfx=n.getGraphics(s.hover));var c=i.getRootElement();l!==c&&(a.labelTarget||Kt(a,["bpmn:Group","bpmn:TextAnnotation"]))&&(s.hover=c,s.hoverGfx=n.getGraphics(s.hover))}),t.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],1500,function(s){var o=s.hover;T(o,"bpmn:Lane")&&(s.hover=eu(o)||o,s.hoverGfx=n.getGraphics(s.hover))}),t.on(["bendpoint.move.hover"],1500,function(s){var a=s.hover,l=s.context.type;T(a,"bpmn:Lane")&&/reconnect/.test(l)&&(s.hover=eu(a)||a,s.hoverGfx=n.getGraphics(s.hover))}),t.on(["connect.start"],1500,function(s){var o=s.context,a=o.start;T(a,"bpmn:Lane")&&(o.start=eu(a)||a)}),t.on("shape.move.start",2e3,function(s){var o=s.shape;T(o,"bpmn:Lane")&&(s.shape=eu(o)||o)}),t.on("spaceTool.move",2e3,function(s){var o=s.hover;o&&T(o,"bpmn:Lane")&&(s.hover=eu(o))})}function TF(n,t,i,s,o,a){function d(g,y,v){var _=function l(){return i.filter(function(g){return T(g,"bpmn:Group")})}().filter(function(E){return E.businessObject!==v});y&&!function c(g,y){return g.some(function(v){var _=G(v);return(_.categoryValueRef&&_.categoryValueRef.$parent)===y})}(_,y)&&function Zst(n){var t=n.$parent;t&&(ss(t.get("rootElements"),n),n.$parent=null)}(y),g&&!function u(g,y){return g.some(function(v){return G(v).categoryValueRef===y})}(_,g)&&function Xst(n){var t=n.$parent;t&&(ss(t.get("categoryValue"),n),n.$parent=null)}(g)}function p(g,y){return function Yst(n,t,i){return fs(t.get("categoryValue"),n),n.$parent=t,fs(i.get("rootElements"),t),t.$parent=i,n}(g,y,t.getDefinitions())}function f(g,y){var v=G(g),_=v.categoryValueRef;_||(_=v.categoryValueRef=y.categoryValue=y.categoryValue||function Kst(n){return n.create("bpmn:CategoryValue")}(n));var E=_.$parent;E||(E=_.$parent=y.category=y.category||function Gst(n){return n.create("bpmn:Category")}(n)),p(_,E,t.getDefinitions())}function h(g,y){var v=y.category,_=y.categoryValue,E=G(g);_?(E.categoryValueRef=null,d(_,v,E)):d(null,E.categoryValueRef.$parent,E)}function m(g,y){var v=n.create(g.$type);return a.copyElement(g,v,null,y)}o.invoke(Qe,this),this.execute("label.create",function(g){var y=g.context,v=y.labelTarget;T(v,"bpmn:Group")&&f(v,y)}),this.revert("label.create",function(g){var y=g.context,v=y.labelTarget;T(v,"bpmn:Group")&&h(v,y)}),this.execute("shape.delete",function(g){var y=g.context,v=y.shape,_=G(v);if(T(v,"bpmn:Group")&&!v.labelTarget){var E=y.categoryValue=_.categoryValueRef;E&&(d(E,y.category=E.$parent,_),_.categoryValueRef=null)}}),this.reverted("shape.delete",function(g){var y=g.context,v=y.shape;if(T(v,"bpmn:Group")&&!v.labelTarget){var _=y.category,E=y.categoryValue,x=G(v);E&&(x.categoryValueRef=E,p(E,_))}}),this.execute("shape.create",function(g){var y=g.context,v=y.shape;!T(v,"bpmn:Group")||v.labelTarget||G(v).categoryValueRef&&f(v,y)}),this.reverted("shape.create",function(g){var y=g.context,v=y.shape;!T(v,"bpmn:Group")||v.labelTarget||G(v).categoryValueRef&&h(v,y)}),s.on("copyPaste.copyElement",770,function(g){var y=g.descriptor,v=g.element;if(T(v,"bpmn:Group")&&!v.labelTarget){var _=G(v);if(_.categoryValueRef){var E=_.categoryValueRef;y.categoryValue=m(E,!0),E.$parent&&(y.category=m(E.$parent,!0))}}}),s.on("copyPaste.pasteElement",770,function(g){var y=g.descriptor,_=y.categoryValue,E=y.category;_&&(_=y.businessObject.categoryValueRef=m(_)),E&&(_.$parent=m(E)),delete y.category,delete y.categoryValue})}function PF(n,t,i,s){var o,c;return 0==(o=(s.y-i.y)*(t.x-n.x)-(s.x-i.x)*(t.y-n.y))?null:(c=((s.x-i.x)*(n.y-i.y)-(s.y-i.y)*(n.x-i.x))/o,{x:Math.round(n.x+c*(t.x-n.x)),y:Math.round(n.y+c*(t.y-n.y))})}function hpe(n){function t(s,o,a){var p,c={x:a.x-50,y:a.y},u=PF(s,o,a,{x:a.x,y:a.y-50}),d=PF(s,o,a,c);p=u&&d?mpe(u,a)>mpe(d,a)?d:u:u||d,s.original=p}n.on("bpmnElement.added",function(s){var o=s.element;o.waypoints&&function i(s){var o=s.waypoints;t(o[0],o[1],cn(s.source)),t(o[o.length-1],o[o.length-2],cn(s.target))}(o)})}function mpe(n,t){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function DF(n){Qe.call(this,n);var t=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],function(i){var s=i.context.shape,o=G(s),a=vr(s);if(Kt(o,t)){var l=a.get("isHorizontal");void 0===l&&(l=!0),a.set("isHorizontal",l)}})}CF.$inject=["eventBus","spaceTool"],Lt(CF,Qe),h8.$inject=["bpmnReplace","injector"],Lt(h8,Qe),h8.prototype._replaceShape=function(n){var t=function qst(n){var i=G(n).eventDefinitions;return i&&i[0]}(n);return this._bpmnReplace.replaceElement(n,t?{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:t.$type}:{type:"bpmn:IntermediateThrowEvent"},{layoutConnection:!1})},Lt(SF,Qe),SF.$inject=["eventBus","bpmnRules","modeling"],OF.$inject=["eventBus","modeling"],Lt(OF,Qe),ppe.$inject=["elementRegistry","eventBus","canvas"],TF.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"],Lt(TF,Qe),hpe.$inject=["eventBus"],DF.$inject=["eventBus"],Lt(DF,Qe);var gpe=Math.sqrt,ype=Math.min,Qst=Math.max,vpe=Math.abs;function bpe(n){return Math.pow(n,2)}function iw(n,t){return gpe(bpe(n.x-t.x)+bpe(n.y-t.y))}function eot(n,t,i,s){var o=t.x-n.x,a=t.y-n.y,l=i.x-n.x,c=i.y-n.y,u=o*o+a*a,f=(o*l+a*c)/u,m=f*f-(l*l+c*c-s*s)/u;if(m<0&&m>-1e-6&&(m=0),m<0)return[];var g=gpe(m),y=-f+g,v=-f-g,_={x:n.x-o*y,y:n.y-a*y};return 0===m?[_]:[_,{x:n.x-o*v,y:n.y-a*v}].filter(function(x){return function tot(n,t,i){return _pe(n.x,t.x,i.x)&&_pe(n.y,t.y,i.y)}(x,n,t)})}function _pe(n,t,i){return n>=ype(t,i)-g8&&n<=Qst(t,i)+g8}function not(n,t){return{x:(n.x+t.x)/2,y:(n.y+t.y)/2}}var g8=.1;function Epe(n,t){return vpe(n.x-t.x)<=g8&&vpe(n.y-t.y)<=g8}function wpe(n,t,i,s){var o=0,a=0,l={point:n,delta:{x:0,y:0}},c=function Jst(n,t){var s,o,a,l,c,d,p,f,h,m,i=0;for(i=0;i<t.length-1;i++){if(Epe(s=t[i],o=t[i+1])?d=[s]:(a=iw(n,s),l=iw(n,o),d=eot(s,o,n,ype(a,l))),d.length<1)throw new Error("expected between [1, 2] circle -> line intersections");1===d.length&&(p={type:"bendpoint",position:d[0],segmentIndex:i,bendpointIndex:Epe(s,d[0])?i:i+1}),2===d.length&&(p={type:"segment",position:c=not(d[0],d[1]),segmentIndex:i,relativeLocation:iw(s,c)/iw(s,o)}),f=iw(p.position,n),(!m||h>f)&&(m=p,h=f)}return m}(n,i),u=c.segmentIndex,d=function rot(n,t,i,s){var o=i.segmentIndex,a=t.length-n.length;if(s.segmentMove){var c=s.segmentMove.newSegmentStartIndex;return o===s.segmentMove.segmentStartIndex?c:o>=c?o+a<c?c:o+a:o}if(s.bendpointMove){var p,u=s.bendpointMove.insert,d=s.bendpointMove.bendpointIndex;return 0===a?o:(o>=d&&(p=u?o+1:o-1),o<d&&(p=o,u&&"bendpoint"!==i.type&&d-1===o)&&xpe(t,d)<i.relativeLocation&&p++,p)}return 0===a?o:s.connectionStart&&0===o?0:s.connectionEnd&&o===n.length-2?t.length-2:Math.floor((t.length-2)/2)}(i,t,c,s);if(d<0||d>t.length-2||null===d)return l;var p=Cpe(i,u),f=Cpe(t,d),h=c.position,m=function sot(n,t){var i=e8(n[0],n[1]),s=e8(n[0],t);return 0===i?0:s/i}(p,h),g=function iot(n,t){var i=wde(n);return wde(t)-i}(p,f);if("bendpoint"===c.type){var y=t.length-i.length,v=c.bendpointIndex;if(-1!==t.indexOf(i[v]))return l;if(0===y){var E=t[v];return{delta:{x:o=E.x-c.position.x,y:a=E.y-c.position.y},point:{x:n.x+o,y:n.y+a}}}y<0&&0!==v&&v<i.length-1&&(m=xpe(i,v))}var x={x:(f[1].x-f[0].x)*m+f[0].x,y:(f[1].y-f[0].y)*m+f[0].y},b=function Yit(n,t){return t?{x:Math.cos(t)*n.x-Math.sin(t)*n.y,y:Math.sin(t)*n.x+Math.cos(t)*n.y}:n}({x:n.x-h.x,y:n.y-h.y},g);return o=x.x+b.x-n.x,a=x.y+b.y-n.y,{point:qp(x),delta:qp({x:o,y:a})}}function xpe(n,t){var i=e8(n[t-1],n[t]);return i/(i+e8(n[t],n[t+1]))}function Cpe(n,t){return[n[t],n[t+1]]}function sw(n,t,i){var s=CE(t),o=CE(i),a=$u(n,s);return qp({x:o.x+a.x*(i.width/t.width),y:o.y+a.y*(i.height/t.height)})}function Spe(n,t,i){var s=CE(n),o=CE(t),a=CE(i),l=$u(n,s),c=$u(s,o),u=function aot(n,t,i){var s=tn(t),o=tn(i);if(function lot(n,t){return function cot(n,t){return n.right!==t.right&&n.left!==t.left}(n,t)||function uot(n,t){return n.top!==t.top&&n.bottom!==t.bottom}(n,t)}(s,o))return null;var l,a=ji(t,n);if("top"===a)l={x:0,y:o.bottom-s.bottom};else if("bottom"===a)l={x:0,y:o.top-s.top};else if("right"===a)l={x:o.left-s.left,y:0};else{if("left"!==a)return null;l={x:o.right-s.right,y:0}}return ji(i,{x:n.x+l.x,y:n.y+l.y})!==a?null:l}(s,t,i);return u||qp({x:a.x+c.x*(i.width/t.width)+l.x-n.x,y:a.y+c.y*(i.height/t.height)+l.y-n.y})}function kF(n,t,i,s){function o(l){var c=l.context,u=c.element,d=c.properties;if("name"in d&&t.updateLabel(u,d.name),"text"in d&&T(u,"bpmn:TextAnnotation")){var p=s.getTextAnnotationBounds({x:u.x,y:u.y,width:u.width,height:u.height},d.text||"");t.updateLabel(u,d.text,p)}}Qe.call(this,n),this.postExecute("element.updateProperties",o),this.postExecute("element.updateModdleProperties",l=>{G(l.context.element)===l.context.moddleElement&&o(l)}),this.postExecute(["shape.create","connection.create"],function(l){var c=l.context;if(!1!==(c.hints||{}).createElementsBehavior){var d=c.shape||c.connection;hr(d)||!ag(d)||Ja(d)&&t.updateLabel(d,Ja(d))}}),this.postExecute("shape.delete",function(l){var c=l.context,u=c.labelTarget;u&&!1!==(c.hints||{}).unsetLabel&&t.updateLabel(u,null,null,{removeShape:!1})}),this.postExecute(["connection.layout","connection.updateWaypoints"],function(l){var c=l.context;if(!1!==(c.hints||{}).labelBehavior){var f,p=c.connection.label;!p||!p.parent||(f=function a(l){var c=l.context,u=c.connection,d=u.label,p=pe({},c.hints),f=c.newWaypoints||u.waypoints,h=c.oldWaypoints;return typeof p.startChanged>"u"&&(p.startChanged=!!p.connectionStart),typeof p.endChanged>"u"&&(p.endChanged=!!p.connectionEnd),function oot(n,t,i,s){return wpe(cn(n),t,i,s).delta}(d,f,h,p)}(l),t.moveShape(p,f))}}),this.postExecute(["shape.replace"],function(l){var c=l.context,u=c.newShape,d=c.oldShape,p=G(u);p&&ag(p)&&d.label&&u.label&&(u.label.x=d.label.x,u.label.y=d.label.y)}),this.postExecute("shape.resize",function(l){var c=l.context,u=c.shape,d=c.newBounds,p=c.oldBounds;if(CS(u)){var f=u.label,h=cn(f),m=function fot(n){return[[{x:n.x,y:n.y},{x:n.x+(n.width||0),y:n.y}],[{x:n.x+(n.width||0),y:n.y},{x:n.x+(n.width||0),y:n.y+(n.height||0)}],[{x:n.x,y:n.y+(n.height||0)},{x:n.x+(n.width||0),y:n.y+(n.height||0)}],[{x:n.x,y:n.y},{x:n.x,y:n.y+(n.height||0)}]]}(p),g=function pot(n,t){if(t.length){var i=function hot(n,t){var i=t.map(function(o){return{line:o,distance:xde(n,o)}});return Ys(i,"distance")[0].line}(n,t);return rF(n,i)}}(h,m),y=function dot(n,t,i){return qp($u(sw(n,t,i),n))}(g,p,d);t.moveShape(f,y)}})}function MF(n,t){function i(s,o){var a=s.context,l=a.connection,c=pe({},a.hints),u=a.newWaypoints||l.waypoints,d=a.oldWaypoints;return typeof c.startChanged>"u"&&(c.startChanged=!!c.connectionStart),typeof c.endChanged>"u"&&(c.endChanged=!!c.connectionEnd),function mot(n,t,i,s){return wpe(n,t,i,s).point}(o,u,d,c)}Qe.call(this,n),this.postExecute(["connection.layout","connection.updateWaypoints"],function(s){var a=s.context.connection,l=a.outgoing;a.incoming.forEach(function(u){var p=i(s,u.waypoints[u.waypoints.length-1]),f=[].concat(u.waypoints.slice(0,-1),[p]);t.updateWaypoints(u,f)}),l.forEach(function(u){var p=i(s,u.waypoints[0]),f=[].concat([p],u.waypoints.slice(1));t.updateWaypoints(u,f)})}),this.postExecute(["connection.move"],function(s){var o=s.context,a=o.connection,l=a.outgoing,u=o.delta;a.incoming.forEach(function(d){var p=d.waypoints[d.waypoints.length-1],f={x:p.x+u.x,y:p.y+u.y},h=[].concat(d.waypoints.slice(0,-1),[f]);t.updateWaypoints(d,h)}),l.forEach(function(d){var p=d.waypoints[0],h=[].concat([{x:p.x+u.x,y:p.y+u.y}],d.waypoints.slice(1));t.updateWaypoints(d,h)})})}function y8(n,t,i){var s=b8(n),o=Dpe(s,t),a=s[0];return o.length?o[o.length-1]:sw(a.original||a,i,t)}function v8(n,t,i){var s=b8(n),o=Dpe(s,t),a=s[s.length-1];return o.length?o[0]:sw(a.original||a,i,t)}function AF(n,t,i){var s=b8(n),o=Ppe(t,i),a=s[0];return sw(a.original||a,o,t)}function IF(n,t,i){var s=b8(n),o=Ppe(t,i),a=s[s.length-1];return sw(a.original||a,o,t)}function Ppe(n,t){return{x:n.x-t.x,y:n.y-t.y,width:n.width,height:n.height}}function b8(n){var t=n.waypoints;if(!t.length)throw new Error("connection#"+n.id+": no waypoints");return t}function Dpe(n,t){return hn(xs(n,yot),function(s){return function got(n,t){return"intersect"===ji(t,n,1)}(s,t)})}function yot(n){return n.original||n}function RF(n,t){Qe.call(this,n),this.postExecute("shape.replace",function(i){var s=i.oldShape,o=i.newShape;if(function vot(n,t){return T(n,"bpmn:Participant")&&ar(n)&&T(t,"bpmn:Participant")&&!ar(t)}(s,o)){var a=function bot(n){var t=hE([n],!1),i=[],s=[];return t.forEach(function(o){o!==n&&(o.incoming.forEach(function(a){T(a,"bpmn:MessageFlow")&&i.push(a)}),o.outgoing.forEach(function(a){T(a,"bpmn:MessageFlow")&&s.push(a)}))},[]),{incoming:i,outgoing:s}}(s);a.incoming.forEach(function(l){var c=v8(l,o,s);t.reconnectEnd(l,o,c)}),a.outgoing.forEach(function(l){var c=y8(l,o,s);t.reconnectStart(l,o,c)})}},!0)}Lt(kF,Qe),kF.$inject=["eventBus","modeling","bpmnFactory","textRenderer"],Lt(MF,Qe),MF.$inject=["eventBus","modeling"],RF.$inject=["eventBus","modeling"],Lt(RF,Qe);const _ot=["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:EscalationEventDefinition","bpmn:ConditionalEventDefinition","bpmn:SignalEventDefinition"];function kpe(n){const t=G(n);if(!(T(t,"bpmn:BoundaryEvent")||T(t,"bpmn:StartEvent")&&Zs(t.$parent)))return!1;const i=t.get("eventDefinitions");return!(!i||!i.length)&&_ot.some(s=>T(i[0],s))}function Mpe(n){return T(n,"bpmn:BoundaryEvent")?"cancelActivity":"isInterrupting"}function NF(n,t){n.invoke(Qe,this),this.postExecuted("shape.replace",function(i){const s=i.context.oldShape,o=i.context.newShape,a=i.context.hints;if(!kpe(o))return;const l=Mpe(o);if(a.targetElement&&void 0!==a.targetElement[l])return;const u=G(s).get(l);u!==G(o).get(l)&&t.updateProperties(o,{[l]:u})})}function LF(n,t){Qe.call(this,n),this.preExecute("shape.resize",function(i){var s=i.shape,o=vr(s),a=o&&o.get("label");a&&a.get("bounds")&&t.updateModdleProperties(s,a,{bounds:void 0})},!0)}function FF(n,t,i){Qe.call(this,n),this.preExecute("shape.delete",function(s){var o=s.context.shape;if(1===o.incoming.length&&1===o.outgoing.length){var a=o.incoming[0],l=o.outgoing[0];if(T(a,"bpmn:SequenceFlow")&&T(l,"bpmn:SequenceFlow")&&t.canConnect(a.source,l.target,a)){var c=function Eot(n,t){var i=PF(ob(n[n.length-2]),ob(n[n.length-1]),ob(t[1]),ob(t[0]));return i?[].concat(n.slice(0,n.length-1),[i],t.slice(1)):[ob(n[0]),ob(t[t.length-1])]}(a.waypoints,l.waypoints);i.reconnectEnd(a,l.target,c)}}})}function ob(n){return n.original||n}function BF(n,t){Qe.call(this,n),this.preExecute("shape.delete",function(i){var s=i.shape,o=s.parent;T(s,"bpmn:Participant")&&(i.collaborationRoot=o)},!0),this.postExecute("shape.delete",function(i){var s=i.collaborationRoot;if(s&&!s.businessObject.participants.length){var o=t.makeProcess(),a=s.children.slice();t.moveElements(a,{x:0,y:0},o)}},!0)}function jF(n,t,i,s){Qe.call(this,n);var o=s.get("dragging",!1);function a(u){var h,m,d=u.source,p=u.target;u.parent&&(T(u,"bpmn:SequenceFlow")&&(i.canConnectSequenceFlow(d,p)||(m=!0),i.canConnectMessageFlow(d,p)&&(h="bpmn:MessageFlow")),T(u,"bpmn:MessageFlow")&&(i.canConnectMessageFlow(d,p)||(m=!0),i.canConnectSequenceFlow(d,p)&&(h="bpmn:SequenceFlow")),m&&t.removeConnection(u),h&&t.connect(d,p,{type:h,waypoints:u.waypoints.slice()}))}this.postExecuted("elements.move",function(u){se(u.closure.allConnections,a)},!0),this.preExecute("connection.reconnect",function l(u){var m,g,d=u.context,p=d.connection,f=d.newSource||p.source,h=d.newTarget||p.target;(m=i.canConnect(f,h))&&m.type!==p.type&&(g=t.connect(f,h,{type:m.type,associationDirection:m.associationDirection,waypoints:p.waypoints.slice()}),p.parent&&t.removeConnection(p),d.connection=g,o&&function c(u,d){var h,p=o.context(),f=p&&p.payload.previousSelection;!f||!f.length||-1!==(h=f.indexOf(u))&&f.splice(h,1,d)}(p,g))}),this.postExecuted("element.updateProperties",function(u){var m,d=u.context,p=d.properties,f=d.element,h=f.businessObject;p.default&&(m=It(f.outgoing,Bu({id:f.businessObject.default.id})))&&t.updateProperties(m,{conditionExpression:void 0}),p.conditionExpression&&h.sourceRef.default===h&&t.updateProperties(f.source,{default:void 0})})}function _8(n,t,i,s,o,a){s.invoke(Qe,this),this._bpmnReplace=n,this._elementRegistry=i,this._selection=a,this.postExecuted(["elements.create"],500,function(l){var c=l.context,u=c.parent,d=c.elements,p=ps(d,function(f,h){var m=t.canReplace([h],h.host||h.parent||u);return m?f.concat(m.replacements):f},[]);p.length&&this._replaceElements(d,p)},this),this.postExecuted(["elements.move"],500,function(l){var c=l.context,u=c.newParent,d=c.newHost,p=[];se(c.closure.topLevel,function(h){p=Zs(h)?p.concat(h.children):p.concat(h)}),1===p.length&&d&&(u=d);var f=t.canReplace(p,u);f&&this._replaceElements(p,f.replacements,d)},this),this.postExecute(["shape.replace"],1500,function(l){var f,c=l.context,p=c.oldShape.attachers;p&&p.length&&(f=t.canReplace(p,c.newShape),this._replaceElements(p,f.replacements))},this),this.postExecuted(["shape.replace"],1500,function(l){var c=l.context,u=c.oldShape,d=c.newShape;o.unclaimId(u.businessObject.id,u.businessObject),o.updateProperties(d,{id:u.id})})}NF.$inject=["injector","modeling"],Lt(NF,Qe),Lt(LF,Qe),LF.$inject=["eventBus","modeling"],Lt(FF,Qe),FF.$inject=["eventBus","bpmnRules","modeling"],BF.$inject=["eventBus","modeling"],Lt(BF,Qe),Lt(jF,Qe),jF.$inject=["eventBus","modeling","bpmnRules","injector"],Lt(_8,Qe),_8.prototype._replaceElements=function(n,t){var i=this._elementRegistry,s=this._bpmnReplace,o=this._selection;se(t,function(a){var l={type:a.newElementType},c=i.get(a.oldElementId),u=n.indexOf(c);n[u]=s.replaceElement(c,l,{select:!1})}),t&&o.select(n)},_8.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var xot={width:140,height:120},VF={width:300,height:60},$F={width:60,height:300},E8={width:300,height:150},w8={width:150,height:300},Ape={width:140,height:120},Ipe={width:50,height:30};function Rpe(n){n.on("resize.start",1500,function(t){var i=t.context,s=i.shape,o=i.direction,a=i.balanced;(T(s,"bpmn:Lane")||T(s,"bpmn:Participant"))&&(i.resizeConstraints=function Pot(n,t,i){var s=eu(n),o=!0,a=!0,l=f8(s,[s]),c=tn(n),u={},d={},p=Xs(n),f=p?VF:$F;/n/.test(t)?d.top=c.bottom-f.height:/e/.test(t)?d.right=c.left+f.width:/s/.test(t)?d.bottom=c.top+f.height:/w/.test(t)&&(d.left=c.right-f.width),l.forEach(function(g){var y=tn(g);p?(y.top<c.top-10&&(o=!1),y.bottom>c.bottom+10&&(a=!1)):(y.left<c.left-10&&(o=!1),y.right>c.right+10&&(a=!1)),/n/.test(t)&&(i&&r0(c.top-y.bottom)<10&&lb(u,"top",y.top+f.height),r0(c.top-y.top)<5&&ab(d,"top",y.bottom-f.height)),/e/.test(t)&&(i&&r0(c.right-y.left)<10&&ab(u,"right",y.right-f.width),r0(c.right-y.right)<5&&lb(d,"right",y.left+f.width)),/s/.test(t)&&(i&&r0(c.bottom-y.top)<10&&ab(u,"bottom",y.bottom-f.height),r0(c.bottom-y.bottom)<5&&lb(d,"bottom",y.top+f.height)),/w/.test(t)&&(i&&r0(c.left-y.right)<10&&lb(u,"left",y.left+f.width),r0(c.left-y.left)<5&&ab(d,"left",y.right-f.width))});var h=s.children.filter(function(g){return!g.hidden&&!g.waypoints&&(T(g,"bpmn:FlowElement")||T(g,"bpmn:Artifact"))}),m=p?Oot:Tot;return h.forEach(function(g){var y=tn(g);/n/.test(t)&&(!p||o)&&ab(d,"top",y.top-m.top),/e/.test(t)&&(p||a)&&lb(d,"right",y.right+m.right),/s/.test(t)&&(!p||a)&&lb(d,"bottom",y.bottom+m.bottom),/w/.test(t)&&(p||o)&&ab(d,"left",y.left-m.left)}),{min:d,max:u}}(s,o,a)),T(s,"bpmn:SubProcess")&&ar(s)&&(i.minDimensions=Ape),T(s,"bpmn:TextAnnotation")&&(i.minDimensions=Ipe)})}Rpe.$inject=["eventBus"];var r0=Math.abs,Cot=Math.min,Sot=Math.max;function Npe(n,t,i,s){var o=n[t];n[t]=void 0===o?i:s(i,o)}function ab(n,t,i){return Npe(n,t,i,Cot)}function lb(n,t,i){return Npe(n,t,i,Sot)}var Oot={top:20,left:50,right:20,bottom:20},Tot={top:50,left:20,right:20,bottom:20};function Fpe(n,t){n.on("resize.start",1501,function(i){var s=i.context,o=s.shape;(T(o,"bpmn:Lane")||T(o,"bpmn:Participant"))&&(s.balanced=!Mv(i))}),n.on("resize.end",1001,function(i){var s=i.context,o=s.shape,a=s.canExecute,l=s.newBounds;if(T(o,"bpmn:Lane")||T(o,"bpmn:Participant"))return a&&(l=joe(l),t.resizeLane(o,l,s.balanced)),!1})}function zF(n,t,i,s,o){function a(p){return Kt(p,["bpmn:ReceiveTask","bpmn:SendTask"])||function kot(n,t){return Vt(t)||(t=[t]),qc(t,function(i){return Cv(n,i)})}(p,["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])}function l(p){return!!It(n.getDefinitions().get("rootElements"),Bu({id:p.id}))}function c(p){return T(p,"bpmn:ErrorEventDefinition")?"errorRef":T(p,"bpmn:EscalationEventDefinition")?"escalationRef":T(p,"bpmn:MessageEventDefinition")?"messageRef":T(p,"bpmn:SignalEventDefinition")?"signalRef":void 0}function u(p){if(Kt(p,["bpmn:ReceiveTask","bpmn:SendTask"]))return p.get("messageRef");var h=p.get("eventDefinitions")[0];return h.get(c(h))}i.invoke(Qe,this),this.executed(["shape.create","element.updateProperties","element.updateModdleProperties"],function(p){var f=p.shape||p.element;if(a(f)){var m=u(G(f));m&&!l(m)&&(fs(n.getDefinitions().get("rootElements"),m),p.addedRootElement=m)}},!0),this.reverted(["shape.create","element.updateProperties","element.updateModdleProperties"],function(p){var f=p.addedRootElement;f&&ss(n.getDefinitions().get("rootElements"),f)},!0),t.on("copyPaste.copyElement",function(p){var f=p.descriptor,h=p.element;if(!h.labelTarget&&a(h)){var g=u(G(h));g&&(f.referencedRootElement=g)}}),t.on("copyPaste.pasteElement",500,function(p){var f=p.descriptor,h=f.businessObject,m=f.referencedRootElement;m&&(l(m)||(m=s.copyElement(m,o.create(m.$type))),function d(p,f){if(Kt(p,["bpmn:ReceiveTask","bpmn:SendTask"]))return p.set("messageRef",f);var m=p.get("eventDefinitions")[0];m.set(c(m),f)}(h,m),delete f.referencedRootElement)})}Fpe.$inject=["eventBus","modeling"],zF.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"],Lt(zF,Qe);var Bpe=Math.max;function jpe(n){n.on("spaceTool.getMinDimensions",function(t){var s=t.axis,o=t.start,a={};return se(t.shapes,function(l){var c=l.id;T(l,"bpmn:Participant")&&(a[c]=function Aot(n,t,i){var s=Xs(n);if(!function Not(n){return!!n0(n).length}(n))return s?E8:w8;var o=function Mot(n){return"x"===n}(t);return o?s?E8:{width:Rot(n,i,o),height:w8.height}:s?{width:E8.width,height:Iot(n,i,o)}:w8}(l,s,o)),T(l,"bpmn:Lane")&&(a[c]=Xs(l)?VF:$F),T(l,"bpmn:SubProcess")&&ar(l)&&(a[c]=Ape),T(l,"bpmn:TextAnnotation")&&(a[c]=Ipe),T(l,"bpmn:Group")&&(a[c]=xot)}),a})}function Iot(n,t,i){var s;return s=function Lot(n,t,i){var o;return o=HF(n0(n),t,i),n.height-o.height+VF.height}(n,t,i),Bpe(E8.height,s)}function Rot(n,t,i){var s;return s=function Fot(n,t,i){var o;return o=HF(n0(n),t,i),n.width-o.width+$F.width}(n,t,i),Bpe(w8.width,s)}function HF(n,t,i){var s,o,a;for(s=0;s<n.length;s++)if(o=n[s],!i&&t>=o.y&&t<=o.y+o.height||i&&t>=o.x&&t<=o.x+o.width)return(a=n0(o)).length?HF(a,t,i):o}jpe.$inject=["eventBus"];function s0(n,t,i,s,o,a,l){Qe.call(this,t),this._canvas=n,this._eventBus=t,this._modeling=i,this._elementFactory=s,this._bpmnFactory=o,this._bpmnjs=a,this._elementRegistry=l;var c=this;function u(f){return T(f,"bpmn:SubProcess")&&!ar(f)}function d(f){var m=f.newRootElement,g=G(f.shape);m=c._addDiagram(m||g),f.newRootElement=n.addRootElement(m)}function p(f){var m=G(f.shape);c._removeDiagram(m);var g=f.newRootElement=l.get(Kp(m));n.removeRootElement(g)}this.executed("shape.create",function(f){u(f.shape)&&d(f)},!0),this.postExecuted("shape.create",function(f){var h=f.shape,m=f.newRootElement;!m||!h.children||(c._showRecursively(h.children),c._moveChildrenToShape(h,m))},!0),this.reverted("shape.create",function(f){u(f.shape)&&p(f)},!0),this.preExecuted("shape.delete",function(f){var h=f.shape;if(u(h)){var m=l.get(Kp(h));m&&i.removeElements(m.children.slice())}},!0),this.executed("shape.delete",function(f){u(f.shape)&&p(f)},!0),this.reverted("shape.delete",function(f){u(f.shape)&&d(f)},!0),this.preExecuted("shape.replace",function(f){var h=f.oldShape,m=f.newShape;!u(h)||!u(m)||(f.oldRoot=n.removeRootElement(Kp(h)))},!0),this.postExecuted("shape.replace",function(f){var m=f.oldRoot,g=n.findRoot(Kp(f.newShape));m&&g&&i.moveElements(m.children,{x:0,y:0},g)},!0),this.executed("element.updateProperties",function(f){var h=f.element;if(T(h,"bpmn:SubProcess")){var y=f.oldProperties.id,v=f.properties.id;if(y!==v){if(yE(h))return l.updateId(h,fg(v)),void l.updateId(y,v);l.get(fg(y))&&l.updateId(fg(y),fg(v))}}},!0),this.reverted("element.updateProperties",function(f){var h=f.element;if(T(h,"bpmn:SubProcess")){var y=f.oldProperties.id,v=f.properties.id;if(y!==v){if(yE(h))return l.updateId(h,fg(y)),void l.updateId(v,y);var _=l.get(fg(v));_&&l.updateId(_,fg(y))}}},!0),t.on("element.changed",function(f){var h=f.element;if(yE(h)){var m=h,g=l.get(SN(m));!g||g===m||t.fire("element.changed",{element:g})}}),this.executed("shape.toggleCollapse",400,function(f){var h=f.shape;T(h,"bpmn:SubProcess")&&(ar(h)?p(f):(d(f),c._showRecursively(h.children)))},!0),this.reverted("shape.toggleCollapse",400,function(f){var h=f.shape;T(h,"bpmn:SubProcess")&&(ar(h)?p(f):(d(f),c._showRecursively(h.children)))},!0),this.postExecuted("shape.toggleCollapse",600,function(f){var h=f.shape;if(T(h,"bpmn:SubProcess")){var m=f.newRootElement;m&&(ar(h)?c._moveChildrenToShape(m,h):c._moveChildrenToShape(h,m))}},!0),t.on("copyPaste.createTree",function(f){var h=f.element,m=f.children;if(u(h)){var g=Kp(h),y=l.get(g);y&&m.push.apply(m,y.children)}}),t.on("copyPaste.copyElement",function(f){var h=f.descriptor,g=f.elements,y=f.element.parent;if(T(vr(y),"bpmndi:BPMNPlane")){var _=SN(y),E=It(g,function(x){return x.id===_});E&&(h.parent=E.id)}}),t.on("copyPaste.pasteElement",function(f){var h=f.descriptor;h.parent&&(u(h.parent)||h.parent.hidden)&&(h.hidden=!0)})}function UF(n,t){n.invoke(Qe,this),this.postExecuted("shape.replace",function(i){var s=i.context.oldShape,o=i.context.newShape;if(T(o,"bpmn:SubProcess")&&(T(s,"bpmn:Task")||T(s,"bpmn:CallActivity"))&&ar(o)){var a=function jot(n){return{x:n.x+n.width/6,y:n.y+n.height/2}}(o);t.createShape({type:"bpmn:StartEvent"},a,o)}})}function qF(n){Qe.call(this,n),this.preExecute("connection.create",function(t){const{target:i}=t;T(i,"bpmn:TextAnnotation")&&(t.parent=i.parent)},!0),this.preExecute(["shape.create","shape.resize","elements.move"],function(t){const i=t.shapes||[t.shape];1===i.length&&T(i[0],"bpmn:TextAnnotation")&&(t.hints=t.hints||{},t.hints.autoResize=!1)},!0)}function WF(n,t){Qe.call(this,n),this.postExecuted("shape.toggleCollapse",1500,function(i){var s=i.shape;if(!ar(s)){var o=hE(s);o.forEach(function(l){var c=l.incoming.slice(),u=l.outgoing.slice();se(c,function(d){a(d,!0)}),se(u,function(d){a(d,!1)})})}function a(l,c){-1!==o.indexOf(l.source)&&-1!==o.indexOf(l.target)||(c?t.reconnectEnd(l,s,cn(s)):t.reconnectStart(l,s,cn(s)))}},!0)}function KF(n,t,i){Qe.call(this,n),this.executed(["shape.toggleCollapse"],500,function(l){var u=l.context.shape;T(u,"bpmn:SubProcess")&&(u.collapsed?vr(u).isExpanded=!1:(function s(l){l.length&&l.forEach(function(c){"label"===c.type&&!c.businessObject.name&&(c.hidden=!0)})}(u.children),vr(u).isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],500,function(l){var u=l.context.shape;vr(u).isExpanded=!u.collapsed}),this.postExecuted(["shape.toggleCollapse"],500,function(l){var d,c=l.context.shape,u=t.getDefaultSize(c);d=c.collapsed?function a(l,c){return{x:l.x+(l.width-c.width)/2,y:l.y+(l.height-c.height)/2,width:c.width,height:c.height}}(c,u):function o(l,c){var p,f,d=c;return p=function Vot(n){return n.filter(function(t){return!t.hidden})}(l.children).concat([l]),(f=ope(p))?(d.width=Math.max(f.width,d.width),d.height=Math.max(f.height,d.height),d.x=f.x+(f.width-d.width)/2,d.y=f.y+(f.height-d.height)/2):(d.x=l.x+(l.width-d.width)/2,d.y=l.y+(l.height-d.height)/2),d}(c,u),i.resizeShape(c,d,null,{autoResize:!c.collapsed&&"nwse"})})}function YF(n,t,i,s){t.invoke(Qe,this),this.preExecute("shape.delete",function(o){var l=o.context.shape,c=l.businessObject;hr(l)||(T(l,"bpmn:Participant")&&ar(l)&&i.ids.unclaim(c.processRef.id),s.unclaimId(c.id,c))}),this.preExecute("connection.delete",function(o){var c=o.context.connection.businessObject;s.unclaimId(c.id,c)}),this.preExecute("canvas.updateRoot",function(){var o=n.getRootElement(),a=o.businessObject;T(o,"bpmn:Collaboration")&&i.ids.unclaim(a.id)})}function XF(n,t){Qe.call(this,n),this.preExecute("connection.delete",function(i){var o=i.context.connection,a=o.source;(function $ot(n,t){if(!T(n,"bpmn:SequenceFlow"))return!1;var i=G(t),s=G(n);return i.get("default")===s})(o,a)&&t.updateProperties(a,{default:null})})}function ZF(n,t){var i;Qe.call(this,n);var l=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(l,5e3,function(c){!function s(){(i=i||new Uot).enter()}()}),this.postExecuted(l,500,function(c){!function a(){if(!i)throw new Error("out of bounds release");var c=i.leave();c&&(t.updateLaneRefs(i.flowNodes,i.lanes),i=null)}()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(c){var d=c.context.shape,p=function o(){if(!i)throw new Error("out of bounds release");return i}();d.labelTarget||(T(d,"bpmn:Lane")&&p.addLane(d),T(d,"bpmn:FlowNode")&&p.addFlowNode(d))})}function Uot(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(n){this.lanes.push(n)},this.addFlowNode=function(n){this.flowNodes.push(n)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}function QF(n,t){Qe.call(this,n),this.postExecuted("elements.create",function(i){const o=i.context.elements;for(const a of o)qot(a)&&!Got(a)&&t.updateProperties(a,{isForCompensation:void 0})})}function qot(n){const t=G(n);return t&&t.isForCompensation}function Got(n){return n.incoming.filter(i=>function Wot(n){return n&&T(n,"bpmn:BoundaryEvent")&&Cv(n,"bpmn:CompensateEventDefinition")}(i.source)).length>0}Lt(s0,Qe),s0.prototype._moveChildrenToShape=function(n,t){var o,i=this._modeling,s=n.children;if(s){var a=(s=s.concat(s.reduce(function(d,p){return p.label&&p.label.parent!==n?d.concat(p.label):d},[]))).filter(function(d){return!d.hidden});if(!a.length)return void i.moveElements(s,{x:0,y:0},t,{autoResize:!1});var l=Qs(a);if(t.x){var c=cn(t),u=cn(l);o={x:c.x-u.x,y:c.y-u.y}}else o={x:180-l.x,y:160-l.y};i.moveElements(s,o,t,{autoResize:!1})}},s0.prototype._showRecursively=function(n,t){var i=this,s=[];return n.forEach(function(o){o.hidden=!!t,s=s.concat(o),o.children&&(s=s.concat(i._showRecursively(o.children,o.collapsed||t)))}),s},s0.prototype._addDiagram=function(n){var i=this._bpmnjs.getDefinitions().diagrams;return n.businessObject||(n=this._createNewDiagram(n)),i.push(n.di.$parent),n},s0.prototype._createNewDiagram=function(n){var t=this._bpmnFactory,i=this._elementFactory,s=t.create("bpmndi:BPMNPlane",{bpmnElement:n}),o=t.create("bpmndi:BPMNDiagram",{plane:s});return s.$parent=o,i.createRoot({id:Kp(n),type:n.$type,di:s,businessObject:n,collapsed:!0})},s0.prototype._removeDiagram=function(n){var i=this._bpmnjs.getDefinitions().diagrams,s=It(i,function(o){return o.plane.bpmnElement.id===n.id});return i.splice(i.indexOf(s),1),s},s0.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"],UF.$inject=["injector","modeling"],Lt(UF,Qe),Lt(qF,Qe),qF.$inject=["eventBus"],Lt(WF,Qe),WF.$inject=["eventBus","modeling"],Lt(KF,Qe),KF.$inject=["eventBus","elementFactory","modeling"],Lt(YF,Qe),YF.$inject=["canvas","injector","moddle","modeling"],Lt(XF,Qe),XF.$inject=["eventBus","modeling"],ZF.$inject=["eventBus","modeling"],Lt(ZF,Qe),Lt(QF,Qe),QF.$inject=["eventBus","modeling"];const Kot={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","compensateBoundaryEventBehaviour","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","nonInterruptingBehavior","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","textAnnotationBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior","setCompensationActivityAfterPasteBehavior"],adaptiveLabelPositioningBehavior:["type",pF],appendBehavior:["type",fF],associationBehavior:["type",hF],attachEventBehavior:["type",o8],boundaryEventBehavior:["type",mF],compensateBoundaryEventBehaviour:["type",gF],createBehavior:["type",yF],createDataObjectBehavior:["type",vF],createParticipantBehavior:["type",EF],dataInputAssociationBehavior:["type",wF],dataStoreBehavior:["type",xF],deleteLaneBehavior:["type",CF],detachEventBehavior:["type",h8],dropOnFlowBehavior:["type",SF],eventBasedGatewayBehavior:["type",OF],fixHoverBehavior:["type",ppe],groupBehavior:["type",TF],importDockingFix:["type",hpe],isHorizontalFix:["type",DF],labelBehavior:["type",kF],layoutConnectionBehavior:["type",MF],messageFlowBehavior:["type",RF],nonInterruptingBehavior:["type",NF],removeElementBehavior:["type",FF],removeEmbeddedLabelBoundsBehavior:["type",LF],removeParticipantBehavior:["type",BF],replaceConnectionBehavior:["type",jF],replaceElementBehaviour:["type",_8],resizeBehavior:["type",Rpe],resizeLaneBehavior:["type",Fpe],rootElementReferenceBehavior:["type",zF],spaceToolBehavior:["type",jpe],subProcessPlaneBehavior:["type",s0],subProcessStartEventBehavior:["type",UF],textAnnotationBehavior:["type",qF],toggleCollapseConnectionBehaviour:["type",WF],toggleElementCollapseBehaviour:["type",KF],unclaimIdBehavior:["type",YF],unsetDefaultFlowBehavior:["type",XF],updateFlowNodeRefsBehavior:["type",ZF],setCompensationActivityAfterPasteBehavior:["type",QF]};function zpe(n,t){var i=ji(n,t,-15);return"intersect"!==i?i:null}function Po(n){tl.call(this,n)}function JF(n){return!n||hr(n)}function Hpe(n){do{if(T(n,"bpmn:Process"))return G(n);if(T(n,"bpmn:Participant"))return G(n).processRef||G(n)}while(n=n.parent)}function eB(n){return T(n,"bpmn:TextAnnotation")}function tB(n){return T(n,"bpmn:Group")&&!n.labelTarget}function Upe(n){return T(n,"bpmn:BoundaryEvent")&&qd(n,"bpmn:CompensateEventDefinition")}function x8(n){return G(n).isForCompensation}function qpe(n){for(var t=n;t=t.parent;){if(T(t,"bpmn:FlowElementsContainer"))return G(t);if(T(t,"bpmn:Participant"))return G(t).processRef}return null}function Wpe(n,t){return qpe(n)===qpe(t)}function qd(n,t){return!!It(G(n).eventDefinitions||[],function(s){return T(s,t)})}function Gpe(n,t){return(G(n).eventDefinitions||[]).every(function(s){return T(s,t)})}function nB(n,t){var i=function rat(n){for(var t=[];n;)(n=n.parent)&&t.push(n);return t}(t);return-1!==i.indexOf(n)}function C8(n,t,i){if(JF(n)||JF(t))return null;if(!T(i,"bpmn:DataAssociation")){if(nfe(n,t))return{type:"bpmn:MessageFlow"};if(rfe(n,t))return{type:"bpmn:SequenceFlow"}}return iB(n,t)||(tfe(n,t)?{type:"bpmn:Association",associationDirection:"One"}:!!efe(n,t)&&{type:"bpmn:Association",associationDirection:"None"})}function cb(n,t){return!(!hr(n)&&!tB(n))||!(T(t,"bpmn:Participant")&&!ar(t))&&(T(n,"bpmn:Participant")?T(t,"bpmn:Process")||T(t,"bpmn:Collaboration"):Kt(n,["bpmn:DataInput","bpmn:DataOutput"])&&n.parent?t===n.parent:T(n,"bpmn:Lane")?T(t,"bpmn:Participant")||T(t,"bpmn:Lane"):!(T(n,"bpmn:BoundaryEvent")&&!function iat(n){return G(n).cancelActivity&&(Kpe(n)||Ype(n))}(n))&&(T(n,"bpmn:FlowElement")&&!T(n,"bpmn:DataStoreReference")?T(t,"bpmn:FlowElementsContainer")?ar(t):Kt(t,["bpmn:Participant","bpmn:Lane"]):T(n,"bpmn:DataStoreReference")&&T(t,"bpmn:Collaboration")?qc(G(t).get("participants"),function(i){return!!i.get("processRef")}):Kt(n,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?Kt(t,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):!!T(n,"bpmn:MessageFlow")&&(T(t,"bpmn:Collaboration")||n.source.parent==t||n.target.parent==t)))}function oat(n){return T(n,"bpmn:Lane")}function Kpe(n){var t=G(n);return t&&!(t.eventDefinitions&&t.eventDefinitions.length)}function Ype(n){return Xpe(n,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function Xpe(n,t){return t.some(function(i){return qd(n,i)})}function ow(n,t,i,s){if(Array.isArray(n)||(n=[n]),1!==n.length)return!1;var o=n[0];return!(hr(o)||!function aat(n){return!!(function sat(n){return!hr(n)&&T(n,"bpmn:BoundaryEvent")}(n)||T(n,"bpmn:IntermediateThrowEvent")&&Kpe(n))||T(n,"bpmn:IntermediateCatchEvent")&&Ype(n)}(o)||Zs(t)||!T(t,"bpmn:Activity")||x8(t)||s&&!zpe(s,t)||function lat(n){return T(n,"bpmn:ReceiveTask")&&It(n.incoming,function(t){return T(t.source,"bpmn:EventBasedGateway")})}(t))&&"attach"}function Zpe(n,t,i){if(!t)return!1;var s={replacements:[]};return se(n,function(o){Zs(t)||T(o,"bpmn:StartEvent")&&"label"!==o.type&&cb(o,t)&&(aoe(o)||s.replacements.push({oldElementId:o.id,newElementType:"bpmn:StartEvent"}),(function lGe(n){return Cv(n,"bpmn:ErrorEventDefinition")}(o)||function cGe(n){return Cv(n,"bpmn:EscalationEventDefinition")}(o)||function uGe(n){return Cv(n,"bpmn:CompensateEventDefinition")}(o))&&s.replacements.push({oldElementId:o.id,newElementType:"bpmn:StartEvent"}),Xpe(o,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&T(t,"bpmn:SubProcess")&&s.replacements.push({oldElementId:o.id,newElementType:"bpmn:StartEvent"})),T(t,"bpmn:Transaction")||qd(o,"bpmn:CancelEventDefinition")&&"label"!==o.type&&(T(o,"bpmn:EndEvent")&&cb(o,t)&&s.replacements.push({oldElementId:o.id,newElementType:"bpmn:EndEvent"}),T(o,"bpmn:BoundaryEvent")&&ow(o,t,0,i)&&s.replacements.push({oldElementId:o.id,newElementType:"bpmn:BoundaryEvent"}))}),!!s.replacements.length&&s}function Qpe(n,t){return!qc(n,oat)&&(!t||n.every(function(i){return cb(i,t)}))}function rB(n,t,i,s){return!!t&&(!(!hr(n)&&!tB(n))||!(function Xot(n,t){return n===t}(i,t)||i&&nB(i,t))&&(cb(n,t)||S8(n,t)))}function Jpe(n,t){return T(n,"bpmn:SubProcess")?ar(n)&&(!t||t.width>=100&&t.height>=80):!!(T(n,"bpmn:Lane")||T(n,"bpmn:Participant")||eB(n)||tB(n))}function efe(n,t){return!(nB(t,n)||nB(n,t)||!function cat(n,t){var i=eB(n),s=eB(t);return(i||s)&&i!==s}(n,t)&&!iB(n,t))}function tfe(n,t){return Wpe(n,t)&&Upe(n)&&T(t,"bpmn:Activity")&&!function dat(n,t){return n.attachers.includes(t)}(t,n)&&!Zs(t)}function nfe(n,t){return!(sfe(n)&&!sfe(t))&&function Qot(n){return T(n,"bpmn:InteractionNode")&&!T(n,"bpmn:BoundaryEvent")&&(!T(n,"bpmn:Event")||T(n,"bpmn:ThrowEvent")&&Gpe(n,"bpmn:MessageEventDefinition"))}(n)&&function Jot(n){return T(n,"bpmn:InteractionNode")&&!x8(n)&&(!T(n,"bpmn:Event")||T(n,"bpmn:CatchEvent")&&Gpe(n,"bpmn:MessageEventDefinition"))&&!(T(n,"bpmn:BoundaryEvent")&&!qd(n,"bpmn:MessageEventDefinition"))}(t)&&!function Zot(n,t){return Hpe(n)===Hpe(t)}(n,t)}function rfe(n,t){return function eat(n){return T(n,"bpmn:FlowNode")&&!T(n,"bpmn:EndEvent")&&!Zs(n)&&!(T(n,"bpmn:IntermediateThrowEvent")&&qd(n,"bpmn:LinkEventDefinition"))&&!Upe(n)&&!x8(n)}(n)&&function tat(n){return T(n,"bpmn:FlowNode")&&!T(n,"bpmn:StartEvent")&&!T(n,"bpmn:BoundaryEvent")&&!Zs(n)&&!(T(n,"bpmn:IntermediateCatchEvent")&&qd(n,"bpmn:LinkEventDefinition"))&&!x8(n)}(t)&&Wpe(n,t)&&!(T(n,"bpmn:EventBasedGateway")&&!function nat(n){return T(n,"bpmn:ReceiveTask")||T(n,"bpmn:IntermediateCatchEvent")&&(qd(n,"bpmn:MessageEventDefinition")||qd(n,"bpmn:TimerEventDefinition")||qd(n,"bpmn:ConditionalEventDefinition")||qd(n,"bpmn:SignalEventDefinition"))}(t))}function iB(n,t){return Kt(n,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Kt(t,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:!(!Kt(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])||!Kt(n,["bpmn:Activity","bpmn:CatchEvent"]))&&{type:"bpmn:DataOutputAssociation"}}function S8(n,t,i){if(!t)return!1;if(Array.isArray(n)){if(1!==n.length)return!1;n=n[0]}return t.source!==n&&t.target!==n&&Kt(t,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!hr(t)&&T(n,"bpmn:FlowNode")&&!T(n,"bpmn:BoundaryEvent")&&cb(n,t.parent)}function ife(n,t){return!!hr(t)||!(T(t,"bpmn:Lane")&&!function uat(n,t){return n&&t&&-1!==n.indexOf(t)}(n,t.parent))}function sfe(n){return Jv(n,"bpmn:Process")||Jv(n,"bpmn:Collaboration")}Lt(Po,tl),Po.$inject=["eventBus"],Po.prototype.init=function(){this.addRule("connection.start",function(n){return function Yot(n){return JF(n)?null:Kt(n,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}(n.source)}),this.addRule("connection.create",function(n){var t=n.source,i=n.target,s=n.hints||{},o=s.targetParent;if(s.targetAttach)return!1;o&&(i.parent=o);try{return C8(t,i)}finally{o&&(i.parent=null)}}),this.addRule("connection.reconnect",function(n){return C8(n.source,n.target,n.connection)}),this.addRule("connection.updateWaypoints",function(n){return{type:n.connection.type}}),this.addRule("shape.resize",function(n){return Jpe(n.shape,n.newBounds)}),this.addRule("elements.create",function(n){var t=n.elements,i=n.position,s=n.target;return!(ri(s)&&!S8(t,s))&&tc(t,function(o){return ri(o)?C8(o.source,o.target,o):o.host?ow(o,o.host,0,i):rB(o,s,null)})}),this.addRule("elements.move",function(n){var t=n.target,i=n.shapes,s=n.position;return ow(i,t,0,s)||Zpe(i,t,s)||Qpe(i,t)||S8(i,t)}),this.addRule("shape.create",function(n){return rB(n.shape,n.target,n.source)}),this.addRule("shape.attach",function(n){return ow(n.shape,n.target,0,n.position)}),this.addRule("element.copy",function(n){return ife(n.elements,n.element)})},Po.prototype.canConnectMessageFlow=nfe,Po.prototype.canConnectSequenceFlow=rfe,Po.prototype.canConnectDataAssociation=iB,Po.prototype.canConnectAssociation=efe,Po.prototype.canConnectCompensationAssociation=tfe,Po.prototype.canMove=Qpe,Po.prototype.canAttach=ow,Po.prototype.canReplace=Zpe,Po.prototype.canDrop=cb,Po.prototype.canInsert=S8,Po.prototype.canCreate=rB,Po.prototype.canConnect=C8,Po.prototype.canResize=Jpe,Po.prototype.canCopy=ife;const pat={__depends__:[Zc],__init__:["bpmnRules"],bpmnRules:["type",Po]};function ofe(n,t){n.on("saveXML.start",2e3,function i(){se(t.getRootElements(),function(o){var c,a=vr(o);c=xs(hn(hE([o],!1),function(u){return u!==o&&!u.labelTarget}),vr),a.set("planeElement",c)})})}ofe.$inject=["eventBus","canvas"];const hat={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",ofe]};function O8(n){Qe.call(this,n);var t=this;this.preExecute(["shape.create","connection.create"],function(i){var s=i.context,l=t.getOrdering(s.shape||s.connection,s.parent);l&&(void 0!==l.parent&&(s.parent=l.parent),s.parentIndex=l.index)}),this.preExecute(["shape.move","connection.move"],function(i){var s=i.context,o=s.shape||s.connection,l=t.getOrdering(o,s.newParent||o.parent);l&&(void 0!==l.parent&&(s.newParent=l.parent),s.newParentIndex=l.index)})}function sB(n,t){O8.call(this,n);var i=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:9,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:TextAnnotation",order:{level:9}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function o(l){var c=l.order;if(c||(l.order=c=function s(l){if(l.labelTarget)return{level:10};var c=It(i,function(u){return Kt(l,[u.type])});return c&&c.order||{level:1}}(l)),!c)throw new Error(`no order for <${l.id}>`);return c}this.getOrdering=function(l,c){if(l.labelTarget||T(l,"bpmn:TextAnnotation"))return{parent:t.findRoot(c)||t.getRootElement(),index:-1};var u=o(l);u.containers&&(c=function a(l,c,u){for(var d=c;d&&!Kt(d,u);)d=d.parent;if(!d)throw new Error(`no parent for <${l.id}> in <${c&&c.id}>`);return d}(l,c,u.containers));var d=c.children.indexOf(l),p=Pl(c.children,function(f){return!(!l.labelTarget&&f.labelTarget)&&u.level<o(f).level});return-1!==p&&-1!==d&&d<p&&(p-=1),{index:p,parent:c}}}O8.prototype.getOrdering=function(n,t){return null},Lt(O8,Qe),sB.$inject=["eventBus","canvas"],Lt(sB,O8);const mat={__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",sB]};function aw(){}aw.prototype.get=function(){return this._data},aw.prototype.set=function(n){this._data=n},aw.prototype.clear=function(){var n=this._data;return delete this._data,n},aw.prototype.isEmpty=function(){return!this._data};const oB={clipboard:["type",aw]};var gat="drop-ok",afe="drop-not-ok",lfe="attach-ok",cfe="new-parent";function dfe(n,t,i,s,o){function l(u,d){[lfe,gat,afe,cfe].forEach(function(p){p===d?n.addMarker(u,p):n.removeMarker(u,p)})}function c(){var u=t.context();u&&"create"===u.prefix&&t.cancel()}i.on(["create.move","create.hover"],function(u){var d=u.context,p=d.elements,f=u.hover,h=d.source,m=d.hints||{};if(!f)return d.canExecute=!1,void(d.target=null);pfe(u);var y=d.canExecute=f&&function a(u,d,p,f,h){if(!d)return!1;var m=It(u=hn(u,function(E){var x=E.labelTarget;return!(E.parent||hr(E)&&-1!==u.indexOf(x))}),function(E){return!ri(E)}),g=!1,y=!1,v=!1;ffe(u)&&(g=o.allowed("shape.attach",{position:p,shape:m,target:d})),g||(v=ffe(u)?o.allowed("shape.create",{position:p,shape:m,source:f,target:d}):o.allowed("elements.create",{elements:u,position:p,target:d}));var _=h.connectionTarget;return v||g?(m&&f&&(y=o.allowed("connection.create",{source:_===f?m:f,target:_===f?f:m,hints:{targetParent:d,targetAttach:g}})),{attach:g,connect:y}):(null===v||null===g)&&null}(p,f,{x:u.x,y:u.y},h,m);f&&null!==y&&(d.target=f,l(f,y&&y.attach?lfe:y?cfe:afe))}),i.on(["create.end","create.out","create.cleanup"],function(u){var d=u.hover;d&&l(d,null)}),i.on("create.end",function(u){var d=u.context,p=d.source,f=d.shape,h=d.elements,m=d.target,g=d.canExecute,y=g&&g.attach,v=g&&g.connect,_=d.hints||{};if(!1===g||!m)return!1;pfe(u);var E={x:u.x,y:u.y};f=v?s.appendShape(p,f,E,m,{attach:y,connection:!0===v?{}:v,connectionTarget:_.connectionTarget}):It(h=s.createElements(h,E,m,pe({},_,{attach:y})),function(x){return!ri(x)}),pe(d,{elements:h,shape:f}),pe(u,{elements:h,shape:f})}),i.on("create.init",function(){i.on("elements.changed",c),i.once(["create.cancel","create.end"],2e3,function(){i.off("elements.changed",c)})}),this.start=function(u,d,p){Vt(d)||(d=[d]);var f=It(d,function(g){return!ri(g)});if(f){p=pe({elements:d,hints:{},shape:f},p||{}),se(d,function(g){un(g.x)||(g.x=0),un(g.y)||(g.y=0)});var m=Qs(hn(d,function(g){return!g.hidden}));se(d,function(g){ri(g)&&(g.waypoints=xs(g.waypoints,function(y){return{x:y.x-m.x-m.width/2,y:y.y-m.y-m.height/2}})),pe(g,{x:g.x-m.x-m.width/2,y:g.y-m.y-m.height/2})}),t.init(u,"create",{cursor:"grabbing",autoActivate:!0,data:{shape:f,elements:d,context:p}})}}}function pfe(n){var i=n.context.createConstraints;i&&(i.left&&(n.x=Math.max(n.x,i.left)),i.right&&(n.x=Math.min(n.x,i.right)),i.top&&(n.y=Math.max(n.y,i.top)),i.bottom&&(n.y=Math.min(n.y,i.bottom)))}function ffe(n){return n&&1===n.length&&!ri(n[0])}function hfe(n,t,i,s,o){t.on("create.move",750,function(l){var c=l.hover,u=l.context,p=u.dragGroup;p||(p=u.dragGroup=function a(l){var c=$t("g");Pt(c,o.cls("djs-drag-group",["no-events"]));var u=$t("g");return l.forEach(function(d){var p;d.hidden||(d.waypoints?(p=i._createContainer("connection",u),i.drawConnection(zh(p),d)):(p=i._createContainer("shape",u),i.drawShape(zh(p),d),Co(p,d.x,d.y)),s.addDragger(d,c,p))}),c}(u.elements)),c?(p.parentNode||sn(n.getActiveLayer(),p),Co(p,l.x,l.y)):Ss(p)}),t.on("create.cleanup",function(l){var u=l.context.dragGroup;u&&Ss(u)})}dfe.$inject=["canvas","dragging","eventBus","modeling","rules"],hfe.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const ub={__depends__:[ff,rb,Zc,Al],__init__:["create","createPreview"],create:["type",dfe],createPreview:["type",hfe]};function aB(n){var t=this;function i(s){t._lastMoveEvent=s}this._lastMoveEvent=null,n.on("canvas.init",function(s){(t._svg=s.svg).addEventListener("mousemove",i)}),n.on("canvas.destroy",function(){t._lastMouseEvent=null,t._svg.removeEventListener("mousemove",i)})}aB.$inject=["eventBus"],aB.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||function bat(n,t){var i=document.createEvent("MouseEvent");return i.initMouseEvent&&i.initMouseEvent("mousemove",!0,!0,window,0,n,t,n,t,!1,!1,!1,!1,0,null),i}(0,0)};const lw={__init__:["mouse"],mouse:["type",aB]};function Hu(n,t,i,s,o,a,l,c){this._canvas=n,this._create=t,this._clipboard=i,this._elementFactory=s,this._eventBus=o,this._modeling=a,this._mouse=l,this._rules=c,o.on("copyPaste.copyElement",function(u){var d=u.descriptor,p=u.element,f=u.elements;d.priority=1,d.id=p.id,It(f,function(m){return m===p.parent})&&(d.parent=p.parent.id),function _at(n){return!!n.host}(p)&&(d.priority=2,d.host=p.host.id),ri(p)&&(d.priority=3,d.source=p.source.id,d.target=p.target.id,d.waypoints=function Eat(n){return xs(n.waypoints,function(t){return(t=mfe(t)).original&&(t.original=mfe(t.original)),t})}(p)),hr(p)&&(d.priority=4,d.labelTarget=p.labelTarget.id),se(["x","y","width","height"],function(m){un(p[m])&&(d[m]=p[m])}),d.hidden=p.hidden,d.collapsed=p.collapsed}),o.on("copyPaste.pasteElements",function(u){pe(u.hints,{createElementsBehavior:!1})})}function mfe(n){return pe({},n)}function gfe(n,t){var i=t.indexOf(n);return-1===i?t:t.splice(i,1)}Hu.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],Hu.prototype.copy=function(n){var t,i;return Vt(n)||(n=n?[n]:[]),i=!1===(t=this._eventBus.fire("copyPaste.canCopyElements",{elements:n}))?{}:this.createTree(Vt(t)?t:n),this._clipboard.set(i),this._eventBus.fire("copyPaste.elementsCopied",{elements:n,tree:i}),i},Hu.prototype.paste=function(n){var t=this._clipboard.get();if(!this._clipboard.isEmpty()){var i=n&&n.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:i});var s=this._createElements(t);if(n&&n.element&&n.point)return this._paste(s,n.element,n.point,i);this._create.start(this._mouse.getLastMoveEvent(),s,{hints:i||{}})}},Hu.prototype._paste=function(n,t,i,s){se(n,function(a){un(a.x)||(a.x=0),un(a.y)||(a.y=0)});var o=Qs(n);return se(n,function(a){ri(a)&&(a.waypoints=xs(a.waypoints,function(l){return{x:l.x-o.x-o.width/2,y:l.y-o.y-o.height/2}})),pe(a,{x:a.x-o.x-o.width/2,y:a.y-o.y-o.height/2})}),this._modeling.createElements(n,i,t,pe({},s))},Hu.prototype._createElements=function(n){var t=this,i=this._eventBus,s={},o=[];return se(n,function(a,l){l=parseInt(l,10),se(a=Ys(a,"priority"),function(c){var d,u=pe({},Wc(c,["priority"]));return s[c.parent]?u.parent=s[c.parent]:delete u.parent,i.fire("copyPaste.pasteElement",{cache:s,descriptor:u}),ri(u)?(u.source=s[c.source],u.target=s[c.target],d=s[c.id]=t.createConnection(u),void o.push(d)):hr(u)?(u.labelTarget=s[u.labelTarget],d=s[c.id]=t.createLabel(u),void o.push(d)):(u.host&&(u.host=s[u.host]),d=s[c.id]=t.createShape(u),void o.push(d))})}),o},Hu.prototype.createConnection=function(n){return this._elementFactory.createConnection(Wc(n,["id"]))},Hu.prototype.createLabel=function(n){return this._elementFactory.createLabel(Wc(n,["id"]))},Hu.prototype.createShape=function(n){return this._elementFactory.createShape(Wc(n,["id"]))},Hu.prototype.hasRelations=function(n,t){var i,s,o;return!(ri(n)&&(s=It(t,Bu({id:n.source.id})),o=It(t,Bu({id:n.target.id})),!s||!o)||hr(n)&&(i=It(t,Bu({id:n.labelTarget.id})),!i))},Hu.prototype.createTree=function(n){var t=this._rules,i=this,s={},o=[];function c(d,p){var f=It(o,function(h){return d===h.element});f?f.depth<p&&(o=function u(d,p){var f=p.indexOf(d);return-1!==f&&p.splice(f,1),p}(f,o),o.push({element:f.element,depth:p})):o.push({element:d,depth:p})}return dg(VS(n),function(d,p,f){if(!hr(d)){se(d.labels,function(g){c(g,f)}),se([d.attachers,d.incoming,d.outgoing],function h(g){g&&g.length&&se(g,function(y){se(y.labels,function(v){c(v,f)}),c(y,f)})}),c(d,f);var m=[];return d.children&&(m=d.children.slice()),i._eventBus.fire("copyPaste.createTree",{element:d,children:m}),m}}),n=xs(o,function(d){return d.element}),o=Ys(o=xs(o,function(d){return d.descriptor={},i._eventBus.fire("copyPaste.copyElement",{descriptor:d.descriptor,element:d.element,elements:n}),d}),function(d){return d.descriptor.priority}),n=xs(o,function(d){return d.element}),se(o,function(d){var p=d.depth;i.hasRelations(d.element,n)&&function l(d,p){return t.allowed("element.copy",{element:d,elements:p})}(d.element,n)?(s[p]||(s[p]=[]),s[p].push(d.descriptor)):gfe(d.element,n)}),s};const wat={__depends__:[oB,ub,lw,Zc],__init__:["copyPaste"],copyPaste:["type",Hu]};function lB(n,t,i){Vt(i)||(i=[i]),se(i,function(s){Sr(n[s])||(t[s]=n[s])})}function yfe(n,t,i){function s(u,d){var p=n.create(u.$type);return i.copyElement(u,p,null,d)}t.on("copyPaste.copyElement",750,function(u){var d=u.descriptor,p=u.element,f=G(p);if(hr(p))return d;var h=d.businessObject=s(f,!0),m=d.di=s(vr(p),!0);m.bpmnElement=h,lB(h,d,"name"),lB(m,d,"isExpanded"),f.default&&(d.default=f.default.id)});var o="-bpmn-js-refs";t.on("copyPaste.pasteElement",function(u){var d=u.cache,p=u.descriptor,f=p.businessObject,h=p.di;if(hr(p))return p.businessObject=G(d[p.labelTarget]),void(p.di=vr(d[p.labelTarget]));f=p.businessObject=s(f),(h=p.di=s(h)).bpmnElement=f,lB(p,f,["isExpanded","name"]),p.type=f.$type}),t.on("copyPaste.copyElement",750,function(u){var d=u.descriptor,p=u.element;if(T(p,"bpmn:Participant")){var f=G(p);f.processRef&&(d.processRef=s(f.processRef,!0))}}),t.on("copyPaste.pasteElement",function(u){var d=u.descriptor,p=d.processRef;p&&(d.processRef=s(p))}),t.on("copyPaste.pasteElement",750,function(u){var d=u.cache;!function l(u,d){u[o]=d}(d,function c(u,d,p){var f=G(u);return u.default&&(p[u.default]={element:f,property:"default"}),u.host&&(G(u).attachedToRef=G(d[u.host])),Wc(p,ps(p,function(h,m,g){return g===u.id&&(m.element.set(m.property,f),h.push(u.id)),h},[]))}(u.descriptor,d,function a(u){return u[o]=u[o]||{}}(d)))})}yfe.$inject=["bpmnFactory","eventBus","moddleCopy"];var xat=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing","categoryValue"];function cw(n,t,i){this._bpmnFactory=t,this._eventBus=n,this._moddle=i,n.on("moddleCopy.canCopyProperties",function(s){var o=s.propertyNames;if(o&&o.length)return Ys(o,function(a){return"extensionElements"===a})}),n.on("moddleCopy.canCopyProperty",function(s){var o=s.parent,a=fr(o)&&o.$descriptor,l=s.propertyName;if(l&&-1!==xat.indexOf(l)||l&&a&&!It(a.properties,Bu({name:l})))return!1}),n.on("moddleCopy.canSetCopiedProperty",function(s){var o=s.property;if(function Cat(n,t){return n&&Gn(n.$instanceOf)&&n.$instanceOf(t)}(o,"bpmn:ExtensionElements")&&(!o.values||!o.values.length))return!1})}function uB(n,t){return ps(n.properties,function(i,s){return t&&s.default?i:i.concat(s.name)},[])}cw.$inject=["eventBus","bpmnFactory","moddle"],cw.prototype.copyElement=function(n,t,i,s=!1){var o=this;i&&!Vt(i)&&(i=[i]),i=i||uB(n.$descriptor);var a=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:i,sourceElement:n,targetElement:t,clone:s});return!1===a||(Vt(a)&&(i=a),se(i,function(l){var c;po(n,l)&&(c=n.get(l));var u=o.copyProperty(c,t,l,s);Hr(u)&&!1!==o._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:t,property:u,propertyName:l})&&t.set(l,u)})),t},cw.prototype.copyProperty=function(n,t,i,s=!1){var o=this,a=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:t,property:n,propertyName:i,clone:s});if(!1!==a){if(a)return fr(a)&&a.$type&&!a.$parent&&(a.$parent=t),a;var l=this._moddle.getPropertyDescriptor(t,i);if(!l.isReference)return l.isId?n&&this._copyId(n,t,s):Vt(n)?ps(n,function(c,u){return(a=o.copyProperty(u,t,i,s))?c.concat(a):c},[]):fr(n)&&n.$type?this._moddle.getElementDescriptor(n).isGeneric?void 0:((a=o._bpmnFactory.create(n.$type)).$parent=t,a=o.copyElement(n,a,null,s)):n}},cw.prototype._copyId=function(n,t,i=!1){return i?n:this._moddle.ids.assigned(n)?void 0:(this._moddle.ids.claim(n,t),n)};const vfe={__depends__:[wat],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",yfe],moddleCopy:["type",cw]};var bfe=Math.round;function dB(n,t){this._modeling=n,this._eventBus=t}function _fe(n,t){t.on("replace.end",500,function(i){const{newElement:s,hints:o={}}=i;!1!==o.select&&n.select(s)})}dB.$inject=["modeling","eventBus"],dB.prototype.replaceElement=function(n,t,i){if(n.waypoints)return null;var s=this._modeling,o=this._eventBus;o.fire("replace.start",{element:n,attrs:t,hints:i});var a=t.width||n.width,l=t.height||n.height,u=t.y||n.y,d=bfe((t.x||n.x)+a/2),p=bfe(u+l/2),f=s.replaceShape(n,pe({},t,{x:d,y:p,width:a,height:l}),i);return o.fire("replace.end",{element:n,newElement:f,hints:i}),f},_fe.$inject=["selection","eventBus"];const Efe={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",_fe],replace:["type",dB]};var Oat=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function wfe(n,t,i,s,o,a){this.replaceElement=function l(c,u,d){d=d||{};var p=u.type,f=c.businessObject;if(T8(f)&&"bpmn:SubProcess"===p&&function Tat(n,t){var i=n&&po(n,"collapsed")?n.collapsed:!ar(n);return i!==(t&&(po(t,"collapsed")||po(t,"isExpanded"))?po(t,"collapsed")?t.collapsed:!t.isExpanded:i)}(c,u))return s.toggleCollapse(c),c;var h=n.create(p),m={type:p,businessObject:h,di:{}};"bpmn:ExclusiveGateway"===p&&(m.di.isMarkerVisible=!0),function Sat(n,t,i){Vt(i)||(i=[i]),se(i,function(s){Sr(n[s])||(t[s]=n[s])})}(c.di,m.di,["fill","stroke","background-color","border-color","color"]);var v=function Pat(n,t){return n.filter(function(i){return t.includes(i)})}(uB(f.$descriptor),uB(h.$descriptor,!0));pe(h,nc(u,Oat));var _=hn(v,function(b){return"eventDefinitions"===b?xfe(c,u.eventDefinitionType):"loopCharacteristics"===b?!Zs(h):!(po(h,b)||"processRef"===b&&!1===u.isExpanded||"triggeredByEvent"===b||"isForCompensation"===b&&Zs(h))});if(h=i.copyElement(f,h,_),u.eventDefinitionType&&(xfe(h,u.eventDefinitionType)||(m.eventDefinitionType=u.eventDefinitionType,m.eventDefinitionAttrs=u.eventDefinitionAttrs)),T(f,"bpmn:Activity")){if(T8(f))m.isExpanded=ar(c);else if(u&&po(u,"isExpanded")){m.isExpanded=u.isExpanded;var E=t.getDefaultSize(h,{isExpanded:m.isExpanded});m.width=E.width,m.height=E.height,m.x=c.x-(m.width-c.width)/2,m.y=c.y-(m.height-c.height)/2}ar(c)&&!T(f,"bpmn:Task")&&m.isExpanded&&(m.width=c.width,m.height=c.height)}if(T8(f)&&!T8(h)&&(d.moveChildren=!1),T(f,"bpmn:Participant")){!0===u.isExpanded?h.processRef=n.create("bpmn:Process"):d.moveChildren=!1;var x=Xs(c);vr(c).isHorizontal||(vr(m).isHorizontal=x),m.width=x?c.width:t.getDefaultSize(m).width,m.height=x?t.getDefaultSize(m).height:c.height}return a.allowed("shape.resize",{shape:h})||(m.height=t.getDefaultSize(m).height,m.width=t.getDefaultSize(m).width),h.name=f.name,Kt(f,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&Kt(h,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(h.default=f.default),u.host&&!T(f,"bpmn:BoundaryEvent")&&T(h,"bpmn:BoundaryEvent")&&(m.host=u.host),("bpmn:DataStoreReference"===m.type||"bpmn:DataObjectReference"===m.type)&&(m.x=c.x+(c.width-m.width)/2),o.replaceElement(c,m,{...d,targetElement:u})}}function T8(n){return T(n,"bpmn:SubProcess")}function xfe(n,t){var i=G(n);return t&&i.get("eventDefinitions").some(function(s){return T(s,t)})}wfe.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules"];const Cfe={__depends__:[vfe,Efe,Al],bpmnReplace:["type",wfe]};function Fg(n){this._eventBus=n,this._tools=[],this._active=null}Fg.$inject=["eventBus"],Fg.prototype.registerTool=function(n,t){var i=this._tools;if(!t)throw new Error('A tool has to be registered with it\'s "events"');i.push(n),this.bindEvents(n,t)},Fg.prototype.isActive=function(n){return n&&this._active===n},Fg.prototype.length=function(n){return this._tools.length},Fg.prototype.setActive=function(n){var t=this._eventBus;this._active!==n&&(this._active=n,t.fire("tool-manager.update",{tool:n}))},Fg.prototype.bindEvents=function(n,t){var i=this._eventBus,s=[];i.on(t.tool+".init",function(o){o.context.reactivate||!this.isActive(n)?this.setActive(n):this.setActive(null)},this),se(t,function(o){s.push(o+".ended"),s.push(o+".canceled")}),i.on(s,250,function(o){this._active&&(function kat(n){var t=n.originalEvent&&n.originalEvent.target;return t&&Ho(t,'.group[data-group="tools"]')}(o)||this.setActive(null))},this)};const P8={__depends__:[ff],__init__:["toolManager"],toolManager:["type",Fg]};function uw(n,t){return-1!==n.indexOf(t)}var pB=Math.abs,Rat=Math.round,mf={x:"width",y:"height"},o0={n:"top",w:"left",s:"bottom",e:"right"},D8={n:"s",w:"e",s:"n",e:"w"};function tu(n,t,i,s,o,a,l){this._canvas=n,this._dragging=t,this._eventBus=i,this._modeling=s,this._rules=o,this._toolManager=a,this._mouse=l;var c=this;a.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),i.on("spaceTool.selection.end",function(u){i.once("spaceTool.selection.ended",function(){c.activateMakeSpace(u.originalEvent)})}),i.on("spaceTool.move",1500,function(u){var d=u.context,p=d.initialized;p||(p=d.initialized=c.init(u,d)),p&&Tfe(u)}),i.on("spaceTool.end",function(u){var d=u.context,p=d.axis,f=d.direction,h=d.movingShapes,m=d.resizingShapes,g=d.start;if(d.initialized){Tfe(u);var y={x:0,y:0};y[p]=Rat(u["d"+p]),c.makeSpace(h,m,y,f,g),i.once("spaceTool.ended",function(v){c.activateSelection(v.originalEvent,!0,!0)})}})}function Ofe(n){return{top:n.top-20,right:n.right+20,bottom:n.bottom+20,left:n.left-20}}function Tfe(n){var s,o,i=n.context.spaceToolConstraints;i&&(un(i.left)&&(s=Math.max(n.x,i.left),n.dx=n.dx+s-n.x,n.x=s),un(i.right)&&(s=Math.min(n.x,i.right),n.dx=n.dx+s-n.x,n.x=s),un(i.top)&&(o=Math.max(n.y,i.top),n.dy=n.dy+o-n.y,n.y=o),un(i.bottom)&&(o=Math.min(n.y,i.bottom),n.dy=n.dy+o-n.y,n.y=o))}function Bg(n,t){return-1!==n.indexOf(t)}tu.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"],tu.prototype.activateSelection=function(n,t,i){this._dragging.init(n,"spaceTool.selection",{autoActivate:t,cursor:"crosshair",data:{context:{reactivate:i}},trapClick:!1})},tu.prototype.activateMakeSpace=function(n){this._dragging.init(n,"spaceTool",{autoActivate:!0,cursor:"crosshair",data:{context:{}}})},tu.prototype.makeSpace=function(n,t,i,s,o){return this._modeling.createSpace(n,t,i,s,o)},tu.prototype.init=function(n,t){var i=pB(n.dx)>pB(n.dy)?"x":"y",s=n["d"+i],o=n[i]-s;if(pB(s)<5)return!1;s<0&&(s*=-1),Mv(n)&&(s*=-1);var a=function Mat(n,t){if("x"===n){if(t>0)return"e";if(t<0)return"w"}if("y"===n){if(t>0)return"s";if(t<0)return"n"}return null}(i,s),l=this._canvas.getRootElement();!qS(n)&&n.hover&&(l=n.hover);var c=[...hE(l,!0),...l.attachers||[]],u=this.calculateAdjustments(c,i,s,o),p=function Lat(n,t,i,s,o){var a=n.movingShapes,l=n.resizingShapes;if(l.length){var u,d,c={};return se(l,function(p){var v,_,E,w,C,D,f=p.attachers,h=p.children,m=tn(p),g=hn(h,function(k){return!(ri(k)||hr(k)||Bg(a,k)||Bg(l,k))}),y=hn(h,function(k){return!ri(k)&&!hr(k)&&Bg(a,k)}),x=[],b=[];g.length&&(_=Ofe(tn(Qs(g))),v=s-m[o0[i]]+_[o0[i]],"n"===i?c.bottom=d=un(d)?Math.min(d,v):v:"w"===i?c.right=d=un(d)?Math.min(d,v):v:"s"===i?c.top=u=un(u)?Math.max(u,v):v:"e"===i&&(c.left=u=un(u)?Math.max(u,v):v)),y.length&&(E=Ofe(tn(Qs(y))),v=s-E[o0[D8[i]]]+m[o0[D8[i]]],"n"===i?c.bottom=d=un(d)?Math.min(d,v):v:"w"===i?c.right=d=un(d)?Math.min(d,v):v:"s"===i?c.top=u=un(u)?Math.max(u,v):v:"e"===i&&(c.left=u=un(u)?Math.max(u,v):v)),f&&f.length&&(f.forEach(function(k){Bg(a,k)?x.push(k):b.push(k)}),x.length&&(w=tn(Qs(x.map(cn))),C=m[o0[D8[i]]]-(w[o0[D8[i]]]-s)),b.length&&(D=tn(Qs(b.map(cn)))[o0[i]]-(m[o0[i]]-s)),"n"===i?(v=Math.min(C||1/0,D||1/0),c.bottom=d=un(d)?Math.min(d,v):v):"w"===i?(v=Math.min(C||1/0,D||1/0),c.right=d=un(d)?Math.min(d,v):v):"s"===i?(v=Math.max(C||-1/0,D||-1/0),c.top=u=un(u)?Math.max(u,v):v):"e"===i&&(v=Math.max(C||-1/0,D||-1/0),c.left=u=un(u)?Math.max(u,v):v));var I=o&&o[p.id];I&&("n"===i?(v=s+p[mf[t]]-I[mf[t]],c.bottom=d=un(d)?Math.min(d,v):v):"w"===i?(v=s+p[mf[t]]-I[mf[t]],c.right=d=un(d)?Math.min(d,v):v):"s"===i?(v=s-p[mf[t]]+I[mf[t]],c.top=u=un(u)?Math.max(u,v):v):"e"===i&&(v=s-p[mf[t]]+I[mf[t]],c.left=u=un(u)?Math.max(u,v):v))}),c}}(u,i,a,o,this._eventBus.fire("spaceTool.getMinDimensions",{axis:i,direction:a,shapes:u.resizingShapes,start:o}));return pe(t,u,{axis:i,direction:a,spaceToolConstraints:p,start:o}),lO("resize-"+("x"===i?"ew":"ns")),!0},tu.prototype.calculateAdjustments=function(n,t,i,s){var o=this._rules,a=[],l=[],c=[],u=[];function d(h){a.includes(h)||a.push(h);var m=h.label;m&&!a.includes(m)&&a.push(m)}se(n,function(h){if(h.parent&&!hr(h)){if(ri(h))return void u.push(h);var m=h[t],g=m+h[mf[t]];if(function Fat(n){return!!n.host}(h)&&(i>0&&cn(h)[t]>s||i<0&&cn(h)[t]<s))return void c.push(h);if(i>0&&m>s||i<0&&g<s)return void d(h);if(m<s&&g>s&&o.allowed("shape.resize",{shape:h}))return void function p(h){l.includes(h)||l.push(h)}(h)}}),se(a,function(h){var m=h.attachers;m&&se(m,function(g){d(g)})});var f=a.concat(l);return se(c,function(h){Bg(f,h.host)&&d(h)}),f=a.concat(l),se(u,function(h){var g=h.target,y=h.label;Bg(f,h.source)&&Bg(f,g)&&y&&d(y)}),{movingShapes:a,resizingShapes:l}},tu.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var n=this._mouse.getLastMoveEvent();this.activateSelection(n,!!n)},tu.prototype.isActive=function(){var n=this._dragging.context();return!!n&&/^spaceTool/.test(n.prefix)};var fB="djs-dragging",Pfe="djs-resizing",M8=Math.max;function Dfe(n,t,i,s,o){function a(l,c){se(l,function(u){o.addDragger(u,c),i.addMarker(u,fB)})}n.on("spaceTool.selection.start",function(l){var c=i.getLayer("space"),u=l.context,p=$t("g");Pt(p,s.cls("djs-crosshair-group",["no-events"])),sn(c,p);var f=$t("path");Pt(f,"d","M 0,-10000 L 0,10000"),mr(f).add("djs-crosshair"),sn(p,f);var h=$t("path");Pt(h,"d","M -10000,0 L 10000,0"),mr(h).add("djs-crosshair"),sn(p,h),u.crosshairGroup=p}),n.on("spaceTool.selection.move",function(l){Co(l.context.crosshairGroup,l.x,l.y)}),n.on("spaceTool.selection.cleanup",function(l){var u=l.context.crosshairGroup;u&&Ss(u)}),n.on("spaceTool.move",250,function(l){var c=l.context,u=c.line,d=c.axis,p=c.movingShapes,f=c.resizingShapes;if(c.initialized){if(!c.dragGroup){var h=i.getLayer("space");Pt(u=$t("path"),"d","M0,0 L0,0"),mr(u).add("djs-crosshair"),sn(h,u),c.line=u;var m=$t("g");Pt(m,s.cls("djs-drag-group",["no-events"])),sn(i.getActiveLayer(),m),a(p,m),a(c.movingConnections=t.filter(function(b){var w=!1;se(p,function(I){se(I.outgoing,function(k){b===k&&(w=!0)})});var C=!1;se(p,function(I){se(I.incoming,function(k){b===k&&(C=!0)})});var P=!1;se(f,function(I){se(I.outgoing,function(k){b===k&&(P=!0)})});var D=!1;return se(f,function(I){se(I.incoming,function(k){b===k&&(D=!0)})}),ri(b)&&(w||P)&&(C||D)}),m),c.dragGroup=m}if(!c.frameGroup){var y=$t("g");Pt(y,s.cls("djs-frame-group",["no-events"])),sn(i.getActiveLayer(),y);var v=[];se(f,function(b){var w=o.addFrame(b,y),C=w.getBBox();v.push({element:w,initialBounds:C}),i.addMarker(b,Pfe)}),c.frameGroup=y,c.frames=v}Pt(u,{d:{x:"M"+l.x+", -10000 L"+l.x+", 10000",y:"M -10000, "+l.y+" L 10000, "+l.y}[d]});var x={x:l.dx,y:l.dy};x[{x:"y",y:"x"}[c.axis]]=0,Co(c.dragGroup,x.x,x.y),se(c.frames,function(b){var P,D,w=b.element,C=b.initialBounds;Pt(w,"e"===c.direction?{width:M8(C.width+x.x,5)}:{width:P=M8(C.width-x.x,5),x:C.x+C.width-P}),Pt(w,"s"===c.direction?{height:M8(C.height+x.y,5)}:{height:D=M8(C.height-x.y,5),y:C.y+C.height-D})})}}),n.on("spaceTool.cleanup",function(l){var c=l.context,d=c.movingConnections,p=c.resizingShapes,f=c.line,h=c.dragGroup,m=c.frameGroup;se(c.movingShapes,function(g){i.removeMarker(g,fB)}),se(d,function(g){i.removeMarker(g,fB)}),h&&(Ss(f),Ss(h)),se(p,function(g){i.removeMarker(g,Pfe)}),m&&Ss(m)})}Dfe.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];const jat={__init__:["spaceToolPreview"],__depends__:[ff,Zc,P8,rb,lw],spaceTool:["type",tu],spaceToolPreview:["type",Dfe]};function A8(n){n.invoke(tu,this)}A8.$inject=["injector"],Lt(A8,tu),A8.prototype.calculateAdjustments=function(n,t,i,s){var o=tu.prototype.calculateAdjustments.call(this,n,t,i,s);return o.resizingShapes=o.resizingShapes.filter(function(a){return!(T(a,"bpmn:TextAnnotation")||function Vat(n){return T(n,"bpmn:Participant")&&!G(n).processRef}(a)&&("y"===t&&Xs(a)||"x"===t&&!Xs(a)))}),o};const kfe={__depends__:[jat],spaceTool:["type",A8]};function Pi(n,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=t,this._eventBus=n,this._uid=1,n.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}Pi.$inject=["eventBus","injector"],Pi.prototype.execute=function(n,t){if(!n)throw new Error("command required");this._currentExecution.trigger="execute";const i={command:n,context:t};this._pushAction(i),this._internalExecute(i),this._popAction()},Pi.prototype.canExecute=function(n,t){const i={command:n,context:t},s=this._getHandler(n);let o=this._fire(n,"canExecute",i);if(void 0===o){if(!s)return!1;s.canExecute&&(o=s.canExecute(t))}return o},Pi.prototype.clear=function(n){this._stack.length=0,this._stackIdx=-1,!1!==n&&this._fire("changed",{trigger:"clear"})},Pi.prototype.undo=function(){let t,n=this._getUndoAction();if(n){for(this._currentExecution.trigger="undo",this._pushAction(n);n&&(this._internalUndo(n),t=this._getUndoAction(),t&&t.id===n.id);)n=t;this._popAction()}},Pi.prototype.redo=function(){let t,n=this._getRedoAction();if(n){for(this._currentExecution.trigger="redo",this._pushAction(n);n&&(this._internalExecute(n,!0),t=this._getRedoAction(),t&&t.id===n.id);)n=t;this._popAction()}},Pi.prototype.register=function(n,t){this._setHandler(n,t)},Pi.prototype.registerHandler=function(n,t){if(!n||!t)throw new Error("command and handlerCls must be defined");const i=this._injector.instantiate(t);this.register(n,i)},Pi.prototype.canUndo=function(){return!!this._getUndoAction()},Pi.prototype.canRedo=function(){return!!this._getRedoAction()},Pi.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},Pi.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},Pi.prototype._internalUndo=function(n){const t=n.command,i=n.context,s=this._getHandler(t);this._atomicDo(()=>{this._fire(t,"revert",n),s.revert&&this._markDirty(s.revert(i)),this._revertedAction(n),this._fire(t,"reverted",n)})},Pi.prototype._fire=function(n,t,i){arguments.length<3&&(i=t,t=null);const s=t?[n+"."+t,t]:[n];let o;i=this._eventBus.createEvent(i);for(const a of s)if(o=this._eventBus.fire("commandStack."+a,i),i.cancelBubble)break;return o},Pi.prototype._createId=function(){return this._uid++},Pi.prototype._atomicDo=function(n){const t=this._currentExecution;t.atomic=!0;try{n()}finally{t.atomic=!1}},Pi.prototype._internalExecute=function(n,t){const i=n.command,s=n.context,o=this._getHandler(i);if(!o)throw new Error("no command handler registered for <"+i+">");this._pushAction(n),t||(this._fire(i,"preExecute",n),o.preExecute&&o.preExecute(s),this._fire(i,"preExecuted",n)),this._atomicDo(()=>{this._fire(i,"execute",n),o.execute&&this._markDirty(o.execute(s)),this._executedAction(n,t),this._fire(i,"executed",n)}),t||(this._fire(i,"postExecute",n),o.postExecute&&o.postExecute(s),this._fire(i,"postExecuted",n)),this._popAction()},Pi.prototype._pushAction=function(n){const t=this._currentExecution,i=t.actions,s=i[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+n.command+")");n.id||(n.id=s&&s.id||this._createId()),i.push(n)},Pi.prototype._popAction=function(){const n=this._currentExecution,t=n.trigger,i=n.actions,s=n.dirty;i.pop(),i.length||(this._eventBus.fire("elements.changed",{elements:nN("id",s.reverse())}),s.length=0,this._fire("changed",{trigger:t}),n.trigger=null)},Pi.prototype._markDirty=function(n){const t=this._currentExecution;n&&(n=Vt(n)?n:[n],t.dirty=t.dirty.concat(n))},Pi.prototype._executedAction=function(n,t){const i=++this._stackIdx;t||this._stack.splice(i,this._stack.length,n)},Pi.prototype._revertedAction=function(n){this._stackIdx--},Pi.prototype._getHandler=function(n){return this._handlerMap[n]},Pi.prototype._setHandler=function(n,t){if(!n||!t)throw new Error("command and handler required");if(this._handlerMap[n])throw new Error("overriding handler for command <"+n+">");this._handlerMap[n]=t};const I8={commandStack:["type",Pi]};function a0(n,t){if("function"!=typeof t)throw new Error("removeFn iterator must be a function");if(n){for(var i;i=n[0];)t(i);return n}}function hB(n,t,i){Qe.call(this,t);var s=n.get("movePreview",!1);t.on("shape.move.start",1400,function(o){var a=o.context,c=a.validatedShapes;a.shapes=Afe(a.shapes),a.validatedShapes=Afe(c)}),s&&t.on("shape.move.start",250,function(o){var a=o.context,c=[];se(a.shapes,function(u){se(u.labels,function(d){!d.hidden&&-1===a.shapes.indexOf(d)&&c.push(d),u.labelTarget&&c.push(u)})}),se(c,function(u){s.makeDraggable(a,u,!0)})}),this.preExecuted("elements.move",1400,function(o){var l=o.context.closure,c=l.enclosedElements,u=[];se(c,function(d){se(d.labels,function(p){c[p.id]||u.push(p)})}),l.addAll(u)}),this.preExecute(["connection.delete","shape.delete"],function(o){var a=o.context;a0((a.connection||a.shape).labels,function(c){i.removeShape(c,{nested:!0})})}),this.execute("shape.delete",function(o){var a=o.context,l=a.shape,c=l.labelTarget;c&&(a.labelTargetIndex=MN(c.labels,l),a.labelTarget=c,l.labelTarget=null)}),this.revert("shape.delete",function(o){var a=o.context,l=a.shape,c=a.labelTarget;c&&(fs(c.labels,l,a.labelTargetIndex),l.labelTarget=c)})}function Afe(n){return hn(n,function(t){return-1===n.indexOf(t.labelTarget)})}Lt(hB,Qe),hB.$inject=["injector","eventBus","modeling"];const zat={__init__:["labelSupport"],labelSupport:["type",hB]};function mB(n,t,i,s,o){Qe.call(this,t);var a=n.get("movePreview",!1);t.on("shape.move.start",1401,function(l){var c=l.context,d=c.validatedShapes;c.shapes=function Uat(n){var t=gB(n);return nGe("id",n,t)}(c.shapes),c.validatedShapes=function qat(n){var t=Fu(n,"id");return hn(n,function(i){for(;i;){if(i.host&&t[i.host.id])return!1;i=i.parent}return!0})}(d)}),a&&t.on("shape.move.start",251,function(l){var c=l.context;se(gB(c.shapes),function(p){a.makeDraggable(c,p,!0),se(p.labels,function(f){a.makeDraggable(c,f,!0)})})}),a&&t.on("shape.move.start",function(l){var u=l.context.shapes;if(1===u.length){var p=u[0].host;p&&(i.addMarker(p,"attach-ok"),t.once(["shape.move.out","shape.move.cleanup"],function(){i.removeMarker(p,"attach-ok")}))}}),this.preExecuted("elements.move",1401,function(l){var c=l.context,u=c.closure;se(gB(c.shapes),function(f){u.add(f,u.topLevel[f.host.id])})}),this.postExecuted("elements.move",function(l){var p,c=l.context,u=c.shapes,d=c.newHost;d&&1!==u.length||(p=d?u:hn(u,function(f){var h=f.host;return function Wat(n){return!!n.host}(f)&&!function Gat(n,t){return-1!==n.indexOf(t)}(u,h)}),se(p,function(f){o.updateAttachment(f,d)}))}),this.postExecuted("elements.move",function(l){se(l.context.shapes,function(u){se(u.attachers,function(d){se(d.outgoing.slice(),function(p){s.allowed("connection.reconnect",{connection:p,source:p.source,target:p.target})||o.removeConnection(p)}),se(d.incoming.slice(),function(p){s.allowed("connection.reconnect",{connection:p,source:p.source,target:p.target})||o.removeConnection(p)})})})}),this.postExecute("shape.create",function(l){var c=l.context,d=c.host;d&&o.updateAttachment(c.shape,d)}),this.postExecute("shape.replace",function(l){var c=l.context,u=c.oldShape,d=c.newShape;a0(u.attachers,function(p){"attach"===s.allowed("elements.move",{target:d,shapes:[p]})?o.updateAttachment(p,d):o.removeShape(p)}),d.attachers.length&&se(d.attachers,function(p){var f=Spe(p,u,d);o.moveShape(p,f,p.parent)})}),this.postExecute("shape.resize",function(l){var c=l.context,d=c.oldBounds,p=c.newBounds;!1!==(c.hints||{}).attachSupport&&se(c.shape.attachers,function(m){var g=Spe(m,d,p);o.moveShape(m,g,m.parent),se(m.labels,function(y){o.moveShape(y,g,y.parent)})})}),this.preExecute("shape.delete",function(l){var c=l.context.shape;a0(c.attachers,function(u){o.removeShape(u)}),c.host&&o.updateAttachment(c,null)})}function gB(n){return rE(xs(n,function(t){return t.attachers||[]}))}Lt(mB,Qe),mB.$inject=["injector","eventBus","canvas","rules","modeling"];const Kat={__depends__:[Zc],__init__:["attachSupport"],attachSupport:["type",mB]};function nu(n){this._model=n}function Nl(n,t,i){Qe.call(this,n),this._bpmnFactory=t;var s=this;function c(m){se(m.context.oldRoot.children,function(_){T(_,"bpmn:BaseElement")&&s.updateParent(_)})}function u(m){var g=m.context.shape;T(g,"bpmn:BaseElement")&&s.updateBounds(g)}function d(m){s.updateConnection(m.context)}function p(m){s.updateConnectionWaypoints(m.context.connection)}function f(m){s.updateAttachment(m.context)}function h(m){const{element:g}=m.context,y=Ja(g),v=vr(g),_=v&&v.get("label");ag(g)||yE(g)||(y&&!_?v.set("label",t.create("bpmndi:BPMNLabel")):!y&&_&&v.set("label",void 0))}this.executed(["connection.layout","connection.create"],function o(m){var v,g=m.context;!g.cropped&&!1!==(g.hints||{}).createElementsBehavior&&((v=g.connection).waypoints=i.getCroppedWaypoints(v),g.cropped=!0)}),this.reverted(["connection.layout"],function(m){delete m.context.cropped}),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Ll(function a(m){var g=m.context;s.updateParent(g.shape||g.connection,g.oldParent)})),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Ll(function l(m){var g=m.context;s.updateParent(g.shape||g.connection,g.parent||g.newParent)})),this.executed(["canvas.updateRoot"],c),this.reverted(["canvas.updateRoot"],c),this.executed(["shape.move","shape.create","shape.resize"],Ll(function(m){"label"!==m.context.shape.type&&u(m)})),this.reverted(["shape.move","shape.create","shape.resize"],Ll(function(m){"label"!==m.context.shape.type&&u(m)})),n.on("shape.changed",function(m){"label"===m.element.type&&u({context:{shape:m.element}})}),this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],Ll(d)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],Ll(d)),this.executed(["connection.layout","connection.move","connection.updateWaypoints"],Ll(p)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],Ll(p)),this.executed("connection.reconnect",Ll(function(m){var g=m.context,v=g.oldSource,_=g.newSource,E=G(g.connection),x=G(v),b=G(_);E.conditionExpression&&!Kt(b,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(g.oldConditionExpression=E.conditionExpression,delete E.conditionExpression),v!==_&&x.default===E&&(g.oldDefault=x.default,delete x.default)})),this.reverted("connection.reconnect",Ll(function(m){var g=m.context,v=g.oldSource,_=g.newSource,E=G(g.connection),x=G(v),b=G(_);g.oldConditionExpression&&(E.conditionExpression=g.oldConditionExpression),g.oldDefault&&(x.default=g.oldDefault,delete b.default)})),this.executed(["element.updateAttachment"],Ll(f)),this.reverted(["element.updateAttachment"],Ll(f)),this.executed("element.updateLabel",Ll(h)),this.reverted("element.updateLabel",Ll(h))}function Ll(n){return function(t){var i=t.context;T(i.shape||i.connection||i.element,"bpmn:BaseElement")&&n(t)}}function l0(n,t){Kc.call(this),this._bpmnFactory=n,this._moddle=t}function yB(n,t,i){return void 0===t[i]?t:(n[i]=t[i],Wc(t,[i]))}function R8(n,t){this._modeling=n,this._canvas=t}function N8(n){this._modeling=n}function L8(n,t){this._canvas=n,this._layouter=t}nu.$inject=["moddle"],nu.prototype._needsId=function(n){return Kt(n,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])},nu.prototype._ensureId=function(n){var t;n.id?this._model.ids.claim(n.id,n):(t=T(n,"bpmn:Activity")?"Activity":T(n,"bpmn:Event")?"Event":T(n,"bpmn:Gateway")?"Gateway":Kt(n,["bpmn:SequenceFlow","bpmn:MessageFlow"])?"Flow":(n.$type||"").replace(/^[^:]*:/g,""),t+="_",!n.id&&this._needsId(n)&&(n.id=this._model.ids.nextPrefixed(t,n)))},nu.prototype.create=function(n,t){var i=this._model.create(n,t||{});return this._ensureId(i),i},nu.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})},nu.prototype.createDiShape=function(n,t){return this.create("bpmndi:BPMNShape",pe({bpmnElement:n,bounds:this.createDiBounds()},t))},nu.prototype.createDiBounds=function(n){return this.create("dc:Bounds",n)},nu.prototype.createDiWaypoints=function(n){var t=this;return xs(n,function(i){return t.createDiWaypoint(i)})},nu.prototype.createDiWaypoint=function(n){return this.create("dc:Point",nc(n,["x","y"]))},nu.prototype.createDiEdge=function(n,t){return this.create("bpmndi:BPMNEdge",pe({bpmnElement:n,waypoint:this.createDiWaypoints([])},t))},nu.prototype.createDiPlane=function(n,t){return this.create("bpmndi:BPMNPlane",pe({bpmnElement:n},t))},Lt(Nl,Qe),Nl.$inject=["eventBus","bpmnFactory","connectionDocking"],Nl.prototype.updateAttachment=function(n){var t=n.shape,s=t.host;t.businessObject.attachedToRef=s&&s.businessObject},Nl.prototype.updateParent=function(n,t){if(!(hr(n)||T(n,"bpmn:DataStoreReference")&&n.parent&&T(n.parent,"bpmn:Collaboration"))){var i=n.parent,s=n.businessObject,o=vr(n),a=i&&i.businessObject,l=vr(i);T(n,"bpmn:FlowNode")&&this.updateFlowNodeRefs(s,a,t&&t.businessObject),T(n,"bpmn:DataOutputAssociation")&&(a=n.source?n.source.businessObject:null),T(n,"bpmn:DataInputAssociation")&&(a=n.target?n.target.businessObject:null),this.updateSemanticParent(s,a),T(n,"bpmn:DataObjectReference")&&s.dataObjectRef&&this.updateSemanticParent(s.dataObjectRef,a),this.updateDiParent(o,l)}},Nl.prototype.updateBounds=function(n){var t=vr(n),i=function Xat(n){if(T(n,"bpmn:Activity")){var t=vr(n);if(t){var i=t.get("label");if(i)return i.get("bounds")}}}(n);if(i){var s=$u(i,t.get("bounds"));pe(i,{x:n.x+s.x,y:n.y+s.y})}var o=hr(n)?this._getLabel(t):t,a=o.bounds;a||(a=this._bpmnFactory.createDiBounds(),o.set("bounds",a)),pe(a,{x:n.x,y:n.y,width:n.width,height:n.height})},Nl.prototype.updateFlowNodeRefs=function(n,t,i){i!==t&&(T(i,"bpmn:Lane")&&ss(i.get("flowNodeRef"),n),T(t,"bpmn:Lane")&&fs(t.get("flowNodeRef"),n))},Nl.prototype.updateDiConnection=function(n,t,i){var s=vr(n),o=vr(t),a=vr(i);s.sourceElement&&s.sourceElement.bpmnElement!==G(t)&&(s.sourceElement=t&&o),s.targetElement&&s.targetElement.bpmnElement!==G(i)&&(s.targetElement=i&&a)},Nl.prototype.updateDiParent=function(n,t){if(t&&!T(t,"bpmndi:BPMNPlane")&&(t=t.$parent),n.$parent!==t){var i=(t||n.$parent).get("planeElement");t?(i.push(n),n.$parent=t):(ss(i,n),n.$parent=null)}},Nl.prototype.getLaneSet=function(n){var t,i;return T(n,"bpmn:Lane")?((t=n.childLaneSet)||(t=this._bpmnFactory.create("bpmn:LaneSet"),n.childLaneSet=t,t.$parent=n),t):(T(n,"bpmn:Participant")&&(n=n.processRef),(t=(i=n.get("laneSets"))[0])||((t=this._bpmnFactory.create("bpmn:LaneSet")).$parent=n,i.push(t)),t)},Nl.prototype.updateSemanticParent=function(n,t,i){var s;if(n.$parent!==t&&(!T(n,"bpmn:DataInput")&&!T(n,"bpmn:DataOutput")||(T(t,"bpmn:Participant")&&"processRef"in t&&(t=t.processRef),!("ioSpecification"in t)||t.ioSpecification!==n.$parent))){if(T(n,"bpmn:Lane"))t&&(t=this.getLaneSet(t)),s="lanes";else if(T(n,"bpmn:FlowElement")){if(t)if(T(t,"bpmn:Participant"))t=t.processRef;else if(T(t,"bpmn:Lane"))do{t=t.$parent.$parent}while(T(t,"bpmn:Lane"));s="flowElements"}else if(T(n,"bpmn:Artifact")){for(;t&&!T(t,"bpmn:Process")&&!T(t,"bpmn:SubProcess")&&!T(t,"bpmn:Collaboration");){if(T(t,"bpmn:Participant")){t=t.processRef;break}t=t.$parent}s="artifacts"}else if(T(n,"bpmn:MessageFlow"))s="messageFlows";else if(T(n,"bpmn:Participant")){s="participants";var a,o=n.processRef;o&&(a=function Yat(n){for(;n&&!T(n,"bpmn:Definitions");)n=n.$parent;return n}(n.$parent||t),n.$parent&&(ss(a.get("rootElements"),o),o.$parent=null),t&&(fs(a.get("rootElements"),o),o.$parent=a))}else T(n,"bpmn:DataOutputAssociation")?s="dataOutputAssociations":T(n,"bpmn:DataInputAssociation")&&(s="dataInputAssociations");if(!s)throw new Error(`no parent for <${n.id}> in <${t.id}>`);var l;if(n.$parent&&ss(l=n.$parent.get(s),n),t?((l=t.get(s)).push(n),n.$parent=t):n.$parent=null,i){var c=i.get(s);ss(l,n),t&&(c||t.set(s,c=[]),c.push(n))}}},Nl.prototype.updateConnectionWaypoints=function(n){vr(n).set("waypoint",this._bpmnFactory.createDiWaypoints(n.waypoints))},Nl.prototype.updateConnection=function(n){var t=n.connection,i=G(t),s=t.source,o=G(s),a=t.target,l=G(t.target);if(T(i,"bpmn:DataAssociation"))T(i,"bpmn:DataInputAssociation")?(i.get("sourceRef")[0]=o,this.updateSemanticParent(i,l,n.parent||n.newParent||l)):T(i,"bpmn:DataOutputAssociation")&&(this.updateSemanticParent(i,o,n.parent||n.newParent||o),i.targetRef=l);else{var u=T(i,"bpmn:SequenceFlow");i.sourceRef!==o&&(u&&(ss(i.sourceRef&&i.sourceRef.get("outgoing"),i),o&&o.get("outgoing")&&o.get("outgoing").push(i)),i.sourceRef=o),i.targetRef!==l&&(u&&(ss(i.targetRef&&i.targetRef.get("incoming"),i),l&&l.get("incoming")&&l.get("incoming").push(i)),i.targetRef=l)}this.updateConnectionWaypoints(t),this.updateDiConnection(t,s,a)},Nl.prototype._getLabel=function(n){return n.label||(n.label=this._bpmnFactory.createDiLabel()),n.label},Lt(l0,Kc),l0.$inject=["bpmnFactory","moddle"],l0.prototype._baseCreate=Kc.prototype.create,l0.prototype.create=function(n,t){if("label"===n){var i=t.di||this._bpmnFactory.createDiLabel();return this._baseCreate(n,pe({type:"label",di:i},sE,t))}return this.createElement(n,t)},l0.prototype.createElement=function(n,t){var i,l,c,s=(t=pe({},t||{})).businessObject,o=t.di;if(!s){if(!t.type)throw new Error("no shape type specified");Uae(s=this._bpmnFactory.create(t.type))}if(!function Qat(n){return Kt(n,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])}(o)){var a=pe({},o||{},{id:s.id+"_di"});o="root"===n?this._bpmnFactory.createDiPlane(s,a):"connection"===n?this._bpmnFactory.createDiEdge(s,a):this._bpmnFactory.createDiShape(s,a)}return T(s,"bpmn:Group")&&(t=pe({isFrame:!0},t)),t=function Zat(n,t,i){return se(i,function(s){t=yB(n,t,s)}),t}(s,t,["processRef","isInterrupting","associationDirection","isForCompensation"]),t.isExpanded&&(t=yB(o,t,"isExpanded")),Kt(s,["bpmn:Lane","bpmn:Participant"])&&(t=yB(o,t,"isHorizontal")),T(s,"bpmn:SubProcess")&&(t.collapsed=!ar(s,o)),T(s,"bpmn:ExclusiveGateway")&&(po(o,"isMarkerVisible")?void 0===o.isMarkerVisible&&(o.isMarkerVisible=!1):o.isMarkerVisible=!0),Hr(t.triggeredByEvent)&&(s.triggeredByEvent=t.triggeredByEvent,delete t.triggeredByEvent),Hr(t.cancelActivity)&&(s.cancelActivity=t.cancelActivity,delete t.cancelActivity),t.eventDefinitionType&&(l=s.get("eventDefinitions")||[],c=this._bpmnFactory.create(t.eventDefinitionType,t.eventDefinitionAttrs),"bpmn:ConditionalEventDefinition"===t.eventDefinitionType&&(c.condition=this._bpmnFactory.create("bpmn:FormalExpression")),l.push(c),c.$parent=s,s.eventDefinitions=l,delete t.eventDefinitionType),i=this.getDefaultSize(s,o),t=pe({id:s.id},i,t,{businessObject:s,di:o}),this._baseCreate(n,t)},l0.prototype.getDefaultSize=function(n,t){var i=G(n);if(t=t||vr(n),T(i,"bpmn:SubProcess"))return ar(i,t)?{width:350,height:200}:{width:100,height:80};if(T(i,"bpmn:Task"))return{width:100,height:80};if(T(i,"bpmn:Gateway"))return{width:50,height:50};if(T(i,"bpmn:Event"))return{width:36,height:36};if(T(i,"bpmn:Participant")){var s=void 0===t.isHorizontal||!0===t.isHorizontal;return ar(i,t)?s?{width:600,height:250}:{width:250,height:600}:s?{width:400,height:60}:{width:60,height:400}}return T(i,"bpmn:Lane")?{width:400,height:100}:T(i,"bpmn:DataObjectReference")?{width:36,height:50}:T(i,"bpmn:DataStoreReference")?{width:50,height:50}:T(i,"bpmn:TextAnnotation")?{width:100,height:30}:T(i,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}},l0.prototype.createParticipantShape=function(n){return fr(n)||(n={isExpanded:n}),!1!==(n=pe({type:"bpmn:Participant"},n||{})).isExpanded&&(n.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(n)},R8.$inject=["modeling","canvas"],R8.prototype.preExecute=function(n){var t=this._modeling,s=n.alignment;se(n.elements,function(o){var a={x:0,y:0};Hr(s.left)?a.x=s.left-o.x:Hr(s.right)?a.x=s.right-o.width-o.x:Hr(s.center)?a.x=s.center-Math.round(o.width/2)-o.x:Hr(s.top)?a.y=s.top-o.y:Hr(s.bottom)?a.y=s.bottom-o.height-o.y:Hr(s.middle)&&(a.y=s.middle-Math.round(o.height/2)-o.y),t.moveElements([o],a,o.parent)})},R8.prototype.postExecute=function(n){},N8.$inject=["modeling"],N8.prototype.preExecute=function(n){var t=n.source;if(!t)throw new Error("source required");var s=n.shape;s=n.shape=this._modeling.createShape(s,n.position,n.target||t.parent,{attach:(n.hints||{}).attach}),n.shape=s},N8.prototype.postExecute=function(n){var t=n.hints||{};(function Jat(n,t){return qc(n.outgoing,function(i){return i.target===t})})(n.source,n.shape)||(t.connectionTarget===n.source?this._modeling.connect(n.shape,n.source,n.connection):this._modeling.connect(n.source,n.shape,n.connection))},L8.$inject=["canvas","layouter"],L8.prototype.execute=function(n){var t=n.connection,i=n.source,s=n.target,o=n.parent,a=n.parentIndex,l=n.hints;if(!i||!s)throw new Error("source and target required");if(!o)throw new Error("parent required");return t.source=i,t.target=s,t.waypoints||(t.waypoints=this._layouter.layoutConnection(t,l)),this._canvas.addConnection(t,o,a),t},L8.prototype.revert=function(n){var t=n.connection;return this._canvas.removeConnection(t),t.source=null,t.target=null,t};var F8=Math.round;function vB(n){this._modeling=n}vB.$inject=["modeling"],vB.prototype.preExecute=function(n){var t=n.elements,i=n.parent,s=n.parentIndex,o=n.position,a=n.hints,l=this._modeling;se(t,function(f){un(f.x)||(f.x=0),un(f.y)||(f.y=0)});var u=Qs(hn(t,function(f){return!f.hidden}));se(t,function(f){ri(f)&&(f.waypoints=xs(f.waypoints,function(h){return{x:F8(h.x-u.x-u.width/2+o.x),y:F8(h.y-u.y-u.height/2+o.y)}})),pe(f,{x:F8(f.x-u.x-u.width/2+o.x),y:F8(f.y-u.y-u.height/2+o.y)})});var d=VS(t),p={};se(t,function(f){if(ri(f))p[f.id]=un(s)?l.createConnection(p[f.source.id],p[f.target.id],s,f,f.parent||i,a):l.createConnection(p[f.source.id],p[f.target.id],f,f.parent||i,a);else{var h=pe({},a);-1===d.indexOf(f)&&(h.autoResize=!1),hr(f)&&(h=Wc(h,["attach"])),p[f.id]=un(s)?l.createShape(f,nc(f,["x","y","width","height"]),f.parent||i,s,h):l.createShape(f,nc(f,["x","y","width","height"]),f.parent||i,h)}}),n.elements=wv(p)};var Nfe=Math.round;function c0(n){this._canvas=n}function dw(n){c0.call(this,n)}c0.$inject=["canvas"],c0.prototype.execute=function(n){var t=n.shape,i=n.position,s=n.parent,o=n.parentIndex;if(!s)throw new Error("parent required");if(!i)throw new Error("position required");return pe(t,void 0!==i.width?i:{x:i.x-Nfe(t.width/2),y:i.y-Nfe(t.height/2)}),this._canvas.addShape(t,s,o),t},c0.prototype.revert=function(n){var t=n.shape;return this._canvas.removeShape(t),t},Lt(dw,c0),dw.$inject=["canvas"];var elt=c0.prototype.execute;dw.prototype.execute=function(n){var t=n.shape;return function nlt(n){["width","height"].forEach(function(t){typeof n[t]>"u"&&(n[t]=0)})}(t),t.labelTarget=n.labelTarget,elt.call(this,n)};var tlt=c0.prototype.revert;function pw(n,t){this._canvas=n,this._modeling=t}function bB(n,t){this._modeling=n,this._elementRegistry=t}function fw(n,t){this._canvas=n,this._modeling=t}function B8(n){this._modeling=n}dw.prototype.revert=function(n){return n.shape.labelTarget=null,tlt.call(this,n)},pw.$inject=["canvas","modeling"],pw.prototype.preExecute=function(n){var t=this._modeling,i=n.connection;a0(i.incoming,function(s){t.removeConnection(s,{nested:!0})}),a0(i.outgoing,function(s){t.removeConnection(s,{nested:!0})})},pw.prototype.execute=function(n){var t=n.connection,i=t.parent;return n.parent=i,n.parentIndex=MN(i.children,t),n.source=t.source,n.target=t.target,this._canvas.removeConnection(t),t.source=null,t.target=null,t},pw.prototype.revert=function(n){var t=n.connection,i=n.parent,s=n.parentIndex;return t.source=n.source,t.target=n.target,fs(i.children,t,s),this._canvas.addConnection(t,i),t},bB.$inject=["modeling","elementRegistry"],bB.prototype.postExecute=function(n){var t=this._modeling,i=this._elementRegistry;se(n.elements,function(o){i.get(o.id)&&(o.waypoints?t.removeConnection(o):t.removeShape(o))})},fw.$inject=["canvas","modeling"],fw.prototype.preExecute=function(n){var t=this._modeling,i=n.shape;a0(i.incoming,function(s){t.removeConnection(s,{nested:!0})}),a0(i.outgoing,function(s){t.removeConnection(s,{nested:!0})}),a0(i.children,function(s){ri(s)?t.removeConnection(s,{nested:!0}):t.removeShape(s,{nested:!0})})},fw.prototype.execute=function(n){var t=this._canvas,i=n.shape,s=i.parent;return n.oldParent=s,n.oldParentIndex=MN(s.children,i),t.removeShape(i),i},fw.prototype.revert=function(n){var t=this._canvas,i=n.shape,s=n.oldParent;return fs(s.children,i,n.oldParentIndex),t.addShape(i,s),i},B8.$inject=["modeling"];var Lfe={x:"y",y:"x"};function j8(n,t){this._layouter=n,this._canvas=t}function _B(){}function EB(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function hw(n){this._modeling=n}function V8(n){this._helper=new hw(n)}function jg(n){this._modeling=n,this._helper=new hw(n)}function mw(n){this._modeling=n}function Ffe(n){return n.original||n}function gf(n,t){this._modeling=n,this._rules=t}function gw(n){this._modeling=n}function u0(n){this._modeling=n}function Bfe(n){return pe({},n)}function jfe(n){switch(n){case"n":case"s":return"y";case"w":case"e":return"x"}}function Vfe(n,t,i){var s=jfe(i);return/e|s/.test(i)?n[s]>t:/n|w/.test(i)?n[s]<t:void 0}function d0(n,t){return-1!==n.indexOf(t)}function $8(n){this._modeling=n}function $fe(n){var t={};return se(n,function(i){t[i.id]=i.hidden,i.children&&(t=pe({},t,$fe(i.children)))}),t}function zfe(n,t){var i=[];return se(n,function(s){s.hidden=t,i=i.concat(s),s.children&&(i=i.concat(zfe(s.children,s.collapsed||t)))}),i}function Hfe(n,t){var i=[];return se(n,function(s){s.hidden=t[s.id],i=i.concat(s),s.children&&(i=i.concat(Hfe(s.children,t)))}),i}function z8(n){this._modeling=n}function Ufe(n,t){return ss(n&&n.attachers,t)}function qfe(n,t,i){if(n){var s=n.attachers;s||(n.attachers=s=[]),fs(s,t,i)}}function wB(){}function jr(n,t,i){this._eventBus=n,this._elementFactory=t,this._commandStack=i;var s=this;n.on("diagram.init",function(){s.registerHandlers(i)})}function yw(n){this._elementRegistry=n}function Wfe(n,t){se(t,function(i,s){n.set(s,i)})}B8.prototype.preExecute=function(n){var t=this._modeling,i=n.groups,s=n.axis,o=n.dimension;function a(v,_){v.range.min=Math.min(_[s],v.range.min),v.range.max=Math.max(_[s]+_[o],v.range.max)}function l(v){return v[s]+v[o]/2}function c(v){return v.length-1}function u(v){return v.max-v.min}var m,g,p=i[0],f=c(i),h=i[f],y=0;se(i,function(v,_){var E,x,b;v.elements.length<2?_&&_!==i.length-1&&(a(v,v.elements[0]),y+=u(v.range)):(x=(E=Ys(v.elements,s))[0],_===f&&(x=E[c(E)]),b=l(x),v.range=null,se(E,function(w){(function d(v,_){var E={y:0};E[s]=v-l(_),E[s]&&(E[Lfe[s]]=0,t.moveElements([_],E,_.parent))})(b,w),null!==v.range?a(v,w):v.range={min:w[s],max:w[s]+w[o]}}),_&&_!==i.length-1&&(y+=u(v.range)))}),g=Math.abs(h.range.min-p.range.max),!((m=Math.round((g-y)/(i.length-1)))<i.length-1)&&se(i,function(v,_){var x,E={};v===p||v===h||(x=i[_-1],v.range.max=0,se(v.elements,function(b,w){E[Lfe[s]]=0,E[s]=x.range.max-b[s]+m,v.range.min!==b[s]&&(E[s]+=b[s]-v.range.min),E[s]&&t.moveElements([b],E,b.parent),v.range.max=Math.max(b[s]+b[o],w?v.range.max:0)}))})},B8.prototype.postExecute=function(n){},j8.$inject=["layouter","canvas"],j8.prototype.execute=function(n){var t=n.connection;return pe(n,{oldWaypoints:t.waypoints}),t.waypoints=this._layouter.layoutConnection(t,n.hints),t},j8.prototype.revert=function(n){var t=n.connection;return t.waypoints=n.oldWaypoints,t},_B.prototype.execute=function(n){var t=n.connection,i=n.delta,s=n.newParent||t.parent,o=n.newParentIndex,a=t.parent;return n.oldParent=a,n.oldParentIndex=ss(a.children,t),fs(s.children,t,o),t.parent=s,se(t.waypoints,function(l){l.x+=i.x,l.y+=i.y,l.original&&(l.original.x+=i.x,l.original.y+=i.y)}),t},_B.prototype.revert=function(n){var t=n.connection,s=n.oldParent,o=n.oldParentIndex,a=n.delta;return ss(t.parent.children,t),fs(s.children,t,o),t.parent=s,se(t.waypoints,function(l){l.x-=a.x,l.y-=a.y,l.original&&(l.original.x-=a.x,l.original.y-=a.y)}),t},EB.prototype.add=function(n,t){return this.addAll([n],t)},EB.prototype.addAll=function(n,t){var i=function XKe(n,t,i){Sr(t)&&(t=!0),fr(t)&&(i=t,t=!0);var s=mE((i=i||{}).allShapes),o=mE(i.allConnections),a=mE(i.enclosedElements),l=mE(i.enclosedConnections),c=mE(i.topLevel,t&&Fu(n,function(p){return p.id}));function u(p){c[p.source.id]&&c[p.target.id]&&(c[p.id]=[p]),s[p.source.id]&&s[p.target.id]&&(l[p.id]=a[p.id]=p),o[p.id]=p}return dg(n,function d(p){if(a[p.id]=p,!p.waypoints)return s[p.id]=p,se(p.incoming,u),se(p.outgoing,u),p.children;l[p.id]=o[p.id]=p}),{allShapes:s,allConnections:o,topLevel:c,enclosedConnections:l,enclosedElements:a}}(n,!!t,this);return pe(this,i),this},hw.prototype.moveRecursive=function(n,t,i){return n?this.moveClosure(this.getClosure(n),t,i):[]},hw.prototype.moveClosure=function(n,t,i,s,o){var a=this._modeling,l=n.allShapes,c=n.allConnections,u=n.enclosedConnections,d=n.topLevel,p=!1;o&&o.parent===i&&(p=!0),se(l,function(f){a.moveShape(f,t,d[f.id]&&!p&&i,{recurse:!1,layout:!1})}),se(c,function(f){var h=!!l[f.source.id],m=!!l[f.target.id];u[f.id]&&h&&m?a.moveConnection(f,t,d[f.id]&&!p&&i):a.layoutConnection(f,{connectionStart:h&&AF(f,f.source,t),connectionEnd:m&&IF(f,f.target,t)})})},hw.prototype.getClosure=function(n){return(new EB).addAll(n,!0)},V8.$inject=["modeling"],V8.prototype.preExecute=function(n){n.closure=this._helper.getClosure(n.shapes)},V8.prototype.postExecute=function(n){var i,t=n.hints;t&&t.primaryShape&&(t.oldParent=(i=t.primaryShape).parent),this._helper.moveClosure(n.closure,n.delta,n.newParent,n.newHost,i)},jg.$inject=["modeling"],jg.prototype.execute=function(n){var t=n.shape,i=n.delta,s=n.newParent||t.parent,o=n.newParentIndex,a=t.parent;return n.oldBounds=nc(t,["x","y","width","height"]),n.oldParent=a,n.oldParentIndex=ss(a.children,t),fs(s.children,t,o),pe(t,{parent:s,x:t.x+i.x,y:t.y+i.y}),t},jg.prototype.postExecute=function(n){var t=n.shape,i=n.delta,s=n.hints,o=this._modeling;!1!==s.layout&&(se(t.incoming,function(a){o.layoutConnection(a,{connectionEnd:IF(a,t,i)})}),se(t.outgoing,function(a){o.layoutConnection(a,{connectionStart:AF(a,t,i)})})),!1!==s.recurse&&this.moveChildren(n)},jg.prototype.revert=function(n){var t=n.shape,i=n.oldParent,o=n.delta;return fs(i.children,t,n.oldParentIndex),pe(t,{parent:i,x:t.x-o.x,y:t.y-o.y}),t},jg.prototype.moveChildren=function(n){this._helper.moveRecursive(n.shape.children,n.delta,null)},jg.prototype.getNewParent=function(n){return n.newParent||n.shape.parent},mw.$inject=["modeling"],mw.prototype.execute=function(n){var t=n.newSource,i=n.newTarget,s=n.connection,o=n.dockingOrPoints;if(!t&&!i)throw new Error("newSource or newTarget required");return Vt(o)&&(n.oldWaypoints=s.waypoints,s.waypoints=o),t&&(n.oldSource=s.source,s.source=t),i&&(n.oldTarget=s.target,s.target=i),s},mw.prototype.postExecute=function(n){var t=n.connection,i=n.newSource,s=n.newTarget,o=n.dockingOrPoints,a=n.hints||{},l={};a.connectionStart&&(l.connectionStart=a.connectionStart),a.connectionEnd&&(l.connectionEnd=a.connectionEnd),!1!==a.layoutConnection&&(i&&(!s||"source"===a.docking)&&(l.connectionStart=l.connectionStart||Ffe(Vt(o)?o[0]:o)),s&&(!i||"target"===a.docking)&&(l.connectionEnd=l.connectionEnd||Ffe(Vt(o)?o[o.length-1]:o)),a.newWaypoints&&(l.waypoints=a.newWaypoints),this._modeling.layoutConnection(t,l))},mw.prototype.revert=function(n){var t=n.oldSource,i=n.oldTarget,s=n.oldWaypoints,o=n.connection;return t&&(o.source=t),i&&(o.target=i),s&&(o.waypoints=s),o},gf.$inject=["modeling","rules"],gf.prototype.preExecute=function(n){var c,t=this,i=this._modeling,s=this._rules,o=n.oldShape,a=n.newData,l=n.hints||{};function u(g,y,v){return s.allowed("connection.reconnect",{connection:v,source:g,target:y})}var f,p={x:o.x,y:o.y,width:o.width,height:o.height};c=n.newShape=n.newShape||t.createShape(a,{x:a.x,y:a.y},o.parent,l),o.host&&i.updateAttachment(c,o.host),!1!==l.moveChildren&&(f=o.children.slice(),i.moveElements(f,{x:0,y:0},c,l));var h=o.incoming.slice(),m=o.outgoing.slice();se(h,function(g){u(g.source,c,g)&&t.reconnectEnd(g,c,v8(g,c,p),l)}),se(m,function(g){u(c,g.target,g)&&t.reconnectStart(g,c,y8(g,c,p),l)})},gf.prototype.postExecute=function(n){this._modeling.removeShape(n.oldShape)},gf.prototype.execute=function(n){},gf.prototype.revert=function(n){},gf.prototype.createShape=function(n,t,i,s){return this._modeling.createShape(n,t,i,s)},gf.prototype.reconnectStart=function(n,t,i,s){this._modeling.reconnectStart(n,t,i,s)},gf.prototype.reconnectEnd=function(n,t,i,s){this._modeling.reconnectEnd(n,t,i,s)},gw.$inject=["modeling"],gw.prototype.execute=function(n){var t=n.shape,i=n.newBounds,s=n.minBounds;if(void 0===i.x||void 0===i.y||void 0===i.width||void 0===i.height)throw new Error("newBounds must have {x, y, width, height} properties");if(s&&(i.width<s.width||i.height<s.height))throw new Error("width and height cannot be less than minimum height and width");if(!s&&i.width<10||i.height<10)throw new Error("width and height cannot be less than 10px");return n.oldBounds={width:t.width,height:t.height,x:t.x,y:t.y},pe(t,{width:i.width,height:i.height,x:i.x,y:i.y}),t},gw.prototype.postExecute=function(n){var t=this._modeling,i=n.shape,s=n.oldBounds;!1!==(n.hints||{}).layout&&(se(i.incoming,function(a){t.layoutConnection(a,{connectionEnd:v8(a,i,s)})}),se(i.outgoing,function(a){t.layoutConnection(a,{connectionStart:y8(a,i,s)})}))},gw.prototype.revert=function(n){var t=n.shape,i=n.oldBounds;return pe(t,{width:i.width,height:i.height,x:i.x,y:i.y}),t},u0.$inject=["modeling"],u0.prototype.preExecute=function(n){var t=n.delta,i=n.direction,s=n.movingShapes,o=n.resizingShapes,a=n.start,l={};this.moveShapes(s,t),se(o,function(c){l[c.id]=function ilt(n){return{x:n.x,y:n.y,height:n.height,width:n.width}}(c)}),this.resizeShapes(o,t,i),this.updateConnectionWaypoints(function Aat(n,t){var i=[];return se(n.concat(t),function(s){se(s.incoming.concat(s.outgoing),function(l){var c=l.source,u=l.target;(uw(n,c)||uw(n,u)||uw(t,c)||uw(t,u))&&(uw(i,l)||i.push(l))})}),i}(s,o),t,i,a,s,o,l)},u0.prototype.execute=function(){},u0.prototype.revert=function(){},u0.prototype.moveShapes=function(n,t){var i=this;se(n,function(s){i._modeling.moveShape(s,t,null,{autoResize:!1,layout:!1,recurse:!1})})},u0.prototype.resizeShapes=function(n,t,i){var s=this;se(n,function(o){var a=function Iat(n,t,i){var s=n.x,o=n.y,a=n.width,l=n.height,c=i.x,u=i.y;switch(t){case"n":return{x:s,y:o+u,width:a,height:l-u};case"s":return{x:s,y:o,width:a,height:l+u};case"w":return{x:s+c,y:o,width:a-c,height:l};case"e":return{x:s,y:o,width:a+c,height:l};default:throw new Error("unknown direction: "+t)}}(o,i,t);s._modeling.resizeShape(o,a,null,{attachSupport:!1,autoResize:!1,layout:!1})})},u0.prototype.updateConnectionWaypoints=function(n,t,i,s,o,a,l){var c=this,u=o.concat(a);se(n,function(d){var p=d.source,f=d.target,h=function rlt(n){return xs(n.waypoints,function(t){return(t=Bfe(t)).original&&(t.original=Bfe(t.original)),t})}(d),m=jfe(i),g={};d0(u,p)&&d0(u,f)?(h=xs(h,function(y){return Vfe(y,s,i)&&(y[m]=y[m]+t[m]),y.original&&Vfe(y.original,s,i)&&(y.original[m]=y.original[m]+t[m]),y}),c._modeling.updateWaypoints(d,h,{labelBehavior:!1})):(d0(u,p)||d0(u,f))&&(d0(o,p)?g.connectionStart=AF(d,p,t):d0(o,f)?g.connectionEnd=IF(d,f,t):d0(a,p)?g.connectionStart=y8(d,p,l[p.id]):d0(a,f)&&(g.connectionEnd=v8(d,f,l[f.id])),c._modeling.layoutConnection(d,g))})},$8.$inject=["modeling"],$8.prototype.execute=function(n){var t=n.shape,i=t.children;n.oldChildrenVisibility=$fe(i),t.collapsed=!t.collapsed;var s=zfe(i,t.collapsed);return[t].concat(s)},$8.prototype.revert=function(n){var t=n.shape,o=Hfe(t.children,n.oldChildrenVisibility);return t.collapsed=!t.collapsed,[t].concat(o)},z8.$inject=["modeling"],z8.prototype.execute=function(n){var t=n.shape,i=n.newHost,s=t.host;return n.oldHost=s,n.attacherIdx=Ufe(s,t),qfe(i,t),t.host=i,t},z8.prototype.revert=function(n){var t=n.shape,i=n.newHost,s=n.oldHost,o=n.attacherIdx;return t.host=s,Ufe(i,t),qfe(s,t,o),t},wB.prototype.execute=function(n){var t=n.connection,i=n.newWaypoints;return n.oldWaypoints=t.waypoints,t.waypoints=i,t},wB.prototype.revert=function(n){var t=n.connection;return t.waypoints=n.oldWaypoints,t},jr.$inject=["eventBus","elementFactory","commandStack"],jr.prototype.getHandlers=function(){return{"shape.append":N8,"shape.create":c0,"shape.delete":fw,"shape.move":jg,"shape.resize":gw,"shape.replace":gf,"shape.toggleCollapse":$8,spaceTool:u0,"label.create":dw,"connection.create":L8,"connection.delete":pw,"connection.move":_B,"connection.layout":j8,"connection.updateWaypoints":wB,"connection.reconnect":mw,"elements.create":vB,"elements.move":V8,"elements.delete":bB,"elements.distribute":B8,"elements.align":R8,"element.updateAttachment":z8}},jr.prototype.registerHandlers=function(n){se(this.getHandlers(),function(t,i){n.registerHandler(i,t)})},jr.prototype.moveShape=function(n,t,i,s,o){"object"==typeof s&&(o=s,s=null),this._commandStack.execute("shape.move",{shape:n,delta:t,newParent:i,newParentIndex:s,hints:o||{}})},jr.prototype.updateAttachment=function(n,t){this._commandStack.execute("element.updateAttachment",{shape:n,newHost:t})},jr.prototype.moveElements=function(n,t,i,s){var l,o=(s=s||{}).attach,a=i;!0===o?(l=i,a=i.parent):!1===o&&(l=null),this._commandStack.execute("elements.move",{shapes:n,delta:t,newParent:a,newHost:l,hints:s})},jr.prototype.moveConnection=function(n,t,i,s,o){"object"==typeof s&&(o=s,s=void 0),this._commandStack.execute("connection.move",{connection:n,delta:t,newParent:i,newParentIndex:s,hints:o||{}})},jr.prototype.layoutConnection=function(n,t){this._commandStack.execute("connection.layout",{connection:n,hints:t||{}})},jr.prototype.createConnection=function(n,t,i,s,o,a){"object"==typeof i&&(a=o,o=s,s=i,i=void 0);var l={source:n,target:t,parent:o,parentIndex:i,connection:s=this._create("connection",s),hints:a};return this._commandStack.execute("connection.create",l),l.connection},jr.prototype.createShape=function(n,t,i,s,o){"number"!=typeof s&&(o=s,s=void 0);var l,c,a=(o=o||{}).attach;n=this._create("shape",n),a?(l=i.parent,c=i):l=i;var u={position:t,shape:n,parent:l,parentIndex:s,host:c,hints:o};return this._commandStack.execute("shape.create",u),u.shape},jr.prototype.createElements=function(n,t,i,s,o){Vt(n)||(n=[n]),"number"!=typeof s&&(o=s,s=void 0);var a={position:t,elements:n,parent:i,parentIndex:s,hints:o=o||{}};return this._commandStack.execute("elements.create",a),a.elements},jr.prototype.createLabel=function(n,t,i,s){i=this._create("label",i);var o={labelTarget:n,position:t,parent:s||n.parent,shape:i};return this._commandStack.execute("label.create",o),o.shape},jr.prototype.appendShape=function(n,t,i,s,o){o=o||{};var a={source:n,position:i,target:s,shape:t=this._create("shape",t),connection:o.connection,connectionParent:o.connectionParent,hints:o};return this._commandStack.execute("shape.append",a),a.shape},jr.prototype.removeElements=function(n){this._commandStack.execute("elements.delete",{elements:n})},jr.prototype.distributeElements=function(n,t,i){this._commandStack.execute("elements.distribute",{groups:n,axis:t,dimension:i})},jr.prototype.removeShape=function(n,t){this._commandStack.execute("shape.delete",{shape:n,hints:t||{}})},jr.prototype.removeConnection=function(n,t){this._commandStack.execute("connection.delete",{connection:n,hints:t||{}})},jr.prototype.replaceShape=function(n,t,i){var s={oldShape:n,newData:t,hints:i||{}};return this._commandStack.execute("shape.replace",s),s.newShape},jr.prototype.alignElements=function(n,t){this._commandStack.execute("elements.align",{elements:n,alignment:t})},jr.prototype.resizeShape=function(n,t,i,s){this._commandStack.execute("shape.resize",{shape:n,newBounds:t,minBounds:i,hints:s})},jr.prototype.createSpace=function(n,t,i,s,o){this._commandStack.execute("spaceTool",{delta:i,direction:s,movingShapes:n,resizingShapes:t,start:o})},jr.prototype.updateWaypoints=function(n,t,i){this._commandStack.execute("connection.updateWaypoints",{connection:n,newWaypoints:t,hints:i||{}})},jr.prototype.reconnect=function(n,t,i,s,o){this._commandStack.execute("connection.reconnect",{connection:n,newSource:t,newTarget:i,dockingOrPoints:s,hints:o||{}})},jr.prototype.reconnectStart=function(n,t,i,s){s||(s={}),this.reconnect(n,t,n.target,i,pe(s,{docking:"source"}))},jr.prototype.reconnectEnd=function(n,t,i,s){s||(s={}),this.reconnect(n,n.source,t,i,pe(s,{docking:"target"}))},jr.prototype.connect=function(n,t,i,s){return this.createConnection(n,t,i||{},n.parent,s)},jr.prototype._create=function(n,t){return function UYe(n){return n instanceof Rv}(t)?t:this._elementFactory.create(n,t)},jr.prototype.toggleCollapse=function(n,t){this._commandStack.execute("shape.toggleCollapse",{shape:n,hints:t||{}})},yw.$inject=["elementRegistry"],yw.prototype.execute=function(n){var t=n.element,i=n.moddleElement,s=n.properties;if(!i)throw new Error("<moddleElement> required");var o=n.changed||this._getVisualReferences(i).concat(t),a=n.oldProperties||function slt(n,t){return ps(t,function(i,s){return i[s]=n.get(s),i},{})}(i,Dl(s));return Wfe(i,s),n.oldProperties=a,n.changed=o,o},yw.prototype.revert=function(n){var s=n.changed;return Wfe(n.moddleElement,n.oldProperties),s},yw.prototype._getVisualReferences=function(n){var t=this._elementRegistry;return T(n,"bpmn:DataObject")?function olt(n,t){return t.filter(function(i){return T(i,"bpmn:DataObjectReference")&&G(i).dataObjectRef===n})}(n,t):[]};var vw="default",yf="id",alt={width:0,height:0};function bw(n,t,i,s){this._elementRegistry=n,this._moddle=t,this._modeling=i,this._textRenderer=s}function Kfe(n,t){return yf in n&&n[yf]!==t[yf]}function Yfe(n,t){var i=n.businessObject,s=vr(n);se(t,function(o,a){"di"!==a?i.set(a,o):s&&function ult(n,t){se(t,function(i,s){n.set(s,i)})}(s,o)})}bw.$inject=["elementRegistry","moddle","modeling","textRenderer"],bw.prototype.execute=function(n){var t=n.element,i=[t];if(!t)throw new Error("element required");var s=this._elementRegistry,o=this._moddle.ids,a=t.businessObject,l=function plt(n){var t=pe({},n);return dlt.forEach(function(i){i in n&&(t[i]=G(t[i]))}),t}(n.properties),c=n.oldProperties||function llt(n,t){var i=Dl(t),s=n.businessObject,o=vr(n);return ps(i,function(a,l){return a[l]="di"!==l?s.get(l):function clt(n,t){return ps(t,function(i,s){return i[s]=n&&n.get(s),i},{})}(o,Dl(t.di)),a},{})}(t,l);return Kfe(l,a)&&(o.unclaim(a[yf]),s.updateId(t,l[yf]),o.claim(l[yf],a)),vw in l&&(l[vw]&&i.push(s.get(l[vw].id)),a[vw]&&i.push(s.get(a[vw].id))),Yfe(t,l),n.oldProperties=c,n.changed=i,i},bw.prototype.postExecute=function(n){var i=n.element.label,s=i&&G(i).name;if(s){var o=this._textRenderer.getExternalLabelBounds(i,s);this._modeling.resizeShape(i,o,alt)}},bw.prototype.revert=function(n){var t=n.element,i=n.properties,s=n.oldProperties,o=t.businessObject,a=this._elementRegistry,l=this._moddle.ids;return Yfe(t,s),Kfe(i,o)&&(l.unclaim(i[yf]),a.updateId(t,s[yf]),l.claim(s[yf],o)),n.changed};var dlt=["default"];function H8(n,t){this._canvas=n,this._modeling=t}function xB(n,t){this._modeling=n,this._spaceTool=t}function CB(n){this._modeling=n}function _w(n,t){this._modeling=n,this._spaceTool=t}H8.$inject=["canvas","modeling"],H8.prototype.execute=function(n){var t=this._canvas,i=n.newRoot,s=i.businessObject,o=t.getRootElement(),a=o.businessObject,l=a.$parent,c=vr(o);return t.setRootElement(i),t.removeRootElement(o),fs(l.rootElements,s),s.$parent=l,ss(l.rootElements,a),a.$parent=null,o.di=null,c.bpmnElement=s,i.di=c,n.oldRoot=o,[]},H8.prototype.revert=function(n){var t=this._canvas,i=n.newRoot,s=i.businessObject,o=n.oldRoot,a=o.businessObject,l=s.$parent,c=vr(i);return t.setRootElement(o),t.removeRootElement(i),ss(l.rootElements,s),s.$parent=null,fs(l.rootElements,a),a.$parent=l,i.di=null,c.bpmnElement=a,o.di=c,[]},xB.$inject=["modeling","spaceTool"],xB.prototype.preExecute=function(n){var t=this._spaceTool,i=this._modeling,s=n.shape,o=n.location,a=eu(s),l=a===s,c=l?s:s.parent,u=n0(c),d=Xs(s);d?"left"===o?o="top":"right"===o&&(o="bottom"):"top"===o?o="left":"bottom"===o&&(o="right"),u.length||i.createShape({type:"bpmn:Lane",isHorizontal:d},d?{x:s.x+30,y:s.y,width:s.width-30,height:s.height}:{x:s.x,y:s.y+30,width:s.width,height:s.height-30},c);var h,m,g,y,v,f=[];dg(a,function(b){return f.push(b),b.label&&f.push(b.label),b===s?[]:hn(b.children,function(w){return w!==s})}),"top"===o?(h=-120,g=(m=s.y)+10,y="n",v="y"):"left"===o?(h=-120,g=(m=s.x)+10,y="w",v="x"):"bottom"===o?(h=120,g=(m=s.y+s.height)-10,y="s",v="y"):"right"===o&&(h=120,g=(m=s.x+s.width)-10,y="e",v="x");var _=t.calculateAdjustments(f,v,h,g);t.makeSpace(_.movingShapes,_.resizingShapes,d?{x:0,y:h}:{x:h,y:0},y,g),n.newLane=i.createShape({type:"bpmn:Lane",isHorizontal:d},d?{x:s.x+(l?30:0),y:m-("top"===o?120:0),width:s.width-(l?30:0),height:120}:{x:m-("left"===o?120:0),y:s.y+(l?30:0),width:120,height:s.height-(l?30:0)},c)},CB.$inject=["modeling"],CB.prototype.preExecute=function(n){var t=this._modeling,i=n.shape,s=n.count,o=n0(i),a=o.length;if(a>s)throw new Error(`more than <${s}> child lanes`);var d,p,h,l=Xs(i),c=l?i.height:i.width,u=Math.round(c/s);for(h=0;h<s;h++)d=h===s-1?c-u*h:u,p=l?{x:i.x+30,y:i.y+h*u,width:i.width-30,height:d}:{x:i.x+h*u,y:i.y+30,width:d,height:i.height-30},h<a?t.resizeShape(o[h],p):t.createShape({type:"bpmn:Lane",isHorizontal:l},p,i)},_w.$inject=["modeling","spaceTool"],_w.prototype.preExecute=function(n){var t=n.shape,i=n.newBounds;!1!==n.balanced?this.resizeBalanced(t,i):this.resizeSpace(t,i)},_w.prototype.resizeBalanced=function(n,t){var i=this._modeling,s=function Hst(n,t){var i=eu(n),o=f8(i,T(i,"bpmn:Process")?[]:[i]),a=tn(n),l=tn(t),c=function $st(n,t){return spe(tn(t),tn(n))}(n,t),u=[],d=Xs(n);return o.forEach(function(p){if(p!==n){var f=d?0:c.top,h=d?c.right:0,m=d?0:c.bottom,g=d?c.left:0,y=tn(p);c.top&&(t0(y.bottom-a.top)<10&&(m=l.top-y.bottom),t0(y.top-a.top)<5&&(f=l.top-y.top)),c.left&&(t0(y.right-a.left)<10&&(h=l.left-y.right),t0(y.left-a.left)<5&&(g=l.left-y.left)),c.bottom&&(t0(y.top-a.bottom)<10&&(f=l.bottom-y.top),t0(y.bottom-a.bottom)<5&&(m=l.bottom-y.bottom)),c.right&&(t0(y.left-a.right)<10&&(g=l.right-y.left),t0(y.right-a.right)<5&&(h=l.right-y.right)),(f||h||m||g)&&u.push({shape:p,newBounds:Lst(p,{top:f,right:h,bottom:m,left:g})})}}),u}(n,t);i.resizeShape(n,t),s.forEach(function(o){i.resizeShape(o.shape,o.newBounds)})},_w.prototype.resizeSpace=function(n,t){var d,f,m,i=this._spaceTool,s=tn(n),a=spe(tn(t),s),l=eu(n),c=[],u=[];dg(l,function(g){return c.push(g),(T(g,"bpmn:Lane")||T(g,"bpmn:Participant"))&&u.push(g),g.children}),(a.bottom||a.top)&&(d=a.bottom||a.top,f=a.bottom?"s":"n",m=i.calculateAdjustments(c,"y",a.top>0||a.bottom<0?-d:d,n.y+(a.bottom?n.height:0)+(a.bottom?-10:10)),i.makeSpace(m.movingShapes,m.resizingShapes,{x:0,y:d},f)),(a.left||a.right)&&(d=a.right||a.left,f=a.right?"e":"w",m=i.calculateAdjustments(u,"x",a.left>0||a.right<0?-d:d,n.x+(a.right?n.width:0)+(a.right?-10:100)),i.makeSpace(m.movingShapes,m.resizingShapes,{x:d,y:0},f))};var Ew="flowNodeRef",SB="lanes";function ww(n){this._elementRegistry=n}function U8(n){this._moddle=n}ww.$inject=["elementRegistry"],ww.prototype._computeUpdates=function(n,t){var i=[],s=[],o={},a=[];function c(p){-1===i.indexOf(p)&&(a.push(p),i.push(p))}return t.forEach(function(p){var f=eu(p);f&&-1===i.indexOf(f)&&(f.children.filter(function(m){return T(m,"bpmn:FlowNode")}).forEach(c),i.push(f))}),n.forEach(c),a.forEach(function(p){var f=p.businessObject,m=f.get(SB).slice(),g=function d(p){if(!p.parent)return[];var f=function u(p){var f=eu(p);return o[f.id]||(o[f.id]=f8(f)),o[f.id]}(p);return f.filter(function(h){return function l(p,f){var h=tn(f),m_x=p.x+p.width/2,m_y=p.y+p.height/2;return m_x>h.left&&m_x<h.right&&m_y>h.top&&m_y<h.bottom}(p,h)}).map(function(h){return h.businessObject})}(p);s.push({flowNode:f,remove:m,add:g})}),t.forEach(function(p){var f=p.businessObject;p.parent||f.get(Ew).forEach(function(h){s.push({flowNode:h,remove:[f],add:[]})})}),s},ww.prototype.execute=function(n){var t=n.updates;return t||(t=n.updates=this._computeUpdates(n.flowNodeShapes,n.laneShapes)),t.forEach(function(i){var s=i.flowNode,o=s.get(SB);i.remove.forEach(function(a){ss(o,a),ss(a.get(Ew),s)}),i.add.forEach(function(a){fs(o,a),fs(a.get(Ew),s)})}),[]},ww.prototype.revert=function(n){return n.updates.forEach(function(i){var s=i.flowNode,o=s.get(SB);i.add.forEach(function(a){ss(o,a),ss(a.get(Ew),s)}),i.remove.forEach(function(a){fs(o,a),fs(a.get(Ew),s)})}),[]},U8.$inject=["moddle"],U8.prototype.execute=function(n){var t=this._moddle.ids,i=n.id;return n.claiming?t.claim(i,n.element):t.unclaim(i),[]},U8.prototype.revert=function(n){var t=this._moddle.ids,i=n.id,s=n.element;return n.claiming?t.unclaim(i):t.claim(i,s),[]};var flt={fill:void 0,stroke:void 0};function OB(n){this._commandStack=n,this._normalizeColor=function(t){if(t){if($n(t)){var i=function hlt(n){var t=document.createElement("canvas").getContext("2d");return t.fillStyle="transparent",t.fillStyle=n,/^#[0-9a-fA-F]{6}$/.test(t.fillStyle)?t.fillStyle:null}(t);if(i)return i}throw new Error(`invalid color value: ${t}`)}}}OB.$inject=["commandStack"],OB.prototype.postExecute=function(n){var t=n.elements,i=n.colors||flt,s=this,o={};"fill"in i&&pe(o,{"background-color":this._normalizeColor(i.fill)}),"stroke"in i&&pe(o,{"border-color":this._normalizeColor(i.stroke)}),se(t,function(a){var l=ri(a)?nc(o,["border-color"]):o,c=vr(a);if(function mlt(n){"border-color"in n&&(n.stroke=n["border-color"]),"background-color"in n&&(n.fill=n["background-color"])}(l),hr(a))s._commandStack.execute("element.updateModdleProperties",{element:a,moddleElement:c.label,properties:{color:o["border-color"]}});else{if(!Kt(c,["bpmndi:BPMNEdge","bpmndi:BPMNShape"]))return;s._commandStack.execute("element.updateProperties",{element:a,properties:{di:l}})}})};var glt={width:0,height:0};function Xfe(n,t,i){function s(u,d){var p=u.label||u,f=u.labelTarget||u;return uoe(p,d),[p,f]}this.preExecute=function o(u){var d=u.element,p=d.businessObject,f=u.newLabel;if(!hr(d)&&ag(d)&&!CS(d)&&!Zfe(f)){var m=iN(d);n.createLabel(d,m={x:m.x,y:m.y+7},{id:p.id+"_label",businessObject:p,di:d.di})}},this.execute=function a(u){return u.oldLabel=Ja(u.element),s(u.element,u.newLabel)},this.revert=function l(u){return s(u.element,u.oldLabel)},this.postExecute=function c(u){var d=u.element,p=d.label||d,f=u.newLabel,h=u.newBounds,m=u.hints||{};if(hr(p)||T(p,"bpmn:TextAnnotation")){if(hr(p)&&Zfe(f))return void(!1!==m.removeShape&&n.removeShape(p,{unsetLabel:!1}));var g=Ja(d);typeof h>"u"&&(h=t.getExternalLabelBounds(p,g)),h&&n.resizeShape(p,h,glt)}}}function Zfe(n){return!n||!n.trim()}function Go(n,t,i,s){jr.call(this,n,t,i),this._bpmnRules=s}function TB(){}Xfe.$inject=["modeling","textRenderer","bpmnFactory"],Lt(Go,jr),Go.$inject=["eventBus","elementFactory","commandStack","bpmnRules"],Go.prototype.getHandlers=function(){var n=jr.prototype.getHandlers.call(this);return n["element.updateModdleProperties"]=yw,n["element.updateProperties"]=bw,n["canvas.updateRoot"]=H8,n["lane.add"]=xB,n["lane.resize"]=_w,n["lane.split"]=CB,n["lane.updateRefs"]=ww,n["id.updateClaim"]=U8,n["element.setColor"]=OB,n["element.updateLabel"]=Xfe,n},Go.prototype.updateLabel=function(n,t,i,s){this._commandStack.execute("element.updateLabel",{element:n,newLabel:t,newBounds:i,hints:s||{}})},Go.prototype.connect=function(n,t,i,s){if(i||(i=this._bpmnRules.canConnect(n,t)),i)return this.createConnection(n,t,i,n.parent,s)},Go.prototype.updateModdleProperties=function(n,t,i){this._commandStack.execute("element.updateModdleProperties",{element:n,moddleElement:t,properties:i})},Go.prototype.updateProperties=function(n,t){this._commandStack.execute("element.updateProperties",{element:n,properties:t})},Go.prototype.resizeLane=function(n,t,i){this._commandStack.execute("lane.resize",{shape:n,newBounds:t,balanced:i})},Go.prototype.addLane=function(n,t){var i={shape:n,location:t};return this._commandStack.execute("lane.add",i),i.newLane},Go.prototype.splitLane=function(n,t){this._commandStack.execute("lane.split",{shape:n,count:t})},Go.prototype.makeCollaboration=function(){var n=this._create("root",{type:"bpmn:Collaboration"});return this._commandStack.execute("canvas.updateRoot",{newRoot:n}),n},Go.prototype.makeProcess=function(){var n=this._create("root",{type:"bpmn:Process"});return this._commandStack.execute("canvas.updateRoot",{newRoot:n}),n},Go.prototype.updateLaneRefs=function(n,t){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:n,laneShapes:t})},Go.prototype.claimId=function(n,t){this._commandStack.execute("id.updateClaim",{id:n,element:t,claiming:!0})},Go.prototype.unclaimId=function(n,t){this._commandStack.execute("id.updateClaim",{id:n,element:t})},Go.prototype.setColor=function(n,t){n.length||(n=[n]),this._commandStack.execute("element.setColor",{elements:n,colors:t})},TB.prototype.layoutConnection=function(n,t){return[(t=t||{}).connectionStart||cn(t.source||n.source),t.connectionEnd||cn(t.target||n.target)]};var W8=Math.round,vlt={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function Jfe(n,t,i){var c,u,s=ji(t,n,5),o=i.split(":")[0],a=W8((t.x-n.x)/2+n.x),l=W8((t.y-n.y)/2+n.y),d=function _lt(n,t){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[n].test(t)}(o,s),p=/h|r|l/.test(o),f=!1,h=!1;return d?(c=p?{x:a,y:n.y}:{x:n.x,y:l},u=p?"h:h":"v:v"):(f=function blt(n,t){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[t].test(n)}(s,o),u=p?"h:v":"v:h",f?p?(h=l===n.y,c={x:n.x+20*(/l/.test(o)?-1:1),y:h?l+20:l}):c={x:(h=a===n.x)?a+20:a,y:n.y+20*(/t/.test(o)?-1:1)}:c={x:a,y:l}),{waypoints:PB(n,c,u).concat(c),directions:u,turnNextDirections:h}}function ehe(n){return n.split(":").reverse().join(":")}function PB(n,t,i){if(!function Ilt(n){return n&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(n)}(i=i||"h:h"))throw new Error("unknown directions: <"+i+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(nhe(i)){var s=function Elt(n,t,i){return Jfe(n,t,i)}(n,t,i),o=function wlt(n,t,i){var s=Jfe(t,n,ehe(i));return{waypoints:s.waypoints.slice().reverse(),directions:ehe(s.directions),turnNextDirections:s.turnNextDirections}}(n,t,i),a=function xlt(n,t){var i=n.directions.split(":")[1],s=t.directions.split(":")[0];n.turnNextDirections&&(i="h"==i?"v":"h"),t.turnNextDirections&&(s="h"==s?"v":"h");var o=i+":"+s;return{waypoints:PB(n.waypoints[n.waypoints.length-1],t.waypoints[0],o),directions:o}}(s,o);return[].concat(s.waypoints,a.waypoints,o.waypoints)}return function Clt(n,t,i){var s=W8((t.x-n.x)/2+n.x),o=W8((t.y-n.y)/2+n.y);if("h:v"===i)return[{x:t.x,y:n.y}];if("v:h"===i)return[{x:n.x,y:t.y}];if("h:h"===i)return[{x:s,y:n.y},{x:s,y:t.y}];if("v:v"===i)return[{x:n.x,y:o},{x:t.x,y:o}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}(n,t,i)}function Tlt(n,t,i,s,o,a){var u;return Vt(i)&&(o=i,a=s,i=cn(n),s=cn(t)),o=o||[],u=-1!==(a=pe({preferredLayouts:[]},a)).preferredLayouts.indexOf("straight")&&function Dlt(n,t,i,s,o){var l,c,a={};return c=ji(n,t),/^(top|bottom|left|right)$/.test(c)?(/top|bottom/.test(c)&&(l="x"),/left|right/.test(c)&&(l="y"),"target"===o.preserveDocking?the(l,s,n)?(a[l]=s[l],[{x:void 0!==a.x?a.x:i.x,y:void 0!==a.y?a.y:i.y,original:{x:void 0!==a.x?a.x:i.x,y:void 0!==a.y?a.y:i.y}},{x:s.x,y:s.y}]):null:the(l,i,t)?(a[l]=i[l],[{x:i.x,y:i.y},{x:void 0!==a.x?a.x:s.x,y:void 0!==a.y?a.y:s.y,original:{x:void 0!==a.x?a.x:s.x,y:void 0!==a.y?a.y:s.y}}]):null):null}(n,t,i,s,a),u||(u=a.connectionEnd&&function Mlt(n,t,i,s){var o=s.slice().reverse();return(o=DB(n,t,i,o))?o.reverse():null}(t,n,s,o),u)||(u=a.connectionStart&&function klt(n,t,i,s){return DB(n,t,i,s)}(n,t,i,o),u)?u:!a.connectionStart&&!a.connectionEnd&&o&&o.length?o:function Olt(n,t,i,s,o){var l=Mn(o&&o.preferredLayouts||[],"straight")[0]||"h:h",u=ji(n,t,vlt[l]||0),d=function Alt(n,t){if(nhe(t))return t;switch(n){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return t}}(u,l);i=i||cn(n),s=s||cn(t);var p=d.split(":"),f=rhe(i,n,p[0],function Rlt(n){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[n]}(u));return function Slt(n,t,i){var s=PB(n,t,i);return s.unshift(n),s.push(t),ihe(s)}(f,rhe(s,t,p[1],u),d)}(n,t,i,s,a)}function the(n,t,i){return function Plt(n,t,i){return n>=t&&n<=i}(t[n],i[n],i[n]+i[{x:"width",y:"height"}[n]])}function DB(n,t,i,s){if(function o(p){return p.length<3||!(p.length>4)&&!!It(p,function(f,h){var m=p[h-1];return m&&pE(f,m)<3})}(s))return null;var d,c=s[0],u=s.slice();return u[0]=i,u[1]=function a(p,f,h){switch(Up(f,p)){case"v":return{x:h.x,y:p.y};case"h":return{x:p.x,y:h.y}}return{x:p.x,y:p.y}}(u[1],c,i),(d=function l(p,f,h){var m;for(m=p.length-2;0!==m;m--)if(Ooe(p[m],f,20)||Ooe(p[m],h,20))return p.slice(m);return p}(u,n,t))!==u&&(u=DB(n,t,i,d)),u&&Up(u)?null:u}function nhe(n){return n&&/t|r|b|l/.test(n)}function rhe(n,t,i,s){if("h"===i&&(i=/left/.test(s)?"l":"r"),"v"===i&&(i=/top/.test(s)?"t":"b"),"t"===i)return{original:n,x:n.x,y:t.y};if("r"===i)return{original:n,x:t.x+t.width,y:n.y};if("b"===i)return{original:n,x:n.x,y:t.y+t.height};if("l"===i)return{original:n,x:t.x,y:n.y};throw new Error("unexpected dockingDirection: <"+i+">")}function ihe(n){return n.reduce(function(t,i,s){return vN(t[t.length-1],n[s+1],i,0)||t.push(i),t},[])}var Flt={default:["h:h"],fromGateway:["v:h"],toGateway:["h:v"],loop:{fromTop:["t:r"],fromRight:["r:b"],fromLeft:["l:t"],fromBottom:["b:l"]},boundaryLoop:{alternateHorizontalSide:"b",alternateVerticalSide:"l",default:"v"},messageFlow:["straight","v:v"],subProcess:["straight","h:h"],isHorizontal:!0},Blt={default:["v:v"],fromGateway:["h:v"],toGateway:["v:h"],loop:{fromTop:["t:l"],fromRight:["r:t"],fromLeft:["l:b"],fromBottom:["b:r"]},boundaryLoop:{alternateHorizontalSide:"t",alternateVerticalSide:"r",default:"h"},messageFlow:["straight","h:h"],subProcess:["straight","v:v"],isHorizontal:!1},kB={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},xw={top:"t",right:"r",bottom:"b",left:"l"};function G8(n){this._elementRegistry=n}function $lt(n,t){return T(t,"bpmn:Participant")?"source":T(n,"bpmn:Participant")?"target":Cw(t)?"source":Cw(n)||T(t,"bpmn:Event")?"target":T(n,"bpmn:Event")?"source":null}function zlt(n){return Cw(n)?"target":"source"}function she(n,t){return n?n.original||n:cn(t)}function ohe(n,t){return T(t,"bpmn:Activity")&&T(n,"bpmn:BoundaryEvent")&&t.businessObject.isForCompensation}function Cw(n){return T(n,"bpmn:SubProcess")&&ar(n)}function Vg(n,t){return n===t}function db(n){var t=/right|left/.exec(n);return t&&t[0]}function pb(n){var t=/top|bottom/.exec(n);return t&&t[0]}function ahe(n,t){return kB[n]===t}function lhe(n){return"right"===n||"left"===n}function Wlt(n,t,i){var s=t.waypoints,o=s&&s.length&&ji(s[0],n);return"top"===o?i.loop.fromTop:"right"===o?i.loop.fromRight:"left"===o?i.loop.fromLeft:i.loop.fromBottom}function Glt(n,t,i,s){var c,u,o=cn(n),a=cn(t),l=function jlt(n){var t=n.host;return ji(cn(n),t,-10)}(n),d=Vg(n.host,t),p=function Hlt(n,t){return-1!==t.indexOf(n)}(l,["top","right","bottom","left"]),f=ji(a,o,{x:n.width/2+t.width/2,y:n.height/2+t.height/2});return d?function Klt(n,t,i,s,o,a){var l=t?n:a.isHorizontal?pb(n):db(n);return[xw[l]+":"+(t?lhe(n)?che("y",i,s,o)?"h":a.boundaryLoop.alternateHorizontalSide:che("x",i,s,o)?"v":a.boundaryLoop.alternateVerticalSide:a.boundaryLoop.default)]}(l,p,n,t,i,s):(c=function Ylt(n,t,i,s){if(i)return xw[n];var o=pb(n),a=db(n),l=pb(t),c=db(t);if(s){if(Vg(o,l)||ahe(a,c))return xw[o]}else if(Vg(a,c)||ahe(o,l))return xw[a];return xw[s?a:o]}(l,f,p,s.isHorizontal),u=function Xlt(n,t,i,s){return i?lhe(n)?function Ult(n,t){var i=db(n);return-1!==t.indexOf(kB[i])}(n,t)||Vg(n,t)?"h":"v":function qlt(n,t){var i=pb(n);return-1!==t.indexOf(kB[i])}(n,t)||Vg(n,t)?"v":"h":s?Vg(pb(n),pb(t))?"h":"v":Vg(db(n),db(t))?"v":"h"}(l,f,p,s.isHorizontal),[c+":"+u])}function che(n,t,i,s){return!(MB(n,s,i,40)||MB(n,s,{x:i.x+i.width,y:i.y+i.height},40)||MB(n,s,cn(t),40))}function MB(n,t,i,s){return Math.abs(t[n]-i[n])<s}function uhe(n){return pe({original:n.point.original||n.point},n.actual)}function vf(n,t){this._elementRegistry=n,this._graphicsFactory=t}Lt(G8,TB),G8.prototype.layoutConnection=function(n,t){t||(t={});var u,d,i=t.source||n.source,s=t.target||n.target,o=t.waypoints||n.waypoints,a=t.connectionStart,l=t.connectionEnd,c=this._elementRegistry;if(a||(a=she(o&&o[0],i)),l||(l=she(o&&o[o.length-1],s)),(T(n,"bpmn:Association")||T(n,"bpmn:DataAssociation"))&&o&&!ohe(i,s))return[].concat([a],o.slice(1,-1),[l]);var p=dde(i,c)?Flt:Blt;return T(n,"bpmn:MessageFlow")?u=function Vlt(n,t,i){return{preferredLayouts:i.messageFlow,preserveDocking:$lt(n,t)}}(i,s,p):(T(n,"bpmn:SequenceFlow")||ohe(i,s))&&(u=i===s?{preferredLayouts:Wlt(i,n,p)}:T(i,"bpmn:BoundaryEvent")?{preferredLayouts:Glt(i,s,l,p)}:Cw(i)||Cw(s)?{preferredLayouts:p.subProcess,preserveDocking:zlt(i)}:T(i,"bpmn:Gateway")?{preferredLayouts:p.fromGateway}:T(s,"bpmn:Gateway")?{preferredLayouts:p.toGateway}:{preferredLayouts:p.default}),u&&(d=ihe(Tlt(i,s,a,l,o,u=pe(u,t)))),d||[a,l]},G8.$inject=["elementRegistry"],vf.$inject=["elementRegistry","graphicsFactory"],vf.prototype.getCroppedWaypoints=function(n,t,i){i=i||n.target;var s=this.getDockingPoint(n,t=t||n.source,!0),o=this.getDockingPoint(n,i),a=n.waypoints.slice(s.idx+1,o.idx);return a.unshift(uhe(s)),a.push(uhe(o)),a},vf.prototype.getDockingPoint=function(n,t,i){var o,a,s=n.waypoints;return{point:a=s[o=i?0:s.length-1],actual:this._getIntersection(t,n,i)||a,idx:o}},vf.prototype._getIntersection=function(n,t,i){return wN(this._getShapePath(n),this._getConnectionPath(t),i)},vf.prototype._getConnectionPath=function(n){return this._graphicsFactory.getConnectionPath(n)},vf.prototype._getShapePath=function(n){return this._graphicsFactory.getShapePath(n)},vf.prototype._getGfx=function(n){return this._elementRegistry.getGraphics(n)};const dhe={__init__:["modeling","bpmnUpdater"],__depends__:[Kot,pat,hat,mat,Cfe,I8,zat,Kat,Al,gE,kfe],bpmnFactory:["type",nu],bpmnUpdater:["type",Nl],elementFactory:["type",l0],modeling:["type",Go],layouter:["type",G8],connectionDocking:["type",vf]},phe=Math.round;function K8(n,t,i,s,o,a){this._complexPreview=n,this._connectionDocking=t,this._elementFactory=i,this._eventBus=s,this._layouter=o,this._rules=a}K8.prototype.create=function(n,t,i){const s=this._complexPreview,o=this._connectionDocking,a=this._elementFactory,l=this._eventBus,c=this._layouter,u=this._rules,d=a.createShape(pe({type:t},i)),p=l.fire("autoPlace",{source:n,shape:d});if(!p)return;pe(d,{x:p.x-phe(d.width/2),y:p.y-phe(d.height/2)});const f=u.allowed("connection.create",{source:n,target:d,hints:{targetParent:n.parent}});let h=null;f&&(h=a.createConnection(f),h.waypoints=c.layoutConnection(h,{source:n,target:d}),h.waypoints=o.getCroppedWaypoints(h,n,d)),s.create({created:[d,h].filter(m=>!Id(m))})},K8.prototype.cleanUp=function(){this._complexPreview.cleanUp()},K8.$inject=["complexPreview","connectionDocking","elementFactory","eventBus","layouter","rules"];const Zlt={__depends__:[eF,xst,dhe],__init__:["appendPreview"],appendPreview:["type",K8]};var fhe=Math.min,hhe=Math.max;function AB(n){n.preventDefault()}function Sw(n){n.stopPropagation()}function Uu(n){this.container=n.container,this.parent=lr('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=dn("[contenteditable]",this.parent),this.keyHandler=n.keyHandler||function(){},this.resizeHandler=n.resizeHandler||function(){},this.autoResize=Cs(this.autoResize,this),this.handlePaste=Cs(this.handlePaste,this)}function ru(n,t){this._eventBus=n,this._providers=[],this._textbox=new Uu({container:t.getContainer(),keyHandler:Cs(this._handleKey,this),resizeHandler:Cs(this._handleResize,this)})}Uu.prototype.create=function(n,t,i,s){var a=this.parent,l=this.content,c=this.container;s=this.options=s||{};var u=nc(t=this.style=t||{},["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);pe(a.style,{width:n.width+"px",height:n.height+"px",maxWidth:n.maxWidth+"px",maxHeight:n.maxHeight+"px",minWidth:n.minWidth+"px",minHeight:n.minHeight+"px",left:n.x+"px",top:n.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},u);var d=nc(t,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return pe(l.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},d),s.centerVertically&&pe(l.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},d),l.innerText=i,Xt.bind(l,"keydown",this.keyHandler),Xt.bind(l,"mousedown",Sw),Xt.bind(l,"paste",this.handlePaste),s.autoResize&&Xt.bind(l,"input",this.autoResize),s.resizable&&this.resizable(t),c.appendChild(a),this.setSelection(l.lastChild,l.lastChild&&l.lastChild.length),a},Uu.prototype.handlePaste=function(n){var s,t=this.options,i=this.style;if(n.preventDefault(),s=n.clipboardData?n.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(s),t.autoResize){var o=this.autoResize(i);o&&this.resizeHandler(o)}},Uu.prototype.insertText=function(n){n=function ect(n){return n.replace(/\r\n|\r|\n/g,"\n")}(n),document.execCommand("insertText",!1,n)||this._insertTextIE(n)},Uu.prototype._insertTextIE=function(n){var u,d,t=this.getSelection(),i=t.startContainer,s=t.endContainer,o=t.startOffset,a=t.endOffset,l=t.commonAncestorContainer,c=function Jlt(n){return[].slice.call(n)}(l.childNodes);if(function Qlt(n){return n.nodeType===Node.TEXT_NODE}(l)){var p=i.textContent;i.textContent=p.substring(0,o)+n+p.substring(a),u=i,d=o+n.length}else if(i===this.content&&s===this.content){var f=document.createTextNode(n);this.content.insertBefore(f,c[o]),u=f,d=f.textContent.length}else{var h=c.indexOf(i),m=c.indexOf(s);c.forEach(function(g,y){y===h?g.textContent=i.textContent.substring(0,o)+n+s.textContent.substring(a):y>h&&y<=m&&xo(g)}),u=i,d=o+n.length}u&&void 0!==d&&setTimeout(function(){self.setSelection(u,d)})},Uu.prototype.autoResize=function(){var n=this.parent,t=this.content,i=parseInt(this.style.fontSize)||12;if(t.scrollHeight>n.offsetHeight||t.scrollHeight<n.offsetHeight-i){var s=n.getBoundingClientRect(),o=t.scrollHeight;n.style.height=o+"px",this.resizeHandler({width:s.width,height:s.height,dx:0,dy:o-s.height})}},Uu.prototype.resizable=function(){var n=this,t=this.parent,i=this.resizeHandle,s=parseInt(this.style.minWidth)||0,o=parseInt(this.style.minHeight)||0,a=parseInt(this.style.maxWidth)||1/0,l=parseInt(this.style.maxHeight)||1/0;if(!i){i=this.resizeHandle=lr('<div class="djs-direct-editing-resize-handle"></div>');var c,u,d,p,h=function(g){AB(g),Sw(g);var y=fhe(hhe(d+g.clientX-c,s),a),v=fhe(hhe(p+g.clientY-u,o),l);t.style.width=y+"px",t.style.height=v+"px",n.resizeHandler({width:d,height:p,dx:g.clientX-c,dy:g.clientY-u})},m=function(g){AB(g),Sw(g),Xt.unbind(document,"mousemove",h,!1),Xt.unbind(document,"mouseup",m,!1)};Xt.bind(i,"mousedown",function(g){AB(g),Sw(g),c=g.clientX,u=g.clientY;var y=t.getBoundingClientRect();d=y.width,p=y.height,Xt.bind(document,"mousemove",h),Xt.bind(document,"mouseup",m)})}pe(i.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),t.appendChild(i)},Uu.prototype.destroy=function(){var n=this.parent,t=this.content,i=this.resizeHandle;t.innerText="",n.removeAttribute("style"),t.removeAttribute("style"),Xt.unbind(t,"keydown",this.keyHandler),Xt.unbind(t,"mousedown",Sw),Xt.unbind(t,"input",this.autoResize),Xt.unbind(t,"paste",this.handlePaste),i&&(i.removeAttribute("style"),xo(i)),xo(n)},Uu.prototype.getValue=function(){return this.content.innerText.trim()},Uu.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},Uu.prototype.setSelection=function(n,t){var i=document.createRange();null===n?i.selectNodeContents(this.content):(i.setStart(n,t),i.setEnd(n,t));var s=window.getSelection();s.removeAllRanges(),s.addRange(i)},ru.$inject=["eventBus","canvas"],ru.prototype.registerProvider=function(n){this._providers.push(n)},ru.prototype.isActive=function(n){return!(!this._active||n&&this._active.element!==n)},ru.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},ru.prototype._fire=function(n,t){this._eventBus.fire("directEditing."+n,t||{active:this._active})},ru.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},ru.prototype.complete=function(){var n=this._active;if(n){var t,i=n.context.bounds,s=this.$textbox.getBoundingClientRect(),o=this.getValue();(o!==n.context.text||s.height!==i.height||s.width!==i.width)&&(t=this._textbox.container.getBoundingClientRect(),n.provider.update(n.element,o,n.context.text,{x:s.left-t.left,y:s.top-t.top,width:s.width,height:s.height})),this._fire("complete"),this.close()}},ru.prototype.getValue=function(){return this._textbox.getValue()},ru.prototype._handleKey=function(n){n.stopPropagation();var t=n.keyCode||n.charCode;return 27===t?(n.preventDefault(),this.cancel()):13!==t||n.shiftKey?void 0:(n.preventDefault(),this.complete())},ru.prototype._handleResize=function(n){this._fire("resize",n)},ru.prototype.activate=function(n){this.isActive()&&this.cancel();var t,i=It(this._providers,function(s){return(t=s.activate(n))?s:null});return t&&(this.$textbox=this._textbox.create(t.bounds,t.style,t.text,t.options),this._active={element:n,context:t,provider:i},t.options&&t.options.resizable&&(this.resizable=!0),this._fire("activate")),!!t};const IB={__depends__:[GS],__init__:["directEditing"],directEditing:["type",ru]};function mhe(n){return function(t){var i=t.target,s=G(n),o=s.eventDefinitions&&s.eventDefinitions[0],a=s.$type===i.type,l=(o&&o.$type)===i.eventDefinitionType,c=!!i.triggeredByEvent==!!s.triggeredByEvent,u=void 0===i.isExpanded||i.isExpanded===ar(n);return!(a&&l&&c&&u)}}var tct=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],nct=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],rct=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link intermediate catch event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link intermediate throw event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],ict=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel end event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate end event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],sct=[{label:"Exclusive gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event-based gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],oct=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],ghe=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],act=ghe,yhe=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business rule task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub-process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}],lct=[{label:"Data store reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],cct=[{label:"Data object reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],uct=[{label:"Message boundary event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!0}},{label:"Timer boundary event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!0}},{label:"Escalation boundary event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!0}},{label:"Conditional boundary event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!0}},{label:"Error boundary event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",cancelActivity:!0}},{label:"Cancel boundary event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition",cancelActivity:!0}},{label:"Signal boundary event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!0}},{label:"Compensation boundary event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",cancelActivity:!0}},{label:"Message boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],dct=[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!0}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!0}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!0}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!0}},{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",isInterrupting:!0}},{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!0}},{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",isInterrupting:!0}},{label:"Message start event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer start event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional start event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal start event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation start event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],pct=[{label:"Sequence flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],fct=[{label:"Expanded pool/participant",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(n){var t="Empty pool/participant";return n.children&&n.children.length&&(t+=" (removes content)"),t},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}];const vhe_start_event_non_interrupting='\n  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">\n    <g transform="translate(0 995.64)">\n      <path d="m1899 28.357c21.545 567.43-598.38 1023.5-1133.6 835.92-548.09-147.21-801.57-873.95-463.59-1330 302.62-480.3 1071.7-507.54 1407.6-49.847 122.14 153.12 190.07 348.07 189.59 543.91z" fill="none" stroke="currentColor" stroke-dasharray="418.310422, 361.2328165" stroke-linecap="round" stroke-width="100"/>\n    </g>\n  </svg>',vhe_intermediate_event_non_interrupting='\n  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">\n     <g transform="translate(0 995.64)" fill="none" stroke="currentColor" stroke-linecap="round">\n        <circle cx="1024" cy="28.357" r="875" stroke-dasharray="418.310422, 361.2328165" stroke-width="100"/>\n        <circle cx="1024" cy="28.357" r="685" stroke-dasharray="348.31044857,261.23283643" stroke-dashoffset="500" stroke-width="100"/>\n     </g>\n  </svg>';function uc(n,t,i,s,o,a,l,c){this._bpmnFactory=n,this._popupMenu=t,this._modeling=i,this._moddle=s,this._bpmnReplace=o,this._rules=a,this._translate=l,this._moddleCopy=c,this._register()}uc.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate","moddleCopy"],uc.prototype._register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},uc.prototype.getPopupMenuEntries=function(n){var t=n.businessObject,i=this._rules,s=[];if(Vt(n)||!i.allowed("shape.replace",{element:n}))return{};var o=mhe(n);return T(t,"bpmn:DataObjectReference")?this._createEntries(n,lct):T(t,"bpmn:DataStoreReference")&&!T(n.parent,"bpmn:Collaboration")?this._createEntries(n,cct):T(t,"bpmn:StartEvent")&&!T(t.$parent,"bpmn:SubProcess")?(s=hn(tct,o),this._createEntries(n,s)):T(t,"bpmn:Participant")?(s=hn(fct,function(a){return ar(n)!==a.target.isExpanded}),this._createEntries(n,s)):T(t,"bpmn:StartEvent")&&Zs(t.$parent)?(s=hn(dct,function(a){var u=t.isInterrupting===(!1!==a.target.isInterrupting);return o(a)||!o(a)&&!u}),this._createEntries(n,s)):T(t,"bpmn:StartEvent")&&!Zs(t.$parent)&&T(t.$parent,"bpmn:SubProcess")?(s=hn(nct,o),this._createEntries(n,s)):T(t,"bpmn:EndEvent")?(s=hn(ict,function(a){return!("bpmn:CancelEventDefinition"==a.target.eventDefinitionType&&!T(t.$parent,"bpmn:Transaction"))&&o(a)}),this._createEntries(n,s)):T(t,"bpmn:BoundaryEvent")?(s=hn(uct,function(a){var l=a.target;if("bpmn:CancelEventDefinition"==l.eventDefinitionType&&!T(t.attachedToRef,"bpmn:Transaction"))return!1;var u=t.cancelActivity==(!1!==l.cancelActivity);return o(a)||!o(a)&&!u}),this._createEntries(n,s)):T(t,"bpmn:IntermediateCatchEvent")||T(t,"bpmn:IntermediateThrowEvent")?(s=hn(rct,o),this._createEntries(n,s)):T(t,"bpmn:Gateway")?(s=hn(sct,o),this._createEntries(n,s)):T(t,"bpmn:Transaction")?(s=hn(ghe,o),this._createEntries(n,s)):Zs(t)&&ar(n)?(s=hn(act,o),this._createEntries(n,s)):T(t,"bpmn:SubProcess")&&ar(n)?(s=hn(oct,o),this._createEntries(n,s)):T(t,"bpmn:AdHocSubProcess")&&!ar(n)?(s=hn(yhe,function(a){var l=a.target,c="bpmn:SubProcess"===l.type,u=!0===l.isExpanded;return mhe(l)&&(!c||u)}),this._createEntries(n,s)):T(t,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(n,pct):T(t,"bpmn:FlowNode")?(s=hn(yhe,o),T(t,"bpmn:SubProcess")&&!ar(n)&&(s=hn(s,function(a){return"Sub-process (collapsed)"!==a.label})),this._createEntries(n,s)):{}},uc.prototype.getPopupMenuHeaderEntries=function(n){var t={};return T(n,"bpmn:Activity")&&!Zs(n)&&(t={...t,...this._getLoopCharacteristicsHeaderEntries(n)}),T(n,"bpmn:DataObjectReference")&&(t={...t,...this._getCollectionHeaderEntries(n)}),T(n,"bpmn:Participant")&&(t={...t,...this._getParticipantMultiplicityHeaderEntries(n)}),T(n,"bpmn:SubProcess")&&!T(n,"bpmn:Transaction")&&!Zs(n)&&(t={...t,...this._getAdHocHeaderEntries(n)}),kpe(n)&&(t={...t,...this._getNonInterruptingHeaderEntries(n)}),t},uc.prototype._createEntries=function(n,t){var i={},s=this;return se(t,function(o){i[o.actionName]=s._createEntry(o,n)}),i},uc.prototype._createSequenceFlowEntries=function(n,t){var i=G(n),s={},o=this._modeling,a=this._moddle,l=this;return se(t,function(c){switch(c.actionName){case"replace-with-default-flow":i.sourceRef.default!==i&&(T(i.sourceRef,"bpmn:ExclusiveGateway")||T(i.sourceRef,"bpmn:InclusiveGateway")||T(i.sourceRef,"bpmn:ComplexGateway")||T(i.sourceRef,"bpmn:Activity"))&&(s={...s,[c.actionName]:l._createEntry(c,n,function(){o.updateProperties(n.source,{default:i})})});break;case"replace-with-conditional-flow":!i.conditionExpression&&T(i.sourceRef,"bpmn:Activity")&&(s={...s,[c.actionName]:l._createEntry(c,n,function(){var u=a.create("bpmn:FormalExpression",{body:""});o.updateProperties(n,{conditionExpression:u})})});break;default:T(i.sourceRef,"bpmn:Activity")&&i.conditionExpression&&(s={...s,[c.actionName]:l._createEntry(c,n,function(){o.updateProperties(n,{conditionExpression:void 0})})}),(T(i.sourceRef,"bpmn:ExclusiveGateway")||T(i.sourceRef,"bpmn:InclusiveGateway")||T(i.sourceRef,"bpmn:ComplexGateway")||T(i.sourceRef,"bpmn:Activity"))&&i.sourceRef.default===i&&(s={...s,[c.actionName]:l._createEntry(c,n,function(){o.updateProperties(n.source,{default:void 0})})})}}),s},uc.prototype._createEntry=function(n,t,i){var s=this._translate,o=this._bpmnReplace.replaceElement,l=n.label;return l&&"function"==typeof l&&(l=l(t)),i=i||function(){return o(t,n.target)},{label:s(l),className:n.className,action:i}},uc.prototype._getLoopCharacteristicsHeaderEntries=function(n){var t=this,i=this._translate;function s(d,p){if(p.active)return void t._modeling.updateProperties(n,{loopCharacteristics:void 0});const f=n.businessObject.get("loopCharacteristics"),h=t._moddle.create(p.options.loopCharacteristics);f&&t._moddleCopy.copyElement(f,h),h.set("isSequential",p.options.isSequential),t._modeling.updateProperties(n,{loopCharacteristics:h})}var l,c,u,a=G(n).loopCharacteristics;return a&&(l=a.isSequential,c=void 0===a.isSequential,u=void 0!==a.isSequential&&!a.isSequential),{"toggle-parallel-mi":{className:"bpmn-icon-parallel-mi-marker",title:i("Parallel multi-instance"),active:u,action:s,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},"toggle-sequential-mi":{className:"bpmn-icon-sequential-mi-marker",title:i("Sequential multi-instance"),active:l,action:s,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},"toggle-loop":{className:"bpmn-icon-loop-marker",title:i("Loop"),active:c,action:s,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}}},uc.prototype._getCollectionHeaderEntries=function(n){var t=this,s=n.businessObject.dataObjectRef;if(!s)return{};var a=s.isCollection;return{"toggle-is-collection":{className:"bpmn-icon-parallel-mi-marker",title:(0,this._translate)("Collection"),active:a,action:function o(l,c){t._modeling.updateModdleProperties(n,s,{isCollection:!c.active})}}}},uc.prototype._getParticipantMultiplicityHeaderEntries=function(n){var t=this,i=this._bpmnFactory,a=n.businessObject.participantMultiplicity;return{"toggle-participant-multiplicity":{className:"bpmn-icon-parallel-mi-marker",title:(0,this._translate)("Participant multiplicity"),active:!!a,action:function o(l,c){var d;c.active||(d=i.create("bpmn:ParticipantMultiplicity")),t._modeling.updateProperties(n,{participantMultiplicity:d})}}}},uc.prototype._getAdHocHeaderEntries=function(n){var t=this._translate,s=T(G(n),"bpmn:AdHocSubProcess"),o=this._bpmnReplace.replaceElement;return{"toggle-adhoc":{className:"bpmn-icon-ad-hoc-marker",title:t("Ad-hoc"),active:s,action:function(a,l){return o(n,s?{type:"bpmn:SubProcess"}:{type:"bpmn:AdHocSubProcess"},{autoResize:!1,layoutConnection:!1})}}}},uc.prototype._getNonInterruptingHeaderEntries=function(n){const t=this._translate,i=G(n),s=this,o=Mpe(n),a=T(n,"bpmn:BoundaryEvent")?vhe_intermediate_event_non_interrupting:vhe_start_event_non_interrupting,l=!i[o];return{"toggle-non-interrupting":{imageHtml:a,title:t("Toggle non-interrupting"),active:l,action:function(){s._modeling.updateProperties(n,{[o]:!!l})}}}};const hct={__depends__:[KO,Cfe,eF],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",uc]};function Ow(n,t,i,s,o,a,l,c,u,d,p,f,h){n=n||{},s.registerProvider(this),this._contextPad=s,this._modeling=o,this._elementFactory=a,this._connect=l,this._create=c,this._popupMenu=u,this._canvas=d,this._rules=p,this._translate=f,this._eventBus=i,this._appendPreview=h,!1!==n.autoPlace&&(this._autoPlace=t.get("autoPlace",!1)),i.on("create.end",250,function(m){var y=m.context.shape;if(Mv(m)&&s.isOpen(y)){var v=s.getEntries(y);v.replace&&v.replace.action.click(m,y)}}),i.on("contextPad.close",function(){h.cleanUp()})}function bhe(n,t,i){var s=n.$instanceOf(t),o=!1;return se(n.eventDefinitions||[],function(l){l.$type===i&&(o=!0)}),s&&o}Ow.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate","appendPreview"],Ow.prototype.getMultiElementContextPadEntries=function(n){var t=this._modeling,i={};return this._isDeleteAllowed(n)&&pe(i,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Delete"),action:{click:function(s,o){t.removeElements(o.slice())}}}}),i},Ow.prototype._isDeleteAllowed=function(n){var t=this._rules.allowed("elements.delete",{elements:n});return Vt(t)?tc(n,i=>t.includes(i)):t},Ow.prototype.getContextPadEntries=function(n){var t=this._contextPad,i=this._modeling,s=this._elementFactory,o=this._connect,a=this._create,l=this._popupMenu,c=this._autoPlace,u=this._translate,d=this._appendPreview,p={};if("label"===n.type)return this._isDeleteAllowed([n])&&pe(p,g()),p;var f=n.businessObject;function h(x,b){o.start(x,b)}function m(x,b){i.removeElements([b])}function g(){return{delete:{group:"edit",className:"bpmn-icon-trash",title:u("Delete"),action:{click:m}}}}function v(x,b,w,C){function P(k,F){var M=s.createShape(pe({type:x},C));a.start(k,M,{source:F})}return{group:"model",className:b,title:w,action:{dragstart:P,click:c?function(k,F){var M=s.createShape(pe({type:x},C));c.append(F,M)}:P,hover:c?function(k,F){return d.create(F,x,C),()=>{d.cleanUp()}}:null}}}function _(x){return function(b,w){i.splitLane(w,x),t.open(w,!0)}}if(Kt(f,["bpmn:Lane","bpmn:Participant"])&&ar(n)){var E=n0(n);pe(p,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:u("Add lane above"),action:{click:function(x,b){i.addLane(b,"top")}}}}),E.length<2&&((Xs(n)?n.height>=120:n.width>=120)&&pe(p,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:u("Divide into two lanes"),action:{click:_(2)}}}),(Xs(n)?n.height>=180:n.width>=180)&&pe(p,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:u("Divide into three lanes"),action:{click:_(3)}}})),pe(p,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:u("Add lane below"),action:{click:function(x,b){i.addLane(b,"bottom")}}}})}return T(f,"bpmn:FlowNode")&&(T(f,"bpmn:EventBasedGateway")?pe(p,{"append.receive-task":v("bpmn:ReceiveTask","bpmn-icon-receive-task",u("Append receive task")),"append.message-intermediate-event":v("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",u("Append message intermediate catch event"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":v("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",u("Append timer intermediate catch event"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":v("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",u("Append conditional intermediate catch event"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":v("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",u("Append signal intermediate catch event"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):bhe(f,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?pe(p,{"append.compensation-activity":v("bpmn:Task","bpmn-icon-task",u("Append compensation activity"),{isForCompensation:!0})}):!T(f,"bpmn:EndEvent")&&!f.isForCompensation&&!bhe(f,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")&&!Zs(f)&&pe(p,{"append.end-event":v("bpmn:EndEvent","bpmn-icon-end-event-none",u("Append end event")),"append.gateway":v("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",u("Append gateway")),"append.append-task":v("bpmn:Task","bpmn-icon-task",u("Append task")),"append.intermediate-event":v("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",u("Append intermediate/boundary event"))})),l.isEmpty(n,"bpmn-replace")||pe(p,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:u("Change element"),action:{click:function(x,b){var w=pe(function y(x){var C=t.getPad(x).html.getBoundingClientRect();return{x:C.left,y:C.bottom+5}}(b),{cursor:{x:x.x,y:x.y}});l.open(b,"bpmn-replace",w,{title:u("Change element"),width:300,search:!0})}}}}),T(f,"bpmn:SequenceFlow")&&pe(p,{"append.text-annotation":v("bpmn:TextAnnotation","bpmn-icon-text-annotation",u("Add text annotation"))}),Kt(f,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&pe(p,{"append.text-annotation":v("bpmn:TextAnnotation","bpmn-icon-text-annotation",u("Add text annotation")),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:u("Connect to other element"),action:{click:h,dragstart:h}}}),T(f,"bpmn:TextAnnotation")&&pe(p,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:u("Connect using association"),action:{click:h,dragstart:h}}}),Kt(f,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&pe(p,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:u("Connect using data input association"),action:{click:h,dragstart:h}}}),T(f,"bpmn:Group")&&pe(p,{"append.text-annotation":v("bpmn:TextAnnotation","bpmn-icon-text-annotation",u("Add text annotation"))}),this._isDeleteAllowed([n])&&pe(p,g()),p};const mct={__depends__:[Zlt,IB,zL,Al,r8,ub,hct],__init__:["contextPadProvider"],contextPadProvider:["type",Ow]};var gct={horizontal:["x","width"],vertical:["y","height"]};function bf(n,t){this._modeling=n,this._filters=[],this.registerFilter(function(i){var s=t.allowed("elements.distribute",{elements:i});return Vt(s)?s:s?i:[]})}bf.$inject=["modeling","rules"],bf.prototype.registerFilter=function(n){if("function"!=typeof n)throw new Error("the filter has to be a function");this._filters.push(n)},bf.prototype.trigger=function(n,t){var s,o,i=this._modeling;if(!(n.length<3||(this._setOrientation(t),o=this._filterElements(n),s=this._createGroups(o),s.length<=2)))return i.distributeElements(s,this._axis,this._dimension),s},bf.prototype._filterElements=function(n){var t=this._filters,i=this._axis,s=this._dimension,o=[].concat(n);return t.length?(se(t,function(a){o=a(o,i,s)}),o):n},bf.prototype._createGroups=function(n){var t=[],i=this,s=this._axis,o=this._dimension;if(!s)throw new Error('must have a defined "axis" and "dimension"');return se(Ys(n,s),function(l,c){var u=i._findRange(l,s,o),p=t[t.length-1];p&&i._hasIntersection(p.range,u)?t[t.length-1].elements.push(l):t.push({range:u,elements:[l]})}),t},bf.prototype._setOrientation=function(n){var t=gct[n];this._axis=t[0],this._dimension=t[1]},bf.prototype._hasIntersection=function(n,t){return Math.max(n.min,n.max)>=Math.min(t.min,t.max)&&Math.min(n.min,n.max)<=Math.max(t.min,t.max)},bf.prototype._findRange=function(n){var t=n[this._axis];return{min:t+5,max:t+n[this._dimension]-5}};const Ehe={__init__:["distributeElements"],distributeElements:["type",bf]};function Y8(n){tl.call(this,n)}Y8.$inject=["eventBus"],Lt(Y8,tl),Y8.prototype.init=function(){this.addRule("elements.distribute",function(n){var t=n.elements;return!((t=VS(t=hn(t,function(i){var s=Kt(i,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(i.labelTarget||s)}))).length<3)&&t})};const whe_horizontal='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n                <polyline points="450 400 450 150 1350 150 1350 400" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>\n                <rect x="150" y="450" width="600" height="1200" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n                <rect x="1050" y="450" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n              </svg>',whe_vertical='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n              <polyline points="400 1350 150 1350 150 450 400 450" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>\n              <rect x="450" y="150" width="1200" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n              <rect x="450" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n            </svg>';function Tw(n,t,i,s){this._distributeElements=t,this._translate=i,this._popupMenu=n,this._rules=s,n.registerProvider("align-elements",900,this)}Tw.$inject=["popupMenu","distributeElements","translate","rules"],Tw.prototype.getPopupMenuEntries=function(n){var t={};return this._isAllowed(n)&&pe(t,this._getEntries(n)),t},Tw.prototype._isAllowed=function(n){return this._rules.allowed("elements.distribute",{elements:n})},Tw.prototype._getEntries=function(n){var t=this._distributeElements,i=this._translate,s=this._popupMenu;return{"distribute-elements-horizontal":{group:"distribute",title:i("Distribute elements horizontally"),className:"bjs-align-elements-menu-entry",imageHtml:whe_horizontal,action:function(a,l){t.trigger(n,"horizontal"),s.close()}},"distribute-elements-vertical":{group:"distribute",title:i("Distribute elements vertically"),imageHtml:whe_vertical,action:function(a,l){t.trigger(n,"vertical"),s.close()}}}};const bct={__depends__:[KO,Ehe],__init__:["bpmnDistributeElements","distributeElementsMenuProvider"],bpmnDistributeElements:["type",Y8],distributeElementsMenuProvider:["type",Tw]};var xhe="is not a registered action";function nl(n,t){this._actions={};var i=this;n.on("diagram.init",function(){i._registerDefaultActions(t),n.fire("editorActions.init",{editorActions:i})})}function RB(n,t){return new Error(n+" "+t)}nl.$inject=["eventBus","injector"],nl.prototype._registerDefaultActions=function(n){var t=n.get("commandStack",!1),i=n.get("modeling",!1),s=n.get("selection",!1),o=n.get("zoomScroll",!1),a=n.get("copyPaste",!1),l=n.get("canvas",!1),c=n.get("rules",!1),u=n.get("keyboardMove",!1),d=n.get("keyboardMoveSelection",!1);t&&(this.register("undo",function(){t.undo()}),this.register("redo",function(){t.redo()})),a&&s&&this.register("copy",function(){var p=s.get();if(p.length)return a.copy(p)}),a&&this.register("paste",function(){a.paste()}),o&&this.register("stepZoom",function(p){o.stepZoom(p.value)}),l&&this.register("zoom",function(p){l.zoom(p.value)}),i&&s&&c&&this.register("removeSelection",function(){var p=s.get();if(p.length){var h,f=c.allowed("elements.delete",{elements:p});!1!==f&&(h=Vt(f)?f:p).length&&i.removeElements(h.slice())}}),u&&this.register("moveCanvas",function(p){u.moveCanvas(p)}),d&&this.register("moveSelection",function(p){d.moveSelection(p.direction,p.accelerated)})},nl.prototype.trigger=function(n,t){if(!this._actions[n])throw RB(n,xhe);return this._actions[n](t)},nl.prototype.register=function(n,t){var i=this;if("string"==typeof n)return this._registerAction(n,t);se(n,function(s,o){i._registerAction(o,s)})},nl.prototype._registerAction=function(n,t){if(this.isRegistered(n))throw RB(n,"is already registered");this._actions[n]=t},nl.prototype.unregister=function(n){if(!this.isRegistered(n))throw RB(n,xhe);this._actions[n]=void 0},nl.prototype.getActions=function(){return Object.keys(this._actions)},nl.prototype.isRegistered=function(n){return!!this._actions[n]};const Che={__init__:["editorActions"],editorActions:["type",nl]};function X8(n){n.invoke(nl,this)}Lt(X8,nl),X8.$inject=["injector"],X8.prototype._registerDefaultActions=function(n){nl.prototype._registerDefaultActions.call(this,n);var t=n.get("canvas",!1),i=n.get("elementRegistry",!1),s=n.get("selection",!1),o=n.get("spaceTool",!1),a=n.get("lassoTool",!1),l=n.get("handTool",!1),c=n.get("globalConnect",!1),u=n.get("distributeElements",!1),d=n.get("alignElements",!1),p=n.get("directEditing",!1),f=n.get("searchPad",!1),h=n.get("modeling",!1),m=n.get("contextPad",!1);t&&i&&s&&this._registerAction("selectElements",function(){var g=t.getRootElement(),y=i.filter(function(v){return v!==g});return s.select(y),y}),o&&this._registerAction("spaceTool",function(){o.toggle()}),a&&this._registerAction("lassoTool",function(){a.toggle()}),l&&this._registerAction("handTool",function(){l.toggle()}),c&&this._registerAction("globalConnectTool",function(){c.toggle()}),s&&u&&this._registerAction("distributeElements",function(g){var y=s.get();y.length&&u.trigger(y,g.type)}),s&&d&&this._registerAction("alignElements",function(g){var y=s.get(),v=[],_=g.type;y.length&&(v=hn(y,function(E){return!T(E,"bpmn:Lane")}),d.trigger(v,_))}),s&&h&&this._registerAction("setColor",function(g){var y=s.get();y.length&&h.setColor(y,g)}),s&&p&&this._registerAction("directEditing",function(){var g=s.get();g.length&&p.activate(g[0])}),f&&this._registerAction("find",function(){f.toggle()}),t&&h&&this._registerAction("moveToOrigin",function(){var y,v,g=t.getRootElement();y=Qs(v=T(g,"bpmn:Collaboration")?i.filter(function(_){return T(_.parent,"bpmn:Collaboration")}):i.filter(function(_){return _!==g&&!T(_.parent,"bpmn:SubProcess")})),h.moveElements(v,{x:-y.x,y:-y.y},g)}),s&&m&&this._registerAction("replaceElement",function(g){m.triggerEntry("replace","click",g)})};const Ect={__depends__:[Che],editorActions:["type",X8]};function She(n){n.on(["create.init","shape.move.init"],function(t){var i=t.context;Kt(t.shape,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(i.gridSnappingContext||(i.gridSnappingContext={}),i.gridSnappingContext.snapLocation="top-left")})}function Pw(n,t,i){return i||(i="round"),Math[i](n/t)*t}function f0(n,t,i){var s=!i||!1!==i.active;this._eventBus=t;var o=this;t.on("diagram.init",800,function(){o.setActive(s)}),t.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],1200,function(a){var l=a.originalEvent;if(!(!o.active||l&&ac(l))){var c=a.context,u=c.gridSnappingContext;u||(u=c.gridSnappingContext={}),["x","y"].forEach(function(d){var p={},f=function Sct(n,t,i){var o=n.shape,a=n.context.gridSnappingContext,l=a.snapLocation,c=a.snapOffset;return c&&un(c[t])||(c||(c=a.snapOffset={}),un(c[t])||(c[t]=0),!o)||(i.get(o.id)||(Z8(t)?c[t]+=o[t]+o.width/2:c[t]+=o[t]+o.height/2),!l)||("x"===t?/left/.test(l)?c[t]-=o.width/2:/right/.test(l)&&(c[t]+=o.width/2):/top/.test(l)?c[t]-=o.height/2:/bottom/.test(l)&&(c[t]+=o.height/2)),c[t]}(a,d,n);f&&(p.offset=f);var h=function Cct(n,t){var i=n.context,s=i.createConstraints,o=i.resizeConstraints||{},a=i.gridSnappingContext,l=a.snapConstraints;if(l&&l[t])return l[t];l||(l=a.snapConstraints={}),l[t]||(l[t]={});var c=i.direction;s&&(Z8(t)?(l.x.min=s.left,l.x.max=s.right):(l.y.min=s.top,l.y.max=s.bottom));var u=o.min,d=o.max;return u&&(Z8(t)?The(c)?l.x.max=u.left:l.x.min=u.right:Ohe(c)?l.y.max=u.top:l.y.min=u.bottom),d&&(Z8(t)?The(c)?l.x.min=d.left:l.x.max=d.right:Ohe(c)?l.y.min=d.top:l.y.max=d.bottom),l[t]}(a,d);h&&pe(p,h),nb(a,d)||o.snapEvent(a,d,p)})}})}function Z8(n){return"x"===n}function Ohe(n){return-1!==n.indexOf("n")}function The(n){return-1!==n.indexOf("w")}function $g(n,t){Qe.call(this,n),this._gridSnapping=t;var i=this;this.preExecute("shape.resize",function(s){var o=s.context,l=(o.hints||{}).autoResize;if(l){var c=o.shape,u=o.newBounds;o.newBounds=$n(l)?i.snapComplex(u,l):i.snapSimple(c,u)}})}function Phe(n,t){n.on(["spaceTool.move","spaceTool.end"],2e3,function(i){var a,s=i.context;s.initialized&&("x"===s.axis?(a=t.snapValue(i.dx),i.x=i.x+a-i.dx,i.dx=a):(a=t.snapValue(i.dy),i.y=i.y+a-i.dy,i.dy=a))})}She.$inject=["eventBus"],f0.prototype.snapEvent=function(n,t,i){ks(n,t,this.snapValue(n[t],i))},f0.prototype.getGridSpacing=function(){return 10},f0.prototype.snapValue=function(n,t){var s,o,i=0;return t&&t.offset&&(i=t.offset),n=Pw(n+=i,10),t&&t.min&&un(s=t.min)&&(s=Pw(s+i,10,"ceil"),n=Math.max(n,s)),t&&t.max&&un(o=t.max)&&(o=Pw(o+i,10,"floor"),n=Math.min(n,o)),n-i},f0.prototype.isActive=function(){return this.active},f0.prototype.setActive=function(n){this.active=n,this._eventBus.fire("gridSnapping.toggle",{active:n})},f0.prototype.toggleActive=function(){this.setActive(!this.active)},f0.$inject=["elementRegistry","eventBus","config.gridSnapping"],$g.$inject=["eventBus","gridSnapping","modeling"],Lt($g,Qe),$g.prototype.snapSimple=function(n,t){var i=this._gridSnapping;return t.width=i.snapValue(t.width,{min:t.width}),t.height=i.snapValue(t.height,{min:t.height}),t.x=n.x+n.width/2-t.width/2,t.y=n.y+n.height/2-t.height/2,t},$g.prototype.snapComplex=function(n,t){return/w|e/.test(t)&&(n=this.snapHorizontally(n,t)),/n|s/.test(t)&&(n=this.snapVertically(n,t)),n},$g.prototype.snapHorizontally=function(n,t){var i=this._gridSnapping,s=/w/.test(t),o=/e/.test(t),a={};return a.width=i.snapValue(n.width,{min:n.width}),o&&(s?(a.x=i.snapValue(n.x,{max:n.x}),a.width+=i.snapValue(n.x-a.x,{min:n.x-a.x})):n.x=n.x+n.width-a.width),pe(n,a),n},$g.prototype.snapVertically=function(n,t){var i=this._gridSnapping,s=/n/.test(t),o=/s/.test(t),a={};return a.height=i.snapValue(n.height,{min:n.height}),s&&(o?(a.y=i.snapValue(n.y,{max:n.y}),a.height+=i.snapValue(n.y-a.y,{min:n.y-a.y})):n.y=n.y+n.height-a.height),pe(n,a),n},Phe.$inject=["eventBus","gridSnapping"];const Dhe={__depends__:[{__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",$g],gridSnappingSpaceToolBehavior:["type",Phe]}],__init__:["gridSnapping"],gridSnapping:["type",f0]};function khe(n,t,i){n.on("autoPlace",2e3,function(s){var o=s.source,a=cn(o),l=s.shape,c=pde(o,l,i);return["x","y"].forEach(function(u){var d={};c[u]!==a[u]&&(c[u]>a[u]?d.min=c[u]:d.max=c[u],T(l,"bpmn:TextAnnotation")&&(d.offset=function Pct(n){return"x"===n}(u)?-l.width/2:-l.height/2),c[u]=t.snapValue(c[u],d))}),c})}function Mhe(n,t,i){t.on(["create.start","shape.move.start"],1750,function(s){var o=s.context,a=o.shape,l=n.getRootElement();T(a,"bpmn:Participant")&&T(l,"bpmn:Process")&&l.children.length&&o.createConstraints&&(a.width=i.snapValue(a.width,{min:a.width}),a.height=i.snapValue(a.height,{min:a.height}))})}function Q8(n,t,i){Qe.call(this,n),this._gridSnapping=t;var s=this;this.postExecuted(["connection.create","connection.layout"],3e3,function(o){var a=o.context,l=a.connection,c=a.hints||{},u=l.waypoints;c.connectionStart||c.connectionEnd||!1===c.createElementsBehavior||function Mct(n){return n.length>3}(u)&&i.updateWaypoints(l,s.snapMiddleSegments(u))})}function Rct(n,t,i){var s=Up(t,i),o={};return function Act(n){return"h"===n}(s)&&(o.y=n.snapValue(t.y)),function Ict(n){return"v"===n}(s)&&(o.x=n.snapValue(t.x)),("x"in o||"y"in o)&&(t=pe({},t,o),i=pe({},i,o)),[t,i]}khe.$inject=["eventBus","gridSnapping","elementRegistry"],Mhe.$inject=["canvas","eventBus","gridSnapping"],Q8.$inject=["eventBus","gridSnapping","modeling"],Lt(Q8,Qe),Q8.prototype.snapMiddleSegments=function(n){var i,t=this._gridSnapping;n=n.slice();for(var s=1;s<n.length-2;s++)i=Rct(t,n[s],n[s+1]),n[s]=i[0],n[s+1]=i[1];return n};const Nct={__depends__:[Dhe,{__init__:["gridSnappingAutoPlaceBehavior","gridSnappingParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",khe],gridSnappingParticipantBehavior:["type",Mhe],gridSnappingLayoutConnectionBehavior:["type",Q8]}],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",She]};function Dw(n,t){this._interactionEvents=t;var i=this;n.on(["interactionEvents.createHit","interactionEvents.updateHit"],function(s){var o=s.element,a=s.gfx;return T(o,"bpmn:Lane")?i._createParticipantHit(o,a):T(o,"bpmn:Participant")?ar(o)?i._createParticipantHit(o,a):i._createDefaultHit(o,a):T(o,"bpmn:SubProcess")?ar(o)?i._createSubProcessHit(o,a):i._createDefaultHit(o,a):void 0})}Dw.$inject=["eventBus","interactionEvents"],Dw.prototype._createDefaultHit=function(n,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createDefaultHit(n,t),!0},Dw.prototype._createParticipantHit=function(n,t){this._interactionEvents.removeHits(t),this._interactionEvents.createBoxHit(t,"no-move",{width:n.width,height:n.height}),this._interactionEvents.createBoxHit(t,"click-stroke",{width:n.width,height:n.height});var i=Xs(n)?{width:30,height:n.height}:{width:n.width,height:30};return this._interactionEvents.createBoxHit(t,"all",i),!0},Dw.prototype._createSubProcessHit=function(n,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createBoxHit(t,"no-move",{width:n.width,height:n.height}),this._interactionEvents.createBoxHit(t,"click-stroke",{width:n.width,height:n.height}),this._interactionEvents.createBoxHit(t,"all",{width:n.width,height:30}),!0};const Fct={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",Dw]};function J8(n){n.invoke(Xp,this)}Lt(J8,Xp),J8.$inject=["injector"],J8.prototype.registerBindings=function(n,t){function i(s,o){t.isRegistered(s)&&n.addListener(o)}Xp.prototype.registerBindings.call(this,n,t),i("selectElements",function(s){var o=s.keyEvent;if(n.isKey(["a","A"],o)&&n.isCmd(o))return t.trigger("selectElements"),!0}),i("find",function(s){var o=s.keyEvent;if(n.isKey(["f","F"],o)&&n.isCmd(o))return t.trigger("find"),!0}),i("spaceTool",function(s){var o=s.keyEvent;if(!n.hasModifier(o)&&n.isKey(["s","S"],o))return t.trigger("spaceTool"),!0}),i("lassoTool",function(s){var o=s.keyEvent;if(!n.hasModifier(o)&&n.isKey(["l","L"],o))return t.trigger("lassoTool"),!0}),i("handTool",function(s){var o=s.keyEvent;if(!n.hasModifier(o)&&n.isKey(["h","H"],o))return t.trigger("handTool"),!0}),i("globalConnectTool",function(s){var o=s.keyEvent;if(!n.hasModifier(o)&&n.isKey(["c","C"],o))return t.trigger("globalConnectTool"),!0}),i("directEditing",function(s){var o=s.keyEvent;if(!n.hasModifier(o)&&n.isKey(["e","E"],o))return t.trigger("directEditing"),!0}),i("replaceElement",function(s){var o=s.keyEvent;if(!n.hasModifier(o)&&n.isKey(["r","R"],o))return t.trigger("replaceElement",o),!0})};const Bct={__depends__:[xE],__init__:["keyboardBindings"],keyboardBindings:["type",J8]};var jct={moveSpeed:1,moveSpeedAccelerated:10},$ct={ArrowLeft:"left",Left:"left",ArrowUp:"up",Up:"up",ArrowRight:"right",Right:"right",ArrowDown:"down",Down:"down"},zct={left:function(n){return{x:-n,y:0}},up:function(n){return{x:0,y:-n}},right:function(n){return{x:n,y:0}},down:function(n){return{x:0,y:n}}};function Fhe(n,t,i,s,o){var a=this;this._config=pe({},jct,n||{}),t.addListener(1500,function(l){var c=l.keyEvent,u=$ct[c.key];if(u&&!t.isCmd(c)){var d=t.isShift(c);return a.moveSelection(u,d),!0}}),this.moveSelection=function(l,c){var u=o.get();if(u.length){var p=zct[l](this._config[c?"moveSpeedAccelerated":"moveSpeed"]);s.allowed("elements.move",{shapes:u})&&i.moveElements(u,p)}}}Fhe.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];const Bhe={__depends__:[xE,Al],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",Fhe]};function kw(n,t,i,s){this._dragging=s,this._rules=t;var o=this;n.on("resize.start",function(u){!function l(u){var p=u.minBounds;void 0===u.resizeConstraints&&(void 0===p&&(p=o.computeMinResizeBox(u)),u.resizeConstraints={min:tn(p)})}(u.context)}),n.on("resize.move",function(u){!function a(u,d){var m,p=u.shape,f=u.direction,h=u.resizeConstraints;u.delta=d,m=function Nst(n,t,i){var s=i.x,o=i.y,a={x:n.x,y:n.y,width:n.width,height:n.height};return-1!==t.indexOf("n")?(a.y=n.y+o,a.height=n.height-o):-1!==t.indexOf("s")&&(a.height=n.height+o),-1!==t.indexOf("e")?a.width=n.width+s:-1!==t.indexOf("w")&&(a.x=n.x+s,a.width=n.width-s),a}(p,f,d),u.newBounds=function Fst(n,t){if(!t)return n;var i=tn(n);return BS({top:p8("top",i,t),right:p8("right",i,t),bottom:p8("bottom",i,t),left:p8("left",i,t)})}(m,h),u.canExecute=o.canResize(u)}(u.context,{x:u.dx,y:u.dy})}),n.on("resize.end",function(u){!function c(u){var d=u.shape,f=u.newBounds;if(u.canExecute){if(!function Hct(n,t){return n.x!==t.x||n.y!==t.y||n.width!==t.width||n.height!==t.height}(d,f=joe(f)))return;i.resizeShape(d,f)}}(u.context)})}function Vhe(n,t){var i=cn(n),s=tn(n),o={x:i.x,y:i.y};return-1!==t.indexOf("n")?o.y=s.top:-1!==t.indexOf("s")&&(o.y=s.bottom),-1!==t.indexOf("e")?o.x=s.right:-1!==t.indexOf("w")&&(o.x=s.left),o}function Uct(n){var t="resize-";return"n"===n||"s"===n?t+"ns":"e"===n||"w"===n?t+"ew":"nw"===n||"se"===n?t+"nwse":t+"nesw"}kw.prototype.canResize=function(n){var t=this._rules,i=nc(n,["newBounds","shape","delta","direction"]);return t.allowed("shape.resize",i)},kw.prototype.activate=function(n,t,i){var o,a,s=this._dragging;if("string"==typeof i&&(i={direction:i}),!(a=(o=pe({shape:t},i)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");s.init(n,Vhe(t,a),"resize",{autoActivate:!0,cursor:Uct(a),data:{shape:t,context:o}})},kw.prototype.computeMinResizeBox=function(n){var t=n.shape;return function Bst(n,t,i,s){var o=tn(t),a={top:/n/.test(n)?o.bottom-i.height:o.top,left:/w/.test(n)?o.right-i.width:o.left,bottom:/s/.test(n)?o.top+i.height:o.bottom,right:/e/.test(n)?o.left+i.width:o.right},l=s?tn(s):a;return BS({top:d8(a.top,l.top),left:d8(a.left,l.left),bottom:u8(a.bottom,l.bottom),right:u8(a.right,l.right)})}(n.direction,t,n.minDimensions||{width:10,height:10},ope(t,n.childrenBoxPadding))},kw.$inject=["eventBus","rules","modeling","dragging"];var $he="djs-resizing",zhe="resize-not-ok";function Hhe(n,t,i){n.on("resize.move",500,function(a){!function s(a){var l=a.shape,c=a.newBounds,u=a.frame;u||(u=a.frame=i.addFrame(l,t.getActiveLayer()),t.addMarker(l,$he)),c.width>5&&Pt(u,{x:c.x,width:c.width}),c.height>5&&Pt(u,{y:c.y,height:c.height}),a.canExecute?mr(u).remove(zhe):mr(u).add(zhe)}(a.context)}),n.on("resize.cleanup",function(a){!function o(a){var l=a.shape;a.frame&&Ss(a.frame),t.removeMarker(l,$he)}(a.context)})}Hhe.$inject=["eventBus","canvas","previewSupport"];var Mw="djs-resizer",Wct=["n","w","s","e","nw","ne","se","sw"];function h0(n,t,i,s){this._resize=s,this._canvas=t;var o=this;n.on("selection.changed",function(a){var l=a.newSelection;o.removeResizers(),1===l.length&&se(l,Cs(o.addResizer,o))}),n.on("shape.changed",function(a){var l=a.element;i.isSelected(l)&&(o.removeResizers(),o.addResizer(l))})}h0.prototype.makeDraggable=function(n,t,i){var s=this._resize;function o(a){Vh(a)&&s.activate(a,n,i)}Xt.bind(t,"mousedown",o),Xt.bind(t,"touchstart",o)},h0.prototype._createResizer=function(n,t,i,s){var o=this._getResizersParent(),a=function Gct(n){var t={x:0,y:0};return-1!==n.indexOf("e")?t.x=6:-1!==n.indexOf("w")&&(t.x=-6),-1!==n.indexOf("s")?t.y=6:-1!==n.indexOf("n")&&(t.y=-6),t}(s),l=$t("g");mr(l).add(Mw),mr(l).add(Mw+"-"+n.id),mr(l).add(Mw+"-"+s),sn(o,l);var c=$t("rect");Pt(c,{x:-4+a.x,y:-4+a.y,width:8,height:8}),mr(c).add(Mw+"-visual"),sn(l,c);var u=$t("rect");return Pt(u,{x:-10+a.x,y:-10+a.y,width:20,height:20}),mr(u).add(Mw+"-hit"),sn(l,u),MS(l,t,i),l},h0.prototype.createResizer=function(n,t){var i=Vhe(n,t),s=this._createResizer(n,i.x,i.y,t);this.makeDraggable(n,s,t)},h0.prototype.addResizer=function(n){var t=this;ri(n)||!this._resize.canResize({shape:n})||se(Wct,function(i){t.createResizer(n,i)})},h0.prototype.removeResizers=function(){lg(this._getResizersParent())},h0.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},h0.$inject=["eventBus","canvas","selection","resize"];const NB={__depends__:[Zc,ff,rb],__init__:["resize","resizePreview","resizeHandles"],resize:["type",kw],resizePreview:["type",Hhe],resizeHandles:["type",h0]};function Aw(n,t,i,s,o,a,l){function c(u,d){(d||Kt(u,["bpmn:Task","bpmn:TextAnnotation","bpmn:Participant"])||LB(u))&&s.activate(u)}this._bpmnFactory=t,this._canvas=i,this._modeling=o,this._textRenderer=l,s.registerProvider(this),n.on("element.dblclick",function(u){c(u.element,!0)}),n.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],function(){s.isActive()&&s.complete()}),n.on(["shape.remove","connection.remove"],2e3,function(u){s.isActive(u.element)&&s.cancel()}),n.on(["commandStack.changed"],function(u){s.isActive()&&s.cancel()}),n.on("directEditing.activate",function(u){a.removeResizers()}),n.on("create.end",500,function(u){var d=u.context;u.isTouch||u.context.canExecute&&(d.hints&&!1===d.hints.createElementsBehavior||c(d.shape))}),n.on("autoPlace.end",500,function(u){c(u.shape)})}function LB(n){return T(n,"bpmn:SubProcess")&&!ar(n)}Aw.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],Aw.prototype.activate=function(n){var t=Ja(n);if(void 0!==t){var i={text:t};pe(i,this.getEditingBBox(n));var o={},a=i.style||{};return pe(a,{backgroundColor:null,border:null}),(Kt(n,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||LB(n))&&pe(o,{centerVertically:!0}),ag(n)&&(pe(o,{autoResize:!0}),pe(a,{backgroundColor:"#ffffff",border:"1px solid #ccc"})),T(n,"bpmn:TextAnnotation")&&(pe(o,{resizable:!0,autoResize:!0}),pe(a,{backgroundColor:"#ffffff",border:"1px solid #ccc"})),pe(i,{options:o,style:a}),i}},Aw.prototype.getEditingBBox=function(n){var t=this._canvas,i=n.label||n,s=t.getAbsoluteBBox(i),o_x=s.x+s.width/2,o_y=s.y+s.height/2,a={x:s.x,y:s.y},l=t.zoom(),c=this._textRenderer.getDefaultStyle(),u=this._textRenderer.getExternalStyle(),d=u.fontSize*l,p=u.lineHeight,f=c.fontSize*l,h=c.lineHeight,m={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};if(T(n,"bpmn:Lane")||function Zct(n){return T(n,"bpmn:Participant")&&ar(n)}(n)){var g=Xs(n);pe(a,g?{width:s.height,height:30*l,x:s.x-s.height/2+15*l,y:o_y-30*l/2}:{width:s.width,height:30*l}),pe(m,{fontSize:f+"px",lineHeight:h,paddingTop:7*l+"px",paddingBottom:7*l+"px",paddingLeft:5*l+"px",paddingRight:5*l+"px",transform:g?"rotate(-90deg)":null})}if(function Xct(n){return T(n,"bpmn:Participant")&&!ar(n)}(n)){var v=Xs(n);pe(a,v?{width:s.width,height:s.height}:{width:s.height,height:s.width,x:o_x-s.height/2,y:o_y-s.width/2}),pe(m,{fontSize:f+"px",lineHeight:h,paddingTop:7*l+"px",paddingBottom:7*l+"px",paddingLeft:5*l+"px",paddingRight:5*l+"px",transform:v?null:"rotate(-90deg)"})}(Kt(n,["bpmn:Task","bpmn:CallActivity"])||LB(n))&&(pe(a,{width:s.width,height:s.height}),pe(m,{fontSize:f+"px",lineHeight:h,paddingTop:7*l+"px",paddingBottom:7*l+"px",paddingLeft:5*l+"px",paddingRight:5*l+"px"})),function Yct(n){return T(n,"bpmn:SubProcess")&&ar(n)}(n)&&(pe(a,{width:s.width,x:s.x}),pe(m,{fontSize:f+"px",lineHeight:h,paddingTop:7*l+"px",paddingBottom:7*l+"px",paddingLeft:5*l+"px",paddingRight:5*l+"px"}));var E=90*l,x=7*l,b=4*l;if(i.labelTarget&&(pe(a,{width:E,height:s.height+x+b,x:o_x-E/2,y:s.y-x}),pe(m,{fontSize:d+"px",lineHeight:p,paddingTop:x+"px",paddingBottom:b+"px"})),ag(i)&&!CS(i)&&!hr(i)){var w=iN(n),C=t.getAbsoluteBBox({x:w.x,y:w.y,width:0,height:0}),P=d+x+b;pe(a,{width:E,height:P,x:C.x-E/2,y:C.y-P/2}),pe(m,{fontSize:d+"px",lineHeight:p,paddingTop:x+"px",paddingBottom:b+"px"})}return T(n,"bpmn:TextAnnotation")&&(pe(a,{width:s.width,height:s.height,minWidth:30*l,minHeight:10*l}),pe(m,{textAlign:"left",paddingTop:5*l+"px",paddingBottom:7*l+"px",paddingLeft:7*l+"px",paddingRight:5*l+"px",fontSize:f+"px",lineHeight:h})),{bounds:a,style:m}},Aw.prototype.update=function(n,t,i,s){var o,a;T(n,"bpmn:TextAnnotation")&&(a=this._canvas.getAbsoluteBBox(n),o={x:n.x,y:n.y,width:n.width/a.width*s.width,height:n.height/a.height*s.height}),function Qct(n){return!n||!n.trim()}(t)&&(t=null),this._modeling.updateLabel(n,t,o)};var Uhe="djs-element-hidden",qhe="djs-label-hidden";function Whe(n,t,i){var a,l,c,s=this,o=t.getDefaultLayer();n.on("directEditing.activate",function(u){var d=u.active;if(T(a=d.element.label||d.element,"bpmn:TextAnnotation")){l=t.getAbsoluteBBox(a),c=$t("g");var p=i.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:a.width,containerHeight:a.height,position:{mx:0,my:0}}),f=s.path=$t("path");Pt(f,{d:p,strokeWidth:2,stroke:Jct(a)}),sn(c,f),sn(o,c),Co(c,a.x,a.y)}T(a,"bpmn:TextAnnotation")||a.labelTarget?t.addMarker(a,Uhe):(T(a,"bpmn:Task")||T(a,"bpmn:CallActivity")||T(a,"bpmn:SubProcess")||T(a,"bpmn:Participant")||T(a,"bpmn:Lane"))&&t.addMarker(a,qhe)}),n.on("directEditing.resize",function(u){if(T(a,"bpmn:TextAnnotation")){var f=Math.max(a.height/l.height*(u.height+u.dy),0),h=i.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:a.width,containerHeight:f,position:{mx:0,my:0}});Pt(s.path,{d:h})}}),n.on(["directEditing.complete","directEditing.cancel"],function(u){var d=u.active;d&&(t.removeMarker(d.element.label||d.element,Uhe),t.removeMarker(a,qhe)),a=void 0,l=void 0,c&&(Ss(c),c=void 0)})}function Jct(n,t){return vr(n).get("stroke")||t||"black"}Whe.$inject=["eventBus","canvas","pathMap"];const eut={__depends__:[gE,NB,IB],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",Aw],labelEditingPreview:["type",Whe]};var tut=new Pv("tt");function FB(n,t){n.style.display=!1===t?"none":""}var Ghe="djs-tooltip",BB="."+Ghe;function rl(n,t){this._eventBus=n,this._canvas=t,this._ids=tut,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=function nut(n){var t=lr('<div class="djs-tooltip-container" />');return zo(t,{position:"absolute",width:"0",height:"0"}),n.insertBefore(t,n.firstChild),t}(t.getContainer());var i=this;Uo_bind(this._tooltipRoot,BB,"mousedown",function(s){s.stopPropagation()}),Uo_bind(this._tooltipRoot,BB,"mouseover",function(s){i.trigger("mouseover",s)}),Uo_bind(this._tooltipRoot,BB,"mouseout",function(s){i.trigger("mouseout",s)}),this._init()}rl.$inject=["eventBus","canvas"],rl.prototype.add=function(n){if(!n.position)throw new Error("must specifiy tooltip position");if(!n.html)throw new Error("must specifiy tooltip html");var t=this._ids.next();return n=pe({},this._tooltipDefaults,n,{id:t}),this._addTooltip(n),n.timeout&&this.setTimeout(n),t},rl.prototype.trigger=function(n,t){var s=this.get(fo(t.delegateTarget||t.target,"data-tooltip-id"));s&&("mouseover"===n&&s.timeout&&this.clearTimeout(s),"mouseout"===n&&s.timeout&&(s.timeout=1e3,this.setTimeout(s)))},rl.prototype.get=function(n){return"string"!=typeof n&&(n=n.id),this._tooltips[n]},rl.prototype.clearTimeout=function(n){if(n=this.get(n)){var t=n.removeTimer;t&&(clearTimeout(t),n.removeTimer=null)}},rl.prototype.setTimeout=function(n){if(n=this.get(n)){this.clearTimeout(n);var t=this;n.removeTimer=setTimeout(function(){t.remove(n)},n.timeout)}},rl.prototype.remove=function(n){var t=this.get(n);t&&(xo(t.html),xo(t.htmlContainer),delete t.htmlContainer,delete this._tooltips[t.id])},rl.prototype.show=function(){FB(this._tooltipRoot)},rl.prototype.hide=function(){FB(this._tooltipRoot,!1)},rl.prototype._updateRoot=function(n){var t=n.scale||1,i=n.scale||1,s="matrix("+t+",0,0,"+i+","+-1*n.x*t+","+-1*n.y*i+")";this._tooltipRoot.style.transform=s,this._tooltipRoot.style["-ms-transform"]=s},rl.prototype._addTooltip=function(n){var s,t=n.id,i=n.html,o=this._tooltipRoot;i.get&&i.constructor.prototype.jquery&&(i=i.get(0)),$n(i)&&(i=lr(i)),zo(s=lr('<div data-tooltip-id="'+t+'" class="'+Ghe+'">'),{position:"absolute"}),s.appendChild(i),n.type&&Nn(s).add("djs-tooltip-"+n.type),n.className&&Nn(s).add(n.className),n.htmlContainer=s,o.appendChild(s),this._tooltips[t]=n,this._updateTooltip(n)},rl.prototype._updateTooltip=function(n){var t=n.position;!function rut(n,t,i){zo(n,{left:t+"px",top:i+"px"})}(n.htmlContainer,t.x,t.y)},rl.prototype._updateTooltipVisibilty=function(n){se(this._tooltips,function(t){var i=t.show,o=!0;i&&((i.minZoom>n.scale||i.maxZoom<n.scale)&&(o=!1),FB(t.htmlContainer,o))})},rl.prototype._init=function(){var n=this;this._eventBus.on("canvas.viewbox.changing",function(i){n.hide()}),this._eventBus.on("canvas.viewbox.changed",function(i){!function t(i){n._updateRoot(i),n._updateTooltipVisibilty(i),n.show()}(i.viewbox)})};const iut={__init__:["tooltips"],tooltips:["type",rl]};function Khe(n,t,i){n.on(["shape.move.rejected","create.rejected"],function(o){var a=o.context,l=a.shape;T(a.target,"bpmn:Collaboration")&&T(l,"bpmn:FlowNode")&&function s(o,a,l){t.add({position:{x:o.x+5,y:o.y+5},type:"error",timeout:l||2e3,html:"<div>"+a+"</div>"})}(o,i("flow elements must be children of pools/participants"))})}Khe.$inject=["eventBus","tooltips","translate"];const out={__depends__:[iut],__init__:["modelingFeedback"],modelingFeedback:["type",Khe]};var rT=Math.round;function Yhe(n,t,i,s,o){function a(c,u,d,p){return o.allowed("elements.move",{shapes:c,delta:u,position:d,target:p})}function l(c,u,d,p){if(fr(d)&&(p=d,d=!1),!u.waypoints&&u.parent&&!mr(c.target).has("djs-hit-no-move")){var f=function uut(n){return{x:n.x+rT(n.width/2),y:n.y+rT(n.height/2)}}(u);return t.init(c,f,"shape.move",{cursor:"grabbing",autoActivate:d,data:{shape:u,context:p||{}}}),!0}}n.on("shape.move.start",1500,function(c){var u=c.context,d=c.shape,p=s.get().slice();-1===p.indexOf(d)&&(p=[d]),p=function dut(n){var t=Fu(n,"id");return hn(n,function(i){for(;i=i.parent;)if(t[i.id])return!1;return!0})}(p),pe(u,{shapes:p,validatedShapes:p,shape:d})}),n.on("shape.move.start",1250,function(c){var u=c.context;if(!(u.canExecute=a(u.validatedShapes)))return!1}),n.on("shape.move.move",500,function(c){var m,u=c.context,p=c.hover,f={x:c.dx,y:c.dy};m=a(u.validatedShapes,f,{x:c.x,y:c.y},p),u.delta=f,u.canExecute=m,u.target=null!==m?p:null}),n.on("shape.move.end",function(c){var u=c.context,d=u.delta,p=u.canExecute,f="attach"===p,h=u.shapes;if(!1===p)return!1;d.x=rT(d.x),d.y=rT(d.y),(0!==d.x||0!==d.y)&&i.moveElements(h,d,u.target,{primaryShape:u.shape,attach:f})}),n.on("element.mousedown",function(c){if(Vh(c)){var u=kv(c);if(!u)throw new Error("must supply DOM mousedown event");return l(u,c.element)}}),this.start=l}Yhe.$inject=["eventBus","dragging","modeling","selection","rules"];var jB="djs-dragging",Zhe="drop-ok",Qhe="drop-not-ok",Jhe="new-parent",e0e="attach-ok";function t0e(n,t,i,s){function a(u){var d=hE(u,!0),p=d.flatMap(m=>(m.incoming||[]).concat(m.outgoing||[])),f=d.concat(p);return[...new Set(f)]}function l(u,d){[e0e,Zhe,Qhe,Jhe].forEach(function(p){p===d?t.addMarker(u,p):t.removeMarker(u,p)})}n.on("shape.move.start",499,function(u){var d=u.context,p=d.shapes,f=d.allDraggedElements,h=function o(u){var p=function put(n){var t=hn(n,function(i){return!ri(i)||It(n,Bu({id:i.source.id}))&&It(n,Bu({id:i.target.id}))});return t}(a(u));return p}(p);if(!d.dragGroup){var m=$t("g");Pt(m,i.cls("djs-drag-group",["no-events"])),sn(t.getActiveLayer(),m),d.dragGroup=m}h.forEach(function(y){s.addDragger(y,d.dragGroup)}),se(f=f?rE([f,a(p)]):a(p),function(y){t.addMarker(y,jB)}),d.allDraggedElements=f,d.differentParents=function fut(n){return 1!==function tGe(n){return Dl(n).length}(Fu(n,function(t){return t.parent&&t.parent.id}))}(p)}),n.on("shape.move.move",499,function(u){var d=u.context,p=d.dragGroup,f=d.target,h=d.shape.parent;f&&l(f,"attach"===d.canExecute?e0e:d.canExecute&&h&&f.id!==h.id?Jhe:d.canExecute?Zhe:Qhe),Co(p,u.dx,u.dy)}),n.on(["shape.move.out","shape.move.cleanup"],function(u){var p=u.context.target;p&&l(p,null)}),n.on("shape.move.cleanup",function(u){var d=u.context,f=d.dragGroup;se(d.allDraggedElements,function(h){t.removeMarker(h,jB)}),f&&Ss(f)}),this.makeDraggable=function c(u,d,p){s.addDragger(d,u.dragGroup),p&&t.addMarker(d,jB),u.allDraggedElements?u.allDraggedElements.push(d):u.allDraggedElements=[d]}}t0e.$inject=["eventBus","canvas","styles","previewSupport"];const n0e={__depends__:[GS,Al,HS,Zc,ff,rb],__init__:["move","movePreview"],move:["type",Yhe],movePreview:["type",t0e]};var r0e=".djs-palette-toggle",hut=r0e+", .entry",VB="djs-palette-",$B="open",s0e="two-column";function Ms(n,t){this._eventBus=n,this._canvas=t;var i=this;n.on("tool-manager.update",function(s){i.updateToolHighlight(s.tool)}),n.on("i18n.changed",function(){i._update()}),n.on("diagram.init",function(){i._diagramInitialized=!0,i._rebuild()})}function vut(n,t){var i=t.getPaletteEntries();return Gn(i)?i(n):(se(i,function(s,o){n[o]=s}),n)}Ms.$inject=["eventBus","canvas"],Ms.prototype.registerProvider=function(n,t){t||(t=n,n=1e3),this._eventBus.on("palette.getProviders",n,function(i){i.providers.push(t)}),this._rebuild()},Ms.prototype.getEntries=function(){return this._getProviders().reduce(vut,{})},Ms.prototype._rebuild=function(){this._diagramInitialized&&this._getProviders().length&&(this._container||this._init(),this._update())},Ms.prototype._init=function(){var n=this,t=this._eventBus,i=this._getParentContainer(),s=this._container=lr(Ms.HTML_MARKUP);i.appendChild(s),Nn(i).add(VB+"shown"),Uo_bind(s,hut,"click",function(o){if(Sv(o.delegateTarget,r0e))return n.toggle();n.trigger("click",o)}),Xt.bind(s,"mousedown",function(o){o.stopPropagation()}),Uo_bind(s,".entry","dragstart",function(o){n.trigger("dragstart",o)}),t.on("canvas.resized",this._layoutChanged,this),t.fire("palette.create",{container:s})},Ms.prototype._getProviders=function(n){var t=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(t),t.providers},Ms.prototype._toggleState=function(n){n=n||{};var o,t=this._getParentContainer(),s=this._eventBus,a=Nn(this._container),l=Nn(t);o="twoColumn"in n?n.twoColumn:this._needsCollapse(t.clientHeight,this._entries||{}),a.toggle(s0e,o),l.toggle(VB+s0e,o),"open"in n&&(a.toggle($B,n.open),l.toggle(VB+$B,n.open)),s.fire("palette.changed",{twoColumn:o,open:this.isOpen()})},Ms.prototype._update=function(){var n=dn(".djs-palette-entries",this._container),t=this._entries=this.getEntries();TS(n),se(t,function(i,s){var o=i.group||"default",a=dn("[data-group="+pg(o)+"]",n);a||(fo(a=lr('<div class="group"></div>'),"data-group",o),n.appendChild(a));var c=lr(i.html||(i.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'));if(a.appendChild(c),!i.separator&&(fo(c,"data-action",s),i.title&&fo(c,"title",i.title),i.className&&function yut(n,t){var i=Nn(n);(Vt(t)?t:t.split(/\s+/g)).forEach(function(o){i.add(o)})}(c,i.className),i.imageUrl)){var u=lr("<img>");fo(u,"src",i.imageUrl),c.appendChild(u)}}),this.open()},Ms.prototype.trigger=function(n,t,i){var s,a=t.delegateTarget||t.target;return a?(s=fo(a,"data-action"),this.triggerEntry(s,n,t.originalEvent||t,i)):t.preventDefault()},Ms.prototype.triggerEntry=function(n,t,i,s){var a,l;if((a=this._entries[n])&&(l=a.action,!1!==this._eventBus.fire("palette.trigger",{entry:a,event:i}))){if(Gn(l)){if("click"===t)return l(i,s)}else if(l[t])return l[t](i,s);i.preventDefault()}},Ms.prototype._layoutChanged=function(){this._toggleState({})},Ms.prototype._needsCollapse=function(n,t){return n<46*Object.keys(t).length+50},Ms.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},Ms.prototype.open=function(){this._toggleState({open:!0})},Ms.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Ms.prototype.isActiveTool=function(n){return n&&this._activeTool===n},Ms.prototype.updateToolHighlight=function(n){var t;this._toolsContainer||(t=dn(".djs-palette-entries",this._container),this._toolsContainer=dn("[data-group=tools]",t)),se(this._toolsContainer.children,function(s){var o=s.getAttribute("data-action");if(o){var a=Nn(s);o=o.replace("-tool",""),a.contains("entry")&&o===n?a.add("highlighted-entry"):a.remove("highlighted-entry")}})},Ms.prototype.isOpen=function(){return Nn(this._container).has($B)},Ms.prototype._getParentContainer=function(){return this._canvas.getContainer()},Ms.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';const o0e={__init__:["palette"],palette:["type",Ms]};function zg(n,t,i,s,o,a,l){this._selection=o,this._dragging=i,this._mouse=l;var c=this;a.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),n.on("lasso.selection.end",function(d){!d.hover&&!(d.originalEvent.target instanceof SVGElement)||n.once("lasso.selection.ended",function(){c.activateLasso(d.originalEvent,!0)})}),n.on("lasso.end",0,function(d){var p=d.context,f=zB(d),h=s.filter(function(g){return g}),m=qS(d);c.select(h,f,m?p.selection:[])}),n.on("lasso.start",function(d){var p=d.context;p.bbox=zB(d),function(d){var f,p=t.getActiveLayer();Pt(f=d.frame=$t("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),sn(p,f)}(p),p.selection=o.get()}),n.on("lasso.move",function(d){var p=d.context;p.bbox=zB(d),function(d){var f=d.bbox;Pt(d.frame,{x:f.x,y:f.y,width:f.width,height:f.height})}(p)}),n.on("lasso.cleanup",function(d){!function(d){d.frame&&Ss(d.frame)}(d.context)}),n.on("element.mousedown",1500,function(d){if(qS(d))return c.activateLasso(d.originalEvent),!0})}function zB(n){var t={x:n.x-n.dx,y:n.y-n.dy},i={x:n.x,y:n.y};return t.x<=i.x&&t.y<i.y||t.x<i.x&&t.y<=i.y?{x:t.x,y:t.y,width:i.x-t.x,height:i.y-t.y}:t.x>=i.x&&t.y<i.y||t.x>i.x&&t.y<=i.y?{x:i.x,y:t.y,width:t.x-i.x,height:i.y-t.y}:t.x<=i.x&&t.y>i.y||t.x<i.x&&t.y>=i.y?{x:t.x,y:i.y,width:i.x-t.x,height:t.y-i.y}:t.x>=i.x&&t.y>i.y||t.x>i.x&&t.y>=i.y?{x:i.x,y:i.y,width:t.x-i.x,height:t.y-i.y}:{x:i.x,y:i.y,width:0,height:0}}zg.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],zg.prototype.activateLasso=function(n,t){this._dragging.init(n,"lasso",{autoActivate:t,cursor:"crosshair",data:{context:{}}})},zg.prototype.activateSelection=function(n,t){this._dragging.init(n,"lasso.selection",{trapClick:!1,autoActivate:t,cursor:"crosshair",data:{context:{}},keepSelection:!0})},zg.prototype.select=function(n,t,i=[]){var s=function ZKe(n,t){var i={};return se(n,function(s){var o=s;o.waypoints&&(o=Qs(o)),!un(t.y)&&o.x>t.x&&(i[s.id]=s),!un(t.x)&&o.y>t.y&&(i[s.id]=s),o.x>t.x&&o.y>t.y&&(un(t.width)&&un(t.height)&&o.width+o.x<t.width+t.x&&o.height+o.y<t.height+t.y||!un(t.width)||!un(t.height))&&(i[s.id]=s)}),i}(n,t);this._selection.select([...i,...wv(s)])},zg.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var n=this._mouse.getLastMoveEvent();this.activateSelection(n,!!n)},zg.prototype.isActive=function(){var n=this._dragging.context();return n&&/^lasso/.test(n.prefix)};const l0e={__depends__:[P8,lw],__init__:["lassoTool"],lassoTool:["type",zg]};function fb(n,t,i,s,o,a){this._dragging=i,this._mouse=a;var l=this,c=s.get("keyboard",!1);o.registerTool("hand",{tool:"hand",dragging:"hand.move"}),n.on("element.mousedown",1500,function(u){if(Mv(u))return l.activateMove(u.originalEvent,!0),!1}),c&&c.addListener(1500,function(u){if(u0e(u.keyEvent)&&!l.isActive()){var d=l._mouse.getLastMoveEvent();l.activateMove(d,!!d)}},"keyboard.keydown"),c&&c.addListener(1500,function(u){!u0e(u.keyEvent)||!l.isActive()||l.toggle()},"keyboard.keyup"),n.on("hand.end",function(u){if(!(u.hover||u.originalEvent.target instanceof SVGElement))return!1;n.once("hand.ended",function(){l.activateMove(u.originalEvent,{reactivate:!0})})}),n.on("hand.move.move",function(u){var d=t.viewbox().scale;t.scroll({dx:u.dx*d,dy:u.dy*d})}),n.on("hand.move.end",function(u){var p=u.context.reactivate;return!Mv(u)&&p&&n.once("hand.move.ended",function(f){l.activateHand(f.originalEvent,!0,!0)}),!1})}function u0e(n){return Js("Space",n)}fb.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],fb.prototype.activateMove=function(n,t,i){"object"==typeof t&&(i=t,t=!1),this._dragging.init(n,"hand.move",{autoActivate:t,cursor:"grab",data:{context:i||{}}})},fb.prototype.activateHand=function(n,t,i){this._dragging.init(n,"hand",{trapClick:!1,autoActivate:t,cursor:"grab",data:{context:{reactivate:i}}})},fb.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var n=this._mouse.getLastMoveEvent();this.activateHand(n,!!n)},fb.prototype.isActive=function(){var n=this._dragging.context();return!!n&&/^(hand|hand\.move)$/.test(n.prefix)};const d0e={__depends__:[P8,lw],__init__:["handTool"],handTool:["type",fb]};var p0e="connect-ok",f0e="connect-not-ok";function hb(n,t,i,s,o,a,l){var c=this;this._dragging=t,this._rules=a,this._mouse=l,o.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),n.on("global-connect.hover",function(u){var d=u.context,p=u.hover,f=d.canStartConnect=c.canStartConnect(p);null!==f&&(d.startTarget=p,s.addMarker(p,f?p0e:f0e))}),n.on(["global-connect.out","global-connect.cleanup"],function(u){var d=u.context.startTarget;d&&s.removeMarker(d,u.context.canStartConnect?p0e:f0e)}),n.on(["global-connect.ended"],function(u){var p=u.context.startTarget,f={x:u.x,y:u.y};if(c.canStartConnect(p))return n.once("element.out",function(){n.once(["connect.ended","connect.canceled"],function(){n.fire("global-connect.drag.ended")}),i.start(null,p,f)}),!1})}hb.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"],hb.prototype.start=function(n,t){this._dragging.init(n,"global-connect",{autoActivate:t,trapClick:!1,data:{context:{}}})},hb.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var n=this._mouse.getLastMoveEvent();return this.start(n,!!n)},hb.prototype.isActive=function(){var n=this._dragging.context();return n&&/^global-connect/.test(n.prefix)},hb.prototype.canStartConnect=function(n){return this._rules.allowed("connection.start",{source:n})};const but={__depends__:[r8,Zc,ff,P8,lw],globalConnect:["type",hb]};function UB(n,t,i,s,o,a,l,c){this._palette=n,this._create=t,this._elementFactory=i,this._spaceTool=s,this._lassoTool=o,this._handTool=a,this._globalConnect=l,this._translate=c,n.registerProvider(this)}UB.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],UB.prototype.getPaletteEntries=function(){var n={},t=this._create,i=this._elementFactory,s=this._spaceTool,o=this._lassoTool,a=this._handTool,l=this._globalConnect,c=this._translate;function u(f,h,m,g,y){function v(_){var E=i.createShape(pe({type:f},y));t.start(_,E)}return{group:h,className:m,title:g,action:{dragstart:v,click:v}}}function d(f){var h=i.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),m=i.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:h});t.start(f,[h,m],{hints:{autoSelect:[h]}})}function p(f){t.start(f,i.createParticipantShape())}return pe(n,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:c("Activate hand tool"),action:{click:function(f){a.activateHand(f)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:c("Activate lasso tool"),action:{click:function(f){o.activateSelection(f)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:c("Activate create/remove space tool"),action:{click:function(f){s.activateSelection(f)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:c("Activate global connect tool"),action:{click:function(f){l.start(f)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":u("bpmn:StartEvent","event","bpmn-icon-start-event-none",c("Create start event")),"create.intermediate-event":u("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",c("Create intermediate/boundary event")),"create.end-event":u("bpmn:EndEvent","event","bpmn-icon-end-event-none",c("Create end event")),"create.exclusive-gateway":u("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",c("Create gateway")),"create.task":u("bpmn:Task","activity","bpmn-icon-task",c("Create task")),"create.data-object":u("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",c("Create data object reference")),"create.data-store":u("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",c("Create data store reference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:c("Create expanded sub-process"),action:{dragstart:d,click:d}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:c("Create pool/participant"),action:{dragstart:p,click:p}},"create.group":u("bpmn:Group","artifact","bpmn-icon-group",c("Create group"))}),n};const _ut={__depends__:[o0e,ub,kfe,l0e,d0e,but,So],__init__:["paletteProvider"],paletteProvider:["type",UB]};function qB(n,t,i,s,o){Qe.call(this,n),n.on("shape.move.move",250,function(c){var u=c.context,d=u.canExecute;u.visualReplacements||(u.visualReplacements={}),d&&d.replacements?function a(c){se(c.canExecute.replacements,function(d){var p=d.oldElementId,f={type:d.newElementType};if(!c.visualReplacements[p]){var h=t.get(p);pe(f,{x:h.x,y:h.y});var m=i.createShape(f);s.addShape(m,h.parent);var g=dn('[data-element-id="'+pg(h.id)+'"]',c.dragGroup);g&&Pt(g,{display:"none"});var y=o.addDragger(m,c.dragGroup);c.visualReplacements[p]=y,s.removeShape(m)}})}(u):function l(c){var u=c.visualReplacements;se(u,function(d,p){var f=dn('[data-element-id="'+pg(p)+'"]',c.dragGroup);f&&Pt(f,{display:"inline"}),d.remove(),u[p]&&delete u[p]})}(u)})}qB.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],Lt(qB,Qe);const wut={__depends__:[rb],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",qB]};var m0e=["x","y"],Out=Math.abs;function g0e(n){n.on(["connect.hover","connect.move","connect.end"],1250,function(t){var i=t.context,s=i.canExecute,o=i.start,a=i.hover,l=i.source,c=i.target;t.originalEvent&&ac(t.originalEvent)||(i.initialConnectionStart||(i.initialConnectionStart=i.connectionStart),s&&a&&function Tut(n,t,i){m0e.forEach(function(s){var o=b0e(s,t);n[s]<t[s]+i?ks(n,s,t[s]+i):n[s]>t[s]+o-i&&ks(n,s,t[s]+o-i)})}(t,a,function Mut(n){return T(n,"bpmn:Task")?10:20}(a)),a&&function kut(n,t){return qc(t,function(i){return v0e(n,i)})}(s,["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"])?(i.connectionStart=Qc(o),Kt(a,["bpmn:Event","bpmn:Gateway"])&&y0e(t,Qc(a)),Kt(a,["bpmn:Task","bpmn:SubProcess"])&&function Put(n,t){var i=Qc(t);m0e.forEach(function(s){(function Aut(n,t,i){return n[i]>t[i]+20&&n[i]<t[i]+b0e(i,t)-20})(n,t,s)&&ks(n,s,i[s])})}(t,a),T(l,"bpmn:BoundaryEvent")&&c===l.host&&function Dut(n){var t=n.context,i=t.source,s=t.target;if(!function Iut(n){var t=n.hover,i=n.source;return t&&i&&t===i}(t)){var o=Qc(i),a=ji(o,s,-10),l=[];/top|bottom/.test(a)&&l.push("x"),/left|right/.test(a)&&l.push("y"),l.forEach(function(c){var u=n[c];Out(u-o[c])<40&&ks(n,c,u>o[c]?o[c]+40:o[c]-40)})}}(t)):v0e(s,"bpmn:MessageFlow")?(T(o,"bpmn:Event")&&(i.connectionStart=Qc(o)),T(a,"bpmn:Event")&&y0e(t,Qc(a))):i.connectionStart=i.initialConnectionStart)})}function y0e(n,t){ks(n,"x",t.x),ks(n,"y",t.y)}function v0e(n,t){return n&&n.type===t}function b0e(n,t){return"x"===n?t.width:t.height}function m0(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function iT(){this._snapValues={}}function Wd(n,t,i){var s=this;this._elementRegistry=n,t.on(["create.start","shape.move.start"],function(o){s.initSnap(o)}),t.on(["create.move","create.end","shape.move.move","shape.move.end"],1250,function(o){var a=o.context,l=a.shape,c=a.snapContext,u=a.target;if((!o.originalEvent||!ac(o.originalEvent))&&!nb(o)&&u){var d=c.pointsForTarget(u);d.initialized||((d=s.addSnapTargetPoints(d,l,u)).initialized=!0),i.snap(o,d)}}),t.on(["create.cleanup","shape.move.cleanup"],function(){i.hide()})}function mb(n,t){t.invoke(Wd,this),n.on(["create.move","create.end"],1500,jut),n.on(["create.move","create.end","shape.move.move","shape.move.end"],1500,function(i){var s=i.context,o=s.canExecute,a=s.target;o&&("attach"===o||o.attach)&&!nb(i)&&function Lut(n,t){var l,i=tn(t),s=zpe(n,t),a=n.context.shape;l=a.parent?{x:0,y:0}:cn(a),/top/.test(s)?ks(n,"y",i.top-l.y):/bottom/.test(s)&&ks(n,"y",i.bottom-l.y),/left/.test(s)?ks(n,"x",i.left-l.x):/right/.test(s)&&ks(n,"x",i.right-l.x)}(i,a)})}function jut(n){var i=n.context.createConstraints;if(i){var s=i.top,o=i.right,a=i.bottom,l=i.left;(l&&l>=n.x||o&&o<=n.x)&&ks(n,"x",n.x),(s&&s>=n.y||a&&a<=n.y)&&ks(n,"y",n.y)}}function E0e(n,t){return-1!==n.indexOf(t)}function w0e(n,t,i){return t?{x:n.x-i.x,y:n.y-i.y}:{x:n.x,y:n.y}}function Iw(n,t){var i=this;n.on(["resize.start"],function(s){i.initSnap(s)}),n.on(["resize.move","resize.end"],1250,function(s){var o=s.context,a=o.shape,l=a.parent,c=o.direction,u=o.snapContext;if(!(s.originalEvent&&ac(s.originalEvent)||nb(s))){var d=u.pointsForTarget(l);d.initialized||((d=i.addSnapTargetPoints(d,a,l,c)).initialized=!0),function Hut(n){return"n"===n||"s"===n}(c)&&ks(s,"x",s.x),function Uut(n){return"e"===n||"w"===n}(c)&&ks(s,"y",s.y),t.snap(s,d)}}),n.on(["resize.cleanup"],function(){t.hide()})}function x0e(n,t){var i=cn(n),s=tn(n),o={x:i.x,y:i.y};return-1!==t.indexOf("n")?o.y=s.top:-1!==t.indexOf("s")&&(o.y=s.bottom),-1!==t.indexOf("e")?o.x=s.right:-1!==t.indexOf("w")&&(o.x=s.left),o}function g0(n){this._canvas=n,this._asyncHide=xv(Cs(this.hide,this),1e3)}g0e.$inject=["eventBus"],m0.prototype.getSnapOrigin=function(n){return this._snapOrigins[n]},m0.prototype.setSnapOrigin=function(n,t){this._snapOrigins[n]=t,-1===this._snapLocations.indexOf(n)&&this._snapLocations.push(n)},m0.prototype.addDefaultSnap=function(n,t){var i=this._defaultSnaps[n];i||(i=this._defaultSnaps[n]=[]),i.push(t)},m0.prototype.getSnapLocations=function(){return this._snapLocations},m0.prototype.setSnapLocations=function(n){this._snapLocations=n},m0.prototype.pointsForTarget=function(n){var t=n.id||n,i=this._targets[t];return i||(i=this._targets[t]=new iT).initDefaults(this._defaultSnaps),i},iT.prototype.add=function(n,t){var i=this._snapValues[n];i||(i=this._snapValues[n]={x:[],y:[]}),-1===i.x.indexOf(t.x)&&i.x.push(t.x),-1===i.y.indexOf(t.y)&&i.y.push(t.y)},iT.prototype.snap=function(n,t,i,s){var o=this._snapValues[t];return o&&function ast(n,t,i){var s,o;for(i=void 0===i?10:i,s=0;s<t.length;s++)if(ost((o=t[s])-n)<=i)return o}(n[i],o[i],s)},iT.prototype.initDefaults=function(n){var t=this;se(n||{},function(i,s){se(i,function(o){t.add(s,o)})})},Wd.$inject=["elementRegistry","eventBus","snapping"],Wd.prototype.initSnap=function(n){var a,t=this._elementRegistry,i=n.context,s=i.shape,o=i.snapContext;o||(o=i.snapContext=new m0);var l_x=(a=t.get(s.id)?Qc(s,n):{x:n.x+Qc(s).x,y:n.y+Qc(s).y}).x-s.width/2,l_y=a.y-s.height/2,c_x=a.x+s.width/2,c_y=a.y+s.height/2;return o.setSnapOrigin("mid",{x:a.x-n.x,y:a.y-n.y}),hr(s)||(o.setSnapOrigin("top-left",{x:l_x-n.x,y:l_y-n.y}),o.setSnapOrigin("bottom-right",{x:c_x-n.x,y:c_y-n.y})),o},Wd.prototype.addSnapTargetPoints=function(n,t,i){return se(this.getSnapTargets(t,i),function(o){if(hr(o))hr(t)&&n.add("mid",Qc(o));else if(ri(o)){if(o.waypoints.length<3)return;se(o.waypoints.slice(1,-1),function(l){n.add("mid",l)})}else n.add("mid",Qc(o))}),!un(t.x)||!un(t.y)||this._elementRegistry.get(t.id)&&n.add("mid",Qc(t)),n},Wd.prototype.getSnapTargets=function(n,t){return Ude(t).filter(function(i){return!function Nut(n){return!!n.hidden}(i)})},Lt(mb,Wd),mb.$inject=["eventBus","injector"],mb.prototype.initSnap=function(n){var t=Wd.prototype.initSnap.call(this,n),i=n.shape,s=!!this._elementRegistry.get(i.id);return se(i.outgoing,function(o){var a=o.waypoints[0];t.setSnapOrigin(o.id+"-docking",w0e(a=a.original||a,s,n))}),se(i.incoming,function(o){var a=o.waypoints[o.waypoints.length-1];t.setSnapOrigin(o.id+"-docking",w0e(a=a.original||a,s,n))}),T(i,"bpmn:Participant")&&t.setSnapLocations(["top-left","bottom-right","mid"]),t},mb.prototype.addSnapTargetPoints=function(n,t,i){Wd.prototype.addSnapTargetPoints.call(this,n,t,i);var s=this.getSnapTargets(t,i);se(s,function(a){(function But(n){return!(!T(n,"bpmn:SubProcess")||!ar(n))||T(n,"bpmn:Participant")}(a)||function Fut(n,t){return n.every(function(i){return T(i,t)})}([t,a],"bpmn:TextAnnotation"))&&(n.add("top-left",zde(a)),n.add("bottom-right",Hde(a)))});var o=this._elementRegistry;return se(t.incoming,function(a){if(o.get(t.id)){E0e(s,a.source)||n.add("mid",cn(a.source));var l=a.waypoints[0];n.add(a.id+"-docking",l.original||l)}}),se(t.outgoing,function(a){if(o.get(t.id)){E0e(s,a.target)||n.add("mid",cn(a.target));var l=a.waypoints[a.waypoints.length-1];n.add(a.id+"-docking",l.original||l)}}),T(i,"bpmn:SequenceFlow")&&(n=this.addSnapTargetPoints(n,t,i.parent)),n},mb.prototype.getSnapTargets=function(n,t){return Wd.prototype.getSnapTargets.call(this,n,t).filter(function(i){return!T(i,"bpmn:Lane")})},Iw.prototype.initSnap=function(n){var t=n.context,i=t.shape,s=t.direction,o=t.snapContext;o||(o=t.snapContext=new m0);var a=x0e(i,s);return o.setSnapOrigin("corner",{x:a.x-n.x,y:a.y-n.y}),o},Iw.prototype.addSnapTargetPoints=function(n,t,i,s){return se(this.getSnapTargets(t,i),function(a){n.add("corner",Hde(a)),n.add("corner",zde(a))}),n.add("corner",x0e(t,s)),n},Iw.$inject=["eventBus","snapping"],Iw.prototype.getSnapTargets=function(n,t){return Ude(t).filter(function(i){return!(function $ut(n,t){return n.host===t}(i,n)||ri(i)||function zut(n){return!!n.hidden}(i)||hr(i))})},g0.$inject=["canvas"],g0.prototype.snap=function(n,t){var s=n.context.snapContext,o=s.getSnapLocations(),a={x:nb(n,"x"),y:nb(n,"y")};se(o,function(l){var c=s.getSnapOrigin(l),u={x:n.x+c.x,y:n.y+c.y};if(se(["x","y"],function(d){var p;a[d]||void 0!==(p=t.snap(u,l,d,7))&&(a[d]={value:p,originValue:p-c[d]})}),a.x&&a.y)return!1}),this.showSnapLine("vertical",a.x&&a.x.value),this.showSnapLine("horizontal",a.y&&a.y.value),se(["x","y"],function(l){var c=a[l];fr(c)&&ks(n,l,c.originValue)})},g0.prototype._createLine=function(n){var t=this._canvas.getLayer("snap"),i=$t("path");return Pt(i,{d:"M0,0 L0,0"}),mr(i).add("djs-snap-line"),sn(t,i),{update:function(s){un(s)?Pt(i,"horizontal"===n?{d:"M-100000,"+s+" L+100000,"+s,display:""}:{d:"M "+s+",-100000 L "+s+", +100000",display:""}):Pt(i,{display:"none"})}}},g0.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},g0.prototype.showSnapLine=function(n,t){var i=this.getSnapLine(n);i&&i.update(t),this._asyncHide()},g0.prototype.getSnapLine=function(n){return this._snapLines||this._createSnapLines(),this._snapLines[n]},g0.prototype.hide=function(){se(this._snapLines,function(n){n.update()})};const C0e={__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",Wd],resizeSnapping:["type",Iw],snapping:["type",g0]},Gut={__depends__:[C0e],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",g0e],createMoveSnapping:["type",mb]};function Bn(n,t,i,s){this._open=!1,this._results={},this._eventMaps=[],this._cachedRootElement=null,this._cachedSelection=null,this._cachedViewbox=null,this._canvas=n,this._eventBus=t,this._selection=i,this._translate=s,this._container=this._getBoxHtml(),this._searchInput=dn(Bn.INPUT_SELECTOR,this._container),this._resultsContainer=dn(Bn.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),t.on(["canvas.destroy","diagram.destroy","drag.init","elements.changed"],this.close,this)}function O0e(n,t,i){var s=function Kut(n){var t="";return n.forEach(function(i){t+=i.matched?'<b class="'+Bn.RESULT_HIGHLIGHT_CLASS+'">'+CN(i.matched)+"</b>":CN(i.normal)}),""!==t?t:null}(t),o=lr(i);o.innerHTML=s,n.appendChild(o)}Bn.$inject=["canvas","eventBus","selection","translate"],Bn.prototype._bindEvents=function(){var n=this;function t(i,s,o,a){n._eventMaps.push({el:i,type:o,listener:Uo_bind(i,s,o,a)})}t(document,"html","click",function(i){n.close(!1)}),t(this._container,Bn.INPUT_SELECTOR,"click",function(i){i.stopPropagation(),i.delegateTarget.focus()}),t(this._container,Bn.RESULT_SELECTOR,"mouseover",function(i){i.stopPropagation(),n._scrollToNode(i.delegateTarget),n._preselect(i.delegateTarget)}),t(this._container,Bn.RESULT_SELECTOR,"click",function(i){i.stopPropagation(),n._select(i.delegateTarget)}),t(this._container,Bn.INPUT_SELECTOR,"keydown",function(i){Js("ArrowUp",i)&&i.preventDefault(),Js("ArrowDown",i)&&i.preventDefault()}),t(this._container,Bn.INPUT_SELECTOR,"keyup",function(i){if(Js("Escape",i))return n.close();if(Js("Enter",i)){var s=n._getCurrentResult();return s?n._select(s):n.close(!1)}return Js("ArrowUp",i)?n._scrollToDirection(!0):Js("ArrowDown",i)?n._scrollToDirection():void(Js(["ArrowLeft","ArrowRight"],i)||n._search(i.delegateTarget.value))})},Bn.prototype._unbindEvents=function(){this._eventMaps.forEach(function(n){Uo_unbind(n.el,n.type,n.listener)})},Bn.prototype._search=function(n){var t=this;if(this._clearResults(),n&&""!==n){var i=this._searchProvider.find(n);if(!(i=i.filter(function(o){return!t._canvas.getRootElements().includes(o.element)})).length)return this._clearMarkers(),void this._selection.select(null);i.forEach(function(o){var a=o.element.id,l=t._createResultNode(o,a);t._results[a]={element:o.element,node:l}});var s=dn(Bn.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(s),this._preselect(s)}},Bn.prototype._scrollToDirection=function(n){var t=this._getCurrentResult();if(t){var i=n?t.previousElementSibling:t.nextElementSibling;i&&(this._scrollToNode(i),this._preselect(i))}},Bn.prototype._scrollToNode=function(n){if(n&&n!==this._getCurrentResult()){var t=n.offsetTop,i=this._resultsContainer.scrollTop,s=t-this._resultsContainer.clientHeight+n.clientHeight;t<i?this._resultsContainer.scrollTop=t:i<s&&(this._resultsContainer.scrollTop=s)}},Bn.prototype._clearResults=function(){TS(this._resultsContainer),this._results={},this._eventBus.fire("searchPad.cleared")},Bn.prototype._clearMarkers=function(){for(var n in this._results)this._canvas.removeMarker(this._results[n].element,"djs-search-preselected")},Bn.prototype._getCurrentResult=function(){return dn(Bn.RESULT_SELECTED_SELECTOR,this._resultsContainer)},Bn.prototype._createResultNode=function(n,t){var i=lr(Bn.RESULT_HTML);return n.primaryTokens.length>0&&O0e(i,n.primaryTokens,Bn.RESULT_PRIMARY_HTML),O0e(i,n.secondaryTokens,Bn.RESULT_SECONDARY_HTML),fo(i,Bn.RESULT_ID_ATTRIBUTE,t),this._resultsContainer.appendChild(i),i},Bn.prototype.registerProvider=function(n){this._searchProvider=n},Bn.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._cachedRootElement=this._canvas.getRootElement(),this._cachedSelection=this._selection.get(),this._cachedViewbox=this._canvas.viewbox(),this._bindEvents(),this._open=!0,Nn(this._canvas.getContainer()).add("djs-search-open"),Nn(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},Bn.prototype.close=function(n=!0){this.isOpen()&&(n&&(this._cachedRootElement&&this._canvas.setRootElement(this._cachedRootElement),this._cachedSelection&&this._selection.select(this._cachedSelection),this._cachedViewbox&&this._canvas.viewbox(this._cachedViewbox),this._eventBus.fire("searchPad.restored")),this._cachedRootElement=null,this._cachedSelection=null,this._cachedViewbox=null,this._unbindEvents(),this._open=!1,Nn(this._canvas.getContainer()).remove("djs-search-open"),Nn(this._container).remove("open"),this._clearMarkers(),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._eventBus.fire("searchPad.closed"))},Bn.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Bn.prototype.isOpen=function(){return this._open},Bn.prototype._preselect=function(n){var t=this._getCurrentResult();if(n!==t){this._clearMarkers(),t&&Nn(t).remove(Bn.RESULT_SELECTED_CLASS);var i=fo(n,Bn.RESULT_ID_ATTRIBUTE),s=this._results[i].element;Nn(n).add(Bn.RESULT_SELECTED_CLASS),this._canvas.scrollToElement(s,{top:300}),this._selection.select(s),this._canvas.addMarker(s,"djs-search-preselected"),this._eventBus.fire("searchPad.preselected",s)}},Bn.prototype._select=function(n){var t=fo(n,Bn.RESULT_ID_ATTRIBUTE),i=this._results[t].element;this._cachedSelection=null,this._cachedViewbox=null,this.close(!1),this._canvas.scrollToElement(i,{top:300}),this._selection.select(i),this._eventBus.fire("searchPad.selected",i)},Bn.prototype._getBoxHtml=function(){const n=lr(Bn.BOX_HTML),t=dn(Bn.INPUT_SELECTOR,n);return t&&t.setAttribute("aria-label",this._translate("Search in diagram")),n},Bn.CONTAINER_SELECTOR=".djs-search-container",Bn.INPUT_SELECTOR=".djs-search-input input",Bn.RESULTS_CONTAINER_SELECTOR=".djs-search-results",Bn.RESULT_SELECTOR=".djs-search-result",Bn.RESULT_SELECTED_SELECTOR="."+(Bn.RESULT_SELECTED_CLASS="djs-search-result-selected"),Bn.RESULT_ID_ATTRIBUTE="data-result-id",Bn.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",Bn.BOX_HTML='<div class="djs-search-container djs-scrollable">\n  <div class="djs-search-input">\n    <svg class="djs-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>\n    </svg>\n    <input type="text" spellcheck="false" />\n  </div>\n  <div class="djs-search-results" />\n</div>',Bn.RESULT_HTML='<div class="djs-search-result"></div>',Bn.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',Bn.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';const T0e={__depends__:[So,Dv,Al],searchPad:["type",Bn]};function GB(n,t,i){this._elementRegistry=n,this._canvas=i,t.registerProvider(this)}function KB(n){return"matched"in n}function sT(n){return n.find(KB)}function P0e(n,t){const i=sT(n),s=sT(t);if(i&&!s)return-1;if(!i&&s)return 1;if(!i&&!s)return 0;const o=n.find(KB),a=t.find(KB);return o.index<a.index?-1:o.index>a.index?1:0}function D0e(n="",t=""){return n.localeCompare(t)}function k0e(n,t){var i=[],s=n;if(!n)return i;n=n.toLowerCase(),t=t.toLowerCase();var o=n.indexOf(t);return o>-1?(0!==o&&i.push({normal:s.slice(0,o),index:0}),i.push({matched:s.slice(o,o+t.length),index:o}),t.length+o<n.length&&i.push({normal:s.slice(o+t.length),index:o+t.length})):i.push({normal:s,index:0}),i}GB.$inject=["elementRegistry","searchPad","canvas"],GB.prototype.find=function(n){var t=this._canvas.getRootElements();return this._elementRegistry.filter(function(s){return!hr(s)&&!t.includes(s)}).reduce(function(s,o){var l=k0e(Ja(o),n),c=k0e(o.id,n);return sT(l)||sT(c)?[...s,{primaryTokens:l,secondaryTokens:c,element:o}]:s},[]).sort(function(s,o){return P0e(s.primaryTokens,o.primaryTokens)||P0e(s.secondaryTokens,o.secondaryTokens)||D0e(Ja(s.element),Ja(o.element))||D0e(s.element.id,o.element.id)}).map(function(s){return{element:s.element,primaryTokens:s.primaryTokens.map(function(o){return Wc(o,["index"])}),secondaryTokens:s.secondaryTokens.map(function(o){return Wc(o,["index"])})}})};const Yut={__depends__:[T0e],__init__:["bpmnSearch"],bpmnSearch:["type",GB]};function dc(n){GE.call(this,n)}Lt(dc,GE),dc.Viewer=qh,dc.NavigatedViewer=Bv,dc.prototype.createDiagram=function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>')},dc.prototype._modules=[].concat(qh.prototype._modules,dc.prototype._interactionModules=[WN,GN,XN],dc.prototype._modelingModules=[xit,eF,bde,Bit,Gde,r8,Qde,mct,vfe,ub,bct,Ect,Nct,Fct,Bct,Bhe,eut,dhe,out,n0e,_ut,wut,NB,Gut,Yut]);var Zut=new Pv,M0e={min:.2,max:4};function wa(n,t,i,s,o){var a=this;function l(p){(!a._state._svgClientRect||lT(a._state._svgClientRect))&&(a._state._svgClientRect=a._svg.getBoundingClientRect()),YB(aT({x:p.x-a._state._svgClientRect.left,y:p.y-a._state._svgClientRect.top},a._svg,a._lastViewbox),a._canvas),a._update()}function c(p){return function(h){var m=XB(h);(!a._state._svgClientRect||lT(a._state._svgClientRect))&&(a._state._svgClientRect=a._svg.getBoundingClientRect()),p&&l(m);var g=aT({x:m.x-a._state._svgClientRect.left,y:m.y-a._state._svgClientRect.top},a._svg,a._lastViewbox),y=s.viewbox(),v=function ndt(n,t){return{x:n.x-(t.x+t.width/2),y:n.y-(t.y+t.height/2)}}(g,y),_=a._viewportDom.getBoundingClientRect();pe(a._state,{cachedViewbox:y,initialDragPosition:{x:m.x,y:m.y},isDragging:!0,offsetViewport:v,offsetViewportDom:{x:m.x-_.left+1,y:m.y-_.top+1},viewportClientRect:a._viewport.getBoundingClientRect(),parentClientRect:a._parent.getBoundingClientRect()}),Xt.bind(document,"mousemove",u),Xt.bind(document,"mouseup",d)}}function u(p){var f=XB(p);if(a._state.isDragging){(!a._state._svgClientRect||lT(a._state._svgClientRect))&&(a._state._svgClientRect=a._svg.getBoundingClientRect());var h=a._state.offsetViewportDom,m=a._state.viewportClientRect,g=a._state.parentClientRect;pe(a._viewportDom.style,{top:f.y-h.y-g.top+"px",left:f.x-h.x-g.left+"px"});var y=R0e(g,{top:f.y-h.y-g.top,left:f.x-h.x-g.left,width:m.width,height:m.height});pe(a._overlay.style,{clipPath:y});var v=aT({x:f.x-a._state._svgClientRect.left,y:f.y-a._state._svgClientRect.top},a._svg,a._lastViewbox);YB({x:v.x-a._state.offsetViewport.x,y:v.y-a._state.offsetViewport.y},a._canvas)}}function d(p){var f=XB(p);a._state.isDragging&&(a._state.initialDragPosition.x===f.x&&a._state.initialDragPosition.y===f.y&&l(p),a._update(),pe(a._state,{cachedViewbox:null,initialDragPosition:null,isDragging:!1,offsetViewport:null,offsetViewportDom:null}),Xt.unbind(document,"mousemove",u),Xt.unbind(document,"mouseup",d))}this._canvas=s,this._elementRegistry=o,this._eventBus=i,this._injector=t,this._state={isOpen:void 0,isDragging:!1,initialDragPosition:null,offsetViewport:null,cachedViewbox:null,dragger:null,svgClientRect:null,parentClientRect:null,zoomDelta:0},this._minimapId=Zut.next(),this._init(),this.toggle(n&&n.open||!1),Xt.bind(this._viewportDom,"mousedown",c(!1)),Xt.bind(this._svg,"mousedown",c(!0)),Xt.bind(this._parent,"wheel",function(p){if(p.preventDefault(),p.stopPropagation(),p.ctrlKey&&((!a._state._svgClientRect||lT(a._state._svgClientRect))&&(a._state._svgClientRect=a._svg.getBoundingClientRect()),function odt(n,t){return n.x>t.left&&n.x<t.left+t.width&&n.y>t.top&&n.y<t.top+t.height}(p,a._state._svgClientRect))){var f=0===p.deltaMode?.02:.32,h=Math.sqrt(Math.pow(p.deltaY,2)+Math.pow(p.deltaX,2))*adt(p.deltaY)*-f;if(a._state.zoomDelta+=h,Math.abs(a._state.zoomDelta)>.1){var m=h>0?1:-1,g=Math.log(s.zoom())/Math.log(10),y=function ldt(n,t){var i=Math.log(n.min)/Math.log(10),s=Math.log(n.max)/Math.log(10);return(Math.abs(i)+Math.abs(s))/t}(M0e,20),v=Math.round(g/y)*y,_=Math.pow(10,v+=y*m);s.zoom(function cdt(n,t){return Math.max(n.min,Math.min(n.max,t))}(M0e,_),E),a._state.zoomDelta=0;var E=aT({x:p.clientX-a._state._svgClientRect.left,y:p.clientY-a._state._svgClientRect.top},a._svg,a._lastViewbox);YB(E,a._canvas),a._update()}}}),Xt.bind(this._toggle,"click",function(p){p.preventDefault(),p.stopPropagation(),a.toggle()}),i.on(["shape.added","connection.added"],function(p){a._addElement(p.element),a._update()}),i.on(["shape.removed","connection.removed"],function(p){a._removeElement(p.element),a._update()}),i.on("elements.changed",250,function(p){p.elements.forEach(function(h){a._updateElement(h)}),a._update()}),i.on("element.updateId",function(p){a._updateElementId(p.element,p.newId)}),i.on("canvas.viewbox.changed",function(){a._state.isDragging||a._update()}),i.on("canvas.resized",function(){document.body.contains(a._parent)&&(a._state.isDragging||a._update(),a._state._svgClientRect=a._svg.getBoundingClientRect())}),i.on(["root.set","plane.set"],function(p){a._clear(),(p.element||p.plane.rootElement).children.forEach(function(h){a._addElement(h)}),a._update()})}function aT(n,t,i){var s=t.getBoundingClientRect(),o=function rdt(n,t){var i=n.width/n.height,s=pe({},{x:n.x,y:n.y,width:n.width,height:n.height});if(i>t){var o=s.width*(1/t);pe(s,{y:s.y-(o-s.height)/2,height:o})}else if(i<t){var l=s.height*t;pe(s,{x:s.x-(l-s.width)/2,width:l})}return s}(i,s.width/s.height);return{x:A0e(n.x,0,s.width,o.x,o.x+o.width),y:A0e(n.y,0,s.height,o.y,o.y+o.height)}}function YB(n,t){var i=t.viewbox(),s=i.width,o=i.height;t.viewbox({x:n.x-s/2,y:n.y-o/2,width:s,height:o})}function A0e(n,t,i,s,o){return(n-t)*(o-s)/(i-t)+s}function lT(n){return 0===n.width&&0===n.height}wa.$inject=["config.minimap","injector","eventBus","canvas","elementRegistry"],wa.prototype._init=function(){var t=this._canvas.getContainer(),i=this._parent=document.createElement("div");Nn(i).add("djs-minimap"),t.appendChild(i);var s=this._toggle=document.createElement("div");Nn(s).add("toggle"),i.appendChild(s);var o=this._map=document.createElement("div");Nn(o).add("map"),i.appendChild(o);var a=this._svg=$t("svg");Pt(a,{width:"100%",height:"100%"}),sn(o,a),sn(a,this._elementsGroup=$t("g"));var c=this._viewportGroup=$t("g");sn(a,c);var u=this._viewport=$t("rect");mr(u).add("viewport"),sn(c,u),Xt.bind(i,"mousedown",function(f){f.stopPropagation()});var d=this._viewportDom=document.createElement("div");Nn(d).add("viewport-dom"),this._parent.appendChild(d);var p=this._overlay=document.createElement("div");Nn(p).add("overlay"),this._parent.appendChild(p)},wa.prototype._update=function(){var n=this._canvas.viewbox(),t=n.inner,i=n.outer;if(N0e(n)){var s,o,a,l,u=i.height-t.height;t.width<i.width?(s=t.x-(i.width-t.width)/2,a=i.width,t.x+t.width<i.width&&(s=Math.min(0,t.x))):(s=t.x,a=t.width),t.height<i.height?(o=t.y-u/2,l=i.height,t.y+t.height<i.height&&(o=Math.min(0,t.y))):(o=t.y,l=t.height),this._lastViewbox={x:s-=50,y:o-=50,width:a+=100,height:l+=100},Pt(this._svg,{viewBox:s+", "+o+", "+a+", "+l}),Pt(this._viewport,{x:n.x,y:n.y,width:n.width,height:n.height});var d=this._state._parentClientRect=this._parent.getBoundingClientRect(),p=this._viewport.getBoundingClientRect(),f={top:p.top-d.top,left:p.left-d.left,width:p.width,height:p.height};pe(this._viewportDom.style,{top:f.top+"px",left:f.left+"px",width:f.width+"px",height:f.height+"px"});var h=R0e(d,f);pe(this._overlay.style,{clipPath:h})}},wa.prototype.open=function(){pe(this._state,{isOpen:!0}),Nn(this._parent).add("open");var n=this._injector.get("translate",!1)||function(t){return t};fo(this._toggle,"title",n("Close minimap")),this._update(),this._eventBus.fire("minimap.toggle",{open:!0})},wa.prototype.close=function(){pe(this._state,{isOpen:!1}),Nn(this._parent).remove("open");var n=this._injector.get("translate",!1)||function(t){return t};fo(this._toggle,"title",n("Open minimap")),this._eventBus.fire("minimap.toggle",{open:!1})},wa.prototype.toggle=function(n){var t=this.isOpen();typeof n>"u"&&(n=!t),n!=t&&(n?this.open():this.close())},wa.prototype.isOpen=function(){return this._state.isOpen},wa.prototype._updateElement=function(n){try{null!=n.parent&&(this._removeElement(n),this._addElement(n))}catch(t){console.warn("Minimap#_updateElement errored",t)}},wa.prototype._updateElementId=function(n,t){try{var i=dn("#"+pg(this._prefixId(n.id)),this._elementsGroup);i&&(i.id=this._prefixId(t))}catch(s){console.warn("Minimap#_updateElementId errored",s)}},wa.prototype.isOnActivePlane=function(n){var t=this._canvas;return t.findRoot?t.findRoot(n)===t.getRootElement():!t.findPlane||t.findPlane(n)===t.getActivePlane()},wa.prototype._addElement=function(n){var t=this;if(this._removeElement(n),this.isOnActivePlane(n)){var i,s,o,a=this._createElement(n),l=dn("#"+pg(this._prefixId(n.parent.id)),this._elementsGroup);if(a){var d=function idt(n,t){var i=dn(".djs-children",t.parentNode);if(i){var s=[].slice.call(i.childNodes),o=-1;return s.forEach(function(a,l){dn(".djs-element",a)===n&&(o=l)}),o}}(this._elementRegistry.getGraphics(n),this._elementRegistry.getGraphics(n.parent));return"undefined"!==d&&l?function I0e(n,t,i){var s=function sdt(n){var t=dn(".children",n);return t||sn(n,t=$t("g",{class:"children"})),t}(t),a=[].slice.call(s.childNodes)[i];a?t.insertBefore(n,a.nextSibling):t.appendChild(n)}(a,l,l.childNodes.length>d?d:l.childNodes.length-1):this._elementsGroup.appendChild(a),function tdt(n){return n.waypoints}(n)?(s=0,o=0,typeof(i=n.parent).x<"u"&&typeof i.y<"u"&&(s=-i.x,o=-i.y),Pt(a,{transform:"translate("+s+" "+o+")"})):(s=n.x,o=n.y,l&&(s-=(i=n.parent).x,o-=i.y),Pt(a,{transform:"translate("+s+" "+o+")"})),n.children&&n.children.length&&n.children.forEach(function(p){t._addElement(p)}),a}}},wa.prototype._removeElement=function(n){var t=this._svg.getElementById(this._prefixId(n.id));t&&Ss(t)},wa.prototype._createElement=function(n){var i,t=this._elementRegistry.getGraphics(n);if(t&&(i=zh(t))){var s=function udt(n){return ju("[id]",n).forEach(function(t){t.remove()}),n}(aN(i));return Pt(s,{id:this._prefixId(n.id)}),s}},wa.prototype._clear=function(){lg(this._elementsGroup)},wa.prototype._prefixId=function(n){return"djs-minimap-"+n+"-"+this._minimapId};var adt=Math.sign||function(n){return n>=0?1:-1};function R0e(n,t){return"polygon("+[Gd(t.left,t.top),Gd(t.left+t.width,t.top),Gd(t.left+t.width,t.top+t.height),Gd(t.left,t.top+t.height),Gd(t.left,n.height),Gd(n.width,n.height),Gd(n.width,0),Gd(0,0),Gd(0,n.height),Gd(t.left,n.height)].join(", ")+")"}function Gd(n,t){return n+"px "+t+"px"}function N0e(n){return tc(n,function(t){return fr(t)?N0e(t):un(t)&&isFinite(t)})}function XB(n){return n.center?n.center:{x:n.clientX,y:n.clientY}}var ddt={__init__:["minimap"],minimap:["type",wa]};function Hg(n,t){this._canvas=n;var i=this;t.on("diagram.init",function(){i._init(),i.toggle(!0)}),t.on("gridSnapping.toggle",function(s){i.toggle(s.active),i._centerGridAroundViewbox()}),t.on("canvas.viewbox.changed",function(s){i._centerGridAroundViewbox(s.viewbox)})}Hg.prototype._init=function(){var n=dn("defs",this._canvas._svg);n||(n=$t("defs"),sn(this._canvas._svg,n));var t=this._pattern=$t("pattern"),i="djs-grid-pattern-"+function hdt(){return Math.trunc(1e6*Math.random())}();Pt(t,{id:i,width:10,height:10,patternUnits:"userSpaceOnUse"});var s=this._circle=$t("circle");Pt(s,{cx:.5,cy:.5,r:.5,fill:"#ccc"}),sn(t,s),sn(n,t),Pt(this._gfx=$t("rect"),{x:-5e4,y:-5e4,width:1e5,height:1e5,fill:`url(#${i})`})},Hg.prototype._centerGridAroundViewbox=function(n){n||(n=this._canvas.viewbox());var t=cn(n);Pt(this._gfx,{x:-5e4+Pw(t.x,10),y:-5e4+Pw(t.y,10)})},Hg.prototype.isVisible=function(){return this._visible},Hg.prototype.toggle=function(n){if(typeof n>"u"&&(n=!this._visible),n!==this._visible){var t=this._getParent();n?sn(t,this._gfx):lg(t),this._visible=n}},Hg.prototype._getParent=function(){return this._canvas.getLayer("djs-grid",-2)},Hg.$inject=["canvas","eventBus"];var L0e={__init__:["grid"],grid:["type",Hg]};function F0e(n,t){var p,m,i=(n=n||{}).borderColor||"rgba(0,0,0,0.1)",s=n.crossColor||"#CCC",c=-1;sn(t.getLayer("djs-origin",-1),p=cT("g",{"pointer-events":"none"})),!1!==n.showBorder&&sn(p,cT("path",{class:ZB("border"),d:B0e(["M",-22,c,"H",-1e3,"M",22,c,"H",6e3,"M",c,-22,"V",-1e3,"M",c,22,"V",3e3]),fill:"none",stroke:i,"stroke-width":"2px","stroke-dasharray":"6, 6","shape-rendering":"crispedges"})),sn(p,cT("path",{d:B0e(["M",-15,c,"H",15,"M",c,-15,"V",15]),class:ZB("cross"),fill:"none",stroke:s,"stroke-width":"2px","stroke-linecap":"round"})),(m=cT("text",{x:-40,y:-10,fill:s,class:ZB("label")})).textContent="(0, 0)",sn(p,m)}function B0e(n){return n.join(" ")}function ZB(n){return"djs-origin-"+n}function cT(n,t){var i=$t(n);return Pt(i,t),i}F0e.$inject=["config.origin","canvas"];const j0e={__init__:[F0e]};var ydt={offset:{x:150,y:75},tolerance:50,alignOnSave:!0};function V0e(n,t,i,s,o,a){function c(f,h){var m=h.offset,g=h.tolerance,y={};return["x","y"].forEach(function(v){var _=-f[v]+m[v],E=t.get("gridSnapping",!1);E&&(_=function bdt(n,t,i){return i||(i="round"),Math[i](n/t)*t}(_,E.getGridSpacing())),y[v]=Math.abs(_)<g?0:_}),y}function u(){var f=o.viewbox().inner,h=o.getRootElement().children;if(h.length){var m=c(f,n);0===m.x&&0===m.y||s.execute("elements.alignToOrigin",{elements:h,delta:m})}}function p(f){return function(h){i.once("commandStack.changed",function(){var m=h.delta,g=o.viewbox().scale;o.scroll({dx:f*m.x*g,dy:f*m.y*g})})}}n=function l(f){var h=pe({},ydt,f||{});return un(h.offset)&&(h.offset={x:h.offset,y:h.offset}),h}(n),s.register("elements.alignToOrigin",{preExecute:function(f){a.moveElements(f.elements,f.delta)},execute:p(-1),revert:p(1)}),n.alignOnSave&&function d(){var f=t.get("_parent",!1),h=i,m=f&&f._eventBus;(m||h).on("saveXML.start",1250,u),m&&h.on("diagram.destroy",function(){m.off("saveXML.start",u)})}(),this.align=u,this.computeAdjustment=c,this._config=n}V0e.$inject=["config.alignToOrigin","injector","eventBus","commandStack","canvas","modeling"];const $0e={__init__:["alignToOrigin"],alignToOrigin:["type",V0e]};function z0e(n){function t(i){if(!i.labelTarget){var s=G(i);T(s,"bpmn:Participant")&&(s=s.processRef),T(s,"bpmn:Process")&&(s.isExecutable=!!s.isExecutable)}}n.on(["shape.added","root.added"],function(i){t(i.element)}),n.on("elements.changed",function(i){i.elements.forEach(function(o){t(o)})})}z0e.$inject=["eventBus"];const _dt={__init__:[z0e]};var Rw,xn,H0e,Ug,U0e,q0e,QB,W0e,Nw={},G0e=[],wdt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,uT=Array.isArray;function _f(n,t){for(var i in t)n[i]=t[i];return n}function K0e(n){var t=n.parentNode;t&&t.removeChild(n)}function Mr(n,t,i){var s,o,a,l={};for(a in t)"key"==a?s=t[a]:"ref"==a?o=t[a]:l[a]=t[a];if(arguments.length>2&&(l.children=arguments.length>3?Rw.call(arguments,2):i),"function"==typeof n&&null!=n.defaultProps)for(a in n.defaultProps)void 0===l[a]&&(l[a]=n.defaultProps[a]);return Lw(n,l,s,o,null)}function Lw(n,t,i,s,o){var a={type:n,props:t,key:i,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++H0e,__i:-1,__u:0};return null==o&&null!=xn.vnode&&xn.vnode(a),a}function qu(n){return n.children}function Wu(n,t){this.props=n,this.context=t}function yb(n,t){if(null==t)return n.__?yb(n.__,n.__i+1):null;for(var i;t<n.__k.length;t++)if(null!=(i=n.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof n.type?yb(n):null}function Y0e(n){var t,i;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,t=0;t<n.__k.length;t++)if(null!=(i=n.__k[t])&&null!=i.__e){n.__e=n.__c.base=i.__e;break}return Y0e(n)}}function JB(n){(!n.__d&&(n.__d=!0)&&Ug.push(n)&&!dT.__r++||U0e!==xn.debounceRendering)&&((U0e=xn.debounceRendering)||q0e)(dT)}function dT(){var n,t,i,s,o,a,l,c,u;for(Ug.sort(QB);n=Ug.shift();)n.__d&&(t=Ug.length,s=void 0,a=(o=(i=n).__v).__e,c=[],u=[],(l=i.__P)&&((s=_f({},o)).__v=o.__v+1,xn.vnode&&xn.vnode(s),ej(l,s,o,i.__n,void 0!==l.ownerSVGElement,32&o.__u?[a]:null,c,a??yb(o),!!(32&o.__u),u),s.__.__k[s.__i]=s,tme(c,s,u),s.__e!=a&&Y0e(s)),Ug.length>t&&Ug.sort(QB));dT.__r=0}function X0e(n,t,i,s,o,a,l,c,u,d,p){var f,h,m,g,y,v=s&&s.__k||G0e,_=t.length;for(i.__d=u,function Cdt(n,t,i){var s,o,a,l,c,u=t.length,d=i.length,p=d,f=0;for(n.__k=[],s=0;s<u;s++)null!=(o=n.__k[s]=null==(o=t[s])||"boolean"==typeof o||"function"==typeof o?null:"string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?Lw(null,o,null,null,o):uT(o)?Lw(qu,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?Lw(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)?(o.__=n,o.__b=n.__b+1,c=Sdt(o,i,l=s+f,p),o.__i=c,a=null,-1!==c&&(p--,(a=i[c])&&(a.__u|=131072)),null==a||null===a.__v?(-1==c&&f--,"function"!=typeof o.type&&(o.__u|=65536)):c!==l&&(c===l+1?f++:c>l?p>u-l?f+=c-l:f--:f=c<l&&c==l-1?c-l:0,c!==s+f&&(o.__u|=65536))):(a=i[s])&&null==a.key&&a.__e&&(a.__e==n.__d&&(n.__d=yb(a)),nj(a,a,!1),i[s]=null,p--);if(p)for(s=0;s<d;s++)null!=(a=i[s])&&!(131072&a.__u)&&(a.__e==n.__d&&(n.__d=yb(a)),nj(a,a))}(i,t,v),u=i.__d,f=0;f<_;f++)null!=(m=i.__k[f])&&"boolean"!=typeof m&&"function"!=typeof m&&(h=-1===m.__i?Nw:v[m.__i]||Nw,m.__i=f,ej(n,m,h,o,a,l,c,u,d,p),g=m.__e,m.ref&&h.ref!=m.ref&&(h.ref&&tj(h.ref,null,m),p.push(m.ref,m.__c||g,m)),null==y&&null!=g&&(y=g),65536&m.__u||h.__k===m.__k?u=Z0e(m,u,n):"function"==typeof m.type&&void 0!==m.__d?u=m.__d:g&&(u=g.nextSibling),m.__d=void 0,m.__u&=-196609);i.__d=u,i.__e=y}function Z0e(n,t,i){var s,o;if("function"==typeof n.type){for(s=n.__k,o=0;s&&o<s.length;o++)s[o]&&(s[o].__=n,t=Z0e(s[o],t,i));return t}return n.__e!=t&&(i.insertBefore(n.__e,t||null),t=n.__e),t&&t.nextSibling}function Ef(n,t){return t=t||[],null==n||"boolean"==typeof n||(uT(n)?n.some(function(i){Ef(i,t)}):t.push(n)),t}function Sdt(n,t,i,s){var o=n.key,a=n.type,l=i-1,c=i+1,u=t[i];if(null===u||u&&o==u.key&&a===u.type)return i;if(s>(null==u||131072&u.__u?0:1))for(;l>=0||c<t.length;){if(l>=0){if((u=t[l])&&!(131072&u.__u)&&o==u.key&&a===u.type)return l;l--}if(c<t.length){if((u=t[c])&&!(131072&u.__u)&&o==u.key&&a===u.type)return c;c++}}return-1}function Q0e(n,t,i){"-"===t[0]?n.setProperty(t,i??""):n[t]=null==i?"":"number"!=typeof i||wdt.test(t)?i:i+"px"}function pT(n,t,i,s,o){var a;e:if("style"===t)if("string"==typeof i)n.style.cssText=i;else{if("string"==typeof s&&(n.style.cssText=s=""),s)for(t in s)i&&t in i||Q0e(n.style,t,"");if(i)for(t in i)s&&i[t]===s[t]||Q0e(n.style,t,i[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in n?t.toLowerCase().slice(2):t.slice(2),n.l||(n.l={}),n.l[t+a]=i,i?s?i.u=s.u:(i.u=Date.now(),n.addEventListener(t,a?eme:J0e,a)):n.removeEventListener(t,a?eme:J0e,a);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in n)try{n[t]=i??"";break e}catch{}"function"==typeof i||(null==i||!1===i&&"-"!==t[4]?n.removeAttribute(t):n.setAttribute(t,i))}}function J0e(n){var t=this.l[n.type+!1];if(n.t){if(n.t<=t.u)return}else n.t=Date.now();return t(xn.event?xn.event(n):n)}function eme(n){return this.l[n.type+!0](xn.event?xn.event(n):n)}function ej(n,t,i,s,o,a,l,c,u,d){var p,f,h,m,g,y,v,_,E,x,b,w,C,P,D,I=t.type;if(void 0!==t.constructor)return null;128&i.__u&&(u=!!(32&i.__u),a=[c=t.__e=i.__e]),(p=xn.__b)&&p(t);e:if("function"==typeof I)try{if(_=t.props,E=(p=I.contextType)&&s[p.__c],x=p?E?E.props.value:p.__:s,i.__c?v=(f=t.__c=i.__c).__=f.__E:("prototype"in I&&I.prototype.render?t.__c=f=new I(_,x):(t.__c=f=new Wu(_,x),f.constructor=I,f.render=Tdt),E&&E.sub(f),f.props=_,f.state||(f.state={}),f.context=x,f.__n=s,h=f.__d=!0,f.__h=[],f._sb=[]),null==f.__s&&(f.__s=f.state),null!=I.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=_f({},f.__s)),_f(f.__s,I.getDerivedStateFromProps(_,f.__s))),m=f.props,g=f.state,f.__v=t,h)null==I.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==I.getDerivedStateFromProps&&_!==m&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(_,x),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(_,f.__s,x)||t.__v===i.__v)){for(t.__v!==i.__v&&(f.props=_,f.state=f.__s,f.__d=!1),t.__e=i.__e,t.__k=i.__k,t.__k.forEach(function(k){k&&(k.__=t)}),b=0;b<f._sb.length;b++)f.__h.push(f._sb[b]);f._sb=[],f.__h.length&&l.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(_,f.__s,x),null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(m,g,y)})}if(f.context=x,f.props=_,f.__P=n,f.__e=!1,w=xn.__r,C=0,"prototype"in I&&I.prototype.render){for(f.state=f.__s,f.__d=!1,w&&w(t),p=f.render(f.props,f.state,f.context),P=0;P<f._sb.length;P++)f.__h.push(f._sb[P]);f._sb=[]}else do{f.__d=!1,w&&w(t),p=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++C<25);f.state=f.__s,null!=f.getChildContext&&(s=_f(_f({},s),f.getChildContext())),h||null==f.getSnapshotBeforeUpdate||(y=f.getSnapshotBeforeUpdate(m,g)),X0e(n,uT(D=null!=p&&p.type===qu&&null==p.key?p.props.children:p)?D:[D],t,i,s,o,a,l,c,u,d),f.base=t.__e,t.__u&=-161,f.__h.length&&l.push(f),v&&(f.__E=f.__=null)}catch(k){t.__v=null,u||null!=a?(t.__e=c,t.__u|=u?160:32,a[a.indexOf(c)]=null):(t.__e=i.__e,t.__k=i.__k),xn.__e(k,t,i)}else null==a&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=function Odt(n,t,i,s,o,a,l,c,u){var d,p,f,h,m,g,y,v=i.props,_=t.props,E=t.type;if("svg"===E&&(o=!0),null!=a)for(d=0;d<a.length;d++)if((m=a[d])&&"setAttribute"in m==!!E&&(E?m.localName===E:3===m.nodeType)){n=m,a[d]=null;break}if(null==n){if(null===E)return document.createTextNode(_);n=o?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,_.is&&_),a=null,c=!1}if(null===E)v===_||c&&n.data===_||(n.data=_);else{if(a=a&&Rw.call(n.childNodes),v=i.props||Nw,!c&&null!=a)for(v={},d=0;d<n.attributes.length;d++)v[(m=n.attributes[d]).name]=m.value;for(d in v)m=v[d],"children"==d||("dangerouslySetInnerHTML"==d?f=m:"key"===d||d in _||pT(n,d,null,m,o));for(d in _)m=_[d],"children"==d?h=m:"dangerouslySetInnerHTML"==d?p=m:"value"==d?g=m:"checked"==d?y=m:"key"===d||c&&"function"!=typeof m||v[d]===m||pT(n,d,m,v[d],o);if(p)c||f&&(p.__html===f.__html||p.__html===n.innerHTML)||(n.innerHTML=p.__html),t.__k=[];else if(f&&(n.innerHTML=""),X0e(n,uT(h)?h:[h],t,i,s,o&&"foreignObject"!==E,a,l,a?a[0]:i.__k&&yb(i,0),c,u),null!=a)for(d=a.length;d--;)null!=a[d]&&K0e(a[d]);c||(d="value",void 0!==g&&(g!==n[d]||"progress"===E&&!g||"option"===E&&g!==v[d])&&pT(n,d,g,v[d],!1),d="checked",void 0!==y&&y!==n[d]&&pT(n,d,y,v[d],!1))}return n}(i.__e,t,i,s,o,a,l,u,d);(p=xn.diffed)&&p(t)}function tme(n,t,i){t.__d=void 0;for(var s=0;s<i.length;s++)tj(i[s],i[++s],i[++s]);xn.__c&&xn.__c(t,n),n.some(function(o){try{n=o.__h,o.__h=[],n.some(function(a){a.call(o)})}catch(a){xn.__e(a,o.__v)}})}function tj(n,t,i){try{"function"==typeof n?n(t):n.current=t}catch(s){xn.__e(s,i)}}function nj(n,t,i){var s,o;if(xn.unmount&&xn.unmount(n),(s=n.ref)&&(s.current&&s.current!==n.__e||tj(s,null,t)),null!=(s=n.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(a){xn.__e(a,t)}s.base=s.__P=null,n.__c=void 0}if(s=n.__k)for(o=0;o<s.length;o++)s[o]&&nj(s[o],t,i||"function"!=typeof n.type);i||null==n.__e||K0e(n.__e),n.__=n.__e=n.__d=void 0}function Tdt(n,t,i){return this.constructor(n,i)}function wf(n,t,i){var s,o,a,l;xn.__&&xn.__(n,t),o=(s="function"==typeof i)?null:i&&i.__k||t.__k,a=[],l=[],ej(t,n=(!s&&i||t).__k=Mr(qu,null,[n]),o||Nw,Nw,void 0!==t.ownerSVGElement,!s&&i?[i]:o?null:t.firstChild?Rw.call(t.childNodes):null,a,!s&&i?i:o?o.__e:t.firstChild,s,l),tme(a,n,l)}function xf(n,t){var i={__c:t="__cC"+W0e++,__:n,Consumer:function(s,o){return s.children(o)},Provider:function(s){var o,a;return this.getChildContext||(o=[],(a={})[t]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&o.some(function(c){c.__e=!0,JB(c)})},this.sub=function(l){o.push(l);var c=l.componentWillUnmount;l.componentWillUnmount=function(){o.splice(o.indexOf(l),1),c&&c.call(l)}}),s.children}};return i.Provider.__=i.Consumer.contextType=i}Rw=G0e.slice,xn={__e:function(n,t,i,s){for(var o,a,l;t=t.__;)if((o=t.__c)&&!o.__)try{if((a=o.constructor)&&null!=a.getDerivedStateFromError&&(o.setState(a.getDerivedStateFromError(n)),l=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(n,s||{}),l=o.__d),l)return o.__E=o}catch(c){n=c}throw n}},H0e=0,Wu.prototype.setState=function(n,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=_f({},this.state),"function"==typeof n&&(n=n(_f({},i),this.props)),n&&_f(i,n),null!=n&&this.__v&&(t&&this._sb.push(t),JB(this))},Wu.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),JB(this))},Wu.prototype.render=qu,Ug=[],q0e="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,QB=function(n,t){return n.__v.__b-t.__v.__b},dT.__r=0,W0e=0;var Cf,Di,rj,rme,vb=0,ime=[],fT=[],sme=xn.__b,ome=xn.__r,ame=xn.diffed,lme=xn.__c,cme=xn.unmount;function qg(n,t){xn.__h&&xn.__h(Di,n,vb||t),vb=0;var i=Di.__H||(Di.__H={__:[],__h:[]});return n>=i.__.length&&i.__.push({__V:fT}),i.__[n]}function Un(n){return vb=1,function ume(n,t,i){var s=qg(Cf++,2);if(s.t=n,!s.__c&&(s.__=[i?i(t):pme(void 0,t),function(c){var u=s.__N?s.__N[0]:s.__[0],d=s.t(u,c);u!==d&&(s.__N=[d,s.__[1]],s.__c.setState({}))}],s.__c=Di,!Di.u)){var o=function(c,u,d){if(!s.__c.__H)return!0;var p=s.__c.__H.__.filter(function(h){return h.__c});if(p.every(function(h){return!h.__N}))return!a||a.call(this,c,u,d);var f=!1;return p.forEach(function(h){if(h.__N){var m=h.__[0];h.__=h.__N,h.__N=void 0,m!==h.__[0]&&(f=!0)}}),!(!f&&s.__c.props===c)&&(!a||a.call(this,c,u,d))};Di.u=!0;var a=Di.shouldComponentUpdate,l=Di.componentWillUpdate;Di.componentWillUpdate=function(c,u,d){if(this.__e){var p=a;a=void 0,o(c,u,d),a=p}l&&l.call(this,c,u,d)},Di.shouldComponentUpdate=o}return s.__N||s.__}(pme,n)}function vn(n,t){var i=qg(Cf++,3);!xn.__s&&sj(i.__H,t)&&(i.__=n,i.i=t,Di.__H.__h.push(i))}function y0(n,t){var i=qg(Cf++,4);!xn.__s&&sj(i.__H,t)&&(i.__=n,i.i=t,Di.__h.push(i))}function ii(n){return vb=5,Do(function(){return{current:n}},[])}function Do(n,t){var i=qg(Cf++,7);return sj(i.__H,t)?(i.__V=n(),i.i=t,i.__h=n,i.__V):i.__}function wi(n,t){return vb=8,Do(function(){return n},t)}function xa(n){var t=Di.context[n.__c],i=qg(Cf++,9);return i.c=n,t?(null==i.__&&(i.__=!0,t.sub(Di)),t.props.value):n.__}function Adt(){for(var n;n=ime.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(hT),n.__H.__h.forEach(ij),n.__H.__h=[]}catch(t){n.__H.__h=[],xn.__e(t,n.__v)}}xn.__b=function(n){Di=null,sme&&sme(n)},xn.__r=function(n){ome&&ome(n),Cf=0;var t=(Di=n.__c).__H;t&&(rj===Di?(t.__h=[],Di.__h=[],t.__.forEach(function(i){i.__N&&(i.__=i.__N),i.__V=fT,i.__N=i.i=void 0})):(t.__h.forEach(hT),t.__h.forEach(ij),t.__h=[],Cf=0)),rj=Di},xn.diffed=function(n){ame&&ame(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==ime.push(t)&&rme===xn.requestAnimationFrame||((rme=xn.requestAnimationFrame)||Idt)(Adt)),t.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.__V!==fT&&(i.__=i.__V),i.i=void 0,i.__V=fT})),rj=Di=null},xn.__c=function(n,t){t.some(function(i){try{i.__h.forEach(hT),i.__h=i.__h.filter(function(s){return!s.__||ij(s)})}catch(s){t.some(function(o){o.__h&&(o.__h=[])}),t=[],xn.__e(s,i.__v)}}),lme&&lme(n,t)},xn.unmount=function(n){cme&&cme(n);var t,i=n.__c;i&&i.__H&&(i.__H.__.forEach(function(s){try{hT(s)}catch(o){t=o}}),i.__H=void 0,t&&xn.__e(t,i.__v))};var dme="function"==typeof requestAnimationFrame;function Idt(n){var t,i=function(){clearTimeout(s),dme&&cancelAnimationFrame(t),setTimeout(n)},s=setTimeout(i,100);dme&&(t=requestAnimationFrame(i))}function hT(n){var t=Di,i=n.__c;"function"==typeof i&&(n.__c=void 0,i()),Di=t}function ij(n){var t=Di;n.__c=n.__(),Di=t}function sj(n,t){return!n||n.length!==t.length||t.some(function(i,s){return i!==n[s]})}function pme(n,t){return"function"==typeof t?t(n):t}function fme(n,t){for(var i in t)n[i]=t[i];return n}function oj(n,t){for(var i in n)if("__source"!==i&&!(i in t))return!0;for(var s in t)if("__source"!==s&&n[s]!==t[s])return!0;return!1}function aj(n){this.props=n}(aj.prototype=new Wu).isPureReactComponent=!0,aj.prototype.shouldComponentUpdate=function(n,t){return oj(this.props,n)||oj(this.state,t)};var hme=xn.__b;xn.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),hme&&hme(n)};var Ndt=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Sf(n){function t(i){var s=fme({},i);return delete s.ref,n(s,i.ref||null)}return t.$$typeof=Ndt,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(n.displayName||n.name)+")",t}var Fdt=xn.__e;xn.__e=function(n,t,i,s){if(n.then)for(var o,a=t;a=a.__;)if((o=a.__c)&&o.__c)return null==t.__e&&(t.__e=i.__e,t.__k=i.__k),o.__c(n,t);Fdt(n,t,i,s)};var gme=xn.unmount;function yme(n,t,i){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(s){"function"==typeof s.__c&&s.__c()}),n.__c.__H=null),null!=(n=fme({},n)).__c&&(n.__c.__P===i&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(s){return yme(s,t,i)})),n}function vme(n,t,i){return n&&i&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(s){return vme(s,t,i)}),n.__c&&n.__c.__P===t&&(n.__e&&i.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=i)),n}function mT(){this.__u=0,this.t=null,this.__b=null}function bme(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function Fw(){this.u=null,this.o=null}xn.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),gme&&gme(n)},(mT.prototype=new Wu).__c=function(n,t){var i=t.__c,s=this;null==s.t&&(s.t=[]),s.t.push(i);var o=bme(s.__v),a=!1,l=function(){a||(a=!0,i.__R=null,o?o(c):c())};i.__R=l;var c=function(){if(! --s.__u){if(s.state.__a){var u=s.state.__a;s.__v.__k[0]=vme(u,u.__c.__P,u.__c.__O)}var d;for(s.setState({__a:s.__b=null});d=s.t.pop();)d.forceUpdate()}};s.__u++||32&t.__u||s.setState({__a:s.__b=s.__v.__k[0]}),n.then(l,l)},mT.prototype.componentWillUnmount=function(){this.t=[]},mT.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=yme(this.__b,i,s.__O=s.__P)}this.__b=null}var o=t.__a&&Mr(qu,null,n.fallback);return o&&(o.__u&=-33),[Mr(qu,null,t.__a?null:n.children),o]};var _me=function(n,t,i){if(++i[1]===i[0]&&n.o.delete(t),n.props.revealOrder&&("t"!==n.props.revealOrder[0]||!n.o.size))for(i=n.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;n.u=i=i[2]}};function jdt(n){return this.getChildContext=function(){return n.context},n.children}function Vdt(n){var t=this,i=n.i;t.componentWillUnmount=function(){wf(null,t.l),t.l=null,t.i=null},t.i&&t.i!==i&&t.componentWillUnmount(),t.l||(t.i=i,t.l={nodeType:1,parentNode:i,childNodes:[],appendChild:function(s){this.childNodes.push(s),t.i.appendChild(s)},insertBefore:function(s,o){this.childNodes.push(s),t.i.appendChild(s)},removeChild:function(s){this.childNodes.splice(this.childNodes.indexOf(s)>>>1,1),t.i.removeChild(s)}}),wf(Mr(jdt,{context:t.context},n.__v),t.l)}function lj(n,t){var i=Mr(Vdt,{__v:n,i:t});return i.containerInfo=t,i}(Fw.prototype=new Wu).__a=function(n){var t=this,i=bme(t.__v),s=t.o.get(n);return s[0]++,function(o){var a=function(){t.props.revealOrder?(s.push(o),_me(t,n,s)):o()};i?i(a):a()}},Fw.prototype.render=function(n){this.u=null,this.o=new Map;var t=Ef(n.children);n.revealOrder&&"b"===n.revealOrder[0]&&t.reverse();for(var i=t.length;i--;)this.o.set(t[i],this.u=[1,0,this.u]);return n.children},Fw.prototype.componentDidUpdate=Fw.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,i){_me(n,i,t)})};var Eme=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,$dt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,zdt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Hdt=/[A-Z0-9]/g,Udt=typeof document<"u",qdt=function(n){return(typeof Symbol<"u"&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};Wu.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Wu.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var wme=xn.event;function Kdt(){}function Ydt(){return this.cancelBubble}function Xdt(){return this.defaultPrevented}xn.event=function(n){return wme&&(n=wme(n)),n.persist=Kdt,n.isPropagationStopped=Ydt,n.isDefaultPrevented=Xdt,n.nativeEvent=n};var Zdt={enumerable:!1,configurable:!0,get:function(){return this.class}},xme=xn.vnode;xn.vnode=function(n){"string"==typeof n.type&&function(t){var i=t.props,s=t.type,o={};for(var a in i){var l=i[a];if(!("value"===a&&"defaultValue"in i&&null==l||Udt&&"children"===a&&"noscript"===s||"class"===a||"className"===a)){var c=a.toLowerCase();"defaultValue"===a&&"value"in i&&null==i.value?a="value":"download"===a&&!0===l?l="":"ondoubleclick"===c?a="ondblclick":"onchange"!==c||"input"!==s&&"textarea"!==s||qdt(i.type)?"onfocus"===c?a="onfocusin":"onblur"===c?a="onfocusout":zdt.test(a)?a=c:-1===s.indexOf("-")&&$dt.test(a)?a=a.replace(Hdt,"-$&").toLowerCase():null===l&&(l=void 0):c=a="oninput","oninput"===c&&o[a=c]&&(a="oninputCapture"),o[a]=l}}"select"==s&&o.multiple&&Array.isArray(o.value)&&(o.value=Ef(i.children).forEach(function(u){u.props.selected=-1!=o.value.indexOf(u.props.value)})),"select"==s&&null!=o.defaultValue&&(o.value=Ef(i.children).forEach(function(u){u.props.selected=o.multiple?-1!=o.defaultValue.indexOf(u.props.value):o.defaultValue==u.props.value})),i.class&&!i.className?(o.class=i.class,Object.defineProperty(o,"className",Zdt)):(i.className&&!i.class||i.class&&i.className)&&(o.class=o.className=i.className),t.props=o}(n),n.$$typeof=Eme,xme&&xme(n)};var Cme=xn.__r;xn.__r=function(n){Cme&&Cme(n)};var Sme=xn.diffed;xn.diffed=function(n){Sme&&Sme(n);var t=n.props,i=n.__e;null!=i&&"textarea"===n.type&&"value"in t&&t.value!==i.value&&(i.value=null==t.value?"":t.value)};var Oe_createElement=Mr,hpt=0;function L(n,t,i,s,o,a){var l,c,u={};for(c in t)"ref"==c?l=t[c]:u[c]=t[c];var d={type:n,props:u,key:i,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--hpt,__i:-1,__u:0,__source:o,__self:a};if("function"==typeof n&&(l=n.defaultProps))for(c in l)void 0===u[c]&&(u[c]=l[c]);return xn.vnode&&xn.vnode(d),d}var vpt=te(8709),Tn=te.n(vpt);const Dme=1024;let bpt=0;class iu{constructor(t,i){this.from=t,this.to=i}}class Kn{constructor(t={}){this.id=bpt++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=eo.match(t)),i=>{let s=t(i);return void 0===s?null:[this,s]}}}Kn.closedBy=new Kn({deserialize:n=>n.split(" ")}),Kn.openedBy=new Kn({deserialize:n=>n.split(" ")}),Kn.group=new Kn({deserialize:n=>n.split(" ")}),Kn.isolate=new Kn({deserialize:n=>{if(n&&"rtl"!=n&&"ltr"!=n&&"auto"!=n)throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}}),Kn.contextHash=new Kn({perNode:!0}),Kn.lookAhead=new Kn({perNode:!0}),Kn.mounted=new Kn({perNode:!0});class Bw{constructor(t,i,s){this.tree=t,this.overlay=i,this.parser=s}static get(t){return t&&t.props&&t.props[Kn.mounted.id]}}const _pt=Object.create(null);class eo{constructor(t,i,s,o=0){this.name=t,this.props=i,this.id=s,this.flags=o}static define(t){let i=t.props&&t.props.length?Object.create(null):_pt,o=new eo(t.name||"",i,t.id,(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0));if(t.props)for(let a of t.props)if(Array.isArray(a)||(a=a(o)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");i[a[0].id]=a[1]}return o}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let i=this.prop(Kn.group);return!!i&&i.indexOf(t)>-1}return this.id==t}static match(t){let i=Object.create(null);for(let s in t)for(let o of s.split(" "))i[o]=t[s];return s=>{for(let o=s.prop(Kn.group),a=-1;a<(o?o.length:0);a++){let l=i[a<0?s.name:o[a]];if(l)return l}}}}eo.none=new eo("",Object.create(null),0,8);class bb{constructor(t){this.types=t;for(let i=0;i<t.length;i++)if(t[i].id!=i)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let i=[];for(let s of this.types){let o=null;for(let a of t){let l=a(s);l&&(o||(o=Object.assign({},s.props)),o[l[0].id]=l[1])}i.push(o?new eo(s.name,o,s.id,s.flags):s)}return new bb(i)}}const yT=new WeakMap,kme=new WeakMap;var ms=function(n){return n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays",n}(ms||{});class Or{constructor(t,i,s,o,a){if(this.type=t,this.children=i,this.positions=s,this.length=o,this.props=null,a&&a.length){this.props=Object.create(null);for(let[l,c]of a)this.props["number"==typeof l?l:l.id]=c}}toString(){let t=Bw.get(this);if(t&&!t.overlay)return t.tree.toString();let i="";for(let s of this.children){let o=s.toString();o&&(i&&(i+=","),i+=o)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(i.length?"("+i+")":""):i}cursor(t=0){return new vT(this.topNode,t)}cursorAt(t,i=0,s=0){let o=yT.get(this)||this.topNode,a=new vT(o);return a.moveTo(t,i),yT.set(this,a._tree),a}get topNode(){return new Ca(this,0,0,null)}resolve(t,i=0){let s=jw(yT.get(this)||this.topNode,t,i,!1);return yT.set(this,s),s}resolveInner(t,i=0){let s=jw(kme.get(this)||this.topNode,t,i,!0);return kme.set(this,s),s}resolveStack(t,i=0){return function xpt(n,t,i){let s=n.resolveInner(t,i),o=null;for(let a=s instanceof Ca?s:s.context.parent;a;a=a.parent)if(a.index<0){let l=a.parent;(o||(o=[s])).push(l.resolve(t,i)),a=l}else{let l=Bw.get(a.tree);if(l&&l.overlay&&l.overlay[0].from<=t&&l.overlay[l.overlay.length-1].to>=t){let c=new Ca(l.tree,l.overlay[0].from+a.from,-1,a);(o||(o=[s])).push(jw(c,t,i,!1))}}return o?Rme(o):s}(this,t,i)}iterate(t){let{enter:i,leave:s,from:o=0,to:a=this.length}=t,l=t.mode||0,c=(l&ms.IncludeAnonymous)>0;for(let u=this.cursor(l|ms.IncludeAnonymous);;){let d=!1;if(u.from<=a&&u.to>=o&&(!c&&u.type.isAnonymous||!1!==i(u))){if(u.firstChild())continue;d=!0}for(;d&&s&&(c||!u.type.isAnonymous)&&s(u),!u.nextSibling();){if(!u.parent())return;d=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let i in this.props)t.push([+i,this.props[i]]);return t}balance(t={}){return this.children.length<=8?this:hj(eo.none,this.children,this.positions,0,this.children.length,0,this.length,(i,s,o)=>new Or(this.type,i,s,o,this.propValues),t.makeTree||((i,s,o)=>new Or(eo.none,i,s,o)))}static build(t){return function Cpt(n){var t;let{buffer:i,nodeSet:s,maxBufferLength:o=Dme,reused:a=[],minRepeatType:l=s.types.length}=n,c=Array.isArray(i)?new dj(i,i.length):i,u=s.types,d=0,p=0;function f(w,C,P,D,I,k){let{id:F,start:M,end:B,size:q}=c,ue=p;for(;q<0;){if(c.next(),-1==q)return P.push(a[F]),void D.push(M-w);if(-3==q)return void(d=F);if(-4==q)return void(p=F);throw new RangeError(`Unrecognized record size: ${q}`)}let ee,Q,H=u[F],Ee=M-w;if(B-M<=o&&(Q=function v(w,C){let P=c.fork(),D=0,I=0,k=0,F=P.end-o,M={size:0,start:0,skip:0};e:for(let B=P.pos-w;P.pos>B;){let q=P.size;if(P.id==C&&q>=0){M.size=D,M.start=I,M.skip=k,k+=4,D+=4,P.next();continue}let ue=P.pos-q;if(q<0||ue<B||P.start<F)break;let H=P.id>=l?4:0,ee=P.start;for(P.next();P.pos>ue;){if(P.size<0){if(-3!=P.size)break e;H+=4}else P.id>=l&&(H+=4);P.next()}I=ee,D+=q,k+=H}return(C<0||D==w)&&(M.size=D,M.start=I,M.skip=k),M.size>4?M:void 0}(c.pos-C,I))){let Te=new Uint16Array(Q.size-Q.skip),Ve=c.pos-Q.size,Pe=Te.length;for(;c.pos>Ve;)Pe=_(Q.start,Te,Pe);ee=new v0(Te,B-Q.start,s),Ee=Q.start-w}else{let Te=c.pos-q;c.next();let Ve=[],Pe=[],de=F>=l?F:-1,X=0,j=B;for(;c.pos>Te;)de>=0&&c.id==de&&c.size>=0?(c.end<=j-o&&(g(Ve,Pe,M,X,c.end,j,de,ue),X=Ve.length,j=c.end),c.next()):k>2500?h(M,Te,Ve,Pe):f(M,Te,Ve,Pe,de,k+1);if(de>=0&&X>0&&X<Ve.length&&g(Ve,Pe,M,X,M,j,de,ue),Ve.reverse(),Pe.reverse(),de>-1&&X>0){let R=function m(w){return(C,P,D)=>{let F,M,I=0,k=C.length-1;if(k>=0&&(F=C[k])instanceof Or){if(!k&&F.type==w&&F.length==D)return F;(M=F.prop(Kn.lookAhead))&&(I=P[k]+F.length+M)}return y(w,C,P,D,I)}}(H);ee=hj(H,Ve,Pe,0,Ve.length,0,B-M,R,R)}else ee=y(H,Ve,Pe,B-M,ue-B)}P.push(ee),D.push(Ee)}function h(w,C,P,D){let I=[],k=0,F=-1;for(;c.pos>C;){let{id:M,start:B,end:q,size:ue}=c;if(ue>4)c.next();else{if(F>-1&&B<F)break;F<0&&(F=q-o),I.push(M,B,q),k++,c.next()}}if(k){let M=new Uint16Array(4*k),B=I[I.length-2];for(let q=I.length-3,ue=0;q>=0;q-=3)M[ue++]=I[q],M[ue++]=I[q+1]-B,M[ue++]=I[q+2]-B,M[ue++]=ue;P.push(new v0(M,I[2]-B,s)),D.push(B-w)}}function g(w,C,P,D,I,k,F,M){let B=[],q=[];for(;w.length>D;)B.push(w.pop()),q.push(C.pop()+P-I);w.push(y(s.types[F],B,q,k-I,M-k)),C.push(I-P)}function y(w,C,P,D,I=0,k){if(d){let F=[Kn.contextHash,d];k=k?[F].concat(k):[F]}if(I>25){let F=[Kn.lookAhead,I];k=k?[F].concat(k):[F]}return new Or(w,C,P,D,k)}function _(w,C,P){let{id:D,start:I,end:k,size:F}=c;if(c.next(),F>=0&&D<l){let M=P;if(F>4){let B=c.pos-(F-4);for(;c.pos>B;)P=_(w,C,P)}C[--P]=M,C[--P]=k-w,C[--P]=I-w,C[--P]=D}else-3==F?d=D:-4==F&&(p=D);return P}let E=[],x=[];for(;c.pos>0;)f(n.start||0,n.bufferStart||0,E,x,-1,0);let b=null!==(t=n.length)&&void 0!==t?t:E.length?x[0]+E[0].length:0;return new Or(u[n.topID],E.reverse(),x.reverse(),b)}(t)}}Or.empty=new Or(eo.none,[],[],0);class dj{constructor(t,i){this.buffer=t,this.index=i}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new dj(this.buffer,this.index)}}class v0{constructor(t,i,s){this.buffer=t,this.length=i,this.set=s}get type(){return eo.none}toString(){let t=[];for(let i=0;i<this.buffer.length;)t.push(this.childString(i)),i=this.buffer[i+3];return t.join(",")}childString(t){let s=this.buffer[t+3],o=this.set.types[this.buffer[t]],a=o.name;if(/\W/.test(a)&&!o.isError&&(a=JSON.stringify(a)),s==(t+=4))return a;let l=[];for(;t<s;)l.push(this.childString(t)),t=this.buffer[t+3];return a+"("+l.join(",")+")"}findChild(t,i,s,o,a){let{buffer:l}=this,c=-1;for(let u=t;u!=i&&!(Mme(a,o,l[u+1],l[u+2])&&(c=u,s>0));u=l[u+3]);return c}slice(t,i,s){let o=this.buffer,a=new Uint16Array(i-t),l=0;for(let c=t,u=0;c<i;){a[u++]=o[c++],a[u++]=o[c++]-s;let d=a[u++]=o[c++]-s;a[u++]=o[c++]-t,l=Math.max(l,d)}return new v0(a,l,this.set)}}function Mme(n,t,i,s){switch(n){case-2:return i<t;case-1:return s>=t&&i<t;case 0:return i<t&&s>t;case 1:return i<=t&&s>t;case 2:return s>t;case 4:return!0}}function jw(n,t,i,s){for(var o;n.from==n.to||(i<1?n.from>=t:n.from>t)||(i>-1?n.to<=t:n.to<t);){let l=!s&&n instanceof Ca&&n.index<0?null:n.parent;if(!l)return n;n=l}let a=s?0:ms.IgnoreOverlays;if(s)for(let l=n,c=l.parent;c;l=c,c=l.parent)l instanceof Ca&&l.index<0&&(null===(o=c.enter(t,i,a))||void 0===o?void 0:o.from)!=l.from&&(n=c);for(;;){let l=n.enter(t,i,a);if(!l)return n;n=l}}class Ame{cursor(t=0){return new vT(this,t)}getChild(t,i=null,s=null){let o=Ime(this,t,i,s);return o.length?o[0]:null}getChildren(t,i=null,s=null){return Ime(this,t,i,s)}resolve(t,i=0){return jw(this,t,i,!1)}resolveInner(t,i=0){return jw(this,t,i,!0)}matchContext(t){return pj(this,t)}enterUnfinishedNodesBefore(t){let i=this.childBefore(t),s=this;for(;i;){let o=i.lastChild;if(!o||o.to!=i.to)break;o.type.isError&&o.from==o.to?(s=i,i=o.prevSibling):i=o}return s}get node(){return this}get next(){return this.parent}}class Ca extends Ame{constructor(t,i,s,o){super(),this._tree=t,this.from=i,this.index=s,this._parent=o}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,i,s,o,a=0){for(let l=this;;){for(let{children:c,positions:u}=l._tree,d=i>0?c.length:-1;t!=d;t+=i){let p=c[t],f=u[t]+l.from;if(Mme(o,s,f,f+p.length))if(p instanceof v0){if(a&ms.ExcludeBuffers)continue;let h=p.findChild(0,p.buffer.length,i,s-f,o);if(h>-1)return new Kd(new Ept(l,p,t,f),null,h)}else if(a&ms.IncludeAnonymous||!p.type.isAnonymous||fj(p)){let h;if(!(a&ms.IgnoreMounts)&&(h=Bw.get(p))&&!h.overlay)return new Ca(h.tree,f,t,l);let m=new Ca(p,f,t,l);return a&ms.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(i<0?p.children.length-1:0,i,s,o)}}if(a&ms.IncludeAnonymous||!l.type.isAnonymous||(t=l.index>=0?l.index+i:i<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,i,s=0){let o;if(!(s&ms.IgnoreOverlays)&&(o=Bw.get(this._tree))&&o.overlay){let a=t-this.from;for(let{from:l,to:c}of o.overlay)if((i>0?l<=a:l<a)&&(i<0?c>=a:c>a))return new Ca(o.tree,o.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,i,s)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Ime(n,t,i,s){let o=n.cursor(),a=[];if(!o.firstChild())return a;if(null!=i)for(let l=!1;!l;)if(l=o.type.is(i),!o.nextSibling())return a;for(;;){if(null!=s&&o.type.is(s))return a;if(o.type.is(t)&&a.push(o.node),!o.nextSibling())return null==s?a:[]}}function pj(n,t,i=t.length-1){for(let s=n.parent;i>=0;s=s.parent){if(!s)return!1;if(!s.type.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}class Ept{constructor(t,i,s,o){this.parent=t,this.buffer=i,this.index=s,this.start=o}}class Kd extends Ame{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,i,s){super(),this.context=t,this._parent=i,this.index=s,this.type=t.buffer.set.types[t.buffer.buffer[s]]}child(t,i,s){let{buffer:o}=this.context,a=o.findChild(this.index+4,o.buffer[this.index+3],t,i-this.context.start,s);return a<0?null:new Kd(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,i,s=0){if(s&ms.ExcludeBuffers)return null;let{buffer:o}=this.context,a=o.findChild(this.index+4,o.buffer[this.index+3],i>0?1:-1,t-this.context.start,i);return a<0?null:new Kd(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,i=t.buffer[this.index+3];return i<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Kd(this.context,this._parent,i):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,i=this._parent?this._parent.index+4:0;return this.index==i?this.externalSibling(-1):new Kd(this.context,this._parent,t.findChild(i,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],i=[],{buffer:s}=this.context,o=this.index+4,a=s.buffer[this.index+3];return a>o&&(t.push(s.slice(o,a,s.buffer[this.index+1])),i.push(0)),new Or(this.type,t,i,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Rme(n){if(!n.length)return null;let t=0,i=n[0];for(let a=1;a<n.length;a++){let l=n[a];(l.from>i.from||l.to<i.to)&&(i=l,t=a)}let s=i instanceof Ca&&i.index<0?null:i.parent,o=n.slice();return s?o[t]=s:o.splice(t,1),new wpt(o,i)}class wpt{constructor(t,i){this.heads=t,this.node=i}get next(){return Rme(this.heads)}}class vT{get name(){return this.type.name}constructor(t,i=0){if(this.mode=i,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Ca)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let s=t._parent;s;s=s._parent)this.stack.unshift(s.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,i){this.index=t;let{start:s,buffer:o}=this.buffer;return this.type=i||o.set.types[o.buffer[t]],this.from=s+o.buffer[t+1],this.to=s+o.buffer[t+2],!0}yield(t){return!!t&&(t instanceof Ca?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,i,s){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,i,s,this.mode));let{buffer:o}=this.buffer,a=o.findChild(this.index+4,o.buffer[this.index+3],t,i-this.buffer.start,s);return!(a<0)&&(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,i,s=this.mode){return this.buffer?!(s&ms.ExcludeBuffers)&&this.enterChild(1,t,i):this.yield(this._tree.enter(t,i,s))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ms.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&ms.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:i}=this.buffer,s=this.stack.length-1;if(t<0){let o=s<0?0:this.stack[s]+4;if(this.index!=o)return this.yieldBuf(i.findChild(o,this.index,-1,0,4))}else{let o=i.buffer[this.index+3];if(o<(s<0?i.buffer.length:i.buffer[this.stack[s]+3]))return this.yieldBuf(o)}return s<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let i,s,{buffer:o}=this;if(o){if(t>0){if(this.index<o.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(o.buffer.buffer[a+3]<this.index)return!1;({index:i,parent:s}=o)}else({index:i,_parent:s}=this._tree);for(;s;({index:i,_parent:s}=s))if(i>-1)for(let a=i+t,l=t<0?-1:s._tree.children.length;a!=l;a+=t){let c=s._tree.children[a];if(this.mode&ms.IncludeAnonymous||c instanceof v0||!c.type.isAnonymous||fj(c))return!1}return!0}move(t,i){if(i&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,i=0){for(;(this.from==this.to||(i<1?this.from>=t:this.from>t)||(i>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,i););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,i=null,s=0;if(t&&t.context==this.buffer)e:for(let o=this.index,a=this.stack.length;a>=0;){for(let l=t;l;l=l._parent)if(l.index==o){if(o==this.index)return l;i=l,s=a+1;break e}o=this.stack[--a]}for(let o=s;o<this.stack.length;o++)i=new Kd(this.buffer,i,this.stack[o]);return this.bufferNode=new Kd(this.buffer,i,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,i){for(let s=0;;){let o=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){s++;continue}this.type.isAnonymous||(o=!0)}for(;o&&i&&i(this),o=this.type.isAnonymous,!this.nextSibling();){if(!s)return;this.parent(),s--,o=!0}}}matchContext(t){if(!this.buffer)return pj(this.node,t);let{buffer:i}=this.buffer,{types:s}=i.set;for(let o=t.length-1,a=this.stack.length-1;o>=0;a--){if(a<0)return pj(this.node,t,o);let l=s[i.buffer[this.stack[a]]];if(!l.isAnonymous){if(t[o]&&t[o]!=l.name)return!1;o--}}return!0}}function fj(n){return n.children.some(t=>t instanceof v0||!t.type.isAnonymous||fj(t))}const Nme=new WeakMap;function bT(n,t){if(!n.isAnonymous||t instanceof v0||t.type!=n)return 1;let i=Nme.get(t);if(null==i){i=1;for(let s of t.children){if(s.type!=n||!(s instanceof Or)){i=1;break}i+=bT(n,s)}Nme.set(t,i)}return i}function hj(n,t,i,s,o,a,l,c,u){let d=0;for(let g=s;g<o;g++)d+=bT(n,t[g]);let p=Math.ceil(1.5*d/8),f=[],h=[];return function m(g,y,v,_,E){for(let x=v;x<_;){let b=x,w=y[x],C=bT(n,g[x]);for(x++;x<_;x++){let P=bT(n,g[x]);if(C+P>=p)break;C+=P}if(x==b+1){if(C>p){let P=g[b];m(P.children,P.positions,0,P.children.length,y[b]+E);continue}f.push(g[b])}else f.push(hj(n,g,y,b,x,w,y[x-1]+g[x-1].length-w,null,u));h.push(w+E-a)}}(t,i,s,o,0),(c||u)(f,h,l)}class Of{constructor(t,i,s,o,a=!1,l=!1){this.from=t,this.to=i,this.tree=s,this.offset=o,this.open=(a?1:0)|(l?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,i=[],s=!1){let o=[new Of(0,t.length,t,0,!1,s)];for(let a of i)a.to>t.length&&o.push(a);return o}static applyChanges(t,i,s=128){if(!i.length)return t;let o=[],a=1,l=t.length?t[0]:null;for(let c=0,u=0,d=0;;c++){let p=c<i.length?i[c]:null,f=p?p.fromA:1e9;if(f-u>=s)for(;l&&l.from<f;){let h=l;if(u>=h.from||f<=h.to||d){let m=Math.max(h.from,u)-d,g=Math.min(h.to,f)-d;h=m>=g?null:new Of(m,g,h.tree,h.offset+d,c>0,!!p)}if(h&&o.push(h),l.to>f)break;l=a<t.length?t[a++]:null}if(!p)break;u=p.toA,d=p.toA-p.toB}return o}}class _T{startParse(t,i,s){return"string"==typeof t&&(t=new Spt(t)),s=s?s.length?s.map(o=>new iu(o.from,o.to)):[new iu(0,0)]:[new iu(0,t.length)],this.createParse(t,i||[],s)}parse(t,i,s){let o=this.startParse(t,i,s);for(;;){let a=o.advance();if(a)return a}}}class Spt{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,i){return this.string.slice(t,i)}}function Opt(n){return(t,i,s,o)=>new Ppt(t,n,i,s,o)}class Lme{constructor(t,i,s,o,a){this.parser=t,this.parse=i,this.overlay=s,this.target=o,this.from=a}}function Fme(n){if(!n.length||n.some(t=>t.from>=t.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class Tpt{constructor(t,i,s,o,a,l,c){this.parser=t,this.predicate=i,this.mounts=s,this.index=o,this.start=a,this.target=l,this.prev=c,this.depth=0,this.ranges=[]}}const mj=new Kn({perNode:!0});class Ppt{constructor(t,i,s,o,a){this.nest=i,this.input=s,this.fragments=o,this.ranges=a,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=t}advance(){if(this.baseParse){let s=this.baseParse.advance();if(!s)return null;if(this.baseParse=null,this.baseTree=s,this.startInner(),null!=this.stoppedAt)for(let o of this.inner)o.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let s=this.baseTree;return null!=this.stoppedAt&&(s=new Or(s.type,s.children,s.positions,s.length,s.propValues.concat([[mj,this.stoppedAt]]))),s}let t=this.inner[this.innerDone],i=t.parse.advance();if(i){this.innerDone++;let s=Object.assign(Object.create(null),t.target.props);s[Kn.mounted.id]=new Bw(i,t.overlay,t.parser),t.target.props=s}return null}get parsedPos(){if(this.baseParse)return 0;let t=this.input.length;for(let i=this.innerDone;i<this.inner.length;i++)this.inner[i].from<t&&(t=Math.min(t,this.inner[i].parse.parsedPos));return t}stopAt(t){if(this.stoppedAt=t,this.baseParse)this.baseParse.stopAt(t);else for(let i=this.innerDone;i<this.inner.length;i++)this.inner[i].parse.stopAt(t)}startInner(){let t=new Mpt(this.fragments),i=null,s=null,o=new vT(new Ca(this.baseTree,this.ranges[0].from,0,null),ms.IncludeAnonymous|ms.IgnoreMounts);e:for(let a,l;;){let u,c=!0;if(null!=this.stoppedAt&&o.from>=this.stoppedAt)c=!1;else if(t.hasNode(o)){if(i){let d=i.mounts.find(p=>p.frag.from<=o.from&&p.frag.to>=o.to&&p.mount.overlay);if(d)for(let p of d.mount.overlay){let f=p.from+d.pos,h=p.to+d.pos;f>=o.from&&h<=o.to&&!i.ranges.some(m=>m.from<h&&m.to>f)&&i.ranges.push({from:f,to:h})}}c=!1}else if(s&&(l=Dpt(s.ranges,o.from,o.to)))c=2!=l;else if(!o.type.isAnonymous&&(a=this.nest(o,this.input))&&(o.from<o.to||!a.overlay)){o.tree||kpt(o);let d=t.findMounts(o.from,a.parser);if("function"==typeof a.overlay)i=new Tpt(a.parser,a.overlay,d,this.inner.length,o.from,o.tree,i);else{let p=Vme(this.ranges,a.overlay||(o.from<o.to?[new iu(o.from,o.to)]:[]));p.length&&Fme(p),(p.length||!a.overlay)&&this.inner.push(new Lme(a.parser,p.length?a.parser.startParse(this.input,$me(d,p),p):a.parser.startParse(""),a.overlay?a.overlay.map(f=>new iu(f.from-o.from,f.to-o.from)):null,o.tree,p.length?p[0].from:o.from)),a.overlay?p.length&&(s={ranges:p,depth:0,prev:s}):c=!1}}else i&&(u=i.predicate(o))&&(!0===u&&(u=new iu(o.from,o.to)),u.from<u.to&&i.ranges.push(u));if(c&&o.firstChild())i&&i.depth++,s&&s.depth++;else for(;!o.nextSibling();){if(!o.parent())break e;if(i&&! --i.depth){let d=Vme(this.ranges,i.ranges);d.length&&(Fme(d),this.inner.splice(i.index,0,new Lme(i.parser,i.parser.startParse(this.input,$me(i.mounts,d),d),i.ranges.map(p=>new iu(p.from-i.start,p.to-i.start)),i.target,d[0].from))),i=i.prev}s&&! --s.depth&&(s=s.prev)}}}}function Dpt(n,t,i){for(let s of n){if(s.from>=i)break;if(s.to>t)return s.from<=t&&s.to>=i?2:1}return 0}function Bme(n,t,i,s,o,a){if(t<i){let l=n.buffer[t+1];s.push(n.slice(t,i,l)),o.push(l-a)}}function kpt(n){let{node:t}=n,i=[],s=t.context.buffer;do{i.push(n.index),n.parent()}while(!n.tree);let o=n.tree,a=o.children.indexOf(s),l=o.children[a],c=l.buffer,u=[a];o.children[a]=function d(p,f,h,m,g,y){let v=i[y],_=[],E=[];Bme(l,p,v,_,E,m);let x=c[v+1],b=c[v+2];u.push(_.length);let w=y?d(v+4,c[v+3],l.set.types[c[v]],x,b-x,y-1):t.toTree();return _.push(w),E.push(x-m),Bme(l,c[v+3],f,_,E,m),new Or(h,_,E,g)}(0,c.length,eo.none,0,l.length,i.length-1);for(let p of u)n.yield(new Ca(n.tree.children[p],n.tree.positions[p]+n.from,p,n._tree))}class jme{constructor(t,i){this.offset=i,this.done=!1,this.cursor=t.cursor(ms.IncludeAnonymous|ms.IgnoreMounts)}moveTo(t){let{cursor:i}=this,s=t-this.offset;for(;!this.done&&i.from<s;)i.to>=t&&i.enter(s,1,ms.IgnoreOverlays|ms.ExcludeBuffers)||i.next(!1)||(this.done=!0)}hasNode(t){if(this.moveTo(t.from),!this.done&&this.cursor.from+this.offset==t.from&&this.cursor.tree)for(let i=this.cursor.tree;;){if(i==t.tree)return!0;if(!(i.children.length&&0==i.positions[0]&&i.children[0]instanceof Or))break;i=i.children[0]}return!1}}class Mpt{constructor(t){var i;if(this.fragments=t,this.curTo=0,this.fragI=0,t.length){let s=this.curFrag=t[0];this.curTo=null!==(i=s.tree.prop(mj))&&void 0!==i?i:s.to,this.inner=new jme(s.tree,-s.offset)}else this.curFrag=this.inner=null}hasNode(t){for(;this.curFrag&&t.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=t.from&&this.curTo>=t.to&&this.inner.hasNode(t)}nextFrag(){var t;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let i=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(t=i.tree.prop(mj))&&void 0!==t?t:i.to,this.inner=new jme(i.tree,-i.offset)}}findMounts(t,i){var s;let o=[];if(this.inner){this.inner.cursor.moveTo(t,1);for(let a=this.inner.cursor.node;a;a=a.parent){let l=null===(s=a.tree)||void 0===s?void 0:s.prop(Kn.mounted);if(l&&l.parser==i)for(let c=this.fragI;c<this.fragments.length;c++){let u=this.fragments[c];if(u.from>=a.to)break;u.tree==this.curFrag.tree&&o.push({frag:u,pos:a.from-u.offset,mount:l})}}}return o}}function Vme(n,t){let i=null,s=t;for(let o=1,a=0;o<n.length;o++){let l=n[o-1].to,c=n[o].from;for(;a<s.length;a++){let u=s[a];if(u.from>=c)break;u.to<=l||(i||(s=i=t.slice()),u.from<l?(i[a]=new iu(u.from,l),u.to>c&&i.splice(a+1,0,new iu(c,u.to))):u.to>c?i[a--]=new iu(c,u.to):i.splice(a--,1))}}return s}function Apt(n,t,i,s){let o=0,a=0,l=!1,c=!1,u=-1e9,d=[];for(;;){let p=o==n.length?1e9:l?n[o].to:n[o].from,f=a==t.length?1e9:c?t[a].to:t[a].from;if(l!=c){let h=Math.max(u,i),m=Math.min(p,f,s);h<m&&d.push(new iu(h,m))}if(u=Math.min(p,f),1e9==u)break;p==u&&(l?(l=!1,o++):l=!0),f==u&&(c?(c=!1,a++):c=!0)}return d}function $me(n,t){let i=[];for(let{pos:s,mount:o,frag:a}of n){let l=s+(o.overlay?o.overlay[0].from:0),c=l+o.tree.length,u=Math.max(a.from,l),d=Math.min(a.to,c);if(o.overlay){let f=Apt(t,o.overlay.map(h=>new iu(h.from+s,h.to+s)),u,d);for(let h=0,m=u;;h++){let g=h==f.length,y=g?d:f[h].from;if(y>m&&i.push(new Of(m,y,o.tree,-l,a.from>=m||a.openStart,a.to<=y||a.openEnd)),g)break;m=f[h].to}}else i.push(new Of(u,d,o.tree,-l,a.from>=l||a.openStart,a.to<=c||a.openEnd))}return i}class ET{constructor(t,i,s,o,a,l,c,u,d,p=0,f){this.p=t,this.stack=i,this.state=s,this.reducePos=o,this.pos=a,this.score=l,this.buffer=c,this.bufferBase=u,this.curContext=d,this.lookAhead=p,this.parent=f}toString(){return`[${this.stack.filter((t,i)=>i%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,i,s=0){let o=t.parser.context;return new ET(t,[],i,s,s,0,[],0,o?new zme(o,o.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,i){this.stack.push(this.state,i,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var i;let s=t>>19,o=65535&t,{parser:a}=this.p,l=this.reducePos<this.pos-25;l&&this.setLookAhead(this.pos);let c=a.dynamicPrecedence(o);if(c&&(this.score+=c),0==s)return this.pushState(a.getGoto(this.state,o,!0),this.reducePos),o<a.minRepeatTerm&&this.storeNode(o,this.reducePos,this.reducePos,l?8:4,!0),void this.reduceContext(o,this.reducePos);let u=this.stack.length-3*(s-1)-(262144&t?6:0),d=u?this.stack[u-2]:this.p.ranges[0].from,p=this.reducePos-d;p>=2e3&&(null===(i=this.p.parser.nodeSet.types[o])||void 0===i||!i.isAnonymous)&&(d==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=p):this.p.lastBigReductionSize<p&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=d,this.p.lastBigReductionSize=p));let h=this.bufferBase+this.buffer.length-(u?this.stack[u-1]:0);if(o<a.minRepeatTerm||131072&t){let m=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(o,d,m,h+4,!0)}for(this.state=262144&t?this.stack[u]:a.getGoto(this.stack[u-3],o,!0);this.stack.length>u;)this.stack.pop();this.reduceContext(o,d)}storeNode(t,i,s,o=4,a=!1){if(0==t&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,c=this.buffer.length;if(0==c&&l.parent&&(c=l.bufferBase-l.parent.bufferBase,l=l.parent),c>0&&0==l.buffer[c-4]&&l.buffer[c-1]>-1){if(i==s)return;if(l.buffer[c-2]>=i)return void(l.buffer[c-2]=s)}}if(a&&this.pos!=s){let l=this.buffer.length;if(l>0&&0!=this.buffer[l-4]){let c=!1;for(let u=l;u>0&&this.buffer[u-2]>s;u-=4)if(this.buffer[u-1]>=0){c=!0;break}if(c)for(;l>0&&this.buffer[l-2]>s;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,o>4&&(o-=4)}this.buffer[l]=t,this.buffer[l+1]=i,this.buffer[l+2]=s,this.buffer[l+3]=o}else this.buffer.push(t,i,s,o)}shift(t,i,s,o){if(131072&t)this.pushState(65535&t,this.pos);else if(262144&t)this.pos=o,this.shiftContext(i,s),i<=this.p.parser.maxNode&&this.buffer.push(i,s,o,4);else{let a=t,{parser:l}=this.p;(o>this.pos||i<=l.maxNode)&&(this.pos=o,l.stateFlag(a,1)||(this.reducePos=o)),this.pushState(a,s),this.shiftContext(i,s),i<=l.maxNode&&this.buffer.push(i,s,o,4)}}apply(t,i,s,o){65536&t?this.reduce(t):this.shift(t,i,s,o)}useNode(t,i){let s=this.p.reused.length-1;(s<0||this.p.reused[s]!=t)&&(this.p.reused.push(t),s++);let o=this.pos;this.reducePos=this.pos=o+t.length,this.pushState(i,o),this.buffer.push(s,o,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,i=t.buffer.length;for(;i>0&&t.buffer[i-2]>t.reducePos;)i-=4;let s=t.buffer.slice(i),o=t.bufferBase+i;for(;t&&o==t.bufferBase;)t=t.parent;return new ET(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,s,o,this.curContext,this.lookAhead,t)}recoverByDelete(t,i){let s=t<=this.p.parser.maxNode;s&&this.storeNode(t,this.pos,i,4),this.storeNode(0,this.pos,i,s?8:4),this.pos=this.reducePos=i,this.score-=190}canShift(t){for(let i=new Ipt(this);;){let s=this.p.parser.stateSlot(i.state,4)||this.p.parser.hasAction(i.state,t);if(0==s)return!1;if(!(65536&s))return!0;i.reduce(s)}}recoverByInsert(t){if(this.stack.length>=300)return[];let i=this.p.parser.nextStates(this.state);if(i.length>8||this.stack.length>=120){let o=[];for(let l,a=0;a<i.length;a+=2)(l=i[a+1])!=this.state&&this.p.parser.hasAction(l,t)&&o.push(i[a],l);if(this.stack.length<120)for(let a=0;o.length<8&&a<i.length;a+=2){let l=i[a+1];o.some((c,u)=>1&u&&c==l)||o.push(i[a],l)}i=o}let s=[];for(let o=0;o<i.length&&s.length<4;o+=2){let a=i[o+1];if(a==this.state)continue;let l=this.split();l.pushState(a,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(i[o],this.pos),l.reducePos=this.pos,l.score-=200,s.push(l)}return s}forceReduce(){let{parser:t}=this.p,i=t.stateSlot(this.state,5);if(!(65536&i))return!1;if(!t.validAction(this.state,i)){let a=this.stack.length-3*(i>>19);if(a<0||t.getGoto(this.stack[a],65535&i,!1)<0){let l=this.findForcedReduction();if(null==l)return!1;i=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(i),!0}findForcedReduction(){let{parser:t}=this.p,i=[],s=(o,a)=>{if(!i.includes(o))return i.push(o),t.allActions(o,l=>{if(!(393216&l))if(65536&l){let c=(l>>19)-a;if(c>1){let u=65535&l,d=this.stack.length-3*c;if(d>=0&&t.getGoto(this.stack[d],u,!1)>=0)return c<<19|65536|u}}else{let c=s(l,a+1);if(null!=c)return c}})};return s(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let i=0;i<this.stack.length;i+=3)if(this.stack[i]!=t.stack[i])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,i){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(i)))}reduceContext(t,i){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(i)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let i=new zme(this.curContext.tracker,t);i.hash!=this.curContext.hash&&this.emitContext(),this.curContext=i}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class zme{constructor(t,i){this.tracker=t,this.context=i,this.hash=t.strict?t.hash(i):0}}class Ipt{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let i=65535&t,s=t>>19;0==s?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(s-1);let o=this.start.p.parser.getGoto(this.stack[this.base-3],i,!0);this.state=o}}class wT{constructor(t,i,s){this.stack=t,this.pos=i,this.index=s,this.buffer=t.buffer,0==this.index&&this.maybeNext()}static create(t,i=t.bufferBase+t.buffer.length){return new wT(t,i,i-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new wT(this.stack,this.pos,this.index)}}function Vw(n,t=Uint16Array){if("string"!=typeof n)return n;let i=null;for(let s=0,o=0;s<n.length;){let a=0;for(;;){let l=n.charCodeAt(s++),c=!1;if(126==l){a=65535;break}l>=92&&l--,l>=34&&l--;let u=l-32;if(u>=46&&(u-=46,c=!0),a+=u,c)break;a*=46}i?i[o++]=a:i=new t(a)}return i}class xT{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Hme=new xT;class Rpt{constructor(t,i){this.input=t,this.ranges=i,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Hme,this.rangeIndex=0,this.pos=this.chunkPos=i[0].from,this.range=i[0],this.end=i[i.length-1].to,this.readNext()}resolveOffset(t,i){let s=this.range,o=this.rangeIndex,a=this.pos+t;for(;a<s.from;){if(!o)return null;let l=this.ranges[--o];a-=s.from-l.to,s=l}for(;i<0?a>s.to:a>=s.to;){if(o==this.ranges.length-1)return null;let l=this.ranges[++o];a+=l.from-s.to,s=l}return a}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let i of this.ranges)if(i.to>t)return Math.max(t,i.from);return this.end}peek(t){let s,o,i=this.chunkOff+t;if(i>=0&&i<this.chunk.length)s=this.pos+t,o=this.chunk.charCodeAt(i);else{let a=this.resolveOffset(t,1);if(null==a)return-1;if(s=a,s>=this.chunk2Pos&&s<this.chunk2Pos+this.chunk2.length)o=this.chunk2.charCodeAt(s-this.chunk2Pos);else{let l=this.rangeIndex,c=this.range;for(;c.to<=s;)c=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=s),s+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-s)),o=this.chunk2.charCodeAt(0)}}return s>=this.token.lookAhead&&(this.token.lookAhead=s+1),o}acceptToken(t,i=0){let s=i?this.resolveOffset(i,-1):this.pos;if(null==s||s<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=s}acceptTokenTo(t,i){this.token.value=t,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:i}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=i,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos);this.chunk=this.pos+t.length>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.next=this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?-1:this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,i){if(i?(this.token=i,i.start=t,i.lookAhead=t+1,i.value=i.extended=-1):this.token=Hme,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,i){if(t>=this.chunkPos&&i<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,i-this.chunkPos);if(t>=this.chunk2Pos&&i<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,i-this.chunk2Pos);if(t>=this.range.from&&i<=this.range.to)return this.input.read(t,i);let s="";for(let o of this.ranges){if(o.from>=i)break;o.to>t&&(s+=this.input.read(Math.max(o.from,t),Math.min(o.to,i)))}return s}}class _b{constructor(t,i){this.data=t,this.id=i}token(t,i){let{parser:s}=i.p;!function Ume(n,t,i,s,o,a){let l=0,c=1<<s,{dialect:u}=i.p.parser;e:for(;c&n[l];){let d=n[l+1];for(let m=l+3;m<d;m+=2)if((n[m+1]&c)>0){let g=n[m];if(u.allows(g)&&(-1==t.token.value||t.token.value==g||Lpt(g,t.token.value,o,a))){t.acceptToken(g);break}}let p=t.next,f=0,h=n[l+2];if(!(t.next<0&&h>f&&65535==n[d+3*h-3])){for(;f<h;){let m=f+h>>1,g=d+m+(m<<1);if(p<n[g])h=m;else{if(!(p>=(n[g+1]||65536))){l=n[g+2],t.advance();continue e}f=m+1}}break}l=n[d+3*h-1]}}(this.data,t,i,this.id,s.data,s.tokenPrecTable)}}_b.prototype.contextual=_b.prototype.fallback=_b.prototype.extend=!1,_b.prototype.fallback=_b.prototype.extend=!1;class b0{constructor(t,i={}){this.token=t,this.contextual=!!i.contextual,this.fallback=!!i.fallback,this.extend=!!i.extend}}function qme(n,t,i){for(let o,s=t;65535!=(o=n[s]);s++)if(o==i)return s-t;return-1}function Lpt(n,t,i,s){let o=qme(i,s,t);return o<0||qme(i,s,n)<o}const pc=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG);let gj=null;function Wme(n,t,i){let s=n.cursor(ms.IncludeAnonymous);for(s.moveTo(t);;)if(!(i<0?s.childBefore(t):s.childAfter(t)))for(;;){if((i<0?s.to<t:s.from>t)&&!s.type.isError)return i<0?Math.max(0,Math.min(s.to-1,t-25)):Math.min(n.length,Math.max(s.from+1,t+25));if(i<0?s.prevSibling():s.nextSibling())break;if(!s.parent())return i<0?0:n.length}}class Fpt{constructor(t,i){this.fragments=t,this.nodeSet=i,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?Wme(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?Wme(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let i=this.trees.length-1;if(i<0)return this.nextFragment(),null;let s=this.trees[i],o=this.index[i];if(o==s.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=s.children[o],l=this.start[i]+s.positions[o];if(l>t)return this.nextStart=l,null;if(a instanceof Or){if(l==t){if(l<this.safeFrom)return null;let c=l+a.length;if(c<=this.safeTo){let u=a.prop(Kn.lookAhead);if(!u||c+u<this.fragment.to)return a}}this.index[i]++,l+a.length>=Math.max(this.safeFrom,t)&&(this.trees.push(a),this.start.push(l),this.index.push(0))}else this.index[i]++,this.nextStart=l+a.length}}}class Bpt{constructor(t,i){this.stream=i,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(s=>new xT)}getActions(t){let i=0,s=null,{parser:o}=t.p,{tokenizers:a}=o,l=o.stateSlot(t.state,3),c=t.curContext?t.curContext.hash:0,u=0;for(let d=0;d<a.length;d++){if(!(1<<d&l))continue;let p=a[d],f=this.tokens[d];if((!s||p.fallback)&&((p.contextual||f.start!=t.pos||f.mask!=l||f.context!=c)&&(this.updateCachedToken(f,p,t),f.mask=l,f.context=c),f.lookAhead>f.end+25&&(u=Math.max(f.lookAhead,u)),0!=f.value)){let h=i;if(f.extended>-1&&(i=this.addActions(t,f.extended,f.end,i)),i=this.addActions(t,f.value,f.end,i),!p.extend&&(s=f,i>h))break}}for(;this.actions.length>i;)this.actions.pop();return u&&t.setLookAhead(u),!s&&t.pos==this.stream.end&&(s=new xT,s.value=t.p.parser.eofTerm,s.start=s.end=t.pos,i=this.addActions(t,s.value,s.end,i)),this.mainToken=s,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let i=new xT,{pos:s,p:o}=t;return i.start=s,i.end=Math.min(s+1,o.stream.end),i.value=s==o.stream.end?o.parser.eofTerm:0,i}updateCachedToken(t,i,s){let o=this.stream.clipPos(s.pos);if(i.token(this.stream.reset(o,t),s),t.value>-1){let{parser:a}=s.p;for(let l=0;l<a.specialized.length;l++)if(a.specialized[l]==t.value){let c=a.specializers[l](this.stream.read(t.start,t.end),s);if(c>=0&&s.p.parser.dialect.allows(c>>1)){1&c?t.extended=c>>1:t.value=c>>1;break}}}else t.value=0,t.end=this.stream.clipPos(o+1)}putAction(t,i,s,o){for(let a=0;a<o;a+=3)if(this.actions[a]==t)return o;return this.actions[o++]=t,this.actions[o++]=i,this.actions[o++]=s,o}addActions(t,i,s,o){let{state:a}=t,{parser:l}=t.p,{data:c}=l;for(let u=0;u<2;u++)for(let d=l.stateSlot(a,u?2:1);;d+=3){if(65535==c[d]){if(1!=c[d+1]){0==o&&2==c[d+1]&&(o=this.putAction(Tf(c,d+2),i,s,o));break}d=Tf(c,d+2)}c[d]==i&&(o=this.putAction(Tf(c,d+1),i,s,o))}return o}}class jpt{constructor(t,i,s,o){this.parser=t,this.input=i,this.ranges=o,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Rpt(i,o),this.tokens=new Bpt(t,this.stream),this.topTerm=t.top[1];let{from:a}=o[0];this.stacks=[ET.start(this,t.top[0],a)],this.fragments=s.length&&this.stream.end-a>4*t.bufferLength?new Fpt(s,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let o,a,t=this.stacks,i=this.minStackPos,s=this.stacks=[];if(this.bigReductionCount>300&&1==t.length){let[l]=t;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<t.length;l++){let c=t[l];for(;;){if(this.tokens.mainToken=null,c.pos>i)s.push(c);else{if(this.advanceStack(c,s,t))continue;{o||(o=[],a=[]),o.push(c);let u=this.tokens.getMainToken(c);a.push(u.value,u.end)}}break}}if(!s.length){let l=o&&function $pt(n){let t=null;for(let i of n){let s=i.p.stoppedAt;(i.pos==i.p.stream.end||null!=s&&i.pos>s)&&i.p.parser.stateFlag(i.state,2)&&(!t||t.score<i.score)&&(t=i)}return t}(o);if(l)return pc&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw pc&&o&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&o){let l=null!=this.stoppedAt&&o[0].pos>this.stoppedAt?o[0]:this.runRecovery(o,a,s);if(l)return pc&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=1==this.recovering?1:3*this.recovering;if(s.length>l)for(s.sort((c,u)=>u.score-c.score);s.length>l;)s.pop();s.some(c=>c.reducePos>i)&&this.recovering--}else if(s.length>1){e:for(let l=0;l<s.length-1;l++){let c=s[l];for(let u=l+1;u<s.length;u++){let d=s[u];if(c.sameState(d)||c.buffer.length>500&&d.buffer.length>500){if(!((c.score-d.score||c.buffer.length-d.buffer.length)>0)){s.splice(l--,1);continue e}s.splice(u--,1)}}}s.length>12&&s.splice(12,s.length-12)}this.minStackPos=s[0].pos;for(let l=1;l<s.length;l++)s[l].pos<this.minStackPos&&(this.minStackPos=s[l].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,i,s){let o=t.pos,{parser:a}=this,l=pc?this.stackID(t)+" -> ":"";if(null!=this.stoppedAt&&o>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let d=t.curContext&&t.curContext.tracker.strict,p=d?t.curContext.hash:0;for(let f=this.fragments.nodeAt(o);f;){let h=this.parser.nodeSet.types[f.type.id]==f.type?a.getGoto(t.state,f.type.id):-1;if(h>-1&&f.length&&(!d||(f.prop(Kn.contextHash)||0)==p))return t.useNode(f,h),pc&&console.log(l+this.stackID(t)+` (via reuse of ${a.getName(f.type.id)})`),!0;if(!(f instanceof Or)||0==f.children.length||f.positions[0]>0)break;let m=f.children[0];if(!(m instanceof Or&&0==f.positions[0]))break;f=m}}let c=a.stateSlot(t.state,4);if(c>0)return t.reduce(c),pc&&console.log(l+this.stackID(t)+` (via always-reduce ${a.getName(65535&c)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let u=this.tokens.getActions(t);for(let d=0;d<u.length;){let p=u[d++],f=u[d++],h=u[d++],m=d==u.length||!s,g=m?t:t.split(),y=this.tokens.mainToken;if(g.apply(p,f,y?y.start:g.pos,h),pc&&console.log(l+this.stackID(g)+` (via ${65536&p?`reduce of ${a.getName(65535&p)}`:"shift"} for ${a.getName(f)} @ ${o}${g==t?"":", split"})`),m)return!0;g.pos>o?i.push(g):s.push(g)}return!1}advanceFully(t,i){let s=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>s)return Gme(t,i),!0}}runRecovery(t,i,s){let o=null,a=!1;for(let l=0;l<t.length;l++){let c=t[l],u=i[l<<1],d=i[1+(l<<1)],p=pc?this.stackID(c)+" -> ":"";if(c.deadEnd&&(a||(a=!0,c.restart(),pc&&console.log(p+this.stackID(c)+" (restarted)"),this.advanceFully(c,s))))continue;let f=c.split(),h=p;for(let m=0;f.forceReduce()&&m<10&&(pc&&console.log(h+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,s));m++)pc&&(h=this.stackID(f)+" -> ");for(let m of c.recoverByInsert(u))pc&&console.log(p+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,s);this.stream.end>c.pos?(d==c.pos&&(d++,u=0),c.recoverByDelete(u,d),pc&&console.log(p+this.stackID(c)+` (via recover-delete ${this.parser.getName(u)})`),Gme(c,s)):(!o||o.score<c.score)&&(o=c)}return o}stackToTree(t){return t.close(),Or.build({buffer:wT.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let i=(gj||(gj=new WeakMap)).get(t);return i||gj.set(t,i=String.fromCodePoint(this.nextStackID++)),i+t}}function Gme(n,t){for(let i=0;i<t.length;i++){let s=t[i];if(s.pos==n.pos&&s.sameState(n))return void(t[i].score<n.score&&(t[i]=n))}t.push(n)}class Vpt{constructor(t,i,s){this.source=t,this.flags=i,this.disabled=s}allows(t){return!this.disabled||0==this.disabled[t]}}const yj=n=>n;class vj{constructor(t){this.start=t.start,this.shift=t.shift||yj,this.reduce=t.reduce||yj,this.reuse=t.reuse||yj,this.hash=t.hash||(()=>0),this.strict=!1!==t.strict}}class Wg extends _T{constructor(t){if(super(),this.wrappers=[],14!=t.version)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let i=t.nodeNames.split(" ");this.minRepeatTerm=i.length;for(let c=0;c<t.repeatNodeCount;c++)i.push("");let s=Object.keys(t.topRules).map(c=>t.topRules[c][1]),o=[];for(let c=0;c<i.length;c++)o.push([]);function a(c,u,d){o[c].push([u,u.deserialize(String(d))])}if(t.nodeProps)for(let c of t.nodeProps){let u=c[0];"string"==typeof u&&(u=Kn[u]);for(let d=1;d<c.length;){let p=c[d++];if(p>=0)a(p,u,c[d++]);else{let f=c[d+-p];for(let h=-p;h>0;h--)a(c[d++],u,f);d++}}}this.nodeSet=new bb(i.map((c,u)=>eo.define({name:u>=this.minRepeatTerm?void 0:c,id:u,props:o[u],top:s.indexOf(u)>-1,error:0==u,skipped:t.skippedNodes&&t.skippedNodes.indexOf(u)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=Dme;let l=Vw(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(Kme),this.states=Vw(t.states,Uint32Array),this.data=Vw(t.stateData),this.goto=Vw(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(c=>"number"==typeof c?new _b(l,c):c),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,i,s){let o=new jpt(this,t,i,s);for(let a of this.wrappers)o=a(o,t,i,s);return o}getGoto(t,i,s=!1){let o=this.goto;if(i>=o[0])return-1;for(let a=o[i+1];;){let l=o[a++],c=1&l,u=o[a++];if(c&&s)return u;for(let d=a+(l>>1);a<d;a++)if(o[a]==t)return u;if(c)return-1}}hasAction(t,i){let s=this.data;for(let o=0;o<2;o++)for(let l,a=this.stateSlot(t,o?2:1);;a+=3){if(65535==(l=s[a])){if(1!=s[a+1]){if(2==s[a+1])return Tf(s,a+2);break}l=s[a=Tf(s,a+2)]}if(l==i||0==l)return Tf(s,a+1)}return 0}stateSlot(t,i){return this.states[6*t+i]}stateFlag(t,i){return(this.stateSlot(t,0)&i)>0}validAction(t,i){return!!this.allActions(t,s=>s==i||null)}allActions(t,i){let s=this.stateSlot(t,4),o=s?i(s):void 0;for(let a=this.stateSlot(t,1);null==o;a+=3){if(65535==this.data[a]){if(1!=this.data[a+1])break;a=Tf(this.data,a+2)}o=i(Tf(this.data,a+1))}return o}nextStates(t){let i=[];for(let s=this.stateSlot(t,1);;s+=3){if(65535==this.data[s]){if(1!=this.data[s+1])break;s=Tf(this.data,s+2)}if(!(1&this.data[s+2])){let o=this.data[s+1];i.some((a,l)=>1&l&&a==o)||i.push(this.data[s],o)}}return i}configure(t){let i=Object.assign(Object.create(Wg.prototype),this);if(t.props&&(i.nodeSet=this.nodeSet.extend(...t.props)),t.top){let s=this.topRules[t.top];if(!s)throw new RangeError(`Invalid top rule name ${t.top}`);i.top=s}return t.tokenizers&&(i.tokenizers=this.tokenizers.map(s=>{let o=t.tokenizers.find(a=>a.from==s);return o?o.to:s})),t.specializers&&(i.specializers=this.specializers.slice(),i.specializerSpecs=this.specializerSpecs.map((s,o)=>{let a=t.specializers.find(c=>c.from==s.external);if(!a)return s;let l=Object.assign(Object.assign({},s),{external:a.to});return i.specializers[o]=Kme(l),l})),t.contextTracker&&(i.context=t.contextTracker),t.dialect&&(i.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(i.strict=t.strict),t.wrap&&(i.wrappers=i.wrappers.concat(t.wrap)),null!=t.bufferLength&&(i.bufferLength=t.bufferLength),i}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let i=this.dynamicPrecedences;return null==i?0:i[t]||0}parseDialect(t){let i=Object.keys(this.dialects),s=i.map(()=>!1);if(t)for(let a of t.split(" ")){let l=i.indexOf(a);l>=0&&(s[l]=!0)}let o=null;for(let a=0;a<i.length;a++)if(!s[a])for(let c,l=this.dialects[i[a]];65535!=(c=this.data[l++]);)(o||(o=new Uint8Array(this.maxTerm+1)))[c]=1;return new Vpt(t,s,o)}static deserialize(t){return new Wg(t)}}function Tf(n,t){return n[t]|n[t+1]<<16}function Kme(n){if(n.external){let t=n.extend?1:0;return(i,s)=>n.external(i,s)<<1|t}return n.get}let zpt=0;class Gu{constructor(t,i,s){this.set=t,this.base=i,this.modified=s,this.id=zpt++}static define(t){if(t?.base)throw new Error("Can not derive from a modified tag");let i=new Gu([],null,[]);if(i.set.push(i),t)for(let s of t.set)i.set.push(s);return i}static defineModifier(){let t=new CT;return i=>i.modified.indexOf(t)>-1?i:CT.get(i.base||i,i.modified.concat(t).sort((s,o)=>s.id-o.id))}}let Hpt=0;class CT{constructor(){this.instances=[],this.id=Hpt++}static get(t,i){if(!i.length)return t;let s=i[0].instances.find(c=>c.base==t&&function Upt(n,t){return n.length==t.length&&n.every((i,s)=>i==t[s])}(i,c.modified));if(s)return s;let o=[],a=new Gu(o,t,i);for(let c of i)c.instances.push(a);let l=function qpt(n){let t=[[]];for(let i=0;i<n.length;i++)for(let s=0,o=t.length;s<o;s++)t.push(t[s].concat(n[i]));return t.sort((i,s)=>s.length-i.length)}(i);for(let c of t.set)if(!c.modified.length)for(let u of l)o.push(CT.get(c,u));return a}}function Gg(n){let t=Object.create(null);for(let i in n){let s=n[i];Array.isArray(s)||(s=[s]);for(let o of i.split(" "))if(o){let a=[],l=2,c=o;for(let f=0;;){if("..."==c&&f>0&&f+3==o.length){l=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!h)throw new RangeError("Invalid path: "+o);if(a.push("*"==h[0]?"":'"'==h[0][0]?JSON.parse(h[0]):h[0]),f+=h[0].length,f==o.length)break;let m=o[f++];if(f==o.length&&"!"==m){l=0;break}if("/"!=m)throw new RangeError("Invalid path: "+o);c=o.slice(f)}let u=a.length-1,d=a[u];if(!d)throw new RangeError("Invalid path: "+o);let p=new ST(s,l,u>0?a.slice(0,u):null);t[d]=p.sort(t[d])}}return Yme.add(t)}const Yme=new Kn;class ST{constructor(t,i,s,o){this.tags=t,this.mode=i,this.context=s,this.next=o}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function Xme(n,t){let i=Object.create(null);for(let a of n)if(Array.isArray(a.tag))for(let l of a.tag)i[l.id]=a.class;else i[a.tag.id]=a.class;let{scope:s,all:o=null}=t||{};return{style:a=>{let l=o;for(let c of a)for(let u of c.set){let d=i[u.id];if(d){l=l?l+" "+d:d;break}}return l},scope:s}}function Zme(n,t,i,s=0,o=n.length){let a=new Gpt(s,Array.isArray(t)?t:[t],i);a.highlightRange(n.cursor(),s,o,"",a.highlighters),a.flush(o)}ST.empty=new ST([],2,null);class Gpt{constructor(t,i,s){this.at=t,this.highlighters=i,this.span=s,this.class=""}startSpan(t,i){i!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=i)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,i,s,o,a){let{type:l,from:c,to:u}=t;if(c>=s||u<=i)return;l.isTop&&(a=this.highlighters.filter(m=>!m.scope||m.scope(l)));let d=o,p=function Kpt(n){let t=n.type.prop(Yme);for(;t&&t.context&&!n.matchContext(t.context);)t=t.next;return t||null}(t)||ST.empty,f=function Wpt(n,t){let i=null;for(let s of n){let o=s.style(t);o&&(i=i?i+" "+o:o)}return i}(a,p.tags);if(f&&(d&&(d+=" "),d+=f,1==p.mode&&(o+=(o?" ":"")+f)),this.startSpan(Math.max(i,c),d),p.opaque)return;let h=t.tree&&t.tree.prop(Kn.mounted);if(h&&h.overlay){let m=t.node.enter(h.overlay[0].from+c,1),g=this.highlighters.filter(v=>!v.scope||v.scope(h.tree.type)),y=t.firstChild();for(let v=0,_=c;;v++){let E=v<h.overlay.length?h.overlay[v]:null,x=E?E.from+c:u,b=Math.max(i,_),w=Math.min(s,x);if(b<w&&y)for(;t.from<w&&(this.highlightRange(t,b,w,o,a),this.startSpan(Math.min(w,t.to),d),!(t.to>=x)&&t.nextSibling()););if(!E||x>s)break;_=E.to+c,_>i&&(this.highlightRange(m.cursor(),Math.max(i,E.from+c),Math.min(s,_),"",g),this.startSpan(Math.min(s,_),d))}y&&t.parent()}else if(t.firstChild()){h&&(o="");do{if(!(t.to<=i)){if(t.from>=s)break;this.highlightRange(t,i,s,o,a),this.startSpan(Math.min(s,t.to),d)}}while(t.nextSibling());t.parent()}}}const Zt=Gu.define,OT=Zt(),_0=Zt(),Qme=Zt(_0),Jme=Zt(_0),E0=Zt(),TT=Zt(E0),bj=Zt(E0),Yd=Zt(),Kg=Zt(Yd),Xd=Zt(),Zd=Zt(),_j=Zt(),$w=Zt(_j),PT=Zt(),oe={comment:OT,lineComment:Zt(OT),blockComment:Zt(OT),docComment:Zt(OT),name:_0,variableName:Zt(_0),typeName:Qme,tagName:Zt(Qme),propertyName:Jme,attributeName:Zt(Jme),className:Zt(_0),labelName:Zt(_0),namespace:Zt(_0),macroName:Zt(_0),literal:E0,string:TT,docString:Zt(TT),character:Zt(TT),attributeValue:Zt(TT),number:bj,integer:Zt(bj),float:Zt(bj),bool:Zt(E0),regexp:Zt(E0),escape:Zt(E0),color:Zt(E0),url:Zt(E0),keyword:Xd,self:Zt(Xd),null:Zt(Xd),atom:Zt(Xd),unit:Zt(Xd),modifier:Zt(Xd),operatorKeyword:Zt(Xd),controlKeyword:Zt(Xd),definitionKeyword:Zt(Xd),moduleKeyword:Zt(Xd),operator:Zd,derefOperator:Zt(Zd),arithmeticOperator:Zt(Zd),logicOperator:Zt(Zd),bitwiseOperator:Zt(Zd),compareOperator:Zt(Zd),updateOperator:Zt(Zd),definitionOperator:Zt(Zd),typeOperator:Zt(Zd),controlOperator:Zt(Zd),punctuation:_j,separator:Zt(_j),bracket:$w,angleBracket:Zt($w),squareBracket:Zt($w),paren:Zt($w),brace:Zt($w),content:Yd,heading:Kg,heading1:Zt(Kg),heading2:Zt(Kg),heading3:Zt(Kg),heading4:Zt(Kg),heading5:Zt(Kg),heading6:Zt(Kg),contentSeparator:Zt(Yd),list:Zt(Yd),quote:Zt(Yd),emphasis:Zt(Yd),strong:Zt(Yd),link:Zt(Yd),monospace:Zt(Yd),strikethrough:Zt(Yd),inserted:Zt(),deleted:Zt(),changed:Zt(),invalid:Zt(),meta:PT,documentMeta:Zt(PT),annotation:Zt(PT),processingInstruction:Zt(PT),definition:Gu.defineModifier(),constant:Gu.defineModifier(),function:Gu.defineModifier(),standard:Gu.defineModifier(),local:Gu.defineModifier(),special:Gu.defineModifier()};Xme([{tag:oe.link,class:"tok-link"},{tag:oe.heading,class:"tok-heading"},{tag:oe.emphasis,class:"tok-emphasis"},{tag:oe.strong,class:"tok-strong"},{tag:oe.keyword,class:"tok-keyword"},{tag:oe.atom,class:"tok-atom"},{tag:oe.bool,class:"tok-bool"},{tag:oe.url,class:"tok-url"},{tag:oe.labelName,class:"tok-labelName"},{tag:oe.inserted,class:"tok-inserted"},{tag:oe.deleted,class:"tok-deleted"},{tag:oe.literal,class:"tok-literal"},{tag:oe.string,class:"tok-string"},{tag:oe.number,class:"tok-number"},{tag:[oe.regexp,oe.escape,oe.special(oe.string)],class:"tok-string2"},{tag:oe.variableName,class:"tok-variableName"},{tag:oe.local(oe.variableName),class:"tok-variableName tok-local"},{tag:oe.definition(oe.variableName),class:"tok-variableName tok-definition"},{tag:oe.special(oe.variableName),class:"tok-variableName2"},{tag:oe.definition(oe.propertyName),class:"tok-propertyName tok-definition"},{tag:oe.typeName,class:"tok-typeName"},{tag:oe.namespace,class:"tok-namespace"},{tag:oe.className,class:"tok-className"},{tag:oe.macroName,class:"tok-macroName"},{tag:oe.propertyName,class:"tok-propertyName"},{tag:oe.operator,class:"tok-operator"},{tag:oe.comment,class:"tok-comment"},{tag:oe.meta,class:"tok-meta"},{tag:oe.invalid,class:"tok-invalid"},{tag:oe.punctuation,class:"tok-punctuation"}]);class Yg extends Error{}class Ypt extends Yg{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class Xpt extends Yg{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class Zpt extends Yg{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Eb extends Yg{}class ege extends Yg{constructor(t){super(`Invalid unit ${t}`)}}class Fl extends Yg{}class w0 extends Yg{constructor(){super("Zone is an abstract class")}}const nn="numeric",Ku="short",fc="long",DT={year:nn,month:nn,day:nn},tge={year:nn,month:Ku,day:nn},Qpt={year:nn,month:Ku,day:nn,weekday:Ku},nge={year:nn,month:fc,day:nn},rge={year:nn,month:fc,day:nn,weekday:fc},ige={hour:nn,minute:nn},sge={hour:nn,minute:nn,second:nn},oge={hour:nn,minute:nn,second:nn,timeZoneName:Ku},age={hour:nn,minute:nn,second:nn,timeZoneName:fc},lge={hour:nn,minute:nn,hourCycle:"h23"},cge={hour:nn,minute:nn,second:nn,hourCycle:"h23"},uge={hour:nn,minute:nn,second:nn,hourCycle:"h23",timeZoneName:Ku},dge={hour:nn,minute:nn,second:nn,hourCycle:"h23",timeZoneName:fc},pge={year:nn,month:nn,day:nn,hour:nn,minute:nn},fge={year:nn,month:nn,day:nn,hour:nn,minute:nn,second:nn},hge={year:nn,month:Ku,day:nn,hour:nn,minute:nn},mge={year:nn,month:Ku,day:nn,hour:nn,minute:nn,second:nn},Jpt={year:nn,month:Ku,day:nn,weekday:Ku,hour:nn,minute:nn},gge={year:nn,month:fc,day:nn,hour:nn,minute:nn,timeZoneName:Ku},yge={year:nn,month:fc,day:nn,hour:nn,minute:nn,second:nn,timeZoneName:Ku},vge={year:nn,month:fc,day:nn,weekday:fc,hour:nn,minute:nn,timeZoneName:fc},bge={year:nn,month:fc,day:nn,weekday:fc,hour:nn,minute:nn,second:nn,timeZoneName:fc};class zw{get type(){throw new w0}get name(){throw new w0}get ianaName(){return this.name}get isUniversal(){throw new w0}offsetName(t,i){throw new w0}formatOffset(t,i){throw new w0}offset(t){throw new w0}equals(t){throw new w0}get isValid(){throw new w0}}let Ej=null;class Pf extends zw{static get instance(){return null===Ej&&(Ej=new Pf),Ej}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:s}){return Hge(t,i,s)}formatOffset(t,i){return Ww(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return"system"===t.type}get isValid(){return!0}}let kT={};const tft={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let MT={};class Df extends zw{static create(t){return MT[t]||(MT[t]=new Df(t)),MT[t]}static resetCache(){MT={},kT={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Df.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:s}){return Hge(t,i,s,this.name)}formatOffset(t,i){return Ww(this.offset(t),i)}offset(t){const i=new Date(t);if(isNaN(i))return NaN;const s=function eft(n){return kT[n]||(kT[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),kT[n]}(this.name);let[o,a,l,c,u,d,p]=s.formatToParts?function rft(n,t){const i=n.formatToParts(t),s=[];for(let o=0;o<i.length;o++){const{type:a,value:l}=i[o],c=tft[a];"era"===a?s[c]=l:ir(c)||(s[c]=parseInt(l,10))}return s}(s,i):function nft(n,t){const i=n.format(t).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,o,a,l,c,u,d,p]=s;return[l,o,a,c,u,d,p]}(s,i);"BC"===c&&(o=1-Math.abs(o));let m=+i;const g=m%1e3;return m-=g>=0?g:1e3+g,(LT({year:o,month:a,day:l,hour:24===u?0:u,minute:d,second:p,millisecond:0})-m)/6e4}equals(t){return"iana"===t.type&&t.name===this.name}get isValid(){return this.valid}}let _ge={},wj={};function xj(n,t={}){const i=JSON.stringify([n,t]);let s=wj[i];return s||(s=new Intl.DateTimeFormat(n,t),wj[i]=s),s}let Cj={},Sj={},Hw=null,Ege={};function AT(n,t,i,s){const o=n.listingMode();return"error"===o?null:"en"===o?i(t):s(t)}class hft{constructor(t,i,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:o,floor:a,...l}=s;if(!i||Object.keys(l).length>0){const c={useGrouping:!1,...s};s.padTo>0&&(c.minimumIntegerDigits=s.padTo),this.inf=function sft(n,t={}){const i=JSON.stringify([n,t]);let s=Cj[i];return s||(s=new Intl.NumberFormat(n,t),Cj[i]=s),s}(t,c)}}format(t){if(this.inf){const i=this.floor?Math.floor(t):t;return this.inf.format(i)}return to(this.floor?Math.floor(t):Aj(t,3),this.padTo)}}class mft{constructor(t,i,s){let o;if(this.opts=s,this.originalZone=void 0,this.opts.timeZone)this.dt=t;else if("fixed"===t.zone.type){const l=t.offset/60*-1,c=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;0!==t.offset&&Df.create(c).valid?(o=c,this.dt=t):(o="UTC",this.dt=0===t.offset?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else"system"===t.zone.type?this.dt=t:"iana"===t.zone.type?(this.dt=t,o=t.zone.name):(o="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const a={...this.opts};a.timeZone=a.timeZone||o,this.dtf=xj(i,a)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(i=>{if("timeZoneName"===i.type){const s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:s}}return i}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class gft{constructor(t,i,s){this.opts={style:"long",...s},!i&&jge()&&(this.rtf=function oft(n,t={}){const{base:i,...s}=t,o=JSON.stringify([n,s]);let a=Sj[o];return a||(a=new Intl.RelativeTimeFormat(n,t),Sj[o]=a),a}(t,s))}format(t,i){return this.rtf?this.rtf.format(t,i):function Lft(n,t,i="always",s=!1){const o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=-1===["hours","minutes","seconds"].indexOf(n);if("auto"===i&&a){const f="days"===n;switch(t){case 1:return f?"tomorrow":`next ${o[n][0]}`;case-1:return f?"yesterday":`last ${o[n][0]}`;case 0:return f?"today":`this ${o[n][0]}`}}const l=Object.is(t,-0)||t<0,c=Math.abs(t),u=1===c,d=o[n],p=s?u?d[1]:d[2]||d[1]:u?o[n][0]:n;return l?`${c} ${p} ago`:`in ${c} ${p}`}(i,t,this.opts.numeric,"long"!==this.opts.style)}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}}const yft={firstDay:1,minimalDays:4,weekend:[6,7]};class xi{static fromOpts(t){return xi.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,i,s,o,a=!1){const l=t||Vs.defaultLocale,c=l||(a?"en-US":function aft(){return Hw||(Hw=(new Intl.DateTimeFormat).resolvedOptions().locale,Hw)}()),u=i||Vs.defaultNumberingSystem,d=s||Vs.defaultOutputCalendar,p=kj(o)||Vs.defaultWeekSettings;return new xi(c,u,d,p,l)}static resetCache(){Hw=null,wj={},Cj={},Sj={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:s,weekSettings:o}={}){return xi.create(t,i,s,o)}constructor(t,i,s,o,a){const[l,c,u]=function cft(n){const t=n.indexOf("-x-");-1!==t&&(n=n.substring(0,t));const i=n.indexOf("-u-");if(-1===i)return[n];{let s,o;try{s=xj(n).resolvedOptions(),o=n}catch{const u=n.substring(0,i);s=xj(u).resolvedOptions(),o=u}const{numberingSystem:a,calendar:l}=s;return[o,a,l]}}(t);this.locale=l,this.numberingSystem=i||c||null,this.outputCalendar=s||u||null,this.weekSettings=o,this.intl=function uft(n,t,i){return(i||t)&&(n.includes("-u-")||(n+="-u"),i&&(n+=`-ca-${i}`),t&&(n+=`-nu-${t}`)),n}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function fft(n){return(!n.numberingSystem||"latn"===n.numberingSystem)&&("latn"===n.numberingSystem||!n.locale||n.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(t){return t&&0!==Object.getOwnPropertyNames(t).length?xi.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,kj(t.weekSettings)||this.weekSettings,t.defaultToEN||!1):this}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,i=!1){return AT(this,t,Wge,()=>{const s=i?{month:t,day:"numeric"}:{month:t},o=i?"format":"standalone";return this.monthsCache[o][t]||(this.monthsCache[o][t]=function dft(n){const t=[];for(let i=1;i<=12;i++){const s=sr.utc(2009,i,1);t.push(n(s))}return t}(a=>this.extract(a,s,"month"))),this.monthsCache[o][t]})}weekdays(t,i=!1){return AT(this,t,Yge,()=>{const s=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},o=i?"format":"standalone";return this.weekdaysCache[o][t]||(this.weekdaysCache[o][t]=function pft(n){const t=[];for(let i=1;i<=7;i++){const s=sr.utc(2016,11,13+i);t.push(n(s))}return t}(a=>this.extract(a,s,"weekday"))),this.weekdaysCache[o][t]})}meridiems(){return AT(this,void 0,()=>Xge,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[sr.utc(2016,11,13,9),sr.utc(2016,11,13,19)].map(i=>this.extract(i,t,"dayperiod"))}return this.meridiemCache})}eras(t){return AT(this,t,Zge,()=>{const i={era:t};return this.eraCache[t]||(this.eraCache[t]=[sr.utc(-40,1,1),sr.utc(2017,1,1)].map(s=>this.extract(s,i,"era"))),this.eraCache[t]})}extract(t,i,s){const l=this.dtFormatter(t,i).formatToParts().find(c=>c.type.toLowerCase()===s);return l?l.value:null}numberFormatter(t={}){return new hft(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new mft(t,this.intl,i)}relFormatter(t={}){return new gft(this.intl,this.isEnglish(),t)}listFormatter(t={}){return function ift(n,t={}){const i=JSON.stringify([n,t]);let s=_ge[i];return s||(s=new Intl.ListFormat(n,t),_ge[i]=s),s}(this.intl,t)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Vge()?function lft(n){let t=Ege[n];if(!t){const i=new Intl.Locale(n);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,Ege[n]=t}return t}(this.locale):yft}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let Oj=null;class Ko extends zw{static get utcInstance(){return null===Oj&&(Oj=new Ko(0)),Oj}static instance(t){return 0===t?Ko.utcInstance:new Ko(t)}static parseSpecifier(t){if(t){const i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new Ko(FT(i[1],i[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${Ww(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${Ww(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return Ww(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return"fixed"===t.type&&t.fixed===this.fixed}get isValid(){return!0}}class vft extends zw{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function x0(n,t){if(ir(n)||null===n)return t;if(n instanceof zw)return n;if(function Eft(n){return"string"==typeof n}(n)){const s=n.toLowerCase();return"default"===s?t:"local"===s||"system"===s?Pf.instance:"utc"===s||"gmt"===s?Ko.utcInstance:Ko.parseSpecifier(s)||Df.create(n)}return Xg(n)?Ko.instance(n):"object"==typeof n&&"offset"in n&&"function"==typeof n.offset?n:new vft(n)}let Pge,wge=()=>Date.now(),xge="system",Cge=null,Sge=null,Oge=null,Tge=60,Dge=null;class Vs{static get now(){return wge}static set now(t){wge=t}static set defaultZone(t){xge=t}static get defaultZone(){return x0(xge,Pf.instance)}static get defaultLocale(){return Cge}static set defaultLocale(t){Cge=t}static get defaultNumberingSystem(){return Sge}static set defaultNumberingSystem(t){Sge=t}static get defaultOutputCalendar(){return Oge}static set defaultOutputCalendar(t){Oge=t}static get defaultWeekSettings(){return Dge}static set defaultWeekSettings(t){Dge=kj(t)}static get twoDigitCutoffYear(){return Tge}static set twoDigitCutoffYear(t){Tge=t%100}static get throwOnInvalid(){return Pge}static set throwOnInvalid(t){Pge=t}static resetCaches(){xi.resetCache(),Df.resetCache()}}class Yu{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const kge=[0,31,59,90,120,151,181,212,243,273,304,334],Mge=[0,31,60,91,121,152,182,213,244,274,305,335];function su(n,t){return new Yu("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${n}, which is invalid`)}function Tj(n,t,i){const s=new Date(Date.UTC(n,t-1,i));n<100&&n>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const o=s.getUTCDay();return 0===o?7:o}function Age(n,t,i){return i+(Uw(n)?Mge:kge)[t-1]}function Ige(n,t){const i=Uw(n)?Mge:kge,s=i.findIndex(a=>a<t);return{month:s+1,day:t-i[s]}}function Pj(n,t){return(n-t+7)%7+1}function IT(n,t=4,i=1){const{year:s,month:o,day:a}=n,l=Age(s,o,a),c=Pj(Tj(s,o,a),i);let d,u=Math.floor((l-c+14-t)/7);return u<1?(d=s-1,u=qw(d,t,i)):u>qw(s,t,i)?(d=s+1,u=1):d=s,{weekYear:d,weekNumber:u,weekday:c,...jT(n)}}function Rge(n,t=4,i=1){const{weekYear:s,weekNumber:o,weekday:a}=n,l=Pj(Tj(s,1,t),i),c=xb(s);let d,u=7*o+a-l-7+t;u<1?(d=s-1,u+=xb(d)):u>c?(d=s+1,u-=xb(s)):d=s;const{month:p,day:f}=Ige(d,u);return{year:d,month:p,day:f,...jT(n)}}function Dj(n){const{year:t,month:i,day:s}=n;return{year:t,ordinal:Age(t,i,s),...jT(n)}}function Nge(n){const{year:t,ordinal:i}=n,{month:s,day:o}=Ige(t,i);return{year:t,month:s,day:o,...jT(n)}}function Lge(n,t){if(ir(n.localWeekday)&&ir(n.localWeekNumber)&&ir(n.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!ir(n.weekday)||!ir(n.weekNumber)||!ir(n.weekYear))throw new Eb("Cannot mix locale-based week fields with ISO-based week fields");return ir(n.localWeekday)||(n.weekday=n.localWeekday),ir(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),ir(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}function Fge(n){const t=RT(n.year),i=ou(n.month,1,12),s=ou(n.day,1,NT(n.year,n.month));return t?i?!s&&su("day",n.day):su("month",n.month):su("year",n.year)}function Bge(n){const{hour:t,minute:i,second:s,millisecond:o}=n,a=ou(t,0,23)||24===t&&0===i&&0===s&&0===o,l=ou(i,0,59),c=ou(s,0,59),u=ou(o,0,999);return a?l?c?!u&&su("millisecond",o):su("second",s):su("minute",i):su("hour",t)}function ir(n){return typeof n>"u"}function Xg(n){return"number"==typeof n}function RT(n){return"number"==typeof n&&n%1==0}function jge(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Vge(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function $ge(n,t,i){if(0!==n.length)return n.reduce((s,o)=>{const a=[t(o),o];return s&&i(s[0],a[0])===s[0]?s:a},null)[1]}function wb(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function kj(n){if(null==n)return null;if("object"!=typeof n)throw new Fl("Week settings must be an object");if(!ou(n.firstDay,1,7)||!ou(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(t=>!ou(t,1,7)))throw new Fl("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function ou(n,t,i){return RT(n)&&n>=t&&n<=i}function to(n,t=2){let s;return s=n<0?"-"+(""+-n).padStart(t,"0"):(""+n).padStart(t,"0"),s}function C0(n){if(!ir(n)&&null!==n&&""!==n)return parseInt(n,10)}function Zg(n){if(!ir(n)&&null!==n&&""!==n)return parseFloat(n)}function Mj(n){if(!ir(n)&&null!==n&&""!==n){const t=1e3*parseFloat("0."+n);return Math.floor(t)}}function Aj(n,t,i=!1){const s=10**t;return(i?Math.trunc:Math.round)(n*s)/s}function Uw(n){return n%4==0&&(n%100!=0||n%400==0)}function xb(n){return Uw(n)?366:365}function NT(n,t){const i=function Sft(n,t){return n-t*Math.floor(n/t)}(t-1,12)+1;return 2===i?Uw(n+(t-i)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function LT(n){let t=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(t=new Date(t),t.setUTCFullYear(n.year,n.month-1,n.day)),+t}function zge(n,t,i){return-Pj(Tj(n,1,t),i)+t-1}function qw(n,t=4,i=1){const s=zge(n,t,i),o=zge(n+1,t,i);return(xb(n)-s+o)/7}function Ij(n){return n>99?n:n>Vs.twoDigitCutoffYear?1900+n:2e3+n}function Hge(n,t,i,s=null){const o=new Date(n),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(a.timeZone=s);const l={timeZoneName:t,...a},c=new Intl.DateTimeFormat(i,l).formatToParts(o).find(u=>"timezonename"===u.type.toLowerCase());return c?c.value:null}function FT(n,t){let i=parseInt(n,10);Number.isNaN(i)&&(i=0);const s=parseInt(t,10)||0;return 60*i+(i<0||Object.is(i,-0)?-s:s)}function Uge(n){const t=Number(n);if("boolean"==typeof n||""===n||Number.isNaN(t))throw new Fl(`Invalid unit value ${n}`);return t}function BT(n,t){const i={};for(const s in n)if(wb(n,s)){const o=n[s];if(null==o)continue;i[t(s)]=Uge(o)}return i}function Ww(n,t){const i=Math.trunc(Math.abs(n/60)),s=Math.trunc(Math.abs(n%60)),o=n>=0?"+":"-";switch(t){case"short":return`${o}${to(i,2)}:${to(s,2)}`;case"narrow":return`${o}${i}${s>0?`:${s}`:""}`;case"techie":return`${o}${to(i,2)}${to(s,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function jT(n){return function Cft(n,t){return t.reduce((i,s)=>(i[s]=n[s],i),{})}(n,["hour","minute","second","millisecond"])}const Oft=["January","February","March","April","May","June","July","August","September","October","November","December"],qge=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Tft=["J","F","M","A","M","J","J","A","S","O","N","D"];function Wge(n){switch(n){case"narrow":return[...Tft];case"short":return[...qge];case"long":return[...Oft];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Gge=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Kge=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Pft=["M","T","W","T","F","S","S"];function Yge(n){switch(n){case"narrow":return[...Pft];case"short":return[...Kge];case"long":return[...Gge];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Xge=["AM","PM"],Dft=["Before Christ","Anno Domini"],kft=["BC","AD"],Mft=["B","A"];function Zge(n){switch(n){case"narrow":return[...Mft];case"short":return[...kft];case"long":return[...Dft];default:return null}}function Qge(n,t){let i="";for(const s of n)i+=s.literal?s.val:t(s.val);return i}const Fft={D:DT,DD:tge,DDD:nge,DDDD:rge,t:ige,tt:sge,ttt:oge,tttt:age,T:lge,TT:cge,TTT:uge,TTTT:dge,f:pge,ff:hge,fff:gge,ffff:vge,F:fge,FF:mge,FFF:yge,FFFF:bge};class Sa{static create(t,i={}){return new Sa(t,i)}static parseFormat(t){let i=null,s="",o=!1;const a=[];for(let l=0;l<t.length;l++){const c=t.charAt(l);"'"===c?(s.length>0&&a.push({literal:o||/^\s+$/.test(s),val:s}),i=null,s="",o=!o):o||c===i?s+=c:(s.length>0&&a.push({literal:/^\s+$/.test(s),val:s}),s=c,i=c)}return s.length>0&&a.push({literal:o||/^\s+$/.test(s),val:s}),a}static macroTokenToFormatOpts(t){return Fft[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...i}).format()}dtFormatter(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i})}formatDateTime(t,i){return this.dtFormatter(t,i).format()}formatDateTimeParts(t,i){return this.dtFormatter(t,i).formatToParts()}formatInterval(t,i){return this.dtFormatter(t.start,i).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,i){return this.dtFormatter(t,i).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return to(t,i);const s={...this.opts};return i>0&&(s.padTo=i),this.loc.numberFormatter(s).format(t)}formatDateTimeFromString(t,i){const s="en"===this.loc.listingMode(),o=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,a=(m,g)=>this.loc.extract(t,m,g),l=m=>t.isOffsetFixed&&0===t.offset&&m.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,m.format):"",u=(m,g)=>s?function Rft(n,t){return Wge(t)[n.month-1]}(t,m):a(g?{month:m}:{month:m,day:"numeric"},"month"),d=(m,g)=>s?function Ift(n,t){return Yge(t)[n.weekday-1]}(t,m):a(g?{weekday:m}:{weekday:m,month:"long",day:"numeric"},"weekday"),p=m=>{const g=Sa.macroTokenToFormatOpts(m);return g?this.formatWithSystemDefault(t,g):m},f=m=>s?function Nft(n,t){return Zge(t)[n.year<0?0:1]}(t,m):a({era:m},"era");return Qge(Sa.parseFormat(i),m=>{switch(m){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12==0?12:t.hour%12);case"hh":return this.num(t.hour%12==0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return s?function Aft(n){return Xge[n.hour<12?0:1]}(t):a({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return o?a({day:"numeric"},"day"):this.num(t.day);case"dd":return o?a({day:"2-digit"},"day"):this.num(t.day,2);case"c":case"E":return this.num(t.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return o?a({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return o?a({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return o?a({month:"numeric"},"month"):this.num(t.month);case"MM":return o?a({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return o?a({year:"numeric"},"year"):this.num(t.year);case"yy":return o?a({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return o?a({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return o?a({year:"numeric"},"year"):this.num(t.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return p(m)}})}formatDurationFromString(t,i){const s=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},a=Sa.parseFormat(i),l=a.reduce((u,{literal:d,val:p})=>d?u:u.concat(p),[]);return Qge(a,(u=>d=>{const p=s(d);return p?this.num(u.get(p),d.length):d})(t.shiftTo(...l.map(s).filter(u=>u))))}}const Jge=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Cb(...n){const t=n.reduce((i,s)=>i+s.source,"");return RegExp(`^${t}$`)}function Sb(...n){return t=>n.reduce(([i,s,o],a)=>{const[l,c,u]=a(t,o);return[{...i,...l},c||s,u]},[{},null,1]).slice(0,2)}function Ob(n,...t){if(null==n)return[null,null];for(const[i,s]of t){const o=i.exec(n);if(o)return s(o)}return[null,null]}function e1e(...n){return(t,i)=>{const s={};let o;for(o=0;o<n.length;o++)s[n[o]]=C0(t[i+o]);return[s,null,i+o]}}const t1e=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Rj=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,n1e=RegExp(`${Rj.source}(?:${t1e.source}?(?:\\[(${Jge.source})\\])?)?`),Nj=RegExp(`(?:T${n1e.source})?`),zft=e1e("weekYear","weekNumber","weekDay"),Hft=e1e("year","ordinal"),r1e=RegExp(`${Rj.source} ?(?:${t1e.source}|(${Jge.source}))?`),qft=RegExp(`(?: ${r1e.source})?`);function Tb(n,t,i){const s=n[t];return ir(s)?i:C0(s)}function Pb(n,t){return[{hours:Tb(n,t,0),minutes:Tb(n,t+1,0),seconds:Tb(n,t+2,0),milliseconds:Mj(n[t+3])},null,t+4]}function Gw(n,t){const i=!n[t]&&!n[t+1],s=FT(n[t+1],n[t+2]);return[{},i?null:Ko.instance(s),t+3]}function Kw(n,t){return[{},n[t]?Df.create(n[t]):null,t+1]}const Gft=RegExp(`^T?${Rj.source}$`),Kft=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Yft(n){const[t,i,s,o,a,l,c,u,d]=n,p="-"===t[0],f=u&&"-"===u[0],h=(m,g=!1)=>void 0!==m&&(g||m&&p)?-m:m;return[{years:h(Zg(i)),months:h(Zg(s)),weeks:h(Zg(o)),days:h(Zg(a)),hours:h(Zg(l)),minutes:h(Zg(c)),seconds:h(Zg(u),"-0"===u),milliseconds:h(Mj(d),f)}]}const Xft={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Lj(n,t,i,s,o,a,l){const c={year:2===t.length?Ij(C0(t)):C0(t),month:qge.indexOf(i)+1,day:C0(s),hour:C0(o),minute:C0(a)};return l&&(c.second=C0(l)),n&&(c.weekday=n.length>3?Gge.indexOf(n)+1:Kge.indexOf(n)+1),c}const Zft=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Qft(n){const[,t,i,s,o,a,l,c,u,d,p,f]=n,h=Lj(t,o,s,i,a,l,c);let m;return m=u?Xft[u]:d?0:FT(p,f),[h,new Ko(m)]}const eht=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,tht=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,nht=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function i1e(n){const[,t,i,s,o,a,l,c]=n;return[Lj(t,o,s,i,a,l,c),Ko.utcInstance]}function rht(n){const[,t,i,s,o,a,l,c]=n;return[Lj(t,c,i,s,o,a,l),Ko.utcInstance]}const iht=Cb(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Nj),sht=Cb(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Nj),oht=Cb(/(\d{4})-?(\d{3})/,Nj),aht=Cb(n1e),s1e=Sb(function Wft(n,t){return[{year:Tb(n,t),month:Tb(n,t+1,1),day:Tb(n,t+2,1)},null,t+3]},Pb,Gw,Kw),lht=Sb(zft,Pb,Gw,Kw),cht=Sb(Hft,Pb,Gw,Kw),uht=Sb(Pb,Gw,Kw),mht=Sb(Pb),yht=Cb(/(\d{4})-(\d\d)-(\d\d)/,qft),vht=Cb(r1e),bht=Sb(Pb,Gw,Kw),o1e="Invalid Duration",a1e={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Eht={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...a1e},au=365.2425,Db=30.436875,wht={years:{quarters:4,months:12,weeks:au/7,days:au,hours:24*au,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:au/28,days:au/4,hours:24*au/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Db/7,days:Db,hours:24*Db,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...a1e},Qg=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],xht=Qg.slice(0).reverse();function S0(n,t,i=!1){const s={values:i?t.values:{...n.values,...t.values||{}},loc:n.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||n.conversionAccuracy,matrix:t.matrix||n.matrix};return new Tr(s)}function l1e(n,t){let i=t.milliseconds??0;for(const s of xht.slice(1))t[s]&&(i+=t[s]*n[s].milliseconds);return i}function c1e(n,t){const i=l1e(n,t)<0?-1:1;Qg.reduceRight((s,o)=>{if(ir(t[o]))return s;if(s){const l=n[o][s],c=Math.floor(t[s]*i/l);t[o]+=c*i,t[s]-=c*l*i}return o},null),Qg.reduce((s,o)=>{if(ir(t[o]))return s;if(s){const a=t[s]%1;t[s]-=a,t[o]+=a*n[s][o]}return o},null)}class Tr{constructor(t){const i="longterm"===t.conversionAccuracy||!1;let s=i?wht:Eht;t.matrix&&(s=t.matrix),this.values=t.values,this.loc=t.loc||xi.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(t,i){return Tr.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(null==t||"object"!=typeof t)throw new Fl("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":typeof t));return new Tr({values:BT(t,Tr.normalizeUnit),loc:xi.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(t){if(Xg(t))return Tr.fromMillis(t);if(Tr.isDuration(t))return t;if("object"==typeof t)return Tr.fromObject(t);throw new Fl(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){const[s]=function hht(n){return Ob(n,[Kft,Yft])}(t);return s?Tr.fromObject(s,i):Tr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){const[s]=function ght(n){return Ob(n,[Gft,mht])}(t);return s?Tr.fromObject(s,i):Tr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new Fl("need to specify a reason the Duration is invalid");const s=t instanceof Yu?t:new Yu(t,i);if(Vs.throwOnInvalid)throw new Zpt(s);return new Tr({invalid:s})}static normalizeUnit(t){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new ege(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){const s={...i,floor:!1!==i.round&&!1!==i.floor};return this.isValid?Sa.create(this.loc,s).formatDurationFromString(this,t):o1e}toHuman(t={}){if(!this.isValid)return o1e;const i=Qg.map(s=>{const o=this.values[s];return ir(o)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:s.slice(0,-1)}).format(o)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return 0!==this.years&&(t+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(t+=this.months+3*this.quarters+"M"),0!==this.weeks&&(t+=this.weeks+"W"),0!==this.days&&(t+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(t+="T"),0!==this.hours&&(t+=this.hours+"H"),0!==this.minutes&&(t+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(t+=Aj(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===t&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},sr.fromMillis(i,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?l1e(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const i=Tr.fromDurationLike(t),s={};for(const o of Qg)(wb(i.values,o)||wb(this.values,o))&&(s[o]=i.get(o)+this.get(o));return S0(this,{values:s},!0)}minus(t){if(!this.isValid)return this;const i=Tr.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;const i={};for(const s of Object.keys(this.values))i[s]=Uge(t(this.values[s],s));return S0(this,{values:i},!0)}get(t){return this[Tr.normalizeUnit(t)]}set(t){return this.isValid?S0(this,{values:{...this.values,...BT(t,Tr.normalizeUnit)}}):this}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:s,matrix:o}={}){return S0(this,{loc:this.loc.clone({locale:t,numberingSystem:i}),matrix:o,conversionAccuracy:s})}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return c1e(this.matrix,t),S0(this,{values:t},!0)}rescale(){return this.isValid?S0(this,{values:function Cht(n){const t={};for(const[i,s]of Object.entries(n))0!==s&&(t[i]=s);return t}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...t){if(!this.isValid)return this;if(0===t.length)return this;t=t.map(l=>Tr.normalizeUnit(l));const i={},s={},o=this.toObject();let a;for(const l of Qg)if(t.indexOf(l)>=0){a=l;let c=0;for(const d in s)c+=this.matrix[d][l]*s[d],s[d]=0;Xg(o[l])&&(c+=o[l]);const u=Math.trunc(c);i[l]=u,s[l]=(1e3*c-1e3*u)/1e3}else Xg(o[l])&&(s[l]=o[l]);for(const l in s)0!==s[l]&&(i[a]+=l===a?s[l]:s[l]/this.matrix[a][l]);return c1e(this.matrix,i),S0(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=0===this.values[i]?0:-this.values[i];return S0(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(s,o){return void 0===s||0===s?void 0===o||0===o:s===o}for(const s of Qg)if(!i(this.values[s],t.values[s]))return!1;return!0}}const kb="Invalid Interval";class As{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new Fl("need to specify a reason the Interval is invalid");const s=t instanceof Yu?t:new Yu(t,i);if(Vs.throwOnInvalid)throw new Xpt(s);return new As({invalid:s})}static fromDateTimes(t,i){const s=Zw(t),o=Zw(i),a=function Sht(n,t){return n&&n.isValid?t&&t.isValid?t<n?As.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${t.toISO()}`):null:As.invalid("missing or invalid end"):As.invalid("missing or invalid start")}(s,o);return a??new As({start:s,end:o})}static after(t,i){const s=Tr.fromDurationLike(i),o=Zw(t);return As.fromDateTimes(o,o.plus(s))}static before(t,i){const s=Tr.fromDurationLike(i),o=Zw(t);return As.fromDateTimes(o.minus(s),o)}static fromISO(t,i){const[s,o]=(t||"").split("/",2);if(s&&o){let a,l,c,u;try{a=sr.fromISO(s,i),l=a.isValid}catch{l=!1}try{c=sr.fromISO(o,i),u=c.isValid}catch{u=!1}if(l&&u)return As.fromDateTimes(a,c);if(l){const d=Tr.fromISO(o,i);if(d.isValid)return As.after(a,d)}else if(u){const d=Tr.fromISO(s,i);if(d.isValid)return As.before(c,d)}}return As.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",i){if(!this.isValid)return NaN;const s=this.start.startOf(t,i);let o;return o=i?.useLocaleWeeks?this.end.reconfigure({locale:s.locale}):this.end,o=o.startOf(t,i),Math.floor(o.diff(s,t).get(t))+(o.valueOf()!==this.end.valueOf())}hasSame(t){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,t))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return!!this.isValid&&this.s>t}isBefore(t){return!!this.isValid&&this.e<=t}contains(t){return!!this.isValid&&this.s<=t&&this.e>t}set({start:t,end:i}={}){return this.isValid?As.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];const i=t.map(Zw).filter(l=>this.contains(l)).sort((l,c)=>l.toMillis()-c.toMillis()),s=[];let{s:o}=this,a=0;for(;o<this.e;){const l=i[a]||this.e,c=+l>+this.e?this.e:l;s.push(As.fromDateTimes(o,c)),o=c,a+=1}return s}splitBy(t){const i=Tr.fromDurationLike(t);if(!this.isValid||!i.isValid||0===i.as("milliseconds"))return[];let a,{s}=this,o=1;const l=[];for(;s<this.e;){const c=this.start.plus(i.mapUnits(u=>u*o));a=+c>+this.e?this.e:c,l.push(As.fromDateTimes(s,a)),s=a,o+=1}return l}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return!!this.isValid&&+this.e==+t.s}abutsEnd(t){return!!this.isValid&&+t.e==+this.s}engulfs(t){return!!this.isValid&&this.s<=t.s&&this.e>=t.e}equals(t){return!(!this.isValid||!t.isValid)&&this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const i=this.s>t.s?this.s:t.s,s=this.e<t.e?this.e:t.e;return i>=s?null:As.fromDateTimes(i,s)}union(t){return this.isValid?As.fromDateTimes(this.s<t.s?this.s:t.s,this.e>t.e?this.e:t.e):this}static merge(t){const[i,s]=t.sort((o,a)=>o.s-a.s).reduce(([o,a],l)=>a?a.overlaps(l)||a.abutsStart(l)?[o,a.union(l)]:[o.concat([a]),l]:[o,l],[[],null]);return s&&i.push(s),i}static xor(t){let i=null,s=0;const o=[],a=t.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),c=Array.prototype.concat(...a).sort((u,d)=>u.time-d.time);for(const u of c)s+="s"===u.type?1:-1,1===s?i=u.time:(i&&+i!=+u.time&&o.push(As.fromDateTimes(i,u.time)),i=null);return As.merge(o)}difference(...t){return As.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:kb}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=DT,i={}){return this.isValid?Sa.create(this.s.loc.clone(i),t).formatInterval(this):kb}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:kb}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:kb}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:kb}toFormat(t,{separator:i=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:kb}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):Tr.invalid(this.invalidReason)}mapEndpoints(t){return As.fromDateTimes(t(this.s),t(this.e))}}class Yw{static hasDST(t=Vs.defaultZone){const i=sr.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return Df.isValidZone(t)}static normalizeZone(t){return x0(t,Vs.defaultZone)}static getStartOfWeek({locale:t=null,locObj:i=null}={}){return(i||xi.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:i=null}={}){return(i||xi.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:i=null}={}){return(i||xi.create(t)).getWeekendDays().slice()}static months(t="long",{locale:i=null,numberingSystem:s=null,locObj:o=null,outputCalendar:a="gregory"}={}){return(o||xi.create(i,s,a)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:s=null,locObj:o=null,outputCalendar:a="gregory"}={}){return(o||xi.create(i,s,a)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:s=null,locObj:o=null}={}){return(o||xi.create(i,s,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:s=null,locObj:o=null}={}){return(o||xi.create(i,s,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return xi.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return xi.create(i,null,"gregory").eras(t)}static features(){return{relative:jge(),localeWeek:Vge()}}}function u1e(n,t){const i=o=>o.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=i(t)-i(n);return Math.floor(Tr.fromMillis(s).as("days"))}const Fj={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},d1e={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Pht=Fj.hanidec.replace(/[\[|\]]/g,"").split("");function Xu({numberingSystem:n},t=""){return new RegExp(`${Fj[n||"latn"]}${t}`)}function Qr(n,t=i=>i){return{regex:n,deser:([i])=>t(function Dht(n){let t=parseInt(n,10);if(isNaN(t)){t="";for(let i=0;i<n.length;i++){const s=n.charCodeAt(i);if(-1!==n[i].search(Fj.hanidec))t+=Pht.indexOf(n[i]);else for(const o in d1e){const[a,l]=d1e[o];s>=a&&s<=l&&(t+=s-a)}}return parseInt(t,10)}return t}(i))}}const f1e=new RegExp("[ \xa0]","g");function Mht(n){return n.replace(/\./g,"\\.?").replace(f1e,"[ \xa0]")}function h1e(n){return n.replace(/\./g,"").replace(f1e," ").toLowerCase()}function Zu(n,t){return null===n?null:{regex:RegExp(n.map(Mht).join("|")),deser:([i])=>n.findIndex(s=>h1e(i)===h1e(s))+t}}function m1e(n,t){return{regex:n,deser:([,i,s])=>FT(i,s),groups:t}}function VT(n){return{regex:n,deser:([t])=>t}}function Aht(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const Rht={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Bj=null;function g1e(n,t){return Array.prototype.concat(...n.map(i=>function Vht(n,t){if(n.literal)return n;const s=v1e(Sa.macroTokenToFormatOpts(n.val),t);return null==s||s.includes(void 0)?n:s}(i,t)))}function y1e(n,t,i){const s=g1e(Sa.parseFormat(i),n),o=s.map(l=>function Iht(n,t){const i=Xu(t),s=Xu(t,"{2}"),o=Xu(t,"{3}"),a=Xu(t,"{4}"),l=Xu(t,"{6}"),c=Xu(t,"{1,2}"),u=Xu(t,"{1,3}"),d=Xu(t,"{1,6}"),p=Xu(t,"{1,9}"),f=Xu(t,"{2,4}"),h=Xu(t,"{4,6}"),m=v=>({regex:RegExp(Aht(v.val)),deser:([_])=>_,literal:!0}),y=(v=>{if(n.literal)return m(v);switch(v.val){case"G":return Zu(t.eras("short"),0);case"GG":return Zu(t.eras("long"),0);case"y":return Qr(d);case"yy":case"kk":return Qr(f,Ij);case"yyyy":case"kkkk":return Qr(a);case"yyyyy":return Qr(h);case"yyyyyy":return Qr(l);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Qr(c);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Qr(s);case"MMM":return Zu(t.months("short",!0),1);case"MMMM":return Zu(t.months("long",!0),1);case"LLL":return Zu(t.months("short",!1),1);case"LLLL":return Zu(t.months("long",!1),1);case"o":case"S":return Qr(u);case"ooo":case"SSS":return Qr(o);case"u":return VT(p);case"uu":return VT(c);case"uuu":case"E":case"c":return Qr(i);case"a":return Zu(t.meridiems(),0);case"EEE":return Zu(t.weekdays("short",!1),1);case"EEEE":return Zu(t.weekdays("long",!1),1);case"ccc":return Zu(t.weekdays("short",!0),1);case"cccc":return Zu(t.weekdays("long",!0),1);case"Z":case"ZZ":return m1e(new RegExp(`([+-]${c.source})(?::(${s.source}))?`),2);case"ZZZ":return m1e(new RegExp(`([+-]${c.source})(${s.source})?`),2);case"z":return VT(/[a-z_+-/]{1,256}?/i);case" ":return VT(/[^\S\n\r]/);default:return m(v)}})(n)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return y.token=n,y}(l,n)),a=o.find(l=>l.invalidReason);if(a)return{input:t,tokens:s,invalidReason:a.invalidReason};{const[l,c]=function Lht(n){return[`^${n.map(i=>i.regex).reduce((i,s)=>`${i}(${s.source})`,"")}$`,n]}(o),u=RegExp(l,"i"),[d,p]=function Fht(n,t,i){const s=n.match(t);if(s){const o={};let a=1;for(const l in i)if(wb(i,l)){const c=i[l],u=c.groups?c.groups+1:1;!c.literal&&c.token&&(o[c.token.val[0]]=c.deser(s.slice(a,a+u))),a+=u}return[s,o]}return[s,{}]}(t,u,c),[f,h,m]=p?function Bht(n){let s,i=null;return ir(n.z)||(i=Df.create(n.z)),ir(n.Z)||(i||(i=new Ko(n.Z)),s=n.Z),ir(n.q)||(n.M=3*(n.q-1)+1),ir(n.h)||(n.h<12&&1===n.a?n.h+=12:12===n.h&&0===n.a&&(n.h=0)),0===n.G&&n.y&&(n.y=-n.y),ir(n.u)||(n.S=Mj(n.u)),[Object.keys(n).reduce((a,l)=>{const c=(a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(l);return c&&(a[c]=n[l]),a},{}),i,s]}(p):[null,null,void 0];if(wb(p,"a")&&wb(p,"H"))throw new Eb("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:s,regex:u,rawMatches:d,matches:p,result:f,zone:h,specificOffset:m}}}function v1e(n,t){if(!n)return null;const s=Sa.create(t,n).dtFormatter(function jht(){return Bj||(Bj=sr.fromMillis(1555555555555)),Bj}()),o=s.formatToParts(),a=s.resolvedOptions();return o.map(l=>function Nht(n,t,i){const{type:s,value:o}=n;if("literal"===s){const u=/^\s+$/.test(o);return{literal:!u,val:u?" ":o}}let l=s;"hour"===s&&(l=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":i.hour12?"hour12":"hour24");let c=Rht[l];if("object"==typeof c&&(c=c[t[s]]),c)return{literal:!1,val:c}}(l,n,a))}const jj="Invalid DateTime",b1e=864e13;function $T(n){return new Yu("unsupported zone",`the zone "${n.name}" is not supported`)}function Vj(n){return null===n.weekData&&(n.weekData=IT(n.c)),n.weekData}function $j(n){return null===n.localWeekData&&(n.localWeekData=IT(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function Jg(n,t){const i={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new sr({...i,...t,old:i})}function _1e(n,t,i){let s=n-60*t*1e3;const o=i.offset(s);if(t===o)return[s,t];s-=60*(o-t)*1e3;const a=i.offset(s);return o===a?[s,o]:[n-60*Math.min(o,a)*1e3,Math.max(o,a)]}function zT(n,t){const i=new Date(n+=60*t*1e3);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function HT(n,t,i){return _1e(LT(n),t,i)}function E1e(n,t){const i=n.o,s=n.c.year+Math.trunc(t.years),o=n.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),a={...n.c,year:s,month:o,day:Math.min(n.c.day,NT(s,o))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},l=Tr.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),c=LT(a);let[u,d]=_1e(c,i,n.zone);return 0!==l&&(u+=l,d=n.zone.offset(u)),{ts:u,o:d}}function Xw(n,t,i,s,o,a){const{setZone:l,zone:c}=i;if(n&&0!==Object.keys(n).length||t){const u=t||c,d=sr.fromObject(n,{...i,zone:u,specificOffset:a});return l?d:d.setZone(c)}return sr.invalid(new Yu("unparsable",`the input "${o}" can't be parsed as ${s}`))}function UT(n,t,i=!0){return n.isValid?Sa.create(xi.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(n,t):null}function zj(n,t){const i=n.c.year>9999||n.c.year<0;let s="";return i&&n.c.year>=0&&(s+="+"),s+=to(n.c.year,i?6:4),t?(s+="-",s+=to(n.c.month),s+="-",s+=to(n.c.day)):(s+=to(n.c.month),s+=to(n.c.day)),s}function w1e(n,t,i,s,o,a){let l=to(n.c.hour);return t?(l+=":",l+=to(n.c.minute),(0!==n.c.millisecond||0!==n.c.second||!i)&&(l+=":")):l+=to(n.c.minute),(0!==n.c.millisecond||0!==n.c.second||!i)&&(l+=to(n.c.second),(0!==n.c.millisecond||!s)&&(l+=".",l+=to(n.c.millisecond,3))),o&&(n.isOffsetFixed&&0===n.offset&&!a?l+="Z":n.o<0?(l+="-",l+=to(Math.trunc(-n.o/60)),l+=":",l+=to(Math.trunc(-n.o%60))):(l+="+",l+=to(Math.trunc(n.o/60)),l+=":",l+=to(Math.trunc(n.o%60)))),a&&(l+="["+n.zone.ianaName+"]"),l}const x1e={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},zht={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Hht={ordinal:1,hour:0,minute:0,second:0,millisecond:0},C1e=["year","month","day","hour","minute","second","millisecond"],Uht=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],qht=["year","ordinal","hour","minute","second","millisecond"];function S1e(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function Wht(n){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!t)throw new ege(n);return t}(n)}}function O1e(n,t){const i=x0(t.zone,Vs.defaultZone),s=xi.fromObject(t),o=Vs.now();let a,l;if(ir(n.year))a=o;else{for(const d of C1e)ir(n[d])&&(n[d]=x1e[d]);const c=Fge(n)||Bge(n);if(c)return sr.invalid(c);const u=i.offset(o);[a,l]=HT(n,u,i)}return new sr({ts:a,zone:i,loc:s,o:l})}function T1e(n,t,i){const s=!!ir(i.round)||i.round,o=(l,c)=>(l=Aj(l,s||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(l,c)),a=l=>i.calendary?t.hasSame(n,l)?0:t.startOf(l).diff(n.startOf(l),l).get(l):t.diff(n,l).get(l);if(i.unit)return o(a(i.unit),i.unit);for(const l of i.units){const c=a(l);if(Math.abs(c)>=1)return o(c,l)}return o(n>t?-0:0,i.units[i.units.length-1])}function P1e(n){let i,t={};return n.length>0&&"object"==typeof n[n.length-1]?(t=n[n.length-1],i=Array.from(n).slice(0,n.length-1)):i=Array.from(n),[t,i]}class sr{constructor(t){const i=t.zone||Vs.defaultZone;let s=t.invalid||(Number.isNaN(t.ts)?new Yu("invalid input"):null)||(i.isValid?null:$T(i));this.ts=ir(t.ts)?Vs.now():t.ts;let o=null,a=null;if(!s)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[o,a]=[t.old.c,t.old.o];else{const c=i.offset(this.ts);o=zT(this.ts,c),s=Number.isNaN(o.year)?new Yu("invalid input"):null,o=s?null:o,a=s?null:c}this._zone=i,this.loc=t.loc||xi.create(),this.invalid=s,this.weekData=null,this.localWeekData=null,this.c=o,this.o=a,this.isLuxonDateTime=!0}static now(){return new sr({})}static local(){const[t,i]=P1e(arguments),[s,o,a,l,c,u,d]=i;return O1e({year:s,month:o,day:a,hour:l,minute:c,second:u,millisecond:d},t)}static utc(){const[t,i]=P1e(arguments),[s,o,a,l,c,u,d]=i;return t.zone=Ko.utcInstance,O1e({year:s,month:o,day:a,hour:l,minute:c,second:u,millisecond:d},t)}static fromJSDate(t,i={}){const s=function wft(n){return"[object Date]"===Object.prototype.toString.call(n)}(t)?t.valueOf():NaN;if(Number.isNaN(s))return sr.invalid("invalid input");const o=x0(i.zone,Vs.defaultZone);return o.isValid?new sr({ts:s,zone:o,loc:xi.fromObject(i)}):sr.invalid($T(o))}static fromMillis(t,i={}){if(Xg(t))return t<-b1e||t>b1e?sr.invalid("Timestamp out of range"):new sr({ts:t,zone:x0(i.zone,Vs.defaultZone),loc:xi.fromObject(i)});throw new Fl(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(Xg(t))return new sr({ts:1e3*t,zone:x0(i.zone,Vs.defaultZone),loc:xi.fromObject(i)});throw new Fl("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};const s=x0(i.zone,Vs.defaultZone);if(!s.isValid)return sr.invalid($T(s));const o=xi.fromObject(i),a=BT(t,S1e),{minDaysInFirstWeek:l,startOfWeek:c}=Lge(a,o),u=Vs.now(),d=ir(i.specificOffset)?s.offset(u):i.specificOffset,p=!ir(a.ordinal),f=!ir(a.year),h=!ir(a.month)||!ir(a.day),m=f||h,g=a.weekYear||a.weekNumber;if((m||p)&&g)throw new Eb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&p)throw new Eb("Can't mix ordinal dates with month/day");const y=g||a.weekday&&!m;let v,_,E=zT(u,d);y?(v=Uht,_=zht,E=IT(E,l,c)):p?(v=qht,_=Hht,E=Dj(E)):(v=C1e,_=x1e);let x=!1;for(const k of v)ir(a[k])?a[k]=x?_[k]:E[k]:x=!0;const b=y?function bft(n,t=4,i=1){const s=RT(n.weekYear),o=ou(n.weekNumber,1,qw(n.weekYear,t,i)),a=ou(n.weekday,1,7);return s?o?!a&&su("weekday",n.weekday):su("week",n.weekNumber):su("weekYear",n.weekYear)}(a,l,c):p?function _ft(n){const t=RT(n.year),i=ou(n.ordinal,1,xb(n.year));return t?!i&&su("ordinal",n.ordinal):su("year",n.year)}(a):Fge(a),w=b||Bge(a);if(w)return sr.invalid(w);const C=y?Rge(a,l,c):p?Nge(a):a,[P,D]=HT(C,d,s),I=new sr({ts:P,zone:s,o:D,loc:o});return a.weekday&&m&&t.weekday!==I.weekday?sr.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${I.toISO()}`):I}static fromISO(t,i={}){const[s,o]=function dht(n){return Ob(n,[iht,s1e],[sht,lht],[oht,cht],[aht,uht])}(t);return Xw(s,o,i,"ISO 8601",t)}static fromRFC2822(t,i={}){const[s,o]=function pht(n){return Ob(function Jft(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(n),[Zft,Qft])}(t);return Xw(s,o,i,"RFC 2822",t)}static fromHTTP(t,i={}){const[s,o]=function fht(n){return Ob(n,[eht,i1e],[tht,i1e],[nht,rht])}(t);return Xw(s,o,i,"HTTP",i)}static fromFormat(t,i,s={}){if(ir(t)||ir(i))throw new Fl("fromFormat requires an input string and a format");const{locale:o=null,numberingSystem:a=null}=s,l=xi.fromOpts({locale:o,numberingSystem:a,defaultToEN:!0}),[c,u,d,p]=function $ht(n,t,i){const{result:s,zone:o,specificOffset:a,invalidReason:l}=y1e(n,t,i);return[s,o,a,l]}(l,t,i);return p?sr.invalid(p):Xw(c,u,s,`format ${i}`,t,d)}static fromString(t,i,s={}){return sr.fromFormat(t,i,s)}static fromSQL(t,i={}){const[s,o]=function _ht(n){return Ob(n,[yht,s1e],[vht,bht])}(t);return Xw(s,o,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new Fl("need to specify a reason the DateTime is invalid");const s=t instanceof Yu?t:new Yu(t,i);if(Vs.throwOnInvalid)throw new Ypt(s);return new sr({invalid:s})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,i={}){const s=v1e(t,xi.fromObject(i));return s?s.map(o=>o?o.val:null).join(""):null}static expandFormat(t,i={}){return g1e(Sa.parseFormat(t),xi.fromObject(i)).map(o=>o.val).join("")}get(t){return this[t]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Vj(this).weekYear:NaN}get weekNumber(){return this.isValid?Vj(this).weekNumber:NaN}get weekday(){return this.isValid?Vj(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?$j(this).weekday:NaN}get localWeekNumber(){return this.isValid?$j(this).weekNumber:NaN}get localWeekYear(){return this.isValid?$j(this).weekYear:NaN}get ordinal(){return this.isValid?Dj(this.c).ordinal:NaN}get monthShort(){return this.isValid?Yw.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Yw.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Yw.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Yw.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,i=6e4,s=LT(this.c),o=this.zone.offset(s-t),a=this.zone.offset(s+t),l=this.zone.offset(s-o*i),c=this.zone.offset(s-a*i);if(l===c)return[this];const u=s-l*i,d=s-c*i,p=zT(u,l),f=zT(d,c);return p.hour===f.hour&&p.minute===f.minute&&p.second===f.second&&p.millisecond===f.millisecond?[Jg(this,{ts:u}),Jg(this,{ts:d})]:[this]}get isInLeapYear(){return Uw(this.year)}get daysInMonth(){return NT(this.year,this.month)}get daysInYear(){return this.isValid?xb(this.year):NaN}get weeksInWeekYear(){return this.isValid?qw(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?qw(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:i,numberingSystem:s,calendar:o}=Sa.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:s,outputCalendar:o}}toUTC(t=0,i={}){return this.setZone(Ko.instance(t),i)}toLocal(){return this.setZone(Vs.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:s=!1}={}){if((t=x0(t,Vs.defaultZone)).equals(this.zone))return this;if(t.isValid){let o=this.ts;if(i||s){const a=t.offset(this.ts),l=this.toObject();[o]=HT(l,a,t)}return Jg(this,{ts:o,zone:t})}return sr.invalid($T(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:s}={}){return Jg(this,{loc:this.loc.clone({locale:t,numberingSystem:i,outputCalendar:s})})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const i=BT(t,S1e),{minDaysInFirstWeek:s,startOfWeek:o}=Lge(i,this.loc),a=!ir(i.weekYear)||!ir(i.weekNumber)||!ir(i.weekday),l=!ir(i.ordinal),c=!ir(i.year),u=!ir(i.month)||!ir(i.day);if((c||u||l)&&(i.weekYear||i.weekNumber))throw new Eb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&l)throw new Eb("Can't mix ordinal dates with month/day");let f;a?f=Rge({...IT(this.c,s,o),...i},s,o):ir(i.ordinal)?(f={...this.toObject(),...i},ir(i.day)&&(f.day=Math.min(NT(f.year,f.month),f.day))):f=Nge({...Dj(this.c),...i});const[h,m]=HT(f,this.o,this.zone);return Jg(this,{ts:h,o:m})}plus(t){return this.isValid?Jg(this,E1e(this,Tr.fromDurationLike(t))):this}minus(t){return this.isValid?Jg(this,E1e(this,Tr.fromDurationLike(t).negate())):this}startOf(t,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const s={},o=Tr.normalizeUnit(t);switch(o){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0}if("weeks"===o)if(i){const a=this.loc.getStartOfWeek(),{weekday:l}=this;l<a&&(s.weekNumber=this.weekNumber-1),s.weekday=a}else s.weekday=1;if("quarters"===o){const a=Math.ceil(this.month/3);s.month=3*(a-1)+1}return this.set(s)}endOf(t,i){return this.isValid?this.plus({[t]:1}).startOf(t,i).minus(1):this}toFormat(t,i={}){return this.isValid?Sa.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):jj}toLocaleString(t=DT,i={}){return this.isValid?Sa.create(this.loc.clone(i),t).formatDateTime(this):jj}toLocaleParts(t={}){return this.isValid?Sa.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:s=!1,includeOffset:o=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;const l="extended"===t;let c=zj(this,l);return c+="T",c+=w1e(this,l,i,s,o,a),c}toISODate({format:t="extended"}={}){return this.isValid?zj(this,"extended"===t):null}toISOWeekDate(){return UT(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:s=!0,includePrefix:o=!1,extendedZone:a=!1,format:l="extended"}={}){return this.isValid?(o?"T":"")+w1e(this,"extended"===l,i,t,s,a):null}toRFC2822(){return UT(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return UT(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?zj(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:s=!0}={}){let o="HH:mm:ss.SSS";return(i||t)&&(s&&(o+=" "),i?o+="z":t&&(o+="ZZ")),UT(this,o,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():jj}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const i={...this.c};return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",s={}){if(!this.isValid||!t.isValid)return Tr.invalid("created by diffing an invalid DateTime");const o={locale:this.locale,numberingSystem:this.numberingSystem,...s},a=function xft(n){return Array.isArray(n)?n:[n]}(i).map(Tr.normalizeUnit),l=t.valueOf()>this.valueOf(),d=function Tht(n,t,i,s){let[o,a,l,c]=function Oht(n,t,i){const s=[["years",(u,d)=>d.year-u.year],["quarters",(u,d)=>d.quarter-u.quarter+4*(d.year-u.year)],["months",(u,d)=>d.month-u.month+12*(d.year-u.year)],["weeks",(u,d)=>{const p=u1e(u,d);return(p-p%7)/7}],["days",u1e]],o={},a=n;let l,c;for(const[u,d]of s)i.indexOf(u)>=0&&(l=u,o[u]=d(n,t),c=a.plus(o),c>t?(o[u]--,(n=a.plus(o))>t&&(c=n,o[u]--,n=a.plus(o))):n=c);return[n,o,c,l]}(n,t,i);const u=t-o,d=i.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);0===d.length&&(l<t&&(l=o.plus({[c]:1})),l!==o&&(a[c]=(a[c]||0)+u/(l-o)));const p=Tr.fromObject(a,s);return d.length>0?Tr.fromMillis(u,s).shiftTo(...d).plus(p):p}(l?this:t,l?t:this,a,o);return l?d.negate():d}diffNow(t="milliseconds",i={}){return this.diff(sr.now(),t,i)}until(t){return this.isValid?As.fromDateTimes(this,t):this}hasSame(t,i,s){if(!this.isValid)return!1;const o=t.valueOf(),a=this.setZone(t.zone,{keepLocalTime:!0});return a.startOf(i,s)<=o&&o<=a.endOf(i,s)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const i=t.base||sr.fromObject({},{zone:this.zone}),s=t.padding?this<i?-t.padding:t.padding:0;let o=["years","months","days","hours","minutes","seconds"],a=t.unit;return Array.isArray(t.unit)&&(o=t.unit,a=void 0),T1e(i,this.plus(s),{...t,numeric:"always",units:o,unit:a})}toRelativeCalendar(t={}){return this.isValid?T1e(t.base||sr.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(sr.isDateTime))throw new Fl("min requires all arguments be DateTimes");return $ge(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(sr.isDateTime))throw new Fl("max requires all arguments be DateTimes");return $ge(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,s={}){const{locale:o=null,numberingSystem:a=null}=s;return y1e(xi.fromOpts({locale:o,numberingSystem:a,defaultToEN:!0}),t,i)}static fromStringExplain(t,i,s={}){return sr.fromFormatExplain(t,i,s)}static get DATE_SHORT(){return DT}static get DATE_MED(){return tge}static get DATE_MED_WITH_WEEKDAY(){return Qpt}static get DATE_FULL(){return nge}static get DATE_HUGE(){return rge}static get TIME_SIMPLE(){return ige}static get TIME_WITH_SECONDS(){return sge}static get TIME_WITH_SHORT_OFFSET(){return oge}static get TIME_WITH_LONG_OFFSET(){return age}static get TIME_24_SIMPLE(){return lge}static get TIME_24_WITH_SECONDS(){return cge}static get TIME_24_WITH_SHORT_OFFSET(){return uge}static get TIME_24_WITH_LONG_OFFSET(){return dge}static get DATETIME_SHORT(){return pge}static get DATETIME_SHORT_WITH_SECONDS(){return fge}static get DATETIME_MED(){return hge}static get DATETIME_MED_WITH_SECONDS(){return mge}static get DATETIME_MED_WITH_WEEKDAY(){return Jpt}static get DATETIME_FULL(){return gge}static get DATETIME_FULL_WITH_SECONDS(){return yge}static get DATETIME_HUGE(){return vge}static get DATETIME_HUGE_WITH_SECONDS(){return bge}}function Zw(n){if(sr.isDateTime(n))return n;if(n&&n.valueOf&&Xg(n.valueOf()))return sr.fromJSDate(n);if(n&&"object"==typeof n)return sr.fromObject(n);throw new Fl(`Unknown datetime argument: ${n}, of type ${typeof n}`)}const Hj=122,D1e=123,Yht=4,Xht=131,M1e=19,n0t=140,r0t=23,i0t=141,a0t=41,f0t=68,A1e=154,I1e=70,R1e=155,N1e=72,h0t=156,_0t=167,L1e=89,E0t=90,w0t=169,x0t=97,C0t=171,Uj=typeof process<"u"&&process.env&&/\bfparse(:dbg)?\b/.test(process.env.LOG),qj=typeof process<"u"&&process.env&&/\bfparse:dbg\b/.test(process.env.LOG),kf=typeof process<"u"&&process.env&&/\bcontext\b/.test(process.env.LOG),F1e=[9,11,12,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],P0t=j1e("\n\r"),D0t=j1e("'./-+*^");function j1e(n){return Array.from(n).map(t=>t.charCodeAt(0))}function k0t(n){return 63===n||n>=65&&n<=90||95===n||n>=97&&n<=122||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=55296&&n<=56319||n>=56320&&n<=57343}function A0t(n){return n>=48&&n<=57||183===n||n>=768&&n<=879||n>=8255&&n<=8256}function I0t(n){return F1e.includes(n)}function V1e(n,t){return t.concat(n.split(/\n/g).join("\n"+t))}function R0t(n,t=0){const i=n.peek(t);return 42===i&&42===n.peek(t+1)?{offset:2,token:"**"}:function M0t(n){return D0t.includes(n)}(i)?{offset:1,token:String.fromCharCode(i)}:null}function qT(n,t=0,i=!1){for(let s=!1,o=[],a=0;;a++){const l=n.peek(t+a);if(!(k0t(l)||(s||i)&&A0t(l)))return o.length?{token:String.fromCharCode(...o),offset:a}:null;s||(s=!0),o.push(l)}}function $1e(n,t){for(let i=!1,s=0;;s++){if(!I0t(n.peek(t+s)))return i?{token:" ",offset:s}:null;i||(i=!0)}}const L0t={[Hj]:"identifier",[D1e]:"nameIdentifier"},F0t=new b0((n,t)=>{qj&&console.log("%s: T <identifier | nameIdentifier>",n.pos);const i=function N0t(n,t){const i=t.contextKeys(),s=t.tokens;for(let o=0,a=[],l=null;;){const c=s.length+a.length>0,u=a.length>0,d=qT(n,o,c)||c&&R0t(n,o)||u&&$1e(n,o);if(!d)return l;const{token:p,offset:f}=d;if(o+=f," "===p)continue;a=[...a,p];const h=[...s,...a].join(" ");if(i.some(m=>m===h)){const m=a[0];l={token:m,offset:m.length,term:123}}if(!i.some(m=>m.startsWith(h))){if(z1e.some(m=>m===h)){const m=a[0];l={token:m,offset:m.length,term:122}}if(!z1e.some(m=>m.startsWith(h)))return l}}}(n,t.context),o=i||qT(n,0,t.context.tokens.length>0);o&&(n.advance(o.offset),n.acceptToken(i?i.term:122),Uj&&console.log("%s: MATCH <%s> <%s>",n.pos,i?L0t[i.term]:"identifier",o.token))},{contextual:!0}),B0t=new b0((n,t)=>{qj&&console.log("%s: T <propertyIdentifier>",n.pos);const s=qT(n,0,t.context.tokens.length>0);s&&(n.advance(s.offset),n.acceptToken(121),Uj&&console.log("%s: MATCH <propertyIdentifier> <%s>",n.pos,s.token))}),j0t=new b0((n,t)=>{qj&&console.log("%s: T <insertSemi>",n.pos);let i,s=!1;for(i=0;;i++){const o=n.peek(i);if(!F1e.includes(o)){P0t.includes(o)&&(s=!0);break}}if(s){const o=qT(n,i+1);if($1e(n,i+1)||o&&/^(then|else|return|satisfies)$/.test(o.token))return;Uj&&console.log("%s: MATCH <insertSemi>",n.pos),n.acceptToken(124)}}),V0t={[h0t]:"FunctionInvocation",[R1e]:"FilterExpression",[A1e]:"PathExpression"},$0t={[C0t]:"Context",[w0t]:"FunctionDefinition",[Xht]:"ForExpression",[_0t]:"List",[n0t]:"IfExpression",[i0t]:"QuantifiedExpression"},z0t={[x0t]:"Context",[E0t]:"FunctionDefinition",[Yht]:"ForExpression",[L1e]:"List",[M1e]:"IfExpression",[r0t]:"QuantifiedExpression",[f0t]:"PathExpression",[N1e]:"FunctionInvocation",[I1e]:"FilterExpression",[a0t]:"ArithmeticExpression"};class Qw{constructor(t){this.fn=t}get(t){return this.fn(t)}static of(t){return new Qw(t)}}const z1e=Object.keys({"date and time":1,date:1,time:1,duration:1});class H1e{constructor(t={}){this.value=t}getKeys(){return Object.keys(this.value)}get(t){const i=this.value[t],s=this.constructor;return s.isAtomic(i)?i:s.of(i)}set(t,i){return this.constructor.of({...this.value,[t]:i})}static isAtomic(t){return!t||t instanceof this||t instanceof Qw||"object"!=typeof t}static of(...t){const i=o=>o&&"object"==typeof o?o instanceof this?o.value:{...o}:{};return new this(t.reduce((o,a)=>({...o,...i(a)}),{}))}}class Jw{constructor({name:t="Expressions",tokens:i=[],children:s=[],parent:o=null,context:a=null,value:l=null,raw:c=null}={}){this.name=t,this.tokens=i,this.children=s,this.parent=o,this.context=a,this.value=l,this.raw=c}enterScope(t){const i=this.of({name:t,parent:this});return kf&&console.log("[%s] enter",i.path,i.context),i}exitScope(t){return this.parent?(kf&&console.log("[%s] exit %o\n%s",this.path,this.context,V1e(t,"  ")),this.parent.pushChild(this)):(kf&&console.log("[%s] NO exit %o\n%s",this.path,this.context,V1e(t,"  ")),this)}token(t){return kf&&console.log("[%s] token <%s> + <%s>",this.path,this.tokens.join(" "),t),this.assign({tokens:[...this.tokens,t]})}literal(t){return kf&&console.log("[%s] literal %o",this.path,t),this.pushChild(this.of({name:"Literal",value:t}))}computedValue(){for(let t=this;;t=Ab(t.children)){if(!t)return null;if(t.value)return t.value}}contextKeys(){return this.context.getKeys().map(Mb)}get path(){return this.parent?.path?.concat(" > ",this.name)||this.name}get(t){const i=[t,t&&Mb(t)],s=this.context.getKeys().find(a=>i.includes(Mb(a)));if(typeof s>"u")return;const o=this.context.get(s);return o instanceof Qw?o.get(this):o}resolveName(){const t=this.tokens.join(" "),s=this.assign({tokens:[]}),o=this.of({name:"VariableName",parent:s,value:this.get(t),raw:t});return kf&&console.log("[%s] resolve name <%s=%s>",o.path,t,this.get(t)),s.pushChild(o)}pushChild(t){if(!t)return this;const i=this.assign({children:[...this.children,t]});return t.parent=i,i}pushChildren(t){let i=this;for(const s of t)i=i.pushChild(s);return i}declareName(){if(0===this.tokens.length)throw Error("no tokens to declare name");const t=this.tokens.join(" ");return kf&&console.log("[%s] declareName <%s>",this.path,t),this.assign({tokens:[]}).pushChild(this.of({name:"Name",value:t}))}define(t,i){if("string"!=typeof t)return kf&&console.log("[%s] no define <%s=%s>",this.path,t,i),this;kf&&console.log("[%s] define <%s=%s>",this.path,t,i);const s=this.context.set(t,i);return this.assign({context:s})}assign(t={}){return Jw.of({...this,...t})}of(t={}){return Jw.of({context:this.context,parent:this.parent,...t})}static of(t){const{name:i,tokens:s=[],children:o=[],parent:a=null,context:l,value:c,raw:u}=t;if(!l)throw new Error("must provide <context>");return new Jw({name:i,tokens:[...s],children:[...o],context:l,parent:a,value:c,raw:u})}}function Mb(n){return n.replace(/\s*([./\-'+]|\*\*?)\s*/g," $1 ").replace(/\s{2,}/g," ").trim()}function U1e(n,t,i){const s=n.children.filter(d=>d.name!==t),o=n.children.filter(d=>d.name===t),a=s[0],l=s[Math.max(1,s.length-1)],c=a?.computedValue(),u=l?.computedValue()||null;return n.assign({children:o}).enterScope(t).pushChildren(s).exitScope(i).define(c,u)}function ex(n={},t=H1e){const i=Jw.of({context:t.of(n)});return new vj({start:i,reduce(s,o,a,l){if(19===o){const[f,h]=s.children.slice(-2);s=s.assign({value:t.of(f?.computedValue(),h?.computedValue())})}if(89===o&&(s=s.assign({value:t.of(...s.children.map(f=>f?.computedValue()))})),70===o){const[f,h]=s.children.slice(-2);s=s.assign({value:f?.computedValue()})}if(72===o){const[f,...h]=s.children;"get value"===f?.raw&&(s=function U0t(n,t){if(!t.length)return n.assign({value:null});if("Name"===t[0].name&&(t=function q0t(n,t){const i={};for(let s=0;s<n.length;s+=2){const[o,a]=n.slice(s,s+2);i[o.value]=a}return t.map(s=>i[s])}(t,["m","key"])),2!==t.length)return n.assign({value:null});const[i,s]=t,o=s?.computedValue(),a=i?.computedValue();return n.assign(a&&"object"==typeof a&&"string"==typeof o?{value:[Mb(o),o].reduce((l,c)=>a.get(c)||l,null)}:{value:null})}(s,h))}const c=$0t[o];if(c)return s.enterScope(c);const u=V0t[o];if(u){const{children:f,context:h}=s,m=f.slice(0,-1),g=Ab(f);let y=null;return 154===o&&(y=t.of(g?.computedValue())),155===o&&(y=t.of(h,g?.computedValue()).set("item",g?.computedValue())),s.assign({children:m}).enterScope(u).pushChild(g).assign({context:y||h})}const d=l.read(l.pos,a.pos);if(z0t[o])return s.exitScope(d);if(98===o){const f=s.children.filter(g=>"ContextEntry"!==g.name),h=f[0],m=Ab(f);return U1e(s,"ContextEntry",d).assign({value:t.of(s.value).set(h?.computedValue(),m?.computedValue())})}if(7===o||27===o)return U1e(s,"InExpression",d);if(139===o)return s.define("partial",Qw.of(f=>Ab(f.children)?.computedValue()));if(76===o){const f=Ab(s.children).computedValue();return s.define(f,1)}if(145===o||146===o||147===o){const f=s.children.slice(0,-1),h=Ab(s.children);return s.assign({children:f}).enterScope("ArithmeticExpression").pushChild(h)}if(148===o)return s.enterScope("ArithmeticExpression");if(9===o||10===o||101===o)return s.token(d);if(80===o)return s.literal(d.replace(/^"|"$/g,""));if(81===o)return s.literal("true"===d);if(79===o)return s.literal(parseFloat(d));if(161===o)return s.literal(null);if(47===o)return s.resolveName();if(8===o||100===o)return s.declareName();if((128===o||37===o)&&s.tokens.length>0)throw new Error("uncleared name");if(128===o){let f=s;for(;f.parent;)f=f.exitScope(d);return f}return s}})}const H0t=ex({});function Ab(n){return n[n.length-1]}const W0t=Gg({StringLiteral:oe.string,NumericLiteral:oe.number,BooleanLiteral:oe.bool,"AtLiteral!":oe.special(oe.string),CompareOp:oe.compareOperator,ArithOp:oe.arithmeticOperator,"for if then else some every satisfies between return":oe.controlKeyword,"in instance of and or":oe.operatorKeyword,function:oe.definitionKeyword,as:oe.keyword,"Type/...":oe.typeName,Wildcard:oe.special(oe.variableName),null:oe.null,LineComment:oe.lineComment,BlockComment:oe.blockComment,'VariableName! "?"':oe.variableName,"DateTimeConstructor! SpecialFunctionName!":oe.function(oe.special(oe.variableName)),"List Interval":oe.list,Context:oe.definition(oe.literal),"Name!":oe.definition(oe.variableName),"Key/Name! ContextEntryType/Name!":oe.definition(oe.propertyName),"PathExpression/VariableName!":oe.function(oe.propertyName),"FormalParameter/ParameterName!":oe.function(oe.definition(oe.variableName)),"( )":oe.paren,"[ ]":oe.squareBracket,"{ }":oe.brace,".":oe.derefOperator,", ;":oe.separator,"..":oe.punctuation}),G0t={__proto__:null,for:10,in:32,return:36,if:40,then:42,else:44,some:48,every:50,satisfies:56,or:60,and:64,between:72,instance:86,of:89,days:101,time:103,duration:105,years:107,months:109,date:111,list:117,context:123,function:130,null:156,true:330,false:330,"?":170,external:186,not:211},tx=Wg.deserialize({version:14,states:"C|O`QYOOO`QYOOO$mQYOOOOQU'#Ce'#CeO$wQYO'#C`O&QQYO'#FQOOQQ'#Ff'#FfO&[QYO'#FfO`QYO'#DVOOQU'#En'#EnO'{Q^O'#D]OOQU'#D^'#D^OOQU'#D]'#D]OOQO'#Fn'#FnO)xQWO'#DvOOQQ'#D}'#D}OOQQ'#EO'#EOOOQQ'#EP'#EPO)}OWO'#ESO)xQWO'#EQOOQQ'#EQ'#EQOOQQ'#Ft'#FtOOQQ'#Fr'#FrOOQQ'#Fy'#FyOOQQ'#EU'#EUO`QYO'#EWOOQQ'#FS'#FSO*SQ^O'#FSO+yQYO'#EXO,QQWO'#EYOOQP'#F}'#F}O,VQXO'#EaOOQQ'#Fz'#FzOOQQ'#FR'#FRQOQWOOOOQQ'#FT'#FTOOQQ'#F^'#F^O`QYO'#CoOOQQ'#F_'#F_O$wQYO'#CsO,bQYO'#DwOOQQ'#Fs'#FsO,gQYO'#EROOQO'#ER'#ERO`QYO'#EVO`QYO'#EUOOQO'#F{'#F{Q,oQWOOO,tQYO'#DRO-kQWO'#FbOOQO'#DT'#DTO-vQYO'#FfO-}QWOOO.tQYO'#CdO/RQYO'#FVOOQQ'#Cc'#CcO/WQYO'#FUOOQQ'#Cb'#CbO/`QYO,58zO`QYO,59iOOQQ'#Fc'#FcOOQQ'#Fd'#FdOOQQ'#Fe'#FeO`QYO,59qO`QYO,59qO`QYO,59qOOQQ'#Fl'#FlO/eQYO,5:^OOQQ'#Fm'#FmO`QYO,5:`O`QYO,59eO`QYO,59gO`QYO,59iO1^QYO,59iO1eQYO,59rOOQQ,5:i,5:iO1jQYO,59qOOQU-E8l-E8lO3^QYO'#FoOOQQ,5:b,5:bOOQQ,5:n,5:nOOQQ,5:l,5:lO3eQYO,5:rOOQQ,5;n,5;nO3oQYO,5:qO3|QWO,5:sO4RQYO,5:tOOQP'#Ee'#EeO4xQXO'#EdOOQO'#Ec'#EcO5PQWO'#EbO5UQWO'#GOO5^QWO,5:{O5cQYO,59ZO/RQYO'#FaOOQQ'#Cw'#CwO5jQYO'#F`OOQQ'#Cv'#CvO5rQYO,59_O5wQYO,5:cO5|QYO,5:mO3hQYO,5:qO6RQYO,5:pO`QYO'#EwQ,oQWOOO`QYO'#EmO6xQWO,5;|O`QYOOOOQR'#Cf'#CfOOQQ'#Ej'#EjO7rQYO,59OO`QYO,5;qOOQQ'#FY'#FYO$wQYO'#EkO8SQYO,5;pO`QYO1G.fOOQQ'#F]'#F]O8yQYO1G/TO;pQYO1G/]O;zQYO1G/]O<UQYO1G/]OOQQ1G/x1G/xO=xQYO1G/zO>PQYO1G/PO?YQYO1G/RO@cQYO1G/TO`QYO1G/TOOQQ1G/T1G/TO@yQYO1G/^OAhQ^O'#CdOBzQYO'#FqOOQO'#Dz'#DzOCUQWO'#DyOCZQWO'#FpOOQO'#Dx'#DxOOQO'#D{'#D{OCcQWO,5<ZOOQQ1G0^1G0^O`QYO1G0]O`QYO'#EsOChQWO,5<]OOQQ1G0_1G0_OCsQWO'#E[ODOQWO'#F|OOQO'#EZ'#EZODWQWO1G0`OOQP'#Eu'#EuOD]QXO,5;OO`QYO,5:|ODdQXO'#EvODlQWO,5<jOOQQ1G0g1G0gO`QYO1G.uO`QYO,5;{O$wQYO'#ElODtQYO,5;zO`QYO1G.yOD|QYO1G/}OOQO1G0X1G0XOOQO,5;c,5;cOOQO-E8u-E8uOOQO,5;X,5;XOOQO-E8k-E8kOERQWOOOOQQ-E8h-E8hOEWQYO'#CmOOQQ1G1]1G1]OOQQ,5;V,5;VOOQQ-E8i-E8iOEeQYO7+$QOOQQ7+%f7+%fO`QYO7+$oOF[QYO,5:rOFiQWO7+$oOFnQYO'#D[OOQQ'#DZ'#DZOHbQYO'#D_OHgQYO'#D_OHlQYO'#D_OHqQ`O'#DgOHvQ`O'#DjOH{Q`O'#DnOOQQ7+$x7+$xO`QYO,5:eO$wQYO'#ErOIQQWO,5<[OOQQ1G1u1G1uOJWQYO7+%wOJeQYO,5;_OOQO-E8q-E8qO@yQYO,5:vO$wQYO'#EtOJrQWO,5<hOJzQYO7+%zOOQP-E8s-E8sOKRQYO1G0hOOQO,5;b,5;bOOQO-E8t-E8tOK]QYO7+$aOKdQYO1G1gOOQQ,5;W,5;WOOQQ-E8j-E8jOKnQYO7+$eOOQO7+%i7+%iO`QYO,59XOLeQYO<<HZOOQQ<<HZ<<HZO/eQYO'#EoOMnQYO,59vO! bQYO,59yO! gQYO,59yO! lQYO,59yO! qQYO,5:RO$wQYO,5:UO!!`QbO,5:YO!!gQYO1G0POOQO,5;^,5;^OOQO-E8p-E8pO!!qQYO<<IcOOQQ<<Ic<<IcOOQO1G0b1G0bOOQO,5;`,5;`OOQO-E8r-E8rO!%pQYO'#E^OOQQ<<If<<IfO`QYO<<IfO`QYO<<G{O!&gQYO1G.sOOQQ,5;Z,5;ZOOQQ-E8m-E8mO!&qQYO1G/eOOQQ1G/e1G/eO!&vQbO'#D]O!'XQ`O'#D[O!'dQ`O1G/mO!'iQWO'#DmO!'nQ`O'#FhOOQO'#Dl'#DlO!'vQ`O1G/pOOQO'#Dq'#DqO!'{Q`O'#FjOOQO'#Dp'#DpO!(TQ`O1G/tOOQQAN?QAN?QO!(YQYOAN=gOOQQ7+%P7+%PO!)PQ`O,59vOOQQ7+%X7+%XO! qQYO,5:XO$wQYO'#EpO!)[Q`O,5<SOOQQ7+%[7+%[O! qQYO'#EqO!)dQ`O,5<UO!)lQ`O7+%`OOQO1G/s1G/sOOQO,5;[,5;[OOQO-E8n-E8nOOQO,5;],5;]OOQO-E8o-E8oO@yQYO<<HzOOQQAN>fAN>fO/eQYO'#EoO! qQYO<<HzO!)qQ`O7+%`O!)vQ`O1G/tO!!`QbO,5:YO!){Q`O'#Dn",stateData:"!*[~O#rOS#sOSPOSQOS~OTsOZVO[UOdtOhvOivOs}OviO!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~OTsO[UOdtOhvOivOs}OviO!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~OZ!TO#]!UO~P#PO#nRO#oRO~OZ!^O[!^O]!_O^!_O_!`O`!kOn!hOp!iOr!]Os!]Ot!jO{!lO!i!fO#z!dOv$bX~O#l#tX$s#tX~P%PO$i!mOT$YXZ$YX[$YXd$YXh$YXi$YXs$YXv$YX!T$YX!U$YX!V$YX!X$YX!c$YX!g$YX!i$YX!p$YX!w$YX#S$YX#n$YX#o$YX$Z$YX$j$YX$k$YX$l$YX~O#nRO#oROZ!PX[!PX]!PX^!PX_!PX`!PXn!PXp!PXr!PXs!PXt!PXv!PX{!PX!i!PX#l!PX#p!PX#z!PX$s!PX$O!PXx!PX#}!PX!g!PXe!PXb!PX#R!PXf!PXl!PX~Ov!pO~O$j`O~O#p!uOZ#vX[#vX]#vX^#vX_#vX`#vXn#vXp#vXr#vXs#vXt#vXv#vX{#vX!i#vX#l#vX#z#vX$s#vX$O#vXx#vX#}#vX!g#vXe#vXb#vX#R#vXf#vXl#vX~O!g$eP~P`Ov!xO~O#m!yO$j`O#R$rP~Op#VO~Op#WOv!uX~O$s#ZO~O#luX$OuX$suXxuX#}uX!guXeuXbuX#RuXfuXluX~P%PO$O#]O#l$UXx$UX~O#l#[X~P&[Ov#_O~OZ#`O[#`O]#`O^#`O_#`O#nRO#oRO#z#`O#{#`O$]WX~O`WXxWX$OWX~P.SO`#dO~O$O#eOb#xX~Ob#hO~O#nRO#oRO$ZZO~OTsOZVO[UOdtOhvOivOs}O!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~Ov#rO~P/pO|#tO~O{!lO!i!fO#z!dOZya[ya]ya^ya_ya`yanyapyaryasyatyav$bX#lya$sya$Oyaxya#}ya!gyaeyabya#Ryafyalya~Ox$eP~P`Ox#}O#}$OO~P%PO#}$OO$O$PO!g$eX~P%PO!g$RO~O#nRO#oROx$pP~OZ#`O[#`O]#`O^#`O_#`O#m!yO#z#`O#{#`O~O$]#WX~P4^O$]$YO~O$O$ZO#R$rX~O#R$]O~Oe$^O~P%PO$O$`Ol$SX~Ol$bO~O!W$cO~O!T$dO~O#l!xa$s!xa$O!xax!xa#}!xa!g!xae!xab!xa#R!xaf!xal!xa~P%PO$O#]O#l$Uax$Ua~OZ#`O[#`O]#`O^#`O_#`O#nRO#oRO#z#`O#{#`O~O`Wa$]WaxWa$OWa~P7TO$O#eOb#xa~OZ!^O[!^O]!_O^!_O_!`O{!lO!i!fO#z!dOv$bX~O`qinqipqirqisqitqi#lqi$sqi$Oqixqi#}qi!gqieqibqi#Rqifqilqi~P8[O_!`O{!lO!i!fO#z!dOZyi[yi`yinyipyiryisyityiv$bX#lyi$syi$Oyixyi#}yi!gyieyibyi#Ryifyilyi~O]!_O^!_O~P:SO]yi^yi~P:SO{!lO!i!fO#z!dOZyi[yi]yi^yi_yi`yinyipyiryisyityiv$bX#lyi$syi$Oyixyi#}yi!gyieyibyi#Ryifyilyi~O!g$pO~P%PO`!kOp!iOr!]Os!]Ot!jOnmi#lmi$smi$Omixmi#}mi!gmiemibmi#Rmifmilmi~P8[O`!kOr!]Os!]Ot!jOnoipoi#loi$soi$Ooixoi#}oi!goieoiboi#Roifoiloi~P8[O`!kOn!hOp$qOr!]Os!]Ot!jO~P8[O!S$vO!V$wO!X$xO![$yO!_$zO!c${O#nRO#oRO$ZZO~OZ#bX[#bX]#bX^#bX_#bX`#bXn#bXp#bXr#bXs#bXt#bXv#bXx#bX{#bX!i#bX#n#bX#o#bX#p#bX#z#bX$O#bX~P.SO$O$POx$eX~P%PO$]$}O~O$O%OOx$dX~Ox%QO~O$O$PO!g$eax$ea~O$]%UOx#OX$O#OX~O$O%VOx$pX~Ox%XO~O$]#Wa~P4^O#m!yO$j`O~O$O$ZO#R$ra~O$O$`Ol$Sa~O!U%cO~OxrO~O#}%dObaX$OaX~P%PO#lSq$sSq$OSqxSq#}Sq!gSqeSqbSq#RSqfSqlSq~P%POx#}O#}$OO$OuX~P%POx%fO~O#z%gOZ!OX[!OX]!OX^!OX_!OX`!OXn!OXp!OXr!OXs!OXt!OXv!OX{!OX!i!OX#l!OX$s!OX$O!OXx!OX#}!OX!g!OXe!OXb!OX#R!OXf!OXl!OX~Op%iO~Op%jO~Op%kO~O!]%lO~O!]%mO~O!]%nO~O$O%OOx$da~OZ!^O[!^O]!_O^!_O_!`O`!kOn!hOp!iOr!]Os!]Ot!jO{!lO#z!dOv$bX~Ox%sO!g%sO!i%rO~PIYO!g#ga$O#gax#ga~P%PO$O%VOx$pa~O#P%yO~P`O#R#Ui$O#Ui~P%POf%zO~P%POl$Ti$O$Ti~P%PO#lgq$sgq$Ogqxgq#}gq!ggqegqbgq#Rgqfgqlgq~P%PO`qynqypqyrqysqytqy#lqy$sqy$Oqyxqy#}qy!gqyeqybqy#Rqyfqylqy~P8[O#z%gOZ!Oa[!Oa]!Oa^!Oa_!Oa`!Oan!Oap!Oar!Oas!Oat!Oav!Oa{!Oa!i!Oa#l!Oa$s!Oa$O!Oax!Oa#}!Oa!g!Oae!Oab!Oa#R!Oaf!Oal!Oa~O!T&OO~O!W&OO~O!T&PO~O!S$vO!V$wO!X$xO![$yO!_$zO!c&uO#nRO#oRO$ZZO~O!Y$^P~P! qOx!mi$O!mi~P%POT$aXZ$aX[$aX]!yy^!yy_!yy`!yyd$aXh$aXi$aXn!yyp!yyr!yys$aXt!yyv$aX{!yy!T$aX!U$aX!V$aX!X$aX!c$aX!g$aX!i$aX!p$aX!w$aX#S$aX#l!yy#n$aX#o$aX#z!yy$Z$aX$i$aX$j$aX$k$aX$l$aX$s!yy$O!yyx!yy#}!yye!yyb!yy#R!yyf!yyl!yy~O#l#QX$s#QX$O#QXx#QX#}#QX!g#QXe#QXb#QX#R#QXf#QXl#QX~P%PObai$Oai~P%PO!U&_O~O#nRO#oRO!Y!PX#z!PX$O!PX~O#z&pO!Y!OX$O!OX~O!Y&aO~O$]&bO~O$O&cO!Y$[X~O!Y&eO~O$O&fO!Y$^X~O!Y&hO~O#lc!R$sc!R$Oc!Rxc!R#}c!R!gc!Rec!Rbc!R#Rc!Rfc!Rlc!R~P%PO#z&pO!Y!Oa$O!Oa~O$O&cO!Y$[a~O$O&fO!Y$^a~O$_&nO~O$_&qO~O!Y&rO~O!]&tO~O$Z~QP_^$i]#z~",goto:"E|$sPPPP$tP%m%p%v&Y'sPPPPPP'|P$tPPP$tPP(P(SP$tP$tP$tPPP(YP(eP$t$tPP(n)T)`*m)TPPPPPPP)TPP)TP+r+u)TP+{,R$tP$tP$t,Y-R-U-[-RP-d.]-d-d/]0UP$t0}$t1v1v2o2rP2xPP1v3O3U/X3YPP3bP3e3l3r3x4O5Z5e5k5q5w6O6U6[6bPPPPPPPP6h6q8x9q:j:mPP:qPP:w:z;s<l<o<s<x=g>V>vP?oP?rP?v@iA[BTBZB^$tBdBdPPPPC]8xDUD}EQEy!mjOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR![SQ!YSR$m#eS!WS#eS#Qw$`W#w!p!x%O%VT&T%m&c#WXOPQWYilu|}!]!a!b!c!e!g!h!i!j!k#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%l%n%y%z&Q&b&f&n&p&q&tb!VSw!x#e$`%O%V%m&cU#a!V#b#uR#u!pU#a!V#b#uT$W!z$XR$l#cR#UwQ#SwR%`$`U!RQ#_#rQ#s!kR$g#]QrQQ$i#_R$s#rQ$|#tQ%t%UQ&S%lU&X%n&f&tQ&i&bT&o&n&qc$u#t%U%l%n&b&f&n&q&t!lkOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ#m!eU$t#t%U&nS%|%g&p]&R%l%n&b&f&q&t#V[OPQWilu|}!]!a!b!c!e!g!h!i!j!k!p#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%l%n%y%z&b&f&n&p&q&tR&W%mQ&U%mR&j&cQ&[%nR&s&tS&Y%n&tR&l&f!m]OPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#|!pQ#y!pR%p%OS#x!p%OT$S!x%V!meOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!leOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ!rbT!{o$Z!mcOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mdOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mhOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mpOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR$V!xQ$T!xR%u%VQ%x%XR&]%yQ!}oR%[$ZT!|o$ZS!zo$ZT$W!z$XRrQS#b!V#uR$j#bQ#f!YR$n#fQ$a#SR%a$aQ#^!RR$h#^!vYOPQWilu|}!]!a!b!c!e!g!h!i!j!k!p#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%y%z&nS!oY&Q_&Q%l%n&b&f&p&q&tQ%h$tS%}%h&`R&`&RQ&d&UR&k&dQ&g&YR&m&gQ%P#yR%q%PS$Q!v#vR%T$QQ%W$TR%v%WQ$X!zR%Y$XQ$[!}R%]$[Q#[!PR$f#[QrOQ!PPR$e#ZUTOP#ZW!QQ!k#]#_Q!nWQ!tiQ!vlQ#PuQ#X|Q#Y}Q#i!]Q#j!aQ#k!bQ#l!cQ#n!gQ#o!hQ#p!iQ#q!jQ#v!pQ$k#cQ$o#gQ$r#rQ%R$OQ%S$PQ%Z$YQ%^$^Q%_$_Q%b$bQ%e$qQ%o$}S%w%X%yQ%{%dR&^%z!mqOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mSOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR!ZST!XS#eQ#c!WR$_#QR#g![!muOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mwOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#TwT#Rw$`V!SQ#_#r!X!aT!Q!t!v#P#X#Y#i#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!Z!bT!Q!t!v#P#X#Y#i#j#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!]!cT!Q!t!v#P#X#Y#i#j#k#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!mWOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR&V%mT&Z%n&t!a!eT!Q!n!t!v#P#X#Y#i#j#k#l#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!a!gT!Q!n!t!v#P#X#Y#i#j#k#l#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!m^OPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ!q^R!scR#z!pQ!wlR#{!p!mfOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mlOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mmOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR$U!x!moOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#Oo",nodeNames:"\u26a0 LineComment BlockComment Expression ForExpression for InExpressions InExpression Name Identifier Identifier ArithOp ArithOp ArithOp ArithOp ArithOp in IterationContext return IfExpression if then else QuantifiedExpression some every InExpressions InExpression satisfies Disjunction or Conjunction and Comparison CompareOp CompareOp between PositiveUnaryTest ( PositiveUnaryTests ) ArithmeticExpression InstanceOfExpression instance of Type QualifiedName VariableName BacktickIdentifier SpecialType days time duration years months date > ListType list < ContextType context ContextEntryTypes ContextEntryType FunctionType function ArgumentTypes ArgumentType PathExpression ] FilterExpression [ FunctionInvocation SpecialFunctionName NamedParameters NamedParameter ParameterName PositionalParameters null NumericLiteral StringLiteral BooleanLiteral DateTimeLiteral DateTimeConstructor AtLiteral ? SimplePositiveUnaryTest Interval ParenthesizedExpression List FunctionDefinition FormalParameters FormalParameter external FunctionBody } { Context ContextEntry Key Name Identifier Expressions UnaryTests Wildcard not",maxTerm:173,context:H0t,nodeProps:[["closedBy",38,")",71,"]",96,"}"],["openedBy",40,"(",69,"[",95,"{"],["group",-5,78,79,80,81,82,"Literal"]],propSources:[W0t],skippedNodes:[0,1,2],repeatNodeCount:14,tokenData:"-c~RvXY#iYZ$^Z[#i]^$^pq#iqr$crs$nwx&fxy&kyz&pz{&u{|'S|}'X}!O'^!O!P'k!P!Q(T!Q![*O![!]*a!]!^*f!^!_*k!_!`$i!`!a*z!b!c+U!}#O+Z#P#Q+`#Q#R&}#S#T+e#o#p-X#q#r-^$f$g#i#BY#BZ#i$IS$I_#i$I|$I}$^$I}$JO$^$JT$JU#i$KV$KW#i&FU&FV#i?HT?HU#i~#nY#r~XY#iZ[#ipq#i$f$g#i#BY#BZ#i$IS$I_#i$JT$JU#i$KV$KW#i&FU&FV#i?HT?HU#i~$cO#s~~$fP!_!`$i~$nOr~~$sW$j~OY$nZr$nrs%]s#O$n#O#P%b#P;'S$n;'S;=`&`<%lO$n~%bO$j~~%eRO;'S$n;'S;=`%n;=`O$n~%sX$j~OY$nZr$nrs%]s#O$n#O#P%b#P;'S$n;'S;=`&`;=`<%l$n<%lO$n~&cP;=`<%l$n~&kO#{~~&pOv~~&uOx~~&zP^~z{&}~'SO_~~'XO[~~'^O$O~R'cPZP!`!a'fQ'kO$_Q~'pQ#z~!O!P'v!Q!['{~'{O#}~~(QP$i~!Q!['{~(YQ]~z{(`!P!Q)g~(cTOz(`z{(r{;'S(`;'S;=`)a<%lO(`~(uVOz(`z{(r{!P(`!P!Q)[!Q;'S(`;'S;=`)a<%lO(`~)aOQ~~)dP;=`<%l(`~)lSP~OY)gZ;'S)g;'S;=`)x<%lO)g~){P;=`<%l)g~*TQ$i~!O!P*Z!Q![*O~*^P!Q!['{~*fO$]~~*kO$s~R*rP!]QsP!_!`*uP*zOsPR+RP!YQsP!_!`*u~+ZO$l~~+`O!i~~+eO!g~~+hWOY+eZ#O+e#O#P,Q#P#S+e#S#T,|#T;'S+e;'S;=`-R<%lO+e~,TRO;'S+e;'S;=`,^;=`O+e~,aXOY+eZ#O+e#O#P,Q#P#S+e#S#T,|#T;'S+e;'S;=`-R;=`<%l+e<%lO+e~-RO$Z~~-UP;=`<%l+e~-^O#S~~-cO#R~",tokenizers:[B0t,F0t,j0t,0,1],topRules:{Expression:[0,3],Expressions:[1,102],UnaryTests:[2,103]},dialects:{camunda:2532},dynamicPrecedences:{31:-1,68:1,72:-1,74:-1},specialized:[{term:122,get:n=>G0t[n]||-1}],tokenPrec:2534});function hc(n){return sr.isDateTime(n)}function Mf(n){return Tr.isDuration(n)}function lu(n){return Array.isArray(n)}function no(n){return null==n?"nil":function Y0t(n){return"boolean"==typeof n}(n)?"boolean":nx(n)?"number":e1(n)?"string":function K0t(n){return Object.getPrototypeOf(n)===Object.prototype}(n)?"context":lu(n)?"list":Mf(n)?"duration":hc(n)?1900===n.year&&1===n.month&&1===n.day?"time":0===n.hour&&0===n.minute&&0===n.second&&0===n.millisecond&&n.zone===Ko.utcInstance?"date":"date time":n instanceof mc?"range":n instanceof WT?"function":"literal"}function Wj(n,t){return no(n)===t}class mc{constructor(t){Object.assign(this,t)}}function nx(n){return"number"==typeof n}function e1(n){return"string"==typeof n}function O0(n,t,i=!1){if(null===n&&null!==t||null!==n&&null===t)return!1;lu(n)&&n.length<2&&(n=n[0]),lu(t)&&t.length<2&&(t=t[0]);const s=no(n),o=no(t),a=["date time","time","date"];if(a.includes(s))return!a.includes(o)||"time"===s&&"time"!==o||"time"===o&&"time"!==s?null:i||n.zone===Pf.instance||t.zone===Pf.instance?n.equals(t):n.toUTC().valueOf()===t.toUTC().valueOf();if(s!==o)return null;if("nil"===s)return!0;if("list"===s)return n.length===t.length&&n.every((l,c)=>O0(l,t[c]));if("duration"===s)return Math.abs(n.as("days"))>180?0===Math.trunc(n.minus(t).as("months")):0===Math.trunc(n.minus(t).as("seconds"));if("context"===s){const l=Object.entries(n),c=Object.entries(t);return l.length===c.length&&l.every(([u,d])=>u in t&&O0(d,t[u]))}return"range"===s?[[n.start,t.start],[n.end,t.end],[n["start included"],t["start included"]],[n["end included"],t["end included"]]].every(([l,c])=>l===c):n==t||s!==o&&null}class WT{constructor(t,i){this.fn=t,this.parameterNames=i}invoke(t){let i;if(lu(t)){if(i=t,i.length>this.parameterNames.length){const s=this.parameterNames[this.parameterNames.length-1];if(!s||!s.startsWith("..."))return null}}else{if(Object.keys(t).some(s=>!this.parameterNames.includes(s)&&!this.parameterNames.includes(`...${s}`)))return null;i=this.parameterNames.reduce((s,o)=>{if(o.startsWith("...")){o=o.slice(3);const a=t[o];return a?[...s,...lu(a)?a:[a]]:s}return[...s,t[o]]},[])}return this.fn.call(null,...i)}}function Gj(n){if(Array.isArray(n.$args))return n.$args;const t=n.toString(),i=/^(?:[^(]*\s*)?\(([^)]+)?\)/.exec(t);if(!i)throw new Error("failed to parse params: "+t);const[s,o]=i;return o?o.split(",").map(a=>a.trim()):[]}function ko(n){return new Error(`not implemented: ${n}`)}function GT(n,t){if(["nil","boolean","number","string"].includes(no(t)))return;if(n in t)return t[n];const i=Mb(n);if(i in t)return t[i];const s=Object.entries(t).find(([o])=>i===Mb(o));return s?s[1]:void 0}function q1e(n){return"number"==typeof n?Tr.fromMillis(n):Tr.fromISO(n)}function cu(n=null,t=null,i=null){if(t){if(n)throw new Error("<str> and <time> provided");return cu(`1900-01-01T${t}`,null)}if("string"==typeof n){if(n.startsWith("-"))throw ko("negative date");if(!n.includes("T"))return cu(n+"T00:00:00",null,i||Ko.utcInstance);if(n.includes("@")){if(i)throw new Error("<zone> already provided");const[s,o]=n.split("@");return cu(s,null,Yw.normalizeZone(o))}return sr.fromISO(n.toUpperCase(),{setZone:!0,zone:i})}return sr.now()}const Z0t={number:on(function(n,t,i){if(3!==arguments.length)return null;t&&(n=n.split(t).join("")),i&&"."!==i&&(n=n.split(".").join("#").split(i).join("."));const s=+n;return isNaN(s)?null:s},["string","string?","string?"],["from","grouping separator","decimal separator"]),string:on(function(n){return null===n?null:Yj(n)},["any"]),date:on(function(n,t,i,s){let o;return!s&&!nx(n)&&(s=n,n=null),e1(s)&&(o=cu(s)),hc(s)&&(o=s),n&&(o=cu().setZone("utc").set({year:n,month:t,day:i})),o&&Ib(o.setZone("utc").startOf("day"))||null},["any?","number?","number?","any?"]),"date and time":on(function(n,t,i){let s;if(hc(n)&&hc(t)){const o=n.toLocal();s=t.set({year:o.year,month:o.month,day:o.day})}return e1(n)&&(i=n,n=null),e1(i)&&(s=cu(i,null,i.includes("@")?null:Pf.instance)),s&&Ib(s)||null},["any?","time?","string?"],["date","time","from"]),time:on(function(n,t,i,s,o){let a;if(s)throw ko("time(..., offset)");return(e1(n)||hc(n))&&(o=n,n=null),e1(o)&&(a=cu(null,o)),hc(o)&&(a=o.set({year:1900,month:1,day:1})),nx(n)&&(a=cu().set({hour:n,minute:t,second:i}).set({year:1900,month:1,day:1,millisecond:0})),a&&Ib(a)||null},["any?","number?","number?","any?","any?"]),duration:on(function(n){return Ib(q1e(n))},["string"]),"years and months duration":on(function(n,t){return Ib(t.diff(n,["years","months"]))},["date","date"]),"@":on(function(n){let t;return t=/^-?P/.test(n)?q1e(n):/^[\d]{1,2}:[\d]{1,2}:[\d]{1,2}/.test(n)?cu(null,n):cu(n),t&&Ib(t)||null},["string"]),now:on(function(){return cu()},[]),today:on(function(){return cu().startOf("day")},[]),not:on(function(n){return Wj(n,"boolean")?!n:null},["any"]),substring:on(function(n,t,i){const s=t<0?n.length+t:t-1,o=Array.from(n);return(typeof i<"u"?o.slice(s,s+i):o.slice(s)).join("")},["string","number","number?"],["string","start position","length"]),"string length":on(function(n){return function tmt(n){return n.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}(n)},["string"]),"upper case":on(function(n){return n.toUpperCase()},["string"]),"lower case":on(function(n){return n.toLowerCase()},["string"]),"substring before":on(function(n,t){const i=n.indexOf(t);return-1===i?"":n.substring(0,i)},["string","string"]),"substring after":on(function(n,t){const i=n.indexOf(t);return-1===i?"":n.substring(i+t.length)},["string","string"]),replace:on(function(n,t,i,s){return n.replace(new RegExp(t,"ug"+(s||"").replace(/[x]/g,"")),i.replace(/\$0/g,"$$&"))},["string","string","string","string?"]),contains:on(function(n,t){return n.includes(t)},["string","string"]),matches:on(function(n,t,i){throw ko("matches")},["string","string","string?"]),"starts with":on(function(n,t){return n.startsWith(t)},["string","string"]),"ends with":on(function(n,t){return n.endsWith(t)},["string","string"]),split:on(function(n,t){return n.split(new RegExp(t,"u"))},["string","string"]),"string join":on(function(n,t){return n.some(i=>!e1(i)&&null!==i)?null:n.filter(i=>null!==i).join(t||"")},["list","string?"]),"list contains":on(function(n,t){return n.some(i=>G1e(i,t))},["list","any?"]),"list replace":on(function(n,t,i,s){return["number","function"].includes(no(t||s))?function rmt(n,t,i){return nx(t)?[...n.slice(0,t-1),i,...n.slice(t)]:n.map((s,o)=>t.invoke([s,i])?i:s)}(n,t||s,i):null},["list","any?","any","function?"]),count:on(function(n){return n.length},["list"]),min:gc(function(...n){return n.reduce((t,i)=>null===t?i:Math.min(t,i),null)},"number"),max:gc(function(...n){return n.reduce((t,i)=>null===t?i:Math.max(t,i),null)},"number"),sum:gc(function(...n){return X1e(n)},"number"),mean:gc(function(...n){const t=X1e(n);return null===t?t:t/n.length},"number"),all:gc(function(...n){let t=!1;for(const i of n){if(!1===i)return!1;"boolean"!=typeof i&&(t=!0)}return!t||null},"any?"),any:gc(function(...n){let t=!1;for(const i of n){if(!0===i)return!0;"boolean"!=typeof i&&(t=!0)}return!!t&&null},"any?"),sublist:on(function(n,t,i){const s=t<0?n.length+t:t-1;return typeof i<"u"?n.slice(s,s+i):n.slice(s)},["list","number","number?"]),append:on(function(n,...t){return n.concat(t)},["list","any?"]),concatenate:on(function(...n){return n.reduce((t,i)=>t.concat(i),[])},["any"]),"insert before":on(function(n,t,i){return n.slice(0,t-1).concat([i],n.slice(t-1))},["list","number","any?"]),remove:on(function(n,t){return n.slice(0,t-1).concat(n.slice(t))},["list","number"]),reverse:on(function(n){return n.slice().reverse()},["list"]),"index of":on(function(n,t){return n.reduce(function(i,s,o){return G1e(s,t)&&i.push(o+1),i},[])},["list","any"]),union:gc(function(...n){return n.reduce((t,i)=>i.reduce((s,o)=>(s.some(a=>O0(o,a))||s.push(o),s),t),[])},"list"),"distinct values":on(function(n){return n.reduce((t,i)=>(t.some(s=>O0(i,s))||t.push(i),t),[])},["list"]),flatten:on(function(n){return Kj(n)},["list"]),product:gc(function(...n){return 0===n.length?null:n.reduce((t,i)=>t*i,1)},"number"),median:gc(function(...n){return 0===n.length?null:function imt(n){const t=n.length,i=n.slice().sort(),s=t/2-1,o=Math.ceil(s);return s===o?(i[o]+i[o+1])/2:i[o]}(n)},"number"),stddev:gc(function(...n){return n.length<2?null:function nmt(n){const t=n.length,i=n.reduce((s,o)=>s+o)/t;return Math.sqrt(n.map(s=>Math.pow(s-i,2)).reduce((s,o)=>s+o)/(t-1))}(n)},"number"),mode:gc(function(...n){return function smt(n){if(n.length<2)return n;const t={};for(const s of n)t[s]=(t[s]||0)+1;const i=Object.entries(t).sort((s,o)=>o[1]-s[1]);return i.filter(s=>s[1]===i[0][1]).map(s=>+s[0])}(n)},"number"),decimal:on(function(n,t){if(!t)return Q1e(n);const i=Math.pow(10,t);return Q1e(n*i)/i},["number","number"]),floor:on(function(n,t=0){if(null===t)return null;const i=Math.pow(10,t);return Math.floor(n*i)/i},["number","number?"]),ceiling:on(function(n,t=0){if(null===t)return null;const i=Math.pow(10,t);return Math.ceil(n*i)/i},["number","number?"]),abs:on(function(n){return"number"!=typeof n?null:Math.abs(n)},["number"]),"round up":on(function(n,t){throw ko("round up")},["number","number"]),"round down":on(function(n,t){throw ko("round down")},["number","number"]),"round half up":on(function(n,t){throw ko("round half up")},["number","number"]),"round half down":on(function(n,t){throw ko("round half down")},["number","number"]),modulo:on(function(n,t){if(!t)return null;const i=1e9;return Math.round((n%t+t)%t*i)/i},["number","number"]),sqrt:on(function(n){return n<0?null:Math.sqrt(n)},["number"]),log:on(function(n){return n<=0?null:Math.log(n)},["number"]),exp:on(function(n){return Math.exp(n)},["number"]),odd:on(function(n){return Math.abs(n)%2==1},["number"]),even:on(function(n){return Math.abs(n)%2==0},["number"]),is:on(function(n,t){return!(typeof n>"u"||typeof t>"u")&&O0(n,t,!0)},["any?","any?"]),before:on(function(n,t){return KT(n,t)},["any","any"]),after:on(function(n,t){return KT(t,n)},["any","any"]),meets:on(function(n,t){return Y1e(n,t)},["range","range"]),"met by":on(function(n,t){return Y1e(t,n)},["range","range"]),overlaps:on(function(n,t){return!KT(n,t)&&!KT(t,n)},["range","range"]),"overlaps before":on(function(){throw ko("overlaps before")},["any?"]),"overlaps after":on(function(){throw ko("overlaps after")},["any?"]),finishes:on(function(){throw ko("finishes")},["any?"]),"finished by":on(function(){throw ko("finished by")},["any?"]),includes:on(function(){throw ko("includes")},["any?"]),during:on(function(){throw ko("during")},["any?"]),starts:on(function(){throw ko("starts")},["any?"]),"started by":on(function(){throw ko("started by")},["any?"]),coincides:on(function(){throw ko("coincides")},["any?"]),"day of year":on(function(n){return n.ordinal},["date time"]),"day of week":on(function(n){return n.weekdayLong},["date time"]),"month of year":on(function(n){return n.monthLong},["date time"]),"week of year":on(function(n){return n.weekNumber},["date time"]),sort:on(function(n,t){return Array.from(n).sort((i,s)=>t.invoke([i,s])?-1:1)},["list","function"]),"get value":on(function(n,t){return GT(t,n)||null},["context","string"]),"get entries":on(function(n){return 1!==arguments.length||Array.isArray(n)?null:Object.entries(n).map(([t,i])=>({key:t,value:i}))},["context"]),context:gc(function(...n){const t=n.reduce((i,s)=>{if(i===Qu||!["key","value"].every(a=>a in s))return Qu;const o=s.key;return null===o||o in i?Qu:Object.assign(Object.assign({},i),{[s.key]:s.value})},{});return t===Qu?null:t},"context"),"context merge":gc(function(...n){return Object.assign({},...n)},"context"),"context put":on(function(n,t,i,s){return typeof t>"u"&&typeof s>"u"?null:W1e(n,t||[s],i)},["context","list?","any","string?"],["context","keys","value","key"])};function W1e(n,t,i){const[s,...o]=t;return"string"!==no(s)||"nil"===no(n)||o.length&&null===(i=W1e(n[s],o,i))?null:Object.assign(Object.assign({},n),{[s]:i})}function G1e(n,t){return n===t}const Qu={};function K1e(n){const t=n.endsWith("?"),i=t?n.substring(0,n.length-1):n;return function(s){const o=Array.isArray(s);if("list"===i)return o||t&&typeof s>"u"?s:null===s?Qu:[s];"any"!==i&&o&&1===s.length&&(s=s[0]);const a=no(s);return"any"===i||i===a?t||typeof s<"u"?s:Qu:"nil"===a?t?s:Qu:function X0t(n,t){if(hc(n)){if("time"===t)return n.set({year:1900,month:1,day:1});if("date"===t)return n.setZone("utc",{keepLocalTime:!0}).startOf("day");if("date time"===t)return n}return null}(s,i)||Qu}}function gc(n,t,i=null){const s=K1e(t),o=function(...a){return 0!==a.length&&(Array.isArray(a[0])&&1===a.length&&(a=a[0]),a.every(l=>s(l)!==Qu))?n(...a):null};return o.$args=i||Gj(n),o}function on(n,t,i=null){const s=function Q0t(n){const t=n.map(K1e);return function(i){for(;i.length<n.length;)i.push(void 0);return i.reduce((s,o,a)=>{if(!1===s)return s;const l=t[a],c=l?l(o):o;return c!==Qu&&(s.push(c),s)},[])}}(t);i=i||Gj(n);const o=function(...a){const l=s(a);return l?n(...l):null};return o.$args=i,o}function Y1e(n,t){return[n.end===t.start,!0===n["end included"],!0===t["start included"]].every(i=>i)}function KT(n,t){return n instanceof mc&&t instanceof mc?n.end<t.start||(!n["end included"]||!t["start included"])&&n.end==t.start:n instanceof mc?n.end<t||!n["end included"]&&n.end===t:t instanceof mc?t.start>n||!t["start included"]&&t.start===n:n<t}function X1e(n){return n.reduce((t,i)=>null===t?i:t+i,null)}function Kj([n,...t]){return void 0!==n?[...Array.isArray(n)?Kj(n):[n],...Kj(t)]:[]}function Z1e(n){return Yj(n,!0)}function Yj(n,t=!1){var i,s,o,a;const l=no(n);if("nil"===l)return"null";if("string"===l)return t?`"${function emt(n){return n.replace(/("|\\)/g,"\\$1")}(n)}"`:n;if("boolean"===l||"number"===l)return String(n);if("list"===l)return"["+n.map(Z1e).join(", ")+"]";if("context"===l)return"{"+Object.entries(n).map(([c,u])=>function J0t(n){return"string"==typeof n&&/\W/.test(n)?Yj(n,!0):n}(c)+": "+Z1e(u)).join(", ")+"}";if("duration"===l)return n.shiftTo("years","months","days","hours","minutes","seconds").normalize().toISO();if("date time"===l)return n.zone===Pf.instance?n.toISO({suppressMilliseconds:!0,includeOffset:!1}):null!==(i=n.zone)&&void 0!==i&&i.zoneName?n.toISO({suppressMilliseconds:!0,includeOffset:!1})+"@"+(null===(s=n.zone)||void 0===s?void 0:s.zoneName):n.toISO({suppressMilliseconds:!0});if("date"===l)return n.toISODate();if("range"===l)return"<range>";if("time"===l)return n.zone===Pf.instance?n.toISOTime({suppressMilliseconds:!0,includeOffset:!1}):null!==(o=n.zone)&&void 0!==o&&o.zoneName?n.toISOTime({suppressMilliseconds:!0,includeOffset:!1})+"@"+(null===(a=n.zone)||void 0===a?void 0:a.zoneName):n.toISOTime({suppressMilliseconds:!0});if("function"===l)return"<function>";throw ko("string("+l+")")}function Q1e(n){const t=Math.trunc(n);return n-t>.5?t+1:t}function Ib(n){return n.isValid?n:null}function J1e(n,t={}){return tx.configure({top:"Expression",contextTracker:ex(t)}).parse(n)}function eye(n,t={}){return tx.configure({top:"UnaryTests",contextTracker:ex(t)}).parse(n)}class omt extends Error{constructor(t,i){super(t),Object.assign(this,i)}}const tye=new class amt{_buildExecutionTree(t,i){const s={args:[],nodeInput:i},o=[s];return t.iterate({enter(a){const{isError:l,isSkipped:c}=a.type,{from:u,to:d}=a;if(l){const{from:f,to:h,message:m}=function wmt(n){const t=n.node,i=t.parent;if(t.from!==t.to)return{from:t.from,to:t.to,message:`Unrecognized token in <${i.name}>`};const s=function xmt(n){let i,s=n.node;do{if(i=s.nextSibling,i)return i;s=s.parent}while(s);return null}(t);if(s)return{from:t.from,to:s.to,message:`Unrecognized token <${s.name}> in <${i.name}>`};{const o=i.enterUnfinishedNodesBefore(n.to);return{from:t.from,to:t.to,message:`Incomplete <${(o||i).name}>`}}}(a);throw new omt(m,{input:i.slice(f,h),position:{from:f,to:h}})}if(c)return!1;const p=i.slice(u,d);o.push({nodeInput:p,args:[]})},leave(a){if(a.type.isSkipped)return;const{nodeInput:l,args:c}=o.pop(),u=o[o.length-1],d=function cmt(n,t,i){switch(n.name){case"ArithOp":return s=>{const o=(a,l=["number"])=>(c,u)=>{const d=c(s),p=u(s);if(lu(d)||lu(p))return null;const f=no(d),h=no(p),m=["date","time","date time","duration"];if(m.includes(f)){if(!m.includes(h))return null}else if(f!==h||!l.includes(f))return null;return a(d,p)};switch(t){case"+":return o((a,l)=>Wj(a,"time")&&Mf(l)?a.plus(l).set({year:1900,month:1,day:1}):hc(a)&&hc(l)?null:hc(a)&&Mf(l)||Mf(a)&&Mf(l)?a.plus(l):a+l,["string","number","date","time","duration","date time"]);case"-":return o((a,l)=>Wj(a,"time")&&Mf(l)?a.minus(l).set({year:1900,month:1,day:1}):hc(a)&&hc(l)?a.diff(l):hc(a)&&Mf(l)||Mf(a)&&Mf(l)?a.minus(l):a-l,["number","date","time","duration","date time"]);case"*":return o((a,l)=>a*l);case"/":return o((a,l)=>l?a/l:null);case"**":case"^":return o((a,l)=>Math.pow(a,l))}};case"CompareOp":return Bl(()=>{switch(t){case">":return s=>t1(s,null,!1,!1);case">=":return s=>t1(s,null,!0,!1);case"<":return s=>t1(null,s,!1,!1);case"<=":return s=>t1(null,s,!1,!0);case"=":return s=>o=>O0(o,s);case"!=":return s=>o=>!O0(o,s)}},n1("boolean"));case"Wildcard":return s=>!0;case"null":return s=>null;case"Disjunction":return Bl(s=>{const o=i[0](s),a=i[2](s),c="boolean"==typeof o?o:null,u="boolean"==typeof a?a:null;return[[!0,!0,!0],[!0,!1,!0],[!0,null,!0],[!1,!0,!0],[!1,!1,!1],[!1,null,null],[null,!0,!0],[null,!1,null],[null,null,null]].find(d=>d[0]===c&&d[1]===u)[2]},n1("boolean"));case"Conjunction":return Bl(s=>{const o=i[0](s),a=i[2](s),c="boolean"==typeof o?o:null,u="boolean"==typeof a?a:null;return[[!0,!0,!0],[!0,!1,!1],[!0,null,null],[!1,!0,!1],[!1,!1,!1],[!1,null,!1],[null,!0,null],[null,!1,!1],[null,null,null]].find(d=>d[0]===c&&d[1]===u)[2]},n1("boolean"));case"Context":return s=>i.slice(1,-1).reduce((o,a)=>{const[l,c]=a(Object.assign(Object.assign({},s),o));return Object.assign(Object.assign({},o),{[l]:c})},{});case"FunctionBody":case"FormalParameter":case"Key":case"Type":case"PositiveUnaryTest":return i[0];case"FormalParameters":return i;case"ParameterName":return i.join(" ");case"FunctionDefinition":return s=>{const o=i[2],a=i[4];return JT((...l)=>{const c=o.reduce((u,d,p)=>(u[d]=l[p],u),Object.assign({},s));return a(c)},o)};case"ContextEntry":return s=>["function"==typeof i[0]?i[0](s):i[0],i[1](s)];case"Identifier":return t;case"SpecialFunctionName":case"DateTimeConstructor":return s=>YT(t);case"Name":return t.replace(/\s{2,}/g," ");case"VariableName":return s=>{const o=i.join(" "),a=GT(o,s);return typeof a<"u"?a:YT(o)||null};case"QualifiedName":return s=>i.reduce((o,a)=>a(o),s);case"?":return s=>GT("?",s);case"IterationContext":return s=>{const o=i[0](s),a=i[1]&&i[1](s);return a?t1(o,a):o};case"InExpressions":return s=>{const o=i.map(a=>a(s));return o.some(a=>"list"!==no(a))?null:function bmt(n){if(n.some(s=>"nil"===no(s)))return null;const i=(s,o,...a)=>o?i(((s,o)=>[].concat(...s.map(a=>o.map(l=>[].concat(a,l)))))(s,o),...a):s||[];return i(...n)}(o).map(a=>(lu(a)||(a=[a]),Object.assign({},s,...a)))};case"InExpression":return s=>function umt(n,t,i){const s=i(n);return["list","range"].includes(no(s))?s.map(o=>({[t]:o})):null}(s,i[0],i[2]);case"SpecialType":throw ko("SpecialType");case"InstanceOfExpression":return Bl(s=>i[0](s)instanceof i[3](s),n1("boolean"));case"every":return Bl(s=>(o,a)=>{const l=o(s);return"list"!==no(l)?l:l.every(c=>QT(a(c)))},n1("boolean"));case"some":return Bl(s=>(o,a)=>{const l=o(s);return"list"!==no(l)?l:l.some(c=>QT(a(c)))},n1("boolean"));case"NumericLiteral":return Bl(s=>t.includes(".")?parseFloat(t):parseInt(t),"number");case"BooleanLiteral":return Bl(s=>"true"===t,"boolean");case"StringLiteral":return Bl(s=>function Emt(n){return n.startsWith('"')&&(n=n.slice(1)),n.endsWith('"')&&(n=n.slice(0,-1)),n.replace(/(\\")|(\\\\)|(\\u[a-fA-F0-9]{5,6})|((?:\\u[a-fA-F0-9]{1,4})+)/gi,function(t,...i){const[s,o,a,l]=i;if(s)return'"';if(o)return"\\";const c=/\\u([a-fA-F0-9]+)/gi;if(a){const u=c.exec(a);return String.fromCodePoint(parseInt(u[1],16))}if(l){const u=[];let d;for(;null!==(d=c.exec(t));)u.push(parseInt(d[1],16));return String.fromCharCode(...u)}throw new Error("illegal match")})}(t),"string");case"PositionalParameters":case"PositiveUnaryTests":case"Expressions":return s=>i.map(o=>o(s));case"NamedParameter":return s=>[i[0],i[1](s)];case"NamedParameters":return s=>i.reduce((o,a)=>{const[l,c]=a(s);return o[l]=c,o},{});case"DateTimeLiteral":return s=>{if(1===i.length)return i[0](s);{const o=JT(i[0](s));if(!o)return null;const a=i[2](s);return o.invoke(a)}};case"AtLiteral":return s=>{const o=JT(YT("@"));return o?o.invoke([i[0](s)]):null};case"FunctionInvocation":return s=>{const o=JT(i[0](s));if(!o)return null;const a=i[2](s);return o.invoke(a)};case"IfExpression":return function(){const s=i[1],o=i[3],a=i[5];return Bl(c=>QT(s(c))?o(c):a?a(c):null,nye(o,a))}();case"Parameters":return 3===i.length?i[1]:s=>[];case"Comparison":return s=>{const o=i[1];if("in"===o)return function dmt(n,t){if(!lu(t)){if("nil"===no(t))return null;t=[t]}return t.some(i=>Xj(i,n))}(i[0](s),(i[3]||i[2])(s));if("between"===o){const u=i[2](s),d=i[4](s);return null===u||null===d?null:t1(u,d).includes(i[0](s))}const a=i[0](s),l=i[2](s);return Xj(o()(l),a)};case"QuantifiedExpression":return s=>i[0](s)(i[1],i[3]);case"ForExpression":return s=>{const o=i[i.length-1],a=i[1](s);if("list"!==no(a))return a;const l=[];for(const c of a)l.push(o(Object.assign(Object.assign({},c),{partial:l})));return l};case"ArithmeticExpression":return function(){if(3===i.length){const[s,o,a]=i;return Bl(l=>o(l)(s,a),nye(s,a))}if(2===i.length){const[s,o]=i;return Bl(a=>s(a)(()=>0,o),o.type)}}();case"ParenthesizedExpression":return i[1];case"PathExpression":return s=>{const o=i[0](s),a=i[1];return lu(o)?o.map(a):a(o)};case"FilterExpression":return s=>{const o=i[0](s),a=i[2],l=lu(o)?o:[o];if(null===o)return null;if(typeof a.type>"u")try{nx(a(s))&&(a.type="number")}catch{}if("number"===a.type){const c=a(s),u=l[c<0?l.length+c:c-1];return typeof u>"u"?null:u}if("boolean"===a.type)return a(s)?l:[];if("string"===a.type){const c=a(s);return l.filter(u=>u===c)}return l.map(c=>{const u=Object.assign(Object.assign(Object.assign({},s),{item:c}),c);let d=a(u);return"function"==typeof d&&(d=d(c)),d instanceof mc&&(d=d.includes(c)),!0===d?c:d}).filter(QT)};case"SimplePositiveUnaryTest":return Bl(s=>1===i.length?i[0](s):i[0](s)(i[1](s)),"test");case"List":return s=>i.slice(1,-1).map(o=>o(s));case"Interval":return Bl(s=>{const o=i[1](s),a=i[2](s);return t1(o,a,null!==o&&"["===i[0],null!==a&&"]"===i[3])},n1("boolean"));case"Expression":return s=>i[0](s);case"UnaryTests":return s=>(o=null)=>{const a="not"===i[0],c=(a?i.slice(2,-1):i).map(u=>u(s)).flat(1).map(u=>lu(u)?u.includes(o):null===u?null:"boolean"==typeof u?u:Xj(u,o)).reduce(_mt,void 0);return null===c?null:a?!c:c};default:return n.name}}(a,l,c);u.args.push(d)}}),s.args[s.args.length-1]}evaluate(t,i={}){const s=J1e(t,i);return{parseTree:s,root:this._buildExecutionTree(s,t)}}unaryTest(t,i={}){const s=eye(t,i);return{parseTree:s,root:this._buildExecutionTree(s,t)}}};function rx(n,t={}){const{root:i}=tye.evaluate(n,t);return i(t)}function YT(n,t){return GT(n,Z0t)}function Xj(n,t){return"function"==typeof n?n(t):n instanceof mc?n.includes(t):O0(n,t)}const ix=Array.from("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");function Rb(n,t){return t.some(i=>no(i)===n)&&t.every(i=>null===i||no(i)===n)}const pmt=new mc({start:null,end:null,"start included":!1,"end included":!1,map:()=>[],includes:()=>null});function t1(n,t,i=!0,s=!0){if(Rb("string",[n,t]))return function gmt(n,t,i=!0,s=!0){if(null!==n&&!ix.includes(n))throw new Error("illegal range start: "+n);if(null!==t&&!ix.includes(t))throw new Error("illegal range end: "+t);let o;if(null!==n&&null!==t){let c=ix.indexOf(n),u=ix.indexOf(t);const d=c>u?-1:1;!1===i&&(c+=d),!1===s&&(u-=d),o=ix.slice(c,u+1)}const a=o?function fmt(n){return t=>n.map(t)}(o):XT(),l=o?function hmt(n){return t=>n.includes(t)}(o):ZT(n,t,i,s);return new mc({start:n,end:t,"start included":i,"end included":s,map:a,includes:l})}(n,t,i,s);if(Rb("number",[n,t]))return function ymt(n,t,i,s){const o=null!==n&&null!==t?function mmt(n,t,i,s){const o=n>t?-1:1;return a=>{const l=[];for(let c=n;0===c&&!i||(c!==t||s)&&(l.push(a(c)),c!==t);c+=o);return l}}(n,t,i,s):XT(),a=ZT(n,t,i,s);return new mc({start:n,end:t,"start included":i,"end included":s,map:o,includes:a})}(n,t,i,s);if(Rb("duration",[n,t]))return function vmt(n,t,i,s){const o=c=>c?Tr.fromDurationLike(c).toMillis():null,a=XT(),l=ZT(o(n),o(t),i,s,o);return new mc({start:n,end:t,"start included":i,"end included":s,map:a,includes:l})}(n,t,i,s);if(Rb("time",[n,t])||Rb("date time",[n,t])||Rb("date",[n,t]))return function Jj(n,t,i,s){const o=XT(),a=ZT(n,t,i,s);return new mc({start:n,end:t,"start included":i,"end included":s,map:o,includes:a})}(n,t,i,s);if(null===n&&null===t)return pmt;throw new Error(`unsupported range: ${n}..${t}`)}function XT(){return()=>{throw new Error("unsupported range operation: map")}}function Zj(n,t){return t?i=>n<=i:i=>n<i}function Qj(n,t){return t?i=>n>=i:i=>n>i}function ZT(n,t,i,s,o=a=>a){let a=[];return null===n&&null===t?()=>null:(null!==n&&null!==t?a=n>t?[Zj(t,s),Qj(n,i)]:[Zj(n,i),Qj(t,s)]:null!==t?a=[Qj(t,s)]:null!==n&&(a=[Zj(n,i)]),l=>null===l?null:a.every(c=>c(o(l))))}function nye(n,t){return t&&n.type!==t.type?"any":n.type}function Bl(n,t){return Object.assign(n,{type:t,toString:()=>`TaggedFunction[${t}] ${Function.prototype.toString.call(n)}`})}function _mt(n,t){return n||t}function QT(n){return!1!==n&&null!==n}function n1(n){return`Test<${n}>`}function JT(n,t=null){return n?n instanceof WT?n:n instanceof mc?new WT(i=>n.includes(i),["value"]):"function"!=typeof n?null:new WT(n,t||Gj(n)):null}class qr{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,i,s){[t,i]=Nb(this,t,i);let o=[];return this.decompose(0,t,o,2),s.length&&s.decompose(0,s.length,o,3),this.decompose(i,this.length,o,1),Qd.from(o,this.length-(i-t)+s.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,i=this.length){[t,i]=Nb(this,t,i);let s=[];return this.decompose(t,i,s,0),Qd.from(s,i-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let i=this.scanIdentical(t,1),s=this.length-this.scanIdentical(t,-1),o=new sx(this),a=new sx(t);for(let l=i,c=i;;){if(o.next(l),a.next(l),l=0,o.lineBreak!=a.lineBreak||o.done!=a.done||o.value!=a.value)return!1;if(c+=o.value.length,o.done||c>=s)return!0}}iter(t=1){return new sx(this,t)}iterRange(t,i=this.length){return new iye(this,t,i)}iterLines(t,i){let s;if(null==t)s=this.iter();else{null==i&&(i=this.lines+1);let o=this.line(t).from;s=this.iterRange(o,Math.max(o,i==this.lines+1?this.length:i<=1?0:this.line(i-1).to))}return new sye(s)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new $s(t):Qd.from($s.split(t,[])):qr.empty}}class $s extends qr{constructor(t,i=function Cmt(n){let t=-1;for(let i of n)t+=i.length+1;return t}(t)){super(),this.text=t,this.length=i}get lines(){return this.text.length}get children(){return null}lineInner(t,i,s,o){for(let a=0;;a++){let l=this.text[a],c=o+l.length;if((i?s:c)>=t)return new Smt(o,c,s,l);o=c+1,s++}}decompose(t,i,s,o){let a=t<=0&&i>=this.length?this:new $s(rye(this.text,t,i),Math.min(i,this.length)-Math.max(0,t));if(1&o){let l=s.pop(),c=eP(a.text,l.text.slice(),0,a.length);if(c.length<=32)s.push(new $s(c,l.length+a.length));else{let u=c.length>>1;s.push(new $s(c.slice(0,u)),new $s(c.slice(u)))}}else s.push(a)}replace(t,i,s){if(!(s instanceof $s))return super.replace(t,i,s);[t,i]=Nb(this,t,i);let o=eP(this.text,eP(s.text,rye(this.text,0,t)),i),a=this.length+s.length-(i-t);return o.length<=32?new $s(o,a):Qd.from($s.split(o,[]),a)}sliceString(t,i=this.length,s="\n"){[t,i]=Nb(this,t,i);let o="";for(let a=0,l=0;a<=i&&l<this.text.length;l++){let c=this.text[l],u=a+c.length;a>t&&l&&(o+=s),t<u&&i>a&&(o+=c.slice(Math.max(0,t-a),i-a)),a=u+1}return o}flatten(t){for(let i of this.text)t.push(i)}scanIdentical(){return 0}static split(t,i){let s=[],o=-1;for(let a of t)s.push(a),o+=a.length+1,32==s.length&&(i.push(new $s(s,o)),s=[],o=-1);return o>-1&&i.push(new $s(s,o)),i}}class Qd extends qr{constructor(t,i){super(),this.children=t,this.length=i,this.lines=0;for(let s of t)this.lines+=s.lines}lineInner(t,i,s,o){for(let a=0;;a++){let l=this.children[a],c=o+l.length,u=s+l.lines-1;if((i?u:c)>=t)return l.lineInner(t,i,s,o);o=c+1,s=u+1}}decompose(t,i,s,o){for(let a=0,l=0;l<=i&&a<this.children.length;a++){let c=this.children[a],u=l+c.length;if(t<=u&&i>=l){let d=o&((l<=t?1:0)|(u>=i?2:0));l>=t&&u<=i&&!d?s.push(c):c.decompose(t-l,i-l,s,d)}l=u+1}}replace(t,i,s){if([t,i]=Nb(this,t,i),s.lines<this.lines)for(let o=0,a=0;o<this.children.length;o++){let l=this.children[o],c=a+l.length;if(t>=a&&i<=c){let u=l.replace(t-a,i-a,s),d=this.lines-l.lines+u.lines;if(u.lines<d>>4&&u.lines>d>>6){let p=this.children.slice();return p[o]=u,new Qd(p,this.length-(i-t)+s.length)}return super.replace(a,c,u)}a=c+1}return super.replace(t,i,s)}sliceString(t,i=this.length,s="\n"){[t,i]=Nb(this,t,i);let o="";for(let a=0,l=0;a<this.children.length&&l<=i;a++){let c=this.children[a],u=l+c.length;l>t&&a&&(o+=s),t<u&&i>l&&(o+=c.sliceString(t-l,i-l,s)),l=u+1}return o}flatten(t){for(let i of this.children)i.flatten(t)}scanIdentical(t,i){if(!(t instanceof Qd))return 0;let s=0,[o,a,l,c]=i>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;o+=i,a+=i){if(o==l||a==c)return s;let u=this.children[o],d=t.children[a];if(u!=d)return s+u.scanIdentical(d,i);s+=u.length+1}}static from(t,i=t.reduce((s,o)=>s+o.length+1,-1)){let s=0;for(let m of t)s+=m.lines;if(s<32){let m=[];for(let g of t)g.flatten(m);return new $s(m,i)}let o=Math.max(32,s>>5),a=o<<1,l=o>>1,c=[],u=0,d=-1,p=[];function f(m){let g;if(m.lines>a&&m instanceof Qd)for(let y of m.children)f(y);else m.lines>l&&(u>l||!u)?(h(),c.push(m)):m instanceof $s&&u&&(g=p[p.length-1])instanceof $s&&m.lines+g.lines<=32?(u+=m.lines,d+=m.length+1,p[p.length-1]=new $s(g.text.concat(m.text),g.length+1+m.length)):(u+m.lines>o&&h(),u+=m.lines,d+=m.length+1,p.push(m))}function h(){0!=u&&(c.push(1==p.length?p[0]:Qd.from(p,d)),d=-1,u=p.length=0)}for(let m of t)f(m);return h(),1==c.length?c[0]:new Qd(c,i)}}function eP(n,t,i=0,s=1e9){for(let o=0,a=0,l=!0;a<n.length&&o<=s;a++){let c=n[a],u=o+c.length;u>=i&&(u>s&&(c=c.slice(0,s-o)),o<i&&(c=c.slice(i-o)),l?(t[t.length-1]+=c,l=!1):t.push(c)),o=u+1}return t}function rye(n,t,i){return eP(n,[""],t,i)}qr.empty=new $s([""],0);class sx{constructor(t,i=1){this.dir=i,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[i>0?1:(t instanceof $s?t.text.length:t.children.length)<<1]}nextInner(t,i){for(this.done=this.lineBreak=!1;;){let s=this.nodes.length-1,o=this.nodes[s],a=this.offsets[s],l=a>>1;if(l==(i>0?o instanceof $s?o.text.length:o.children.length:0)){if(0==s)return this.done=!0,this.value="",this;i>0&&this.offsets[s-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&a)==(i>0?0:1)){if(this.offsets[s]+=i,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(o instanceof $s){let u=o.text[l+(i<0?-1:0)];if(this.offsets[s]+=i,u.length>Math.max(0,t))return this.value=0==t?u:i>0?u.slice(t):u.slice(0,u.length-t),this;t-=u.length}else{let u=o.children[l+(i<0?-1:0)];t>u.length?(t-=u.length,this.offsets[s]+=i):(i<0&&this.offsets[s]--,this.nodes.push(u),this.offsets.push(i>0?1:(u instanceof $s?u.text.length:u.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class iye{constructor(t,i,s){this.value="",this.done=!1,this.cursor=new sx(t,i>s?-1:1),this.pos=i>s?t.length:0,this.from=Math.min(i,s),this.to=Math.max(i,s)}nextInner(t,i){if(i<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,i<0?this.pos-this.to:this.from-this.pos);let s=i<0?this.pos-this.from:this.to-this.pos;t>s&&(t=s),s-=t;let{value:o}=this.cursor.next(t);return this.pos+=(o.length+t)*i,this.value=o.length<=s?o:i<0?o.slice(o.length-s):o.slice(0,s),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class sye{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:i,lineBreak:s,value:o}=this.inner.next(t);return i&&this.afterBreak?(this.value="",this.afterBreak=!1):i?(this.done=!0,this.value=""):s?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=o,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(qr.prototype[Symbol.iterator]=function(){return this.iter()},sx.prototype[Symbol.iterator]=iye.prototype[Symbol.iterator]=sye.prototype[Symbol.iterator]=function(){return this});class Smt{constructor(t,i,s,o){this.from=t,this.to=i,this.number=s,this.text=o}get length(){return this.to-this.from}}function Nb(n,t,i){return[t=Math.max(0,Math.min(n.length,t)),Math.max(t,Math.min(n.length,i))]}let Lb="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<Lb.length;n++)Lb[n]+=Lb[n-1];function Omt(n){for(let t=1;t<Lb.length;t+=2)if(Lb[t]>n)return Lb[t-1]<=n;return!1}function oye(n){return n>=127462&&n<=127487}function Yo(n,t,i=!0,s=!0){return(i?lye:Tmt)(n,t,s)}function lye(n,t,i){if(t==n.length)return t;t&&cye(n.charCodeAt(t))&&uye(n.charCodeAt(t-1))&&t--;let s=Xo(n,t);for(t+=uu(s);t<n.length;){let o=Xo(n,t);if(8205==s||8205==o||i&&Omt(o))t+=uu(o),s=o;else{if(!oye(o))break;{let a=0,l=t-2;for(;l>=0&&oye(Xo(n,l));)a++,l-=2;if(a%2==0)break;t+=2}}}return t}function Tmt(n,t,i){for(;t>0;){let s=lye(n,t-2,i);if(s<t)return s;t--}return 0}function cye(n){return n>=56320&&n<57344}function uye(n){return n>=55296&&n<56320}function Xo(n,t){let i=n.charCodeAt(t);if(!uye(i)||t+1==n.length)return i;let s=n.charCodeAt(t+1);return cye(s)?s-56320+(i-55296<<10)+65536:i}function eV(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n)))}function uu(n){return n<65536?1:2}const tV=/\r\n?|\n/;var Zo=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(Zo||(Zo={}));class Jd{constructor(t){this.sections=t}get length(){let t=0;for(let i=0;i<this.sections.length;i+=2)t+=this.sections[i];return t}get newLength(){let t=0;for(let i=0;i<this.sections.length;i+=2){let s=this.sections[i+1];t+=s<0?this.sections[i]:s}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let i=0,s=0,o=0;i<this.sections.length;){let a=this.sections[i++],l=this.sections[i++];l<0?(t(s,o,a),o+=a):o+=l,s+=a}}iterChangedRanges(t,i=!1){nV(this,t,i)}get invertedDesc(){let t=[];for(let i=0;i<this.sections.length;){let s=this.sections[i++],o=this.sections[i++];o<0?t.push(s,o):t.push(o,s)}return new Jd(t)}composeDesc(t){return this.empty?t:t.empty?this:dye(this,t)}mapDesc(t,i=!1){return t.empty?this:rV(this,t,i)}mapPos(t,i=-1,s=Zo.Simple){let o=0,a=0;for(let l=0;l<this.sections.length;){let c=this.sections[l++],u=this.sections[l++],d=o+c;if(u<0){if(d>t)return a+(t-o);a+=c}else{if(s!=Zo.Simple&&d>=t&&(s==Zo.TrackDel&&o<t&&d>t||s==Zo.TrackBefore&&o<t||s==Zo.TrackAfter&&d>t))return null;if(d>t||d==t&&i<0&&!c)return t==o||i<0?a:a+u;a+=u}o=d}if(t>o)throw new RangeError(`Position ${t} is out of range for changeset of length ${o}`);return a}touchesRange(t,i=t){for(let s=0,o=0;s<this.sections.length&&o<=i;){let c=o+this.sections[s++];if(this.sections[s++]>=0&&o<=i&&c>=t)return!(o<t&&c>i)||"cover";o=c}return!1}toString(){let t="";for(let i=0;i<this.sections.length;){let s=this.sections[i++],o=this.sections[i++];t+=(t?" ":"")+s+(o>=0?":"+o:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(i=>"number"!=typeof i))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Jd(t)}static create(t){return new Jd(t)}}class yo extends Jd{constructor(t,i){super(t),this.inserted=i}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return nV(this,(i,s,o,a,l)=>t=t.replace(o,o+(s-i),l),!1),t}mapDesc(t,i=!1){return rV(this,t,i,!0)}invert(t){let i=this.sections.slice(),s=[];for(let o=0,a=0;o<i.length;o+=2){let l=i[o],c=i[o+1];if(c>=0){i[o]=c,i[o+1]=l;let u=o>>1;for(;s.length<u;)s.push(qr.empty);s.push(l?t.slice(a,a+l):qr.empty)}a+=l}return new yo(i,s)}compose(t){return this.empty?t:t.empty?this:dye(this,t,!0)}map(t,i=!1){return t.empty?this:rV(this,t,i,!0)}iterChanges(t,i=!1){nV(this,t,i)}get desc(){return Jd.create(this.sections)}filter(t){let i=[],s=[],o=[],a=new ox(this);e:for(let l=0,c=0;;){let u=l==t.length?1e9:t[l++];for(;c<u||c==u&&0==a.len;){if(a.done)break e;let p=Math.min(a.len,u-c);Oa(o,p,-1);let f=-1==a.ins?-1:0==a.off?a.ins:0;Oa(i,p,f),f>0&&T0(s,i,a.text),a.forward(p),c+=p}let d=t[l++];for(;c<d;){if(a.done)break e;let p=Math.min(a.len,d-c);Oa(i,p,-1),Oa(o,p,-1==a.ins?-1:0==a.off?a.ins:0),a.forward(p),c+=p}}return{changes:new yo(i,s),filtered:Jd.create(o)}}toJSON(){let t=[];for(let i=0;i<this.sections.length;i+=2){let s=this.sections[i],o=this.sections[i+1];t.push(o<0?s:0==o?[s]:[s].concat(this.inserted[i>>1].toJSON()))}return t}static of(t,i,s){let o=[],a=[],l=0,c=null;function u(p=!1){if(!p&&!o.length)return;l<i&&Oa(o,i-l,-1);let f=new yo(o,a);c=c?c.compose(f.map(c)):f,o=[],a=[],l=0}return function d(p){if(Array.isArray(p))for(let f of p)d(f);else if(p instanceof yo){if(p.length!=i)throw new RangeError(`Mismatched change set length (got ${p.length}, expected ${i})`);u(),c=c?c.compose(p.map(c)):p}else{let{from:f,to:h=f,insert:m}=p;if(f>h||f<0||h>i)throw new RangeError(`Invalid change range ${f} to ${h} (in doc of length ${i})`);let g=m?"string"==typeof m?qr.of(m.split(s||tV)):m:qr.empty,y=g.length;if(f==h&&0==y)return;f<l&&u(),f>l&&Oa(o,f-l,-1),Oa(o,h-f,y),T0(a,o,g),l=h}}(t),u(!c),c}static empty(t){return new yo(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let i=[],s=[];for(let o=0;o<t.length;o++){let a=t[o];if("number"==typeof a)i.push(a,-1);else{if(!Array.isArray(a)||"number"!=typeof a[0]||a.some((l,c)=>c&&"string"!=typeof l))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==a.length)i.push(a[0],0);else{for(;s.length<o;)s.push(qr.empty);s[o]=qr.of(a.slice(1)),i.push(a[0],s[o].length)}}}return new yo(i,s)}static createSet(t,i){return new yo(t,i)}}function Oa(n,t,i,s=!1){if(0==t&&i<=0)return;let o=n.length-2;o>=0&&i<=0&&i==n[o+1]?n[o]+=t:0==t&&0==n[o]?n[o+1]+=i:s?(n[o]+=t,n[o+1]+=i):n.push(t,i)}function T0(n,t,i){if(0==i.length)return;let s=t.length-2>>1;if(s<n.length)n[n.length-1]=n[n.length-1].append(i);else{for(;n.length<s;)n.push(qr.empty);n.push(i)}}function nV(n,t,i){let s=n.inserted;for(let o=0,a=0,l=0;l<n.sections.length;){let c=n.sections[l++],u=n.sections[l++];if(u<0)o+=c,a+=c;else{let d=o,p=a,f=qr.empty;for(;d+=c,p+=u,u&&s&&(f=f.append(s[l-2>>1])),!(i||l==n.sections.length||n.sections[l+1]<0);)c=n.sections[l++],u=n.sections[l++];t(o,d,a,p,f),o=d,a=p}}}function rV(n,t,i,s=!1){let o=[],a=s?[]:null,l=new ox(n),c=new ox(t);for(let u=-1;;)if(-1==l.ins&&-1==c.ins){let d=Math.min(l.len,c.len);Oa(o,d,-1),l.forward(d),c.forward(d)}else if(c.ins>=0&&(l.ins<0||u==l.i||0==l.off&&(c.len<l.len||c.len==l.len&&!i))){let d=c.len;for(Oa(o,c.ins,-1);d;){let p=Math.min(l.len,d);l.ins>=0&&u<l.i&&l.len<=p&&(Oa(o,0,l.ins),a&&T0(a,o,l.text),u=l.i),l.forward(p),d-=p}c.next()}else{if(!(l.ins>=0)){if(l.done&&c.done)return a?yo.createSet(o,a):Jd.create(o);throw new Error("Mismatched change set lengths")}{let d=0,p=l.len;for(;p;)if(-1==c.ins){let f=Math.min(p,c.len);d+=f,p-=f,c.forward(f)}else{if(!(0==c.ins&&c.len<p))break;p-=c.len,c.next()}Oa(o,d,u<l.i?l.ins:0),a&&u<l.i&&T0(a,o,l.text),u=l.i,l.forward(l.len-p)}}}function dye(n,t,i=!1){let s=[],o=i?[]:null,a=new ox(n),l=new ox(t);for(let c=!1;;){if(a.done&&l.done)return o?yo.createSet(s,o):Jd.create(s);if(0==a.ins)Oa(s,a.len,0,c),a.next();else if(0!=l.len||l.done){if(a.done||l.done)throw new Error("Mismatched change set lengths");{let u=Math.min(a.len2,l.len),d=s.length;if(-1==a.ins){let p=-1==l.ins?-1:l.off?0:l.ins;Oa(s,u,p,c),o&&p&&T0(o,s,l.text)}else-1==l.ins?(Oa(s,a.off?0:a.len,u,c),o&&T0(o,s,a.textBit(u))):(Oa(s,a.off?0:a.len,l.off?0:l.ins,c),o&&!l.off&&T0(o,s,l.text));c=(a.ins>u||l.ins>=0&&l.len>u)&&(c||s.length>d),a.forward2(u),l.forward(u)}}else Oa(s,0,l.ins,c),o&&T0(o,s,l.text),l.next()}}class ox{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length?qr.empty:t[i]}textBit(t){let{inserted:i}=this.set,s=this.i-2>>1;return s>=i.length&&!t?qr.empty:i[s].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class r1{constructor(t,i,s){this.from=t,this.to=i,this.flags=s}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let t=7&this.flags;return 7==t?null:t}get goalColumn(){let t=this.flags>>6;return 16777215==t?void 0:t}map(t,i=-1){let s,o;return this.empty?s=o=t.mapPos(this.from,i):(s=t.mapPos(this.from,1),o=t.mapPos(this.to,-1)),s==this.from&&o==this.to?this:new r1(s,o,this.flags)}extend(t,i=t){if(t<=this.anchor&&i>=this.anchor)return lt.range(t,i);let s=Math.abs(t-this.anchor)>Math.abs(i-this.anchor)?t:i;return lt.range(this.anchor,s)}eq(t,i=!1){return!(this.anchor!=t.anchor||this.head!=t.head||i&&this.empty&&this.assoc!=t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return lt.range(t.anchor,t.head)}static create(t,i,s){return new r1(t,i,s)}}class lt{constructor(t,i){this.ranges=t,this.mainIndex=i}map(t,i=-1){return t.empty?this:lt.create(this.ranges.map(s=>s.map(t,i)),this.mainIndex)}eq(t,i=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let s=0;s<this.ranges.length;s++)if(!this.ranges[s].eq(t.ranges[s],i))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new lt([this.main],0)}addRange(t,i=!0){return lt.create([t].concat(this.ranges),i?0:this.mainIndex+1)}replaceRange(t,i=this.mainIndex){let s=this.ranges.slice();return s[i]=t,lt.create(s,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new lt(t.ranges.map(i=>r1.fromJSON(i)),t.main)}static single(t,i=t){return new lt([lt.range(t,i)],0)}static create(t,i=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let s=0,o=0;o<t.length;o++){let a=t[o];if(a.empty?a.from<=s:a.from<s)return lt.normalized(t.slice(),i);s=a.to}return new lt(t,i)}static cursor(t,i=0,s,o){return r1.create(t,t,(0==i?0:i<0?8:16)|(null==s?7:Math.min(6,s))|(o??16777215)<<6)}static range(t,i,s,o){let a=(s??16777215)<<6|(null==o?7:Math.min(6,o));return i<t?r1.create(i,t,48|a):r1.create(t,i,(i>t?8:0)|a)}static normalized(t,i=0){let s=t[i];t.sort((o,a)=>o.from-a.from),i=t.indexOf(s);for(let o=1;o<t.length;o++){let a=t[o],l=t[o-1];if(a.empty?a.from<=l.to:a.from<l.to){let c=l.from,u=Math.max(a.to,l.to);o<=i&&i--,t.splice(--o,2,a.anchor>a.head?lt.range(u,c):lt.range(c,u))}}return new lt(t,i)}}function pye(n,t){for(let i of n.ranges)if(i.to>t)throw new RangeError("Selection points outside of document")}let iV=0;class rn{constructor(t,i,s,o,a){this.combine=t,this.compareInput=i,this.compare=s,this.isStatic=o,this.id=iV++,this.default=t([]),this.extensions="function"==typeof a?a(this):a}get reader(){return this}static define(t={}){return new rn(t.combine||(i=>i),t.compareInput||((i,s)=>i===s),t.compare||(t.combine?(i,s)=>i===s:sV),!!t.static,t.enables)}of(t){return new tP([],this,0,t)}compute(t,i){if(this.isStatic)throw new Error("Can't compute a static facet");return new tP(t,this,1,i)}computeN(t,i){if(this.isStatic)throw new Error("Can't compute a static facet");return new tP(t,this,2,i)}from(t,i){return i||(i=s=>s),this.compute([t],s=>i(s.field(t)))}}function sV(n,t){return n==t||n.length==t.length&&n.every((i,s)=>i===t[s])}class tP{constructor(t,i,s,o){this.dependencies=t,this.facet=i,this.type=s,this.value=o,this.id=iV++}dynamicSlot(t){var i;let s=this.value,o=this.facet.compareInput,a=this.id,l=t[a]>>1,c=2==this.type,u=!1,d=!1,p=[];for(let f of this.dependencies)"doc"==f?u=!0:"selection"==f?d=!0:!(1&(null!==(i=t[f.id])&&void 0!==i?i:1))&&p.push(t[f.id]);return{create:f=>(f.values[l]=s(f),1),update(f,h){if(u&&h.docChanged||d&&(h.docChanged||h.selection)||oV(f,p)){let m=s(f);if(c?!fye(m,f.values[l],o):!o(m,f.values[l]))return f.values[l]=m,1}return 0},reconfigure:(f,h)=>{let m,g=h.config.address[a];if(null!=g){let y=rP(h,g);if(this.dependencies.every(v=>v instanceof rn?h.facet(v)===f.facet(v):!(v instanceof ro)||h.field(v,!1)==f.field(v,!1))||(c?fye(m=s(f),y,o):o(m=s(f),y)))return f.values[l]=y,0}else m=s(f);return f.values[l]=m,1}}}}function fye(n,t,i){if(n.length!=t.length)return!1;for(let s=0;s<n.length;s++)if(!i(n[s],t[s]))return!1;return!0}function oV(n,t){let i=!1;for(let s of t)1&lx(n,s)&&(i=!0);return i}function Pmt(n,t,i){let s=i.map(u=>n[u.id]),o=i.map(u=>u.type),a=s.filter(u=>!(1&u)),l=n[t.id]>>1;function c(u){let d=[];for(let p=0;p<s.length;p++){let f=rP(u,s[p]);if(2==o[p])for(let h of f)d.push(h);else d.push(f)}return t.combine(d)}return{create(u){for(let d of s)lx(u,d);return u.values[l]=c(u),1},update(u,d){if(!oV(u,a))return 0;let p=c(u);return t.compare(p,u.values[l])?0:(u.values[l]=p,1)},reconfigure(u,d){let p=oV(u,s),f=d.config.facets[t.id],h=d.facet(t);if(f&&!p&&sV(i,f))return u.values[l]=h,0;let m=c(u);return t.compare(m,h)?(u.values[l]=h,0):(u.values[l]=m,1)}}}const hye=rn.define({static:!0});class ro{constructor(t,i,s,o,a){this.id=t,this.createF=i,this.updateF=s,this.compareF=o,this.spec=a,this.provides=void 0}static define(t){let i=new ro(iV++,t.create,t.update,t.compare||((s,o)=>s===o),t);return t.provide&&(i.provides=t.provide(i)),i}create(t){let i=t.facet(hye).find(s=>s.field==this);return(i?.create||this.createF)(t)}slot(t){let i=t[this.id]>>1;return{create:s=>(s.values[i]=this.create(s),1),update:(s,o)=>{let a=s.values[i],l=this.updateF(a,o);return this.compareF(a,l)?0:(s.values[i]=l,1)},reconfigure:(s,o)=>null!=o.config.address[this.id]?(s.values[i]=o.field(this),0):(s.values[i]=this.create(s),1)}}init(t){return[this,hye.of({field:this,create:t})]}get extension(){return this}}function ax(n){return t=>new mye(t,n)}const Af={highest:ax(0),high:ax(1),default:ax(2),low:ax(3),lowest:ax(4)};class mye{constructor(t,i){this.inner=t,this.prec=i}}class Fb{of(t){return new aV(this,t)}reconfigure(t){return Fb.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class aV{constructor(t,i){this.compartment=t,this.inner=i}}class nP{constructor(t,i,s,o,a,l){for(this.base=t,this.compartments=i,this.dynamicSlots=s,this.address=o,this.staticValues=a,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<s.length;)this.statusTemplate.push(0)}staticFacet(t){let i=this.address[t.id];return null==i?t.default:this.staticValues[i>>1]}static resolve(t,i,s){let o=[],a=Object.create(null),l=new Map;for(let h of function Dmt(n,t,i){let s=[[],[],[],[],[]],o=new Map;return function a(l,c){let u=o.get(l);if(null!=u){if(u<=c)return;let d=s[u].indexOf(l);d>-1&&s[u].splice(d,1),l instanceof aV&&i.delete(l.compartment)}if(o.set(l,c),Array.isArray(l))for(let d of l)a(d,c);else if(l instanceof aV){if(i.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let d=t.get(l.compartment)||l.inner;i.set(l.compartment,d),a(d,c)}else if(l instanceof mye)a(l.inner,l.prec);else if(l instanceof ro)s[c].push(l),l.provides&&a(l.provides,c);else if(l instanceof tP)s[c].push(l),l.facet.extensions&&a(l.facet.extensions,2);else{let d=l.extension;if(!d)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(d,c)}}(n,2),s.reduce((l,c)=>l.concat(c))}(t,i,l))h instanceof ro?o.push(h):(a[h.facet.id]||(a[h.facet.id]=[])).push(h);let c=Object.create(null),u=[],d=[];for(let h of o)c[h.id]=d.length<<1,d.push(m=>h.slot(m));let p=s?.config.facets;for(let h in a){let m=a[h],g=m[0].facet,y=p&&p[h]||[];if(m.every(v=>0==v.type))if(c[g.id]=u.length<<1|1,sV(y,m))u.push(s.facet(g));else{let v=g.combine(m.map(_=>_.value));u.push(s&&g.compare(v,s.facet(g))?s.facet(g):v)}else{for(let v of m)0==v.type?(c[v.id]=u.length<<1|1,u.push(v.value)):(c[v.id]=d.length<<1,d.push(_=>v.dynamicSlot(_)));c[g.id]=d.length<<1,d.push(v=>Pmt(v,g,m))}}let f=d.map(h=>h(c));return new nP(t,l,f,c,u,a)}}function lx(n,t){if(1&t)return 2;let i=t>>1,s=n.status[i];if(4==s)throw new Error("Cyclic dependency between fields and/or facets");if(2&s)return s;n.status[i]=4;let o=n.computeSlot(n,n.config.dynamicSlots[i]);return n.status[i]=2|o}function rP(n,t){return 1&t?n.config.staticValues[t>>1]:n.values[t>>1]}const gye=rn.define(),lV=rn.define({combine:n=>n.some(t=>t),static:!0}),yye=rn.define({combine:n=>n.length?n[0]:void 0,static:!0}),vye=rn.define(),bye=rn.define(),_ye=rn.define(),Eye=rn.define({combine:n=>!!n.length&&n[0]});class If{constructor(t,i){this.type=t,this.value=i}static define(){return new kmt}}class kmt{of(t){return new If(this,t)}}class Mmt{constructor(t){this.map=t}of(t){return new _r(this,t)}}let _r=(()=>{class n{constructor(i,s){this.type=i,this.value=s}map(i){let s=this.type.map(this.value,i);return void 0===s?void 0:s==this.value?this:new n(this.type,s)}is(i){return this.type==i}static define(i={}){return new Mmt(i.map||(s=>s))}static mapEffects(i,s){if(!i.length)return i;let o=[];for(let a of i){let l=a.map(s);l&&o.push(l)}return o}}return n.reconfigure=n.define(),n.appendConfig=n.define(),n})(),Ju=(()=>{class n{constructor(i,s,o,a,l,c){this.startState=i,this.changes=s,this.selection=o,this.effects=a,this.annotations=l,this.scrollIntoView=c,this._doc=null,this._state=null,o&&pye(o,s.newLength),l.some(u=>u.type==n.time)||(this.annotations=l.concat(n.time.of(Date.now())))}static create(i,s,o,a,l,c){return new n(i,s,o,a,l,c)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(i){for(let s of this.annotations)if(s.type==i)return s.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(i){let s=this.annotation(n.userEvent);return!(!s||!(s==i||s.length>i.length&&s.slice(0,i.length)==i&&"."==s[i.length]))}}return n.time=If.define(),n.userEvent=If.define(),n.addToHistory=If.define(),n.remote=If.define(),n})();function Amt(n,t){let i=[];for(let s=0,o=0;;){let a,l;if(s<n.length&&(o==t.length||t[o]>=n[s]))a=n[s++],l=n[s++];else{if(!(o<t.length))return i;a=t[o++],l=t[o++]}!i.length||i[i.length-1]<a?i.push(a,l):i[i.length-1]<l&&(i[i.length-1]=l)}}function wye(n,t,i){var s;let o,a,l;return i?(o=t.changes,a=yo.empty(t.changes.length),l=n.changes.compose(t.changes)):(o=t.changes.map(n.changes),a=n.changes.mapDesc(t.changes,!0),l=n.changes.compose(o)),{changes:l,selection:t.selection?t.selection.map(a):null===(s=n.selection)||void 0===s?void 0:s.map(o),effects:_r.mapEffects(n.effects,o).concat(_r.mapEffects(t.effects,a)),annotations:n.annotations.length?n.annotations.concat(t.annotations):t.annotations,scrollIntoView:n.scrollIntoView||t.scrollIntoView}}function cV(n,t,i){let s=t.selection,o=Bb(t.annotations);return t.userEvent&&(o=o.concat(Ju.userEvent.of(t.userEvent))),{changes:t.changes instanceof yo?t.changes:yo.of(t.changes||[],i,n.facet(yye)),selection:s&&(s instanceof lt?s:lt.single(s.anchor,s.head)),effects:Bb(t.effects),annotations:o,scrollIntoView:!!t.scrollIntoView}}function xye(n,t,i){let s=cV(n,t.length?t[0]:{},n.doc.length);t.length&&!1===t[0].filter&&(i=!1);for(let a=1;a<t.length;a++){!1===t[a].filter&&(i=!1);let l=!!t[a].sequential;s=wye(s,cV(n,t[a],l?s.changes.newLength:n.doc.length),l)}let o=Ju.create(n,s.changes,s.selection,s.effects,s.annotations,s.scrollIntoView);return function Rmt(n){let t=n.startState,i=t.facet(_ye),s=n;for(let o=i.length-1;o>=0;o--){let a=i[o](n);a&&Object.keys(a).length&&(s=wye(s,cV(t,a,n.changes.newLength),!0))}return s==n?n:Ju.create(t,n.changes,n.selection,s.effects,s.annotations,s.scrollIntoView)}(i?function Imt(n){let t=n.startState,i=!0;for(let o of t.facet(vye)){let a=o(n);if(!1===a){i=!1;break}Array.isArray(a)&&(i=!0===i?a:Amt(i,a))}if(!0!==i){let o,a;if(!1===i)a=n.changes.invertedDesc,o=yo.empty(t.doc.length);else{let l=n.changes.filter(i);o=l.changes,a=l.filtered.mapDesc(l.changes).invertedDesc}n=Ju.create(t,o,n.selection&&n.selection.map(a),_r.mapEffects(n.effects,a),n.annotations,n.scrollIntoView)}let s=t.facet(bye);for(let o=s.length-1;o>=0;o--){let a=s[o](n);n=a instanceof Ju?a:Array.isArray(a)&&1==a.length&&a[0]instanceof Ju?a[0]:xye(t,Bb(a),!1)}return n}(o):o)}const Nmt=[];function Bb(n){return null==n?Nmt:Array.isArray(n)?n:[n]}var as=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(as||(as={}));const Lmt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let uV;try{uV=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}let il=(()=>{class n{constructor(i,s,o,a,l,c){this.config=i,this.doc=s,this.selection=o,this.values=a,this.status=i.statusTemplate.slice(),this.computeSlot=l,c&&(c._state=this);for(let u=0;u<this.config.dynamicSlots.length;u++)lx(this,u<<1);this.computeSlot=null}field(i,s=!0){let o=this.config.address[i.id];if(null!=o)return lx(this,o),rP(this,o);if(s)throw new RangeError("Field is not present in this state")}update(...i){return xye(this,i,!0)}applyTransaction(i){let l,s=this.config,{base:o,compartments:a}=s;for(let u of i.effects)u.is(Fb.reconfigure)?(s&&(a=new Map,s.compartments.forEach((d,p)=>a.set(p,d)),s=null),a.set(u.value.compartment,u.value.extension)):u.is(_r.reconfigure)?(s=null,o=u.value):u.is(_r.appendConfig)&&(s=null,o=Bb(o).concat(u.value));s?l=i.startState.values.slice():(s=nP.resolve(o,a,this),l=new n(s,this.doc,this.selection,s.dynamicSlots.map(()=>null),(d,p)=>p.reconfigure(d,this),null).values);let c=i.startState.facet(lV)?i.newSelection:i.newSelection.asSingle();new n(s,i.newDoc,c,l,(u,d)=>d.update(u,i),i)}replaceSelection(i){return"string"==typeof i&&(i=this.toText(i)),this.changeByRange(s=>({changes:{from:s.from,to:s.to,insert:i},range:lt.cursor(s.from+i.length)}))}changeByRange(i){let s=this.selection,o=i(s.ranges[0]),a=this.changes(o.changes),l=[o.range],c=Bb(o.effects);for(let u=1;u<s.ranges.length;u++){let d=i(s.ranges[u]),p=this.changes(d.changes),f=p.map(a);for(let m=0;m<u;m++)l[m]=l[m].map(f);let h=a.mapDesc(p,!0);l.push(d.range.map(h)),a=a.compose(f),c=_r.mapEffects(c,f).concat(_r.mapEffects(Bb(d.effects),h))}return{changes:a,selection:lt.create(l,s.mainIndex),effects:c}}changes(i=[]){return i instanceof yo?i:yo.of(i,this.doc.length,this.facet(n.lineSeparator))}toText(i){return qr.of(i.split(this.facet(n.lineSeparator)||tV))}sliceDoc(i=0,s=this.doc.length){return this.doc.sliceString(i,s,this.lineBreak)}facet(i){let s=this.config.address[i.id];return null==s?i.default:(lx(this,s),rP(this,s))}toJSON(i){let s={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(i)for(let o in i){let a=i[o];a instanceof ro&&null!=this.config.address[a.id]&&(s[o]=a.spec.toJSON(this.field(i[o]),this))}return s}static fromJSON(i,s={},o){if(!i||"string"!=typeof i.doc)throw new RangeError("Invalid JSON representation for EditorState");let a=[];if(o)for(let l in o)if(Object.prototype.hasOwnProperty.call(i,l)){let c=o[l],u=i[l];a.push(c.init(d=>c.spec.fromJSON(u,d)))}return n.create({doc:i.doc,selection:lt.fromJSON(i.selection),extensions:s.extensions?a.concat([s.extensions]):a})}static create(i={}){let s=nP.resolve(i.extensions||[],new Map),o=i.doc instanceof qr?i.doc:qr.of((i.doc||"").split(s.staticFacet(n.lineSeparator)||tV)),a=i.selection?i.selection instanceof lt?i.selection:lt.single(i.selection.anchor,i.selection.head):lt.single(0);return pye(a,o.length),s.staticFacet(lV)||(a=a.asSingle()),new n(s,o,a,s.dynamicSlots.map(()=>null),(l,c)=>c.create(l),null)}get tabSize(){return this.facet(n.tabSize)}get lineBreak(){return this.facet(n.lineSeparator)||"\n"}get readOnly(){return this.facet(Eye)}phrase(i,...s){for(let o of this.facet(n.phrases))if(Object.prototype.hasOwnProperty.call(o,i)){i=o[i];break}return s.length&&(i=i.replace(/\$(\$|\d*)/g,(o,a)=>{if("$"==a)return"$";let l=+(a||1);return!l||l>s.length?o:s[l-1]})),i}languageDataAt(i,s,o=-1){let a=[];for(let l of this.facet(gye))for(let c of l(this,s,o))Object.prototype.hasOwnProperty.call(c,i)&&a.push(c[i]);return a}charCategorizer(i){return function Bmt(n){return t=>{if(!/\S/.test(t))return as.Space;if(function Fmt(n){if(uV)return uV.test(n);for(let t=0;t<n.length;t++){let i=n[t];if(/\w/.test(i)||i>"\x80"&&(i.toUpperCase()!=i.toLowerCase()||Lmt.test(i)))return!0}return!1}(t))return as.Word;for(let i=0;i<n.length;i++)if(t.indexOf(n[i])>-1)return as.Word;return as.Other}}(this.languageDataAt("wordChars",i).join(""))}wordAt(i){let{text:s,from:o,length:a}=this.doc.lineAt(i),l=this.charCategorizer(i),c=i-o,u=i-o;for(;c>0;){let d=Yo(s,c,!1);if(l(s.slice(d,c))!=as.Word)break;c=d}for(;u<a;){let d=Yo(s,u);if(l(s.slice(u,d))!=as.Word)break;u=d}return c==u?null:lt.range(c+o,u+o)}}return n.allowMultipleSelections=lV,n.tabSize=rn.define({combine:t=>t.length?t[0]:4}),n.lineSeparator=yye,n.readOnly=Eye,n.phrases=rn.define({compare(t,i){let s=Object.keys(t),o=Object.keys(i);return s.length==o.length&&s.every(a=>t[a]==i[a])}}),n.languageData=gye,n.changeFilter=vye,n.transactionFilter=bye,n.transactionExtender=_ye,n})();function ed(n,t,i={}){let s={};for(let o of n)for(let a of Object.keys(o)){let l=o[a],c=s[a];if(void 0===c)s[a]=l;else if(c!==l&&void 0!==l){if(!Object.hasOwnProperty.call(i,a))throw new Error("Config merge conflict for field "+a);s[a]=i[a](c,l)}}for(let o in t)void 0===s[o]&&(s[o]=t[o]);return s}Fb.reconfigure=_r.define();class s1{eq(t){return this==t}range(t,i=t){return cx.create(t,i,this)}}s1.prototype.startSide=s1.prototype.endSide=0,s1.prototype.point=!1,s1.prototype.mapMode=Zo.TrackDel;class cx{constructor(t,i,s){this.from=t,this.to=i,this.value=s}static create(t,i,s){return new cx(t,i,s)}}function dV(n,t){return n.from-t.from||n.value.startSide-t.value.startSide}class pV{constructor(t,i,s,o){this.from=t,this.to=i,this.value=s,this.maxPoint=o}get length(){return this.to[this.to.length-1]}findIndex(t,i,s,o=0){let a=s?this.to:this.from;for(let l=o,c=a.length;;){if(l==c)return l;let u=l+c>>1,d=a[u]-t||(s?this.value[u].endSide:this.value[u].startSide)-i;if(u==l)return d>=0?l:c;d>=0?c=u:l=u+1}}between(t,i,s,o){for(let a=this.findIndex(i,-1e9,!0),l=this.findIndex(s,1e9,!1,a);a<l;a++)if(!1===o(this.from[a]+t,this.to[a]+t,this.value[a]))return!1}map(t,i){let s=[],o=[],a=[],l=-1,c=-1;for(let u=0;u<this.value.length;u++){let h,m,d=this.value[u],p=this.from[u]+t,f=this.to[u]+t;if(p==f){let g=i.mapPos(p,d.startSide,d.mapMode);if(null==g||(h=m=g,d.startSide!=d.endSide&&(m=i.mapPos(p,d.endSide),m<h)))continue}else if(h=i.mapPos(p,d.startSide),m=i.mapPos(f,d.endSide),h>m||h==m&&d.startSide>0&&d.endSide<=0)continue;(m-h||d.endSide-d.startSide)<0||(l<0&&(l=h),d.point&&(c=Math.max(c,m-h)),s.push(d),o.push(h-l),a.push(m-l))}return{mapped:s.length?new pV(o,a,s,c):null,pos:l}}}let ls=(()=>{class n{constructor(i,s,o,a){this.chunkPos=i,this.chunk=s,this.nextLayer=o,this.maxPoint=a}static create(i,s,o,a){return new n(i,s,o,a)}get length(){let i=this.chunk.length-1;return i<0?0:Math.max(this.chunkEnd(i),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let i=this.nextLayer.size;for(let s of this.chunk)i+=s.value.length;return i}chunkEnd(i){return this.chunkPos[i]+this.chunk[i].length}update(i){let{add:s=[],sort:o=!1,filterFrom:a=0,filterTo:l=this.length}=i,c=i.filter;if(0==s.length&&!c)return this;if(o&&(s=s.slice().sort(dV)),this.isEmpty)return s.length?n.of(s):this;let u=new Sye(this,null,-1).goto(0),d=0,p=[],f=new Rf;for(;u.value||d<s.length;)if(d<s.length&&(u.from-s[d].from||u.startSide-s[d].value.startSide)>=0){let h=s[d++];f.addInner(h.from,h.to,h.value)||p.push(h)}else 1==u.rangeIndex&&u.chunkIndex<this.chunk.length&&(d==s.length||this.chunkEnd(u.chunkIndex)<s[d].from)&&(!c||a>this.chunkEnd(u.chunkIndex)||l<this.chunkPos[u.chunkIndex])&&f.addChunk(this.chunkPos[u.chunkIndex],this.chunk[u.chunkIndex])?u.nextChunk():((!c||a>u.to||l<u.from||c(u.from,u.to,u.value))&&(f.addInner(u.from,u.to,u.value)||p.push(cx.create(u.from,u.to,u.value))),u.next());return f.finishInner(this.nextLayer.isEmpty&&!p.length?n.empty:this.nextLayer.update({add:p,filter:c,filterFrom:a,filterTo:l}))}map(i){if(i.empty||this.isEmpty)return this;let s=[],o=[],a=-1;for(let c=0;c<this.chunk.length;c++){let u=this.chunkPos[c],d=this.chunk[c],p=i.touchesRange(u,u+d.length);if(!1===p)a=Math.max(a,d.maxPoint),s.push(d),o.push(i.mapPos(u));else if(!0===p){let{mapped:f,pos:h}=d.map(u,i);f&&(a=Math.max(a,f.maxPoint),s.push(f),o.push(h))}}let l=this.nextLayer.map(i);return 0==s.length?l:new n(o,s,l||n.empty,a)}between(i,s,o){if(!this.isEmpty){for(let a=0;a<this.chunk.length;a++){let l=this.chunkPos[a],c=this.chunk[a];if(s>=l&&i<=l+c.length&&!1===c.between(l,i-l,s-l,o))return}this.nextLayer.between(i,s,o)}}iter(i=0){return ux.from([this]).goto(i)}get isEmpty(){return this.nextLayer==this}static iter(i,s=0){return ux.from(i).goto(s)}static compare(i,s,o,a,l=-1){let c=i.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=l),u=s.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=l),d=Cye(c,u,o),p=new dx(c,d,l),f=new dx(u,d,l);o.iterGaps((h,m,g)=>Oye(p,h,f,m,g,a)),o.empty&&0==o.length&&Oye(p,0,f,0,0,a)}static eq(i,s,o=0,a){null==a&&(a=999999999);let l=i.filter(f=>!f.isEmpty&&s.indexOf(f)<0),c=s.filter(f=>!f.isEmpty&&i.indexOf(f)<0);if(l.length!=c.length)return!1;if(!l.length)return!0;let u=Cye(l,c),d=new dx(l,u,0).goto(o),p=new dx(c,u,0).goto(o);for(;;){if(d.to!=p.to||!hV(d.active,p.active)||d.point&&(!p.point||!d.point.eq(p.point)))return!1;if(d.to>a)return!0;d.next(),p.next()}}static spans(i,s,o,a,l=-1){let c=new dx(i,null,l).goto(s),u=s,d=c.openStart;for(;;){let p=Math.min(c.to,o);if(c.point){let f=c.activeForPoint(c.to),h=c.pointFrom<s?f.length+1:c.point.startSide<0?f.length:Math.min(f.length,d);a.point(u,p,c.point,f,h,c.pointRank),d=Math.min(c.openEnd(p),f.length)}else p>u&&(a.span(u,p,c.active,d),d=c.openEnd(p));if(c.to>o)return d+(c.point&&c.to>o?1:0);u=c.to,c.next()}}static of(i,s=!1){let o=new Rf;for(let a of i instanceof cx?[i]:s?function jmt(n){if(n.length>1)for(let t=n[0],i=1;i<n.length;i++){let s=n[i];if(dV(t,s)>0)return n.slice().sort(dV);t=s}return n}(i):i)o.add(a.from,a.to,a.value);return o.finish()}static join(i){if(!i.length)return n.empty;let s=i[i.length-1];for(let o=i.length-2;o>=0;o--)for(let a=i[o];a!=n.empty;a=a.nextLayer)s=new n(a.chunkPos,a.chunk,s,Math.max(a.maxPoint,s.maxPoint));return s}}return n.empty=new n([],[],null,-1),n})();ls.empty.nextLayer=ls.empty;class Rf{finishChunk(t){this.chunks.push(new pV(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,i,s){this.addInner(t,i,s)||(this.nextLayer||(this.nextLayer=new Rf)).add(t,i,s)}addInner(t,i,s){let o=t-this.lastTo||s.startSide-this.last.endSide;if(o<=0&&(t-this.lastFrom||s.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(o<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(i-this.chunkStart),this.last=s,this.lastFrom=t,this.lastTo=i,this.value.push(s),s.point&&(this.maxPoint=Math.max(this.maxPoint,i-t)),0))}addChunk(t,i){if((t-this.lastTo||i.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,i.maxPoint),this.chunks.push(i),this.chunkPos.push(t);let s=i.value.length-1;return this.last=i.value[s],this.lastFrom=i.from[s]+t,this.lastTo=i.to[s]+t,!0}finish(){return this.finishInner(ls.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let i=ls.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,i}}function Cye(n,t,i){let s=new Map;for(let a of n)for(let l=0;l<a.chunk.length;l++)a.chunk[l].maxPoint<=0&&s.set(a.chunk[l],a.chunkPos[l]);let o=new Set;for(let a of t)for(let l=0;l<a.chunk.length;l++){let c=s.get(a.chunk[l]);null!=c&&(i?i.mapPos(c):c)==a.chunkPos[l]&&!i?.touchesRange(c,c+a.chunk[l].length)&&o.add(a.chunk[l])}return o}class Sye{constructor(t,i,s,o=0){this.layer=t,this.skip=i,this.minPoint=s,this.rank=o}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,i=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,i,!1),this}gotoInner(t,i,s){for(;this.chunkIndex<this.layer.chunk.length;){let o=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(o)||this.layer.chunkEnd(this.chunkIndex)<t||o.maxPoint<this.minPoint))break;this.chunkIndex++,s=!1}if(this.chunkIndex<this.layer.chunk.length){let o=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],i,!0);(!s||this.rangeIndex<o)&&this.setRangeIndex(o)}this.next()}forward(t,i){(this.to-t||this.endSide-i)<0&&this.gotoInner(t,i,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],i=this.layer.chunk[this.chunkIndex];if(this.from=t+i.from[this.rangeIndex],this.to=t+i.to[this.rangeIndex],this.value=i.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class ux{constructor(t){this.heap=t}static from(t,i=null,s=-1){let o=[];for(let a=0;a<t.length;a++)for(let l=t[a];!l.isEmpty;l=l.nextLayer)l.maxPoint>=s&&o.push(new Sye(l,i,s,a));return 1==o.length?o[0]:new ux(o)}get startSide(){return this.value?this.value.startSide:0}goto(t,i=-1e9){for(let s of this.heap)s.goto(t,i);for(let s=this.heap.length>>1;s>=0;s--)fV(this.heap,s);return this.next(),this}forward(t,i){for(let s of this.heap)s.forward(t,i);for(let s=this.heap.length>>1;s>=0;s--)fV(this.heap,s);(this.to-t||this.value.endSide-i)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),fV(this.heap,0)}}}function fV(n,t){for(let i=n[t];;){let s=1+(t<<1);if(s>=n.length)break;let o=n[s];if(s+1<n.length&&o.compare(n[s+1])>=0&&(o=n[s+1],s++),i.compare(o)<0)break;n[s]=i,n[t]=o,t=s}}class dx{constructor(t,i,s){this.minPoint=s,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=ux.from(t,i,s)}goto(t,i=-1e9){return this.cursor.goto(t,i),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=i,this.openStart=-1,this.next(),this}forward(t,i){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-i)<0;)this.removeActive(this.minActive);this.cursor.forward(t,i)}removeActive(t){iP(this.active,t),iP(this.activeTo,t),iP(this.activeRank,t),this.minActive=Tye(this.active,this.activeTo)}addActive(t){let i=0,{value:s,to:o,rank:a}=this.cursor;for(;i<this.activeRank.length&&(a-this.activeRank[i]||o-this.activeTo[i])>0;)i++;sP(this.active,i,s),sP(this.activeTo,i,o),sP(this.activeRank,i,a),t&&sP(t,i,this.cursor.from),this.minActive=Tye(this.active,this.activeTo)}next(){let t=this.to,i=this.point;this.point=null;let s=this.openStart<0?[]:null;for(;;){let o=this.minActive;if(o>-1&&(this.activeTo[o]-this.cursor.from||this.active[o].endSide-this.cursor.startSide)<0){if(this.activeTo[o]>t){this.to=this.activeTo[o],this.endSide=this.active[o].endSide;break}this.removeActive(o),s&&iP(s,o)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let a=this.cursor.value;if(a.point){if(!(i&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(s),this.cursor.next()}}}if(s){this.openStart=0;for(let o=s.length-1;o>=0&&s[o]<t;o--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let i=[];for(let s=this.active.length-1;s>=0&&!(this.activeRank[s]<this.pointRank);s--)(this.activeTo[s]>t||this.activeTo[s]==t&&this.active[s].endSide>=this.point.endSide)&&i.push(this.active[s]);return i.reverse()}openEnd(t){let i=0;for(let s=this.activeTo.length-1;s>=0&&this.activeTo[s]>t;s--)i++;return i}}function Oye(n,t,i,s,o,a){n.goto(t),i.goto(s);let l=s+o,c=s,u=s-t;for(;;){let d=n.to+u-i.to||n.endSide-i.endSide,p=d<0?n.to+u:i.to,f=Math.min(p,l);if(n.point||i.point?n.point&&i.point&&(n.point==i.point||n.point.eq(i.point))&&hV(n.activeForPoint(n.to),i.activeForPoint(i.to))||a.comparePoint(c,f,n.point,i.point):f>c&&!hV(n.active,i.active)&&a.compareRange(c,f,n.active,i.active),p>l)break;c=p,d<=0&&n.next(),d>=0&&i.next()}}function hV(n,t){if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!=t[i]&&!n[i].eq(t[i]))return!1;return!0}function iP(n,t){for(let i=t,s=n.length-1;i<s;i++)n[i]=n[i+1];n.pop()}function sP(n,t,i){for(let s=n.length-1;s>=t;s--)n[s+1]=n[s];n[t]=i}function Tye(n,t){let i=-1,s=1e9;for(let o=0;o<t.length;o++)(t[o]-s||n[o].endSide-n[i].endSide)<0&&(i=o,s=t[o]);return i}function jb(n,t,i=n.length){let s=0;for(let o=0;o<i;)9==n.charCodeAt(o)?(s+=t-s%t,o++):(s++,o=Yo(n,o));return s}function mV(n,t,i,s){for(let o=0,a=0;;){if(a>=t)return o;if(o==n.length)break;a+=9==n.charCodeAt(o)?i-a%i:1,o=Yo(n,o)}return!0===s?-1:n.length}const Pye=typeof Symbol>"u"?"__\u037c":Symbol.for("\u037c"),yV=typeof Symbol>"u"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),Dye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class P0{constructor(t,i){this.rules=[];let{finish:s}=i||{};function o(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function a(l,c,u,d){let p=[],f=/^@(\w+)\b/.exec(l[0]),h=f&&"keyframes"==f[1];if(f&&null==c)return u.push(l[0]+";");for(let m in c){let g=c[m];if(/&/.test(m))a(m.split(/,\s*/).map(y=>l.map(v=>y.replace(/&/,v))).reduce((y,v)=>y.concat(v)),g,u);else if(g&&"object"==typeof g){if(!f)throw new RangeError("The value of a property ("+m+") should be a primitive value.");a(o(m),g,p,h)}else null!=g&&p.push(m.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+g+";")}(p.length||h)&&u.push((!s||f||d?l:l.map(s)).join(", ")+" {"+p.join(" ")+"}")}for(let l in t)a(o(l),t[l],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=Dye[Pye]||1;return Dye[Pye]=t+1,"\u037c"+t.toString(36)}static mount(t,i,s){let o=t[yV],a=s&&s.nonce;o?a&&o.setNonce(a):o=new Vmt(t,a),o.mount(Array.isArray(i)?i:[i])}}let kye=new Map;class Vmt{constructor(t,i){let s=t.ownerDocument||t,o=s.defaultView;if(!t.head&&t.adoptedStyleSheets&&o.CSSStyleSheet){let a=kye.get(s);if(a)return t.adoptedStyleSheets=[a.sheet,...t.adoptedStyleSheets],t[yV]=a;this.sheet=new o.CSSStyleSheet,t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets],kye.set(s,this)}else{this.styleTag=s.createElement("style"),i&&this.styleTag.setAttribute("nonce",i);let a=t.head||t;a.insertBefore(this.styleTag,a.firstChild)}this.modules=[],t[yV]=this}mount(t){let i=this.sheet,s=0,o=0;for(let a=0;a<t.length;a++){let l=t[a],c=this.modules.indexOf(l);if(c<o&&c>-1&&(this.modules.splice(c,1),o--,c=-1),-1==c){if(this.modules.splice(o++,0,l),i)for(let u=0;u<l.rules.length;u++)i.insertRule(l.rules[u],s++)}else{for(;o<c;)s+=this.modules[o++].rules.length;s+=l.rules.length,o++}}if(!i){let a="";for(let l=0;l<this.modules.length;l++)a+=this.modules[l].getRules()+"\n";this.styleTag.textContent=a}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}for(var D0={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},px={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},$mt=typeof navigator<"u"&&/Mac/.test(navigator.platform),zmt=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Qo=0;Qo<10;Qo++)D0[48+Qo]=D0[96+Qo]=String(Qo);for(Qo=1;Qo<=24;Qo++)D0[Qo+111]="F"+Qo;for(Qo=65;Qo<=90;Qo++)D0[Qo]=String.fromCharCode(Qo+32),px[Qo]=String.fromCharCode(Qo);for(var vV in D0)px.hasOwnProperty(vV)||(px[vV]=D0[vV]);function fx(n){let t;return t=11==n.nodeType?n.getSelection?n:n.ownerDocument:n,t.getSelection()}function bV(n,t){return!!t&&(n==t||n.contains(1!=t.nodeType?t.parentNode:t))}function oP(n,t){if(!t.anchorNode)return!1;try{return bV(n,t.anchorNode)}catch{return!1}}function Vb(n){return 3==n.nodeType?a1(n,0,n.nodeValue.length).getClientRects():1==n.nodeType?n.getClientRects():[]}function hx(n,t,i,s){return!!i&&(Mye(n,t,i,s,-1)||Mye(n,t,i,s,1))}function o1(n){for(var t=0;;t++)if(!(n=n.previousSibling))return t}function aP(n){return 1==n.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function Mye(n,t,i,s,o){for(;;){if(n==i&&t==s)return!0;if(t==(o<0?0:ep(n))){if("DIV"==n.nodeName)return!1;let a=n.parentNode;if(!a||1!=a.nodeType)return!1;t=o1(n)+(o<0?0:1),n=a}else{if(1!=n.nodeType)return!1;if(1==(n=n.childNodes[t+(o<0?-1:0)]).nodeType&&"false"==n.contentEditable)return!1;t=o<0?ep(n):0}}}function ep(n){return 3==n.nodeType?n.nodeValue.length:n.childNodes.length}function mx(n,t){let i=t?n.left:n.right;return{left:i,right:i,top:n.top,bottom:n.bottom}}function Umt(n){let t=n.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function Aye(n,t){let i=t.width/n.offsetWidth,s=t.height/n.offsetHeight;return(i>.995&&i<1.005||!isFinite(i)||Math.abs(t.width-n.offsetWidth)<1)&&(i=1),(s>.995&&s<1.005||!isFinite(s)||Math.abs(t.height-n.offsetHeight)<1)&&(s=1),{scaleX:i,scaleY:s}}class Gmt{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:i,focusNode:s}=t;this.set(i,Math.min(t.anchorOffset,i?ep(i):0),s,Math.min(t.focusOffset,s?ep(s):0))}set(t,i,s,o){this.anchorNode=t,this.anchorOffset=i,this.focusNode=s,this.focusOffset=o}}let Rye,$b=null;function Iye(n){if(n.setActive)return n.setActive();if($b)return n.focus($b);let t=[];for(let i=n;i&&(t.push(i,i.scrollTop,i.scrollLeft),i!=i.ownerDocument);i=i.parentNode);if(n.focus(null==$b?{get preventScroll(){return $b={preventScroll:!0},!0}}:void 0),!$b){$b=!1;for(let i=0;i<t.length;){let s=t[i++],o=t[i++],a=t[i++];s.scrollTop!=o&&(s.scrollTop=o),s.scrollLeft!=a&&(s.scrollLeft=a)}}}function a1(n,t,i=t){let s=Rye||(Rye=document.createRange());return s.setEnd(n,i),s.setStart(n,t),s}function zb(n,t,i,s){let o={key:t,code:t,keyCode:i,which:i,cancelable:!0};s&&({altKey:o.altKey,ctrlKey:o.ctrlKey,shiftKey:o.shiftKey,metaKey:o.metaKey}=s);let a=new KeyboardEvent("keydown",o);a.synthetic=!0,n.dispatchEvent(a);let l=new KeyboardEvent("keyup",o);return l.synthetic=!0,n.dispatchEvent(l),a.defaultPrevented||l.defaultPrevented}function Nye(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function Lye(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function Fye(n,t){for(let i=n,s=t;;){if(3==i.nodeType&&s>0)return{node:i,offset:s};if(1==i.nodeType&&s>0){if("false"==i.contentEditable)return null;i=i.childNodes[s-1],s=ep(i)}else{if(!i.parentNode||aP(i))return null;s=o1(i),i=i.parentNode}}}function Bye(n,t){for(let i=n,s=t;;){if(3==i.nodeType&&s<i.nodeValue.length)return{node:i,offset:s};if(1==i.nodeType&&s<i.childNodes.length){if("false"==i.contentEditable)return null;i=i.childNodes[s],s=0}else{if(!i.parentNode||aP(i))return null;s=o1(i)+1,i=i.parentNode}}}class Ta{constructor(t,i,s=!0){this.node=t,this.offset=i,this.precise=s}static before(t,i){return new Ta(t.parentNode,o1(t),i)}static after(t,i){return new Ta(t.parentNode,o1(t)+1,i)}}const _V=[];class ki{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let i=this.posAtStart;for(let s of this.children){if(s==t)return i;i+=s.length+s.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,i){if(2&this.flags){let a,s=this.dom,o=null;for(let l of this.children){if(7&l.flags){if(!l.dom&&(a=o?o.nextSibling:s.firstChild)){let c=ki.get(a);(!c||!c.parent&&c.canReuseDOM(l))&&l.reuseDOM(a)}l.sync(t,i),l.flags&=-8}if(a=o?o.nextSibling:s.firstChild,i&&!i.written&&i.node==s&&a!=l.dom&&(i.written=!0),l.dom.parentNode==s)for(;a&&a!=l.dom;)a=jye(a);else s.insertBefore(l.dom,a);o=l.dom}for(a=o?o.nextSibling:s.firstChild,a&&i&&i.node==s&&(i.written=!0);a;)a=jye(a)}else if(1&this.flags)for(let s of this.children)7&s.flags&&(s.sync(t,i),s.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,i){let s;if(t==this.dom)s=this.dom.childNodes[i];else{let o=0==ep(t)?0:0==i?-1:1;for(;;){let a=t.parentNode;if(a==this.dom)break;0==o&&a.firstChild!=a.lastChild&&(o=t==a.firstChild?-1:1),t=a}s=o<0?t:t.nextSibling}if(s==this.dom.firstChild)return 0;for(;s&&!ki.get(s);)s=s.nextSibling;if(!s)return this.length;for(let o=0,a=0;;o++){let l=this.children[o];if(l.dom==s)return a;a+=l.length+l.breakAfter}}domBoundsAround(t,i,s=0){let o=-1,a=-1,l=-1,c=-1;for(let u=0,d=s,p=s;u<this.children.length;u++){let f=this.children[u],h=d+f.length;if(d<t&&h>i)return f.domBoundsAround(t,i,d);if(h>=t&&-1==o&&(o=u,a=d),d>i&&f.dom.parentNode==this.dom){l=u,c=p;break}p=h,d=h+f.breakAfter}return{from:a,to:c<0?s+this.length:c,startDOM:(o?this.children[o-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:l<this.children.length&&l>=0?this.children[l].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let i=this.parent;i;i=i.parent){if(t&&(i.flags|=2),1&i.flags)return;i.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,7&this.flags&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let i=t.parent;if(!i)return t;t=i}}replaceChildren(t,i,s=_V){this.markDirty();for(let o=t;o<i;o++){let a=this.children[o];a.parent==this&&s.indexOf(a)<0&&a.destroy()}this.children.splice(t,i-t,...s);for(let o=0;o<s.length;o++)s[o].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new Vye(this.children,t,this.children.length)}childPos(t,i=1){return this.childCursor().findPos(t,i)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,i,s,o,a,l){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!(8&(this.flags|t.flags))}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}function jye(n){let t=n.nextSibling;return n.parentNode.removeChild(n),t}ki.prototype.breakAfter=0;class Vye{constructor(t,i,s){this.children=t,this.pos=i,this.i=s,this.off=0}findPos(t,i=1){for(;;){if(t>this.pos||t==this.pos&&(i>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let s=this.children[--this.i];this.pos-=s.length+s.breakAfter}}}function $ye(n,t,i,s,o,a,l,c,u){let{children:d}=n,p=d.length?d[t]:null,f=a.length?a[a.length-1]:null,h=f?f.breakAfter:l;if(!(t==s&&p&&!l&&!h&&a.length<2&&p.merge(i,o,a.length?f:null,0==i,c,u))){if(s<d.length){let m=d[s];m&&(o<m.length||m.breakAfter&&f?.breakAfter)?(t==s&&(m=m.split(o),o=0),!h&&f&&m.merge(0,o,f,!0,0,u)?a[a.length-1]=m:((o||m.children.length&&!m.children[0].length)&&m.merge(0,o,null,!1,0,u),a.push(m))):m?.breakAfter&&(f?f.breakAfter=1:l=1),s++}for(p&&(p.breakAfter=l,i>0&&(!l&&a.length&&p.merge(i,p.length,a[0],!1,c,0)?p.breakAfter=a.shift().breakAfter:(i<p.length||p.children.length&&0==p.children[p.children.length-1].length)&&p.merge(i,p.length,null,!1,c,0),t++));t<s&&a.length;)if(d[s-1].become(a[a.length-1]))s--,a.pop(),u=a.length?0:c;else{if(!d[t].become(a[0]))break;t++,a.shift(),c=a.length?0:u}!a.length&&t&&s<d.length&&!d[t-1].breakAfter&&d[s].merge(0,0,d[t-1],!1,c,u)&&t--,(t<s||a.length)&&n.replaceChildren(t,s,a)}}function zye(n,t,i,s,o,a){let l=n.childCursor(),{i:c,off:u}=l.findPos(i,1),{i:d,off:p}=l.findPos(t,-1),f=t-i;for(let h of s)f+=h.length;n.length+=f,$ye(n,d,p,c,u,s,0,o,a)}let jl=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},EV=typeof document<"u"?document:{documentElement:{style:{}}};const wV=/Edge\/(\d+)/.exec(jl.userAgent),Hye=/MSIE \d/.test(jl.userAgent),xV=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(jl.userAgent),lP=!!(Hye||xV||wV),Uye=!lP&&/gecko\/(\d+)/i.test(jl.userAgent),CV=!lP&&/Chrome\/(\d+)/.exec(jl.userAgent),qye="webkitFontSmoothing"in EV.documentElement.style,Wye=!lP&&/Apple Computer/.test(jl.vendor),Gye=Wye&&(/Mobile\/\w+/.test(jl.userAgent)||jl.maxTouchPoints>2);var mn={mac:Gye||/Mac/.test(jl.platform),windows:/Win/.test(jl.platform),linux:/Linux|X11/.test(jl.platform),ie:lP,ie_version:Hye?EV.documentMode||6:xV?+xV[1]:wV?+wV[1]:0,gecko:Uye,gecko_version:Uye?+(/Firefox\/(\d+)/.exec(jl.userAgent)||[0,0])[1]:0,chrome:!!CV,chrome_version:CV?+CV[1]:0,ios:Gye,android:/Android\b/.test(jl.userAgent),webkit:qye,safari:Wye,webkit_version:qye?+(/\bAppleWebKit\/(\d+)/.exec(jl.userAgent)||[0,0])[1]:0,tabSize:null!=EV.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class td extends ki{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,i){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(i&&i.node==this.dom&&(i.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){3==t.nodeType&&this.createDOM(t)}merge(t,i,s){return!(8&this.flags||s&&(!(s instanceof td)||this.length-(i-t)+s.length>256||8&s.flags)||(this.text=this.text.slice(0,t)+(s?s.text:"")+this.text.slice(i),this.markDirty(),0))}split(t){let i=new td(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),i.flags|=8&this.flags,i}localPosFromDOM(t,i){return t==this.dom?i:i?this.text.length:0}domAtPos(t){return new Ta(this.dom,t)}domBoundsAround(t,i,s){return{from:s,to:s+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,i){return function Zmt(n,t,i){let s=n.nodeValue.length;t>s&&(t=s);let o=t,a=t,l=0;0==t&&i<0||t==s&&i>=0?mn.chrome||mn.gecko||(t?(o--,l=1):a<s&&(a++,l=-1)):i<0?o--:a<s&&a++;let c=a1(n,o,a).getClientRects();if(!c.length)return null;let u=c[(l?l<0:i>=0)?0:c.length-1];return mn.safari&&!l&&0==u.width&&(u=Array.prototype.find.call(c,d=>d.width)||u),l?mx(u,l<0):u||null}(this.dom,t,i)}}class Nf extends ki{constructor(t,i=[],s=0){super(),this.mark=t,this.children=i,this.length=s;for(let o of i)o.setParent(this)}setAttrs(t){if(Nye(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let i in this.mark.attrs)t.setAttribute(i,this.mark.attrs[i]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!(8&(this.flags|t.flags))}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,i){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,i)}merge(t,i,s,o,a,l){return!(s&&(!(s instanceof Nf&&s.mark.eq(this.mark))||t&&a<=0||i<this.length&&l<=0)||(zye(this,t,i,s?s.children.slice():[],a-1,l-1),this.markDirty(),0))}split(t){let i=[],s=0,o=-1,a=0;for(let c of this.children){let u=s+c.length;u>t&&i.push(s<t?c.split(t-s):c),o<0&&s>=t&&(o=a),s=u,a++}let l=this.length-t;return this.length=t,o>-1&&(this.children.length=o,this.markDirty()),new Nf(this.mark,i,l)}domAtPos(t){return Kye(this,t)}coordsAt(t,i){return Xye(this,t,i)}}class k0 extends ki{static create(t,i,s){return new k0(t,i,s)}constructor(t,i,s){super(),this.widget=t,this.length=i,this.side=s,this.prevWidget=null}split(t){let i=k0.create(this.widget,this.length-t,this.side);return this.length-=t,i}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,i,s,o,a,l){return!(s&&(!(s instanceof k0&&this.widget.compare(s.widget))||t>0&&a<=0||i<this.length&&l<=0)||(this.length=t+(s?s.length:0)+(this.length-i),0))}become(t){return t instanceof k0&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return qr.empty;let t=this;for(;t.parent;)t=t.parent;let{view:i}=t,s=i&&i.state.doc,o=this.posAtStart;return s?s.slice(o,o+this.length):qr.empty}domAtPos(t){return(this.length?0==t:this.side>0)?Ta.before(this.dom):Ta.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,i){let s=this.widget.coordsAt(this.dom,t,i);if(s)return s;let o=this.dom.getClientRects(),a=null;if(!o.length)return null;let l=this.side?this.side<0:t>0;for(let c=l?o.length-1:0;a=o[c],!(t>0?0==c:c==o.length-1||a.top<a.bottom);c+=l?-1:1);return mx(a,!l)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Hb extends ki{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof Hb&&t.side==this.side}split(){return new Hb(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?Ta.before(this.dom):Ta.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return qr.empty}get isHidden(){return!0}}function Kye(n,t){let i=n.dom,{children:s}=n,o=0;for(let a=0;o<s.length;o++){let l=s[o],c=a+l.length;if(!(c==a&&l.getSide()<=0)){if(t>a&&t<c&&l.dom.parentNode==i)return l.domAtPos(t-a);if(t<=a)break;a=c}}for(let a=o;a>0;a--){let l=s[a-1];if(l.dom.parentNode==i)return l.domAtPos(l.length)}for(let a=o;a<s.length;a++){let l=s[a];if(l.dom.parentNode==i)return l.domAtPos(0)}return new Ta(i,0)}function Yye(n,t,i){let s,{children:o}=n;i>0&&t instanceof Nf&&o.length&&(s=o[o.length-1])instanceof Nf&&s.mark.eq(t.mark)?Yye(s,t.children[0],i-1):(o.push(t),t.setParent(n)),n.length+=t.length}function Xye(n,t,i){let s=null,o=-1,a=null,l=-1;!function c(d,p){for(let f=0,h=0;f<d.children.length&&h<=p;f++){let m=d.children[f],g=h+m.length;g>=p&&(m.children.length?c(m,p-h):(!a||a.isHidden&&i>0)&&(g>p||h==g&&m.getSide()>0)?(a=m,l=p-h):(h<p||h==g&&m.getSide()<0&&!m.isHidden)&&(s=m,o=p-h)),h=g}}(n,t);let u=(i<0?s:a)||s||a;return u?u.coordsAt(Math.max(0,u==s?o:l),i):function Qmt(n){let t=n.dom.lastChild;if(!t)return n.dom.getBoundingClientRect();let i=Vb(t);return i[i.length-1]||null}(n)}function SV(n,t){for(let i in n)"class"==i&&t.class?t.class+=" "+n.class:"style"==i&&t.style?t.style+=";"+n.style:t[i]=n[i];return t}td.prototype.children=k0.prototype.children=Hb.prototype.children=_V;const Zye=Object.create(null);function cP(n,t,i){if(n==t)return!0;n||(n=Zye),t||(t=Zye);let s=Object.keys(n),o=Object.keys(t);if(s.length-(i&&s.indexOf(i)>-1?1:0)!=o.length-(i&&o.indexOf(i)>-1?1:0))return!1;for(let a of s)if(a!=i&&(-1==o.indexOf(a)||n[a]!==t[a]))return!1;return!0}function OV(n,t,i){let s=!1;if(t)for(let o in t)i&&o in i||(s=!0,"style"==o?n.style.cssText="":n.removeAttribute(o));if(i)for(let o in i)t&&t[o]==i[o]||(s=!0,"style"==o?n.style.cssText=i[o]:n.setAttribute(o,i[o]));return s}function Jmt(n){let t=Object.create(null);for(let i=0;i<n.attributes.length;i++){let s=n.attributes[i];t[s.name]=s.value}return t}class tp{eq(t){return!1}updateDOM(t,i){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,i,s){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var sl=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(sl||(sl={}));class bn extends s1{constructor(t,i,s,o){super(),this.startSide=t,this.endSide=i,this.widget=s,this.spec=o}get heightRelevant(){return!1}static mark(t){return new gx(t)}static widget(t){let i=Math.max(-1e4,Math.min(1e4,t.side||0)),s=!!t.block;return i+=s&&!t.inlineOrder?i>0?3e8:-4e8:i>0?1e8:-1e8,new M0(t,i,i,s,t.widget||null,!1)}static replace(t){let s,o,i=!!t.block;if(t.isBlockGap)s=-5e8,o=4e8;else{let{start:a,end:l}=Qye(t,i);s=(a?i?-3e8:-1:5e8)-1,o=1+(l?i?2e8:1:-6e8)}return new M0(t,s,o,i,t.widget||null,!0)}static line(t){return new yx(t)}static set(t,i=!1){return ls.of(t,i)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}bn.none=ls.empty;class gx extends bn{constructor(t){let{start:i,end:s}=Qye(t);super(i?-1:5e8,s?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var i,s;return this==t||t instanceof gx&&this.tagName==t.tagName&&(this.class||(null===(i=this.attrs)||void 0===i?void 0:i.class))==(t.class||(null===(s=t.attrs)||void 0===s?void 0:s.class))&&cP(this.attrs,t.attrs,"class")}range(t,i=t){if(t>=i)throw new RangeError("Mark decorations may not be empty");return super.range(t,i)}}gx.prototype.point=!1;class yx extends bn{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof yx&&this.spec.class==t.spec.class&&cP(this.spec.attributes,t.spec.attributes)}range(t,i=t){if(i!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,i)}}yx.prototype.mapMode=Zo.TrackBefore,yx.prototype.point=!0;class M0 extends bn{constructor(t,i,s,o,a,l){super(i,s,a,t),this.block=o,this.isReplace=l,this.mapMode=o?i<=0?Zo.TrackBefore:Zo.TrackAfter:Zo.TrackDel}get type(){return this.startSide!=this.endSide?sl.WidgetRange:this.startSide<=0?sl.WidgetBefore:sl.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof M0&&function egt(n,t){return n==t||!!(n&&t&&n.compare(t))}(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,i=t){if(this.isReplace&&(t>i||t==i&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&i!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,i)}}function Qye(n,t=!1){let{inclusiveStart:i,inclusiveEnd:s}=n;return null==i&&(i=n.inclusive),null==s&&(s=n.inclusive),{start:i??t,end:s??t}}function TV(n,t,i,s=0){let o=i.length-1;o>=0&&i[o]+s>=n?i[o]=Math.max(i[o],t):i.push(n,t)}M0.prototype.point=!0;class io extends ki{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,i,s,o,a,l){if(s){if(!(s instanceof io))return!1;this.dom||s.transferDOM(this)}return o&&this.setDeco(s?s.attrs:null),zye(this,t,i,s?s.children.slice():[],a,l),!0}split(t){let i=new io;if(i.breakAfter=this.breakAfter,0==this.length)return i;let{i:s,off:o}=this.childPos(t);o&&(i.append(this.children[s].split(o),0),this.children[s].merge(o,this.children[s].length,null,!1,0,0),s++);for(let a=s;a<this.children.length;a++)i.append(this.children[a],0);for(;s>0&&0==this.children[s-1].length;)this.children[--s].destroy();return this.children.length=s,this.markDirty(),this.length=t,i}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){cP(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,i){Yye(this,t,i)}addLineDeco(t){let i=t.spec.attributes,s=t.spec.class;i&&(this.attrs=SV(i,this.attrs||{})),s&&(this.attrs=SV({class:s},this.attrs||{}))}domAtPos(t){return Kye(this,t)}reuseDOM(t){"DIV"==t.nodeName&&(this.setDOM(t),this.flags|=6)}sync(t,i){var s;this.dom?4&this.flags&&(Nye(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(OV(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,i);let o=this.dom.lastChild;for(;o&&ki.get(o)instanceof Nf;)o=o.lastChild;if(!(o&&this.length&&("BR"==o.nodeName||0!=(null===(s=ki.get(o))||void 0===s?void 0:s.isEditable)||mn.ios&&this.children.some(a=>a instanceof td)))){let a=document.createElement("BR");a.cmIgnore=!0,this.dom.appendChild(a)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let i,t=0;for(let s of this.children){if(!(s instanceof td)||/[^ -~]/.test(s.text))return null;let o=Vb(s.dom);if(1!=o.length)return null;t+=o[0].width,i=o[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:i}:null}coordsAt(t,i){let s=Xye(this,t,i);if(!this.children.length&&s&&this.parent){let{heightOracle:o}=this.parent.view.viewState,a=s.bottom-s.top;if(Math.abs(a-o.lineHeight)<2&&o.textHeight<a){let l=(a-o.textHeight)/2;return{top:s.top+l,bottom:s.bottom-l,left:s.left,right:s.left}}}return s}become(t){return t instanceof io&&0==this.children.length&&0==t.children.length&&cP(this.attrs,t.attrs)&&this.breakAfter==t.breakAfter}covers(){return!0}static find(t,i){for(let s=0,o=0;s<t.children.length;s++){let a=t.children[s],l=o+a.length;if(l>=i){if(a instanceof io)return a;if(l>i)break}o=l+a.breakAfter}return null}}class Lf extends ki{constructor(t,i,s){super(),this.widget=t,this.length=i,this.deco=s,this.breakAfter=0,this.prevWidget=null}merge(t,i,s,o,a,l){return!(s&&(!(s instanceof Lf&&this.widget.compare(s.widget))||t>0&&a<=0||i<this.length&&l<=0)||(this.length=t+(s?s.length:0)+(this.length-i),0))}domAtPos(t){return 0==t?Ta.before(this.dom):Ta.after(this.dom,t==this.length)}split(t){let i=this.length-t;this.length=t;let s=new Lf(this.widget,i,this.deco);return s.breakAfter=this.breakAfter,s}get children(){return _V}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):qr.empty}domBoundsAround(){return null}become(t){return t instanceof Lf&&t.widget.constructor==this.widget.constructor&&(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,i){return this.widget.coordsAt(this.dom,t,i)||(this.widget instanceof PV?null:mx(this.dom.getBoundingClientRect(),this.length?0==t:i<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:i,endSide:s}=this.deco;return i!=s&&(t<0?i<0:s>0)}}class PV extends tp{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class vx{constructor(t,i,s,o){this.doc=t,this.pos=i,this.end=s,this.disallowBlockEffectsFor=o,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=i}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof Lf&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new io),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(uP(new Hb(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(t&&this.content.length&&this.content[this.content.length-1]instanceof Lf)&&this.getLine()}buildText(t,i,s){for(;t>0;){if(this.textOff==this.text.length){let{value:a,lineBreak:l,done:c}=this.cursor.next(this.skip);if(this.skip=0,c)throw new Error("Ran out of text content when drawing inline views");if(l){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}this.text=a,this.textOff=0}let o=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(i.slice(i.length-s)),this.getLine().append(uP(new td(this.text.slice(this.textOff,this.textOff+o)),i),s),this.atCursorPos=!0,this.textOff+=o,t-=o,s=0}}span(t,i,s,o){this.buildText(i-t,s,o),this.pos=i,this.openStart<0&&(this.openStart=o)}point(t,i,s,o,a,l){if(this.disallowBlockEffectsFor[l]&&s instanceof M0){if(s.block)throw new RangeError("Block decorations may not be specified via plugins");if(i>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=i-t;if(s instanceof M0)if(s.block)s.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Lf(s.widget||Jye.block,c,s));else{let u=k0.create(s.widget||Jye.inline,c,c?0:s.startSide),d=this.atCursorPos&&!u.isEditable&&a<=o.length&&(t<i||s.startSide>0),p=!u.isEditable&&(t<i||a>o.length||s.startSide<=0),f=this.getLine();2==this.pendingBuffer&&!d&&!u.isEditable&&(this.pendingBuffer=0),this.flushBuffer(o),d&&(f.append(uP(new Hb(1),o),a),a=o.length+Math.max(0,a-o.length)),f.append(uP(u,o),a),this.atCursorPos=p,this.pendingBuffer=p?t<i||a>o.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=o.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(s);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=i),this.openStart<0&&(this.openStart=a)}static build(t,i,s,o,a){let l=new vx(t,i,s,a);return l.openEnd=ls.spans(o,i,s,l),l.openStart<0&&(l.openStart=l.openEnd),l.finish(l.openEnd),l}}function uP(n,t){for(let i of t)n=new Nf(i,[n],n.length);return n}let Jye=(()=>{class n extends tp{constructor(i){super(),this.tag=i}eq(i){return i.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(i){return i.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}return n.inline=new n("span"),n.block=new n("div"),n})();var Mi=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Mi||(Mi={}));const l1=Mi.LTR,DV=Mi.RTL;function eve(n){let t=[];for(let i=0;i<n.length;i++)t.push(1<<+n[i]);return t}const tgt=eve("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ngt=eve("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),kV=Object.create(null),np=[];for(let n of["()","[]","{}"]){let t=n.charCodeAt(0),i=n.charCodeAt(1);kV[t]=i,kV[i]=-t}function tve(n){return n<=247?tgt[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?ngt[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const rgt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class A0{get dir(){return this.level%2?DV:l1}constructor(t,i,s){this.from=t,this.to=i,this.level=s}side(t,i){return this.dir==i==t?this.to:this.from}forward(t,i){return t==(this.dir==i)}static find(t,i,s,o){let a=-1;for(let l=0;l<t.length;l++){let c=t[l];if(c.from<=i&&c.to>=i){if(c.level==s)return l;(a<0||(0!=o?o<0?c.from<i:c.to>i:t[a].level>c.level))&&(a=l)}}if(a<0)throw new RangeError("Index out of range");return a}}function nve(n,t){if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],o=t[i];if(s.from!=o.from||s.to!=o.to||s.direction!=o.direction||!nve(s.inner,o.inner))return!1}return!0}const Ai=[];function MV(n,t,i,s,o,a,l){let c=s%2?2:1;if(s%2==o%2)for(let u=t,d=0;u<i;){let p=!0,f=!1;if(d==a.length||u<a[d].from){let y=Ai[u];y!=c&&(p=!1,f=16==y)}let h=p||1!=c?null:[],m=p?s:s+1,g=u;e:for(;;)if(d<a.length&&g==a[d].from){if(f)break e;let y=a[d];if(!p)for(let v=y.to,_=d+1;;){if(v==i)break e;if(!(_<a.length&&a[_].from==v)){if(Ai[v]==c)break e;break}v=a[_++].to}d++,h?h.push(y):(y.from>u&&l.push(new A0(u,y.from,m)),AV(n,y.direction==l1!=!(m%2)?s+1:s,o,y.inner,y.from,y.to,l),u=y.to),g=y.to}else{if(g==i||(p?Ai[g]!=c:Ai[g]==c))break;g++}h?MV(n,u,g,s+1,o,h,l):u<g&&l.push(new A0(u,g,m)),u=g}else for(let u=i,d=a.length;u>t;){let p=!0,f=!1;if(!d||u>a[d-1].to){let y=Ai[u-1];y!=c&&(p=!1,f=16==y)}let h=p||1!=c?null:[],m=p?s:s+1,g=u;e:for(;;)if(d&&g==a[d-1].to){if(f)break e;let y=a[--d];if(!p)for(let v=y.from,_=d;;){if(v==t)break e;if(!_||a[_-1].to!=v){if(Ai[v-1]==c)break e;break}v=a[--_].from}h?h.push(y):(y.to<u&&l.push(new A0(y.to,u,m)),AV(n,y.direction==l1!=!(m%2)?s+1:s,o,y.inner,y.from,y.to,l),u=y.from),g=y.from}else{if(g==t||(p?Ai[g-1]!=c:Ai[g-1]==c))break;g--}h?MV(n,g,u,s+1,o,h,l):g<u&&l.push(new A0(g,u,m)),u=g}}function AV(n,t,i,s,o,a,l){let c=t%2?2:1;(function igt(n,t,i,s,o){for(let a=0;a<=s.length;a++){let l=a?s[a-1].to:t,c=a<s.length?s[a].from:i,u=a?256:o;for(let d=l,p=u,f=u;d<c;d++){let h=tve(n.charCodeAt(d));512==h?h=p:8==h&&4==f&&(h=16),Ai[d]=4==h?2:h,7&h&&(f=h),p=h}for(let d=l,p=u,f=u;d<c;d++){let h=Ai[d];if(128==h)d<c-1&&p==Ai[d+1]&&24&p?h=Ai[d]=p:Ai[d]=256;else if(64==h){let m=d+1;for(;m<c&&64==Ai[m];)m++;let g=d&&8==p||m<i&&8==Ai[m]?1==f?1:8:256;for(let y=d;y<m;y++)Ai[y]=g;d=m-1}else 8==h&&1==f&&(Ai[d]=1);p=h,7&h&&(f=h)}}})(n,o,a,s,c),function sgt(n,t,i,s,o){let a=1==o?2:1;for(let l=0,c=0,u=0;l<=s.length;l++){let p=l<s.length?s[l].from:i;for(let h,m,g,f=l?s[l-1].to:t;f<p;f++)if(m=kV[h=n.charCodeAt(f)])if(m<0){for(let y=c-3;y>=0;y-=3)if(np[y+1]==-m){let v=np[y+2],_=2&v?o:4&v?1&v?a:o:0;_&&(Ai[f]=Ai[np[y]]=_),c=y;break}}else{if(189==np.length)break;np[c++]=f,np[c++]=h,np[c++]=u}else if(2==(g=Ai[f])||1==g){let y=g==o;u=y?0:1;for(let v=c-3;v>=0;v-=3){let _=np[v+2];if(2&_)break;if(y)np[v+2]|=2;else{if(4&_)break;np[v+2]|=4}}}}}(n,o,a,s,c),function ogt(n,t,i,s){for(let o=0,a=s;o<=i.length;o++){let c=o<i.length?i[o].from:t;for(let u=o?i[o-1].to:n;u<c;){let d=Ai[u];if(256==d){let p=u+1;for(;;)if(p==c){if(o==i.length)break;p=i[o++].to,c=o<i.length?i[o].from:t}else{if(256!=Ai[p])break;p++}let f=1==a,m=f==(1==(p<t?Ai[p]:s))?f?1:2:s;for(let g=p,y=o,v=y?i[y-1].to:n;g>u;)g==v&&(g=i[--y].from,v=y?i[y-1].to:n),Ai[--g]=m;u=p}else a=d,u++}}}(o,a,s,c),MV(n,o,a,t,i,s,l)}function ive(n){return[new A0(0,n,0)]}let sve="";function ove(n,t,i,s,o){var a;let l=s.head-n.from,c=A0.find(t,l,null!==(a=s.bidiLevel)&&void 0!==a?a:-1,s.assoc),u=t[c],d=u.side(o,i);if(l==d){let h=c+=o?1:-1;if(h<0||h>=t.length)return null;u=t[c=h],l=u.side(!o,i),d=u.side(o,i)}let p=Yo(n.text,l,u.forward(o,i));(p<u.from||p>u.to)&&(p=d),sve=n.text.slice(Math.min(l,p),Math.max(l,p));let f=c==(o?t.length-1:0)?null:t[c+(o?1:-1)];return f&&p==d&&f.level+(o?0:1)<u.level?lt.cursor(f.side(!o,i)+n.from,f.forward(o,i)?1:-1,f.level):lt.cursor(p+n.from,u.forward(o,i)?-1:1,u.level)}function agt(n,t,i){for(let s=t;s<i;s++){let o=tve(n.charCodeAt(s));if(1==o)return l1;if(2==o||4==o)return DV}return l1}const ave=rn.define(),lve=rn.define(),cve=rn.define(),uve=rn.define(),IV=rn.define(),dve=rn.define(),pve=rn.define(),RV=rn.define(),NV=rn.define(),fve=rn.define({combine:n=>n.some(t=>t)}),hve=rn.define({combine:n=>n.some(t=>t)}),mve=rn.define();class Ub{constructor(t,i="nearest",s="nearest",o=5,a=5,l=!1){this.range=t,this.y=i,this.x=s,this.yMargin=o,this.xMargin=a,this.isSnapshot=l}map(t){return t.empty?this:new Ub(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new Ub(lt.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const dP=_r.define({map:(n,t)=>n.map(t)}),gve=_r.define();function ol(n,t,i){let s=n.facet(uve);s.length?s[0](t):window.onerror?window.onerror(String(t),i,void 0,void 0,t):i?console.error(i+":",t):console.error(t)}const I0=rn.define({combine:n=>!n.length||n[0]});let lgt=0;const bx=rn.define();class cs{constructor(t,i,s,o,a){this.id=t,this.create=i,this.domEventHandlers=s,this.domEventObservers=o,this.extension=a(this)}static define(t,i){const{eventHandlers:s,eventObservers:o,provide:a,decorations:l}=i||{};return new cs(lgt++,t,s,o,c=>{let u=[bx.of(c)];return l&&u.push(_x.of(d=>{let p=d.plugin(c);return p?l(p):bn.none})),a&&u.push(a(c)),u})}static fromClass(t,i){return cs.define(s=>new t(s),i)}}class LV{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let i=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(i)}catch(s){if(ol(i.state,s,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(i){ol(t.state,i,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var i;if(null!==(i=this.value)&&void 0!==i&&i.destroy)try{this.value.destroy()}catch(s){ol(t.state,s,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const yve=rn.define(),pP=rn.define(),_x=rn.define(),vve=rn.define(),FV=rn.define(),bve=rn.define();function _ve(n,t){let i=n.state.facet(bve);if(!i.length)return i;let s=i.map(a=>a instanceof Function?a(n):a),o=[];return ls.spans(s,t.from,t.to,{point(){},span(a,l,c,u){let d=a-t.from,p=l-t.from,f=o;for(let h=c.length-1;h>=0;h--,u--){let g,m=c[h].spec.bidiIsolate;if(null==m&&(m=agt(t.text,d,p)),u>0&&f.length&&(g=f[f.length-1]).to==d&&g.direction==m)g.to=p,f=g.inner;else{let y={from:d,to:p,direction:m,inner:[]};f.push(y),f=y.inner}}}}),o}const Eve=rn.define();function wve(n){let t=0,i=0,s=0,o=0;for(let a of n.state.facet(Eve)){let l=a(n);l&&(null!=l.left&&(t=Math.max(t,l.left)),null!=l.right&&(i=Math.max(i,l.right)),null!=l.top&&(s=Math.max(s,l.top)),null!=l.bottom&&(o=Math.max(o,l.bottom)))}return{left:t,right:i,top:s,bottom:o}}const Ex=rn.define();class yc{constructor(t,i,s,o){this.fromA=t,this.toA=i,this.fromB=s,this.toB=o}join(t){return new yc(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let i=t.length,s=this;for(;i>0;i--){let o=t[i-1];if(!(o.fromA>s.toA)){if(o.toA<s.fromA)break;s=s.join(o),t.splice(i-1,1)}}return t.splice(i,0,s),t}static extendWithRanges(t,i){if(0==i.length)return t;let s=[];for(let o=0,a=0,l=0,c=0;;o++){let u=o==t.length?null:t[o],d=l-c,p=u?u.fromB:1e9;for(;a<i.length&&i[a]<p;){let h=i[a+1],m=Math.max(c,i[a]),g=Math.min(p,h);if(m<=g&&new yc(m+d,g+d,m,g).addToSet(s),h>p)break;a+=2}if(!u)return s;new yc(u.fromA,u.toA,u.fromB,u.toB).addToSet(s),l=u.toA,c=u.toB}}}class fP{constructor(t,i,s){this.view=t,this.state=i,this.transactions=s,this.flags=0,this.startState=t.state,this.changes=yo.empty(this.startState.doc.length);for(let a of s)this.changes=this.changes.compose(a.changes);let o=[];this.changes.iterChangedRanges((a,l,c,u)=>o.push(new yc(a,l,c,u))),this.changedRanges=o}static create(t,i,s){return new fP(t,i,s)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}class xve extends ki{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=bn.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new io],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new yc(0,0,0,t.state.doc.length)],0,null)}update(t){var i;let s=t.changedRanges;this.minWidth>0&&s.length&&(s.every(({fromA:d,toA:p})=>p<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let o=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(null!==(i=this.domChanged)&&void 0!==i&&i.newSel?o=this.domChanged.newSel.head:!function mgt(n,t){let i=!1;return t&&n.iterChangedRanges((s,o)=>{s<t.to&&o>t.from&&(i=!0)}),i}(t.changes,this.hasComposition)&&!t.selectionSet&&(o=t.state.selection.main.head));let a=o>-1?function ugt(n,t,i){let s=Cve(n,i);if(!s)return null;let{node:o,from:a,to:l}=s,c=o.nodeValue;if(/[\n\r]/.test(c)||n.state.doc.sliceString(s.from,s.to)!=c)return null;let u=t.invertedDesc,d=new yc(u.mapPos(a),u.mapPos(l),a,l),p=[];for(let f=o.parentNode;;f=f.parentNode){let h=ki.get(f);if(h instanceof Nf)p.push({node:f,deco:h.mark});else{if(h instanceof io||"DIV"==f.nodeName&&f.parentNode==n.contentDOM)return{range:d,text:o,marks:p,line:f};if(f==n.contentDOM)return null;p.push({node:f,deco:new gx({inclusive:!0,attributes:Jmt(f),tagName:f.tagName.toLowerCase()})})}}}(this.view,t.changes,o):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:d,to:p}=this.hasComposition;s=new yc(d,p,t.changes.mapPos(d,-1),t.changes.mapPos(p,1)).addToSet(s.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(mn.ie||mn.chrome)&&!a&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let u=function fgt(n,t,i){let s=new pgt;return ls.compare(n,t,i,s),s.changes}(this.decorations,this.updateDeco(),t.changes);return s=yc.extendWithRanges(s,u),!!(7&this.flags||0!=s.length)&&(this.updateInner(s,t.startState.doc.length,a),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,i,s){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,i,s);let{observer:o}=this.view;o.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let l=mn.chrome||mn.ios?{node:o.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,l),this.flags&=-8,l&&(l.written||o.selectionRange.focusNode!=l.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(l=>l.flags&=-9);let a=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let l of this.children)l instanceof Lf&&l.widget instanceof PV&&a.push(l.dom);o.updateGaps(a)}updateChildren(t,i,s){let o=s?s.range.addToSet(t.slice()):t,a=this.childCursor(i);for(let l=o.length-1;;l--){let c=l>=0?o[l]:null;if(!c)break;let h,m,g,y,{fromA:u,toA:d,fromB:p,toB:f}=c;if(s&&s.range.fromB<f&&s.range.toB>p){let b=vx.build(this.view.state.doc,p,s.range.fromB,this.decorations,this.dynamicDecorationMap),w=vx.build(this.view.state.doc,s.range.toB,f,this.decorations,this.dynamicDecorationMap);m=b.breakAtStart,g=b.openStart,y=w.openEnd;let C=this.compositionView(s);w.breakAtStart?C.breakAfter=1:w.content.length&&C.merge(C.length,C.length,w.content[0],!1,w.openStart,0)&&(C.breakAfter=w.content[0].breakAfter,w.content.shift()),b.content.length&&C.merge(0,0,b.content[b.content.length-1],!0,0,b.openEnd)&&b.content.pop(),h=b.content.concat(C).concat(w.content)}else({content:h,breakAtStart:m,openStart:g,openEnd:y}=vx.build(this.view.state.doc,p,f,this.decorations,this.dynamicDecorationMap));let{i:v,off:_}=a.findPos(d,1),{i:E,off:x}=a.findPos(u,-1);$ye(this,E,x,v,_,h,m,g,y)}s&&this.fixCompositionDOM(s)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let i of t.transactions)for(let s of i.effects)s.is(gve)&&(this.editContextFormatting=s.value)}compositionView(t){let i=new td(t.text.nodeValue);i.flags|=8;for(let{deco:o}of t.marks)i=new Nf(o,[i],i.length);let s=new io;return s.append(i,0),s}fixCompositionDOM(t){let i=(a,l)=>{l.flags|=8|(l.children.some(u=>7&u.flags)?1:0),this.markedForComposition.add(l);let c=ki.get(a);c&&c!=l&&(c.dom=null),l.setDOM(a)},s=this.childPos(t.range.fromB,1),o=this.children[s.i];i(t.line,o);for(let a=t.marks.length-1;a>=-1;a--)s=o.childPos(s.off,1),o=o.children[s.i],i(a>=0?t.marks[a].node:t.text,o)}updateSelection(t=!1,i=!1){(t||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let s=this.view.root.activeElement,o=s==this.dom,a=!o&&oP(this.dom,this.view.observer.selectionRange)&&!(s&&this.dom.contains(s));if(!(o||i||a))return;let l=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,u=this.moveToLine(this.domAtPos(c.anchor)),d=c.empty?u:this.moveToLine(this.domAtPos(c.head));if(mn.gecko&&c.empty&&!this.hasComposition&&function cgt(n){return 1==n.node.nodeType&&n.node.firstChild&&(0==n.offset||"false"==n.node.childNodes[n.offset-1].contentEditable)&&(n.offset==n.node.childNodes.length||"false"==n.node.childNodes[n.offset].contentEditable)}(u)){let f=document.createTextNode("");this.view.observer.ignore(()=>u.node.insertBefore(f,u.node.childNodes[u.offset]||null)),u=d=new Ta(f,0),l=!0}let p=this.view.observer.selectionRange;(l||!p.focusNode||(!hx(u.node,u.offset,p.anchorNode,p.anchorOffset)||!hx(d.node,d.offset,p.focusNode,p.focusOffset))&&!this.suppressWidgetCursorChange(p,c))&&(this.view.observer.ignore(()=>{mn.android&&mn.chrome&&this.dom.contains(p.focusNode)&&function hgt(n,t){for(let i=n;i&&i!=t;i=i.assignedSlot||i.parentNode)if(1==i.nodeType&&"false"==i.contentEditable)return!0;return!1}(p.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=fx(this.view.root);if(f)if(c.empty){if(mn.gecko){let h=function dgt(n,t){return 1!=n.nodeType?0:(t&&"false"==n.childNodes[t-1].contentEditable?1:0)|(t<n.childNodes.length&&"false"==n.childNodes[t].contentEditable?2:0)}(u.node,u.offset);if(h&&3!=h){let m=(1==h?Fye:Bye)(u.node,u.offset);m&&(u=new Ta(m.node,m.offset))}}f.collapse(u.node,u.offset),null!=c.bidiLevel&&void 0!==f.caretBidiLevel&&(f.caretBidiLevel=c.bidiLevel)}else if(f.extend){f.collapse(u.node,u.offset);try{f.extend(d.node,d.offset)}catch{}}else{let h=document.createRange();c.anchor>c.head&&([u,d]=[d,u]),h.setEnd(d.node,d.offset),h.setStart(u.node,u.offset),f.removeAllRanges(),f.addRange(h)}a&&this.view.root.activeElement==this.dom&&(this.dom.blur(),s&&s.focus())}),this.view.observer.setSelectionRange(u,d)),this.impreciseAnchor=u.precise?null:new Ta(p.anchorNode,p.anchorOffset),this.impreciseHead=d.precise?null:new Ta(p.focusNode,p.focusOffset)}suppressWidgetCursorChange(t,i){return this.hasComposition&&i.empty&&hx(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==i.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,i=t.state.selection.main,s=fx(t.root),{anchorNode:o,anchorOffset:a}=t.observer.selectionRange;if(!(s&&i.empty&&i.assoc&&s.modify))return;let l=io.find(this,i.head);if(!l)return;let c=l.posAtStart;if(i.head==c||i.head==c+l.length)return;let u=this.coordsAt(i.head,-1),d=this.coordsAt(i.head,1);if(!u||!d||u.bottom>d.top)return;let p=this.domAtPos(i.head+i.assoc);s.collapse(p.node,p.offset),s.modify("move",i.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let f=t.observer.selectionRange;t.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=i.from&&s.collapse(o,a)}moveToLine(t){let s,i=this.dom;if(t.node!=i)return t;for(let o=t.offset;!s&&o<i.childNodes.length;o++){let a=ki.get(i.childNodes[o]);a instanceof io&&(s=a.domAtPos(0))}for(let o=t.offset-1;!s&&o>=0;o--){let a=ki.get(i.childNodes[o]);a instanceof io&&(s=a.domAtPos(a.length))}return s?new Ta(s.node,s.offset,!0):t}nearest(t){for(let i=t;i;){let s=ki.get(i);if(s&&s.rootView==this)return s;i=i.parentNode}return null}posFromDOM(t,i){let s=this.nearest(t);if(!s)throw new RangeError("Trying to find position for a DOM position outside of the document");return s.localPosFromDOM(t,i)+s.posAtStart}domAtPos(t){let{i,off:s}=this.childCursor().findPos(t,-1);for(;i<this.children.length-1;){let o=this.children[i];if(s<o.length||o instanceof io)break;i++,s=0}return this.children[i].domAtPos(s)}coordsAt(t,i){let s=null,o=0;for(let a=this.length,l=this.children.length-1;l>=0;l--){let c=this.children[l],u=a-c.breakAfter,d=u-c.length;if(u<t)break;if(d<=t&&(d<t||c.covers(-1))&&(u>t||c.covers(1))&&(!s||c instanceof io&&!(s instanceof io&&i>=0)))s=c,o=d;else if(s&&d==t&&u==t&&c instanceof Lf&&Math.abs(i)<2){if(c.deco.startSide<0)break;l&&(s=null)}a=d}return s?s.coordsAt(t-o,i):null}coordsForChar(t){let{i,off:s}=this.childPos(t,1),o=this.children[i];if(!(o instanceof io))return null;for(;o.children.length;){let{i:c,off:u}=o.childPos(s,1);for(;;c++){if(c==o.children.length)return null;if((o=o.children[c]).length)break}s=u}if(!(o instanceof td))return null;let a=Yo(o.text,s);if(a==s)return null;let l=a1(o.dom,s,a).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(c==l.length-1||u.top<u.bottom&&u.left<u.right)return u}return null}measureVisibleLineHeights(t){let i=[],{from:s,to:o}=t,a=this.view.contentDOM.clientWidth,l=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,u=this.view.textDirection==Mi.LTR;for(let d=0,p=0;p<this.children.length;p++){let f=this.children[p],h=d+f.length;if(h>o)break;if(d>=s){let m=f.dom.getBoundingClientRect();if(i.push(m.height),l){let g=f.dom.lastChild,y=g?Vb(g):[];if(y.length){let v=y[y.length-1],_=u?v.right-m.left:m.right-v.left;_>c&&(c=_,this.minWidth=a,this.minWidthFrom=d,this.minWidthTo=h)}}}d=h+f.breakAfter}return i}textDirectionAt(t){let{i}=this.childPos(t,1);return"rtl"==getComputedStyle(this.children[i].dom).direction?Mi.RTL:Mi.LTR}measureTextSize(){for(let a of this.children)if(a instanceof io){let l=a.measureTextSize();if(l)return l}let i,s,o,t=document.createElement("div");return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(t);let a=Vb(t.firstChild)[0];i=t.getBoundingClientRect().height,s=a?a.width/27:7,o=a?a.height:i,t.remove()}),{lineHeight:i,charWidth:s,textHeight:o}}childCursor(t=this.length){let i=this.children.length;return i&&(t-=this.children[--i].length),new Vye(this.children,t,i)}computeBlockGapDeco(){let t=[],i=this.view.viewState;for(let s=0,o=0;;o++){let a=o==i.viewports.length?null:i.viewports[o],l=a?a.from-1:this.length;if(l>s){let c=(i.lineBlockAt(l).bottom-i.lineBlockAt(s).top)/this.view.scaleY;t.push(bn.replace({widget:new PV(c),block:!0,inclusive:!0,isBlockGap:!0}).range(s,l))}if(!a)break;s=a.to+1}return bn.set(t)}updateDeco(){let t=1,i=this.view.state.facet(_x).map(a=>(this.dynamicDecorationMap[t++]="function"==typeof a)?a(this.view):a),s=!1,o=this.view.state.facet(vve).map((a,l)=>{let c="function"==typeof a;return c&&(s=!0),c?a(this.view):a});for(o.length&&(this.dynamicDecorationMap[t++]=s,i.push(ls.join(o))),this.decorations=[this.editContextFormatting,...i,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let d=this.view.viewState.lineBlockAt(t.range.head);return this.view.scrollDOM.scrollTop=d.top-t.yMargin,void(this.view.scrollDOM.scrollLeft=t.xMargin)}for(let d of this.view.state.facet(mve))try{if(d(this.view,t.range,t))return!0}catch(p){ol(this.view.state,p,"scroll handler")}let o,{range:i}=t,s=this.coordsAt(i.head,i.empty?i.assoc:i.head>i.anchor?-1:1);if(!s)return;!i.empty&&(o=this.coordsAt(i.anchor,i.anchor>i.head?-1:1))&&(s={left:Math.min(s.left,o.left),top:Math.min(s.top,o.top),right:Math.max(s.right,o.right),bottom:Math.max(s.bottom,o.bottom)});let a=wve(this.view),l={left:s.left-a.left,top:s.top-a.top,right:s.right+a.right,bottom:s.bottom+a.bottom},{offsetWidth:c,offsetHeight:u}=this.view.scrollDOM;!function qmt(n,t,i,s,o,a,l,c){let u=n.ownerDocument,d=u.defaultView||window;for(let p=n,f=!1;p&&!f;)if(1==p.nodeType){let h,m=p==u.body,g=1,y=1;if(m)h=Umt(d);else{if(/^(fixed|sticky)$/.test(getComputedStyle(p).position)&&(f=!0),p.scrollHeight<=p.clientHeight&&p.scrollWidth<=p.clientWidth){p=p.assignedSlot||p.parentNode;continue}let E=p.getBoundingClientRect();({scaleX:g,scaleY:y}=Aye(p,E)),h={left:E.left,right:E.left+p.clientWidth*g,top:E.top,bottom:E.top+p.clientHeight*y}}let v=0,_=0;if("nearest"==o)t.top<h.top?(_=-(h.top-t.top+l),i>0&&t.bottom>h.bottom+_&&(_=t.bottom-h.bottom+_+l)):t.bottom>h.bottom&&(_=t.bottom-h.bottom+l,i<0&&t.top-_<h.top&&(_=-(h.top+_-t.top+l)));else{let E=t.bottom-t.top,x=h.bottom-h.top;_=("center"==o&&E<=x?t.top+E/2-x/2:"start"==o||"center"==o&&i<0?t.top-l:t.bottom-x+l)-h.top}if("nearest"==s?t.left<h.left?(v=-(h.left-t.left+a),i>0&&t.right>h.right+v&&(v=t.right-h.right+v+a)):t.right>h.right&&(v=t.right-h.right+a,i<0&&t.left<h.left+v&&(v=-(h.left+v-t.left+a))):v=("center"==s?t.left+(t.right-t.left)/2-(h.right-h.left)/2:"start"==s==c?t.left-a:t.right-(h.right-h.left)+a)-h.left,v||_)if(m)d.scrollBy(v,_);else{let E=0,x=0;if(_){let b=p.scrollTop;p.scrollTop+=_/y,x=(p.scrollTop-b)*y}if(v){let b=p.scrollLeft;p.scrollLeft+=v/g,E=(p.scrollLeft-b)*g}t={left:t.left-E,top:t.top-x,right:t.right-E,bottom:t.bottom-x},E&&Math.abs(E-v)<1&&(s="nearest"),x&&Math.abs(x-_)<1&&(o="nearest")}if(m)break;p=p.assignedSlot||p.parentNode}else{if(11!=p.nodeType)break;p=p.host}}(this.view.scrollDOM,l,i.head<i.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,c),-c),Math.max(Math.min(t.yMargin,u),-u),this.view.textDirection==Mi.LTR)}}function Cve(n,t){let i=n.observer.selectionRange;if(!i.focusNode)return null;let s=Fye(i.focusNode,i.focusOffset),o=Bye(i.focusNode,i.focusOffset),a=s||o;if(o&&s&&o.node!=s.node){let c=ki.get(o.node);if(!c||c instanceof td&&c.text!=o.node.nodeValue)a=o;else if(n.docView.lastCompositionAfterCursor){let u=ki.get(s.node);!u||u instanceof td&&u.text!=s.node.nodeValue||(a=o)}}if(n.docView.lastCompositionAfterCursor=a!=s,!a)return null;let l=t-a.offset;return{from:l,to:l+a.node.nodeValue.length,node:a.node}}let pgt=class{constructor(){this.changes=[]}compareRange(t,i){TV(t,i,this.changes)}comparePoint(t,i){TV(t,i,this.changes)}};function ygt(n,t){return t.left>n?t.left-n:Math.max(0,n-t.right)}function vgt(n,t){return t.top>n?t.top-n:Math.max(0,n-t.bottom)}function BV(n,t){return n.top<t.bottom-1&&n.bottom>t.top+1}function Sve(n,t){return t<n.top?{top:t,left:n.left,right:n.right,bottom:n.bottom}:n}function Ove(n,t){return t>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:t}:n}function jV(n,t,i){let s,o,a,l,u,d,p,f,c=!1;for(let g=n.firstChild;g;g=g.nextSibling){let y=Vb(g);for(let v=0;v<y.length;v++){let _=y[v];o&&BV(o,_)&&(_=Sve(Ove(_,o.bottom),o.top));let E=ygt(t,_),x=vgt(i,_);if(0==E&&0==x)return 3==g.nodeType?Tve(g,t,i):jV(g,t,i);if(!s||l>x||l==x&&a>E){s=g,o=_,a=E,l=x;let b=x?i<_.top?-1:1:E?t<_.left?-1:1:0;c=!b||(b>0?v<y.length-1:v>0)}0==E?i>_.bottom&&(!p||p.bottom<_.bottom)?(u=g,p=_):i<_.top&&(!f||f.top>_.top)&&(d=g,f=_):p&&BV(p,_)?p=Ove(p,_.bottom):f&&BV(f,_)&&(f=Sve(f,_.top))}}if(p&&p.bottom>=i?(s=u,o=p):f&&f.top<=i&&(s=d,o=f),!s)return{node:n,offset:0};let h=Math.max(o.left,Math.min(o.right,t));return 3==s.nodeType?Tve(s,h,i):c&&"false"!=s.contentEditable?jV(s,h,i):{node:n,offset:Array.prototype.indexOf.call(n.childNodes,s)+(t>=(o.left+o.right)/2?1:0)}}function Tve(n,t,i){let s=n.nodeValue.length,o=-1,a=1e9,l=0;for(let c=0;c<s;c++){let u=a1(n,c,c+1).getClientRects();for(let d=0;d<u.length;d++){let p=u[d];if(p.top==p.bottom)continue;l||(l=t-p.left);let f=(p.top>i?p.top-i:i-p.bottom)-1;if(p.left-1<=t&&p.right+1>=t&&f<a){let h=t>=(p.left+p.right)/2,m=h;if((mn.chrome||mn.gecko)&&a1(n,c).getBoundingClientRect().left==p.right&&(m=!h),f<=0)return{node:n,offset:c+(m?1:0)};o=c+(m?1:0),a=f}}}return{node:n,offset:o>-1?o:l>0?n.nodeValue.length:0}}function Pve(n,t,i,s=-1){var o,a;let u,l=n.contentDOM.getBoundingClientRect(),c=l.top+n.viewState.paddingTop,{docHeight:d}=n.viewState,{x:p,y:f}=t,h=f-c;if(h<0)return 0;if(h>d)return n.state.doc.length;for(let b=n.viewState.heightOracle.textHeight/2,w=!1;u=n.elementAtHeight(h),u.type!=sl.Text;)for(;h=s>0?u.bottom+b:u.top-b,!(h>=0&&h<=d);){if(w)return i?null:0;w=!0,s=-s}f=c+h;let m=u.from;if(m<n.viewport.from)return 0==n.viewport.from?0:i?null:Dve(n,l,u,p,f);if(m>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:i?null:Dve(n,l,u,p,f);let g=n.dom.ownerDocument,y=n.root.elementFromPoint?n.root:g,v=y.elementFromPoint(p,f);v&&!n.contentDOM.contains(v)&&(v=null),v||(p=Math.max(l.left+1,Math.min(l.right-1,p)),v=y.elementFromPoint(p,f),v&&!n.contentDOM.contains(v)&&(v=null));let _,E=-1;if(v&&0!=(null===(o=n.docView.nearest(v))||void 0===o?void 0:o.isEditable)){if(g.caretPositionFromPoint){let b=g.caretPositionFromPoint(p,f);b&&({offsetNode:_,offset:E}=b)}else if(g.caretRangeFromPoint){let b=g.caretRangeFromPoint(p,f);b&&(({startContainer:_,startOffset:E}=b),(!n.contentDOM.contains(_)||mn.safari&&function bgt(n,t,i){let s;if(3!=n.nodeType||t!=(s=n.nodeValue.length))return!1;for(let o=n.nextSibling;o;o=o.nextSibling)if(1!=o.nodeType||"BR"!=o.nodeName)return!1;return a1(n,s-1,s).getBoundingClientRect().left>i}(_,E,p)||mn.chrome&&function _gt(n,t,i){if(0!=t)return!1;for(let o=n;;){let a=o.parentNode;if(!a||1!=a.nodeType||a.firstChild!=o)return!1;if(a.classList.contains("cm-line"))break;o=a}return i-(1==n.nodeType?n.getBoundingClientRect():a1(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect()).left>5}(_,E,p))&&(_=void 0))}_&&(E=Math.min(ep(_),E))}if(!_||!n.docView.dom.contains(_)){let b=io.find(n.docView,m);if(!b)return h>u.top+u.height/2?u.to:u.from;({node:_,offset:E}=jV(b.dom,p,f))}let x=n.docView.nearest(_);if(!x)return null;if(x.isWidget&&1==(null===(a=x.dom)||void 0===a?void 0:a.nodeType)){let b=x.dom.getBoundingClientRect();return t.y<b.top||t.y<=b.bottom&&t.x<=(b.left+b.right)/2?x.posAtStart:x.posAtEnd}return x.localPosFromDOM(_,E)+x.posAtStart}function Dve(n,t,i,s,o){let a=Math.round((s-t.left)*n.defaultCharacterWidth);if(n.lineWrapping&&i.height>1.5*n.defaultLineHeight){let c=n.viewState.heightOracle.textHeight;a+=Math.floor((o-i.top-.5*(n.defaultLineHeight-c))/c)*n.viewState.heightOracle.lineLength}let l=n.state.sliceDoc(i.from,i.to);return i.from+mV(l,a,n.state.tabSize)}function VV(n,t){let i=n.lineBlockAt(t);if(Array.isArray(i.type))for(let s of i.type)if(s.to>t||s.to==t&&(s.to==i.to||s.type==sl.Text))return s;return i}function kve(n,t,i,s){let o=n.state.doc.lineAt(t.head),a=n.bidiSpans(o),l=n.textDirectionAt(o.from);for(let c=t,u=null;;){let d=ove(o,a,l,c,i),p=sve;if(!d){if(o.number==(i?n.state.doc.lines:1))return c;p="\n",o=n.state.doc.line(o.number+(i?1:-1)),a=n.bidiSpans(o),d=n.visualLineSide(o,!i)}if(u){if(!u(p))return c}else{if(!s)return d;u=s(p)}c=d}}function hP(n,t,i){for(;;){let s=0;for(let o of n)o.between(t-1,t+1,(a,l,c)=>{if(t>a&&t<l){let u=s||i||(t-a<l-t?-1:1);t=u<0?a:l,s=u}});if(!s)return t}}function $V(n,t,i){let s=hP(n.state.facet(FV).map(o=>o(n)),i.from,t.head>i.from?-1:1);return s==i.from?i:lt.cursor(s,s<i.from?1:-1)}class Cgt{constructor(t,i){this.points=t,this.text="",this.lineSeparator=i.facet(il.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+="\uffff"}readRange(t,i){if(!t)return this;let s=t.parentNode;for(let o=t;;){this.findPointBefore(s,o);let a=this.text.length;this.readNode(o);let l=o.nextSibling;if(l==i)break;let c=ki.get(o),u=ki.get(l);(c&&u?c.breakAfter:(c?c.breakAfter:aP(o))||aP(l)&&("BR"!=o.nodeName||o.cmIgnore)&&this.text.length>a)&&this.lineBreak(),o=l}return this.findPointBefore(s,i),this}readTextNode(t){let i=t.nodeValue;for(let s of this.points)s.node==t&&(s.pos=this.text.length+Math.min(s.offset,i.length));for(let s=0,o=this.lineSeparator?null:/\r\n?|\n/g;;){let c,a=-1,l=1;if(this.lineSeparator?(a=i.indexOf(this.lineSeparator,s),l=this.lineSeparator.length):(c=o.exec(i))&&(a=c.index,l=c[0].length),this.append(i.slice(s,a<0?i.length:a)),a<0)break;if(this.lineBreak(),l>1)for(let u of this.points)u.node==t&&u.pos>this.text.length&&(u.pos-=l-1);s=a+l}}readNode(t){if(t.cmIgnore)return;let i=ki.get(t),s=i&&i.overrideDOMText;if(null!=s){this.findPointInside(t,s.length);for(let o=s.iter();!o.next().done;)o.lineBreak?this.lineBreak():this.append(o.value)}else 3==t.nodeType?this.readTextNode(t):"BR"==t.nodeName?t.nextSibling&&this.lineBreak():1==t.nodeType&&this.readRange(t.firstChild,null)}findPointBefore(t,i){for(let s of this.points)s.node==t&&t.childNodes[s.offset]==i&&(s.pos=this.text.length)}findPointInside(t,i){for(let s of this.points)(3==t.nodeType?s.node==t:t.contains(s.node))&&(s.pos=this.text.length+(Sgt(t,s.node,s.offset)?i:0))}}function Sgt(n,t,i){for(;;){if(!t||i<ep(t))return!1;if(t==n)return!0;i=o1(t)+1,t=t.parentNode}}class Mve{constructor(t,i){this.node=t,this.offset=i,this.pos=-1}}class Ogt{constructor(t,i,s,o){this.typeOver=o,this.bounds=null,this.text="",this.domChanged=i>-1;let{impreciseHead:a,impreciseAnchor:l}=t.docView;if(t.state.readOnly&&i>-1)this.newSel=null;else if(i>-1&&(this.bounds=t.docView.domBoundsAround(i,s,0))){let c=a||l?[]:function Dgt(n){let t=[];if(n.root.activeElement!=n.contentDOM)return t;let{anchorNode:i,anchorOffset:s,focusNode:o,focusOffset:a}=n.observer.selectionRange;return i&&(t.push(new Mve(i,s)),(o!=i||a!=s)&&t.push(new Mve(o,a))),t}(t),u=new Cgt(c,t.state);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=function kgt(n,t){if(0==n.length)return null;let i=n[0].pos,s=2==n.length?n[1].pos:i;return i>-1&&s>-1?lt.single(i+t,s+t):null}(c,this.bounds.from)}else{let c=t.observer.selectionRange,u=a&&a.node==c.focusNode&&a.offset==c.focusOffset||!bV(t.contentDOM,c.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(c.focusNode,c.focusOffset),d=l&&l.node==c.anchorNode&&l.offset==c.anchorOffset||!bV(t.contentDOM,c.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(c.anchorNode,c.anchorOffset),p=t.viewport;if((mn.ios||mn.chrome)&&t.state.selection.main.empty&&u!=d&&(p.from>0||p.to<t.state.doc.length)){let f=Math.min(u,d),h=Math.max(u,d),m=p.from-f,g=p.to-h;(0==m||1==m||0==f)&&(0==g||-1==g||h==t.state.doc.length)&&(u=0,d=t.state.doc.length)}this.newSel=lt.single(d,u)}}}function Ave(n,t){let i,{newSel:s}=t,o=n.state.selection.main,a=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(t.bounds){let{from:l,to:c}=t.bounds,u=o.from,d=null;(8===a||mn.android&&t.text.length<c-l)&&(u=o.to,d="end");let p=function Pgt(n,t,i,s){let o=Math.min(n.length,t.length),a=0;for(;a<o&&n.charCodeAt(a)==t.charCodeAt(a);)a++;if(a==o&&n.length==t.length)return null;let l=n.length,c=t.length;for(;l>0&&c>0&&n.charCodeAt(l-1)==t.charCodeAt(c-1);)l--,c--;return"end"==s&&(i-=l+Math.max(0,a-Math.min(l,c))-a),l<a&&n.length<t.length?(a-=i<=a&&i>=l?a-i:0,c=a+(c-l),l=a):c<a&&(a-=i<=a&&i>=c?a-i:0,l=a+(l-c),c=a),{from:a,toA:l,toB:c}}(n.state.doc.sliceString(l,c,"\uffff"),t.text,u-l,d);p&&(mn.chrome&&13==a&&p.toB==p.from+2&&"\uffff\uffff"==t.text.slice(p.from,p.toB)&&p.toB--,i={from:l+p.from,to:l+p.toA,insert:qr.of(t.text.slice(p.from,p.toB).split("\uffff"))})}else s&&(!n.hasFocus&&n.state.facet(I0)||s.main.eq(o))&&(s=null);if(!i&&!s)return!1;if(!i&&t.typeOver&&!o.empty&&s&&s.main.empty?i={from:o.from,to:o.to,insert:n.state.doc.slice(o.from,o.to)}:i&&i.from>=o.from&&i.to<=o.to&&(i.from!=o.from||i.to!=o.to)&&o.to-o.from-(i.to-i.from)<=4?i={from:o.from,to:o.to,insert:n.state.doc.slice(o.from,i.from).append(i.insert).append(n.state.doc.slice(i.to,o.to))}:(mn.mac||mn.android)&&i&&i.from==i.to&&i.from==o.head-1&&/^\. ?$/.test(i.insert.toString())&&"off"==n.contentDOM.getAttribute("autocorrect")?(s&&2==i.insert.length&&(s=lt.single(s.main.anchor-1,s.main.head-1)),i={from:o.from,to:o.to,insert:qr.of([" "])}):mn.chrome&&i&&i.from==i.to&&i.from==o.head&&"\n "==i.insert.toString()&&n.lineWrapping&&(s&&(s=lt.single(s.main.anchor-1,s.main.head-1)),i={from:o.from,to:o.to,insert:qr.of([" "])}),i)return zV(n,i,s,a);if(s&&!s.main.eq(o)){let l=!1,c="select";return n.inputState.lastSelectionTime>Date.now()-50&&("select"==n.inputState.lastSelectionOrigin&&(l=!0),c=n.inputState.lastSelectionOrigin),n.dispatch({selection:s,scrollIntoView:l,userEvent:c}),!0}return!1}function zV(n,t,i,s=-1){if(mn.ios&&n.inputState.flushIOSKey(t))return!0;let o=n.state.selection.main;if(mn.android&&(t.to==o.to&&(t.from==o.from||t.from==o.from-1&&" "==n.state.sliceDoc(t.from,o.from))&&1==t.insert.length&&2==t.insert.lines&&zb(n.contentDOM,"Enter",13)||(t.from==o.from-1&&t.to==o.to&&0==t.insert.length||8==s&&t.insert.length<t.to-t.from&&t.to>o.head)&&zb(n.contentDOM,"Backspace",8)||t.from==o.from&&t.to==o.to+1&&0==t.insert.length&&zb(n.contentDOM,"Delete",46)))return!0;let a=t.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let l,c=()=>l||(l=function Tgt(n,t,i){let s,o=n.state,a=o.selection.main;if(t.from>=a.from&&t.to<=a.to&&t.to-t.from>=(a.to-a.from)/3&&(!i||i.main.empty&&i.main.from==t.from+t.insert.length)&&n.inputState.composing<0){let c=a.from<t.from?o.sliceDoc(a.from,t.from):"",u=a.to>t.to?o.sliceDoc(t.to,a.to):"";s=o.replaceSelection(n.state.toText(c+t.insert.sliceString(0,void 0,n.state.lineBreak)+u))}else{let c=o.changes(t),u=i&&i.main.to<=c.newLength?i.main:void 0;if(o.selection.ranges.length>1&&n.inputState.composing>=0&&t.to<=a.to&&t.to>=a.to-10){let p,d=n.state.sliceDoc(t.from,t.to),f=i&&Cve(n,i.main.head);p=f?{from:f.from,to:f.to-(t.insert.length-(t.to-t.from))}:n.state.doc.lineAt(a.head);let h=a.to-t.to,m=a.to-a.from;s=o.changeByRange(g=>{if(g.from==a.from&&g.to==a.to)return{changes:c,range:u||g.map(c)};let y=g.to-h,v=y-d.length;if(g.to-g.from!=m||n.state.sliceDoc(v,y)!=d||g.to>=p.from&&g.from<=p.to)return{range:g};let _=o.changes({from:v,to:y,insert:t.insert}),E=g.to-a.to;return{changes:_,range:u?lt.range(Math.max(0,u.anchor+E),Math.max(0,u.head+E)):g.map(_)}})}else s={changes:c,selection:u&&o.selection.replaceRange(u)}}let l="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,l+=".compose",n.inputState.compositionFirstChange&&(l+=".start",n.inputState.compositionFirstChange=!1)),o.update(s,{userEvent:l,scrollIntoView:!0})}(n,t,i));return n.state.facet(dve).some(u=>u(n,t.from,t.to,a,c))||n.dispatch(c()),!0}class Mgt{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,mn.safari&&t.contentDOM.addEventListener("input",()=>null),mn.gecko&&function Ggt(n){Yve.has(n)||(Yve.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}(t.contentDOM.ownerDocument)}handleEvent(t){!function jgt(n,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let s,i=t.target;i!=n.contentDOM;i=i.parentNode)if(!i||11==i.nodeType||(s=ki.get(i))&&s.ignoreEvent(t))return!1;return!0}(this.view,t)||this.ignoreDuringComposition(t)||"keydown"==t.type&&this.keydown(t)||this.runHandlers(t.type,t)}runHandlers(t,i){let s=this.handlers[t];if(s){for(let o of s.observers)o(this.view,i);for(let o of s.handlers){if(i.defaultPrevented)break;if(o(this.view,i)){i.preventDefault();break}}}}ensureHandlers(t){let i=function Agt(n){let t=Object.create(null);function i(s){return t[s]||(t[s]={observers:[],handlers:[]})}for(let s of n){let o=s.spec;if(o&&o.domEventHandlers)for(let a in o.domEventHandlers){let l=o.domEventHandlers[a];l&&i(a).handlers.push(Ive(s.value,l))}if(o&&o.domEventObservers)for(let a in o.domEventObservers){let l=o.domEventObservers[a];l&&i(a).observers.push(Ive(s.value,l))}}for(let s in nd)i(s).handlers.push(nd[s]);for(let s in du)i(s).observers.push(du[s]);return t}(t),s=this.handlers,o=this.view.contentDOM;for(let a in i)if("scroll"!=a){let l=!i[a].handlers.length,c=s[a];c&&l!=!c.handlers.length&&(o.removeEventListener(a,this.handleEvent),c=null),c||o.addEventListener(a,this.handleEvent,{passive:l})}for(let a in s)"scroll"!=a&&!i[a]&&o.removeEventListener(a,this.handleEvent);this.handlers=i}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=t.keyCode&&Nve.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),mn.android&&mn.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return!mn.ios||t.synthetic||t.altKey||t.metaKey||!((i=Rve.find(s=>s.keyCode==t.keyCode))&&!t.ctrlKey||Igt.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(229!=t.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=i||t,setTimeout(()=>this.flushIOSKey(),250),!0)}flushIOSKey(t){let i=this.pendingIOSKey;return!(!i||"Enter"==i.key&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString()))&&(this.pendingIOSKey=void 0,zb(this.view.contentDOM,i.key,i.keyCode,i instanceof KeyboardEvent?i:void 0))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(mn.safari&&!mn.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Ive(n,t){return(i,s)=>{try{return t.call(n,s,i)}catch(o){ol(i.state,o)}}}const Rve=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Igt="dthko",Nve=[16,17,18,20,91,92,224,225];function gP(n){return.7*Math.max(0,n)+8}class Ngt{constructor(t,i,s,o){this.view=t,this.startEvent=i,this.style=s,this.mustSelect=o,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=i,this.scrollParents=function Wmt(n){let i,s,t=n.ownerDocument;for(let o=n.parentNode;o&&!(o==t.body||i&&s);)if(1==o.nodeType)!s&&o.scrollHeight>o.clientHeight&&(s=o),!i&&o.scrollWidth>o.clientWidth&&(i=o),o=o.assignedSlot||o.parentNode;else{if(11!=o.nodeType)break;o=o.host}return{x:i,y:s}}(t.contentDOM),this.atoms=t.state.facet(FV).map(l=>l(t));let a=t.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=i.shiftKey,this.multiple=t.state.facet(il.allowMultipleSelections)&&function Lgt(n,t){let i=n.state.facet(ave);return i.length?i[0](t):mn.mac?t.metaKey:t.ctrlKey}(t,i),this.dragging=!(!function Bgt(n,t){let{main:i}=n.state.selection;if(i.empty)return!1;let s=fx(n.root);if(!s||0==s.rangeCount)return!0;let o=s.getRangeAt(0).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(l.left<=t.clientX&&l.right>=t.clientX&&l.top<=t.clientY&&l.bottom>=t.clientY)return!0}return!1}(t,i)||1!=Uve(i))&&null}start(t){!1===this.dragging&&this.select(t)}move(t){if(0==t.buttons)return this.destroy();if(this.dragging||null==this.dragging&&function Rgt(n,t){return Math.max(Math.abs(n.clientX-t.clientX),Math.abs(n.clientY-t.clientY))}(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let i=0,s=0,o=0,a=0,l=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:o,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:c}=this.scrollParents.y.getBoundingClientRect());let u=wve(this.view);t.clientX-u.left<=o+6?i=-gP(o-t.clientX):t.clientX+u.right>=l-6&&(i=gP(t.clientX-l)),t.clientY-u.top<=a+6?s=-gP(a-t.clientY):t.clientY+u.bottom>=c-6&&(s=gP(t.clientY-c)),this.setScrollSpeed(i,s)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,i){this.scrollSpeed={x:t,y:i},t||i?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:i}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),i&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=i,i=0),(t||i)&&this.view.win.scrollBy(t,i),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(t){let i=null;for(let s=0;s<t.ranges.length;s++){let o=t.ranges[s],a=null;if(o.empty){let l=hP(this.atoms,o.from,0);l!=o.from&&(a=lt.cursor(l,-1))}else{let l=hP(this.atoms,o.from,-1),c=hP(this.atoms,o.to,1);(l!=o.from||c!=o.to)&&(a=lt.range(o.from==o.anchor?l:c,o.from==o.head?l:c))}a&&(i||(i=t.ranges.slice()),i[s]=a)}return i?lt.create(i,t.mainIndex):t}select(t){let{view:i}=this,s=this.skipAtoms(this.style.get(t,this.extend,this.multiple));(this.mustSelect||!s.eq(i.state.selection,!1===this.dragging))&&this.view.dispatch({selection:s,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some(i=>i.isUserEvent("input.type"))?this.destroy():this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}}const nd=Object.create(null),du=Object.create(null),Lve=mn.ie&&mn.ie_version<15||mn.ios&&mn.webkit_version<604;function yP(n,t,i){for(let s of n.facet(t))i=s(i,n);return i}function Fve(n,t){t=yP(n.state,RV,t);let s,{state:i}=n,o=1,a=i.toText(t),l=a.lines==i.selection.ranges.length;if(null!=HV&&i.selection.ranges.every(u=>u.empty)&&HV==a.toString()){let u=-1;s=i.changeByRange(d=>{let p=i.doc.lineAt(d.from);if(p.from==u)return{range:d};u=p.from;let f=i.toText((l?a.line(o++).text:t)+i.lineBreak);return{changes:{from:p.from,insert:f},range:lt.cursor(d.from+f.length)}})}else s=l?i.changeByRange(u=>{let d=a.line(o++);return{changes:{from:u.from,to:u.to,insert:d.text},range:lt.cursor(u.from+d.length)}}):i.replaceSelection(a);n.dispatch(s,{userEvent:"input.paste",scrollIntoView:!0})}function Bve(n,t,i,s){if(1==s)return lt.cursor(t,i);if(2==s)return function ggt(n,t,i=1){let s=n.charCategorizer(t),o=n.doc.lineAt(t),a=t-o.from;if(0==o.length)return lt.cursor(t);0==a?i=1:a==o.length&&(i=-1);let l=a,c=a;i<0?l=Yo(o.text,a,!1):c=Yo(o.text,a);let u=s(o.text.slice(l,c));for(;l>0;){let d=Yo(o.text,l,!1);if(s(o.text.slice(d,l))!=u)break;l=d}for(;c<o.length;){let d=Yo(o.text,c);if(s(o.text.slice(c,d))!=u)break;c=d}return lt.range(l+o.from,c+o.from)}(n.state,t,i);{let o=io.find(n.docView,t),a=n.state.doc.lineAt(o?o.posAtEnd:t),c=o?o.posAtEnd:a.to;return c<n.state.doc.length&&c==a.to&&c++,lt.range(o?o.posAtStart:a.from,c)}}du.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft},nd.keydown=(n,t)=>(n.inputState.setSelectionOrigin("select"),27==t.keyCode&&0!=n.inputState.tabFocusMode&&(n.inputState.tabFocusMode=Date.now()+2e3),!1),du.touchstart=(n,t)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")},du.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")},nd.mousedown=(n,t)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let i=null;for(let s of n.state.facet(cve))if(i=s(n,t),i)break;if(!i&&0==t.button&&(i=function Hgt(n,t){let i=Vve(n,t),s=Uve(t),o=n.state.selection;return{update(a){a.docChanged&&(i.pos=a.changes.mapPos(i.pos),o=o.map(a.changes))},get(a,l,c){let d,u=Vve(n,a),p=Bve(n,u.pos,u.bias,s);if(i.pos!=u.pos&&!l){let f=Bve(n,i.pos,i.bias,s),h=Math.min(f.from,p.from),m=Math.max(f.to,p.to);p=h<p.from?lt.range(h,m):lt.range(m,h)}return l?o.replaceRange(o.main.extend(p.from,p.to)):c&&1==s&&o.ranges.length>1&&(d=function Ugt(n,t){for(let i=0;i<n.ranges.length;i++){let{from:s,to:o}=n.ranges[i];if(s<=t&&o>=t)return lt.create(n.ranges.slice(0,i).concat(n.ranges.slice(i+1)),n.mainIndex==i?0:n.mainIndex-(n.mainIndex>i?1:0))}return null}(o,u.pos))?d:c?o.addRange(p):lt.create([p])}}}(n,t)),i){let s=!n.hasFocus;n.inputState.startMouseSelection(new Ngt(n,t,i,s)),s&&n.observer.ignore(()=>{Iye(n.contentDOM);let a=n.root.activeElement;a&&!a.contains(n.contentDOM)&&a.blur()});let o=n.inputState.mouseSelection;if(o)return o.start(t),!1===o.dragging}return!1};let jve=(n,t,i)=>t>=i.top&&t<=i.bottom&&n>=i.left&&n<=i.right;function $gt(n,t,i,s){let o=io.find(n.docView,t);if(!o)return 1;let a=t-o.posAtStart;if(0==a)return 1;if(a==o.length)return-1;let l=o.coordsAt(a,-1);if(l&&jve(i,s,l))return-1;let c=o.coordsAt(a,1);return c&&jve(i,s,c)?1:l&&l.bottom>=s?-1:1}function Vve(n,t){let i=n.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:i,bias:$gt(n,i,t.clientX,t.clientY)}}const zgt=mn.ie&&mn.ie_version<=11;let $ve=null,zve=0,Hve=0;function Uve(n){if(!zgt)return n.detail;let t=$ve,i=Hve;return $ve=n,Hve=Date.now(),zve=!t||i>Date.now()-400&&Math.abs(t.clientX-n.clientX)<2&&Math.abs(t.clientY-n.clientY)<2?(zve+1)%3:1}function qve(n,t,i,s){if(!(i=yP(n.state,RV,i)))return;let o=n.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:a}=n.inputState,l=s&&a&&function Fgt(n,t){let i=n.state.facet(lve);return i.length?i[0](t):mn.mac?!t.altKey:!t.ctrlKey}(n,t)?{from:a.from,to:a.to}:null,c={from:o,insert:i},u=n.state.changes(l?[l,c]:c);n.focus(),n.dispatch({changes:u,selection:{anchor:u.mapPos(o,-1),head:u.mapPos(o,1)},userEvent:l?"move.drop":"input.drop"}),n.inputState.draggedContent=null}nd.dragstart=(n,t)=>{let{selection:{main:i}}=n.state;if(t.target.draggable){let o=n.docView.nearest(t.target);if(o&&o.isWidget){let a=o.posAtStart,l=a+o.length;(a>=i.to||l<=i.from)&&(i=lt.range(a,l))}}let{inputState:s}=n;return s.mouseSelection&&(s.mouseSelection.dragging=!0),s.draggedContent=i,t.dataTransfer&&(t.dataTransfer.setData("Text",yP(n.state,NV,n.state.sliceDoc(i.from,i.to))),t.dataTransfer.effectAllowed="copyMove"),!1},nd.dragend=n=>(n.inputState.draggedContent=null,!1),nd.drop=(n,t)=>{if(!t.dataTransfer)return!1;if(n.state.readOnly)return!0;let i=t.dataTransfer.files;if(i&&i.length){let s=Array(i.length),o=0,a=()=>{++o==i.length&&qve(n,t,s.filter(l=>null!=l).join(n.state.lineBreak),!1)};for(let l=0;l<i.length;l++){let c=new FileReader;c.onerror=a,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(s[l]=c.result),a()},c.readAsText(i[l])}return!0}{let s=t.dataTransfer.getData("Text");if(s)return qve(n,t,s,!0),!0}return!1},nd.paste=(n,t)=>{if(n.state.readOnly)return!0;n.observer.flush();let i=Lve?null:t.clipboardData;return i?(Fve(n,i.getData("text/plain")||i.getData("text/uri-list")),!0):(function Vgt(n){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout(()=>{n.focus(),i.remove(),Fve(n,i.value)},50)}(n),!1)};let HV=null;nd.copy=nd.cut=(n,t)=>{let{text:i,ranges:s,linewise:o}=function Wgt(n){let t=[],i=[],s=!1;for(let o of n.selection.ranges)o.empty||(t.push(n.sliceDoc(o.from,o.to)),i.push(o));if(!t.length){let o=-1;for(let{from:a}of n.selection.ranges){let l=n.doc.lineAt(a);l.number>o&&(t.push(l.text),i.push({from:l.from,to:Math.min(n.doc.length,l.to+1)})),o=l.number}s=!0}return{text:yP(n,NV,t.join(n.lineBreak)),ranges:i,linewise:s}}(n.state);if(!i&&!o)return!1;HV=o?i:null,"cut"==t.type&&!n.state.readOnly&&n.dispatch({changes:s,scrollIntoView:!0,userEvent:"delete.cut"});let a=Lve?null:t.clipboardData;return a?(a.clearData(),a.setData("text/plain",i),!0):(function qgt(n,t){let i=n.dom.parentNode;if(!i)return;let s=i.appendChild(document.createElement("textarea"));s.style.cssText="position: fixed; left: -10000px; top: 10px",s.value=t,s.focus(),s.selectionEnd=t.length,s.selectionStart=0,setTimeout(()=>{s.remove(),n.focus()},50)}(n,i),!1)};const Wve=If.define();function Gve(n,t){let i=[];for(let s of n.facet(pve)){let o=s(n,t);o&&i.push(o)}return i?n.update({effects:i,annotations:Wve.of(!0)}):null}function Kve(n){setTimeout(()=>{let t=n.hasFocus;if(t!=n.inputState.notifiedFocused){let i=Gve(n.state,t);i?n.dispatch(i):n.update([])}},10)}du.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),Kve(n)},du.blur=n=>{n.observer.clearSelectionRange(),Kve(n)},du.compositionstart=du.compositionupdate=n=>{n.observer.editContext||(null==n.inputState.compositionFirstChange&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))},du.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,mn.chrome&&mn.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))},du.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()},nd.beforeinput=(n,t)=>{var i,s;if("insertReplacementText"==t.inputType&&n.observer.editContext){let a=null===(i=t.dataTransfer)||void 0===i?void 0:i.getData("text/plain"),l=t.getTargetRanges();if(a&&l.length){let c=l[0],u=n.posAtDOM(c.startContainer,c.startOffset),d=n.posAtDOM(c.endContainer,c.endOffset);return zV(n,{from:u,to:d,insert:n.state.toText(a)},null),!0}}let o;if(mn.chrome&&mn.android&&(o=Rve.find(a=>a.inputType==t.inputType))&&(n.observer.delayAndroidKey(o.key,o.keyCode),"Backspace"==o.key||"Delete"==o.key)){let a=(null===(s=window.visualViewport)||void 0===s?void 0:s.height)||0;setTimeout(()=>{var l;((null===(l=window.visualViewport)||void 0===l?void 0:l.height)||0)>a+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return mn.ios&&"deleteContentForward"==t.inputType&&n.observer.flushSoon(),mn.safari&&"insertText"==t.inputType&&n.inputState.composing>=0&&setTimeout(()=>du.compositionend(n,t),20),!1};const Yve=new Set,Xve=["pre-wrap","normal","pre-line","break-spaces"];let c1=!1;function UV(){c1=!1}class Zve{constructor(t){this.lineWrapping=t,this.doc=qr.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,i){let s=this.doc.lineAt(i).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(s+=Math.max(0,Math.ceil((i-t-s*this.lineLength*.5)/this.lineLength))),this.lineHeight*s}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return Xve.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let i=!1;for(let s=0;s<t.length;s++){let o=t[s];o<0?s++:this.heightSamples[Math.floor(10*o)]||(i=!0,this.heightSamples[Math.floor(10*o)]=!0)}return i}refresh(t,i,s,o,a,l){let c=Xve.indexOf(t)>-1,u=Math.round(i)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=i,this.charWidth=s,this.textHeight=o,this.lineLength=a,u){this.heightSamples={};for(let d=0;d<l.length;d++){let p=l[d];p<0?d++:this.heightSamples[Math.floor(10*p)]=!0}}return u}}class Qve{constructor(t,i){this.from=t,this.heights=i,this.index=0}get more(){return this.index<this.heights.length}}class rp{constructor(t,i,s,o,a){this.from=t,this.length=i,this.top=s,this.height=o,this._content=a}get type(){return"number"==typeof this._content?sl.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof M0?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(t){let i=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new rp(this.from,this.length+t.length,this.top,this.height+t.height,i)}}var $i=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}($i||($i={}));const vP=.001;class Pa{constructor(t,i,s=2){this.length=t,this.height=i,this.flags=s}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>vP&&(c1=!0),this.height=t)}replace(t,i,s){return Pa.of(s)}decomposeLeft(t,i){i.push(this)}decomposeRight(t,i){i.push(this)}applyChanges(t,i,s,o){let a=this,l=s.doc;for(let c=o.length-1;c>=0;c--){let{fromA:u,toA:d,fromB:p,toB:f}=o[c],h=a.lineAt(u,$i.ByPosNoHeight,s.setDoc(i),0,0),m=h.to>=d?h:a.lineAt(d,$i.ByPosNoHeight,s,0,0);for(f+=m.to-d,d=m.to;c>0&&h.from<=o[c-1].toA;)u=o[c-1].fromA,p=o[c-1].fromB,c--,u<h.from&&(h=a.lineAt(u,$i.ByPosNoHeight,s,0,0));p+=h.from-u,u=h.from;let g=qV.build(s.setDoc(l),t,p,f);a=bP(a,a.replace(u,d,g))}return a.updateHeight(s,0)}static empty(){return new vc(0,0)}static of(t){if(1==t.length)return t[0];let i=0,s=t.length,o=0,a=0;for(;;)if(i==s)if(o>2*a){let c=t[i-1];c.break?t.splice(--i,1,c.left,null,c.right):t.splice(--i,1,c.left,c.right),s+=1+c.break,o-=c.size}else{if(!(a>2*o))break;{let c=t[s];c.break?t.splice(s,1,c.left,null,c.right):t.splice(s,1,c.left,c.right),s+=2+c.break,a-=c.size}}else if(o<a){let c=t[i++];c&&(o+=c.size)}else{let c=t[--s];c&&(a+=c.size)}let l=0;return null==t[i-1]?(l=1,i--):null==t[i]&&(l=1,s++),new Kgt(Pa.of(t.slice(0,i)),l,Pa.of(t.slice(s)))}}function bP(n,t){return n==t?n:(n.constructor!=t.constructor&&(c1=!0),t)}Pa.prototype.size=1;class Jve extends Pa{constructor(t,i,s){super(t,i),this.deco=s}blockAt(t,i,s,o){return new rp(o,this.length,s,this.height,this.deco||0)}lineAt(t,i,s,o,a){return this.blockAt(0,s,o,a)}forEachLine(t,i,s,o,a,l){t<=a+this.length&&i>=a&&l(this.blockAt(0,s,o,a))}updateHeight(t,i=0,s=!1,o){return o&&o.from<=i&&o.more&&this.setHeight(o.heights[o.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class vc extends Jve{constructor(t,i){super(t,i,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,i,s,o){return new rp(o,this.length,s,this.height,this.breaks)}replace(t,i,s){let o=s[0];return 1==s.length&&(o instanceof vc||o instanceof Jo&&4&o.flags)&&Math.abs(this.length-o.length)<10?(o instanceof Jo?o=new vc(o.length,this.height):o.height=this.height,this.outdated||(o.outdated=!1),o):Pa.of(s)}updateHeight(t,i=0,s=!1,o){return o&&o.from<=i&&o.more?this.setHeight(o.heights[o.index++]):(s||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Jo extends Pa{constructor(t){super(t,0)}heightMetrics(t,i){let l,s=t.doc.lineAt(i).number,o=t.doc.lineAt(i+this.length).number,a=o-s+1,c=0;if(t.lineWrapping){let u=Math.min(this.height,t.lineHeight*a);l=u/a,this.length>a+1&&(c=(this.height-u)/(this.length-a-1))}else l=this.height/a;return{firstLine:s,lastLine:o,perLine:l,perChar:c}}blockAt(t,i,s,o){let{firstLine:a,lastLine:l,perLine:c,perChar:u}=this.heightMetrics(i,o);if(i.lineWrapping){let d=o+(t<i.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-s)/this.height))*this.length)),p=i.doc.lineAt(d),f=c+p.length*u,h=Math.max(s,t-f/2);return new rp(p.from,p.length,h,f,0)}{let d=Math.max(0,Math.min(l-a,Math.floor((t-s)/c))),{from:p,length:f}=i.doc.line(a+d);return new rp(p,f,s+c*d,c,0)}}lineAt(t,i,s,o,a){if(i==$i.ByHeight)return this.blockAt(t,s,o,a);if(i==$i.ByPosNoHeight){let{from:m,to:g}=s.doc.lineAt(t);return new rp(m,g-m,0,0,0)}let{firstLine:l,perLine:c,perChar:u}=this.heightMetrics(s,a),d=s.doc.lineAt(t),p=c+d.length*u,f=d.number-l;return new rp(d.from,d.length,Math.max(o,Math.min(o+c*f+u*(d.from-a-f),o+this.height-p)),p,0)}forEachLine(t,i,s,o,a,l){t=Math.max(t,a),i=Math.min(i,a+this.length);let{firstLine:c,perLine:u,perChar:d}=this.heightMetrics(s,a);for(let p=t,f=o;p<=i;){let h=s.doc.lineAt(p);if(p==t){let g=h.number-c;f+=u*g+d*(t-a-g)}let m=u+d*h.length;l(new rp(h.from,h.length,f,m,0)),f+=m,p=h.to+1}}replace(t,i,s){let o=this.length-i;if(o>0){let a=s[s.length-1];a instanceof Jo?s[s.length-1]=new Jo(a.length+o):s.push(null,new Jo(o-1))}if(t>0){let a=s[0];a instanceof Jo?s[0]=new Jo(t+a.length):s.unshift(new Jo(t-1),null)}return Pa.of(s)}decomposeLeft(t,i){i.push(new Jo(t-1),null)}decomposeRight(t,i){i.push(null,new Jo(this.length-t-1))}updateHeight(t,i=0,s=!1,o){let a=i+this.length;if(o&&o.from<=i+this.length&&o.more){let l=[],c=Math.max(i,o.from),u=-1;for(o.from>i&&l.push(new Jo(o.from-i-1).updateHeight(t,i));c<=a&&o.more;){let p=t.doc.lineAt(c).length;l.length&&l.push(null);let f=o.heights[o.index++];-1==u?u=f:Math.abs(f-u)>=vP&&(u=-2);let h=new vc(p,f);h.outdated=!1,l.push(h),c+=p+1}c<=a&&l.push(null,new Jo(a-c).updateHeight(t,c));let d=Pa.of(l);return(u<0||Math.abs(d.height-this.height)>=vP||Math.abs(u-this.heightMetrics(t,i).perLine)>=vP)&&(c1=!0),bP(this,d)}return(s||this.outdated)&&(this.setHeight(t.heightForGap(i,i+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Kgt extends Pa{constructor(t,i,s){super(t.length+i+s.length,t.height+s.height,i|(t.outdated||s.outdated?2:0)),this.left=t,this.right=s,this.size=t.size+s.size}get break(){return 1&this.flags}blockAt(t,i,s,o){let a=s+this.left.height;return t<a?this.left.blockAt(t,i,s,o):this.right.blockAt(t,i,a,o+this.left.length+this.break)}lineAt(t,i,s,o,a){let l=o+this.left.height,c=a+this.left.length+this.break,u=i==$i.ByHeight?t<l:t<c,d=u?this.left.lineAt(t,i,s,o,a):this.right.lineAt(t,i,s,l,c);if(this.break||(u?d.to<c:d.from>c))return d;let p=i==$i.ByPosNoHeight?$i.ByPosNoHeight:$i.ByPos;return u?d.join(this.right.lineAt(c,p,s,l,c)):this.left.lineAt(c,p,s,o,a).join(d)}forEachLine(t,i,s,o,a,l){let c=o+this.left.height,u=a+this.left.length+this.break;if(this.break)t<u&&this.left.forEachLine(t,i,s,o,a,l),i>=u&&this.right.forEachLine(t,i,s,c,u,l);else{let d=this.lineAt(u,$i.ByPos,s,o,a);t<d.from&&this.left.forEachLine(t,d.from-1,s,o,a,l),d.to>=t&&d.from<=i&&l(d),i>d.to&&this.right.forEachLine(d.to+1,i,s,c,u,l)}}replace(t,i,s){let o=this.left.length+this.break;if(i<o)return this.balanced(this.left.replace(t,i,s),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-o,i-o,s));let a=[];t>0&&this.decomposeLeft(t,a);let l=a.length;for(let c of s)a.push(c);if(t>0&&ebe(a,l-1),i<this.length){let c=a.length;this.decomposeRight(i,a),ebe(a,c)}return Pa.of(a)}decomposeLeft(t,i){let s=this.left.length;if(t<=s)return this.left.decomposeLeft(t,i);i.push(this.left),this.break&&(s++,t>=s&&i.push(null)),t>s&&this.right.decomposeLeft(t-s,i)}decomposeRight(t,i){let s=this.left.length,o=s+this.break;if(t>=o)return this.right.decomposeRight(t-o,i);t<s&&this.left.decomposeRight(t,i),this.break&&t<o&&i.push(null),i.push(this.right)}balanced(t,i){return t.size>2*i.size||i.size>2*t.size?Pa.of(this.break?[t,null,i]:[t,i]):(this.left=bP(this.left,t),this.right=bP(this.right,i),this.setHeight(t.height+i.height),this.outdated=t.outdated||i.outdated,this.size=t.size+i.size,this.length=t.length+this.break+i.length,this)}updateHeight(t,i=0,s=!1,o){let{left:a,right:l}=this,c=i+a.length+this.break,u=null;return o&&o.from<=i+a.length&&o.more?u=a=a.updateHeight(t,i,s,o):a.updateHeight(t,i,s),o&&o.from<=c+l.length&&o.more?u=l=l.updateHeight(t,c,s,o):l.updateHeight(t,c,s),u?this.balanced(a,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ebe(n,t){let i,s;null==n[t]&&(i=n[t-1])instanceof Jo&&(s=n[t+1])instanceof Jo&&n.splice(t-1,3,new Jo(i.length+1+s.length))}class qV{constructor(t,i){this.pos=t,this.oracle=i,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,i){if(this.lineStart>-1){let s=Math.min(i,this.lineEnd),o=this.nodes[this.nodes.length-1];o instanceof vc?o.length+=s-this.pos:(s>this.pos||!this.isCovered)&&this.nodes.push(new vc(s-this.pos,-1)),this.writtenTo=s,i>s&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=i}point(t,i,s){if(t<i||s.heightRelevant){let o=s.widget?s.widget.estimatedHeight:0,a=s.widget?s.widget.lineBreaks:0;o<0&&(o=this.oracle.lineHeight);let l=i-t;s.block?this.addBlock(new Jve(l,o,s)):(l||a||o>=5)&&this.addLineDeco(o,a,l)}else i>t&&this.span(t,i);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:i}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=i,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new vc(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,i){let s=new Jo(i-t);return this.oracle.doc.lineAt(t).to==i&&(s.flags|=4),s}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof vc)return t;let i=new vc(0,-1);return this.nodes.push(i),i}addBlock(t){this.enterLine();let i=t.deco;i&&i.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,i&&i.endSide>0&&(this.covering=t)}addLineDeco(t,i,s){let o=this.ensureLine();o.length+=s,o.collapsed+=s,o.widgetHeight=Math.max(o.widgetHeight,t),o.breaks+=i,this.writtenTo=this.pos=this.pos+s}finish(t){let i=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||i instanceof vc||this.isCovered?(this.writtenTo<this.pos||null==i)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new vc(0,-1));let s=t;for(let o of this.nodes)o instanceof vc&&o.updateHeight(this.oracle,s),s+=o?o.length:1;return this.nodes}static build(t,i,s,o){let a=new qV(s,t);return ls.spans(i,s,o,a,0),a.finish(s)}}class Zgt{constructor(){this.changes=[]}compareRange(){}comparePoint(t,i,s,o){(t<i||s&&s.heightRelevant||o&&o.heightRelevant)&&TV(t,i,this.changes,5)}}function Qgt(n,t){let i=n.getBoundingClientRect(),s=n.ownerDocument,o=s.defaultView||window,a=Math.max(0,i.left),l=Math.min(o.innerWidth,i.right),c=Math.max(0,i.top),u=Math.min(o.innerHeight,i.bottom);for(let d=n.parentNode;d&&d!=s.body;)if(1==d.nodeType){let p=d,f=window.getComputedStyle(p);if((p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth)&&"visible"!=f.overflow){let h=p.getBoundingClientRect();a=Math.max(a,h.left),l=Math.min(l,h.right),c=Math.max(c,h.top),u=Math.min(d==n.parentNode?o.innerHeight:u,h.bottom)}d="absolute"==f.position||"fixed"==f.position?p.offsetParent:p.parentNode}else{if(11!=d.nodeType)break;d=d.host}return{left:a-i.left,right:Math.max(a,l)-i.left,top:c-(i.top+t),bottom:Math.max(c,u)-(i.top+t)}}function Jgt(n,t){let i=n.getBoundingClientRect();return{left:0,right:i.right-i.left,top:t,bottom:i.bottom-(i.top+t)}}class WV{constructor(t,i,s){this.from=t,this.to=i,this.size=s}static same(t,i){if(t.length!=i.length)return!1;for(let s=0;s<t.length;s++){let o=t[s],a=i[s];if(o.from!=a.from||o.to!=a.to||o.size!=a.size)return!1}return!0}draw(t,i){return bn.replace({widget:new e1t(this.size*(i?t.scaleY:t.scaleX),i)}).range(this.from,this.to)}}class e1t extends tp{constructor(t,i){super(),this.size=t,this.vertical=i}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class tbe{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=nbe,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Mi.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let i=t.facet(pP).some(s=>"function"!=typeof s&&"cm-lineWrapping"==s.class);this.heightOracle=new Zve(i),this.stateDeco=t.facet(_x).filter(s=>"function"!=typeof s),this.heightMap=Pa.empty().applyChanges(this.stateDeco,qr.empty,this.heightOracle.setDoc(t.doc),[new yc(0,0,0,t.doc.length)]);for(let s=0;s<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());s++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=bn.set(this.lineGaps.map(s=>s.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:i}=this.state.selection;for(let s=0;s<=1;s++){let o=s?i.head:i.anchor;if(!t.some(({from:a,to:l})=>o>=a&&o<=l)){let{from:a,to:l}=this.lineBlockAt(o);t.push(new _P(a,l))}}return this.viewports=t.sort((s,o)=>s.from-o.from),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?nbe:new GV(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(xx(t,this.scaler))})}update(t,i=null){this.state=t.state;let s=this.stateDeco;this.stateDeco=this.state.facet(_x).filter(p=>"function"!=typeof p);let a=yc.extendWithRanges(t.changedRanges,function Xgt(n,t,i){let s=new Zgt;return ls.compare(n,t,i,s,0),s.changes}(s,this.stateDeco,t?t.changes:yo.empty(this.state.doc.length))),l=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);UV(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=l||c1)&&(t.flags|=2),c?(this.scrollAnchorPos=t.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let u=a.length?this.mapViewport(this.viewport,t.changes):this.viewport;(i&&(i.range.head<u.from||i.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,i));let d=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,t.flags|=this.updateForViewport(),(d||!t.changes.empty||2&t.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),i&&(this.scrollTarget=i),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(hve)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let i=t.contentDOM,s=window.getComputedStyle(i),o=this.heightOracle,a=s.whiteSpace;this.defaultTextDirection="rtl"==s.direction?Mi.RTL:Mi.LTR;let l=this.heightOracle.mustRefreshForWrapping(a),c=i.getBoundingClientRect(),u=l||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let d=0,p=0;if(c.width&&c.height){let{scaleX:b,scaleY:w}=Aye(i,c);(b>.005&&Math.abs(this.scaleX-b)>.005||w>.005&&Math.abs(this.scaleY-w)>.005)&&(this.scaleX=b,this.scaleY=w,d|=8,l=u=!0)}let f=(parseInt(s.paddingTop)||0)*this.scaleY,h=(parseInt(s.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=h)&&(this.paddingTop=f,this.paddingBottom=h,d|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(o.lineWrapping&&(u=!0),this.editorWidth=t.scrollDOM.clientWidth,d|=8);let m=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=m&&(this.scrollAnchorHeight=-1,this.scrollTop=m),this.scrolledToBottom=Lye(t.scrollDOM);let g=(this.printing?Jgt:Qgt)(i,this.paddingTop),y=g.top-this.pixelViewport.top,v=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let _=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(_!=this.inView&&(this.inView=_,_&&(u=!0)),!this.inView&&!this.scrollTarget)return 0;let E=c.width;if((this.contentDOMWidth!=E||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=t.scrollDOM.clientHeight,d|=8),u){let b=t.docView.measureVisibleLineHeights(this.viewport);if(o.mustRefreshForHeights(b)&&(l=!0),l||o.lineWrapping&&Math.abs(E-this.contentDOMWidth)>o.charWidth){let{lineHeight:w,charWidth:C,textHeight:P}=t.docView.measureTextSize();l=w>0&&o.refresh(a,w,C,P,E/C,b),l&&(t.docView.minWidth=0,d|=8)}y>0&&v>0?p=Math.max(y,v):y<0&&v<0&&(p=Math.min(y,v)),UV();for(let w of this.viewports){let C=w.from==this.viewport.from?b:t.docView.measureVisibleLineHeights(w);this.heightMap=(l?Pa.empty().applyChanges(this.stateDeco,qr.empty,this.heightOracle,[new yc(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(o,0,l,new Qve(w.from,C))}c1&&(d|=2)}let x=!this.viewportIsAppropriate(this.viewport,p)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(2&d&&(d|=this.updateScaler()),this.viewport=this.getViewport(p,this.scrollTarget),d|=this.updateForViewport()),(2&d||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,t)),d|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),d}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,i){let s=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),o=this.heightMap,a=this.heightOracle,{visibleTop:l,visibleBottom:c}=this,u=new _P(o.lineAt(l-1e3*s,$i.ByHeight,a,0,0).from,o.lineAt(c+1e3*(1-s),$i.ByHeight,a,0,0).to);if(i){let{head:d}=i.range;if(d<u.from||d>u.to){let h,p=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=o.lineAt(d,$i.ByPos,a,0,0);h="center"==i.y?(f.top+f.bottom)/2-p/2:"start"==i.y||"nearest"==i.y&&d<u.from?f.top:f.bottom-p,u=new _P(o.lineAt(h-500,$i.ByHeight,a,0,0).from,o.lineAt(h+p+500,$i.ByHeight,a,0,0).to)}}return u}mapViewport(t,i){let s=i.mapPos(t.from,-1),o=i.mapPos(t.to,1);return new _P(this.heightMap.lineAt(s,$i.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(o,$i.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:i},s=0){if(!this.inView)return!0;let{top:o}=this.heightMap.lineAt(t,$i.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(i,$i.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:c}=this;return(0==t||o<=l-Math.max(10,Math.min(-s,250)))&&(i==this.state.doc.length||a>=c+Math.max(10,Math.min(s,250)))&&o>l-2e3&&a<c+2e3}mapLineGaps(t,i){if(!t.length||i.empty)return t;let s=[];for(let o of t)i.touchesRange(o.from,o.to)||s.push(new WV(i.mapPos(o.from),i.mapPos(o.to),o.size));return s}ensureLineGaps(t,i){let s=this.heightOracle.lineWrapping,o=s?1e4:2e3,a=o>>1,l=o<<1;if(this.defaultTextDirection!=Mi.LTR&&!s)return[];let c=[],u=(p,f,h,m)=>{if(f-p<a)return;let g=this.state.selection.main,y=[g.from];g.empty||y.push(g.to);for(let _ of y)if(_>p&&_<f)return u(p,_-10,h,m),void u(_+10,f,h,m);let v=function n1t(n,t){for(let i of n)if(t(i))return i}(t,_=>_.from>=h.from&&_.to<=h.to&&Math.abs(_.from-p)<a&&Math.abs(_.to-f)<a&&!y.some(E=>_.from<E&&_.to>E));if(!v){if(f<h.to&&i&&s&&i.visibleRanges.some(_=>_.from<=f&&_.to>=f)){let _=i.moveToLineBoundary(lt.cursor(f),!1,!0).head;_>p&&(f=_)}v=new WV(p,f,this.gapSize(h,p,f,m))}c.push(v)},d=p=>{if(p.length<l||p.type!=sl.Text)return;let f=function t1t(n,t,i){let s=[],o=n,a=0;return ls.spans(i,n,t,{span(){},point(l,c){l>o&&(s.push({from:o,to:l}),a+=l-o),o=c}},20),o<t&&(s.push({from:o,to:t}),a+=t-o),{total:a,ranges:s}}(p.from,p.to,this.stateDeco);if(f.total<l)return;let m,g,h=this.scrollTarget?this.scrollTarget.range.head:null;if(s){let v,_,y=o/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=h){let E=wP(f,h),x=((this.visibleBottom-this.visibleTop)/2+y)/p.height;v=E-x,_=E+x}else v=(this.visibleTop-p.top-y)/p.height,_=(this.visibleBottom-p.top+y)/p.height;m=EP(f,v),g=EP(f,_)}else{let _,E,y=f.total*this.heightOracle.charWidth,v=o*this.heightOracle.charWidth;if(null!=h){let x=wP(f,h),b=((this.pixelViewport.right-this.pixelViewport.left)/2+v)/y;_=x-b,E=x+b}else _=(this.pixelViewport.left-v)/y,E=(this.pixelViewport.right+v)/y;m=EP(f,_),g=EP(f,E)}m>p.from&&u(p.from,m,p,f),g<p.to&&u(g,p.to,p,f)};for(let p of this.viewportLines)Array.isArray(p.type)?p.type.forEach(d):d(p);return c}gapSize(t,i,s,o){let a=wP(o,s)-wP(o,i);return this.heightOracle.lineWrapping?t.height*a:o.total*this.heightOracle.charWidth*a}updateLineGaps(t){WV.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=bn.set(t.map(i=>i.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];ls.spans(t,this.viewport.from,this.viewport.to,{span(o,a){i.push({from:o,to:a})},point(){}},20);let s=i.length!=this.visibleRanges.length||this.visibleRanges.some((o,a)=>o.from!=i[a].from||o.to!=i[a].to);return this.visibleRanges=i,s?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(i=>i.from<=t&&i.to>=t)||xx(this.heightMap.lineAt(t,$i.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(i=>i.top<=t&&i.bottom>=t)||xx(this.heightMap.lineAt(this.scaler.fromDOM(t),$i.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let i=this.lineBlockAtHeight(t+8);return i.from>=this.viewport.from||this.viewportLines[0].top-t>200?i:this.viewportLines[0]}elementAtHeight(t){return xx(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class _P{constructor(t,i){this.from=t,this.to=i}}function EP({total:n,ranges:t},i){if(i<=0)return t[0].from;if(i>=1)return t[t.length-1].to;let s=Math.floor(n*i);for(let o=0;;o++){let{from:a,to:l}=t[o],c=l-a;if(s<=c)return a+s;s-=c}}function wP(n,t){let i=0;for(let{from:s,to:o}of n.ranges){if(t<=o){i+=t-s;break}i+=o-s}return i/n.total}const nbe={toDOM:n=>n,fromDOM:n=>n,scale:1,eq(n){return n==this}};class GV{constructor(t,i,s){let o=0,a=0,l=0;this.viewports=s.map(({from:c,to:u})=>{let d=i.lineAt(c,$i.ByPos,t,0,0).top,p=i.lineAt(u,$i.ByPos,t,0,0).bottom;return o+=p-d,{from:c,to:u,top:d,bottom:p,domTop:0,domBottom:0}}),this.scale=(7e6-o)/(i.height-o);for(let c of this.viewports)c.domTop=l+(c.top-a)*this.scale,l=c.domBottom=c.domTop+(c.bottom-c.top),a=c.bottom}toDOM(t){for(let i=0,s=0,o=0;;i++){let a=i<this.viewports.length?this.viewports[i]:null;if(!a||t<a.top)return o+(t-s)*this.scale;if(t<=a.bottom)return a.domTop+(t-a.top);s=a.bottom,o=a.domBottom}}fromDOM(t){for(let i=0,s=0,o=0;;i++){let a=i<this.viewports.length?this.viewports[i]:null;if(!a||t<a.domTop)return s+(t-o)/this.scale;if(t<=a.domBottom)return a.top+(t-a.domTop);s=a.bottom,o=a.domBottom}}eq(t){return t instanceof GV&&this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every((i,s)=>i.from==t.viewports[s].from&&i.to==t.viewports[s].to)}}function xx(n,t){if(1==t.scale)return n;let i=t.toDOM(n.top),s=t.toDOM(n.bottom);return new rp(n.from,n.length,i,s-i,Array.isArray(n._content)?n._content.map(o=>xx(o,t)):n._content)}const xP=rn.define({combine:n=>n.join(" ")}),KV=rn.define({combine:n=>n.indexOf(!0)>-1}),YV=P0.newName(),rbe=P0.newName(),ibe=P0.newName(),sbe={"&light":"."+rbe,"&dark":"."+ibe};function XV(n,t,i){return new P0(t,{finish:s=>/&/.test(s)?s.replace(/&\w*/,o=>{if("&"==o)return n;if(!i||!i[o])throw new RangeError(`Unsupported selector: ${o}`);return i[o]}):n+" "+s})}const r1t=XV("."+YV,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},sbe),i1t={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ZV=mn.ie&&mn.ie_version<=11;class s1t{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new Gmt,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(i=>{for(let s of i)this.queue.push(s);(mn.ie&&mn.ie_version<=11||mn.ios&&t.composing)&&i.some(s=>"childList"==s.type&&s.removedNodes.length||"characterData"==s.type&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&!1!==t.constructor.EDIT_CONTEXT&&!(mn.chrome&&mn.chrome_version<126)&&(this.editContext=new a1t(t),t.state.facet(I0)&&(t.contentDOM.editContext=this.editContext.editContext)),ZV&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver(()=>{var i;(null===(i=this.view.docView)||void 0===i?void 0:i.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(i=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),i.length>0&&i[i.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(i=>{i.length>0&&i[i.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(t){("change"==t.type||!t.type)&&!t.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((i,s)=>i!=t[s]))){this.gapIntersection.disconnect();for(let i of t)this.gapIntersection.observe(i);this.gaps=t}}onSelectionChange(t){let i=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:s}=this,o=this.selectionRange;if(s.state.facet(I0)?s.root.activeElement!=this.dom:!oP(this.dom,o))return;let a=o.anchorNode&&s.docView.nearest(o.anchorNode);a&&a.ignoreEvent(t)?i||(this.selectionChanged=!1):(mn.ie&&mn.ie_version<=11||mn.android&&mn.chrome)&&!s.state.selection.main.empty&&o.focusNode&&hx(o.focusNode,o.focusOffset,o.anchorNode,o.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,i=fx(t.root);if(!i)return!1;let s=mn.safari&&11==t.root.nodeType&&t.root.activeElement==this.dom&&function o1t(n,t){if(t.getComposedRanges){let o=t.getComposedRanges(n.root)[0];if(o)return abe(n,o)}let i=null;function s(o){o.preventDefault(),o.stopImmediatePropagation(),i=o.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",s,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",s,!0),i?abe(n,i):null}(this.view,i)||i;if(!s||this.selectionRange.eq(s))return!1;let o=oP(this.dom,s);return o&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&function Ymt(n,t){let i=t.focusNode,s=t.focusOffset;if(!i||t.anchorNode!=i||t.anchorOffset!=s)return!1;for(s=Math.min(s,ep(i));;)if(s){if(1!=i.nodeType)return!1;let o=i.childNodes[s-1];"false"==o.contentEditable?s--:(i=o,s=ep(i))}else{if(i==n)return!0;s=o1(i),i=i.parentNode}}(this.dom,s)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(s),o&&(this.selectionChanged=!0),!0)}setSelectionRange(t,i){this.selectionRange.set(t.node,t.offset,i.node,i.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,i=null;for(let s=this.dom;s;)if(1==s.nodeType)!i&&t<this.scrollTargets.length&&this.scrollTargets[t]==s?t++:i||(i=this.scrollTargets.slice(0,t)),i&&i.push(s),s=s.assignedSlot||s.parentNode;else{if(11!=s.nodeType)break;s=s.host}if(t<this.scrollTargets.length&&!i&&(i=this.scrollTargets.slice(0,t)),i){for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);for(let s of this.scrollTargets=i)s.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,i1t),ZV&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ZV&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,i){var s;this.delayedAndroidKey||(this.flushingAndroidKey=this.view.win.requestAnimationFrame(()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&zb(this.dom,a.key,a.keyCode))})),(!this.delayedAndroidKey||"Enter"==t)&&(this.delayedAndroidKey={key:t,keyCode:i,force:this.lastChange<Date.now()-50||!(null===(s=this.delayedAndroidKey)||void 0===s||!s.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let i=-1,s=-1,o=!1;for(let a of t){let l=this.readMutation(a);l&&(l.typeOver&&(o=!0),-1==i?({from:i,to:s}=l):(i=Math.min(l.from,i),s=Math.max(l.to,s)))}return{from:i,to:s,typeOver:o}}readChange(){let{from:t,to:i,typeOver:s}=this.processRecords(),o=this.selectionChanged&&oP(this.dom,this.selectionRange);if(t<0&&!o)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new Ogt(this.view,t,i,s);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let i=this.readChange();if(!i)return this.view.requestMeasure(),!1;let s=this.view.state,o=Ave(this.view,i);return this.view.state==s&&(i.domChanged||i.newSel&&!i.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),o}readMutation(t){let i=this.view.docView.nearest(t.target);if(!i||i.ignoreMutation(t))return null;if(i.markDirty("attributes"==t.type),"attributes"==t.type&&(i.flags|=4),"childList"==t.type){let s=obe(i,t.previousSibling||t.target.previousSibling,-1),o=obe(i,t.nextSibling||t.target.nextSibling,1);return{from:s?i.posAfter(s):i.posAtStart,to:o?i.posBefore(o):i.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:i.posAtStart,to:i.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(I0)!=t.state.facet(I0)&&(t.view.contentDOM.editContext=t.state.facet(I0)?this.editContext.editContext:null))}destroy(){var t,i,s;this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(i=this.gapIntersection)||void 0===i||i.disconnect(),null===(s=this.resizeScroll)||void 0===s||s.disconnect();for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function obe(n,t,i){for(;t;){let s=ki.get(t);if(s&&s.parent==n)return s;let o=t.parentNode;t=o!=n.dom?o:i>0?t.nextSibling:t.previousSibling}return null}function abe(n,t){let i=t.startContainer,s=t.startOffset,o=t.endContainer,a=t.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor);return hx(l.node,l.offset,o,a)&&([i,s,o,a]=[o,a,i,s]),{anchorNode:i,anchorOffset:s,focusNode:o,focusOffset:a}}class a1t{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(t.state);let i=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=s=>{let{anchor:o}=t.state.selection.main,a={from:this.toEditorPos(s.updateRangeStart),to:this.toEditorPos(s.updateRangeEnd),insert:qr.of(s.text.split("\n"))};a.from==this.from&&o<this.from?a.from=o:a.to==this.to&&o>this.to&&(a.to=o),(a.from!=a.to||a.insert.length)&&(this.pendingContextChange=a,t.state.readOnly||zV(t,a,lt.single(this.toEditorPos(s.selectionStart),this.toEditorPos(s.selectionEnd))),this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state)))},this.handlers.characterboundsupdate=s=>{let o=[],a=null;for(let l=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);l<c;l++){let u=t.coordsForChar(l);a=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||a||new DOMRect,o.push(a)}i.updateCharacterBounds(s.rangeStart,o)},this.handlers.textformatupdate=s=>{let o=[];for(let a of s.getTextFormats()){let l=a.underlineStyle,c=a.underlineThickness;"None"!=l&&"None"!=c&&o.push(bn.mark({attributes:{style:`text-decoration: underline ${"Dashed"==l?"dashed ":"Squiggle"==l?"wavy ":""}${"Thin"==c?1:2}px`}}).range(this.toEditorPos(a.rangeStart),this.toEditorPos(a.rangeEnd)))}t.dispatch({effects:gve.of(bn.set(o))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{t.inputState.composing=-1,t.inputState.compositionFirstChange=null};for(let s in this.handlers)i.addEventListener(s,this.handlers[s]);this.measureReq={read:s=>{this.editContext.updateControlBounds(s.contentDOM.getBoundingClientRect());let o=fx(s.root);o&&o.rangeCount&&this.editContext.updateSelectionBounds(o.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let i=0,s=!1,o=this.pendingContextChange;return t.changes.iterChanges((a,l,c,u,d)=>{if(s)return;let p=d.length-(l-a);if(o&&l>=o.to){if(o.from==a&&o.to==l&&o.insert.eq(d))return o=this.pendingContextChange=null,i+=p,void(this.to+=p);o=null,this.revertPending(t.state)}if(a+=i,(l+=i)<=this.from)this.from+=p,this.to+=p;else if(a<this.to){if(a<this.from||l>this.to||this.to-this.from+d.length>3e4)return void(s=!0);this.editContext.updateText(this.toContextPos(a),this.toContextPos(l),d.toString()),this.to+=p}i+=p}),o&&!s&&this.revertPending(t.state),!s}update(t){let i=this.pendingContextChange;this.applyEdits(t)&&this.rangeIsValid(t.state)?(t.docChanged||t.selectionSet||i)&&this.setSelection(t.state):(this.pendingContextChange=null,this.resetRange(t.state),this.editContext.updateText(0,this.editContext.text.length,t.state.doc.sliceString(this.from,this.to)),this.setSelection(t.state)),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:i}=t.selection.main;this.from=Math.max(0,i-1e4),this.to=Math.min(t.doc.length,i+1e4)}revertPending(t){let i=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(i.from),this.toContextPos(i.from+i.insert.length),t.doc.sliceString(i.from,i.to))}setSelection(t){let{main:i}=t.selection,s=this.toContextPos(Math.max(this.from,Math.min(this.to,i.anchor))),o=this.toContextPos(i.head);(this.editContext.selectionStart!=s||this.editContext.selectionEnd!=o)&&this.editContext.updateSelection(s,o)}rangeIsValid(t){let{head:i}=t.selection.main;return!(this.from>0&&i-this.from<500||this.to<t.doc.length&&this.to-i<500||this.to-this.from>3e4)}toEditorPos(t){return t+this.from}toContextPos(t){return t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}let ln=(()=>{class n{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(i={}){var s;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),i.parent&&i.parent.appendChild(this.dom);let{dispatch:o}=i;this.dispatchTransactions=i.dispatchTransactions||o&&(a=>a.forEach(l=>o(l,this)))||(a=>this.update(a)),this.dispatch=this.dispatch.bind(this),this._root=i.root||function Kmt(n){for(;n;){if(n&&(9==n.nodeType||11==n.nodeType&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}(i.parent)||document,this.viewState=new tbe(i.state||il.create(i)),i.scrollTo&&i.scrollTo.is(dP)&&(this.viewState.scrollTarget=i.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(bx).map(a=>new LV(a));for(let a of this.plugins)a.update(this);this.observer=new s1t(this),this.inputState=new Mgt(this),this.inputState.ensureHandlers(this.plugins),this.docView=new xve(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),null!==(s=document.fonts)&&void 0!==s&&s.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...i){let s=1==i.length&&i[0]instanceof Ju?i:1==i.length&&Array.isArray(i[0])?i[0]:[this.state.update(...i)];this.dispatchTransactions(s,this)}update(i){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let a,s=!1,o=!1,l=this.state;for(let m of i){if(m.startState!=l)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");l=m.state}if(this.destroyed)return void(this.viewState.state=l);let c=this.hasFocus,u=0,d=null;i.some(m=>m.annotation(Wve))?(this.inputState.notifiedFocused=c,u=1):c!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=c,d=Gve(l,c),d||(u=1));let p=this.observer.delayedAndroidKey,f=null;if(p?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(l.doc)||!this.state.selection.eq(l.selection))&&(f=null)):this.observer.clear(),l.facet(il.phrases)!=this.state.facet(il.phrases))return this.setState(l);a=fP.create(this,l,i),a.flags|=u;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let m of i){if(h&&(h=h.map(m.changes)),m.scrollIntoView){let{main:g}=m.state.selection;h=new Ub(g.empty?g:lt.cursor(g.head,g.head>g.anchor?-1:1))}for(let g of m.effects)g.is(dP)&&(h=g.value.clip(this.state))}this.viewState.update(a,h),this.bidiCache=CP.update(this.bidiCache,a.changes),a.empty||(this.updatePlugins(a),this.inputState.update(a)),s=this.docView.update(a),this.state.facet(Ex)!=this.styleModules&&this.mountStyles(),o=this.updateAttrs(),this.showAnnouncements(i),this.docView.updateSelection(s,i.some(m=>m.isUserEvent("select.pointer")))}finally{this.updateState=0}if(a.startState.facet(xP)!=a.state.facet(xP)&&(this.viewState.mustMeasureContent=!0),(s||o||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),s&&this.docViewUpdate(),!a.empty)for(let m of this.state.facet(IV))try{m(a)}catch(g){ol(this.state,g,"update listener")}(d||f)&&Promise.resolve().then(()=>{d&&this.state==d.startState&&this.dispatch(d),f&&!Ave(this,f)&&p.force&&zb(this.contentDOM,p.key,p.keyCode)})}setState(i){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=i);this.updateState=2;let s=this.hasFocus;try{for(let o of this.plugins)o.destroy(this);this.viewState=new tbe(i),this.plugins=i.facet(bx).map(o=>new LV(o)),this.pluginMap.clear();for(let o of this.plugins)o.update(this);this.docView.destroy(),this.docView=new xve(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}s&&this.focus(),this.requestMeasure()}updatePlugins(i){let s=i.startState.facet(bx),o=i.state.facet(bx);if(s!=o){let a=[];for(let l of o){let c=s.indexOf(l);if(c<0)a.push(new LV(l));else{let u=this.plugins[c];u.mustUpdate=i,a.push(u)}}for(let l of this.plugins)l.mustUpdate!=i&&l.destroy(this);this.plugins=a,this.pluginMap.clear()}else for(let a of this.plugins)a.mustUpdate=i;for(let a=0;a<this.plugins.length;a++)this.plugins[a].update(this);s!=o&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let i of this.plugins){let s=i.value;if(s&&s.docViewUpdate)try{s.docViewUpdate(this)}catch(o){ol(this.state,o,"doc view update listener")}}}measure(i=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,i&&this.observer.forceFlush();let s=null,o=this.scrollDOM,a=o.scrollTop*this.scaleY,{scrollAnchorPos:l,scrollAnchorHeight:c}=this.viewState;Math.abs(a-this.viewState.scrollTop)>1&&(c=-1),this.viewState.scrollAnchorHeight=-1;try{for(let u=0;;u++){if(c<0)if(Lye(o))l=-1,c=this.viewState.heightMap.height;else{let g=this.viewState.scrollAnchorAt(a);l=g.from,c=g.top}this.updateState=1;let d=this.viewState.measure(this);if(!d&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(u>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let p=[];4&d||([this.measureRequests,p]=[p,this.measureRequests]);let f=p.map(g=>{try{return g.read(this)}catch(y){return ol(this.state,y),lbe}}),h=fP.create(this,this.state,[]),m=!1;h.flags|=d,s?s.flags|=d:s=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),m=this.docView.update(h),m&&this.docViewUpdate());for(let g=0;g<p.length;g++)if(f[g]!=lbe)try{let y=p[g];y.write&&y.write(f[g],this)}catch(y){ol(this.state,y)}if(m&&this.docView.updateSelection(!0),!h.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,c=-1;continue}{let y=(l<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(l).top)-c;if(y>1||y<-1){a+=y,o.scrollTop=a/this.scaleY,c=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(s&&!s.empty)for(let u of this.state.facet(IV))u(s)}get themeClasses(){return YV+" "+(this.state.facet(KV)?ibe:rbe)+" "+this.state.facet(xP)}updateAttrs(){let i=cbe(this,yve,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),s={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(I0)?"true":"false",class:"cm-content",style:`${mn.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(s["aria-readonly"]="true"),cbe(this,pP,s);let o=this.observer.ignore(()=>{let a=OV(this.contentDOM,this.contentAttrs,s),l=OV(this.dom,this.editorAttrs,i);return a||l});return this.editorAttrs=i,this.contentAttrs=s,o}showAnnouncements(i){let s=!0;for(let o of i)for(let a of o.effects)a.is(n.announce)&&(s&&(this.announceDOM.textContent=""),s=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=a.value)}mountStyles(){this.styleModules=this.state.facet(Ex);let i=this.state.facet(n.cspNonce);P0.mount(this.root,this.styleModules.concat(r1t).reverse(),i?{nonce:i}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(i){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),i){if(this.measureRequests.indexOf(i)>-1)return;if(null!=i.key)for(let s=0;s<this.measureRequests.length;s++)if(this.measureRequests[s].key===i.key)return void(this.measureRequests[s]=i);this.measureRequests.push(i)}}plugin(i){let s=this.pluginMap.get(i);return(void 0===s||s&&s.spec!=i)&&this.pluginMap.set(i,s=this.plugins.find(o=>o.spec==i)||null),s&&s.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(i){return this.readMeasured(),this.viewState.elementAtHeight(i)}lineBlockAtHeight(i){return this.readMeasured(),this.viewState.lineBlockAtHeight(i)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(i){return this.viewState.lineBlockAt(i)}get contentHeight(){return this.viewState.contentHeight}moveByChar(i,s,o){return $V(this,i,kve(this,i,s,o))}moveByGroup(i,s){return $V(this,i,kve(this,i,s,o=>function wgt(n,t,i){let s=n.state.charCategorizer(t),o=s(i);return a=>{let l=s(a);return o==as.Space&&(o=l),o==l}}(this,i.head,o)))}visualLineSide(i,s){let o=this.bidiSpans(i),a=this.textDirectionAt(i.from),l=o[s?o.length-1:0];return lt.cursor(l.side(s,a)+i.from,l.forward(!s,a)?1:-1)}moveToLineBoundary(i,s,o=!0){return function Egt(n,t,i,s){let o=VV(n,t.head),a=s&&o.type==sl.Text&&(n.lineWrapping||o.widgetLineBreaks)?n.coordsAtPos(t.assoc<0&&t.head>o.from?t.head-1:t.head):null;if(a){let l=n.dom.getBoundingClientRect(),c=n.textDirectionAt(o.from),u=n.posAtCoords({x:i==(c==Mi.LTR)?l.right-1:l.left+1,y:(a.top+a.bottom)/2});if(null!=u)return lt.cursor(u,i?-1:1)}return lt.cursor(i?o.to:o.from,i?-1:1)}(this,i,s,o)}moveVertically(i,s,o){return $V(this,i,function xgt(n,t,i,s){let o=t.head,a=i?1:-1;if(o==(i?n.state.doc.length:0))return lt.cursor(o,t.assoc);let c,l=t.goalColumn,u=n.contentDOM.getBoundingClientRect(),d=n.coordsAtPos(o,t.assoc||-1),p=n.documentTop;if(d)null==l&&(l=d.left-u.left),c=a<0?d.top:d.bottom;else{let m=n.viewState.lineBlockAt(o);null==l&&(l=Math.min(u.right-u.left,n.defaultCharacterWidth*(o-m.from))),c=(a<0?m.top:m.bottom)+p}let f=u.left+l,h=s??n.viewState.heightOracle.textHeight>>1;for(let m=0;;m+=10){let g=c+(h+m)*a,y=Pve(n,{x:f,y:g},!1,a);if(g<u.top||g>u.bottom||(a<0?y<o:y>o)){let v=n.docView.coordsForChar(y);return lt.cursor(y,!v||g<v.top?-1:1,void 0,l)}}}(this,i,s,o))}domAtPos(i){return this.docView.domAtPos(i)}posAtDOM(i,s=0){return this.docView.posFromDOM(i,s)}posAtCoords(i,s=!0){return this.readMeasured(),Pve(this,i,s)}coordsAtPos(i,s=1){this.readMeasured();let o=this.docView.coordsAt(i,s);if(!o||o.left==o.right)return o;let a=this.state.doc.lineAt(i),l=this.bidiSpans(a);return mx(o,l[A0.find(l,i-a.from,-1,s)].dir==Mi.LTR==s>0)}coordsForChar(i){return this.readMeasured(),this.docView.coordsForChar(i)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(i){return!this.state.facet(fve)||i<this.viewport.from||i>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(i))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(i){if(i.length>l1t)return ive(i.length);let o,s=this.textDirectionAt(i.from);for(let l of this.bidiCache)if(l.from==i.from&&l.dir==s&&(l.fresh||nve(l.isolates,o=_ve(this,i))))return l.order;o||(o=_ve(this,i));let a=function rve(n,t,i){if(!n)return[new A0(0,0,t==DV?1:0)];if(t==l1&&!i.length&&!rgt.test(n))return ive(n.length);if(i.length)for(;n.length>Ai.length;)Ai[Ai.length]=256;let s=[],o=t==l1?0:1;return AV(n,o,o,i,0,n.length,s),s}(i.text,s,o);return this.bidiCache.push(new CP(i.from,i.to,s,o,!0,a)),a}get hasFocus(){var i;return(this.dom.ownerDocument.hasFocus()||mn.safari&&(null===(i=this.inputState)||void 0===i?void 0:i.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Iye(this.contentDOM),this.docView.updateSelection()})}setRoot(i){this._root!=i&&(this._root=i,this.observer.setWindow((9==i.nodeType?i:i.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let i of this.plugins)i.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(i,s={}){return dP.of(new Ub("number"==typeof i?lt.cursor(i):i,s.y,s.x,s.yMargin,s.xMargin))}scrollSnapshot(){let{scrollTop:i,scrollLeft:s}=this.scrollDOM,o=this.viewState.scrollAnchorAt(i);return dP.of(new Ub(lt.cursor(o.from),"start","start",o.top-i,s,!0))}setTabFocusMode(i){null==i?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof i?this.inputState.tabFocusMode=i?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+i)}static domEventHandlers(i){return cs.define(()=>({}),{eventHandlers:i})}static domEventObservers(i){return cs.define(()=>({}),{eventObservers:i})}static theme(i,s){let o=P0.newName(),a=[xP.of(o),Ex.of(XV(`.${o}`,i))];return s&&s.dark&&a.push(KV.of(!0)),a}static baseTheme(i){return Af.lowest(Ex.of(XV("."+YV,i,sbe)))}static findFromDOM(i){var s;let o=i.querySelector(".cm-content"),a=o&&ki.get(o)||ki.get(i);return(null===(s=a?.rootView)||void 0===s?void 0:s.view)||null}}return n.styleModule=Ex,n.inputHandler=dve,n.clipboardInputFilter=RV,n.clipboardOutputFilter=NV,n.scrollHandler=mve,n.focusChangeEffect=pve,n.perLineTextDirection=fve,n.exceptionSink=uve,n.updateListener=IV,n.editable=I0,n.mouseSelectionStyle=cve,n.dragMovesSelection=lve,n.clickAddsSelectionRange=ave,n.decorations=_x,n.outerDecorations=vve,n.atomicRanges=FV,n.bidiIsolatedRanges=bve,n.scrollMargins=Eve,n.darkTheme=KV,n.cspNonce=rn.define({combine:t=>t.length?t[0]:""}),n.contentAttributes=pP,n.editorAttributes=yve,n.lineWrapping=n.contentAttributes.of({class:"cm-lineWrapping"}),n.announce=_r.define(),n})();const l1t=4096,lbe={};class CP{constructor(t,i,s,o,a,l){this.from=t,this.to=i,this.dir=s,this.isolates=o,this.fresh=a,this.order=l}static update(t,i){if(i.empty&&!t.some(a=>a.fresh))return t;let s=[],o=t.length?t[t.length-1].dir:Mi.LTR;for(let a=Math.max(0,t.length-10);a<t.length;a++){let l=t[a];l.dir==o&&!i.touchesRange(l.from,l.to)&&s.push(new CP(i.mapPos(l.from,1),i.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return s}}function cbe(n,t,i){for(let s=n.state.facet(t),o=s.length-1;o>=0;o--){let a=s[o],l="function"==typeof a?a(n):a;l&&SV(l,i)}return i}const c1t=mn.mac?"mac":mn.windows?"win":mn.linux?"linux":"key";function SP(n,t,i){return t.altKey&&(n="Alt-"+n),t.ctrlKey&&(n="Ctrl-"+n),t.metaKey&&(n="Meta-"+n),!1!==i&&t.shiftKey&&(n="Shift-"+n),n}const qb=rn.define({enables:Af.default(ln.domEventHandlers({keydown:(n,t)=>pbe(dbe(t.state),n,t,"editor")}))}),ube=new WeakMap;function dbe(n){let t=n.facet(qb),i=ube.get(t);return i||ube.set(t,i=function h1t(n,t=c1t){let i=Object.create(null),s=Object.create(null),o=(l,c)=>{let u=s[l];if(null==u)s[l]=c;else if(u!=c)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},a=(l,c,u,d,p)=>{var f,h;let m=i[l]||(i[l]=Object.create(null)),g=c.split(/ (?!$)/).map(_=>function u1t(n,t){const i=n.split(/-(?!$)/);let o,a,l,c,s=i[i.length-1];"Space"==s&&(s=" ");for(let u=0;u<i.length-1;++u){const d=i[u];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))o=!0;else if(/^(c|ctrl|control)$/i.test(d))a=!0;else if(/^s(hift)?$/i.test(d))l=!0;else{if(!/^mod$/i.test(d))throw new Error("Unrecognized modifier name: "+d);"mac"==t?c=!0:a=!0}}return o&&(s="Alt-"+s),a&&(s="Ctrl-"+s),c&&(s="Meta-"+s),l&&(s="Shift-"+s),s}(_,t));for(let _=1;_<g.length;_++){let E=g.slice(0,_).join(" ");o(E,!0),m[E]||(m[E]={preventDefault:!0,stopPropagation:!1,run:[x=>{let b=R0={view:x,prefix:E,scope:l};return setTimeout(()=>{R0==b&&(R0=null)},f1t),!0}]})}let y=g.join(" ");o(y,!1);let v=m[y]||(m[y]={preventDefault:!1,stopPropagation:!1,run:(null===(h=null===(f=m._any)||void 0===f?void 0:f.run)||void 0===h?void 0:h.slice())||[]});u&&v.run.push(u),d&&(v.preventDefault=!0),p&&(v.stopPropagation=!0)};for(let l of n){let c=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let d of c){let p=i[d]||(i[d]=Object.create(null));p._any||(p._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:f}=l;for(let h in p)p[h].run.push(m=>f(m,QV))}let u=l[t]||l.key;if(u)for(let d of c)a(d,u,l.run,l.preventDefault,l.stopPropagation),l.shift&&a(d,"Shift-"+u,l.shift,l.preventDefault,l.stopPropagation)}return i}(t.reduce((s,o)=>s.concat(o),[]))),i}let R0=null;const f1t=4e3;let QV=null;function pbe(n,t,i,s){QV=t;let o=function Hmt(n){var i=!($mt&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||zmt&&n.shiftKey&&n.key&&1==n.key.length||"Unidentified"==n.key)&&n.key||(n.shiftKey?px:D0)[n.keyCode]||n.key||"Unidentified";return"Esc"==i&&(i="Escape"),"Del"==i&&(i="Delete"),"Left"==i&&(i="ArrowLeft"),"Up"==i&&(i="ArrowUp"),"Right"==i&&(i="ArrowRight"),"Down"==i&&(i="ArrowDown"),i}(t),l=uu(Xo(o,0))==o.length&&" "!=o,c="",u=!1,d=!1,p=!1;R0&&R0.view==i&&R0.scope==s&&(c=R0.prefix+" ",Nve.indexOf(t.keyCode)<0&&(d=!0,R0=null));let g,y,f=new Set,h=v=>{if(v){for(let _ of v.run)if(!f.has(_)&&(f.add(_),_(i)))return v.stopPropagation&&(p=!0),!0;v.preventDefault&&(v.stopPropagation&&(p=!0),d=!0)}return!1},m=n[s];return m&&(h(m[c+SP(o,t,!l)])?u=!0:l&&(t.altKey||t.metaKey||t.ctrlKey)&&!(mn.windows&&t.ctrlKey&&t.altKey)&&(g=D0[t.keyCode])&&g!=o?(h(m[c+SP(g,t,!0)])||t.shiftKey&&(y=px[t.keyCode])!=o&&y!=g&&h(m[c+SP(y,t,!1)]))&&(u=!0):l&&t.shiftKey&&h(m[c+SP(o,t,!0)])&&(u=!0),!u&&h(m._any)&&(u=!0)),d&&(u=!0),u&&p&&t.stopPropagation(),QV=null,u}class Cx{constructor(t,i,s,o,a){this.className=t,this.left=i,this.top=s,this.width=o,this.height=a}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,i){return i.className==this.className&&(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",null!=this.width&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,i,s){if(s.empty){let o=t.coordsAtPos(s.head,s.assoc||1);if(!o)return[];let a=fbe(t);return[new Cx(i,o.left-a.left,o.top-a.top,null,o.bottom-o.top)]}return function m1t(n,t,i){if(i.to<=n.viewport.from||i.from>=n.viewport.to)return[];let s=Math.max(i.from,n.viewport.from),o=Math.min(i.to,n.viewport.to),a=n.textDirection==Mi.LTR,l=n.contentDOM,c=l.getBoundingClientRect(),u=fbe(n),d=l.querySelector(".cm-line"),p=d&&window.getComputedStyle(d),f=c.left+(p?parseInt(p.paddingLeft)+Math.min(0,parseInt(p.textIndent)):0),h=c.right-(p?parseInt(p.paddingRight):0),m=VV(n,s),g=VV(n,o),y=m.type==sl.Text?m:null,v=g.type==sl.Text?g:null;if(y&&(n.lineWrapping||m.widgetLineBreaks)&&(y=hbe(n,s,1,y)),v&&(n.lineWrapping||g.widgetLineBreaks)&&(v=hbe(n,o,-1,v)),y&&v&&y.from==v.from&&y.to==v.to)return E(x(i.from,i.to,y));{let w=y?x(i.from,null,y):b(m,!1),C=v?x(null,i.to,v):b(g,!0),P=[];return(y||m).to<(v||g).from-(y&&v?1:0)||m.widgetLineBreaks>1&&w.bottom+n.defaultLineHeight/2<C.top?P.push(_(f,w.bottom,h,C.top)):w.bottom<C.top&&n.elementAtHeight((w.bottom+C.top)/2).type==sl.Text&&(w.bottom=C.top=(w.bottom+C.top)/2),E(w).concat(P).concat(E(C))}function _(w,C,P,D){return new Cx(t,w-u.left,C-u.top-.01,P-w,D-C+.01)}function E({top:w,bottom:C,horizontal:P}){let D=[];for(let I=0;I<P.length;I+=2)D.push(_(P[I],w,P[I+1],C));return D}function x(w,C,P){let D=1e9,I=-1e9,k=[];function F(q,ue,H,ee,Q){let Ee=n.coordsAtPos(q,q==P.to?-2:2),Te=n.coordsAtPos(H,H==P.from?2:-2);!Ee||!Te||(D=Math.min(Ee.top,Te.top,D),I=Math.max(Ee.bottom,Te.bottom,I),Q==Mi.LTR?k.push(a&&ue?f:Ee.left,a&&ee?h:Te.right):k.push(!a&&ee?f:Te.left,!a&&ue?h:Ee.right))}let M=w??P.from,B=C??P.to;for(let q of n.visibleRanges)if(q.to>M&&q.from<B)for(let ue=Math.max(q.from,M),H=Math.min(q.to,B);;){let ee=n.state.doc.lineAt(ue);for(let Q of n.bidiSpans(ee)){let Ee=Q.from+ee.from,Te=Q.to+ee.from;if(Ee>=H)break;Te>ue&&F(Math.max(Ee,ue),null==w&&Ee<=M,Math.min(Te,H),null==C&&Te>=B,Q.dir)}if(ue=ee.to+1,ue>=H)break}return 0==k.length&&F(M,null==w,B,null==C,n.textDirection),{top:D,bottom:I,horizontal:k}}function b(w,C){let P=c.top+(C?w.top:w.bottom);return{top:P,bottom:P,horizontal:[]}}}(t,i,s)}}function fbe(n){let t=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Mi.LTR?t.left:t.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:t.top-n.scrollDOM.scrollTop*n.scaleY}}function hbe(n,t,i,s){let o=n.coordsAtPos(t,2*i);if(!o)return s;let a=n.dom.getBoundingClientRect(),l=(o.top+o.bottom)/2,c=n.posAtCoords({x:a.left+1,y:l}),u=n.posAtCoords({x:a.right-1,y:l});return null==c||null==u?s:{from:Math.max(s.from,Math.min(c,u)),to:Math.min(s.to,Math.max(c,u))}}class y1t{constructor(t,i){this.view=t,this.layer=i,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),i.above&&this.dom.classList.add("cm-layer-above"),i.class&&this.dom.classList.add(i.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),i.mount&&i.mount(this.dom,t)}update(t){t.startState.facet(OP)!=t.state.facet(OP)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){!1!==this.layer.updateOnDocViewUpdate&&t.requestMeasure(this.measureReq)}setOrder(t){let i=0,s=t.facet(OP);for(;i<s.length&&s[i]!=this.layer;)i++;this.dom.style.zIndex=String((this.layer.above?150:-1)-i)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:i}=this.view;(t!=this.scaleX||i!=this.scaleY)&&(this.scaleX=t,this.scaleY=i,this.dom.style.transform=`scale(${1/t}, ${1/i})`)}draw(t){if(t.length!=this.drawn.length||t.some((i,s)=>!function g1t(n,t){return n.constructor==t.constructor&&n.eq(t)}(i,this.drawn[s]))){let i=this.dom.firstChild,s=0;for(let o of t)o.update&&i&&o.constructor&&this.drawn[s].constructor&&o.update(i,this.drawn[s])?(i=i.nextSibling,s++):this.dom.insertBefore(o.draw(),i);for(;i;){let o=i.nextSibling;i.remove(),i=o}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const OP=rn.define();function mbe(n){return[cs.define(t=>new y1t(t,n)),OP.of(n)]}const gbe=!mn.ios,Wb=rn.define({combine:n=>ed(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,i)=>Math.min(t,i),drawRangeCursor:(t,i)=>t||i})});function ybe(n){return n.startState.facet(Wb)!=n.state.facet(Wb)}const b1t=mbe({above:!0,markers(n){let{state:t}=n,i=t.facet(Wb),s=[];for(let o of t.selection.ranges){let a=o==t.selection.main;if(o.empty?!a||gbe:i.drawRangeCursor){let l=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=o.empty?o:lt.cursor(o.head,o.head>o.anchor?-1:1);for(let u of Cx.forRange(n,l,c))s.push(u)}}return s},update(n,t){n.transactions.some(s=>s.selection)&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");let i=ybe(n);return i&&vbe(n.state,t),n.docChanged||n.selectionSet||i},mount(n,t){vbe(t.state,n)},class:"cm-cursorLayer"});function vbe(n,t){t.style.animationDuration=n.facet(Wb).cursorBlinkRate+"ms"}const _1t=mbe({above:!1,markers:n=>n.state.selection.ranges.map(t=>t.empty?[]:Cx.forRange(n,"cm-selectionBackground",t)).reduce((t,i)=>t.concat(i)),update:(n,t)=>n.docChanged||n.selectionSet||n.viewportChanged||ybe(n),class:"cm-selectionLayer"}),JV={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};gbe&&(JV[".cm-line"].caretColor=JV[".cm-content"].caretColor="transparent !important");const E1t=Af.highest(ln.theme(JV)),bbe=_r.define({map:(n,t)=>null==n?null:t.mapPos(n)}),Sx=ro.define({create:()=>null,update:(n,t)=>(null!=n&&(n=t.changes.mapPos(n)),t.effects.reduce((i,s)=>s.is(bbe)?s.value:i,n))}),w1t=cs.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var t;let i=n.state.field(Sx);null==i?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Sx)!=i||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,t=n.state.field(Sx),i=null!=t&&n.coordsAtPos(t);if(!i)return null;let s=n.scrollDOM.getBoundingClientRect();return{left:i.left-s.left+n.scrollDOM.scrollLeft*n.scaleX,top:i.top-s.top+n.scrollDOM.scrollTop*n.scaleY,height:i.bottom-i.top}}drawCursor(n){if(this.cursor){let{scaleX:t,scaleY:i}=this.view;n?(this.cursor.style.left=n.left/t+"px",this.cursor.style.top=n.top/i+"px",this.cursor.style.height=n.height/i+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Sx)!=n&&this.view.dispatch({effects:bbe.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function _be(n,t,i,s,o){t.lastIndex=0;for(let c,a=n.iterRange(i,s),l=i;!a.next().done;l+=a.value.length)if(!a.lineBreak)for(;c=t.exec(a.value);)o(l+c.index,c)}class e${constructor(t){const{regexp:i,decoration:s,decorate:o,boundary:a,maxLength:l=1e3}=t;if(!i.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=i,o)this.addMatch=(c,u,d,p)=>o(p,d,d+c[0].length,c,u);else if("function"==typeof s)this.addMatch=(c,u,d,p)=>{let f=s(c,u,d);f&&p(d,d+c[0].length,f)};else{if(!s)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(c,u,d,p)=>p(d,d+c[0].length,s)}this.boundary=a,this.maxLength=l}createDeco(t){let i=new Rf,s=i.add.bind(i);for(let{from:o,to:a}of function C1t(n,t){let i=n.visibleRanges;if(1==i.length&&i[0].from==n.viewport.from&&i[0].to==n.viewport.to)return i;let s=[];for(let{from:o,to:a}of i)o=Math.max(n.state.doc.lineAt(o).from,o-t),a=Math.min(n.state.doc.lineAt(a).to,a+t),s.length&&s[s.length-1].to>=o?s[s.length-1].to=a:s.push({from:o,to:a});return s}(t,this.maxLength))_be(t.state.doc,this.regexp,o,a,(l,c)=>this.addMatch(c,t,l,s));return i.finish()}updateDeco(t,i){let s=1e9,o=-1;return t.docChanged&&t.changes.iterChanges((a,l,c,u)=>{u>t.view.viewport.from&&c<t.view.viewport.to&&(s=Math.min(c,s),o=Math.max(u,o))}),t.viewportChanged||o-s>1e3?this.createDeco(t.view):o>-1?this.updateRange(t.view,i.map(t.changes),s,o):i}updateRange(t,i,s,o){for(let a of t.visibleRanges){let l=Math.max(a.from,s),c=Math.min(a.to,o);if(c>l){let u=t.state.doc.lineAt(l),d=u.to<c?t.state.doc.lineAt(c):u,p=Math.max(a.from,u.from),f=Math.min(a.to,d.to);if(this.boundary){for(;l>u.from;l--)if(this.boundary.test(u.text[l-1-u.from])){p=l;break}for(;c<d.to;c++)if(this.boundary.test(d.text[c-d.from])){f=c;break}}let m,h=[],g=(y,v,_)=>h.push(_.range(y,v));if(u==d)for(this.regexp.lastIndex=p-u.from;(m=this.regexp.exec(u.text))&&m.index<f-u.from;)this.addMatch(m,t,m.index+u.from,g);else _be(t.state.doc,this.regexp,p,f,(y,v)=>this.addMatch(v,t,y,g));i=i.update({filterFrom:p,filterTo:f,filter:(y,v)=>y<p||v>f,add:h})}}return i}}const t$=null!=/x/.unicode?"gu":"g",S1t=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]",t$),O1t={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let n$=null;const TP=rn.define({combine(n){let t=ed(n,{render:null,specialChars:S1t,addSpecialChars:null});return(t.replaceTabs=!function T1t(){var n;if(null==n$&&typeof document<"u"&&document.body){let t=document.body.style;n$=null!=(null!==(n=t.tabSize)&&void 0!==n?n:t.MozTabSize)}return n$||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,t$)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,t$)),t}});let Ebe=null;class A1t extends tp{constructor(t,i){super(),this.options=t,this.code=i}eq(t){return t.code==this.code}toDOM(t){let i=function M1t(n){return n>=32?"\u2022":10==n?"\u2424":String.fromCharCode(9216+n)}(this.code),s=t.state.phrase("Control character")+" "+(O1t[this.code]||"0x"+this.code.toString(16)),o=this.options.render&&this.options.render(this.code,s,i);if(o)return o;let a=document.createElement("span");return a.textContent=i,a.title=s,a.setAttribute("aria-label",s),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class I1t extends tp{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}const N1t=bn.line({class:"cm-activeLine"}),L1t=cs.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let t=-1,i=[];for(let s of n.state.selection.ranges){let o=n.lineBlockAt(s.head);o.from>t&&(i.push(N1t.range(o.from)),t=o.from)}return bn.set(i)}},{decorations:n=>n.decorations});class F1t extends tp{constructor(t){super(),this.content=t}toDOM(t){let i=document.createElement("span");return i.className="cm-placeholder",i.style.pointerEvents="none",i.appendChild("string"==typeof this.content?document.createTextNode(this.content):"function"==typeof this.content?this.content(t):this.content.cloneNode(!0)),"string"==typeof this.content?i.setAttribute("aria-label","placeholder "+this.content):i.setAttribute("aria-hidden","true"),i}coordsAt(t){let i=t.firstChild?Vb(t.firstChild):[];if(!i.length)return null;let s=window.getComputedStyle(t.parentNode),o=mx(i[0],"rtl"!=s.direction),a=parseInt(s.lineHeight);return o.bottom-o.top>1.5*a?{left:o.left,right:o.right,top:o.top,bottom:o.top+a}:o}ignoreEvent(){return!1}}function xbe(n){return cs.fromClass(class{constructor(t){this.view=t,this.placeholder=n?bn.set([bn.widget({widget:new F1t(n),side:1}).range(0)]):bn.none}get decorations(){return this.view.state.doc.length?bn.none:this.placeholder}},{decorations:t=>t.decorations})}function Cbe(n,t){let i=n.posAtCoords({x:t.clientX,y:t.clientY},!1),s=n.state.doc.lineAt(i),o=i-s.from,a=o>2e3?-1:o==s.length?function j1t(n,t){let i=n.coordsAtPos(n.viewport.from);return i?Math.round(Math.abs((i.left-t)/n.defaultCharacterWidth)):-1}(n,t.clientX):jb(s.text,n.state.tabSize,i-s.from);return{line:s.number,col:a,off:o}}const z1t={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},H1t={style:"cursor: crosshair"},Ox="-10000px";class Sbe{constructor(t,i,s,o){this.facet=i,this.createTooltipView=s,this.removeTooltipView=o,this.input=t.state.facet(i),this.tooltips=this.input.filter(l=>l);let a=null;this.tooltipViews=this.tooltips.map(l=>a=s(l,a))}update(t,i){var s;let o=t.state.facet(this.facet),a=o.filter(u=>u);if(o===this.input){for(let u of this.tooltipViews)u.update&&u.update(t);return!1}let l=[],c=i?[]:null;for(let u=0;u<a.length;u++){let d=a[u],p=-1;if(d){for(let f=0;f<this.tooltips.length;f++){let h=this.tooltips[f];h&&h.create==d.create&&(p=f)}if(p<0)l[u]=this.createTooltipView(d,u?l[u-1]:null),c&&(c[u]=!!d.above);else{let f=l[u]=this.tooltipViews[p];c&&(c[u]=i[p]),f.update&&f.update(t)}}}for(let u of this.tooltipViews)l.indexOf(u)<0&&(this.removeTooltipView(u),null===(s=u.destroy)||void 0===s||s.call(u));return i&&(c.forEach((u,d)=>i[d]=u),i.length=c.length),this.input=o,this.tooltips=a,this.tooltipViews=l,!0}}function Obe(n={}){return PP.of(n)}function q1t(n){let{win:t}=n;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}const PP=rn.define({combine:n=>{var t,i,s;return{position:mn.ios?"absolute":(null===(t=n.find(o=>o.position))||void 0===t?void 0:t.position)||"fixed",parent:(null===(i=n.find(o=>o.parent))||void 0===i?void 0:i.parent)||null,tooltipSpace:(null===(s=n.find(o=>o.tooltipSpace))||void 0===s?void 0:s.tooltipSpace)||q1t}}}),Tbe=new WeakMap,DP=cs.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=n.state.facet(PP);this.position=t.position,this.parent=t.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new Sbe(n,kP,(i,s)=>this.createTooltip(i,s),i=>{this.resizeObserver&&this.resizeObserver.unobserve(i.dom),i.dom.remove()}),this.above=this.manager.tooltips.map(i=>!!i.above),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(i=>{Date.now()>this.lastTransaction-50&&i.length>0&&i[i.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(n,this.above);t&&this.observeIntersection();let i=t||n.geometryChanged,s=n.state.facet(PP);if(s.position!=this.position&&!this.madeAbsolute){this.position=s.position;for(let o of this.manager.tooltipViews)o.dom.style.position=this.position;i=!0}if(s.parent!=this.parent){this.parent&&this.container.remove(),this.parent=s.parent,this.createContainer();for(let o of this.manager.tooltipViews)this.container.appendChild(o.dom);i=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);i&&this.maybeMeasure()}createTooltip(n,t){let i=n.create(this.view),s=t?t.dom:null;if(i.dom.classList.add("cm-tooltip"),n.arrow&&!i.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let o=document.createElement("div");o.className="cm-tooltip-arrow",i.dom.appendChild(o)}return i.dom.style.position=this.position,i.dom.style.top=Ox,i.dom.style.left="0px",this.container.insertBefore(i.dom,s),i.mount&&i.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(i.dom),i}destroy(){var n,t,i;this.view.win.removeEventListener("resize",this.measureSoon);for(let s of this.manager.tooltipViews)s.dom.remove(),null===(n=s.destroy)||void 0===n||n.call(s);this.parent&&this.container.remove(),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),null===(i=this.intersectionObserver)||void 0===i||i.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect(),t=1,i=1,s=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(mn.gecko)s=o.offsetParent!=this.container.ownerDocument.body;else if(o.style.top==Ox&&"0px"==o.style.left){let a=o.getBoundingClientRect();s=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}}if(s||"absolute"==this.position)if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(t=o.width/this.parent.offsetWidth,i=o.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:i}=this.view.viewState);return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((o,a)=>{let l=this.manager.tooltipViews[a];return l.getCoords?l.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(PP).tooltipSpace(this.view),scaleX:t,scaleY:i,makeAbsolute:s}}writeMeasure(n){var t;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let c of this.manager.tooltipViews)c.dom.style.position="absolute"}let{editor:i,space:s,scaleX:o,scaleY:a}=n,l=[];for(let c=0;c<this.manager.tooltips.length;c++){let u=this.manager.tooltips[c],d=this.manager.tooltipViews[c],{dom:p}=d,f=n.pos[c],h=n.size[c];if(!f||f.bottom<=Math.max(i.top,s.top)||f.top>=Math.min(i.bottom,s.bottom)||f.right<Math.max(i.left,s.left)-.1||f.left>Math.min(i.right,s.right)+.1){p.style.top=Ox;continue}let m=u.arrow?d.dom.querySelector(".cm-tooltip-arrow"):null,g=m?7:0,y=h.right-h.left,v=null!==(t=Tbe.get(d))&&void 0!==t?t:h.bottom-h.top,_=d.offset||G1t,E=this.view.textDirection==Mi.LTR,x=h.width>s.right-s.left?E?s.left:s.right-h.width:E?Math.max(s.left,Math.min(f.left-(m?14:0)+_.x,s.right-y)):Math.min(Math.max(s.left,f.left-y+(m?14:0)-_.x),s.right-y),b=this.above[c];!u.strictSide&&(b?f.top-(h.bottom-h.top)-_.y<s.top:f.bottom+(h.bottom-h.top)+_.y>s.bottom)&&b==s.bottom-f.bottom>f.top-s.top&&(b=this.above[c]=!b);let w=(b?f.top-s.top:s.bottom-f.bottom)-g;if(w<v&&!1!==d.resize){if(w<this.view.defaultLineHeight){p.style.top=Ox;continue}Tbe.set(d,v),p.style.height=(v=w)/a+"px"}else p.style.height&&(p.style.height="");let C=b?f.top-v-g-_.y:f.bottom+g+_.y,P=x+y;if(!0!==d.overlap)for(let D of l)D.left<P&&D.right>x&&D.top<C+v&&D.bottom>C&&(C=b?D.top-v-2-g:D.bottom+g+2);"absolute"==this.position?(p.style.top=(C-n.parent.top)/a+"px",p.style.left=(x-n.parent.left)/o+"px"):(p.style.top=C/a+"px",p.style.left=x/o+"px"),m&&(m.style.left=(f.left+(E?_.x:-_.x)-(x+14-7))/o+"px"),!0!==d.overlap&&l.push({left:x,top:C,right:P,bottom:C+v}),p.classList.toggle("cm-tooltip-above",b),p.classList.toggle("cm-tooltip-below",!b),d.positioned&&d.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Ox}},{eventObservers:{scroll(){this.maybeMeasure()}}}),G1t={x:0,y:0},kP=rn.define({enables:[DP,ln.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}})]}),Tx=rn.define({combine:n=>n.reduce((t,i)=>t.concat(i),[])});class MP{static create(t){return new MP(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Sbe(t,Tx,(i,s)=>this.createHostedView(i,s),i=>i.dom.remove())}createHostedView(t,i){let s=t.create(this.view);return s.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(s.dom,i?i.dom.nextSibling:this.dom.firstChild),this.mounted&&s.mount&&s.mount(this.view),s}mount(t){for(let i of this.manager.tooltipViews)i.mount&&i.mount(t);this.mounted=!0}positioned(t){for(let i of this.manager.tooltipViews)i.positioned&&i.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let i of this.manager.tooltipViews)null===(t=i.destroy)||void 0===t||t.call(i)}passProp(t){let i;for(let s of this.manager.tooltipViews){let o=s[t];if(void 0!==o)if(void 0===i)i=o;else if(i!==o)return}return i}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const K1t=kP.compute([Tx],n=>{let t=n.facet(Tx);return 0===t.length?null:{pos:Math.min(...t.map(i=>i.pos)),end:Math.max(...t.map(i=>{var s;return null!==(s=i.end)&&void 0!==s?s:i.pos})),create:MP.create,above:t[0].above,arrow:t.some(i=>i.arrow)}});class Y1t{constructor(t,i,s,o,a){this.view=t,this.source=i,this.field=s,this.setHover=o,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:i}=this,s=t.docView.nearest(i.target);if(!s)return;let o,a=1;if(s instanceof k0)o=s.posAtStart;else{if(o=t.posAtCoords(i),null==o)return;let c=t.coordsAtPos(o);if(!c||i.y<c.top||i.y>c.bottom||i.x<c.left-t.defaultCharacterWidth||i.x>c.right+t.defaultCharacterWidth)return;let u=t.bidiSpans(t.state.doc.lineAt(o)).find(p=>p.from<=o&&p.to>=o),d=u&&u.dir==Mi.RTL?-1:1;a=i.x<c.left?-d:d}let l=this.source(t,o,a);if(l?.then){let c=this.pending={pos:o};l.then(u=>{this.pending==c&&(this.pending=null,u&&(!Array.isArray(u)||u.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])}))},u=>ol(t.state,u,"hover tooltip"))}else l&&(!Array.isArray(l)||l.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let t=this.view.plugin(DP),i=t?t.manager.tooltips.findIndex(s=>s.create==MP.create):-1;return i>-1?t.manager.tooltipViews[i]:null}mousemove(t){var i,s;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:o,tooltip:a}=this;if(o.length&&a&&!function X1t(n,t){let l,{left:i,right:s,top:o,bottom:a}=n.getBoundingClientRect();if(l=n.querySelector(".cm-tooltip-arrow")){let c=l.getBoundingClientRect();o=Math.min(c.top,o),a=Math.max(c.bottom,a)}return t.clientX>=i-AP&&t.clientX<=s+AP&&t.clientY>=o-AP&&t.clientY<=a+AP}(a.dom,t)||this.pending){let{pos:l}=o[0]||this.pending,c=null!==(s=null===(i=o[0])||void 0===i?void 0:i.end)&&void 0!==s?s:l;(l==c?this.view.posAtCoords(this.lastMove)!=l:!function Z1t(n,t,i,s,o){let l=n.scrollDOM.getBoundingClientRect();if(l.left>s||l.right<s||l.top>o||Math.min(l.bottom,n.documentTop+n.documentPadding.top+n.contentHeight)<o)return!1;let u=n.posAtCoords({x:s,y:o},!1);return u>=t&&u<=i}(this.view,l,c,t.clientX,t.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:i}=this;if(i.length){let{tooltip:s}=this;s&&s.dom.contains(t.relatedTarget)?this.watchTooltipLeave(s.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let i=s=>{t.removeEventListener("mouseleave",i),this.active.length&&!this.view.dom.contains(s.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",i)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const AP=4;function Q1t(n,t={}){let i=_r.define(),s=ro.define({create:()=>[],update(o,a){if(o.length&&(t.hideOnChange&&(a.docChanged||a.selection)?o=[]:t.hideOn&&(o=o.filter(l=>!t.hideOn(a,l))),a.docChanged)){let l=[];for(let c of o){let u=a.changes.mapPos(c.pos,-1,Zo.TrackDel);if(null!=u){let d=Object.assign(Object.create(null),c);d.pos=u,null!=d.end&&(d.end=a.changes.mapPos(d.end)),l.push(d)}}o=l}for(let l of a.effects)l.is(i)&&(o=l.value),l.is(J1t)&&(o=[]);return o},provide:o=>Tx.from(o)});return{active:s,extension:[s,cs.define(o=>new Y1t(o,n,s,i,t.hoverTime||300)),K1t]}}function Pbe(n,t){let i=n.plugin(DP);if(!i)return null;let s=i.manager.tooltips.indexOf(t);return s<0?null:i.manager.tooltipViews[s]}const J1t=_r.define(),i$=rn.define({combine(n){let t,i;for(let s of n)t=t||s.topContainer,i=i||s.bottomContainer;return{topContainer:t,bottomContainer:i}}});function Px(n,t){let i=n.plugin(Dbe),s=i?i.specs.indexOf(t):-1;return s>-1?i.panels[s]:null}const Dbe=cs.fromClass(class{constructor(n){this.input=n.state.facet(Dx),this.specs=this.input.filter(i=>i),this.panels=this.specs.map(i=>i(n));let t=n.state.facet(i$);this.top=new IP(n,!0,t.topContainer),this.bottom=new IP(n,!1,t.bottomContainer),this.top.sync(this.panels.filter(i=>i.top)),this.bottom.sync(this.panels.filter(i=>!i.top));for(let i of this.panels)i.dom.classList.add("cm-panel"),i.mount&&i.mount()}update(n){let t=n.state.facet(i$);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new IP(n.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new IP(n.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let i=n.state.facet(Dx);if(i!=this.input){let s=i.filter(u=>u),o=[],a=[],l=[],c=[];for(let u of s){let p,d=this.specs.indexOf(u);d<0?(p=u(n.view),c.push(p)):(p=this.panels[d],p.update&&p.update(n)),o.push(p),(p.top?a:l).push(p)}this.specs=s,this.panels=o,this.top.sync(a),this.bottom.sync(l);for(let u of c)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let s of this.panels)s.update&&s.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>ln.scrollMargins.of(t=>{let i=t.plugin(n);return i&&{top:i.top.scrollMargin(),bottom:i.bottom.scrollMargin()}})});class IP{constructor(t,i,s){this.view=t,this.top=i,this.container=s,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let i of this.panels)i.destroy&&t.indexOf(i)<0&&i.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let i=this.container||this.view.dom;i.insertBefore(this.dom,this.top?i.firstChild:null)}let t=this.dom.firstChild;for(let i of this.panels)if(i.dom.parentNode==this.dom){for(;t!=i.dom;)t=kbe(t);t=t.nextSibling}else this.dom.insertBefore(i.dom,t);for(;t;)t=kbe(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function kbe(n){let t=n.nextSibling;return n.remove(),t}const Dx=rn.define({enables:Dbe});class ip extends s1{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}ip.prototype.elementClass="",ip.prototype.toDOM=void 0,ip.prototype.mapMode=Zo.TrackBefore,ip.prototype.startSide=ip.prototype.endSide=-1,ip.prototype.point=!0;const RP=rn.define(),eyt=rn.define(),tyt={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>ls.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},kx=rn.define();function Mbe(n){return[Abe(),kx.of(Object.assign(Object.assign({},tyt),n))]}const s$=rn.define({combine:n=>n.some(t=>t)});function Abe(n){let t=[nyt];return n&&!1===n.fixed&&t.push(s$.of(!0)),t}const nyt=cs.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(kx).map(t=>new Rbe(n,t));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!n.state.facet(s$),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let t=this.prevViewport,i=n.view.viewport,s=Math.min(t.to,i.to)-Math.max(t.from,i.from);this.syncGutters(s<.8*(i.to-i.from))}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(s$)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let t=this.dom.nextSibling;n&&this.dom.remove();let i=ls.iter(this.view.state.facet(RP),this.view.viewport.from),s=[],o=this.gutters.map(a=>new ryt(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(s.length&&(s=[]),Array.isArray(a.type)){let l=!0;for(let c of a.type)if(c.type==sl.Text&&l){o$(i,s,c.from);for(let u of o)u.line(this.view,c,s);l=!1}else if(c.widget)for(let u of o)u.widget(this.view,c)}else if(a.type==sl.Text){o$(i,s,a.from);for(let l of o)l.line(this.view,a,s)}else if(a.widget)for(let l of o)l.widget(this.view,a);for(let a of o)a.finish();n&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(n){let t=n.startState.facet(kx),i=n.state.facet(kx),s=n.docChanged||n.heightChanged||n.viewportChanged||!ls.eq(n.startState.facet(RP),n.state.facet(RP),n.view.viewport.from,n.view.viewport.to);if(t==i)for(let o of this.gutters)o.update(n)&&(s=!0);else{s=!0;let o=[];for(let a of i){let l=t.indexOf(a);l<0?o.push(new Rbe(this.view,a)):(this.gutters[l].update(n),o.push(this.gutters[l]))}for(let a of this.gutters)a.dom.remove(),o.indexOf(a)<0&&a.destroy();for(let a of o)this.dom.appendChild(a.dom);this.gutters=o}return s}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>ln.scrollMargins.of(t=>{let i=t.plugin(n);return i&&0!=i.gutters.length&&i.fixed?t.textDirection==Mi.LTR?{left:i.dom.offsetWidth*t.scaleX}:{right:i.dom.offsetWidth*t.scaleX}:null})});function Ibe(n){return Array.isArray(n)?n:[n]}function o$(n,t,i){for(;n.value&&n.from<=i;)n.from==i&&t.push(n.value),n.next()}class ryt{constructor(t,i,s){this.gutter=t,this.height=s,this.i=0,this.cursor=ls.iter(t.markers,i.from)}addElement(t,i,s){let{gutter:o}=this,a=(i.top-this.height)/t.scaleY,l=i.height/t.scaleY;if(this.i==o.elements.length){let c=new Nbe(t,l,a,s);o.elements.push(c),o.dom.appendChild(c.dom)}else o.elements[this.i].update(t,l,a,s);this.height=i.bottom,this.i++}line(t,i,s){let o=[];o$(this.cursor,o,i.from),s.length&&(o=o.concat(s));let a=this.gutter.config.lineMarker(t,i,o);a&&o.unshift(a),0==o.length&&!this.gutter.config.renderEmptyElements||this.addElement(t,i,o)}widget(t,i){let s=this.gutter.config.widgetMarker(t,i.widget,i),o=s?[s]:null;for(let a of t.state.facet(eyt)){let l=a(t,i.widget,i);l&&(o||(o=[])).push(l)}o&&this.addElement(t,i,o)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let i=t.elements.pop();t.dom.removeChild(i.dom),i.destroy()}}}class Rbe{constructor(t,i){this.view=t,this.config=i,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let s in i.domEventHandlers)this.dom.addEventListener(s,o=>{let l,a=o.target;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let u=a.getBoundingClientRect();l=(u.top+u.bottom)/2}else l=o.clientY;let c=t.lineBlockAtHeight(l-t.documentTop);i.domEventHandlers[s](t,c,o)&&o.preventDefault()});this.markers=Ibe(i.markers(t)),i.initialSpacer&&(this.spacer=new Nbe(t,0,0,[i.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let i=this.markers;if(this.markers=Ibe(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let o=this.config.updateSpacer(this.spacer.markers[0],t);o!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[o])}let s=t.view.viewport;return!ls.eq(this.markers,i,s.from,s.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}}class Nbe{constructor(t,i,s,o){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,i,s,o)}update(t,i,s,o){this.height!=i&&(this.height=i,this.dom.style.height=i+"px"),this.above!=s&&(this.dom.style.marginTop=(this.above=s)?s+"px":""),function iyt(n,t){if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(!n[i].compare(t[i]))return!1;return!0}(this.markers,o)||this.setMarkers(t,o)}setMarkers(t,i){let s="cm-gutterElement",o=this.dom.firstChild;for(let a=0,l=0;;){let c=l,u=a<i.length?i[a++]:null,d=!1;if(u){let p=u.elementClass;p&&(s+=" "+p);for(let f=l;f<this.markers.length;f++)if(this.markers[f].compare(u)){c=f,d=!0;break}}else c=this.markers.length;for(;l<c;){let p=this.markers[l++];if(p.toDOM){p.destroy(o);let f=o.nextSibling;o.remove(),o=f}}if(!u)break;u.toDOM&&(d?o=o.nextSibling:this.dom.insertBefore(u.toDOM(t),o)),d&&l++}this.dom.className=s,this.markers=i}destroy(){this.setMarkers(null,[])}}const syt=rn.define(),oyt=rn.define(),Gb=rn.define({combine:n=>ed(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,i){let s=Object.assign({},t);for(let o in i){let a=s[o],l=i[o];s[o]=a?(c,u,d)=>a(c,u,d)||l(c,u,d):l}return s}})});class a$ extends ip{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function l$(n,t){return n.state.facet(Gb).formatNumber(t,n.state)}const ayt=kx.compute([Gb],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(syt),lineMarker:(t,i,s)=>s.some(o=>o.toDOM)?null:new a$(l$(t,t.state.doc.lineAt(i.from).number)),widgetMarker:(t,i,s)=>{for(let o of t.state.facet(oyt)){let a=o(t,i,s);if(a)return a}return null},lineMarkerChange:t=>t.startState.facet(Gb)!=t.state.facet(Gb),initialSpacer:t=>new a$(l$(t,Lbe(t.state.doc.lines))),updateSpacer(t,i){let s=l$(i.view,Lbe(i.view.state.doc.lines));return s==t.number?t:new a$(s)},domEventHandlers:n.facet(Gb).domEventHandlers}));function c$(n={}){return[Gb.of(n),Abe(),ayt]}function Lbe(n){let t=9;for(;t<n;)t=10*t+9;return t}const lyt=new class extends ip{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},cyt=RP.compute(["selection"],n=>{let t=[],i=-1;for(let s of n.selection.ranges){let o=n.doc.lineAt(s.head).from;o>i&&(i=o,t.push(lyt.range(o)))}return ls.of(t)});var u$;const u1=new Kn;const myt=new Kn;let bc=(()=>{class n{constructor(i,s,o=[],a=""){this.data=i,this.name=a,il.prototype.hasOwnProperty("tree")||Object.defineProperty(il.prototype,"tree",{get(){return Ci(this)}}),this.parser=s,this.extension=[N0.of(this),il.languageData.of((l,c,u)=>{let d=jbe(l,c,u),p=d.type.prop(u1);if(!p)return[];let f=l.facet(p),h=d.type.prop(myt);if(h){let m=d.resolve(c-d.from,u);for(let g of h)if(g.test(m,l)){let y=l.facet(g.facet);return"replace"==g.type?y:y.concat(f)}}return f})].concat(o)}isActiveAt(i,s,o=-1){return jbe(i,s,o).type.prop(u1)==this.data}findRegions(i){let s=i.facet(N0);if(s?.data==this.data)return[{from:0,to:i.doc.length}];if(!s||!s.allowsNesting)return[];let o=[],a=(l,c)=>{if(l.prop(u1)==this.data)return void o.push({from:c,to:c+l.length});let u=l.prop(Kn.mounted);if(u){if(u.tree.prop(u1)==this.data){if(u.overlay)for(let d of u.overlay)o.push({from:d.from+c,to:d.to+c});else o.push({from:c,to:c+l.length});return}if(u.overlay){let d=o.length;if(a(u.tree,u.overlay[0].from+c),o.length>d)return}}for(let d=0;d<l.children.length;d++){let p=l.children[d];p instanceof Or&&a(p,l.positions[d]+c)}};return a(Ci(i),0),o}get allowsNesting(){return!0}}return n.setState=_r.define(),n})();function jbe(n,t,i){let s=n.facet(N0),o=Ci(n).topNode;if(!s||s.allowsNesting)for(let a=o;a;a=a.enter(t,i,ms.ExcludeBuffers))a.type.isTop&&(o=a);return o}class d1 extends bc{constructor(t,i,s){super(t,i,[],s),this.parser=i}static define(t){let i=function Bbe(n){return rn.define({combine:n?t=>t.concat(n):void 0})}(t.languageData);return new d1(i,t.parser.configure({props:[u1.add(s=>s.isTop?i:void 0)]}),t.name)}configure(t,i){return new d1(this.data,this.parser.configure(t),i||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Ci(n){let t=n.field(bc.state,!1);return t?t.tree:Or.empty}class yyt{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,i){let s=this.cursorPos-this.string.length;return t<s||i>=this.cursorPos?this.doc.sliceString(t,i):this.string.slice(t-s,i-s)}}let Mx=null;class Kb{constructor(t,i,s=[],o,a,l,c,u){this.parser=t,this.state=i,this.fragments=s,this.tree=o,this.treeLen=a,this.viewport=l,this.skipped=c,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(t,i,s){return new Kb(t,i,[],Or.empty,0,s,[],null)}startParse(){return this.parser.startParse(new yyt(this.state.doc),this.fragments)}work(t,i){return null!=i&&i>=this.state.doc.length&&(i=void 0),this.tree!=Or.empty&&this.isDone(i??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var s;if("number"==typeof t){let o=Date.now()+t;t=()=>Date.now()>o}for(this.parse||(this.parse=this.startParse()),null!=i&&(null==this.parse.stoppedAt||this.parse.stoppedAt>i)&&i<this.state.doc.length&&this.parse.stopAt(i);;){let o=this.parse.advance();if(o){if(this.fragments=this.withoutTempSkipped(Of.addTree(o,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(s=this.parse.stoppedAt)&&void 0!==s?s:this.state.doc.length,this.tree=o,this.parse=null,!(this.treeLen<(i??this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}})}takeTree(){let t,i;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(i=this.parse.advance()););}),this.treeLen=t,this.tree=i,this.fragments=this.withoutTempSkipped(Of.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let i=Mx;Mx=this;try{return t()}finally{Mx=i}}withoutTempSkipped(t){for(let i;i=this.tempSkipped.pop();)t=Vbe(t,i.from,i.to);return t}changes(t,i){let{fragments:s,tree:o,treeLen:a,viewport:l,skipped:c}=this;if(this.takeTree(),!t.empty){let u=[];if(t.iterChangedRanges((d,p,f,h)=>u.push({fromA:d,toA:p,fromB:f,toB:h})),s=Of.applyChanges(s,u),o=Or.empty,a=0,l={from:t.mapPos(l.from,-1),to:t.mapPos(l.to,1)},this.skipped.length){c=[];for(let d of this.skipped){let p=t.mapPos(d.from,1),f=t.mapPos(d.to,-1);p<f&&c.push({from:p,to:f})}}}return new Kb(this.parser,i,s,o,a,l,c,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let i=this.skipped.length;for(let s=0;s<this.skipped.length;s++){let{from:o,to:a}=this.skipped[s];o<t.to&&a>t.from&&(this.fragments=Vbe(this.fragments,o,a),this.skipped.splice(s--,1))}return!(this.skipped.length>=i||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,i){this.skipped.push({from:t,to:i})}static getSkippingParser(t){return new class extends _T{createParse(i,s,o){let a=o[0].from,l=o[o.length-1].to;return{parsedPos:a,advance(){let u=Mx;if(u){for(let d of o)u.tempSkipped.push(d);t&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,t]):t)}return this.parsedPos=l,new Or(eo.none,[],[],l-a)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let i=this.fragments;return this.treeLen>=t&&i.length&&0==i[0].from&&i[0].to>=t}static get(){return Mx}}function Vbe(n,t,i){return Of.applyChanges(n,[{fromA:t,toA:i,fromB:t,toB:i}])}class Yb{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let i=this.context.changes(t.changes,t.state),s=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),i.viewport.to);return i.work(20,s)||i.takeTree(),new Yb(i)}static init(t){let i=Math.min(3e3,t.doc.length),s=Kb.create(t.facet(N0).parser,t,{from:0,to:i});return s.work(20,i)||s.takeTree(),new Yb(s)}}bc.state=ro.define({create:Yb.init,update(n,t){for(let i of t.effects)if(i.is(bc.setState))return i.value;return t.startState.facet(N0)!=t.state.facet(N0)?Yb.init(t.state):n.apply(t)}});let $be=n=>{let t=setTimeout(()=>n(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&($be=n=>{let t=-1,i=setTimeout(()=>{t=requestIdleCallback(n,{timeout:400})},100);return()=>t<0?clearTimeout(i):cancelIdleCallback(t)});const d$=typeof navigator<"u"&&null!==(u$=navigator.scheduling)&&void 0!==u$&&u$.isInputPending?()=>navigator.scheduling.isInputPending():null,zbe=cs.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let i=this.view.state.field(bc.state).context;(i.updateViewport(t.view.viewport)||this.view.viewport.to>i.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(i)}scheduleWork(){if(this.working)return;let{state:t}=this.view,i=t.field(bc.state);(i.tree!=i.context.tree||!i.context.isDone(t.doc.length))&&(this.working=$be(this.work))}work(t){this.working=null;let i=Date.now();if(this.chunkEnd<i&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=i+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:s,viewport:{to:o}}=this.view,a=s.field(bc.state);if(a.tree==a.context.tree&&a.context.isDone(o+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,t&&!d$?Math.max(25,t.timeRemaining()-5):1e9),c=a.context.treeLen<o&&s.doc.length>o+1e3,u=a.context.work(()=>d$&&d$()||Date.now()>l,o+(c?0:1e5));this.chunkBudget-=Date.now()-i,(u||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:bc.setState.of(new Yb(a.context))})),this.chunkBudget>0&&!(u&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(i=>ol(this.view.state,i)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),N0=rn.define({combine:n=>n.length?n[0]:null,enables:n=>[bc.state,zbe,ln.contentAttributes.compute([n],t=>{let i=t.facet(n);return i&&i.name?{"data-language":i.name}:{}})]});class NP{constructor(t,i=[]){this.language=t,this.support=i,this.extension=[t,i]}}const Ube=rn.define(),LP=rn.define({combine:n=>{if(!n.length)return"  ";let t=n[0];if(!t||/\S/.test(t)||Array.from(t).some(i=>i!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return t}});function p1(n){let t=n.facet(LP);return 9==t.charCodeAt(0)?n.tabSize*t.length:t.length}function Xb(n,t){let i="",s=n.tabSize,o=n.facet(LP)[0];if("\t"==o){for(;t>=s;)i+="\t",t-=s;o=" "}for(let a=0;a<t;a++)i+=o;return i}function FP(n,t){n instanceof il&&(n=new Ax(n));for(let s of n.state.facet(Ube)){let o=s(n,t);if(void 0!==o)return o}let i=Ci(n.state);return i.length>=t?function vyt(n,t,i){let s=t.resolveStack(i),o=s.node.enterUnfinishedNodesBefore(i);if(o!=s.node){let a=[];for(let l=o;l!=s.node;l=l.parent)a.push(l);for(let l=a.length-1;l>=0;l--)s={node:a[l],next:s}}return qbe(s,n,i)}(n,i,t):null}class Ax{constructor(t,i={}){this.state=t,this.options=i,this.unit=p1(t)}lineAt(t,i=1){let s=this.state.doc.lineAt(t),{simulateBreak:o,simulateDoubleBreak:a}=this.options;return null!=o&&o>=s.from&&o<=s.to?a&&o==t?{text:"",from:t}:(i<0?o<t:o<=t)?{text:s.text.slice(o-s.from),from:o}:{text:s.text.slice(0,o-s.from),from:s.from}:s}textAfterPos(t,i=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:s,from:o}=this.lineAt(t,i);return s.slice(t-o,Math.min(s.length,t+100-o))}column(t,i=1){let{text:s,from:o}=this.lineAt(t,i),a=this.countColumn(s,t-o),l=this.options.overrideIndentation?this.options.overrideIndentation(o):-1;return l>-1&&(a+=l-this.countColumn(s,s.search(/\S|$/))),a}countColumn(t,i=t.length){return jb(t,this.state.tabSize,i)}lineIndent(t,i=1){let{text:s,from:o}=this.lineAt(t,i),a=this.options.overrideIndentation;if(a){let l=a(o);if(l>-1)return l}return this.countColumn(s,s.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const BP=new Kn;function qbe(n,t,i){for(let s=n;s;s=s.next){let o=_yt(s.node);if(o)return o(p$.create(t,i,s))}return 0}function _yt(n){let t=n.type.prop(BP);if(t)return t;let s,i=n.firstChild;if(i&&(s=i.type.prop(Kn.closedBy))){let o=n.lastChild,a=o&&s.indexOf(o.name)>-1;return l=>Gbe(l,!0,1,void 0,a&&!function byt(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}(l)?o.from:void 0)}return null==n.parent?Eyt:null}function Eyt(){return 0}class p$ extends Ax{constructor(t,i,s){super(t.state,t.options),this.base=t,this.pos=i,this.context=s}get node(){return this.context.node}static create(t,i,s){return new p$(t,i,s)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let i=this.state.doc.lineAt(t.from);for(;;){let s=t.resolve(i.from);for(;s.parent&&s.parent.from==s.from;)s=s.parent;if(wyt(s,t))break;i=this.state.doc.lineAt(s.from)}return this.lineIndent(i.from)}continue(){return qbe(this.context.next,this.base,this.pos)}}function wyt(n,t){for(let i=t;i;i=i.parent)if(n==i)return!0;return!1}function Wbe({closing:n,align:t=!0,units:i=1}){return s=>Gbe(s,t,i,n)}function Gbe(n,t,i,s,o){let a=n.textAfter,l=a.match(/^\s*/)[0].length,c=s&&a.slice(l,l+s.length)==s||o==n.pos+l,u=t?function xyt(n){let t=n.node,i=t.childAfter(t.from),s=t.lastChild;if(!i)return null;let o=n.options.simulateBreak,a=n.state.doc.lineAt(i.from),l=null==o||o<=a.from?a.to:Math.min(a.to,o);for(let c=i.to;;){let u=t.childAfter(c);if(!u||u==s)return null;if(!u.type.isSkipped){if(u.from>=l)return null;let d=/^ */.exec(a.text.slice(i.to-a.from))[0].length;return{from:i.from,to:i.to+d}}c=u.to}}(n):null;return u?n.column(c?u.from:u.to):n.baseIndent+(c?0:n.unit*i)}function Ix({except:n,units:t=1}={}){return i=>{let s=n&&n.test(i.textAfter);return i.baseIndent+(s?0:t*i.unit)}}function f$(){return il.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let t=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!t.length)return n;let i=n.newDoc,{head:s}=n.newSelection.main,o=i.lineAt(s);if(s>o.from+200)return n;let a=i.sliceString(o.from,s);if(!t.some(d=>d.test(a)))return n;let{state:l}=n,c=-1,u=[];for(let{head:d}of l.selection.ranges){let p=l.doc.lineAt(d);if(p.from==c)continue;c=p.from;let f=FP(l,p.from);if(null==f)continue;let h=/^\s*/.exec(p.text)[0],m=Xb(l,f);h!=m&&u.push({from:p.from,to:p.from+h.length,insert:m})}return u.length?[n,{changes:u,sequential:!0}]:n})}const Syt=rn.define(),Rx=new Kn;function Zb(n){let t=n.firstChild,i=n.lastChild;return t&&t.to<i.from?{from:t.to,to:i.type.isError?n.to:i.from}:null}function Tyt(n){let t=n.lastChild;return t&&t.to==n.to&&t.type.isError}function Nx(n,t,i){for(let s of n.facet(Syt)){let o=s(n,t,i);if(o)return o}return function Oyt(n,t,i){let s=Ci(n);if(s.length<i)return null;let a=null;for(let l=s.resolveStack(i,1);l;l=l.next){let c=l.node;if(c.to<=i||c.from>i)continue;if(a&&c.from<t)break;let u=c.type.prop(Rx);if(u&&(c.to<s.length-50||s.length==n.doc.length||!Tyt(c))){let d=u(c,n);d&&d.from<=i&&d.from>=t&&d.to>i&&(a=d)}}return a}(n,t,i)}function Kbe(n,t){let i=t.mapPos(n.from,1),s=t.mapPos(n.to,-1);return i>=s?void 0:{from:i,to:s}}const Lx=_r.define({map:Kbe}),Qb=_r.define({map:Kbe});function h$(n){let t=[];for(let{head:i}of n.state.selection.ranges)t.some(s=>s.from<=i&&s.to>=i)||t.push(n.lineBlockAt(i));return t}const L0=ro.define({create:()=>bn.none,update(n,t){n=n.map(t.changes);for(let i of t.effects)if(i.is(Lx)&&!Pyt(n,i.value.from,i.value.to)){let{preparePlaceholder:s}=t.state.facet(g$),o=s?bn.replace({widget:new Lyt(s(t.state,i.value))}):Zbe;n=n.update({add:[o.range(i.value.from,i.value.to)]})}else i.is(Qb)&&(n=n.update({filter:(s,o)=>i.value.from!=s||i.value.to!=o,filterFrom:i.value.from,filterTo:i.value.to}));if(t.selection){let i=!1,{head:s}=t.selection.main;n.between(s,s,(o,a)=>{o<s&&a>s&&(i=!0)}),i&&(n=n.update({filterFrom:s,filterTo:s,filter:(o,a)=>a<=s||o>=s}))}return n},provide:n=>ln.decorations.from(n),toJSON(n,t){let i=[];return n.between(0,t.doc.length,(s,o)=>{i.push(s,o)}),i},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let i=0;i<n.length;){let s=n[i++],o=n[i++];if("number"!=typeof s||"number"!=typeof o)throw new RangeError("Invalid JSON for fold state");t.push(Zbe.range(s,o))}return bn.set(t,!0)}});function Fx(n,t,i){var s;let o=null;return null===(s=n.field(L0,!1))||void 0===s||s.between(t,i,(a,l)=>{(!o||o.from>a)&&(o={from:a,to:l})}),o}function Pyt(n,t,i){let s=!1;return n.between(t,t,(o,a)=>{o==t&&a==i&&(s=!0)}),s}function m$(n,t){return n.field(L0,!1)?t:t.concat(_r.appendConfig.of(Ybe()))}function jP(n,t,i=!0){let s=n.state.doc.lineAt(t.from).number,o=n.state.doc.lineAt(t.to).number;return ln.announce.of(`${n.state.phrase(i?"Folded lines":"Unfolded lines")} ${s} ${n.state.phrase("to")} ${o}.`)}const Ryt=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:n=>{for(let t of h$(n)){let i=Nx(n.state,t.from,t.to);if(i)return n.dispatch({effects:m$(n.state,[Lx.of(i),jP(n,i)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:n=>{if(!n.state.field(L0,!1))return!1;let t=[];for(let i of h$(n)){let s=Fx(n.state,i.from,i.to);s&&t.push(Qb.of(s),jP(n,s,!1))}return t.length&&n.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:n=>{let{state:t}=n,i=[];for(let s=0;s<t.doc.length;){let o=n.lineBlockAt(s),a=Nx(t,o.from,o.to);a&&i.push(Lx.of(a)),s=(a?n.lineBlockAt(a.to):o).to+1}return i.length&&n.dispatch({effects:m$(n.state,i)}),!!i.length}},{key:"Ctrl-Alt-]",run:n=>{let t=n.state.field(L0,!1);if(!t||!t.size)return!1;let i=[];return t.between(0,n.state.doc.length,(s,o)=>{i.push(Qb.of({from:s,to:o}))}),n.dispatch({effects:i}),!0}}],Nyt={placeholderDOM:null,preparePlaceholder:null,placeholderText:"\u2026"},g$=rn.define({combine:n=>ed(n,Nyt)});function Ybe(n){let t=[L0,jyt];return n&&t.push(g$.of(n)),t}function Xbe(n,t){let{state:i}=n,s=i.facet(g$),o=l=>{let c=n.lineBlockAt(n.posAtDOM(l.target)),u=Fx(n.state,c.from,c.to);u&&n.dispatch({effects:Qb.of(u)}),l.preventDefault()};if(s.placeholderDOM)return s.placeholderDOM(n,o,t);let a=document.createElement("span");return a.textContent=s.placeholderText,a.setAttribute("aria-label",i.phrase("folded code")),a.title=i.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=o,a}const Zbe=bn.replace({widget:new class extends tp{toDOM(n){return Xbe(n,null)}}});class Lyt extends tp{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return Xbe(t,this.value)}}const Fyt={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class y$ extends ip{constructor(t,i){super(),this.config=t,this.open=i}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let i=document.createElement("span");return i.textContent=this.open?this.config.openText:this.config.closedText,i.title=t.state.phrase(this.open?"Fold line":"Unfold line"),i}}const jyt=ln.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class F0{constructor(t,i){let s;function o(c){let u=P0.newName();return(s||(s=Object.create(null)))["."+u]=c,u}this.specs=t;const a="string"==typeof i.all?i.all:i.all?o(i.all):void 0,l=i.scope;this.scope=l instanceof bc?c=>c.prop(u1)==l.data:l?c=>c==l:void 0,this.style=Xme(t.map(c=>({tag:c.tag,class:c.class||o(Object.assign({},c,{tag:null}))})),{all:a}).style,this.module=s?new P0(s):null,this.themeType=i.themeType}static define(t,i){return new F0(t,i||{})}}const v$=rn.define(),Qbe=rn.define({combine:n=>n.length?[n[0]]:null});function VP(n){let t=n.facet(v$);return t.length?t:n.facet(Qbe)}function Bx(n,t){let s,i=[$yt];return n instanceof F0&&(n.module&&i.push(ln.styleModule.of(n.module)),s=n.themeType),i.push(t?.fallback?Qbe.of(n):s?v$.computeN([ln.darkTheme],o=>o.facet(ln.darkTheme)==("dark"==s)?[n]:[]):v$.of(n)),i}class Vyt{constructor(t){this.markCache=Object.create(null),this.tree=Ci(t.state),this.decorations=this.buildDeco(t,VP(t.state)),this.decoratedTo=t.viewport.to}update(t){let i=Ci(t.state),s=VP(t.state),o=s!=VP(t.startState),{viewport:a}=t.view,l=t.changes.mapPos(this.decoratedTo,1);i.length<a.to&&!o&&i.type==this.tree.type&&l>=a.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=l):(i!=this.tree||t.viewportChanged||o)&&(this.tree=i,this.decorations=this.buildDeco(t.view,s),this.decoratedTo=a.to)}buildDeco(t,i){if(!i||!this.tree.length)return bn.none;let s=new Rf;for(let{from:o,to:a}of t.visibleRanges)Zme(this.tree,i,(l,c,u)=>{s.add(l,c,this.markCache[u]||(this.markCache[u]=bn.mark({class:u})))},o,a);return s.finish()}}const $yt=Af.high(cs.fromClass(Vyt,{decorations:n=>n.decorations})),zyt=F0.define([{tag:oe.meta,color:"#404740"},{tag:oe.link,textDecoration:"underline"},{tag:oe.heading,textDecoration:"underline",fontWeight:"bold"},{tag:oe.emphasis,fontStyle:"italic"},{tag:oe.strong,fontWeight:"bold"},{tag:oe.strikethrough,textDecoration:"line-through"},{tag:oe.keyword,color:"#708"},{tag:[oe.atom,oe.bool,oe.url,oe.contentSeparator,oe.labelName],color:"#219"},{tag:[oe.literal,oe.inserted],color:"#164"},{tag:[oe.string,oe.deleted],color:"#a11"},{tag:[oe.regexp,oe.escape,oe.special(oe.string)],color:"#e40"},{tag:oe.definition(oe.variableName),color:"#00f"},{tag:oe.local(oe.variableName),color:"#30a"},{tag:[oe.typeName,oe.namespace],color:"#085"},{tag:oe.className,color:"#167"},{tag:[oe.special(oe.variableName),oe.macroName],color:"#256"},{tag:oe.definition(oe.propertyName),color:"#00c"},{tag:oe.comment,color:"#940"},{tag:oe.invalid,color:"#f00"}]),Hyt=ln.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),t_e=rn.define({combine:n=>ed(n,{afterCursor:!0,brackets:"()[]{}",maxScanDistance:1e4,renderMatch:Wyt})}),Uyt=bn.mark({class:"cm-matchingBracket"}),qyt=bn.mark({class:"cm-nonmatchingBracket"});function Wyt(n){let t=[],i=n.matched?Uyt:qyt;return t.push(i.range(n.start.from,n.start.to)),n.end&&t.push(i.range(n.end.from,n.end.to)),t}const Gyt=[ro.define({create:()=>bn.none,update(n,t){if(!t.docChanged&&!t.selection)return n;let i=[],s=t.state.facet(t_e);for(let o of t.state.selection.ranges){if(!o.empty)continue;let a=sp(t.state,o.head,-1,s)||o.head>0&&sp(t.state,o.head-1,1,s)||s.afterCursor&&(sp(t.state,o.head,1,s)||o.head<t.state.doc.length&&sp(t.state,o.head+1,-1,s));a&&(i=i.concat(s.renderMatch(a,t.state)))}return bn.set(i,!0)},provide:n=>ln.decorations.from(n)}),Hyt];function b$(n={}){return[t_e.of(n),Gyt]}const n_e=new Kn;function _$(n,t,i){let s=n.prop(t<0?Kn.openedBy:Kn.closedBy);if(s)return s;if(1==n.name.length){let o=i.indexOf(n.name);if(o>-1&&o%2==(t<0?1:0))return[i[o+t]]}return null}function E$(n){let t=n.type.prop(n_e);return t?t(n.node):n}function sp(n,t,i,s={}){let o=s.maxScanDistance||1e4,a=s.brackets||"()[]{}",l=Ci(n),c=l.resolveInner(t,i);for(let u=c;u;u=u.parent){let d=_$(u.type,i,a);if(d&&u.from<u.to){let p=E$(u);if(p&&(i>0?t>=p.from&&t<p.to:t>p.from&&t<=p.to))return Kyt(0,0,i,u,p,d,a)}}return function Yyt(n,t,i,s,o,a,l){let c=i<0?n.sliceDoc(t-1,t):n.sliceDoc(t,t+1),u=l.indexOf(c);if(u<0||u%2==0!=i>0)return null;let d={from:i<0?t-1:t,to:i>0?t+1:t},p=n.doc.iterRange(t,i>0?n.doc.length:0),f=0;for(let h=0;!p.next().done&&h<=a;){let m=p.value;i<0&&(h+=m.length);let g=t+h*i;for(let y=i>0?0:m.length-1,v=i>0?m.length:-1;y!=v;y+=i){let _=l.indexOf(m[y]);if(!(_<0||s.resolveInner(g+y,1).type!=o))if(_%2==0==i>0)f++;else{if(1==f)return{start:d,end:{from:g+y,to:g+y+1},matched:_>>1==u>>1};f--}}i>0&&(h+=m.length)}return p.done?{start:d,matched:!1}:null}(n,t,i,l,c.type,o,a)}function Kyt(n,t,i,s,o,a,l){let c=s.parent,u={from:o.from,to:o.to},d=0,p=c?.cursor();if(p&&(i<0?p.childBefore(s.from):p.childAfter(s.to)))do{if(i<0?p.to<=s.from:p.from>=s.to){if(0==d&&a.indexOf(p.type.name)>-1&&p.from<p.to){let f=E$(p);return{start:u,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}if(_$(p.type,i,l))d++;else if(_$(p.type,-i,l)){if(0==d){let f=E$(p);return{start:u,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}d--}}}while(i<0?p.prevSibling():p.nextSibling());return{start:u,matched:!1}}const x$=Object.create(null),jx=[eo.none],c_e=[],u_e=Object.create(null),d_e=Object.create(null);for(let[n,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])d_e[n]=f_e(x$,t);function C$(n,t){c_e.indexOf(n)>-1||(c_e.push(n),console.warn(t))}function f_e(n,t){let i=[];for(let c of t.split(" ")){let u=[];for(let d of c.split(".")){let p=n[d]||oe[d];p?"function"==typeof p?u.length?u=u.map(p):C$(d,`Modifier ${d} used at start of tag`):u.length?C$(d,`Tag ${d} used as modifier`):u=Array.isArray(p)?p:[p]:C$(d,`Unknown highlighting tag ${d}`)}for(let d of u)i.push(d)}if(!i.length)return 0;let s=t.replace(/ /g,"_"),o=s+" "+i.map(c=>c.id),a=u_e[o];if(a)return a.id;let l=u_e[o]=eo.define({id:jx.length,name:s,props:[Gg({[s]:i})]});return jx.push(l),l.id}class y_e{constructor(t,i,s,o){this.state=t,this.pos=i,this.explicit=s,this.view=o,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(t){let i=Ci(this.state).resolveInner(this.pos,-1);for(;i&&t.indexOf(i.name)<0;)i=i.parent;return i?{from:i.from,to:this.pos,text:this.state.sliceDoc(i.from,this.pos),type:i.type}:null}matchBefore(t){let i=this.state.doc.lineAt(this.pos),s=Math.max(i.from,this.pos-250),o=i.text.slice(s-i.from,this.pos-i.from),a=o.search(__e(t,!1));return a<0?null:{from:s+a,to:this.pos,text:o.slice(a)}}get aborted(){return null==this.abortListeners}addEventListener(t,i,s){"abort"==t&&this.abortListeners&&(this.abortListeners.push(i),s&&s.onDocChange&&(this.abortOnDocChange=!0))}}function v_e(n){let t=Object.keys(n).join(""),i=/\w/.test(t);return i&&(t=t.replace(/\w/g,"")),`[${i?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function O$(n){let t=n.map(o=>"string"==typeof o?{label:o}:o),[i,s]=t.every(o=>/^\w+$/.test(o.label))?[/\w*$/,/\w+$/]:function avt(n){let t=Object.create(null),i=Object.create(null);for(let{label:o}of n){t[o[0]]=!0;for(let a=1;a<o.length;a++)i[o[a]]=!0}let s=v_e(t)+v_e(i)+"*$";return[new RegExp("^"+s),new RegExp(s)]}(t);return o=>{let a=o.matchBefore(s);return a||o.explicit?{from:a?a.from:o.pos,options:t,validFor:i}:null}}class b_e{constructor(t,i,s,o){this.completion=t,this.source=i,this.match=s,this.score=o}}function B0(n){return n.selection.main.from}function __e(n,t){var i;let{source:s}=n,o=t&&"^"!=s[0],a="$"!=s[s.length-1];return o||a?new RegExp(`${o?"^":""}(?:${s})${a?"$":""}`,null!==(i=n.flags)&&void 0!==i?i:n.ignoreCase?"i":""):n}const T$=If.define(),E_e=new WeakMap;function uvt(n){if(!Array.isArray(n))return n;let t=E_e.get(n);return t||E_e.set(n,t=O$(n)),t}const $P=_r.define(),Vx=_r.define();class dvt{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let i=0;i<t.length;){let s=Xo(t,i),o=uu(s);this.chars.push(s);let a=t.slice(i,i+o),l=a.toUpperCase();this.folded.push(Xo(l==a?a.toLowerCase():l,0)),i+=o}this.astral=t.length!=this.chars.length}ret(t,i){return this.score=t,this.matched=i,this}match(t){if(0==this.pattern.length)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:i,folded:s,any:o,precise:a,byWord:l}=this;if(1==i.length){let E=Xo(t,0),x=uu(E),b=x==t.length?0:-100;if(E!=i[0]){if(E!=s[0])return null;b+=-200}return this.ret(b,[0,x])}let c=t.indexOf(this.pattern);if(0==c)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=i.length,d=0;if(c<0){for(let E=0,x=Math.min(t.length,200);E<x&&d<u;){let b=Xo(t,E);(b==i[d]||b==s[d])&&(o[d++]=E),E+=uu(b)}if(d<u)return null}let p=0,f=0,h=!1,m=0,g=-1,y=-1,v=/[a-z]/.test(t),_=!0;for(let E=0,x=Math.min(t.length,200),b=0;E<x&&f<u;){let w=Xo(t,E);c<0&&(p<u&&w==i[p]&&(a[p++]=E),m<u&&(w==i[m]||w==s[m]?(0==m&&(g=E),y=E+1,m++):m=0));let C,P=w<255?w>=48&&w<=57||w>=97&&w<=122?2:w>=65&&w<=90?1:0:(C=eV(w))!=C.toLowerCase()?1:C!=C.toUpperCase()?2:0;(!E||1==P&&v||0==b&&0!=P)&&(i[f]==w||s[f]==w&&(h=!0)?l[f++]=E:l.length&&(_=!1)),b=P,E+=uu(w)}return f==u&&0==l[0]&&_?this.result((h?-200:0)-100,l,t):m==u&&0==g?this.ret(-200-t.length+(y==t.length?0:-100),[0,y]):c>-1?this.ret(-700-t.length,[c,c+this.pattern.length]):m==u?this.ret(-900-t.length,[g,y]):f==u?this.result((h?-200:0)-100-700+(_?0:-1100),l,t):2==i.length?null:this.result((o[0]?-700:0)-200-1100,o,t)}result(t,i,s){let o=[],a=0;for(let l of i){let c=l+(this.astral?uu(Xo(s,l)):1);a&&o[a-1]==l?o[a-1]=c:(o[a++]=l,o[a++]=c)}return this.ret(t-s.length,o)}}class pvt{constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}match(t){if(t.length<this.pattern.length)return null;let i=t.slice(0,this.pattern.length),s=i==this.pattern?0:i.toLowerCase()==this.folded?-200:null;return null==s?null:(this.matched=[0,i.length],this.score=s+(t.length==this.pattern.length?0:-100),this)}}const ea=rn.define({combine:n=>ed(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:fvt,filterStrict:!1,compareCompletions:(t,i)=>t.label.localeCompare(i.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,i)=>t&&i,closeOnBlur:(t,i)=>t&&i,icons:(t,i)=>t&&i,tooltipClass:(t,i)=>s=>w_e(t(s),i(s)),optionClass:(t,i)=>s=>w_e(t(s),i(s)),addToOptions:(t,i)=>t.concat(i),filterStrict:(t,i)=>t||i})});function w_e(n,t){return n?t?n+" "+t:n:t}function fvt(n,t,i,s,o,a){let p,f,l=n.textDirection==Mi.RTL,c=l,u=!1,d="top",h=t.left-o.left,m=o.right-t.right,g=s.right-s.left,y=s.bottom-s.top;if(c&&h<Math.min(g,m)?c=!1:!c&&m<Math.min(g,h)&&(c=!0),g<=(c?h:m))p=Math.max(o.top,Math.min(i.top,o.bottom-y))-t.top,f=Math.min(400,c?h:m);else{u=!0,f=Math.min(400,(l?t.right:o.right-t.left)-30);let E=o.bottom-t.bottom;E>=y||E>t.top?p=i.bottom-t.top:(d="bottom",p=t.bottom-i.top)}return{style:`${d}: ${p/((t.bottom-t.top)/a.offsetHeight)}px; max-width: ${f/((t.right-t.left)/a.offsetWidth)}px`,class:"cm-completionInfo-"+(u?l?"left-narrow":"right-narrow":c?"left":"right")}}function P$(n,t,i){if(n<=i)return{from:0,to:n};if(t<0&&(t=0),t<=n>>1){let o=Math.floor(t/i);return{from:o*i,to:(o+1)*i}}let s=Math.floor((n-t)/i);return{from:n-(s+1)*i,to:n-s*i}}class mvt{constructor(t,i,s){this.view=t,this.stateField=i,this.applyCompletion=s,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let o=t.state.field(i),{options:a,selected:l}=o.open,c=t.state.facet(ea);this.optionContent=function hvt(n){let t=n.addToOptions.slice();return n.icons&&t.push({render(i){let s=document.createElement("div");return s.classList.add("cm-completionIcon"),i.type&&s.classList.add(...i.type.split(/\s+/g).map(o=>"cm-completionIcon-"+o)),s.setAttribute("aria-hidden","true"),s},position:20}),t.push({render(i,s,o,a){let l=document.createElement("span");l.className="cm-completionLabel";let c=i.displayLabel||i.label,u=0;for(let d=0;d<a.length;){let p=a[d++],f=a[d++];p>u&&l.appendChild(document.createTextNode(c.slice(u,p)));let h=l.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(c.slice(p,f))),h.className="cm-completionMatchedText",u=f}return u<c.length&&l.appendChild(document.createTextNode(c.slice(u))),l},position:50},{render(i){if(!i.detail)return null;let s=document.createElement("span");return s.className="cm-completionDetail",s.textContent=i.detail,s},position:80}),t.sort((i,s)=>i.position-s.position).map(i=>i.render)}(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=P$(a.length,l,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",u=>{let{options:d}=t.state.field(i).open;for(let f,p=u.target;p&&p!=this.dom;p=p.parentNode)if("LI"==p.nodeName&&(f=/-(\d+)$/.exec(p.id))&&+f[1]<d.length)return this.applyCompletion(t,d[+f[1]]),void u.preventDefault()}),this.dom.addEventListener("focusout",u=>{let d=t.state.field(this.stateField,!1);d&&d.tooltip&&t.state.facet(ea).closeOnBlur&&u.relatedTarget!=t.contentDOM&&t.dispatch({effects:Vx.of(null)})}),this.showOptions(a,o.id)}mount(){this.updateSel()}showOptions(t,i){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,i,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(t){var i;let s=t.state.field(this.stateField),o=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),s!=o){let{options:a,selected:l,disabled:c}=s.open;(!o.open||o.open.options!=a)&&(this.range=P$(a.length,l,t.state.facet(ea).maxRenderedOptions),this.showOptions(a,s.id)),this.updateSel(),c!=(null===(i=o.open)||void 0===i?void 0:i.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!c)}}updateTooltipClass(t){let i=this.tooltipClass(t);if(i!=this.currentClass){for(let s of this.currentClass.split(" "))s&&this.dom.classList.remove(s);for(let s of i.split(" "))s&&this.dom.classList.add(s);this.currentClass=i}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),i=t.open;if((i.selected>-1&&i.selected<this.range.from||i.selected>=this.range.to)&&(this.range=P$(i.options.length,i.selected,this.view.state.facet(ea).maxRenderedOptions),this.showOptions(i.options,t.id)),this.updateSelectedOption(i.selected)){this.destroyInfo();let{completion:s}=i.options[i.selected],{info:o}=s;if(!o)return;let a="string"==typeof o?document.createTextNode(o):o(s);if(!a)return;"then"in a?a.then(l=>{l&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(l,s)}).catch(l=>ol(this.view.state,l,"completion info")):this.addInfoPane(a,s)}}addInfoPane(t,i){this.destroyInfo();let s=this.info=document.createElement("div");if(s.className="cm-tooltip cm-completionInfo",null!=t.nodeType)s.appendChild(t),this.infoDestroy=null;else{let{dom:o,destroy:a}=t;s.appendChild(o),this.infoDestroy=a||null}this.dom.appendChild(s),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let i=null;for(let s=this.list.firstChild,o=this.range.from;s;s=s.nextSibling,o++)"LI"==s.nodeName&&s.id?o==t?s.hasAttribute("aria-selected")||(s.setAttribute("aria-selected","true"),i=s):s.hasAttribute("aria-selected")&&s.removeAttribute("aria-selected"):o--;return i&&function yvt(n,t){let i=n.getBoundingClientRect(),s=t.getBoundingClientRect(),o=i.height/n.offsetHeight;s.top<i.top?n.scrollTop-=(i.top-s.top)/o:s.bottom>i.bottom&&(n.scrollTop+=(s.bottom-i.bottom)/o)}(this.list,i),i}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let i=this.dom.getBoundingClientRect(),s=this.info.getBoundingClientRect(),o=t.getBoundingClientRect(),a=this.space;if(!a){let l=this.dom.ownerDocument.defaultView||window;a={left:0,top:0,right:l.innerWidth,bottom:l.innerHeight}}return o.top>Math.min(a.bottom,i.bottom)-10||o.bottom<Math.max(a.top,i.top)+10?null:this.view.state.facet(ea).positionInfo(this.view,i,o,s,a,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,i,s){const o=document.createElement("ul");o.id=i,o.setAttribute("role","listbox"),o.setAttribute("aria-expanded","true"),o.setAttribute("aria-label",this.view.state.phrase("Completions"));let a=null;for(let l=s.from;l<s.to;l++){let{completion:c,match:u}=t[l],{section:d}=c;if(d){let h="string"==typeof d?d:d.name;h!=a&&(l>s.from||0==s.from)&&(a=h,"string"!=typeof d&&d.header?o.appendChild(d.header(d)):o.appendChild(document.createElement("completion-section")).textContent=h)}const p=o.appendChild(document.createElement("li"));p.id=i+"-"+l,p.setAttribute("role","option");let f=this.optionClass(c);f&&(p.className=f);for(let h of this.optionContent){let m=h(c,this.view.state,this.view,u);m&&p.appendChild(m)}}return s.from&&o.classList.add("cm-completionListIncompleteTop"),s.to<t.length&&o.classList.add("cm-completionListIncompleteBottom"),o}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function gvt(n,t){return i=>new mvt(i,n,t)}function x_e(n){return 100*(n.boost||0)+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}class Jb{constructor(t,i,s,o,a,l){this.options=t,this.attrs=i,this.tooltip=s,this.timestamp=o,this.selected=a,this.disabled=l}setSelected(t,i){return t==this.selected||t>=this.options.length?this:new Jb(this.options,C_e(i,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,i,s,o,a){let l=function vvt(n,t){let i=[],s=null,o=d=>{i.push(d);let{section:p}=d.completion;if(p){s||(s=[]);let f="string"==typeof p?p:p.name;s.some(h=>h.name==f)||s.push("string"==typeof p?{name:f}:p)}},a=t.facet(ea);for(let d of n)if(d.hasResult()){let p=d.result.getMatch;if(!1===d.result.filter)for(let f of d.result.options)o(new b_e(f,d.source,p?p(f):[],1e9-i.length));else{let h,f=t.sliceDoc(d.from,d.to),m=a.filterStrict?new pvt(f):new dvt(f);for(let g of d.result.options)if(h=m.match(g.label)){let y=g.displayLabel?p?p(g,h.matched):[]:h.matched;o(new b_e(g,d.source,y,h.score+(g.boost||0)))}}}if(s){let d=Object.create(null),p=0,f=(h,m)=>{var g,y;return(null!==(g=h.rank)&&void 0!==g?g:1e9)-(null!==(y=m.rank)&&void 0!==y?y:1e9)||(h.name<m.name?-1:1)};for(let h of s.sort(f))p-=1e5,d[h.name]=p;for(let h of i){let{section:m}=h.completion;m&&(h.score+=d["string"==typeof m?m:m.name])}}let l=[],c=null,u=a.compareCompletions;for(let d of i.sort((p,f)=>f.score-p.score||u(p.completion,f.completion))){let p=d.completion;!c||c.label!=p.label||c.detail!=p.detail||null!=c.type&&null!=p.type&&c.type!=p.type||c.apply!=p.apply||c.boost!=p.boost?l.push(d):x_e(d.completion)>x_e(c)&&(l[l.length-1]=d),c=d.completion}return l}(t,i);if(!l.length)return o&&t.some(u=>1==u.state)?new Jb(o.options,o.attrs,o.tooltip,o.timestamp,o.selected,!0):null;let c=i.facet(ea).selectOnOpen?0:-1;if(o&&o.selected!=c&&-1!=o.selected){let u=o.options[o.selected].completion;for(let d=0;d<l.length;d++)if(l[d].completion==u){c=d;break}}return new Jb(l,C_e(s,c),{pos:t.reduce((u,d)=>d.hasResult()?Math.min(u,d.from):u,1e8),create:Cvt,above:a.aboveCursor},o?o.timestamp:Date.now(),c,!1)}map(t){return new Jb(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class zP{constructor(t,i,s){this.active=t,this.id=i,this.open=s}static start(){return new zP(wvt,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:i}=t,s=i.facet(ea),a=(s.override||i.languageDataAt("autocomplete",B0(i)).map(uvt)).map(c=>(this.active.find(d=>d.source==c)||new _c(c,this.active.some(d=>0!=d.state)?1:0)).update(t,s));a.length==this.active.length&&a.every((c,u)=>c==this.active[u])&&(a=this.active);let l=this.open;l&&t.docChanged&&(l=l.map(t.changes)),t.selection||a.some(c=>c.hasResult()&&t.changes.touchesRange(c.from,c.to))||!function bvt(n,t){if(n==t)return!0;for(let i=0,s=0;;){for(;i<n.length&&!n[i].hasResult;)i++;for(;s<t.length&&!t[s].hasResult;)s++;let o=i==n.length,a=s==t.length;if(o||a)return o==a;if(n[i++].result!=t[s++].result)return!1}}(a,this.active)?l=Jb.build(a,i,this.id,l,s):l&&l.disabled&&!a.some(c=>1==c.state)&&(l=null),!l&&a.every(c=>1!=c.state)&&a.some(c=>c.hasResult())&&(a=a.map(c=>c.hasResult()?new _c(c.source,0):c));for(let c of t.effects)c.is(D$)&&(l=l&&l.setSelected(c.value,this.id));return a==this.active&&l==this.open?this:new zP(a,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?_vt:Evt}}const _vt={"aria-autocomplete":"list"},Evt={};function C_e(n,t){let i={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return t>-1&&(i["aria-activedescendant"]=n+"-"+t),i}const wvt=[];function S_e(n,t){if(n.isUserEvent("input.complete")){let s=n.annotation(T$);if(s&&t.activateOnCompletion(s))return 12}let i=n.isUserEvent("input.type");return i&&t.activateOnTyping?5:i?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class _c{constructor(t,i,s=-1){this.source=t,this.state=i,this.explicitPos=s}hasResult(){return!1}update(t,i){let s=S_e(t,i),o=this;(8&s||16&s&&this.touches(t))&&(o=new _c(o.source,0)),4&s&&0==o.state&&(o=new _c(this.source,1)),o=o.updateFor(t,s);for(let a of t.effects)if(a.is($P))o=new _c(o.source,1,a.value?B0(t.state):-1);else if(a.is(Vx))o=new _c(o.source,0);else if(a.is(O_e))for(let l of a.value)l.source==o.source&&(o=l);return o}updateFor(t,i){return this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new _c(this.source,this.state,t.mapPos(this.explicitPos))}touches(t){return t.changes.touchesRange(B0(t.state))}}class e_ extends _c{constructor(t,i,s,o,a){super(t,2,i),this.result=s,this.from=o,this.to=a}hasResult(){return!0}updateFor(t,i){var s;if(!(3&i))return this.map(t.changes);let o=this.result;o.map&&!t.changes.empty&&(o=o.map(o,t.changes));let a=t.changes.mapPos(this.from),l=t.changes.mapPos(this.to,1),c=B0(t.state);if((this.explicitPos<0?c<=a:c<this.from)||c>l||!o||2&i&&B0(t.startState)==this.from)return new _c(this.source,4&i?1:0);let u=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return function xvt(n,t,i,s){if(!n)return!1;let o=t.sliceDoc(i,s);return"function"==typeof n?n(o,i,s,t):__e(n,!0).test(o)}(o.validFor,t.state,a,l)?new e_(this.source,u,o,a,l):o.update&&(o=o.update(o,a,l,new y_e(t.state,c,u>=0)))?new e_(this.source,u,o,o.from,null!==(s=o.to)&&void 0!==s?s:B0(t.state)):new _c(this.source,1,u)}map(t){return t.empty?this:(this.result.map?this.result.map(this.result,t):this.result)?new e_(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new _c(this.source,0)}touches(t){return t.changes.touchesRange(this.from,this.to)}}const O_e=_r.define({map:(n,t)=>n.map(i=>i.map(t))}),D$=_r.define(),Mo=ro.define({create:()=>zP.start(),update:(n,t)=>n.update(t),provide:n=>[kP.from(n,t=>t.tooltip),ln.contentAttributes.from(n,t=>t.attrs)]});function k$(n,t){const i=t.completion.apply||t.completion.label;let s=n.state.field(Mo).active.find(o=>o.source==t.source);return s instanceof e_&&("string"==typeof i?n.dispatch(Object.assign(Object.assign({},function cvt(n,t,i,s){let{main:o}=n.selection,a=i-o.from,l=s-o.from;return Object.assign(Object.assign({},n.changeByRange(c=>{if(c!=o&&i!=s&&n.sliceDoc(c.from+a,c.from+l)!=n.sliceDoc(i,s))return{range:c};let u=n.toText(t);return{changes:{from:c.from+a,to:s==o.from?c.to:c.from+l,insert:u},range:lt.cursor(c.from+a+u.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}(n.state,i,s.from,s.to)),{annotations:T$.of(t.completion)})):i(n,t.completion,s.from,s.to),!0)}const Cvt=gvt(Mo,k$);function HP(n,t="option"){return i=>{let s=i.state.field(Mo,!1);if(!s||!s.open||s.open.disabled||Date.now()-s.open.timestamp<i.state.facet(ea).interactionDelay)return!1;let a,o=1;"page"==t&&(a=Pbe(i,s.open.tooltip))&&(o=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:l}=s.open.options,c=s.open.selected>-1?s.open.selected+o*(n?1:-1):n?0:l-1;return c<0?c="page"==t?0:l-1:c>=l&&(c="page"==t?l-1:0),i.dispatch({effects:D$.of(c)}),!0}}const T_e=n=>!!n.state.field(Mo,!1)&&(n.dispatch({effects:$P.of(!0)}),!0);class Tvt{constructor(t,i){this.active=t,this.context=i,this.time=Date.now(),this.updates=[],this.done=void 0}}const kvt=cs.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of n.state.field(Mo).active)1==t.state&&this.startQuery(t)}update(n){let t=n.state.field(Mo),i=n.state.facet(ea);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Mo)==t)return;let s=n.transactions.some(a=>{let l=S_e(a,i);return 8&l||(a.selection||a.docChanged)&&!(3&l)});for(let a=0;a<this.running.length;a++){let l=this.running[a];if(s||l.context.abortOnDocChange&&n.docChanged||l.updates.length+n.transactions.length>50&&Date.now()-l.time>1e3){for(let c of l.context.abortListeners)try{c()}catch(u){ol(this.view.state,u)}l.context.abortListeners=null,this.running.splice(a--,1)}else l.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(a=>a.effects.some(l=>l.is($P)))&&(this.pendingStart=!0);let o=this.pendingStart?50:i.activateOnTypingDelay;if(this.debounceUpdate=t.active.some(a=>1==a.state&&!this.running.some(l=>l.active.source==a.source))?setTimeout(()=>this.startUpdate(),o):-1,0!=this.composing)for(let a of n.transactions)a.isUserEvent("input.type")?this.composing=2:2==this.composing&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,t=n.field(Mo);for(let i of t.active)1==i.state&&!this.running.some(s=>s.active.source==i.source)&&this.startQuery(i)}startQuery(n){let{state:t}=this.view,i=B0(t),s=new y_e(t,i,n.explicitPos==i,this.view),o=new Tvt(n,s);this.running.push(o),Promise.resolve(n.source(s)).then(a=>{o.context.aborted||(o.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:Vx.of(null)}),ol(this.view.state,a)})}scheduleAccept(){this.running.every(n=>void 0!==n.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ea).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],i=this.view.state.facet(ea);for(let s=0;s<this.running.length;s++){let o=this.running[s];if(void 0===o.done)continue;if(this.running.splice(s--,1),o.done){let l=new e_(o.active.source,o.active.explicitPos,o.done,o.done.from,null!==(n=o.done.to)&&void 0!==n?n:B0(o.updates.length?o.updates[0].startState:this.view.state));for(let c of o.updates)l=l.update(c,i);if(l.hasResult()){t.push(l);continue}}let a=this.view.state.field(Mo).active.find(l=>l.source==o.active.source);if(a&&1==a.state)if(null==o.done){let l=new _c(o.active.source,0);for(let c of o.updates)l=l.update(c,i);1!=l.state&&t.push(l)}else this.startQuery(a)}t.length&&this.view.dispatch({effects:O_e.of(t)})}},{eventHandlers:{blur(n){let t=this.view.state.field(Mo,!1);if(t&&t.tooltip&&this.view.state.facet(ea).closeOnBlur){let i=t.open&&Pbe(this.view,t.open.tooltip);(!i||!i.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Vx.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:$P.of(!1)}),20),this.composing=0}}}),Mvt="object"==typeof navigator&&/Win/.test(navigator.platform),Avt=Af.highest(ln.domEventHandlers({keydown(n,t){let i=t.state.field(Mo,!1);if(!i||!i.open||i.open.disabled||i.open.selected<0||n.key.length>1||n.ctrlKey&&(!Mvt||!n.altKey)||n.metaKey)return!1;let s=i.open.options[i.open.selected],o=i.active.find(l=>l.source==s.source),a=s.completion.commitCharacters||o.result.commitCharacters;return a&&a.indexOf(n.key)>-1&&k$(t,s),!1}})),P_e=ln.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1d465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1d436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1d461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1f511}\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class Ivt{constructor(t,i,s,o){this.field=t,this.line=i,this.from=s,this.to=o}}class M${constructor(t,i,s){this.field=t,this.from=i,this.to=s}map(t){let i=t.mapPos(this.from,-1,Zo.TrackDel),s=t.mapPos(this.to,1,Zo.TrackDel);return null==i||null==s?null:new M$(this.field,i,s)}}class A${constructor(t,i){this.lines=t,this.fieldPositions=i}instantiate(t,i){let s=[],o=[i],a=t.doc.lineAt(i),l=/^\s*/.exec(a.text)[0];for(let u of this.lines){if(s.length){let d=l,p=/^\t*/.exec(u)[0].length;for(let f=0;f<p;f++)d+=t.facet(LP);o.push(i+d.length-p),u=d+u.slice(p)}s.push(u),i+=u.length+1}return{text:s,ranges:this.fieldPositions.map(u=>new M$(u.field,o[u.line]+u.from,o[u.line]+u.to))}}static parse(t){let a,i=[],s=[],o=[];for(let l of t.split(/\r\n?|\n/)){for(;a=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(l);){let c=a[1]?+a[1]:null,u=a[2]||a[3]||"",d=-1,p=u.replace(/\\[{}]/g,f=>f[1]);for(let f=0;f<i.length;f++)(null!=c?i[f].seq==c:p&&i[f].name==p)&&(d=f);if(d<0){let f=0;for(;f<i.length&&(null==c||null!=i[f].seq&&i[f].seq<c);)f++;i.splice(f,0,{seq:c,name:p}),d=f;for(let h of o)h.field>=d&&h.field++}o.push(new Ivt(d,s.length,a.index,a.index+p.length)),l=l.slice(0,a.index)+u+l.slice(a.index+a[0].length)}l=l.replace(/\\([{}])/g,(c,u,d)=>{for(let p of o)p.line==s.length&&p.from>d&&(p.from--,p.to--);return u}),s.push(l)}return new A$(s,o)}}let Rvt=bn.widget({widget:new class extends tp{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),Nvt=bn.mark({class:"cm-snippetField"});class t_{constructor(t,i){this.ranges=t,this.active=i,this.deco=bn.set(t.map(s=>(s.from==s.to?Rvt:Nvt).range(s.from,s.to)))}map(t){let i=[];for(let s of this.ranges){let o=s.map(t);if(!o)return null;i.push(o)}return new t_(i,this.active)}selectionInsideField(t){return t.ranges.every(i=>this.ranges.some(s=>s.field==this.active&&s.from<=i.from&&s.to>=i.to))}}const $x=_r.define({map:(n,t)=>n&&n.map(t)}),Lvt=_r.define(),f1=ro.define({create:()=>null,update(n,t){for(let i of t.effects){if(i.is($x))return i.value;if(i.is(Lvt)&&n)return new t_(n.ranges,i.value)}return n&&t.docChanged&&(n=n.map(t.changes)),n&&t.selection&&!n.selectionInsideField(t.selection)&&(n=null),n},provide:n=>ln.decorations.from(n,t=>t?t.deco:bn.none)});function I$(n,t){return lt.create(n.filter(i=>i.field==t).map(i=>lt.range(i.from,i.to)))}function Fvt(n){let t=A$.parse(n);return(i,s,o,a)=>{let{text:l,ranges:c}=t.instantiate(i.state,o),u={changes:{from:o,to:a,insert:qr.of(l)},scrollIntoView:!0,annotations:s?[T$.of(s),Ju.userEvent.of("input.complete")]:void 0};if(c.length&&(u.selection=I$(c,0)),c.some(d=>d.field>0)){let d=new t_(c,0),p=u.effects=[$x.of(d)];void 0===i.state.field(f1,!1)&&p.push(_r.appendConfig.of([f1,zvt,Hvt,P_e]))}i.dispatch(i.state.update(u))}}function D_e(n){return({state:t,dispatch:i})=>{let s=t.field(f1,!1);if(!s||n<0&&0==s.active)return!1;let o=s.active+n,a=n>0&&!s.ranges.some(l=>l.field==o+n);return i(t.update({selection:I$(s.ranges,o),effects:$x.of(a?null:new t_(s.ranges,o)),scrollIntoView:!0})),!0}}const $vt=[{key:"Tab",run:D_e(1),shift:D_e(-1)},{key:"Escape",run:({state:n,dispatch:t})=>!!n.field(f1,!1)&&(t(n.update({effects:$x.of(null)})),!0)}],k_e=rn.define({combine:n=>n.length?n[0]:$vt}),zvt=Af.highest(qb.compute([k_e],n=>n.facet(k_e)));function h1(n,t){return Object.assign(Object.assign({},t),{apply:Fvt(n)})}const Hvt=ln.domEventHandlers({mousedown(n,t){let s,i=t.state.field(f1,!1);if(!i||null==(s=t.posAtCoords({x:n.clientX,y:n.clientY})))return!1;let o=i.ranges.find(a=>a.from<=s&&a.to>=s);return!(!o||o.field==i.active||(t.dispatch({selection:I$(i.ranges,o.field),effects:$x.of(i.ranges.some(a=>a.field>o.field)?new t_(i.ranges,o.field):null),scrollIntoView:!0}),0))}}),zx={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},m1=_r.define({map:(n,t)=>t.mapPos(n,-1,Zo.TrackAfter)??void 0}),R$=new class extends s1{};R$.startSide=1,R$.endSide=-1;const N_e=ro.define({create:()=>ls.empty,update(n,t){if(n=n.map(t.changes),t.selection){let i=t.state.doc.lineAt(t.selection.main.head);n=n.update({filter:s=>s>=i.from&&s<=i.to})}for(let i of t.effects)i.is(m1)&&(n=n.update({add:[R$.range(i.value,i.value+1)]}));return n}});function N$(){return[Gvt,N_e]}const L$="()[]{}<>";function L_e(n){for(let t=0;t<8;t+=2)if(L$.charCodeAt(t)==n)return L$.charAt(t+1);return eV(n<128?n:n+1)}function F_e(n,t){return n.languageDataAt("closeBrackets",t)[0]||zx}const Wvt="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Gvt=ln.inputHandler.of((n,t,i,s)=>{if((Wvt?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let o=n.state.selection.main;if(s.length>2||2==s.length&&1==uu(Xo(s,0))||t!=o.from||i!=o.to)return!1;let a=function Yvt(n,t){let i=F_e(n,n.selection.main.head),s=i.brackets||zx.brackets;for(let o of s){let a=L_e(Xo(o,0));if(t==o)return a==o?Jvt(n,o,s.indexOf(o+o+o)>-1,i):Zvt(n,o,a,i.before||zx.before);if(t==a&&B_e(n,n.selection.main.from))return Qvt(n,0,a)}return null}(n.state,s);return!!a&&(n.dispatch(a),!0)}),Kvt=[{key:"Backspace",run:({state:n,dispatch:t})=>{if(n.readOnly)return!1;let s=F_e(n,n.selection.main.head).brackets||zx.brackets,o=null,a=n.changeByRange(l=>{if(l.empty){let c=function Xvt(n,t){let i=n.sliceString(t-2,t);return uu(Xo(i,0))==i.length?i:i.slice(1)}(n.doc,l.head);for(let u of s)if(u==c&&UP(n.doc,l.head)==L_e(Xo(u,0)))return{changes:{from:l.head-u.length,to:l.head+u.length},range:lt.cursor(l.head-u.length)}}return{range:o=l}});return o||t(n.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!o}}];function B_e(n,t){let i=!1;return n.field(N_e).between(0,n.doc.length,s=>{s==t&&(i=!0)}),i}function UP(n,t){let i=n.sliceString(t,t+2);return i.slice(0,uu(Xo(i,0)))}function Zvt(n,t,i,s){let o=null,a=n.changeByRange(l=>{if(!l.empty)return{changes:[{insert:t,from:l.from},{insert:i,from:l.to}],effects:m1.of(l.to+t.length),range:lt.range(l.anchor+t.length,l.head+t.length)};let c=UP(n.doc,l.head);return!c||/\s/.test(c)||s.indexOf(c)>-1?{changes:{insert:t+i,from:l.head},effects:m1.of(l.head+t.length),range:lt.cursor(l.head+t.length)}:{range:o=l}});return o?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function Qvt(n,t,i){let s=null,o=n.changeByRange(a=>a.empty&&UP(n.doc,a.head)==i?{changes:{from:a.head,to:a.head+i.length,insert:i},range:lt.cursor(a.head+i.length)}:s={range:a});return s?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Jvt(n,t,i,s){let o=s.stringPrefixes||zx.stringPrefixes,a=null,l=n.changeByRange(c=>{if(!c.empty)return{changes:[{insert:t,from:c.from},{insert:t,from:c.to}],effects:m1.of(c.to+t.length),range:lt.range(c.anchor+t.length,c.head+t.length)};let p,u=c.head,d=UP(n.doc,u);if(d==t){if(j_e(n,u))return{changes:{insert:t+t,from:u},effects:m1.of(u+t.length),range:lt.cursor(u+t.length)};if(B_e(n,u)){let h=i&&n.sliceDoc(u,u+3*t.length)==t+t+t?t+t+t:t;return{changes:{from:u,to:u+h.length,insert:h},range:lt.cursor(u+h.length)}}}else{if(i&&n.sliceDoc(u-2*t.length,u)==t+t&&(p=V_e(n,u-2*t.length,o))>-1&&j_e(n,p))return{changes:{insert:t+t+t+t,from:u},effects:m1.of(u+t.length),range:lt.cursor(u+t.length)};if(n.charCategorizer(u)(d)!=as.Word&&V_e(n,u,o)>-1&&!function ebt(n,t,i,s){let o=Ci(n).resolveInner(t,-1),a=s.reduce((l,c)=>Math.max(l,c.length),0);for(let l=0;l<5;l++){let c=n.sliceDoc(o.from,Math.min(o.to,o.from+i.length+a)),u=c.indexOf(i);if(!u||u>-1&&s.indexOf(c.slice(0,u))>-1){let p=o.firstChild;for(;p&&p.from==o.from&&p.to-p.from>i.length+u;){if(n.sliceDoc(p.to-i.length,p.to)==i)return!1;p=p.firstChild}return!0}let d=o.to==t&&o.parent;if(!d)break;o=d}return!1}(n,u,t,o))return{changes:{insert:t+t,from:u},effects:m1.of(u+t.length),range:lt.cursor(u+t.length)}}return{range:a=c}});return a?null:n.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function j_e(n,t){let i=Ci(n).resolveInner(t+1);return i.parent&&i.from==t}function V_e(n,t,i){let s=n.charCategorizer(t);if(s(n.sliceDoc(t-1,t))!=as.Word)return t;for(let o of i){let a=t-o.length;if(n.sliceDoc(a,t)==o&&s(n.sliceDoc(a-1,a))!=as.Word)return a}return-1}function $_e(n={}){return[Avt,Mo,ea.of(n),kvt,tbt,P_e]}const z_e=[{key:"Ctrl-Space",run:T_e},{mac:"Alt-`",run:T_e},{key:"Escape",run:n=>{let t=n.state.field(Mo,!1);return!(!t||!t.active.some(i=>0!=i.state)||(n.dispatch({effects:Vx.of(null)}),0))}},{key:"ArrowDown",run:HP(!0)},{key:"ArrowUp",run:HP(!1)},{key:"PageDown",run:HP(!0,"page")},{key:"PageUp",run:HP(!1,"page")},{key:"Enter",run:n=>{let t=n.state.field(Mo,!1);return!(n.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<n.state.facet(ea).interactionDelay)&&k$(n,t.open.options[t.open.selected])}}],tbt=Af.highest(qb.computeN([ea],n=>n.facet(ea).defaultKeymap?[z_e]:[]));function F$(n,t){return({state:i,dispatch:s})=>{if(i.readOnly)return!1;let o=n(t,i);return!!o&&(s(i.update(o)),!0)}}const rbt=F$(lbt,0),ibt=F$(U_e,0),sbt=F$((n,t)=>U_e(n,t,function abt(n){let t=[];for(let i of n.selection.ranges){let s=n.doc.lineAt(i.from),o=i.to<=s.to?s:n.doc.lineAt(i.to),a=t.length-1;a>=0&&t[a].to>s.from?t[a].to=o.to:t.push({from:s.from+/^\s*/.exec(s.text)[0].length,to:o.to})}return t}(t)),0);function B$(n,t){let i=n.languageDataAt("commentTokens",t);return i.length?i[0]:{}}const Hx=50;function U_e(n,t,i=t.selection.ranges){let s=i.map(a=>B$(t,a.from).block);if(!s.every(a=>a))return null;let o=i.map((a,l)=>function obt(n,{open:t,close:i},s,o){let p,f,a=n.sliceDoc(s-Hx,s),l=n.sliceDoc(o,o+Hx),c=/\s*$/.exec(a)[0].length,u=/^\s*/.exec(l)[0].length,d=a.length-c;if(a.slice(d-t.length,d)==t&&l.slice(u,u+i.length)==i)return{open:{pos:s-c,margin:c&&1},close:{pos:o+u,margin:u&&1}};o-s<=2*Hx?p=f=n.sliceDoc(s,o):(p=n.sliceDoc(s,s+Hx),f=n.sliceDoc(o-Hx,o));let h=/^\s*/.exec(p)[0].length,m=/\s*$/.exec(f)[0].length,g=f.length-m-i.length;return p.slice(h,h+t.length)==t&&f.slice(g,g+i.length)==i?{open:{pos:s+h+t.length,margin:/\s/.test(p.charAt(h+t.length))?1:0},close:{pos:o-m-i.length,margin:/\s/.test(f.charAt(g-1))?1:0}}:null}(t,s[l],a.from,a.to));if(2!=n&&!o.every(a=>a))return{changes:t.changes(i.map((a,l)=>o[l]?[]:[{from:a.from,insert:s[l].open+" "},{from:a.to,insert:" "+s[l].close}]))};if(1!=n&&o.some(a=>a)){let a=[];for(let c,l=0;l<o.length;l++)if(c=o[l]){let u=s[l],{open:d,close:p}=c;a.push({from:d.pos-u.open.length,to:d.pos+d.margin},{from:p.pos-p.margin,to:p.pos+u.close.length})}return{changes:a}}return null}function lbt(n,t,i=t.selection.ranges){let s=[],o=-1;for(let{from:a,to:l}of i){let c=s.length,u=1e9,d=B$(t,a).line;if(d){for(let p=a;p<=l;){let f=t.doc.lineAt(p);if(f.from>o&&(a==l||l>f.from)){o=f.from;let h=/^\s*/.exec(f.text)[0].length,m=h==f.length,g=f.text.slice(h,h+d.length)==d?h:-1;h<f.text.length&&h<u&&(u=h),s.push({line:f,comment:g,token:d,indent:h,empty:m,single:!1})}p=f.to+1}if(u<1e9)for(let p=c;p<s.length;p++)s[p].indent<s[p].line.text.length&&(s[p].indent=u);s.length==c+1&&(s[c].single=!0)}}if(2!=n&&s.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:c,token:u,indent:d,empty:p,single:f}of s)(f||!p)&&a.push({from:c.from+d,insert:u+" "});let l=t.changes(a);return{changes:l,selection:t.selection.map(l,1)}}if(1!=n&&s.some(a=>a.comment>=0)){let a=[];for(let{line:l,comment:c,token:u}of s)if(c>=0){let d=l.from+c,p=d+u.length;" "==l.text[p-l.from]&&p++,a.push({from:d,to:p})}return{changes:a}}return null}const j$=If.define(),cbt=If.define(),ubt=rn.define(),q_e=rn.define({combine:n=>ed(n,{minDepth:100,newGroupDelay:500,joinToEvent:(t,i)=>i},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,i)=>(s,o)=>t(s,o)||i(s,o)})}),V$=ro.define({create:()=>H$.empty,update(n,t){let i=t.state.facet(q_e),s=t.annotation(j$);if(s){let u=Vl.fromTransaction(t,s.selection),d=s.side,p=0==d?n.undone:n.done;return p=u?WP(p,p.length,i.minDepth,u):K_e(p,t.startState.selection),new H$(0==d?s.rest:p,0==d?p:s.rest)}let o=t.annotation(cbt);if(("full"==o||"before"==o)&&(n=n.isolate()),!1===t.annotation(Ju.addToHistory))return t.changes.empty?n:n.addMapping(t.changes.desc);let a=Vl.fromTransaction(t),l=t.annotation(Ju.time),c=t.annotation(Ju.userEvent);return a?n=n.addChanges(a,l,c,i,t):t.selection&&(n=n.addSelection(t.startState.selection,l,c,i.newGroupDelay)),("full"==o||"after"==o)&&(n=n.isolate()),n},toJSON:n=>({done:n.done.map(t=>t.toJSON()),undone:n.undone.map(t=>t.toJSON())}),fromJSON:n=>new H$(n.done.map(Vl.fromJSON),n.undone.map(Vl.fromJSON))});function qP(n,t){return function({state:i,dispatch:s}){if(!t&&i.readOnly)return!1;let o=i.field(V$,!1);if(!o)return!1;let a=o.pop(n,i,t);return!!a&&(s(a),!0)}}const W_e=qP(0,!1),$$=qP(1,!1),pbt=qP(0,!0),fbt=qP(1,!0);class Vl{constructor(t,i,s,o,a){this.changes=t,this.effects=i,this.mapped=s,this.startSelection=o,this.selectionsAfter=a}setSelAfter(t){return new Vl(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,i,s;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(i=this.mapped)||void 0===i?void 0:i.toJSON(),startSelection:null===(s=this.startSelection)||void 0===s?void 0:s.toJSON(),selectionsAfter:this.selectionsAfter.map(o=>o.toJSON())}}static fromJSON(t){return new Vl(t.changes&&yo.fromJSON(t.changes),[],t.mapped&&Jd.fromJSON(t.mapped),t.startSelection&&lt.fromJSON(t.startSelection),t.selectionsAfter.map(lt.fromJSON))}static fromTransaction(t,i){let s=pu;for(let o of t.startState.facet(ubt)){let a=o(t);a.length&&(s=s.concat(a))}return!s.length&&t.changes.empty?null:new Vl(t.changes.invert(t.startState.doc),s,void 0,i||t.startState.selection,pu)}static selection(t){return new Vl(void 0,pu,void 0,void 0,t)}}function WP(n,t,i,s){let a=n.slice(t+1>i+20?t-i-1:0,t);return a.push(s),a}function G_e(n,t){return n.length?t.length?n.concat(t):n:t}const pu=[],gbt=200;function K_e(n,t){if(n.length){let i=n[n.length-1],s=i.selectionsAfter.slice(Math.max(0,i.selectionsAfter.length-gbt));return s.length&&s[s.length-1].eq(t)?n:(s.push(t),WP(n,n.length-1,1e9,i.setSelAfter(s)))}return[Vl.selection([t])]}function ybt(n){let t=n[n.length-1],i=n.slice();return i[n.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),i}function z$(n,t){if(!n.length)return n;let i=n.length,s=pu;for(;i;){let o=vbt(n[i-1],t,s);if(o.changes&&!o.changes.empty||o.effects.length){let a=n.slice(0,i);return a[i-1]=o,a}t=o.mapped,i--,s=o.selectionsAfter}return s.length?[Vl.selection(s)]:pu}function vbt(n,t,i){let s=G_e(n.selectionsAfter.length?n.selectionsAfter.map(c=>c.map(t)):pu,i);if(!n.changes)return Vl.selection(s);let o=n.changes.map(t),a=t.mapDesc(n.changes,!0),l=n.mapped?n.mapped.composeDesc(a):a;return new Vl(o,_r.mapEffects(n.effects,t),l,n.startSelection.map(a),s)}const bbt=/^(input\.type|delete)($|\.)/;let H$=(()=>{class n{constructor(i,s,o=0,a=void 0){this.done=i,this.undone=s,this.prevTime=o,this.prevUserEvent=a}isolate(){return this.prevTime?new n(this.done,this.undone):this}addChanges(i,s,o,a,l){let c=this.done,u=c[c.length-1];return c=u&&u.changes&&!u.changes.empty&&i.changes&&(!o||bbt.test(o))&&(!u.selectionsAfter.length&&s-this.prevTime<a.newGroupDelay&&a.joinToEvent(l,function hbt(n,t){let i=[],s=!1;return n.iterChangedRanges((o,a)=>i.push(o,a)),t.iterChangedRanges((o,a,l,c)=>{for(let u=0;u<i.length;){let d=i[u++],p=i[u++];c>=d&&l<=p&&(s=!0)}}),s}(u.changes,i.changes))||"input.type.compose"==o)?WP(c,c.length-1,a.minDepth,new Vl(i.changes.compose(u.changes),G_e(_r.mapEffects(i.effects,u.changes),u.effects),u.mapped,u.startSelection,pu)):WP(c,c.length,a.minDepth,i),new n(c,pu,s,o)}addSelection(i,s,o,a){let l=this.done.length?this.done[this.done.length-1].selectionsAfter:pu;return l.length>0&&s-this.prevTime<a&&o==this.prevUserEvent&&o&&/^select($|\.)/.test(o)&&function mbt(n,t){return n.ranges.length==t.ranges.length&&0===n.ranges.filter((i,s)=>i.empty!=t.ranges[s].empty).length}(l[l.length-1],i)?this:new n(K_e(this.done,i),this.undone,s,o)}addMapping(i){return new n(z$(this.done,i),z$(this.undone,i),this.prevTime,this.prevUserEvent)}pop(i,s,o){let a=0==i?this.done:this.undone;if(0==a.length)return null;let l=a[a.length-1],c=l.selectionsAfter[0]||s.selection;if(o&&l.selectionsAfter.length)return s.update({selection:l.selectionsAfter[l.selectionsAfter.length-1],annotations:j$.of({side:i,rest:ybt(a),selection:c}),userEvent:0==i?"select.undo":"select.redo",scrollIntoView:!0});if(l.changes){let u=1==a.length?pu:a.slice(0,a.length-1);return l.mapped&&(u=z$(u,l.mapped)),s.update({changes:l.changes,selection:l.startSelection,effects:l.effects,annotations:j$.of({side:i,rest:u,selection:c}),filter:!1,userEvent:0==i?"undo":"redo",scrollIntoView:!0})}return null}}return n.empty=new n(pu,pu),n})();const _bt=[{key:"Mod-z",run:W_e,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:$$,preventDefault:!0},{linux:"Ctrl-Shift-z",run:$$,preventDefault:!0},{key:"Mod-u",run:pbt,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:fbt,preventDefault:!0}];function n_(n,t){return lt.create(n.ranges.map(t),n.mainIndex)}function op(n,t){return n.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function fu({state:n,dispatch:t},i){let s=n_(n.selection,i);return!s.eq(n.selection,!0)&&(t(op(n,s)),!0)}function Ux(n,t){return lt.cursor(t?n.to:n.from)}function GP(n,t){return fu(n,i=>i.empty?n.moveByChar(i,t):Ux(i,t))}function Da(n){return n.textDirectionAt(n.state.selection.main.head)==Mi.LTR}const Y_e=n=>GP(n,!Da(n)),X_e=n=>GP(n,Da(n));function KP(n,t){return fu(n,i=>i.empty?n.moveByGroup(i,t):Ux(i,t))}function xbt(n,t,i){if(t.type.prop(i))return!0;let s=t.to-t.from;return s&&(s>2||/[^\s,.;:]/.test(n.sliceDoc(t.from,t.to)))||t.firstChild}function YP(n,t,i){let l,c,s=Ci(n).resolveInner(t.head),o=i?Kn.closedBy:Kn.openedBy;for(let u=t.head;;){let d=i?s.childAfter(u):s.childBefore(u);if(!d)break;xbt(n,d,o)?s=d:u=i?d.to:d.from}return c=s.type.prop(o)&&(l=i?sp(n,s.from,1):sp(n,s.to,-1))&&l.matched?i?l.end.to:l.end.from:i?s.to:s.from,lt.cursor(c,i?-1:1)}function e2e(n,t){return fu(n,i=>{if(!i.empty)return Ux(i,t);let s=n.moveVertically(i,t);return s.head!=i.head?s:n.moveToLineBoundary(i,t)})}typeof Intl<"u"&&Intl;const t2e=n=>e2e(n,!1),n2e=n=>e2e(n,!0);function r2e(n){let o,t=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,i=0,s=0;if(t){for(let a of n.state.facet(ln.scrollMargins)){let l=a(n);l?.top&&(i=Math.max(l?.top,i)),l?.bottom&&(s=Math.max(l?.bottom,s))}o=n.scrollDOM.clientHeight-i-s}else o=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:i,marginBottom:s,selfScroll:t,height:Math.max(n.defaultLineHeight,o-5)}}function i2e(n,t){let a,i=r2e(n),{state:s}=n,o=n_(s.selection,l=>l.empty?n.moveVertically(l,t,i.height):Ux(l,t));if(o.eq(s.selection))return!1;if(i.selfScroll){let l=n.coordsAtPos(s.selection.main.head),c=n.scrollDOM.getBoundingClientRect(),u=c.top+i.marginTop;l&&l.top>u&&l.bottom<c.bottom-i.marginBottom&&(a=ln.scrollIntoView(o.main.head,{y:"start",yMargin:l.top-u}))}return n.dispatch(op(s,o),{effects:a}),!0}const s2e=n=>i2e(n,!1),U$=n=>i2e(n,!0);function j0(n,t,i){let s=n.lineBlockAt(t.head),o=n.moveToLineBoundary(t,i);if(o.head==t.head&&o.head!=(i?s.to:s.from)&&(o=n.moveToLineBoundary(t,i,!1)),!i&&o.head==s.from&&s.length){let a=/^\s*/.exec(n.state.sliceDoc(s.from,Math.min(s.from+100,s.to)))[0].length;a&&t.head!=s.from+a&&(o=lt.cursor(s.from+a))}return o}function Ec(n,t){let i=n_(n.state.selection,s=>{let o=t(s);return lt.range(s.anchor,o.head,o.goalColumn,o.bidiLevel||void 0)});return!i.eq(n.state.selection)&&(n.dispatch(op(n.state,i)),!0)}function XP(n,t){return Ec(n,i=>n.moveByChar(i,t))}const a2e=n=>XP(n,!Da(n)),l2e=n=>XP(n,Da(n));function ZP(n,t){return Ec(n,i=>n.moveByGroup(i,t))}function u2e(n,t){return Ec(n,i=>n.moveVertically(i,t))}const d2e=n=>u2e(n,!1),p2e=n=>u2e(n,!0);function f2e(n,t){return Ec(n,i=>n.moveVertically(i,t,r2e(n).height))}const h2e=n=>f2e(n,!1),m2e=n=>f2e(n,!0),g2e=({state:n,dispatch:t})=>(t(op(n,{anchor:0})),!0),y2e=({state:n,dispatch:t})=>(t(op(n,{anchor:n.doc.length})),!0),v2e=({state:n,dispatch:t})=>(t(op(n,{anchor:n.selection.main.anchor,head:0})),!0),b2e=({state:n,dispatch:t})=>(t(op(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0);function r_(n,t){if(n.state.readOnly)return!1;let i="delete.selection",{state:s}=n,o=s.changeByRange(a=>{let{from:l,to:c}=a;if(l==c){let u=t(a);u<l?(i="delete.backward",u=QP(n,u,!1)):u>l&&(i="delete.forward",u=QP(n,u,!0)),l=Math.min(l,u),c=Math.max(c,u)}else l=QP(n,l,!1),c=QP(n,c,!0);return l==c?{range:a}:{changes:{from:l,to:c},range:lt.cursor(l,l<a.head?-1:1)}});return!o.changes.empty&&(n.dispatch(s.update(o,{scrollIntoView:!0,userEvent:i,effects:"delete.selection"==i?ln.announce.of(s.phrase("Selection deleted")):void 0})),!0)}function QP(n,t,i){if(n instanceof ln)for(let s of n.state.facet(ln.atomicRanges).map(o=>o(n)))s.between(t,t,(o,a)=>{o<t&&a>t&&(t=i?a:o)});return t}const q$=(n,t,i)=>r_(n,s=>{let c,u,o=s.from,{state:a}=n,l=a.doc.lineAt(o);if(i&&!t&&o>l.from&&o<l.from+200&&!/[^ \t]/.test(c=l.text.slice(0,o-l.from))){if("\t"==c[c.length-1])return o-1;let p=jb(c,a.tabSize)%p1(a)||p1(a);for(let f=0;f<p&&" "==c[c.length-1-f];f++)o--;u=o}else u=Yo(l.text,o-l.from,t,t)+l.from,u==o&&l.number!=(t?a.doc.lines:1)?u+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(l.text.slice(u-l.from,o-l.from))&&(u=Yo(l.text,u-l.from,!1,!1)+l.from);return u}),W$=n=>q$(n,!1,!0),_2e=n=>q$(n,!0,!1),E2e=(n,t)=>r_(n,i=>{let s=i.head,{state:o}=n,a=o.doc.lineAt(s),l=o.charCategorizer(s);for(let c=null;;){if(s==(t?a.to:a.from)){s==i.head&&a.number!=(t?o.doc.lines:1)&&(s+=t?1:-1);break}let u=Yo(a.text,s-a.from,t)+a.from,d=a.text.slice(Math.min(s,u)-a.from,Math.max(s,u)-a.from),p=l(d);if(null!=c&&p!=c)break;(" "!=d||s!=i.head)&&(c=p),s=u}return s}),w2e=n=>E2e(n,!1);function JP(n){let t=[],i=-1;for(let s of n.selection.ranges){let o=n.doc.lineAt(s.from),a=n.doc.lineAt(s.to);if(!s.empty&&s.to==a.from&&(a=n.doc.lineAt(s.to-1)),i>=o.number){let l=t[t.length-1];l.to=a.to,l.ranges.push(s)}else t.push({from:o.from,to:a.to,ranges:[s]});i=a.number+1}return t}function x2e(n,t,i){if(n.readOnly)return!1;let s=[],o=[];for(let a of JP(n)){if(i?a.to==n.doc.length:0==a.from)continue;let l=n.doc.lineAt(i?a.to+1:a.from-1),c=l.length+1;if(i){s.push({from:a.to,to:l.to},{from:a.from,insert:l.text+n.lineBreak});for(let u of a.ranges)o.push(lt.range(Math.min(n.doc.length,u.anchor+c),Math.min(n.doc.length,u.head+c)))}else{s.push({from:l.from,to:a.from},{from:a.to,insert:n.lineBreak+l.text});for(let u of a.ranges)o.push(lt.range(u.anchor-c,u.head-c))}}return!!s.length&&(t(n.update({changes:s,scrollIntoView:!0,selection:lt.create(o,n.selection.mainIndex),userEvent:"move.line"})),!0)}function C2e(n,t,i){if(n.readOnly)return!1;let s=[];for(let o of JP(n))s.push(i?{from:o.from,insert:n.doc.slice(o.from,o.to)+n.lineBreak}:{from:o.to,insert:n.lineBreak+n.doc.slice(o.from,o.to)});return t(n.update({changes:s,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const s_t=S2e(!1);function S2e(n){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let s=t.changeByRange(o=>{let{from:a,to:l}=o,c=t.doc.lineAt(a),u=!n&&a==l&&function i_t(n,t){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(t-1,t+1)))return{from:t,to:t};let a,i=Ci(n).resolveInner(t),s=i.childBefore(t),o=i.childAfter(t);return s&&o&&s.to<=t&&o.from>=t&&(a=s.type.prop(Kn.closedBy))&&a.indexOf(o.name)>-1&&n.doc.lineAt(s.to).from==n.doc.lineAt(o.from).from&&!/\S/.test(n.sliceDoc(s.to,o.from))?{from:s.to,to:o.from}:null}(t,a);n&&(a=l=(l<=c.to?c:t.doc.lineAt(l)).to);let d=new Ax(t,{simulateBreak:a,simulateDoubleBreak:!!u}),p=FP(d,a);for(null==p&&(p=jb(/^\s*/.exec(t.doc.lineAt(a).text)[0],t.tabSize));l<c.to&&/\s/.test(c.text[l-c.from]);)l++;u?({from:a,to:l}=u):a>c.from&&a<c.from+100&&!/\S/.test(c.text.slice(0,a))&&(a=c.from);let f=["",Xb(t,p)];return u&&f.push(Xb(t,d.lineIndent(c.from,-1))),{changes:{from:a,to:l,insert:qr.of(f)},range:lt.cursor(a+1+f[1].length)}});return i(t.update(s,{scrollIntoView:!0,userEvent:"input"})),!0}}function G$(n,t){let i=-1;return n.changeByRange(s=>{let o=[];for(let l=s.from;l<=s.to;){let c=n.doc.lineAt(l);c.number>i&&(s.empty||s.to>c.from)&&(t(c,o,s),i=c.number),l=c.to+1}let a=n.changes(o);return{changes:o,range:lt.range(a.mapPos(s.anchor,1),a.mapPos(s.head,1))}})}const Y$=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:n=>fu(n,t=>YP(n.state,t,!Da(n))),shift:n=>Ec(n,t=>YP(n.state,t,!Da(n)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:n=>fu(n,t=>YP(n.state,t,Da(n))),shift:n=>Ec(n,t=>YP(n.state,t,Da(n)))},{key:"Alt-ArrowUp",run:({state:n,dispatch:t})=>x2e(n,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:n,dispatch:t})=>C2e(n,t,!1)},{key:"Alt-ArrowDown",run:({state:n,dispatch:t})=>x2e(n,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:n,dispatch:t})=>C2e(n,t,!0)},{key:"Escape",run:({state:n,dispatch:t})=>{let i=n.selection,s=null;return i.ranges.length>1?s=lt.create([i.main]):i.main.empty||(s=lt.create([lt.cursor(i.main.head)])),!!s&&(t(op(n,s)),!0)}},{key:"Mod-Enter",run:S2e(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:n,dispatch:t})=>{let i=JP(n).map(({from:s,to:o})=>lt.range(s,Math.min(o+1,n.doc.length)));return t(n.update({selection:lt.create(i),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:n,dispatch:t})=>{let i=n_(n.selection,s=>{let o=Ci(n),a=o.resolveStack(s.from,1);if(s.empty){let l=o.resolveStack(s.from,-1);l.node.from>=a.node.from&&l.node.to<=a.node.to&&(a=l)}for(let l=a;l;l=l.next){let{node:c}=l;if((c.from<s.from&&c.to>=s.to||c.to>s.to&&c.from<=s.from)&&l.next)return lt.range(c.to,c.from)}return s});return!i.eq(n.selection)&&(t(op(n,i)),!0)},preventDefault:!0},{key:"Mod-[",run:({state:n,dispatch:t})=>!n.readOnly&&(t(n.update(G$(n,(i,s)=>{let o=/^\s*/.exec(i.text)[0];if(!o)return;let a=jb(o,n.tabSize),l=0,c=Xb(n,Math.max(0,a-p1(n)));for(;l<o.length&&l<c.length&&o.charCodeAt(l)==c.charCodeAt(l);)l++;s.push({from:i.from+l,to:i.from+o.length,insert:c.slice(l)})}),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:n,dispatch:t})=>!n.readOnly&&(t(n.update(G$(n,(i,s)=>{s.push({from:i.from,insert:n.facet(LP)})}),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:n,dispatch:t})=>{if(n.readOnly)return!1;let i=Object.create(null),s=new Ax(n,{overrideIndentation:a=>i[a]??-1}),o=G$(n,(a,l,c)=>{let u=FP(s,a.from);if(null==u)return;/\S/.test(a.text)||(u=0);let d=/^\s*/.exec(a.text)[0],p=Xb(n,u);(d!=p||c.from<a.from+d.length)&&(i[a.from]=u,l.push({from:a.from,to:a.from+d.length,insert:p}))});return o.changes.empty||t(n.update(o,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:n=>{if(n.state.readOnly)return!1;let{state:t}=n,i=t.changes(JP(t).map(({from:o,to:a})=>(o>0?o--:a<t.doc.length&&a++,{from:o,to:a}))),s=n_(t.selection,o=>{let a;if(n.lineWrapping){let l=n.lineBlockAt(o.head),c=n.coordsAtPos(o.head,o.assoc||1);c&&(a=l.bottom+n.documentTop-c.bottom+n.defaultLineHeight/2)}return n.moveVertically(o,!0,a)}).map(i);return n.dispatch({changes:i,selection:s,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:n,dispatch:t})=>function o2e(n,t,i){let s=!1,o=n_(n.selection,a=>{let l=sp(n,a.head,-1)||sp(n,a.head,1)||a.head>0&&sp(n,a.head-1,1)||a.head<n.doc.length&&sp(n,a.head+1,-1);if(!l||!l.end)return a;s=!0;let c=l.start.from==a.head?l.end.to:l.end.from;return i?lt.range(a.anchor,c):lt.cursor(c)});return!!s&&(t(op(n,o)),!0)}(n,t,!1)},{key:"Mod-/",run:n=>{let{state:t}=n,i=t.doc.lineAt(t.selection.main.from),s=B$(n.state,i.from);return s.line?rbt(n):!!s.block&&sbt(n)}},{key:"Alt-A",run:ibt},{key:"Ctrl-m",mac:"Shift-Alt-m",run:n=>(n.setTabFocusMode(),!0)}].concat([{key:"ArrowLeft",run:Y_e,shift:a2e,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:n=>KP(n,!Da(n)),shift:n=>ZP(n,!Da(n)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:n=>fu(n,t=>j0(n,t,!Da(n))),shift:n=>Ec(n,t=>j0(n,t,!Da(n))),preventDefault:!0},{key:"ArrowRight",run:X_e,shift:l2e,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:n=>KP(n,Da(n)),shift:n=>ZP(n,Da(n)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:n=>fu(n,t=>j0(n,t,Da(n))),shift:n=>Ec(n,t=>j0(n,t,Da(n))),preventDefault:!0},{key:"ArrowUp",run:t2e,shift:d2e,preventDefault:!0},{mac:"Cmd-ArrowUp",run:g2e,shift:v2e},{mac:"Ctrl-ArrowUp",run:s2e,shift:h2e},{key:"ArrowDown",run:n2e,shift:p2e,preventDefault:!0},{mac:"Cmd-ArrowDown",run:y2e,shift:b2e},{mac:"Ctrl-ArrowDown",run:U$,shift:m2e},{key:"PageUp",run:s2e,shift:h2e},{key:"PageDown",run:U$,shift:m2e},{key:"Home",run:n=>fu(n,t=>j0(n,t,!1)),shift:n=>Ec(n,t=>j0(n,t,!1)),preventDefault:!0},{key:"Mod-Home",run:g2e,shift:v2e},{key:"End",run:n=>fu(n,t=>j0(n,t,!0)),shift:n=>Ec(n,t=>j0(n,t,!0)),preventDefault:!0},{key:"Mod-End",run:y2e,shift:b2e},{key:"Enter",run:s_t},{key:"Mod-a",run:({state:n,dispatch:t})=>(t(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:W$,shift:W$},{key:"Delete",run:_2e},{key:"Mod-Backspace",mac:"Alt-Backspace",run:w2e},{key:"Mod-Delete",mac:"Alt-Delete",run:n=>E2e(n,!0)},{mac:"Mod-Backspace",run:n=>r_(n,t=>{let i=n.moveToLineBoundary(t,!1).head;return t.head>i?i:Math.max(0,t.head-1)})},{mac:"Mod-Delete",run:n=>r_(n,t=>{let i=n.moveToLineBoundary(t,!0).head;return t.head<i?i:Math.min(n.state.doc.length,t.head+1)})}].concat([{key:"Ctrl-b",run:Y_e,shift:a2e,preventDefault:!0},{key:"Ctrl-f",run:X_e,shift:l2e},{key:"Ctrl-p",run:t2e,shift:d2e},{key:"Ctrl-n",run:n2e,shift:p2e},{key:"Ctrl-a",run:n=>fu(n,t=>lt.cursor(n.lineBlockAt(t.head).from,1)),shift:n=>Ec(n,t=>lt.cursor(n.lineBlockAt(t.head).from))},{key:"Ctrl-e",run:n=>fu(n,t=>lt.cursor(n.lineBlockAt(t.head).to,-1)),shift:n=>Ec(n,t=>lt.cursor(n.lineBlockAt(t.head).to))},{key:"Ctrl-d",run:_2e},{key:"Ctrl-h",run:W$},{key:"Ctrl-k",run:n=>r_(n,t=>{let i=n.lineBlockAt(t.head).to;return t.head<i?i:Math.min(n.state.doc.length,t.head+1)})},{key:"Ctrl-Alt-h",run:w2e},{key:"Ctrl-o",run:({state:n,dispatch:t})=>{if(n.readOnly)return!1;let i=n.changeByRange(s=>({changes:{from:s.from,to:s.to,insert:qr.of(["",""])},range:lt.cursor(s.from)}));return t(n.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:n,dispatch:t})=>{if(n.readOnly)return!1;let i=n.changeByRange(s=>{if(!s.empty||0==s.from||s.from==n.doc.length)return{range:s};let o=s.from,a=n.doc.lineAt(o),l=o==a.from?o-1:Yo(a.text,o-a.from,!1)+a.from,c=o==a.to?o+1:Yo(a.text,o-a.from,!0)+a.from;return{changes:{from:l,to:c,insert:n.doc.slice(o,c).append(n.doc.slice(l,o))},range:lt.cursor(c)}});return!i.changes.empty&&(t(n.update(i,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:U$}].map(n=>({mac:n.key,run:n.run,shift:n.shift}))));function zi(){var n=arguments[0];"string"==typeof n&&(n=document.createElement(n));var t=1,i=arguments[1];if(i&&"object"==typeof i&&null==i.nodeType&&!Array.isArray(i)){for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){var o=i[s];"string"==typeof o?n.setAttribute(s,o):null!=o&&(n[s]=o)}t++}for(;t<arguments.length;t++)T2e(n,arguments[t]);return n}function T2e(n,t){if("string"==typeof t)n.appendChild(document.createTextNode(t));else if(null!=t)if(null!=t.nodeType)n.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var i=0;i<t.length;i++)T2e(n,t[i])}}class d_t{constructor(t,i,s){this.from=t,this.to=i,this.diagnostic=s}}class g1{constructor(t,i,s){this.diagnostics=t,this.panel=i,this.selected=s}static init(t,i,s){let o=t,a=s.facet(ap).markerFilter;a&&(o=a(o,s));let l=bn.set(o.map(c=>c.from==c.to||c.from==c.to-1&&s.doc.lineAt(c.from).to==c.from?bn.widget({widget:new b_t(c),diagnostic:c}).range(c.from):bn.mark({attributes:{class:"cm-lintRange cm-lintRange-"+c.severity+(c.markClass?" "+c.markClass:"")},diagnostic:c}).range(c.from,c.to)),!0);return new g1(l,i,i_(l))}}function i_(n,t=null,i=0){let s=null;return n.between(i,1e9,(o,a,{spec:l})=>{if(!t||l.diagnostic==t)return s=new d_t(o,a,l.diagnostic),!1}),s}function D2e(n,t){return n.field(ka,!1)?t:t.concat(_r.appendConfig.of($2e))}const s_=_r.define(),X$=_r.define(),k2e=_r.define(),ka=ro.define({create:()=>new g1(bn.none,null,null),update(n,t){if(t.docChanged&&n.diagnostics.size){let i=n.diagnostics.map(t.changes),s=null,o=n.panel;if(n.selected){let a=t.changes.mapPos(n.selected.from,1);s=i_(i,n.selected.diagnostic,a)||i_(i,null,a)}!i.size&&o&&t.state.facet(ap).autoPanel&&(o=null),n=new g1(i,o,s)}for(let i of t.effects)if(i.is(s_)){let s=t.state.facet(ap).autoPanel?i.value.length?qx.open:null:n.panel;n=g1.init(i.value,s,t.state)}else i.is(X$)?n=new g1(n.diagnostics,i.value?qx.open:null,n.selected):i.is(k2e)&&(n=new g1(n.diagnostics,n.panel,i.value));return n},provide:n=>[Dx.from(n,t=>t.panel),ln.decorations.from(n,t=>t.diagnostics)]}),f_t=bn.mark({class:"cm-lintRange cm-lintRange-active"});function h_t(n,t,i){let{diagnostics:s}=n.state.field(ka),o=[],a=2e8,l=0;s.between(t-(i<0?1:0),t+(i>0?1:0),(u,d,{spec:p})=>{t>=u&&t<=d&&(u==d||(t>u||i>0)&&(t<d||i<0))&&(o.push(p.diagnostic),a=Math.min(u,a),l=Math.max(d,l))});let c=n.state.facet(ap).tooltipFilter;return c&&(o=c(o,n.state)),o.length?{pos:a,end:l,above:n.state.doc.lineAt(a).to<l,create:()=>({dom:M2e(n,o)})}:null}function M2e(n,t){return zi("ul",{class:"cm-tooltip-lint"},t.map(i=>L2e(n,i,!1)))}const A2e=n=>{let t=n.state.field(ka,!1);return!(!t||!t.panel||(n.dispatch({effects:X$.of(!1)}),0))},y_t=[{key:"Mod-Shift-m",run:n=>{let t=n.state.field(ka,!1);(!t||!t.panel)&&n.dispatch({effects:D2e(n.state,[X$.of(!0)])});let i=Px(n,qx.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:n=>{let t=n.state.field(ka,!1);if(!t)return!1;let i=n.state.selection.main,s=t.diagnostics.iter(i.to+1);return!(!s.value&&(s=t.diagnostics.iter(0),!s.value||s.from==i.from&&s.to==i.to)||(n.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0}),0))}}],I2e=cs.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:t}=n.state.facet(ap);this.lintTime=Date.now()+t,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,t)}run(){clearTimeout(this.timeout);let n=Date.now();if(n<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:t}=this.view,{sources:i}=t.facet(ap);i.length&&function v_t(n,t,i){let s=[];for(let a of n)a.then(l=>{s.push(l),clearTimeout(-1),s.length==n.length?t(s):setTimeout(()=>t(s),200)},i)}(i.map(s=>Promise.resolve(s(this.view))),s=>{this.view.state.doc==t.doc&&this.view.dispatch(function p_t(n,t){return{effects:D2e(n,[s_.of(t)])}}(this.view.state,s.reduce((o,a)=>o.concat(a))))},s=>{ol(this.view.state,s)})}}update(n){let t=n.state.facet(ap);(n.docChanged||t!=n.startState.facet(ap)||t.needsRefresh&&t.needsRefresh(n))&&(this.lintTime=Date.now()+t.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,t.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),ap=rn.define({combine:n=>Object.assign({sources:n.map(t=>t.source).filter(t=>null!=t)},ed(n.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(t,i)=>t?i?s=>t(s)||i(s):t:i}))});function R2e(n,t={}){return[ap.of({source:n,config:t}),I2e,$2e]}function N2e(n){let t=[];if(n)e:for(let{name:i}of n){for(let s=0;s<i.length;s++){let o=i[s];if(/[a-zA-Z]/.test(o)&&!t.some(a=>a.toLowerCase()==o.toLowerCase())){t.push(o);continue e}}t.push("")}return t}function L2e(n,t,i){var s;let o=i?N2e(t.actions):[];return zi("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},zi("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage(n):t.message),null===(s=t.actions)||void 0===s?void 0:s.map((a,l)=>{let c=!1,u=h=>{if(h.preventDefault(),c)return;c=!0;let m=i_(n.state.field(ka).diagnostics,t);m&&a.apply(n,m.from,m.to)},{name:d}=a,p=o[l]?d.indexOf(o[l]):-1,f=p<0?d:[d.slice(0,p),zi("u",d.slice(p,p+1)),d.slice(p+1)];return zi("button",{type:"button",class:"cm-diagnosticAction",onclick:u,onmousedown:u,"aria-label":` Action: ${d}${p<0?"":` (access key "${o[l]})"`}.`},f)}),t.source&&zi("div",{class:"cm-diagnosticSource"},t.source))}class b_t extends tp{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return zi("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class F2e{constructor(t,i){this.diagnostic=i,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=L2e(t,i,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class qx{constructor(t){this.view=t,this.items=[],this.list=zi("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:o=>{if(27==o.keyCode)A2e(this.view),this.view.focus();else if(38==o.keyCode||33==o.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==o.keyCode||34==o.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==o.keyCode)this.moveSelection(0);else if(35==o.keyCode)this.moveSelection(this.items.length-1);else if(13==o.keyCode)this.view.focus();else{if(!(o.keyCode>=65&&o.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:a}=this.items[this.selectedIndex],l=N2e(a.actions);for(let c=0;c<l.length;c++)if(l[c].toUpperCase().charCodeAt(0)==o.keyCode){let u=i_(this.view.state.field(ka).diagnostics,a);u&&a.actions[c].apply(t,u.from,u.to)}}}o.preventDefault()},onclick:o=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(o.target)&&this.moveSelection(a)}}),this.dom=zi("div",{class:"cm-panel-lint"},this.list,zi("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>A2e(this.view)},"\xd7")),this.update()}get selectedIndex(){let t=this.view.state.field(ka).selected;if(!t)return-1;for(let i=0;i<this.items.length;i++)if(this.items[i].diagnostic==t.diagnostic)return i;return-1}update(){let{diagnostics:t,selected:i}=this.view.state.field(ka),s=0,o=!1,a=null;for(t.between(0,this.view.state.doc.length,(l,c,{spec:u})=>{let p,d=-1;for(let f=s;f<this.items.length;f++)if(this.items[f].diagnostic==u.diagnostic){d=f;break}d<0?(p=new F2e(this.view,u.diagnostic),this.items.splice(s,0,p),o=!0):(p=this.items[d],d>s&&(this.items.splice(s,d-s),o=!0)),i&&p.diagnostic==i.diagnostic?p.dom.hasAttribute("aria-selected")||(p.dom.setAttribute("aria-selected","true"),a=p):p.dom.hasAttribute("aria-selected")&&p.dom.removeAttribute("aria-selected"),s++});s<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)o=!0,this.items.pop();0==this.items.length&&(this.items.push(new F2e(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),o=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:l,panel:c})=>{let u=c.height/this.list.offsetHeight;l.top<c.top?this.list.scrollTop-=(c.top-l.top)/u:l.bottom>c.bottom&&(this.list.scrollTop+=(l.bottom-c.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),o&&this.sync()}sync(){let t=this.list.firstChild;function i(){let s=t;t=s.nextSibling,s.remove()}for(let s of this.items)if(s.dom.parentNode==this.list){for(;t!=s.dom;)i();t=s.dom.nextSibling}else this.list.insertBefore(s.dom,t);for(;t;)i()}moveSelection(t){if(this.selectedIndex<0)return;let s=i_(this.view.state.field(ka).diagnostics,this.items[t].diagnostic);s&&this.view.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0,effects:k2e.of(s)})}static open(t){return new qx(t)}}function tD(n){return function eD(n,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(n)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const __t=ln.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:tD("#d11")},".cm-lintRange-warning":{backgroundImage:tD("orange")},".cm-lintRange-info":{backgroundImage:tD("#999")},".cm-lintRange-hint":{backgroundImage:tD("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),$2e=[ka,ln.decorations.compute([ka],n=>{let{selected:t,panel:i}=n.field(ka);return t&&i&&t.from!=t.to?bn.set([f_t.range(t.from,t.to)]):bn.none}),Q1t(h_t,{hideOn:function P2e(n,t){let i=t.pos,s=t.end||i,o=n.state.facet(ap).hideOn(n,i,s);if(null!=o)return o;let a=n.startState.doc.lineAt(t.pos);return!(!n.effects.some(l=>l.is(s_))&&!n.changes.touchesRange(a.from,Math.max(a.to,s)))}}),__t];class rD{static create(t,i,s,o,a){return new rD(t,i,s,o+(o<<8)+t+(i<<4)|0,a,[],[])}constructor(t,i,s,o,a,l,c){this.type=t,this.value=i,this.from=s,this.hash=o,this.end=a,this.children=l,this.positions=c,this.hashProp=[[Kn.contextHash,o]]}addChild(t,i){t.prop(Kn.contextHash)!=this.hash&&(t=new Or(t.type,t.children,t.positions,t.length,this.hashProp)),this.children.push(t),this.positions.push(i)}toTree(t,i=this.end){let s=this.children.length-1;return s>=0&&(i=Math.max(i,this.positions[s]+this.children[s].length+this.from)),new Or(t.types[this.type],this.children,this.positions,i-this.from).balance({makeTree:(o,a,l)=>new Or(eo.none,o,a,l,this.hashProp)})}}var Ht=function(n){return n[n.Document=1]="Document",n[n.CodeBlock=2]="CodeBlock",n[n.FencedCode=3]="FencedCode",n[n.Blockquote=4]="Blockquote",n[n.HorizontalRule=5]="HorizontalRule",n[n.BulletList=6]="BulletList",n[n.OrderedList=7]="OrderedList",n[n.ListItem=8]="ListItem",n[n.ATXHeading1=9]="ATXHeading1",n[n.ATXHeading2=10]="ATXHeading2",n[n.ATXHeading3=11]="ATXHeading3",n[n.ATXHeading4=12]="ATXHeading4",n[n.ATXHeading5=13]="ATXHeading5",n[n.ATXHeading6=14]="ATXHeading6",n[n.SetextHeading1=15]="SetextHeading1",n[n.SetextHeading2=16]="SetextHeading2",n[n.HTMLBlock=17]="HTMLBlock",n[n.LinkReference=18]="LinkReference",n[n.Paragraph=19]="Paragraph",n[n.CommentBlock=20]="CommentBlock",n[n.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",n[n.Escape=22]="Escape",n[n.Entity=23]="Entity",n[n.HardBreak=24]="HardBreak",n[n.Emphasis=25]="Emphasis",n[n.StrongEmphasis=26]="StrongEmphasis",n[n.Link=27]="Link",n[n.Image=28]="Image",n[n.InlineCode=29]="InlineCode",n[n.HTMLTag=30]="HTMLTag",n[n.Comment=31]="Comment",n[n.ProcessingInstruction=32]="ProcessingInstruction",n[n.Autolink=33]="Autolink",n[n.HeaderMark=34]="HeaderMark",n[n.QuoteMark=35]="QuoteMark",n[n.ListMark=36]="ListMark",n[n.LinkMark=37]="LinkMark",n[n.EmphasisMark=38]="EmphasisMark",n[n.CodeMark=39]="CodeMark",n[n.CodeText=40]="CodeText",n[n.CodeInfo=41]="CodeInfo",n[n.LinkTitle=42]="LinkTitle",n[n.LinkLabel=43]="LinkLabel",n[n.URL=44]="URL",n}(Ht||{});class O_t{constructor(t,i){this.start=t,this.content=i,this.marks=[],this.parsers=[]}}class T_t{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let t=this.skipSpace(this.basePos);this.indent=this.countIndent(t,this.pos,this.indent),this.pos=t,this.next=t==this.text.length?-1:this.text.charCodeAt(t)}skipSpace(t){return Wx(this.text,t)}reset(t){for(this.text=t,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(t){this.basePos=t,this.baseIndent=this.countIndent(t,this.pos,this.indent)}moveBaseColumn(t){this.baseIndent=t,this.basePos=this.findColumn(t)}addMarker(t){this.markers.push(t)}countIndent(t,i=0,s=0){for(let o=i;o<t;o++)s+=9==this.text.charCodeAt(o)?4-s%4:1;return s}findColumn(t){let i=0;for(let s=0;i<this.text.length&&s<t;i++)s+=9==this.text.charCodeAt(i)?4-s%4:1;return i}scrub(){if(!this.baseIndent)return this.text;let t="";for(let i=0;i<this.basePos;i++)t+=" ";return t+this.text.slice(this.basePos)}}function z2e(n,t,i){if(i.pos==i.text.length||n!=t.block&&i.indent>=t.stack[i.depth+1].value+i.baseIndent)return!0;if(i.indent>=i.baseIndent+4)return!1;let s=(n.type==Ht.OrderedList?tz:ez)(i,t,!1);return s>0&&(n.type!=Ht.BulletList||J$(i,t,!1)<0)&&i.text.charCodeAt(i.pos+s-1)==n.value}const H2e={[Ht.Blockquote]:(n,t,i)=>62==i.next&&(i.markers.push(Vr(Ht.QuoteMark,t.lineStart+i.pos,t.lineStart+i.pos+1)),i.moveBase(i.pos+(hu(i.text.charCodeAt(i.pos+1))?2:1)),n.end=t.lineStart+i.text.length,!0),[Ht.ListItem]:(n,t,i)=>!(i.indent<i.baseIndent+n.value&&i.next>-1||(i.moveBaseColumn(i.baseIndent+n.value),0)),[Ht.OrderedList]:z2e,[Ht.BulletList]:z2e,[Ht.Document]:()=>!0};function hu(n){return 32==n||9==n||10==n||13==n}function Wx(n,t=0){for(;t<n.length&&hu(n.charCodeAt(t));)t++;return t}function U2e(n,t,i){for(;t>i&&hu(n.charCodeAt(t-1));)t--;return t}function q2e(n){if(96!=n.next&&126!=n.next)return-1;let t=n.pos+1;for(;t<n.text.length&&n.text.charCodeAt(t)==n.next;)t++;if(t<n.pos+3)return-1;if(96==n.next)for(let i=t;i<n.text.length;i++)if(96==n.text.charCodeAt(i))return-1;return t}function W2e(n){return 62!=n.next?-1:32==n.text.charCodeAt(n.pos+1)?2:1}function J$(n,t,i){if(42!=n.next&&45!=n.next&&95!=n.next)return-1;let s=1;for(let o=n.pos+1;o<n.text.length;o++){let a=n.text.charCodeAt(o);if(a==n.next)s++;else if(!hu(a))return-1}return i&&45==n.next&&Y2e(n)>-1&&n.depth==t.stack.length||s<3?-1:1}function G2e(n,t){for(let i=n.stack.length-1;i>=0;i--)if(n.stack[i].type==t)return!0;return!1}function ez(n,t,i){return 45!=n.next&&43!=n.next&&42!=n.next||n.pos!=n.text.length-1&&!hu(n.text.charCodeAt(n.pos+1))||!(!i||G2e(t,Ht.BulletList)||n.skipSpace(n.pos+2)<n.text.length)?-1:1}function tz(n,t,i){let s=n.pos,o=n.next;for(;o>=48&&o<=57;){if(s++,s==n.text.length)return-1;o=n.text.charCodeAt(s)}return s==n.pos||s>n.pos+9||46!=o&&41!=o||s<n.text.length-1&&!hu(n.text.charCodeAt(s+1))||i&&!G2e(t,Ht.OrderedList)&&(n.skipSpace(s+1)==n.text.length||s>n.pos+1||49!=n.next)?-1:s+1-n.pos}function K2e(n){if(35!=n.next)return-1;let t=n.pos+1;for(;t<n.text.length&&35==n.text.charCodeAt(t);)t++;if(t<n.text.length&&32!=n.text.charCodeAt(t))return-1;let i=t-n.pos;return i>6?-1:i}function Y2e(n){if(45!=n.next&&61!=n.next||n.indent>=n.baseIndent+4)return-1;let t=n.pos+1;for(;t<n.text.length&&n.text.charCodeAt(t)==n.next;)t++;let i=t;for(;t<n.text.length&&hu(n.text.charCodeAt(t));)t++;return t==n.text.length?i:-1}const nz=/^[ \t]*$/,X2e=/-->/,Z2e=/\?>/,rz=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,X2e],[/^\s*<\?/,Z2e],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,nz],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,nz]];function Q2e(n,t,i){if(60!=n.next)return-1;let s=n.text.slice(n.pos);for(let o=0,a=rz.length-(i?1:0);o<a;o++)if(rz[o][0].test(s))return o;return-1}function J2e(n,t){let i=n.countIndent(t,n.pos,n.indent),s=n.countIndent(n.skipSpace(t),t,i);return s>=i+5?i+1:s}function y1(n,t,i){let s=n.length-1;s>=0&&n[s].to==t&&n[s].type==Ht.CodeText?n[s].to=i:n.push(Vr(Ht.CodeText,t,i))}const iD={LinkReference:void 0,IndentedCode(n,t){let i=t.baseIndent+4;if(t.indent<i)return!1;let s=t.findColumn(i),o=n.lineStart+s,a=n.lineStart+t.text.length,l=[],c=[];for(y1(l,o,a);n.nextLine()&&t.depth>=n.stack.length;)if(t.pos==t.text.length){y1(c,n.lineStart-1,n.lineStart);for(let u of t.markers)c.push(u)}else{if(t.indent<i)break;{if(c.length){for(let d of c)d.type==Ht.CodeText?y1(l,d.from,d.to):l.push(d);c=[]}y1(l,n.lineStart-1,n.lineStart);for(let d of t.markers)l.push(d);a=n.lineStart+t.text.length;let u=n.lineStart+t.findColumn(t.baseIndent+4);u<a&&y1(l,u,a)}}return c.length&&(c=c.filter(u=>u.type!=Ht.CodeText),c.length&&(t.markers=c.concat(t.markers))),n.addNode(n.buffer.writeElements(l,-o).finish(Ht.CodeBlock,a-o),o),!0},FencedCode(n,t){let i=q2e(t);if(i<0)return!1;let s=n.lineStart+t.pos,o=t.next,a=i-t.pos,l=t.skipSpace(i),c=U2e(t.text,t.text.length,l),u=[Vr(Ht.CodeMark,s,s+a)];l<c&&u.push(Vr(Ht.CodeInfo,n.lineStart+l,n.lineStart+c));for(let d=!0;n.nextLine()&&t.depth>=n.stack.length;d=!1){let p=t.pos;if(t.indent-t.baseIndent<4)for(;p<t.text.length&&t.text.charCodeAt(p)==o;)p++;if(p-t.pos>=a&&t.skipSpace(p)==t.text.length){for(let f of t.markers)u.push(f);u.push(Vr(Ht.CodeMark,n.lineStart+t.pos,n.lineStart+p)),n.nextLine();break}{d||y1(u,n.lineStart-1,n.lineStart);for(let m of t.markers)u.push(m);let f=n.lineStart+t.basePos,h=n.lineStart+t.text.length;f<h&&y1(u,f,h)}}return n.addNode(n.buffer.writeElements(u,-s).finish(Ht.FencedCode,n.prevLineEnd()-s),s),!0},Blockquote(n,t){let i=W2e(t);return!(i<0)&&(n.startContext(Ht.Blockquote,t.pos),n.addNode(Ht.QuoteMark,n.lineStart+t.pos,n.lineStart+t.pos+1),t.moveBase(t.pos+i),null)},HorizontalRule(n,t){if(J$(t,n,!1)<0)return!1;let i=n.lineStart+t.pos;return n.nextLine(),n.addNode(Ht.HorizontalRule,i),!0},BulletList(n,t){let i=ez(t,n,!1);if(i<0)return!1;n.block.type!=Ht.BulletList&&n.startContext(Ht.BulletList,t.basePos,t.next);let s=J2e(t,t.pos+1);return n.startContext(Ht.ListItem,t.basePos,s-t.baseIndent),n.addNode(Ht.ListMark,n.lineStart+t.pos,n.lineStart+t.pos+i),t.moveBaseColumn(s),null},OrderedList(n,t){let i=tz(t,n,!1);if(i<0)return!1;n.block.type!=Ht.OrderedList&&n.startContext(Ht.OrderedList,t.basePos,t.text.charCodeAt(t.pos+i-1));let s=J2e(t,t.pos+i);return n.startContext(Ht.ListItem,t.basePos,s-t.baseIndent),n.addNode(Ht.ListMark,n.lineStart+t.pos,n.lineStart+t.pos+i),t.moveBaseColumn(s),null},ATXHeading(n,t){let i=K2e(t);if(i<0)return!1;let s=t.pos,o=n.lineStart+s,a=U2e(t.text,t.text.length,s),l=a;for(;l>s&&t.text.charCodeAt(l-1)==t.next;)l--;(l==a||l==s||!hu(t.text.charCodeAt(l-1)))&&(l=t.text.length);let c=n.buffer.write(Ht.HeaderMark,0,i).writeElements(n.parser.parseInline(t.text.slice(s+i+1,l),o+i+1),-o);l<t.text.length&&c.write(Ht.HeaderMark,l-s,a-s);let u=c.finish(Ht.ATXHeading1-1+i,t.text.length-s);return n.nextLine(),n.addNode(u,o),!0},HTMLBlock(n,t){let i=Q2e(t,0,!1);if(i<0)return!1;let s=n.lineStart+t.pos,o=rz[i][1],a=[],l=o!=nz;for(;!o.test(t.text)&&n.nextLine();){if(t.depth<n.stack.length){l=!1;break}for(let d of t.markers)a.push(d)}l&&n.nextLine();let c=o==X2e?Ht.CommentBlock:o==Z2e?Ht.ProcessingInstructionBlock:Ht.HTMLBlock,u=n.prevLineEnd();return n.addNode(n.buffer.writeElements(a,-s).finish(c,u-s),s),!0},SetextHeading:void 0};class P_t{constructor(t){this.stage=0,this.elts=[],this.pos=0,this.start=t.start,this.advance(t.content)}nextLine(t,i,s){if(-1==this.stage)return!1;let o=s.content+"\n"+i.scrub(),a=this.advance(o);return a>-1&&a<o.length&&this.complete(t,s,a)}finish(t,i){return(2==this.stage||3==this.stage)&&Wx(i.content,this.pos)==i.content.length&&this.complete(t,i,i.content.length)}complete(t,i,s){return t.addLeafElement(i,Vr(Ht.LinkReference,this.start,this.start+s,this.elts)),!0}nextStage(t){return t?(this.pos=t.to-this.start,this.elts.push(t),this.stage++,!0):(!1===t&&(this.stage=-1),!1)}advance(t){for(;;){if(-1==this.stage)return-1;if(0==this.stage){if(!this.nextStage(u3e(t,this.pos,this.start,!0)))return-1;if(58!=t.charCodeAt(this.pos))return this.stage=-1;this.elts.push(Vr(Ht.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else{if(1!=this.stage){if(2==this.stage){let i=Wx(t,this.pos),s=0;if(i>this.pos){let o=c3e(t,i,this.start);if(o){let a=iz(t,o.to-this.start);a>0&&(this.nextStage(o),s=a)}}return s||(s=iz(t,this.pos)),s>0&&s<t.length?s:-1}return iz(t,this.pos)}if(!this.nextStage(l3e(t,Wx(t,this.pos),this.start)))return-1}}}}function iz(n,t){for(;t<n.length;t++){let i=n.charCodeAt(t);if(10==i)break;if(!hu(i))return-1}return t}class D_t{nextLine(t,i,s){let o=i.depth<t.stack.length?-1:Y2e(i),a=i.next;if(o<0)return!1;let l=Vr(Ht.HeaderMark,t.lineStart+i.pos,t.lineStart+o);return t.nextLine(),t.addLeafElement(s,Vr(61==a?Ht.SetextHeading1:Ht.SetextHeading2,s.start,t.prevLineEnd(),[...t.parser.parseInline(s.content,s.start),l])),!0}finish(){return!1}}const k_t={LinkReference:(n,t)=>91==t.content.charCodeAt(0)?new P_t(t):null,SetextHeading:()=>new D_t},M_t=[(n,t)=>K2e(t)>=0,(n,t)=>q2e(t)>=0,(n,t)=>W2e(t)>=0,(n,t)=>ez(t,n,!0)>=0,(n,t)=>tz(t,n,!0)>=0,(n,t)=>J$(t,n,!0)>=0,(n,t)=>Q2e(t,0,!0)>=0],A_t={text:"",end:0};class I_t{constructor(t,i,s,o){this.parser=t,this.input=i,this.ranges=o,this.line=new T_t,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=o[o.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=o[0].from,this.block=rD.create(Ht.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=s.length?new F_t(s,i):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(null!=this.stoppedAt&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:t}=this;for(;;){for(let s=0;;){let o=t.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;s<t.markers.length&&(!o||t.markers[s].from<o.end);){let a=t.markers[s++];this.addNode(a.type,a.from,a.to)}if(!o)break;this.finishContext()}if(t.pos<t.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(t.basePos))return null;e:for(;;){for(let s of this.parser.blockParsers)if(s){let o=s(this,t);if(0!=o){if(1==o)return null;t.forward();continue e}}break}let i=new O_t(this.lineStart+t.pos,t.text.slice(t.pos));for(let s of this.parser.leafBlockParsers)if(s){let o=s(this,i);o&&i.parsers.push(o)}e:for(;this.nextLine()&&t.pos!=t.text.length;){if(t.indent<t.baseIndent+4)for(let s of this.parser.endLeafBlock)if(s(this,t,i))break e;for(let s of i.parsers)if(s.nextLine(this,t,i))return null;i.content+="\n"+t.scrub();for(let s of t.markers)i.marks.push(s)}return this.finishLeaf(i),null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}reuseFragment(t){if(!this.fragments.moveTo(this.absoluteLineStart+t,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let i=this.fragments.takeNodes(this);return!!i&&(this.absoluteLineStart+=i,this.lineStart=d3e(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0)}get depth(){return this.stack.length}parentType(t=this.depth-1){return this.parser.nodeSet.types[this.stack[t].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(t){let i=A_t;if(i.end=t,t>=this.to)i.text="";else if(i.text=this.lineChunkAt(t),i.end+=i.text.length,this.ranges.length>1){let s=this.absoluteLineStart,o=this.rangeI;for(;this.ranges[o].to<i.end;){o++;let a=this.ranges[o].from,l=this.lineChunkAt(a);i.end=a+l.length,i.text=i.text.slice(0,this.ranges[o-1].to-s)+l,s=i.end-i.text.length}}return i}readLine(){let{line:t}=this,{text:i,end:s}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=s,t.reset(i);t.depth<this.stack.length;t.depth++){let o=this.stack[t.depth],a=this.parser.skipContextMarkup[o.type];if(!a)throw new Error("Unhandled block context "+Ht[o.type]);if(!a(o,this,t))break;t.forward()}}lineChunkAt(t){let s,i=this.input.chunk(t);if(this.input.lineChunks)s="\n"==i?"":i;else{let o=i.indexOf("\n");s=o<0?i:i.slice(0,o)}return t+s.length>this.to?s.slice(0,this.to-t):s}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(t,i,s=0){this.block=rD.create(t,s,this.lineStart+i,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(t,i,s=0){this.startContext(this.parser.getNodeType(t),i,s)}addNode(t,i,s){"number"==typeof t&&(t=new Or(this.parser.nodeSet.types[t],o_,o_,(s??this.prevLineEnd())-i)),this.block.addChild(t,i-this.block.from)}addElement(t){this.block.addChild(t.toTree(this.parser.nodeSet),t.from-this.block.from)}addLeafElement(t,i){this.addNode(this.buffer.writeElements(lz(i.children,t.marks),-i.from).finish(i.type,i.to-i.from),i.from)}finishContext(){let t=this.stack.pop(),i=this.stack[this.stack.length-1];i.addChild(t.toTree(this.parser.nodeSet),t.from-i.from),this.block=i}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(t){return this.ranges.length>1?e3e(this.ranges,0,t.topNode,this.ranges[0].from,this.reusePlaceholders):t}finishLeaf(t){for(let s of t.parsers)if(s.finish(this,t))return;let i=lz(this.parser.parseInline(t.content,t.start),t.marks);this.addNode(this.buffer.writeElements(i,-t.start).finish(Ht.Paragraph,t.content.length),t.start)}elt(t,i,s,o){return"string"==typeof t?Vr(this.parser.getNodeType(t),i,s,o):new r3e(t,i)}get buffer(){return new n3e(this.parser.nodeSet)}}function e3e(n,t,i,s,o){let a=n[t].to,l=[],c=[],u=i.from+s;function d(p,f){for(;f?p>=a:p>a;){let h=n[t+1].from-a;s+=h,p+=h,t++,a=n[t].to}}for(let p=i.firstChild;p;p=p.nextSibling){d(p.from+s,!0);let h,f=p.from+s,m=o.get(p.tree);m?h=m:p.to+s>a?(h=e3e(n,t,p,s,o),d(p.to+s,!1)):h=p.toTree(),l.push(h),c.push(f-u)}return d(i.to+s,!1),new Or(i.type,l,c,i.to+s-u,i.tree?i.tree.propValues:void 0)}class sz extends _T{constructor(t,i,s,o,a,l,c,u,d){super(),this.nodeSet=t,this.blockParsers=i,this.leafBlockParsers=s,this.blockNames=o,this.endLeafBlock=a,this.skipContextMarkup=l,this.inlineParsers=c,this.inlineNames=u,this.wrappers=d,this.nodeTypes=Object.create(null);for(let p of t.types)this.nodeTypes[p.name]=p.id}createParse(t,i,s){let o=new I_t(this,t,i,s);for(let a of this.wrappers)o=a(o,t,i,s);return o}configure(t){let i=oz(t);if(!i)return this;let{nodeSet:s,skipContextMarkup:o}=this,a=this.blockParsers.slice(),l=this.leafBlockParsers.slice(),c=this.blockNames.slice(),u=this.inlineParsers.slice(),d=this.inlineNames.slice(),p=this.endLeafBlock.slice(),f=this.wrappers;if(Gx(i.defineNodes)){o=Object.assign({},o);let m,h=s.types.slice();for(let g of i.defineNodes){let{name:y,block:v,composite:_,style:E}="string"==typeof g?{name:g}:g;if(h.some(w=>w.name==y))continue;_&&(o[h.length]=(w,C,P)=>_(C,P,w.value));let x=h.length,b=_?["Block","BlockContext"]:v?x>=Ht.ATXHeading1&&x<=Ht.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;h.push(eo.define({id:x,name:y,props:b&&[[Kn.group,b]]})),E&&(m||(m={}),Array.isArray(E)||E instanceof Gu?m[y]=E:Object.assign(m,E))}s=new bb(h),m&&(s=s.extend(Gg(m)))}if(Gx(i.props)&&(s=s.extend(...i.props)),Gx(i.remove))for(let h of i.remove){let m=this.blockNames.indexOf(h),g=this.inlineNames.indexOf(h);m>-1&&(a[m]=l[m]=void 0),g>-1&&(u[g]=void 0)}if(Gx(i.parseBlock))for(let h of i.parseBlock){let m=c.indexOf(h.name);if(m>-1)a[m]=h.parse,l[m]=h.leaf;else{let g=h.before?sD(c,h.before):h.after?sD(c,h.after)+1:c.length-1;a.splice(g,0,h.parse),l.splice(g,0,h.leaf),c.splice(g,0,h.name)}h.endLeaf&&p.push(h.endLeaf)}if(Gx(i.parseInline))for(let h of i.parseInline){let m=d.indexOf(h.name);if(m>-1)u[m]=h.parse;else{let g=h.before?sD(d,h.before):h.after?sD(d,h.after)+1:d.length-1;u.splice(g,0,h.parse),d.splice(g,0,h.name)}}return i.wrap&&(f=f.concat(i.wrap)),new sz(s,a,l,c,p,o,u,d,f)}getNodeType(t){let i=this.nodeTypes[t];if(null==i)throw new RangeError(`Unknown node type '${t}'`);return i}parseInline(t,i){let s=new N_t(this,t,i);e:for(let o=i;o<s.end;){let a=s.char(o);for(let l of this.inlineParsers)if(l){let c=l(s,a,o);if(c>=0){o=c;continue e}}o++}return s.resolveMarkers(0)}}function Gx(n){return null!=n&&n.length>0}function oz(n){if(!Array.isArray(n))return n;if(0==n.length)return null;let t=oz(n[0]);if(1==n.length)return t;let i=oz(n.slice(1));if(!i||!t)return t||i;let s=(l,c)=>(l||o_).concat(c||o_),o=t.wrap,a=i.wrap;return{props:s(t.props,i.props),defineNodes:s(t.defineNodes,i.defineNodes),parseBlock:s(t.parseBlock,i.parseBlock),parseInline:s(t.parseInline,i.parseInline),remove:s(t.remove,i.remove),wrap:o?a?(l,c,u,d)=>o(a(l,c,u,d),c,u,d):o:a}}function sD(n,t){let i=n.indexOf(t);if(i<0)throw new RangeError(`Position specified relative to unknown parser ${t}`);return i}let t3e=[eo.none];for(let t,n=1;t=Ht[n];n++)t3e[n]=eo.define({id:n,name:t,props:n>=Ht.Escape?[]:[[Kn.group,n in H2e?["Block","BlockContext"]:["Block","LeafBlock"]]],top:"Document"==t});const o_=[];class n3e{constructor(t){this.nodeSet=t,this.content=[],this.nodes=[]}write(t,i,s,o=0){return this.content.push(t,i,s,4+4*o),this}writeElements(t,i=0){for(let s of t)s.writeTo(this,i);return this}finish(t,i){return Or.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:t,length:i})}}class Kx{constructor(t,i,s,o=o_){this.type=t,this.from=i,this.to=s,this.children=o}writeTo(t,i){let s=t.content.length;t.writeElements(this.children,i),t.content.push(this.type,this.from+i,this.to+i,t.content.length+4-s)}toTree(t){return new n3e(t).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}}class r3e{constructor(t,i){this.tree=t,this.from=i}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return o_}writeTo(t,i){t.nodes.push(this.tree),t.content.push(t.nodes.length-1,this.from+i,this.to+i,-1)}toTree(){return this.tree}}function Vr(n,t,i,s){return new Kx(n,t,i,s)}const i3e={resolve:"Emphasis",mark:"EmphasisMark"},s3e={resolve:"Emphasis",mark:"EmphasisMark"},Yx={},o3e={};class rd{constructor(t,i,s,o){this.type=t,this.from=i,this.to=s,this.side=o}}let Xx=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{Xx=new RegExp("[\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}]","u")}catch{}const az={Escape(n,t,i){if(92!=t||i==n.end-1)return-1;let s=n.char(i+1);for(let o=0;o<32;o++)if("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~".charCodeAt(o)==s)return n.append(Vr(Ht.Escape,i,i+2));return-1},Entity(n,t,i){if(38!=t)return-1;let s=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(n.slice(i+1,i+31));return s?n.append(Vr(Ht.Entity,i,i+1+s[0].length)):-1},InlineCode(n,t,i){if(96!=t||i&&96==n.char(i-1))return-1;let s=i+1;for(;s<n.end&&96==n.char(s);)s++;let o=s-i,a=0;for(;s<n.end;s++)if(96==n.char(s)){if(a++,a==o&&96!=n.char(s+1))return n.append(Vr(Ht.InlineCode,i,s+1,[Vr(Ht.CodeMark,i,i+o),Vr(Ht.CodeMark,s+1-o,s+1)]))}else a=0;return-1},HTMLTag(n,t,i){if(60!=t||i==n.end-1)return-1;let s=n.slice(i+1,n.end),o=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(s);if(o)return n.append(Vr(Ht.Autolink,i,i+1+o[0].length,[Vr(Ht.LinkMark,i,i+1),Vr(Ht.URL,i+1,i+o[0].length),Vr(Ht.LinkMark,i+o[0].length,i+1+o[0].length)]));let a=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(s);if(a)return n.append(Vr(Ht.Comment,i,i+1+a[0].length));let l=/^\?[^]*?\?>/.exec(s);if(l)return n.append(Vr(Ht.ProcessingInstruction,i,i+1+l[0].length));let c=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(s);return c?n.append(Vr(Ht.HTMLTag,i,i+1+c[0].length)):-1},Emphasis(n,t,i){if(95!=t&&42!=t)return-1;let s=i+1;for(;n.char(s)==t;)s++;let o=n.slice(i-1,i),a=n.slice(s,s+1),l=Xx.test(o),c=Xx.test(a),u=/\s|^$/.test(o),d=/\s|^$/.test(a),p=!d&&(!c||u||l),f=!u&&(!l||d||c);return n.append(new rd(95==t?i3e:s3e,i,s,(!p||42!=t&&f&&!l?0:1)|(!f||42!=t&&p&&!c?0:2)))},HardBreak(n,t,i){if(92==t&&10==n.char(i+1))return n.append(Vr(Ht.HardBreak,i,i+2));if(32==t){let s=i+1;for(;32==n.char(s);)s++;if(10==n.char(s)&&s>=i+2)return n.append(Vr(Ht.HardBreak,i,s+1))}return-1},Link:(n,t,i)=>91==t?n.append(new rd(Yx,i,i+1,1)):-1,Image:(n,t,i)=>33==t&&91==n.char(i+1)?n.append(new rd(o3e,i,i+2,1)):-1,LinkEnd(n,t,i){if(93!=t)return-1;for(let s=n.parts.length-1;s>=0;s--){let o=n.parts[s];if(o instanceof rd&&(o.type==Yx||o.type==o3e)){if(!o.side||n.skipSpace(o.to)==i&&!/[(\[]/.test(n.slice(i+1,i+2)))return n.parts[s]=null,-1;let a=n.takeContent(s),l=n.parts[s]=R_t(n,a,o.type==Yx?Ht.Link:Ht.Image,o.from,i+1);if(o.type==Yx)for(let c=0;c<s;c++){let u=n.parts[c];u instanceof rd&&u.type==Yx&&(u.side=0)}return l.to}}return-1}};function R_t(n,t,i,s,o){let{text:a}=n,l=n.char(o),c=o;if(t.unshift(Vr(Ht.LinkMark,s,s+(i==Ht.Image?2:1))),t.push(Vr(Ht.LinkMark,o-1,o)),40==l){let p,u=n.skipSpace(o+1),d=l3e(a,u-n.offset,n.offset);d&&(u=n.skipSpace(d.to),u!=d.to&&(p=c3e(a,u-n.offset,n.offset),p&&(u=n.skipSpace(p.to)))),41==n.char(u)&&(t.push(Vr(Ht.LinkMark,o,o+1)),c=u+1,d&&t.push(d),p&&t.push(p),t.push(Vr(Ht.LinkMark,u,c)))}else if(91==l){let u=u3e(a,o-n.offset,n.offset,!1);u&&(t.push(u),c=u.to)}return Vr(i,s,c,t)}function l3e(n,t,i){if(60==n.charCodeAt(t)){for(let o=t+1;o<n.length;o++){let a=n.charCodeAt(o);if(62==a)return Vr(Ht.URL,t+i,o+1+i);if(60==a||10==a)return!1}return null}{let o=0,a=t;for(let l=!1;a<n.length;a++){let c=n.charCodeAt(a);if(hu(c))break;if(l)l=!1;else if(40==c)o++;else if(41==c){if(!o)break;o--}else 92==c&&(l=!0)}return a>t?Vr(Ht.URL,t+i,a+i):a==n.length&&null}}function c3e(n,t,i){let s=n.charCodeAt(t);if(39!=s&&34!=s&&40!=s)return!1;let o=40==s?41:s;for(let a=t+1,l=!1;a<n.length;a++){let c=n.charCodeAt(a);if(l)l=!1;else{if(c==o)return Vr(Ht.LinkTitle,t+i,a+1+i);92==c&&(l=!0)}}return null}function u3e(n,t,i,s){for(let o=!1,a=t+1,l=Math.min(n.length,a+999);a<l;a++){let c=n.charCodeAt(a);if(o)o=!1;else{if(93==c)return!s&&Vr(Ht.LinkLabel,t+i,a+1+i);if(s&&!hu(c)&&(s=!1),91==c)return!1;92==c&&(o=!0)}}return null}class N_t{constructor(t,i,s){this.parser=t,this.text=i,this.offset=s,this.parts=[]}char(t){return t>=this.end?-1:this.text.charCodeAt(t-this.offset)}get end(){return this.offset+this.text.length}slice(t,i){return this.text.slice(t-this.offset,i-this.offset)}append(t){return this.parts.push(t),t.to}addDelimiter(t,i,s,o,a){return this.append(new rd(t,i,s,(o?1:0)|(a?2:0)))}addElement(t){return this.append(t)}resolveMarkers(t){for(let s=t;s<this.parts.length;s++){let o=this.parts[s];if(!(o instanceof rd&&o.type.resolve&&2&o.side))continue;let c,a=o.type==i3e||o.type==s3e,l=o.to-o.from,u=s-1;for(;u>=t;u--){let y=this.parts[u];if(y instanceof rd&&1&y.side&&y.type==o.type&&!(a&&(1&o.side||2&y.side)&&(y.to-y.from+l)%3==0&&((y.to-y.from)%3||l%3))){c=y;break}}if(!c)continue;let d=o.type.resolve,p=[],f=c.from,h=o.to;if(a){let y=Math.min(2,c.to-c.from,l);f=c.to-y,h=o.from+y,d=1==y?"Emphasis":"StrongEmphasis"}c.type.mark&&p.push(this.elt(c.type.mark,f,c.to));for(let y=u+1;y<s;y++)this.parts[y]instanceof Kx&&p.push(this.parts[y]),this.parts[y]=null;o.type.mark&&p.push(this.elt(o.type.mark,o.from,h));let m=this.elt(d,f,h,p);this.parts[u]=a&&c.from!=f?new rd(c.type,c.from,f,c.side):null,(this.parts[s]=a&&o.to!=h?new rd(o.type,h,o.to,o.side):null)?this.parts.splice(s,0,m):this.parts[s]=m}let i=[];for(let s=t;s<this.parts.length;s++){let o=this.parts[s];o instanceof Kx&&i.push(o)}return i}findOpeningDelimiter(t){for(let i=this.parts.length-1;i>=0;i--){let s=this.parts[i];if(s instanceof rd&&s.type==t)return i}return null}takeContent(t){let i=this.resolveMarkers(t);return this.parts.length=t,i}skipSpace(t){return Wx(this.text,t-this.offset)+this.offset}elt(t,i,s,o){return"string"==typeof t?Vr(this.parser.getNodeType(t),i,s,o):new r3e(t,i)}}function lz(n,t){if(!t.length)return n;if(!n.length)return t;let i=n.slice(),s=0;for(let o of t){for(;s<i.length&&i[s].to<o.to;)s++;if(s<i.length&&i[s].from<o.from){let a=i[s];a instanceof Kx&&(i[s]=new Kx(a.type,a.from,a.to,lz(a.children,[o])))}else i.splice(s++,0,o)}return i}const L_t=[Ht.CodeBlock,Ht.ListItem,Ht.OrderedList,Ht.BulletList];class F_t{constructor(t,i){this.fragments=t,this.input=i,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,t.length&&(this.fragment=t[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(t,i){for(;this.fragment&&this.fragment.to<=t;)this.nextFragment();if(!this.fragment||this.fragment.from>(t?t-1:0))return!1;if(this.fragmentEnd<0){let a=this.fragment.to;for(;a>0&&"\n"!=this.input.read(a-1,a);)a--;this.fragmentEnd=a?a-1:0}let s=this.cursor;s||(s=this.cursor=this.fragment.tree.cursor(),s.firstChild());let o=t+this.fragment.offset;for(;s.to<=o;)if(!s.parent())return!1;for(;;){if(s.from>=o)return this.fragment.from<=i;if(!s.childAfter(o))return!1}}matches(t){let i=this.cursor.tree;return i&&i.prop(Kn.contextHash)==t}takeNodes(t){let i=this.cursor,s=this.fragment.offset,o=this.fragmentEnd-(this.fragment.openEnd?1:0),a=t.absoluteLineStart,l=a,c=t.block.children.length,u=l,d=c;for(;;){if(i.to-s>o){if(i.type.isAnonymous&&i.firstChild())continue;break}let p=d3e(i.from-s,t.ranges);if(i.to-s<=t.ranges[t.rangeI].to)t.addNode(i.tree,p);else{let f=new Or(t.parser.nodeSet.types[Ht.Paragraph],[],[],0,t.block.hashProp);t.reusePlaceholders.set(f,i.tree),t.addNode(f,p)}if(i.type.is("Block")&&(L_t.indexOf(i.type.id)<0?(l=i.to-s,c=t.block.children.length):(l=u,c=d,u=i.to-s,d=t.block.children.length)),!i.nextSibling())break}for(;t.block.children.length>c;)t.block.children.pop(),t.block.positions.pop();return l-a}}function d3e(n,t){let i=n;for(let s=1;s<t.length;s++){let o=t[s-1].to;o<n&&(i-=t[s].from-o)}return i}const B_t=Gg({"Blockquote/...":oe.quote,HorizontalRule:oe.contentSeparator,"ATXHeading1/... SetextHeading1/...":oe.heading1,"ATXHeading2/... SetextHeading2/...":oe.heading2,"ATXHeading3/...":oe.heading3,"ATXHeading4/...":oe.heading4,"ATXHeading5/...":oe.heading5,"ATXHeading6/...":oe.heading6,"Comment CommentBlock":oe.comment,Escape:oe.escape,Entity:oe.character,"Emphasis/...":oe.emphasis,"StrongEmphasis/...":oe.strong,"Link/... Image/...":oe.link,"OrderedList/... BulletList/...":oe.list,"BlockQuote/...":oe.quote,"InlineCode CodeText":oe.monospace,"URL Autolink":oe.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":oe.processingInstruction,"CodeInfo LinkLabel":oe.labelName,LinkTitle:oe.string,Paragraph:oe.content}),j_t=new sz(new bb(t3e).extend(B_t),Object.keys(iD).map(n=>iD[n]),Object.keys(iD).map(n=>k_t[n]),Object.keys(iD),M_t,H2e,Object.keys(az).map(n=>az[n]),Object.keys(az),[]);function E3e(n,t,i){return(s,o,a)=>{if(o!=n||s.char(a+1)==n)return-1;let l=[s.elt(i,a,a+1)];for(let c=a+1;c<s.end;c++){let u=s.char(c);if(u==n)return s.addElement(s.elt(t,a,c+1,l.concat(s.elt(i,c,c+1))));if(92==u&&l.push(s.elt("Escape",c,2+c++)),hu(u))break}return-1}}function K_t(n){const t=[];return n.iterate({enter:i=>{const s=i.node;if(!s.type.isError)return;const o=s.parent,a=w3e(s),l={from:s.from,to:s.to,severity:"error",type:"Syntax Error"};if(s.from!==s.to)l.message=`Unrecognized token in <${o.name}>`;else if(a)l.message=`Unrecognized token <${a.name}> in <${o.name}>`,l.to=a.to;else{const c=o.enterUnfinishedNodesBefore(s.to);l.message=`Incomplete <${(c||o).name}>`}t.push(l)}}),t}function w3e(n){return n?n.nextSibling||w3e(n.parent):null}oe.special(oe.content),E3e(94,"Superscript","SuperscriptMark"),oe.special(oe.content),E3e(126,"Subscript","SubscriptMark");const Z_t=[{create:n=>({enter(t){if("FilterExpression"!==t.name)return;const i=n.readContent(t.from,t.to);if(/\[\s*0\s*\]$/.test(i)){const{from:s,to:o}=t;n.report({from:s,to:o,message:"First item is accessed via [1]",severity:"warning",type:"first-item",actions:[{name:"fix",apply(a,l=s,c=o){n.updateContent(l,c,i.replace(/\[\s*0\s*\]$/,"[1]"))}}]})}}})}];function Q_t(n){const{readContent:t,syntaxTree:i,updateContent:s}=n,o=[],a={readContent:t,report:c=>{o.push(c)},updateContent:s},l=Z_t.map(c=>c.create(a));return i.iterate({enter:c=>{for(const u of l)u.enter&&u.enter(c)},leave:c=>{for(const u of l)u.leave&&u.leave(c)}}),o}const S3e=()=>n=>0===n.state.doc.length?[]:function C3e(n){return[...K_t(n.syntaxTree),...Q_t(n)]}({syntaxTree:Ci(n.state),readContent:(s,o)=>n.state.sliceDoc(s,o),updateContent:(s,o,a)=>n.dispatch({changes:{from:s,to:o,insert:a}})}).map(s=>({...s,source:s.type})),J_t=Bx(F0.define([{tag:oe.strong,fontWeight:"bold"},{tag:oe.emphasis,fontStyle:"italic"}]));var O3e=[ln.theme({"& .cm-lintRange":{position:"relative"},"& .cm-lintRange::after":{content:'""',width:"100%",position:"absolute",left:"0px",bottom:"-2px",height:"3px",backgroundRepeat:"repeat-x"},"& .cm-lintRange.cm-lintRange-warning, & .cm-lintRange.cm-lintRange-error":{backgroundImage:"none"},"& .cm-lintPoint::after":{bottom:"-2px"}}),J_t];const T3e=n=>`%23${n.slice(1)}`,pr={black:"#1f2b36",darkGrey:"#2f3d58",grey:"#404a5c",midGrey:"#576071",lightGrey:"#c5d1e5",offWhite:"#d9e0f5",snowWhite:"#eaf1ff",white:"#ffffff",mossGreen:"#7ab6aa",iceBlue:"#6cbfd8",waterBlue:"#065aaa",brightBlue:"#0a56b9",deepBlue:"#355472",red:"#9f1c15",orangeBrown:"#b4502f",yellow:"#debd71",lila:"#9a4890",purple:"#5b2c83"},vo={lightBackground:pr.white,darkBackground:pr.snowWhite,selection:pr.snowWhite,tooltipBackground:pr.offWhite,error:pr.red,warning:pr.yellow,invalid:"#b40000"};var n2t=[ln.theme({"&":{color:pr.black,backgroundColor:vo.lightBackground},".cm-content":{caretColor:pr.darkGrey},".cm-cursor, .cm-dropCursor":{borderLeftColor:pr.darkGrey},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:vo.selection},".cm-panels":{backgroundColor:vo.darkBackground,color:pr.grey},".cm-panels.cm-panels-top":{borderBottom:`2px solid ${pr.black}`},".cm-panels.cm-panels-bottom":{borderTop:`2px solid ${pr.black}`},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:`1px solid ${pr.midGrey}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:pr.offWhite},".cm-activeLine":{backgroundColor:vo.selection},".cm-selectionMatch":{backgroundColor:pr.offWhite},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${pr.grey}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:pr.snowWhite},".cm-gutters":{backgroundColor:"#f3f7fe",color:"#52668d",border:"none",padding:"0 5px"},".cm-activeLineGutter":{backgroundColor:vo.selection},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:vo.tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:vo.tooltipBackground,borderBottomColor:vo.tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:vo.darkBackground,color:pr.midGrey}},"& .cm-lintRange.cm-lintRange-warning::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${T3e(vo.warning)}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-lintRange.cm-lintRange-error::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${T3e(vo.error)}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-diagnostic-warning":{border:`1px solid ${vo.warning}`,borderLeft:`5px solid ${vo.warning}`,background:vo.lightBackground},"& .cm-diagnostic-error":{border:`1px solid ${vo.error}`,borderLeft:`5px solid ${vo.error}`,background:vo.lightBackground},"& .cm-diagnostic":{padding:"3px 8px"}},{dark:!1}),Bx(F0.define([{tag:[oe.macroName,oe.variableName],color:pr.waterBlue},{tag:[oe.special(oe.bracket)],color:pr.waterBlue,fontWeight:"bold"},{tag:[oe.color,oe.name,oe.definition(oe.name),oe.constant(oe.name),oe.standard(oe.name),oe.propertyName],color:pr.deepBlue},{tag:[oe.definition(oe.variableName),oe.function(oe.variableName),oe.function(oe.propertyName)],color:pr.brightBlue},{tag:[oe.labelName],color:pr.orangeBrown},{tag:[oe.annotation],color:vo.invalid},{tag:[oe.number,oe.changed,oe.annotation,oe.modifier,oe.self,oe.namespace,oe.atom,oe.bool,oe.special(oe.variableName)],color:pr.red},{tag:[oe.typeName,oe.className,oe.attributeName],color:pr.lila},{tag:[oe.operator,oe.operatorKeyword,oe.tagName,oe.keyword],color:pr.purple},{tag:[oe.angleBracket,oe.squareBracket,oe.brace,oe.separator,oe.punctuation],color:pr.midGrey},{tag:[oe.regexp],color:pr.deepBlue},{tag:[oe.quote],color:pr.darkGrey},{tag:[oe.string,oe.character,oe.deleted],color:pr.orangeBrown},{tag:oe.link,color:pr.mossGreen,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[oe.url,oe.escape,oe.special(oe.string)],color:pr.red},{tag:[oe.meta],color:pr.iceBlue},{tag:[oe.comment],color:pr.midGrey,fontStyle:"italic"},{tag:oe.strong,fontWeight:"bold",color:pr.deepBlue},{tag:oe.emphasis,fontStyle:"italic",color:pr.deepBlue},{tag:oe.strikethrough,textDecoration:"line-through"},{tag:oe.heading,fontWeight:"bold",color:pr.midGray},{tag:oe.special(oe.heading1),fontWeight:"bold",color:pr.darkGrey},{tag:[oe.heading1,oe.heading2,oe.heading3,oe.heading4],fontWeight:"bold",color:pr.midGrey},{tag:[oe.heading5,oe.heading6,oe.processingInstruction,oe.inserted],color:pr.grey},{tag:[oe.contentSeparator],color:pr.yellow},{tag:oe.invalid,color:pr.midGrey,borderBottom:`1px dotted ${vo.invalid}`}]))];const cz="#f07178",a_="#fffce1",uz="#ec9e6f",dz="rgba(0, 0, 0, 0.5)",pz="#353a42";var p2t=[ln.theme({"&":{color:"#ffffff",backgroundColor:"#292d3e"},".cm-content":{caretColor:"#ffcc00"},"&.cm-focused .cm-cursor":{borderLeftColor:"#ffcc00"},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"rgba(128, 203, 196, 0.2)"},".cm-panels":{backgroundColor:"#21252b",color:"#ffffff"},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:dz},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{background:"#292d3e",color:"#676e95",border:"none",padding:"0 5px"},".cm-activeLineGutter":{backgroundColor:dz},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:pz},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:pz,borderBottomColor:pz},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:dz,color:"#abb2bf"}},"& .cm-lintRange.cm-lintRange-warning::after":{backgroundImage:"url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='%23fff890' fill='none' stroke-width='1.2'/></svg>\")"},"& .cm-lintRange.cm-lintRange-error::after":{backgroundImage:"url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='red' fill='none' stroke-width='1.2'/></svg>\")"},"& .cm-diagnostic-warning":{borderLeft:"5px solid #fff890",background:"#281e16"},"& .cm-diagnostic-error":{borderLeft:"5px solid red",background:"#281616"},"& .cm-diagnostic":{borderRadius:"2px",padding:"3px 8px"}},{dark:!0}),Bx(F0.define([{tag:oe.heading1,color:a_},{tag:oe.heading2,color:a_},{tag:oe.heading3,color:a_},{tag:oe.heading4,color:a_},{tag:oe.heading5,color:a_},{tag:oe.heading6,color:a_},{tag:oe.special(oe.bracket),color:uz,fontWeight:"bold"},{tag:oe.keyword,color:"#c792ea"},{tag:oe.operator,color:"#89ddff"},{tag:oe.special(oe.variableName),color:"#eeffff"},{tag:oe.typeName,color:"#f07178"},{tag:oe.atom,color:"#f78c6c"},{tag:oe.number,color:"#ff5370"},{tag:oe.bool,color:"#ff5370"},{tag:oe.definition(oe.variableName),color:"#82aaff"},{tag:oe.string,color:"#c3e88d"},{tag:oe.comment,color:"#7d8799"},{tag:oe.tagName,color:"#ff5370"},{tag:oe.bracket,color:"#a2a1a4"},{tag:oe.meta,color:"#ffcb6b"},{tag:oe.special(oe.string),color:cz},{tag:oe.propertyName,color:uz},{tag:oe.variableName,color:uz},{tag:oe.attributeName,color:cz},{tag:oe.className,color:cz},{tag:oe.invalid,color:"#ffffff"}]))];const f2t=[...O3e,...n2t],h2t=[...O3e,...p2t],v2t=(n,t=0)=>{const i=125===n.peek(t),s=125===n.peek(t+1);return i&&s||-1===n.peek(t)},b2t=new b0((n,t)=>{let i=0;for(;!v2t(n,i);)i++;i>0&&(n.advance(i),n.acceptToken(2))}),_2t=(n,t=0)=>{const i=123===n.peek(t),s=123===n.peek(t+1);return i&&s||-1===n.peek(t)},E2t=new b0((n,t)=>{let i=0;for(;!_2t(n,i);)i++;i>0&&(n.advance(i),n.acceptToken(3))}),w2t=new b0((n,t)=>{let i=0;for(;-1!==n.peek(i);)i++;i>0&&(n.advance(i),n.acceptToken(1))}),x2t=Gg({ConditionalSpanner:oe.special(oe.bracket),ConditionalSpannerClose:oe.special(oe.bracket),ConditionalSpannerCloseNl:oe.special(oe.bracket),LoopSpanner:oe.special(oe.bracket),LoopSpannerClose:oe.special(oe.bracket),LoopSpannerCloseNl:oe.special(oe.bracket),EmptyInsert:oe.special(oe.bracket),Insert:oe.special(oe.bracket)}),fz=Wg.deserialize({version:14,states:"$bOQOaOOOfOXO'#CbOOO`'#Cm'#CmOqOWO'#CcOvOWO'#CfOOO`'#Cp'#CpOOO`'#Ci'#CiO{OaO'#ClO!jOSOOQOOOOOO!oOPO,58{O!tOXO,58|OOO`,58|,58|O!|OQO,58}O#ROQO,59QOOO`-E6g-E6gOOO`1G.g1G.gO#WOPO1G.gOOO`1G.h1G.hO#]OaO1G.iO#qOaO1G.lOOO`7+$R7+$RO$VOPO7+$TO$_OPO7+$WOOO`<<Go<<GoOOO`<<Gr<<Gr",stateData:"$g~ORUO_WObPOeROgSO^`P~OQYO_ZOc[O~OQ]O~OQ^O~ORUObPOeROgSO^`XW`XX`XZ`X[`X~OPXO~Oc`O~OQaOcbO~OfcO~OfdO~OceO~ORUObPOeROgSOW`PX`P~ORUObPOeROgSOZ`P[`P~OWhOXhO~OZiO[iO~O",goto:"!ZePPPPPfflPPlPPrPPz!TPP!TXQOVcdXTOVcdUVOcdR_VQXOQfcRgdXUOVcd",nodeNames:"\u26a0 Feel FeelBlock SimpleTextBlock Feelers Insert EmptyInsert ConditionalSpanner ConditionalSpannerClose ConditionalSpannerCloseNl LoopSpanner LoopSpannerClose LoopSpannerCloseNl",maxTerm:23,propSources:[x2t],skippedNodes:[0],repeatNodeCount:1,tokenData:"%X~RR!_!`[#o#pa#q#r$r~aO_~~dP#o#pg~lQb~str!P!Q!{~uQ#]#^{#`#a!^~!OP#Y#Z!R~!UPpq!X~!^Oe~~!aP#c#d!d~!gP#c#d!j~!mP#d#e!p~!sPpq!v~!{Og~~#OQ#]#^#U#`#a#u~#XP#Y#Z#[~#_P#q#r#b~#eP#q#r#h~#mPW~YZ#p~#uOX~~#xP#c#d#{~$OP#c#d$R~$UP#d#e$X~$[P#q#r$_~$bP#q#r$e~$jPZ~YZ$m~$rO[~R$uP#q#r$xR%PPcPfQYZ%SQ%XOfQ",tokenizers:[0,1,w2t,b2t,E2t],topRules:{Feelers:[0,4]},tokenPrec:0});function M3e(n,t){const i=[{children:[]}];return n.iterate({enter:(o,a,l)=>{const c={name:o.type.name,children:[]};(o=>["SimpleTextBlock","Feel","FeelBlock"].includes(o.type.name))(o)&&(c.content=t.slice(o.from,o.to)),i.push(c)},leave:(o,a,l)=>{const c=i.pop(),u=i[i.length-1];c.parent=u,u.children.push(c)}}),i[0].children[0]}const A3e=(n,t)=>"object"==typeof n?{this:n,parent:t,...n,_this_:n,_parent_:t}:{this:n,parent:t,_this_:n,_parent_:t},O2t={ConditionalSpanner:Zb,LoopSpanner:Zb};function D2t(n){const t=[];return n.iterate({enter:i=>{"EmptyInsert"===i.type.name&&t.push({from:i.from,to:i.to,severity:"warning",message:"this insert is empty and will be ignored",type:"emptyInsert"})}}),t}var A2t=R2e(function M2t(){const n=S3e();return t=>{const i=n(t);if(0===t.state.doc.length)return[];const o=function k2t(n){return[...D2t(n)]}(Ci(t.state));return[...i,...o.map(a=>({...a,source:"feelers linter"}))]}}());function aD({container:n,tooltipContainer:t,hostLanguage:i,hostLanguageParser:s,onChange:o=()=>{},onKeyDown:a=()=>{},onLint:l=()=>{},contentAttributes:c={},readOnly:u=!1,value:d="",enableGutters:p=!1,singleLine:f=!1,lineWrap:h=!1,darkMode:m=!1}){const g=ln.updateListener.of(C=>{C.docChanged&&o(C.state.doc.toString())}),y=ln.updateListener.of(C=>{const P=C.transactions.flatMap(I=>I.effects).filter(I=>I.is(s_));if(!P.length)return;const D=P.flatMap(I=>I.value);l(D)}),v=ln.contentAttributes.of(c),_=ln.domEventHandlers({keydown:a});"string"==typeof t&&(t=document.querySelector(t));const E=t?Obe({tooltipSpace:function(){return t.getBoundingClientRect()}}):[],b=(n=>new NP(function T2t(n=null){const t=fz.configure({wrap:Opt(i=>"Feel"==i.name||"FeelBlock"==i.name?{parser:tx}:n&&"SimpleTextBlock"==i.name?{parser:n}:null),props:[Rx.add(O2t)]});return d1.define({parser:t})}(n),[]))(s||i&&("markdown"===i?j_t:null)),w=[b$(),g,v,N$(),f$(),_,qb.of([...Y$]),b,A2t,y,E,m?h2t:f2t,...p?[c$()]:[],...f?[il.transactionFilter.of(C=>C.newDoc.lines>1?[]:C)]:[],...h?[ln.lineWrapping]:[]];return u&&w.push(ln.editable.of(!1)),f&&d&&(d=d.toString().split("\n")[0]),this._cmEditor=new ln({state:il.create({doc:d,extensions:w}),parent:n}),this}aD.prototype.setValue=function(n){this._cmEditor.dispatch({changes:{from:0,to:this._cmEditor.state.doc.length,insert:n}})},aD.prototype.focus=function(n){const t=this._cmEditor;if(t.contentDOM.focus(),t.focus(),"number"==typeof n){const i=t.state.doc.length;t.dispatch({selection:{anchor:n<=i?n:i}})}},aD.prototype.getSelection=function(){return this._cmEditor.state.selection};const I3e=[h1("function(${params}) ${body}",{label:"function",detail:"definition",type:"keyword"}),h1("for ${var} in ${collection} return ${value}",{label:"for",detail:"expression",type:"keyword"}),h1("every ${var} in ${collection} satisfies ${condition}",{label:"every",detail:"quantified expression",type:"keyword"}),h1("some ${var} in ${collection} satisfies ${condition}",{label:"some",detail:"quantified expression",type:"keyword"}),h1("if ${condition} then ${value} else ${other value}",{label:"if",detail:"block",type:"keyword"}),h1("{ ${key}: ${value} }",{label:"context",detail:"block",type:"keyword"})];function hz(){return hz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},hz.apply(this,arguments)}function Qx(n){const{context:t,after:i,before:s,keyword:o}=n;return function L2t(n,t){const{nodes:i,before:s,after:o,keyword:a}=n;return l=>{const{state:c,pos:u}=l,d=function N2t(n,t){for(Array.isArray(t)||(t=[t]);n;n=n.parent){if(t.includes(n.name))return n;if(n.type.isTop)break}return null}(Ci(c).resolveInner(u,-1),i);return!d||L3e(d,u,[a,s])||function R2t(n,t,i){return F3e(n,t,i,1)}(d,u,[a,o])||o&&!L3e(d,u,[o])?null:t(l)}}({nodes:t,before:s,after:i,keyword:o},O$([{label:o,type:"keyword",boost:10}]))}const R3e=[Qx({context:"InExpression",keyword:"in"}),Qx({context:"IfExpression",keyword:"then",after:"if",before:"else"}),Qx({context:"IfExpression",keyword:"else",after:"then"}),Qx({context:"QuantifiedExpression",keyword:"satisfies"}),Qx({context:"ForExpression",after:"InExpressions",keyword:"return"})],I2t=["StringLiteral","Identifier","LineComment","BlockComment","PathExpression"];function N3e(n){return function lvt(n,t){return i=>{for(let s=Ci(i.state).resolveInner(i.pos,-1);s;s=s.parent){if(n.indexOf(s.name)>-1)return null;if(s.type.isTop)break}return t(i)}}(I2t,O$(n.map(t=>hz({},t,{type:"text"}))))}function L3e(n,t,i){return F3e(n,t,i,-1)}function F3e(n,t,i,s){let o=n[s>0?"childAfter":"childBefore"](t);for(;o;){if(i.includes(o.name))return o;if(o.type.isError&&o.firstChild&&i.includes(o.firstChild.name))return o.firstChild;o=o[s>0?"nextSibling":"prevSibling"]}return null}const B3e=d1.define({parser:tx.configure({props:[BP.add({Context:Wbe({closing:"}"}),"List FilterExpression":Wbe({closing:"]"}),"ParenthesizedExpression FunctionInvocation":Ix({except:/^\s*\)/}),"ForExpression QuantifiedExpression IfExpression":Ix({except:/^\s*(then|else|return|satisfies)\b/}),FunctionDefinition:Ix({except:/^\s*(\(|\))/})}),Rx.add({Context:Zb,List:Zb,ParenthesizedExpression:Zb,FunctionDefinition(n){const t=n.getChild(")");return t?{from:t.to,to:n.to}:null}})]}),languageData:{indentOnInput:/^\s*(\)|\}|\]|then|else|return|satisfies)$/,commentTokens:{line:"//",block:{open:"/*",close:"*/"}}}}),F2t=B3e.configure({top:"UnaryTests"},"FEEL unary tests"),B2t=B3e.configure({top:"Expression"},"FEEL expression");var V2t=[R2e(S3e())],U2t=[ln.theme({"& .cm-content":{padding:"0px"},"& .cm-line":{padding:"0px"},"&.cm-editor.cm-focused":{outline:"none"},"& .cm-completionInfo":{whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis"},"&.cm-editor":{height:"100%"},"& .cm-completionInfo > *":{whiteSpace:"normal"},"& .cm-completionInfo ul":{margin:0,paddingLeft:"15px"},"& .cm-completionInfo pre":{marginBottom:0,whiteSpace:"pre-wrap"},"& .cm-completionInfo p":{marginTop:0},"& .cm-completionInfo p:not(:last-of-type)":{marginBottom:0}}),ln.baseTheme({"& .variableName":{color:"#10f"},"& .number":{color:"#164"},"& .string":{color:"#a11"},"& .bool":{color:"#219"},"& .function":{color:"#aa3731",fontWeight:"bold"},"& .control":{color:"#708"}}),Bx(F0.define([{tag:oe.variableName,class:"variableName"},{tag:oe.name,class:"variableName"},{tag:oe.number,class:"number"},{tag:oe.string,class:"string"},{tag:oe.bool,class:"bool"},{tag:oe.function(oe.variableName),class:"function"},{tag:oe.function(oe.special(oe.variableName)),class:"function"},{tag:oe.controlKeyword,class:"control"},{tag:oe.operatorKeyword,class:"control"}]))];function j3e(n){return n&&n.from===n.to}function mz(n){return!!n&&("PathExpression"===n.name||mz(n.parent))}function G2t({variables:n}){return t=>{const i=Ci(t.state).resolve(t.pos,-1);if(!mz(i))return;const s=function K2t(n){for(;n;){if("PathExpression"===n.name)return n;n=n.parent}}(i),o=i===s?t.pos:i.from,a=gz(s,t);let l=n;for(var c=0;c<a.length-1;c++){var u=l.find(p=>p.name===a[c].name);if(!u)return null;if("optional"!==u.isList&&!!u.isList!==a[c].isList)return;l=u.entries}return l?(l=l.map(p=>({label:p.name,type:"variable",info:p.info,detail:p.detail})),{from:o,options:l}):void 0}}function gz(n,t){let i=[];for(let s=n.firstChild;s;s=s.nextSibling)"PathExpression"===s.name?i.push(...gz(s,t)):"FilterExpression"===s.name?i.push(...Y2t(s,t)):i.push({name:V3e(s,t),isList:!1});return i}function Y2t(n,t){const i=n.firstChild;if("PathExpression"===i.name){const s=gz(i,t);return s[s.length-1].isList=!0,s}return[{name:V3e(i,t),isList:!0}]}function V3e(n,t){return t.state.sliceDoc(n.from,n.to)}function X2t({variables:n=[],builtins:t=[]}){const i=function Z2t(n,t){return[].concat(n.map(i=>$3e(i)),t.map(i=>$3e(i)))}(n,t);return i.length?s=>{const{pos:o,state:a}=s,l=Ci(a).resolve(o,-1);return function q2t(n,t){const i=n.nextSibling;return j3e(n)||i&&i.from===t&&j3e(i)}(l,o)?s.explicit?{from:o,options:i}:null:!function W2t(n){return n&&n.parent&&"VariableName"===n.parent.name}(l)||mz(l)?null:{from:l.from,options:i}}:s=>null}function $3e(n,t){return"function"===n.type?function Q2t(n,t){const{name:i,info:s,detail:o,params:a=[]}=n,l=a.map(({name:p,type:f},h)=>({name:p||`param ${h+1}`,type:f}));return h1(`${i}(${l.map(p=>"${"+p.name+"}").join(", ")})`,{label:`${i}(${l.map(({name:p,type:f})=>f?`${p}: ${f}`:p).join(", ")})`,type:"function",info:s,detail:o,boost:t})}(n,t):{label:n.name,type:"variable",info:n.info,detail:n.detail,boost:t}}function J2t({variables:n=[],builtins:t=[]}){return[G2t({variables:n}),X2t({variables:n,builtins:t}),N3e(I3e.map(i=>({...i,boost:-1}))),...R3e]}function e3t(n){return function j2t(n={}){const t="unaryTests"===n.dialect?F2t:B2t,i=n.parserDialect,s=ex(n.context),o=t.configure({contextTracker:s,dialect:i}),a=n.completions||[N3e(I3e),R3e].flat();return new NP(o,[...a.map(l=>o.data.of({autocomplete:l}))])}(n)}const z3e=rn.define(),H3e=rn.define(),U3e=rn.define();function q3e({dialect:n="expression",variables:t=[],builtins:i=[],completions:s=J2t({builtins:i,variables:t})}){const o=function t3t(n){return n.slice().reverse().reduce((i,s)=>(i[s.name]=()=>{},i),{})}([...t,...i]);return[U3e.of(n),z3e.of(i),H3e.of(t),e3t({dialect:n,context:o,completions:s})]}function s3t(n){const{name:t,description:i}=n,s=t.match(/^([\w\s]+)\((.*)\)$/),a=s[2];return{name:s[1],type:"function",params:a?a.split(", ").map(c=>({name:c})):[],info:()=>lr(`<div class="description">${i}<div>`),boost:0}}const o3t=function i3t(n){return n.map(s3t)}([{name:"not(negand)",description:'<p>Returns the logical negation of the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">not(negand: boolean): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">not(true)\n// false\n\nnot(null)\n// null\n</code></pre>\n'},{name:"is defined(value)",description:'<p><em>Camunda Extension</em></p>\n<p>Checks if a given value is not <code>null</code>. If the value is <code>null</code> then the function returns <code>false</code>.\nOtherwise, the function returns <code>true</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">is defined(value: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">is defined(1)\n// true\n\nis defined(null)\n// false\n\nis defined(x)\n// false - if no variable &quot;x&quot; exists\n\nis defined(x.y)\n// false - if no variable &quot;x&quot; exists or it doesn&#39;t have a property &quot;y&quot;\n</code></pre>\n<p>:::caution Breaking change</p>\n<p>This function worked differently in previous versions. It returned <code>true</code> if the value was <code>null</code>.\nSince this version, the function returns <code>false</code> if the value is <code>null</code>.</p>\n<p>:::</p>\n'},{name:"get or else(value, default)",description:'<p><em>Camunda Extension</em></p>\n<p>Return the provided value parameter if not <code>null</code>, otherwise return the default parameter</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">get or else(value: Any, default: Any): Any\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">get or else(&quot;this&quot;, &quot;default&quot;)\n// &quot;this&quot;\n\nget or else(null, &quot;default&quot;)\n// &quot;default&quot;\n\nget or else(null, null)\n// null\n</code></pre>\n'},{name:"assert(value, condition)",description:'<p><em>Camunda Extension</em></p>\n<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.\nOtherwise, the evaluation fails with an error.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">assert(value: Any, condition: Any)\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">assert(x, x != null)\n// &quot;value&quot; - if x is &quot;value&quot;\n// error - if x is null or doesn&#39;t exist\n\nassert(x, x &gt;= 0)\n// 4 - if x is 4\n// error - if x is less than zero\n</code></pre>\n'},{name:"assert(value, condition, cause)",description:'<p><em>Camunda Extension</em></p>\n<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.\nOtherwise, the evaluation fails with an error containing the given message.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">assert(value: Any, condition: Any, cause: String)\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">assert(x, x != null, &quot;&#39;x&#39; should not be null&quot;)\n// &quot;value&quot; - if x is &quot;value&quot;\n// error(&#39;x&#39; should not be null) - if x is null or doesn&#39;t exist\n\nassert(x, x &gt;= 0, &quot;&#39;x&#39; should be positive&quot;)\n// 4 - if x is 4\n// error(&#39;x&#39; should be positive) - if x is less than zero\n</code></pre>\n'},{name:"get value(context, key)",description:'<p>Returns the value of the context entry with the given key.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">get value(context: context, key: string): Any\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">get value({foo: 123}, &quot;foo&quot;)\n// 123\n\nget value({a: 1}, &quot;b&quot;)\n// null\n</code></pre>\n'},{name:"get value(context, keys)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns the value of the context entry for a context path defined by the given keys.</p>\n<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it returns the value at the nested entry <code>k1.k2</code> of the context.</p>\n<p>If <code>keys</code> are empty or the nested entry defined by the keys doesn&#39;t exist in the context, it returns <code>null</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">get value(context: context, keys: list&lt;string&gt;): Any\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">get value({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;])\n// 0\n\nget value({x: {y: {z:0}}}, [&quot;x&quot;, &quot;y&quot;])\n// {z:0}\n\nget value({a: {b: 3}}, [&quot;b&quot;])\n// null\n</code></pre>\n'},{name:"get entries(context)",description:'<p>Returns the entries of the context as a list of key-value-pairs.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">get entries(context: context): list&lt;context&gt;\n</code></pre>\n<p>The return value is a list of contexts. Each context contains two entries for &quot;key&quot; and &quot;value&quot;.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">get entries({foo: 123})\n// [{key: &quot;foo&quot;, value: 123}]\n</code></pre>\n'},{name:"context put(context, key, value)",description:'<p>Adds a new entry with the given key and value to the context. Returns a new context that includes the entry.</p>\n<p>If an entry for the same key already exists in the context, it overrides the value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">context put(context: context, key: string, value: Any): context\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">context put({x:1}, &quot;y&quot;, 2)\n// {x:1, y:2}\n</code></pre>\n<p>:::info\nThe function <code>context put()</code> replaced the previous function <code>put()</code> (Camunda Extension). The\nprevious function is deprecated and should not be used anymore.\n:::</p>\n'},{name:"context put(context, keys, value)",description:'<p>Adds a new entry with the given value to the context. The path of the entry is defined by the keys. Returns a new context that includes the entry.</p>\n<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it adds the nested entry <code>k1.k2 = value</code> to the context.</p>\n<p>If an entry for the same keys already exists in the context, it overrides the value.</p>\n<p>If <code>keys</code> are empty, it returns <code>null</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">context put(context: context, keys: list&lt;string&gt;, value: Any): context\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">context put({x:1}, [&quot;y&quot;], 2)\n// {x:1, y:2}\n\ncontext put({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;], 2)\n// {x:1, y: {z:2}}\n\ncontext put({x:1}, [&quot;y&quot;, &quot;z&quot;], 2)\n// {x:1, y: {z:2}}\n</code></pre>\n'},{name:"context merge(contexts)",description:'<p>Union the given contexts. Returns a new context that includes all entries of the given contexts.</p>\n<p>If an entry for the same key already exists in a context, it overrides the value. The entries are overridden in the same order as in the list of contexts.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">context merge(contexts: list&lt;context&gt;): context\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">context merge([{x:1}, {y:2}])\n// {x:1, y:2}\n\ncontext merge([{x:1, y: 0}, {y:2}])\n// {x:1, y:2}\n</code></pre>\n<p>:::info\nThe function <code>context merge()</code> replaced the previous function <code>put all()</code> (Camunda Extension). The\nprevious function is deprecated and should not be used anymore.\n:::</p>\n'},{name:"string(from)",description:'<p>Returns the given value as a string representation.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string(from: Any): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string(1.1)\n// &quot;1.1&quot;\n\nstring(date(&quot;2012-12-25&quot;))\n// &quot;2012-12-25&quot;\n</code></pre>\n'},{name:"number(from)",description:'<p>Parses the given string to a number.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">number(from: string): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">number(&quot;1500.5&quot;)\n// 1500.5\n</code></pre>\n'},{name:"context(entries)",description:'<p>Constructs a context of the given list of key-value pairs. It is the reverse function to <a href="feel-built-in-functions-context.md#get-entriescontext">get entries()</a>.</p>\n<p>Each key-value pair must be a context with two entries: <code>key</code> and <code>value</code>. The entry with name <code>key</code> must have a value of the type <code>string</code>.</p>\n<p>It might override context entries if the keys are equal. The entries are overridden in the same order as the contexts in the given list.</p>\n<p>Returns <code>null</code> if one of the entries is not a context or if a context doesn&#39;t contain the required entries.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">context(entries: list&lt;context&gt;): context\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">context([{&quot;key&quot;:&quot;a&quot;, &quot;value&quot;:1}, {&quot;key&quot;:&quot;b&quot;, &quot;value&quot;:2}])\n// {a:1, b:2}\n</code></pre>\n'},{name:"date(from)",description:'<p>Returns a date from the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date(from: string): date\n</code></pre>\n<p>Parses the given string into a date.</p>\n<pre><code class="language-feel">date(from: date and time): date\n</code></pre>\n<p>Extracts the date component from the given date and time.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date(&quot;2018-04-29&quot;)\n// date(&quot;2018-04-29&quot;)\n\ndate(date and time(&quot;2012-12-25T11:00:00&quot;))\n// date(&quot;2012-12-25&quot;)\n</code></pre>\n'},{name:"date(year, month, day)",description:'<p>Returns a date from the given components.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date(year: number, month: number, day: number): date\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date(2012, 12, 25)\n// date(&quot;2012-12-25&quot;)\n</code></pre>\n'},{name:"time(from)",description:'<p>Returns a time from the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">time(from: string): time\n</code></pre>\n<p>Parses the given string into a time.</p>\n<pre><code class="language-feel">time(from: date and time): time\n</code></pre>\n<p>Extracts the time component from the given date and time.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">time(&quot;12:00:00&quot;)\n// time(&quot;12:00:00&quot;)\n\ntime(date and time(&quot;2012-12-25T11:00:00&quot;))\n// time(&quot;11:00:00&quot;)\n</code></pre>\n'},{name:"time(hour, minute, second)",description:'<p>Returns a time from the given components.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">time(hour: number, minute: number, second: number): time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">time(23, 59, 0)\n// time(&quot;23:59:00&quot;)\n</code></pre>\n'},{name:"time(hour, minute, second, offset)",description:'<p>Returns a time from the given components, including a timezone offset.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">time(hour: number, minute: number, second: number, offset: days and time duration): time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">time(14, 30, 0, duration(&quot;PT1H&quot;))\n// time(&quot;14:30:00+01:00&quot;)\n</code></pre>\n'},{name:"date and time(from)",description:'<p>Parses the given string into a date and time.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date and time(from: string): date and time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date and time(&quot;2018-04-29T09:30:00&quot;)\n// date and time(&quot;2018-04-29T09:30:00&quot;)\n</code></pre>\n'},{name:"date and time(date, time)",description:'<p>Returns a date and time from the given components.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date and time(date: date, time: time): date and time\n</code></pre>\n<pre><code class="language-feel">date and time(date: date and time, time: time): date and time\n</code></pre>\n<p>Returns a date and time value that consists of the date component of <code>date</code> combined with <code>time</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date and time(date(&quot;2012-12-24&quot;),time(&quot;T23:59:00&quot;))\n// date and time(&quot;2012-12-24T23:59:00&quot;)\n\ndate and time(date and time(&quot;2012-12-25T11:00:00&quot;),time(&quot;T23:59:00&quot;))\n// date and time(&quot;2012-12-25T23:59:00&quot;)\n</code></pre>\n'},{name:"date and time(date, timezone)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns the given date and time value at the given timezone.</p>\n<p>If <code>date</code> has a different timezone than <code>timezone</code> then it adjusts the time to match the local time of <code>timezone</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date and time(date: date and time, timezone: string): date and time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date and time(@&quot;2020-07-31T14:27:30@Europe/Berlin&quot;, &quot;America/Los_Angeles&quot;)\n// date and time(&quot;2020-07-31T05:27:30@America/Los_Angeles&quot;)\n\ndate and time(@&quot;2020-07-31T14:27:30&quot;, &quot;Z&quot;)\n// date and time(&quot;2020-07-31T12:27:30Z&quot;)\n</code></pre>\n'},{name:"duration(from)",description:'<p>Parses the given string into a duration. The duration is either a days and time duration or a years and months duration.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">duration(from: string): days and time duration\n</code></pre>\n<pre><code class="language-feel">duration(from: string): years and months duration\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">duration(&quot;P5D&quot;)\n// duration(&quot;P5D&quot;)\n\nduration(&quot;P32Y&quot;)\n// duration(&quot;P32Y&quot;)\n</code></pre>\n'},{name:"years and months duration(from, to)",description:'<p>Returns the years and months duration between <code>from</code> and <code>to</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">years and months duration(from: date, to: date): years and months duration\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">years and months duration(date(&quot;2011-12-22&quot;), date(&quot;2013-08-24&quot;))\n// duration(&quot;P1Y8M&quot;)\n</code></pre>\n'},{name:"list contains(list, element)",description:'<p>Returns <code>true</code> if the given list contains the element. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">list contains(list: list, element: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">list contains([1,2,3], 2)\n// true\n</code></pre>\n'},{name:"count(list)",description:'<p>Returns the number of elements of the given list.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">count(list: list): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">count([1,2,3])\n// 3\n</code></pre>\n'},{name:"min(list)",description:'<p>Returns the minimum of the given list.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">min(list: list): Any\n</code></pre>\n<p>All elements in <code>list</code> should have the same type and be comparable.</p>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">min([1,2,3])\n// 1\n\nmin(1,2,3)\n// 1\n</code></pre>\n'},{name:"max(list)",description:'<p>Returns the maximum of the given list.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">max(list: list): Any\n</code></pre>\n<p>All elements in <code>list</code> should have the same type and be comparable.</p>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">max([1,2,3])\n// 3\n\nmax(1,2,3)\n// 3\n</code></pre>\n'},{name:"sum(list)",description:'<p>Returns the sum of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sum(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sum([1,2,3])\n// 6\n\nsum(1,2,3)\n// 6\n</code></pre>\n'},{name:"product(list)",description:'<p>Returns the product of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">product(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">product([2, 3, 4])\n// 24\n\nproduct(2, 3, 4)\n// 24\n</code></pre>\n'},{name:"mean(list)",description:'<p>Returns the arithmetic mean (i.e. average) of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">mean(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">mean([1,2,3])\n// 2\n\nmean(1,2,3)\n// 2\n</code></pre>\n'},{name:"median(list)",description:'<p>Returns the median element of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">median(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">median(8, 2, 5, 3, 4)\n// 4\n\nmedian([6, 1, 2, 3])\n// 2.5\n</code></pre>\n'},{name:"stddev(list)",description:'<p>Returns the standard deviation of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">stddev(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">stddev(2, 4, 7, 5)\n// 2.0816659994661326\n\nstddev([2, 4, 7, 5])\n// 2.0816659994661326\n</code></pre>\n'},{name:"mode(list)",description:'<p>Returns the mode of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">mode(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">mode(6, 3, 9, 6, 6)\n// [6]\n\nmode([6, 1, 9, 6, 1])\n// [1, 6]\n</code></pre>\n'},{name:"all(list)",description:'<p>Returns <code>false</code> if any element of the given list is <code>false</code>. Otherwise, returns <code>true</code>.</p>\n<p>If the given list is empty, it returns <code>true</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">all(list: list&lt;boolean&gt;): boolean\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">all([true,false])\n// false\n\nall(false,null,true)\n// false\n</code></pre>\n<p>:::info\nThe function <code>all()</code> replaced the previous function <code>and()</code>. The previous function is deprecated and\nshould not be used anymore.\n:::</p>\n'},{name:"any(list)",description:'<p>Returns <code>true</code> if any element of the given list is <code>true</code>. Otherwise, returns <code>false</code>.</p>\n<p>If the given list is empty, it returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">any(list: list&lt;boolean&gt;): boolean\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">any([false,true])\n// true\n\nany(false,null,true)\n// true\n</code></pre>\n<p>:::info\nThe function <code>any()</code> replaced the previous function <code>or()</code>. The previous function is deprecated and\nshould not be used anymore.\n:::</p>\n'},{name:"sublist(list, start position)",description:'<p>Returns a partial list of the given value starting at <code>start position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sublist(list: list, start position: number): list\n</code></pre>\n<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sublist([1,2,3], 2)\n// [2,3]\n</code></pre>\n'},{name:"sublist(list, start position, length)",description:'<p>Returns a partial list of the given value starting at <code>start position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sublist(list: list, start position: number, length: number): list\n</code></pre>\n<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sublist([1,2,3], 1, 2)\n// [1,2]\n</code></pre>\n'},{name:"append(list, items)",description:'<p>Returns the given list with all <code>items</code> appended.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">append(list: list, items: Any): list\n</code></pre>\n<p>The parameter <code>items</code> can be a single element or a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">append([1], 2, 3)\n// [1,2,3]\n</code></pre>\n'},{name:"concatenate(lists)",description:'<p>Returns a list that includes all elements of the given lists.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">concatenate(lists: list): list\n</code></pre>\n<p>The parameter <code>lists</code> is a sequence of lists.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">concatenate([1,2],[3])\n// [1,2,3]\n\nconcatenate([1],[2],[3])\n// [1,2,3]\n</code></pre>\n'},{name:"insert before(list, position, newItem)",description:'<p>Returns the given list with <code>newItem</code> inserted at <code>position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">insert before(list: list, position: number, newItem: Any): list\n</code></pre>\n<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">insert before([1,3],1,2)\n// [2,1,3]\n</code></pre>\n'},{name:"remove(list, position)",description:'<p>Returns the given list without the element at <code>position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">remove(list: list, position: number): list\n</code></pre>\n<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">remove([1,2,3], 2)\n// [1,3]\n</code></pre>\n'},{name:"reverse(list)",description:'<p>Returns the given list in revered order.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">reverse(list: list): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">reverse([1,2,3])\n// [3,2,1]\n</code></pre>\n'},{name:"index of(list, match)",description:'<p>Returns an ascending list of positions containing <code>match</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">index of(list: list, match: Any): list&lt;number&gt;\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">index of([1,2,3,2],2)\n// [2,4]\n</code></pre>\n'},{name:"union(list)",description:'<p>Returns a list that includes all elements of the given lists without duplicates.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">union(list: list): list\n</code></pre>\n<p>The parameter <code>list</code> is a sequence of lists.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">union([1,2],[2,3])\n// [1,2,3]\n</code></pre>\n'},{name:"distinct values(list)",description:'<p>Returns the given list without duplicates.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">distinct values(list: list): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">distinct values([1,2,3,2,1])\n// [1,2,3]\n</code></pre>\n'},{name:"duplicate values(list)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns all duplicate values of the given list.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">duplicate values(list: list): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">duplicate values([1,2,3,2,1])\n// [1,2]\n</code></pre>\n'},{name:"flatten(list)",description:'<p>Returns a list that includes all elements of the given list without nested lists.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">flatten(list: list): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">flatten([[1,2],[[3]], 4])\n// [1,2,3,4]\n</code></pre>\n'},{name:"sort(list, precedes)",description:'<p>Returns the given list sorted by the <code>precedes</code> function.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sort(list: list, precedes: function&lt;(Any, Any) -&gt; boolean&gt;): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sort(list: [3,1,4,5,2], precedes: function(x,y) x &lt; y)\n// [1,2,3,4,5]\n</code></pre>\n'},{name:"string join(list)",description:'<p>Joins a list of strings into a single string. This is similar to\nJava&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>\nfunction.</p>\n<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is\nneither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string join(list: list&lt;string&gt;): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;])\n// &quot;abc&quot;\n\nstring join([&quot;a&quot;,null,&quot;c&quot;])\n// &quot;ac&quot;\n\nstring join([])\n// &quot;&quot;\n</code></pre>\n'},{name:"string join(list, delimiter)",description:'<p>Joins a list of strings into a single string. This is similar to\nJava&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>\nfunction.</p>\n<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is\nneither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>\n<p>The resulting string contains a <code>delimiter</code> between each element.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string join([&quot;a&quot;], &quot;X&quot;)\n// &quot;a&quot;\n\nstring join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;)\n// &quot;a, b, c&quot;\n</code></pre>\n'},{name:"string join(list, delimiter, prefix, suffix)",description:'<p><em>Camunda Extension</em></p>\n<p>Joins a list of strings into a single string. This is similar to\nJava&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>\nfunction.</p>\n<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is\nneither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>\n<p>The resulting string starts with <code>prefix</code>, contains a <code>delimiter</code> between each element, and ends\nwith <code>suffix</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string, prefix: string, suffix: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;, &quot;[&quot;, &quot;]&quot;)\n// &quot;[a, b, c]&quot;\n</code></pre>\n'},{name:"decimal(n, scale)",description:'<p>Rounds the given value at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">decimal(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">decimal(1/3, 2)\n// .33\n\ndecimal(1.5, 0)\n// 2\n</code></pre>\n'},{name:"floor(n)",description:'<p>Rounds the given value with rounding mode flooring.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">floor(n: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">floor(1.5)\n// 1\n\nfloor(-1.5)\n// -2\n</code></pre>\n'},{name:"floor(n, scale)",description:'<p>Rounds the given value with rounding mode flooring at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">floor(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">floor(-1.56, 1)\n// -1.6\n</code></pre>\n'},{name:"ceiling(n)",description:'<p>Rounds the given value with rounding mode ceiling.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">ceiling(n: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">ceiling(1.5)\n// 2\n\nceiling(-1.5)\n// -1\n</code></pre>\n'},{name:"ceiling(n, scale)",description:'<p>Rounds the given value with rounding mode ceiling at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">ceiling(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">ceiling(-1.56, 1)\n// -1.5\n</code></pre>\n'},{name:"round up(n, scale)",description:'<p>Rounds the given value with the rounding mode round-up at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">round up(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">round up(5.5)\n// 6\n\nround up(-5.5)\n// -6\n\nround up(1.121, 2)\n// 1.13\n\nround up(-1.126, 2)\n// -1.13\n</code></pre>\n'},{name:"round down(n, scale)",description:'<p>Rounds the given value with the rounding mode round-down at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">round down(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">round down(5.5, 0)\n// 5\n\nround down (-5.5, 0)\n// -5\n\nround down (1.121, 2)\n// 1.12\n\nround down (-1.126, 2)\n// -1.12\n</code></pre>\n'},{name:"round half up(n, scale)",description:'<p>Rounds the given value with the rounding mode round-half-up at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">round half up(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">round half up(5.5, 0)\n// 6\n\nround half up(-5.5, 0)\n// -6\n\nround half up(1.121, 2)\n// 1.12\n\nround half up(-1.126, 2)\n// -1.13\n</code></pre>\n'},{name:"round half down(n, scale)",description:'<p>Rounds the given value with the rounding mode round-half-down at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">round half down(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">round half down (5.5, 0)\n// 5\n\nround half down (-5.5, 0)\n// -5\n\nround half down (1.121, 2)\n// 1.12\n\nround half down (-1.126, 2)\n// -1.13\n</code></pre>\n'},{name:"abs(number)",description:'<p>Returns the absolute value of the given numeric value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">abs(number: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">abs(10)\n// 10\n\nabs(-10)\n// 10\n</code></pre>\n'},{name:"modulo(dividend, divisor)",description:'<p>Returns the remainder of the division of dividend by divisor.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">modulo(dividend: number, divisor: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">modulo(12, 5)\n// 2\n</code></pre>\n'},{name:"sqrt(number)",description:'<p>Returns the square root of the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sqrt(number: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sqrt(16)\n// 4\n</code></pre>\n'},{name:"log(number)",description:'<p>Returns the natural logarithm (base e) of the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">log(number: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">log(10)\n// 2.302585092994046\n</code></pre>\n'},{name:"exp(number)",description:'<p>Returns the Euler\u2019s number e raised to the power of the given number .</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">exp(number: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">exp(5)\n// 148.4131591025766\n</code></pre>\n'},{name:"odd(number)",description:'<p>Returns <code>true</code> if the given value is odd. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">odd(number: number): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">odd(5)\n// true\n\nodd(2)\n// false\n</code></pre>\n'},{name:"even(number)",description:'<p>Returns <code>true</code> if the given is even. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">even(number: number): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">even(5)\n// false\n\neven(2)\n// true\n</code></pre>\n'},{name:"random number()",description:'<p><em>Camunda Extension</em></p>\n<p>Returns a random number between <code>0</code> and <code>1</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">random number(): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">random number()\n// 0.9701618132579795\n</code></pre>\n'},{name:"before(point1, point2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">before(point1: Any, point2: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">before(1, 10)\n// true\n\nbefore(10, 1)\n// false\n</code></pre>\n'},{name:"before(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">before(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">before([1..5], 10)\n// true\n</code></pre>\n'},{name:"before(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">before(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">before(1, [2..5])\n// true\n</code></pre>\n'},{name:"before(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">before(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">before([1..5], [6..10])\n// true\n\nbefore([1..5),[5..10])\n// true\n</code></pre>\n'},{name:"after(point1, point2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">after(point1: Any, point2: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">after(10, 1)\n// true\n\nafter(1, 10)\n// false\n</code></pre>\n'},{name:"after(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">after(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">after([1..5], 10)\n// false\n</code></pre>\n'},{name:"after(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">after(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">after(12, [2..5])\n// true\n</code></pre>\n'},{name:"after(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">after(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">after([6..10], [1..5])\n// true\n\nafter([5..10], [1..5))\n// true\n</code></pre>\n'},{name:"meets(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">meets(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">meets([1..5], [5..10])\n// true\n\nmeets([1..3], [4..6])\n// false\n\nmeets([1..3], [3..5])\n// true\n\nmeets([1..5], (5..8])\n// false\n</code></pre>\n'},{name:"met by(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">met by(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">met by([5..10], [1..5])\n// true\n\nmet by([3..4], [1..2])\n// false\n\nmet by([3..5], [1..3])\n// true\n\nmet by((5..8], [1..5))\n// false\n\nmet by([5..10], [1..5))\n// false\n</code></pre>\n'},{name:"overlaps(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">overlaps(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">overlaps([5..10], [1..6])\n// true\n\noverlaps((3..7], [1..4])\n// true\n\noverlaps([1..3], (3..6])\n// false\n\noverlaps((5..8], [1..5))\n// false\n\noverlaps([4..10], [1..5))\n// true\n</code></pre>\n'},{name:"overlaps before(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">overlaps before(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">overlaps before([1..5], [4..10])\n// true\n\noverlaps before([3..4], [1..2])\n// false\n\noverlaps before([1..3], (3..5])\n// false\n\noverlaps before([1..5), (3..8])\n// true\n\noverlaps before([1..5), [5..10])\n// false\n</code></pre>\n'},{name:"overlaps after(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">overlaps after(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">overlaps after([4..10], [1..5])\n// true\n\noverlaps after([3..4], [1..2])\n// false\n\noverlaps after([3..5], [1..3))\n// false\n\noverlaps after((5..8], [1..5))\n// false\n\noverlaps after([4..10], [1..5))\n// true\n</code></pre>\n'},{name:"finishes(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">finishes(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">finishes(5, [1..5])\n// true\n\nfinishes(10, [1..7])\n// false\n</code></pre>\n'},{name:"finishes(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">finishes(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">finishes([3..5], [1..5])\n// true\n\nfinishes((1..5], [1..5))\n// false\n\nfinishes([5..10], [1..10))\n// false\n</code></pre>\n'},{name:"finished by(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">finished by(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">finished by([5..10], 10)\n// true\n\nfinished by([3..4], 2)\n// false\n</code></pre>\n'},{name:"finished by(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">finished by(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">finished by([1..5], [3..5])\n// true\n\nfinished by((5..8], [1..5))\n// false\n\nfinished by([5..10], (1..10))\n// false\n</code></pre>\n'},{name:"includes(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">includes(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">includes([5..10], 6)\n// true\n\nincludes([3..4], 5)\n// false\n</code></pre>\n'},{name:"includes(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">includes(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">includes([1..10], [4..6])\n// true\n\nincludes((5..8], [1..5))\n// false\n\nincludes([1..10], [1..5))\n// true\n</code></pre>\n'},{name:"during(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">during(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">during(5, [1..10])\n// true\n\nduring(12, [1..10])\n// false\n\nduring(1, (1..10])\n// false\n</code></pre>\n'},{name:"during(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">during(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">during([4..6], [1..10))\n// true\n\nduring((1..5], (1..10])\n// true\n</code></pre>\n'},{name:"starts(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">starts(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">starts(1, [1..5])\n// true\n\nstarts(1, (1..8])\n// false\n</code></pre>\n'},{name:"starts(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">starts(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">starts((1..5], [1..5])\n// false\n\nstarts([1..10], [1..5])\n// false\n\nstarts((1..5), (1..10))\n// true\n</code></pre>\n'},{name:"started by(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">started by(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">started by([1..10], 1)\n// true\n\nstarted by((1..10], 1)\n// false\n</code></pre>\n'},{name:"started by(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">started by(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">started by([1..10], [1..5])\n// true\n\nstarted by((1..10], [1..5))\n// false\n\nstarted by([1..10], [1..10))\n// true\n</code></pre>\n'},{name:"coincides(point1, point2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">coincides(point1: Any, point2: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">coincides(5, 5)\n// true\n\ncoincides(3, 4)\n// false\n</code></pre>\n'},{name:"coincides(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">coincides(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">coincides([1..5], [1..5])\n// true\n\ncoincides((1..5], [1..5))\n// false\n\ncoincides([1..5], [2..6])\n// false\n</code></pre>\n'},{name:"substring(string, start position)",description:'<p>Returns a substring of the given value starting at <code>start position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">substring(string: string, start position: number): string\n</code></pre>\n<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">substring(&quot;foobar&quot;, 3)\n// &quot;obar&quot;\n</code></pre>\n'},{name:"substring(string, start position, length)",description:'<p>Returns a substring of the given value starting at <code>start position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">substring(string: string, start position: number, length: number): string\n</code></pre>\n<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">substring(&quot;foobar&quot;, 3, 3)\n// &quot;oba&quot;\n</code></pre>\n'},{name:"string length(string)",description:'<p>Returns the number of characters in the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string length(string: string): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string length(&quot;foo&quot;)\n// 3\n</code></pre>\n'},{name:"upper case(string)",description:'<p>Returns the given value with all characters are uppercase.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">upper case(string: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">upper case(&quot;aBc4&quot;)\n// &quot;ABC4&quot;\n</code></pre>\n'},{name:"lower case(string)",description:'<p>Returns the given value with all characters are lowercase.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">lower case(string: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">lower case(&quot;aBc4&quot;)\n// &quot;abc4&quot;\n</code></pre>\n'},{name:"substring before(string, match)",description:'<p>Returns a substring of the given value that contains all characters before <code>match</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">substring before(string: string, match: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">substring before(&quot;foobar&quot;, &quot;bar&quot;)\n// &quot;foo&quot;\n</code></pre>\n'},{name:"substring after(string, match)",description:'<p>Returns a substring of the given value that contains all characters after <code>match</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">substring after(string: string, match: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">substring after(&quot;foobar&quot;, &quot;ob&quot;)\n// &quot;ar&quot;\n</code></pre>\n'},{name:"contains(string, match)",description:'<p>Returns <code>true</code> if the given value contains the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">contains(string: string, match: string): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">contains(&quot;foobar&quot;, &quot;of&quot;)\n// false\n</code></pre>\n'},{name:"starts with(string, match)",description:'<p>Returns <code>true</code> if the given value starts with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">starts with(string: string, match: string): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">starts with(&quot;foobar&quot;, &quot;fo&quot;)\n// true\n</code></pre>\n'},{name:"ends with(string, match)",description:'<p>Returns <code>true</code> if the given value ends with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">ends with(string: string, match: string): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">ends with(&quot;foobar&quot;, &quot;r&quot;)\n// true\n</code></pre>\n'},{name:"matches(input, pattern)",description:'<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">matches(input: string, pattern: string): boolean\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">matches(&quot;foobar&quot;, &quot;^fo*bar&quot;)\n// true\n</code></pre>\n'},{name:"matches(input, pattern, flags)",description:'<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">matches(input: string, pattern: string, flags: string): boolean\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p>The <code>flags</code> can contain one or more of the following characters:</p>\n<ul>\n<li><code>s</code> (dot-all)</li>\n<li><code>m</code> (multi-line)</li>\n<li><code>i</code> (case insensitive)</li>\n<li><code>x</code> (comments)</li>\n</ul>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">matches(&quot;FooBar&quot;, &quot;foo&quot;, &quot;i&quot;)\n// true\n</code></pre>\n'},{name:"replace(input, pattern, replacement)",description:'<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string): string\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,\n<code>$1</code> to access the first group.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">replace(&quot;abcd&quot;, &quot;(ab)|(a)&quot;, &quot;[1=$1][2=$2]&quot;)\n// &quot;[1=ab][2=]cd&quot;\n\nreplace(&quot;0123456789&quot;, &quot;(\\d{3})(\\d{3})(\\d{4})&quot;, &quot;($1) $2-$3&quot;)\n// &quot;(012) 345-6789&quot;\n</code></pre>\n'},{name:"replace(input, pattern, replacement, flags)",description:'<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string, flags: string): string\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,\n<code>$1</code> to access the first group.</p>\n<p>The <code>flags</code> can contain one or more of the following characters:</p>\n<ul>\n<li><code>s</code> (dot-all)</li>\n<li><code>m</code> (multi-line)</li>\n<li><code>i</code> (case insensitive)</li>\n<li><code>x</code> (comments)</li>\n</ul>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">replace(&quot;How do you feel?&quot;, &quot;Feel&quot;, &quot;FEEL&quot;, &quot;i&quot;)\n// &quot;How do you FEEL?&quot;\n</code></pre>\n'},{name:"split(string, delimiter)",description:'<p>Splits the given value into a list of substrings, breaking at each occurrence of the <code>delimiter</code> pattern.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">split(string: string, delimiter: string): list&lt;string&gt;\n</code></pre>\n<p>The <code>delimiter</code> is a string that contains a regular expression.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">split(&quot;John Doe&quot;, &quot;\\s&quot; )\n// [&quot;John&quot;, &quot;Doe&quot;]\n\nsplit(&quot;a;b;c;;&quot;, &quot;;&quot;)\n// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;&quot;, &quot;&quot;]\n</code></pre>\n'},{name:"extract(string, pattern)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns all matches of the pattern in the given string. Returns an empty list if the pattern doesn&#39;t\nmatch.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">extract(string: string, pattern: string): list&lt;string&gt;\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">extract(&quot;references are 1234, 1256, 1378&quot;, &quot;12[0-9]*&quot;)\n// [&quot;1234&quot;,&quot;1256&quot;]\n</code></pre>\n'},{name:"now()",description:'<p>Returns the current date and time including the timezone.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">now(): date and time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">now()\n// date and time(&quot;2020-07-31T14:27:30@Europe/Berlin&quot;)\n</code></pre>\n'},{name:"today()",description:'<p>Returns the current date.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">today(): date\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">today()\n// date(&quot;2020-07-31&quot;)\n</code></pre>\n'},{name:"day of week(date)",description:'<p>Returns the day of the week according to the Gregorian calendar. Note that it always returns the English name of the day.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">day of week(date: date): string\n</code></pre>\n<pre><code class="language-feel">day of week(date: date and time): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">day of week(date(&quot;2019-09-17&quot;))\n// &quot;Tuesday&quot;\n\nday of week(date and time(&quot;2019-09-17T12:00:00&quot;))\n// &quot;Tuesday&quot;\n</code></pre>\n'},{name:"day of year(date)",description:'<p>Returns the Gregorian number of the day within the year.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">day of year(date: date): number\n</code></pre>\n<pre><code class="language-feel">day of year(date: date and time): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">day of year(date(&quot;2019-09-17&quot;))\n// 260\n\nday of year(date and time(&quot;2019-09-17T12:00:00&quot;))\n// 260\n</code></pre>\n'},{name:"week of year(date)",description:'<p>Returns the Gregorian number of the week within the year, according to ISO 8601.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">week of year(date: date): number\n</code></pre>\n<pre><code class="language-feel">week of year(date: date and time): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">week of year(date(&quot;2019-09-17&quot;))\n// 38\n\nweek of year(date and time(&quot;2019-09-17T12:00:00&quot;))\n// 38\n</code></pre>\n'},{name:"month of year(date)",description:'<p>Returns the month of the year according to the Gregorian calendar. Note that it always returns the English name of the month.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">month of year(date: date): string\n</code></pre>\n<pre><code class="language-feel">month of year(date: date and time): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">month of year(date(&quot;2019-09-17&quot;))\n// &quot;September&quot;\n\nmonth of year(date and time(&quot;2019-09-17T12:00:00&quot;))\n// &quot;September&quot;\n</code></pre>\n'},{name:"abs(n)",description:'<p>Returns the absolute value of a given duration.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">abs(n: days and time duration): days and time duration\n</code></pre>\n<pre><code class="language-feel">abs(n: years and months duration): years and months duration\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">abs(duration(&quot;-PT5H&quot;))\n// &quot;duration(&quot;PT5H&quot;)&quot;\n\nabs(duration(&quot;PT5H&quot;))\n// &quot;duration(&quot;PT5H&quot;)&quot;\n\nabs(duration(&quot;-P2M&quot;))\n// duration(&quot;P2M&quot;)\n</code></pre>\n'},{name:"last day of month(date)",description:'<p><em>Camunda Extension</em></p>\n<p>Takes the month of the given date or date-time value and returns the last day of this month.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">last day of month(date: date): date\n</code></pre>\n<pre><code class="language-feel">last day of month(date: date and time): date\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">last day of month(date(&quot;2022-10-01&quot;))\n// date(&quot;2022-10-31&quot;))\n\nlast day of month(date and time(&quot;2022-10-16T12:00:00&quot;))\n// date(&quot;2022-10-31&quot;))\n</code></pre>\n'},{name:"is empty(list)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns true if the given list is empty. Otherwise, returns false.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">is empty(list: list): boolean</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">is empty([])\n// true\n\nis empty([1,2,3])\n// false\n</code></pre>'},{name:"trim(string)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns the given string without leading and trailing spaces.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">trim(string: string): string</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">trim("  hello world  ")\n// "hello world"\n\ntrim("hello   world ")\n// "hello   world"\n</code></pre>'},{name:"uuid()",description:'<p><em>Camunda Extension</em></p>\n<p>Returns a UUID (Universally Unique Identifier) with 36 characters.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">uuid(): string</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">uuid()\n// "7793aab1-d761-4d38-916b-b7270e309894"\n</code></pre>'},{name:"to base64(string)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns the given string encoded in Base64 format.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">to base64(value: string): string</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">to base64("FEEL")\n// "RkVFTA=="\n</code></pre>'}]),W3e=new Fb,G3e=new Fb;function v1({extensions:n=[],dialect:t="expression",container:i,contentAttributes:s={},tooltipContainer:o,onChange:a=()=>{},onKeyDown:l=()=>{},onLint:c=()=>{},placeholder:u="",readOnly:d=!1,value:p="",builtins:f=o3t,variables:h=[]}){const m=ln.updateListener.of(E=>{E.docChanged&&a(E.state.doc.toString())}),g=ln.updateListener.of(E=>{const x=E.transactions.flatMap(w=>w.effects).filter(w=>w.is(s_));if(!x.length)return;const b=x.flatMap(w=>w.value);c(b)}),y=ln.domEventHandlers({keydown:l});"string"==typeof o&&(o=document.querySelector(o));const v=o?Obe({tooltipSpace:function(){return o.getBoundingClientRect()}}):[],_=[$_e(),W3e.of(q3e({dialect:t,builtins:f,variables:h})),b$(),f$(),N$(),ln.contentAttributes.of(s),m,y,qb.of([...Y$]),V2t,g,v,G3e.of(xbe(u)),U2t,...n];return d&&_.push(ln.editable.of(!1)),this._cmEditor=new ln({state:il.create({doc:p,extensions:_}),parent:i}),this}v1.prototype.setValue=function(n){this._cmEditor.dispatch({changes:{from:0,to:this._cmEditor.state.doc.length,insert:n}})},v1.prototype.focus=function(n){const t=this._cmEditor;if(t.contentDOM.focus(),t.focus(),"number"==typeof n){const i=t.state.doc.length;t.dispatch({selection:{anchor:n<=i?n:i}})}},v1.prototype.getSelection=function(){return this._cmEditor.state.selection},v1.prototype.setVariables=function(n){const{dialect:t,builtins:i}=function n3t(n){return{builtins:n.facet(z3e)[0],variables:n.facet(H3e)[0],dialect:n.facet(U3e)[0]}}(this._cmEditor.state);this._cmEditor.dispatch({effects:[W3e.reconfigure(q3e({dialect:t,builtins:i,variables:n}))]})},v1.prototype.setPlaceholder=function(n){this._cmEditor.dispatch({effects:G3e.reconfigure(xbe(n))})};var K3e=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],lD=K3e.join(","),Y3e=typeof Element>"u",b1=Y3e?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,cD=!Y3e&&Element.prototype.getRootNode?function(n){var t;return null==n||null===(t=n.getRootNode)||void 0===t?void 0:t.call(n)}:function(n){return n?.ownerDocument},uD=function n(t,i){var s;void 0===i&&(i=!0);var o=null==t||null===(s=t.getAttribute)||void 0===s?void 0:s.call(t,"inert");return""===o||"true"===o||i&&t&&n(t.parentNode)},X3e=function(t,i,s){if(uD(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(lD));return i&&b1.call(t,lD)&&o.unshift(t),o.filter(s)},Z3e=function n(t,i,s){for(var o=[],a=Array.from(t);a.length;){var l=a.shift();if(!uD(l,!1))if("SLOT"===l.tagName){var c=l.assignedElements(),d=n(c.length?c:l.children,!0,s);s.flatten?o.push.apply(o,d):o.push({scopeParent:l,candidates:d})}else{b1.call(l,lD)&&s.filter(l)&&(i||!t.includes(l))&&o.push(l);var f=l.shadowRoot||"function"==typeof s.getShadowRoot&&s.getShadowRoot(l),h=!uD(f,!1)&&(!s.shadowRootFilter||s.shadowRootFilter(l));if(f&&h){var m=n(!0===f?l.children:f.children,!0,s);s.flatten?o.push.apply(o,m):o.push({scopeParent:l,candidates:m})}else a.unshift.apply(a,l.children)}}return o},Q3e=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},_1=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||function(t){var i,s=null==t||null===(i=t.getAttribute)||void 0===i?void 0:i.call(t,"contenteditable");return""===s||"true"===s}(t))&&!Q3e(t)?0:t.tabIndex},c3t=function(t,i){return t.tabIndex===i.tabIndex?t.documentOrder-i.documentOrder:t.tabIndex-i.tabIndex},J3e=function(t){return"INPUT"===t.tagName},eEe=function(t){var i=t.getBoundingClientRect();return 0===i.width&&0===i.height},dD=function(t,i){return!(i.disabled||uD(i)||function(t){return J3e(t)&&"hidden"===t.type}(i)||function(t,i){var s=i.displayCheck,o=i.getShadowRoot;if("hidden"===getComputedStyle(t).visibility)return!0;var a=b1.call(t,"details>summary:first-of-type");if(b1.call(a?t.parentElement:t,"details:not([open]) *"))return!0;if(s&&"full"!==s&&"legacy-full"!==s){if("non-zero-area"===s)return eEe(t)}else{if("function"==typeof o){for(var c=t;t;){var u=t.parentElement,d=cD(t);if(u&&!u.shadowRoot&&!0===o(u))return eEe(t);t=t.assignedSlot?t.assignedSlot:u||d===t.ownerDocument?u:d.host}t=c}if(function(t){var i,l,c,u,s=t&&cD(t),o=null===(i=s)||void 0===i?void 0:i.host,a=!1;if(s&&s!==t)for(a=!!(null!==(l=o)&&void 0!==l&&null!==(c=l.ownerDocument)&&void 0!==c&&c.contains(o)||null!=t&&null!==(u=t.ownerDocument)&&void 0!==u&&u.contains(t));!a&&o;){var d,p,f;a=!(null===(p=o=null===(d=s=cD(o))||void 0===d?void 0:d.host)||void 0===p||null===(f=p.ownerDocument)||void 0===f||!f.contains(o))}return a}(t))return!t.getClientRects().length;if("legacy-full"!==s)return!0}return!1}(i,t)||function(t){return"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some(function(s){return"SUMMARY"===s.tagName})}(i)||function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var i=t.parentElement;i;){if("FIELDSET"===i.tagName&&i.disabled){for(var s=0;s<i.children.length;s++){var o=i.children.item(s);if("LEGEND"===o.tagName)return!!b1.call(i,"fieldset[disabled] *")||!o.contains(t)}return!0}i=i.parentElement}return!1}(i))},yz=function(t,i){return!(function(t){return function(t){return J3e(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var o,i=t.form||cD(t),s=function(c){return i.querySelectorAll('input[type="radio"][name="'+c+'"]')};if(typeof window<"u"&&typeof window.CSS<"u"&&"function"==typeof window.CSS.escape)o=s(window.CSS.escape(t.name));else try{o=s(t.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var a=function(t,i){for(var s=0;s<t.length;s++)if(t[s].checked&&t[s].form===i)return t[s]}(o,t.form);return!a||a===t}(t)}(i)||_1(i)<0||!dD(t,i))},b3t=function(t){var i=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(i)||i>=0)},_3t=function n(t){var i=[],s=[];return t.forEach(function(o,a){var l=!!o.scopeParent,c=l?o.scopeParent:o,u=function(t,i){var s=_1(t);return s<0&&i&&!Q3e(t)?0:s}(c,l),d=l?n(o.candidates):c;0===u?l?i.push.apply(i,d):i.push(c):s.push({documentOrder:a,tabIndex:u,item:o,isScope:l,content:d})}),s.sort(c3t).reduce(function(o,a){return a.isScope?o.push.apply(o,a.content):o.push(a.content),o},[]).concat(i)},l_=function(t,i){if(i=i||{},!t)throw new Error("No node provided");return!1!==b1.call(t,lD)&&yz(i,t)},x3t=K3e.concat("iframe").join(","),vz=function(t,i){if(i=i||{},!t)throw new Error("No node provided");return!1!==b1.call(t,x3t)&&dD(i,t)};function tEe(n,t){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,s)}return i}function nEe(n){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?tEe(Object(i),!0).forEach(function(s){C3t(n,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):tEe(Object(i)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(i,s))})}return n}function C3t(n,t,i){return t=function O3t(n){var t=function S3t(n,t){if("object"!=typeof n||null===n)return n;var i=n[Symbol.toPrimitive];if(void 0!==i){var s=i.call(n,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"==typeof t?t:String(t)}(t),t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}var Jx=function(t){return"Tab"===t?.key||9===t?.keyCode},D3t=function(t){return Jx(t)&&!t.shiftKey},k3t=function(t){return Jx(t)&&t.shiftKey},iEe=function(t){return setTimeout(t,0)},sEe=function(t,i){var s=-1;return t.every(function(o,a){return!i(o)||(s=a,!1)}),s},e5=function(t){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return"function"==typeof t?t.apply(void 0,s):t},pD=function(t){return t.target.shadowRoot&&"function"==typeof t.composedPath?t.composedPath()[0]:t.target},M3t=[],A3t=function(t,i){var c,s=i?.document||document,o=i?.trapStack||M3t,a=nEe({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:D3t,isKeyBackward:k3t},i),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},u=function(M,B,q){return M&&void 0!==M[B]?M[B]:a[q||B]},d=function(M,B){var q="function"==typeof B?.composedPath?B.composedPath():void 0;return l.containerGroups.findIndex(function(ue){var H=ue.container,ee=ue.tabbableNodes;return H.contains(M)||q?.includes(H)||ee.find(function(Q){return Q===M})})},p=function(M){var B=a[M];if("function"==typeof B){for(var q=arguments.length,ue=new Array(q>1?q-1:0),H=1;H<q;H++)ue[H-1]=arguments[H];B=B.apply(void 0,ue)}if(!0===B&&(B=void 0),!B){if(void 0===B||!1===B)return B;throw new Error("`".concat(M,"` was specified but was not a node, or did not return a node"))}var ee=B;if("string"==typeof B&&!(ee=s.querySelector(B)))throw new Error("`".concat(M,"` as selector refers to no known node"));return ee},f=function(){var M=p("initialFocus");if(!1===M)return!1;if(void 0===M||!vz(M,a.tabbableOptions))if(d(s.activeElement)>=0)M=s.activeElement;else{var B=l.tabbableGroups[0];M=B&&B.firstTabbableNode||p("fallbackFocus")}if(!M)throw new Error("Your focus-trap needs to have at least one focusable element");return M},h=function(){if(l.containerGroups=l.containers.map(function(M){var B=function(t,i){var s;return s=(i=i||{}).getShadowRoot?Z3e([t],i.includeContainer,{filter:yz.bind(null,i),flatten:!1,getShadowRoot:i.getShadowRoot,shadowRootFilter:b3t}):X3e(t,i.includeContainer,yz.bind(null,i)),_3t(s)}(M,a.tabbableOptions),q=function(t,i){return(i=i||{}).getShadowRoot?Z3e([t],i.includeContainer,{filter:dD.bind(null,i),flatten:!0,getShadowRoot:i.getShadowRoot}):X3e(t,i.includeContainer,dD.bind(null,i))}(M,a.tabbableOptions),ue=B.length>0?B[0]:void 0,H=B.length>0?B[B.length-1]:void 0,ee=q.find(function(Te){return l_(Te)}),Q=q.slice().reverse().find(function(Te){return l_(Te)}),Ee=!!B.find(function(Te){return _1(Te)>0});return{container:M,tabbableNodes:B,focusableNodes:q,posTabIndexesFound:Ee,firstTabbableNode:ue,lastTabbableNode:H,firstDomTabbableNode:ee,lastDomTabbableNode:Q,nextTabbableNode:function(Ve){var Pe=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],de=B.indexOf(Ve);return de<0?Pe?q.slice(q.indexOf(Ve)+1).find(function(X){return l_(X)}):q.slice(0,q.indexOf(Ve)).reverse().find(function(X){return l_(X)}):B[de+(Pe?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(M){return M.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!p("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(M){return M.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function F(M){var B=M.activeElement;if(B)return B.shadowRoot&&null!==B.shadowRoot.activeElement?F(B.shadowRoot):B},g=function F(M){if(!1!==M&&M!==m(document)){if(!M||!M.focus)return void F(f());M.focus({preventScroll:!!a.preventScroll}),l.mostRecentlyFocusedNode=M,function(t){return t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select}(M)&&M.select()}},y=function(M){var B=p("setReturnFocus",M);return B||!1!==B&&M},v=function(M){var B=M.target,q=M.event,ue=M.isBackward,H=void 0!==ue&&ue;B=B||pD(q),h();var ee=null;if(l.tabbableGroups.length>0){var Q=d(B,q),Ee=Q>=0?l.containerGroups[Q]:void 0;if(Q<0)ee=H?l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:l.tabbableGroups[0].firstTabbableNode;else if(H){var Te=sEe(l.tabbableGroups,function(R){return B===R.firstTabbableNode});if(Te<0&&(Ee.container===B||vz(B,a.tabbableOptions)&&!l_(B,a.tabbableOptions)&&!Ee.nextTabbableNode(B,!1))&&(Te=Q),Te>=0){var Pe=l.tabbableGroups[0===Te?l.tabbableGroups.length-1:Te-1];ee=_1(B)>=0?Pe.lastTabbableNode:Pe.lastDomTabbableNode}else Jx(q)||(ee=Ee.nextTabbableNode(B,!1))}else{var de=sEe(l.tabbableGroups,function(R){return B===R.lastTabbableNode});if(de<0&&(Ee.container===B||vz(B,a.tabbableOptions)&&!l_(B,a.tabbableOptions)&&!Ee.nextTabbableNode(B))&&(de=Q),de>=0){var j=l.tabbableGroups[de===l.tabbableGroups.length-1?0:de+1];ee=_1(B)>=0?j.firstTabbableNode:j.firstDomTabbableNode}else Jx(q)||(ee=Ee.nextTabbableNode(B))}}else ee=p("fallbackFocus");return ee},_=function(M){var B=pD(M);if(!(d(B,M)>=0)){if(e5(a.clickOutsideDeactivates,M))return void c.deactivate({returnFocus:a.returnFocusOnDeactivate});e5(a.allowOutsideClick,M)||M.preventDefault()}},E=function(M){var B=pD(M),q=d(B,M)>=0;if(q||B instanceof Document)q&&(l.mostRecentlyFocusedNode=B);else{M.stopImmediatePropagation();var ue,H=!0;if(l.mostRecentlyFocusedNode)if(_1(l.mostRecentlyFocusedNode)>0){var ee=d(l.mostRecentlyFocusedNode),Q=l.containerGroups[ee].tabbableNodes;if(Q.length>0){var Ee=Q.findIndex(function(Te){return Te===l.mostRecentlyFocusedNode});Ee>=0&&(a.isKeyForward(l.recentNavEvent)?Ee+1<Q.length&&(ue=Q[Ee+1],H=!1):Ee-1>=0&&(ue=Q[Ee-1],H=!1))}}else l.containerGroups.some(function(Te){return Te.tabbableNodes.some(function(Ve){return _1(Ve)>0})})||(H=!1);else H=!1;H&&(ue=v({target:l.mostRecentlyFocusedNode,isBackward:a.isKeyBackward(l.recentNavEvent)})),g(ue||l.mostRecentlyFocusedNode||f())}l.recentNavEvent=void 0},b=function(M){if(function(t){return"Escape"===t?.key||"Esc"===t?.key||27===t?.keyCode}(M)&&!1!==e5(a.escapeDeactivates,M))return M.preventDefault(),void c.deactivate();(a.isKeyForward(M)||a.isKeyBackward(M))&&function(M){var B=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l.recentNavEvent=M;var q=v({event:M,isBackward:B});q&&(Jx(M)&&M.preventDefault(),g(q))}(M,a.isKeyBackward(M))},w=function(M){var B=pD(M);d(B,M)>=0||e5(a.clickOutsideDeactivates,M)||e5(a.allowOutsideClick,M)||(M.preventDefault(),M.stopImmediatePropagation())},C=function(){if(l.active)return function(t,i){if(t.length>0){var s=t[t.length-1];s!==i&&s.pause()}var o=t.indexOf(i);-1===o||t.splice(o,1),t.push(i)}(o,c),l.delayInitialFocusTimer=a.delayInitialFocus?iEe(function(){g(f())}):g(f()),s.addEventListener("focusin",E,!0),s.addEventListener("mousedown",_,{capture:!0,passive:!1}),s.addEventListener("touchstart",_,{capture:!0,passive:!1}),s.addEventListener("click",w,{capture:!0,passive:!1}),s.addEventListener("keydown",b,{capture:!0,passive:!1}),c},P=function(){if(l.active)return s.removeEventListener("focusin",E,!0),s.removeEventListener("mousedown",_,!0),s.removeEventListener("touchstart",_,!0),s.removeEventListener("click",w,!0),s.removeEventListener("keydown",b,!0),c},I=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(function(M){M.some(function(q){return Array.from(q.removedNodes).some(function(H){return H===l.mostRecentlyFocusedNode})})&&g(f())}):void 0,k=function(){I&&(I.disconnect(),l.active&&!l.paused&&l.containers.map(function(M){I.observe(M,{subtree:!0,childList:!0})}))};return(c={get active(){return l.active},get paused(){return l.paused},activate:function(M){if(l.active)return this;var B=u(M,"onActivate"),q=u(M,"onPostActivate"),ue=u(M,"checkCanFocusTrap");ue||h(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=s.activeElement,B?.();var H=function(){ue&&h(),C(),k(),q?.()};return ue?(ue(l.containers.concat()).then(H,H),this):(H(),this)},deactivate:function(M){if(!l.active)return this;var B=nEe({onDeactivate:a.onDeactivate,onPostDeactivate:a.onPostDeactivate,checkCanReturnFocus:a.checkCanReturnFocus},M);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,P(),l.active=!1,l.paused=!1,k(),function(t,i){var s=t.indexOf(i);-1!==s&&t.splice(s,1),t.length>0&&t[t.length-1].unpause()}(o,c);var q=u(B,"onDeactivate"),ue=u(B,"onPostDeactivate"),H=u(B,"checkCanReturnFocus"),ee=u(B,"returnFocus","returnFocusOnDeactivate");q?.();var Q=function(){iEe(function(){ee&&g(y(l.nodeFocusedBeforeActivation)),ue?.()})};return ee&&H?(H(y(l.nodeFocusedBeforeActivation)).then(Q,Q),this):(Q(),this)},pause:function(M){if(l.paused||!l.active)return this;var B=u(M,"onPause"),q=u(M,"onPostPause");return l.paused=!0,B?.(),P(),k(),q?.(),this},unpause:function(M){if(!l.paused||!l.active)return this;var B=u(M,"onUnpause"),q=u(M,"onPostUnpause");return l.paused=!1,B?.(),h(),C(),k(),q?.(),this},updateContainerElements:function(M){var B=[].concat(M).filter(Boolean);return l.containers=B.map(function(q){return"string"==typeof q?s.querySelector(q):q}),l.active&&h(),k(),this}}).updateContainerElements(t),c},lp=function(t){return L("svg",{...t,children:L("path",{fillRule:"evenodd",d:"m11.657 8-4.95 4.95a1 1 0 0 1-1.414-1.414L8.828 8 5.293 4.464A1 1 0 1 1 6.707 3.05L11.657 8Z"})})};lp.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var fD=function(t){return L("svg",{...t,children:L("path",{fillRule:"evenodd",d:"M9 13V9h4a1 1 0 0 0 0-2H9V3a1 1 0 1 0-2 0v4H3a1 1 0 1 0 0 2h4v4a1 1 0 0 0 2 0Z"})})};fD.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var bz=function(t){return L("svg",{...t,children:L("path",{fillRule:"evenodd",d:"M12 6v7c0 1.1-.4 1.55-1.5 1.55h-5C4.4 14.55 4 14.1 4 13V6h8Zm-1.5 1.5h-5v4.3c0 .66.5 1.2 1.111 1.2H9.39c.611 0 1.111-.54 1.111-1.2V7.5ZM13 3h-2l-1-1H6L5 3H3v1.5h10V3Z"})})};bz.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var oEe=function(t){return L("svg",{...t,children:[L("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),L("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),L("path",{d:"M7 3H5v2h2V3zm4 0H9v2h2V3zM7 7H5v2h2V7zm4 0H9v2h2V7zm-4 4H5v2h2v-2zm4 0H9v2h2v-2z",fill:"#161616"})]})};oEe.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var aEe=function(t){return L("svg",{...t,children:L("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.637 12.637v-4.72h1.362v4.721c0 .36-.137.676-.411.95-.275.275-.591.412-.95.412H3.362c-.38 0-.703-.132-.967-.396A1.315 1.315 0 0 1 2 12.638V3.362c0-.38.132-.703.396-.967S2.982 2 3.363 2h4.553v1.363H3.363v9.274h9.274ZM14 2H9.28l-.001 1.362h2.408L5.065 9.984l.95.95 6.622-6.622v2.409H14V2Z",fill:"currentcolor"})})};aEe.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var lEe=function(t){return L("svg",{...t,children:L("path",{d:"M3.617 11.99c-.137.684-.392 1.19-.765 1.518-.362.328-.882.492-1.558.492H0l.309-1.579h1.264l1.515-7.64h-.912l.309-1.579h.911l.236-1.191c.137-.685.387-1.192.75-1.52C4.753.164 5.277 0 5.953 0h1.294L6.94 1.579H5.675l-.323 1.623h1.264l-.309 1.579H5.043l-1.426 7.208ZM5.605 11.021l3.029-4.155L7.28 3.202h2.073l.706 2.547h.176l1.691-2.547H14l-3.014 4.051 1.338 3.768H10.25l-.706-2.606H9.37L7.678 11.02H5.605Z",fill:"currentcolor"})})};lEe.defaultProps={width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var _z=function(t){return L("svg",{...t,children:[L("path",{d:"M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2Zm0 26a12 12 0 1 1 12-12 12 12 0 0 1-12 12Z"}),L("circle",{cx:"16",cy:"23.5",r:"1.5"}),L("path",{d:"M17 8h-1.5a4.49 4.49 0 0 0-4.5 4.5v.5h2v-.5a2.5 2.5 0 0 1 2.5-2.5H17a2.5 2.5 0 0 1 0 5h-2v4.5h2V17a4.5 4.5 0 0 0 0-9Z"}),L("path",{style:{fill:"none"},d:"M0 0h32v32H0z"})]})};_z.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"};var Ez=function(t){return L("svg",{...t,children:[L("path",{fill:"currentColor",d:"M28 4H10a2.006 2.006 0 0 0-2 2v14a2.006 2.006 0 0 0 2 2h18a2.006 2.006 0 0 0 2-2V6a2.006 2.006 0 0 0-2-2Zm0 16H10V6h18Z"}),L("path",{fill:"currentColor",d:"M18 26H4V16h2v-2H4a2.006 2.006 0 0 0-2 2v10a2.006 2.006 0 0 0 2 2h14a2.006 2.006 0 0 0 2-2v-2h-2Z"})]})};Ez.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"};var cEe=function(t){return L("svg",{...t,children:L("path",{fillRule:"evenodd",d:"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8 12 4.7Z",fill:"currentColor"})})};function I3t(n){const{element:t,headerProvider:i}=n,{getElementIcon:s,getDocumentationRef:o,getElementLabel:a,getTypeLabel:l}=i,c=a(t),u=l(t),d=o&&o(t),p=s(t);return L("div",{class:"bio-properties-panel-header",children:[L("div",{class:"bio-properties-panel-header-icon",children:p&&L(p,{width:"32",height:"32",viewBox:"0 0 32 32"})}),L("div",{class:"bio-properties-panel-header-labels",children:[L("div",{title:u,class:"bio-properties-panel-header-type",children:u}),c?L("div",{title:c,class:"bio-properties-panel-header-label",children:c}):null]}),L("div",{class:"bio-properties-panel-header-actions",children:d?L("a",{rel:"noopener",class:"bio-properties-panel-header-link",href:d,title:"Open documentation",target:"_blank",children:L(aEe,{})}):null})]})}cEe.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};const uEe=xf({description:{},getDescriptionForId:()=>{}}),wz=xf({errors:{}}),dEe=xf({eventBus:null}),id=xf({layout:{},setLayout:()=>{},getLayoutForKey:()=>{},setLayoutForKey:()=>{}}),pEe=xf({tooltip:{},getTooltipForId:()=>{}});function V0(n){const{forId:t,element:i}=n,s=function R3t(n,t){const{getTooltipForId:i}=xa(pEe);return i(n,t)}(t,i),o=n.value||s;return o?L(N3t,{...n,value:o,forId:B3t(t)}):n.children}function N3t(n){const{forId:t,value:i,parent:s,direction:o="right",position:a}=n,[l,c]=Un(!1),[u,d]=Un(!1);let p=null;const f=ii(null),h=ii(null),m=function(){var E=be(function*(x){const b=()=>c(!0);!l&&!p&&(x instanceof MouseEvent?p=setTimeout(b,200):(b(),d(!0)))});return function(b){return E.apply(this,arguments)}}(),g=()=>{c(!1),d(!1)};vn(()=>{const{current:E}=f;if(!E)return;const x=w=>{const C=document.activeElement===f.current||document.activeElement.closest(".bio-properties-panel-tooltip");l&&!(({x:E,y:x})=>{const b=h.current;return b&&(fEe(E,x,f.current.getBoundingClientRect())||fEe(E,x,b.getBoundingClientRect()))})({x:w.x,y:w.y})&&(!C||!u)&&g()},b=w=>{const{relatedTarget:C}=w;l&&!function F3t(n){return n.matches(":hover")}(f.current)&&C&&!C.closest(".bio-properties-panel-tooltip")&&g()};return document.addEventListener("wheel",x),document.addEventListener("focusout",b),document.addEventListener("mousemove",x),()=>{document.removeEventListener("wheel",x),document.removeEventListener("mousemove",x),document.removeEventListener("focusout",b)}},[f.current,l,u]);const _=()=>L("div",{class:`bio-properties-panel-tooltip ${o}`,role:"tooltip",id:"bio-properties-panel-tooltip","aria-labelledby":t,style:a||L3t(f.current),ref:h,onClick:E=>E.stopPropagation(),children:[L("div",{class:"bio-properties-panel-tooltip-content",children:i}),L("div",{class:"bio-properties-panel-tooltip-arrow"})]});return L("div",{class:"bio-properties-panel-tooltip-wrapper",tabIndex:"0",ref:f,onMouseEnter:m,onMouseLeave:()=>{clearTimeout(p),p=null},onFocus:m,onKeyDown:E=>{"Escape"===E.code&&g()},children:[n.children,l?s?lj(_(),s.current):_():null]})}function fEe(n,t,i){const{top:s,right:o,bottom:a,left:l}=i;return n>=l&&n<=o&&t>=s&&t<=a}function L3t(n){const t=n.getBoundingClientRect();return`right: calc(100% - ${t.x}px); top: ${t.top-10+"px"};`}function B3t(n){return`bio-properties-panel-${n}`}function E1(n){const{errors:t}=xa(wz);return t[n]}function hEe(){const{errors:n}=xa(wz);return n}function t5(n,t,i){const s=xa(dEe);i||({eventBus:i}=s);const o=ii(!1);i&&!o.current&&i.on(n,t),vn(()=>(i&&o.current&&i.on(n,t),o.current=!0,()=>{i&&i.off(n,t)}),[t,n,i])}function xz(n,t){const{getLayoutForKey:i,setLayoutForKey:s}=xa(id);return[i(n,t),wi(l=>{s(n,l)},[s])]}function c_(n){const t=ii();return vn(()=>{t.current=n}),t.current}function u_(n){const{onShow:t}=xa(id),i=ii(),s=ii(!1),o=wi(a=>{a.id===n&&(t(),s.current||(s.current=!0))},[n]);return vn(()=>{s.current&&i.current&&(Gn(i.current.focus)&&i.current.focus(),Gn(i.current.select)&&i.current.select(),s.current=!1)}),t5("propertiesPanel.showEntry",o),i}function mEe(n,t,i){const[s,o]=Un(dn(t)),a=wi(()=>{const l=dn(t);l!==s&&o(l)},[t,s]);vn(()=>{a()},[a]),t5("propertiesPanel.attach",a),t5("propertiesPanel.detach",a),vn(()=>{const l=IntersectionObserver;if(!l||!n.current||!s)return;const c=new l(u=>{0!==s.scrollHeight&&u.forEach(d=>{d.intersectionRatio<1?i(!0):1===d.intersectionRatio&&i(!1)})},{root:s,rootMargin:"0px 0px 999999% 0px",threshold:[1]});return c.observe(n.current),()=>{c.unobserve(n.current)}},[n.current,s,i])}function $0(n){const t=ii(n);return t.current=n,wi((...i)=>t.current(...i),[])}function er(n){const{element:t,entries:i=[],id:s,label:o,shouldOpen:a=!1}=n,l=ii(null),[c,u]=xz(["groups",s,"open"],a),d=wi(()=>u(!0),[u]),[f,h]=Un(!1),[m,g]=Un(!1);vn(()=>{const E=requestAnimationFrame(()=>{const x=i.find(b=>{const{id:w,isEdited:C}=b,P=dn(`[data-entry-id="${w}"]`);return!(!Gn(C)||!P)&&C(dn(".bio-properties-panel-input",P))});h(x)});return()=>cancelAnimationFrame(E)},[i,h]);const y=hEe(),v=i.some(E=>y[E.id]);mEe(l,"div.bio-properties-panel-scroll-container",g);const _={...xa(id),onShow:d};return L("div",{class:"bio-properties-panel-group","data-group-id":"group-"+s,ref:l,children:[L("div",{class:Tn()("bio-properties-panel-group-header",f?"":"empty",c?"open":"",m&&c?"sticky":""),onClick:()=>u(!c),children:[L("div",{title:n.tooltip?null:o,"data-title":o,class:"bio-properties-panel-group-header-title",children:L(V0,{value:n.tooltip,forId:"group-"+s,element:t,parent:l,children:o})}),L("div",{class:"bio-properties-panel-group-header-buttons",children:[L(H3t,{edited:f,hasErrors:v}),L("button",{type:"button",title:"Toggle section",class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:L(lp,{class:c?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})})]})]}),L("div",{class:Tn()("bio-properties-panel-group-entries",c?"open":""),children:L(id.Provider,{value:_,children:i.map(E=>{const{component:x,id:b}=E;return Mr(x,{...E,element:t,key:b})})})})]})}function H3t(n){const{edited:t,hasErrors:i}=n;return i?L("div",{title:"Section contains an error",class:"bio-properties-panel-dot bio-properties-panel-dot--error"}):t?L("div",{title:"Section contains data",class:"bio-properties-panel-dot"}):null}function gEe(n){const{text:t,icon:i}=n;return L("div",{class:"bio-properties-panel open",children:L("section",{class:"bio-properties-panel-placeholder",children:[i&&L(i,{class:"bio-properties-panel-placeholder-icon"}),L("p",{class:"bio-properties-panel-placeholder-text",children:t})]})})}function z0(n){const{element:t,forId:i,value:s}=n,o=function j3t(n,t){const{getDescriptionForId:i}=xa(uEe);return i(n,t)}(i,t),a=s||o;if(a)return L("div",{class:"bio-properties-panel-description",children:a})}const yEe=()=>{},Cz=Sf((n,t)=>{const{onInput:i,disabled:s,tooltipContainer:o,enableGutters:a,value:l,onLint:c=yEe,onPopupOpen:u=yEe,popupOpen:d,contentAttributes:p={},hostLanguage:f=null,singleLine:h=!1}=n,m=ii(),[g,y]=Un(),[v,_]=Un(l||"");!function(n,t){const[i,s]=Un(void 0);t.current=Do(()=>({focus:o=>{n?n.focus(o):(typeof o>"u"&&(o=1/0),s(o))}}),[n]),vn(()=>{typeof i<"u"&&n&&(n.focus(i),s(!1))},[n,i])}(g,t);const E=$0(b=>{i(b),_(b)});return vn(()=>{let b;return b=new aD({container:m.current,onChange:E,value:v,onLint:c,contentAttributes:p,tooltipContainer:o,enableGutters:a,hostLanguage:f,singleLine:h,lineWrap:!0}),y(b),()=>{c([]),m.current.innerHTML="",y(null)}},[]),vn(()=>{g&&l!==v&&(g.setValue(l),_(l))},[l]),L("div",{class:Tn()("bio-properties-panel-feelers-editor-container",d?"popupOpen":null),children:[L("div",{class:"bio-properties-panel-feelers-editor__open-popup-placeholder",children:"Opened in editor"}),L("div",{name:n.name,class:Tn()("bio-properties-panel-feelers-editor bio-properties-panel-input",v?"edited":null,s?"disabled":null),ref:m,onClick:()=>{t.current.focus()}}),L("button",{type:"button",title:"Open pop-up editor",class:"bio-properties-panel-open-feel-popup",onClick:()=>u("feelers"),children:L(Ez,{})})]})}),Sz=()=>{},vEe=Sf((n,t)=>{const{contentAttributes:i,enableGutters:s,value:o,onInput:a,onFeelToggle:l=Sz,onLint:c=Sz,onPopupOpen:u=Sz,placeholder:d,popupOpen:p,disabled:f,tooltipContainer:h,variables:m}=n,g=ii(),[y,v]=Un(),[_,E]=Un(o||"");!function(n,t){const[i,s]=Un(void 0);t.current=Do(()=>({focus:o=>{n?n.focus(o):(typeof o>"u"&&(o=1/0),s(o))}}),[n]),vn(()=>{typeof i<"u"&&n&&(n.focus(i),s(!1))},[n,i])}(y,t);const x=$0(w=>{a(w),E(w)});return vn(()=>{let w;return w=new v1({container:g.current,onChange:x,onKeyDown:P=>{if("Backspace"!==P.key||!w)return;const D=w.getSelection(),I=D.ranges[D.mainIndex];0===I.from&&0===I.to&&l()},onLint:c,placeholder:d,tooltipContainer:h,value:_,variables:m,extensions:[...s?[c$()]:[],ln.lineWrapping],contentAttributes:i}),v(w),()=>{c([]),g.current.innerHTML="",v(null)}},[]),vn(()=>{y&&o!==_&&(y.setValue(o),E(o))},[o]),vn(()=>{y&&y.setVariables(m)},[m]),vn(()=>{y&&y.setPlaceholder(d)},[d]),L("div",{class:Tn()("bio-properties-panel-feel-editor-container",f?"disabled":null,p?"popupOpen":null),children:[L("div",{class:"bio-properties-panel-feel-editor__open-popup-placeholder",children:"Opened in editor"}),L("div",{name:n.name,class:Tn()("bio-properties-panel-input",_?"edited":null),ref:g,onClick:()=>{t.current.focus()}}),L("button",{type:"button",title:"Open pop-up editor",class:"bio-properties-panel-open-feel-popup",onClick:()=>u(),children:L(Ez,{})})]})});function W3t(n){const{active:t}=n;return t?L("span",{class:"bio-properties-panel-feel-indicator",children:"="}):null}const G3t=()=>{};function K3t(n){const{feel:t=!1,active:i,disabled:s=!1,onClick:o=G3t}=n,l=`Click to ${i?"remove":"set a"} dynamic value with FEEL expression`;return L("button",{type:"button",class:Tn()("bio-properties-panel-feel-icon",i?"active":null,"required"===t?"required":"optional"),onClick:u=>{o(u),u.pointerType||u.stopPropagation()},disabled:"required"===t||s,title:"required"===t?"FEEL expression is mandatory":l,children:L(lEe,{})})}const Oz=xf({open:()=>{},close:()=>{},source:null});function hD(n){n.preventDefault(),n.stopPropagation()}const bEe=()=>{},d_=Sf(function Z3t(n,t){const{container:i,className:s,delayInitialFocus:o,position:a,width:l,height:c,onClose:u,onPostActivate:d=bEe,onPostDeactivate:p=bEe,returnFocus:f=!0,closeOnEscape:h=!0,title:m}=n,g=ii(null),y=ii(null),v=t||y,_=Do(()=>function nEt(n){return"string"==typeof n?dn(n):n}(i),[i]),x=()=>{g.current&&g.current.activate()};let b={};return a&&(b={...b,top:a.top+"px",left:a.left+"px"}),l&&(b.width=l+"px"),c&&(b.height=c+"px"),vn(()=>(v.current&&v.current.addEventListener("focusin",x),()=>{v.current.removeEventListener("focusin",x)}),[v]),vn(()=>(v.current&&(g.current=A3t(v.current,{clickOutsideDeactivates:!0,delayInitialFocus:o,fallbackFocus:v.current,onPostActivate:d,onPostDeactivate:p,returnFocusOnDeactivate:f}),g.current.activate()),()=>g.current&&g.current.deactivate()),[v]),t5("propertiesPanel.detach",u),lj(L("div",{"aria-label":m,tabIndex:-1,ref:v,onKeyDown:w=>{w.stopPropagation(),h&&"Escape"===w.key&&u()},role:"dialog",class:Tn()("bio-properties-panel-popup",s),style:b,children:n.children}),_||document.body)});function _Ee(n){return n.closest(".bio-properties-panel-popup")}function iEt(n){const{element:t,eventBus:i={fire(){},on(){},off(){}},popupContainer:s}=n,o=c_(t),[a,l]=Un({}),[c,u]=Un(!1),[d,p]=Un(null),[f,h]=Un(null),m=(E,x)=>{i.fire("feelPopup."+E,x)},g=wi(()=>!!c,[c]);!function aEt(n,t){const i=ii(!1);vn(()=>{if(i.current)return n();i.current=!0},t)}(()=>{c||m("closed")},[c]);const y=(E,x,b)=>{p(E),l(x),u(!0),h(b),m("open")},v=(E={})=>{const{id:x}=E;x&&x!==d||(u(!1),p(null))},_={open:y,close:v,source:d};return vn(()=>{t&&o&&t!==o&&v()},[t]),vn(()=>{const x=()=>g();return i.on("feelPopup._close",v),i.on("feelPopup._open",b=>{const{entryId:w,popupConfig:C,sourceElement:P}=b;y(w,C,P)}),i.on("feelPopup._isOpen",x),()=>{i.off("feelPopup._close",v),i.off("feelPopup._open",y),i.off("feelPopup._isOpen",x)}},[i,g]),L(Oz.Provider,{value:_,children:[c&&L(sEt,{onClose:v,container:s,sourceElement:f,emit:m,...a}),n.children]})}function sEt(n){const{container:t,id:i,hostLanguage:s,onInput:o,onClose:a,position:l,singleLine:c,sourceElement:u,title:d,tooltipContainer:p,type:f,value:h,variables:m,emit:g}=n,y=ii(),v=ii(),_=ii(!1);return vn(()=>(g("opened",{domNode:v.current}),()=>g("close",{domNode:v.current})),[]),vn(()=>{y.current&&y.current.focus()},[y]),L(d_,{container:t,className:"bio-properties-panel-feel-popup",emit:g,position:l,title:d,onClose:a,returnFocus:!1,closeOnEscape:!1,delayInitialFocus:!1,onPostDeactivate:()=>{u&&u.focus()},height:250,width:700,ref:v,children:[L(d_.Title,{title:d,emit:g,showCloseButton:!0,closeButtonTooltip:"Save and close",onClose:a,draggable:!0,children:["feel"===f&&L("a",{href:"https://docs.camunda.io/docs/components/modeler/feel/what-is-feel/",target:"_blank",class:"bio-properties-panel-feel-popup__title-link",children:["Learn FEEL expressions",L(_z,{})]}),"feelers"===f&&L("a",{href:"https://docs.camunda.io/docs/components/modeler/forms/configuration/forms-config-templating-syntax/",target:"_blank",class:"bio-properties-panel-feel-popup__title-link",children:["Learn templating",L(_z,{})]})]}),L(d_.Body,{children:L("div",{onKeyDownCapture:w=>{"Escape"===w.key&&(_.current=function oEt(n){return n.closest(".cm-editor").querySelector(".cm-tooltip-autocomplete")}(w.target))},onKeyDown:w=>{"Escape"===w.key&&(_.current||(a(),_.current=!1))},class:"bio-properties-panel-feel-popup__body",children:["feel"===f&&L(vEe,{enableGutters:!0,id:wEe(i),name:i,onInput:o,value:h,variables:m,ref:y,tooltipContainer:p}),"feelers"===f&&L(Cz,{id:wEe(i),contentAttributes:{"aria-label":d},enableGutters:!0,hostLanguage:s,name:i,onInput:o,value:h,ref:y,singleLine:c,tooltipContainer:p})]})})]})}function wEe(n){return`bio-properties-panel-${n}`}function xEe(n){const{id:t,label:i,onInput:s,value:o,switcherLabel:a,inline:l,onFocus:c,onBlur:u,inputRef:d,tooltip:p}=n,[f,h]=Un(o),m=function(){var y=be(function*(){s(!o)});return function(){return y.apply(this,arguments)}}();return vn(()=>{o!==f&&h(o)},[o]),L("div",{class:Tn()("bio-properties-panel-toggle-switch",{inline:l}),children:[L("label",{class:"bio-properties-panel-label",for:SEe(t),children:L(V0,{value:p,forId:t,element:n.element,children:i})}),L("div",{class:"bio-properties-panel-field-wrapper",children:[L("label",{class:"bio-properties-panel-toggle-switch__switcher",children:[L("input",{ref:d,id:SEe(t),class:"bio-properties-panel-input",type:"checkbox",onFocus:c,onBlur:u,name:t,onInput:y=>{m(),h(y.target.value)},checked:!!f}),L("span",{class:"bio-properties-panel-toggle-switch__slider"})]}),a&&L("p",{class:"bio-properties-panel-toggle-switch__label",children:a})]})]})}function mD(n){const{element:t,id:i,description:s,label:o,switcherLabel:a,inline:l,getValue:c,setValue:u,onFocus:d,onBlur:p,tooltip:f}=n;return L("div",{class:"bio-properties-panel-entry bio-properties-panel-toggle-switch-entry","data-entry-id":i,children:[L(xEe,{id:i,label:o,value:c(t),onInput:u,onFocus:d,onBlur:p,switcherLabel:a,inline:l,tooltip:f,element:t}),L(z0,{forId:i,element:t,value:s})]})}function CEe(n){return n&&!!n.checked}function SEe(n){return`bio-properties-panel-${n}`}function OEe(n){const{debounce:t,disabled:i,displayLabel:s=!0,id:o,inputRef:a,label:l,max:c,min:u,onInput:d,step:p,value:f="",onFocus:h,onBlur:m}=n,[g,y]=Un(f),v=Do(()=>t(E=>{E.validity.valid&&d(E.value?parseFloat(E.value):void 0)}),[d,t]);return vn(()=>{f!==g&&y(f)},[f]),L("div",{class:"bio-properties-panel-numberfield",children:[s&&L("label",{for:TEe(o),class:"bio-properties-panel-label",children:l}),L("input",{id:TEe(o),ref:a,type:"number",name:o,spellCheck:"false",autoComplete:"off",disabled:i,class:"bio-properties-panel-input",max:c,min:u,onInput:E=>{v(E.target),y(E.target.value)},onFocus:h,onBlur:m,step:p,value:g})]})}function lEt(n){const{debounce:t,description:i,disabled:s,element:o,getValue:a,id:l,label:c,max:u,min:d,setValue:p,step:f,onFocus:h,onBlur:m,validate:g}=n,y=E1(l),[v,_]=Un(null);let E=a(o);vn(()=>{if(Gn(g)){const w=g(E)||null;_(w)}},[E,g]);const b=y||v;return L("div",{class:Tn()("bio-properties-panel-entry",b?"has-error":""),"data-entry-id":l,children:[L(OEe,{debounce:t,disabled:s,id:l,label:c,onFocus:h,onBlur:m,onInput:w=>{let C=null;Gn(g)&&(C=g(w)||null),p(w,C),_(C)},max:u,min:d,step:f,value:E},o),b&&L("div",{class:"bio-properties-panel-error",children:b}),L(z0,{forId:l,element:o,value:i})]})}function cEt(n){return n&&!!n.value}function TEe(n){return`bio-properties-panel-${n}`}d_.Title=function Q3t(n){const{children:t,className:i,draggable:s,emit:o=()=>{},title:a,showCloseButton:l=!1,closeButtonTooltip:c="Close popup",onClose:u,...d}=n,p=ii({startPosition:null,newPosition:null}),f=ii(),h=ii(),m=(v,_)=>{!function tEt(n){n.preventDefault(),n.stopPropagation()}(v);const{x:E,y:x}=_,b={x:p.current.startPosition.x+E,y:p.current.startPosition.y+x},w=_Ee(h.current);w.style.top=b.y+"px",w.style.left=b.x+"px",o("dragover",{newPosition:b,delta:_})};return L("div",{class:Tn()("bio-properties-panel-popup__header",s&&"draggable",i),ref:h,draggable:s,onDragStart:v=>{(function Y3t(n,t){let i,s,o;function l(u){return n.call(i,u,{x:u.clientX-s,y:u.clientY-o})}function c(){document.removeEventListener("dragover",l,!0),document.removeEventListener("dragenter",hD,!0),document.removeEventListener("dragend",c),document.removeEventListener("drop",hD)}return function a(u){i=this,s=u.clientX,o=u.clientY,u.dataTransfer&&u.dataTransfer.setDragImage(t||function X3t(){return lr('<canvas width="0" height="0" />')}(),0,0),document.addEventListener("dragover",l,!0),document.addEventListener("dragenter",hD,!0),document.addEventListener("dragend",c),document.addEventListener("drop",hD)}})(m,f.current)(v),v.stopPropagation();const x=_Ee(h.current).getBoundingClientRect();p.current.startPosition={x:x.left,y:x.top},o("dragstart")},onDragEnd:()=>{p.current.newPosition=null,o("dragend")},...d,children:[s&&L(qu,{children:[L("div",{ref:f,class:"bio-properties-panel-popup__drag-preview"}),L("div",{class:"bio-properties-panel-popup__drag-handle",children:L(oEe,{})})]}),L("div",{class:"bio-properties-panel-popup__title",children:a}),t,l&&L("button",{title:c,class:"bio-properties-panel-popup__close",onClick:u,children:L(cEe,{})})]})},d_.Body=function J3t(n){const{children:t,className:i,...s}=n;return L("div",{class:Tn()("bio-properties-panel-popup__body",i),...s,children:t})},d_.Footer=function eEt(n){const{children:t,className:i,...s}=n;return L("div",{class:Tn()("bio-properties-panel-popup__footer",i),...s,children:n.children})};const uEt=()=>{},pEt=function xEt(n){return function(t){const{id:i}=t,{close:s}=xa(Oz),o=$0(s);return vn(()=>()=>{o({id:i})},[]),L(n,{...t})}}(function dEt(n){const{debounce:t,id:i,element:s,label:o,hostLanguage:a,onInput:l,onError:c,placeholder:u,feel:d,value:p="",disabled:f=!1,variables:h,singleLine:m,tooltipContainer:g,OptionalComponent:y=fEt,tooltip:v}=n,[_,E]=Un(p),x=u_(i),b=ii(),w=$n(_)&&_.startsWith("=")||"required"===d,C=$n(_)&&_.startsWith("=")?_.substring(1):_,[P,D]=Un(void 0),{open:I,source:k}=xa(Oz),F=k===i,M=(Ee=0)=>{const Ve=b.current.contains(document.activeElement)?document.activeElement.selectionStart:1/0;D(Ve+Ee)},B=Do(()=>t(Ee=>{l(Ee)}),[l,t]),q=Ee=>{E(Ee),B(typeof Ee>"u"||""===Ee||"="===Ee?void 0:Ee)},ue=$0(()=>{"required"!==d&&q(w?C:"="+_)}),H=Ee=>{w&&(Ee="="+Ee),Ee!==_&&(q(Ee),!w&&$n(Ee)&&Ee.startsWith("=")&&M(-1))},ee=$0((Ee=[])=>{const Te=Ee.some(Ve=>"Syntax Error"===Ve.type);c(Te?"Unparsable FEEL expression.":void 0)}),Q=(Ee="feel")=>{const Te={id:i,hostLanguage:a,onInput:H,position:EEt(b.current),singleLine:m,title:wEt(s,o),tooltipContainer:g,type:Ee,value:C,variables:h};I(i,Te,x.current)};return vn(()=>{typeof P<"u"&&(x.current.focus(P),D(void 0))},[P]),vn(()=>{if(p!==_){if(!p)return void q(w?"=":"");q(p)}},[p]),vn(()=>{const Ee=Ve=>{w&&Ve.clipboardData.setData("application/FEEL",Ve.clipboardData.getData("text"))},Te=Ve=>{w||F||Ve.clipboardData.getData("application/FEEL")&&setTimeout(()=>{ue(),M()})};return b.current.addEventListener("copy",Ee),b.current.addEventListener("cut",Ee),b.current.addEventListener("paste",Te),()=>{b.current.removeEventListener("copy",Ee),b.current.removeEventListener("cut",Ee),b.current.removeEventListener("paste",Te)}},[b,w,ue,M]),L("div",{class:Tn()("bio-properties-panel-feel-entry",{"feel-active":w}),children:[L("label",{for:p_(i),class:"bio-properties-panel-label",onClick:()=>M(),children:[L(V0,{value:v,forId:i,element:n.element,children:o}),L(K3t,{label:o,feel:d,onClick:ue,active:w})]}),L("div",{class:"bio-properties-panel-feel-container",ref:b,children:[L(W3t,{active:w,disabled:"optional"!==d||f,onClick:ue}),w?L(vEe,{name:i,onInput:H,contentAttributes:{id:p_(i),"aria-label":o},disabled:f,popupOpen:F,onFeelToggle:()=>{ue(),M(!0)},onLint:ee,onPopupOpen:Q,placeholder:u,value:C,variables:h,ref:x,tooltipContainer:g}):L(y,{...n,popupOpen:F,onInput:H,contentAttributes:{id:p_(i),"aria-label":o},value:_,ref:x,onPopupOpen:Q,containerRef:b})]})]})}),fEt=Sf((n,t)=>{const{id:i,disabled:s,onInput:o,value:a,onFocus:l,onBlur:c,placeholder:u}=n,d=ii();return t.current={focus:p=>{const f=d.current;f&&(f.focus(),"number"==typeof p&&(p>a.length&&(p=a.length),f.setSelectionRange(p,p)))}},L("input",{id:p_(i),type:"text",ref:d,name:i,spellCheck:"false",autoComplete:"off",disabled:s,class:"bio-properties-panel-input",onInput:p=>o(p.target.value),onFocus:l,onBlur:c,placeholder:u,value:a||""})}),hEt=Sf((n,t)=>{const{id:i,debounce:s,disabled:o,onInput:a,value:l,min:c,max:u,step:d,onFocus:p,onBlur:f}=n,h=ii();return t.current={focus:m=>{const g=h.current;g&&(g.focus(),"number"==typeof m&&m!==1/0&&(m>l.length&&(m=l.length),g.setSelectionRange(m,m)))}},L(OEe,{id:i,debounce:s,disabled:o,displayLabel:!1,inputRef:h,max:u,min:c,onInput:a,step:d,value:l,onFocus:p,onBlur:f})}),mEt=Sf((n,t)=>{const{id:i,disabled:s,onInput:o,value:a,onFocus:l,onBlur:c,placeholder:u}=n,d=ii();return t.current={focus:()=>{const p=d.current;p&&(p.focus(),p.setSelectionRange(0,0))}},L("textarea",{id:p_(i),type:"text",ref:d,name:i,spellCheck:"false",autoComplete:"off",disabled:s,class:"bio-properties-panel-input",onInput:p=>o(p.target.value),onFocus:l,onBlur:c,placeholder:u,value:a||"","data-gramm":"false"})}),yEt=(Sf((n,t)=>{const{id:i,onInput:s,value:o,onFocus:a,onBlur:l,switcherLabel:c}=n,u=ii();return t.current={focus:()=>{const d=u.current;d&&d.focus()}},L(xEe,{id:i,value:o,inputRef:u,onInput:s,onFocus:a,onBlur:l,switcherLabel:c})}),Sf((n,t)=>{const{id:i,disabled:s,onInput:o,value:a,onFocus:l,onBlur:c}=n,u=ii();return t.current={focus:()=>{const p=u.current;p&&p.focus()}},L("input",{ref:u,id:p_(i),name:i,onFocus:l,onBlur:c,type:"checkbox",class:"bio-properties-panel-input",onChange:({target:p})=>{o(p.checked)},checked:a,disabled:s})}));function w1(n){const{element:t,id:i,description:s,debounce:o,disabled:a,feel:l,label:c,getValue:u,setValue:d,tooltipContainer:p,hostLanguage:f,singleLine:h,validate:m,show:g=uEt,example:y,variables:v,onFocus:_,onBlur:E,placeholder:x,tooltip:b}=n,[w,C]=Un(null),[P,D]=Un(null);let I=u(t);vn(()=>{if(Gn(m)){const q=m(I)||null;C(q)}},[I,m]);const k=$0(q=>{let ue=null;Gn(m)&&(ue=m(q)||null),q!==I&&d(q,ue),C(ue)}),F=wi(q=>{D(q)},[]),B=E1(i)||P||w;return L("div",{class:Tn()(n.class,"bio-properties-panel-entry",B?"has-error":""),"data-entry-id":i,children:[Mr(pEt,{...n,debounce:o,disabled:a,feel:l,id:i,key:t,label:c,onInput:k,onError:F,onFocus:_,onBlur:E,placeholder:x,example:y,hostLanguage:f,singleLine:h,show:g,value:I,variables:v,tooltipContainer:p,OptionalComponent:n.OptionalComponent,tooltip:b}),B&&L("div",{class:"bio-properties-panel-error",children:B}),L(z0,{forId:i,element:t,value:s})]})}function vEt(n){return L(w1,{class:"bio-properties-panel-feel-number",OptionalComponent:hEt,...n})}function _Et(n){return L(w1,{class:"bio-properties-panel-feel-checkbox",OptionalComponent:yEt,...n})}function Xi(n){return!!n&&("checkbox"===n.type?!!n.checked||n.classList.contains("edited"):!!n.value||n.classList.contains("edited"))}function p_(n){return`bio-properties-panel-${n}`}function EEt(n){const{top:t,left:i}=n.getBoundingClientRect();return{left:i-700-20,top:t}}function wEt(n,t){let i="";return n&&n.type&&(i=`${n.type} / `),`${i}${t}`}const CEt={},SEt={},OEt={};function PEe(n){const{element:t,headerProvider:i,placeholderProvider:s,groups:o,layoutConfig:a,layoutChanged:l,descriptionConfig:c,descriptionLoaded:u,tooltipConfig:d,tooltipLoaded:p,feelPopupContainer:f,eventBus:h}=n,[m,g]=Un(DEe(a));(function DEt(n,t){const i=ii(!1);y0(()=>{if(i.current)return n();i.current=!0},t)})(()=>{const q=DEe(a);g(q)},[a]),vn(()=>{"function"==typeof l&&l(m)},[m,l]);const _={layout:m,setLayout:g,getLayoutForKey:(q,ue)=>kl(m,q,ue),setLayoutForKey:(q,ue)=>{const H=pe({},m);Ah(H,q,ue),g(H)}},E=Do(()=>function TEt(n={}){return{...SEt,...n}}(c),[c]);vn(()=>{"function"==typeof u&&u(E)},[E,u]);const b={description:E,getDescriptionForId:(q,ue)=>E[q]&&E[q](ue)},w=Do(()=>function PEt(n={}){return{...OEt,...n}}(d),[d]);vn(()=>{"function"==typeof p&&p(w)},[w,p]);const P={tooltip:w,getTooltipForId:(q,ue)=>w[q]&&w[q](ue)},[D,I]=Un({});t5("propertiesPanel.setErrors",({errors:q})=>I(q),h);const F={errors:D},M={eventBus:h},B={element:t};return s&&!t?L(gEe,{...s.getEmpty()}):s&&Vt(t)?L(gEe,{...s.getMultiple()}):L(id.Provider,{value:B,children:L(wz.Provider,{value:F,children:L(uEe.Provider,{value:b,children:L(pEe.Provider,{value:P,children:L(id.Provider,{value:_,children:L(dEe.Provider,{value:M,children:L(iEt,{element:t,eventBus:h,popupContainer:f,children:L("div",{class:"bio-properties-panel",children:[L(I3t,{element:t,headerProvider:i}),L("div",{class:"bio-properties-panel-scroll-container",children:o.map(q=>{const{component:ue=er,id:H}=q;return Mr(ue,{...q,key:H,element:t})})})]})})})})})})})})}function DEe(n={},t=CEt){return{...t,...n}}function gD(n){const{class:t,children:i,menuItems:s=[]}=n,o=ii(null),a=ii(null),[l,c]=Un(!1),u=()=>c(!1);function p(f,h){f.stopPropagation(),u(),h()}return function MEt(n,t){vn(()=>{function i(s){n.some(o=>o&&o.contains(s.target))||t()}return document.addEventListener("click",i,{capture:!0}),()=>document.removeEventListener("click",i,{capture:!0})},[...n,t])}([o.current],()=>u()),L("div",{class:Tn()("bio-properties-panel-dropdown-button",{open:l},t),onClick:function d(f){a.current&&a.current.contains(f.target)||(f.stopPropagation(),c(h=>!h))},ref:o,children:[i,L("div",{class:"bio-properties-panel-dropdown-button__menu",ref:a,children:s.map((f,h)=>L(kEt,{onClick:p,item:f},h))})]})}function kEt({item:n,onClick:t}){return n.separator?L("div",{class:"bio-properties-panel-dropdown-button__menu-item bio-properties-panel-dropdown-button__menu-item--separator"}):n.action?L("button",{type:"button",class:"bio-properties-panel-dropdown-button__menu-item bio-properties-panel-dropdown-button__menu-item--actionable",onClick:i=>t(i,n.action),children:n.entry}):L("div",{class:"bio-properties-panel-dropdown-button__menu-item",children:n.entry})}function f_(n){const{children:t=null,class:i,onClick:s=()=>{},...o}=n;return L("button",{type:"button",...o,onClick:s,class:Tn()("bio-properties-panel-group-header-button",i),children:t})}function Tz(n,t){return t=t||{},n.replace(/{([^}]+)}/g,function(i,s){return t[s]||"{"+s+"}"})}function h_(n){const{element:t,entries:i=[],id:s,label:o,open:a,remove:l,translate:c=Tz}=n,[u,d]=Un(a),{onShow:f}=xa(id),h={...xa(id),onShow:wi(()=>{d(!0),Gn(f)&&f()},[f,d])},m=c("<empty>");return L("div",{"data-entry-id":s,class:Tn()("bio-properties-panel-collapsible-entry",u?"open":""),children:[L("div",{class:"bio-properties-panel-collapsible-entry-header",onClick:()=>d(!u),children:[L("div",{title:o||m,class:Tn()("bio-properties-panel-collapsible-entry-header-title",!o&&"empty"),children:o||m}),L("button",{type:"button",title:c("Toggle list item"),class:"bio-properties-panel-arrow  bio-properties-panel-collapsible-entry-arrow",children:L(lp,{class:u?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})}),l?L("button",{type:"button",title:c("Delete item"),class:"bio-properties-panel-remove-entry",onClick:l,children:L(bz,{})}):null]}),L("div",{class:Tn()("bio-properties-panel-collapsible-entry-entries",u?"open":""),children:L(id.Provider,{value:h,children:i.map(g=>{const{component:y,id:v}=g;return Mr(y,{...g,element:t,key:v})})})})]})}function AEt(n){const{autoFocusEntry:t,autoOpen:i,translate:s=Tz}=n;return vn(()=>{if(i&&t){const o=dn(`[data-entry-id="${t}"]`),a=dn(".bio-properties-panel-input",o);a&&(Gn(a.select)?a.select():Gn(a.focus)&&a.focus(),a.scrollIntoView())}},[i,t]),L("div",{class:"bio-properties-panel-list-item",children:L(h_,{...n,open:i,translate:s})})}const IEt=()=>{};function zs(n){const{add:t,element:i,id:s,items:o,label:a,shouldOpen:l=!1,translate:c=Tz}=n;vn(()=>{null!=n.shouldSort&&console.warn("the property 'shouldSort' is no longer supported")},[n.shouldSort]);const u=ii(null),[d,p]=xz(["groups",s,"open"],l),[f,h]=Un(!1),m=wi(()=>p(!0),[p]),[g,y]=Un([]),[v,_]=Un(!1),E=c_(i),x=wi(()=>p(!d),[d]),b=i===E&&d&&v?function REt(n,t){const i=n.map(o=>o.id),s=t.map(o=>o.id);return i.filter(o=>!s.includes(o))}(o,g):[];vn(()=>{y(o),_(!1)},[o]),mEe(u,"div.bio-properties-panel-scroll-container",h);const w=!!o.length,C={...xa(id),onShow:m},D=hEe(),I=o.some(k=>!!D[k.id]||(k.entries?k.entries.some(F=>D[F.id]):void 0));return L("div",{class:"bio-properties-panel-group","data-group-id":"group-"+s,ref:u,children:[L("div",{class:Tn()("bio-properties-panel-group-header",w?"":"empty",w&&d?"open":"",f&&d?"sticky":""),onClick:w?x:IEt,children:[L("div",{title:n.tooltip?null:a,"data-title":a,class:"bio-properties-panel-group-header-title",children:L(V0,{value:n.tooltip,forId:"group-"+s,element:i,parent:u,children:a})}),L("div",{class:"bio-properties-panel-group-header-buttons",children:[t?L("button",{type:"button",title:c("Create new list item"),class:"bio-properties-panel-group-header-button bio-properties-panel-add-entry",onClick:k=>{_(!0),p(!0),t(k)},children:[L(fD,{}),w?null:L("span",{class:"bio-properties-panel-add-entry-label",children:c("Create")})]}):null,w?L("div",{title:c("List contains {numOfItems} item"+(1!=o.length?"s":""),{numOfItems:o.length}),class:Tn()("bio-properties-panel-list-badge",I?"bio-properties-panel-list-badge--error":""),children:o.length}):null,w?L("button",{type:"button",title:c("Toggle section"),class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:L(lp,{class:d?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})}):null]})]}),L("div",{class:Tn()("bio-properties-panel-list",d&&w?"open":""),children:L(id.Provider,{value:C,children:o.map((k,F)=>{if(!k)return;const{id:M}=k,B=b.includes(k.id);return Mr(AEt,{...k,autoOpen:B,element:i,index:F,key:M,translate:c})})})})]})}function NEt(n){const{id:t,label:i,onChange:s,disabled:o,value:a=!1,onFocus:l,onBlur:c,tooltip:u}=n,[d,p]=Un(a);return vn(()=>{a!==d&&p(a)},[a]),L("div",{class:"bio-properties-panel-checkbox",children:[L("input",{ref:u_(t),id:kEe(t),name:t,onFocus:l,onBlur:c,type:"checkbox",class:"bio-properties-panel-input",onChange:g=>{(({target:g})=>{s(g.checked)})(g),p(g.target.value)},checked:d,disabled:o}),L("label",{for:kEe(t),class:"bio-properties-panel-label",children:L(V0,{value:u,forId:t,element:n.element,children:i})})]})}function ta(n){const{element:t,id:i,description:s,label:o,getValue:a,setValue:l,disabled:c,onFocus:u,onBlur:d,tooltip:p}=n,f=a(t),h=E1(i);return L("div",{class:"bio-properties-panel-entry bio-properties-panel-checkbox-entry","data-entry-id":i,children:[L(NEt,{disabled:c,id:i,label:o,onChange:l,onFocus:u,onBlur:d,value:f,tooltip:p,element:t},t),h&&L("div",{class:"bio-properties-panel-error",children:h}),L(z0,{forId:i,element:t,value:s})]})}function wc(n){return n&&!!n.checked}function kEe(n){return`bio-properties-panel-${n}`}function VEt(n){const{id:t,label:i,onChange:s,options:o=[],value:a="",disabled:l,onFocus:c,onBlur:u,tooltip:d}=n,p=u_(t),[f,h]=Un(a);return vn(()=>{a!==f&&h(a)},[a]),L("div",{class:"bio-properties-panel-select",children:[L("label",{for:AEe(t),class:"bio-properties-panel-label",children:L(V0,{value:d,forId:t,element:n.element,children:i})}),L("select",{ref:p,id:AEe(t),name:t,class:"bio-properties-panel-input",onInput:y=>{(({target:y})=>{s(y.value)})(y),h(y.target.value)},onFocus:c,onBlur:u,value:f,disabled:l,children:o.map((y,v)=>y.children?L("optgroup",{label:y.label,children:y.children.map((_,E)=>L("option",{value:_.value,disabled:_.disabled,children:_.label},E))},v):L("option",{value:y.value,disabled:y.disabled,children:y.label},v))})]})}function Kr(n){const{element:t,id:i,description:s,label:o,getValue:a,setValue:l,getOptions:c,disabled:u,onFocus:d,onBlur:p,validate:f,tooltip:h}=n,m=c(t),g=E1(i),[y,v]=Un(null);let _=a(t);vn(()=>{if(Gn(f)){const b=f(_)||null;v(b)}},[_,f]);const x=g||y;return L("div",{class:Tn()("bio-properties-panel-entry",x?"has-error":""),"data-entry-id":i,children:[L(VEt,{id:i,label:o,value:_,onChange:b=>{let w=null;Gn(f)&&(w=f(b)||null),l(b,w),v(w)},onFocus:d,onBlur:p,options:m,disabled:u,tooltip:h,element:t},t),x&&L("div",{class:"bio-properties-panel-error",children:x}),L(z0,{forId:i,element:t,value:s})]})}function fi(n){return n&&!!n.value}function AEe(n){return`bio-properties-panel-${n}`}function Pz(n){n.style.height="auto",n.style.height=`${n.scrollHeight+2}px`}function HEt(n){const{id:t,label:i,debounce:s,onInput:o,value:a="",disabled:l,monospace:c,onFocus:u,onBlur:d,autoResize:p=!0,placeholder:f,rows:h=(p?1:2),tooltip:m}=n,[g,y]=Un(a),v=u_(t),_=function z3t(n){const[t,i]=Un(!!n&&!!n.clientHeight);return y0(()=>{if(!n)return;const s=new ResizeObserver(([o])=>{requestAnimationFrame(()=>{const a=!!o.contentRect.height;a!==t&&i(a)})});return s.observe(n),()=>s.disconnect()},[n,t]),t}(v.current),E=Do(()=>s(b=>o(b.value.length?b.value:void 0)),[o,s]);return y0(()=>{p&&Pz(v.current)},[]),y0(()=>{_&&p&&Pz(v.current)},[_]),vn(()=>{a!==g&&y(a)},[a]),L("div",{class:"bio-properties-panel-textarea",children:[L("label",{for:IEe(t),class:"bio-properties-panel-label",children:L(V0,{value:m,forId:t,element:n.element,children:i})}),L("textarea",{ref:v,id:IEe(t),name:t,spellCheck:"false",class:Tn()("bio-properties-panel-input",c?"bio-properties-panel-input-monospace":"",p?"auto-resize":""),onInput:b=>{E(b.target),p&&Pz(b.target),y(b.target.value)},onFocus:u,onBlur:d,placeholder:f,rows:h,value:g,disabled:l,"data-gramm":"false"})]})}function Ma(n){const{element:t,id:i,description:s,debounce:o,label:a,getValue:l,setValue:c,rows:u,monospace:d,disabled:p,validate:f,onFocus:h,onBlur:m,placeholder:g,autoResize:y,tooltip:v}=n,_=E1(i),[E,x]=Un(null);let b=l(t);vn(()=>{if(Gn(f)){const P=f(b)||null;x(P)}},[b,f]);const C=_||E;return L("div",{class:Tn()("bio-properties-panel-entry",C?"has-error":""),"data-entry-id":i,children:[L(HEt,{id:i,label:a,value:b,onInput:P=>{let D=null;Gn(f)&&(D=f(P)||null),c(P,D),x(D)},onFocus:h,onBlur:m,rows:u,debounce:o,monospace:d,disabled:p,placeholder:g,autoResize:y,tooltip:v,element:t},t),C&&L("div",{class:"bio-properties-panel-error",children:C}),L(z0,{forId:i,element:t,value:s})]})}function $l(n){return n&&!!n.value}function IEe(n){return`bio-properties-panel-${n}`}function UEt(n){const{debounce:t,disabled:i=!1,id:s,label:o,onInput:a,onFocus:l,onBlur:c,placeholder:u,value:d="",tooltip:p}=n,[f,h]=Un(d||""),m=u_(s),g=Do(()=>t(v=>a(v.value.length?v.value:void 0)),[a,t]);return vn(()=>{d!==f&&h(d)},[d]),L("div",{class:"bio-properties-panel-textfield",children:[L("label",{for:REe(s),class:"bio-properties-panel-label",children:L(V0,{value:p,forId:s,element:n.element,children:o})}),L("input",{ref:m,id:REe(s),type:"text",name:s,spellCheck:"false",autoComplete:"off",disabled:i,class:"bio-properties-panel-input",onInput:v=>{g(v.target),h(v.target.value)},onFocus:l,onBlur:c,placeholder:u,value:f})]})}function ft(n){const{element:t,id:i,description:s,debounce:o,disabled:a,label:l,getValue:c,setValue:u,validate:d,onFocus:p,onBlur:f,placeholder:h,tooltip:m}=n,g=E1(i),[y,v]=Un(null);let _=c(t);vn(()=>{if(Gn(d)){const b=d(_)||null;v(b)}},[_,d]);const x=g||y;return L("div",{class:Tn()("bio-properties-panel-entry",x?"has-error":""),"data-entry-id":i,children:[L(UEt,{debounce:o,disabled:a,id:i,label:l,onInput:b=>{let w=null;Gn(d)&&(w=d(b)||null),u(b,w),v(w)},onFocus:p,onBlur:f,placeholder:h,value:_,tooltip:m,element:t},t),x&&L("div",{class:"bio-properties-panel-error",children:x}),L(z0,{forId:i,element:t,value:s})]})}function jt(n){return n&&!!n.value}function REe(n){return`bio-properties-panel-${n}`}function NEe(n){return function(i){return!1!==n?xv(i,un(n)?n:300):i}}NEe.$inject=["config.debounceInput"];var LEe={debounceInput:["factory",NEe]},FEe={feelPopup:["type",(()=>{class n{constructor(i){this._eventBus=i}isOpen(){return this._eventBus.fire("feelPopup._isOpen")}open(i,s,o){return this._eventBus.fire("feelPopup._open",{entryId:i,popupConfig:s,sourceElement:o})}close(){return this._eventBus.fire("feelPopup._close")}}return n.$inject=["eventBus"],n})()]};function Dz(n){return(n5(n,"zeebe:IoMapping")||[])[0]}function n5(n,t,i){var s=function ewt(n,t){var i=[],s=n.get("extensionElements");if(typeof s<"u"){var o=s.get("values");typeof o<"u"&&(i=hn(o,function(a){return function twt(n,t){return n&&"function"==typeof n.$instanceOf&&n.$instanceOf(t)}(a,t)}))}return i}(n,t);return i?(s[0]||{})[i]||[]:s}function BEe(n){for(var t=[],i=n;i.$parent;)t.push(i.$parent),i=i.$parent;return t}function jEe(n,t,i){i=i||0,Vt(n)||(n=[n]),se(n,function(s,o){var a=t(s,o,i);Vt(a)&&a.length&&jEe(a,t,i+1)})}function VEe(n,t,i){var s=!i||-1===n.indexOf(t);return s&&n.push(t),s}function nwt(n,t,i){var s=[],o=[];return jEe(n,function(a,l,c){VEe(s,a,t);var u=a.flowElements;if((-1===i||c<i)&&u&&VEe(o,u,t))return u}),s}function $Ee(n,t){return nwt(n,!t,-1)}function r5(n,t){var i=Pl(n,function(s){return s.name===t.name&&s.scope===t.scope});i>=0?n[i].origin=function awt(n,t){return n.concat(t)}(n[i].origin,t.origin):n.push(t)}function i5(n,t,i){var s=function iwt(n,t,i){var o=It(BEe(n),function(a){return function swt(n,t){return n&&"function"==typeof n.$instanceOf&&n.$instanceOf(t)}(a,"bpmn:SubProcess")&&function owt(n,t){return It(function WEt(n){return function JEt(n,t){var i=Dz(n);return i&&i.get(t)||[]}(n,"inputParameters")}(n),function(i){return i.target===t})}(a,i)});return o||t}(n,i,t);return{name:t,origin:[n],scope:s}}var fwt=[function lwt(n){var t=n.elements,i=n.processVariables;return Vt(t)||(t=[t]),se(t,function(s){var o=function KEt(n){return(Dz(n)||{}).inputParameters}(s);se(o,function(a){var l=i5(s,a.target,s);r5(i,l)})}),i},function cwt(n){var t=n.elements,i=n.processVariables;return Vt(t)||(t=[t]),se(t,function(s){var o=s.loopCharacteristics,a=o&&function YEt(n){const t=n5(n,"zeebe:LoopCharacteristics")[0];return t&&t.inputElement}(o);if(a){var l=i5(s,a,s);r5(i,l)}}),i},function uwt(n){var t=n.elements,i=n.containerElement,s=n.processVariables;return Vt(t)||(t=[t]),se(t,function(o){var a=function GEt(n){return(Dz(n)||{}).outputParameters}(o);se(a,function(l){var c=i5(o,l.target,i);r5(s,c)})}),s},function dwt(n){var t=n.elements,i=n.containerElement,s=n.processVariables;return Vt(t)||(t=[t]),se(t,function(o){var a=o.loopCharacteristics,l=a&&function XEt(n){const t=n5(n,"zeebe:LoopCharacteristics")[0];return t&&t.outputCollection}(a);if(l){var c=i5(o,l,i);r5(s,c)}}),s},function pwt(n){var t=n.elements,i=n.containerElement,s=n.processVariables;return Vt(t)||(t=[t]),se(t,function(o){var a=function ZEt(n){return(n5(n,"zeebe:CalledDecision")||[])[0]}(o)||function QEt(n){return(n5(n,"zeebe:Script")||[])[0]}(o);if(a){var l=a.resultVariable;if(l){var c=i5(o,l,i);r5(s,c)}}}),s}];function zEe(n,t=[]){var i=[],s=$Ee([n],!1);const o=[];return se([...fwt,...t],function(a){o.push(a({elements:s,containerElement:n,processVariables:i}))}),Promise.all(o).then(()=>i)}function kz(){return(kz=be(function*(n,t,i=[]){var s=yield zEe(t,i),o=function rwt(n,t){return It($Ee(t),function(s){return s.id===n})}(n,t),a=hn(s,function(u){return u.scope.id===o.id}),l=BEe(o);return function ywt(n,t){return n.concat(t)}(a,hn(s,function(u){return It(l,function(d){return d.id===u.scope.id})}))})).apply(this,arguments)}function HEe(n,t=[]){return function hwt(n,t){return kz.apply(this,arguments)}(function mwt(n){const t=Mz(n);return yD(n,"bpmn:Participant")?t.processRef.id:t.id}(n),function gwt(n){const t=Mz(n);if(yD(t,"bpmn:Participant"))return t.processRef;if(yD(t,"bpmn:Process"))return t;let i=t;for(;i.$parent&&!yD(i,"bpmn:Process");)i=i.$parent;return i}(n),t)}function Mz(n){return n&&n.businessObject||n}function yD(n,t){var i=Mz(n);return i&&"function"==typeof i.$instanceOf&&i.$instanceOf(t)}const QEe=xf({selectedElement:null,injector:null,getService:()=>null});function O(n,t){const{getService:i}=xa(QEe);return i(n,t)}function Rz(){return Rz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Rz.apply(null,arguments)}function Nz(){return Nz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Nz.apply(null,arguments)}function Lz(){return Lz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Lz.apply(null,arguments)}function Fz(){return Fz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Fz.apply(null,arguments)}function Bz(){return Bz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Bz.apply(null,arguments)}function jz(){return jz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},jz.apply(null,arguments)}function Vz(){return Vz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Vz.apply(null,arguments)}var JEe=({styles:n={},...t})=>Oe_createElement("svg",Vz({width:"32",height:"32",xmlns:"http://www.w3.org/2000/svg"},t),Oe_createElement("path",{stroke:"#000",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"1.1,4.3",d:"M1.5 30.5L27 5"}),Oe_createElement("path",{d:"M31.803.197L26.5 16.107l-1.52-1.52 3.783-11.35-11.35 3.783-1.52-1.52z"}));function $z(){return $z=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},$z.apply(null,arguments)}function zz(){return zz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},zz.apply(null,arguments)}function Hz(){return Hz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Hz.apply(null,arguments)}function Uz(){return Uz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Uz.apply(null,arguments)}function qz(){return qz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},qz.apply(null,arguments)}function Wz(){return Wz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Wz.apply(null,arguments)}function Gz(){return Gz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Gz.apply(null,arguments)}function Kz(){return Kz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Kz.apply(null,arguments)}function Yz(){return Yz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Yz.apply(null,arguments)}function Xz(){return Xz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Xz.apply(null,arguments)}function Zz(){return Zz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Zz.apply(null,arguments)}function Qz(){return Qz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Qz.apply(null,arguments)}function Jz(){return Jz=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Jz.apply(null,arguments)}function eH(){return eH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},eH.apply(null,arguments)}function tH(){return tH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},tH.apply(null,arguments)}function nH(){return nH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},nH.apply(null,arguments)}function rH(){return rH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},rH.apply(null,arguments)}function iH(){return iH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},iH.apply(null,arguments)}function sH(){return sH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},sH.apply(null,arguments)}function oH(){return oH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},oH.apply(null,arguments)}function aH(){return aH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},aH.apply(null,arguments)}function lH(){return lH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},lH.apply(null,arguments)}function cH(){return cH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},cH.apply(null,arguments)}function uH(){return uH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},uH.apply(null,arguments)}var ewe=({styles:n={},...t})=>Oe_createElement("svg",uH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.975.049C8.195-.111.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.454 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.215-2.282-2.022-5.3-3.217-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.082 11.082 0 0116 5.021zm-3.956 3.946l-3.096 3.097 3.985 3.985-3.913 3.913 3.047 3.048 3.913-3.913 3.988 3.987 3.097-3.096L19.076 16l3.914-3.913-3.048-3.048-3.913 3.913-3.986-3.985zm-.002 1.222l3.988 3.987 3.913-3.913 1.826 1.826-3.913 3.913 3.985 3.986-1.873 1.873-3.985-3.985-3.913 3.913-1.827-1.827 3.914-3.913-3.988-3.987 1.873-1.873z"}));function dH(){return dH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},dH.apply(null,arguments)}var twe=({styles:n={},...t})=>Oe_createElement("svg",dH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm-.56 5.772l-7.408 5.231 7.409 5.234v-5.057c2.385 1.687 4.771 3.371 7.157 5.057V10.793l-7.157 5.055v-5.055zm-.865 1.665v7.125l-5.048-3.562 5.048-3.563zm7.161 0v7.132l-5.048-3.566 5.048-3.566z"}));function pH(){return pH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},pH.apply(null,arguments)}var nwe=({styles:n={},...t})=>Oe_createElement("svg",pH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.97.04h-.127C8.713-.018 2.003 5.334.437 12.286c-1.51 6.123.98 13.005 6.136 16.665 5.125 3.788 12.546 4.105 17.912.623 5.272-3.276 8.33-9.766 7.325-15.916-.904-6.241-5.79-11.7-11.95-13.143A16.082 16.082 0 0015.97.04zm-.181 1.724c.115 0 .23 0 .347.003 6.625-.066 12.823 5.149 13.89 11.69 1.13 5.91-1.908 12.349-7.262 15.138-5.473 3.013-12.866 1.884-17.116-2.726C1.291 21.372.444 13.914 3.802 8.602c2.493-4.112 7.169-6.819 11.987-6.838zm.283 1.554c-.117 0-.234.002-.351.005-6.1 0-11.691 5.049-12.346 11.114-.78 5.684 2.795 11.612 8.218 13.52 5.139 1.943 11.416.101 14.624-4.38 3.461-4.583 3.262-11.538-.596-15.831-2.36-2.747-5.924-4.423-9.549-4.428zm-.078 1.695c.078 0 .156 0 .234.003 5.4 0 10.321 4.556 10.734 9.942.563 5.13-2.958 10.364-7.971 11.678-4.832 1.41-10.457-.935-12.746-5.446-2.463-4.559-1.2-10.795 3.014-13.883a11.072 11.072 0 016.735-2.294zm-5.352 4.266V22.761h10.716V9.279H10.642zm.863.866h8.987v11.75h-8.987v-11.75zm.927 1.323v.862h7.133v-.862h-7.133zm0 2.602v.866h7.133v-.866h-7.133zm0 3.008v.862h7.133v-.862h-7.133zm0 2.717v.863h7.133v-.863h-7.133z"}));function fH(){return fH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},fH.apply(null,arguments)}var rwe=({styles:n={},...t})=>Oe_createElement("svg",fH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm6.132 4.194c-1.21 2.455-2.422 4.91-3.633 7.364l-4.516-5.875-4.103 12.133 4.6-5.912c1.58 1.81 3.162 3.619 4.744 5.429L22.13 9.215zM14.383 13.1l4.295 5.445 1.073-2.387-1.027 4.131-4.384-5.157-1.778 2.75 1.821-4.782z"}));function hH(){return hH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},hH.apply(null,arguments)}var iwe=({styles:n={},...t})=>Oe_createElement("svg",hH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.927c-1.672 4.654-2.734 9.502-4.406 14.155 1.534-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.496-4.71-2.91-9.446-4.406-14.156zm.032 2.929c.822 2.586 1.598 5.186 2.42 7.771l-2.42-2.612c-.682.597-2.452 2.884-2.338 2.388.87-2.487 1.447-5.067 2.338-7.547z"}));function mH(){return mH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},mH.apply(null,arguments)}var swe=({styles:n={},...t})=>Oe_createElement("svg",mH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm1.78 4.093v3.555H9.785v6.714h7.994v3.554l5.829-6.911-5.83-6.912zm.974 2.584l3.61 4.295-3.61 4.294v-1.933h-7.88v-4.688h7.88v-1.968z"}));function gH(){return gH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},gH.apply(null,arguments)}var owe=({styles:n={},...t})=>Oe_createElement("svg",gH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm-7.245 5.475v11.06h14.502v-11.06H8.754zm3.222 1.728h8.057c-1.427.878-2.854 2.806-4.281 3.016l-3.776-3.016zm9.554 1.017v6.587H10.48V13.24l5.524 4.414 5.526-4.414z"}));function yH(){return yH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},yH.apply(null,arguments)}var awe=({styles:n={},...t})=>Oe_createElement("svg",yH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.073l-7.62 5.531 2.91 8.95h9.42l2.91-8.95-7.62-5.53zm0 1.067l6.604 4.794-2.523 7.757h-8.162l-2.522-7.757 6.603-4.794z"}));function vH(){return vH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},vH.apply(null,arguments)}var lwe=({styles:n={},...t})=>Oe_createElement("svg",vH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M10.638 9.563V23.056h10.724V9.563H10.638zm.863.866h8.995v11.76H11.5V10.43zm.928 1.324v.862h7.139v-.862h-7.14zm0 2.605v.866h7.139v-.866h-7.14zm0 3.01v.863h7.139v-.863h-7.14zm0 2.72v.863h7.139v-.864h-7.14zM15.999.308h-.004l-.188.001h-.011l-.188.004h-.011L15.41.32h-.011l-.187.008h-.005L15.2.33l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.37h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003.178-.001h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 1.023l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.62h-.005l-.005-.002-.182-.035h-.006L18.938.58l-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.43 17.783.41l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.37h-.005L17.38.368l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.328h-.011L16.6.32h-.011l-.187-.006h-.011L16.204.31h-.011L16.005.31H16zm9.016 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zm-18.381.344l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003L4.682 5l-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.595h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01L16.32 3.6h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 13.135l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187V16.7l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zm-30.21.572l-.161.001-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158-.074-.155-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178-.001-.177v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057-.159-.028zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14v-.005l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 23.019l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 27.127l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z"}));function bH(){return bH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},bH.apply(null,arguments)}var cwe=({styles:n={},...t})=>Oe_createElement("svg",bH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M16.012 9.222c-1.673 4.657-2.735 9.508-4.409 14.164 1.536-1.526 2.874-3.236 4.41-4.762l4.408 4.762c-1.497-4.712-2.911-9.451-4.409-14.164zm.032 2.93c.823 2.588 1.599 5.19 2.421 7.777l-2.42-2.614c-.683.598-2.454 2.886-2.34 2.39.871-2.489 1.448-5.07 2.34-7.552zM16.012.312c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}));function _H(){return _H=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},_H.apply(null,arguments)}var uwe=({styles:n={},...t})=>Oe_createElement("svg",_H({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M8.742 10.464v11.072h14.516V10.464H8.742zm3.224 1.73h8.066a69569 69569 0 00-4.034 3.22l-4.032-3.22zm9.565 1.018v6.594H10.469v-6.593L16 17.63l5.532-4.419zM16 0h-.005l-.188.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06h-.005L17.38.06l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0H16zm9.015 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zM6.634 3.28l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.286h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 12.826l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zM.938 15L.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 22.71l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 26.818l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z"}));function EH(){return EH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},EH.apply(null,arguments)}var dwe=({styles:n={},...t})=>Oe_createElement("svg",EH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M23.637 13.902l-7.625-5.535-7.624 5.535 2.912 8.956h9.425l2.912-8.956zm-1.017.33l-2.524 7.762H11.93l-2.524-7.762 6.607-4.796 6.608 4.796zM16.012.311c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}));function wH(){return wH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},wH.apply(null,arguments)}var pwe=({styles:n={},...t})=>Oe_createElement("svg",wH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M13.51 9.081v4.428H9.08v4.982h4.428v4.428h4.982V18.49h4.428v-4.982H18.49V9.081h-4.982zm.83.83h3.32v4.428h4.429v3.322H17.66v4.428h-3.32v-4.454H9.91v-3.296h4.428V9.911zM16 0h-.005l-.188.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06h-.005L17.38.06l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0H16zm9.015 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zM6.634 3.28l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.286h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 12.826l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zM.938 15L.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 22.71l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 26.818l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z",opacity:".98"}));function xH(){return xH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},xH.apply(null,arguments)}var fwe=({styles:n={},...t})=>Oe_createElement("svg",xH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M16.012 8.816L9.21 21.026h13.606l-6.803-12.21zm0 1.776l5.332 9.57H10.681l5.331-9.57zm0-10.281c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}));function CH(){return CH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},CH.apply(null,arguments)}var hwe=({styles:n={},...t})=>Oe_createElement("svg",CH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.998 8.406c-3.018-.041-5.92 1.926-7.031 4.727-1.138 2.695-.51 6.012 1.537 8.103 1.99 2.141 5.268 2.93 8.014 1.927 2.878-.98 4.992-3.827 5.068-6.87.153-2.957-1.624-5.88-4.3-7.137a7.552 7.552 0 00-3.288-.75zm0 1.384c2.759-.052 5.373 1.973 6.015 4.655.704 2.578-.482 5.517-2.791 6.867-2.358 1.48-5.682 1.086-7.618-.918-2.043-1.971-2.407-5.381-.84-7.745 1.11-1.763 3.15-2.88 5.234-2.86zm1.962 1.765l-2.074 3.762c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.182l1.993-3.615c-.252-.14-.505-.278-.757-.417zm-1.965-8.268h-.158l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.048.12.047.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.138-.107-.121-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.005-.002-.006-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.141-.031-.006-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.001-.143-.026-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.01l-.148-.001h-.01zM10.357 4.66l-.156.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.004.003-.005.004-.11.096-.004.004-.004.003-.109.098-.004.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.003.004-.004.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.005-.086.117-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.029.15-.058.138-.085.119-.108.082-.106.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022-.16.008zm13.91 2.116l-.158.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.026.159.054.152.082.139.086.102.09.09.094.098.093.099.092.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.115.068.117.067.115.065.118.064.117.062.118.061.12.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.049.127.046.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.086.137.109.119.129.096.145.07.155.043.16.013.161-.017.155-.046.143-.074.126-.1.106-.122.082-.138.055-.152.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.059-.132-.002-.005-.002-.004-.061-.132-.003-.004-.002-.005-.062-.13-.003-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.073-.125-.003-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.08-.12-.004-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.117-.003-.005-.003-.004-.088-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.093-.113-.004-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.109-.004-.004-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023-.16.008zM4.288 12.828l-.158.032-.15.06-.135.088-.117.11-.095.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.006-.019.144v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.006l-.001.005-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.006.033.14v.006l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.103.102-.126.076-.142.049-.153.02-.16-.01-.161-.032-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.132-.024-.134-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.132.01-.139.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029-.16.002zm23.286 4.202l-.156.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.134-.026.132-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.062.119-.063.116-.067.119-.066.116-.068.115-.07.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.108-.085.109-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.082-.12.003-.005.002-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.004.003-.005.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.003-.005.002-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.002-.006.04-.138.002-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.141.001-.006.001-.005.031-.141.002-.006v-.005l.03-.142.001-.005.001-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022-.16.007zM6.681 22.734l-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.11.04.047.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.106.004.003.004.004.103.105.004.004.004.004.105.103.004.004.003.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.005.004.004.003.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.003.126.072.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.068.005.002.004.002.13.066.004.003.005.002.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.003.133.056.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.161-.015.155-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.158-.061-.15-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.079-.11-.08-.109-.082-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006-.16.024zm15.063 2.691l-.156.044-.12.057-.06.034-.12.066-.116.064-.119.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.036-.13.035-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021h.005l.006-.002.143-.022h.006l.005-.002.143-.024h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.036.005-.002.005-.001.14-.038.005-.001.005-.002.14-.04h.005l.005-.002.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.056.005-.003.005-.002.132-.057.005-.002.005-.003.132-.059.005-.002.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.002.005-.003.129-.066.004-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.002.065-.038.132-.093.112-.115.089-.135.062-.149.034-.157.004-.161-.027-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.045-.16-.017-.161.014zM15.994 0l-.187.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.01L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.184.027h-.006l-.005.001-.184.029h-.005l-.005.001-.183.031-.005.001-.006.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.177.027.17.03.173.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.088-.135.06-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.144-.073-.129-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.005-.001-.184-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06 17.385.06h-.005l-.187-.015h-.005l-.005-.001-.187-.013h-.01L16.799.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0h-.01zm8.86 2.939l-.157.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.127.125.123.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.085.152.083.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.161-.016.155-.046.143-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.002-.005-.003-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.002-.005-.102-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.004-.003-.005-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.003-.004-.004-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.003-.004-.133-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027-.16.004zm-18.381.348l-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.005-.003.004-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.005-.003.004-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023-.161.008zm24.514 11.15l-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.024.175-.027.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.161-.061.164-.063.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.078.158-.081.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.12.13.096.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.004.002-.005.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.17.002-.006.001-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.18.001-.006.001-.005.038-.182v-.005l.002-.005.035-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02-.161.009zM.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.005.074.169.002.005.002.004.076.169.002.005.002.004.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.156-.07-.162-.068-.16-.067-.164-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15 .777 15zM6.17 26.842l-.152.052-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.005.003.004.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.003.162.088.005.002.004.002.164.087.005.002.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.169.076.004.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.061.005.002.005.001.175.06.005.001.005.002.176.057.005.001.005.002.177.055.005.001.005.002.177.052.005.002.005.001.178.051.005.001.005.002.178.048.006.002h.005l.179.047.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.169-.044-.17-.045-.166-.048-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006-.16.024zm19.214.073l-.156.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.157.073-.158.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.048-.17.045-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.008.133-.017.115-.024h.005l.005-.002.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002h.005l.18-.047.004-.001.005-.002.179-.048.005-.002.005-.001.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.005-.002.004-.002.172-.068.005-.001.005-.002.171-.07.005-.002.005-.002.17-.072.005-.002.005-.002.169-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.002.167-.08.004-.003.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.002.163-.087.005-.002.005-.002.162-.088.005-.003.005-.003.161-.09.005-.002.004-.003.16-.092.005-.002.005-.003.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.002.155-.102.005-.003.004-.003.154-.104.004-.003.005-.003.152-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.111.004-.004.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02-.16.009z"}));function SH(){return SH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},SH.apply(null,arguments)}var mwe=({styles:n={},...t})=>Oe_createElement("svg",SH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.975.003C8.195-.157.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.408 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.215-2.282-2.022-5.3-3.217-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.082 11.082 0 0116 4.975zm-2.15 3.281v5.534H8.213v4.38h5.636v5.534h4.31V18.17h5.639v-4.38h-5.64V8.256h-4.31zm.865.865h2.583v5.534h5.635v2.65h-5.635v5.533h-2.583v-5.534h-5.64v-2.649h5.64V9.121z"}));function OH(){return OH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},OH.apply(null,arguments)}var gwe=({styles:n={},...t})=>Oe_createElement("svg",OH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.521L9.206 20.745h13.598L16.005 8.542zm0 1.775l5.329 9.564H10.677l5.328-9.564z"}));function TH(){return TH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},TH.apply(null,arguments)}var ywe=({styles:n={},...t})=>Oe_createElement("svg",TH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.97.04h-.127C8.713-.018 2.003 5.334.437 12.286c-1.51 6.123.98 13.005 6.136 16.665 5.125 3.788 12.546 4.105 17.912.623 5.272-3.276 8.33-9.766 7.325-15.916-.904-6.241-5.79-11.7-11.95-13.143A16.082 16.082 0 0015.97.04zm-.181 1.724c.115 0 .23 0 .347.003 6.625-.066 12.823 5.149 13.89 11.69 1.13 5.91-1.908 12.349-7.262 15.138-5.473 3.013-12.866 1.884-17.116-2.726C1.291 21.372.444 13.914 3.802 8.602c2.493-4.112 7.169-6.819 11.987-6.838zm.283 1.554c-.117 0-.234.002-.351.005-6.1 0-11.691 5.049-12.346 11.114-.78 5.684 2.795 11.612 8.218 13.52 5.139 1.943 11.416.101 14.624-4.38 3.461-4.583 3.262-11.538-.596-15.831-2.36-2.747-5.924-4.423-9.549-4.428zm-.078 1.695c.078 0 .156 0 .234.003 5.4 0 10.321 4.556 10.734 9.942.563 5.13-2.958 10.364-7.971 11.678-4.832 1.41-10.457-.935-12.746-5.446-2.463-4.559-1.2-10.795 3.014-13.883a11.072 11.072 0 016.735-2.294zm-.137 3.42c-2.965.02-5.792 1.968-6.884 4.722-1.137 2.693-.509 6.007 1.536 8.096 1.988 2.14 5.263 2.929 8.007 1.926 2.875-.98 4.987-3.824 5.063-6.865.154-2.954-1.622-5.875-4.295-7.13a7.545 7.545 0 00-3.427-.75zm.27 1.381c2.708.013 5.249 2.014 5.88 4.652.704 2.576-.481 5.512-2.788 6.862-2.356 1.478-5.677 1.084-7.611-.918-2.042-1.97-2.405-5.376-.839-7.738 1.11-1.762 3.146-2.877 5.229-2.857h.13zm1.831 1.764l-2.072 3.76c-.64.068-.792 1.039-.202 1.298.39.27.696-.18 1.051-.164h3.168v-.864h-3.18l1.992-3.612-.757-.418z"}));function PH(){return PH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},PH.apply(null,arguments)}var vwe=({styles:n={},...t})=>Oe_createElement("svg",PH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.848.001C8.113-.093.931 6.281.125 13.983c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.207C29.105 4.938 23.55.48 17.367.06A16.448 16.448 0 0015.848 0v.001zm.293 1.727c7.113-.099 13.662 5.97 14.077 13.08.56 6.299-3.516 12.735-9.582 14.679-5.798 2.004-12.806-.12-16.283-5.237C.717 19.159.874 11.638 5.016 6.876 7.722 3.638 11.902 1.63 16.14 1.728zm-.415 1.555C9.157 3.258 3.256 9.156 3.278 15.729c-.16 5.965 4.365 11.725 10.293 12.737 5.409 1.065 11.37-1.744 13.775-6.753 2.534-4.986 1.386-11.627-2.953-15.251-2.364-2.077-5.512-3.27-8.667-3.18zm.507 1.692c5.82-.026 11.013 5.318 10.79 11.143-.024 5.3-4.313 10.267-9.636 10.803-5.075.667-10.426-2.588-11.885-7.553-1.535-4.744.494-10.46 4.925-12.885a11.072 11.072 0 015.806-1.508z"}));function DH(){return DH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},DH.apply(null,arguments)}function kH(){return kH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},kH.apply(null,arguments)}function MH(){return MH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},MH.apply(null,arguments)}function AH(){return AH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},AH.apply(null,arguments)}function IH(){return IH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},IH.apply(null,arguments)}function RH(){return RH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},RH.apply(null,arguments)}function NH(){return NH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},NH.apply(null,arguments)}function LH(){return LH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},LH.apply(null,arguments)}function FH(){return FH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},FH.apply(null,arguments)}function BH(){return BH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},BH.apply(null,arguments)}function jH(){return jH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},jH.apply(null,arguments)}function VH(){return VH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},VH.apply(null,arguments)}function $H(){return $H=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},$H.apply(null,arguments)}function zH(){return zH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},zH.apply(null,arguments)}function HH(){return HH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},HH.apply(null,arguments)}function UH(){return UH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},UH.apply(null,arguments)}function qH(){return qH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},qH.apply(null,arguments)}function WH(){return WH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},WH.apply(null,arguments)}function GH(){return GH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},GH.apply(null,arguments)}function KH(){return KH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},KH.apply(null,arguments)}function YH(){return YH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},YH.apply(null,arguments)}function XH(){return XH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},XH.apply(null,arguments)}function ZH(){return ZH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},ZH.apply(null,arguments)}function QH(){return QH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},QH.apply(null,arguments)}function JH(){return JH=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},JH.apply(null,arguments)}function eU(){return eU=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},eU.apply(null,arguments)}function tU(){return tU=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},tU.apply(null,arguments)}function nU(){return nU=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},nU.apply(null,arguments)}function rU(){return rU=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},rU.apply(null,arguments)}function iU(){return iU=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},iU.apply(null,arguments)}function sU(){return sU=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},sU.apply(null,arguments)}function oU(){return oU=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},oU.apply(null,arguments)}function aU(){return aU=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},aU.apply(null,arguments)}var bwe=({styles:n={},...t})=>Oe_createElement("svg",aU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M5.637 3A5.644 5.644 0 000 8.637v15.417a5.644 5.644 0 005.637 5.637h20.726A5.644 5.644 0 0032 24.054V8.637A5.644 5.644 0 0026.363 3H5.637zm0 1.778h20.726a3.83 3.83 0 013.859 3.859v15.417a3.83 3.83 0 01-3.859 3.858h-4.201V16.695H9.838v11.217H5.637a3.83 3.83 0 01-3.859-3.858V8.637a3.83 3.83 0 013.859-3.859zm5.33 13.046h10.066v10.065H10.967V17.824zm4.189 1.431V22.06H12.35v1.689h2.804V26.554h1.69V23.749h2.804V22.06h-2.804V19.255h-1.69z"}));function lU(){return lU=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},lU.apply(null,arguments)}var _we=({styles:n={},...t})=>Oe_createElement("svg",lU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M5.636 3A5.642 5.642 0 000 8.636v15.418a5.643 5.643 0 005.636 5.636h20.728A5.643 5.643 0 0032 24.054V8.636A5.642 5.642 0 0026.364 3H5.636zm0 1.778h20.728a3.83 3.83 0 013.858 3.858v15.418a3.83 3.83 0 01-3.858 3.858h-4.203V16.723H9.84v11.189H5.636a3.83 3.83 0 01-3.858-3.858V8.636a3.83 3.83 0 013.858-3.858zm5.331 13.074h10.066v10.06H10.967v-10.06zm1.336 3.996v1.711h7.394v-1.71h-7.394z"}));function cU(){return cU=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},cU.apply(null,arguments)}function uU(){return uU=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},uU.apply(null,arguments)}function dU(){return dU=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},dU.apply(null,arguments)}function pU(){return pU=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},pU.apply(null,arguments)}var t5t={Association:({styles:n={},...t})=>Oe_createElement("svg",Rz({width:"32",height:"32",xmlns:"http://www.w3.org/2000/svg"},t),Oe_createElement("path",{stroke:"#000",strokeWidth:"2",fill:"none",strokeDasharray:"3.3,6",strokeLinecap:"square",d:"M1.5 30.5l29-29"})),BusinessRuleTask:({styles:n={},...t})=>Oe_createElement("svg",Nz({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zM5.296 7.398v12.665h16.87V7.398H5.296zm.718 4.386h15.433v3.44H9.985v-3.432h-.719v3.431H6.014v-3.44zm0 4.158h3.252v3.403H6.014v-3.403zm3.97 0h11.463v3.403H9.985v-3.403z"}),Oe_createElement("path",{d:"M6.079 8.209v3.587H21.44V8.209z"})),CallActivity:({styles:n={},...t})=>Oe_createElement("svg",Lz({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M24.978 3c3.761 0 6.89 2.979 7.018 6.695l.004.238V22.4c0 3.747-3.05 6.804-6.783 6.93l-.24.003H7.023c-3.761 0-6.89-2.978-7.018-6.695L0 22.4V9.933C0 6.187 3.05 3.13 6.783 3.004L7.023 3h17.955zm0 3.667H7.022c-1.842 0-3.255 1.344-3.35 3.079l-.005.187V22.4c0 1.761 1.35 3.167 3.16 3.262l.195.005L10 25.666V15h12v10.666h2.978c1.842 0 3.255-1.344 3.35-3.079l.005-.187V9.933c0-1.761-1.35-3.166-3.16-3.261l-.195-.005zm-3.732 9.087H10.754v9.912h10.491v-9.912zm-4.475 1.817v2.658h2.658v1.542H16.77v2.658H15.23V21.77H12.57V20.23h2.658V17.57h1.542z"})),Collaboration:({styles:n={},...t})=>Oe_createElement("svg",Fz({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("g",{fillRule:"evenodd"},Oe_createElement("path",{fillRule:"nonzero",d:"M0 0v8.62h32V0H0zm1.655 7.054v-5.37h28.62v5.37H1.656zM0 23.38V32h32v-8.62H0zm1.655 7.054v-5.37h28.62v5.37H1.656z"}),Oe_createElement("path",{d:"M24 8l4 7h-8l4-7zm0 2l-2.28 4h4.56L24 10zM23.5 21h1v3h-1zM23.5 15h1v3h-1zM8 24l-4-7h8l-4 7zm0-2l2.28-4H5.72L8 22zM7.5 8h1v3h-1zM7.5 14h1v3h-1z"}))),ConditionalFlow:({styles:n={},...t})=>Oe_createElement("svg",Bz({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M32 .041S20.42 5.95 14.537 8.713c1.26 1.15 2.432 2.392 3.648 3.588-5.703 5.78-3.15 3.303-8.087 8.316l-8.472 1.377L0 32l10.006-1.626.098-.598 1.279-7.873c4.975-5.052 2.403-2.555 8.118-8.346 1.218 1.214 2.43 2.435 3.648 3.648C26.29 11.018 32 .041 32 .041zM9.603 22.397L8.54 28.91 2.03 29.97l1.061-6.515 6.512-1.058z"})),SequenceFlow:({styles:n={},...t})=>Oe_createElement("svg",jz({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M32 .06S20.33 6.014 14.403 8.798c1.27 1.16 2.451 2.41 3.676 3.616L0 30.734 1.325 32l18.08-18.32c1.227 1.223 2.448 2.453 3.676 3.676C26.247 11.12 32 .06 32 .06z"})),DataInput:({styles:n={},...t})=>Oe_createElement("svg",$z({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M20.833 0H3.488v32H28V7.36L20.833 0zm-2.105 1.818v7.507h7.454v20.857H5.306V1.818h13.422zm1.818.493l5.06 5.196h-5.06V2.311zm-9.182.86v3.744H7.081v3.222h4.283v3.743l5.7-5.354-5.7-5.354zm.808 1.868l3.711 3.487-3.71 3.487V9.329H7.888V7.723h4.283V5.039z"})),DataInputAssociation:JEe,DataOutput:({styles:n={},...t})=>Oe_createElement("svg",Hz({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M20.833 0H3.488v32H28V7.36L20.833 0zm-2.105 1.818v7.507h7.454v20.857H5.306V1.818h13.422zm1.818.493l5.06 5.196h-5.06V2.311zm-9.182.86v3.744H7.081v3.222h4.283v3.743l5.7-5.354-5.7-5.354z"})),DataOutputAssociation:JEe,DataObjectReference:({styles:n={},...t})=>Oe_createElement("svg",zz({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M21.345 0H4v32h24.512V7.36L21.345 0zM19.24 1.818v7.507h7.454v20.857H5.818V1.818H19.24zm1.818.493l5.06 5.196h-5.06V2.311z"})),DataStoreReference:({styles:n={},...t})=>Oe_createElement("svg",Uz({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M16.008 1c-3.712 0-7.417.306-10.319.939-1.45.316-2.7.71-3.68 1.226C1.065 3.662.297 4.304.061 5.23a.823.823 0 00-.035.15L0 5.502l.017.084c-.012 7.41 0 14.46 0 22.08l.017.082c.203.985.995 1.656 1.975 2.172.98.517 2.23.91 3.68 1.226 2.902.633 6.607.94 10.319.94 3.711 0 7.416-.307 10.318-.94 1.451-.316 2.701-.71 3.68-1.226.98-.516 1.772-1.187 1.975-2.172l.017-.082V5.541a.825.825 0 000-.106v-.016l-.002-.013a.823.823 0 00-.046-.197c-.244-.916-1.007-1.55-1.943-2.044-.98-.516-2.23-.91-3.68-1.226C23.423 1.306 19.718 1 16.006 1zm0 1.646c3.62 0 7.245.308 9.968.901 1.36.297 2.497.67 3.263 1.074.612.323.932.643 1.063.882-.131.24-.451.56-1.063.882-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.901-1.361-.297-2.497-.67-3.264-1.074-.611-.322-.931-.642-1.062-.882.13-.24.451-.56 1.062-.882.767-.403 1.903-.777 3.264-1.074 2.723-.593 6.348-.9 9.968-.9zM1.664 7.647c.112.067.227.132.345.194.98.517 2.23.91 3.68 1.226 2.902.633 6.607.94 10.319.94 3.711 0 7.416-.307 10.318-.94 1.451-.316 2.701-.71 3.68-1.226.119-.062.234-.127.346-.194v1.93c-.08.245-.398.619-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.9-1.361-.298-2.497-.671-3.264-1.075-.714-.376-1.032-.75-1.112-.995v-1.93zm0 4.187c.112.067.227.132.345.195.98.516 2.23.91 3.68 1.226 2.902.632 6.607.938 10.319.938 3.711 0 7.416-.306 10.318-.938 1.451-.317 2.701-.71 3.68-1.226.119-.063.234-.128.346-.195v1.93c-.08.245-.398.619-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.9-1.361-.298-2.497-.67-3.264-1.075-.714-.376-1.032-.75-1.112-.995v-1.93zm0 4.188c.112.067.227.131.345.194.98.516 2.23.91 3.68 1.226 2.902.633 6.607.939 10.319.939 3.711 0 7.416-.306 10.318-.94 1.451-.316 2.701-.709 3.68-1.225.119-.063.234-.127.346-.194V27.47c-.08.245-.398.618-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.9-9.968.9-3.62 0-7.245-.306-9.968-.9-1.361-.297-2.497-.67-3.264-1.074-.714-.377-1.032-.75-1.112-.995V16.022z"})),DefaultFlow:({styles:n={},...t})=>Oe_createElement("svg",qz({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M32 .06S20.33 6.014 14.403 8.798c1.27 1.16 2.451 2.41 3.676 3.616L6.84 23.804H.046v1.755h5.063L0 30.735 1.325 32l6.357-6.441h7.145v-1.756H9.414l9.99-10.123c1.228 1.223 2.45 2.453 3.677 3.676C26.247 11.12 32 .06 32 .06z"})),CancelEndEvent:({styles:n={},...t})=>Oe_createElement("svg",Wz({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-3.955 3.918L8.94 12.072l3.985 3.985-3.913 3.913 3.048 3.047 3.913-3.913 3.987 3.987 3.096-3.096-3.987-3.987 3.913-3.913-3.047-3.048-3.913 3.913-3.985-3.985z"})),CompensateEndEvent:({styles:n={},...t})=>Oe_createElement("svg",Gz({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-.56 5.744l-7.407 5.23 7.408 5.234v-5.057c2.384 1.687 4.771 3.371 7.157 5.057V10.801l-7.157 5.054v-5.054z"})),ErrorEndEvent:({styles:n={},...t})=>Oe_createElement("svg",Kz({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm6.132 4.166l-3.633 7.363-4.516-5.874-4.102 12.131 4.599-5.91 4.743 5.427 2.909-13.137z"})),EscalationEndEvent:({styles:n={},...t})=>Oe_createElement("svg",Yz({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 3.9c-1.672 4.653-2.733 9.5-4.406 14.153 1.535-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.497-4.71-2.91-9.445-4.406-14.155z"})),LinkEndEvent:({styles:n={},...t})=>Oe_createElement("svg",Xz({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.532 18.532 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm1.78 4.065v3.555H9.779v6.713h7.994v3.554l5.828-6.91-5.828-6.912z"})),MessageEndEvent:({styles:n={},...t})=>Oe_createElement("svg",Zz({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.532 18.532 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-5.91 5.448l6.041 4.9 6.04-4.9H10.084zm-1.34 1.137v9.92h14.513v-9.718l-7.132 5.786-7.381-5.988z"})),MultipleEndEvent:({styles:n={},...t})=>Oe_createElement("svg",Qz({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.529 18.529 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.011 3.039l-7.619 5.53 2.91 8.95h9.418l2.91-8.95-7.619-5.53z"})),EndEvent:({styles:n={},...t})=>Oe_createElement("svg",Jz({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.84.042C8.654-.01 1.913 5.437.4 12.454-1.057 18.62 1.554 25.495 6.784 29.09c5.076 3.636 12.31 3.92 17.59.544 5.309-3.251 8.435-9.744 7.445-15.921C30.91 7.307 25.795 1.738 19.442.422a16.064 16.064 0 00-3.602-.38zm.382 5.01c5.28-.017 10.13 4.353 10.669 9.61.687 5.025-2.552 10.281-7.423 11.792-4.754 1.617-10.486-.447-12.962-4.856-2.74-4.575-1.574-11.094 2.768-14.27a11.05 11.05 0 016.948-2.276z"})),SignalEndEvent:({styles:n={},...t})=>Oe_createElement("svg",eH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 3.492c-2.261 4.07-4.532 8.136-6.797 12.204h13.595L15.999 8.55z"})),TerminateEndEvent:({styles:n={},...t})=>Oe_createElement("svg",tH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 2.859c-5.264-.2-9.495 5.551-7.755 10.516 1.366 5.085 8.108 7.436 12.339 4.301 4.455-2.807 4.708-9.943.462-13.058A8.128 8.128 0 0016 7.915z"})),EventSubProcess:({styles:n={},...t})=>Oe_createElement("svg",nH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M7.295 4.78h1.779V3.003h-1.78V4.78zm3.558 0h1.779V3.003h-1.78V4.78zm3.557 0h1.78V3.003h-1.78V4.78zm3.558 0h1.78V3.003h-1.78V4.78zm3.558 0h1.779V3.003h-1.779V4.78zm3.558 0c.55.014 1.106-.034 1.654.045l.245-1.762c-.629-.096-1.266-.05-1.9-.061V4.78zM5.732 3.004a5.933 5.933 0 00-.915.093c.111.582.226 1.164.315 1.75.358-.101.947.098.746-.483-.096-.382.164-1.208-.146-1.36zm22.372 2.281c.427.234.812.547 1.13.915.42-.4 1.002-.777 1.33-1.18a5.863 5.863 0 00-1.593-1.289l-.867 1.554zm-25.27-1.44c-.587.354-1.11.811-1.539 1.345.47.333.96.86 1.417 1.077.299-.362.66-.673 1.065-.913-.328-.493-.55-1.055-.944-1.509zM30.515 7.26c-.563.046-.557.342-.378.784.154.25-.097.862.25.85.525-.023 1.14.043 1.612-.032a5.891 5.891 0 00-.362-2.027l-1.122.425zM.268 7.114A6.042 6.042 0 000 9.052h1.78c-.013-.5.047-1.003.208-1.478L.296 7.027l-.026.079-.002.008zM30.22 12.45H32v-1.779h-1.779v1.779zm-30.22.16h1.78v-1.779H0v1.78zm30.22 3.398H32v-1.78h-1.779v1.78zm-30.22.16h1.78v-1.779H0v1.779zm30.22 3.398H32v-1.78h-1.779v1.78zm-30.22.16h1.78v-1.78H0v1.78zm30.22 3.397H32v-1.779h-1.779v1.78zm-30.22.16h1.78v-1.778H0v1.778zm30.137 1.47a4.059 4.059 0 01-.522 1.32c.506.283 1.046.715 1.53.908a5.836 5.836 0 00.744-1.918c-.576-.094-1.209-.264-1.752-.31zm-29.984.51c.157.676.435 1.325.82 1.904l1.486-.977a4.065 4.065 0 01-.577-1.347l-1.73.42zm28.427 1.943c-.371.277-.79.49-1.234.627l.548 1.693a5.84 5.84 0 001.835-.96l-1.082-1.412-.066.05-.001.002zm-26.164 1.47c.567.413 1.21.722 1.886.907.14-.569.343-1.175.444-1.722a4.062 4.062 0 01-1.283-.624l-1.047 1.438zm3.88 1.119h1.779v-1.78h-1.78v1.78zm3.55 0h1.787v-1.78H9.846v1.78zm3.565 0h1.78v-1.78h-1.78v1.78zm3.558 0h1.78v-1.78h-1.78v1.78zm3.451 0h1.743v-1.78h-1.743v1.78zm3.665 0h1.779v-1.78h-1.78v1.78zm-1.922-.545V16.776H9.846V29.25h12.318zM10.967 17.905h10.068V27.97H10.967V17.905zm1.336 3.998v1.711h7.396v-1.711h-7.396z",opacity:".97"})),ComplexGateway:({styles:n={},...t})=>Oe_createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm-.327 6.79v.007l-.145.027-.118.08-.083.123-.028.145v4.954L11.793 10.8l-.125-.08-.14-.029-.144.027-.122.082-.46.46-.085.125-.026.142.028.14.08.125 3.505 3.505H9.347l-.001-.002-.145.032-.118.08-.083.122-.028.146v.652l.029.147.082.119.12.08.144.032h4.956L10.8 20.207v-.001l-.084.124-.026.142.028.14.08.124.46.461.126.082.14.029.143-.027.124-.084L15.3 17.69v4.964-.001l.028.147.082.12.12.08.144.031h.652l.148-.03.118-.08.083-.12.028-.146v-4.962l3.505 3.505.126.082.14.027.142-.027.124-.084.461-.46.083-.123s.028-.144.027-.146l-.028-.14-.082-.126-3.496-3.496h4.948l.148-.03.119-.08.082-.12.028-.147v-.652l-.028-.145-.083-.122-.119-.08s-.147-.033-.147-.031h-4.964l3.512-3.512.082-.122.029-.144-.028-.14-.084-.124-.46-.461-.123-.082-.14-.027-.145.027-.122.082-3.507 3.507V9.348l-.028-.146-.082-.122-.12-.08-.147-.029h-.652z"})),EventBasedGateway:({styles:n={},...t})=>Oe_createElement("svg",iH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M16 0a1.29 1.29 0 00-.918.373L.371 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.915.372A1.294 1.294 0 0016 0zm-.002 2.181l13.821 13.821-13.821 13.821-13.821-13.82L15.998 2.18zm0 5.876l-.254.185-7.377 5.355 2.915 8.964h9.433l2.915-8.964-7.631-5.54zm0 1.07l6.614 4.8-2.526 7.769h-8.175l-2.526-7.768 6.614-4.802z"})),ExclusiveGateway:({styles:n={},...t})=>Oe_createElement("svg",lH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M16 0a1.29 1.29 0 00-.918.373L.371 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.915.372A1.294 1.294 0 0016 0zm-.002 2.181l13.821 13.821-13.821 13.821-13.821-13.82L15.998 2.18zm-5.162 7.69l-.166.032-.141.096-.532.532s-.097.142-.097.144l-.03.164.032.162.093.144 4.857 4.858-4.855 4.855v-.001L9.9 21l-.03.164.032.162s.093.142.093.144l.531.532.146.095.162.032.164-.03.144-.097 4.855-4.856 4.857 4.857.145.095.162.032.164-.03.144-.097.531-.532.095-.14.033-.168-.033-.162-.095-.146L17.144 16 22 11.144l.095-.14.033-.166-.033-.163-.097-.144-.532-.532-.14-.095-.163-.032-.166.032-.141.095L16 14.855l-4.858-4.858v-.002l-.144-.092-.162-.032z"})),Gateway:({styles:n={},...t})=>Oe_createElement("svg",sH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.373a1.313 1.313 0 00-1.833 0L.373 15.084zm1.806.918L16 2.182l13.821 13.82L16 29.823 2.179 16.003z"})),InclusiveGateway:({styles:n={},...t})=>Oe_createElement("svg",oH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm0 6.379a7.447 7.447 0 00-7.44 7.441A7.447 7.447 0 0016 23.443 7.447 7.447 0 0023.443 16a7.447 7.447 0 00-7.441-7.441zm0 .825a6.61 6.61 0 016.617 6.616A6.61 6.61 0 0116 22.618 6.61 6.61 0 019.385 16 6.61 6.61 0 0116 9.385z"})),ParallelGateway:({styles:n={},...t})=>Oe_createElement("svg",aH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm-.377 5.708l-.168.032-.136.092-.096.14-.032.168v6.868h-6.87l-.002-.002-.166.037-.137.092v-.002l-.095.141-.033.167v.753s.032.169.034.17l.094.138.138.092.167.036h6.87v6.867l-.001-.001.033.17.095.138.138.092s.166.035.167.037h.752l.17-.036.137-.092.095-.137.033-.17v-6.867h6.868l.17-.035.137-.092.095-.137.033-.17v-.753s-.033-.165-.032-.167l-.096-.14-.138-.093s-.17-.037-.17-.035H16.81V8.323l-.033-.168-.094-.14-.138-.092-.17-.034h-.752z"})),Group:({styles:n={},...t})=>Oe_createElement("svg",cH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M6.34.016c-2.333.025-4.684 1.77-5.29 4.17C.608 5.848.88 7.608.804 9.314v2.922h2.041c.038-2.332-.076-4.673.062-7C3.14 3.355 4.869 1.938 6.643 2.04h8.956V.009c-3.086 0-6.173-.02-9.258 0v.007zm13.094 2.023h1.92V.009h-1.92v2.03zm5.756 0c1.265-.069 2.66.045 3.602 1.055 1.036.983 1.201 2.523 1.122 3.91v6.313h2.078c-.03-2.677.062-5.36-.047-8.032-.17-2.743-2.62-5.111-5.215-5.236-.511-.064-1.027-.02-1.54-.033v2.023zM.803 18.319h2.041v-2.026H.804v2.026zm29.11 1.084h2.08v-2.03h-2.08v2.03zM.804 26.148c.004 2.218 1.393 4.366 3.313 5.28 1.728.853 3.681.448 5.521.544.43-.112 1.29.231 1.435-.183v-1.847c-1.788-.043-3.584.094-5.365-.082-1.67-.354-2.919-2.048-2.863-3.844v-3.644H.804v3.777zm29.11-.068c.04 1.961-1.508 3.787-3.381 3.842-1.954.06-3.914.02-5.87.026v2.03c2.118-.042 4.242.08 6.355-.063 2.524-.264 4.818-2.644 4.94-5.323.08-1.039.014-2.085.035-3.126h-2.078v2.613zm-15.006 5.898h1.92v-2.03h-1.92v2.03z"})),CancelIntermediateCatchEvent:ewe,CompensateIntermediateCatchEvent:twe,ConditionalIntermediateCatchEvent:nwe,ErrorIntermediateCatchEvent:rwe,EscalationIntermediateCatchEvent:iwe,LinkIntermediateCatchEvent:swe,MessageIntermediateCatchEvent:owe,MultipleIntermediateCatchEvent:awe,ConditionalIntermediateCatchEventNonInterrupting:lwe,EscalationIntermediateCatchEventNonInterrupting:cwe,MessageIntermediateCatchEventNonInterrupting:uwe,MultipleIntermediateCatchEventNonInterrupting:dwe,ParallelIntermediateCatchEventNonInterrupting:pwe,SignalIntermediateCatchEventNonInterrupting:fwe,TimerIntermediateCatchEventNonInterrupting:hwe,ParallelMultipleIntermediateCatchEvent:mwe,SignalIntermediateCatchEvent:gwe,TimerIntermediateCatchEvent:ywe,IntermediateThrowEvent:vwe,CompensateIntermediateThrowEvent:({styles:n={},...t})=>Oe_createElement("svg",DH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm-.56 5.772l-7.408 5.231 7.409 5.234v-5.057c2.385 1.687 4.771 3.371 7.157 5.057V10.747l-7.157 5.055v-5.055z"})),EscalationIntermediateThrowEvent:({styles:n={},...t})=>Oe_createElement("svg",kH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.927c-1.672 4.654-2.734 9.502-4.406 14.155 1.534-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.496-4.71-2.91-9.446-4.406-14.156z"})),LinkIntermediateThrowEvent:({styles:n={},...t})=>Oe_createElement("svg",MH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm1.78 4.093v3.555H9.785v6.714h7.994v3.554l5.829-6.911-5.83-6.912z"})),MessageIntermediateThrowEvent:({styles:n={},...t})=>Oe_createElement("svg",AH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm-5.91 5.475l6.04 4.901 6.042-4.9H10.088zm-1.341 1.138v9.921h14.514V11.79l-7.132 5.787-7.382-5.99z"})),MultipleIntermediateThrowEvent:({styles:n={},...t})=>Oe_createElement("svg",IH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.073l-7.62 5.532 2.91 8.95h9.42l2.91-8.95-7.62-5.532z"})),SignalIntermediateThrowEvent:({styles:n={},...t})=>Oe_createElement("svg",RH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.52c-2.261 4.07-4.533 8.136-6.798 12.205h13.596L16.005 8.495z"})),Lane:({styles:n={},...t})=>Oe_createElement("svg",NH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M0 7v18.62h32V7H0zm1.655 17.056V8.684h28.62v15.372H1.656z"})),ManualTask:({styles:n={},...t})=>Oe_createElement("svg",LH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm4.43 1.328c-.222.005-.43.09-.606.203-.985.638-4.356 2.977-5.096 3.486-.67.46-1.12 1.153-1.38 1.974-.27.858-.235 1.793-.232 2.576.002.59.016 1.104.17 1.727.22.908.634 1.63 1.23 2.118.597.49 1.363.732 2.23.734 3.038.012 6.078.016 9.119 0 .327-.002.645-.127.848-.37.204-.241.287-.56.291-.914a1.732 1.732 0 00-.097-.625h.327c.335 0 .641-.11.852-.316.21-.206.317-.475.374-.754a1.783 1.783 0 00-.126-1.143 1.18 1.18 0 00.877-.521c.196-.306.257-.666.258-1.025.001-.375-.088-.738-.293-1.033a1.179 1.179 0 00-.958-.512h-.478c.108-.237.156-.505.155-.782-.003-.373-.098-.721-.316-.99a1.21 1.21 0 00-.943-.43c-2.273-.004-4.236.018-6.412.012l-.19-.001c.102-.104.202-.205.312-.314.337-.336.662-.652.83-.869.4-.516.46-1.215.123-1.729-.178-.272-.439-.456-.72-.494a.93.93 0 00-.148-.008zm.029.728l.022.001c.055.008.115.027.209.172.132.201.126.606-.09.884-.079.102-.431.465-.767.8-.337.334-.657.643-.815.836-.153.186-.096.338-.056.435.04.096.085.212.298.263.063.014.066.01.086.012l.066.003c2.429.027 4.986-.004 7.223-.003.194 0 .293.056.379.162.086.105.151.286.153.533 0 .257-.065.467-.155.59-.09.124-.183.182-.37.183-1.706-.001-3.411-.005-5.117-.009v.731c2.23.004 4.461.01 6.692.012.17 0 .265.06.361.2.096.138.164.364.163.615 0 .268-.058.501-.143.634-.085.132-.162.193-.385.195-2.32-.001-4.554-.006-6.688-.003v.73c1.905 0 3.809.003 5.713.001.194.005.316.09.416.26.102.173.151.442.093.728-.04.193-.102.313-.17.38-.067.065-.148.108-.343.108h-5.71l.002.734c1.445 0 2.89-.01 4.334-.001.162 0 .232.041.297.123.064.081.123.238.12.488-.003.244-.061.385-.12.455-.06.07-.127.11-.296.11-3.037.016-6.076.012-9.113 0-.735-.002-1.316-.196-1.77-.568-.454-.372-.793-.935-.986-1.728-.134-.546-.146-.978-.148-1.558-.003-.796-.018-1.664.199-2.354.222-.705.582-1.24 1.096-1.593.75-.515 4.14-2.866 5.079-3.474a.504.504 0 01.241-.087z"})),MessageFlow:({styles:n={},...t})=>Oe_createElement("svg",FH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M4.073 26.607l1.295 1.296L1.325 32l-.662-.633L0 30.735l4.073-4.128zm6.953-7.046l1.296 1.296L1.325 32l7.555-7.656-1.295-1.296 1.455-1.474 1.986-2.013zM32 .06s-2.699 5.189-5.417 10.462l-.326.633c-1.14 2.214-2.265 4.407-3.176 6.2-1.228-1.222-2.449-2.452-3.676-3.675l-3.57 3.618-1.297-1.296 3.541-3.588c-.98-.964-1.932-1.958-2.923-2.91l-.753-.706c2.68-1.258 6.533-3.165 9.95-4.876l.617-.309C28.838 1.673 32 .06 32 .06zm-4.126 4.06l-.015.007-.115.057-.048.024-.115.057L17.7 9.172l5.017 4.948 5.157-10z"})),Participant:({styles:n={},...t})=>Oe_createElement("svg",BH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M0 5v22.069h32V5H0zm30.276 1.684v18.82H6.62V6.684h23.655zm-28.62 0h3.31v18.82h-3.31V6.684z"})),Process:({styles:n={},...t})=>Oe_createElement("svg",jH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{fillRule:"evenodd",d:"M16.177 0l.137.002c.452.009.9.037 1.342.082.346.036.62.303.68.646l.437 2.536c.055.319.296.57.608.655.986.269 1.923.653 2.796 1.14.28.155.624.145.885-.039l2.083-1.47a.775.775 0 01.937.022c.86.699 1.645 1.484 2.343 2.343.22.27.223.653.023.937l-1.439 2.038a.833.833 0 00-.031.896c.512.889.92 1.846 1.204 2.855a.833.833 0 00.653.601l2.435.42c.342.059.61.333.645.679a15.928 15.928 0 01.08 2.064l-.003.114c-.012.382-.038.76-.077 1.134a.775.775 0 01-.645.68l-2.396.412a.835.835 0 00-.656.61 12.511 12.511 0 01-1.2 2.917.832.832 0 00.034.892l1.396 1.978c.2.284.196.667-.023.936a16.104 16.104 0 01-2.343 2.343.775.775 0 01-.937.023l-1.99-1.404a.833.833 0 00-.88-.026c-.907.516-1.886.922-2.916 1.2a.833.833 0 00-.61.656l-.414 2.396a.775.775 0 01-.679.646 16.096 16.096 0 01-3.312 0 .775.775 0 01-.679-.646l-.423-2.452a.834.834 0 00-.598-.636 12.474 12.474 0 01-1.468-.514 12.49 12.49 0 01-1.417-.68.833.833 0 00-.878.03l-2.026 1.43a.775.775 0 01-.937-.023 16.069 16.069 0 01-2.342-2.342.774.774 0 01-.024-.936l1.402-1.986a.833.833 0 00.032-.896 12.507 12.507 0 01-1.214-2.911.833.833 0 00-.655-.606l-2.386-.412a.775.775 0 01-.646-.678 16.097 16.097 0 010-3.314.775.775 0 01.646-.678l2.386-.412a.833.833 0 00.655-.606 12.507 12.507 0 011.214-2.911.833.833 0 00-.032-.896L3.552 6.853a.774.774 0 01.023-.936 16.091 16.091 0 012.343-2.343.775.775 0 01.937-.023l2.03 1.433c.26.177.6.182.874.028.915-.512 1.88-.9 2.87-1.167a.833.833 0 00.612-.656l.424-2.46a.775.775 0 01.679-.645C14.845.032 15.348.004 15.85 0h.326zM16 6.4c-5.302 0-9.6 4.297-9.6 9.599 0 5.302 4.298 9.6 9.6 9.6s9.6-4.298 9.6-9.6-4.298-9.6-9.6-9.6zm-3 4.283c0-1.425 1.637-2.203 2.715-1.29l5.69 4.815c.794.672.794 1.91 0 2.583l-5.69 4.815c-1.078.913-2.715.134-2.715-1.29z"})),ReceiveTask:({styles:n={},...t})=>Oe_createElement("svg",VH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zM5.23 7.764v11.577h17.55V7.764H5.23zm1.816.758h13.917l-6.959 4.577-6.958-4.577zm-1.06.21l8.018 5.274 8.018-5.275v9.853H5.987V8.73z"})),ScriptTask:({styles:n={},...t})=>Oe_createElement("svg",$H({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm2.99 3.077l-.077.045-.026.015c-1.09.646-1.84 1.239-2.336 1.818-.496.579-.735 1.162-.742 1.725-.014 1.119.812 1.958 1.544 2.708.732.75 1.385 1.456 1.446 2.041.032.298-.039.598-.364 1.008-.324.408-.911.897-1.85 1.445l-1.388.808h8.56l.101-.059c.996-.58 1.667-1.116 2.094-1.655.429-.54.603-1.107.547-1.638-.11-1.052-.967-1.818-1.688-2.556-.721-.739-1.306-1.436-1.298-2.092.004-.331.132-.7.535-1.171.402-.47 1.08-1.02 2.119-1.636l1.362-.806h-8.54zm.241.867h5.271a6.83 6.83 0 00-1.113 1.01c-.496.58-.736 1.163-.743 1.726-.014 1.119.812 1.958 1.544 2.708.732.75 1.385 1.456 1.446 2.041.032.298-.039.598-.364 1.008-.312.393-.872.862-1.753 1.386H8.728c.367-.286.658-.566.88-.847.43-.54.604-1.107.548-1.638-.11-1.052-.968-1.818-1.688-2.556-.721-.739-1.306-1.435-1.298-2.092.004-.331.132-.7.534-1.171.389-.454 1.04-.984 2.021-1.575zm-1.233 1.48v.4h4.12v-.4h-4.12zm-.154 2.158v.4H12.6v-.4H8.34zm1.931 2.158v.4h4.126v-.4H10.27zm.59 2.158v.4h4.276v-.4h-4.276z"})),SendTask:({styles:n={},...t})=>Oe_createElement("svg",zH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm-1.38 3.16l8.332 4.717L21.78 8.16H5.114zm.021 1.745v9.309H21.8V9.905l-8.353 4.655-8.31-4.655z"})),ServiceTask:({styles:n={},...t})=>Oe_createElement("svg",HH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm1.22 1.681V7.84c-.329.093-.63.223-.914.382l-.83-.82-1.554 1.561.83.82c-.16.288-.285.594-.372.911l-1.177.002v2.2l1.189-.004c.109.431.345.819.58 1.165v-1.898l-1.038.004v-.737l1.034-.002.058-.294c.084-.429.252-.838.493-1.203l.165-.25-.727-.718.523-.526.728.719.247-.165c.379-.25.793-.417 1.206-.505l.291-.06-.002-1.01h.75L9.19 8.417H11.16c-.185-.221-.951-.508-1.237-.588L9.93 6.68H7.713zm2.078 2.105l.003 1.158a4.19 4.19 0 00-.915.383l-.83-.821-1.553 1.562.83.82c-.16.288-.286.593-.373.91l-1.176.003v2.2l1.188-.004c.094.326.224.624.383.905l-.85.847 1.57 1.543.847-.843c.29.161.599.286.919.373v1.198c.756.006 1.56.003 2.206.003V17.81a4.19 4.19 0 00.915-.383l.847.835 1.554-1.56-.848-.836c.16-.288.286-.594.373-.912l1.152-.007V12.75l-1.165.007a4.09 4.09 0 00-.382-.905l.805-.807-1.57-1.546-.804.806a4.16 4.16 0 00-.915-.372l.007-1.147H9.792zm.732.73h.751l-.006 1.005.297.058c.43.085.844.252 1.21.492l.25.162.701-.704.528.52-.702.704.169.25c.248.374.412.779.505 1.196l.061.292 1.016-.006v.737l-1.01.006-.058.292c-.085.43-.252.838-.494 1.205l-.165.25.744.733-.523.525-.743-.734-.248.165c-.378.247-.789.418-1.203.503l-.294.058v1.067h-.745v-1.059l-.295-.057a3.395 3.395 0 01-1.21-.492l-.248-.162-.747.743-.528-.52.747-.744-.17-.25a3.546 3.546 0 01-.506-1.196l-.06-.291-1.04.004v-.738l1.034-.002.058-.294c.085-.428.252-.837.493-1.203l.165-.25-.726-.718.522-.526.728.72.248-.166a3.546 3.546 0 011.205-.504l.292-.06-.003-1.01zm.388 2.685a1.65 1.65 0 00-1.645 1.645c0 .904.74 1.645 1.645 1.645a1.65 1.65 0 001.645-1.645 1.65 1.65 0 00-1.645-1.645zm0 .73a.91.91 0 01.915.915.91.91 0 01-.915.914.91.91 0 01-.915-.914.91.91 0 01.915-.915z"})),CompensateStartEvent:({styles:n={},...t})=>Oe_createElement("svg",UH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm-.566 9.03l-7.415 5.235 7.415 5.238v-5.062c2.386 1.689 4.775 3.375 7.163 5.062V10.761l-7.163 5.058v-5.058zm-.866 1.666v7.13L9.51 15.993l5.052-3.565zm7.166 0v7.137l-5.052-3.568 5.052-3.569z"})),ConditionalStartEvent:({styles:n={},...t})=>Oe_createElement("svg",qH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M16 0C7.174 0 0 7.174 0 16s7.174 16 16 16 16-7.174 16-16S24.826 0 16 0zm0 1.73c7.892 0 14.27 6.378 14.27 14.27 0 7.891-6.379 14.27-14.27 14.27S1.73 23.891 1.73 16C1.73 8.108 8.108 1.73 16 1.73zm-5.362 7.523v13.493h10.724V9.253H10.638zm.863.866h8.995V21.88H11.501V10.12zm.928 1.324v.863h7.139v-.863h-7.139zm0 2.605v.867h7.139v-.867h-7.139zm0 3.01v.864h7.139v-.863h-7.139zm0 2.72v.863h7.139v-.863h-7.139z"})),ErrorStartEvent:({styles:n={},...t})=>Oe_createElement("svg",WH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.995.005C9.705-.08 3.643 3.968 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994.005zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626-4.814-3.838-6.538-10.939-4.067-16.57 2.14-5.205 7.515-8.774 13.147-8.708zm6.13 7.45l-3.635 7.37-4.52-5.88c-1.37 4.048-2.738 8.095-4.106 12.143l4.603-5.917 4.748 5.433 2.91-13.149zm-7.754 3.889l4.299 5.449 1.073-2.39-1.028 4.135-4.387-5.16-1.78 2.75 1.823-4.784z"})),EscalationStartEvent:({styles:n={},...t})=>Oe_createElement("svg",GH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm0 7.183c-1.674 4.658-2.736 9.509-4.41 14.166 1.535-1.526 2.874-3.236 4.41-4.763l4.41 4.763c-1.499-4.713-2.913-9.453-4.41-14.166zm.032 2.931c.822 2.588 1.598 5.19 2.42 7.778l-2.42-2.615c-.683.598-2.455 2.887-2.34 2.39.871-2.489 1.448-5.07 2.34-7.553z"})),MessageStartEvent:({styles:n={},...t})=>Oe_createElement("svg",KH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm-7.257 8.732v11.069h14.513v-11.07H8.738zm3.224 1.73h8.064c-1.428.878-2.857 2.807-4.285 3.018l-3.779-3.019zm9.562 1.017v6.593H10.465V13.21l5.528 4.417 5.53-4.418z"})),MultipleStartEvent:({styles:n={},...t})=>Oe_createElement("svg",YH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm0 6.328l-7.626 5.536c.97 2.986 1.942 5.971 2.913 8.957h9.426l2.912-8.957-7.625-5.536zm0 1.068l6.609 4.798-2.525 7.763H11.91l-2.524-7.763 6.609-4.798z"})),ConditionalStartEventNonInterrupting:({styles:n={},...t})=>Oe_createElement("svg",XH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M10.632 9.189V22.68h10.723V9.189H10.632zm.862.865h8.994v11.76H11.494v-11.76zm.928 1.324v.863h7.138v-.863h-7.138zm0 2.605v.866h7.138v-.866h-7.138zm0 3.01v.863h7.138v-.863h-7.138zm0 2.72v.862h7.138v-.863h-7.138zM16.12 0h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136-.109-.118-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006l-.216-.042-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006l-.006-.001-.22-.017-.005-.001h-.006L17.06.03h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012L16.132 0h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zM6.377 3.21l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1v.003l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114v-.008l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V15.95l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z"})),EscalationStartEventNonInterrupting:({styles:n={},...t})=>Oe_createElement("svg",ZH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M16 9.209c-1.674 4.655-2.735 9.504-4.408 14.16 1.534-1.526 2.873-3.235 4.407-4.761l4.408 4.76c-1.497-4.71-2.91-9.448-4.408-14.16zm.031 2.93c.822 2.586 1.598 5.187 2.42 7.774l-2.42-2.614c-.682.598-2.453 2.886-2.34 2.389.873-2.488 1.45-5.068 2.34-7.55zM16.132.364c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.564c-.734.078-1.196.762-1.735 1.206C3.552 6.02 2.55 7.511 1.681 9.053c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786A15.932 15.932 0 011.728 16a.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"})),MessageStartEventNonInterrupting:({styles:n={},...t})=>Oe_createElement("svg",QH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M8.746 10.393v11.064h14.506V10.393H8.746zm3.223 1.728h8.06c-1.428.879-2.856 2.807-4.283 3.018l-3.777-3.018zm9.557 1.018v6.59H10.473v-6.59l5.525 4.416 5.528-4.416zM16.132 0c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.2c-.734.078-1.196.762-1.735 1.206C3.552 5.656 2.55 7.147 1.681 8.69c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786a15.932 15.932 0 01-1.672-6.874.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"})),MultipleStartEventNonInterrupting:({styles:n={},...t})=>Oe_createElement("svg",JH({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M23.621 13.524L16 7.99l-7.622 5.534 2.911 8.952h9.422l2.911-8.952zm-1.016.33l-2.523 7.759h-8.165l-2.524-7.76L16 9.059l6.606 4.796zM16.132 0c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.2c-.734.078-1.196.762-1.735 1.206C3.552 5.656 2.55 7.147 1.681 8.69c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786a15.932 15.932 0 01-1.672-6.874.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"})),ParallelMultipleStartEventNonInterrupting:({styles:n={},...t})=>Oe_createElement("svg",eU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M13.503 9.016v4.428H9.075v4.98h4.428v4.428h4.98v-4.427h4.428v-4.981h-4.427V9.016h-4.981zm.83.83h3.32v4.428h4.428v3.32h-4.428v4.428h-3.32v-4.454H9.905v-3.294h4.428V9.846zM16.12 0h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136-.109-.118-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006l-.216-.042-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006l-.006-.001-.22-.017-.005-.001h-.006L17.06.03h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012L16.132 0h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zM6.377 3.21l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1v.003l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114v-.008l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V15.95l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z",opacity:".98"})),SignalStartEventNonInterrupting:({styles:n={},...t})=>Oe_createElement("svg",tU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M16.007 8.82L9.21 21.022h13.596L16.007 8.82zm0 1.775l5.328 9.563H10.68l5.327-9.563zM16.14.386c-1.571.236-4.195-.284-4.9 1.381.619 1.703 2.745.069 4.085.365 1.421-.13 2.84.2 4.235.259C21.27.784 18.19.344 17 .413a20.456 20.456 0 00-.86-.027zM25 3.162c-2.19.694.401 2.26 1.181 3.094 1.083 1.152 1.954 2.484 2.715 3.864 1.48 1.005 1.845-1.26.81-2.03-1.158-1.897-2.613-3.704-4.513-4.89l-.192-.038zm-18.438.423c-1.793.712-2.909 2.548-4.01 4.061-.773.814-2.211 3.653.005 3.211 1.123-1.469 1.87-3.306 3.267-4.614.664-.7 2.73-2.013.738-2.658zm24.57 11.072c-1.659.435-.468 2.667-.99 3.895a13.427 13.427 0 01-1.497 4.435c-.23 1.659 1.991 1.165 2.018-.199a14.277 14.277 0 001.254-7.552.865.865 0 00-.785-.579zm-30.18.666c-1.677.386-.633 2.667-.608 3.876.371 1.623.792 3.35 1.79 4.696 2.382.321.571-2.338.292-3.492a15.92 15.92 0 01-.684-4.39.877.877 0 00-.79-.69zm24.558 11.81c-1.755.865-3.303 2.266-5.274 2.765-1.162-.016-3.074 1.271-1.331 2.102 2.66-.447 5.163-1.733 7.236-3.445.472-.506.06-1.432-.631-1.421zm-19.151.043c-2.004.786.416 2.405 1.43 2.913 1.608.904 3.379 1.636 5.208 1.877 1.77-.804-.228-2.094-1.357-2.073-1.75-.537-3.403-1.396-4.798-2.586l-.227-.104-.256-.027z"})),TimerStartEventNonInterrupting:({styles:n={},...t})=>Oe_createElement("svg",nU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.991 8.7c-3.018-.042-5.92 1.925-7.03 4.725-1.138 2.695-.509 6.011 1.537 8.102 1.99 2.142 5.267 2.93 8.013 1.927 2.877-.98 4.99-3.826 5.067-6.87.153-2.956-1.624-5.88-4.299-7.135a7.551 7.551 0 00-3.288-.75zm0 1.383c2.758-.052 5.372 1.972 6.014 4.654.704 2.578-.482 5.516-2.79 6.867-2.358 1.48-5.682 1.085-7.617-.919-2.043-1.97-2.407-5.38-.84-7.743 1.11-1.764 3.149-2.88 5.233-2.86zm1.962 1.764l-2.074 3.762c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.182l1.993-3.614-.757-.418zM16.12.358h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136L19.823.9l-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006L19.135.64l-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006L17.512.42l-.22-.017-.005-.001h-.006l-.22-.015h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012l-.221-.003h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zm-18.458.426l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1V9.5l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114V16.5l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V16.308l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z"})),CancelBoundaryEvent:ewe,CompensateBoundaryEvent:twe,ConditionalBoundaryEvent:nwe,ErrorBoundaryEvent:rwe,EscalationBoundaryEvent:iwe,LinkBoundaryEvent:swe,MessageBoundaryEvent:owe,MultipleBoundaryEvent:awe,BoundaryEvent:vwe,ConditionalBoundaryEventNonInterrupting:lwe,EscalationBoundaryEventNonInterrupting:cwe,MessageBoundaryEventNonInterrupting:uwe,MultipleBoundaryEventNonInterrupting:dwe,ParallelBoundaryEventNonInterrupting:pwe,SignalBoundaryEventNonInterrupting:fwe,TimerBoundaryEventNonInterrupting:hwe,ParallelMultipleBoundaryEvent:mwe,SignalBoundaryEvent:gwe,TimerBoundaryEvent:ywe,StartEvent:({styles:n={},...t})=>Oe_createElement("svg",rU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.847.004C9.61-.016 3.624 4.014 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.101 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.268.403-6.228-3.26-12.441-8.87-15.154A15.924 15.924 0 0015.846.004zm.439 1.729c6.105.033 11.856 4.45 13.435 10.359 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.625-4.814-3.84-6.538-10.94-4.067-16.57 2.14-5.206 7.515-8.775 13.147-8.71.097-.001.194-.002.29-.001z"})),ParallelMultipleStartEvent:({styles:n={},...t})=>Oe_createElement("svg",iU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.847 0C9.61-.02 3.624 4.01 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.101 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.268.403-6.228-3.26-12.441-8.87-15.154A15.924 15.924 0 0015.846 0zm.439 1.729c6.105.033 11.856 4.45 13.435 10.359 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.625C2.101 23.17.377 16.07 2.848 10.44c2.134-5.2 7.522-8.78 13.147-8.71.097-.001.194-.002.29-.001zM13.504 9.08v4.427H9.077v4.98h4.427v4.427h4.98v-4.427h4.428v-4.98h-4.427V9.08h-4.98zm.83.83h3.32v4.427h4.428v3.32h-4.427v4.427h-3.32v-4.453H9.906v-3.294h4.427V9.91z"})),SignalStartEvent:({styles:n={},...t})=>Oe_createElement("svg",sU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M15.995.005C9.705-.08 3.643 3.968 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994.005zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626-4.814-3.838-6.538-10.939-4.067-16.57 2.14-5.205 7.515-8.774 13.147-8.708zm0 6.776L9.19 20.724H22.8L15.995 8.511zm0 1.777l5.332 9.572H10.662l5.333-9.572z"})),TimerStartEvent:({styles:n={},...t})=>Oe_createElement("svg",oU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M16 0C7.174 0 0 7.174 0 16s7.174 16 16 16 16-7.174 16-16S24.826 0 16 0zm0 1.73c7.892 0 14.27 6.378 14.27 14.27 0 7.891-6.379 14.27-14.27 14.27S1.73 23.891 1.73 16C1.73 8.108 8.108 1.73 16 1.73zm-.143 6.676c-2.967.02-5.797 1.97-6.89 4.727-1.138 2.695-.51 6.012 1.537 8.102 1.99 2.142 5.268 2.932 8.014 1.928 2.878-.98 4.992-3.827 5.068-6.87.153-2.957-1.624-5.881-4.3-7.137a7.552 7.552 0 00-3.43-.75zm.27 1.383c2.71.012 5.254 2.015 5.886 4.656.704 2.577-.482 5.517-2.791 6.867-2.358 1.48-5.682 1.085-7.618-.918-2.043-1.971-2.407-5.381-.84-7.745 1.11-1.763 3.15-2.88 5.234-2.86h.13zm1.833 1.765l-2.074 3.763c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.181l1.992-3.615-.757-.418z"})),CollapsedSubProcess:bwe,CollapsedAdHocSubProcess:bwe,ExpandedSubProcess:_we,ExpandedAdHocSubProcess:_we,Task:({styles:n={},...t})=>Oe_createElement("svg",cU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M6.494 2.667C2.916 2.667 0 5.57 0 9.142v13.383C0 26.097 2.916 29 6.494 29h19.012C29.084 29 32 26.097 32 22.525V9.142c0-3.572-2.916-6.475-6.494-6.475H6.494zm0 2h19.012c2.509 0 4.494 1.98 4.494 4.475v13.383C30 25.02 28.015 27 25.506 27H6.494C3.985 27 2 25.02 2 22.525V9.142c0-2.495 1.985-4.475 4.494-4.475z"})),TextAnnotation:({styles:n={},...t})=>Oe_createElement("svg",uU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M22.087 0v31.647H32v-1.788h-8.125V1.788H32V0h-9.913zm-2.924 13.999l-2.737 2.167 2.167 2.738 2.738-2.167-2.168-2.738zm-5.475 4.335L10.95 20.5l2.168 2.738 2.737-2.168-2.167-2.737zm-5.475 4.335l-2.738 2.167 2.168 2.738 2.737-2.168-2.167-2.737zm-5.476 4.335L0 29.17l2.167 2.738 2.738-2.168-2.168-2.737z"})),Transaction:({styles:n={},...t})=>Oe_createElement("svg",dU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{d:"M5.422 3A5.424 5.424 0 000 8.422v15.822a5.424 5.424 0 005.422 5.423h21.156A5.424 5.424 0 0032 24.244V8.422A5.424 5.424 0 0026.578 3H5.422zm0 1.244h21.156a4.155 4.155 0 014.178 4.178v15.822a4.155 4.155 0 01-4.178 4.178H5.422a4.155 4.155 0 01-4.178-4.178V8.422a4.155 4.155 0 014.178-4.178zm1.056 1.778a3.373 3.373 0 00-3.367 3.366v13.89a3.373 3.373 0 003.367 3.366h19.044a3.373 3.373 0 003.367-3.366V9.388a3.373 3.373 0 00-3.367-3.366H6.478zm0 1.245h19.044c1.187 0 2.122.935 2.122 2.121v13.89a2.104 2.104 0 01-2.122 2.122H6.478a2.104 2.104 0 01-2.122-2.122V9.388c0-1.186.935-2.121 2.122-2.121z"})),UserTask:({styles:n={},...t})=>Oe_createElement("svg",pU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},t),Oe_createElement("path",{fillRule:"evenodd",d:"M10.263 7.468c-1.698 0-2.912 1.305-2.915 2.791v.001c0 .45.121.924.311 1.352.138.309.308.593.516.82-1.235.423-2.683 1.119-3.414 2.49l-.04.075v4.44h11.083v-4.44l-.04-.074c-.72-1.352-2.136-2.047-3.36-2.471.597-.608.774-1.392.774-2.192-.004-1.487-1.218-2.792-2.915-2.792zm-1.16 1.583c.08 0 .165.003.26.008.757.045 1.012.181 1.207.31.196.13.334.252.851.268.404-.016.598-.087.737-.169.056-.033.103-.067.152-.1.128.275.197.578.198.893 0 .894-.154 1.52-.975 2.034l.08.604c.171.052.348.11.527.171.025.105.054.242.073.387.02.153.029.311.016.43a.422.422 0 01-.056.19c-.417.417-1.157.66-1.908.66-.75 0-1.49-.243-1.908-.66a.422.422 0 01-.056-.19 1.949 1.949 0 01.016-.43c.02-.146.049-.284.074-.388.177-.062.352-.118.521-.17l.048-.648a.616.616 0 00-.126-.118c-.183-.138-.405-.44-.562-.793-.157-.353-.254-.757-.254-1.08 0-.387.105-.758.297-1.079l.11-.04c.143-.046.339-.09.679-.09zm-1.448 4.304l-.002.014c-.025.185-.04.387-.018.589.021.202.074.42.248.593.595.594 1.494.857 2.382.857.889 0 1.788-.263 2.382-.857.174-.174.227-.391.249-.593a2.496 2.496 0 00-.018-.59l-.002-.01c.903.396 1.776.963 2.258 1.81v3.599H13.53v-2.538h-.67v2.538H7.651v-2.538h-.67v2.538H5.39v-3.599c.483-.849 1.359-1.416 2.264-1.813zM6.495 3C2.914 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.01C28.016 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5z"}))};function Ewe(n){const{type:t}=n;let i=wwe(t);const s=function i5t(n){const i=G(n).eventDefinitions;return i&&i[0]}(n);return s?(i=`${function s5t(n){return wwe(n.$type).replace("EventDefinition","")}(s)}${i}`,(T(n,"bpmn:StartEvent")&&!aoe(n)||T(n,"bpmn:BoundaryEvent")&&!function r5t(n){const t=G(n);return t&&!1!==t.cancelActivity}(n))&&(i=`${i}NonInterrupting`),i):(T(n,"bpmn:SubProcess")&&!T(n,"bpmn:Transaction")&&(i=Zs(n)?`Event${i}`:`${ar(n)&&!function l5t(n){return T(n&&(n.di||G(n).di),"bpmndi:BPMNPlane")}(n)?"Expanded":"Collapsed"}${i}`),function o5t(n){const t=G(n),i=G(n.source);return!(!T(n,"bpmn:SequenceFlow")||!i)&&i.default&&i.default===t&&(T(i,"bpmn:Gateway")||T(i,"bpmn:Activity"))}(n)&&(i="DefaultFlow"),function a5t(n){const t=G(n),i=G(n.source);return!(!T(n,"bpmn:SequenceFlow")||!i)&&t.conditionExpression&&T(i,"bpmn:Activity")}(n)&&(i="ConditionalFlow"),i)}const n5t=n=>(n||(n=t=>t),{getDocumentationRef:t=>{const i=xwe();if(i)return function c5t(n,t){const i=Cwe(n,t);return i&&i.documentationRef}(t,i)},getElementLabel:t=>T(t,"bpmn:Process")?G(t).name:Ja(t),getElementIcon:t=>{const i=Ewe(t),s=O("config.elementTemplateIconRenderer",!1),{iconProperty:o="zeebe:modelerTemplateIcon"}=s||{},a=G(t).get(o);return a?()=>L("img",{class:"bio-properties-panel-header-template-icon",width:"32",height:"32",src:a}):t5t[i]},getTypeLabel:t=>{const i=xwe();if(i){const o=Cwe(t,i);if(o&&o.name)return n(o.name)}const s=Ewe(t);return n(s.replace(/(\B[A-Z])/g," $1").replace(/(\bNon Interrupting)/g,"($1)"))}});function wwe(n){return n.split(":")[1]}function xwe(){return O("elementTemplates",!1)}function Cwe(n,t){return t.get(n)}function fU(){return fU=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},fU.apply(null,arguments)}var u5t=({styles:n={},...t})=>Oe_createElement("svg",fU({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"64",height:"64"},t),Oe_createElement("defs",null,Oe_createElement("rect",{id:"a",width:"57",height:"47",x:"3",y:"8",rx:"7"}),Oe_createElement("mask",{id:"b",width:"57",height:"47",x:"0",y:"0",fill:"#fff",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox"},Oe_createElement("use",{xlinkHref:"#a"}))),Oe_createElement("g",{fill:"none",fillRule:"evenodd"},Oe_createElement("path",{fill:"#818798",d:"M52 11a5 5 0 015 5v31a5 5 0 01-5 5H11a5 5 0 01-5-5V16a5 5 0 015-5h41zm0 2H11a3 3 0 00-2.995 2.824L8 16v31a3 3 0 002.824 2.995L11 50h41a3 3 0 002.995-2.824L55 47V16a3 3 0 00-2.824-2.995L52 13z"}),Oe_createElement("path",{fill:"#D5D7DD",d:"M16 24h31v6H16zM21 33h21v6H21z"}),Oe_createElement("use",{stroke:"#B9BCC6",strokeDasharray:"5 2",strokeWidth:"2",mask:"url(#b)",xlinkHref:"#a"})));function hU(){return hU=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},hU.apply(null,arguments)}var d5t=({styles:n={},...t})=>Oe_createElement("svg",hU({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"128",height:"64"},t),Oe_createElement("defs",null,Oe_createElement("path",{id:"a",d:"M9 9h110v47H9z"}),Oe_createElement("mask",{id:"b",width:"110",height:"47",x:"0",y:"0",fill:"#fff",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox"},Oe_createElement("use",{xlinkHref:"#a"}))),Oe_createElement("g",{fill:"none",fillRule:"evenodd"},Oe_createElement("path",{fill:"#818798",d:"M25 20.272L37.728 33 25 45.728 12.272 33 25 20.272zm0 2.829L15.1 33l9.9 9.9 9.9-9.9-9.9-9.9z"}),Oe_createElement("path",{fill:"#D5D7DD",d:"M17 47h16v6H17z"}),Oe_createElement("path",{fill:"#818798",d:"M35 32h27v2H35z"}),Oe_createElement("path",{fill:"#818798",d:"M60 30v6l6-3z"}),Oe_createElement("path",{fill:"#D5D7DD",d:"M80 34h21v6H80z"}),Oe_createElement("g",null,Oe_createElement("path",{fill:"#818798",d:"M111 12a5 5 0 015 5v31a5 5 0 01-5 5H70a5 5 0 01-5-5V17a5 5 0 015-5h41zm0 2H70a3 3 0 00-3 3v31a3 3 0 003 3h41a3 3 0 003-3V17a3 3 0 00-3-3z"}),Oe_createElement("path",{fill:"#D5D7DD",d:"M75 25h31v6H75z"})),Oe_createElement("use",{stroke:"#B9BCC6",strokeDasharray:"5 2",strokeWidth:"2",mask:"url(#b)",xlinkHref:"#a"})));const p5t=n=>(n||(n=t=>t),{getEmpty:()=>({text:n("Select an element to edit its properties."),icon:u5t}),getMultiple:()=>({text:n("Multiple elements are selected. Select a single element to edit its properties."),icon:d5t})});function f5t(n){const{element:t,injector:i,getProviders:s,layoutConfig:o,descriptionConfig:a,tooltipConfig:l,feelPopupContainer:c}=n,u=i.get("canvas"),d=i.get("elementRegistry"),p=i.get("eventBus"),f=i.get("translate"),[h,m]=Un({selectedElement:t}),g=h.selectedElement,y=D=>{if(!D)return;let I=D;I&&"label"===I.type&&(I=I.labelTarget),m({...h,selectedElement:I}),p.fire("propertiesPanel.updated",{element:I})};vn(()=>{const D=I=>{const{newSelection:k=[]}=I;if(k.length>1)return y(k);const F=k[0],M=u.getRootElement();(function h5t(n){return n&&(n.isImplicit||"__implicitroot"===n.id)})(M)||y(F||M)};return p.on("selection.changed",D),()=>{p.off("selection.changed",D)}},[]),vn(()=>{const D=I=>{const F=function m5t(n,t){return It(n,i=>i===t)}(I.elements,g);F&&function g5t(n,t){return n&&t.get(n.id)}(F,d)&&y(F)};return p.on("elements.changed",D),()=>{p.off("elements.changed",D)}},[g]),vn(()=>{const D=I=>{y(I.element)};return p.on("root.added",D),()=>{p.off("root.added",D)}},[g]),vn(()=>{const D=()=>{y(g)};return p.on("propertiesPanel.providersChanged",D),()=>{p.off("propertiesPanel.providersChanged",D)}},[g]),vn(()=>{const D=()=>{y(g)};return p.on("elementTemplates.changed",D),()=>{p.off("elementTemplates.changed",D)}},[g]);const v={selectedElement:g,injector:i,getService:(D,I)=>i.get(D,I)},_=s(g),E=Do(()=>ps(_,function(D,I){return Vt(g)?[]:I.getGroups(g)(D)},[]),[_,g]),[x,b]=Un(o||{}),w=wi(D=>{p.fire("propertiesPanel.layoutChanged",{layout:D})},[p]);return vn(()=>{const D=I=>{const{layout:k}=I;b(k)};return p.on("propertiesPanel.setLayout",D),()=>p.off("propertiesPanel.setLayout",D)},[p,b]),L(QEe.Provider,{value:v,children:L(PEe,{element:g,headerProvider:n5t(f),placeholderProvider:p5t(f),groups:E,layoutConfig:x,layoutChanged:w,descriptionConfig:a,descriptionLoaded:D=>{p.fire("propertiesPanel.descriptionLoaded",{description:D})},tooltipConfig:l,tooltipLoaded:D=>{p.fire("propertiesPanel.tooltipLoaded",{tooltip:D})},feelPopupContainer:c,eventBus:p})})}let v5t=(()=>{class n{constructor(i,s,o){const{parent:a,layout:l,description:c,tooltip:u,feelPopupContainer:d}=i||{};this._eventBus=o,this._injector=s,this._layoutConfig=l,this._descriptionConfig=c,this._tooltipConfig=u,this._feelPopupContainer=d,this._container=lr('<div style="height: 100%" class="bio-properties-panel-container"></div>');var p=s.get("commandStack",!1);p&&function _5t(n,t,i){function s(a){a.preventDefault(),a.stopPropagation()}function o(a){return sO(a)?(i.undo(),s(a)):oO(a)?(i.redo(),s(a)):void 0}t.on("keyboard.bind",function(){Xt.bind(n,"keydown",o)}),t.on("keyboard.unbind",function(){Xt.unbind(n,"keydown",o)})}(this._container,o,p),o.on("diagram.init",()=>{a&&this.attachTo(a)}),o.on("diagram.destroy",()=>{this.detach()}),o.on("root.added",f=>{const{element:h}=f;this._render(h)})}attachTo(i){if(!i)throw new Error("container required");i.get&&i.constructor.prototype.jquery&&(i=i.get(0)),"string"==typeof i&&(i=dn(i)),this.detach(),i.appendChild(this._container),this._eventBus.fire("propertiesPanel.attach")}detach(){const i=this._container.parentNode;i&&(i.removeChild(this._container),this._eventBus.fire("propertiesPanel.detach"))}registerProvider(i,s){s||(s=i,i=1e3),"function"==typeof s.getGroups?(this._eventBus.on("propertiesPanel.getProviders",i,function(o){o.providers.push(s)}),this._eventBus.fire("propertiesPanel.providersChanged")):console.error("Properties provider does not implement #getGroups(element) API")}setLayout(i){this._eventBus.fire("propertiesPanel.setLayout",{layout:i})}_getProviders(){const i=this._eventBus.createEvent({type:"propertiesPanel.getProviders",providers:[]});return this._eventBus.fire(i),i.providers}_render(i){const s=this._injector.get("canvas");i||(i=s.getRootElement()),!function b5t(n){return n&&(n.isImplicit||"__implicitroot"===n.id)}(i)&&(wf(L(f5t,{element:i,injector:this._injector,getProviders:this._getProviders.bind(this),layoutConfig:this._layoutConfig,descriptionConfig:this._descriptionConfig,tooltipConfig:this._tooltipConfig,feelPopupContainer:this._feelPopupContainer}),this._container),this._eventBus.fire("propertiesPanel.rendered"))}_destroy(){this._container&&(wf(null,this._container),this._eventBus.fire("propertiesPanel.destroyed"))}}return n.$inject=["config.propertiesPanel","injector","eventBus"],n})();const E5t={"properties-panel.multi-command-executor":(()=>{class n{constructor(i){this._commandStack=i}preExecute(i){const s=this._commandStack;se(i,function(o){s.execute(o.cmd,o.context)})}}return n.$inject=["commandStack"],n})()};function Swe(n,t){n.on("diagram.init",function(){se(E5t,function(i,s){t.registerHandler(s,i)})})}Swe.$inject=["eventBus","commandStack"];var x5t={__depends__:[{__init__:[Swe]},LEe,FEe],__init__:["propertiesPanel"],propertiesPanel:["type",v5t]};function g_(n){const{autoFocusEntry:t,element:i,getOptions:s}=n,o=s(i),a=c_(o);return vn(()=>{if(t&&a&&o.length>a.length){const l=dn(`[data-entry-id="${t}"]`),c=dn(".bio-properties-panel-input",l);c&&c.select()}},[o]),L(Kr,{...n})}function y_(n){return cp(n,"bpmn:ErrorEventDefinition")}function H0(n){const t=y_(n);return t&&t.get("errorRef")}function cp(n,t){return It(G(n).get("eventDefinitions")||[],function(o){return T(o,t)})}function x1(n){return T(n,"bpmn:ReceiveTask")?G(n):cp(n,"bpmn:MessageEventDefinition")}function C1(n){const t=x1(n);return t&&t.get("messageRef")}function Pwe(n){return cp(n,"bpmn:LinkEventDefinition")}function sd(n){return cp(n,"bpmn:SignalEventDefinition")}function mU(n){const t=sd(n);return t&&t.get("signalRef")}function vD(n){return cp(n,"bpmn:EscalationEventDefinition")}function v_(n){const t=vD(n);return t&&t.get("escalationRef")}function a5(n){return cp(n,"bpmn:CompensateEventDefinition")}function D5t(n){const{element:t}=n;return function T5t(n){return Kt(n,["bpmn:EndEvent","bpmn:IntermediateThrowEvent"])&&!!a5(n)}(t)?[{id:"waitForCompletion",component:k5t,isEdited:wc},{id:"activityRef",component:M5t,isEdited:fi}]:[]}function k5t(n){const{element:t}=n,i=O("commandStack"),s=O("translate"),o=a5(t);return ta({element:t,id:"waitForCompletion",label:s("Wait for completion"),getValue:()=>o.get("waitForCompletion"),setValue:c=>{i.execute("element.updateModdleProperties",{element:t,moddleElement:o,properties:{waitForCompletion:c}})}})}function M5t(n){const{element:t}=n,i=O("commandStack"),s=O("elementRegistry"),o=O("translate"),a=a5(t);return g_({element:t,id:"activityRef",label:o("Activity reference"),getValue:()=>{const d=function P5t(n){const t=a5(n);return t&&t.get("activityRef")}(t);return d&&d.get("id")},setValue:d=>{const p=d?G(s.get(d)):void 0;i.execute("element.updateModdleProperties",{element:t,moddleElement:a,properties:{activityRef:p}})},getOptions:()=>{let d=[{value:"",label:o("<none>")}];const p=function L5t(n){let i=G(n).$parent,s=Mwe(i);return T(i,"bpmn:SubProcess")&&i.triggeredByEvent&&(i=i.$parent,i&&(s=[...s,...Mwe(i)])),s}(t);return function B5t(n){return Ys(n,t=>(t.name||"").toLowerCase())}(p).forEach(function(f){d.push({value:f.id,label:F5t(f)})}),d}})}function kwe(n,t){const{flowElements:i}=n;return i.filter(function(s){return T(s,t)})}function Mwe(n){const t=function A5t(n){return kwe(n,"bpmn:Activity")}(n),i=function I5t(n){return kwe(n,"bpmn:BoundaryEvent")}(n);return t.filter(function(s){return function N5t(n,t){return T(n,"bpmn:CallActivity")||T(n,"bpmn:SubProcess")&&!n.triggeredByEvent&&!n.isForCompensation||function R5t(n,t){const{id:i}=n;return!!It(t,function(s){const{attachedToRef:o}=s,a=a5(s);return o&&a&&o.id===i})}(n,t)}(s,i)})}function F5t(n){const{id:t,name:i}=n;return`${i?i+" ":""}(id=${t})`}const Awe="text/plain";function j5t(n){const{element:t}=n,i=[{id:"documentation",component:V5t,isEdited:$l}];return function z5t(n){return T(n,"bpmn:Participant")&&n.businessObject.get("processRef")}(t)&&i.push({id:"processDocumentation",component:$5t,isEdited:$l}),i}function V5t(n){const{element:t}=n,i=O("bpmnFactory"),s=O("commandStack"),o=O("translate"),a=O("debounceInput"),l=Rwe(G(t)),c=Nwe(t,G(t),i,s);return Ma({element:t,id:"documentation",label:o("Element documentation"),getValue:l,setValue:c,debounce:a})}function $5t(n){const{element:t}=n,i=O("bpmnFactory"),s=O("commandStack"),o=O("translate"),a=O("debounceInput"),l=G(t).processRef,c=Rwe(l),u=Nwe(t,l,i,s);return Ma({element:t,id:"processDocumentation",label:o("Process documentation"),getValue:c,setValue:u,debounce:a})}function Iwe(n){return n.find(function(t){return(t.textFormat||Awe)===Awe})}function Rwe(n){return function(){const t=Iwe(n&&n.get("documentation"));return t&&t.text}}function Nwe(n,t,i,s){return function(o){let a=Iwe(t&&t.get("documentation"));return a?s.execute("element.updateModdleProperties",o?{element:n,moddleElement:a,properties:{text:o}}:{element:n,moddleElement:t,properties:{documentation:Mn(t.get("documentation"),a)}}):o?(a=i.create("bpmn:Documentation",{text:o}),s.execute("element.updateModdleProperties",{element:n,moddleElement:t,properties:{documentation:[...t.get("documentation"),a]}})):void 0}}function Ot(n,t,i,s){const o=s.create(n,t);return i&&(o.$parent=i),o}function Ff(n){return new Nd([32,32,1]).nextPrefixed(n)}function b_(n){let t=n;for(;t.$parent;)t=t.$parent;return t}function __(n,t){return function H5t(n,t){return(n||[]).filter(s=>T(s,t))}(b_(n).get("rootElements"),t)}function l5(n,t,i){return __(n,t).find(o=>o.id===i)}const Fwe="create-new";function U5t(n){const{element:t}=n;if(!function Owe(n){return Kt(n,["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:EndEvent"])&&!!y_(n)}(t))return[];let s=[{id:"errorRef",component:q5t,isEdited:fi}];return H0(t)&&(s=[...s,{id:"errorName",component:W5t,isEdited:jt},{id:"errorCode",component:G5t,isEdited:jt}]),s}function q5t(n){const{element:t}=n,i=O("bpmnFactory"),s=O("commandStack"),o=O("translate"),a=y_(t);return g_({element:t,id:"errorRef",label:o("Global error reference"),autoFocusEntry:"errorName",getValue:()=>{const d=H0(t);return d?d.get("id"):""},setValue:d=>{const p=b_(a),f=[];let h;return d===Fwe&&(h=Ot("bpmn:Error",{name:Ff("Error_")},p,i),d=h.get("id"),f.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:p,properties:{rootElements:[...p.get("rootElements"),h]}}})),h=h||l5(a,"bpmn:Error",d),f.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:a,properties:{errorRef:h}}}),s.execute("properties-panel.multi-command-executor",f)},getOptions:()=>{let d=[{value:"",label:o("<none>")},{value:Fwe,label:o("Create new ...")}];return function K5t(n){return Ys(n,t=>(t.name||"").toLowerCase())}(__(G(t),"bpmn:Error")).forEach(f=>{d.push({value:f.get("id"),label:f.get("name")})}),d}})}function W5t(n){const{element:t}=n,i=O("commandStack"),s=O("translate"),o=O("debounceInput"),a=H0(t);return ft({element:t,id:"errorName",label:s("Name"),getValue:()=>a.get("name"),setValue:u=>i.execute("element.updateModdleProperties",{element:t,moddleElement:a,properties:{name:u}}),debounce:o})}function G5t(n){const{element:t}=n,i=O("commandStack"),s=O("translate"),o=O("debounceInput"),a=H0(t);return ft({element:t,id:"errorCode",label:s("Code"),getValue:()=>a.get("errorCode"),setValue:u=>i.execute("element.updateModdleProperties",{element:t,moddleElement:a,properties:{errorCode:u}}),debounce:o})}const Bwe="create-new";function Y5t(n){const{element:t}=n;if(!function Dwe(n){return T(n,"bpmn:Event")&&!!vD(n)}(t))return[];let s=[{id:"escalationRef",component:X5t,isEdited:fi}];return v_(t)&&(s=[...s,{id:"escalationName",component:Z5t,isEdited:jt},{id:"escalationCode",component:Q5t,isEdited:jt}]),s}function X5t(n){const{element:t}=n,i=O("bpmnFactory"),s=O("commandStack"),o=O("translate"),a=vD(t);return g_({element:t,id:"escalationRef",label:o("Global escalation reference"),autoFocusEntry:"escalationName",getValue:()=>{const d=v_(t);return d&&d.get("id")},setValue:d=>{const p=b_(a),f=[];let h;if(d===Bwe){const m=Ff("Escalation_");h=Ot("bpmn:Escalation",{id:m,name:m},p,i),d=h.get("id"),f.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:p,properties:{rootElements:[...p.get("rootElements"),h]}}})}return h=h||l5(a,"bpmn:Escalation",d),f.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:a,properties:{escalationRef:h}}}),s.execute("properties-panel.multi-command-executor",f)},getOptions:()=>{let d=[{value:"",label:o("<none>")},{value:Bwe,label:o("Create new ...")}];return function J5t(n){return Ys(n,t=>(t.name||"").toLowerCase())}(__(G(t),"bpmn:Escalation")).forEach(f=>{d.push({value:f.get("id"),label:f.get("name")})}),d}})}function Z5t(n){const{element:t}=n,i=O("commandStack"),s=O("translate"),o=O("debounceInput"),a=v_(t);return ft({element:t,id:"escalationName",label:s("Name"),getValue:()=>a.get("name"),setValue:u=>i.execute("element.updateModdleProperties",{element:t,moddleElement:a,properties:{name:u}}),debounce:o})}function Q5t(n){const{element:t}=n,i=O("commandStack"),s=O("translate"),o=O("debounceInput"),a=v_(t);return ft({element:t,id:"escalationCode",label:s("Code"),getValue:()=>a.get("escalationCode"),setValue:u=>i.execute("element.updateModdleProperties",{element:t,moddleElement:a,properties:{escalationCode:u}}),debounce:o})}function e4t(n){const{element:t}=n;return T(t,"bpmn:Process")||function n4t(n){return T(n,"bpmn:Participant")&&n.businessObject.get("processRef")}(t)?[{id:"isExecutable",component:t4t,isEdited:wc}]:[]}function t4t(n){const{element:t}=n,i=O("modeling"),s=O("commandStack"),o=O("translate");let a,l;if(l=c=>{i.updateProperties(t,{isExecutable:c})},a=c=>c.businessObject.isExecutable,T(t,"bpmn:Participant")){const c=t.businessObject.get("processRef");l=u=>{s.execute("element.updateModdleProperties",{element:t,moddleElement:c,properties:{isExecutable:u}})},a=()=>c.get("isExecutable")}return ta({element:t,id:"isExecutable",label:o("Executable"),getValue:a,setValue:l})}const r4t=/\s/,i4t=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,s4t=/^[a-z_][\w-.]*$/i;function bD(n,t,i){const s=n.$model.ids.assigned(t);return t?s&&s!==n?i("ID must be unique."):function o4t(n,t){return function a4t(n){return r4t.test(n)}(n)?t("ID must not contain spaces."):s4t.test(n)?void 0:i4t.test(n)?t("ID must not contain prefix."):t("ID must be a valid QName.")}(t,i):i("ID must not be empty.")}function c4t(n){const{element:t}=n,i=O("modeling"),s=O("debounceInput"),o=O("translate"),l=wi(u=>G(u).id,[t]),c=wi(u=>bD(G(t),u,o),[t,o]);return ft({element:t,id:"id",label:o(T(t,"bpmn:Participant")?"Participant ID":"ID"),getValue:l,setValue:(u,d)=>{d||i.updateProperties(t,{id:u})},debounce:s,validate:c})}function u4t(n){const{element:t}=n;return function S5t(n){return Kt(n,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!Pwe(n)}(t)?[{id:"linkName",component:d4t,isEdited:jt}]:[]}function d4t(n){const{element:t}=n,i=O("commandStack"),s=O("translate"),o=O("debounceInput"),a=Pwe(t);return ft({element:t,id:"linkName",label:s("Name"),getValue:()=>a.get("name"),setValue:u=>{i.execute("element.updateModdleProperties",{element:t,moddleElement:a,properties:{name:u}})},debounce:o})}const Vwe="create-new";function p4t(n){const{element:t}=n;if(!function C5t(n){return T(n,"bpmn:ReceiveTask")||Kt(n,["bpmn:StartEvent","bpmn:EndEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"])&&!!x1(n)}(t))return[];let s=[{id:"messageRef",component:f4t,isEdited:fi}];return C1(t)&&(s=[...s,{id:"messageName",component:h4t,isEdited:jt}]),s}function f4t(n){const{element:t}=n,i=O("bpmnFactory"),s=O("commandStack"),o=O("translate"),a=x1(t);return g_({element:t,id:"messageRef",label:o("Global message reference"),autoFocusEntry:"messageName",getValue:()=>{const d=C1(t);return d?d.get("id"):""},setValue:d=>{const p=b_(a),f=[];let h;if(d===Vwe){const m=Ff("Message_");h=Ot("bpmn:Message",{id:m,name:m},p,i),d=h.get("id"),f.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:p,properties:{rootElements:[...p.get("rootElements"),h]}}})}return h=h||l5(a,"bpmn:Message",d),f.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:a,properties:{messageRef:h}}}),s.execute("properties-panel.multi-command-executor",f)},getOptions:()=>{let d=[{value:"",label:o("<none>")},{value:Vwe,label:o("Create new ...")}];return function m4t(n){return Ys(n,t=>(t.name||"").toLowerCase())}(__(G(t),"bpmn:Message")).forEach(f=>{d.push({value:f.get("id"),label:f.get("name")})}),d}})}function h4t(n){const{element:t}=n,i=O("commandStack"),s=O("translate"),o=O("debounceInput"),a=C1(t);return ft({element:t,id:"messageName",label:s("Name"),getValue:()=>a.get("name"),setValue:u=>i.execute("element.updateModdleProperties",{element:t,moddleElement:a,properties:{name:u}}),debounce:o})}function g4t(n){const{element:t}=n;return function b4t(n){const t=gU(n);return!!t&&T(t,"bpmn:MultiInstanceLoopCharacteristics")}(t)?[{id:"loopCardinality",component:y4t,isEdited:jt},{id:"completionCondition",component:v4t,isEdited:jt}]:[]}function y4t(n){const{element:t}=n,i=O("bpmnFactory"),s=O("debounceInput"),o=O("commandStack"),a=O("translate");return ft({element:t,id:"loopCardinality",label:a("Loop cardinality"),getValue:()=>function w4t(n){const t=function E4t(n){return zwe(n,"loopCardinality")}(n);return $we(t)}(t),setValue:u=>o.execute("element.updateModdleProperties",Hwe(t,"loopCardinality",u,i)),debounce:s})}function v4t(n){const{element:t}=n,i=O("bpmnFactory"),s=O("debounceInput"),o=O("commandStack"),a=O("translate");return ft({element:t,id:"completionCondition",label:a("Completion condition"),getValue:()=>function C4t(n){const t=function x4t(n){return zwe(n,"completionCondition")}(n);return $we(t)}(t),setValue:u=>o.execute("element.updateModdleProperties",Hwe(t,"completionCondition",u,i)),debounce:s})}function $we(n){return n&&n.get("body")}function zwe(n,t){const i=gU(n);return i&&i.get(t)}function gU(n){return G(n).loopCharacteristics}function Hwe(n,t,i,s){const o=gU(n),a={};if(!i)return a[t]=void 0,{element:n,moddleElement:o,properties:a};const l=o.get(t);return l?{element:n,moddleElement:l,properties:{body:i}}:(a[t]=function _4t(n,t,i){return Ot("bpmn:FormalExpression",{body:t},n,i)}(o,i,s),{element:n,moddleElement:o,properties:a})}function S4t(n){const{element:t}=n;return Kt(t,["bpmn:Collaboration","bpmn:DataAssociation","bpmn:Association"])?[]:[{id:"name",component:O4t,isEdited:$l}]}function O4t(n){const{element:t}=n,i=O("modeling"),s=O("debounceInput"),o=O("canvas"),a=O("bpmnFactory"),l=O("translate");let c={element:t,id:"name",label:l("Name"),debounce:s,setValue:u=>{i.updateProperties(t,{name:u})},getValue:u=>u.businessObject.name,autoResize:!0};return T(t,"bpmn:TextAnnotation")?c={...c,setValue:u=>{i.updateProperties(t,{text:u})},getValue:u=>u.businessObject.text}:T(t,"bpmn:Group")?c={...c,setValue:u=>{const d=G(t);d.categoryValueRef||function T4t(n,t,i){const o=function P4t(n,t){const i=t.create("bpmn:CategoryValue"),s=t.create("bpmn:Category",{categoryValue:[i]});return fs(n.get("rootElements"),s),G(s).$parent=n,G(i).$parent=s,i}(G(t).$parent,i);n.categoryValueRef=o}(d,o.getRootElement(),a),i.updateLabel(t,u)},getValue:u=>{const p=G(u).categoryValueRef;return p&&p.value}}:T(t,"bpmn:Participant")&&(c.label=l("Participant Name")),Ma(c)}function D4t(n){const{element:t}=n;return function A4t(n){return T(n,"bpmn:Participant")&&n.businessObject.get("processRef")}(t)?[{id:"processId",component:M4t,isEdited:jt},{id:"processName",component:k4t,isEdited:jt}]:[]}function k4t(n){const{element:t}=n,i=O("commandStack"),s=O("translate"),o=O("debounceInput"),a=t.businessObject.get("processRef");return ft({element:t,id:"processName",label:s("Process name"),getValue:()=>a.get("name"),setValue:u=>{i.execute("element.updateModdleProperties",{element:t,moddleElement:a,properties:{name:u}})},debounce:o})}function M4t(n){const{element:t}=n,i=O("commandStack"),s=O("translate"),o=O("debounceInput"),a=t.businessObject.get("processRef"),u=wi(d=>bD(a,d,s),[a,s]);return ft({element:t,id:"processId",label:s("Process ID"),getValue:()=>a.get("id"),setValue:(d,p)=>{p||i.execute("element.updateModdleProperties",{element:t,moddleElement:a,properties:{id:d}})},debounce:o,validate:u})}const qwe="create-new";function I4t(n){const{element:t}=n;if(!function O5t(n){return T(n,"bpmn:Event")&&!!sd(n)}(t))return[];let s=[{id:"signalRef",component:R4t,isEdited:fi}];return mU(t)&&(s=[...s,{id:"signalName",component:N4t,isEdited:jt}]),s}function R4t(n){const{element:t}=n,i=O("bpmnFactory"),s=O("commandStack"),o=O("translate"),a=sd(t);return g_({element:t,id:"signalRef",label:o("Global signal reference"),autoFocusEntry:"signalName",getValue:()=>{const d=mU(t);return d?d.get("id"):""},setValue:d=>{const p=b_(a),f=[];let h;if(d===qwe){const m=Ff("Signal_");h=Ot("bpmn:Signal",{id:m,name:m},p,i),d=h.get("id"),f.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:p,properties:{rootElements:[...p.get("rootElements"),h]}}})}return h=h||l5(a,"bpmn:Signal",d),f.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:a,properties:{signalRef:h}}}),s.execute("properties-panel.multi-command-executor",f)},getOptions:()=>{let d=[{value:"",label:o("<none>")},{value:qwe,label:o("Create new ...")}];return function L4t(n){return Ys(n,t=>(t.name||"").toLowerCase())}(__(G(t),"bpmn:Signal")).forEach(f=>{d.push({value:f.get("id"),label:f.get("name")})}),d}})}function N4t(n){const{element:t}=n,i=O("commandStack"),s=O("translate"),o=O("debounceInput"),a=mU(t);return ft({element:t,id:"signalName",label:s("Name"),getValue:()=>a.get("name"),setValue:u=>i.execute("element.updateModdleProperties",{element:t,moddleElement:a,properties:{name:u}}),debounce:o})}function yU(n){return Kt(n,["bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:BoundaryEvent"])&&!!S1(n)}function _D(n){if(n)return typeof n.get("timeDate")<"u"?"timeDate":typeof n.get("timeCycle")<"u"?"timeCycle":typeof n.get("timeDuration")<"u"?"timeDuration":void 0}function S1(n){return ED(n,"bpmn:TimerEventDefinition")}function ED(n,t){return It(G(n).get("eventDefinitions")||[],function(o){return T(o,t)})}function Wwe(n){return ED(n,"bpmn:SignalEventDefinition")}function Gwe(n){const t=Wwe(n);return t&&t.get("signalRef")}function V4t(n){const{element:t,idPrefix:i}=n;let{timerEventDefinition:s}=n;s||(s=S1(G(t)));const o=_D(s);if(!yU(t))return[];const a=[];return a.push({id:Kwe(i,"timerEventDefinitionType"),component:$4t,isEdited:fi,timerEventDefinition:s,timerEventDefinitionType:o}),o&&a.push({id:Kwe(i,"timerEventDefinitionValue"),component:z4t,isEdited:jt,timerEventDefinition:s,timerEventDefinitionType:o}),a}function $4t(n){const{element:t,timerEventDefinition:i,timerEventDefinitionType:s}=n,o=O("commandStack"),a=O("bpmnFactory"),l=O("translate");return Kr({element:t,id:"timerEventDefinitionType",label:l("Type"),getValue:()=>s||"",setValue:p=>{if(p===s)return;const f=a.create("bpmn:FormalExpression",{body:void 0});f.$parent=i;const h={timeDuration:void 0,timeDate:void 0,timeCycle:void 0};""!==p&&(h[p]=f),o.execute("element.updateModdleProperties",{element:t,moddleElement:i,properties:h})},getOptions:p=>[{value:"",label:l("<none>")},{value:"timeDate",label:l("Date")},{value:"timeDuration",label:l("Duration")},{value:"timeCycle",label:l("Cycle")}]})}function z4t(n){const{element:t,timerEventDefinition:i,timerEventDefinitionType:s}=n,o=O("commandStack"),a=O("translate"),l=O("debounceInput"),c=i.get(s);return ft({element:t,id:"timerEventDefinitionValue",label:a("Value"),getValue:()=>c&&c.get("body"),setValue:p=>{o.execute("element.updateModdleProperties",{element:t,moddleElement:c,properties:{body:p}})},debounce:l,tooltip:H4t(s,a)})}function H4t(n,t){switch(n){case"timeDate":return L("div",{children:[L("p",{children:t("A specific point in time defined as ISO 8601 combined date and time representation.")}),L("ul",{children:[L("li",{children:[L("code",{children:"2019-10-01T12:00:00Z"})," - ",t("UTC time")]}),L("li",{children:[L("code",{children:"2019-10-02T08:09:40+02:00"})," - ",t("UTC plus 2 hours zone offset")]})]}),L("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-date",target:"_blank",rel:"noopener",children:t("Documentation: Timer events")})]});case"timeCycle":return L("div",{children:[L("p",{children:t("A cycle defined as ISO 8601 repeating intervals format.")}),L("ul",{children:[L("li",{children:[L("code",{children:"R5/PT10S"})," - ",t("every 10 seconds, up to 5 times")]}),L("li",{children:[L("code",{children:"R/P1D"})," - ",t("every day, infinitely")]})]}),L("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-cycle",target:"_blank",rel:"noopener",children:t("Documentation: Timer events")})]});case"timeDuration":return L("div",{children:[L("p",{children:t("A time duration defined as ISO 8601 durations format.")}),L("ul",{children:[L("li",{children:[L("code",{children:"PT15S"})," - ",t("15 seconds")]}),L("li",{children:[L("code",{children:"PT1H30M"})," - ",t("1 hour and 30 minutes")]}),L("li",{children:[L("code",{children:"P14D"})," - ",t("14 days")]})]}),L("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-duration",target:"_blank",rel:"noopener",children:t("Documentation: Timer events")})]})}}function Kwe(n,t){return n?n+t:t}function U4t(n,t){const i=t.get("translate"),s=[...S4t({element:n}),{id:"id",component:c4t,isEdited:jt},...D4t({element:n}),...e4t({element:n})];return{id:"general",label:i("General"),entries:s,component:er}}function q4t(n,t){const s={label:t.get("translate")("Compensation"),id:"compensation",component:er,entries:[...D5t({element:n})]};return s.entries.length?s:null}function W4t(n,t){const i=t.get("translate"),s=[...j5t({element:n})];return{id:"documentation",label:i("Documentation"),entries:s,component:er}}function G4t(n,t){const s={id:"error",label:t.get("translate")("Error"),component:er,entries:[...U5t({element:n})]};return s.entries.length?s:null}function K4t(n,t){const s={id:"message",label:t.get("translate")("Message"),component:er,entries:[...p4t({element:n})]};return s.entries.length?s:null}function Y4t(n,t){const s={id:"signal",label:t.get("translate")("Signal"),component:er,entries:[...I4t({element:n})]};return s.entries.length?s:null}function X4t(n,t){const s={label:t.get("translate")("Link"),id:"link",component:er,entries:[...u4t({element:n})]};return s.entries.length?s:null}function Z4t(n,t){const s={id:"escalation",label:t.get("translate")("Escalation"),component:er,entries:[...Y5t({element:n})]};return s.entries.length?s:null}function Q4t(n,t){const s={label:t.get("translate")("Timer"),id:"timer",component:er,entries:[...V4t({element:n})]};return s.entries.length?s:null}function J4t(n,t){const s={label:t.get("translate")("Multi-instance"),id:"multiInstance",component:er,entries:[...g4t({element:n})]};return s.entries.length?s:null}var tCt={__init__:["bpmnPropertiesProvider"],bpmnPropertiesProvider:["type",(()=>{class n{constructor(i,s){i.registerProvider(this),this._injector=s}getGroups(i){return s=>(s=s.concat(function eCt(n,t){return[U4t(n,t),W4t(n,t),q4t(n,t),G4t(n,t),X4t(n,t),K4t(n,t),J4t(n,t),Y4t(n,t),Z4t(n,t),Q4t(n,t)].filter(s=>null!==s)}(i,this._injector)),s)}}return n.$inject=["propertiesPanel","injector"],n})()]};function Vn(n,t=void 0){const i=n.get("extensionElements");if(!i)return[];const s=i.get("values");return s&&s.length?t?s.filter(o=>T(o,t)):s:[]}function mu(n,t,i,s){Vt(i)||(i=[i]);const o=t.get("extensionElements"),a=o.get("values").filter(l=>!i.includes(l));s.execute("element.updateModdleProperties",{element:n,moddleElement:o,properties:{values:a}})}function E_(n,t){return i=>L(n,{...i,...t})}const nCt={getVariablesForElement:n=>HEe(n)},Zi=function rCt(n){return t=>{const{bpmnElement:i,element:s}=t,o=(i||s).businessObject,[a,l]=Un([]),c=O("eventBus"),u=function iCt(n,t){return O(n,!1)||t}("variableResolver",nCt);return vn(()=>{const d=function(){var f=be(function*(){const h=yield u.getVariablesForElement(o,s);l(h.map(m=>({...m,info:m.info||m.origin&&"Written in "+m.origin.map(g=>g.name||g.id).join(", ")})))});return function(){return f.apply(this,arguments)}}(),p=()=>{d()};return c.on("commandStack.changed",p),p(),()=>{c.off("commandStack.changed",p)}},[o]),L(n,{...t,variables:a})}}(function sCt(n){return t=>{const i=Do(()=>{const s=O("config");return s&&s.propertiesPanel&&s.propertiesPanel.feelTooltipContainer},[]);return L(n,{...t,tooltipContainer:i})}}(w1));function aCt(n){const{element:t}=n;return T(t,"bpmn:UserTask")?[{id:"assignmentDefinitionAssignee",component:lCt,isEdited:Xi},{id:"assignmentDefinitionCandidateGroups",component:cCt,isEdited:Xi},{id:"assignmentDefinitionCandidateUsers",component:uCt,isEdited:Xi}]:[]}function lCt(n){const{element:t}=n,i=O("commandStack"),s=O("bpmnFactory"),o=O("translate"),a=O("debounceInput");return Zi({element:t,id:"assignmentDefinitionAssignee",label:o("Assignee"),feel:"optional",getValue:()=>(w_(t)||{}).assignee,setValue:u=>{const d=[],p=G(t);let f=p.get("extensionElements");f||(f=Ot("bpmn:ExtensionElements",{values:[]},p,s),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:p,properties:{extensionElements:f}}}));let h=w_(t);h||(h=Ot("zeebe:AssignmentDefinition",{},f,s),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{assignee:u}}}),i.execute("properties-panel.multi-command-executor",d)},debounce:a})}function cCt(n){const{element:t}=n,i=O("commandStack"),s=O("bpmnFactory"),o=O("translate"),a=O("debounceInput");return Zi({element:t,id:"assignmentDefinitionCandidateGroups",label:o("Candidate groups"),feel:"optional",getValue:()=>(w_(t)||{}).candidateGroups,setValue:u=>{let d=[];const p=G(t);let f=p.get("extensionElements");f||(f=Ot("bpmn:ExtensionElements",{values:[]},p,s),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:p,properties:{extensionElements:f}}}));let h=w_(t);h||(h=Ot("zeebe:AssignmentDefinition",{},f,s),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{candidateGroups:u}}}),i.execute("properties-panel.multi-command-executor",d)},debounce:a})}function uCt(n){const{element:t}=n,i=O("commandStack"),s=O("bpmnFactory"),o=O("translate"),a=O("debounceInput");return Zi({element:t,id:"assignmentDefinitionCandidateUsers",label:o("Candidate users"),feel:"optional",getValue:()=>(w_(t)||{}).candidateUsers,setValue:u=>{let d=[];const p=G(t);let f=p.get("extensionElements");f||(f=Ot("bpmn:ExtensionElements",{values:[]},p,s),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:p,properties:{extensionElements:f}}}));let h=w_(t);h||(h=Ot("zeebe:AssignmentDefinition",{},f,s),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{candidateUsers:u}}}),i.execute("properties-panel.multi-command-executor",d)},debounce:a})}function w_(n){return Vn(G(n),"zeebe:AssignmentDefinition")[0]}function vU(n){return!(!T(n,"zeebe:ZeebeServiceTask")||(T(n,"bpmn:EndEvent")||T(n,"bpmn:IntermediateThrowEvent")?!x1(n):Kt(n,["bpmn:BusinessRuleTask","bpmn:ScriptTask"])&&!function fCt(n){return Vn(G(n),"zeebe:TaskDefinition")[0]}(n)))}function wD(n){return Vn(G(n),"zeebe:TaskHeaders")[0]}const _U="jobWorker";function gCt(n){const{element:t}=n;return T(t,"bpmn:BusinessRuleTask")?[{id:"businessRuleImplementation",component:yCt,isEdited:()=>function vCt(n){return c5(n)||u5(n)}(t)}]:[]}function yCt(n){const{element:t,id:i}=n,s=O("commandStack"),o=O("bpmnFactory"),a=O("translate");return Kr({element:t,id:i,label:a("Implementation"),getValue:()=>u5(t)?"dmn":c5(t)?_U:"",setValue:d=>{let p,f;"dmn"===d?(p=u5(t),f="zeebe:CalledDecision"):d===_U?(p=c5(t),f="zeebe:TaskDefinition"):function bCt(n,t){mu(n,G(n),[c5(n),wD(n),u5(n)].filter(Boolean),t)}(t,s),!p&&f&&(p=Ot(f,{},null,o),function _Ct(n,t,i,s){const o=G(n),a=[];let c,l=o.get("extensionElements");l||(l=Ot("bpmn:ExtensionElements",{values:[]},o,i),a.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:o,properties:{extensionElements:l}}})),t.$parent=l,T(t,"zeebe:TaskDefinition")?c=Mn(l.get("values"),u5(n)):T(t,"zeebe:CalledDecision")&&(c=Mn(l.get("values"),c5(n))),a.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:l,properties:{values:[...c,t]}}}),s.execute("properties-panel.multi-command-executor",a)}(t,p,o,s))},getOptions:()=>[{value:"",label:a("<none>")},{value:"dmn",label:a("DMN decision")},{value:_U,label:a("Job worker")}]})}function c5(n){return Vn(G(n),"zeebe:TaskDefinition")[0]}function u5(n){return Vn(G(n),"zeebe:CalledDecision")[0]}function EU(n){const{element:t,type:i}=n,s=O("bpmnFactory"),o=O("commandStack"),a=O("translate");return L(Kr,{element:t,id:"bindingType",label:a("Binding"),getValue:()=>xD(t,i),setValue:d=>{const p=[],f=G(t);let h=f.get("extensionElements");h||(h=Ot("bpmn:ExtensionElements",{values:[]},f,s),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{extensionElements:h}}}));let m=Vn(f,i)[0];m||(m=Ot(i,{},h,s),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:m,properties:{bindingType:d}}}),o.execute("properties-panel.multi-command-executor",p)},getOptions:()=>[{value:"latest",label:a("latest")},{value:"deployment",label:a("deployment")},{value:"versionTag",label:a("version tag")}]})}function xD(n,t){const s=Vn(G(n),t)[0];return s?s.get("bindingType"):"latest"}function wU(n){const{element:t,type:i}=n,s=O("bpmnFactory"),o=O("commandStack"),a=O("debounceInput"),l=O("translate");return ft({element:t,id:"versionTag",label:l("Version tag"),getValue:()=>function ECt(n,t){const s=Vn(G(n),t)[0];return s&&s.get("versionTag")||""}(t,i),setValue:d=>{const p=[],f=G(t);let h=f.get("extensionElements");h||(h=Ot("bpmn:ExtensionElements",{values:[]},f,s),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{extensionElements:h}}}));let m=Vn(f,i)[0];m||(m=Ot(i,{},h,s),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:m,properties:{versionTag:d}}}),o.execute("properties-panel.multi-command-executor",p)},debounce:a})}const wCt=E_(EU,{type:"zeebe:CalledDecision"}),xCt=E_(wU,{type:"zeebe:CalledDecision"});function CCt(n){const{element:t}=n;if(!T(t,"bpmn:BusinessRuleTask")||!d5(t))return[];const i=[{id:"decisionId",component:SCt,isEdited:Xi},{id:"bindingType",component:wCt,isEdited:fi}];return"versionTag"===xD(t,"zeebe:CalledDecision")&&i.push({id:"versionTag",component:xCt,isEdited:jt}),i.push({id:"resultVariable",component:OCt,isEdited:jt}),i}function SCt(n){const{element:t,id:i}=n,s=O("commandStack"),o=O("bpmnFactory"),a=O("translate"),l=O("debounceInput");return Zi({element:t,id:i,label:a("Decision ID"),feel:"optional",getValue:()=>(d5(t)||{}).decisionId,setValue:d=>{const p=[],f=G(t);let h=f.get("extensionElements");h||(h=Ot("bpmn:ExtensionElements",{values:[]},f,o),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{extensionElements:h}}}));let m=d5(t);m||(m=Ot("zeebe:CalledDecision",{},h,o),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:m,properties:{decisionId:d}}}),s.execute("properties-panel.multi-command-executor",p)},debounce:l})}function OCt(n){const{element:t,id:i}=n,s=O("commandStack"),o=O("bpmnFactory"),a=O("translate"),l=O("debounceInput");return ft({element:t,id:i,label:a("Result variable"),getValue:()=>(d5(t)||{}).resultVariable,setValue:d=>{const p=[],f=G(t);let h=f.get("extensionElements");h||(h=Ot("bpmn:ExtensionElements",{values:[]},f,o),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{extensionElements:h}}}));let m=d5(t);m||(m=Ot("zeebe:CalledDecision",{},h,o),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:m,properties:{resultVariable:d}}}),s.execute("properties-panel.multi-command-executor",p)},debounce:l})}function d5(n){return Vn(G(n),"zeebe:CalledDecision")[0]}function TCt(n){const{element:t}=n;if(!T(t,"bpmn:SequenceFlow"))return[];const i=[];return function kCt(n){return Kt(n,DCt)}(t.source)&&i.push({id:"conditionExpression",component:PCt,isEdited:Xi}),i}function PCt(n){const{element:t}=n,i=O("commandStack"),s=O("bpmnFactory"),o=O("translate"),a=O("debounceInput");return Zi({element:t,id:"conditionExpression",label:o("Condition expression"),feel:"required",getValue:()=>function MCt(n){const i=G(n).conditionExpression;if(i)return i.get("body")}(t),setValue:u=>{const d=[],p=G(t),f=t.source;f.businessObject.default===p&&d.push({cmd:"element.updateProperties",context:{element:f,properties:{default:void 0}}});const h=u&&""!=u?Ot("bpmn:FormalExpression",{body:u},p,s):void 0;d.push({cmd:"element.updateProperties",context:{element:t,properties:{conditionExpression:h}}}),i.execute("properties-panel.multi-command-executor",d)},debounce:a})}const DCt=["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"];function ICt(n){const{element:t}=n,i=O("commandStack"),s=O("translate"),o=O("debounceInput"),a=H0(t);return Zi({element:t,id:"errorCode",label:s("Code"),feel:"optional",getValue:()=>a.get("errorCode"),setValue:u=>i.execute("element.updateModdleProperties",{element:t,moddleElement:a,properties:{errorCode:u}}),debounce:o})}function NCt(n){const{element:t}=n,i=O("commandStack"),s=O("translate"),o=O("debounceInput"),a=v_(t);return Zi({element:t,id:"escalationCode",label:s("Code"),feel:"optional",getValue:()=>a.get("escalationCode"),setValue:u=>i.execute("element.updateModdleProperties",{element:t,moddleElement:a,properties:{escalationCode:u}}),debounce:o})}const Xwe={start:"Start",end:"End"};function LCt(n){const{element:t,idPrefix:i,listener:s}=n,o=Zwe(t),a=o.length>1?[{id:i+"-eventType",component:FCt,idPrefix:i,listener:s,eventTypes:o}]:[];return a.push({id:i+"-listenerType",component:BCt,idPrefix:i,listener:s},{id:i+"-retries",component:jCt,idPrefix:i,listener:s}),a}function FCt(n){const{idPrefix:t,element:i,listener:s,eventTypes:o}=n,a=O("modeling"),l=O("translate");return Kr({element:i,id:t+"-eventType",label:l("Event type"),getValue:()=>s.get("eventType"),setValue:p=>{a.updateModdleProperties(i,s,{eventType:p})},getOptions:()=>o.map(p=>({value:p,label:l(Xwe[p])}))})}function BCt(n){const{idPrefix:t,element:i,listener:s}=n,o=O("modeling"),a=O("translate"),l=O("debounceInput");return Zi({element:i,id:t+"-listenerType",label:a("Listener type"),getValue:()=>s.get("type"),setValue:d=>{o.updateModdleProperties(i,s,{type:d})},debounce:l,feel:"optional"})}function jCt(n){const{idPrefix:t,element:i,listener:s}=n,o=O("modeling"),a=O("translate"),l=O("debounceInput");return Zi({element:i,id:t+"-retries",label:a("Retries"),getValue:()=>s.get("retries"),setValue:d=>{o.updateModdleProperties(i,s,{retries:d})},debounce:l,feel:"optional"})}function Zwe(n){return Kt(n,["bpmn:BoundaryEvent","bpmn:StartEvent"])?["end"]:T(n,"bpmn:EndEvent")&&function F4t(n){return ED(n,"bpmn:ErrorEventDefinition")}(n)||T(n,"bpmn:Gateway")?["start"]:["start","end"]}function VCt({element:n,injector:t}){let i=xU(n);if(!i)return;if(!function UCt(n,t){return!(!Kt(n,t.getTypeDescriptor("zeebe:ExecutionListeners").meta.allowedIn)||function qCt(n){return T(n,"bpmn:BoundaryEvent")&&function j4t(n){return ED(n,"bpmn:CompensateEventDefinition")}(n)}(n))}(i,t.get("moddle")))return;const o=function HCt(n){const t=CU(n);return t&&t.get("listeners")}(i)||[],a=t.get("bpmnFactory"),l=t.get("commandStack"),c=t.get("modeling"),u=t.get("translate");return{items:o.map((p,f)=>{const h=n.id+"-executionListener-"+f,m=p.get("type")||"<no type>";return{id:h,label:u(`${Xwe[p.get("eventType")]}: {type}`,{type:m}),entries:LCt({idPrefix:h,element:n,listener:p}),autoFocusEntry:h+"-eventType",remove:$Ct({modeling:c,element:n,listener:p})}}),add:zCt({bpmnFactory:a,commandStack:l,element:n})}}function $Ct({modeling:n,element:t,listener:i}){return function(s){s.stopPropagation();const a=CU(xU(t));if(!a)return;const l=Mn(a.get("listeners"),i);n.updateModdleProperties(t,a,{listeners:l})}}function zCt({bpmnFactory:n,commandStack:t,element:i}){return function(s){s.stopPropagation();let o=[];const a=xU(i);let l=a.get("extensionElements");l||(l=Ot("bpmn:ExtensionElements",{values:[]},a,n),o.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:a,properties:{extensionElements:l}}}));let c=CU(a);c||(c=Ot("zeebe:ExecutionListeners",{listeners:[]},l,n),o.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:l,properties:{values:[...l.get("values"),c]}}}));const u=Ot("zeebe:ExecutionListener",function WCt(n){return{eventType:Zwe(n)[0]}}(i),c,n);o.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:c,properties:{listeners:[...c.get("listeners"),u]}}}),t.execute("properties-panel.multi-command-executor",o)}}function xU(n){let t=G(n);return T(n,"bpmn:Participant")?t.get("processRef"):t}function CU(n){const t=Vn(n,"zeebe:ExecutionListeners");return t&&t[0]}function U0(n){return Vn(G(n),"zeebe:FormDefinition")[0]}function SU(n,t){t=t||Jwe(n);const i=U0(n);if(!i)return;const s=i.get("formKey");return Vn(t,"zeebe:UserTaskForm").find(a=>Qwe(a.get("id"))===s)}function Qwe(n){return`camunda-forms:bpmn:${n}`}function Jwe(n){let i=G(n);for(;i.$parent&&!T(i,"bpmn:Process");)i=i.$parent;return i}function exe(n){const t=U0(n);if(!t)return;const i=t.get("formId"),s=t.get("formKey"),o=t.get("externalReference");return Hr(i)?"camunda-form-linked":Hr(o)?"external-reference":Hr(s)?SU(n)?"camunda-form-embedded":"custom-form":void 0}function txe(n){return Vn(G(n),"zeebe:UserTask").length>0}const XCt=E_(EU,{type:"zeebe:FormDefinition"}),ZCt=E_(wU,{type:"zeebe:FormDefinition"}),CD="none";function QCt(n){const{element:t}=n;if(!T(t,"bpmn:UserTask"))return[];const i=[{id:"formType",component:JCt,isEdited:o=>o.value!==CD}],s=exe(t);return"camunda-form-embedded"===s?i.push({id:"formConfiguration",component:n6t,isEdited:$l}):"camunda-form-linked"===s?i.push({id:"formId",component:r6t,isEdited:jt}):"custom-form"===s?i.push({id:"customFormKey",component:i6t,isEdited:jt}):"external-reference"===s&&i.push({id:"externalReference",component:s6t,isEdited:Xi}),"camunda-form-linked"===s&&(i.push({id:"bindingType",component:XCt,isEdited:fi}),"versionTag"===xD(t,"zeebe:FormDefinition")&&i.push({id:"versionTag",component:ZCt,isEdited:jt})),i}function JCt(n){const{element:t}=n,i=O("injector"),s=O("translate");return Kr({element:t,id:"formType",label:s("Type"),getValue:()=>exe(t)||CD,setValue:c=>{!function e6t(n,t,i){"camunda-form-embedded"===i?oxe(n,t,""):"camunda-form-linked"===i?rxe(n,t,""):"custom-form"===i?ixe(n,t,""):"external-reference"===i?sxe(n,t,""):function a6t(n,t){const i=U0(t),s=n.get("modeling");if(i){const a=G(t).get("extensionElements");s.updateModdleProperties(t,a,{values:Mn(a.get("values"),i)})}}(n,t)}(i,t,c)},getOptions:()=>function t6t(n,t){return txe(t)?[{value:CD,label:n("<none>")},{value:"camunda-form-linked",label:n("Camunda Form")},{value:"external-reference",label:n("External form reference")}]:[{value:CD,label:n("<none>")},{value:"camunda-form-linked",label:n("Camunda Form (linked)")},{value:"camunda-form-embedded",label:n("Camunda Form (embedded)")},{value:"custom-form",label:n("Custom form key")}]}(s,t)})}function n6t(n){const{element:t}=n,i=O("debounceInput"),s=O("injector"),o=O("translate");return Ma({element:t,id:"formConfiguration",label:o("Form JSON configuration"),rows:4,getValue:()=>SU(t).get("body"),setValue:c=>{oxe(s,t,Sr(c)?"":c)},debounce:i})}function r6t(n){const{element:t}=n,i=O("debounceInput"),s=O("injector"),o=O("translate");return ft({element:t,id:"formId",label:o("Form ID"),getValue:()=>U0(t).get("formId"),setValue:c=>{rxe(s,t,Sr(c)?"":c)},debounce:i})}function i6t(n){const{element:t}=n,i=O("debounceInput"),s=O("injector"),o=O("translate");return ft({element:t,id:"customFormKey",label:o("Custom form key"),getValue:()=>U0(t).get("formKey"),setValue:c=>{ixe(s,t,Sr(c)?"":c)},debounce:i})}function s6t(n){const{element:t}=n,i=O("debounceInput"),s=O("injector"),o=O("translate");return Zi({element:t,id:"externalReference",label:o("External form reference"),feel:"optional",getValue:()=>U0(t).get("externalReference"),setValue:c=>{sxe(s,t,Sr(c)?"":c)},debounce:i})}function nxe(n,t,i){const s=i||G(t);let o=s.get("extensionElements");return o?{commands:[],extensionElements:o}:(o=Ot("bpmn:ExtensionElements",{values:[]},s,n.get("bpmnFactory")),{commands:[q0(t,s,{extensionElements:o})],extensionElements:o})}function SD(n,t){let i=U0(t);if(i)return{commands:[],formDefinition:i};const{extensionElements:s,commands:o}=nxe(n,t);return i=function l6t(n,t,i){return Ot("zeebe:FormDefinition",t,i,n.get("bpmnFactory"))}(n,{},s),{commands:[...o,q0(t,s,{values:[...s.get("values"),i]})],formDefinition:i}}function rxe(n,t,i){let{commands:s,formDefinition:o}=SD(n,t);n.get("commandStack").execute("properties-panel.multi-command-executor",[...s,q0(t,o,{formId:i})])}function ixe(n,t,i){let{commands:s,formDefinition:o}=SD(n,t);n.get("commandStack").execute("properties-panel.multi-command-executor",[...s,q0(t,o,{formKey:i})])}function sxe(n,t,i){let{commands:s,formDefinition:o}=SD(n,t);n.get("commandStack").execute("properties-panel.multi-command-executor",[...s,q0(t,o,{externalReference:i})])}function oxe(n,t,i){let{commands:s,userTaskForm:o}=function o6t(n,t){let i=SU(t);if(i)return{commands:[],formDefinition:U0(t),userTaskForm:i};const s=Jwe(t),{extensionElements:o,commands:a}=nxe(n,t,s),{formDefinition:l,commands:c}=SD(n,t),u=function YCt(){return Ff("UserTaskForm_")}();return i=function c6t(n,t,i){return Ot("zeebe:UserTaskForm",t,i,n.get("bpmnFactory"))}(n,{id:u},o),{commands:[...a,...c,q0(t,o,{values:[...o.get("values"),i]}),q0(t,l,{formKey:Qwe(u)})],formDefinition:l,userTaskForm:i}}(n,t);n.get("commandStack").execute("properties-panel.multi-command-executor",[...s,q0(t,o,{body:i})])}function q0(n,t,i){return{cmd:"element.updateModdleProperties",context:{element:n,moddleElement:t,properties:i}}}function u6t(n){const{idPrefix:t,header:i}=n;return[{id:t+"-key",component:d6t,header:i,idPrefix:t},{id:t+"-value",component:p6t,header:i,idPrefix:t}]}function d6t(n){const{idPrefix:t,element:i,header:s}=n,o=O("commandStack"),a=O("translate"),l=O("debounceInput");return ft({element:s,id:t+"-key",label:a("Key"),getValue:d=>d.key,setValue:d=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:s,properties:{key:d}})},debounce:l})}function p6t(n){const{idPrefix:t,element:i,header:s}=n,o=O("commandStack"),a=O("translate"),l=O("debounceInput");return Ma({element:s,id:t+"-value",label:a("Value"),getValue:d=>d.value,setValue:d=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:s,properties:{value:d}})},debounce:l,autoResize:!0})}function f6t({element:n,injector:t}){if(!function hCt(n){return T(n,"bpmn:UserTask")||vU(n)}(n))return null;const i=function mCt(n){const t=wD(n);return t?t.get("values"):[]}(n)||[],s=t.get("bpmnFactory"),o=t.get("commandStack");return{items:i.map((l,c)=>{const u=n.id+"-header-"+c;return{id:u,label:l.get("key")||"",entries:u6t({idPrefix:u,element:n,header:l}),autoFocusEntry:u+"-key",remove:h6t({commandStack:o,element:n,header:l})}}),add:m6t({bpmnFactory:s,commandStack:o,element:n})}}function h6t({commandStack:n,element:t,header:i}){return function(s){s.stopPropagation();let o=[];const a=wD(t);if(!a)return;const l=Mn(a.get("values"),i);if(o.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:a,properties:{values:l}}}),!l.length){const u=G(t).get("extensionElements");o.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:u,properties:{values:Mn(u.get("values"),a)}}})}n.execute("properties-panel.multi-command-executor",o)}}function m6t({bpmnFactory:n,commandStack:t,element:i}){return function(s){s.stopPropagation();let o=[];const a=G(i);let l=a.get("extensionElements");l||(l=Ot("bpmn:ExtensionElements",{values:[]},a,n),o.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:a,properties:{extensionElements:l}}}));let c=wD(i);c||(c=Ot("zeebe:TaskHeaders",{values:[]},l,n),o.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:l,properties:{values:[...l.get("values"),c]}}}));const u=Ot("zeebe:Header",{},c,n);o.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:c,properties:{values:[...c.get("values"),u]}}}),t.execute("properties-panel.multi-command-executor",o)}}function x_(n){return function y6t(n){return Vn(G(n),"zeebe:CalledElement")}(n)[0]}function v6t(n){const{element:t}=n;return T(t,"bpmn:CallActivity")?[{id:"propagateAllParentVariables",component:b6t,isEdited:CEe}]:[]}function b6t(n){const{element:t}=n,i=O("commandStack"),s=O("bpmnFactory"),o=O("translate"),a=function _6t(n){if(!T(n,"bpmn:CallActivity"))return;const i=x_(G(n));return!i||!po(i,"propagateAllParentVariables")||i.get("propagateAllParentVariables")}(t);return mD({id:"propagateAllParentVariables",label:o("Propagate all parent process variables"),switcherLabel:o(a?"On":"Off"),tooltip:L("div",{children:[L("p",{children:o("If turned on, all variables from the parent process instance will be propagated to the child process instance.")}),L("p",{children:o("Otherwise, only variables defined via input mappings will be propagated.")})]}),getValue:()=>a,setValue:u=>{const d=[],p=G(t);let f=p.get("extensionElements");f||(f=Ot("bpmn:ExtensionElements",{values:[]},p,s),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:p,properties:{extensionElements:f}}}));let h=x_(p);h||(h=Ot("zeebe:CalledElement",{},f,s),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{propagateAllParentVariables:u}}}),i.execute("properties-panel.multi-command-executor",d)}})}function axe(n){const{idPrefix:t,parameter:i}=n;return[{id:t+"-target",component:E6t,idPrefix:t,parameter:i},{id:t+"-source",component:w6t,idPrefix:t,parameter:i}]}function E6t(n){const{idPrefix:t,element:i,parameter:s}=n,o=O("commandStack"),a=O("translate"),l=O("debounceInput");return ft({element:s,id:t+"-target",label:a(T(s,"zeebe:Input")?"Local variable name":"Process variable name"),getValue:d=>d.target,setValue:d=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:s,properties:{target:d}})},debounce:l})}function w6t(n){const{idPrefix:t,element:i,parameter:s}=n,o=O("commandStack"),a=O("translate"),l=O("debounceInput");return Zi({bpmnElement:i,element:s,id:t+"-source",label:a("Variable assignment value"),feel:"required",getValue:d=>d.source,setValue:d=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:s,properties:{source:d}})},debounce:l})}function lxe(n,t){const i=p5(n);return i&&i.get(t)||[]}function p5(n){return(function x6t(n,t,i){const s=Vn(n,t);return i?(s[0]||{})[i]||[]:s}(G(n),"zeebe:IoMapping")||[])[0]}function cxe(n){return lxe.apply(this,[n,"outputParameters"])}function uxe(n,t,i){return Ot("zeebe:IoMapping",n,t,i)}function D6t({element:n,injector:t}){if(!function S6t(n){return Kt(n,["bpmn:UserTask","bpmn:SubProcess","bpmn:CallActivity","bpmn:BusinessRuleTask","bpmn:ScriptTask"])||vU(n)||function P6t(n){return!!Kt(n,["bpmn:EndEvent","bpmn:IntermediateThrowEvent"])&&!!cp(n,"bpmn:SignalEventDefinition")}(n)}(n))return null;const i=function C6t(n){return lxe.apply(this,[n,"inputParameters"])}(n)||[],s=t.get("bpmnFactory"),o=t.get("commandStack");return{items:i.map((l,c)=>{const u=n.id+"-input-"+c;return{id:u,label:l.get("target")||"",entries:axe({idPrefix:u,element:n,parameter:l}),autoFocusEntry:u+"-target",remove:k6t({commandStack:o,element:n,parameter:l})}}),add:M6t({element:n,bpmnFactory:s,commandStack:o})}}function k6t({commandStack:n,element:t,parameter:i}){return function(s){s.stopPropagation();const o=[],a=p5(t);if(!a)return;const l=Mn(a.get("inputParameters"),i);o.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:a,properties:{inputParameters:l}}});const u=G(t).get("extensionElements"),d=Mn(u.get("values"),a);!l.length&&!a.get("outputParameters").length&&o.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:u,properties:{values:d}}}),n.execute("properties-panel.multi-command-executor",o)}}function M6t({element:n,bpmnFactory:t,commandStack:i}){return function(s){s.stopPropagation();const o=[],a=G(n);let l=a.get("extensionElements");l||(l=Ot("bpmn:ExtensionElements",{values:[]},a,t),o.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:a,properties:{extensionElements:l}}}));let c=p5(n);c||(c=uxe({inputParameters:[],outputParameters:[]},l,t),o.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:l,properties:{values:[...l.get("values"),c]}}}));const u=Ot("zeebe:Input",{target:Ff("InputVariable_")},c,t);o.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:c,properties:{inputParameters:[...c.get("inputParameters"),u]}}}),i.execute("properties-panel.multi-command-executor",o)}}function I6t(n){const{element:t}=n,i=O("commandStack"),s=O("translate"),o=O("debounceInput"),a=C1(t);return Zi({element:t,id:"messageName",label:s("Name"),feel:"optional",getValue:()=>a.get("name"),setValue:u=>i.execute("element.updateModdleProperties",{element:t,moddleElement:a,properties:{name:u}}),debounce:o})}function R6t(n){const{element:t}=n,i=O("bpmnFactory"),s=O("commandStack"),o=O("translate"),a=O("debounceInput");return Zi({element:t,id:"messageSubscriptionCorrelationKey",label:o("Subscription correlation key"),feel:"required",getValue:()=>function L6t(n){const t=dxe(n);return t?t.get("correlationKey"):""}(t),setValue:u=>{const d=[],p={correlationKey:u},f=C1(t);let h=f.get("extensionElements");h||(h=Ot("bpmn:ExtensionElements",{values:[]},f,i),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{extensionElements:h}}}));let m=dxe(t);m?d.push({cmd:"element.updateModdleProperties",context:{element:t,properties:p,moddleElement:m}}):(m=Ot("zeebe:Subscription",p,h,i),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),s.execute("properties-panel.multi-command-executor",d)},debounce:a})}function dxe(n){return function F6t(n){return Vn(n,"zeebe:Subscription")}(C1(n))[0]}function B6t(n){const{element:t}=n;return function U6t(n){return!!C_(n)}(t)?[{id:"multiInstance-inputCollection",component:j6t,isEdited:Xi},{id:"multiInstance-inputElement",component:V6t,isEdited:jt},{id:"multiInstance-outputCollection",component:$6t,isEdited:jt},{id:"multiInstance-outputElement",component:z6t,isEdited:Xi},{id:"multiInstance-completionCondition",component:H6t,isEdited:Xi}]:[]}function j6t(n){const{element:t}=n,i=O("commandStack"),s=O("bpmnFactory"),o=O("translate"),a=O("debounceInput");return Zi({element:t,id:"multiInstance-inputCollection",label:o("Input collection"),feel:"required",getValue:()=>OD(t,"inputCollection"),setValue:u=>TD(t,"inputCollection",u,i,s),debounce:a})}function V6t(n){const{element:t}=n,i=O("commandStack"),s=O("bpmnFactory"),o=O("translate"),a=O("debounceInput");return ft({element:t,id:"multiInstance-inputElement",label:o("Input element"),getValue:()=>OD(t,"inputElement"),setValue:u=>TD(t,"inputElement",u,i,s),debounce:a})}function $6t(n){const{element:t}=n,i=O("commandStack"),s=O("bpmnFactory"),o=O("translate"),a=O("debounceInput");return ft({element:t,id:"multiInstance-outputCollection",label:o("Output collection"),getValue:()=>OD(t,"outputCollection"),setValue:u=>TD(t,"outputCollection",u,i,s),debounce:a})}function z6t(n){const{element:t}=n,i=O("commandStack"),s=O("bpmnFactory"),o=O("translate"),a=O("debounceInput");return Zi({element:t,id:"multiInstance-outputElement",label:o("Output element"),feel:"required",getValue:()=>OD(t,"outputElement"),setValue:u=>TD(t,"outputElement",u,i,s),debounce:a})}function H6t(n){const{element:t}=n,i=O("commandStack"),s=O("bpmnFactory"),o=O("translate"),a=O("debounceInput");return Zi({element:t,id:"multiInstance-completionCondition",label:o("Completion condition"),feel:"required",getValue:()=>{const u=function q6t(n){return C_(n).get("completionCondition")}(t);return u&&u.get("body")},setValue:u=>{if(u&&""!==u){const p=Ot("bpmn:FormalExpression",{body:u},C_(t),s);fxe(t,i,p)}else fxe(t,i,void 0)},debounce:a})}function C_(n){return G(n).get("loopCharacteristics")}function pxe(n){const t=Vn(n,"zeebe:LoopCharacteristics");return t&&t[0]}function fxe(n,t,i=void 0){t.execute("element.updateModdleProperties",{element:n,moddleElement:C_(n),properties:{completionCondition:i}})}function OD(n,t){const s=pxe(C_(n));return s&&s.get(t)}function TD(n,t,i,s,o){const a=C_(n),l=[];let c=a.get("extensionElements");c||(c=Ot("bpmn:ExtensionElements",{values:[]},a,o),l.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:a,properties:{extensionElements:c}}}));let u=pxe(a);u||(u=Ot("zeebe:LoopCharacteristics",{},c,o),l.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:c,properties:{values:[...c.get("values"),u]}}})),l.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:u,properties:{[t]:i}}}),s.execute("properties-panel.multi-command-executor",l)}function W6t(n){const{element:t}=n;return T(t,"bpmn:CallActivity")?[{id:"propagateAllChildVariables",component:G6t,isEdited:CEe}]:[]}function G6t(n){const{element:t}=n,i=O("commandStack"),s=O("bpmnFactory"),o=O("translate"),a=function Y6t(n){if(!T(n,"bpmn:CallActivity"))return;const i=x_(G(n));return i&&po(i,"propagateAllChildVariables")?i.get("propagateAllChildVariables"):function K6t(n){const t=cxe(n);if(t)return!(t.length>0)}(n)}(t);return mD({id:"propagateAllChildVariables",label:o("Propagate all child process variables"),switcherLabel:o(a?"On":"Off"),tooltip:L("div",{children:[L("p",{children:o("If turned on, all variables from the child process instance will be propagated to the parent process instance.")}),L("p",{children:o("Otherwise, only variables defined via output mappings will be propagated.")})]}),getValue:()=>a,setValue:u=>{const d=[],p=G(t);let f=p.get("extensionElements");f||(f=Ot("bpmn:ExtensionElements",{values:[]},p,s),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:p,properties:{extensionElements:f}}}));let h=x_(p);h||(h=Ot("zeebe:CalledElement",{},f,s),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{propagateAllChildVariables:u}}}),i.execute("properties-panel.multi-command-executor",d)}})}function X6t({element:n,injector:t}){if(!function O6t(n){return(!T(n,"bpmn:EndEvent")||!y_(n)&&!function T6t(n){return cp(n,"bpmn:TerminateEventDefinition")}(n))&&Kt(n,["zeebe:ZeebeServiceTask","bpmn:UserTask","bpmn:SubProcess","bpmn:ReceiveTask","bpmn:CallActivity","bpmn:Event","bpmn:BusinessRuleTask"])}(n))return null;const i=cxe(n)||[],s=t.get("bpmnFactory"),o=t.get("commandStack");return{items:i.map((l,c)=>{const u=n.id+"-output-"+c;return{id:u,label:l.get("target")||"",entries:axe({idPrefix:u,element:n,parameter:l}),autoFocusEntry:u+"-target",remove:Z6t({commandStack:o,element:n,parameter:l})}}),add:Q6t({element:n,bpmnFactory:s,commandStack:o})}}function Z6t({commandStack:n,element:t,parameter:i}){return function(s){s.stopPropagation();let o=[];const a=p5(t);if(!a)return;const l=Mn(a.get("outputParameters"),i);if(o.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:a,properties:{outputParameters:l}}}),!a.get("inputParameters").length&&!l.length){const u=G(t).get("extensionElements"),d=Mn(u.get("values"),a);o.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:u,properties:{values:d}}})}n.execute("properties-panel.multi-command-executor",o)}}function Q6t({element:n,bpmnFactory:t,commandStack:i}){return function(s){s.stopPropagation();let o=[];const a=G(n);let l=a.get("extensionElements");l||(l=Ot("bpmn:ExtensionElements",{values:[]},a,t),o.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:a,properties:{extensionElements:l}}}));let c=p5(n);c||(c=uxe({inputParameters:[],outputParameters:[]},l,t),o.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:l,properties:{values:[...l.get("values"),c]}}}));const u=Ot("zeebe:Output",{target:Ff("OutputVariable_")},c,t);o.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:c,properties:{outputParameters:[...c.get("outputParameters"),u]}}}),i.execute("properties-panel.multi-command-executor",o)}}function J6t(n){const{element:t}=n;return function tSt(n){const t=G(n);return T(n,"bpmn:UserTask")&&!!Vn(t,"zeebe:UserTask")[0]}(t)?[{id:"priorityDefinitionPriority",component:eSt,isEdited:Xi}]:[]}function eSt(n){const{element:t}=n,i=O("commandStack"),s=O("bpmnFactory"),o=O("translate"),a=O("debounceInput");return Zi({element:t,id:"priorityDefinitionPriority",label:o("Priority"),feel:"optional",getValue:()=>(hxe(t)||{}).priority,setValue:u=>{const d=[];let f=G(t).get("extensionElements"),h=hxe(t);const m=null===u||""===u||void 0===u;h&&m?d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{values:f.get("values").filter(g=>g!==h)}}}):h&&!m?d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{priority:u}}}):!h&&!m&&(h=Ot("zeebe:PriorityDefinition",{priority:u},f,s),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),i.execute("properties-panel.multi-command-executor",d)},debounce:a})}function hxe(n){return Vn(G(n),"zeebe:PriorityDefinition")[0]}const OU="script",TU="jobWorker";function nSt(n){const{element:t}=n;return T(t,"bpmn:ScriptTask")?[{id:"scriptImplementation",component:rSt,isEdited:()=>function sSt(n){return PD(n)||f5(n)}(t)}]:[]}function rSt(n){const{element:t,id:i}=n,s=O("commandStack"),o=O("bpmnFactory"),a=O("translate");return Kr({element:t,id:i,label:a("Implementation"),getValue:()=>f5(t)?OU:PD(t)?TU:"",setValue:d=>{let p,f;d===OU?(p=f5(t),f="zeebe:Script"):d===TU?(p=PD(t),f="zeebe:TaskDefinition"):function oSt(n,t){const i=G(n),s=PD(n),o=function iSt(n){return Vn(G(n),"zeebe:TaskHeaders")}(n),a=f5(n);s?mu(n,i,[s,o].filter(Boolean),t):a&&mu(n,i,a,t)}(t,s),!p&&f&&(p=Ot(f,{},null,o),function aSt(n,t,i,s){const o=G(n),a=[];let c,l=o.get("extensionElements");if(l||(l=Ot("bpmn:ExtensionElements",{values:[]},o,i),a.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:o,properties:{extensionElements:l}}})),t.$parent=l,T(t,"zeebe:TaskDefinition"))c=Mn(l.get("values"),f5(n));else if(T(t,"zeebe:Script")){const u=d=>Kt(d,["zeebe:TaskDefinition","zeebe:TaskHeaders"]);c=Mn(l.get("values"),u)}a.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:l,properties:{values:[...c,t]}}}),s.execute("properties-panel.multi-command-executor",a)}(t,p,o,s))},getOptions:()=>[{value:"",label:a("<none>")},{value:OU,label:a("FEEL expression")},{value:TU,label:a("Job worker")}]})}function PD(n){return Vn(G(n),"zeebe:TaskDefinition")[0]}function f5(n){return Vn(G(n),"zeebe:Script")[0]}function lSt(n){const{element:t}=n;return T(t,"bpmn:ScriptTask")&&h5(t)?[{id:"resultVariable",component:uSt,isEdited:jt},{id:"scriptExpression",component:cSt,isEdited:Xi}]:[]}function cSt(n){const{element:t,id:i}=n,s=O("commandStack"),o=O("bpmnFactory"),a=O("translate"),l=O("debounceInput");return Zi({element:t,id:i,label:a("FEEL expression"),feel:"required",getValue:()=>(h5(t)||{}).get("expression"),setValue:d=>{const p=[],f=G(t);let h=f.get("extensionElements");h||(h=Ot("bpmn:ExtensionElements",{values:[]},f,o),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{extensionElements:h}}}));let m=h5(t);m||(m=Ot("zeebe:Script",{},h,o),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:m,properties:{expression:d}}}),s.execute("properties-panel.multi-command-executor",p)},debounce:l})}function uSt(n){const{element:t,id:i}=n,s=O("commandStack"),o=O("bpmnFactory"),a=O("translate"),l=O("debounceInput");return ft({element:t,id:i,label:a("Result variable"),getValue:()=>(h5(t)||{}).resultVariable,setValue:d=>{const p=[],f=G(t);let h=f.get("extensionElements");h||(h=Ot("bpmn:ExtensionElements",{values:[]},f,o),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{extensionElements:h}}}));let m=h5(t);m||(m=Ot("zeebe:Script",{},h,o),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:m,properties:{resultVariable:d}}}),s.execute("properties-panel.multi-command-executor",p)},debounce:l})}function h5(n){return Vn(G(n),"zeebe:Script")[0]}function pSt(n){const{element:t}=n,i=O("commandStack"),s=O("translate"),o=O("debounceInput"),a=Gwe(t);return Zi({element:t,id:"signalName",label:s("Name"),feel:"optional",getValue:()=>a.get("name"),setValue:u=>i.execute("element.updateModdleProperties",{element:t,moddleElement:a,properties:{name:u}}),debounce:o})}const fSt=E_(EU,{type:"zeebe:CalledElement"}),hSt=E_(wU,{type:"zeebe:CalledElement"});function mSt(n){const{element:t}=n;if(!T(t,"bpmn:CallActivity"))return[];const i=[{id:"targetProcessId",component:gSt,isEdited:Xi},{id:"bindingType",component:fSt,isEdited:fi}];return"versionTag"===xD(t,"zeebe:CalledElement")&&i.push({id:"versionTag",component:hSt,isEdited:jt}),i}function gSt(n){const{element:t,id:i}=n,s=O("commandStack"),o=O("bpmnFactory"),a=O("translate"),l=O("debounceInput");return Zi({element:t,id:i,label:a("Process ID"),feel:"optional",getValue:()=>function g6t(n){const t=x_(n);return t?t.get("processId"):""}(t),setValue:d=>{const p=[],f=G(t);let h=f.get("extensionElements");h||(h=Ot("bpmn:ExtensionElements",{values:[]},f,o),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{extensionElements:h}}}));let m=x_(f);m||(m=Ot("zeebe:CalledElement",{},h,o),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:m,properties:{processId:d}}}),s.execute("properties-panel.multi-command-executor",p)},debounce:l})}function ySt(n){const{element:t}=n;return vU(t)?[{id:"taskDefinitionType",component:vSt,isEdited:Xi},{id:"taskDefinitionRetries",component:bSt,isEdited:Xi}]:[]}function vSt(n){const{element:t,id:i}=n,s=O("commandStack"),o=O("bpmnFactory"),a=O("translate"),l=O("debounceInput");return Zi({element:t,id:i,label:a("Job type"),feel:"optional",getValue:()=>(DD(t)||{}).type,setValue:d=>{const p=[],f=G(t);let h=f.get("extensionElements");h||(h=Ot("bpmn:ExtensionElements",{values:[]},f,o),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{extensionElements:h}}}));let m=DD(t);m||(m=Ot("zeebe:TaskDefinition",{},h,o),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:m,properties:{type:d}}}),s.execute("properties-panel.multi-command-executor",p)},debounce:l})}function bSt(n){const{element:t,id:i}=n,s=O("commandStack"),o=O("bpmnFactory"),a=O("translate"),l=O("debounceInput");return Zi({element:t,id:i,label:a("Retries"),feel:"optional",getValue:()=>(DD(t)||{}).retries,setValue:d=>{let p=[];const f=G(t);let h=f.get("extensionElements");h||(h=Ot("bpmn:ExtensionElements",{values:[]},f,o),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{extensionElements:h}}}));let m=DD(t);m||(m=Ot("zeebe:TaskDefinition",{},h,o),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:m,properties:{retries:d}}}),s.execute("properties-panel.multi-command-executor",p)},debounce:l})}function DD(n){return Vn(G(n),"zeebe:TaskDefinition")[0]}function _St(n){const{element:t}=n;return T(t,"bpmn:UserTask")?[{id:"taskScheduleDueDate",component:ESt,isEdited:Xi},{id:"taskScheduleFollowUpDate",component:wSt,isEdited:Xi}]:[]}function ESt(n){const{element:t}=n,i=O("commandStack"),s=O("bpmnFactory"),o=O("translate"),a=O("debounceInput");return Zi({element:t,id:"taskScheduleDueDate",label:o("Due date"),feel:"optional",getValue:()=>{const u=kD(t);if(u)return u.get("dueDate")},setValue:u=>{let d=[];const p=G(t);let f=p.get("extensionElements");f||(f=Ot("bpmn:ExtensionElements",{values:[]},p,s),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:p,properties:{extensionElements:f}}}));let h=kD(t);h||(h=Ot("zeebe:TaskSchedule",{},f,s),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{dueDate:u}}}),i.execute("properties-panel.multi-command-executor",d)},debounce:a})}function wSt(n){const{element:t}=n,i=O("commandStack"),s=O("bpmnFactory"),o=O("translate"),a=O("debounceInput");return Zi({element:t,id:"taskScheduleFollowUpDate",label:o("Follow up date"),feel:"optional",getValue:()=>{const u=kD(t);if(u)return u.get("followUpDate")},setValue:u=>{let d=[];const p=G(t);let f=p.get("extensionElements");f||(f=Ot("bpmn:ExtensionElements",{values:[]},p,s),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:p,properties:{extensionElements:f}}}));let h=kD(t);h||(h=Ot("zeebe:TaskSchedule",{},f,s),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{followUpDate:u}}}),i.execute("properties-panel.multi-command-executor",d)},debounce:a})}function kD(n){return Vn(G(n),"zeebe:TaskSchedule")[0]}function PU(n,t){const i=G(t);switch(n){case"timeDate":return Kt(t,["bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent","bpmn:StartEvent"]);case"timeCycle":return!!(T(t,"bpmn:StartEvent")&&!yxe(i)||!gxe(i)||T(t,"bpmn:BoundaryEvent")&&!gxe(i));case"timeDuration":return!!(Kt(t,["bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"])||T(t,"bpmn:StartEvent")&&yxe(i));default:return!1}}function gxe(n){return T(n,"bpmn:BoundaryEvent")?!1!==n.get("cancelActivity"):!1!==n.get("isInterrupting")}function yxe(n){const t=n.$parent;return t&&T(t,"bpmn:SubProcess")&&t.get("triggeredByEvent")}function xSt(n){const{element:t,injector:i}=n,s=i.get("translate"),l=_D(S1(G(t)));if(!yU(t))return[];const c=function CSt(n,t){const i=[];return PU("timeDate",n)&&i.push({value:"timeDate",label:t("Date")}),PU("timeDuration",n)&&i.push({value:"timeDuration",label:t("Duration")}),PU("timeCycle",n)&&i.push({value:"timeCycle",label:t("Cycle")}),i}(t,s),u=[];return u.push({id:"timerEventDefinitionType",component:SSt,isEdited:fi,options:c}),l&&u.push({id:"timerEventDefinitionValue",component:OSt,isEdited:Xi,timerEventDefinitionType:l||c[0].value}),u}function SSt(n){const{element:t,options:i}=n,s=O("commandStack"),o=O("bpmnFactory"),a=O("translate"),c=S1(G(t)),u=_D(c);return Kr({element:t,id:"timerEventDefinitionType",label:a("Type"),getValue:()=>u||"",setValue:h=>{if(h===u)return;const m=vxe(o,c),g={timeDuration:void 0,timeDate:void 0,timeCycle:void 0};""!==h&&(g[h]=m),s.execute("element.updateModdleProperties",{element:t,moddleElement:c,properties:g})},getOptions:h=>[{value:"",label:a("<none>")},...i]})}function OSt(n){const{element:t,label:i,timerEventDefinitionType:s}=n,o=O("commandStack"),a=O("translate"),l=O("debounceInput"),c=O("bpmnFactory"),d=S1(G(t)),p=d.get(s);return Zi({element:t,id:"timerEventDefinitionValue",label:i||a("Value"),feel:"optional",getValue:()=>p&&p.get("body"),setValue:m=>{if(!p){const g=vxe(c,d);return g.set("body",m),void o.execute("element.updateModdleProperties",{element:t,moddleElement:d,properties:{[s]:g}})}o.execute("element.updateModdleProperties",{element:t,moddleElement:p,properties:{body:m}})},debounce:l,tooltip:TSt(s,a)})}function vxe(n,t){const i=n.create("bpmn:FormalExpression",{body:void 0});return i.$parent=t,i}function TSt(n,t){switch(n){case"timeDate":return L("div",{children:[L("p",{children:t("A specific point in time defined as ISO 8601 combined date and time representation.")}),L("ul",{children:[L("li",{children:[L("code",{children:"2019-10-01T12:00:00Z"})," - ",t("UTC time")]}),L("li",{children:[L("code",{children:"2019-10-02T08:09:40+02:00"})," - ",t("UTC plus 2 hours zone offset")]})]}),L("a",{href:"https://docs.camunda.io/docs/reference/bpmn-processes/timer-events/timer-events#time-date",target:"_blank",rel:"noopener",title:t("Timer documentation"),children:t("How to configure a timer")})]});case"timeCycle":return L("div",{children:[L("p",{children:t("A cycle defined as ISO 8601 repeating intervals format, or a cron expression.")}),L("ul",{children:[L("li",{children:[L("code",{children:"R5/PT10S"})," - ",t("every 10 seconds, up to 5 times")]}),L("li",{children:[L("code",{children:"R/P1D"})," - ",t("every day, infinitely")]}),L("li",{children:[L("code",{children:"0 0 9-17 * * MON-FRI"})," - ",t("every hour on the hour from 9-5 p.m. UTC Monday-Friday")]})]}),L("a",{href:"https://docs.camunda.io/docs/reference/bpmn-processes/timer-events/timer-events#time-cycle",target:"_blank",rel:"noopener",title:t("Timer documentation"),children:t("How to configure a timer")})]});case"timeDuration":return L("div",{children:[L("p",{children:t("A time duration defined as ISO 8601 durations format.")}),L("ul",{children:[L("li",{children:[L("code",{children:"PT15S"})," - ",t("15 seconds")]}),L("li",{children:[L("code",{children:"PT1H30M"})," - ",t("1 hour and 30 minutes")]}),L("li",{children:[L("code",{children:"P14D"})," - ",t("14 days")]})]}),L("a",{href:"https://docs.camunda.io/docs/reference/bpmn-processes/timer-events/timer-events#time-duration",target:"_blank",rel:"noopener",title:t("Timer documentation"),children:t("How to configure a timer")})]})}}const DU="zeebeUserTask",kU="jobWorker";function PSt(n){const{element:t}=n;return T(t,"bpmn:UserTask")?[{id:"userTaskImplementation",component:DSt,isEdited:()=>function ASt(n){return MU(n)}(t)}]:[]}function DSt(n){const{element:t,id:i}=n,s=O("commandStack"),o=O("bpmnFactory"),a=O("translate");return Kr({element:t,id:i,label:a("Type"),getValue:()=>MU(t)?DU:kU,setValue:d=>{d===DU?function kSt(n,t,i){const s=G(n);!function Bf(n,t,i,s,o){const a=[];let l=t.get("extensionElements");l||(l=Ot("bpmn:ExtensionElements",{values:[]},t,s),a.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:t,properties:{extensionElements:l}}})),i.$parent=l,a.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:l,properties:{values:[...l.get("values"),i]}}}),o.execute("properties-panel.multi-command-executor",a)}(n,s,Ot("zeebe:UserTask",{},s,t),t,i)}(t,o,s):d===kU&&function MSt(n,t){const i=MU(n);mu(n,G(n),i,t)}(t,s)},getOptions:()=>[{value:DU,label:a("Zeebe user task")},{value:kU,label:a("Job worker")}]})}function MU(n){return Vn(G(n),"zeebe:UserTask")[0]}function RSt(n){const{element:t}=n,i=O("bpmnFactory"),s=O("commandStack"),o=O("debounceInput"),a=O("translate");return ft({element:t,id:"versionTag",label:a("Version tag"),getValue:()=>{const u=_xe(t);if(u)return u.get("value")},setValue:u=>{let d=[];const p=bxe(t);let f=p.get("extensionElements");f||(f=Ot("bpmn:ExtensionElements",{values:[]},p,i),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:p,properties:{extensionElements:f}}}));let h=_xe(t);h||(h=Ot("zeebe:VersionTag",{},f,i),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{value:u}}}),s.execute("properties-panel.multi-command-executor",d)},debounce:o})}function bxe(n){return T(n,"bpmn:Process")?G(n):G(n).get("processRef")}function _xe(n){return Vn(bxe(n),"zeebe:VersionTag")[0]}function NSt(n){const{idPrefix:t,property:i}=n;return[{id:t+"-name",component:LSt,idPrefix:t,property:i},{id:t+"-value",component:FSt,idPrefix:t,property:i}]}function LSt(n){const{idPrefix:t,element:i,property:s}=n,o=O("commandStack"),a=O("translate"),l=O("debounceInput");return ft({element:s,id:t+"-name",label:a("Name"),getValue:()=>s.name,setValue:d=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:s,properties:{name:d}})},debounce:l})}function FSt(n){const{idPrefix:t,element:i,property:s}=n,o=O("commandStack"),a=O("translate"),l=O("debounceInput");return ft({element:s,id:t+"-value",label:a("Value"),getValue:()=>s.value,setValue:d=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:s,properties:{value:d}})},debounce:l})}function Exe({element:n,injector:t,namespace:i="camunda"}){let s=m5(n);if(!s)return;const o=function VSt(n,t="camunda"){const s=IU(m5(n),t);return s&&s.get(AU(t))}(s,i)||[],a=t.get("bpmnFactory"),l=t.get("commandStack");return{items:o.map((u,d)=>{const p=n.id+"-extensionProperty-"+d;return{id:p,label:u.get("name")||"",entries:NSt({idPrefix:p,element:n,property:u}),autoFocusEntry:p+"-name",remove:BSt({commandStack:l,element:n,property:u,namespace:i})}}),add:jSt({bpmnFactory:a,commandStack:l,element:n,namespace:i})}}function BSt({commandStack:n,element:t,property:i,namespace:s}){return function(o){o.stopPropagation();const a=[],l=m5(t),c=l.get("extensionElements"),u=IU(l,s);if(!u)return;const d=AU(s),p=Mn(u.get(d),i);a.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:u,properties:{[d]:p}}}),p.length||a.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:c,properties:{values:Mn(c.get("values"),u)}}}),n.execute("properties-panel.multi-command-executor",a)}}function jSt({bpmnFactory:n,commandStack:t,element:i,namespace:s}){return function(o){o.stopPropagation();let a=[];const l=m5(i);let c=l.get("extensionElements");c||(c=Ot("bpmn:ExtensionElements",{values:[]},l,n),a.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:l,properties:{extensionElements:c}}}));const u=AU(s);let d=IU(l,s);if(!d){const f=c;d=Ot(`${s}:Properties`,{[u]:[]},f,n),a.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:c,properties:{values:[...c.get("values"),d]}}})}const p=Ot(`${s}:Property`,{},d,n);a.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:d,properties:{[u]:[...d.get(u),p]}}}),t.execute("properties-panel.multi-command-executor",a)}}function m5(n){let t=G(n);return T(n,"bpmn:Participant")?t.get("processRef"):t}function AU(n="camunda"){return"zeebe"===n?"properties":"values"}function IU(n,t="camunda"){return Vn(m5(n),`${t}:Properties`)[0]}const zSt=[function tOt(n,t){const s={id:"businessRuleImplementation",label:t.get("translate")("Implementation"),entries:[...gCt({element:n})],component:er};return s.entries.length?s:null},function USt(n,t){const s={id:"calledDecision",label:t.get("translate")("Called decision"),entries:[...CCt({element:n})],component:er};return s.entries.length?s:null},function nOt(n,t){const s={id:"scriptImplementation",label:t.get("translate")("Implementation"),entries:[...nSt({element:n})],component:er};return s.entries.length?s:null},function qSt(n,t){const s={id:"script",label:t.get("translate")("Script"),entries:[...lSt({element:n})],component:er};return s.entries.length?s:null},function rOt(n,t){const s={id:"userTaskImplementation",label:t.get("translate")("Implementation"),entries:[...PSt({element:n})],component:er};return s.entries.length?s:null},function WSt(n,t){const s={id:"taskDefinition",label:t.get("translate")("Task definition"),entries:[...ySt({element:n})],component:er};return s.entries.length?s:null},function iOt(n,t){const s={id:"assignmentDefinition",label:t.get("translate")("Assignment"),entries:[...aCt({element:n}),..._St({element:n}),...J6t({element:n})],component:er};return s.entries.length?s:null},function XSt(n,t){const s={id:"form",label:t.get("translate")("Form"),entries:[...QCt({element:n,injector:t})],component:er};return s.entries.length?s:null},function YSt(n,t){const s={id:"condition",label:t.get("translate")("Condition"),entries:[...TCt({element:n})],component:er};return s.entries.length?s:null},function ZSt(n,t){const s={id:"calledElement",label:t.get("translate")("Called element"),entries:[...mSt({element:n})],component:er};return s.entries.length?s:null},function eOt(n,t){const s={id:"inputPropagation",label:t.get("translate")("Input propagation"),entries:[...v6t({element:n})],component:er};return s.entries.length?s:null},function GSt(n,t){const s={id:"inputs",label:t.get("translate")("Inputs"),component:zs,...D6t({element:n,injector:t})};return s.items?s:null},function JSt(n,t){const s={id:"outputPropagation",label:t.get("translate")("Output propagation"),entries:[...W6t({element:n})],component:er};return s.entries.length?s:null},function KSt(n,t){const s={id:"outputs",label:t.get("translate")("Outputs"),component:zs,...X6t({element:n,injector:t})};return s.items?s:null},function QSt(n,t){const s={id:"headers",label:t.get("translate")("Headers"),component:zs,...f6t({element:n,injector:t})};return s.items?s:null},function sOt(n,t){const s={label:t.get("translate")("Execution listeners"),id:"Zeebe__ExecutionListeners",component:zs,...VCt({element:n,injector:t})};return s.items?s:null},function oOt(n,t){const s={label:t.get("translate")("Extension properties"),id:"Zeebe__ExtensionProperties",component:zs,...Exe({element:n,injector:t,namespace:"zeebe"})};return s.items?s:null}];function W0(n,t){return n.find(i=>i.id===t)}function MD(n,t){return[...n.filter(s=>!t.find(o=>o.id===s.id)),...t]}var mOt={__init__:["zeebePropertiesProvider"],zeebePropertiesProvider:["type",(()=>{class n{constructor(i,s){i.registerProvider(500,this),this._injector=s}getGroups(i){return s=>(function aOt(n,t){const i=W0(n,"general");if(!i)return;const{entries:s}=i,o=Pl(s,l=>"isExecutable"===l.id);s.splice(o>=0?o:s.length,0,...function ISt(n){const{element:t}=n,i=G(t);return T(t,"bpmn:Process")||T(t,"bpmn:Participant")&&i.get("processRef")?[{id:"versionTag",component:RSt,isEdited:jt}]:[]}({element:t}))}(s=s.concat(this._getGroups(i)),i),function lOt(n,t){const i=W0(n,"error");i&&(i.entries=MD(i.entries,function ACt(n){const{element:t}=n,s=[];return H0(t)&&T(t,"bpmn:ThrowEvent")&&s.push({id:"errorCode",component:ICt,isEdited:Xi}),s}({element:t})))}(s,i),function cOt(n,t){const i=W0(n,"escalation");i&&(i.entries=MD(i.entries,function RCt(n){const{element:t}=n;if(!T(t,"bpmn:ThrowEvent"))return[];const s=[];return v_(t)&&s.push({id:"escalationCode",component:NCt,isEdited:Xi}),s}({element:t})))}(s,i),function dOt(n,t){const i=W0(n,"message");i&&(i.entries=MD(i.entries,function A6t(n){const{element:t}=n,i=C1(t),s=[];return i&&s.push({id:"messageName",component:I6t,isEdited:Xi}),i&&function N6t(n){return!!(T(n,"bpmn:ReceiveTask")||!T(n,"bpmn:StartEvent")||T(n,"bpmn:StartEvent")&&Zs(n.parent))}(t)&&s.push({id:"messageSubscriptionCorrelationKey",component:R6t,isEdited:Xi}),s}({element:t})))}(s,i),function uOt(n,t){const i=W0(n,"signal");i&&(i.entries=MD(i.entries,function dSt(n){const{element:t}=n;if(!function B4t(n){return T(n,"bpmn:Event")&&!!Wwe(n)}(t))return[];let s=[];return Gwe(t)&&(s=[...s,{id:"signalName",component:pSt,isEdited:Xi}]),s}({element:t})))}(s,i),function pOt(n,t,i){const s=W0(n,"timer");s&&(s.entries=[...xSt({element:t,injector:i})])}(s,i,this._injector),function fOt(n,t){const i=W0(n,"multiInstance");i&&(i.entries=[...B6t({element:t})])}(s,i),s=function hOt(n,t){const i=W0(n,"message");return(function dCt(n){return T(n,"bpmn:EndEvent")&&!!x1(n)}(t)||function pCt(n){return T(n,"bpmn:IntermediateThrowEvent")&&!!x1(n)}(t))&&(n=n.filter(s=>s!=i)),n}(s,i),s)}_getGroups(i){return zSt.map(o=>o(i,this._injector)).filter(o=>null!==o)}}return n.$inject=["propertiesPanel","injector"],n})()]};const lMt={"group-assignmentDefinition":n=>{const t=O("translate");return L("div",{children:[t("Define who the task is assigned to. One or all of the following attributes can be specified simultaneously. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/user-tasks/#assignments",target:"_blank",rel:"noopener",title:t("User task documentation"),children:t("Learn more.")})]})},"group-condition":n=>{const t=O("translate");return L("div",{children:[t("Define a boolean condition expression that defines when this flow is taken. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/exclusive-gateways/#conditions",target:"_blank",rel:"noopener",title:t("Conditions documentation"),children:t("Learn how to define conditions.")})]})},"group-businessRuleImplementation":n=>{const t=O("translate");return L("div",{children:[t("Evaluate a business rule, for example a DMN decision. To add a custom implementation, use a job worker. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/business-rule-tasks/#defining-a-task",target:"_blank",rel:"noopener",title:t("Business rule task documentation"),children:t("Learn more.")})]})},"group-scriptImplementation":n=>{const t=O("translate");return L("div",{children:[t("Implement a script task using an inline FEEL expression. To add a custom implementation, use a job worker. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/script-tasks/#defining-a-script-task",target:"_blank",rel:"noopener",title:t("Script task documentation"),children:t("Learn more.")})]})},"group-userTaskImplementation":n=>{const t=O("translate");return L("div",{children:[t("Implement a user task managed by Zeebe. To add a custom implementation, use a job worker. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/user-tasks/#define-a-user-task",target:"_blank",rel:"noopener",title:t("User task documentation"),children:t("Learn more.")})]})},"group-form":n=>{const t=O("translate");return txe(n)?L("div",{children:[t("Link a form created with the Camunda Forms editor. To associate a custom form, application, or URL to the user task, specify an external reference. "),L("a",{href:"https://docs.camunda.io/docs/guides/utilizing-forms/#link-your-form-to-a-bpmn-diagram",target:"_blank",rel:"noopener",title:t("User task form documentation"),children:t("Learn more.")})]}):L("div",{children:[t("Link or embed a form created with the Camunda Forms editor. To associate a custom form, application, or URL to the user task, specify a form key. "),L("a",{href:"https://docs.camunda.io/docs/guides/utilizing-forms/#link-your-form-to-a-bpmn-diagram",target:"_blank",rel:"noopener",title:t("User task form documentation"),children:t("Learn more.")})]})},"group-calledDecision":n=>{const t=O("translate");return L("div",{children:[t("Define the decision to evaluate and how to map back the evaluation result. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/business-rule-tasks/#defining-a-called-decision",target:"_blank",rel:"noopener",title:t("Send task documentation"),children:t("Learn more.")})]})},"group-message":n=>{const t=O("translate");return T(n,"bpmn:ReceiveTask")?L("div",{children:[t("Define the name of the message (e.g. "),L("code",{children:"Money collected"}),t(") and the "),L("code",{children:"correlationKey"}),t(" expression (e.g. "),L("code",{children:"= orderId"}),t(")"),t(" to subscribe to. "),t("Learn more how to "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/send-tasks",target:"_blank",rel:"noopener",title:t("Send task documentation"),children:t("send ")}),t("and "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/receive-tasks",target:"_blank",rel:"noopener",title:t("Receive task documentation"),children:t("receive messages. ")})]}):L("div",{children:[t("Define the name of the message (e.g. "),L("code",{children:"Money collected"}),t(") and the "),L("code",{children:"correlationKey"}),t(" expression (e.g. "),L("code",{children:"= orderId"}),t(")"),t(" to subscribe to. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/message-events/#messages",target:"_blank",rel:"noopener",title:t("Message event documentation"),children:t("Learn more.")})]})},"group-calledElement":n=>{const t=O("translate");return L("div",{children:[t("Define the ID of the process to call (e.g. ")," ",L("code",{children:"shipping-process"}),t(" or "),L("code",{children:'= "shipping-" + tenantId'})," ",t("). "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/call-activities/",target:"_blank",rel:"noopener",title:t("Call activity documentation"),children:t("Learn more.")})]})},"group-taskDefinition":n=>{const t=O("translate");return T(n,"bpmn:ServiceTask")?L("div",{children:[t("Specify which job workers handle the task work to execute a service (e.g. "),L("code",{children:"order-items"}),t("). "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/service-tasks",target:"_blank",rel:"noopener",title:t("Service task documentation"),children:t("Learn more.")})]}):T(n,"bpmn:BusinessRuleTask")?L("div",{children:[t("Specify which job workers handle the task work to evaluate business rules. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/business-rule-tasks/#job-worker-implementation",target:"_blank",rel:"noopener",title:t("Business rule task documentation"),children:t("Learn more.")})]}):T(n,"bpmn:ScriptTask")?L("div",{children:[t("Specify which job workers handle the task work to execute a script. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/script-tasks/#defining-a-task",target:"_blank",rel:"noopener",title:t("Script task documentation"),children:t("Learn more.")})]}):T(n,"bpmn:SendTask")?L("div",{children:[t("Specify which job workers handle the task work to send a message (e.g. "),L("code",{children:"kafka"}),t(" or "),L("code",{children:"mail"}),t("). "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/send-tasks/#defining-a-task",target:"_blank",rel:"noopener",title:t("Send task documentation"),children:t("Learn more.")})]}):T(n,"bpmn:ThrowEvent")?L("div",{children:[t("Specify which job workers handle the event work. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/message-events/#message-throw-events",target:"_blank",rel:"noopener",title:t("Message throw event documentation"),children:t("Learn more.")})]}):void 0},"group-multiInstance":n=>{const t=O("translate");return L("div",{children:[t("Execute this task for each element of a given collection. "),L("br",{}),t("Define an input collection expression that defines the collection to iterate over (e.g. "),L("code",{children:"= items"}),t("). "),t("To collect the output define the output collection and the output element expressions. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/multi-instance/#defining-the-collection-to-iterate-over",target:"_blank",rel:"noopener",title:t("Multi instance documentation"),children:t("Learn more.")})]})},"group-error":n=>{const t=O("translate");return L("div",{children:[t("Define an error code (e.g. "),L("code",{children:"order-not-found"}),t("). "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/error-events/#defining-the-error",target:"_blank",rel:"noopener",title:t("Error event documentation"),children:t("Learn more.")})]})},"group-inputs":n=>{const t=O("translate");return L("div",{children:[t("Create a new local variable in the scope of this task. "),L("a",{href:"https://docs.camunda.io/docs/components/concepts/variables/#input-mappings",target:"_blank",rel:"noopener",title:t("Input mappings documentation"),children:t("Learn more.")})]})},"group-outputs":n=>{const t=O("translate");return L("div",{children:[t("Customize how result variables are merged into the global scope of the process instance. "),L("a",{href:"https://docs.camunda.io/docs/components/concepts/variables/#output-mappings",target:"_blank",rel:"noopener",title:t("Output mappings documentation"),children:t("Learn more.")})]})},taskDefinitionRetries:n=>{const t=O("translate");return L("div",{children:L("p",{children:[t("The number of times the engine tries executing this activity if a worker signals a failure. The default is three.")," "," ",L("a",{href:"https://docs.camunda.io/docs/next/components/best-practices/development/dealing-with-problems-and-exceptions/#leveraging-retries",target:"_blank",rel:"noopener",children:t("Learn more.")})]})})},bindingType:n=>{const t=O("translate");return L("div",{children:[L("p",{children:[L("h1",{children:t("Latest binding")}),t("Uses the most recent deployed resource.")]}),L("p",{children:[L("h1",{children:t("Deployment binding")}),t("Uses the resource found in the same deployment.")]}),L("p",{children:[L("h1",{children:t("Version tag binding")}),t("Uses the most recent deployed resource with the given version tag.")]})]})},versionTag:n=>{const t=O("translate");return Kt(n,["bpmn:Process","bpmn:Participant"])?L("div",{children:L("p",{children:t("Version tag by which this process can be referenced.")})}):T(n,"bpmn:CallActivity")?L("div",{children:L("p",{children:t("Version tag by which the called process will be referenced.")})}):T(n,"bpmn:BusinessRuleTask")?L("div",{children:L("p",{children:t("Version tag by which the called decision will be referenced.")})}):T(n,"bpmn:UserTask")?L("div",{children:L("p",{children:t("Version tag by which the linked form will be referenced.")})}):void 0},priorityDefinitionPriority:n=>{const t=O("translate");return L("div",{children:[L("p",{children:t("An integer value that can range from 0 to 100, where a higher value indicates a higher priority.")}),L("p",{children:t("If unset, the default value is 50.")})]})}};function K0(n={}){dc.call(this,n)}function Vf(n,t=void 0){const s=G(n).get("extensionElements");if(!s)return[];const o=s.get("values");return o&&o.length?t?o.filter(a=>T(a,t)):o:[]}function FD(n,t,i,s){Vt(i)||(i=[i]);const o=t.get("extensionElements"),a=o.get("values").filter(l=>!i.includes(l));s.execute("element.updateModdleProperties",{element:n,moddleElement:o,properties:{values:a}})}Lt(K0,dc),K0.prototype.getModules=function(n={}){return[...dc.prototype.getModules.call(this,n),n.disableAdjustOrigin?j0e:$0e,n.disableGrid?{}:L0e]},K0.prototype._modules=[].concat(dc.prototype._modules,K0.prototype._extensionModules=[ddt,_dt,x5t,tCt]);let cMt=(()=>{class n extends Qe{constructor(i,s){super(s),this.preExecute("element.updateModdleProperties",5e3,function(o){const{element:a,moddleElement:l,properties:c}=o;if(!T(a,"bpmn:BusinessRuleTask")||!T(l,"bpmn:ExtensionElements")||!c.values)return;const u=j5e(a),d=V5e(a);u&&!d&&c.values.find(p=>T(p,"zeebe:CalledDecision"))&&c.values.find(p=>T(p,"zeebe:TaskDefinition"))&&(c.values=Mn(c.values,u))},!0),this.preExecute("element.updateModdleProperties",5e3,function(o){const{element:a,moddleElement:l,properties:c}=o;if(!T(a,"bpmn:BusinessRuleTask")||!T(l,"bpmn:ExtensionElements")||!c.values)return;const u=j5e(a),d=V5e(a),p=function uMt(n){return Vf(G(n),"zeebe:TaskHeaders")[0]}(a);!u&&(d||p)&&c.values.find(f=>T(f,"zeebe:CalledDecision"))&&c.values.find(f=>T(f,"zeebe:TaskDefinition")||T(f,"zeebe:TaskHeaders"))&&(c.values=Mn(c.values,f=>f===d||f===p))},!0)}}return n.$inject=["commandStack","eventBus"],n})();function j5e(n){return Vf(G(n),"zeebe:CalledDecision")[0]}function V5e(n){return Vf(G(n),"zeebe:TaskDefinition")[0]}let dMt=(()=>{class n extends Qe{constructor(i,s){super(i),this.postExecuted("shape.replace",function(o){const{context:a}=o,{newShape:l}=a;if(!T(l,"bpmn:EndEvent")||!function pMt(n){return It(G(n).get("eventDefinitions")||[],function(s){return T(s,"bpmn:ErrorEventDefinition")})}(l))return;const c=function fMt(n){const i=G(n).get("extensionElements");if(!i)return null;const s=i.get("values");return s?It(s,o=>T(o,"zeebe:IoMapping")):null}(l);if(!c)return;const d=G(l).get("extensionElements"),p=Mn(d.get("values"),c);s.updateModdleProperties(l,d,{values:p})})}}return n.$inject=["eventBus","modeling"],n})();const hMt=["bpmn:StartEvent","bpmn:BoundaryEvent"];let mMt=(()=>{class n extends Qe{constructor(i,s){super(i),this.postExecuted("shape.replace",function(o){const a=o.context.newShape,l=function wMt(n){return Vf(n,"zeebe:ExecutionListeners")[0]}(a);if(!l)return;const c=l.get("listeners"),u=function gMt(n,t){return t=function yMt(n,t){return Kt(n,hMt)?t.filter(i=>"start"!==i.eventType):t}(n,t),t=function vMt(n,t){return function bMt(n){if(T(n,"bpmn:BoundaryEvent")&&function _Mt(n){return It($5e(n),function(i){return T(i,"bpmn:CompensateEventDefinition")})}(n)||T(n,"bpmn:EndEvent")&&function EMt(n){return It($5e(n),function(i){return T(i,"bpmn:ErrorEventDefinition")})}(n)||T(n,"bpmn:Gateway"))return!0}(n)?t.filter(i=>"end"!==i.eventType):t}(n,t),t}(a,c);u.length!==c.length&&s.updateModdleProperties(a,l,{listeners:u})}),this.postExecuted("element.updateModdleProperties",function(o){const{element:a,moddleElement:l}=o.context;if(!T(l,"zeebe:ExecutionListeners")||l.get("listeners").length)return;const u=l.$parent;s.updateModdleProperties(a,u,{values:Mn(u.get("values"),l)})})}}return n.$inject=["eventBus","modeling"],n})();function $5e(n){return G(n).get("eventDefinitions")||[]}let xMt=(()=>{class n extends Qe{constructor(i,s){super(i),this.postExecuted(["element.updateProperties","element.updateModdleProperties"],o=>{const a=o.shape||o.newShape||o.element;if(a.labelTarget||!T(a,"bpmn:Event"))return;const l=function CMt(n){return G(n).get("eventDefinitions").find(i=>T(i,"bpmn:MessageEventDefinition"))}(a);if(!l)return;const c=l.get("messageRef");if(!c)return;const u=function SMt(n){return Vf(n,"zeebe:Subscription")[0]}(c);u&&function OMt(n){return n.$descriptor.properties.every(i=>void 0===n.get(i.name))}(u)&&FD(a,c,u,s)},!0)}}return n.$inject=["eventBus","commandStack"],n})();function z5e(n,t){const i=G(t);switch(n){case"timeDate":return Kt(t,["bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent","bpmn:StartEvent"]);case"timeCycle":return!!(T(t,"bpmn:StartEvent")&&!U5e(i)||!H5e(i)||T(t,"bpmn:BoundaryEvent")&&!H5e(i));case"timeDuration":return!!(Kt(t,["bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"])||T(t,"bpmn:StartEvent")&&U5e(i));default:return!1}}function H5e(n){return T(n,"bpmn:BoundaryEvent")?!1!==n.get("cancelActivity"):!1!==n.get("isInterrupting")}function U5e(n){const t=n.$parent;return t&&T(t,"bpmn:SubProcess")&&t.get("triggeredByEvent")}let PMt=(()=>{class n extends Qe{constructor(i,s){super(i),this.postExecuted(["shape.move","shape.replace","element.updateProperties","element.updateModdleProperties"],o=>{const a=o.shape||o.newShape||o.element;if(a.labelTarget||!T(a,"bpmn:Event"))return;const l=function TMt(n){return G(n).get("eventDefinitions").find(i=>T(i,"bpmn:TimerEventDefinition"))}(a);if(!l)return;const c={};["timeCycle","timeDate","timeDuration"].forEach(u=>{l.get(u)&&!z5e(u,a)&&(c[u]=void 0)}),Object.keys(c).length&&s.updateModdleProperties(a,l,c)},!0)}}return n.$inject=["eventBus","modeling"],n})();const kMt=["timeCycle","timeDate","timeDuration"],MMt=["zeebe:Input","zeebe:LoopCharacteristics","zeebe:TaskDefinition","zeebe:TaskHeaders","zeebe:Subscription"];let AMt=(()=>{class n{constructor(i){i.on("moddleCopy.canCopyProperty",s=>{const{parent:o,property:a,propertyName:l}=s;return this.canCopyProperty(a,o,l)})}canCopyProperty(i,s,o){if(fr(i)&&!function IMt(n,t){const i=n.$type&&n.$model.getTypeDescriptor(n.$type),s=i&&i.meta&&i.meta.allowedIn;return!(s&&!function RMt(n){return-1!==n.indexOf("*")}(s))||qc(s,function(o){return BD(t,o)})}(i,s)||!this.canHostServiceTaskLikeProperties(i,s)||!this.canHostTimerExpression(i,s,o))return!1}canHostServiceTaskLikeProperties(i,s){if(function LMt(n){return MMt.some(t=>T(n,t))}(i)){const o=BD(s,"bpmn:IntermediateThrowEvent")||BD(s,"bpmn:EndEvent");if(o)return function NMt(n){return n.get("eventDefinitions").some(i=>T(i,"bpmn:MessageEventDefinition"))}(o)}return!0}canHostTimerExpression(i,s,o){return!T(s,"bpmn:TimerEventDefinition")||!kMt.includes(o)||z5e(o,s.$parent)}}return n.$inject=["eventBus"],n})();function BD(n,t){return t?T(n,t)?n:n.$parent?BD(n.$parent,t):void 0:n.$parent}function y5(n,t,i,s){var o=s.create(n,t);return o.$parent=i,o}let VMt=(()=>{class n extends Qe{constructor(i,s,o){super(s),this.postExecuted("shape.create",5e3,function(a){const{shape:l}=a;if(!T(l,"bpmn:CallActivity"))return;const c=G(l);let u=function q5e(n){return function BMt(n){return Vf(G(n),"zeebe:CalledElement")}(n)[0]}(c);if(u)po(u,"propagateAllChildVariables")||o.updateModdleProperties(l,u,{propagateAllChildVariables:!1});else{let d=c.get("extensionElements");d||(d=y5("bpmn:ExtensionElements",{values:[]},c,i),o.updateProperties(l,{extensionElements:d})),u=y5("zeebe:CalledElement",{propagateAllChildVariables:!1},d,i),o.updateModdleProperties(l,d,{values:[...d.values||[],u]})}},!0)}}return n.$inject=["bpmnFactory","eventBus","modeling"],n})(),zMt=(()=>{class n extends Qe{constructor(i,s,o){super(i),this.postExecuted("shape.delete",250,function(a){const{collaborationRoot:l,shape:c}=a,u=s.getRootElement();if(T(c,"bpmn:Participant")&&l&&!l.businessObject.get("participants").length&&T(u,"bpmn:Process")){const d=c.businessObject.get("processRef");if(!d)return;o.updateProperties(u,{isExecutable:d.get("isExecutable")})}},!0)}}return n.$inject=["eventBus","canvas","modeling"],n})();const HMt=new Nd([32,32,1]),WU="camunda-forms:bpmn:";function jD(n){return Vf(G(n),"zeebe:FormDefinition")[0]}function VD(n,t={}){let{formKey:i,rootElement:s}=t;if(s=s||v5(n),!i){const a=jD(n);if(!a)return;i=a.get("formKey")}return Vf(s,"zeebe:UserTaskForm").find(a=>W5e(a.get("id"))===i)}function W5e(n){return`${WU}${n}`}function G5e(n){return n&&n.startsWith(WU)}function v5(n){let i=G(n);for(;i.$parent&&!T(i,"bpmn:Process");)i=i.$parent;return i}function K5e(n){return Vf(n,"zeebe:UserTask").length}const t7t={__init__:["cleanUpBusinessRuleTaskBehavior","cleanUpEndEventBehavior","cleanUpExecutionListenersBehavior","cleanUpSubscriptionBehavior","cleanUpTimerExpressionBehavior","copyPasteBehavior","createZeebeCallActivityBehavior","deleteParticipantBehaviour","formsBehavior","removeAssignmentDefinitionBehavior","removeTaskScheduleBehavior","versionTagBehavior"],cleanUpBusinessRuleTaskBehavior:["type",cMt],cleanUpEndEventBehavior:["type",dMt],cleanUpExecutionListenersBehavior:["type",mMt],cleanUpSubscriptionBehavior:["type",xMt],cleanUpTimerExpressionBehavior:["type",PMt],copyPasteBehavior:["type",AMt],createZeebeCallActivityBehavior:["type",VMt],deleteParticipantBehaviour:["type",zMt],formsBehavior:["type",(()=>{class n extends Qe{constructor(i,s,o){function a(l,c,u){const d=c.get("extensionElements"),p=Mn(d.get("values"),u);o.updateModdleProperties(l,d,{values:p}),p.length||o.updateModdleProperties(l,c,{extensionElements:void 0})}super(s),this._modeling=o,this.postExecute("shape.delete",function(l){const{oldParent:c,shape:u}=l,d=v5(c),p=VD(u,{rootElement:d});!T(u,"bpmn:UserTask")||!p||a(u,d,p)},!0),this.postExecute("shape.create",function(l){const{shape:c}=l,u=jD(c);if(!T(c,"bpmn:UserTask")||!u)return;const d=VD(c),p=v5(c),h=G(c).get("extensionElements");let m=p.get("extensionElements");m||(m=y5("bpmn:ExtensionElements",{values:[]},p,i),o.updateModdleProperties(c,p,{extensionElements:m}));let g=h.get("values").filter(E=>E!==u);const y=function WMt(){return function UMt(n){return HMt.nextPrefixed(n)}("UserTaskForm_")}(),v=y5("zeebe:FormDefinition",{formKey:W5e(y)},h,i);g=[...g,v],o.updateModdleProperties(c,h,{values:g});const _=y5("zeebe:UserTaskForm",{id:y,body:d?d.get("body"):""},m,i);o.updateModdleProperties(c,m,{values:[...m.get("values")||[],_]})},!0),this.preExecute("element.updateModdleProperties",function(l){const{moddleElement:c,properties:u}=l;T(c,"zeebe:FormDefinition")&&("formId"in u?(u.formKey=void 0,u.externalReference=void 0):"formKey"in u?(u.formId=void 0,u.externalReference=void 0,u.bindingType=void 0):"externalReference"in u&&(u.formId=void 0,u.formKey=void 0,u.bindingType=void 0),"bindingType"in u&&!("formId"in u)&&!c.get("formId")&&(u.externalReference=void 0,u.formId="",u.formKey=void 0))},!0),this.postExecute("element.updateModdleProperties",function(l){const{element:c,moddleElement:u,oldProperties:d}=l;if(T(u,"zeebe:FormDefinition")){const p=u.get("formKey");if(!p||!G5e(p)){const f=VD(c,{formKey:d.formKey});f&&a(c,v5(c),f)}}else if(function KMt(n,t){const{moddleElement:i,oldProperties:s,properties:o}=n;return T(i,"bpmn:ExtensionElements")&&"values"in s&&"values"in o&&s.values.find(a=>T(a,t))&&!o.values.find(a=>T(a,t))}(l,"zeebe:FormDefinition")){const f=VD(c,{formKey:d.values.find(h=>T(h,"zeebe:FormDefinition")).get("formKey")});f&&a(c,v5(c),f),u.get("values").length||o.updateProperties(c,{extensionElements:void 0})}},!0),this._registerZeebeUserTaskSupport()}_registerZeebeUserTaskSupport(){this.postExecute("element.updateModdleProperties",({element:i})=>{if(!T(i,"bpmn:UserTask")||!K5e(i))return;const s=jD(i);if(!s)return;const o=s.get("formKey");Sr(o)||(G5e(o)?this._modeling.updateModdleProperties(i,s,{formKey:void 0}):this._modeling.updateModdleProperties(i,s,{externalReference:o}))},!0),this.postExecute("element.updateModdleProperties",({element:i})=>{if(!T(i,"bpmn:UserTask")||K5e(i))return;const s=jD(i);if(!s)return;const o=s.get("externalReference");Sr(o)||this._modeling.updateModdleProperties(i,s,{externalReference:void 0,formKey:o})},!0)}}return n.$inject=["bpmnFactory","eventBus","modeling"],n})()],removeAssignmentDefinitionBehavior:["type",(()=>{class n extends Qe{constructor(i,s){super(s),this.postExecuted("element.updateModdleProperties",5e3,function(o){const{element:a,moddleElement:l}=o;if(!T(l,"zeebe:AssignmentDefinition"))return;const c=l;T(a,"bpmn:UserTask")&&Sr(c.get("zeebe:assignee"))&&Sr(c.get("zeebe:candidateGroups"))&&Sr(c.get("zeebe:candidateUsers"))&&FD(a,G(a),c,i)},!0)}}return n.$inject=["commandStack","eventBus"],n})()],removeTaskScheduleBehavior:["type",(()=>{class n extends Qe{constructor(i,s){super(s),this.postExecuted("element.updateModdleProperties",5e3,function(o){const{element:a,moddleElement:l}=o;if(!T(l,"zeebe:TaskSchedule"))return;const c=l;T(a,"bpmn:UserTask")&&Sr(c.get("zeebe:dueDate"))&&Sr(c.get("zeebe:followUpDate"))&&FD(a,G(a),c,i)},!0)}}return n.$inject=["commandStack","eventBus"],n})()],versionTagBehavior:["type",(()=>{class n extends Qe{constructor(i,s){super(i),this.preExecute("element.updateModdleProperties",function(o){const{moddleElement:a,properties:l}=o;Kt(a,["zeebe:CalledDecision","zeebe:CalledElement","zeebe:FormDefinition"])&&("bindingType"in l&&"versionTag"!==l.bindingType&&Hr(a.get("versionTag"))&&(l.versionTag=void 0),"versionTag"in l&&"versionTag"!==a.get("bindingType")&&(l.bindingType="versionTag"))},!0),this.postExecuted("element.updateModdleProperties",function(o){const{element:a,moddleElement:l}=o;T(l,"zeebe:VersionTag")&&function e7t(n){return null==n||""===n}(l.get("value"))&&FD(a,G(a),l,s)},!0)}}return n.$inject=["eventBus","commandStack"],n})()]},Y5e={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var $D,r7t=new Uint8Array(16);function i7t(){if(!$D&&!($D=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $D(r7t)}for(var ra=[],GU=0;GU<256;++GU)ra.push((GU+256).toString(16).slice(1));const o7t=function s7t(n,t,i){if(Y5e.randomUUID&&!t&&!n)return Y5e.randomUUID();var s=(n=n||{}).random||(n.rng||i7t)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){i=i||0;for(var o=0;o<16;++o)t[i+o]=s[o];return t}return function X5e(n,t=0){return(ra[n[t+0]]+ra[n[t+1]]+ra[n[t+2]]+ra[n[t+3]]+"-"+ra[n[t+4]]+ra[n[t+5]]+"-"+ra[n[t+6]]+ra[n[t+7]]+"-"+ra[n[t+8]]+ra[n[t+9]]+"-"+ra[n[t+10]]+ra[n[t+11]]+ra[n[t+12]]+ra[n[t+13]]+ra[n[t+14]]+ra[n[t+15]]).toLowerCase()}(s)};var a7t=te(8822),Z5e=te.n(a7t);function Q5e(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var KU={exports:{}},zD={};Object.defineProperty(zD,"__esModule",{value:!0});const J5e=function n(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var s,o,a;if(Array.isArray(t)){if((s=t.length)!=i.length)return!1;for(o=s;0!=o--;)if(!n(t[o],i[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((s=(a=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(o=s;0!=o--;)if(!Object.prototype.hasOwnProperty.call(i,a[o]))return!1;for(o=s;0!=o--;){var l=a[o];if(!n(t[l],i[l]))return!1}return!0}return t!=t&&i!=i};J5e.code='require("ajv/dist/runtime/equal").default',zD.default=J5e,KU.exports=XU,KU.exports.default=XU;const $f={type:"object",allOf:[{required:["name","id","appliesTo","properties"],properties:{name:{$id:"#/name",type:"string",description:"The name of the element template."},id:{$id:"#/id",type:"string",description:"The identifier of the element template."},description:{$id:"#/description",type:"string",description:"The description of the element template."},version:{$id:"#/version",type:"integer",description:"Optional version of the template. If you add a version to a template it will be considered unique based on its ID and version. Two templates can have the same ID if their version is different."},isDefault:{$id:"#/isDefault",type:"boolean",description:"Indicates whether the element template is a default template."},deprecated:{$id:"#/deprecated",type:["boolean","object"],description:"Indicates whether the element template is deprecated.",properties:{message:{$id:"#/deprecated/message",type:"string",description:"Optional message to describe migration path."},documentationRef:{$id:"#/deprecated/documentationRef",type:"string",pattern:"^(https|http)://.*",description:"Optional link to migration documentation."}}},appliesTo:{$id:"#/appliesTo",type:"array",description:"List of BPMN types the template can be applied to.",default:[],items:{$id:"#/appliesTo/items",type:"string",pattern:"^[\\w\\d]+:[\\w\\d]+$",allOf:[{examples:["bpmn:Task","bpmn:ServiceTask","bpmn:SequenceFlow","bpmn:Process","bpmn:StartEvent","bpmn:Gateway"]}],errorMessage:{pattern:'invalid item for "appliesTo", should contain namespaced property, example: "bpmn:Task"'}}},elementType:{$id:"#/elementType",type:"object",description:"The BPMN type the element will be transformed into.",default:{},required:["value"],properties:{value:{$id:"#/elementType/value",type:"string",pattern:"^[\\w\\d]+:[\\w\\d]+$",allOf:[{examples:["bpmn:ServiceTask","bpmn:UserTask","bpmn:StartEvent","bpmn:ExclusiveGateway","bpmn:ParallelGateway"]}],errorMessage:{pattern:'invalid item for "elementType", should contain namespaced property, example: "bpmn:Task"'}}},errorMessage:{required:{value:"missing elementType value"}}},metadata:{$id:"#/metadata",type:"object",description:"Some custom properties for further configuration.",default:{}},entriesVisible:{$id:"#/entriesVisible",type:"boolean",description:"Select whether non-template entries are visible in the properties panel."},groups:{$id:"#/groups",type:"array",description:"Custom fields can be ordered together via groups.",allOf:[{examples:[[{id:"group-1",label:"My Group"}]]}],items:{$id:"#/groups/group",type:"object",default:{},required:["id","label"],properties:{id:{$id:"#/groups/group/id",type:"string",description:"The id of the custom group"},label:{$id:"#/groups/group/label",type:"string",description:"The label of the custom group"}},errorMessage:{required:{id:'missing id for group "${0#}"',label:'missing label for group "${0#}"'}}}},documentationRef:{$id:"#/documentationRef",type:"string",pattern:"^(https|http)://.*",errorMessage:{pattern:'Malformed documentation URL, must match "^(https|http)://.*"'}}},errorMessage:{required:{name:"missing template name",id:"missing template id",appliesTo:"missing appliesTo=[]",properties:"missing properties=[]"}}}],properties:{properties:{$ref:"#/definitions/properties",$id:"#/properties"},scopes:{$id:"#/scopes",type:"array",description:"Special scoped bindings that allow you to configure nested elements.",allOf:[{examples:[[{type:"bpmn:Error",id:"Error_1",properties:[{value:"error-code",binding:{type:"property",name:"errorCode"}},{value:"error-message",binding:{type:"property",name:"camunda:errorMessage"}},{value:"error-name",binding:{type:"property",name:"name"}}]}]]}],items:{$id:"#/scopes/item",type:"object",default:{},properties:{type:{$id:"#scopes/item/type",type:"string",description:"The type of a scope.",enum:["camunda:Connector","bpmn:Error"],errorMessage:"invalid scope type ${0}; must be any of { camunda:Connector, bpmn:Error }"},properties:{$id:"#/scopes/properties",description:"List of properties of a scope.",default:[],allOf:[{$ref:"#/definitions/properties/allOf/0"},{$ref:"#/definitions/properties/allOf/1"}]}},required:["type","properties"],allOf:[{if:{properties:{type:{enum:["bpmn:Error"]}},required:["type"]},then:{required:["id"],errorMessage:"invalid scope ${0/type}, missing id"}}],errorMessage:{required:{type:"invalid scope, missing type",properties:"invalid scope ${0/type}, missing properties=[]"}}}}}},Y0={$schema:"http://json-schema.org/draft-07/schema",type:"array",description:"List of properties of the element template.",items:{type:"object",default:{},required:["binding"],allOf:[{if:{properties:{binding:{properties:{type:{const:"property"}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown","Boolean"],errorMessage:'invalid property type ${0} for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean }'}}}},{if:{properties:{binding:{properties:{type:{const:"camunda:executionListener"}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["Hidden"],errorMessage:'invalid property type ${1/type} for binding type "camunda:executionListener"; must be "Hidden"'},binding:{properties:{implementationType:{enum:["class","delegateExpression","expression","script"]}},oneOf:[{not:{properties:{implementationType:{const:"script"}}}},{required:["scriptFormat"]},{allOf:[{not:{required:["implementationType"]}},{not:{required:["scriptFormat"]}}]}]}}}},{if:{properties:{binding:{properties:{type:{enum:["camunda:property","camunda:outputParameter","camunda:in","camunda:in:businessKey","camunda:out","camunda:errorEventDefinition"]}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Hidden","Dropdown"],errorMessage:"invalid property type ${0} for binding type ${1/binding/type}; must be any of { String, Hidden, Dropdown }"}}}},{if:{properties:{binding:{properties:{type:{enum:["camunda:inputParameter","camunda:field"]}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown"],errorMessage:"invalid property type ${0} for binding type ${1/binding/type}; must be any of { String, Text, Hidden, Dropdown }"}}}}],properties:{binding:{$id:"#/properties/property/binding",type:"object",description:"Specifying how the property is mapped to BPMN or Camunda extension elements and attributes.",required:["type"],allOf:[{if:{properties:{type:{enum:["property","camunda:property","camunda:inputParameter","camunda:field"]}},required:["type"]},then:{required:["name"],errorMessage:"property.binding ${0/type} requires name"}},{if:{properties:{type:{const:"camunda:outputParameter"}},required:["type"]},then:{required:["source"],errorMessage:"property.binding ${0/type} requires source"}},{if:{properties:{type:{const:"camunda:in"}},required:["type"]},then:{anyOf:[{required:["variables"]},{required:["target"]}],errorMessage:"property.binding ${0/type} requires variables, target, or both"}},{if:{properties:{type:{const:"camunda:out"}},required:["type"]},then:{oneOf:[{required:["variables"],not:{anyOf:[{required:["source"]},{required:["sourceExpression"]}]}},{required:["source"],not:{anyOf:[{required:["variables"]},{required:["sourceExpression"]}]}},{required:["sourceExpression"],not:{anyOf:[{required:["variables"]},{required:["source"]}]}},{required:["variables","sourceExpression"],not:{required:["source"]}},{required:["variables","source"],not:{required:["sourceExpression"]}}],errorMessage:"property.binding ${0/type} requires one of the following: variables, sourceExpression, source, (sourceExpression and variables), or (source and variables)"}},{if:{properties:{type:{const:"camunda:errorEventDefinition"}},required:["type"]},then:{oneOf:[{required:["errorRef"]}],errorMessage:"property.binding ${0/type} requires errorRef"}},{examples:[{type:"property",name:"name"},{type:"camunda:property",name:"property"},{type:"camunda:inputParameter",name:"input"},{type:"camunda:outputParameter",source:"output"},{type:"camunda:in",target:"target"},{type:"camunda:in:businessKey"},{type:"camunda:out",source:"output"},{type:"camunda:executionListener",event:"start"},{type:"camunda:field",name:"field"},{type:"camunda:errorEventDefinition",errorRef:"error"},{type:"camunda:errorEventDefinition",errorRef:"error"}]}],properties:{type:{$id:"#/properties/property/binding/type",type:"string",enum:["property","camunda:property","camunda:inputParameter","camunda:outputParameter","camunda:in","camunda:out","camunda:in:businessKey","camunda:executionListener","camunda:field","camunda:errorEventDefinition"],description:"The type of a property binding.",errorMessage:"invalid property.binding type ${0}; must be any of { property, camunda:property, camunda:inputParameter, camunda:outputParameter, camunda:in, camunda:out, camunda:in:businessKey, camunda:executionListener, camunda:field, camunda:errorEventDefinition }"},name:{$id:"#/properties/property/binding/name",type:"string",description:"The name of a property binding."},event:{$id:"#/properties/property/binding/event",type:"string",description:"The event type of a property binding (camunda:executionListener)."},scriptFormat:{$id:"#/properties/property/binding/scriptFormat",type:"string",description:"The script format of a property binding (camunda:outputParameter, camunda:inputParameter)."},source:{$id:"#/properties/property/binding/source",type:"string",description:"The source value of a property binding (camunda:outputParameter, camunda:out)."},target:{$id:"#/properties/property/binding/target",type:"string",description:"The target value of a property binding (camunda:in)."},expression:{$id:"#/properties/property/binding/expression",type:"boolean",description:"Indicates whether the control field value is an expression (camunda:in, camunda:field)."},variables:{$id:"#/properties/property/binding/variables",type:"string",enum:["all","local"],description:"The variable mapping of a property binding (camunda:in)."},sourceExpression:{$id:"#/properties/property/binding/sourceExpression",type:"string",description:"The string containing the expression for the source attribute (camunda:out)."}}}},errorMessage:{required:'missing binding for property "${0#}"'}}},e4e=new RegExp("^(https|http)://.*","u"),t4e=new RegExp("^[\\w\\d]+:[\\w\\d]+$","u"),pp={required:"missingProperty",dependencies:"property",dependentRequired:"property"},od={allOf:[{type:"array",description:"List of properties of the element template.",allOf:[{examples:[[{label:"Name",type:"String",binding:{type:"property",name:"name"}}]]}],items:{type:"object",default:{},allOf:[{if:{properties:{type:{const:"Dropdown"}},required:["type"]},then:{required:["choices"],errorMessage:'must provide choices=[] with "Dropdown" type'}},{definitions:{condition:{type:"object",required:["property"],properties:{type:{$id:"#/condition/type",const:"simple",description:"The type of the condition.",default:"simple"},property:{$id:"#/condition/property",type:"string",description:"The id of the property to check."}},oneOf:[{properties:{equals:{type:["string","number","boolean"]}},required:["equals"]},{properties:{oneOf:{type:"array",items:{type:["string","number"]}}},required:["oneOf"]},{properties:{isActive:{type:"boolean",description:"For `true`, activates the property when given property is active"}},required:["isActive"]}],errorMessage:{required:{property:"missing property name for condition"}}},conditionDependingOnId:{required:["property"],properties:{property:{const:{$data:"2/id"}}}}},allOf:[{$comment:"property#condition should not depend on property#id",if:{required:["id","condition"],properties:{condition:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/conditionDependingOnId"}}},then:{not:{required:["condition"]},errorMessage:"Invalid condition.property, must be different than property.id"}},{then:{errorMessage:"Invalid condition.property, must be different than property.id"}}],properties:{id:{type:"string",description:"Unique identifier of the property."},condition:{type:"object",description:"Condition(s) to activate the binding.",allOf:[{examples:[{type:"simple",property:"httpMethod",equals:"GET"},{type:"simple",property:"httpMethod",oneOf:["POST","PUT","DELETE"]},{allMatch:[{type:"simple",property:"authType",equals:"Basic"},{type:"simple",property:"httpMethod",oneOf:["POST","PUT","DELETE"]}]}]}],oneOf:[{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition"},{properties:{allMatch:{$id:"#/allMatch",type:"array",items:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition"},minItems:1}},required:["allMatch"]}]}}},{if:{properties:{type:{not:{const:"Number"}}},required:["type"]},then:{properties:{value:{type:["string","boolean"]}}}},{if:{oneOf:[{properties:{type:{enum:["String","Text"]}},required:["type"]},{not:{required:["type"]}}]},then:{properties:{placeholder:{type:"string"}}},else:{not:{required:["placeholder"]}}}],properties:{value:{$id:"#/properties/property/value",type:["string","number","boolean"],description:"The value of a control field."},description:{$id:"#/properties/property/description",type:"string",description:"The description of a control field."},label:{$id:"#/properties/property/label",type:"string",description:"The label of a control field."},type:{$id:"#/properties/property/type",type:"string",description:"The type of a control field."},editable:{$id:"#/properties/property/editable",type:"boolean",description:"Indicates whether a control field is editable or not."},choices:{$id:"#/properties/property/choices",type:"array",description:"The choices for dropdown fields.",default:[],items:{$id:"#/properties/property/choices/item",type:"object",default:{},properties:{name:{$id:"#/properties/property/choices/item/name",type:"string",description:"The name of a choice."},value:{$id:"#/properties/property/choices/item/value",type:"string",description:"The value of a choice."},condition:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/properties/condition"}},required:["value","name"],errorMessage:{required:'{ name, value } must be specified for "Dropdown" choices'}}},constraints:{$id:"#/properties/property/constraints",type:"object",description:"The validation constraints of a control field.",allOf:[{examples:[{notEmpty:!0}]}],properties:{notEmpty:{$id:"#/properties/property/constraints/notEmpty",type:"boolean",description:"The control field must not be empty."},minLength:{$id:"#/properties/property/constraints/minLength",type:"number",description:"The minimal length of a control field value."},maxLength:{$id:"#/properties/property/constraints/maxLength",type:"number",description:"The maximal length for a control field value."},pattern:{$id:"#/properties/property/constraints/pattern",description:"A regular expression pattern for a constraint.",oneOf:[{type:"object",default:{},properties:{value:{$id:"#/properties/property/constraints/pattern/value",type:"string",description:"The regular expression of a pattern."},message:{$id:"#/properties/property/constraints/pattern/message",type:"string",description:"The validation message of a pattern."}}},{type:"string"}]}}},group:{$id:"#/properties/property/group",type:"string",description:"The custom group of a control field."}}}},{$schema:"http://json-schema.org/draft-07/schema",type:"array",description:"List of properties of the element template.",items:{type:"object",default:{},required:["binding"],allOf:[{if:{properties:{binding:{properties:{type:{const:"property"}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown","Boolean"],errorMessage:'invalid property type ${0} for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean }'}}}},{if:{properties:{binding:{properties:{type:{const:"camunda:executionListener"}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["Hidden"],errorMessage:'invalid property type ${1/type} for binding type "camunda:executionListener"; must be "Hidden"'},binding:{properties:{implementationType:{enum:["class","delegateExpression","expression","script"]}},oneOf:[{not:{properties:{implementationType:{const:"script"}}}},{required:["scriptFormat"]},{allOf:[{not:{required:["implementationType"]}},{not:{required:["scriptFormat"]}}]}]}}}},{if:{properties:{binding:{properties:{type:{enum:["camunda:property","camunda:outputParameter","camunda:in","camunda:in:businessKey","camunda:out","camunda:errorEventDefinition"]}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Hidden","Dropdown"],errorMessage:"invalid property type ${0} for binding type ${1/binding/type}; must be any of { String, Hidden, Dropdown }"}}}},{if:{properties:{binding:{properties:{type:{enum:["camunda:inputParameter","camunda:field"]}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown"],errorMessage:"invalid property type ${0} for binding type ${1/binding/type}; must be any of { String, Text, Hidden, Dropdown }"}}}}],properties:{binding:{$id:"#/properties/property/binding",type:"object",description:"Specifying how the property is mapped to BPMN or Camunda extension elements and attributes.",required:["type"],allOf:[{if:{properties:{type:{enum:["property","camunda:property","camunda:inputParameter","camunda:field"]}},required:["type"]},then:{required:["name"],errorMessage:"property.binding ${0/type} requires name"}},{if:{properties:{type:{const:"camunda:outputParameter"}},required:["type"]},then:{required:["source"],errorMessage:"property.binding ${0/type} requires source"}},{if:{properties:{type:{const:"camunda:in"}},required:["type"]},then:{anyOf:[{required:["variables"]},{required:["target"]}],errorMessage:"property.binding ${0/type} requires variables, target, or both"}},{if:{properties:{type:{const:"camunda:out"}},required:["type"]},then:{oneOf:[{required:["variables"],not:{anyOf:[{required:["source"]},{required:["sourceExpression"]}]}},{required:["source"],not:{anyOf:[{required:["variables"]},{required:["sourceExpression"]}]}},{required:["sourceExpression"],not:{anyOf:[{required:["variables"]},{required:["source"]}]}},{required:["variables","sourceExpression"],not:{required:["source"]}},{required:["variables","source"],not:{required:["sourceExpression"]}}],errorMessage:"property.binding ${0/type} requires one of the following: variables, sourceExpression, source, (sourceExpression and variables), or (source and variables)"}},{if:{properties:{type:{const:"camunda:errorEventDefinition"}},required:["type"]},then:{oneOf:[{required:["errorRef"]}],errorMessage:"property.binding ${0/type} requires errorRef"}},{examples:[{type:"property",name:"name"},{type:"camunda:property",name:"property"},{type:"camunda:inputParameter",name:"input"},{type:"camunda:outputParameter",source:"output"},{type:"camunda:in",target:"target"},{type:"camunda:in:businessKey"},{type:"camunda:out",source:"output"},{type:"camunda:executionListener",event:"start"},{type:"camunda:field",name:"field"},{type:"camunda:errorEventDefinition",errorRef:"error"},{type:"camunda:errorEventDefinition",errorRef:"error"}]}],properties:{type:{$id:"#/properties/property/binding/type",type:"string",enum:["property","camunda:property","camunda:inputParameter","camunda:outputParameter","camunda:in","camunda:out","camunda:in:businessKey","camunda:executionListener","camunda:field","camunda:errorEventDefinition"],description:"The type of a property binding.",errorMessage:"invalid property.binding type ${0}; must be any of { property, camunda:property, camunda:inputParameter, camunda:outputParameter, camunda:in, camunda:out, camunda:in:businessKey, camunda:executionListener, camunda:field, camunda:errorEventDefinition }"},name:{$id:"#/properties/property/binding/name",type:"string",description:"The name of a property binding."},event:{$id:"#/properties/property/binding/event",type:"string",description:"The event type of a property binding (camunda:executionListener)."},scriptFormat:{$id:"#/properties/property/binding/scriptFormat",type:"string",description:"The script format of a property binding (camunda:outputParameter, camunda:inputParameter)."},source:{$id:"#/properties/property/binding/source",type:"string",description:"The source value of a property binding (camunda:outputParameter, camunda:out)."},target:{$id:"#/properties/property/binding/target",type:"string",description:"The target value of a property binding (camunda:in)."},expression:{$id:"#/properties/property/binding/expression",type:"boolean",description:"Indicates whether the control field value is an expression (camunda:in, camunda:field)."},variables:{$id:"#/properties/property/binding/variables",type:"string",enum:["all","local"],description:"The variable mapping of a property binding (camunda:in)."},sourceExpression:{$id:"#/properties/property/binding/sourceExpression",type:"string",description:"The string containing the expression for the source attribute (camunda:out)."}}}},errorMessage:{required:'missing binding for property "${0#}"'}}}]},n4e={required:["property"],properties:{property:{const:{$data:"2/id"}}}},Io={type:"object",required:["property"],properties:{type:{$id:"#/condition/type",const:"simple",description:"The type of the condition.",default:"simple"},property:{$id:"#/condition/property",type:"string",description:"The id of the property to check."}},oneOf:[{properties:{equals:{type:["string","number","boolean"]}},required:["equals"]},{properties:{oneOf:{type:"array",items:{type:["string","number"]}}},required:["oneOf"]},{properties:{isActive:{type:"boolean",description:"For `true`, activates the property when given property is active"}},required:["isActive"]}],errorMessage:{required:{property:"missing property name for condition"}}},r4e=zD.default;function T1(n,{instancePath:t="",rootData:o=n}={}){let a=null,l=0;if(!n||"object"!=typeof n||Array.isArray(n)){const b={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[b]:a.push(b),l++}const c=l;let u=!1,d=null;const p=l,f=l;let h=!1,m=null;const g=l;if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.equals){const b={instancePath:t,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===a?a=[b]:a.push(b),l++}if(void 0!==n.equals){let b=n.equals;if("string"!=typeof b&&"number"!=typeof b&&"boolean"!=typeof b){const w={instancePath:t+"/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:Io.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===a?a=[w]:a.push(w),l++}}}(v=g===l)&&(h=!0,m=0);const y=l;if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.oneOf){const b={instancePath:t,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===a?a=[b]:a.push(b),l++}if(void 0!==n.oneOf){let b=n.oneOf;if(Array.isArray(b)){const w=b.length;for(let C=0;C<w;C++){let P=b[C];if("string"!=typeof P&&"number"!=typeof P){const D={instancePath:t+"/oneOf/"+C,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:Io.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===a?a=[D]:a.push(D),l++}}}else{const w={instancePath:t+"/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[w]:a.push(w),l++}}}if((v=y===l)&&h)h=!1,m=[m,1];else{v&&(h=!0,m=1);const b=l;if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.isActive){const C={instancePath:t,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===a?a=[C]:a.push(C),l++}if(void 0!==n.isActive&&"boolean"!=typeof n.isActive){const C={instancePath:t+"/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[C]:a.push(C),l++}}var v;(v=b===l)&&h?(h=!1,m=[m,2]):v&&(h=!0,m=2)}if(h)l=f,null!==a&&(f?a.length=f:a=null);else{const b={instancePath:t,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:m},message:"must match exactly one schema in oneOf"};null===a?a=[b]:a.push(b),l++}if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.property){const b={instancePath:t,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===a?a=[b]:a.push(b),l++}if(void 0!==n.type&&"simple"!==n.type){const b={instancePath:t+"/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===a?a=[b]:a.push(b),l++}if(void 0!==n.property&&"string"!=typeof n.property){const b={instancePath:t+"/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[b]:a.push(b),l++}}else{const b={instancePath:t,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[b]:a.push(b),l++}if(l>0){const b={required:{property:[]}},w={required:{}};let C,P;for(const I of a)"errorMessage"!==I.keyword&&!I.emUsed&&I.instancePath===t&&I.keyword in b&&0===I.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(I.schemaPath.slice(68))&&(C=pp[I.keyword],P=b[I.keyword][I.params[C]],P&&(P.push(I),I.emUsed=!0));for(const I in b)for(const k in b[I])if(P=b[I][k],P.length){const F=w[I]&&w[I][k],M={instancePath:t,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:P},message:F?F():Io.errorMessage[I][k]};null===a?a=[M]:a.push(M),l++}const D=[];for(const I of a)I.emUsed||D.push(I);a=D,l=D.length}p===l&&(u=!0,d=0);const _=l;if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.allMatch){const b={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"allMatch"},message:"must have required property 'allMatch'"};null===a?a=[b]:a.push(b),l++}if(void 0!==n.allMatch){let b=n.allMatch;if(Array.isArray(b)){if(b.length<1){const C={instancePath:t+"/allMatch",schemaPath:"#/oneOf/1/properties/allMatch/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===a?a=[C]:a.push(C),l++}const w=b.length;for(let C=0;C<w;C++){let P=b[C];const D=l;let I=!1,k=null;const F=l;if(P&&"object"==typeof P&&!Array.isArray(P)){if(void 0===P.equals){const B={instancePath:t+"/allMatch/"+C,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===a?a=[B]:a.push(B),l++}if(void 0!==P.equals){let B=P.equals;if("string"!=typeof B&&"number"!=typeof B&&"boolean"!=typeof B){const q={instancePath:t+"/allMatch/"+C+"/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:Io.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===a?a=[q]:a.push(q),l++}}}(E=F===l)&&(I=!0,k=0);const M=l;if(P&&"object"==typeof P&&!Array.isArray(P)){if(void 0===P.oneOf){const B={instancePath:t+"/allMatch/"+C,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===a?a=[B]:a.push(B),l++}if(void 0!==P.oneOf){let B=P.oneOf;if(Array.isArray(B)){const q=B.length;for(let ue=0;ue<q;ue++){let H=B[ue];if("string"!=typeof H&&"number"!=typeof H){const ee={instancePath:t+"/allMatch/"+C+"/oneOf/"+ue,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:Io.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===a?a=[ee]:a.push(ee),l++}}}else{const q={instancePath:t+"/allMatch/"+C+"/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[q]:a.push(q),l++}}}if((E=M===l)&&I)I=!1,k=[k,1];else{E&&(I=!0,k=1);const B=l;if(P&&"object"==typeof P&&!Array.isArray(P)){if(void 0===P.isActive){const ue={instancePath:t+"/allMatch/"+C,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===a?a=[ue]:a.push(ue),l++}if(void 0!==P.isActive&&"boolean"!=typeof P.isActive){const ue={instancePath:t+"/allMatch/"+C+"/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[ue]:a.push(ue),l++}}var E;(E=B===l)&&I?(I=!1,k=[k,2]):E&&(I=!0,k=2)}if(I)l=D,null!==a&&(D?a.length=D:a=null);else{const B={instancePath:t+"/allMatch/"+C,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:k},message:"must match exactly one schema in oneOf"};null===a?a=[B]:a.push(B),l++}if(P&&"object"==typeof P&&!Array.isArray(P)){if(void 0===P.property){const B={instancePath:t+"/allMatch/"+C,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===a?a=[B]:a.push(B),l++}if(void 0!==P.type&&"simple"!==P.type){const B={instancePath:t+"/allMatch/"+C+"/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===a?a=[B]:a.push(B),l++}if(void 0!==P.property&&"string"!=typeof P.property){const B={instancePath:t+"/allMatch/"+C+"/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[B]:a.push(B),l++}}else{const B={instancePath:t+"/allMatch/"+C,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[B]:a.push(B),l++}if(l>0){const B={required:{property:[]}},q={required:{}};let ue,H;for(const Q of a)"errorMessage"!==Q.keyword&&!Q.emUsed&&Q.instancePath===t+"/allMatch/"+C&&Q.keyword in B&&0===Q.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(Q.schemaPath.slice(68))&&(ue=pp[Q.keyword],H=B[Q.keyword][Q.params[ue]],H&&(H.push(Q),Q.emUsed=!0));for(const Q in B)for(const Ee in B[Q])if(H=B[Q][Ee],H.length){const Te=q[Q]&&q[Q][Ee],Ve={instancePath:t+"/allMatch/"+C,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:H},message:Te?Te():Io.errorMessage[Q][Ee]};null===a?a=[Ve]:a.push(Ve),l++}const ee=[];for(const Q of a)Q.emUsed||ee.push(Q);a=ee,l=ee.length}}}else{const w={instancePath:t+"/allMatch",schemaPath:"#/oneOf/1/properties/allMatch/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[w]:a.push(w),l++}}}var x;if((x=_===l)&&u?(u=!1,d=[d,1]):x&&(u=!0,d=1),u)l=c,null!==a&&(c?a.length=c:a=null);else{const b={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:d},message:"must match exactly one schema in oneOf"};null===a?a=[b]:a.push(b),l++}return T1.errors=a,0===l}function HD(n,{instancePath:t="",rootData:o=n}={}){let a=null,l=0;if(Array.isArray(n)){const N=n.length;for(let z=0;z<N;z++){let W=n[z];const Ke=l;let tt=!0;const Ge=l;if(W&&"object"==typeof W&&!Array.isArray(W))if(void 0===W.type){const Re={};null===a?a=[Re]:a.push(Re),l++}else if(void 0!==W.type&&"Dropdown"!==W.type){const Re={};null===a?a=[Re]:a.push(Re),l++}var c=Ge===l;if(l=Ke,null!==a&&(Ke?a.length=Ke:a=null),c){const Re=l;if(W&&"object"==typeof W&&!Array.isArray(W)&&void 0===W.choices){const pt={instancePath:t+"/"+z,schemaPath:"#/allOf/0/items/allOf/0/then/required",keyword:"required",params:{missingProperty:"choices"},message:"must have required property 'choices'"};null===a?a=[pt]:a.push(pt),l++}if(l>0){const pt=[];for(const Ft of a)"errorMessage"!==Ft.keyword&&!Ft.emUsed&&(Ft.instancePath===t+"/"+z||0===Ft.instancePath.indexOf(t+"/"+z)&&"/"===Ft.instancePath[t+"/"+z.length])&&0===Ft.schemaPath.indexOf("#/allOf/0/items/allOf/0/then")&&"/"===Ft.schemaPath[28]&&(pt.push(Ft),Ft.emUsed=!0);if(pt.length){const Ft={instancePath:t+"/"+z,schemaPath:"#/allOf/0/items/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:pt},message:'must provide choices=[] with "Dropdown" type'};null===a?a=[Ft]:a.push(Ft),l++}const Jt=[];for(const Ft of a)Ft.emUsed||Jt.push(Ft);a=Jt,l=Jt.length}tt=c=Re===l}if(!tt){const Re={instancePath:t+"/"+z,schemaPath:"#/allOf/0/items/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Re]:a.push(Re),l++}const Nt=l;let Ln=!0;const Cr=l;if(W&&"object"==typeof W&&!Array.isArray(W))if(void 0===W.id||void 0===W.condition){const Re={};null===a?a=[Re]:a.push(Re),l++}else if(void 0!==W.condition){let Re=W.condition;if(Re&&"object"==typeof Re&&!Array.isArray(Re))if(void 0===Re.property){const it={};null===a?a=[it]:a.push(it),l++}else if(void 0!==Re.property&&!r4e(Re.property,n4e.properties.property.const)){const it={};null===a?a=[it]:a.push(it),l++}}var u=Cr===l;if(l=Nt,null!==a&&(Nt?a.length=Nt:a=null),u){const Re=l,it=l,pt=l;if(W&&"object"==typeof W&&!Array.isArray(W)&&void 0===W.condition){const Ft={};null===a?a=[Ft]:a.push(Ft),l++}if(pt===l){const Ft={instancePath:t+"/"+z,schemaPath:"#/allOf/0/items/allOf/1/allOf/0/then/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Ft]:a.push(Ft),l++}else l=it,null!==a&&(it?a.length=it:a=null);if(l>0){const Ft=[];for(const Z of a)"errorMessage"!==Z.keyword&&!Z.emUsed&&(Z.instancePath===t+"/"+z||0===Z.instancePath.indexOf(t+"/"+z)&&"/"===Z.instancePath[t+"/"+z.length])&&0===Z.schemaPath.indexOf("#/allOf/0/items/allOf/1/allOf/0/then")&&"/"===Z.schemaPath[36]&&(Ft.push(Z),Z.emUsed=!0);if(Ft.length){const Z={instancePath:t+"/"+z,schemaPath:"#/allOf/0/items/allOf/1/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:Ft},message:"Invalid condition.property, must be different than property.id"};null===a?a=[Z]:a.push(Z),l++}const ze=[];for(const Z of a)Z.emUsed||ze.push(Z);a=ze,l=ze.length}Ln=u=Re===l}if(!Ln){const Re={instancePath:t+"/"+z,schemaPath:"#/allOf/0/items/allOf/1/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Re]:a.push(Re),l++}if(W&&"object"==typeof W&&!Array.isArray(W)){if(void 0!==W.id&&"string"!=typeof W.id){const Re={instancePath:t+"/"+z+"/id",schemaPath:"#/allOf/0/items/allOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Re]:a.push(Re),l++}if(void 0!==W.condition){let Re=W.condition;if(!Re||"object"!=typeof Re||Array.isArray(Re)){const me={instancePath:t+"/"+z+"/condition",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[me]:a.push(me),l++}const it=l;let pt=!1,Jt=null;const Ft=l,ze=l;let Z=!1,je=null;const $e=l;if(Re&&"object"==typeof Re&&!Array.isArray(Re)){if(void 0===Re.equals){const me={instancePath:t+"/"+z+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===a?a=[me]:a.push(me),l++}if(void 0!==Re.equals){let me=Re.equals;if("string"!=typeof me&&"number"!=typeof me&&"boolean"!=typeof me){const Ze={instancePath:t+"/"+z+"/condition/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:Io.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===a?a=[Ze]:a.push(Ze),l++}}}(p=$e===l)&&(Z=!0,je=0);const he=l;if(Re&&"object"==typeof Re&&!Array.isArray(Re)){if(void 0===Re.oneOf){const me={instancePath:t+"/"+z+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===a?a=[me]:a.push(me),l++}if(void 0!==Re.oneOf){let me=Re.oneOf;if(Array.isArray(me)){const Ze=me.length;for(let ct=0;ct<Ze;ct++){let K=me[ct];if("string"!=typeof K&&"number"!=typeof K){const J={instancePath:t+"/"+z+"/condition/oneOf/"+ct,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:Io.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===a?a=[J]:a.push(J),l++}}}else{const Ze={instancePath:t+"/"+z+"/condition/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[Ze]:a.push(Ze),l++}}}if((p=he===l)&&Z)Z=!1,je=[je,1];else{p&&(Z=!0,je=1);const me=l;if(Re&&"object"==typeof Re&&!Array.isArray(Re)){if(void 0===Re.isActive){const ct={instancePath:t+"/"+z+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===a?a=[ct]:a.push(ct),l++}if(void 0!==Re.isActive&&"boolean"!=typeof Re.isActive){const ct={instancePath:t+"/"+z+"/condition/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[ct]:a.push(ct),l++}}var p;(p=me===l)&&Z?(Z=!1,je=[je,2]):p&&(Z=!0,je=2)}if(Z)l=ze,null!==a&&(ze?a.length=ze:a=null);else{const me={instancePath:t+"/"+z+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:je},message:"must match exactly one schema in oneOf"};null===a?a=[me]:a.push(me),l++}if(Re&&"object"==typeof Re&&!Array.isArray(Re)){if(void 0===Re.property){const me={instancePath:t+"/"+z+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===a?a=[me]:a.push(me),l++}if(void 0!==Re.type&&"simple"!==Re.type){const me={instancePath:t+"/"+z+"/condition/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===a?a=[me]:a.push(me),l++}if(void 0!==Re.property&&"string"!=typeof Re.property){const me={instancePath:t+"/"+z+"/condition/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[me]:a.push(me),l++}}else{const me={instancePath:t+"/"+z+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[me]:a.push(me),l++}if(l>0){const me={required:{property:[]}},Ze={required:{}};let ct,K;for(const fe of a)"errorMessage"!==fe.keyword&&!fe.emUsed&&fe.instancePath===t+"/"+z+"/condition"&&fe.keyword in me&&0===fe.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(fe.schemaPath.slice(68))&&(ct=pp[fe.keyword],K=me[fe.keyword][fe.params[ct]],K&&(K.push(fe),fe.emUsed=!0));for(const fe in me)for(const Me in me[fe])if(K=me[fe][Me],K.length){const vt=Ze[fe]&&Ze[fe][Me],Rt={instancePath:t+"/"+z+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:K},message:vt?vt():Io.errorMessage[fe][Me]};null===a?a=[Rt]:a.push(Rt),l++}const J=[];for(const fe of a)fe.emUsed||J.push(fe);a=J,l=J.length}Ft===l&&(pt=!0,Jt=0);const nt=l;if(Re&&"object"==typeof Re&&!Array.isArray(Re)){if(void 0===Re.allMatch){const me={instancePath:t+"/"+z+"/condition",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"allMatch"},message:"must have required property 'allMatch'"};null===a?a=[me]:a.push(me),l++}if(void 0!==Re.allMatch){let me=Re.allMatch;if(Array.isArray(me)){if(me.length<1){const ct={instancePath:t+"/"+z+"/condition/allMatch",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/oneOf/1/properties/allMatch/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===a?a=[ct]:a.push(ct),l++}const Ze=me.length;for(let ct=0;ct<Ze;ct++){let K=me[ct];const J=l;let fe=!1,Me=null;const vt=l;if(K&&"object"==typeof K&&!Array.isArray(K)){if(void 0===K.equals){const ht={instancePath:t+"/"+z+"/condition/allMatch/"+ct,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===a?a=[ht]:a.push(ht),l++}if(void 0!==K.equals){let ht=K.equals;if("string"!=typeof ht&&"number"!=typeof ht&&"boolean"!=typeof ht){const Wt={instancePath:t+"/"+z+"/condition/allMatch/"+ct+"/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:Io.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===a?a=[Wt]:a.push(Wt),l++}}}(f=vt===l)&&(fe=!0,Me=0);const Rt=l;if(K&&"object"==typeof K&&!Array.isArray(K)){if(void 0===K.oneOf){const ht={instancePath:t+"/"+z+"/condition/allMatch/"+ct,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===a?a=[ht]:a.push(ht),l++}if(void 0!==K.oneOf){let ht=K.oneOf;if(Array.isArray(ht)){const Wt=ht.length;for(let Ie=0;Ie<Wt;Ie++){let ut=ht[Ie];if("string"!=typeof ut&&"number"!=typeof ut){const rt={instancePath:t+"/"+z+"/condition/allMatch/"+ct+"/oneOf/"+Ie,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:Io.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===a?a=[rt]:a.push(rt),l++}}}else{const Wt={instancePath:t+"/"+z+"/condition/allMatch/"+ct+"/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[Wt]:a.push(Wt),l++}}}if((f=Rt===l)&&fe)fe=!1,Me=[Me,1];else{f&&(fe=!0,Me=1);const ht=l;if(K&&"object"==typeof K&&!Array.isArray(K)){if(void 0===K.isActive){const Ie={instancePath:t+"/"+z+"/condition/allMatch/"+ct,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===a?a=[Ie]:a.push(Ie),l++}if(void 0!==K.isActive&&"boolean"!=typeof K.isActive){const Ie={instancePath:t+"/"+z+"/condition/allMatch/"+ct+"/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[Ie]:a.push(Ie),l++}}var f;(f=ht===l)&&fe?(fe=!1,Me=[Me,2]):f&&(fe=!0,Me=2)}if(fe)l=J,null!==a&&(J?a.length=J:a=null);else{const ht={instancePath:t+"/"+z+"/condition/allMatch/"+ct,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:Me},message:"must match exactly one schema in oneOf"};null===a?a=[ht]:a.push(ht),l++}if(K&&"object"==typeof K&&!Array.isArray(K)){if(void 0===K.property){const ht={instancePath:t+"/"+z+"/condition/allMatch/"+ct,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===a?a=[ht]:a.push(ht),l++}if(void 0!==K.type&&"simple"!==K.type){const ht={instancePath:t+"/"+z+"/condition/allMatch/"+ct+"/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===a?a=[ht]:a.push(ht),l++}if(void 0!==K.property&&"string"!=typeof K.property){const ht={instancePath:t+"/"+z+"/condition/allMatch/"+ct+"/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ht]:a.push(ht),l++}}else{const ht={instancePath:t+"/"+z+"/condition/allMatch/"+ct,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[ht]:a.push(ht),l++}if(l>0){const ht={required:{property:[]}},Wt={required:{}};let Ie,ut;for(const Ut of a)"errorMessage"!==Ut.keyword&&!Ut.emUsed&&Ut.instancePath===t+"/"+z+"/condition/allMatch/"+ct&&Ut.keyword in ht&&0===Ut.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(Ut.schemaPath.slice(68))&&(Ie=pp[Ut.keyword],ut=ht[Ut.keyword][Ut.params[Ie]],ut&&(ut.push(Ut),Ut.emUsed=!0));for(const Ut in ht)for(const bt in ht[Ut])if(ut=ht[Ut][bt],ut.length){const gi=Wt[Ut]&&Wt[Ut][bt],Fr={instancePath:t+"/"+z+"/condition/allMatch/"+ct,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:ut},message:gi?gi():Io.errorMessage[Ut][bt]};null===a?a=[Fr]:a.push(Fr),l++}const rt=[];for(const Ut of a)Ut.emUsed||rt.push(Ut);a=rt,l=rt.length}}}else{const Ze={instancePath:t+"/"+z+"/condition/allMatch",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/oneOf/1/properties/allMatch/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[Ze]:a.push(Ze),l++}}}var h;if((h=nt===l)&&pt?(pt=!1,Jt=[Jt,1]):h&&(pt=!0,Jt=1),pt)l=it,null!==a&&(it?a.length=it:a=null);else{const me={instancePath:t+"/"+z+"/condition",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/oneOf",keyword:"oneOf",params:{passingSchemas:Jt},message:"must match exactly one schema in oneOf"};null===a?a=[me]:a.push(me),l++}}}const At=l;let an=!0;const ae=l;if(W&&"object"==typeof W&&!Array.isArray(W))if(void 0===W.type){const Re={};null===a?a=[Re]:a.push(Re),l++}else if(void 0!==W.type){const Re=l,it=l;if("Number"!==W.type){const pt={};null===a?a=[pt]:a.push(pt),l++}if(it===l){const pt={};null===a?a=[pt]:a.push(pt),l++}else l=Re,null!==a&&(Re?a.length=Re:a=null)}var g=ae===l;if(l=At,null!==a&&(At?a.length=At:a=null),g){const Re=l;if(W&&"object"==typeof W&&!Array.isArray(W)&&void 0!==W.value){let pt=W.value;if("string"!=typeof pt&&"boolean"!=typeof pt){const Jt={instancePath:t+"/"+z+"/value",schemaPath:"#/allOf/0/items/allOf/2/then/properties/value/type",keyword:"type",params:{type:od.allOf[0].items.allOf[2].then.properties.value.type},message:"must be string,boolean"};null===a?a=[Jt]:a.push(Jt),l++}}an=g=Re===l}if(!an){const Re={instancePath:t+"/"+z,schemaPath:"#/allOf/0/items/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Re]:a.push(Re),l++}const Ye=l;let Et=!0;const Ct=l,re=l;let ve=!1;const le=l;if(W&&"object"==typeof W&&!Array.isArray(W))if(void 0===W.type){const Re={};null===a?a=[Re]:a.push(Re),l++}else if(void 0!==W.type){let Re=W.type;if("String"!==Re&&"Text"!==Re){const it={};null===a?a=[it]:a.push(it),l++}}le===l&&(ve=!0);const Ue=l,at=l,st=l;if(W&&"object"==typeof W&&!Array.isArray(W)&&void 0===W.type){const Re={};null===a?a=[Re]:a.push(Re),l++}var v;if(st===l){const Re={};null===a?a=[Re]:a.push(Re),l++}else l=at,null!==a&&(at?a.length=at:a=null);if((v=Ue===l)&&ve?ve=!1:v&&(ve=!0),ve)l=re,null!==a&&(re?a.length=re:a=null);else{const Re={};null===a?a=[Re]:a.push(Re),l++}var _=Ct===l;let yt;if(l=Ye,null!==a&&(Ye?a.length=Ye:a=null),_){const Re=l;if(W&&"object"==typeof W&&!Array.isArray(W)&&void 0!==W.placeholder&&"string"!=typeof W.placeholder){const pt={instancePath:t+"/"+z+"/placeholder",schemaPath:"#/allOf/0/items/allOf/3/then/properties/placeholder/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[pt]:a.push(pt),l++}Et=_=Re===l,yt="then"}else{const Re=l,it=l,pt=l;if(W&&"object"==typeof W&&!Array.isArray(W)&&void 0===W.placeholder){const Ft={};null===a?a=[Ft]:a.push(Ft),l++}if(pt===l){const Ft={instancePath:t+"/"+z,schemaPath:"#/allOf/0/items/allOf/3/else/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Ft]:a.push(Ft),l++}else l=it,null!==a&&(it?a.length=it:a=null);Et=_=Re===l,yt="else"}if(!Et){const Re={instancePath:t+"/"+z,schemaPath:"#/allOf/0/items/allOf/3/if",keyword:"if",params:{failingKeyword:yt},message:'must match "'+yt+'" schema'};null===a?a=[Re]:a.push(Re),l++}if(W&&"object"==typeof W&&!Array.isArray(W)){if(void 0!==W.value){let Re=W.value;if("string"!=typeof Re&&"number"!=typeof Re&&"boolean"!=typeof Re){const it={instancePath:t+"/"+z+"/value",schemaPath:"#/allOf/0/items/properties/value/type",keyword:"type",params:{type:od.allOf[0].items.properties.value.type},message:"must be string,number,boolean"};null===a?a=[it]:a.push(it),l++}}if(void 0!==W.description&&"string"!=typeof W.description){const Re={instancePath:t+"/"+z+"/description",schemaPath:"#/allOf/0/items/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Re]:a.push(Re),l++}if(void 0!==W.label&&"string"!=typeof W.label){const Re={instancePath:t+"/"+z+"/label",schemaPath:"#/allOf/0/items/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Re]:a.push(Re),l++}if(void 0!==W.type&&"string"!=typeof W.type){const Re={instancePath:t+"/"+z+"/type",schemaPath:"#/allOf/0/items/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Re]:a.push(Re),l++}if(void 0!==W.editable&&"boolean"!=typeof W.editable){const Re={instancePath:t+"/"+z+"/editable",schemaPath:"#/allOf/0/items/properties/editable/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[Re]:a.push(Re),l++}if(void 0!==W.choices){let Re=W.choices;if(Array.isArray(Re)){const it=Re.length;for(let pt=0;pt<it;pt++){let Jt=Re[pt];if(Jt&&"object"==typeof Jt&&!Array.isArray(Jt)){if(void 0===Jt.value){const Ft={instancePath:t+"/"+z+"/choices/"+pt,schemaPath:"#/allOf/0/items/properties/choices/items/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===a?a=[Ft]:a.push(Ft),l++}if(void 0===Jt.name){const Ft={instancePath:t+"/"+z+"/choices/"+pt,schemaPath:"#/allOf/0/items/properties/choices/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===a?a=[Ft]:a.push(Ft),l++}if(void 0!==Jt.name&&"string"!=typeof Jt.name){const Ft={instancePath:t+"/"+z+"/choices/"+pt+"/name",schemaPath:"#/allOf/0/items/properties/choices/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ft]:a.push(Ft),l++}if(void 0!==Jt.value&&"string"!=typeof Jt.value){const Ft={instancePath:t+"/"+z+"/choices/"+pt+"/value",schemaPath:"#/allOf/0/items/properties/choices/items/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ft]:a.push(Ft),l++}void 0!==Jt.condition&&(T1(Jt.condition,{instancePath:t+"/"+z+"/choices/"+pt+"/condition",parentData:Jt,parentDataProperty:"condition",rootData:o})||(a=null===a?T1.errors:a.concat(T1.errors),l=a.length))}else{const Ft={instancePath:t+"/"+z+"/choices/"+pt,schemaPath:"#/allOf/0/items/properties/choices/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Ft]:a.push(Ft),l++}if(l>0){const Ft={required:[]},ze={};for(const je of a)"errorMessage"!==je.keyword&&!je.emUsed&&je.instancePath===t+"/"+z+"/choices/"+pt&&je.keyword in Ft&&0===je.schemaPath.indexOf("#/allOf/0/items/properties/choices/items")&&/^\/[^\/]*$/.test(je.schemaPath.slice(40))&&(Ft[je.keyword].push(je),je.emUsed=!0);for(const je in Ft)if(Ft[je].length){const $e={instancePath:t+"/"+z+"/choices/"+pt,schemaPath:"#/allOf/0/items/properties/choices/items/errorMessage",keyword:"errorMessage",params:{errors:Ft[je]},message:je in ze?ze[je]():od.allOf[0].items.properties.choices.items.errorMessage[je]};null===a?a=[$e]:a.push($e),l++}const Z=[];for(const je of a)je.emUsed||Z.push(je);a=Z,l=Z.length}}}else{const it={instancePath:t+"/"+z+"/choices",schemaPath:"#/allOf/0/items/properties/choices/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[it]:a.push(it),l++}}if(void 0!==W.constraints){let Re=W.constraints;if(Re&&"object"==typeof Re&&!Array.isArray(Re)){if(void 0!==Re.notEmpty&&"boolean"!=typeof Re.notEmpty){const it={instancePath:t+"/"+z+"/constraints/notEmpty",schemaPath:"#/allOf/0/items/properties/constraints/properties/notEmpty/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[it]:a.push(it),l++}if(void 0!==Re.minLength&&"number"!=typeof Re.minLength){const it={instancePath:t+"/"+z+"/constraints/minLength",schemaPath:"#/allOf/0/items/properties/constraints/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[it]:a.push(it),l++}if(void 0!==Re.maxLength&&"number"!=typeof Re.maxLength){const it={instancePath:t+"/"+z+"/constraints/maxLength",schemaPath:"#/allOf/0/items/properties/constraints/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[it]:a.push(it),l++}if(void 0!==Re.pattern){let it=Re.pattern;const pt=l;let Jt=!1,Ft=null;const ze=l;if(it&&"object"==typeof it&&!Array.isArray(it)){if(void 0!==it.value&&"string"!=typeof it.value){const je={instancePath:t+"/"+z+"/constraints/pattern/value",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[je]:a.push(je),l++}if(void 0!==it.message&&"string"!=typeof it.message){const je={instancePath:t+"/"+z+"/constraints/pattern/message",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/properties/message/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[je]:a.push(je),l++}}else{const je={instancePath:t+"/"+z+"/constraints/pattern",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[je]:a.push(je),l++}ze===l&&(Jt=!0,Ft=0);const Z=l;if("string"!=typeof it){const je={instancePath:t+"/"+z+"/constraints/pattern",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[je]:a.push(je),l++}var x;if((x=Z===l)&&Jt?(Jt=!1,Ft=[Ft,1]):x&&(Jt=!0,Ft=1),Jt)l=pt,null!==a&&(pt?a.length=pt:a=null);else{const je={instancePath:t+"/"+z+"/constraints/pattern",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf",keyword:"oneOf",params:{passingSchemas:Ft},message:"must match exactly one schema in oneOf"};null===a?a=[je]:a.push(je),l++}}}else{const it={instancePath:t+"/"+z+"/constraints",schemaPath:"#/allOf/0/items/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[it]:a.push(it),l++}}if(void 0!==W.group&&"string"!=typeof W.group){const Re={instancePath:t+"/"+z+"/group",schemaPath:"#/allOf/0/items/properties/group/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Re]:a.push(Re),l++}}else{const Re={instancePath:t+"/"+z,schemaPath:"#/allOf/0/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Re]:a.push(Re),l++}}}else{const N={instancePath:t,schemaPath:"#/allOf/0/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[N]:a.push(N),l++}if(Array.isArray(n)){const N=n.length;for(let z=0;z<N;z++){let W=n[z];const Ke=l;let tt=!0;const Ge=l;if(W&&"object"==typeof W&&!Array.isArray(W))if(void 0===W.binding){const re={};null===a?a=[re]:a.push(re),l++}else if(void 0!==W.binding){let re=W.binding;if(re&&"object"==typeof re&&!Array.isArray(re))if(void 0===re.type){const ve={};null===a?a=[ve]:a.push(ve),l++}else if(void 0!==re.type&&"property"!==re.type){const ve={};null===a?a=[ve]:a.push(ve),l++}}var b=Ge===l;if(l=Ke,null!==a&&(Ke?a.length=Ke:a=null),b){const re=l;if(W&&"object"==typeof W&&!Array.isArray(W)&&void 0!==W.type){let le=W.type;if("String"!==le&&"Text"!==le&&"Hidden"!==le&&"Dropdown"!==le&&"Boolean"!==le){const Ue={instancePath:t+"/"+z+"/type",schemaPath:"#/allOf/1/items/allOf/0/then/properties/type/enum",keyword:"enum",params:{allowedValues:od.allOf[1].items.allOf[0].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===a?a=[Ue]:a.push(Ue),l++}if(l>0){const Ue=[];for(const st of a)"errorMessage"!==st.keyword&&!st.emUsed&&(st.instancePath===t+"/"+z+"/type"||0===st.instancePath.indexOf(t+"/"+z+"/type")&&"/"===st.instancePath[t+"/"+z+5])&&0===st.schemaPath.indexOf("#/allOf/1/items/allOf/0/then/properties/type")&&"/"===st.schemaPath[44]&&(Ue.push(st),st.emUsed=!0);if(Ue.length){const st={instancePath:t+"/"+z+"/type",schemaPath:"#/allOf/1/items/allOf/0/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Ue},message:"invalid property type "+JSON.stringify(le)+' for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean }'};null===a?a=[st]:a.push(st),l++}const at=[];for(const st of a)st.emUsed||at.push(st);a=at,l=at.length}}tt=b=re===l}if(!tt){const re={instancePath:t+"/"+z,schemaPath:"#/allOf/1/items/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[re]:a.push(re),l++}const Nt=l;let Ln=!0;const Cr=l;if(W&&"object"==typeof W&&!Array.isArray(W))if(void 0===W.binding){const re={};null===a?a=[re]:a.push(re),l++}else if(void 0!==W.binding){let re=W.binding;if(re&&"object"==typeof re&&!Array.isArray(re))if(void 0===re.type){const ve={};null===a?a=[ve]:a.push(ve),l++}else if(void 0!==re.type&&"camunda:executionListener"!==re.type){const ve={};null===a?a=[ve]:a.push(ve),l++}}var w=Cr===l;if(l=Nt,null!==a&&(Nt?a.length=Nt:a=null),w){const re=l;if(W&&"object"==typeof W&&!Array.isArray(W)){if(void 0!==W.type){if("Hidden"!==W.type){const le={instancePath:t+"/"+z+"/type",schemaPath:"#/allOf/1/items/allOf/1/then/properties/type/enum",keyword:"enum",params:{allowedValues:od.allOf[1].items.allOf[1].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===a?a=[le]:a.push(le),l++}if(l>0){const le=[];for(const at of a)"errorMessage"!==at.keyword&&!at.emUsed&&(at.instancePath===t+"/"+z+"/type"||0===at.instancePath.indexOf(t+"/"+z+"/type")&&"/"===at.instancePath[t+"/"+z+5])&&0===at.schemaPath.indexOf("#/allOf/1/items/allOf/1/then/properties/type")&&"/"===at.schemaPath[44]&&(le.push(at),at.emUsed=!0);if(le.length){const at={instancePath:t+"/"+z+"/type",schemaPath:"#/allOf/1/items/allOf/1/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:le},message:"invalid property type "+JSON.stringify(W&&W.type)+' for binding type "camunda:executionListener"; must be "Hidden"'};null===a?a=[at]:a.push(at),l++}const Ue=[];for(const at of a)at.emUsed||Ue.push(at);a=Ue,l=Ue.length}}if(void 0!==W.binding){let le=W.binding;const Ue=l;let at=!1,st=null;const yt=l,Re=l,it=l;if(le&&"object"==typeof le&&!Array.isArray(le)&&void 0!==le.implementationType&&"script"!==le.implementationType){const Jt={};null===a?a=[Jt]:a.push(Jt),l++}if(it===l){const Jt={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/allOf/1/then/properties/binding/oneOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Jt]:a.push(Jt),l++}else l=Re,null!==a&&(Re?a.length=Re:a=null);(P=yt===l)&&(at=!0,st=0);const pt=l;if(le&&"object"==typeof le&&!Array.isArray(le)&&void 0===le.scriptFormat){const Jt={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/allOf/1/then/properties/binding/oneOf/1/required",keyword:"required",params:{missingProperty:"scriptFormat"},message:"must have required property 'scriptFormat'"};null===a?a=[Jt]:a.push(Jt),l++}if((P=pt===l)&&at)at=!1,st=[st,1];else{P&&(at=!0,st=1);const Jt=l,Ft=l,ze=l;if(le&&"object"==typeof le&&!Array.isArray(le)&&void 0===le.implementationType){const he={};null===a?a=[he]:a.push(he),l++}if(ze===l){const he={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/allOf/1/then/properties/binding/oneOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[he]:a.push(he),l++}else l=Ft,null!==a&&(Ft?a.length=Ft:a=null);const Z=l,je=l;if(le&&"object"==typeof le&&!Array.isArray(le)&&void 0===le.scriptFormat){const he={};null===a?a=[he]:a.push(he),l++}var P;if(je===l){const he={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/allOf/1/then/properties/binding/oneOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[he]:a.push(he),l++}else l=Z,null!==a&&(Z?a.length=Z:a=null);(P=Jt===l)&&at?(at=!1,st=[st,2]):P&&(at=!0,st=2)}if(at)l=Ue,null!==a&&(Ue?a.length=Ue:a=null);else{const Jt={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/allOf/1/then/properties/binding/oneOf",keyword:"oneOf",params:{passingSchemas:st},message:"must match exactly one schema in oneOf"};null===a?a=[Jt]:a.push(Jt),l++}if(le&&"object"==typeof le&&!Array.isArray(le)&&void 0!==le.implementationType){let Jt=le.implementationType;if("class"!==Jt&&"delegateExpression"!==Jt&&"expression"!==Jt&&"script"!==Jt){const Ft={instancePath:t+"/"+z+"/binding/implementationType",schemaPath:"#/allOf/1/items/allOf/1/then/properties/binding/properties/implementationType/enum",keyword:"enum",params:{allowedValues:od.allOf[1].items.allOf[1].then.properties.binding.properties.implementationType.enum},message:"must be equal to one of the allowed values"};null===a?a=[Ft]:a.push(Ft),l++}}}}Ln=w=re===l}if(!Ln){const re={instancePath:t+"/"+z,schemaPath:"#/allOf/1/items/allOf/1/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[re]:a.push(re),l++}const At=l;let an=!0;const ae=l;if(W&&"object"==typeof W&&!Array.isArray(W))if(void 0===W.binding){const re={};null===a?a=[re]:a.push(re),l++}else if(void 0!==W.binding){let re=W.binding;if(re&&"object"==typeof re&&!Array.isArray(re))if(void 0===re.type){const ve={};null===a?a=[ve]:a.push(ve),l++}else if(void 0!==re.type){let ve=re.type;if("camunda:property"!==ve&&"camunda:outputParameter"!==ve&&"camunda:in"!==ve&&"camunda:in:businessKey"!==ve&&"camunda:out"!==ve&&"camunda:errorEventDefinition"!==ve){const le={};null===a?a=[le]:a.push(le),l++}}}var k=ae===l;if(l=At,null!==a&&(At?a.length=At:a=null),k){const re=l;if(W&&"object"==typeof W&&!Array.isArray(W)&&void 0!==W.type){let le=W.type;if("String"!==le&&"Hidden"!==le&&"Dropdown"!==le){const Ue={instancePath:t+"/"+z+"/type",schemaPath:"#/allOf/1/items/allOf/2/then/properties/type/enum",keyword:"enum",params:{allowedValues:od.allOf[1].items.allOf[2].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===a?a=[Ue]:a.push(Ue),l++}if(l>0){const Ue=[];for(const st of a)"errorMessage"!==st.keyword&&!st.emUsed&&(st.instancePath===t+"/"+z+"/type"||0===st.instancePath.indexOf(t+"/"+z+"/type")&&"/"===st.instancePath[t+"/"+z+5])&&0===st.schemaPath.indexOf("#/allOf/1/items/allOf/2/then/properties/type")&&"/"===st.schemaPath[44]&&(Ue.push(st),st.emUsed=!0);if(Ue.length){const st={instancePath:t+"/"+z+"/type",schemaPath:"#/allOf/1/items/allOf/2/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Ue},message:"invalid property type "+JSON.stringify(le)+" for binding type "+JSON.stringify(W&&W.binding&&W.binding.type)+"; must be any of { String, Hidden, Dropdown }"};null===a?a=[st]:a.push(st),l++}const at=[];for(const st of a)st.emUsed||at.push(st);a=at,l=at.length}}an=k=re===l}if(!an){const re={instancePath:t+"/"+z,schemaPath:"#/allOf/1/items/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[re]:a.push(re),l++}const Ye=l;let Et=!0;const Ct=l;if(W&&"object"==typeof W&&!Array.isArray(W))if(void 0===W.binding){const re={};null===a?a=[re]:a.push(re),l++}else if(void 0!==W.binding){let re=W.binding;if(re&&"object"==typeof re&&!Array.isArray(re))if(void 0===re.type){const ve={};null===a?a=[ve]:a.push(ve),l++}else if(void 0!==re.type){let ve=re.type;if("camunda:inputParameter"!==ve&&"camunda:field"!==ve){const le={};null===a?a=[le]:a.push(le),l++}}}var F=Ct===l;if(l=Ye,null!==a&&(Ye?a.length=Ye:a=null),F){const re=l;if(W&&"object"==typeof W&&!Array.isArray(W)&&void 0!==W.type){let le=W.type;if("String"!==le&&"Text"!==le&&"Hidden"!==le&&"Dropdown"!==le){const Ue={instancePath:t+"/"+z+"/type",schemaPath:"#/allOf/1/items/allOf/3/then/properties/type/enum",keyword:"enum",params:{allowedValues:od.allOf[1].items.allOf[3].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===a?a=[Ue]:a.push(Ue),l++}if(l>0){const Ue=[];for(const st of a)"errorMessage"!==st.keyword&&!st.emUsed&&(st.instancePath===t+"/"+z+"/type"||0===st.instancePath.indexOf(t+"/"+z+"/type")&&"/"===st.instancePath[t+"/"+z+5])&&0===st.schemaPath.indexOf("#/allOf/1/items/allOf/3/then/properties/type")&&"/"===st.schemaPath[44]&&(Ue.push(st),st.emUsed=!0);if(Ue.length){const st={instancePath:t+"/"+z+"/type",schemaPath:"#/allOf/1/items/allOf/3/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Ue},message:"invalid property type "+JSON.stringify(le)+" for binding type "+JSON.stringify(W&&W.binding&&W.binding.type)+"; must be any of { String, Text, Hidden, Dropdown }"};null===a?a=[st]:a.push(st),l++}const at=[];for(const st of a)st.emUsed||at.push(st);a=at,l=at.length}}Et=F=re===l}if(!Et){const re={instancePath:t+"/"+z,schemaPath:"#/allOf/1/items/allOf/3/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[re]:a.push(re),l++}if(W&&"object"==typeof W&&!Array.isArray(W)){if(void 0===W.binding){const re={instancePath:t+"/"+z,schemaPath:"#/allOf/1/items/required",keyword:"required",params:{missingProperty:"binding"},message:"must have required property 'binding'"};null===a?a=[re]:a.push(re),l++}if(void 0!==W.binding){let re=W.binding;const ve=l;let le=!0;const Ue=l;if(re&&"object"==typeof re&&!Array.isArray(re))if(void 0===re.type){const he={};null===a?a=[he]:a.push(he),l++}else if(void 0!==re.type){let he=re.type;if("property"!==he&&"camunda:property"!==he&&"camunda:inputParameter"!==he&&"camunda:field"!==he){const nt={};null===a?a=[nt]:a.push(nt),l++}}var M=Ue===l;if(l=ve,null!==a&&(ve?a.length=ve:a=null),M){const he=l;if(re&&"object"==typeof re&&!Array.isArray(re)&&void 0===re.name){const me={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/0/then/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===a?a=[me]:a.push(me),l++}if(l>0){const me=[];for(const ct of a)"errorMessage"!==ct.keyword&&!ct.emUsed&&(ct.instancePath===t+"/"+z+"/binding"||0===ct.instancePath.indexOf(t+"/"+z+"/binding")&&"/"===ct.instancePath[t+"/"+z+8])&&0===ct.schemaPath.indexOf("#/allOf/1/items/properties/binding/allOf/0/then")&&"/"===ct.schemaPath[47]&&(me.push(ct),ct.emUsed=!0);if(me.length){const ct={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:me},message:"property.binding "+JSON.stringify(re&&re.type)+" requires name"};null===a?a=[ct]:a.push(ct),l++}const Ze=[];for(const ct of a)ct.emUsed||Ze.push(ct);a=Ze,l=Ze.length}le=M=he===l}if(!le){const he={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[he]:a.push(he),l++}const at=l;let st=!0;const yt=l;if(re&&"object"==typeof re&&!Array.isArray(re))if(void 0===re.type){const he={};null===a?a=[he]:a.push(he),l++}else if(void 0!==re.type&&"camunda:outputParameter"!==re.type){const he={};null===a?a=[he]:a.push(he),l++}var B=yt===l;if(l=at,null!==a&&(at?a.length=at:a=null),B){const he=l;if(re&&"object"==typeof re&&!Array.isArray(re)&&void 0===re.source){const me={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/1/then/required",keyword:"required",params:{missingProperty:"source"},message:"must have required property 'source'"};null===a?a=[me]:a.push(me),l++}if(l>0){const me=[];for(const ct of a)"errorMessage"!==ct.keyword&&!ct.emUsed&&(ct.instancePath===t+"/"+z+"/binding"||0===ct.instancePath.indexOf(t+"/"+z+"/binding")&&"/"===ct.instancePath[t+"/"+z+8])&&0===ct.schemaPath.indexOf("#/allOf/1/items/properties/binding/allOf/1/then")&&"/"===ct.schemaPath[47]&&(me.push(ct),ct.emUsed=!0);if(me.length){const ct={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/1/then/errorMessage",keyword:"errorMessage",params:{errors:me},message:"property.binding "+JSON.stringify(re&&re.type)+" requires source"};null===a?a=[ct]:a.push(ct),l++}const Ze=[];for(const ct of a)ct.emUsed||Ze.push(ct);a=Ze,l=Ze.length}st=B=he===l}if(!st){const he={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/1/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[he]:a.push(he),l++}const Re=l;let it=!0;const pt=l;if(re&&"object"==typeof re&&!Array.isArray(re))if(void 0===re.type){const he={};null===a?a=[he]:a.push(he),l++}else if(void 0!==re.type&&"camunda:in"!==re.type){const he={};null===a?a=[he]:a.push(he),l++}var q=pt===l;if(l=Re,null!==a&&(Re?a.length=Re:a=null),q){const he=l,nt=l;let me=!1;const Ze=l;if(re&&"object"==typeof re&&!Array.isArray(re)&&void 0===re.variables){const K={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/2/then/anyOf/0/required",keyword:"required",params:{missingProperty:"variables"},message:"must have required property 'variables'"};null===a?a=[K]:a.push(K),l++}var ue=Ze===l;if(me=me||ue,!me){const K=l;if(re&&"object"==typeof re&&!Array.isArray(re)&&void 0===re.target){const fe={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/2/then/anyOf/1/required",keyword:"required",params:{missingProperty:"target"},message:"must have required property 'target'"};null===a?a=[fe]:a.push(fe),l++}ue=K===l,me=me||ue}if(me)l=nt,null!==a&&(nt?a.length=nt:a=null);else{const K={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/2/then/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};null===a?a=[K]:a.push(K),l++}if(l>0){const K=[];for(const fe of a)"errorMessage"!==fe.keyword&&!fe.emUsed&&(fe.instancePath===t+"/"+z+"/binding"||0===fe.instancePath.indexOf(t+"/"+z+"/binding")&&"/"===fe.instancePath[t+"/"+z+8])&&0===fe.schemaPath.indexOf("#/allOf/1/items/properties/binding/allOf/2/then")&&"/"===fe.schemaPath[47]&&(K.push(fe),fe.emUsed=!0);if(K.length){const fe={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/2/then/errorMessage",keyword:"errorMessage",params:{errors:K},message:"property.binding "+JSON.stringify(re&&re.type)+" requires variables, target, or both"};null===a?a=[fe]:a.push(fe),l++}const J=[];for(const fe of a)fe.emUsed||J.push(fe);a=J,l=J.length}it=q=he===l}if(!it){const he={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[he]:a.push(he),l++}const Jt=l;let Ft=!0;const ze=l;if(re&&"object"==typeof re&&!Array.isArray(re))if(void 0===re.type){const he={};null===a?a=[he]:a.push(he),l++}else if(void 0!==re.type&&"camunda:out"!==re.type){const he={};null===a?a=[he]:a.push(he),l++}var H=ze===l;if(l=Jt,null!==a&&(Jt?a.length=Jt:a=null),H){const he=l,nt=l;let me=!1,Ze=null;const ct=l,K=l,J=l,fe=l;let Me=!1;const vt=l;if(re&&"object"==typeof re&&!Array.isArray(re)&&void 0===re.source){const bt={};null===a?a=[bt]:a.push(bt),l++}var ee=vt===l;if(Me=Me||ee,!Me){const bt=l;if(re&&"object"==typeof re&&!Array.isArray(re)&&void 0===re.sourceExpression){const Fr={};null===a?a=[Fr]:a.push(Fr),l++}ee=bt===l,Me=Me||ee}if(Me)l=fe,null!==a&&(fe?a.length=fe:a=null);else{const bt={};null===a?a=[bt]:a.push(bt),l++}if(J===l){const bt={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[bt]:a.push(bt),l++}else l=K,null!==a&&(K?a.length=K:a=null);if(re&&"object"==typeof re&&!Array.isArray(re)&&void 0===re.variables){const bt={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/0/required",keyword:"required",params:{missingProperty:"variables"},message:"must have required property 'variables'"};null===a?a=[bt]:a.push(bt),l++}(Ve=ct===l)&&(me=!0,Ze=0);const Rt=l,ht=l,Wt=l,Ie=l;let ut=!1;const rt=l;if(re&&"object"==typeof re&&!Array.isArray(re)&&void 0===re.variables){const bt={};null===a?a=[bt]:a.push(bt),l++}var Ee=rt===l;if(ut=ut||Ee,!ut){const bt=l;if(re&&"object"==typeof re&&!Array.isArray(re)&&void 0===re.sourceExpression){const Fr={};null===a?a=[Fr]:a.push(Fr),l++}Ee=bt===l,ut=ut||Ee}if(ut)l=Ie,null!==a&&(Ie?a.length=Ie:a=null);else{const bt={};null===a?a=[bt]:a.push(bt),l++}if(Wt===l){const bt={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[bt]:a.push(bt),l++}else l=ht,null!==a&&(ht?a.length=ht:a=null);if(re&&"object"==typeof re&&!Array.isArray(re)&&void 0===re.source){const bt={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/1/required",keyword:"required",params:{missingProperty:"source"},message:"must have required property 'source'"};null===a?a=[bt]:a.push(bt),l++}if((Ve=Rt===l)&&me)me=!1,Ze=[Ze,1];else{Ve&&(me=!0,Ze=1);const bt=l,gi=l,Fr=l,Ir=l;let yl=!1;const Rc=l;if(re&&"object"==typeof re&&!Array.isArray(re)&&void 0===re.variables){const zr={};null===a?a=[zr]:a.push(zr),l++}var Pe=Rc===l;if(yl=yl||Pe,!yl){const zr=l;if(re&&"object"==typeof re&&!Array.isArray(re)&&void 0===re.source){const yn={};null===a?a=[yn]:a.push(yn),l++}Pe=zr===l,yl=yl||Pe}if(yl)l=Ir,null!==a&&(Ir?a.length=Ir:a=null);else{const zr={};null===a?a=[zr]:a.push(zr),l++}if(Fr===l){const zr={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/2/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[zr]:a.push(zr),l++}else l=gi,null!==a&&(gi?a.length=gi:a=null);if(re&&"object"==typeof re&&!Array.isArray(re)&&void 0===re.sourceExpression){const zr={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/2/required",keyword:"required",params:{missingProperty:"sourceExpression"},message:"must have required property 'sourceExpression'"};null===a?a=[zr]:a.push(zr),l++}if((Ve=bt===l)&&me)me=!1,Ze=[Ze,2];else{Ve&&(me=!0,Ze=2);const zr=l,hd=l,yn=l;if(re&&"object"==typeof re&&!Array.isArray(re)&&void 0===re.source){const dt={};null===a?a=[dt]:a.push(dt),l++}if(yn===l){const dt={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[dt]:a.push(dt),l++}else l=hd,null!==a&&(hd?a.length=hd:a=null);if(re&&"object"==typeof re&&!Array.isArray(re)){if(void 0===re.variables){const dt={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/required",keyword:"required",params:{missingProperty:"variables"},message:"must have required property 'variables'"};null===a?a=[dt]:a.push(dt),l++}if(void 0===re.sourceExpression){const dt={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/required",keyword:"required",params:{missingProperty:"sourceExpression"},message:"must have required property 'sourceExpression'"};null===a?a=[dt]:a.push(dt),l++}}if((Ve=zr===l)&&me)me=!1,Ze=[Ze,3];else{Ve&&(me=!0,Ze=3);const dt=l,gn=l,si=l;if(re&&"object"==typeof re&&!Array.isArray(re)&&void 0===re.sourceExpression){const yi={};null===a?a=[yi]:a.push(yi),l++}var Ve;if(si===l){const yi={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[yi]:a.push(yi),l++}else l=gn,null!==a&&(gn?a.length=gn:a=null);if(re&&"object"==typeof re&&!Array.isArray(re)){if(void 0===re.variables){const yi={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/required",keyword:"required",params:{missingProperty:"variables"},message:"must have required property 'variables'"};null===a?a=[yi]:a.push(yi),l++}if(void 0===re.source){const yi={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/required",keyword:"required",params:{missingProperty:"source"},message:"must have required property 'source'"};null===a?a=[yi]:a.push(yi),l++}}(Ve=dt===l)&&me?(me=!1,Ze=[Ze,4]):Ve&&(me=!0,Ze=4)}}}if(me)l=nt,null!==a&&(nt?a.length=nt:a=null);else{const bt={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf",keyword:"oneOf",params:{passingSchemas:Ze},message:"must match exactly one schema in oneOf"};null===a?a=[bt]:a.push(bt),l++}if(l>0){const bt=[];for(const Fr of a)"errorMessage"!==Fr.keyword&&!Fr.emUsed&&(Fr.instancePath===t+"/"+z+"/binding"||0===Fr.instancePath.indexOf(t+"/"+z+"/binding")&&"/"===Fr.instancePath[t+"/"+z+8])&&0===Fr.schemaPath.indexOf("#/allOf/1/items/properties/binding/allOf/3/then")&&"/"===Fr.schemaPath[47]&&(bt.push(Fr),Fr.emUsed=!0);if(bt.length){const Fr={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/errorMessage",keyword:"errorMessage",params:{errors:bt},message:"property.binding "+JSON.stringify(re&&re.type)+" requires one of the following: variables, sourceExpression, source, (sourceExpression and variables), or (source and variables)"};null===a?a=[Fr]:a.push(Fr),l++}const gi=[];for(const Fr of a)Fr.emUsed||gi.push(Fr);a=gi,l=gi.length}Ft=H=he===l}if(!Ft){const he={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[he]:a.push(he),l++}const Z=l;let je=!0;const $e=l;if(re&&"object"==typeof re&&!Array.isArray(re))if(void 0===re.type){const he={};null===a?a=[he]:a.push(he),l++}else if(void 0!==re.type&&"camunda:errorEventDefinition"!==re.type){const he={};null===a?a=[he]:a.push(he),l++}var R=$e===l;if(l=Z,null!==a&&(Z?a.length=Z:a=null),R){const he=l,nt=l;let me=!1,Ze=null;const ct=l;if(re&&"object"==typeof re&&!Array.isArray(re)&&void 0===re.errorRef){const J={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/4/then/oneOf/0/required",keyword:"required",params:{missingProperty:"errorRef"},message:"must have required property 'errorRef'"};null===a?a=[J]:a.push(J),l++}if(ct===l&&(me=!0,Ze=0),me)l=nt,null!==a&&(nt?a.length=nt:a=null);else{const J={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/4/then/oneOf",keyword:"oneOf",params:{passingSchemas:Ze},message:"must match exactly one schema in oneOf"};null===a?a=[J]:a.push(J),l++}if(l>0){const J=[];for(const Me of a)"errorMessage"!==Me.keyword&&!Me.emUsed&&(Me.instancePath===t+"/"+z+"/binding"||0===Me.instancePath.indexOf(t+"/"+z+"/binding")&&"/"===Me.instancePath[t+"/"+z+8])&&0===Me.schemaPath.indexOf("#/allOf/1/items/properties/binding/allOf/4/then")&&"/"===Me.schemaPath[47]&&(J.push(Me),Me.emUsed=!0);if(J.length){const Me={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/4/then/errorMessage",keyword:"errorMessage",params:{errors:J},message:"property.binding "+JSON.stringify(re&&re.type)+" requires errorRef"};null===a?a=[Me]:a.push(Me),l++}const fe=[];for(const Me of a)Me.emUsed||fe.push(Me);a=fe,l=fe.length}je=R=he===l}if(!je){const he={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/4/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[he]:a.push(he),l++}if(re&&"object"==typeof re&&!Array.isArray(re)){if(void 0===re.type){const he={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===a?a=[he]:a.push(he),l++}if(void 0!==re.type){let he=re.type;if("string"!=typeof he){const nt={instancePath:t+"/"+z+"/binding/type",schemaPath:"#/allOf/1/items/properties/binding/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[nt]:a.push(nt),l++}if("property"!==he&&"camunda:property"!==he&&"camunda:inputParameter"!==he&&"camunda:outputParameter"!==he&&"camunda:in"!==he&&"camunda:out"!==he&&"camunda:in:businessKey"!==he&&"camunda:executionListener"!==he&&"camunda:field"!==he&&"camunda:errorEventDefinition"!==he){const nt={instancePath:t+"/"+z+"/binding/type",schemaPath:"#/allOf/1/items/properties/binding/properties/type/enum",keyword:"enum",params:{allowedValues:od.allOf[1].items.properties.binding.properties.type.enum},message:"must be equal to one of the allowed values"};null===a?a=[nt]:a.push(nt),l++}if(l>0){const nt=[];for(const Ze of a)"errorMessage"!==Ze.keyword&&!Ze.emUsed&&(Ze.instancePath===t+"/"+z+"/binding/type"||0===Ze.instancePath.indexOf(t+"/"+z+"/binding/type")&&"/"===Ze.instancePath[t+"/"+z+13])&&0===Ze.schemaPath.indexOf("#/allOf/1/items/properties/binding/properties/type")&&"/"===Ze.schemaPath[50]&&(nt.push(Ze),Ze.emUsed=!0);if(nt.length){const Ze={instancePath:t+"/"+z+"/binding/type",schemaPath:"#/allOf/1/items/properties/binding/properties/type/errorMessage",keyword:"errorMessage",params:{errors:nt},message:"invalid property.binding type "+JSON.stringify(he)+"; must be any of { property, camunda:property, camunda:inputParameter, camunda:outputParameter, camunda:in, camunda:out, camunda:in:businessKey, camunda:executionListener, camunda:field, camunda:errorEventDefinition }"};null===a?a=[Ze]:a.push(Ze),l++}const me=[];for(const Ze of a)Ze.emUsed||me.push(Ze);a=me,l=me.length}}if(void 0!==re.name&&"string"!=typeof re.name){const he={instancePath:t+"/"+z+"/binding/name",schemaPath:"#/allOf/1/items/properties/binding/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[he]:a.push(he),l++}if(void 0!==re.event&&"string"!=typeof re.event){const he={instancePath:t+"/"+z+"/binding/event",schemaPath:"#/allOf/1/items/properties/binding/properties/event/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[he]:a.push(he),l++}if(void 0!==re.scriptFormat&&"string"!=typeof re.scriptFormat){const he={instancePath:t+"/"+z+"/binding/scriptFormat",schemaPath:"#/allOf/1/items/properties/binding/properties/scriptFormat/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[he]:a.push(he),l++}if(void 0!==re.source&&"string"!=typeof re.source){const he={instancePath:t+"/"+z+"/binding/source",schemaPath:"#/allOf/1/items/properties/binding/properties/source/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[he]:a.push(he),l++}if(void 0!==re.target&&"string"!=typeof re.target){const he={instancePath:t+"/"+z+"/binding/target",schemaPath:"#/allOf/1/items/properties/binding/properties/target/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[he]:a.push(he),l++}if(void 0!==re.expression&&"boolean"!=typeof re.expression){const he={instancePath:t+"/"+z+"/binding/expression",schemaPath:"#/allOf/1/items/properties/binding/properties/expression/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[he]:a.push(he),l++}if(void 0!==re.variables){let he=re.variables;if("string"!=typeof he){const nt={instancePath:t+"/"+z+"/binding/variables",schemaPath:"#/allOf/1/items/properties/binding/properties/variables/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[nt]:a.push(nt),l++}if("all"!==he&&"local"!==he){const nt={instancePath:t+"/"+z+"/binding/variables",schemaPath:"#/allOf/1/items/properties/binding/properties/variables/enum",keyword:"enum",params:{allowedValues:od.allOf[1].items.properties.binding.properties.variables.enum},message:"must be equal to one of the allowed values"};null===a?a=[nt]:a.push(nt),l++}}if(void 0!==re.sourceExpression&&"string"!=typeof re.sourceExpression){const he={instancePath:t+"/"+z+"/binding/sourceExpression",schemaPath:"#/allOf/1/items/properties/binding/properties/sourceExpression/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[he]:a.push(he),l++}}else{const he={instancePath:t+"/"+z+"/binding",schemaPath:"#/allOf/1/items/properties/binding/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[he]:a.push(he),l++}}}else{const re={instancePath:t+"/"+z,schemaPath:"#/allOf/1/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[re]:a.push(re),l++}if(l>0){const re={required:[]},ve={required:function(){return'missing binding for property "'+JSON.stringify(z)+'"'}};for(const Ue of a)"errorMessage"!==Ue.keyword&&!Ue.emUsed&&Ue.instancePath===t+"/"+z&&Ue.keyword in re&&0===Ue.schemaPath.indexOf("#/allOf/1/items")&&/^\/[^\/]*$/.test(Ue.schemaPath.slice(15))&&(re[Ue.keyword].push(Ue),Ue.emUsed=!0);for(const Ue in re)if(re[Ue].length){const at={instancePath:t+"/"+z,schemaPath:"#/allOf/1/items/errorMessage",keyword:"errorMessage",params:{errors:re[Ue]},message:Ue in ve?ve[Ue]():od.allOf[1].items.errorMessage[Ue]};null===a?a=[at]:a.push(at),l++}const le=[];for(const Ue of a)Ue.emUsed||le.push(Ue);a=le,l=le.length}}}else{const N={instancePath:t,schemaPath:"#/allOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[N]:a.push(N),l++}return HD.errors=a,0===l}const YU={type:"array",description:"List of properties of the element template.",allOf:[{examples:[[{label:"Name",type:"String",binding:{type:"property",name:"name"}}]]}],items:{type:"object",default:{},allOf:[{if:{properties:{type:{const:"Dropdown"}},required:["type"]},then:{required:["choices"],errorMessage:'must provide choices=[] with "Dropdown" type'}},{definitions:{condition:{type:"object",required:["property"],properties:{type:{$id:"#/condition/type",const:"simple",description:"The type of the condition.",default:"simple"},property:{$id:"#/condition/property",type:"string",description:"The id of the property to check."}},oneOf:[{properties:{equals:{type:["string","number","boolean"]}},required:["equals"]},{properties:{oneOf:{type:"array",items:{type:["string","number"]}}},required:["oneOf"]},{properties:{isActive:{type:"boolean",description:"For `true`, activates the property when given property is active"}},required:["isActive"]}],errorMessage:{required:{property:"missing property name for condition"}}},conditionDependingOnId:{required:["property"],properties:{property:{const:{$data:"2/id"}}}}},allOf:[{$comment:"property#condition should not depend on property#id",if:{required:["id","condition"],properties:{condition:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/conditionDependingOnId"}}},then:{not:{required:["condition"]},errorMessage:"Invalid condition.property, must be different than property.id"}},{then:{errorMessage:"Invalid condition.property, must be different than property.id"}}],properties:{id:{type:"string",description:"Unique identifier of the property."},condition:{type:"object",description:"Condition(s) to activate the binding.",allOf:[{examples:[{type:"simple",property:"httpMethod",equals:"GET"},{type:"simple",property:"httpMethod",oneOf:["POST","PUT","DELETE"]},{allMatch:[{type:"simple",property:"authType",equals:"Basic"},{type:"simple",property:"httpMethod",oneOf:["POST","PUT","DELETE"]}]}]}],oneOf:[{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition"},{properties:{allMatch:{$id:"#/allMatch",type:"array",items:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition"},minItems:1}},required:["allMatch"]}]}}},{if:{properties:{type:{not:{const:"Number"}}},required:["type"]},then:{properties:{value:{type:["string","boolean"]}}}},{if:{oneOf:[{properties:{type:{enum:["String","Text"]}},required:["type"]},{not:{required:["type"]}}]},then:{properties:{placeholder:{type:"string"}}},else:{not:{required:["placeholder"]}}}],properties:{value:{$id:"#/properties/property/value",type:["string","number","boolean"],description:"The value of a control field."},description:{$id:"#/properties/property/description",type:"string",description:"The description of a control field."},label:{$id:"#/properties/property/label",type:"string",description:"The label of a control field."},type:{$id:"#/properties/property/type",type:"string",description:"The type of a control field."},editable:{$id:"#/properties/property/editable",type:"boolean",description:"Indicates whether a control field is editable or not."},choices:{$id:"#/properties/property/choices",type:"array",description:"The choices for dropdown fields.",default:[],items:{$id:"#/properties/property/choices/item",type:"object",default:{},properties:{name:{$id:"#/properties/property/choices/item/name",type:"string",description:"The name of a choice."},value:{$id:"#/properties/property/choices/item/value",type:"string",description:"The value of a choice."},condition:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/properties/condition"}},required:["value","name"],errorMessage:{required:'{ name, value } must be specified for "Dropdown" choices'}}},constraints:{$id:"#/properties/property/constraints",type:"object",description:"The validation constraints of a control field.",allOf:[{examples:[{notEmpty:!0}]}],properties:{notEmpty:{$id:"#/properties/property/constraints/notEmpty",type:"boolean",description:"The control field must not be empty."},minLength:{$id:"#/properties/property/constraints/minLength",type:"number",description:"The minimal length of a control field value."},maxLength:{$id:"#/properties/property/constraints/maxLength",type:"number",description:"The maximal length for a control field value."},pattern:{$id:"#/properties/property/constraints/pattern",description:"A regular expression pattern for a constraint.",oneOf:[{type:"object",default:{},properties:{value:{$id:"#/properties/property/constraints/pattern/value",type:"string",description:"The regular expression of a pattern."},message:{$id:"#/properties/property/constraints/pattern/message",type:"string",description:"The validation message of a pattern."}}},{type:"string"}]}}},group:{$id:"#/properties/property/group",type:"string",description:"The custom group of a control field."}}}};function UD(n,{instancePath:t="",rootData:o=n}={}){let a=null,l=0;if(Array.isArray(n)){const b=n.length;for(let w=0;w<b;w++){let C=n[w];const P=l;let D=!0;const I=l;if(C&&"object"==typeof C&&!Array.isArray(C))if(void 0===C.type){const R={};null===a?a=[R]:a.push(R),l++}else if(void 0!==C.type&&"Dropdown"!==C.type){const R={};null===a?a=[R]:a.push(R),l++}var c=I===l;if(l=P,null!==a&&(P?a.length=P:a=null),c){const R=l;if(C&&"object"==typeof C&&!Array.isArray(C)&&void 0===C.choices){const N={instancePath:t+"/"+w,schemaPath:"#/items/allOf/0/then/required",keyword:"required",params:{missingProperty:"choices"},message:"must have required property 'choices'"};null===a?a=[N]:a.push(N),l++}if(l>0){const N=[];for(const W of a)"errorMessage"!==W.keyword&&!W.emUsed&&(W.instancePath===t+"/"+w||0===W.instancePath.indexOf(t+"/"+w)&&"/"===W.instancePath[t+"/"+w.length])&&0===W.schemaPath.indexOf("#/items/allOf/0/then")&&"/"===W.schemaPath[20]&&(N.push(W),W.emUsed=!0);if(N.length){const W={instancePath:t+"/"+w,schemaPath:"#/items/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:N},message:'must provide choices=[] with "Dropdown" type'};null===a?a=[W]:a.push(W),l++}const z=[];for(const W of a)W.emUsed||z.push(W);a=z,l=z.length}D=c=R===l}if(!D){const R={instancePath:t+"/"+w,schemaPath:"#/items/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[R]:a.push(R),l++}const k=l;let F=!0;const M=l;if(C&&"object"==typeof C&&!Array.isArray(C))if(void 0===C.id||void 0===C.condition){const R={};null===a?a=[R]:a.push(R),l++}else if(void 0!==C.condition){let R=C.condition;if(R&&"object"==typeof R&&!Array.isArray(R))if(void 0===R.property){const A={};null===a?a=[A]:a.push(A),l++}else if(void 0!==R.property&&!r4e(R.property,n4e.properties.property.const)){const A={};null===a?a=[A]:a.push(A),l++}}var u=M===l;if(l=k,null!==a&&(k?a.length=k:a=null),u){const R=l,A=l,N=l;if(C&&"object"==typeof C&&!Array.isArray(C)&&void 0===C.condition){const W={};null===a?a=[W]:a.push(W),l++}if(N===l){const W={instancePath:t+"/"+w,schemaPath:"#/items/allOf/1/allOf/0/then/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[W]:a.push(W),l++}else l=A,null!==a&&(A?a.length=A:a=null);if(l>0){const W=[];for(const tt of a)"errorMessage"!==tt.keyword&&!tt.emUsed&&(tt.instancePath===t+"/"+w||0===tt.instancePath.indexOf(t+"/"+w)&&"/"===tt.instancePath[t+"/"+w.length])&&0===tt.schemaPath.indexOf("#/items/allOf/1/allOf/0/then")&&"/"===tt.schemaPath[28]&&(W.push(tt),tt.emUsed=!0);if(W.length){const tt={instancePath:t+"/"+w,schemaPath:"#/items/allOf/1/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:W},message:"Invalid condition.property, must be different than property.id"};null===a?a=[tt]:a.push(tt),l++}const Ke=[];for(const tt of a)tt.emUsed||Ke.push(tt);a=Ke,l=Ke.length}F=u=R===l}if(!F){const R={instancePath:t+"/"+w,schemaPath:"#/items/allOf/1/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[R]:a.push(R),l++}if(C&&"object"==typeof C&&!Array.isArray(C)){if(void 0!==C.id&&"string"!=typeof C.id){const R={instancePath:t+"/"+w+"/id",schemaPath:"#/items/allOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[R]:a.push(R),l++}if(void 0!==C.condition){let R=C.condition;if(!R||"object"!=typeof R||Array.isArray(R)){const At={instancePath:t+"/"+w+"/condition",schemaPath:"#/items/allOf/1/properties/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[At]:a.push(At),l++}const A=l;let N=!1,z=null;const W=l,Ke=l;let tt=!1,Ge=null;const Nt=l;if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0===R.equals){const At={instancePath:t+"/"+w+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===a?a=[At]:a.push(At),l++}if(void 0!==R.equals){let At=R.equals;if("string"!=typeof At&&"number"!=typeof At&&"boolean"!=typeof At){const an={instancePath:t+"/"+w+"/condition/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:Io.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===a?a=[an]:a.push(an),l++}}}(p=Nt===l)&&(tt=!0,Ge=0);const Ln=l;if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0===R.oneOf){const At={instancePath:t+"/"+w+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===a?a=[At]:a.push(At),l++}if(void 0!==R.oneOf){let At=R.oneOf;if(Array.isArray(At)){const an=At.length;for(let ae=0;ae<an;ae++){let Ye=At[ae];if("string"!=typeof Ye&&"number"!=typeof Ye){const Et={instancePath:t+"/"+w+"/condition/oneOf/"+ae,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:Io.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===a?a=[Et]:a.push(Et),l++}}}else{const an={instancePath:t+"/"+w+"/condition/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[an]:a.push(an),l++}}}if((p=Ln===l)&&tt)tt=!1,Ge=[Ge,1];else{p&&(tt=!0,Ge=1);const At=l;if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0===R.isActive){const ae={instancePath:t+"/"+w+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===a?a=[ae]:a.push(ae),l++}if(void 0!==R.isActive&&"boolean"!=typeof R.isActive){const ae={instancePath:t+"/"+w+"/condition/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[ae]:a.push(ae),l++}}var p;(p=At===l)&&tt?(tt=!1,Ge=[Ge,2]):p&&(tt=!0,Ge=2)}if(tt)l=Ke,null!==a&&(Ke?a.length=Ke:a=null);else{const At={instancePath:t+"/"+w+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:Ge},message:"must match exactly one schema in oneOf"};null===a?a=[At]:a.push(At),l++}if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0===R.property){const At={instancePath:t+"/"+w+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===a?a=[At]:a.push(At),l++}if(void 0!==R.type&&"simple"!==R.type){const At={instancePath:t+"/"+w+"/condition/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===a?a=[At]:a.push(At),l++}if(void 0!==R.property&&"string"!=typeof R.property){const At={instancePath:t+"/"+w+"/condition/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[At]:a.push(At),l++}}else{const At={instancePath:t+"/"+w+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[At]:a.push(At),l++}if(l>0){const At={required:{property:[]}},an={required:{}};let ae,Ye;for(const Ct of a)"errorMessage"!==Ct.keyword&&!Ct.emUsed&&Ct.instancePath===t+"/"+w+"/condition"&&Ct.keyword in At&&0===Ct.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(Ct.schemaPath.slice(68))&&(ae=pp[Ct.keyword],Ye=At[Ct.keyword][Ct.params[ae]],Ye&&(Ye.push(Ct),Ct.emUsed=!0));for(const Ct in At)for(const re in At[Ct])if(Ye=At[Ct][re],Ye.length){const ve=an[Ct]&&an[Ct][re],le={instancePath:t+"/"+w+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:Ye},message:ve?ve():Io.errorMessage[Ct][re]};null===a?a=[le]:a.push(le),l++}const Et=[];for(const Ct of a)Ct.emUsed||Et.push(Ct);a=Et,l=Et.length}W===l&&(N=!0,z=0);const Cr=l;if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0===R.allMatch){const At={instancePath:t+"/"+w+"/condition",schemaPath:"#/items/allOf/1/properties/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"allMatch"},message:"must have required property 'allMatch'"};null===a?a=[At]:a.push(At),l++}if(void 0!==R.allMatch){let At=R.allMatch;if(Array.isArray(At)){if(At.length<1){const ae={instancePath:t+"/"+w+"/condition/allMatch",schemaPath:"#/items/allOf/1/properties/condition/oneOf/1/properties/allMatch/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===a?a=[ae]:a.push(ae),l++}const an=At.length;for(let ae=0;ae<an;ae++){let Ye=At[ae];const Et=l;let Ct=!1,re=null;const ve=l;if(Ye&&"object"==typeof Ye&&!Array.isArray(Ye)){if(void 0===Ye.equals){const Ue={instancePath:t+"/"+w+"/condition/allMatch/"+ae,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===a?a=[Ue]:a.push(Ue),l++}if(void 0!==Ye.equals){let Ue=Ye.equals;if("string"!=typeof Ue&&"number"!=typeof Ue&&"boolean"!=typeof Ue){const at={instancePath:t+"/"+w+"/condition/allMatch/"+ae+"/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:Io.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===a?a=[at]:a.push(at),l++}}}(f=ve===l)&&(Ct=!0,re=0);const le=l;if(Ye&&"object"==typeof Ye&&!Array.isArray(Ye)){if(void 0===Ye.oneOf){const Ue={instancePath:t+"/"+w+"/condition/allMatch/"+ae,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===a?a=[Ue]:a.push(Ue),l++}if(void 0!==Ye.oneOf){let Ue=Ye.oneOf;if(Array.isArray(Ue)){const at=Ue.length;for(let st=0;st<at;st++){let yt=Ue[st];if("string"!=typeof yt&&"number"!=typeof yt){const Re={instancePath:t+"/"+w+"/condition/allMatch/"+ae+"/oneOf/"+st,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:Io.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===a?a=[Re]:a.push(Re),l++}}}else{const at={instancePath:t+"/"+w+"/condition/allMatch/"+ae+"/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[at]:a.push(at),l++}}}if((f=le===l)&&Ct)Ct=!1,re=[re,1];else{f&&(Ct=!0,re=1);const Ue=l;if(Ye&&"object"==typeof Ye&&!Array.isArray(Ye)){if(void 0===Ye.isActive){const st={instancePath:t+"/"+w+"/condition/allMatch/"+ae,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===a?a=[st]:a.push(st),l++}if(void 0!==Ye.isActive&&"boolean"!=typeof Ye.isActive){const st={instancePath:t+"/"+w+"/condition/allMatch/"+ae+"/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[st]:a.push(st),l++}}var f;(f=Ue===l)&&Ct?(Ct=!1,re=[re,2]):f&&(Ct=!0,re=2)}if(Ct)l=Et,null!==a&&(Et?a.length=Et:a=null);else{const Ue={instancePath:t+"/"+w+"/condition/allMatch/"+ae,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:re},message:"must match exactly one schema in oneOf"};null===a?a=[Ue]:a.push(Ue),l++}if(Ye&&"object"==typeof Ye&&!Array.isArray(Ye)){if(void 0===Ye.property){const Ue={instancePath:t+"/"+w+"/condition/allMatch/"+ae,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===a?a=[Ue]:a.push(Ue),l++}if(void 0!==Ye.type&&"simple"!==Ye.type){const Ue={instancePath:t+"/"+w+"/condition/allMatch/"+ae+"/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===a?a=[Ue]:a.push(Ue),l++}if(void 0!==Ye.property&&"string"!=typeof Ye.property){const Ue={instancePath:t+"/"+w+"/condition/allMatch/"+ae+"/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ue]:a.push(Ue),l++}}else{const Ue={instancePath:t+"/"+w+"/condition/allMatch/"+ae,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Ue]:a.push(Ue),l++}if(l>0){const Ue={required:{property:[]}},at={required:{}};let st,yt;for(const it of a)"errorMessage"!==it.keyword&&!it.emUsed&&it.instancePath===t+"/"+w+"/condition/allMatch/"+ae&&it.keyword in Ue&&0===it.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(it.schemaPath.slice(68))&&(st=pp[it.keyword],yt=Ue[it.keyword][it.params[st]],yt&&(yt.push(it),it.emUsed=!0));for(const it in Ue)for(const pt in Ue[it])if(yt=Ue[it][pt],yt.length){const Jt=at[it]&&at[it][pt],Ft={instancePath:t+"/"+w+"/condition/allMatch/"+ae,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:yt},message:Jt?Jt():Io.errorMessage[it][pt]};null===a?a=[Ft]:a.push(Ft),l++}const Re=[];for(const it of a)it.emUsed||Re.push(it);a=Re,l=Re.length}}}else{const an={instancePath:t+"/"+w+"/condition/allMatch",schemaPath:"#/items/allOf/1/properties/condition/oneOf/1/properties/allMatch/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[an]:a.push(an),l++}}}var h;if((h=Cr===l)&&N?(N=!1,z=[z,1]):h&&(N=!0,z=1),N)l=A,null!==a&&(A?a.length=A:a=null);else{const At={instancePath:t+"/"+w+"/condition",schemaPath:"#/items/allOf/1/properties/condition/oneOf",keyword:"oneOf",params:{passingSchemas:z},message:"must match exactly one schema in oneOf"};null===a?a=[At]:a.push(At),l++}}}const B=l;let q=!0;const ue=l;if(C&&"object"==typeof C&&!Array.isArray(C))if(void 0===C.type){const R={};null===a?a=[R]:a.push(R),l++}else if(void 0!==C.type){const R=l,A=l;if("Number"!==C.type){const N={};null===a?a=[N]:a.push(N),l++}if(A===l){const N={};null===a?a=[N]:a.push(N),l++}else l=R,null!==a&&(R?a.length=R:a=null)}var g=ue===l;if(l=B,null!==a&&(B?a.length=B:a=null),g){const R=l;if(C&&"object"==typeof C&&!Array.isArray(C)&&void 0!==C.value){let N=C.value;if("string"!=typeof N&&"boolean"!=typeof N){const z={instancePath:t+"/"+w+"/value",schemaPath:"#/items/allOf/2/then/properties/value/type",keyword:"type",params:{type:YU.items.allOf[2].then.properties.value.type},message:"must be string,boolean"};null===a?a=[z]:a.push(z),l++}}q=g=R===l}if(!q){const R={instancePath:t+"/"+w,schemaPath:"#/items/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[R]:a.push(R),l++}const H=l;let ee=!0;const Q=l,Ee=l;let Te=!1;const Ve=l;if(C&&"object"==typeof C&&!Array.isArray(C))if(void 0===C.type){const R={};null===a?a=[R]:a.push(R),l++}else if(void 0!==C.type){let R=C.type;if("String"!==R&&"Text"!==R){const A={};null===a?a=[A]:a.push(A),l++}}Ve===l&&(Te=!0);const Pe=l,de=l,X=l;if(C&&"object"==typeof C&&!Array.isArray(C)&&void 0===C.type){const R={};null===a?a=[R]:a.push(R),l++}var v;if(X===l){const R={};null===a?a=[R]:a.push(R),l++}else l=de,null!==a&&(de?a.length=de:a=null);if((v=Pe===l)&&Te?Te=!1:v&&(Te=!0),Te)l=Ee,null!==a&&(Ee?a.length=Ee:a=null);else{const R={};null===a?a=[R]:a.push(R),l++}var _=Q===l;let j;if(l=H,null!==a&&(H?a.length=H:a=null),_){const R=l;if(C&&"object"==typeof C&&!Array.isArray(C)&&void 0!==C.placeholder&&"string"!=typeof C.placeholder){const N={instancePath:t+"/"+w+"/placeholder",schemaPath:"#/items/allOf/3/then/properties/placeholder/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[N]:a.push(N),l++}ee=_=R===l,j="then"}else{const R=l,A=l,N=l;if(C&&"object"==typeof C&&!Array.isArray(C)&&void 0===C.placeholder){const W={};null===a?a=[W]:a.push(W),l++}if(N===l){const W={instancePath:t+"/"+w,schemaPath:"#/items/allOf/3/else/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[W]:a.push(W),l++}else l=A,null!==a&&(A?a.length=A:a=null);ee=_=R===l,j="else"}if(!ee){const R={instancePath:t+"/"+w,schemaPath:"#/items/allOf/3/if",keyword:"if",params:{failingKeyword:j},message:'must match "'+j+'" schema'};null===a?a=[R]:a.push(R),l++}if(C&&"object"==typeof C&&!Array.isArray(C)){if(void 0!==C.value){let R=C.value;if("string"!=typeof R&&"number"!=typeof R&&"boolean"!=typeof R){const A={instancePath:t+"/"+w+"/value",schemaPath:"#/items/properties/value/type",keyword:"type",params:{type:YU.items.properties.value.type},message:"must be string,number,boolean"};null===a?a=[A]:a.push(A),l++}}if(void 0!==C.description&&"string"!=typeof C.description){const R={instancePath:t+"/"+w+"/description",schemaPath:"#/items/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[R]:a.push(R),l++}if(void 0!==C.label&&"string"!=typeof C.label){const R={instancePath:t+"/"+w+"/label",schemaPath:"#/items/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[R]:a.push(R),l++}if(void 0!==C.type&&"string"!=typeof C.type){const R={instancePath:t+"/"+w+"/type",schemaPath:"#/items/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[R]:a.push(R),l++}if(void 0!==C.editable&&"boolean"!=typeof C.editable){const R={instancePath:t+"/"+w+"/editable",schemaPath:"#/items/properties/editable/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[R]:a.push(R),l++}if(void 0!==C.choices){let R=C.choices;if(Array.isArray(R)){const A=R.length;for(let N=0;N<A;N++){let z=R[N];if(z&&"object"==typeof z&&!Array.isArray(z)){if(void 0===z.value){const W={instancePath:t+"/"+w+"/choices/"+N,schemaPath:"#/items/properties/choices/items/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===a?a=[W]:a.push(W),l++}if(void 0===z.name){const W={instancePath:t+"/"+w+"/choices/"+N,schemaPath:"#/items/properties/choices/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===a?a=[W]:a.push(W),l++}if(void 0!==z.name&&"string"!=typeof z.name){const W={instancePath:t+"/"+w+"/choices/"+N+"/name",schemaPath:"#/items/properties/choices/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[W]:a.push(W),l++}if(void 0!==z.value&&"string"!=typeof z.value){const W={instancePath:t+"/"+w+"/choices/"+N+"/value",schemaPath:"#/items/properties/choices/items/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[W]:a.push(W),l++}void 0!==z.condition&&(T1(z.condition,{instancePath:t+"/"+w+"/choices/"+N+"/condition",parentData:z,parentDataProperty:"condition",rootData:o})||(a=null===a?T1.errors:a.concat(T1.errors),l=a.length))}else{const W={instancePath:t+"/"+w+"/choices/"+N,schemaPath:"#/items/properties/choices/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[W]:a.push(W),l++}if(l>0){const W={required:[]},Ke={};for(const Ge of a)"errorMessage"!==Ge.keyword&&!Ge.emUsed&&Ge.instancePath===t+"/"+w+"/choices/"+N&&Ge.keyword in W&&0===Ge.schemaPath.indexOf("#/items/properties/choices/items")&&/^\/[^\/]*$/.test(Ge.schemaPath.slice(32))&&(W[Ge.keyword].push(Ge),Ge.emUsed=!0);for(const Ge in W)if(W[Ge].length){const Nt={instancePath:t+"/"+w+"/choices/"+N,schemaPath:"#/items/properties/choices/items/errorMessage",keyword:"errorMessage",params:{errors:W[Ge]},message:Ge in Ke?Ke[Ge]():YU.items.properties.choices.items.errorMessage[Ge]};null===a?a=[Nt]:a.push(Nt),l++}const tt=[];for(const Ge of a)Ge.emUsed||tt.push(Ge);a=tt,l=tt.length}}}else{const A={instancePath:t+"/"+w+"/choices",schemaPath:"#/items/properties/choices/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[A]:a.push(A),l++}}if(void 0!==C.constraints){let R=C.constraints;if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0!==R.notEmpty&&"boolean"!=typeof R.notEmpty){const A={instancePath:t+"/"+w+"/constraints/notEmpty",schemaPath:"#/items/properties/constraints/properties/notEmpty/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[A]:a.push(A),l++}if(void 0!==R.minLength&&"number"!=typeof R.minLength){const A={instancePath:t+"/"+w+"/constraints/minLength",schemaPath:"#/items/properties/constraints/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[A]:a.push(A),l++}if(void 0!==R.maxLength&&"number"!=typeof R.maxLength){const A={instancePath:t+"/"+w+"/constraints/maxLength",schemaPath:"#/items/properties/constraints/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[A]:a.push(A),l++}if(void 0!==R.pattern){let A=R.pattern;const N=l;let z=!1,W=null;const Ke=l;if(A&&"object"==typeof A&&!Array.isArray(A)){if(void 0!==A.value&&"string"!=typeof A.value){const Ge={instancePath:t+"/"+w+"/constraints/pattern/value",schemaPath:"#/items/properties/constraints/properties/pattern/oneOf/0/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ge]:a.push(Ge),l++}if(void 0!==A.message&&"string"!=typeof A.message){const Ge={instancePath:t+"/"+w+"/constraints/pattern/message",schemaPath:"#/items/properties/constraints/properties/pattern/oneOf/0/properties/message/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ge]:a.push(Ge),l++}}else{const Ge={instancePath:t+"/"+w+"/constraints/pattern",schemaPath:"#/items/properties/constraints/properties/pattern/oneOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Ge]:a.push(Ge),l++}Ke===l&&(z=!0,W=0);const tt=l;if("string"!=typeof A){const Ge={instancePath:t+"/"+w+"/constraints/pattern",schemaPath:"#/items/properties/constraints/properties/pattern/oneOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ge]:a.push(Ge),l++}var x;if((x=tt===l)&&z?(z=!1,W=[W,1]):x&&(z=!0,W=1),z)l=N,null!==a&&(N?a.length=N:a=null);else{const Ge={instancePath:t+"/"+w+"/constraints/pattern",schemaPath:"#/items/properties/constraints/properties/pattern/oneOf",keyword:"oneOf",params:{passingSchemas:W},message:"must match exactly one schema in oneOf"};null===a?a=[Ge]:a.push(Ge),l++}}}else{const A={instancePath:t+"/"+w+"/constraints",schemaPath:"#/items/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[A]:a.push(A),l++}}if(void 0!==C.group&&"string"!=typeof C.group){const R={instancePath:t+"/"+w+"/group",schemaPath:"#/items/properties/group/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[R]:a.push(R),l++}}else{const R={instancePath:t+"/"+w,schemaPath:"#/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[R]:a.push(R),l++}}}else{const b={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[b]:a.push(b),l++}return UD.errors=a,0===l}function P1(n,{instancePath:t="",rootData:o=n}={}){let a=null,l=0;if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.name){const H={instancePath:t,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===a?a=[H]:a.push(H),l++}if(void 0===n.id){const H={instancePath:t,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'"};null===a?a=[H]:a.push(H),l++}if(void 0===n.appliesTo){const H={instancePath:t,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:"appliesTo"},message:"must have required property 'appliesTo'"};null===a?a=[H]:a.push(H),l++}if(void 0===n.properties){const H={instancePath:t,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:"properties"},message:"must have required property 'properties'"};null===a?a=[H]:a.push(H),l++}if(void 0!==n.name&&"string"!=typeof n.name){const H={instancePath:t+"/name",schemaPath:"#/allOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[H]:a.push(H),l++}if(void 0!==n.id&&"string"!=typeof n.id){const H={instancePath:t+"/id",schemaPath:"#/allOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[H]:a.push(H),l++}if(void 0!==n.description&&"string"!=typeof n.description){const H={instancePath:t+"/description",schemaPath:"#/allOf/0/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[H]:a.push(H),l++}if(void 0!==n.version){let H=n.version;if("number"!=typeof H||H%1||isNaN(H)){const ee={instancePath:t+"/version",schemaPath:"#/allOf/0/properties/version/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===a?a=[ee]:a.push(ee),l++}}if(void 0!==n.isDefault&&"boolean"!=typeof n.isDefault){const H={instancePath:t+"/isDefault",schemaPath:"#/allOf/0/properties/isDefault/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[H]:a.push(H),l++}if(void 0!==n.deprecated){let H=n.deprecated;if("boolean"!=typeof H&&(!H||"object"!=typeof H||Array.isArray(H))){const ee={instancePath:t+"/deprecated",schemaPath:"#/allOf/0/properties/deprecated/type",keyword:"type",params:{type:$f.allOf[0].properties.deprecated.type},message:"must be boolean,object"};null===a?a=[ee]:a.push(ee),l++}if(H&&"object"==typeof H&&!Array.isArray(H)){if(void 0!==H.message&&"string"!=typeof H.message){const ee={instancePath:t+"/deprecated/message",schemaPath:"#/allOf/0/properties/deprecated/properties/message/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ee]:a.push(ee),l++}if(void 0!==H.documentationRef){let ee=H.documentationRef;if("string"==typeof ee){if(!e4e.test(ee)){const Q={instancePath:t+"/deprecated/documentationRef",schemaPath:"#/allOf/0/properties/deprecated/properties/documentationRef/pattern",keyword:"pattern",params:{pattern:"^(https|http)://.*"},message:'must match pattern "^(https|http)://.*"'};null===a?a=[Q]:a.push(Q),l++}}else{const Q={instancePath:t+"/deprecated/documentationRef",schemaPath:"#/allOf/0/properties/deprecated/properties/documentationRef/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Q]:a.push(Q),l++}}}}if(void 0!==n.appliesTo){let H=n.appliesTo;if(Array.isArray(H)){const ee=H.length;for(let Q=0;Q<ee;Q++){let Ee=H[Q];if("string"==typeof Ee){if(!t4e.test(Ee)){const Te={instancePath:t+"/appliesTo/"+Q,schemaPath:"#/allOf/0/properties/appliesTo/items/pattern",keyword:"pattern",params:{pattern:"^[\\w\\d]+:[\\w\\d]+$"},message:'must match pattern "^[\\w\\d]+:[\\w\\d]+$"'};null===a?a=[Te]:a.push(Te),l++}}else{const Te={instancePath:t+"/appliesTo/"+Q,schemaPath:"#/allOf/0/properties/appliesTo/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Te]:a.push(Te),l++}if(l>0){const Te={pattern:[]},Ve={};for(const de of a)"errorMessage"!==de.keyword&&!de.emUsed&&de.instancePath===t+"/appliesTo/"+Q&&de.keyword in Te&&0===de.schemaPath.indexOf("#/allOf/0/properties/appliesTo/items")&&/^\/[^\/]*$/.test(de.schemaPath.slice(36))&&(Te[de.keyword].push(de),de.emUsed=!0);for(const de in Te)if(Te[de].length){const X={instancePath:t+"/appliesTo/"+Q,schemaPath:"#/allOf/0/properties/appliesTo/items/errorMessage",keyword:"errorMessage",params:{errors:Te[de]},message:de in Ve?Ve[de]():$f.allOf[0].properties.appliesTo.items.errorMessage[de]};null===a?a=[X]:a.push(X),l++}const Pe=[];for(const de of a)de.emUsed||Pe.push(de);a=Pe,l=Pe.length}}}else{const ee={instancePath:t+"/appliesTo",schemaPath:"#/allOf/0/properties/appliesTo/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[ee]:a.push(ee),l++}}if(void 0!==n.elementType){let H=n.elementType;if(H&&"object"==typeof H&&!Array.isArray(H)){if(void 0===H.value){const ee={instancePath:t+"/elementType",schemaPath:"#/allOf/0/properties/elementType/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===a?a=[ee]:a.push(ee),l++}if(void 0!==H.value){let ee=H.value;if("string"==typeof ee){if(!t4e.test(ee)){const Q={instancePath:t+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/pattern",keyword:"pattern",params:{pattern:"^[\\w\\d]+:[\\w\\d]+$"},message:'must match pattern "^[\\w\\d]+:[\\w\\d]+$"'};null===a?a=[Q]:a.push(Q),l++}}else{const Q={instancePath:t+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Q]:a.push(Q),l++}if(l>0){const Q={pattern:[]},Ee={};for(const Ve of a)"errorMessage"!==Ve.keyword&&!Ve.emUsed&&Ve.instancePath===t+"/elementType/value"&&Ve.keyword in Q&&0===Ve.schemaPath.indexOf("#/allOf/0/properties/elementType/properties/value")&&/^\/[^\/]*$/.test(Ve.schemaPath.slice(49))&&(Q[Ve.keyword].push(Ve),Ve.emUsed=!0);for(const Ve in Q)if(Q[Ve].length){const Pe={instancePath:t+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/errorMessage",keyword:"errorMessage",params:{errors:Q[Ve]},message:Ve in Ee?Ee[Ve]():$f.allOf[0].properties.elementType.properties.value.errorMessage[Ve]};null===a?a=[Pe]:a.push(Pe),l++}const Te=[];for(const Ve of a)Ve.emUsed||Te.push(Ve);a=Te,l=Te.length}}}else{const ee={instancePath:t+"/elementType",schemaPath:"#/allOf/0/properties/elementType/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[ee]:a.push(ee),l++}if(l>0){const ee={required:{value:[]}},Q={required:{}};let Ee,Te;for(const Pe of a)"errorMessage"!==Pe.keyword&&!Pe.emUsed&&Pe.instancePath===t+"/elementType"&&Pe.keyword in ee&&0===Pe.schemaPath.indexOf("#/allOf/0/properties/elementType")&&/^\/[^\/]*$/.test(Pe.schemaPath.slice(32))&&(Ee=pp[Pe.keyword],Te=ee[Pe.keyword][Pe.params[Ee]],Te&&(Te.push(Pe),Pe.emUsed=!0));for(const Pe in ee)for(const de in ee[Pe])if(Te=ee[Pe][de],Te.length){const X=Q[Pe]&&Q[Pe][de],j={instancePath:t+"/elementType",schemaPath:"#/allOf/0/properties/elementType/errorMessage",keyword:"errorMessage",params:{errors:Te},message:X?X():$f.allOf[0].properties.elementType.errorMessage[Pe][de]};null===a?a=[j]:a.push(j),l++}const Ve=[];for(const Pe of a)Pe.emUsed||Ve.push(Pe);a=Ve,l=Ve.length}}if(void 0!==n.metadata){let H=n.metadata;if(!H||"object"!=typeof H||Array.isArray(H)){const ee={instancePath:t+"/metadata",schemaPath:"#/allOf/0/properties/metadata/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[ee]:a.push(ee),l++}}if(void 0!==n.entriesVisible&&"boolean"!=typeof n.entriesVisible){const H={instancePath:t+"/entriesVisible",schemaPath:"#/allOf/0/properties/entriesVisible/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[H]:a.push(H),l++}if(void 0!==n.groups){let H=n.groups;if(Array.isArray(H)){const ee=H.length;for(let Q=0;Q<ee;Q++){let Ee=H[Q];if(Ee&&"object"==typeof Ee&&!Array.isArray(Ee)){if(void 0===Ee.id){const Te={instancePath:t+"/groups/"+Q,schemaPath:"#/allOf/0/properties/groups/items/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'"};null===a?a=[Te]:a.push(Te),l++}if(void 0===Ee.label){const Te={instancePath:t+"/groups/"+Q,schemaPath:"#/allOf/0/properties/groups/items/required",keyword:"required",params:{missingProperty:"label"},message:"must have required property 'label'"};null===a?a=[Te]:a.push(Te),l++}if(void 0!==Ee.id&&"string"!=typeof Ee.id){const Te={instancePath:t+"/groups/"+Q+"/id",schemaPath:"#/allOf/0/properties/groups/items/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Te]:a.push(Te),l++}if(void 0!==Ee.label&&"string"!=typeof Ee.label){const Te={instancePath:t+"/groups/"+Q+"/label",schemaPath:"#/allOf/0/properties/groups/items/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Te]:a.push(Te),l++}}else{const Te={instancePath:t+"/groups/"+Q,schemaPath:"#/allOf/0/properties/groups/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Te]:a.push(Te),l++}if(l>0){const Te={required:{id:[],label:[]}},Ve={required:{id:function(){return'missing id for group "'+JSON.stringify(Q)+'"'},label:function(){return'missing label for group "'+JSON.stringify(Q)+'"'}}};let Pe,de;for(const j of a)"errorMessage"!==j.keyword&&!j.emUsed&&j.instancePath===t+"/groups/"+Q&&j.keyword in Te&&0===j.schemaPath.indexOf("#/allOf/0/properties/groups/items")&&/^\/[^\/]*$/.test(j.schemaPath.slice(33))&&(Pe=pp[j.keyword],de=Te[j.keyword][j.params[Pe]],de&&(de.push(j),j.emUsed=!0));for(const j in Te)for(const R in Te[j])if(de=Te[j][R],de.length){const A=Ve[j]&&Ve[j][R],N={instancePath:t+"/groups/"+Q,schemaPath:"#/allOf/0/properties/groups/items/errorMessage",keyword:"errorMessage",params:{errors:de},message:A?A():$f.allOf[0].properties.groups.items.errorMessage[j][R]};null===a?a=[N]:a.push(N),l++}const X=[];for(const j of a)j.emUsed||X.push(j);a=X,l=X.length}}}else{const ee={instancePath:t+"/groups",schemaPath:"#/allOf/0/properties/groups/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[ee]:a.push(ee),l++}}if(void 0!==n.documentationRef){let H=n.documentationRef;if("string"==typeof H){if(!e4e.test(H)){const ee={instancePath:t+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/pattern",keyword:"pattern",params:{pattern:"^(https|http)://.*"},message:'must match pattern "^(https|http)://.*"'};null===a?a=[ee]:a.push(ee),l++}}else{const ee={instancePath:t+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ee]:a.push(ee),l++}if(l>0){const ee={pattern:[]},Q={};for(const Te of a)"errorMessage"!==Te.keyword&&!Te.emUsed&&Te.instancePath===t+"/documentationRef"&&Te.keyword in ee&&0===Te.schemaPath.indexOf("#/allOf/0/properties/documentationRef")&&/^\/[^\/]*$/.test(Te.schemaPath.slice(37))&&(ee[Te.keyword].push(Te),Te.emUsed=!0);for(const Te in ee)if(ee[Te].length){const Ve={instancePath:t+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/errorMessage",keyword:"errorMessage",params:{errors:ee[Te]},message:Te in Q?Q[Te]():$f.allOf[0].properties.documentationRef.errorMessage[Te]};null===a?a=[Ve]:a.push(Ve),l++}const Ee=[];for(const Te of a)Te.emUsed||Ee.push(Te);a=Ee,l=Ee.length}}}if(l>0){const H={required:{name:[],id:[],appliesTo:[],properties:[]}},ee={required:{}};let Q,Ee;for(const Ve of a)"errorMessage"!==Ve.keyword&&!Ve.emUsed&&Ve.instancePath===t&&Ve.keyword in H&&0===Ve.schemaPath.indexOf("#/allOf/0")&&/^\/[^\/]*$/.test(Ve.schemaPath.slice(9))&&(Q=pp[Ve.keyword],Ee=H[Ve.keyword][Ve.params[Q]],Ee&&(Ee.push(Ve),Ve.emUsed=!0));for(const Ve in H)for(const Pe in H[Ve])if(Ee=H[Ve][Pe],Ee.length){const de=ee[Ve]&&ee[Ve][Pe],X={instancePath:t,schemaPath:"#/allOf/0/errorMessage",keyword:"errorMessage",params:{errors:Ee},message:de?de():$f.allOf[0].errorMessage[Ve][Pe]};null===a?a=[X]:a.push(X),l++}const Te=[];for(const Ve of a)Ve.emUsed||Te.push(Ve);a=Te,l=Te.length}if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0!==n.properties&&(HD(n.properties,{instancePath:t+"/properties",parentData:n,parentDataProperty:"properties",rootData:o})||(a=null===a?HD.errors:a.concat(HD.errors),l=a.length)),void 0!==n.scopes){let H=n.scopes;if(Array.isArray(H)){const ee=H.length;for(let Q=0;Q<ee;Q++){let Ee=H[Q];const Te=l;let Ve=!0;const Pe=l;if(Ee&&"object"==typeof Ee&&!Array.isArray(Ee))if(void 0===Ee.type){const de={};null===a?a=[de]:a.push(de),l++}else if(void 0!==Ee.type&&"bpmn:Error"!==Ee.type){const de={};null===a?a=[de]:a.push(de),l++}var c=Pe===l;if(l=Te,null!==a&&(Te?a.length=Te:a=null),c){const de=l;if(Ee&&"object"==typeof Ee&&!Array.isArray(Ee)&&void 0===Ee.id){const j={instancePath:t+"/scopes/"+Q,schemaPath:"#/properties/scopes/items/allOf/0/then/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'"};null===a?a=[j]:a.push(j),l++}if(l>0){const j=[];for(const A of a)"errorMessage"!==A.keyword&&!A.emUsed&&(A.instancePath===t+"/scopes/"+Q||0===A.instancePath.indexOf(t+"/scopes/"+Q)&&"/"===A.instancePath[t+"/scopes/"+Q.length])&&0===A.schemaPath.indexOf("#/properties/scopes/items/allOf/0/then")&&"/"===A.schemaPath[38]&&(j.push(A),A.emUsed=!0);if(j.length){const A={instancePath:t+"/scopes/"+Q,schemaPath:"#/properties/scopes/items/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:j},message:"invalid scope "+JSON.stringify(Ee&&Ee.type)+", missing id"};null===a?a=[A]:a.push(A),l++}const R=[];for(const A of a)A.emUsed||R.push(A);a=R,l=R.length}Ve=c=de===l}if(!Ve){const de={instancePath:t+"/scopes/"+Q,schemaPath:"#/properties/scopes/items/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[de]:a.push(de),l++}if(Ee&&"object"==typeof Ee&&!Array.isArray(Ee)){if(void 0===Ee.type){const de={instancePath:t+"/scopes/"+Q,schemaPath:"#/properties/scopes/items/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===a?a=[de]:a.push(de),l++}if(void 0===Ee.properties){const de={instancePath:t+"/scopes/"+Q,schemaPath:"#/properties/scopes/items/required",keyword:"required",params:{missingProperty:"properties"},message:"must have required property 'properties'"};null===a?a=[de]:a.push(de),l++}if(void 0!==Ee.type){let de=Ee.type;if("string"!=typeof de){const X={instancePath:t+"/scopes/"+Q+"/type",schemaPath:"#/properties/scopes/items/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[X]:a.push(X),l++}if("camunda:Connector"!==de&&"bpmn:Error"!==de){const X={instancePath:t+"/scopes/"+Q+"/type",schemaPath:"#/properties/scopes/items/properties/type/enum",keyword:"enum",params:{allowedValues:$f.properties.scopes.items.properties.type.enum},message:"must be equal to one of the allowed values"};null===a?a=[X]:a.push(X),l++}if(l>0){const X=[];for(const R of a)"errorMessage"!==R.keyword&&!R.emUsed&&(R.instancePath===t+"/scopes/"+Q+"/type"||0===R.instancePath.indexOf(t+"/scopes/"+Q+"/type")&&"/"===R.instancePath[t+"/scopes/"+Q+5])&&0===R.schemaPath.indexOf("#/properties/scopes/items/properties/type")&&"/"===R.schemaPath[41]&&(X.push(R),R.emUsed=!0);if(X.length){const R={instancePath:t+"/scopes/"+Q+"/type",schemaPath:"#/properties/scopes/items/properties/type/errorMessage",keyword:"errorMessage",params:{errors:X},message:"invalid scope type "+JSON.stringify(de)+"; must be any of { camunda:Connector, bpmn:Error }"};null===a?a=[R]:a.push(R),l++}const j=[];for(const R of a)R.emUsed||j.push(R);a=j,l=j.length}}if(void 0!==Ee.properties){let de=Ee.properties;if(UD(de,{instancePath:t+"/scopes/"+Q+"/properties",parentData:Ee,parentDataProperty:"properties",rootData:o})||(a=null===a?UD.errors:a.concat(UD.errors),l=a.length),Array.isArray(de)){const X=de.length;for(let j=0;j<X;j++){let R=de[j];const A=l;let N=!0;const z=l;if(R&&"object"==typeof R&&!Array.isArray(R))if(void 0===R.binding){const ae={};null===a?a=[ae]:a.push(ae),l++}else if(void 0!==R.binding){let ae=R.binding;if(ae&&"object"==typeof ae&&!Array.isArray(ae))if(void 0===ae.type){const Ye={};null===a?a=[Ye]:a.push(Ye),l++}else if(void 0!==ae.type&&"property"!==ae.type){const Ye={};null===a?a=[Ye]:a.push(Ye),l++}}var u=z===l;if(l=A,null!==a&&(A?a.length=A:a=null),u){const ae=l;if(R&&"object"==typeof R&&!Array.isArray(R)&&void 0!==R.type){let Et=R.type;if("String"!==Et&&"Text"!==Et&&"Hidden"!==Et&&"Dropdown"!==Et&&"Boolean"!==Et){const Ct={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/0/then/properties/type/enum",keyword:"enum",params:{allowedValues:Y0.items.allOf[0].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===a?a=[Ct]:a.push(Ct),l++}if(l>0){const Ct=[];for(const ve of a)"errorMessage"!==ve.keyword&&!ve.emUsed&&(ve.instancePath===t+"/scopes/"+Q+"/properties/"+j+"/type"||0===ve.instancePath.indexOf(t+"/scopes/"+Q+"/properties/"+j+"/type")&&"/"===ve.instancePath[t+"/scopes/"+Q+"/properties/"+j+5])&&0===ve.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/0/then/properties/type")&&"/"===ve.schemaPath[67]&&(Ct.push(ve),ve.emUsed=!0);if(Ct.length){const ve={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/0/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Ct},message:"invalid property type "+JSON.stringify(Et)+' for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean }'};null===a?a=[ve]:a.push(ve),l++}const re=[];for(const ve of a)ve.emUsed||re.push(ve);a=re,l=re.length}}N=u=ae===l}if(!N){const ae={instancePath:t+"/scopes/"+Q+"/properties/"+j,schemaPath:"#/definitions/properties/allOf/1/items/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[ae]:a.push(ae),l++}const W=l;let Ke=!0;const tt=l;if(R&&"object"==typeof R&&!Array.isArray(R))if(void 0===R.binding){const ae={};null===a?a=[ae]:a.push(ae),l++}else if(void 0!==R.binding){let ae=R.binding;if(ae&&"object"==typeof ae&&!Array.isArray(ae))if(void 0===ae.type){const Ye={};null===a?a=[Ye]:a.push(Ye),l++}else if(void 0!==ae.type&&"camunda:executionListener"!==ae.type){const Ye={};null===a?a=[Ye]:a.push(Ye),l++}}var d=tt===l;if(l=W,null!==a&&(W?a.length=W:a=null),d){const ae=l;if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0!==R.type){if("Hidden"!==R.type){const Et={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/type/enum",keyword:"enum",params:{allowedValues:Y0.items.allOf[1].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===a?a=[Et]:a.push(Et),l++}if(l>0){const Et=[];for(const re of a)"errorMessage"!==re.keyword&&!re.emUsed&&(re.instancePath===t+"/scopes/"+Q+"/properties/"+j+"/type"||0===re.instancePath.indexOf(t+"/scopes/"+Q+"/properties/"+j+"/type")&&"/"===re.instancePath[t+"/scopes/"+Q+"/properties/"+j+5])&&0===re.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/1/then/properties/type")&&"/"===re.schemaPath[67]&&(Et.push(re),re.emUsed=!0);if(Et.length){const re={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Et},message:"invalid property type "+JSON.stringify(R&&R.type)+' for binding type "camunda:executionListener"; must be "Hidden"'};null===a?a=[re]:a.push(re),l++}const Ct=[];for(const re of a)re.emUsed||Ct.push(re);a=Ct,l=Ct.length}}if(void 0!==R.binding){let Et=R.binding;const Ct=l;let re=!1,ve=null;const le=l,Ue=l,at=l;if(Et&&"object"==typeof Et&&!Array.isArray(Et)&&void 0!==Et.implementationType&&"script"!==Et.implementationType){const yt={};null===a?a=[yt]:a.push(yt),l++}if(at===l){const yt={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/binding/oneOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[yt]:a.push(yt),l++}else l=Ue,null!==a&&(Ue?a.length=Ue:a=null);(f=le===l)&&(re=!0,ve=0);const st=l;if(Et&&"object"==typeof Et&&!Array.isArray(Et)&&void 0===Et.scriptFormat){const yt={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/binding/oneOf/1/required",keyword:"required",params:{missingProperty:"scriptFormat"},message:"must have required property 'scriptFormat'"};null===a?a=[yt]:a.push(yt),l++}if((f=st===l)&&re)re=!1,ve=[ve,1];else{f&&(re=!0,ve=1);const yt=l,Re=l,it=l;if(Et&&"object"==typeof Et&&!Array.isArray(Et)&&void 0===Et.implementationType){const ze={};null===a?a=[ze]:a.push(ze),l++}if(it===l){const ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/binding/oneOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[ze]:a.push(ze),l++}else l=Re,null!==a&&(Re?a.length=Re:a=null);const pt=l,Jt=l;if(Et&&"object"==typeof Et&&!Array.isArray(Et)&&void 0===Et.scriptFormat){const ze={};null===a?a=[ze]:a.push(ze),l++}var f;if(Jt===l){const ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/binding/oneOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[ze]:a.push(ze),l++}else l=pt,null!==a&&(pt?a.length=pt:a=null);(f=yt===l)&&re?(re=!1,ve=[ve,2]):f&&(re=!0,ve=2)}if(re)l=Ct,null!==a&&(Ct?a.length=Ct:a=null);else{const yt={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/binding/oneOf",keyword:"oneOf",params:{passingSchemas:ve},message:"must match exactly one schema in oneOf"};null===a?a=[yt]:a.push(yt),l++}if(Et&&"object"==typeof Et&&!Array.isArray(Et)&&void 0!==Et.implementationType){let yt=Et.implementationType;if("class"!==yt&&"delegateExpression"!==yt&&"expression"!==yt&&"script"!==yt){const Re={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding/implementationType",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/binding/properties/implementationType/enum",keyword:"enum",params:{allowedValues:Y0.items.allOf[1].then.properties.binding.properties.implementationType.enum},message:"must be equal to one of the allowed values"};null===a?a=[Re]:a.push(Re),l++}}}}Ke=d=ae===l}if(!Ke){const ae={instancePath:t+"/scopes/"+Q+"/properties/"+j,schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[ae]:a.push(ae),l++}const Ge=l;let Nt=!0;const Ln=l;if(R&&"object"==typeof R&&!Array.isArray(R))if(void 0===R.binding){const ae={};null===a?a=[ae]:a.push(ae),l++}else if(void 0!==R.binding){let ae=R.binding;if(ae&&"object"==typeof ae&&!Array.isArray(ae))if(void 0===ae.type){const Ye={};null===a?a=[Ye]:a.push(Ye),l++}else if(void 0!==ae.type){let Ye=ae.type;if("camunda:property"!==Ye&&"camunda:outputParameter"!==Ye&&"camunda:in"!==Ye&&"camunda:in:businessKey"!==Ye&&"camunda:out"!==Ye&&"camunda:errorEventDefinition"!==Ye){const Et={};null===a?a=[Et]:a.push(Et),l++}}}var g=Ln===l;if(l=Ge,null!==a&&(Ge?a.length=Ge:a=null),g){const ae=l;if(R&&"object"==typeof R&&!Array.isArray(R)&&void 0!==R.type){let Et=R.type;if("String"!==Et&&"Hidden"!==Et&&"Dropdown"!==Et){const Ct={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/2/then/properties/type/enum",keyword:"enum",params:{allowedValues:Y0.items.allOf[2].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===a?a=[Ct]:a.push(Ct),l++}if(l>0){const Ct=[];for(const ve of a)"errorMessage"!==ve.keyword&&!ve.emUsed&&(ve.instancePath===t+"/scopes/"+Q+"/properties/"+j+"/type"||0===ve.instancePath.indexOf(t+"/scopes/"+Q+"/properties/"+j+"/type")&&"/"===ve.instancePath[t+"/scopes/"+Q+"/properties/"+j+5])&&0===ve.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/2/then/properties/type")&&"/"===ve.schemaPath[67]&&(Ct.push(ve),ve.emUsed=!0);if(Ct.length){const ve={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/2/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Ct},message:"invalid property type "+JSON.stringify(Et)+" for binding type "+JSON.stringify(R&&R.binding&&R.binding.type)+"; must be any of { String, Hidden, Dropdown }"};null===a?a=[ve]:a.push(ve),l++}const re=[];for(const ve of a)ve.emUsed||re.push(ve);a=re,l=re.length}}Nt=g=ae===l}if(!Nt){const ae={instancePath:t+"/scopes/"+Q+"/properties/"+j,schemaPath:"#/definitions/properties/allOf/1/items/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[ae]:a.push(ae),l++}const Cr=l;let At=!0;const an=l;if(R&&"object"==typeof R&&!Array.isArray(R))if(void 0===R.binding){const ae={};null===a?a=[ae]:a.push(ae),l++}else if(void 0!==R.binding){let ae=R.binding;if(ae&&"object"==typeof ae&&!Array.isArray(ae))if(void 0===ae.type){const Ye={};null===a?a=[Ye]:a.push(Ye),l++}else if(void 0!==ae.type){let Ye=ae.type;if("camunda:inputParameter"!==Ye&&"camunda:field"!==Ye){const Et={};null===a?a=[Et]:a.push(Et),l++}}}var y=an===l;if(l=Cr,null!==a&&(Cr?a.length=Cr:a=null),y){const ae=l;if(R&&"object"==typeof R&&!Array.isArray(R)&&void 0!==R.type){let Et=R.type;if("String"!==Et&&"Text"!==Et&&"Hidden"!==Et&&"Dropdown"!==Et){const Ct={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/3/then/properties/type/enum",keyword:"enum",params:{allowedValues:Y0.items.allOf[3].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===a?a=[Ct]:a.push(Ct),l++}if(l>0){const Ct=[];for(const ve of a)"errorMessage"!==ve.keyword&&!ve.emUsed&&(ve.instancePath===t+"/scopes/"+Q+"/properties/"+j+"/type"||0===ve.instancePath.indexOf(t+"/scopes/"+Q+"/properties/"+j+"/type")&&"/"===ve.instancePath[t+"/scopes/"+Q+"/properties/"+j+5])&&0===ve.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/3/then/properties/type")&&"/"===ve.schemaPath[67]&&(Ct.push(ve),ve.emUsed=!0);if(Ct.length){const ve={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/3/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Ct},message:"invalid property type "+JSON.stringify(Et)+" for binding type "+JSON.stringify(R&&R.binding&&R.binding.type)+"; must be any of { String, Text, Hidden, Dropdown }"};null===a?a=[ve]:a.push(ve),l++}const re=[];for(const ve of a)ve.emUsed||re.push(ve);a=re,l=re.length}}At=y=ae===l}if(!At){const ae={instancePath:t+"/scopes/"+Q+"/properties/"+j,schemaPath:"#/definitions/properties/allOf/1/items/allOf/3/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[ae]:a.push(ae),l++}if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0===R.binding){const ae={instancePath:t+"/scopes/"+Q+"/properties/"+j,schemaPath:"#/definitions/properties/allOf/1/items/required",keyword:"required",params:{missingProperty:"binding"},message:"must have required property 'binding'"};null===a?a=[ae]:a.push(ae),l++}if(void 0!==R.binding){let ae=R.binding;const Ye=l;let Et=!0;const Ct=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae))if(void 0===ae.type){const ze={};null===a?a=[ze]:a.push(ze),l++}else if(void 0!==ae.type){let ze=ae.type;if("property"!==ze&&"camunda:property"!==ze&&"camunda:inputParameter"!==ze&&"camunda:field"!==ze){const Z={};null===a?a=[Z]:a.push(Z),l++}}var v=Ct===l;if(l=Ye,null!==a&&(Ye?a.length=Ye:a=null),v){const ze=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae)&&void 0===ae.name){const je={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===a?a=[je]:a.push(je),l++}if(l>0){const je=[];for(const he of a)"errorMessage"!==he.keyword&&!he.emUsed&&(he.instancePath===t+"/scopes/"+Q+"/properties/"+j+"/binding"||0===he.instancePath.indexOf(t+"/scopes/"+Q+"/properties/"+j+"/binding")&&"/"===he.instancePath[t+"/scopes/"+Q+"/properties/"+j+8])&&0===he.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then")&&"/"===he.schemaPath[70]&&(je.push(he),he.emUsed=!0);if(je.length){const he={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:je},message:"property.binding "+JSON.stringify(ae&&ae.type)+" requires name"};null===a?a=[he]:a.push(he),l++}const $e=[];for(const he of a)he.emUsed||$e.push(he);a=$e,l=$e.length}Et=v=ze===l}if(!Et){const ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[ze]:a.push(ze),l++}const re=l;let ve=!0;const le=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae))if(void 0===ae.type){const ze={};null===a?a=[ze]:a.push(ze),l++}else if(void 0!==ae.type&&"camunda:outputParameter"!==ae.type){const ze={};null===a?a=[ze]:a.push(ze),l++}var _=le===l;if(l=re,null!==a&&(re?a.length=re:a=null),_){const ze=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae)&&void 0===ae.source){const je={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then/required",keyword:"required",params:{missingProperty:"source"},message:"must have required property 'source'"};null===a?a=[je]:a.push(je),l++}if(l>0){const je=[];for(const he of a)"errorMessage"!==he.keyword&&!he.emUsed&&(he.instancePath===t+"/scopes/"+Q+"/properties/"+j+"/binding"||0===he.instancePath.indexOf(t+"/scopes/"+Q+"/properties/"+j+"/binding")&&"/"===he.instancePath[t+"/scopes/"+Q+"/properties/"+j+8])&&0===he.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then")&&"/"===he.schemaPath[70]&&(je.push(he),he.emUsed=!0);if(je.length){const he={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then/errorMessage",keyword:"errorMessage",params:{errors:je},message:"property.binding "+JSON.stringify(ae&&ae.type)+" requires source"};null===a?a=[he]:a.push(he),l++}const $e=[];for(const he of a)he.emUsed||$e.push(he);a=$e,l=$e.length}ve=_=ze===l}if(!ve){const ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/1/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[ze]:a.push(ze),l++}const Ue=l;let at=!0;const st=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae))if(void 0===ae.type){const ze={};null===a?a=[ze]:a.push(ze),l++}else if(void 0!==ae.type&&"camunda:in"!==ae.type){const ze={};null===a?a=[ze]:a.push(ze),l++}var E=st===l;if(l=Ue,null!==a&&(Ue?a.length=Ue:a=null),E){const ze=l,Z=l;let je=!1;const $e=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae)&&void 0===ae.variables){const nt={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/anyOf/0/required",keyword:"required",params:{missingProperty:"variables"},message:"must have required property 'variables'"};null===a?a=[nt]:a.push(nt),l++}var x=$e===l;if(je=je||x,!je){const nt=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae)&&void 0===ae.target){const Ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/anyOf/1/required",keyword:"required",params:{missingProperty:"target"},message:"must have required property 'target'"};null===a?a=[Ze]:a.push(Ze),l++}x=nt===l,je=je||x}if(je)l=Z,null!==a&&(Z?a.length=Z:a=null);else{const nt={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};null===a?a=[nt]:a.push(nt),l++}if(l>0){const nt=[];for(const Ze of a)"errorMessage"!==Ze.keyword&&!Ze.emUsed&&(Ze.instancePath===t+"/scopes/"+Q+"/properties/"+j+"/binding"||0===Ze.instancePath.indexOf(t+"/scopes/"+Q+"/properties/"+j+"/binding")&&"/"===Ze.instancePath[t+"/scopes/"+Q+"/properties/"+j+8])&&0===Ze.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then")&&"/"===Ze.schemaPath[70]&&(nt.push(Ze),Ze.emUsed=!0);if(nt.length){const Ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/errorMessage",keyword:"errorMessage",params:{errors:nt},message:"property.binding "+JSON.stringify(ae&&ae.type)+" requires variables, target, or both"};null===a?a=[Ze]:a.push(Ze),l++}const me=[];for(const Ze of a)Ze.emUsed||me.push(Ze);a=me,l=me.length}at=E=ze===l}if(!at){const ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[ze]:a.push(ze),l++}const yt=l;let Re=!0;const it=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae))if(void 0===ae.type){const ze={};null===a?a=[ze]:a.push(ze),l++}else if(void 0!==ae.type&&"camunda:out"!==ae.type){const ze={};null===a?a=[ze]:a.push(ze),l++}var b=it===l;if(l=yt,null!==a&&(yt?a.length=yt:a=null),b){const ze=l,Z=l;let je=!1,$e=null;const he=l,nt=l,me=l,Ze=l;let ct=!1;const K=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae)&&void 0===ae.source){const Ie={};null===a?a=[Ie]:a.push(Ie),l++}var w=K===l;if(ct=ct||w,!ct){const Ie=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae)&&void 0===ae.sourceExpression){const rt={};null===a?a=[rt]:a.push(rt),l++}w=Ie===l,ct=ct||w}if(ct)l=Ze,null!==a&&(Ze?a.length=Ze:a=null);else{const Ie={};null===a?a=[Ie]:a.push(Ie),l++}if(me===l){const Ie={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Ie]:a.push(Ie),l++}else l=nt,null!==a&&(nt?a.length=nt:a=null);if(ae&&"object"==typeof ae&&!Array.isArray(ae)&&void 0===ae.variables){const Ie={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/0/required",keyword:"required",params:{missingProperty:"variables"},message:"must have required property 'variables'"};null===a?a=[Ie]:a.push(Ie),l++}(I=he===l)&&(je=!0,$e=0);const J=l,fe=l,Me=l,vt=l;let Rt=!1;const ht=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae)&&void 0===ae.variables){const Ie={};null===a?a=[Ie]:a.push(Ie),l++}var P=ht===l;if(Rt=Rt||P,!Rt){const Ie=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae)&&void 0===ae.sourceExpression){const rt={};null===a?a=[rt]:a.push(rt),l++}P=Ie===l,Rt=Rt||P}if(Rt)l=vt,null!==a&&(vt?a.length=vt:a=null);else{const Ie={};null===a?a=[Ie]:a.push(Ie),l++}if(Me===l){const Ie={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Ie]:a.push(Ie),l++}else l=fe,null!==a&&(fe?a.length=fe:a=null);if(ae&&"object"==typeof ae&&!Array.isArray(ae)&&void 0===ae.source){const Ie={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/1/required",keyword:"required",params:{missingProperty:"source"},message:"must have required property 'source'"};null===a?a=[Ie]:a.push(Ie),l++}if((I=J===l)&&je)je=!1,$e=[$e,1];else{I&&(je=!0,$e=1);const Ie=l,ut=l,rt=l,Ut=l;let bt=!1;const gi=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae)&&void 0===ae.variables){const Ir={};null===a?a=[Ir]:a.push(Ir),l++}var k=gi===l;if(bt=bt||k,!bt){const Ir=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae)&&void 0===ae.source){const Rc={};null===a?a=[Rc]:a.push(Rc),l++}k=Ir===l,bt=bt||k}if(bt)l=Ut,null!==a&&(Ut?a.length=Ut:a=null);else{const Ir={};null===a?a=[Ir]:a.push(Ir),l++}if(rt===l){const Ir={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/2/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Ir]:a.push(Ir),l++}else l=ut,null!==a&&(ut?a.length=ut:a=null);if(ae&&"object"==typeof ae&&!Array.isArray(ae)&&void 0===ae.sourceExpression){const Ir={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/2/required",keyword:"required",params:{missingProperty:"sourceExpression"},message:"must have required property 'sourceExpression'"};null===a?a=[Ir]:a.push(Ir),l++}if((I=Ie===l)&&je)je=!1,$e=[$e,2];else{I&&(je=!0,$e=2);const Ir=l,yl=l,Rc=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae)&&void 0===ae.source){const zr={};null===a?a=[zr]:a.push(zr),l++}if(Rc===l){const zr={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[zr]:a.push(zr),l++}else l=yl,null!==a&&(yl?a.length=yl:a=null);if(ae&&"object"==typeof ae&&!Array.isArray(ae)){if(void 0===ae.variables){const zr={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/required",keyword:"required",params:{missingProperty:"variables"},message:"must have required property 'variables'"};null===a?a=[zr]:a.push(zr),l++}if(void 0===ae.sourceExpression){const zr={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/required",keyword:"required",params:{missingProperty:"sourceExpression"},message:"must have required property 'sourceExpression'"};null===a?a=[zr]:a.push(zr),l++}}if((I=Ir===l)&&je)je=!1,$e=[$e,3];else{I&&(je=!0,$e=3);const zr=l,hd=l,yn=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae)&&void 0===ae.sourceExpression){const dt={};null===a?a=[dt]:a.push(dt),l++}var I;if(yn===l){const dt={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[dt]:a.push(dt),l++}else l=hd,null!==a&&(hd?a.length=hd:a=null);if(ae&&"object"==typeof ae&&!Array.isArray(ae)){if(void 0===ae.variables){const dt={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/required",keyword:"required",params:{missingProperty:"variables"},message:"must have required property 'variables'"};null===a?a=[dt]:a.push(dt),l++}if(void 0===ae.source){const dt={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/required",keyword:"required",params:{missingProperty:"source"},message:"must have required property 'source'"};null===a?a=[dt]:a.push(dt),l++}}(I=zr===l)&&je?(je=!1,$e=[$e,4]):I&&(je=!0,$e=4)}}}if(je)l=Z,null!==a&&(Z?a.length=Z:a=null);else{const Ie={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf",keyword:"oneOf",params:{passingSchemas:$e},message:"must match exactly one schema in oneOf"};null===a?a=[Ie]:a.push(Ie),l++}if(l>0){const Ie=[];for(const rt of a)"errorMessage"!==rt.keyword&&!rt.emUsed&&(rt.instancePath===t+"/scopes/"+Q+"/properties/"+j+"/binding"||0===rt.instancePath.indexOf(t+"/scopes/"+Q+"/properties/"+j+"/binding")&&"/"===rt.instancePath[t+"/scopes/"+Q+"/properties/"+j+8])&&0===rt.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then")&&"/"===rt.schemaPath[70]&&(Ie.push(rt),rt.emUsed=!0);if(Ie.length){const rt={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/errorMessage",keyword:"errorMessage",params:{errors:Ie},message:"property.binding "+JSON.stringify(ae&&ae.type)+" requires one of the following: variables, sourceExpression, source, (sourceExpression and variables), or (source and variables)"};null===a?a=[rt]:a.push(rt),l++}const ut=[];for(const rt of a)rt.emUsed||ut.push(rt);a=ut,l=ut.length}Re=b=ze===l}if(!Re){const ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[ze]:a.push(ze),l++}const pt=l;let Jt=!0;const Ft=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae))if(void 0===ae.type){const ze={};null===a?a=[ze]:a.push(ze),l++}else if(void 0!==ae.type&&"camunda:errorEventDefinition"!==ae.type){const ze={};null===a?a=[ze]:a.push(ze),l++}var q=Ft===l;if(l=pt,null!==a&&(pt?a.length=pt:a=null),q){const ze=l,Z=l;let je=!1,$e=null;const he=l;if(ae&&"object"==typeof ae&&!Array.isArray(ae)&&void 0===ae.errorRef){const me={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then/oneOf/0/required",keyword:"required",params:{missingProperty:"errorRef"},message:"must have required property 'errorRef'"};null===a?a=[me]:a.push(me),l++}if(he===l&&(je=!0,$e=0),je)l=Z,null!==a&&(Z?a.length=Z:a=null);else{const me={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then/oneOf",keyword:"oneOf",params:{passingSchemas:$e},message:"must match exactly one schema in oneOf"};null===a?a=[me]:a.push(me),l++}if(l>0){const me=[];for(const ct of a)"errorMessage"!==ct.keyword&&!ct.emUsed&&(ct.instancePath===t+"/scopes/"+Q+"/properties/"+j+"/binding"||0===ct.instancePath.indexOf(t+"/scopes/"+Q+"/properties/"+j+"/binding")&&"/"===ct.instancePath[t+"/scopes/"+Q+"/properties/"+j+8])&&0===ct.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then")&&"/"===ct.schemaPath[70]&&(me.push(ct),ct.emUsed=!0);if(me.length){const ct={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then/errorMessage",keyword:"errorMessage",params:{errors:me},message:"property.binding "+JSON.stringify(ae&&ae.type)+" requires errorRef"};null===a?a=[ct]:a.push(ct),l++}const Ze=[];for(const ct of a)ct.emUsed||Ze.push(ct);a=Ze,l=Ze.length}Jt=q=ze===l}if(!Jt){const ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/4/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[ze]:a.push(ze),l++}if(ae&&"object"==typeof ae&&!Array.isArray(ae)){if(void 0===ae.type){const ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===a?a=[ze]:a.push(ze),l++}if(void 0!==ae.type){let ze=ae.type;if("string"!=typeof ze){const Z={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding/type",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Z]:a.push(Z),l++}if("property"!==ze&&"camunda:property"!==ze&&"camunda:inputParameter"!==ze&&"camunda:outputParameter"!==ze&&"camunda:in"!==ze&&"camunda:out"!==ze&&"camunda:in:businessKey"!==ze&&"camunda:executionListener"!==ze&&"camunda:field"!==ze&&"camunda:errorEventDefinition"!==ze){const Z={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding/type",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/type/enum",keyword:"enum",params:{allowedValues:Y0.items.properties.binding.properties.type.enum},message:"must be equal to one of the allowed values"};null===a?a=[Z]:a.push(Z),l++}if(l>0){const Z=[];for(const $e of a)"errorMessage"!==$e.keyword&&!$e.emUsed&&($e.instancePath===t+"/scopes/"+Q+"/properties/"+j+"/binding/type"||0===$e.instancePath.indexOf(t+"/scopes/"+Q+"/properties/"+j+"/binding/type")&&"/"===$e.instancePath[t+"/scopes/"+Q+"/properties/"+j+13])&&0===$e.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/properties/type")&&"/"===$e.schemaPath[73]&&(Z.push($e),$e.emUsed=!0);if(Z.length){const $e={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding/type",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Z},message:"invalid property.binding type "+JSON.stringify(ze)+"; must be any of { property, camunda:property, camunda:inputParameter, camunda:outputParameter, camunda:in, camunda:out, camunda:in:businessKey, camunda:executionListener, camunda:field, camunda:errorEventDefinition }"};null===a?a=[$e]:a.push($e),l++}const je=[];for(const $e of a)$e.emUsed||je.push($e);a=je,l=je.length}}if(void 0!==ae.name&&"string"!=typeof ae.name){const ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding/name",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ze]:a.push(ze),l++}if(void 0!==ae.event&&"string"!=typeof ae.event){const ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding/event",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/event/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ze]:a.push(ze),l++}if(void 0!==ae.scriptFormat&&"string"!=typeof ae.scriptFormat){const ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding/scriptFormat",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/scriptFormat/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ze]:a.push(ze),l++}if(void 0!==ae.source&&"string"!=typeof ae.source){const ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding/source",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/source/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ze]:a.push(ze),l++}if(void 0!==ae.target&&"string"!=typeof ae.target){const ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding/target",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/target/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ze]:a.push(ze),l++}if(void 0!==ae.expression&&"boolean"!=typeof ae.expression){const ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding/expression",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/expression/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[ze]:a.push(ze),l++}if(void 0!==ae.variables){let ze=ae.variables;if("string"!=typeof ze){const Z={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding/variables",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/variables/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Z]:a.push(Z),l++}if("all"!==ze&&"local"!==ze){const Z={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding/variables",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/variables/enum",keyword:"enum",params:{allowedValues:Y0.items.properties.binding.properties.variables.enum},message:"must be equal to one of the allowed values"};null===a?a=[Z]:a.push(Z),l++}}if(void 0!==ae.sourceExpression&&"string"!=typeof ae.sourceExpression){const ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding/sourceExpression",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/sourceExpression/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ze]:a.push(ze),l++}}else{const ze={instancePath:t+"/scopes/"+Q+"/properties/"+j+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[ze]:a.push(ze),l++}}}else{const ae={instancePath:t+"/scopes/"+Q+"/properties/"+j,schemaPath:"#/definitions/properties/allOf/1/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[ae]:a.push(ae),l++}if(l>0){const ae={required:[]},Ye={required:function(){return'missing binding for property "'+JSON.stringify(j)+'"'}};for(const Ct of a)"errorMessage"!==Ct.keyword&&!Ct.emUsed&&Ct.instancePath===t+"/scopes/"+Q+"/properties/"+j&&Ct.keyword in ae&&0===Ct.schemaPath.indexOf("#/definitions/properties/allOf/1/items")&&/^\/[^\/]*$/.test(Ct.schemaPath.slice(38))&&(ae[Ct.keyword].push(Ct),Ct.emUsed=!0);for(const Ct in ae)if(ae[Ct].length){const re={instancePath:t+"/scopes/"+Q+"/properties/"+j,schemaPath:"#/definitions/properties/allOf/1/items/errorMessage",keyword:"errorMessage",params:{errors:ae[Ct]},message:Ct in Ye?Ye[Ct]():Y0.items.errorMessage[Ct]};null===a?a=[re]:a.push(re),l++}const Et=[];for(const Ct of a)Ct.emUsed||Et.push(Ct);a=Et,l=Et.length}}}else{const X={instancePath:t+"/scopes/"+Q+"/properties",schemaPath:"#/definitions/properties/allOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[X]:a.push(X),l++}}}else{const de={instancePath:t+"/scopes/"+Q,schemaPath:"#/properties/scopes/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[de]:a.push(de),l++}if(l>0){const de={required:{type:[],properties:[]}},X={required:{properties:function(){return"invalid scope "+JSON.stringify(Ee&&Ee.type)+", missing properties=[]"}}};let j,R;for(const N of a)"errorMessage"!==N.keyword&&!N.emUsed&&N.instancePath===t+"/scopes/"+Q&&N.keyword in de&&0===N.schemaPath.indexOf("#/properties/scopes/items")&&/^\/[^\/]*$/.test(N.schemaPath.slice(25))&&(j=pp[N.keyword],R=de[N.keyword][N.params[j]],R&&(R.push(N),N.emUsed=!0));for(const N in de)for(const z in de[N])if(R=de[N][z],R.length){const W=X[N]&&X[N][z],Ke={instancePath:t+"/scopes/"+Q,schemaPath:"#/properties/scopes/items/errorMessage",keyword:"errorMessage",params:{errors:R},message:W?W():$f.properties.scopes.items.errorMessage[N][z]};null===a?a=[Ke]:a.push(Ke),l++}const A=[];for(const N of a)N.emUsed||A.push(N);a=A,l=A.length}}}else{const ee={instancePath:t+"/scopes",schemaPath:"#/properties/scopes/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[ee]:a.push(ee),l++}}}else{const H={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[H]:a.push(H),l++}return P1.errors=a,0===l}function XU(n,{instancePath:t="",parentData:i,parentDataProperty:s,rootData:o=n}={}){let a=null,l=0;const c=l;let u=!1,d=null;const p=l;P1(n,{instancePath:t,parentData:i,parentDataProperty:s,rootData:o})||(a=null===a?P1.errors:a.concat(P1.errors),l=a.length),p===l&&(u=!0,d=0);const f=l;if(Array.isArray(n)){const m=n.length;for(let g=0;g<m;g++)P1(n[g],{instancePath:t+"/"+g,parentData:n,parentDataProperty:g,rootData:o})||(a=null===a?P1.errors:a.concat(P1.errors),l=a.length)}else{const m={instancePath:t,schemaPath:"#/oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[m]:a.push(m),l++}var h;if((h=f===l)&&u?(u=!1,d=[d,1]):h&&(u=!0,d=1),u)l=c,null!==a&&(c?a.length=c:a=null);else{const m={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:d},message:"must match exactly one schema in oneOf"};null===a?a=[m]:a.push(m),l++}return XU.errors=a,0===l}var p7t=Q5e(KU.exports),ZU={},i4e={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"};ZU.parse=function(n,t,i){var s={},o=0,a=0,l=0,c=i&&i.bigint&&typeof BigInt<"u";return{data:function u(I,k){var F;d(),x(I,"value");var M=y();switch(M){case"t":g("rue"),F=!0;break;case"f":g("alse"),F=!1;break;case"n":g("ull"),F=null;break;case'"':F=p();break;case"[":F=function h(I){d();var k=[],F=0;if("]"==y())return k;for(v();;){k.push(u(I+"/"+F)),d();var B=y();if("]"==B)break;","!=B&&P(),d(),F++}return k}(I);break;case"{":F=function m(I){d();var k={};if("}"==y())return k;for(v();;){var F=w();'"'!=y()&&P();var M=p(),B=I+"/"+QU(M);b(B,"key",F),x(B,"keyEnd"),d(),":"!=y()&&P(),d(),k[M]=u(B),d();var q=y();if("}"==q)break;","!=q&&P(),d()}return k}(I);break;default:v(),"-0123456789".indexOf(M)>=0?F=function f(){var I="",k=!0;"-"==n[l]&&(I+=y()),I+="0"==n[l]?y():E(),"."==n[l]&&(I+=y()+E(),k=!1),("e"==n[l]||"E"==n[l])&&(I+=y(),("+"==n[l]||"-"==n[l])&&(I+=y()),I+=E(),k=!1);var F=+I;return c&&k&&(F>Number.MAX_SAFE_INTEGER||F<Number.MIN_SAFE_INTEGER)?BigInt(I):F}():C()}return x(I,"valueEnd"),d(),k&&l<n.length&&C(),F}("",!0),pointers:s};function d(){e:for(;l<n.length;){switch(n[l]){case" ":a++;break;case"\t":a+=4;break;case"\r":a=0;break;case"\n":a=0,o++;break;default:break e}l++}}function p(){for(var k,I="";'"'!=(k=y());)"\\"==k?(k=y())in i4e?I+=i4e[k]:"u"==k?I+=_():P():I+=k;return I}function g(I){for(var k=0;k<I.length;k++)y()!==I[k]&&P()}function y(){D();var I=n[l];return l++,a++,I}function v(){l--,a--}function _(){for(var I=4,k=0;I--;){k<<=4;var F=y().toLowerCase();F>="a"&&F<="f"?k+=F.charCodeAt()-97+10:F>="0"&&F<="9"?k+=+F:P()}return String.fromCharCode(k)}function E(){for(var I="";n[l]>="0"&&n[l]<="9";)I+=y();if(I.length)return I;D(),C()}function x(I,k){b(I,k,w())}function b(I,k,F){s[I]=s[I]||{},s[I][k]=F}function w(){return{line:o,column:a,pos:l}}function C(){throw new SyntaxError("Unexpected token "+n[l]+" in JSON at position "+l)}function P(){v(),C()}function D(){if(l>=n.length)throw new SyntaxError("Unexpected end of JSON input")}},ZU.stringify=function(n,t,i){if(qD(n)){var o,a,s=0,l="object"==typeof i?i.space:i;switch(typeof l){case"number":var c=l>10?10:l<0?0:Math.floor(l);l=c&&b(c," "),o=c,a=c;break;case"string":l=l.slice(0,10),o=0,a=0;for(var u=0;u<l.length;u++){switch(l[u]){case" ":a++;break;case"\t":a+=4;break;case"\r":a=0;break;case"\n":a=0,s++;break;default:throw new Error("whitespace characters not allowed in JSON")}o++}break;default:l=void 0}var p="",f={},h=0,m=0,g=0,y=i&&i.es6&&"function"==typeof Map;return function v(w,C,P){switch(x(P,"value"),typeof w){case"number":case"bigint":case"boolean":_(""+w);break;case"string":_(WD(w));break;case"object":null===w?_("null"):"function"==typeof w.toJSON?_(WD(w.toJSON())):Array.isArray(w)?D():y?w.constructor.BYTES_PER_ELEMENT?D():w instanceof Map?k():w instanceof Set?k(!0):I():I()}function D(){if(w.length){_("[");for(var F=C+1,M=0;M<w.length;M++){M&&_(","),E(F);var B=qD(w[M])?w[M]:null;v(B,F,P+"/"+M)}E(C),_("]")}else _("[]")}function I(){var F=Object.keys(w);if(F.length){_("{");for(var M=C+1,B=0;B<F.length;B++){var q=F[B],ue=w[q];if(qD(ue)){B&&_(",");var H=P+"/"+QU(q);E(M),x(H,"key"),_(WD(q)),x(H,"keyEnd"),_(":"),l&&_(" "),v(ue,M,H)}}E(C),_("}")}else _("{}")}function k(F){if(w.size){_("{");for(var M=C+1,B=!0,q=w.entries(),ue=q.next();!ue.done;){var H=ue.value,ee=H[0],Q=!!F||H[1];if(qD(Q)){B||_(","),B=!1;var Ee=P+"/"+QU(ee);E(M),x(Ee,"key"),_(WD(ee)),x(Ee,"keyEnd"),_(":"),l&&_(" "),v(Q,M,Ee)}ue=q.next()}E(C),_("}")}else _("{}")}x(P,"valueEnd")}(n,0,""),{json:p,pointers:f}}function _(w){m+=w.length,g+=w.length,p+=w}function E(w){if(l){for(p+="\n"+b(w,l),h++,m=0;w--;)s?(h+=s,m=a):m+=a,g+=o;g+=1}}function x(w,C){f[w]=f[w]||{},f[w][C]={line:h,column:m,pos:g}}function b(w,C){return Array(w+1).join(C)}};var h7t=["number","bigint","boolean","string","object"];function qD(n){return h7t.indexOf(typeof n)>=0}var m7t=/"|\\/g,g7t=/[\b]/g,y7t=/\f/g,v7t=/\n/g,b7t=/\r/g,_7t=/\t/g;function WD(n){return'"'+(n=n.replace(m7t,"\\$&").replace(y7t,"\\f").replace(g7t,"\\b").replace(v7t,"\\n").replace(b7t,"\\r").replace(_7t,"\\t"))+'"'}var E7t=/~/g,w7t=/\//g;function QU(n){return n.replace(E7t,"~0").replace(w7t,"~1")}function s4e(n,t){const i=function O7t(n){return ZU.stringify(n,null,2).pointers}(n),s=t(n);let o=t.errors;return o&&o.length&&(se(o,x7t),o=function S7t(n){return hn(n,function(t){return"if"!==t.keyword})}(o),se(o,function(a){!function C7t(n,t){n.dataPointer=t[n.instancePath]}(a,i)})),{valid:s,object:n,errors:o}}function x7t(n){const t=n.params;t&&t.errors&&(t.rawErrors=t.errors,delete t.errors)}var JU={exports:{}};JU.exports=eq,JU.exports.default=eq;const al={type:"object",allOf:[{required:["name","id","appliesTo","properties"],properties:{name:{$id:"#/name",type:"string",description:"The name of the element template."},id:{$id:"#/id",type:"string",description:"The identifier of the element template."},description:{$id:"#/description",type:"string",description:"The description of the element template."},version:{$id:"#/version",type:"integer",description:"Optional version of the template. If you add a version to a template it will be considered unique based on its ID and version. Two templates can have the same ID if their version is different."},isDefault:{$id:"#/isDefault",type:"boolean",description:"Indicates whether the element template is a default template."},deprecated:{$id:"#/deprecated",type:["boolean","object"],description:"Indicates whether the element template is deprecated.",properties:{message:{$id:"#/deprecated/message",type:"string",description:"Optional message to describe migration path."},documentationRef:{$id:"#/deprecated/documentationRef",type:"string",pattern:"^(https|http)://.*",description:"Optional link to migration documentation."}}},appliesTo:{$id:"#/appliesTo",type:"array",description:"List of BPMN types the template can be applied to.",default:[],items:{$id:"#/appliesTo/items",type:"string",pattern:"^[\\w\\d]+:[\\w\\d]+$",allOf:[{examples:["bpmn:Task","bpmn:ServiceTask","bpmn:SequenceFlow","bpmn:Process","bpmn:StartEvent","bpmn:Gateway"]}],errorMessage:{pattern:'invalid item for "appliesTo", should contain namespaced property, example: "bpmn:Task"'}}},elementType:{$id:"#/elementType",type:"object",description:"The BPMN type the element will be transformed into.",default:{},required:["value"],properties:{value:{$id:"#/elementType/value",type:"string",pattern:"^[\\w\\d]+:[\\w\\d]+$",allOf:[{examples:["bpmn:ServiceTask","bpmn:UserTask","bpmn:StartEvent","bpmn:ExclusiveGateway","bpmn:ParallelGateway"]}],errorMessage:{pattern:'invalid item for "elementType", should contain namespaced property, example: "bpmn:Task"'}}},errorMessage:{required:{value:"missing elementType value"}}},metadata:{$id:"#/metadata",type:"object",description:"Some custom properties for further configuration.",default:{}},entriesVisible:{$id:"#/entriesVisible",type:"boolean",description:"Select whether non-template entries are visible in the properties panel."},groups:{$id:"#/groups",type:"array",description:"Custom fields can be ordered together via groups.",allOf:[{examples:[[{id:"group-1",label:"My Group"}]]}],items:{$id:"#/groups/group",type:"object",default:{},required:["id","label"],properties:{id:{$id:"#/groups/group/id",type:"string",description:"The id of the custom group"},label:{$id:"#/groups/group/label",type:"string",description:"The label of the custom group"}},errorMessage:{required:{id:'missing id for group "${0#}"',label:'missing label for group "${0#}"'}}}},documentationRef:{$id:"#/documentationRef",type:"string",pattern:"^(https|http)://.*",errorMessage:{pattern:'Malformed documentation URL, must match "^(https|http)://.*"'}}},errorMessage:{required:{name:"missing template name",id:"missing template id",appliesTo:"missing appliesTo=[]",properties:"missing properties=[]"}}},{allOf:[{if:{properties:{properties:{contains:{properties:{binding:{properties:{type:{const:"bpmn:Message#property"}},required:["type"]}},required:["binding"]}}},required:["properties"]},then:{required:["elementType"],properties:{elementType:{required:["value"],properties:{value:{enum:["bpmn:ReceiveTask","bpmn:SendTask","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:EndEvent"]}},allOf:[{if:{properties:{value:{enum:["bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:EndEvent"]}}},then:{eventDefinition:{const:"bpmn:MessageEventDefinition"},required:["eventDefinition"]}}]}}}},{if:{properties:{properties:{contains:{properties:{binding:{properties:{type:{const:"bpmn:Message#zeebe:subscription#property"}},required:["type"]}},required:["binding"]}}},required:["properties"]},then:{required:["elementType"],properties:{elementType:{required:["value"],properties:{value:{enum:["bpmn:ReceiveTask","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:EndEvent"]}},allOf:[{if:{properties:{value:{enum:["bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:EndEvent"]}}},then:{eventDefinition:{const:"bpmn:MessageEventDefinition"},required:["eventDefinition"]}}]}}}},{if:{properties:{properties:{contains:{properties:{binding:{properties:{type:{const:"zeebe:calledElement"}},required:["type"]}},required:["binding"]}}},required:["properties"]},then:{anyOf:[{required:["elementType"],properties:{elementType:{required:["value"],properties:{value:{const:"bpmn:CallActivity"}}}}},{required:["appliesTo"],properties:{appliesTo:{const:["bpmn:CallActivity"]}}}]}}]}],properties:{properties:{$ref:"#/definitions/properties",$id:"#/properties"},icon:{$id:"#/icon",type:"object",description:"Custom icon to be shown on the element",default:{},properties:{contents:{$id:"#/icon/contents",type:"string",description:"The URL of an icon.",pattern:"^(https?|data):.*",errorMessage:{pattern:"Malformed icon source, must be a valid HTTP(s) or data URL"}}},required:["contents"],errorMessage:{required:{contents:"missing icon contents"}}},elementType:{allOf:[{allOf:[{properties:{eventDefinition:{$id:"#/elementType/eventDefinition",enum:["bpmn:MessageEventDefinition"]}}},{if:{required:["eventDefinition"]},then:{properties:{value:{enum:["bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:EndEvent"]}},required:["value"]}}]}]},groups:{items:{properties:{tooltip:{$id:"#/groups/group/tooltip",type:"string"},openByDefault:{$id:"#/groups/group/openByDefault",type:"boolean",description:"Specifies whether the Group should be opened when first viewed. Defaults to true.",default:!0}}}}}},l4e=new RegExp("^(https|http)://.*","u"),c4e=new RegExp("^[\\w\\d]+:[\\w\\d]+$","u"),k7t=new RegExp("^(https?|data):.*","u"),zf={required:"missingProperty",dependencies:"property",dependentRequired:"property"},u4e=zD.default,xc={allOf:[{type:"array",description:"List of properties of the element template.",allOf:[{examples:[[{label:"Name",type:"String",binding:{type:"property",name:"name"}}]]}],items:{type:"object",default:{},allOf:[{if:{properties:{type:{const:"Dropdown"}},required:["type"]},then:{required:["choices"],errorMessage:'must provide choices=[] with "Dropdown" type'}},{definitions:{condition:{type:"object",required:["property"],properties:{type:{$id:"#/condition/type",const:"simple",description:"The type of the condition.",default:"simple"},property:{$id:"#/condition/property",type:"string",description:"The id of the property to check."}},oneOf:[{properties:{equals:{type:["string","number","boolean"]}},required:["equals"]},{properties:{oneOf:{type:"array",items:{type:["string","number"]}}},required:["oneOf"]},{properties:{isActive:{type:"boolean",description:"For `true`, activates the property when given property is active"}},required:["isActive"]}],errorMessage:{required:{property:"missing property name for condition"}}},conditionDependingOnId:{required:["property"],properties:{property:{const:{$data:"2/id"}}}}},allOf:[{$comment:"property#condition should not depend on property#id",if:{required:["id","condition"],properties:{condition:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/conditionDependingOnId"}}},then:{not:{required:["condition"]},errorMessage:"Invalid condition.property, must be different than property.id"}},{then:{errorMessage:"Invalid condition.property, must be different than property.id"}}],properties:{id:{type:"string",description:"Unique identifier of the property."},condition:{type:"object",description:"Condition(s) to activate the binding.",allOf:[{examples:[{type:"simple",property:"httpMethod",equals:"GET"},{type:"simple",property:"httpMethod",oneOf:["POST","PUT","DELETE"]},{allMatch:[{type:"simple",property:"authType",equals:"Basic"},{type:"simple",property:"httpMethod",oneOf:["POST","PUT","DELETE"]}]}]}],oneOf:[{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition"},{properties:{allMatch:{$id:"#/allMatch",type:"array",items:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition"},minItems:1}},required:["allMatch"]}]}}},{if:{properties:{type:{not:{const:"Number"}}},required:["type"]},then:{properties:{value:{type:["string","boolean"]}}}},{if:{oneOf:[{properties:{type:{enum:["String","Text"]}},required:["type"]},{not:{required:["type"]}}]},then:{properties:{placeholder:{type:"string"}}},else:{not:{required:["placeholder"]}}}],properties:{value:{$id:"#/properties/property/value",type:["string","number","boolean"],description:"The value of a control field."},description:{$id:"#/properties/property/description",type:"string",description:"The description of a control field."},label:{$id:"#/properties/property/label",type:"string",description:"The label of a control field."},type:{$id:"#/properties/property/type",type:"string",description:"The type of a control field."},editable:{$id:"#/properties/property/editable",type:"boolean",description:"Indicates whether a control field is editable or not."},choices:{$id:"#/properties/property/choices",type:"array",description:"The choices for dropdown fields.",default:[],items:{$id:"#/properties/property/choices/item",type:"object",default:{},properties:{name:{$id:"#/properties/property/choices/item/name",type:"string",description:"The name of a choice."},value:{$id:"#/properties/property/choices/item/value",type:"string",description:"The value of a choice."},condition:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/properties/condition"}},required:["value","name"],errorMessage:{required:'{ name, value } must be specified for "Dropdown" choices'}}},constraints:{$id:"#/properties/property/constraints",type:"object",description:"The validation constraints of a control field.",allOf:[{examples:[{notEmpty:!0}]}],properties:{notEmpty:{$id:"#/properties/property/constraints/notEmpty",type:"boolean",description:"The control field must not be empty."},minLength:{$id:"#/properties/property/constraints/minLength",type:"number",description:"The minimal length of a control field value."},maxLength:{$id:"#/properties/property/constraints/maxLength",type:"number",description:"The maximal length for a control field value."},pattern:{$id:"#/properties/property/constraints/pattern",description:"A regular expression pattern for a constraint.",oneOf:[{type:"object",default:{},properties:{value:{$id:"#/properties/property/constraints/pattern/value",type:"string",description:"The regular expression of a pattern."},message:{$id:"#/properties/property/constraints/pattern/message",type:"string",description:"The validation message of a pattern."}}},{type:"string"}]}}},group:{$id:"#/properties/property/group",type:"string",description:"The custom group of a control field."}}}},{$schema:"http://json-schema.org/draft-07/schema",type:"array",description:"List of properties of the element template.",items:{type:"object",default:{},required:["binding"],allOf:[{if:{properties:{binding:{properties:{type:{const:"property"}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown","Boolean","Number"],errorMessage:'invalid property type ${0} for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean, Number }'}}}},{if:{properties:{binding:{properties:{type:{enum:["zeebe:input","zeebe:output","zeebe:property","zeebe:taskHeader","zeebe:taskDefinition:type","bpmn:Message#property","bpmn:Message#zeebe:subscription#property","zeebe:taskDefinition","zeebe:calledElement"]}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown","Boolean","Number"],errorMessage:"invalid property type ${0} for binding type ${1/binding/type}; must be any of { String, Text, Hidden, Dropdown, Boolean, Number }"}}}},{if:{properties:{optional:{const:!0}},required:["optional"]},then:{properties:{binding:{properties:{type:{enum:["zeebe:input","zeebe:output","zeebe:property","zeebe:taskHeader"],errorMessage:"optional is not supported for binding type ${0}; must be any of { zeebe:input, zeebe:output, zeebe:property, zeebe:taskHeader }"}},required:["type"]}}}},{if:{properties:{optional:{const:!0}},required:["optional"]},then:{properties:{constraints:{properties:{notEmpty:{const:!1,errorMessage:'optional is not allowed for truthy "notEmpty" constraint'}},required:["notEmpty"]}}}},{if:{properties:{feel:{not:{const:null}}},required:["feel"]},then:{properties:{type:{enum:["String","Text","Number","Boolean"],errorMessage:'feel is only supported for "String", "Text", "Number" and "Boolean" type'}},required:["type"]}},{if:{properties:{language:{not:{const:null}}},required:["language"]},then:{properties:{type:{enum:["Text"],errorMessage:'language is only supported for "Text" type'}}}},{if:{required:["value"]},then:{not:{required:["generatedValue"]}}},{if:{properties:{type:{enum:["Boolean","Dropdown"]}},required:["type"]},then:{not:{required:["generatedValue"]}}},{if:{properties:{type:{enum:["String","Text"]}},required:["feel"]},then:{properties:{feel:{enum:["optional","required"]}}}},{if:{properties:{feel:{const:"required"}},required:["feel"]},then:{properties:{value:{type:"string"}}}}],properties:{binding:{$id:"#/properties/property/binding",type:"object",description:"Specifying how the property is mapped to BPMN or Zeebe extension elements and attributes.",required:["type"],allOf:[{if:{properties:{type:{enum:["property","zeebe:property","zeebe:input","bpmn:Message#property","bpmn:Message#zeebe:subscription#property"]}},required:["type"]},then:{required:["name"],errorMessage:"property.binding ${0/type} requires name"}},{if:{properties:{type:{const:"zeebe:output"}},required:["type"]},then:{required:["source"],errorMessage:"property.binding ${0/type} requires source"}},{if:{properties:{type:{const:"zeebe:taskHeader"}},required:["type"]},then:{required:["key"],errorMessage:"property.binding ${0/type} requires key"}},{if:{properties:{type:{const:"zeebe:taskDefinition"}},required:["type"]},then:{properties:{property:{enum:["type","retries"]}},required:["property"]}},{if:{properties:{type:{const:"zeebe:taskDefinition:type"}},required:["type"]},then:{deprecated:!0}},{if:{properties:{type:{const:"zeebe:calledElement"}},required:["type"]},then:{properties:{property:{const:"processId"}},required:["property"]}},{examples:[{type:"property",name:"name"},{type:"zeebe:input",name:"input"},{type:"zeebe:output",source:"output"},{type:"zeebe:property",name:"property"},{type:"zeebe:taskHeader",key:"key"},{type:"zeebe:taskDefinition",property:"retries"},{type:"zeebe:taskDefinition",property:"type"}]}],properties:{type:{$id:"#/properties/property/binding/type",type:"string",description:"The type of a property binding.",enum:["property","zeebe:taskDefinition:type","zeebe:input","zeebe:output","zeebe:property","zeebe:taskHeader","bpmn:Message#property","bpmn:Message#zeebe:subscription#property","zeebe:taskDefinition","zeebe:calledElement"],errorMessage:"invalid property.binding type ${0}; must be any of { property, zeebe:taskDefinition:type, zeebe:input, zeebe:output, zeebe:property, zeebe:taskHeader, bpmn:Message#property, bpmn:Message#zeebe:subscription#property }"},name:{$id:"#/properties/property/binding/name",type:"string",description:"The name of a property binding."},source:{$id:"#/properties/property/binding/source",type:"string",description:"The source value of a property binding (zeebe:output)."},key:{$id:"#/properties/property/binding/key",type:"string",description:"The key value of a property binding (zeebe:taskHeader)."},property:{$id:"#/properties/property/binding/property",type:"string",description:"The name of the property defined in the binding."}}},optional:{$id:"#/optional",type:"boolean",description:"Indicates whether a property is optional. Optional bindings do not persist empty values in the underlying BPMN 2.0 XML."},feel:{$id:"#/properties/property/feel",type:"string",description:"Indicates whether the property can be a feel expression",enum:["optional","required","static"]},language:{$id:"#/properties/property/language",type:"string",description:"Indicates that the field is a custom language editor"},generatedValue:{$id:"#/properties/property/generatedValue",type:"object",required:["type"],properties:{type:{const:"uuid"}},description:"Sets property to a generated value according to given scheme."},tooltip:{$id:"#/properties/property/tooltip",type:"string",description:"Hints for the control field."}},errorMessage:{required:{binding:'missing binding for property "${0#}"'}}}}]},M7t={required:["property"],properties:{property:{const:{$data:"2/id"}}}},gu={type:"object",required:["property"],properties:{type:{$id:"#/condition/type",const:"simple",description:"The type of the condition.",default:"simple"},property:{$id:"#/condition/property",type:"string",description:"The id of the property to check."}},oneOf:[{properties:{equals:{type:["string","number","boolean"]}},required:["equals"]},{properties:{oneOf:{type:"array",items:{type:["string","number"]}}},required:["oneOf"]},{properties:{isActive:{type:"boolean",description:"For `true`, activates the property when given property is active"}},required:["isActive"]}],errorMessage:{required:{property:"missing property name for condition"}}};function GD(n,{instancePath:t="",rootData:o=n}={}){let a=null,l=0;if(!n||"object"!=typeof n||Array.isArray(n)){const b={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[b]:a.push(b),l++}const c=l;let u=!1,d=null;const p=l,f=l;let h=!1,m=null;const g=l;if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.equals){const b={instancePath:t,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===a?a=[b]:a.push(b),l++}if(void 0!==n.equals){let b=n.equals;if("string"!=typeof b&&"number"!=typeof b&&"boolean"!=typeof b){const w={instancePath:t+"/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:gu.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===a?a=[w]:a.push(w),l++}}}(v=g===l)&&(h=!0,m=0);const y=l;if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.oneOf){const b={instancePath:t,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===a?a=[b]:a.push(b),l++}if(void 0!==n.oneOf){let b=n.oneOf;if(Array.isArray(b)){const w=b.length;for(let C=0;C<w;C++){let P=b[C];if("string"!=typeof P&&"number"!=typeof P){const D={instancePath:t+"/oneOf/"+C,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:gu.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===a?a=[D]:a.push(D),l++}}}else{const w={instancePath:t+"/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[w]:a.push(w),l++}}}if((v=y===l)&&h)h=!1,m=[m,1];else{v&&(h=!0,m=1);const b=l;if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.isActive){const C={instancePath:t,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===a?a=[C]:a.push(C),l++}if(void 0!==n.isActive&&"boolean"!=typeof n.isActive){const C={instancePath:t+"/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[C]:a.push(C),l++}}var v;(v=b===l)&&h?(h=!1,m=[m,2]):v&&(h=!0,m=2)}if(h)l=f,null!==a&&(f?a.length=f:a=null);else{const b={instancePath:t,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:m},message:"must match exactly one schema in oneOf"};null===a?a=[b]:a.push(b),l++}if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.property){const b={instancePath:t,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===a?a=[b]:a.push(b),l++}if(void 0!==n.type&&"simple"!==n.type){const b={instancePath:t+"/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===a?a=[b]:a.push(b),l++}if(void 0!==n.property&&"string"!=typeof n.property){const b={instancePath:t+"/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[b]:a.push(b),l++}}else{const b={instancePath:t,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[b]:a.push(b),l++}if(l>0){const b={required:{property:[]}},w={required:{}};let C,P;for(const I of a)"errorMessage"!==I.keyword&&!I.emUsed&&I.instancePath===t&&I.keyword in b&&0===I.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(I.schemaPath.slice(68))&&(C=zf[I.keyword],P=b[I.keyword][I.params[C]],P&&(P.push(I),I.emUsed=!0));for(const I in b)for(const k in b[I])if(P=b[I][k],P.length){const F=w[I]&&w[I][k],M={instancePath:t,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:P},message:F?F():gu.errorMessage[I][k]};null===a?a=[M]:a.push(M),l++}const D=[];for(const I of a)I.emUsed||D.push(I);a=D,l=D.length}p===l&&(u=!0,d=0);const _=l;if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.allMatch){const b={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"allMatch"},message:"must have required property 'allMatch'"};null===a?a=[b]:a.push(b),l++}if(void 0!==n.allMatch){let b=n.allMatch;if(Array.isArray(b)){if(b.length<1){const C={instancePath:t+"/allMatch",schemaPath:"#/oneOf/1/properties/allMatch/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===a?a=[C]:a.push(C),l++}const w=b.length;for(let C=0;C<w;C++){let P=b[C];const D=l;let I=!1,k=null;const F=l;if(P&&"object"==typeof P&&!Array.isArray(P)){if(void 0===P.equals){const B={instancePath:t+"/allMatch/"+C,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===a?a=[B]:a.push(B),l++}if(void 0!==P.equals){let B=P.equals;if("string"!=typeof B&&"number"!=typeof B&&"boolean"!=typeof B){const q={instancePath:t+"/allMatch/"+C+"/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:gu.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===a?a=[q]:a.push(q),l++}}}(E=F===l)&&(I=!0,k=0);const M=l;if(P&&"object"==typeof P&&!Array.isArray(P)){if(void 0===P.oneOf){const B={instancePath:t+"/allMatch/"+C,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===a?a=[B]:a.push(B),l++}if(void 0!==P.oneOf){let B=P.oneOf;if(Array.isArray(B)){const q=B.length;for(let ue=0;ue<q;ue++){let H=B[ue];if("string"!=typeof H&&"number"!=typeof H){const ee={instancePath:t+"/allMatch/"+C+"/oneOf/"+ue,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:gu.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===a?a=[ee]:a.push(ee),l++}}}else{const q={instancePath:t+"/allMatch/"+C+"/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[q]:a.push(q),l++}}}if((E=M===l)&&I)I=!1,k=[k,1];else{E&&(I=!0,k=1);const B=l;if(P&&"object"==typeof P&&!Array.isArray(P)){if(void 0===P.isActive){const ue={instancePath:t+"/allMatch/"+C,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===a?a=[ue]:a.push(ue),l++}if(void 0!==P.isActive&&"boolean"!=typeof P.isActive){const ue={instancePath:t+"/allMatch/"+C+"/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[ue]:a.push(ue),l++}}var E;(E=B===l)&&I?(I=!1,k=[k,2]):E&&(I=!0,k=2)}if(I)l=D,null!==a&&(D?a.length=D:a=null);else{const B={instancePath:t+"/allMatch/"+C,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:k},message:"must match exactly one schema in oneOf"};null===a?a=[B]:a.push(B),l++}if(P&&"object"==typeof P&&!Array.isArray(P)){if(void 0===P.property){const B={instancePath:t+"/allMatch/"+C,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===a?a=[B]:a.push(B),l++}if(void 0!==P.type&&"simple"!==P.type){const B={instancePath:t+"/allMatch/"+C+"/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===a?a=[B]:a.push(B),l++}if(void 0!==P.property&&"string"!=typeof P.property){const B={instancePath:t+"/allMatch/"+C+"/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[B]:a.push(B),l++}}else{const B={instancePath:t+"/allMatch/"+C,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[B]:a.push(B),l++}if(l>0){const B={required:{property:[]}},q={required:{}};let ue,H;for(const Q of a)"errorMessage"!==Q.keyword&&!Q.emUsed&&Q.instancePath===t+"/allMatch/"+C&&Q.keyword in B&&0===Q.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(Q.schemaPath.slice(68))&&(ue=zf[Q.keyword],H=B[Q.keyword][Q.params[ue]],H&&(H.push(Q),Q.emUsed=!0));for(const Q in B)for(const Ee in B[Q])if(H=B[Q][Ee],H.length){const Te=q[Q]&&q[Q][Ee],Ve={instancePath:t+"/allMatch/"+C,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:H},message:Te?Te():gu.errorMessage[Q][Ee]};null===a?a=[Ve]:a.push(Ve),l++}const ee=[];for(const Q of a)Q.emUsed||ee.push(Q);a=ee,l=ee.length}}}else{const w={instancePath:t+"/allMatch",schemaPath:"#/oneOf/1/properties/allMatch/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[w]:a.push(w),l++}}}var x;if((x=_===l)&&u?(u=!1,d=[d,1]):x&&(u=!0,d=1),u)l=c,null!==a&&(c?a.length=c:a=null);else{const b={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:d},message:"must match exactly one schema in oneOf"};null===a?a=[b]:a.push(b),l++}return GD.errors=a,0===l}function KD(n,{instancePath:t="",rootData:o=n}={}){let a=null,l=0;if(Array.isArray(n)){const de=n.length;for(let X=0;X<de;X++){let j=n[X];const R=l;let A=!0;const N=l;if(j&&"object"==typeof j&&!Array.isArray(j))if(void 0===j.type){const le={};null===a?a=[le]:a.push(le),l++}else if(void 0!==j.type&&"Dropdown"!==j.type){const le={};null===a?a=[le]:a.push(le),l++}var c=N===l;if(l=R,null!==a&&(R?a.length=R:a=null),c){const le=l;if(j&&"object"==typeof j&&!Array.isArray(j)&&void 0===j.choices){const at={instancePath:t+"/"+X,schemaPath:"#/allOf/0/items/allOf/0/then/required",keyword:"required",params:{missingProperty:"choices"},message:"must have required property 'choices'"};null===a?a=[at]:a.push(at),l++}if(l>0){const at=[];for(const yt of a)"errorMessage"!==yt.keyword&&!yt.emUsed&&(yt.instancePath===t+"/"+X||0===yt.instancePath.indexOf(t+"/"+X)&&"/"===yt.instancePath[t+"/"+X.length])&&0===yt.schemaPath.indexOf("#/allOf/0/items/allOf/0/then")&&"/"===yt.schemaPath[28]&&(at.push(yt),yt.emUsed=!0);if(at.length){const yt={instancePath:t+"/"+X,schemaPath:"#/allOf/0/items/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:at},message:'must provide choices=[] with "Dropdown" type'};null===a?a=[yt]:a.push(yt),l++}const st=[];for(const yt of a)yt.emUsed||st.push(yt);a=st,l=st.length}A=c=le===l}if(!A){const le={instancePath:t+"/"+X,schemaPath:"#/allOf/0/items/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[le]:a.push(le),l++}const z=l;let W=!0;const Ke=l;if(j&&"object"==typeof j&&!Array.isArray(j))if(void 0===j.id||void 0===j.condition){const le={};null===a?a=[le]:a.push(le),l++}else if(void 0!==j.condition){let le=j.condition;if(le&&"object"==typeof le&&!Array.isArray(le))if(void 0===le.property){const Ue={};null===a?a=[Ue]:a.push(Ue),l++}else if(void 0!==le.property&&!u4e(le.property,M7t.properties.property.const)){const Ue={};null===a?a=[Ue]:a.push(Ue),l++}}var u=Ke===l;if(l=z,null!==a&&(z?a.length=z:a=null),u){const le=l,Ue=l,at=l;if(j&&"object"==typeof j&&!Array.isArray(j)&&void 0===j.condition){const yt={};null===a?a=[yt]:a.push(yt),l++}if(at===l){const yt={instancePath:t+"/"+X,schemaPath:"#/allOf/0/items/allOf/1/allOf/0/then/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[yt]:a.push(yt),l++}else l=Ue,null!==a&&(Ue?a.length=Ue:a=null);if(l>0){const yt=[];for(const it of a)"errorMessage"!==it.keyword&&!it.emUsed&&(it.instancePath===t+"/"+X||0===it.instancePath.indexOf(t+"/"+X)&&"/"===it.instancePath[t+"/"+X.length])&&0===it.schemaPath.indexOf("#/allOf/0/items/allOf/1/allOf/0/then")&&"/"===it.schemaPath[36]&&(yt.push(it),it.emUsed=!0);if(yt.length){const it={instancePath:t+"/"+X,schemaPath:"#/allOf/0/items/allOf/1/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:yt},message:"Invalid condition.property, must be different than property.id"};null===a?a=[it]:a.push(it),l++}const Re=[];for(const it of a)it.emUsed||Re.push(it);a=Re,l=Re.length}W=u=le===l}if(!W){const le={instancePath:t+"/"+X,schemaPath:"#/allOf/0/items/allOf/1/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[le]:a.push(le),l++}if(j&&"object"==typeof j&&!Array.isArray(j)){if(void 0!==j.id&&"string"!=typeof j.id){const le={instancePath:t+"/"+X+"/id",schemaPath:"#/allOf/0/items/allOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[le]:a.push(le),l++}if(void 0!==j.condition){let le=j.condition;if(!le||"object"!=typeof le||Array.isArray(le)){const Z={instancePath:t+"/"+X+"/condition",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Z]:a.push(Z),l++}const Ue=l;let at=!1,st=null;const yt=l,Re=l;let it=!1,pt=null;const Jt=l;if(le&&"object"==typeof le&&!Array.isArray(le)){if(void 0===le.equals){const Z={instancePath:t+"/"+X+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===a?a=[Z]:a.push(Z),l++}if(void 0!==le.equals){let Z=le.equals;if("string"!=typeof Z&&"number"!=typeof Z&&"boolean"!=typeof Z){const je={instancePath:t+"/"+X+"/condition/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:gu.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===a?a=[je]:a.push(je),l++}}}(p=Jt===l)&&(it=!0,pt=0);const Ft=l;if(le&&"object"==typeof le&&!Array.isArray(le)){if(void 0===le.oneOf){const Z={instancePath:t+"/"+X+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===a?a=[Z]:a.push(Z),l++}if(void 0!==le.oneOf){let Z=le.oneOf;if(Array.isArray(Z)){const je=Z.length;for(let $e=0;$e<je;$e++){let he=Z[$e];if("string"!=typeof he&&"number"!=typeof he){const nt={instancePath:t+"/"+X+"/condition/oneOf/"+$e,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:gu.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===a?a=[nt]:a.push(nt),l++}}}else{const je={instancePath:t+"/"+X+"/condition/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[je]:a.push(je),l++}}}if((p=Ft===l)&&it)it=!1,pt=[pt,1];else{p&&(it=!0,pt=1);const Z=l;if(le&&"object"==typeof le&&!Array.isArray(le)){if(void 0===le.isActive){const $e={instancePath:t+"/"+X+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===a?a=[$e]:a.push($e),l++}if(void 0!==le.isActive&&"boolean"!=typeof le.isActive){const $e={instancePath:t+"/"+X+"/condition/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[$e]:a.push($e),l++}}var p;(p=Z===l)&&it?(it=!1,pt=[pt,2]):p&&(it=!0,pt=2)}if(it)l=Re,null!==a&&(Re?a.length=Re:a=null);else{const Z={instancePath:t+"/"+X+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:pt},message:"must match exactly one schema in oneOf"};null===a?a=[Z]:a.push(Z),l++}if(le&&"object"==typeof le&&!Array.isArray(le)){if(void 0===le.property){const Z={instancePath:t+"/"+X+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===a?a=[Z]:a.push(Z),l++}if(void 0!==le.type&&"simple"!==le.type){const Z={instancePath:t+"/"+X+"/condition/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===a?a=[Z]:a.push(Z),l++}if(void 0!==le.property&&"string"!=typeof le.property){const Z={instancePath:t+"/"+X+"/condition/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Z]:a.push(Z),l++}}else{const Z={instancePath:t+"/"+X+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Z]:a.push(Z),l++}if(l>0){const Z={required:{property:[]}},je={required:{}};let $e,he;for(const me of a)"errorMessage"!==me.keyword&&!me.emUsed&&me.instancePath===t+"/"+X+"/condition"&&me.keyword in Z&&0===me.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(me.schemaPath.slice(68))&&($e=zf[me.keyword],he=Z[me.keyword][me.params[$e]],he&&(he.push(me),me.emUsed=!0));for(const me in Z)for(const Ze in Z[me])if(he=Z[me][Ze],he.length){const ct=je[me]&&je[me][Ze],K={instancePath:t+"/"+X+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:he},message:ct?ct():gu.errorMessage[me][Ze]};null===a?a=[K]:a.push(K),l++}const nt=[];for(const me of a)me.emUsed||nt.push(me);a=nt,l=nt.length}yt===l&&(at=!0,st=0);const ze=l;if(le&&"object"==typeof le&&!Array.isArray(le)){if(void 0===le.allMatch){const Z={instancePath:t+"/"+X+"/condition",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"allMatch"},message:"must have required property 'allMatch'"};null===a?a=[Z]:a.push(Z),l++}if(void 0!==le.allMatch){let Z=le.allMatch;if(Array.isArray(Z)){if(Z.length<1){const $e={instancePath:t+"/"+X+"/condition/allMatch",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/oneOf/1/properties/allMatch/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===a?a=[$e]:a.push($e),l++}const je=Z.length;for(let $e=0;$e<je;$e++){let he=Z[$e];const nt=l;let me=!1,Ze=null;const ct=l;if(he&&"object"==typeof he&&!Array.isArray(he)){if(void 0===he.equals){const J={instancePath:t+"/"+X+"/condition/allMatch/"+$e,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===a?a=[J]:a.push(J),l++}if(void 0!==he.equals){let J=he.equals;if("string"!=typeof J&&"number"!=typeof J&&"boolean"!=typeof J){const fe={instancePath:t+"/"+X+"/condition/allMatch/"+$e+"/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:gu.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===a?a=[fe]:a.push(fe),l++}}}(f=ct===l)&&(me=!0,Ze=0);const K=l;if(he&&"object"==typeof he&&!Array.isArray(he)){if(void 0===he.oneOf){const J={instancePath:t+"/"+X+"/condition/allMatch/"+$e,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===a?a=[J]:a.push(J),l++}if(void 0!==he.oneOf){let J=he.oneOf;if(Array.isArray(J)){const fe=J.length;for(let Me=0;Me<fe;Me++){let vt=J[Me];if("string"!=typeof vt&&"number"!=typeof vt){const Rt={instancePath:t+"/"+X+"/condition/allMatch/"+$e+"/oneOf/"+Me,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:gu.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===a?a=[Rt]:a.push(Rt),l++}}}else{const fe={instancePath:t+"/"+X+"/condition/allMatch/"+$e+"/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[fe]:a.push(fe),l++}}}if((f=K===l)&&me)me=!1,Ze=[Ze,1];else{f&&(me=!0,Ze=1);const J=l;if(he&&"object"==typeof he&&!Array.isArray(he)){if(void 0===he.isActive){const Me={instancePath:t+"/"+X+"/condition/allMatch/"+$e,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===a?a=[Me]:a.push(Me),l++}if(void 0!==he.isActive&&"boolean"!=typeof he.isActive){const Me={instancePath:t+"/"+X+"/condition/allMatch/"+$e+"/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[Me]:a.push(Me),l++}}var f;(f=J===l)&&me?(me=!1,Ze=[Ze,2]):f&&(me=!0,Ze=2)}if(me)l=nt,null!==a&&(nt?a.length=nt:a=null);else{const J={instancePath:t+"/"+X+"/condition/allMatch/"+$e,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:Ze},message:"must match exactly one schema in oneOf"};null===a?a=[J]:a.push(J),l++}if(he&&"object"==typeof he&&!Array.isArray(he)){if(void 0===he.property){const J={instancePath:t+"/"+X+"/condition/allMatch/"+$e,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===a?a=[J]:a.push(J),l++}if(void 0!==he.type&&"simple"!==he.type){const J={instancePath:t+"/"+X+"/condition/allMatch/"+$e+"/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===a?a=[J]:a.push(J),l++}if(void 0!==he.property&&"string"!=typeof he.property){const J={instancePath:t+"/"+X+"/condition/allMatch/"+$e+"/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[J]:a.push(J),l++}}else{const J={instancePath:t+"/"+X+"/condition/allMatch/"+$e,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[J]:a.push(J),l++}if(l>0){const J={required:{property:[]}},fe={required:{}};let Me,vt;for(const ht of a)"errorMessage"!==ht.keyword&&!ht.emUsed&&ht.instancePath===t+"/"+X+"/condition/allMatch/"+$e&&ht.keyword in J&&0===ht.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(ht.schemaPath.slice(68))&&(Me=zf[ht.keyword],vt=J[ht.keyword][ht.params[Me]],vt&&(vt.push(ht),ht.emUsed=!0));for(const ht in J)for(const Wt in J[ht])if(vt=J[ht][Wt],vt.length){const Ie=fe[ht]&&fe[ht][Wt],ut={instancePath:t+"/"+X+"/condition/allMatch/"+$e,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:vt},message:Ie?Ie():gu.errorMessage[ht][Wt]};null===a?a=[ut]:a.push(ut),l++}const Rt=[];for(const ht of a)ht.emUsed||Rt.push(ht);a=Rt,l=Rt.length}}}else{const je={instancePath:t+"/"+X+"/condition/allMatch",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/oneOf/1/properties/allMatch/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[je]:a.push(je),l++}}}var h;if((h=ze===l)&&at?(at=!1,st=[st,1]):h&&(at=!0,st=1),at)l=Ue,null!==a&&(Ue?a.length=Ue:a=null);else{const Z={instancePath:t+"/"+X+"/condition",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/oneOf",keyword:"oneOf",params:{passingSchemas:st},message:"must match exactly one schema in oneOf"};null===a?a=[Z]:a.push(Z),l++}}}const tt=l;let Ge=!0;const Nt=l;if(j&&"object"==typeof j&&!Array.isArray(j))if(void 0===j.type){const le={};null===a?a=[le]:a.push(le),l++}else if(void 0!==j.type){const le=l,Ue=l;if("Number"!==j.type){const at={};null===a?a=[at]:a.push(at),l++}if(Ue===l){const at={};null===a?a=[at]:a.push(at),l++}else l=le,null!==a&&(le?a.length=le:a=null)}var g=Nt===l;if(l=tt,null!==a&&(tt?a.length=tt:a=null),g){const le=l;if(j&&"object"==typeof j&&!Array.isArray(j)&&void 0!==j.value){let at=j.value;if("string"!=typeof at&&"boolean"!=typeof at){const st={instancePath:t+"/"+X+"/value",schemaPath:"#/allOf/0/items/allOf/2/then/properties/value/type",keyword:"type",params:{type:xc.allOf[0].items.allOf[2].then.properties.value.type},message:"must be string,boolean"};null===a?a=[st]:a.push(st),l++}}Ge=g=le===l}if(!Ge){const le={instancePath:t+"/"+X,schemaPath:"#/allOf/0/items/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[le]:a.push(le),l++}const Ln=l;let Cr=!0;const At=l,an=l;let ae=!1;const Ye=l;if(j&&"object"==typeof j&&!Array.isArray(j))if(void 0===j.type){const le={};null===a?a=[le]:a.push(le),l++}else if(void 0!==j.type){let le=j.type;if("String"!==le&&"Text"!==le){const Ue={};null===a?a=[Ue]:a.push(Ue),l++}}Ye===l&&(ae=!0);const Et=l,Ct=l,re=l;if(j&&"object"==typeof j&&!Array.isArray(j)&&void 0===j.type){const le={};null===a?a=[le]:a.push(le),l++}var v;if(re===l){const le={};null===a?a=[le]:a.push(le),l++}else l=Ct,null!==a&&(Ct?a.length=Ct:a=null);if((v=Et===l)&&ae?ae=!1:v&&(ae=!0),ae)l=an,null!==a&&(an?a.length=an:a=null);else{const le={};null===a?a=[le]:a.push(le),l++}var _=At===l;let ve;if(l=Ln,null!==a&&(Ln?a.length=Ln:a=null),_){const le=l;if(j&&"object"==typeof j&&!Array.isArray(j)&&void 0!==j.placeholder&&"string"!=typeof j.placeholder){const at={instancePath:t+"/"+X+"/placeholder",schemaPath:"#/allOf/0/items/allOf/3/then/properties/placeholder/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[at]:a.push(at),l++}Cr=_=le===l,ve="then"}else{const le=l,Ue=l,at=l;if(j&&"object"==typeof j&&!Array.isArray(j)&&void 0===j.placeholder){const yt={};null===a?a=[yt]:a.push(yt),l++}if(at===l){const yt={instancePath:t+"/"+X,schemaPath:"#/allOf/0/items/allOf/3/else/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[yt]:a.push(yt),l++}else l=Ue,null!==a&&(Ue?a.length=Ue:a=null);Cr=_=le===l,ve="else"}if(!Cr){const le={instancePath:t+"/"+X,schemaPath:"#/allOf/0/items/allOf/3/if",keyword:"if",params:{failingKeyword:ve},message:'must match "'+ve+'" schema'};null===a?a=[le]:a.push(le),l++}if(j&&"object"==typeof j&&!Array.isArray(j)){if(void 0!==j.value){let le=j.value;if("string"!=typeof le&&"number"!=typeof le&&"boolean"!=typeof le){const Ue={instancePath:t+"/"+X+"/value",schemaPath:"#/allOf/0/items/properties/value/type",keyword:"type",params:{type:xc.allOf[0].items.properties.value.type},message:"must be string,number,boolean"};null===a?a=[Ue]:a.push(Ue),l++}}if(void 0!==j.description&&"string"!=typeof j.description){const le={instancePath:t+"/"+X+"/description",schemaPath:"#/allOf/0/items/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[le]:a.push(le),l++}if(void 0!==j.label&&"string"!=typeof j.label){const le={instancePath:t+"/"+X+"/label",schemaPath:"#/allOf/0/items/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[le]:a.push(le),l++}if(void 0!==j.type&&"string"!=typeof j.type){const le={instancePath:t+"/"+X+"/type",schemaPath:"#/allOf/0/items/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[le]:a.push(le),l++}if(void 0!==j.editable&&"boolean"!=typeof j.editable){const le={instancePath:t+"/"+X+"/editable",schemaPath:"#/allOf/0/items/properties/editable/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[le]:a.push(le),l++}if(void 0!==j.choices){let le=j.choices;if(Array.isArray(le)){const Ue=le.length;for(let at=0;at<Ue;at++){let st=le[at];if(st&&"object"==typeof st&&!Array.isArray(st)){if(void 0===st.value){const yt={instancePath:t+"/"+X+"/choices/"+at,schemaPath:"#/allOf/0/items/properties/choices/items/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===a?a=[yt]:a.push(yt),l++}if(void 0===st.name){const yt={instancePath:t+"/"+X+"/choices/"+at,schemaPath:"#/allOf/0/items/properties/choices/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===a?a=[yt]:a.push(yt),l++}if(void 0!==st.name&&"string"!=typeof st.name){const yt={instancePath:t+"/"+X+"/choices/"+at+"/name",schemaPath:"#/allOf/0/items/properties/choices/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[yt]:a.push(yt),l++}if(void 0!==st.value&&"string"!=typeof st.value){const yt={instancePath:t+"/"+X+"/choices/"+at+"/value",schemaPath:"#/allOf/0/items/properties/choices/items/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[yt]:a.push(yt),l++}void 0!==st.condition&&(GD(st.condition,{instancePath:t+"/"+X+"/choices/"+at+"/condition",parentData:st,parentDataProperty:"condition",rootData:o})||(a=null===a?GD.errors:a.concat(GD.errors),l=a.length))}else{const yt={instancePath:t+"/"+X+"/choices/"+at,schemaPath:"#/allOf/0/items/properties/choices/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[yt]:a.push(yt),l++}if(l>0){const yt={required:[]},Re={};for(const pt of a)"errorMessage"!==pt.keyword&&!pt.emUsed&&pt.instancePath===t+"/"+X+"/choices/"+at&&pt.keyword in yt&&0===pt.schemaPath.indexOf("#/allOf/0/items/properties/choices/items")&&/^\/[^\/]*$/.test(pt.schemaPath.slice(40))&&(yt[pt.keyword].push(pt),pt.emUsed=!0);for(const pt in yt)if(yt[pt].length){const Jt={instancePath:t+"/"+X+"/choices/"+at,schemaPath:"#/allOf/0/items/properties/choices/items/errorMessage",keyword:"errorMessage",params:{errors:yt[pt]},message:pt in Re?Re[pt]():xc.allOf[0].items.properties.choices.items.errorMessage[pt]};null===a?a=[Jt]:a.push(Jt),l++}const it=[];for(const pt of a)pt.emUsed||it.push(pt);a=it,l=it.length}}}else{const Ue={instancePath:t+"/"+X+"/choices",schemaPath:"#/allOf/0/items/properties/choices/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[Ue]:a.push(Ue),l++}}if(void 0!==j.constraints){let le=j.constraints;if(le&&"object"==typeof le&&!Array.isArray(le)){if(void 0!==le.notEmpty&&"boolean"!=typeof le.notEmpty){const Ue={instancePath:t+"/"+X+"/constraints/notEmpty",schemaPath:"#/allOf/0/items/properties/constraints/properties/notEmpty/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[Ue]:a.push(Ue),l++}if(void 0!==le.minLength&&"number"!=typeof le.minLength){const Ue={instancePath:t+"/"+X+"/constraints/minLength",schemaPath:"#/allOf/0/items/properties/constraints/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[Ue]:a.push(Ue),l++}if(void 0!==le.maxLength&&"number"!=typeof le.maxLength){const Ue={instancePath:t+"/"+X+"/constraints/maxLength",schemaPath:"#/allOf/0/items/properties/constraints/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[Ue]:a.push(Ue),l++}if(void 0!==le.pattern){let Ue=le.pattern;const at=l;let st=!1,yt=null;const Re=l;if(Ue&&"object"==typeof Ue&&!Array.isArray(Ue)){if(void 0!==Ue.value&&"string"!=typeof Ue.value){const pt={instancePath:t+"/"+X+"/constraints/pattern/value",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[pt]:a.push(pt),l++}if(void 0!==Ue.message&&"string"!=typeof Ue.message){const pt={instancePath:t+"/"+X+"/constraints/pattern/message",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/properties/message/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[pt]:a.push(pt),l++}}else{const pt={instancePath:t+"/"+X+"/constraints/pattern",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[pt]:a.push(pt),l++}Re===l&&(st=!0,yt=0);const it=l;if("string"!=typeof Ue){const pt={instancePath:t+"/"+X+"/constraints/pattern",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[pt]:a.push(pt),l++}var x;if((x=it===l)&&st?(st=!1,yt=[yt,1]):x&&(st=!0,yt=1),st)l=at,null!==a&&(at?a.length=at:a=null);else{const pt={instancePath:t+"/"+X+"/constraints/pattern",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf",keyword:"oneOf",params:{passingSchemas:yt},message:"must match exactly one schema in oneOf"};null===a?a=[pt]:a.push(pt),l++}}}else{const Ue={instancePath:t+"/"+X+"/constraints",schemaPath:"#/allOf/0/items/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Ue]:a.push(Ue),l++}}if(void 0!==j.group&&"string"!=typeof j.group){const le={instancePath:t+"/"+X+"/group",schemaPath:"#/allOf/0/items/properties/group/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[le]:a.push(le),l++}}else{const le={instancePath:t+"/"+X,schemaPath:"#/allOf/0/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[le]:a.push(le),l++}}}else{const de={instancePath:t,schemaPath:"#/allOf/0/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[de]:a.push(de),l++}if(Array.isArray(n)){const de=n.length;for(let X=0;X<de;X++){let j=n[X];const R=l;let A=!0;const N=l;if(j&&"object"==typeof j&&!Array.isArray(j))if(void 0===j.binding){const Z={};null===a?a=[Z]:a.push(Z),l++}else if(void 0!==j.binding){let Z=j.binding;if(Z&&"object"==typeof Z&&!Array.isArray(Z))if(void 0===Z.type){const je={};null===a?a=[je]:a.push(je),l++}else if(void 0!==Z.type&&"property"!==Z.type){const je={};null===a?a=[je]:a.push(je),l++}}var b=N===l;if(l=R,null!==a&&(R?a.length=R:a=null),b){const Z=l;if(j&&"object"==typeof j&&!Array.isArray(j)&&void 0!==j.type){let $e=j.type;if("String"!==$e&&"Text"!==$e&&"Hidden"!==$e&&"Dropdown"!==$e&&"Boolean"!==$e&&"Number"!==$e){const he={instancePath:t+"/"+X+"/type",schemaPath:"#/allOf/1/items/allOf/0/then/properties/type/enum",keyword:"enum",params:{allowedValues:xc.allOf[1].items.allOf[0].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===a?a=[he]:a.push(he),l++}if(l>0){const he=[];for(const me of a)"errorMessage"!==me.keyword&&!me.emUsed&&(me.instancePath===t+"/"+X+"/type"||0===me.instancePath.indexOf(t+"/"+X+"/type")&&"/"===me.instancePath[t+"/"+X+5])&&0===me.schemaPath.indexOf("#/allOf/1/items/allOf/0/then/properties/type")&&"/"===me.schemaPath[44]&&(he.push(me),me.emUsed=!0);if(he.length){const me={instancePath:t+"/"+X+"/type",schemaPath:"#/allOf/1/items/allOf/0/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:he},message:"invalid property type "+JSON.stringify($e)+' for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean, Number }'};null===a?a=[me]:a.push(me),l++}const nt=[];for(const me of a)me.emUsed||nt.push(me);a=nt,l=nt.length}}A=b=Z===l}if(!A){const Z={instancePath:t+"/"+X,schemaPath:"#/allOf/1/items/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Z]:a.push(Z),l++}const z=l;let W=!0;const Ke=l;if(j&&"object"==typeof j&&!Array.isArray(j))if(void 0===j.binding){const Z={};null===a?a=[Z]:a.push(Z),l++}else if(void 0!==j.binding){let Z=j.binding;if(Z&&"object"==typeof Z&&!Array.isArray(Z))if(void 0===Z.type){const je={};null===a?a=[je]:a.push(je),l++}else if(void 0!==Z.type){let je=Z.type;if("zeebe:input"!==je&&"zeebe:output"!==je&&"zeebe:property"!==je&&"zeebe:taskHeader"!==je&&"zeebe:taskDefinition:type"!==je&&"bpmn:Message#property"!==je&&"bpmn:Message#zeebe:subscription#property"!==je&&"zeebe:taskDefinition"!==je&&"zeebe:calledElement"!==je){const $e={};null===a?a=[$e]:a.push($e),l++}}}var w=Ke===l;if(l=z,null!==a&&(z?a.length=z:a=null),w){const Z=l;if(j&&"object"==typeof j&&!Array.isArray(j)&&void 0!==j.type){let $e=j.type;if("String"!==$e&&"Text"!==$e&&"Hidden"!==$e&&"Dropdown"!==$e&&"Boolean"!==$e&&"Number"!==$e){const he={instancePath:t+"/"+X+"/type",schemaPath:"#/allOf/1/items/allOf/1/then/properties/type/enum",keyword:"enum",params:{allowedValues:xc.allOf[1].items.allOf[1].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===a?a=[he]:a.push(he),l++}if(l>0){const he=[];for(const me of a)"errorMessage"!==me.keyword&&!me.emUsed&&(me.instancePath===t+"/"+X+"/type"||0===me.instancePath.indexOf(t+"/"+X+"/type")&&"/"===me.instancePath[t+"/"+X+5])&&0===me.schemaPath.indexOf("#/allOf/1/items/allOf/1/then/properties/type")&&"/"===me.schemaPath[44]&&(he.push(me),me.emUsed=!0);if(he.length){const me={instancePath:t+"/"+X+"/type",schemaPath:"#/allOf/1/items/allOf/1/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:he},message:"invalid property type "+JSON.stringify($e)+" for binding type "+JSON.stringify(j&&j.binding&&j.binding.type)+"; must be any of { String, Text, Hidden, Dropdown, Boolean, Number }"};null===a?a=[me]:a.push(me),l++}const nt=[];for(const me of a)me.emUsed||nt.push(me);a=nt,l=nt.length}}W=w=Z===l}if(!W){const Z={instancePath:t+"/"+X,schemaPath:"#/allOf/1/items/allOf/1/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Z]:a.push(Z),l++}const tt=l;let Ge=!0;const Nt=l;if(j&&"object"==typeof j&&!Array.isArray(j))if(void 0===j.optional){const Z={};null===a?a=[Z]:a.push(Z),l++}else if(void 0!==j.optional&&!0!==j.optional){const Z={};null===a?a=[Z]:a.push(Z),l++}var C=Nt===l;if(l=tt,null!==a&&(tt?a.length=tt:a=null),C){const Z=l;if(j&&"object"==typeof j&&!Array.isArray(j)&&void 0!==j.binding){let $e=j.binding;if($e&&"object"==typeof $e&&!Array.isArray($e)){if(void 0===$e.type){const he={instancePath:t+"/"+X+"/binding",schemaPath:"#/allOf/1/items/allOf/2/then/properties/binding/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===a?a=[he]:a.push(he),l++}if(void 0!==$e.type){let he=$e.type;if("zeebe:input"!==he&&"zeebe:output"!==he&&"zeebe:property"!==he&&"zeebe:taskHeader"!==he){const nt={instancePath:t+"/"+X+"/binding/type",schemaPath:"#/allOf/1/items/allOf/2/then/properties/binding/properties/type/enum",keyword:"enum",params:{allowedValues:xc.allOf[1].items.allOf[2].then.properties.binding.properties.type.enum},message:"must be equal to one of the allowed values"};null===a?a=[nt]:a.push(nt),l++}if(l>0){const nt=[];for(const Ze of a)"errorMessage"!==Ze.keyword&&!Ze.emUsed&&(Ze.instancePath===t+"/"+X+"/binding/type"||0===Ze.instancePath.indexOf(t+"/"+X+"/binding/type")&&"/"===Ze.instancePath[t+"/"+X+13])&&0===Ze.schemaPath.indexOf("#/allOf/1/items/allOf/2/then/properties/binding/properties/type")&&"/"===Ze.schemaPath[63]&&(nt.push(Ze),Ze.emUsed=!0);if(nt.length){const Ze={instancePath:t+"/"+X+"/binding/type",schemaPath:"#/allOf/1/items/allOf/2/then/properties/binding/properties/type/errorMessage",keyword:"errorMessage",params:{errors:nt},message:"optional is not supported for binding type "+JSON.stringify(he)+"; must be any of { zeebe:input, zeebe:output, zeebe:property, zeebe:taskHeader }"};null===a?a=[Ze]:a.push(Ze),l++}const me=[];for(const Ze of a)Ze.emUsed||me.push(Ze);a=me,l=me.length}}}}Ge=C=Z===l}if(!Ge){const Z={instancePath:t+"/"+X,schemaPath:"#/allOf/1/items/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Z]:a.push(Z),l++}const Ln=l;let Cr=!0;const At=l;if(j&&"object"==typeof j&&!Array.isArray(j))if(void 0===j.optional){const Z={};null===a?a=[Z]:a.push(Z),l++}else if(void 0!==j.optional&&!0!==j.optional){const Z={};null===a?a=[Z]:a.push(Z),l++}var P=At===l;if(l=Ln,null!==a&&(Ln?a.length=Ln:a=null),P){const Z=l;if(j&&"object"==typeof j&&!Array.isArray(j)&&void 0!==j.constraints){let $e=j.constraints;if($e&&"object"==typeof $e&&!Array.isArray($e)){if(void 0===$e.notEmpty){const he={instancePath:t+"/"+X+"/constraints",schemaPath:"#/allOf/1/items/allOf/3/then/properties/constraints/required",keyword:"required",params:{missingProperty:"notEmpty"},message:"must have required property 'notEmpty'"};null===a?a=[he]:a.push(he),l++}if(void 0!==$e.notEmpty){if(!1!==$e.notEmpty){const he={instancePath:t+"/"+X+"/constraints/notEmpty",schemaPath:"#/allOf/1/items/allOf/3/then/properties/constraints/properties/notEmpty/const",keyword:"const",params:{allowedValue:!1},message:"must be equal to constant"};null===a?a=[he]:a.push(he),l++}if(l>0){const he=[];for(const me of a)"errorMessage"!==me.keyword&&!me.emUsed&&(me.instancePath===t+"/"+X+"/constraints/notEmpty"||0===me.instancePath.indexOf(t+"/"+X+"/constraints/notEmpty")&&"/"===me.instancePath[t+"/"+X+21])&&0===me.schemaPath.indexOf("#/allOf/1/items/allOf/3/then/properties/constraints/properties/notEmpty")&&"/"===me.schemaPath[71]&&(he.push(me),me.emUsed=!0);if(he.length){const me={instancePath:t+"/"+X+"/constraints/notEmpty",schemaPath:"#/allOf/1/items/allOf/3/then/properties/constraints/properties/notEmpty/errorMessage",keyword:"errorMessage",params:{errors:he},message:'optional is not allowed for truthy "notEmpty" constraint'};null===a?a=[me]:a.push(me),l++}const nt=[];for(const me of a)me.emUsed||nt.push(me);a=nt,l=nt.length}}}}Cr=P=Z===l}if(!Cr){const Z={instancePath:t+"/"+X,schemaPath:"#/allOf/1/items/allOf/3/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Z]:a.push(Z),l++}const an=l;let ae=!0;const Ye=l;if(j&&"object"==typeof j&&!Array.isArray(j))if(void 0===j.feel){const Z={};null===a?a=[Z]:a.push(Z),l++}else if(void 0!==j.feel){const Z=l,je=l;if(null!==j.feel){const $e={};null===a?a=[$e]:a.push($e),l++}if(je===l){const $e={};null===a?a=[$e]:a.push($e),l++}else l=Z,null!==a&&(Z?a.length=Z:a=null)}var I=Ye===l;if(l=an,null!==a&&(an?a.length=an:a=null),I){const Z=l;if(j&&"object"==typeof j&&!Array.isArray(j)){if(void 0===j.type){const $e={instancePath:t+"/"+X,schemaPath:"#/allOf/1/items/allOf/4/then/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===a?a=[$e]:a.push($e),l++}if(void 0!==j.type){let $e=j.type;if("String"!==$e&&"Text"!==$e&&"Number"!==$e&&"Boolean"!==$e){const he={instancePath:t+"/"+X+"/type",schemaPath:"#/allOf/1/items/allOf/4/then/properties/type/enum",keyword:"enum",params:{allowedValues:xc.allOf[1].items.allOf[4].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===a?a=[he]:a.push(he),l++}if(l>0){const he=[];for(const me of a)"errorMessage"!==me.keyword&&!me.emUsed&&(me.instancePath===t+"/"+X+"/type"||0===me.instancePath.indexOf(t+"/"+X+"/type")&&"/"===me.instancePath[t+"/"+X+5])&&0===me.schemaPath.indexOf("#/allOf/1/items/allOf/4/then/properties/type")&&"/"===me.schemaPath[44]&&(he.push(me),me.emUsed=!0);if(he.length){const me={instancePath:t+"/"+X+"/type",schemaPath:"#/allOf/1/items/allOf/4/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:he},message:'feel is only supported for "String", "Text", "Number" and "Boolean" type'};null===a?a=[me]:a.push(me),l++}const nt=[];for(const me of a)me.emUsed||nt.push(me);a=nt,l=nt.length}}}ae=I=Z===l}if(!ae){const Z={instancePath:t+"/"+X,schemaPath:"#/allOf/1/items/allOf/4/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Z]:a.push(Z),l++}const Et=l;let Ct=!0;const re=l;if(j&&"object"==typeof j&&!Array.isArray(j))if(void 0===j.language){const Z={};null===a?a=[Z]:a.push(Z),l++}else if(void 0!==j.language){const Z=l,je=l;if(null!==j.language){const $e={};null===a?a=[$e]:a.push($e),l++}if(je===l){const $e={};null===a?a=[$e]:a.push($e),l++}else l=Z,null!==a&&(Z?a.length=Z:a=null)}var F=re===l;if(l=Et,null!==a&&(Et?a.length=Et:a=null),F){const Z=l;if(j&&"object"==typeof j&&!Array.isArray(j)&&void 0!==j.type){if("Text"!==j.type){const $e={instancePath:t+"/"+X+"/type",schemaPath:"#/allOf/1/items/allOf/5/then/properties/type/enum",keyword:"enum",params:{allowedValues:xc.allOf[1].items.allOf[5].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===a?a=[$e]:a.push($e),l++}if(l>0){const $e=[];for(const nt of a)"errorMessage"!==nt.keyword&&!nt.emUsed&&(nt.instancePath===t+"/"+X+"/type"||0===nt.instancePath.indexOf(t+"/"+X+"/type")&&"/"===nt.instancePath[t+"/"+X+5])&&0===nt.schemaPath.indexOf("#/allOf/1/items/allOf/5/then/properties/type")&&"/"===nt.schemaPath[44]&&($e.push(nt),nt.emUsed=!0);if($e.length){const nt={instancePath:t+"/"+X+"/type",schemaPath:"#/allOf/1/items/allOf/5/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:$e},message:'language is only supported for "Text" type'};null===a?a=[nt]:a.push(nt),l++}const he=[];for(const nt of a)nt.emUsed||he.push(nt);a=he,l=he.length}}Ct=F=Z===l}if(!Ct){const Z={instancePath:t+"/"+X,schemaPath:"#/allOf/1/items/allOf/5/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Z]:a.push(Z),l++}const ve=l;let le=!0;const Ue=l;if(j&&"object"==typeof j&&!Array.isArray(j)&&void 0===j.value){const Z={};null===a?a=[Z]:a.push(Z),l++}var M=Ue===l;if(l=ve,null!==a&&(ve?a.length=ve:a=null),M){const Z=l,je=l,$e=l;if(j&&"object"==typeof j&&!Array.isArray(j)&&void 0===j.generatedValue){const nt={};null===a?a=[nt]:a.push(nt),l++}if($e===l){const nt={instancePath:t+"/"+X,schemaPath:"#/allOf/1/items/allOf/6/then/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[nt]:a.push(nt),l++}else l=je,null!==a&&(je?a.length=je:a=null);le=M=Z===l}if(!le){const Z={instancePath:t+"/"+X,schemaPath:"#/allOf/1/items/allOf/6/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Z]:a.push(Z),l++}const at=l;let st=!0;const yt=l;if(j&&"object"==typeof j&&!Array.isArray(j))if(void 0===j.type){const Z={};null===a?a=[Z]:a.push(Z),l++}else if(void 0!==j.type){let Z=j.type;if("Boolean"!==Z&&"Dropdown"!==Z){const je={};null===a?a=[je]:a.push(je),l++}}var q=yt===l;if(l=at,null!==a&&(at?a.length=at:a=null),q){const Z=l,je=l,$e=l;if(j&&"object"==typeof j&&!Array.isArray(j)&&void 0===j.generatedValue){const nt={};null===a?a=[nt]:a.push(nt),l++}if($e===l){const nt={instancePath:t+"/"+X,schemaPath:"#/allOf/1/items/allOf/7/then/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[nt]:a.push(nt),l++}else l=je,null!==a&&(je?a.length=je:a=null);st=q=Z===l}if(!st){const Z={instancePath:t+"/"+X,schemaPath:"#/allOf/1/items/allOf/7/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Z]:a.push(Z),l++}const Re=l;let it=!0;const pt=l;if(j&&"object"==typeof j&&!Array.isArray(j))if(void 0===j.feel){const Z={};null===a?a=[Z]:a.push(Z),l++}else if(void 0!==j.type){let Z=j.type;if("String"!==Z&&"Text"!==Z){const je={};null===a?a=[je]:a.push(je),l++}}var H=pt===l;if(l=Re,null!==a&&(Re?a.length=Re:a=null),H){const Z=l;if(j&&"object"==typeof j&&!Array.isArray(j)&&void 0!==j.feel){let $e=j.feel;if("optional"!==$e&&"required"!==$e){const he={instancePath:t+"/"+X+"/feel",schemaPath:"#/allOf/1/items/allOf/8/then/properties/feel/enum",keyword:"enum",params:{allowedValues:xc.allOf[1].items.allOf[8].then.properties.feel.enum},message:"must be equal to one of the allowed values"};null===a?a=[he]:a.push(he),l++}}it=H=Z===l}if(!it){const Z={instancePath:t+"/"+X,schemaPath:"#/allOf/1/items/allOf/8/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Z]:a.push(Z),l++}const Jt=l;let Ft=!0;const ze=l;if(j&&"object"==typeof j&&!Array.isArray(j))if(void 0===j.feel){const Z={};null===a?a=[Z]:a.push(Z),l++}else if(void 0!==j.feel&&"required"!==j.feel){const Z={};null===a?a=[Z]:a.push(Z),l++}var ee=ze===l;if(l=Jt,null!==a&&(Jt?a.length=Jt:a=null),ee){const Z=l;if(j&&"object"==typeof j&&!Array.isArray(j)&&void 0!==j.value&&"string"!=typeof j.value){const $e={instancePath:t+"/"+X+"/value",schemaPath:"#/allOf/1/items/allOf/9/then/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[$e]:a.push($e),l++}Ft=ee=Z===l}if(!Ft){const Z={instancePath:t+"/"+X,schemaPath:"#/allOf/1/items/allOf/9/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Z]:a.push(Z),l++}if(j&&"object"==typeof j&&!Array.isArray(j)){if(void 0===j.binding){const Z={instancePath:t+"/"+X,schemaPath:"#/allOf/1/items/required",keyword:"required",params:{missingProperty:"binding"},message:"must have required property 'binding'"};null===a?a=[Z]:a.push(Z),l++}if(void 0!==j.binding){let Z=j.binding;const je=l;let $e=!0;const he=l;if(Z&&"object"==typeof Z&&!Array.isArray(Z))if(void 0===Z.type){const Ie={};null===a?a=[Ie]:a.push(Ie),l++}else if(void 0!==Z.type){let Ie=Z.type;if("property"!==Ie&&"zeebe:property"!==Ie&&"zeebe:input"!==Ie&&"bpmn:Message#property"!==Ie&&"bpmn:Message#zeebe:subscription#property"!==Ie){const ut={};null===a?a=[ut]:a.push(ut),l++}}var Q=he===l;if(l=je,null!==a&&(je?a.length=je:a=null),Q){const Ie=l;if(Z&&"object"==typeof Z&&!Array.isArray(Z)&&void 0===Z.name){const rt={instancePath:t+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/0/then/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===a?a=[rt]:a.push(rt),l++}if(l>0){const rt=[];for(const bt of a)"errorMessage"!==bt.keyword&&!bt.emUsed&&(bt.instancePath===t+"/"+X+"/binding"||0===bt.instancePath.indexOf(t+"/"+X+"/binding")&&"/"===bt.instancePath[t+"/"+X+8])&&0===bt.schemaPath.indexOf("#/allOf/1/items/properties/binding/allOf/0/then")&&"/"===bt.schemaPath[47]&&(rt.push(bt),bt.emUsed=!0);if(rt.length){const bt={instancePath:t+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:rt},message:"property.binding "+JSON.stringify(Z&&Z.type)+" requires name"};null===a?a=[bt]:a.push(bt),l++}const Ut=[];for(const bt of a)bt.emUsed||Ut.push(bt);a=Ut,l=Ut.length}$e=Q=Ie===l}if(!$e){const Ie={instancePath:t+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Ie]:a.push(Ie),l++}const nt=l;let me=!0;const Ze=l;if(Z&&"object"==typeof Z&&!Array.isArray(Z))if(void 0===Z.type){const Ie={};null===a?a=[Ie]:a.push(Ie),l++}else if(void 0!==Z.type&&"zeebe:output"!==Z.type){const Ie={};null===a?a=[Ie]:a.push(Ie),l++}var Ee=Ze===l;if(l=nt,null!==a&&(nt?a.length=nt:a=null),Ee){const Ie=l;if(Z&&"object"==typeof Z&&!Array.isArray(Z)&&void 0===Z.source){const rt={instancePath:t+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/1/then/required",keyword:"required",params:{missingProperty:"source"},message:"must have required property 'source'"};null===a?a=[rt]:a.push(rt),l++}if(l>0){const rt=[];for(const bt of a)"errorMessage"!==bt.keyword&&!bt.emUsed&&(bt.instancePath===t+"/"+X+"/binding"||0===bt.instancePath.indexOf(t+"/"+X+"/binding")&&"/"===bt.instancePath[t+"/"+X+8])&&0===bt.schemaPath.indexOf("#/allOf/1/items/properties/binding/allOf/1/then")&&"/"===bt.schemaPath[47]&&(rt.push(bt),bt.emUsed=!0);if(rt.length){const bt={instancePath:t+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/1/then/errorMessage",keyword:"errorMessage",params:{errors:rt},message:"property.binding "+JSON.stringify(Z&&Z.type)+" requires source"};null===a?a=[bt]:a.push(bt),l++}const Ut=[];for(const bt of a)bt.emUsed||Ut.push(bt);a=Ut,l=Ut.length}me=Ee=Ie===l}if(!me){const Ie={instancePath:t+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/1/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Ie]:a.push(Ie),l++}const ct=l;let K=!0;const J=l;if(Z&&"object"==typeof Z&&!Array.isArray(Z))if(void 0===Z.type){const Ie={};null===a?a=[Ie]:a.push(Ie),l++}else if(void 0!==Z.type&&"zeebe:taskHeader"!==Z.type){const Ie={};null===a?a=[Ie]:a.push(Ie),l++}var Te=J===l;if(l=ct,null!==a&&(ct?a.length=ct:a=null),Te){const Ie=l;if(Z&&"object"==typeof Z&&!Array.isArray(Z)&&void 0===Z.key){const rt={instancePath:t+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/2/then/required",keyword:"required",params:{missingProperty:"key"},message:"must have required property 'key'"};null===a?a=[rt]:a.push(rt),l++}if(l>0){const rt=[];for(const bt of a)"errorMessage"!==bt.keyword&&!bt.emUsed&&(bt.instancePath===t+"/"+X+"/binding"||0===bt.instancePath.indexOf(t+"/"+X+"/binding")&&"/"===bt.instancePath[t+"/"+X+8])&&0===bt.schemaPath.indexOf("#/allOf/1/items/properties/binding/allOf/2/then")&&"/"===bt.schemaPath[47]&&(rt.push(bt),bt.emUsed=!0);if(rt.length){const bt={instancePath:t+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/2/then/errorMessage",keyword:"errorMessage",params:{errors:rt},message:"property.binding "+JSON.stringify(Z&&Z.type)+" requires key"};null===a?a=[bt]:a.push(bt),l++}const Ut=[];for(const bt of a)bt.emUsed||Ut.push(bt);a=Ut,l=Ut.length}K=Te=Ie===l}if(!K){const Ie={instancePath:t+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Ie]:a.push(Ie),l++}const fe=l;let Me=!0;const vt=l;if(Z&&"object"==typeof Z&&!Array.isArray(Z))if(void 0===Z.type){const Ie={};null===a?a=[Ie]:a.push(Ie),l++}else if(void 0!==Z.type&&"zeebe:taskDefinition"!==Z.type){const Ie={};null===a?a=[Ie]:a.push(Ie),l++}var Ve=vt===l;if(l=fe,null!==a&&(fe?a.length=fe:a=null),Ve){const Ie=l;if(Z&&"object"==typeof Z&&!Array.isArray(Z)){if(void 0===Z.property){const rt={instancePath:t+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===a?a=[rt]:a.push(rt),l++}if(void 0!==Z.property){let rt=Z.property;if("type"!==rt&&"retries"!==rt){const Ut={instancePath:t+"/"+X+"/binding/property",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/properties/property/enum",keyword:"enum",params:{allowedValues:xc.allOf[1].items.properties.binding.allOf[3].then.properties.property.enum},message:"must be equal to one of the allowed values"};null===a?a=[Ut]:a.push(Ut),l++}}}Me=Ve=Ie===l}if(!Me){const Ie={instancePath:t+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Ie]:a.push(Ie),l++}const Rt=l;let ht=!0;const Wt=l;if(Z&&"object"==typeof Z&&!Array.isArray(Z))if(void 0===Z.type){const Ie={};null===a?a=[Ie]:a.push(Ie),l++}else if(void 0!==Z.type&&"zeebe:calledElement"!==Z.type){const Ie={};null===a?a=[Ie]:a.push(Ie),l++}var Pe=Wt===l;if(l=Rt,null!==a&&(Rt?a.length=Rt:a=null),Pe){const Ie=l;if(Z&&"object"==typeof Z&&!Array.isArray(Z)){if(void 0===Z.property){const rt={instancePath:t+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/5/then/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===a?a=[rt]:a.push(rt),l++}if(void 0!==Z.property&&"processId"!==Z.property){const rt={instancePath:t+"/"+X+"/binding/property",schemaPath:"#/allOf/1/items/properties/binding/allOf/5/then/properties/property/const",keyword:"const",params:{allowedValue:"processId"},message:"must be equal to constant"};null===a?a=[rt]:a.push(rt),l++}}ht=Pe=Ie===l}if(!ht){const Ie={instancePath:t+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/5/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[Ie]:a.push(Ie),l++}if(Z&&"object"==typeof Z&&!Array.isArray(Z)){if(void 0===Z.type){const Ie={instancePath:t+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===a?a=[Ie]:a.push(Ie),l++}if(void 0!==Z.type){let Ie=Z.type;if("string"!=typeof Ie){const ut={instancePath:t+"/"+X+"/binding/type",schemaPath:"#/allOf/1/items/properties/binding/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ut]:a.push(ut),l++}if("property"!==Ie&&"zeebe:taskDefinition:type"!==Ie&&"zeebe:input"!==Ie&&"zeebe:output"!==Ie&&"zeebe:property"!==Ie&&"zeebe:taskHeader"!==Ie&&"bpmn:Message#property"!==Ie&&"bpmn:Message#zeebe:subscription#property"!==Ie&&"zeebe:taskDefinition"!==Ie&&"zeebe:calledElement"!==Ie){const ut={instancePath:t+"/"+X+"/binding/type",schemaPath:"#/allOf/1/items/properties/binding/properties/type/enum",keyword:"enum",params:{allowedValues:xc.allOf[1].items.properties.binding.properties.type.enum},message:"must be equal to one of the allowed values"};null===a?a=[ut]:a.push(ut),l++}if(l>0){const ut=[];for(const Ut of a)"errorMessage"!==Ut.keyword&&!Ut.emUsed&&(Ut.instancePath===t+"/"+X+"/binding/type"||0===Ut.instancePath.indexOf(t+"/"+X+"/binding/type")&&"/"===Ut.instancePath[t+"/"+X+13])&&0===Ut.schemaPath.indexOf("#/allOf/1/items/properties/binding/properties/type")&&"/"===Ut.schemaPath[50]&&(ut.push(Ut),Ut.emUsed=!0);if(ut.length){const Ut={instancePath:t+"/"+X+"/binding/type",schemaPath:"#/allOf/1/items/properties/binding/properties/type/errorMessage",keyword:"errorMessage",params:{errors:ut},message:"invalid property.binding type "+JSON.stringify(Ie)+"; must be any of { property, zeebe:taskDefinition:type, zeebe:input, zeebe:output, zeebe:property, zeebe:taskHeader, bpmn:Message#property, bpmn:Message#zeebe:subscription#property }"};null===a?a=[Ut]:a.push(Ut),l++}const rt=[];for(const Ut of a)Ut.emUsed||rt.push(Ut);a=rt,l=rt.length}}if(void 0!==Z.name&&"string"!=typeof Z.name){const Ie={instancePath:t+"/"+X+"/binding/name",schemaPath:"#/allOf/1/items/properties/binding/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ie]:a.push(Ie),l++}if(void 0!==Z.source&&"string"!=typeof Z.source){const Ie={instancePath:t+"/"+X+"/binding/source",schemaPath:"#/allOf/1/items/properties/binding/properties/source/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ie]:a.push(Ie),l++}if(void 0!==Z.key&&"string"!=typeof Z.key){const Ie={instancePath:t+"/"+X+"/binding/key",schemaPath:"#/allOf/1/items/properties/binding/properties/key/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ie]:a.push(Ie),l++}if(void 0!==Z.property&&"string"!=typeof Z.property){const Ie={instancePath:t+"/"+X+"/binding/property",schemaPath:"#/allOf/1/items/properties/binding/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ie]:a.push(Ie),l++}}else{const Ie={instancePath:t+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Ie]:a.push(Ie),l++}}if(void 0!==j.optional&&"boolean"!=typeof j.optional){const Z={instancePath:t+"/"+X+"/optional",schemaPath:"#/allOf/1/items/properties/optional/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[Z]:a.push(Z),l++}if(void 0!==j.feel){let Z=j.feel;if("string"!=typeof Z){const je={instancePath:t+"/"+X+"/feel",schemaPath:"#/allOf/1/items/properties/feel/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[je]:a.push(je),l++}if("optional"!==Z&&"required"!==Z&&"static"!==Z){const je={instancePath:t+"/"+X+"/feel",schemaPath:"#/allOf/1/items/properties/feel/enum",keyword:"enum",params:{allowedValues:xc.allOf[1].items.properties.feel.enum},message:"must be equal to one of the allowed values"};null===a?a=[je]:a.push(je),l++}}if(void 0!==j.language&&"string"!=typeof j.language){const Z={instancePath:t+"/"+X+"/language",schemaPath:"#/allOf/1/items/properties/language/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Z]:a.push(Z),l++}if(void 0!==j.generatedValue){let Z=j.generatedValue;if(Z&&"object"==typeof Z&&!Array.isArray(Z)){if(void 0===Z.type){const je={instancePath:t+"/"+X+"/generatedValue",schemaPath:"#/allOf/1/items/properties/generatedValue/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===a?a=[je]:a.push(je),l++}if(void 0!==Z.type&&"uuid"!==Z.type){const je={instancePath:t+"/"+X+"/generatedValue/type",schemaPath:"#/allOf/1/items/properties/generatedValue/properties/type/const",keyword:"const",params:{allowedValue:"uuid"},message:"must be equal to constant"};null===a?a=[je]:a.push(je),l++}}else{const je={instancePath:t+"/"+X+"/generatedValue",schemaPath:"#/allOf/1/items/properties/generatedValue/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[je]:a.push(je),l++}}if(void 0!==j.tooltip&&"string"!=typeof j.tooltip){const Z={instancePath:t+"/"+X+"/tooltip",schemaPath:"#/allOf/1/items/properties/tooltip/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Z]:a.push(Z),l++}}else{const Z={instancePath:t+"/"+X,schemaPath:"#/allOf/1/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Z]:a.push(Z),l++}if(l>0){const Z={required:{binding:[]}},je={required:{binding:function(){return'missing binding for property "'+JSON.stringify(X)+'"'}}};let $e,he;for(const me of a)"errorMessage"!==me.keyword&&!me.emUsed&&me.instancePath===t+"/"+X&&me.keyword in Z&&0===me.schemaPath.indexOf("#/allOf/1/items")&&/^\/[^\/]*$/.test(me.schemaPath.slice(15))&&($e=zf[me.keyword],he=Z[me.keyword][me.params[$e]],he&&(he.push(me),me.emUsed=!0));for(const me in Z)for(const Ze in Z[me])if(he=Z[me][Ze],he.length){const ct=je[me]&&je[me][Ze],K={instancePath:t+"/"+X,schemaPath:"#/allOf/1/items/errorMessage",keyword:"errorMessage",params:{errors:he},message:ct?ct():xc.allOf[1].items.errorMessage[me][Ze]};null===a?a=[K]:a.push(K),l++}const nt=[];for(const me of a)me.emUsed||nt.push(me);a=nt,l=nt.length}}}else{const de={instancePath:t,schemaPath:"#/allOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[de]:a.push(de),l++}return KD.errors=a,0===l}function D1(n,{instancePath:t="",rootData:o=n}={}){let a=null,l=0;if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.name){const k={instancePath:t,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===a?a=[k]:a.push(k),l++}if(void 0===n.id){const k={instancePath:t,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'"};null===a?a=[k]:a.push(k),l++}if(void 0===n.appliesTo){const k={instancePath:t,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:"appliesTo"},message:"must have required property 'appliesTo'"};null===a?a=[k]:a.push(k),l++}if(void 0===n.properties){const k={instancePath:t,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:"properties"},message:"must have required property 'properties'"};null===a?a=[k]:a.push(k),l++}if(void 0!==n.name&&"string"!=typeof n.name){const k={instancePath:t+"/name",schemaPath:"#/allOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[k]:a.push(k),l++}if(void 0!==n.id&&"string"!=typeof n.id){const k={instancePath:t+"/id",schemaPath:"#/allOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[k]:a.push(k),l++}if(void 0!==n.description&&"string"!=typeof n.description){const k={instancePath:t+"/description",schemaPath:"#/allOf/0/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[k]:a.push(k),l++}if(void 0!==n.version){let k=n.version;if("number"!=typeof k||k%1||isNaN(k)){const F={instancePath:t+"/version",schemaPath:"#/allOf/0/properties/version/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===a?a=[F]:a.push(F),l++}}if(void 0!==n.isDefault&&"boolean"!=typeof n.isDefault){const k={instancePath:t+"/isDefault",schemaPath:"#/allOf/0/properties/isDefault/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[k]:a.push(k),l++}if(void 0!==n.deprecated){let k=n.deprecated;if("boolean"!=typeof k&&(!k||"object"!=typeof k||Array.isArray(k))){const F={instancePath:t+"/deprecated",schemaPath:"#/allOf/0/properties/deprecated/type",keyword:"type",params:{type:al.allOf[0].properties.deprecated.type},message:"must be boolean,object"};null===a?a=[F]:a.push(F),l++}if(k&&"object"==typeof k&&!Array.isArray(k)){if(void 0!==k.message&&"string"!=typeof k.message){const F={instancePath:t+"/deprecated/message",schemaPath:"#/allOf/0/properties/deprecated/properties/message/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[F]:a.push(F),l++}if(void 0!==k.documentationRef){let F=k.documentationRef;if("string"==typeof F){if(!l4e.test(F)){const M={instancePath:t+"/deprecated/documentationRef",schemaPath:"#/allOf/0/properties/deprecated/properties/documentationRef/pattern",keyword:"pattern",params:{pattern:"^(https|http)://.*"},message:'must match pattern "^(https|http)://.*"'};null===a?a=[M]:a.push(M),l++}}else{const M={instancePath:t+"/deprecated/documentationRef",schemaPath:"#/allOf/0/properties/deprecated/properties/documentationRef/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[M]:a.push(M),l++}}}}if(void 0!==n.appliesTo){let k=n.appliesTo;if(Array.isArray(k)){const F=k.length;for(let M=0;M<F;M++){let B=k[M];if("string"==typeof B){if(!c4e.test(B)){const q={instancePath:t+"/appliesTo/"+M,schemaPath:"#/allOf/0/properties/appliesTo/items/pattern",keyword:"pattern",params:{pattern:"^[\\w\\d]+:[\\w\\d]+$"},message:'must match pattern "^[\\w\\d]+:[\\w\\d]+$"'};null===a?a=[q]:a.push(q),l++}}else{const q={instancePath:t+"/appliesTo/"+M,schemaPath:"#/allOf/0/properties/appliesTo/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[q]:a.push(q),l++}if(l>0){const q={pattern:[]},ue={};for(const ee of a)"errorMessage"!==ee.keyword&&!ee.emUsed&&ee.instancePath===t+"/appliesTo/"+M&&ee.keyword in q&&0===ee.schemaPath.indexOf("#/allOf/0/properties/appliesTo/items")&&/^\/[^\/]*$/.test(ee.schemaPath.slice(36))&&(q[ee.keyword].push(ee),ee.emUsed=!0);for(const ee in q)if(q[ee].length){const Q={instancePath:t+"/appliesTo/"+M,schemaPath:"#/allOf/0/properties/appliesTo/items/errorMessage",keyword:"errorMessage",params:{errors:q[ee]},message:ee in ue?ue[ee]():al.allOf[0].properties.appliesTo.items.errorMessage[ee]};null===a?a=[Q]:a.push(Q),l++}const H=[];for(const ee of a)ee.emUsed||H.push(ee);a=H,l=H.length}}}else{const F={instancePath:t+"/appliesTo",schemaPath:"#/allOf/0/properties/appliesTo/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[F]:a.push(F),l++}}if(void 0!==n.elementType){let k=n.elementType;if(k&&"object"==typeof k&&!Array.isArray(k)){if(void 0===k.value){const F={instancePath:t+"/elementType",schemaPath:"#/allOf/0/properties/elementType/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===a?a=[F]:a.push(F),l++}if(void 0!==k.value){let F=k.value;if("string"==typeof F){if(!c4e.test(F)){const M={instancePath:t+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/pattern",keyword:"pattern",params:{pattern:"^[\\w\\d]+:[\\w\\d]+$"},message:'must match pattern "^[\\w\\d]+:[\\w\\d]+$"'};null===a?a=[M]:a.push(M),l++}}else{const M={instancePath:t+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[M]:a.push(M),l++}if(l>0){const M={pattern:[]},B={};for(const ue of a)"errorMessage"!==ue.keyword&&!ue.emUsed&&ue.instancePath===t+"/elementType/value"&&ue.keyword in M&&0===ue.schemaPath.indexOf("#/allOf/0/properties/elementType/properties/value")&&/^\/[^\/]*$/.test(ue.schemaPath.slice(49))&&(M[ue.keyword].push(ue),ue.emUsed=!0);for(const ue in M)if(M[ue].length){const H={instancePath:t+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/errorMessage",keyword:"errorMessage",params:{errors:M[ue]},message:ue in B?B[ue]():al.allOf[0].properties.elementType.properties.value.errorMessage[ue]};null===a?a=[H]:a.push(H),l++}const q=[];for(const ue of a)ue.emUsed||q.push(ue);a=q,l=q.length}}}else{const F={instancePath:t+"/elementType",schemaPath:"#/allOf/0/properties/elementType/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[F]:a.push(F),l++}if(l>0){const F={required:{value:[]}},M={required:{}};let B,q;for(const H of a)"errorMessage"!==H.keyword&&!H.emUsed&&H.instancePath===t+"/elementType"&&H.keyword in F&&0===H.schemaPath.indexOf("#/allOf/0/properties/elementType")&&/^\/[^\/]*$/.test(H.schemaPath.slice(32))&&(B=zf[H.keyword],q=F[H.keyword][H.params[B]],q&&(q.push(H),H.emUsed=!0));for(const H in F)for(const ee in F[H])if(q=F[H][ee],q.length){const Q=M[H]&&M[H][ee],Ee={instancePath:t+"/elementType",schemaPath:"#/allOf/0/properties/elementType/errorMessage",keyword:"errorMessage",params:{errors:q},message:Q?Q():al.allOf[0].properties.elementType.errorMessage[H][ee]};null===a?a=[Ee]:a.push(Ee),l++}const ue=[];for(const H of a)H.emUsed||ue.push(H);a=ue,l=ue.length}}if(void 0!==n.metadata){let k=n.metadata;if(!k||"object"!=typeof k||Array.isArray(k)){const F={instancePath:t+"/metadata",schemaPath:"#/allOf/0/properties/metadata/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[F]:a.push(F),l++}}if(void 0!==n.entriesVisible&&"boolean"!=typeof n.entriesVisible){const k={instancePath:t+"/entriesVisible",schemaPath:"#/allOf/0/properties/entriesVisible/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[k]:a.push(k),l++}if(void 0!==n.groups){let k=n.groups;if(Array.isArray(k)){const F=k.length;for(let M=0;M<F;M++){let B=k[M];if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0===B.id){const q={instancePath:t+"/groups/"+M,schemaPath:"#/allOf/0/properties/groups/items/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'"};null===a?a=[q]:a.push(q),l++}if(void 0===B.label){const q={instancePath:t+"/groups/"+M,schemaPath:"#/allOf/0/properties/groups/items/required",keyword:"required",params:{missingProperty:"label"},message:"must have required property 'label'"};null===a?a=[q]:a.push(q),l++}if(void 0!==B.id&&"string"!=typeof B.id){const q={instancePath:t+"/groups/"+M+"/id",schemaPath:"#/allOf/0/properties/groups/items/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[q]:a.push(q),l++}if(void 0!==B.label&&"string"!=typeof B.label){const q={instancePath:t+"/groups/"+M+"/label",schemaPath:"#/allOf/0/properties/groups/items/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[q]:a.push(q),l++}}else{const q={instancePath:t+"/groups/"+M,schemaPath:"#/allOf/0/properties/groups/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[q]:a.push(q),l++}if(l>0){const q={required:{id:[],label:[]}},ue={required:{id:function(){return'missing id for group "'+JSON.stringify(M)+'"'},label:function(){return'missing label for group "'+JSON.stringify(M)+'"'}}};let H,ee;for(const Ee of a)"errorMessage"!==Ee.keyword&&!Ee.emUsed&&Ee.instancePath===t+"/groups/"+M&&Ee.keyword in q&&0===Ee.schemaPath.indexOf("#/allOf/0/properties/groups/items")&&/^\/[^\/]*$/.test(Ee.schemaPath.slice(33))&&(H=zf[Ee.keyword],ee=q[Ee.keyword][Ee.params[H]],ee&&(ee.push(Ee),Ee.emUsed=!0));for(const Ee in q)for(const Te in q[Ee])if(ee=q[Ee][Te],ee.length){const Ve=ue[Ee]&&ue[Ee][Te],Pe={instancePath:t+"/groups/"+M,schemaPath:"#/allOf/0/properties/groups/items/errorMessage",keyword:"errorMessage",params:{errors:ee},message:Ve?Ve():al.allOf[0].properties.groups.items.errorMessage[Ee][Te]};null===a?a=[Pe]:a.push(Pe),l++}const Q=[];for(const Ee of a)Ee.emUsed||Q.push(Ee);a=Q,l=Q.length}}}else{const F={instancePath:t+"/groups",schemaPath:"#/allOf/0/properties/groups/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[F]:a.push(F),l++}}if(void 0!==n.documentationRef){let k=n.documentationRef;if("string"==typeof k){if(!l4e.test(k)){const F={instancePath:t+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/pattern",keyword:"pattern",params:{pattern:"^(https|http)://.*"},message:'must match pattern "^(https|http)://.*"'};null===a?a=[F]:a.push(F),l++}}else{const F={instancePath:t+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[F]:a.push(F),l++}if(l>0){const F={pattern:[]},M={};for(const q of a)"errorMessage"!==q.keyword&&!q.emUsed&&q.instancePath===t+"/documentationRef"&&q.keyword in F&&0===q.schemaPath.indexOf("#/allOf/0/properties/documentationRef")&&/^\/[^\/]*$/.test(q.schemaPath.slice(37))&&(F[q.keyword].push(q),q.emUsed=!0);for(const q in F)if(F[q].length){const ue={instancePath:t+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/errorMessage",keyword:"errorMessage",params:{errors:F[q]},message:q in M?M[q]():al.allOf[0].properties.documentationRef.errorMessage[q]};null===a?a=[ue]:a.push(ue),l++}const B=[];for(const q of a)q.emUsed||B.push(q);a=B,l=B.length}}}if(l>0){const k={required:{name:[],id:[],appliesTo:[],properties:[]}},F={required:{}};let M,B;for(const ue of a)"errorMessage"!==ue.keyword&&!ue.emUsed&&ue.instancePath===t&&ue.keyword in k&&0===ue.schemaPath.indexOf("#/allOf/0")&&/^\/[^\/]*$/.test(ue.schemaPath.slice(9))&&(M=zf[ue.keyword],B=k[ue.keyword][ue.params[M]],B&&(B.push(ue),ue.emUsed=!0));for(const ue in k)for(const H in k[ue])if(B=k[ue][H],B.length){const ee=F[ue]&&F[ue][H],Q={instancePath:t,schemaPath:"#/allOf/0/errorMessage",keyword:"errorMessage",params:{errors:B},message:ee?ee():al.allOf[0].errorMessage[ue][H]};null===a?a=[Q]:a.push(Q),l++}const q=[];for(const ue of a)ue.emUsed||q.push(ue);a=q,l=q.length}const c=l;let u=!0;const d=l;if(n&&"object"==typeof n&&!Array.isArray(n))if(void 0===n.properties){const k={};null===a?a=[k]:a.push(k),l++}else if(void 0!==n.properties){let k=n.properties;if(Array.isArray(k)){const F=l,M=k.length;for(let B=0;B<M;B++){let q=k[B];const ue=l;if(q&&"object"==typeof q&&!Array.isArray(q))if(void 0===q.binding){const H={};null===a?a=[H]:a.push(H),l++}else if(void 0!==q.binding){let H=q.binding;if(H&&"object"==typeof H&&!Array.isArray(H))if(void 0===H.type){const ee={};null===a?a=[ee]:a.push(ee),l++}else if(void 0!==H.type&&"bpmn:Message#property"!==H.type){const ee={};null===a?a=[ee]:a.push(ee),l++}}var p=ue===l;if(p)break}if(p)l=F,null!==a&&(F?a.length=F:a=null);else{const B={};null===a?a=[B]:a.push(B),l++}}}var f=d===l;if(l=c,null!==a&&(c?a.length=c:a=null),f){const k=l;if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.elementType){const M={instancePath:t,schemaPath:"#/allOf/1/allOf/0/then/required",keyword:"required",params:{missingProperty:"elementType"},message:"must have required property 'elementType'"};null===a?a=[M]:a.push(M),l++}if(void 0!==n.elementType){let M=n.elementType;const B=l;let q=!0;const ue=l;if(M&&"object"==typeof M&&!Array.isArray(M)&&void 0!==M.value){let H=M.value;if("bpmn:StartEvent"!==H&&"bpmn:IntermediateCatchEvent"!==H&&"bpmn:IntermediateThrowEvent"!==H&&"bpmn:BoundaryEvent"!==H&&"bpmn:EndEvent"!==H){const ee={};null===a?a=[ee]:a.push(ee),l++}}var h=ue===l;if(l=B,null!==a&&(B?a.length=B:a=null),h){const H=l;if(M&&"object"==typeof M&&!Array.isArray(M)&&void 0===M.eventDefinition){const Q={instancePath:t+"/elementType",schemaPath:"#/allOf/1/allOf/0/then/properties/elementType/allOf/0/then/required",keyword:"required",params:{missingProperty:"eventDefinition"},message:"must have required property 'eventDefinition'"};null===a?a=[Q]:a.push(Q),l++}q=h=H===l}if(!q){const H={instancePath:t+"/elementType",schemaPath:"#/allOf/1/allOf/0/then/properties/elementType/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[H]:a.push(H),l++}if(M&&"object"==typeof M&&!Array.isArray(M)){if(void 0===M.value){const H={instancePath:t+"/elementType",schemaPath:"#/allOf/1/allOf/0/then/properties/elementType/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===a?a=[H]:a.push(H),l++}if(void 0!==M.value){let H=M.value;if("bpmn:ReceiveTask"!==H&&"bpmn:SendTask"!==H&&"bpmn:StartEvent"!==H&&"bpmn:IntermediateCatchEvent"!==H&&"bpmn:IntermediateThrowEvent"!==H&&"bpmn:BoundaryEvent"!==H&&"bpmn:EndEvent"!==H){const ee={instancePath:t+"/elementType/value",schemaPath:"#/allOf/1/allOf/0/then/properties/elementType/properties/value/enum",keyword:"enum",params:{allowedValues:al.allOf[1].allOf[0].then.properties.elementType.properties.value.enum},message:"must be equal to one of the allowed values"};null===a?a=[ee]:a.push(ee),l++}}}}}u=f=k===l}if(!u){const k={instancePath:t,schemaPath:"#/allOf/1/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[k]:a.push(k),l++}const m=l;let g=!0;const y=l;if(n&&"object"==typeof n&&!Array.isArray(n))if(void 0===n.properties){const k={};null===a?a=[k]:a.push(k),l++}else if(void 0!==n.properties){let k=n.properties;if(Array.isArray(k)){const F=l,M=k.length;for(let B=0;B<M;B++){let q=k[B];const ue=l;if(q&&"object"==typeof q&&!Array.isArray(q))if(void 0===q.binding){const H={};null===a?a=[H]:a.push(H),l++}else if(void 0!==q.binding){let H=q.binding;if(H&&"object"==typeof H&&!Array.isArray(H))if(void 0===H.type){const ee={};null===a?a=[ee]:a.push(ee),l++}else if(void 0!==H.type&&"bpmn:Message#zeebe:subscription#property"!==H.type){const ee={};null===a?a=[ee]:a.push(ee),l++}}var v=ue===l;if(v)break}if(v)l=F,null!==a&&(F?a.length=F:a=null);else{const B={};null===a?a=[B]:a.push(B),l++}}}var _=y===l;if(l=m,null!==a&&(m?a.length=m:a=null),_){const k=l;if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.elementType){const M={instancePath:t,schemaPath:"#/allOf/1/allOf/1/then/required",keyword:"required",params:{missingProperty:"elementType"},message:"must have required property 'elementType'"};null===a?a=[M]:a.push(M),l++}if(void 0!==n.elementType){let M=n.elementType;const B=l;let q=!0;const ue=l;if(M&&"object"==typeof M&&!Array.isArray(M)&&void 0!==M.value){let H=M.value;if("bpmn:StartEvent"!==H&&"bpmn:IntermediateCatchEvent"!==H&&"bpmn:IntermediateThrowEvent"!==H&&"bpmn:BoundaryEvent"!==H&&"bpmn:EndEvent"!==H){const ee={};null===a?a=[ee]:a.push(ee),l++}}var E=ue===l;if(l=B,null!==a&&(B?a.length=B:a=null),E){const H=l;if(M&&"object"==typeof M&&!Array.isArray(M)&&void 0===M.eventDefinition){const Q={instancePath:t+"/elementType",schemaPath:"#/allOf/1/allOf/1/then/properties/elementType/allOf/0/then/required",keyword:"required",params:{missingProperty:"eventDefinition"},message:"must have required property 'eventDefinition'"};null===a?a=[Q]:a.push(Q),l++}q=E=H===l}if(!q){const H={instancePath:t+"/elementType",schemaPath:"#/allOf/1/allOf/1/then/properties/elementType/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[H]:a.push(H),l++}if(M&&"object"==typeof M&&!Array.isArray(M)){if(void 0===M.value){const H={instancePath:t+"/elementType",schemaPath:"#/allOf/1/allOf/1/then/properties/elementType/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===a?a=[H]:a.push(H),l++}if(void 0!==M.value){let H=M.value;if("bpmn:ReceiveTask"!==H&&"bpmn:StartEvent"!==H&&"bpmn:IntermediateCatchEvent"!==H&&"bpmn:IntermediateThrowEvent"!==H&&"bpmn:BoundaryEvent"!==H&&"bpmn:EndEvent"!==H){const ee={instancePath:t+"/elementType/value",schemaPath:"#/allOf/1/allOf/1/then/properties/elementType/properties/value/enum",keyword:"enum",params:{allowedValues:al.allOf[1].allOf[1].then.properties.elementType.properties.value.enum},message:"must be equal to one of the allowed values"};null===a?a=[ee]:a.push(ee),l++}}}}}g=_=k===l}if(!g){const k={instancePath:t,schemaPath:"#/allOf/1/allOf/1/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[k]:a.push(k),l++}const x=l;let b=!0;const w=l;if(n&&"object"==typeof n&&!Array.isArray(n))if(void 0===n.properties){const k={};null===a?a=[k]:a.push(k),l++}else if(void 0!==n.properties){let k=n.properties;if(Array.isArray(k)){const F=l,M=k.length;for(let B=0;B<M;B++){let q=k[B];const ue=l;if(q&&"object"==typeof q&&!Array.isArray(q))if(void 0===q.binding){const H={};null===a?a=[H]:a.push(H),l++}else if(void 0!==q.binding){let H=q.binding;if(H&&"object"==typeof H&&!Array.isArray(H))if(void 0===H.type){const ee={};null===a?a=[ee]:a.push(ee),l++}else if(void 0!==H.type&&"zeebe:calledElement"!==H.type){const ee={};null===a?a=[ee]:a.push(ee),l++}}var C=ue===l;if(C)break}if(C)l=F,null!==a&&(F?a.length=F:a=null);else{const B={};null===a?a=[B]:a.push(B),l++}}}var P=w===l;if(l=x,null!==a&&(x?a.length=x:a=null),P){const k=l,F=l;let M=!1;const B=l;if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.elementType){const ue={instancePath:t,schemaPath:"#/allOf/1/allOf/2/then/anyOf/0/required",keyword:"required",params:{missingProperty:"elementType"},message:"must have required property 'elementType'"};null===a?a=[ue]:a.push(ue),l++}if(void 0!==n.elementType){let ue=n.elementType;if(ue&&"object"==typeof ue&&!Array.isArray(ue)){if(void 0===ue.value){const H={instancePath:t+"/elementType",schemaPath:"#/allOf/1/allOf/2/then/anyOf/0/properties/elementType/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===a?a=[H]:a.push(H),l++}if(void 0!==ue.value&&"bpmn:CallActivity"!==ue.value){const H={instancePath:t+"/elementType/value",schemaPath:"#/allOf/1/allOf/2/then/anyOf/0/properties/elementType/properties/value/const",keyword:"const",params:{allowedValue:"bpmn:CallActivity"},message:"must be equal to constant"};null===a?a=[H]:a.push(H),l++}}}}var D=B===l;if(M=M||D,!M){const ue=l;if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.appliesTo){const ee={instancePath:t,schemaPath:"#/allOf/1/allOf/2/then/anyOf/1/required",keyword:"required",params:{missingProperty:"appliesTo"},message:"must have required property 'appliesTo'"};null===a?a=[ee]:a.push(ee),l++}if(void 0!==n.appliesTo&&!u4e(n.appliesTo,al.allOf[1].allOf[2].then.anyOf[1].properties.appliesTo.const)){const ee={instancePath:t+"/appliesTo",schemaPath:"#/allOf/1/allOf/2/then/anyOf/1/properties/appliesTo/const",keyword:"const",params:{allowedValue:al.allOf[1].allOf[2].then.anyOf[1].properties.appliesTo.const},message:"must be equal to constant"};null===a?a=[ee]:a.push(ee),l++}}D=ue===l,M=M||D}if(M)l=F,null!==a&&(F?a.length=F:a=null);else{const ue={instancePath:t,schemaPath:"#/allOf/1/allOf/2/then/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};null===a?a=[ue]:a.push(ue),l++}b=P=k===l}if(!b){const k={instancePath:t,schemaPath:"#/allOf/1/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[k]:a.push(k),l++}if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0!==n.properties&&(KD(n.properties,{instancePath:t+"/properties",parentData:n,parentDataProperty:"properties",rootData:o})||(a=null===a?KD.errors:a.concat(KD.errors),l=a.length)),void 0!==n.icon){let k=n.icon;if(k&&"object"==typeof k&&!Array.isArray(k)){if(void 0===k.contents){const F={instancePath:t+"/icon",schemaPath:"#/properties/icon/required",keyword:"required",params:{missingProperty:"contents"},message:"must have required property 'contents'"};null===a?a=[F]:a.push(F),l++}if(void 0!==k.contents){let F=k.contents;if("string"==typeof F){if(!k7t.test(F)){const M={instancePath:t+"/icon/contents",schemaPath:"#/properties/icon/properties/contents/pattern",keyword:"pattern",params:{pattern:"^(https?|data):.*"},message:'must match pattern "^(https?|data):.*"'};null===a?a=[M]:a.push(M),l++}}else{const M={instancePath:t+"/icon/contents",schemaPath:"#/properties/icon/properties/contents/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[M]:a.push(M),l++}if(l>0){const M={pattern:[]},B={};for(const ue of a)"errorMessage"!==ue.keyword&&!ue.emUsed&&ue.instancePath===t+"/icon/contents"&&ue.keyword in M&&0===ue.schemaPath.indexOf("#/properties/icon/properties/contents")&&/^\/[^\/]*$/.test(ue.schemaPath.slice(37))&&(M[ue.keyword].push(ue),ue.emUsed=!0);for(const ue in M)if(M[ue].length){const H={instancePath:t+"/icon/contents",schemaPath:"#/properties/icon/properties/contents/errorMessage",keyword:"errorMessage",params:{errors:M[ue]},message:ue in B?B[ue]():al.properties.icon.properties.contents.errorMessage[ue]};null===a?a=[H]:a.push(H),l++}const q=[];for(const ue of a)ue.emUsed||q.push(ue);a=q,l=q.length}}}else{const F={instancePath:t+"/icon",schemaPath:"#/properties/icon/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[F]:a.push(F),l++}if(l>0){const F={required:{contents:[]}},M={required:{}};let B,q;for(const H of a)"errorMessage"!==H.keyword&&!H.emUsed&&H.instancePath===t+"/icon"&&H.keyword in F&&0===H.schemaPath.indexOf("#/properties/icon")&&/^\/[^\/]*$/.test(H.schemaPath.slice(17))&&(B=zf[H.keyword],q=F[H.keyword][H.params[B]],q&&(q.push(H),H.emUsed=!0));for(const H in F)for(const ee in F[H])if(q=F[H][ee],q.length){const Q=M[H]&&M[H][ee],Ee={instancePath:t+"/icon",schemaPath:"#/properties/icon/errorMessage",keyword:"errorMessage",params:{errors:q},message:Q?Q():al.properties.icon.errorMessage[H][ee]};null===a?a=[Ee]:a.push(Ee),l++}const ue=[];for(const H of a)H.emUsed||ue.push(H);a=ue,l=ue.length}}if(void 0!==n.elementType){let k=n.elementType;if(k&&"object"==typeof k&&!Array.isArray(k)&&void 0!==k.eventDefinition&&"bpmn:MessageEventDefinition"!==k.eventDefinition){const q={instancePath:t+"/elementType/eventDefinition",schemaPath:"#/properties/elementType/allOf/0/allOf/0/properties/eventDefinition/enum",keyword:"enum",params:{allowedValues:al.properties.elementType.allOf[0].allOf[0].properties.eventDefinition.enum},message:"must be equal to one of the allowed values"};null===a?a=[q]:a.push(q),l++}const F=l;let M=!0;const B=l;if(k&&"object"==typeof k&&!Array.isArray(k)&&void 0===k.eventDefinition){const q={};null===a?a=[q]:a.push(q),l++}var I=B===l;if(l=F,null!==a&&(F?a.length=F:a=null),I){const q=l;if(k&&"object"==typeof k&&!Array.isArray(k)){if(void 0===k.value){const H={instancePath:t+"/elementType",schemaPath:"#/properties/elementType/allOf/0/allOf/1/then/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===a?a=[H]:a.push(H),l++}if(void 0!==k.value){let H=k.value;if("bpmn:StartEvent"!==H&&"bpmn:IntermediateCatchEvent"!==H&&"bpmn:IntermediateThrowEvent"!==H&&"bpmn:BoundaryEvent"!==H&&"bpmn:EndEvent"!==H){const ee={instancePath:t+"/elementType/value",schemaPath:"#/properties/elementType/allOf/0/allOf/1/then/properties/value/enum",keyword:"enum",params:{allowedValues:al.properties.elementType.allOf[0].allOf[1].then.properties.value.enum},message:"must be equal to one of the allowed values"};null===a?a=[ee]:a.push(ee),l++}}}M=I=q===l}if(!M){const q={instancePath:t+"/elementType",schemaPath:"#/properties/elementType/allOf/0/allOf/1/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===a?a=[q]:a.push(q),l++}}if(void 0!==n.groups){let k=n.groups;if(Array.isArray(k)){const F=k.length;for(let M=0;M<F;M++){let B=k[M];if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0!==B.tooltip&&"string"!=typeof B.tooltip){const q={instancePath:t+"/groups/"+M+"/tooltip",schemaPath:"#/properties/groups/items/properties/tooltip/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[q]:a.push(q),l++}if(void 0!==B.openByDefault&&"boolean"!=typeof B.openByDefault){const q={instancePath:t+"/groups/"+M+"/openByDefault",schemaPath:"#/properties/groups/items/properties/openByDefault/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[q]:a.push(q),l++}}}}}}else{const k={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[k]:a.push(k),l++}return D1.errors=a,0===l}function eq(n,{instancePath:t="",parentData:i,parentDataProperty:s,rootData:o=n}={}){let a=null,l=0;const c=l;let u=!1,d=null;const p=l;D1(n,{instancePath:t,parentData:i,parentDataProperty:s,rootData:o})||(a=null===a?D1.errors:a.concat(D1.errors),l=a.length),p===l&&(u=!0,d=0);const f=l;if(Array.isArray(n)){const m=n.length;for(let g=0;g<m;g++)D1(n[g],{instancePath:t+"/"+g,parentData:n,parentDataProperty:g,rootData:o})||(a=null===a?D1.errors:a.concat(D1.errors),l=a.length)}else{const m={instancePath:t,schemaPath:"#/oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[m]:a.push(m),l++}var h;if((h=f===l)&&u?(u=!1,d=[d,1]):h&&(u=!0,d=1),u)l=c,null!==a&&(c?a.length=c:a=null);else{const m={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:d},message:"must match exactly one schema in oneOf"};null===a?a=[m]:a.push(m),l++}return eq.errors=a,0===l}var I7t=Q5e(JU.exports);te(5324);const YD=n=>["optional","static"].includes(n.feel)&&["Boolean","Number"].includes(n.type),p4e=(n,t)=>"string"==typeof n&&n.startsWith("=")?n:"Boolean"===t?"="+!!(n="false"!==n&&n):typeof n>"u"?n:"="+n.toString(),XD="zeebe:modelerTemplate";function Aa(n){const t=G(n);if(t)return t.get(XD)}function f4e(n){const t=G(n);if(t)return t.get("zeebe:modelerTemplateVersion")}function Ii(n,t){const i=G(n);let s;if(s=T(i,"bpmn:ExtensionElements")?i:i.get("extensionElements"),s)return s.get("values").find(o=>T(o,t))}function h4e(n,t){return n.get("properties").find(i=>i.name===t.name)}function m4e(n,t){return n.get("inputParameters").find(s=>s.target===t.name)}function g4e(n,t){return n.get("outputParameters").find(s=>s.source===t.source)}function y4e(n,t){return n.get("values").find(s=>s.key===t.key)}function X0(n){if(T(n,"bpmn:Event")){const t=n.get("eventDefinitions");if(!t||!t.length)return;n=t[0]}if(n)return n.get("messageRef")}function Ro(n){if(YD(n))return p4e(n.value,n.type);if(void 0!==n.value)return n.value;if(n.generatedValue){const{type:t}=n.generatedValue;if("uuid"===t)return o7t()}}function b5(n){const t=G(n);if(t)return t.get("camunda:modelerTemplate")}let x4e=(()=>{let n=class{constructor(i,s,o,a){this._commandStack=i,this._eventBus=s,this._injector=a,this._modeling=o,this._templates={}}get(i,s){const o=this._templates;let a;return Sr(i)?null:$n(i)?(Sr(s)&&(s="_"),o[i]&&o[i][s]?o[i][s]:null):(a=i,this.get(this._getTemplateId(a),this._getTemplateVersion(a)))}getDefault(i){return It(this.getAll(i),function(s){return s.isDefault})||null}getAll(i){return this._getTemplateVerions(i,{includeDeprecated:!0})}getLatest(i,s={}){return this._getTemplateVerions(i,{...s,latest:!0})}set(i){this._templates={},i.forEach(s=>{const o=s.id,a=Sr(s.version)?"_":s.version;this._templates[o]||(this._templates[o]={latest:s}),this._templates[o][a]=s;const l=this._templates[o].latest.version;(Sr(l)||s.version>l)&&(this._templates[o].latest=s)})}_getTemplateVerions(i,s={}){const{latest:o,deprecated:a}=s,l=this._templates,c=u=>{const{latest:d,...p}=u;return o?!a&&d.deprecated?[]:[d]:wv(p)};if(Id(i))return rE(wv(l).map(c));if(fr(i)){const u=i;return hn(this._getTemplateVerions(null,s),function(d){return Kt(u,d.appliesTo)})||[]}if($n(i))return l[i]&&c(l[i]);throw new Error("argument must be of type {string|djs.model.Base|undefined}")}_getTemplateId(i){return b5(i)}_getTemplateVersion(i){return function v4e(n){const t=G(n);if(t)return t.get("camunda:modelerTemplateVersion")}(i)}applyTemplate(i,s){let o="apply",a={element:i,newTemplate:s};const l=this.get(i);l&&!s&&(o="unlink",a={element:i}),s&&l&&s.id===l.id&&(o="update");const c={element:i,newTemplate:s,oldTemplate:l};return this._commandStack.execute("propertiesPanel.camunda.changeTemplate",c),this._eventBus.fire(`elementTemplates.${o}`,a),c.element}removeTemplate(i){this._injector.get("eventBus").fire("elementTemplates.remove",{element:i});const o={element:i};return this._commandStack.execute("propertiesPanel.removeTemplate",o),o.newElement}unlinkTemplate(i){return this.applyTemplate(i,null)}};return n.$inject=["commandStack","eventBus","modeling","injector"],n})(),C4e=(()=>{class n extends x4e{constructor(i,s,o,a,l){super(s,o,a,l),this._templateElementFactory=i}_getTemplateId(i){return Aa(i)}_getTemplateVersion(i){return f4e(i)}createElement(i){if(!i)throw new Error("template is missing");return this._templateElementFactory.create(i)}applyTemplate(i,s){let o="apply",a={element:i,newTemplate:s};const l=this.get(i);l&&!s&&(o="unlink",a={element:i}),s&&l&&s.id===l.id&&(o="update");const c={element:i,newTemplate:s,oldTemplate:l};return this._commandStack.execute("propertiesPanel.zeebe.changeTemplate",c),this._eventBus.fire(`elementTemplates.${o}`,a),c.element}}return n.$inject=["templateElementFactory","commandStack","eventBus","modeling","injector"],n})();const $7t=["bpmn:Activity","bpmn:Event","bpmn:Gateway"];let O4e=class{constructor(t){this._templatesById={},this._validTemplates=[],this._errors=[],this._moddle=t}addAll(t){return Vt(t)?t.forEach(this.add,this):this._logError("templates must be []"),this}add(t){let s,o;return this._validateTemplate(t)||(s=t.id,o=t.version||"_",this._templatesById[s]||(this._templatesById[s]={}),this._templatesById[s][o]=t,this._validTemplates.push(t)),this}_validateTemplate(t){let i;const s=t.id,o=t.version||"_",a=t.$schema&&T4e(t.$schema);if(a&&Z5e()("0.18.0",a)<0)return this._logError(`unsupported element template schema version <${a}>. Your installation only supports up to version <0.18.0>. Please update your installation`,t);if(this._templatesById[s]&&this._templatesById[s][o])return this._logError("_"===o?`template id <${s}> already used`:`template id <${s}> and version <${o}> already used`,t);const l=this._validateElementType(t);if(l)return l;const c=function a4e(n){return s4e(n,p7t)}(t),{errors:u,valid:d}=c;return d||(i=new Error("invalid template"),P4e(u).forEach(p=>{this._logError(p.message,t)})),i}_validateElementType(t){if(t.elementType&&t.appliesTo){const i=t.elementType.value,s=t.appliesTo;if(!s.find(o=>this._isType(i,o)))return this._logError(`template does not apply to requested element type <${i}>`,t);for(const o of s)if(!this._canMorph(o,i))return this._logError(`can not morph <${o}> into <${i}>`,t)}}_isType(t,i){const s=this._moddle.getType(t);return s&&i in this._moddle.getElementDescriptor(s).allTypesByName}_canMorph(t,i){if(t===i)return!0;const s=$7t.find(o=>this._isType(t,o));return!!s&&this._isType(i,s)}_logError(t,i){if($n(t)){if(i){const{id:s,name:o}=i;t=`template(id: <${s}>, name: <${o}>): ${t}`}t=new Error(t)}return this._errors.push(t),t}getErrors(){return this._errors}getValidTemplates(){return this._validTemplates}};function T4e(n){const i=n.match(/\d+\.\d+\.\d+/g);return null===i?void 0:i[0]}function P4e(n){return hn(n,t=>{const{instancePath:i,keyword:s}=t;return!("errorMessage"!==s&&("type"!==s||!i||i.startsWith("/scopes/")))})}class k4e extends O4e{constructor(t){super(t)}_validateTemplate(t){let i;const s=t.id,o=t.version||"_",a=t.$schema,l=a&&T4e(a);if(!a)return this._logError("missing $schema attribute.",t);if(!this.isSchemaValid(a))return this._logError(`unsupported $schema attribute <${a}>.`,t);if(l&&Z5e()("0.20.0",l)<0)return this._logError(`unsupported element template schema version <${l}>. Your installation only supports up to version <0.20.0>. Please update your installation`,t);if(this._templatesById[s]&&this._templatesById[s][o])return this._logError("_"===o?`template id <${s}> already used`:`template id <${s}> and version <${o}> already used`,t);const c=this._validateElementType(t);if(c)return c;const u=function d4e(n){return s4e(n,I7t)}(t),{errors:d,valid:p}=u;return p||(i=new Error("invalid template"),P4e(d).forEach(f=>{this._logError(f.message,t)})),i}isSchemaValid(t){return t&&t.includes("@camunda/zeebe-element-templates-json-schema")}}let M4e=(()=>{let n=class{constructor(i,s,o,a){this._loadTemplates=i,this._eventBus=s,this._elementTemplates=o,this._moddle=a,s.on("diagram.init",()=>{this.reload()})}reload(){const i=this._loadTemplates;if(!Sr(i)){if(Gn(i))return i((s,o)=>{if(s)return this.templateErrors([s]);this.setTemplates(o)});if(i.length)return this.setTemplates(i)}}setTemplates(i){const s=this._elementTemplates,a=new O4e(this._moddle).addAll(i),l=a.getErrors(),c=a.getValidTemplates();s.set(c),l.length&&this.templateErrors(l),this.templatesChanged()}templatesChanged(){this._eventBus.fire("elementTemplates.changed")}templateErrors(i){this._eventBus.fire("elementTemplates.errors",{errors:i})}};return n.$inject=["config.elementTemplates","eventBus","elementTemplates","moddle"],n})(),H7t=(()=>{class n extends M4e{constructor(i,s,o,a){super(i,s,o,a),this._elementTemplates=o}setTemplates(i){const s=this._elementTemplates,a=new k4e(this._moddle).addAll(i),l=a.getErrors(),c=a.getValidTemplates();s.set(c),l.length&&this.templateErrors(l),this.templatesChanged()}}return n.$inject=["config.elementTemplates","eventBus","elementTemplates","moddle"],n})();function No(n,t,i,s){const o=s.create(n,t);return i&&(o.$parent=i),o}function w5(n){let t=n;for(;t.$parent;)t=t.$parent;return t}function I4e(n,t){return function U7t(n,t){return(n||[]).filter(s=>T(s,t))}(w5(n).get("rootElements"),t)}function tq(n,t,i){const{name:s}=n;return i.create("zeebe:Input",{source:t,target:s})}function nq(n,t,i){const{source:s}=n;return i.create("zeebe:Output",{source:s,target:t})}function rq(n,t,i){const{key:s}=n;return i.create("zeebe:Header",{key:s,value:t})}function R4e(n={},t){return t.create("zeebe:TaskDefinition",n)}function iq(n,t="",i){const{name:s}=n;return i.create("zeebe:Property",{name:s,value:t})}function ad(n,t){const{optional:i}=t;return n||!i}function k1(n,t,i){const s=G(n);let o=s.get("extensionElements");o||(o=No("bpmn:ExtensionElements",{},s,i),s.set("extensionElements",o));let a=Ii(o,t);return a||(a=i.create(t),a.$parent=o,o.get("values").push(a)),a}const sq="property",G7t="zeebe:property",S_="zeebe:input",O_="zeebe:output",QD="zeebe:property",M1="zeebe:taskDefinition:type",T_="zeebe:taskDefinition",x5="zeebe:taskHeader",Hf="bpmn:Message#property",fp="bpmn:Message#zeebe:subscription#property",P_="zeebe:calledElement",K7t=[fp,S_,O_,QD,M1,T_,x5,P_],A1=[M1,T_],N4e=[S_,O_],L4e=[Hf,fp],Y7t=[sq,Hf];function D_(n){return n.type===M1?"type":n.property}function oq(n,t){const i=t.get("modeling"),s=t.get("canvas"),o=t.get("bpmnjs"),a=s.getRootElement(),l=o.getDefinitions(),c=l.get("rootElements"),u=c.filter(d=>d!==n);u.length!==c.length&&i.updateModdleProperties(a,l,{rootElements:u})}function F4e(n){const t=G(n);return T(t,"bpmn:Event")?t.get("eventDefinitions")[0]:t}let Z7t=(()=>{let n=class{constructor(i,s,o,a,l){this._bpmnFactory=i,this._bpmnReplace=s,this._modeling=a,this._commandStack=o,this._injector=l}preExecute(i){let s=i.newTemplate,o=i.oldTemplate,a=i.element;this._updateZeebeModelerTemplate(a,s),this._updateZeebeModelerTemplateIcon(a,s),s&&(a=i.element=this._updateElementType(a,o,s),this._updateProperties(a,o,s),this._updateZeebeTaskDefinition(a,o,s),this._updateZeebeInputOutputParameterProperties(a,o,s),this._updateZeebeTaskHeaderProperties(a,o,s),this._updateZeebePropertyProperties(a,o,s),this._updateMessage(a,o,s),this._updateCalledElement(a,o,s))}_getOrCreateExtensionElements(i,s=G(i)){const o=this._bpmnFactory,a=this._modeling;let l=s.get("extensionElements");return l||(l=o.create("bpmn:ExtensionElements",{values:[]}),l.$parent=s,a.updateModdleProperties(i,s,{extensionElements:l})),l}_updateZeebeModelerTemplate(i,s){const o=this._modeling,a=s&&s.id,l=s&&s.version;(Aa(i)!==a||f4e(i)!==l)&&o.updateProperties(i,{"zeebe:modelerTemplate":a,"zeebe:modelerTemplateVersion":l})}_updateZeebeModelerTemplateIcon(i,s){const o=this._modeling,a=s&&s.icon,l=a&&a.contents;(function B7t(n){const t=G(n);if(t)return t.get("zeebe:modelerTemplateIcon")})(i)!==l&&o.updateProperties(i,{"zeebe:modelerTemplateIcon":l})}_updateProperties(i,s,o){const a=this._commandStack,l=G(i),c=o.properties.filter(d=>"property"===d.binding.type),u=s&&s.properties.filter(d=>"property"===d.binding.type&&!c.find(h=>h.binding.name===d.binding.name))||[];if(u.length){const d=u.reduce((p,f)=>(p[f.binding.name]=void 0,p),{});a.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:d})}c.length&&c.forEach(d=>{const p=Q0(s,d),h=d.binding.name,m=Ro(d);let y={};hp(l,p,d)||(y[h]=m,a.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:y}))})}_updateZeebeTaskDefinition(i,s,o){const a=this._bpmnFactory,l=this._commandStack,c=o.properties.filter(f=>A1.includes(f.binding.type)),u=this._getOrCreateExtensionElements(i);let d=Ii(u,"zeebe:TaskDefinition");c.length?(c.forEach(f=>{const h=Q0(s,f),m=Ro(f),y=D_(f.binding);d?hp(d,h,f)||l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{[y]:m}}):(d=R4e({[y]:m},a),d.$parent=u,l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:[...u.get("values"),d]}}))}),(s&&s.properties.filter(f=>A1.includes(f.binding.type)&&!c.find(g=>g.binding.property===f.binding.property))||[]).forEach(f=>{l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{[f.binding.property]:void 0}})})):l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:Mn(u.get("values"),d)}})}_updateZeebeInputOutputParameterProperties(i,s,o){const a=this._bpmnFactory,l=this._commandStack,c=o.properties.filter(m=>{const y=m.binding.type;return"zeebe:input"===y||"zeebe:output"===y}),u=this._getOrCreateExtensionElements(i);let d=Ii(u,"zeebe:IoMapping");if(!c.length){if(!d)return;l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:Mn(u.get("values"),d)}})}d||(d=a.create("zeebe:IoMapping"),d.$parent=u,l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:[...u.get("values"),d]}}));const p=d.get("zeebe:inputParameters")?d.get("zeebe:inputParameters").slice():[],f=d.get("zeebe:outputParameters")?d.get("zeebe:outputParameters").slice():[];let h;c.forEach(m=>{const g=Q0(s,m),y=aq(u,m),v=Ro(m),_=m.binding,E=_.type;let x,b;y?((ad(v,m)||hp(y,g,m))&&(T(y,"zeebe:Input")?JD(p,y):JD(f,y)),hp(y,g,m)||(b=T(y,"zeebe:Input")?{source:v}:{target:v},l.execute("element.updateModdleProperties",{element:i,moddleElement:y,properties:b}))):ad(v,m)&&("zeebe:input"===E?(h="inputParameters",x=tq(_,v,a)):(h="outputParameters",x=nq(_,v,a)),x.$parent=d,l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{[h]:[...d.get(h),x]}}))}),p.length&&l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{inputParameters:Mn(d.get("inputParameters"),m=>p.includes(m))}}),f.length&&l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{outputParameters:Mn(d.get("outputParameters"),m=>f.includes(m))}})}_updateZeebeTaskHeaderProperties(i,s,o){const a=this._bpmnFactory,l=this._commandStack,c=o.properties.filter(f=>"zeebe:taskHeader"===f.binding.type),u=this._getOrCreateExtensionElements(i);let d=Ii(u,"zeebe:TaskHeaders");if(!c.length){if(!d)return;l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:Mn(u.get("values"),d)}})}d||(d=a.create("zeebe:TaskHeaders"),d.$parent=u,l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:[...u.get("values"),d]}}));const p=d.get("zeebe:values")?d.get("zeebe:values").slice():[];c.forEach(f=>{const h=Q0(s,f),m=aq(u,f),g=Ro(f),y=f.binding;if(m)hp(m,h,f)||l.execute("element.updateModdleProperties",{element:i,moddleElement:m,properties:{value:g}}),JD(p,m);else if(g){const v=rq(y,g,a);v.$parent=d,l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{values:[...d.get("values"),v]}})}}),p.length&&l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{values:Mn(d.get("values"),f=>p.includes(f))}})}_updateZeebePropertyProperties(i,s,o){const a=this._bpmnFactory,l=this._commandStack,c=o.properties.filter(f=>"zeebe:property"===f.binding.type),u=this._getOrCreateExtensionElements(i);let d=Ii(u,"zeebe:Properties");if(!c.length){if(!d)return;l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:Mn(u.get("values"),d)}})}d||(d=a.create("zeebe:Properties"),d.$parent=u,l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:[...u.get("values"),d]}}));const p=d.get("properties")?d.get("properties").slice():[];c.forEach(f=>{const h=Q0(s,f),m=aq(u,f),g=Ro(f),y=f.binding;if(m)(ad(g,f)||hp(m,h,f))&&JD(p,m),hp(m,h,f)||l.execute("element.updateModdleProperties",{element:i,moddleElement:m,properties:{value:g}});else if(ad(g,f)){const v=iq(y,g,a);v.$parent=d,l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{properties:[...d.get("properties"),v]}})}}),p.length&&l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{properties:Mn(d.get("properties"),f=>p.includes(f))}})}_updateMessage(i,s,o){this._updateMessageProperties(i,s,o),this._updateMessageZeebeSubscriptionProperties(i,s,o),this._updateZeebeModelerTemplateOnReferencedElement(i,s,o),function J7t(n){return n.properties.some(t=>L4e.includes(t.binding.type))}(o)||function X7t(n,t){const i=t.get("modeling"),s=F4e(n);if(!s)return;const o=X0(s);o&&(i.updateModdleProperties(n,s,{messageRef:void 0}),oq(o,t))}(i,this._injector)}_updateMessageProperties(i,s,o){const a=o.properties.filter(u=>u.binding.type===Hf),l=s&&s.properties.filter(u=>u.binding.type===Hf&&!a.find(f=>f.binding.name===u.binding.name))||[];let c=this._getMessage(i);c&&l.forEach(u=>{this._modeling.updateModdleProperties(i,c,{[u.binding.name]:void 0})}),a.length&&(c=this._getOrCreateMessage(i,o),a.forEach(u=>{const d=Q0(s,u),f=u.binding.name,h=Ro(u),m=c;let g={};hp(m,d,u)||(g[f]=h,this._modeling.updateModdleProperties(i,m,g))}))}_updateMessageZeebeSubscriptionProperties(i,s,o){const a=o.properties.filter(h=>h.binding.type===fp),l=s&&s.properties.filter(h=>h.binding.type===fp&&!a.find(y=>y.binding.name===h.binding.name))||[];if(!a.length&&!l.length)return;let c=this._getMessage(i);if(!a.length&&!c)return;c=this._getOrCreateMessage(i,o);const u=this._getOrCreateExtensionElements(i,c),d=this._getSubscription(i,c),p=a.reduce((h,m)=>{const g=Q0(s,m),v=m.binding.name,_=Ro(m);return hp(d,g,m)||(h[v]=_),h},{});if(d)this._modeling.updateModdleProperties(i,d,p);else{const h=No("zeebe:Subscription",p,c,this._bpmnFactory);this._modeling.updateModdleProperties(i,u,{values:[...u.get("values"),h]})}if(!s||!d)return;const f=l.reduce((h,m)=>(h[m.binding.name]=void 0,h),{});this._modeling.updateModdleProperties(i,d,f)}_updateZeebeModelerTemplateOnReferencedElement(i,s,o){const l=X0(G(i));l&&Aa(l)!==o.id&&this._modeling.updateModdleProperties(i,l,{"zeebe:modelerTemplate":o.id})}_getSubscription(i,s){const a=Ii(this._getOrCreateExtensionElements(i,s),"zeebe:Subscription");if(a)return a}_getOrCreateMessage(i,s){return this._getMessage(i)||this._createMessage(i,s)}_createMessage(i,s){let o=G(i);T(o,"bpmn:Event")&&(o=o.get("eventDefinitions")[0]);const a=this._bpmnFactory.create("bpmn:Message",{"zeebe:modelerTemplate":s.id});return a.$parent=w5(o),this._modeling.updateModdleProperties(i,o,{messageRef:a}),a}_getMessage(i){let s=G(i);return T(s,"bpmn:Event")&&(s=s.get("eventDefinitions")[0]),s&&s.get("messageRef")}_updateCalledElement(i,s,o){const a=this._bpmnFactory,l=this._commandStack,c=o.properties.filter(f=>f.binding.type===P_),u=this._getOrCreateExtensionElements(i);let d=Ii(u,"zeebe:CalledElement");c.length?(c.forEach(f=>{const h=Q0(s,f),m=Ro(f),g=f.binding.property;d?hp(d,h,f)||l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{[g]:m}}):(d=function W7t(n={},t){return t.create("zeebe:CalledElement",n)}({[g]:m},a),d.$parent=u,l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:[...u.get("values"),d]}}))}),(s&&s.properties.filter(f=>f.binding.type===P_&&!c.find(g=>g.binding.property===f.binding.property))||[]).forEach(f=>{l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{[f.binding.property]:void 0}})})):l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:Mn(u.get("values"),d)}})}_updateElementType(i,s,o){const a=o.elementType;if(!a||!function eAt(n,t,i){if(!t&&i.eventDefinition)return!0;const s=t&&t.elementType||{value:n.type,eventDefinition:tAt(n)};return!(s&&s.value===i.value&&s.eventDefinition===i.eventDefinition)}(i,s,a))return i;const l={type:a.value};return a.eventDefinition&&(l.eventDefinitionType=a.eventDefinition),this._bpmnReplace.replaceElement(i,l)}};return n.$inject=["bpmnFactory","bpmnReplace","commandStack","modeling","injector"],n})();function aq(n,t){const i=G(n),s=t.binding,o=s.type;if(A1.includes(o))return Ii(i,"zeebe:TaskDefinition");if("zeebe:input"===o||"zeebe:output"===o){const a=Ii(i,"zeebe:IoMapping");return a?"zeebe:input"===o?It(a.get("zeebe:inputParameters"),function(l){return l.get("zeebe:target")===s.name}):It(a.get("zeebe:outputParameters"),function(l){return l.get("zeebe:source")===s.source}):void 0}if("zeebe:taskHeader"===o){const a=Ii(i,"zeebe:TaskHeaders");return a?It(a.get("zeebe:values"),function(l){return l.get("zeebe:key")===s.key}):void 0}if("zeebe:property"===o){const a=Ii(i,"zeebe:Properties");return a?a.get("properties").find(l=>l.get("name")===s.name):void 0}}function Q0(n,t){if(!n)return;const i=n.properties,s=t.binding,o=s.name,a=s.type;return"property"===a?It(i,function(l){const c=l.binding;return"property"===c.type&&c.name===o}):A1.includes(a)?It(i,function(l){return D_(l.binding)===D_(s)}):"zeebe:input"===a?It(i,function(l){const c=l.binding;if("zeebe:input"===c.type)return c.name===o}):"zeebe:output"===a?It(i,function(l){const c=l.binding;if("zeebe:output"===c.type)return c.source===s.source}):"zeebe:taskHeader"===a?It(i,function(l){const c=l.binding;if("zeebe:taskHeader"===c.type)return c.key===s.key}):"zeebe:property"===a?i.find(l=>{const c=l.binding;if("zeebe:property"===c.type)return c.name===s.name}):a===Hf?i.find(l=>{const c=l.binding;if(c.type===Hf)return c.name===s.name}):a===fp?i.find(l=>{const c=l.binding;if(c.type===fp)return c.name===s.name}):void 0}function hp(n,t,i){if("Hidden"===i.type)return!1;if("Dropdown"===i.type){const s=lq(n,i);return i.choices&&i.choices.some(o=>o.value===s)}return t?function Q7t(n,t){const i=t.value;return lq(n,t)!==i}(n,t):!!lq(n,i)}function lq(n,t){const i=G(n);if(!i)return;const s=t.binding,o=s.name,a=s.type;return"property"===a?i.get(o):A1.includes(a)?i.get(D_(s)):"zeebe:input"===a?i.get("zeebe:source"):"zeebe:output"===a?i.get("zeebe:target"):"zeebe:taskHeader"===a||"zeebe:property"===a?i.get("zeebe:value"):a===Hf||a===fp?i.get(o):void 0}function JD(n,t){const i=n.indexOf(t);return Sr(i)||n.splice(i,1),n}function tAt(n){const t=G(n);if(!t.eventDefinitions)return;const i=t.eventDefinitions[0];return i?i.$type:void 0}let B4e=(()=>{class n{constructor(i,s,o,a,l,c,u){this._modeling=i,this._elementFactory=s,this._elementRegistry=o,this._canvas=a,this._bpmnFactory=l,this._replace=c,this._commandStack=u}preExecute(i){const{element:s}=i;i.newElement=s.parent?this._removeTemplate(s):this._removeRootTemplate(s)}_removeTemplate(i){const s=this._replace,o=G(i),a=o.$type,l=this._getEventDefinitionType(o),c=this._createBlankBusinessObject(i);return s.replaceElement(i,{type:a,businessObject:c,eventDefinitionType:l},{createElementsBehavior:!1})}_removeRootTemplate(i){var s=this._modeling,o=this._elementFactory,a=this._elementRegistry,l=this._canvas;if(yE(i)){const f=SN(i),h=a.get(f);if(h&&h!==i)return l.setRootElement(l.findRoot(h)),this._removeTemplate(h)}const u=G(i).$type,d=this._createBlankBusinessObject(i),p=o.create("root",{type:u,businessObject:d});return this._commandStack.execute("canvas.updateRoot",{newRoot:p,oldRoot:i}),s.moveElements(i.children,{x:0,y:0},p),p}_getEventDefinitionType(i){if(!i.eventDefinitions)return null;const s=i.eventDefinitions[0];return s?s.$type:null}_createBlankBusinessObject(i){const s=this._bpmnFactory,o=G(i),a=s.create(o.$type),l=Ja(i);return l&&(T(i,"bpmn:Group")&&(a.categoryValueRef=s.create("bpmn:CategoryValue")),uoe({businessObject:a},l)),a}}return n.$inject=["modeling","elementFactory","elementRegistry","canvas","bpmnFactory","replace","commandStack"],n})(),j4e=(()=>{class n{constructor(i){this._commandStack=i}preExecute(i){const s=this._commandStack;se(i,function(o){s.execute(o.cmd,o.context)})}}return n.$inject=["commandStack"],n})();function V4e(n,t,i){if(!t.get(n)&&t.getDefault(n)){const s="propertiesPanel.zeebe.changeTemplate",o={element:n,newTemplate:t.getDefault(n)};i.execute(s,o)}}var rAt={__init__:["elementTemplateCommands"],elementTemplateCommands:["type",(()=>{let n=class{constructor(i,s,o){i.registerHandler("element-templates.multi-command-executor",j4e),i.registerHandler("propertiesPanel.zeebe.changeTemplate",Z7t),i.registerHandler("propertiesPanel.removeTemplate",B4e),o.on(["commandStack.shape.create.postExecuted"],function(a){const{context:{hints:l={},shape:c}}=a;!1!==l.createElementsBehavior&&V4e(c,s,i)}),o.on(["commandStack.connection.create.postExecuted"],function(a){const{context:{hints:l={},connection:c}}=a;!1!==l.createElementsBehavior&&V4e(c,s,i)})}};return n.$inject=["commandStack","elementTemplates","eventBus"],n})()]};class iAt{static create(t,i){const{property:s}=i,{binding:o}=s,{name:a}=o,l=Ro(s);G(t)[a]=l}}class $4e{static create(t,i){const{property:s,bpmnFactory:o}=i,a=Ro(s),l=D_(s.binding);k1(t,"zeebe:TaskDefinition",o).set(l,a)}}class sAt{static create(t,i){const{property:s,bpmnFactory:o}=i,{binding:a}=s,l=Ro(s),c=k1(t,"zeebe:IoMapping",o);if(!ad(l,s))return;const u=tq(a,l,o);u.$parent=c,c.get("inputParameters").push(u)}}class oAt{static create(t,i){const{property:s,bpmnFactory:o}=i,{binding:a}=s,l=Ro(s),c=k1(t,"zeebe:IoMapping",o);if(!ad(l,s))return;const u=nq(a,l,o);u.$parent=c,c.get("outputParameters").push(u)}}class aAt{static create(t,i){const{property:s,bpmnFactory:o}=i,{binding:a}=s,l=Ro(s),c=k1(t,"zeebe:TaskHeaders",o),u=rq(a,l,o);u.$parent=c,c.get("values").push(u)}}class lAt{static create(t,i){const{property:s,bpmnFactory:o}=i,{binding:a}=s,l=Ro(s),c=k1(t,"zeebe:Properties",o);if(!ad(l,s))return;const u=iq(a,l,o);u.$parent=c,c.get("properties").push(u)}}class cAt{static create(t,i){const{bpmnFactory:s,property:o}=i,{binding:a}=o,{name:l}=a,c=Ro(o);let u=G(t);T(u,"bpmn:Event")&&(u=u.get("eventDefinitions")[0]);let d=u.get("messageRef");d||(d=s.create("bpmn:Message",{"zeebe:modelerTemplate":Aa(t)}),u.set("messageRef",d)),d.set(l,c)}}class uAt{static create(t,i){const{bpmnFactory:s,property:o}=i,{binding:a}=o,{name:l}=a,c=Ro(o);let u=G(t);T(u,"bpmn:Event")&&(u=u.get("eventDefinitions")[0]);let d=u.get("messageRef");d||(d=s.create("bpmn:Message",{"zeebe:modelerTemplate":Aa(t)}),u.set("messageRef",d));const p=k1(d,"zeebe:Subscription",s);ad(c,o)&&p.set(l,c)}}class dAt{static create(t,i){const{property:s,bpmnFactory:o}=i,{binding:a}=s,{property:l}=a,c=Ro(s),u=k1(t,"zeebe:CalledElement",o);(function pAt(n){n.set("propagateAllChildVariables",!1),n.set("propagateAllParentVariables",!1)})(u),u.set(l,c)}}const fAt=["Boolean","Integer","String"];function ek(n,t,i){const s=function hAt(n,t){let s=G(n);const o="",{binding:a}=t,{name:l,property:c,type:u}=a;if("property"===u){const d=s.get(l);return Sr(d)?o:d}if(A1.includes(u)){const d=Ii(s,"zeebe:TaskDefinition");if(d){if(u===M1)return d.get("type");if(u===T_)return d.get(c)}return o}if(N4e.includes(u)){const d=Ii(s,"zeebe:IoMapping");if(!d)return o;if(u===S_){const p=m4e(d,a);return p?p.get("source"):o}if(u===O_){const p=g4e(d,a);return p?p.get("target"):o}}if(u===x5){const d=Ii(s,"zeebe:TaskHeaders");if(!d)return o;const p=y4e(d,a);return p?p.get("value"):o}if(u===QD){const d=Ii(s,"zeebe:Properties");if(d){const p=h4e(d,a);if(p)return p.get("value")}return o}if(u===Hf){const d=X0(s),p=d?d.get(l):void 0;return Sr(p)?o:p}if(u===fp){const d=X0(s);if(d){const p=Ii(d,"zeebe:Subscription");if(!Sr(p?p.get(l):void 0))return p.get(l)}return o}if(u===P_){const d=Ii(s,"zeebe:CalledElement");return d?d.get(c):o}throw U4e(n,t)}(n,t),{type:o}=t;return"Boolean"===o?function mAt(n){switch(n){case"true":return!0;case"false":return!1}return n}(s):s}function z4e(n,t,i,s,o){let a=G(i);const{binding:l}=s,{name:c,type:u}=l;let d,p;const f=[],h={element:i,property:s};if(L4e.includes(u)){T(a,"bpmn:Event")&&(a=a.get("eventDefinitions")[0]);let m=X0(a);m||(m=n.create("bpmn:Message",{"zeebe:modelerTemplate":Aa(i)}),f.push({cmd:"element.updateModdleProperties",context:{...h,moddleElement:a,properties:{messageRef:m}}})),a=m}if(K7t.includes(u)&&(d=a.get("extensionElements"),d?f.push(null):(d=No("bpmn:ExtensionElements",null,a,n),f.push({cmd:"element.updateModdleProperties",context:{...h,moddleElement:a,properties:{extensionElements:d}}}))),Y7t.includes(u)){const m=a.$descriptor.propertiesByName[c];if(m){const{type:g}=m;if(!fAt.includes(g))throw new Error(`cannot set property of type <${g}>`);"Boolean"===g?p=!!o:"Integer"===g?(p=parseInt(o,10),isNaN(p)&&(p=void 0)):p=o||""}else p=o||"";Sr(p)?f.push(null):f.push({cmd:"element.updateModdleProperties",context:{...h,moddleElement:a,properties:{[c]:p}}})}if(A1.includes(u)){const m=Ii(d,"zeebe:TaskDefinition"),g=D_(l),y={[g]:o||""};if(m)f.push({cmd:"element.updateModdleProperties",context:{...h,properties:y,moddleElement:m}});else{const v=R4e(y,n);v.$parent=a;const _=d.get("values");f.push({cmd:"element.updateModdleProperties",context:{...h,moddleElement:d,properties:{values:[..._,v]}}})}}if(N4e.includes(u)){let m=Ii(d,"zeebe:IoMapping");if(m||(m=No("zeebe:IoMapping",null,a,n),f.push({cmd:"element.updateModdleProperties",context:{...h,moddleElement:d,properties:{values:[...d.get("values"),m]}}})),u===S_){const g=m4e(m,l),y=m.get("inputParameters").filter(v=>v!==g);if(ad(o,s)){const v=tq(l,o,n);y.push(v)}f.push({cmd:"element.updateModdleProperties",context:{...h,moddleElement:m,properties:{inputParameters:[...y]}}})}if(u===O_){const g=g4e(m,l),y=m.get("outputParameters").filter(v=>v!==g);if(ad(o,s)){const v=nq(l,o,n);y.push(v)}f.push({cmd:"element.updateModdleProperties",context:{...h,moddleElement:m,properties:{outputParameters:[...y]}}})}}if(u===x5){let m=Ii(d,"zeebe:TaskHeaders");m||(m=No("zeebe:TaskHeaders",null,a,n),f.push({cmd:"element.updateModdleProperties",context:{...h,moddleElement:d,properties:{values:[...d.get("values"),m]}}}));const g=y4e(m,l),y=m.get("values").filter(v=>v!==g);if(o){const v=rq(l,o,n);f.push({cmd:"element.updateModdleProperties",context:{...h,moddleElement:m,properties:{values:[...y,v]}}})}else f.push({cmd:"element.updateModdleProperties",context:{...h,moddleElement:m,properties:{values:y}}})}if(u===QD){let m=Ii(d,"zeebe:Properties");m||(m=No("zeebe:Properties",null,a,n),f.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:d,properties:{values:[...d.get("values"),m]}}}));const g=h4e(m,l),y=m.get("properties").filter(v=>v!==g);if(ad(o,s)){const v=iq(l,o,n);y.push(v)}f.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:m,properties:{properties:y}}})}if(u===fp){let m=Ii(d,"zeebe:Subscription");const g={[c]:o||""};m?f.push({cmd:"element.updateModdleProperties",context:{element:i,properties:g,moddleElement:m}}):(m=No("zeebe:Subscription",g,d,n),f.push({cmd:"element.updateModdleProperties",context:{...h,moddleElement:d,properties:{values:[...d.get("values"),m]}}}))}if(u===P_){let m=Ii(i,"zeebe:CalledElement");const y={[l.property]:o||""};m?f.push({cmd:"element.updateModdleProperties",context:{element:i,properties:y,moddleElement:m}}):(m=No("zeebe:CalledElement",y,d,n),f.push({cmd:"element.updateModdleProperties",context:{...h,moddleElement:d,properties:{values:[...d.get("values"),m]}}}))}if(!f.length)throw U4e(i,s);{const m=f.filter(g=>null!==g);m.length&&t.execute("element-templates.multi-command-executor",m)}}function U4e(n,t){const s=G(n).get("id"),{binding:o}=t,{type:a}=o;return new Error(`unknown binding <${a}> for element <${s}>, this should never happen`)}function vAt(n,t){return t=t||{},n.replace(/{([^}]+)}/g,function(i,s){return t[s]||"{"+s+"}"})}function k_(n,t){const{properties:i}=t,s=i.filter(o=>function EAt(n,t){const{binding:i}=t,{type:s}=i;return!("bpmn:Message#zeebe:subscription#property"===s&&"correlationKey"===i.name&&T(n,"bpmn:StartEvent")&&!Zs(n.parent))}(n,o)&&tk(n,i,o));return{...t,properties:s}}function tk(n,t,i){const{condition:s}=i;return!s||(s.allMatch?s.allMatch.every(a=>q4e(n,t,a)):q4e(n,t,s))}function q4e(n,t,i){const{property:s,equals:o,oneOf:a,isActive:l}=i;if(typeof l<"u"){const u=t.find(d=>d.id===s);return u?l?tk(n,t,u):!tk(n,t,u):!l}const c=function _At(n,t,i){const s=t.find(o=>o.id===i);if(s)return ek(n,s)}(n,t,s);return function wAt(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(i,"equals")?c===o:!!a&&a.includes(c)}var TAt={__init__:["templateElementFactory"],templateElementFactory:["type",(()=>{class n{constructor(i,s){this._bpmnFactory=i,this._elementFactory=s,this._providers={[sq]:iAt,[M1]:$4e,[T_]:$4e,[G7t]:lAt,[S_]:sAt,[O_]:oAt,[x5]:aAt,[Hf]:cAt,[fp]:uAt,[P_]:dAt}}create(i){const{properties:s}=i,o=this._createShape(i);return this._setModelerTemplate(o,i),function CAt(n){const{icon:t}=n;return!(!t||!t.contents)}(i)&&this._setModelerTemplateIcon(o,i),this._applyProperties(o,s),o}_createShape(i){const{appliesTo:s,elementType:o={}}=i,a=this._elementFactory,l={type:o.value||s[0]};return o.eventDefinition&&(l.eventDefinitionType=o.eventDefinition),a.createShape(l)}_ensureExtensionElements(i){const s=this._bpmnFactory,o=G(i);let a=o.get("extensionElements");return a||(a=s.create("bpmn:ExtensionElements",{values:[]}),a.$parent=o,o.set("extensionElements",a)),a}_setModelerTemplate(i,s){const{id:o,version:a}=s,l=G(i);l.set("zeebe:modelerTemplate",o),l.set("zeebe:modelerTemplateVersion",a)}_setModelerTemplateIcon(i,s){const{icon:o}=s,{contents:a}=o;G(i).set("zeebe:modelerTemplateIcon",a)}_applyProperties(i,s){const o=[];s.forEach(a=>this._applyProperty(i,a,s,o))}_applyProperty(i,s,o,a){a.includes(s)||(function SAt(n,t){const{condition:i}=n;if(!i)return[];const s=function OAt(n,t){return It(n,function(i){return i.id===t})}(t,i.property);return s?[s]:[]}(s,o).forEach(c=>this._applyProperty(i,c,o,a)),tk(i,o,s)&&this._bindProperty(s,i),a.push(s))}_bindProperty(i,s){const{binding:o}=i,{type:a}=o;this._providers[a].create(s,{property:i,bpmnFactory:this._bpmnFactory})}}return n.$inject=["bpmnFactory","elementFactory"],n})()]};let PAt=(()=>{class n extends Qe{constructor(i,s,o,a,l){super(i),this._eventBus=i,this._elementTemplates=s,this._commandStack=o,this._bpmnFactory=a,this._injector=l,this.preExecute(["element.updateProperties","element.updateModdleProperties","element.move"],this._saveConditionalState,!0,this),this.postExecute(["element.updateProperties","element.updateModdleProperties","propertiesPanel.zeebe.changeTemplate","element.move"],this._applyConditions,!0,this),this.preExecute(["propertiesPanel.zeebe.changeTemplate"],this._ensureConditional,!0,this)}_saveConditionalState(i){const{element:s}=i,o=this._elementTemplates.get(s);o&&(i.oldTemplateWithConditions=k_(s,o))}_applyConditions(i,s){const{element:o,newTemplate:a,oldTemplateWithConditions:l}=i;if(function RAt(n,t){return"element.updateProperties"===n&&Object.keys(t.properties).every(i=>["zeebe:modelerTemplate","zeebe:modelerTemplateVersion"].includes(i))}(s,i))return;const c=this._elementTemplates.get(o),u=l||a;c&&u&&function DAt(n,t){return function kAt(n,t){return t.properties.some(s=>!n.properties.find(o=>W4e(o,s)))}(n,t)||function MAt(n,t){return function AAt(n,t){return t.properties.filter(s=>!n.properties.find(o=>W4e(o,s)))}(t,n).some(s=>!function IAt(n,t){return n.properties.some(i=>K4e(t.binding,i.binding))}(t,s))}(n,t)}(k_(o,c),u)&&this._commandStack.execute("propertiesPanel.zeebe.changeTemplate",{element:o,newTemplate:c,oldTemplate:u})}_ensureConditional(i){const{element:s,newTemplate:o}=i;o&&(i.newTemplate=k_(s,o))}}return n.$inject=["eventBus","elementTemplates","commandStack","bpmnFactory","injector"],n})();function W4e(n,t){return K4e(n.binding,t.binding)&&X4e(n.condition,t.condition)}function G4e(n,t){return fr(t)?Object.keys(t).sort().reduce((s,o)=>(s[o]=t[o],s),{}):t}function K4e(n,t){return X4e(n=Y4e(n),t=Y4e(t))}function Y4e(n){return n.type===M1?{...n,type:T_,property:"type"}:n}function X4e(n,t){return JSON.stringify(n,G4e)===JSON.stringify(t,G4e)}let NAt=(()=>{let n=class extends Qe{constructor(i,s){super(s.get("eventBus")),this.postExecuted("shape.replace",function(o){var a=o.context,c=G(a.oldShape),u=a.newShape,d=G(u);if(!c.modelerTemplate)return;const h=i.get(d.modelerTemplate,d.modelerTemplateVersion);if(!h)return void i.unlinkTemplate(u);const{appliesTo:m,elementType:g}=h;g?(!T(u,g.value)||function LAt(n,t){if(!T(n,"bpmn:Event"))return!1;const{eventDefinition:i}=t,o=G(n).get("eventDefinitions");return i?!T(o[0],i):0!==o.length}(u,g))&&i.unlinkTemplate(u):m.reduce((v,_)=>v||T(d,_),!1)||i.unlinkTemplate(u)})}};return n.$inject=["elementTemplates","injector"],n})(),FAt=(()=>{class n extends Qe{constructor(i,s,o,a){super(i),this._eventBus=i,this._elementTemplates=s,this._commandStack=o,this._bpmnFactory=a,this.postExecute(["element.updateProperties","element.updateModdleProperties"],this._updatePropertiesOrder,!0,this)}_updatePropertiesOrder(i){const{element:s}=i,o=this._elementTemplates.get(s),a=s.businessObject,l=[];if(!o)return;const c=k_(s,o).properties,u=Ii(a,"zeebe:Properties");u&&this._updateZeebePropertiesOrder(u,c,l,i);const d=Ii(a,"zeebe:IoMapping");d&&(this._updateInputOrder(d,c,l,i),this._updateOutputOrder(d,c,l,i));const p=Ii(a,"zeebe:TaskHeaders");if(p&&this._updateTaskHeadersOrder(p,c,l,i),l.length){const f=l.filter(h=>null!==h);f.length&&this._commandStack.execute("element-templates.multi-command-executor",f)}}_updateZeebePropertiesOrder(i,s,o,a){const c=i.get("properties");if(c.length<1)return;let u=[...c];rk(u,(d,p)=>d.findIndex(f=>"zeebe:property"==f.binding.type&&f.binding.name===p.get("name")),s),nk(u,c)||o.push({cmd:"element.updateModdleProperties",context:{...a,moddleElement:i,properties:{properties:u}}})}_updateInputOrder(i,s,o,a){const c=i.get("inputParameters");if(c.length<1)return;let u=[...c];rk(u,(d,p)=>d.findIndex(f=>"zeebe:input"==f.binding.type&&f.binding.name===p.get("target")),s),nk(u,c)||o.push({cmd:"element.updateModdleProperties",context:{...a,moddleElement:i,properties:{inputParameters:u}}})}_updateOutputOrder(i,s,o,a){const c=i.get("outputParameters");if(c.length<1)return;let u=[...c];rk(u,(d,p)=>d.findIndex(f=>"zeebe:output"==f.binding.type&&f.binding.source===p.get("source")),s),nk(u,c)||o.push({cmd:"element.updateModdleProperties",context:{...a,moddleElement:i,properties:{outputParameters:u}}})}_updateTaskHeadersOrder(i,s,o,a){const c=i.get("zeebe:values");if(c.length<1)return;let u=[...c];rk(u,(d,p)=>d.findIndex(f=>"zeebe:taskHeader"==f.binding.type&&f.binding.key===p.get("key")),s),nk(u,c)||o.push({cmd:"element.updateModdleProperties",context:{...a,moddleElement:i,properties:{values:u}}})}}return n.$inject=["eventBus","elementTemplates","commandStack","bpmnFactory"],n})();function Z4e(n,t){return fr(t)?Object.keys(t).sort().reduce((s,o)=>(s[o]=t[o],s),{}):t}function nk(n,t){return n.every((i,s)=>function BAt(n,t){return JSON.stringify(n,Z4e)===JSON.stringify(t,Z4e)}(i,t[s]))}function rk(n,t,i){return n.sort((s,o)=>t(i,s)-t(i,o))}let jAt=(()=>{class n extends Qe{constructor(i,s,o,a,l,c){super(i),this._eventBus=i,this._elementTemplates=s,this._modeling=o,this._injector=a,this.postExecuted(["element.updateProperties","element.updateModdleProperties"],this._handlePropertiesUpdate,!0,this),this.postExecuted("shape.replace",this._handleReplacement,!0,this),this.postExecuted("shape.delete",this._handleRemoval,!0,this),i.on("copyPaste.pasteElement",function(u){const{referencedRootElement:d}=u.descriptor;d&&Aa(d)&&(u.descriptor.referencedRootElement=l.copyElement(d,c.create(d.$type)))})}_handlePropertiesUpdate(i){const{element:s,properties:o}=i;if(!ik(s)||!(XD in o)||$n(o[XD]))return;const l=X0(G(s));l&&Aa(l)&&this._modeling.updateModdleProperties(s,l,{[XD]:null})}_handleReplacement(i){const{oldShape:s,newShape:o}=i,a=Aa(s),l=Aa(o);if(!ik(s)||!a)return;const u=X0(G(s));if(u&&Aa(u)){if(!ik(o)||!l)return void oq(u,this._injector);this._addMessage(o,u)}}_handleRemoval(i){const{shape:s}=i;if(function VAt(n){return"label"===n.type}(s)||!ik(s)||!Aa(s))return;const a=X0(G(s));a&&Aa(a)&&oq(a,this._injector)}_addMessage(i,s){const o=F4e(i);this._modeling.updateModdleProperties(i,o,{messageRef:s})}}return n.$inject=["eventBus","elementTemplates","modeling","injector","moddleCopy","bpmnFactory"],n})();function ik(n){if(T(n,"bpmn:Event")){const t=G(n);return t.get("eventDefinitions")&&t.get("eventDefinitions")[0]}return Kt(n,["bpmn:ReceiveTask","bpmn:SendTask"])}var zAt={__depends__:[rAt,{__init__:["elementTemplatesReplaceBehavior","elementTemplatesConditionalBehavior","elementTemplatesGeneratedValueBehavior","elementTemplatesReferencedElementBehavior","elementTemplatesUpdatePropertiesOrderBehavior","elementTemplatesCalledElementBehavior"],elementTemplatesReplaceBehavior:["type",NAt],elementTemplatesConditionalBehavior:["type",PAt],elementTemplatesGeneratedValueBehavior:["type",(()=>{class n extends Qe{constructor(i,s,o,a,l){super(i),this._eventBus=i,this._elementTemplates=s,this._modeling=o,this.preExecute("shape.create",c=>{const u=c.shape,d=s.get(u);d&&d.properties.filter(f=>f.generatedValue).forEach(f=>{if(!ek(u,f))return;const h=Ro(f);z4e(l,a,u,f,h)})},!0)}}return n.$inject=["eventBus","elementTemplates","modeling","commandStack","bpmnFactory"],n})()],elementTemplatesReferencedElementBehavior:["type",jAt],elementTemplatesUpdatePropertiesOrderBehavior:["type",FAt],elementTemplatesCalledElementBehavior:["type",(()=>{class n extends Qe{constructor(i,s,o){super(i),this._modeling=s,this._elementTemplates=o,this.postExecuted(["element.updateProperties","element.updateModdleProperties"],this._ensureNoPropagation,!0,this)}_ensureNoPropagation(i){const{element:s}=i;if(!this._elementTemplates.get(s)||!T(s,"bpmn:CallActivity"))return;const o=Ii(s,"zeebe:CalledElement");if(o)for(const a of["propagateAllChildVariables","propagateAllParentVariables"])!1!==o.get(a)&&this._modeling.updateModdleProperties(s,o,{[a]:!1})}}return n.$inject=["eventBus","modeling","elementTemplates"],n})()]},TAt],__init__:["elementTemplatesLoader"],elementTemplates:["type",C4e],elementTemplatesLoader:["type",H7t]};function Q4e(n){const t=n.metadata,i=n.version;if(t){if(!Sr(t.created))return J4e(t.created);if(!Sr(t.updated))return J4e(t.updated)}return Sr(i)?null:i}function J4e(n){const t=new Date(n),i=t.getFullYear(),s=sk(String(t.getMonth()+1));return sk(String(t.getDate()))+"."+s+"."+i+" "+sk(String(t.getHours()))+":"+sk(String(t.getMinutes()))}function sk(n){return function HAt(n,t,i){for(;n.length<t;)n=i+n;return n}(n,2,"0")}function eCe(n={}){const{getTemplateId:t=b5}=n;return function(s){const{id:o,label:a,element:l,entries:c=[]}=s,[u,d]=xz(["groups",o,"open"],!1),p=!c.length;return L("div",{class:"bio-properties-panel-group bio-properties-panel-templates-group","data-group-id":"group-"+o,children:[L("div",{class:Tn()("bio-properties-panel-group-header",{empty:p,open:u&&!p}),onClick:()=>!p&&d(!u),children:[L("div",{title:a,class:"bio-properties-panel-group-header-title",children:a}),L("div",{class:"bio-properties-panel-group-header-buttons",children:[L(qAt,{element:l,getTemplateId:t}),!p&&L(UAt,{open:u})]})]}),L("div",{class:Tn()("bio-properties-panel-group-entries",{open:u&&!p}),children:c.map(h=>{const{component:m,id:g}=h;return Mr(m,{...h,key:g,element:l})})})]})}}function UAt({open:n}){return L(f_,{title:"Toggle section",class:"bio-properties-panel-arrow",children:L(lp,{class:n?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})})}function qAt({element:n,getTemplateId:t}){const s=function tIt(n,t,i){const s=i(t),o=n.get(t);if(!s)return{type:"NO_TEMPLATE"};if(!o)return{type:"UNKNOWN_TEMPLATE",templateId:s};if(o.deprecated)return{type:"DEPRECATED_TEMPLATE",template:o};const a=n.getLatest(s,{deprecated:!0})[0];return a!==o?{type:"OUTDATED_TEMPLATE",template:o,newerTemplate:a}:{type:"KNOWN_TEMPLATE",template:o}}(O("elementTemplates"),n,t);return"NO_TEMPLATE"===s.type?L(WAt,{element:n}):"KNOWN_TEMPLATE"===s.type?L(GAt,{element:n}):"UNKNOWN_TEMPLATE"===s.type?L(KAt,{element:n}):"DEPRECATED_TEMPLATE"===s.type?L(QAt,{element:n,templateState:s}):"OUTDATED_TEMPLATE"===s.type?L(XAt,{element:n,templateState:s}):void 0}function WAt({element:n}){const t=O("translate"),i=O("eventBus");return L(f_,{title:"Select a template",class:"bio-properties-panel-select-template-button",onClick:()=>i.fire("elementTemplates.select",{element:n}),children:[L(fD,{}),L("span",{children:t("Select")})]})}function GAt({element:n}){const t=O("translate"),i=O("elementTemplates"),s=[{entry:t("Unlink"),action:()=>i.unlinkTemplate(n)},{entry:L(ok,{}),action:()=>i.removeTemplate(n)}];return L(gD,{menuItems:s,class:"bio-properties-panel-applied-template-button",children:L(f_,{children:[L("span",{children:t("Applied")}),L(lp,{class:"bio-properties-panel-arrow-down"})]})})}function ok(){return L("span",{class:"bio-properties-panel-remove-template",children:O("translate")("Remove")})}function KAt({element:n}){const t=O("translate"),i=O("elementTemplates"),s=[{entry:L(YAt,{})},{separator:!0},{entry:t("Unlink"),action:()=>i.unlinkTemplate(n)},{entry:L(ok,{}),action:()=>i.removeTemplate(n)}];return L(gD,{menuItems:s,class:"bio-properties-panel-template-not-found",children:L(f_,{children:[L("span",{children:t("Not found")}),L(lp,{class:"bio-properties-panel-arrow-down"})]})})}function YAt(){return L("div",{class:"bio-properties-panel-template-not-found-text",children:O("translate")("The template applied was not found. Therefore, its properties cannot be shown. Unlink to access the data.")})}function XAt({element:n,templateState:t}){const{newerTemplate:i}=t,s=O("translate"),o=O("elementTemplates"),a=[{entry:L(ZAt,{newerTemplate:i})},{separator:!0},{entry:s("Update"),action:()=>o.applyTemplate(n,i)},{entry:s("Unlink"),action:()=>o.unlinkTemplate(n)},{entry:L(ok,{}),action:()=>o.removeTemplate(n)}];return L(gD,{menuItems:a,class:"bio-properties-panel-template-update-available",children:L(f_,{children:[L("span",{children:s("Update available")}),L(lp,{class:"bio-properties-panel-arrow-down"})]})})}function ZAt({newerTemplate:n}){return L("div",{class:"bio-properties-panel-template-update-available-text",children:O("translate")("A new version of the template is available: {templateVersion}",{templateVersion:Q4e(n)})})}function QAt({element:n,templateState:t}){const{template:i}=t,s=O("translate"),o=O("elementTemplates"),a=[{entry:L(JAt,{template:i})},{separator:!0},{entry:s("Unlink"),action:()=>o.unlinkTemplate(n)},{entry:L(ok,{}),action:()=>o.removeTemplate(n)}];return L(gD,{menuItems:a,class:"bio-properties-panel-deprecated-template-button",children:L(f_,{children:[L("span",{children:s("Deprecated")}),L(lp,{class:"bio-properties-panel-arrow-down"})]})})}function JAt({template:n}){const t=O("translate"),{message:i=t("This template is deprecated."),documentationRef:s}=n.deprecated;return L("div",{class:"bio-properties-panel-deprecated-template-text",children:[i,s&&L(qu,{children:["\xa0",L("a",{href:s,children:L(eIt,{})})]})]})}function eIt(){return L("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z",fill:"#818798"})})}function tCe({element:n,elementTemplates:t}){const i=t.get(n);return i?[{id:"template-name",component:nIt,template:i},{id:"template-version",component:rIt,template:i},{id:"template-description",component:iIt,template:i}].filter(s=>!!s.component):[]}function nIt({id:n,template:t}){return L(uq,{id:n,label:O("translate")("Name"),content:t.name})}function rIt({id:n,template:t}){const i=O("translate"),s=Q4e(t);return s?L(uq,{id:n,label:i("Version"),content:s}):null}function iIt({id:n,template:t}){const i=O("translate"),{description:s}=t;return s?L(uq,{id:n,label:i("Description"),content:t.description}):null}function uq({id:n,label:t,content:i}){return L("div",{"data-entry-id":n,class:"bio-properties-panel-entry bio-properties-panel-text-entry",children:[L("span",{class:"bio-properties-panel-label",children:t}),L("span",{class:"bio-properties-panel-text-entry__content",children:i})]})}var nCe,sIt={};function Cc(n,t,i){if(3===n.nodeType){var s="textContent"in n?n.textContent:n.nodeValue||"";if(!1!==Cc.options.trim){var o=0===t||t===i.length-1;if((!(s=s.match(/^[\s\n]+$/g)&&"all"!==Cc.options.trim?" ":s.replace(/(^[\s\n]+|[\s\n]+$)/g,"all"===Cc.options.trim||o?"":" "))||" "===s)&&i.length>1&&o)return null}return s}if(1!==n.nodeType)return null;var a=String(n.nodeName).toLowerCase();if("script"===a&&!Cc.options.allowScripts)return null;var l,c,u=Cc.h(a,function(d){var p=d&&d.length;if(!p)return null;for(var f={},h=0;h<p;h++){var m=d[h],g=m.name,y=m.value;"on"===g.substring(0,2)&&Cc.options.allowEvents&&(y=new Function(y)),f[g]=y}return f}(n.attributes),(c=(l=n.childNodes)&&Array.prototype.map.call(l,Cc).filter(oIt))&&c.length?c:null);return Cc.visitor&&Cc.visitor(u),u}var rCe,oIt=function(n){return n},aIt={};function ak(n){var t=(n.type||"").toLowerCase(),i=ak.map;i&&i.hasOwnProperty(t)?(n.type=i[t],n.props=Object.keys(n.props||{}).reduce(function(s,o){var a;return s[(a=o,a.replace(/-(.)/g,function(l,c){return c.toUpperCase()}))]=n.props[o],s},{})):n.type=t.replace(/[^a-z0-9-]/i,"")}var iCe=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t,t.setReviver=function(i){rCe=i},t.prototype.shouldComponentUpdate=function(i){var s=this.props;return i.wrap!==s.wrap||i.type!==s.type||i.markup!==s.markup},t.prototype.setComponents=function(i){if(this.map={},i)for(var s in i)if(i.hasOwnProperty(s)){var o=s.replace(/([A-Z]+)([A-Z][a-z0-9])|([a-z0-9]+)([A-Z])/g,"$1$3-$2$4").toLowerCase();this.map[o]=i[s]}},t.prototype.render=function(i){var s=i.wrap;void 0===s&&(s=!0);var o,a=i.type,l=i.markup,c=i.components,u=i.reviver,d=i.onError,p=i["allow-scripts"],f=i["allow-events"],h=i.trim,m=function(E,x){var b={};for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&-1===x.indexOf(w)&&(b[w]=E[w]);return b}(i,["wrap","type","markup","components","reviver","onError","allow-scripts","allow-events","trim"]),g=u||this.reviver||this.constructor.prototype.reviver||rCe||Mr;this.setComponents(c);var y={allowScripts:p,allowEvents:f,trim:h};try{o=function(E,x,b,w,C){var P=function(k,F){var M,B,q,ue,H="html"===F?"text/html":"application/xml";"html"===F?(ue="body",q="<!DOCTYPE html>\n<html><body>"+k+"</body></html>"):(ue="xml",q='<?xml version="1.0" encoding="UTF-8"?>\n<xml>'+k+"</xml>");try{M=(new DOMParser).parseFromString(q,H)}catch(Ee){B=Ee}if(M||"html"!==F||((M=nCe||(nCe=function(){if(document.implementation&&document.implementation.createHTMLDocument)return document.implementation.createHTMLDocument("");var Ee=document.createElement("iframe");return Ee.style.cssText="position:absolute; left:0; top:-999em; width:1px; height:1px; overflow:hidden;",Ee.setAttribute("sandbox","allow-forms"),document.body.appendChild(Ee),Ee.contentWindow.document}())).open(),M.write(q),M.close()),M){var ee=M.getElementsByTagName(ue)[0],Q=ee.firstChild;return k&&!Q&&(ee.error="Document parse failed."),Q&&"parsererror"===String(Q.nodeName).toLowerCase()&&(Q.removeChild(Q.firstChild),Q.removeChild(Q.lastChild),ee.error=Q.textContent||Q.nodeValue||B||"Unknown error",ee.removeChild(Q)),ee}}(E,x);if(P&&P.error)throw new Error(P.error);var D=P&&P.body||P;ak.map=w||aIt;var k,M,B,I=D&&(k=D,M=b,B=C,Cc.visitor=ak,Cc.h=M,Cc.options=B||sIt,Cc(k));return ak.map=null,I&&I.props&&I.props.children||null}(l,a,g,this.map,y)}catch(E){d?d({error:E}):typeof console<"u"&&console.error&&console.error("preact-markup: "+E)}if(!1===s)return o||null;var v=m.hasOwnProperty("className")?"className":"class",_=m[v];return _?_.splice?_.splice(0,0,"markup"):"string"==typeof _?m[v]+=" markup":"object"==typeof _&&(_.markup=!0):m[v]="markup",g("div",m,o||null)},t}(Wu);const uIt=["h1","h2","h3","h4","h5","span","em","a","p","div","ul","ol","li","hr","blockquote","img","pre","code","br","strong"],dIt=["align","alt","class","href","id","name","rel","target","src"],pIt=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,fIt=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,hIt=document.createElement("form");function sCe(n){const t=(new DOMParser).parseFromString(`<!DOCTYPE html>\n<html><body><div>${n}`,"text/html");t.normalize();const i=t.body.firstChild;return i?(oCe(i),(new XMLSerializer).serializeToString(i)):""}function oCe(n){if(3===n.nodeType)return;if(1!==n.nodeType)return n.remove();const t=n.tagName.toLowerCase();if(!uIt.includes(t))return n.remove();const i=n.attributes;for(let s=i.length;s--;){const o=i[s],a=o.name,l=a.toLowerCase(),c=o.value.trim();n.removeAttribute(a),mIt(0,l,c)&&n.setAttribute(a,c)}"a"===t&&"_blank"===n.getAttribute("target")&&"noopener"!==n.getAttribute("rel")&&n.setAttribute("rel","noopener");for(let s=n.childNodes.length;s--;)oCe(n.childNodes[s])}function mIt(n,t,i){return!(!dIt.includes(t)||("id"===t||"name"===t)&&(i in document||i in hIt)||"target"===t&&"_blank"!==i||"href"===t&&!pIt.test(i.replace(fIt,"")))}function J0(n){const{tooltip:t}=n;return t&&L(iCe,{markup:sCe(t),trim:!1})}function aCe(n,t,i,s){const o=wi(A_(n,t,i,s),[n,t,i,s]),a=wi(M_(i,s),[i,s]),[l,c]=Un(gIt(s,a())),u=wi(f=>{!l&&"string"==typeof f&&f.startsWith("=")&&c(!0),l&&("string"!=typeof f||!f.startsWith("="))&&c(!1)},[l]),d=wi((f,h)=>{u(f),o(p4e(f,s.type))},[o,s,u]),p=wi(()=>l?a():lCe(a(),s.type),[a,s,l]);return YD(s)?[p,d]:[a,o]}const lCe=(n,t)=>typeof n>"u"?n:("string"==typeof n&&n.startsWith("=")&&(n=n.slice(1)),"Number"===t?Number(n):"Boolean"===t?"false"!==n:n),gIt=(n,t)=>!YD(n)||("Boolean"===n.type?!("=true"===t||"=false"===t):"Number"!==n.type||isNaN(lCe(t,n.type)));function M_(n,t){return function(){return ek(n,t)}}function A_(n,t,i,s){return function(a){return z4e(n,t,i,s,a)}}function I_(n,t){return i=>function H4e(n,t,i=vAt){const{constraints:s={},label:o}=t,{maxLength:a,minLength:l,notEmpty:c}=s;if(c&&function gAt(n){return"string"==typeof n?!n.trim().length:void 0===n}(n))return`${o} ${i("must not be empty.")}`;if(t.feel&&function bAt(n){return $n(n)&&n.trim().startsWith("=")}(n))return;if(a&&(n||"").length>a)return`${o} ${i("must have max length {maxLength}.",{maxLength:a})}`;if(l&&(n||"").length<l)return`${o} ${i("must have min length {minLength}.",{minLength:l})}`;let{pattern:u}=s;if(u){let d;if($n(u)||(d=u.message,u=u.value),!function yAt(n,t){return new RegExp(t).test(n)}(n,u))return d?`${o} ${i(d)}`:`${o} ${i("must match pattern {pattern}.",{pattern:u})}`}}(i,t,n)}function cCe(n){return["zeebe:property","zeebe:taskHeader"].includes(n.binding.type)}function Sc(n){const{description:t}=n,i=O("translate");return t&&L(iCe,{markup:sCe(i(t)),trim:!1})}function bIt(n){const{element:t,id:i,property:s}=n,{description:o,editable:a,label:l,feel:c,language:u,placeholder:d,tooltip:p}=s,f=O("bpmnFactory"),h=O("commandStack"),m=O("debounceInput"),g=O("translate");return Ma({debounce:m,element:t,id:i,label:l,feel:c,placeholder:d,monospace:!!u,autoResize:!0,description:Sc({description:o}),getValue:M_(t,s),setValue:A_(f,h,t,s),validate:I_(g,s),disabled:!1===a,tooltip:J0({tooltip:p})})}function _It(n){const{element:t,id:i,property:s}=n,{description:o,editable:a,label:l,feel:c,placeholder:u,tooltip:d}=s,p=O("bpmnFactory"),f=O("commandStack"),h=O("debounceInput"),m=O("translate");return ft({debounce:h,element:t,getValue:M_(t,s),id:i,label:l,feel:c,placeholder:u,description:Sc({description:o}),setValue:A_(p,f,t,s),validate:I_(m,s),disabled:!1===a,tooltip:J0({tooltip:d})})}function uCe(n){return t=>{const{bpmnElement:i,element:s}=t,o=(i||s).businessObject,[a,l]=Un([]),c=O("eventBus"),u=function EIt(n,t){return O(n,!1)||t}("variableResolver",{getVariablesForElement:HEe});return vn(()=>{const d=function(){var f=be(function*(){const h=yield u.getVariablesForElement(o);l(h.map(m=>({...m,info:m.info||m.origin&&"Written in "+m.origin.map(g=>g.name||g.id).join(", ")})))});return function(){return f.apply(this,arguments)}}(),p=()=>{d()};return c.on("commandStack.changed",p),p(),()=>{c.off("commandStack.changed",p)}},[o]),L(n,{...t,variables:a})}}function dCe(n){return t=>{const i=Do(()=>{const s=O("config");return s&&s.propertiesPanel&&s.propertiesPanel.feelTooltipContainer},[]);return L(n,{...t,tooltipContainer:i})}}const pCe=dCe(w1),fCe=dCe(function bEt(n){return L(w1,{class:"bio-properties-panel-feel-textarea",OptionalComponent:mEt,...n})}),wIt=uCe(pCe),xIt=uCe(fCe);function hCe(n){const{element:t,id:i,property:s}=n,{description:o,editable:a,label:l,feel:c,placeholder:u,tooltip:d}=s,p=O("bpmnFactory"),f=O("commandStack"),h=O("debounceInput"),m=O("translate");return(cCe(s)?pCe:wIt)({debounce:h,element:t,getValue:M_(t,s),id:i,label:l,feel:c,placeholder:u,description:Sc({description:o}),setValue:A_(p,f,t,s),validate:I_(m,s),disabled:!1===a,tooltip:J0({tooltip:d})})}function CIt(n){const{element:t,id:i,property:s}=n,{description:o,editable:a,label:l,feel:c,placeholder:u,tooltip:d}=s,p=O("bpmnFactory"),f=O("commandStack"),h=O("debounceInput"),m=O("translate");return(cCe(s)?fCe:xIt)({debounce:h,element:t,getValue:M_(t,s),id:i,label:l,feel:c,placeholder:u,description:Sc({description:o}),setValue:A_(p,f,t,s),validate:I_(m,s),disabled:!1===a,tooltip:J0({tooltip:d})})}function SIt(n){const{element:t,id:i,property:s}=n,{description:o,editable:a,label:l,tooltip:c}=s,u=O("bpmnFactory"),d=O("commandStack"),p=O("translate");return Kr({element:t,id:i,label:l,getOptions:()=>{const{choices:h,optional:m}=s;let g=[];return g=h.map(({name:y,value:v})=>({label:y,value:v})),m&&(g=[{label:"",value:void 0},...g]),g},description:Sc({description:o}),getValue:M_(t,s),setValue:A_(u,d,t,s),validate:I_(p,s),disabled:!1===a,tooltip:J0({tooltip:c})})}function OIt(n){const{element:t,id:i,property:s}=n,{description:o,editable:a,label:l,tooltip:c,feel:u}=s,d=O("bpmnFactory"),p=O("commandStack"),f=O("debounceInput"),h=O("translate"),m="optional"===u?_Et:ta,[g,y]=aCe(d,p,t,s);return m({element:t,debounce:f,translate:h,getValue:g,id:i,label:l,description:Sc({description:o}),setValue:y,disabled:!1===a,tooltip:J0({tooltip:c})})}function TIt(n){const{element:t,id:i,property:s}=n,{description:o,editable:a,label:l,feel:c,tooltip:u}=s,d="optional"===c?vEt:lEt,p=O("bpmnFactory"),f=O("commandStack"),h=O("debounceInput"),m=O("translate"),[g,y]=aCe(p,f,t,s),v=wi(_=>YD(s)&&un(_)&&_.toString().includes("e")?m("Scientific notation is disallowed in FEEL."):I_(m,s)(_),[m,s]);return d({debounce:h,element:t,getValue:g,id:i,label:l,description:Sc({description:o}),setValue:y,validate:v,disabled:!1===a,tooltip:J0({tooltip:u})})}function mCe(n,t){const{id:s,label:o,openByDefault:a=!0,properties:l,templateId:c,tooltip:u}=t,d={id:s,label:o,component:er,entries:[],shouldOpen:a,tooltip:u};l.forEach((p,f)=>{const h=function DIt(n,t,i){let{type:s,feel:o}=i;return s||(s=function kIt(n){const{binding:t}=n,{type:i}=t;if([sq,M1,T_,S_,O_,QD,x5].includes(i))return"String"}(i)),"required"===o?{id:n,component:hCe,isEdited:Xi,property:i}:"Number"===s?{id:n,component:TIt,isEdited:cEt,property:i}:"Boolean"===s?{id:n,component:OIt,isEdited:wc,property:i}:"Dropdown"===s?{id:n,component:SIt,isEdited:fi,property:i}:"String"===s?o?{id:n,component:hCe,isEdited:Xi,property:i}:{id:n,component:_It,isEdited:jt,property:i}:"Text"===s?o?{id:n,component:CIt,isEdited:Xi,property:i}:{id:n,component:bIt,isEdited:$l,property:i}:void 0}(`custom-entry-${c}-${f}`,0,p);h&&d.entries.push(h)}),d.entries.length&&n.push(d)}function dq(n){return T(n,"bpmn:ReceiveTask")?G(n):function gCe(n,t){return It(G(n).get("eventDefinitions")||[],function(o){return T(o,t)})}(n,"bpmn:MessageEventDefinition")}const vCe="create-new";function LIt(n){const{element:t}=n,i=O("bpmnFactory"),s=O("modeling"),o=O("translate"),a=dq(t);return function MIt(n){const{autoFocusEntry:t,element:i,getOptions:s}=n,o=s(i),a=c_(o);return vn(()=>{if(t&&a&&o.length>a.length){const l=dn(`[data-entry-id="${t}"]`),c=dn(".bio-properties-panel-input",l);c&&c.select()}},[o]),L(Kr,{...n})}({element:t,id:"messageRef",label:o("Global message reference"),autoFocusEntry:"messageName",getValue:()=>{const d=function IIt(n){const t=dq(n);return t&&t.get("messageRef")}(t);return d?d.get("id"):""},setValue:d=>{const p=w5(a);let f;if(d===vCe){const h=function A4e(n){return new Nd([32,32,1]).nextPrefixed(n)}("Message_");f=No("bpmn:Message",{id:h,name:h},p,i),d=f.get("id")}return f=function q7t(n,t,i){return I4e(n,t).find(o=>o.id===i)}(a,"bpmn:Message",d)||f,s.updateModdleProperties(t,a,{messageRef:f})},getOptions:()=>{let d=[{value:"",label:o("<none>")},{value:vCe,label:o("Create new ...")}];const f=function FIt(n){return n.filter(t=>!t.get("zeebe:modelerTemplate"))}(I4e(G(t),"bpmn:Message"));return function BIt(n){return Ys(n,t=>(t.name||"").toLowerCase())}(f).forEach(h=>{d.push({value:h.get("id"),label:h.get("name")})}),d}})}const bCe=["general","documentation","multiInstance","Zeebe__ExecutionListeners"];function _Ce(n,t,i){let s=n;Array.isArray(n)||(s=[n]);const o=t.reduce((a,l,c)=>s.includes(l.id)?c:a,-1);-1!==o?t.splice(o+1,0,...i):t.unshift(...i)}var WIt={__depends__:[zAt,{__depends__:[So],__init__:["elementTemplatesPropertiesProvider"],elementTemplatesPropertiesProvider:["type",(()=>{let n=class{constructor(i,s,o){s.registerProvider(300,this),this._elementTemplates=i,this._injector=o}getGroups(i){return s=>{const o=this._injector;if(function $It(n,t){const i=function zIt(n,t){return n.find(i=>i.id===t)}(n,"message");i&&(i.entries=function HIt(n,t){return n.map(i=>t.find(s=>s.id===i.id)||i)}(i.entries,function NIt(n){const{element:t}=n;return function AIt(n){return T(n,"bpmn:ReceiveTask")||Kt(n,["bpmn:StartEvent","bpmn:EndEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"])&&!!dq(n)}(t)?[{id:"messageRef",component:LIt,isEdited:fi}]:[]}({element:t})))}(s,i),!this._shouldShowTemplateProperties(i))return s;const a=o.get("translate");s=s.slice();const l={element:i,id:"ElementTemplates__Template",label:a("Template"),component:eCe({getTemplateId:Aa}),entries:tCe({element:i,elementTemplates:this._elementTemplates})};_Ce(bCe,s,[l]);let c=this._elementTemplates.get(i);return c&&(c=k_(i,c),_Ce("ElementTemplates__Template",s,[].concat(function PIt(n){const{element:t,elementTemplate:i,injector:s}=n,o=s.get("translate"),a=[],{id:l,properties:c,groups:u}=i,d=function yIt(n){return Fu(n,"group")}(c),p=[];return se(d,(f,h)=>{const m=function vIt(n,t){return It(n,i=>i.id===t)}(u,h);if(!m)return p.push(...f);mCe(a,{element:t,id:`ElementTemplates__CustomProperties-${h}`,label:o(m.label),openByDefault:m.openByDefault,properties:f,templateId:`${l}-${h}`,tooltip:J0({tooltip:m.tooltip})})}),p.length&&mCe(a,{id:"ElementTemplates__CustomProperties",label:o("Custom properties"),element:t,properties:p,templateId:l}),a}({element:i,elementTemplate:c,injector:o})))),Aa(i)&&(s=function UIt(n,t){return n.entriesVisible?t:t.filter(i=>bCe.includes(i.id)||i.id.startsWith("ElementTemplates__"))}(c||{},s)),s}}_shouldShowTemplateProperties(i){return Aa(i)||this._elementTemplates.getAll(i).length}};return n.$inject=["elementTemplates","propertiesPanel","injector"],n})()]}]};function yq(){}function VCe(n,t){this.model=n,this.properties=t}yq.prototype.get=function(n){return this.$model.properties.get(this,n)},yq.prototype.set=function(n,t){this.$model.properties.set(this,n,t)},VCe.prototype.createType=function(n){var t=this.model,i=this.properties,s=Object.create(yq.prototype);se(n.properties,function(l){!l.isMany&&void 0!==l.default&&(s[l.name]=l.default)}),i.defineModel(s,t),i.defineDescriptor(s,n);var o=n.ns.name;function a(l){i.define(this,"$type",{value:o,enumerable:!0}),i.define(this,"$attrs",{value:{}}),i.define(this,"$parent",{writable:!0}),se(l,Cs(function(c,u){this.set(u,c)},this))}return a.prototype=s,a.hasType=s.$instanceOf=this.model.hasType,i.defineModel(a,t),i.defineDescriptor(a,n),a};var GRt={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},$Ce={String:function(n){return n},Boolean:function(n){return"true"===n},Integer:function(n){return parseInt(n,10)},Real:function(n){return parseFloat(n)}};function vq(n,t){var i=$Ce[n];return i?i(t):t}function bq(n){return!!GRt[n]}function zCe(n){return!!$Ce[n]}function sa(n,t){var s,o,i=n.split(/:/);if(1===i.length)s=n,o=t;else{if(2!==i.length)throw new Error("expected <prefix:localName> or <localName>, got "+n);s=i[1],o=i[0]}return{name:n=(o?o+":":"")+s,prefix:o,localName:s}}function Oc(n){this.ns=n,this.name=n.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function em(n,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,se(n,Cs(this.registerPackage,this))}function HCe(n,t,i){var s=t[i];if(s in n)throw new Error("package with "+i+" <"+s+"> already defined")}function R1(n){this.model=n}function UCe(n,t,i){Object.defineProperty(n,t.name,{enumerable:!t.isReference,writable:!0,value:i,configurable:!0})}function _q(n){return n.replace(/^:/,"")}function yu(n,t={}){this.properties=new R1(this),this.factory=new VCe(this,this.properties),this.registry=new em(n,this.properties),this.typeCache={},this.config=t}Oc.prototype.build=function(){return nc(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},Oc.prototype.addProperty=function(n,t,i){"boolean"==typeof t&&(i=t,t=void 0),this.addNamedProperty(n,!1!==i);var s=this.properties;void 0!==t?s.splice(t,0,n):s.push(n)},Oc.prototype.replaceProperty=function(n,t,i){var s=n.ns,o=this.properties,a=this.propertiesByName,l=n.name!==t.name;if(n.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+n.ns.name+">");this.setIdProperty(t,!1)}if(n.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+n.ns.name+">");this.setBodyProperty(t,!1)}var c=o.indexOf(n);if(-1===c)throw new Error("property <"+s.name+"> not found in property list");o.splice(c,1),this.addProperty(t,i?void 0:c,l),a[s.name]=a[s.localName]=t},Oc.prototype.redefineProperty=function(n,t,i){var s=n.ns.prefix,o=t.split("#"),a=sa(o[0],s),l=sa(o[1],a.prefix).name,c=this.propertiesByName[l];if(!c)throw new Error("refined property <"+l+"> not found");this.replaceProperty(c,n,i),delete n.redefines},Oc.prototype.addNamedProperty=function(n,t){var i=n.ns,s=this.propertiesByName;t&&(this.assertNotDefined(n,i.name),this.assertNotDefined(n,i.localName)),s[i.name]=s[i.localName]=n},Oc.prototype.removeNamedProperty=function(n){var t=n.ns,i=this.propertiesByName;delete i[t.name],delete i[t.localName]},Oc.prototype.setBodyProperty=function(n,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+n.ns.name+">)");this.bodyProperty=n},Oc.prototype.setIdProperty=function(n,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+n.ns.name+">)");this.idProperty=n},Oc.prototype.assertNotTrait=function(n){if((n.extends||[]).length)throw new Error(`cannot create <${n.name}> extending <${n.extends}>`)},Oc.prototype.assertNotDefined=function(n,t){var i=n.name,s=this.propertiesByName[i];if(s)throw new Error("property <"+i+"> already defined; override of <"+s.definedBy.ns.name+"#"+s.ns.name+"> by <"+n.definedBy.ns.name+"#"+n.ns.name+"> not allowed without redefines")},Oc.prototype.hasProperty=function(n){return this.propertiesByName[n]},Oc.prototype.addTrait=function(n,t){t&&this.assertNotTrait(n);var i=this.allTypesByName,s=this.allTypes,o=n.name;o in i||(se(n.properties,Cs(function(a){a=pe({},a,{name:a.ns.localName,inherited:t}),Object.defineProperty(a,"definedBy",{value:n});var l=a.replaces,c=a.redefines;l||c?this.redefineProperty(a,l||c,l):(a.isBody&&this.setBodyProperty(a),a.isId&&this.setIdProperty(a),this.addProperty(a))},this)),s.push(n),i[o]=n)},em.prototype.getPackage=function(n){return this.packageMap[n]},em.prototype.getPackages=function(){return this.packages},em.prototype.registerPackage=function(n){n=pe({},n);var t=this.packageMap;HCe(t,n,"prefix"),HCe(t,n,"uri"),se(n.types,Cs(function(i){this.registerType(i,n)},this)),t[n.uri]=t[n.prefix]=n,this.packages.push(n)},em.prototype.registerType=function(n,t){var i=sa((n=pe({},n,{superClass:(n.superClass||[]).slice(),extends:(n.extends||[]).slice(),properties:(n.properties||[]).slice(),meta:pe(n.meta||{})})).name,t.prefix),s=i.name,o={};se(n.properties,Cs(function(a){var l=sa(a.name,i.prefix),c=l.name;bq(a.type)||(a.type=sa(a.type,l.prefix).name),pe(a,{ns:l,name:c}),o[c]=a},this)),pe(n,{ns:i,name:s,propertiesByName:o}),se(n.extends,Cs(function(a){var l=sa(a,i.prefix),c=this.typeMap[l.name];c.traits=c.traits||[],c.traits.push(s)},this)),this.definePackage(n,t),this.typeMap[s]=n},em.prototype.mapTypes=function(n,t,i){var s=bq(n.name)?{name:n.name}:this.typeMap[n.name],o=this;function a(u,d){var p=sa(u,bq(u)?"":n.prefix);o.mapTypes(p,t,d)}function l(u){return a(u,!0)}if(!s)throw new Error("unknown type <"+n.name+">");se(s.superClass,i?l:function c(u){return a(u,!1)}),t(s,!i),se(s.traits,l)},em.prototype.getEffectiveDescriptor=function(n){var t=sa(n),i=new Oc(t);this.mapTypes(t,function(o,a){i.addTrait(o,a)});var s=i.build();return this.definePackage(s,s.allTypes[s.allTypes.length-1].$pkg),s},em.prototype.definePackage=function(n,t){this.properties.define(n,"$pkg",{value:t})},R1.prototype.set=function(n,t,i){if(!$n(t)||!t.length)throw new TypeError("property name must be a non-empty string");var s=this.getProperty(n,t),o=s&&s.name;!function KRt(n){return typeof n>"u"}(i)?s?o in n?n[o]=i:UCe(n,s,i):n.$attrs[_q(t)]=i:s?delete n[o]:delete n.$attrs[_q(t)]},R1.prototype.get=function(n,t){var i=this.getProperty(n,t);if(!i)return n.$attrs[_q(t)];var s=i.name;return!n[s]&&i.isMany&&UCe(n,i,[]),n[s]},R1.prototype.define=function(n,t,i){if(!i.writable){var s=i.value;delete(i=pe({},i,{get:function(){return s}})).value}Object.defineProperty(n,t,i)},R1.prototype.defineDescriptor=function(n,t){this.define(n,"$descriptor",{value:t})},R1.prototype.defineModel=function(n,t){this.define(n,"$model",{value:t})},R1.prototype.getProperty=function(n,t){var i=this.model,s=i.getPropertyDescriptor(n,t);if(s)return s;if(t.includes(":"))return null;const o=i.config.strict;if(typeof o<"u"){const a=new TypeError(`unknown property <${t}> on <${n.$type}>`);if(o)throw a;typeof console<"u"&&console.warn(a)}return null},yu.prototype.create=function(n,t){var i=this.getType(n);if(!i)throw new Error("unknown type <"+n+">");return new i(t)},yu.prototype.getType=function(n){var t=this.typeCache,i=$n(n)?n:n.ns.name,s=t[i];return s||(n=this.registry.getEffectiveDescriptor(i),s=t[i]=this.factory.createType(n)),s},yu.prototype.createAny=function(n,t,i){var s=sa(n),o={$type:n,$instanceOf:function(l){return l===this.$type},get:function(l){return this[l]},set:function(l,c){Ah(this,[l],c)}};return this.properties.defineDescriptor(o,{name:n,isGeneric:!0,ns:{prefix:s.prefix,localName:s.localName,uri:t}}),this.properties.defineModel(o,this),this.properties.define(o,"get",{enumerable:!1,writable:!0}),this.properties.define(o,"set",{enumerable:!1,writable:!0}),this.properties.define(o,"$parent",{enumerable:!1,writable:!0}),this.properties.define(o,"$instanceOf",{enumerable:!1,writable:!0}),se(i,function(l,c){fr(l)&&void 0!==l.value?o[l.name]=l.value:o[c]=l}),o},yu.prototype.getPackage=function(n){return this.registry.getPackage(n)},yu.prototype.getPackages=function(){return this.registry.getPackages()},yu.prototype.getElementDescriptor=function(n){return n.$descriptor},yu.prototype.hasType=function(n,t){return void 0===t&&(t=n,n=this),t in n.$model.getElementDescriptor(n).allTypesByName},yu.prototype.getPropertyDescriptor=function(n,t){return this.getElementDescriptor(n).propertiesByName[t]},yu.prototype.getTypeDescriptor=function(n){return this.registry.typeMap[n]};var qCe=String.fromCharCode,YRt=Object.prototype.hasOwnProperty,XRt=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,O5={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function ZRt(n,t,i,s){return s?YRt.call(O5,s)?O5[s]:"&"+s+";":qCe(t||parseInt(i,16))}function N1(n){return n.length>3&&-1!==n.indexOf("&")?n.replace(XRt,ZRt):n}Object.keys(O5).forEach(function(n){O5[n.toUpperCase()]=O5[n]});var WCe="non-whitespace outside of root node";function F_(n){return new Error(n)}function GCe(n){return"missing namespace for prefix <"+n+">"}function yk(n){return{get:n,enumerable:!0}}function QRt(n){var i,t={};for(i in n)t[i]=n[i];return t}function Eq(n){return n+"$uri"}function KCe(){return{line:0,column:0}}function e9t(n){throw n}function YCe(n){if(!this)return new YCe(n);var i,s,o,a,c,u,d,p,v,t=n&&n.proxy,l=e9t,f=KCe,h=!1,m=!1,g=null,y=!1;function _(b){b instanceof Error||(b=F_(b)),g=b,l(b,f)}function E(b){c&&(b instanceof Error||(b=F_(b)),c(b,f))}this.on=function(b,w){if("function"!=typeof w)throw F_("required args <name, cb>");switch(b){case"openTag":s=w;break;case"text":i=w;break;case"closeTag":o=w;break;case"error":l=w;break;case"warn":c=w;break;case"cdata":a=w;break;case"attention":p=w;break;case"question":d=w;break;case"comment":u=w;break;default:throw F_("unsupported event: "+b)}return this},this.ns=function(b){if(typeof b>"u"&&(b={}),"object"!=typeof b)throw F_("required args <nsMap={}>");var C,w={};for(C in b)w[C]=b[C];return m=!0,v=w,this},this.parse=function(b){if("string"!=typeof b)throw F_("required args <xml=string>");return g=null,function x(b){var P,q,ue,H,ee,Q,Ee,Te,Ve,Pe,j,w=m?[]:null,C=m?function JRt(n){var i,s,t={};for(i in n)t[s=n[i]]=s,t[Eq(s)]=i;return t}(v):null,D=[],I=0,k=!1,F=!1,M=0,B=0,de="",X=0;function R(){if(null!==j)return j;var N,z,W,Cr,At,an,ae,Ye,re,ve,le,Ke=m&&C.xmlns,tt=m&&h?[]:null,Ge=X,Nt=de,Ln=Nt.length,Et={},Ct={};e:for(;Ge<Ln;Ge++)if(re=!1,ve=Nt.charCodeAt(Ge),!(32===ve||ve<14&&ve>8)){for((ve<65||ve>122||ve>90&&ve<97)&&95!==ve&&58!==ve&&(E("illegal first char attribute name"),re=!0),le=Ge+1;le<Ln;le++)if(!((ve=Nt.charCodeAt(le))>96&&ve<123||ve>64&&ve<91||ve>47&&ve<59||46===ve||45===ve||95===ve)){if(32===ve||ve<14&&ve>8){E("missing attribute value"),Ge=le;continue e}if(61===ve)break;E("illegal attribute name char"),re=!0}if("xmlns:xmlns"===(Ye=Nt.substring(Ge,le))&&(E("illegal declaration of xmlns"),re=!0),34===(ve=Nt.charCodeAt(le+1)))-1===(le=Nt.indexOf('"',Ge=le+2))&&-1!==(le=Nt.indexOf("'",Ge))&&(E("attribute value quote missmatch"),re=!0);else if(39===ve)-1===(le=Nt.indexOf("'",Ge=le+2))&&-1!==(le=Nt.indexOf('"',Ge))&&(E("attribute value quote missmatch"),re=!0);else for(E("missing attribute value quotes"),re=!0,le+=1;le<Ln&&!(32===(ve=Nt.charCodeAt(le+1))||ve<14&&ve>8);le++);for(-1===le&&(E("missing closing quotes"),le=Ln,re=!0),re||(an=Nt.substring(Ge,le)),Ge=le;le+1<Ln&&!(32===(ve=Nt.charCodeAt(le+1))||ve<14&&ve>8);le++)Ge===le&&(E("illegal character after attribute end"),re=!0);if(Ge=le+1,re)continue e;if(Ye in Ct){E("attribute <"+Ye+"> already defined");continue}if(Ct[Ye]=!0,!m){Et[Ye]=an;continue}if(h){if(null!==(At="xmlns"===Ye?"xmlns":120===Ye.charCodeAt(0)&&"xmlns:"===Ye.substr(0,6)?Ye.substr(6):null)){if(N=N1(an),z=Eq(At),!(ae=v[N])){if("xmlns"===At||z in C&&C[z]!==N)do{ae="ns"+I++}while(typeof C[ae]<"u");else ae=At;v[N]=ae}C[At]!==ae&&(Cr||(C=QRt(C),Cr=!0),C[At]=ae,"xmlns"===At&&(C[Eq(ae)]=N,Ke=ae),C[z]=N),Et[Ye]=an;continue}tt.push(Ye,an);continue}if(-1===(ve=Ye.indexOf(":"))){Et[Ye]=an;continue}if(!(W=C[Ye.substring(0,ve)])){E(GCe(Ye.substring(0,ve)));continue}Et[Ye=Ke===W?Ye.substr(ve+1):W+Ye.substr(ve)]=an}if(h)for(Ge=0,Ln=tt.length;Ge<Ln;Ge++){if(Ye=tt[Ge++],an=tt[Ge],-1!==(ve=Ye.indexOf(":"))){if(!(W=C[Ye.substring(0,ve)])){E(GCe(Ye.substring(0,ve)));continue}Ye=Ke===W?Ye.substr(ve+1):W+Ye.substr(ve)}Et[Ye]=an}return j=Et}for(f=function A(){for(var Ge,Nt,N=/(\r\n|\r|\n)/g,z=0,W=0,Ke=0,tt=B;M>=Ke&&(Ge=N.exec(b))&&!((tt=Ge[0].length+Ge.index)>M);)z+=1,Ke=tt;return-1==M?(W=tt,Nt=b.substring(B)):0===B?Nt=b.substring(B,M):(W=M-Ke,Nt=-1==B?b.substring(M):b.substring(M,B+1)),{data:Nt,line:z,column:W}},t&&(Pe=Object.create({},{name:yk(function(){return Te}),originalName:yk(function(){return Ve}),attrs:yk(R),ns:yk(function(){return C})}));-1!==B;){if(-1===(M=60===b.charCodeAt(B)?B:b.indexOf("<",B)))return D.length?_("unexpected end of file"):0===B?_("missing start tag"):void(B<b.length&&b.substring(B).trim()&&E(WCe));if(B!==M)if(D.length){if(i&&(i(b.substring(B,M),N1,f),y))return}else if(b.substring(B,M).trim()&&(E(WCe),y))return;if(33===(ee=b.charCodeAt(M+1))){if(91===(H=b.charCodeAt(M+2))&&"CDATA["===b.substr(M+3,6)){if(-1===(B=b.indexOf("]]>",M)))return _("unclosed cdata");if(a&&(a(b.substring(M+9,B),f),y))return;B+=3;continue}if(45===H&&45===b.charCodeAt(M+3)){if(-1===(B=b.indexOf("--\x3e",M)))return _("unclosed comment");if(u&&(u(b.substring(M+4,B),N1,f),y))return;B+=3;continue}}if(63!==ee){for(q=M+1;;q++){if(Q=b.charCodeAt(q),isNaN(Q))return B=-1,_("unclosed tag");if(34===Q)q=-1!==(H=b.indexOf('"',q+1))?H:q;else if(39===Q)q=-1!==(H=b.indexOf("'",q+1))?H:q;else if(62===Q){B=q;break}}if(33!==ee){if(j={},47===ee){if(k=!1,F=!0,!D.length)return _("missing open tag");if(q=Te=D.pop(),b.substring(M+2,H=M+2+q.length)!==q)return _("closing tag mismatch");for(;H<B;H++)if(!(32===(ee=b.charCodeAt(H))||ee>8&&ee<14))return _("close tag")}else{if(47===b.charCodeAt(B-1)?(q=Te=b.substring(M+1,B-1),k=!0,F=!0):(q=Te=b.substring(M+1,B),k=!0,F=!1),!(ee>96&&ee<123||ee>64&&ee<91||95===ee||58===ee))return _("illegal first char nodeName");for(H=1,ue=q.length;H<ue;H++)if(!((ee=q.charCodeAt(H))>96&&ee<123||ee>64&&ee<91||ee>47&&ee<59||45===ee||95===ee||46==ee)){if(32===ee||ee<14&&ee>8){Te=q.substring(0,H),j=null;break}return _("invalid nodeName")}F||D.push(Te)}if(m){if(P=C,k&&(F||w.push(P),null===j&&(h=-1!==q.indexOf("xmlns",H))&&(X=H,de=q,R(),h=!1)),Ve=Te,-1!==(ee=Te.indexOf(":"))){if(!(Ee=C[Te.substring(0,ee)]))return _("missing namespace on <"+Ve+">");Te=Te.substr(ee+1)}else Ee=C.xmlns;Ee&&(Te=Ee+":"+Te)}if(k&&(X=H,de=q,s&&(t?s(Pe,N1,F,f):s(Te,R,N1,F,f),y)))return;if(F){if(o&&(o(t?Pe:Te,N1,k,f),y))return;m&&(C=k?P:w.pop())}B+=1}else{if(p&&(p(b.substring(M,B+1),N1,f),y))return;B+=1}}else{if(-1===(B=b.indexOf("?>",M)))return _("unclosed question");if(d&&(d(b.substring(M,B+2),f),y))return;B+=2}}}(b),f=KCe,y=!1,g},this.stop=function(){y=!0}}function XCe(n){return n.xml&&"lowerCase"===n.xml.tagAlias}var wq={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"};function QCe(n){return n.xml&&n.xml.serialize}function JCe(n,t){return XCe(t)?n.prefix+":"+function n9t(n){return n.charAt(0).toUpperCase()+n.slice(1)}(n.localName):n.name}function tm(n){return new Error(n)}function Uf(n){return n.$descriptor}function s9t(n){pe(this,n),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(t){this.references.push(t)},this.addElement=function(t){if(!t)throw tm("expected element");var a,i=this.elementsById,o=Uf(t).idProperty;if(o&&(a=t.get(o.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(a))throw new Error("illegal ID <"+a+">");if(i[a])throw tm("duplicate ID <"+a+">");i[a]=t}},this.addWarning=function(t){this.warnings.push(t)}}function T5(){}function xq(){}function B_(){}function P5(n,t){this.property=n,this.context=t}function Cq(n,t){this.element=t,this.propertyDesc=n}function vk(){}function Ia(n,t,i){this.model=n,this.type=n.getType(t),this.context=i}function Sq(n,t,i){Ia.call(this,n,t,i)}function j_(n,t,i){this.model=n,this.context=i}function Oq(n){n instanceof yu&&(n={model:n}),pe(this,{lax:!1},n)}T5.prototype.handleEnd=function(){},T5.prototype.handleText=function(){},T5.prototype.handleNode=function(){},(xq.prototype=Object.create(T5.prototype)).handleNode=function(){return this},(B_.prototype=Object.create(T5.prototype)).handleText=function(n){this.body=(this.body||"")+n},(P5.prototype=Object.create(B_.prototype)).handleNode=function(n){if(this.element)throw tm("expected no sub nodes");return this.element=this.createReference(n),this},P5.prototype.handleEnd=function(){this.element.id=this.body},P5.prototype.createReference=function(n){return{property:this.property.ns.name,id:""}},(Cq.prototype=Object.create(B_.prototype)).handleEnd=function(){var n=this.body||"",t=this.element,i=this.propertyDesc;n=vq(i.type,n),i.isMany?t.get(i.name).push(n):t.set(i.name,n)},(vk.prototype=Object.create(B_.prototype)).handleNode=function(n){var t=this,i=this.element;return i?t=this.handleChild(n):(i=this.element=this.createElement(n),this.context.addElement(i)),t},(Ia.prototype=Object.create(vk.prototype)).addReference=function(n){this.context.addReference(n)},Ia.prototype.handleText=function(n){if(!Uf(this.element).bodyProperty)throw tm("unexpected body text <"+n+">");B_.prototype.handleText.call(this,n)},Ia.prototype.handleEnd=function(){var n=this.body,t=this.element,s=Uf(t).bodyProperty;s&&void 0!==n&&(n=vq(s.type,n),t.set(s.name,n))},Ia.prototype.createElement=function(n){var c,t=n.attributes,i=this.type,s=Uf(i),o=this.context,a=new i({}),l=this.model;return se(t,function(u,d){var p=s.propertiesByName[d];p&&p.isReference?p.isMany?se(u.split(" "),function(h){o.addReference({element:a,property:p.ns.name,id:h})}):o.addReference({element:a,property:p.ns.name,id:u}):(p?u=vq(p.type,u):"xmlns"===d?d=":"+d:(c=sa(d,s.ns.prefix),l.getPackage(c.prefix)&&o.addWarning({message:"unknown attribute <"+d+">",element:a,property:d,value:u})),a.set(d,u))}),a},Ia.prototype.getPropertyForNode=function(n){var i=sa(n.name),o=this.model,a=Uf(this.type),c=a.propertiesByName[i.name];if(c&&!c.isAttr){const d=function t9t(n){const t=QCe(n);return"property"!==t&&(t||null)}(c);if(d){const p=n.attributes[d];if(p){const f=function i9t(n,t,i){const s=sa(n,t.xmlns),a=sa(`${t[s.prefix]||s.prefix}:${s.localName}`);return function r9t(n,t){var i=n.name,s=n.localName,o=t&&t.xml&&t.xml.typePrefix;return o&&0===s.indexOf(o)?n.prefix+":"+s.slice(o.length):i}(a,i.getPackage(a.prefix))}(p,n.ns,o);return pe({},c,{effectiveType:Uf(o.getType(f)).name})}}return c}var u=o.getPackage(i.prefix);if(u){const d=JCe(i,u),p=o.getType(d);if(c=It(a.properties,function(f){return!f.isVirtual&&!f.isReference&&!f.isAttribute&&p.hasType(f.type)}))return pe({},c,{effectiveType:Uf(p).name})}else if(c=It(a.properties,function(d){return!d.isReference&&!d.isAttribute&&"Element"===d.type}))return c;throw tm("unrecognized element <"+i.name+">")},Ia.prototype.toString=function(){return"ElementDescriptor["+Uf(this.type).name+"]"},Ia.prototype.valueHandler=function(n,t){return new Cq(n,t)},Ia.prototype.referenceHandler=function(n){return new P5(n,this.context)},Ia.prototype.handler=function(n){return"Element"===n?new j_(this.model,n,this.context):new Ia(this.model,n,this.context)},Ia.prototype.handleChild=function(n){var t,i,s,o;if(t=this.getPropertyForNode(n),s=this.element,zCe(i=t.effectiveType||t.type))return this.valueHandler(t,s);var a=(o=t.isReference?this.referenceHandler(t).handleNode(n):this.handler(i).handleNode(n)).element;return void 0!==a&&(t.isMany?s.get(t.name).push(a):s.set(t.name,a),t.isReference?(pe(a,{element:s}),this.context.addReference(a)):a.$parent=s),o},(Sq.prototype=Object.create(Ia.prototype)).createElement=function(n){var t=n.name,i=sa(t),o=this.type,a=this.model.getPackage(i.prefix),l=a&&JCe(i,a)||t;if(!o.hasType(l))throw tm("unexpected element <"+n.originalName+">");return Ia.prototype.createElement.call(this,n)},(j_.prototype=Object.create(vk.prototype)).createElement=function(n){var t=n.name,i=sa(t);return this.model.createAny(t,n.ns[i.prefix+"$uri"],n.attributes)},j_.prototype.handleChild=function(n){var t=new j_(this.model,"Element",this.context).handleNode(n),i=this.element,s=t.element;return void 0!==s&&((i.$children=i.$children||[]).push(s),s.$parent=i),t},j_.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},Oq.prototype.fromXML=function(n,t,i){var s=t.rootHandler;t instanceof Ia?(s=t,t={}):"string"==typeof t?(s=this.handler(t),t={}):"string"==typeof s&&(s=this.handler(s));var o=this.model,a=this.lax,l=new s9t(pe({},t,{rootHandler:s})),c=new YCe({proxy:!0}),u=function o9t(){var n=[];return Object.defineProperty(n,"peek",{value:function(){return this[this.length-1]}}),n}();function d(w,C,P){var D=C(),I=D.line,k=D.column,F=D.data;"<"===F.charAt(0)&&-1!==F.indexOf(" ")&&(F=F.slice(0,F.indexOf(" "))+">");var M="unparsable content "+(F?F+" ":"")+"detected\n\tline: "+I+"\n\tcolumn: "+k+"\n\tnested error: "+w.message;if(P)return l.addWarning({message:M,error:w}),!0;throw tm(M)}function p(w,C){return d(w,C,!0)}s.context=l,u.push(s);var m=/^<\?xml /i,g=/ encoding="([^"]+)"/i,y=/^utf-8$/i;function E(w,C){try{u.peek().handleText(w)}catch(P){p(P,C)}}var b=o.getPackages().reduce(function(w,C){return w[C.uri]=C.prefix,w},Object.entries(wq).reduce(function(w,[C,P]){return w[P]=C,w},o.config&&o.config.nsMap||{}));return c.ns(b).on("openTag",function(w,C,P,D){var I=w.attrs||{},k=Object.keys(I).reduce(function(M,B){var q=C(I[B]);return M[B]=q,M},{});!function _(w,C){var P=u.peek();try{u.push(P.handleNode(w))}catch(D){d(D,C,a)&&u.push(new xq)}}({name:w.name,originalName:w.originalName,attributes:k,ns:w.ns},D)}).on("question",function v(w){if(m.test(w)){var C=g.exec(w),P=C&&C[1];!P||y.test(P)||l.addWarning({message:"unsupported document encoding <"+P+">, falling back to UTF-8"})}}).on("closeTag",function h(){u.pop().handleEnd()}).on("cdata",E).on("text",function(w,C,P){!function x(w,C){w.trim()&&E(w,C)}(C(w),P)}).on("error",d).on("warn",p),new Promise(function(w,C){var P;try{c.parse(n),function f(){var P,D,w=l.elementsById,C=l.references;for(P=0;D=C[P];P++){var I=D.element,k=w[D.id],F=Uf(I).propertiesByName[D.property];if(k||l.addWarning({message:"unresolved reference <"+D.id+">",element:D.element,property:D.property,value:D.id}),F.isMany){var M=I.get(F.name),B=M.indexOf(D);-1===B&&(B=M.length),k?M[B]=k:M.splice(B,1)}else I.set(F.name,k)}}()}catch(M){P=M}var D=s.element;!P&&!D&&(P=tm("failed to parse document as <"+s.type.$descriptor.name+">"));var I=l.warnings,k=l.references,F=l.elementsById;return P?(P.warnings=I,C(P)):w({rootElement:D,elementsById:F,references:k,warnings:I})})},Oq.prototype.handler=function(n){return new Sq(this.model,n)};var l9t=/<|>|'|"|&|\n\r|\n/g,e6e=/<|>|&/g;function mp(n){this.prefixMap={},this.uriMap={},this.used={},this.wellknown=[],this.custom=[],this.parent=n,this.defaultPrefixMap=n&&n.defaultPrefixMap||{}}function u9t(n,t){return XCe(t)?function c9t(n){return n.charAt(0).toLowerCase()+n.slice(1)}(n):n}function t6e(n,t){n.super_=t,n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}function n6e(n){return $n(n)?n:(n.prefix?n.prefix+":":"")+n.localName}mp.prototype.mapDefaultPrefixes=function(n){this.defaultPrefixMap=n},mp.prototype.defaultUriByPrefix=function(n){return this.defaultPrefixMap[n]},mp.prototype.byUri=function(n){return this.uriMap[n]||this.parent&&this.parent.byUri(n)},mp.prototype.add=function(n,t){this.uriMap[n.uri]=n,t?this.wellknown.push(n):this.custom.push(n),this.mapPrefix(n.prefix,n.uri)},mp.prototype.uriByPrefix=function(n){return this.prefixMap[n||"xmlns"]||this.parent&&this.parent.uriByPrefix(n)},mp.prototype.mapPrefix=function(n,t){this.prefixMap[n||"xmlns"]=t},mp.prototype.getNSKey=function(n){return void 0!==n.prefix?n.uri+"|"+n.prefix:n.uri},mp.prototype.logUsed=function(n){var t=n.uri,i=this.getNSKey(n);this.used[i]=this.byUri(t),this.parent&&this.parent.logUsed(n)},mp.prototype.getUsed=function(n){return[].concat(this.wellknown,this.custom).filter(i=>{var s=this.getNSKey(i);return this.used[s]})};var m9t={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},g9t={"<":"lt",">":"gt","&":"amp"};function r6e(n,t,i){return(n=$n(n)?n:""+n).replace(t,function(s){return"&"+i[s]+";"})}function Tq(n){this.tagName=n}function L1(){}function Pq(n){this.tagName=n}function Hi(n,t){this.body=[],this.attrs=[],this.parent=n,this.propertyDescriptor=t}function bk(n,t,i){Hi.call(this,n,t),this.serialization=i}function E9t(){this.value="",this.write=function(n){this.value+=n}}function w9t(n,t){var i=[""];this.append=function(s){return n.write(s),this},this.appendNewLine=function(){return t&&n.write("\n"),this},this.appendIndent=function(){return t&&n.write(i.join("  ")),this},this.indent=function(){return i.push(""),this},this.unindent=function(){return i.pop(),this}}function x9t(n){return n=pe({format:!1,preamble:!0},n||{}),{toXML:function t(i,s){var o=s||new E9t,a=new w9t(o,n.format);n.preamble&&a.append('<?xml version="1.0" encoding="UTF-8"?>\n');var l=new Hi,c=i.$model;if(l.getNamespaces().mapDefaultPrefixes(function C9t(n){const t=n.config&&n.config.nsMap||{},i={};for(const s in wq)i[s]=wq[s];for(const s in t)i[t[s]]=s;for(const s of n.getPackages())i[s.prefix]=s.uri;return i}(c)),l.build(i).serializeTo(a),!s)return o.value}}}function _k(n,t){yu.call(this,n,t)}Tq.prototype.build=function(n){return this.element=n,this},Tq.prototype.serializeTo=function(n){n.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},L1.prototype.serializeValue=L1.prototype.serializeTo=function(n){n.append(this.escape?function v9t(n){return r6e(n,e6e,g9t)}(this.value):this.value)},L1.prototype.build=function(n,t){return this.value=t,"String"===n.type&&-1!==t.search(e6e)&&(this.escape=!0),this},t6e(Pq,L1),Pq.prototype.serializeTo=function(n){n.appendIndent().append("<"+this.tagName+">"),this.serializeValue(n),n.append("</"+this.tagName+">").appendNewLine()},Hi.prototype.build=function(n){this.element=n;var s,o,t=n.$descriptor,i=this.propertyDescriptor,a=t.isGeneric;return s=a?this.parseGenericNsAttributes(n):this.parseNsAttributes(n),this.ns=i?this.nsPropertyTagName(i):this.nsTagName(t),this.tagName=this.addTagName(this.ns),a?this.parseGenericContainments(n):(o=function h9t(n){return hn(n.$descriptor.properties,function(i){var s=i.name;if(i.isVirtual||!po(n,s))return!1;var o=n[s];return o!==i.default&&null!==o&&(!i.isMany||o.length)})}(n),this.parseAttributes(function b9t(n){return hn(n,function(t){return t.isAttr})}(o)),this.parseContainments(function _9t(n){return hn(n,function(t){return!t.isAttr})}(o))),this.parseGenericAttributes(n,s),this},Hi.prototype.nsTagName=function(n){return function p9t(n,t){return pe(t.isGeneric?{localName:t.ns.localName}:{localName:u9t(t.ns.localName,t.$pkg)},n)}(this.logNamespaceUsed(n.ns),n)},Hi.prototype.nsPropertyTagName=function(n){return function f9t(n,t){return pe({localName:t.ns.localName},n)}(this.logNamespaceUsed(n.ns),n)},Hi.prototype.isLocalNs=function(n){return n.uri===this.ns.uri},Hi.prototype.nsAttributeName=function(n){var t;if(t=$n(n)?sa(n):n.ns,n.inherited)return{localName:t.localName};var i=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(i),this.isLocalNs(i)?{localName:t.localName}:pe({localName:t.localName},i)},Hi.prototype.parseGenericNsAttributes=function(n){return Object.entries(n).filter(([t,i])=>!t.startsWith("$")&&this.parseNsAttribute(n,t,i)).map(([t,i])=>({name:t,value:i}))},Hi.prototype.parseGenericContainments=function(n){var t=n.$body;t&&this.body.push((new L1).build({type:"String"},t));var i=n.$children;i&&se(i,s=>{this.body.push(new Hi(this).build(s))})},Hi.prototype.parseNsAttribute=function(n,t,i){var a,s=n.$model,o=sa(t);if("xmlns"===o.prefix&&(a={prefix:o.localName,uri:i}),!o.prefix&&"xmlns"===o.localName&&(a={uri:i}),!a)return{name:t,value:i};if(s&&s.getPackage(i))this.logNamespace(a,!0,!0);else{var l=this.logNamespaceUsed(a,!0);this.getNamespaces().logUsed(l)}},Hi.prototype.parseNsAttributes=function(n){var t=this,s=[];return se(n.$attrs,function(o,a){var l=t.parseNsAttribute(n,a,o);l&&s.push(l)}),s},Hi.prototype.parseGenericAttributes=function(n,t){var i=this;se(t,function(s){try{i.addAttribute(i.nsAttributeName(s.name),s.value)}catch(o){typeof console<"u"&&console.warn(`missing namespace information for <${s.name}=${s.value}> on`,n,o)}})},Hi.prototype.parseContainments=function(n){var t=this,i=this.body,s=this.element;se(n,function(o){var a=s.get(o.name),l=o.isReference;if(o.isMany||(a=[a]),o.isBody)i.push((new L1).build(o,a[0]));else if(zCe(o.type))se(a,function(d){i.push(new Pq(t.addTagName(t.nsPropertyTagName(o))).build(o,d))});else if(l)se(a,function(d){i.push(new Tq(t.addTagName(t.nsPropertyTagName(o))).build(d))});else{var u=QCe(o);se(a,function(d){var p;p=u?"property"===u?new Hi(t,o):new bk(t,o,u):new Hi(t),i.push(p.build(d))})}})},Hi.prototype.getNamespaces=function(n){var s,t=this.namespaces,i=this.parent;return t||(s=i&&i.getNamespaces(),n||!s?this.namespaces=t=new mp(s):t=s),t},Hi.prototype.logNamespace=function(n,t,i){var s=this.getNamespaces(i),o=n.uri,a=n.prefix;return(!s.byUri(o)||i)&&s.add(n,t),s.mapPrefix(a,o),n},Hi.prototype.logNamespaceUsed=function(n,t){var a,l,c,i=this.getNamespaces(t),s=n.prefix,o=n.uri;if(!s&&!o)return{localName:n.localName};if(c=i.defaultUriByPrefix(s),!(o=o||c||i.uriByPrefix(s)))throw new Error("no namespace uri given for prefix <"+s+">");if(!(n=i.byUri(o))&&!s&&(n=this.logNamespace({uri:o},c===o,!0)),!n){for(a=s,l=1;i.uriByPrefix(a);)a=s+"_"+l++;n=this.logNamespace({prefix:a,uri:o},c===o)}return s&&i.mapPrefix(s,o),n},Hi.prototype.parseAttributes=function(n){var t=this,i=this.element;se(n,function(s){var o=i.get(s.name);if(s.isReference)if(s.isMany){var a=[];se(o,function(l){a.push(l.id)}),o=a.join(" ")}else o=o.id;t.addAttribute(t.nsAttributeName(s),o)})},Hi.prototype.addTagName=function(n){var t=this.logNamespaceUsed(n);return this.getNamespaces().logUsed(t),n6e(n)},Hi.prototype.addAttribute=function(n,t){var i=this.attrs;$n(t)&&(t=function y9t(n){return r6e(n,l9t,m9t)}(t));var s=Pl(i,function(a){return a.name.localName===n.localName&&a.name.uri===n.uri&&a.name.prefix===n.prefix}),o={name:n,value:t};-1!==s?i.splice(s,1,o):i.push(o)},Hi.prototype.serializeAttributes=function(n){var t=this.attrs,i=this.namespaces;i&&(t=function d9t(n){return n.getUsed().filter(function(t){return"xml"!==t.prefix}).map(function(t){return{name:"xmlns"+(t.prefix?":"+t.prefix:""),value:t.uri}})}(i).concat(t)),se(t,function(s){n.append(" ").append(n6e(s.name)).append('="').append(s.value).append('"')})},Hi.prototype.serializeTo=function(n){var t=this.body[0],i=t&&t.constructor!==L1;n.appendIndent().append("<"+this.tagName),this.serializeAttributes(n),n.append(t?">":" />"),t&&(i&&n.appendNewLine().indent(),se(this.body,function(s){s.serializeTo(n)}),i&&n.unindent().appendIndent(),n.append("</"+this.tagName+">")),n.appendNewLine()},t6e(bk,Hi),bk.prototype.parseNsAttributes=function(n){var t=Hi.prototype.parseNsAttributes.call(this,n).filter(l=>l.name!==this.serialization),i=n.$descriptor;if(i.name===this.propertyDescriptor.type)return t;var s=this.typeNs=this.nsTagName(i);this.getNamespaces().logUsed(this.typeNs);var o=n.$model.getPackage(s.uri),a=o.xml&&o.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(this.serialization),(s.prefix?s.prefix+":":"")+a+i.ns.localName),t},bk.prototype.isLocalNs=function(n){return n.uri===(this.typeNs||this.ns).uri},(_k.prototype=Object.create(yu.prototype)).fromXML=function(n,t,i){$n(t)||(i=t,t="bpmn:Definitions");var s=new Oq(pe({model:this,lax:!0},i)),o=s.handler(t);return s.fromXML(n,o)},_k.prototype.toXML=function(n,t){var i=new x9t(t);return new Promise(function(s,o){try{return s({xml:i.toXML(n)})}catch(l){return o(l)}})};class i6e{constructor(t){this._generate=t,this.value=null,this.valid=!1}invalidate(){this.valid=!1}get(){return this.valid||(this.value=this._generate(),this.valid=!0),this.value}}function s6e(n,t=void 0){const i=n.get("extensionElements");if(!i)return[];const s=i.get("values");return s&&s.length?t?s.filter(o=>T(o,t)):s:[]}function o6e(n){return l6e(n,"zeebe:IoMapping")[0]||l6e(n,"camunda:InputOutput")[0]}function a6e(n,t){var i=o6e(n);return i&&i.get(t)||[]}function l6e(n,t){var i=[],s=n.get("extensionElements");if(typeof s<"u"){var o=s.get("values");typeof o<"u"&&(i=hn(o,function(a){return T(a,t)}))}return i}function PNt(n,t,i){var s=Dq(n);return function CNt(n){return!!function TNt(n){return a6e(n,"outputParameters")}(n).length}(n)?n:s.find(function(a){return T(a,"bpmn:SubProcess")&&function SNt(n,t){return function ONt(n){return a6e(n,"inputParameters")}(n).find(function(i){return i.target===t||i.name===t})}(a,i)})||t}function Dq(n){for(var t=[],i=n;i.$parent;)t.push(i.$parent),i=i.$parent;return t}let c6e=(()=>{class n{constructor(i,s){var o=this;this.providers=[],this._eventBus=i,this._bpmnjs=s,this.rawVariables=new i6e(this._generateRawVariables.bind(this)),this.parsedVariables=new i6e(be(function*(){const l={variables:yield o.getRawVariables()};return i.fire("variableResolver.parseVariables",l),l.variables})),i.on(["commandStack.changed","diagram.clear","import.done","variables.changed"],()=>{this.invalidateCache()}),i.on("variableResolver.parseVariables",(a,l)=>{l.variables=this._parseVariables(l.variables)})}_baseExtractor(){return[]}getRawVariables(){var i=this;return be(function*(){return yield i.rawVariables.get()})()}getVariables(){var i=this;return be(function*(){return yield i.parsedVariables.get()})()}invalidateCache(){this.rawVariables.invalidate(),this.parsedVariables.invalidate()}_generateRawVariables(){var i=this;return be(function*(){const o={},a=i._bpmnjs.getDefinitions().get("rootElements").map(function(){var l=be(function*(c){const u=yield i._baseExtractor(c,[i._extractor.bind(i)]);o[c.id]=u.map(d=>(d.provider||(d.provider=[i._baseExtractor]),d))});return function(c){return l.apply(this,arguments)}}());return yield Promise.all(a),o})()}_parseVariables(i){const s={};for(const o in i){const l=[];i[o].forEach(c=>{const u=l.find(d=>d.name===c.name&&d.scope===c.scope);u?(u6e("origin",u,c),u6e("provider",u,c),d6e(u,c)):l.push(c)}),f6e(l),s[o]=l}return s}_extractor(i){var s=this;return be(function*(){const{elements:o,containerElement:a,processVariables:l}=i,c=s,u=o.flatMap(d=>c.providers.map(function(){var p=be(function*(f){const h=yield f.getVariables(d);h&&h.forEach(m=>{l.push({...h6e(m),origin:[d],scope:m.scope||PNt(d,a,m.name),provider:[f]})})});return function(f){return p.apply(this,arguments)}}()));yield Promise.all(u)})()}registerProvider(i){this.providers.push(i),this.invalidateCache()}getProcessVariables(i){var s=this;return be(function*(){const o=G(i);return(yield s.getVariables())[o.id]||[]})()}getVariablesForElement(i){var s=this;return be(function*(){const o=G(i),a=function DNt(n){const t=G(n);if(T(t,"bpmn:Participant"))return t.processRef;if(T(t,"bpmn:Process"))return t;let i=t;for(;i.$parent&&!T(i,"bpmn:Process");)i=i.$parent;return i}(o),l=yield s.getProcessVariables(a);var c=l.filter(function(p){return p.scope.id===o.id}),u=Dq(o);return[...c,...l.filter(function(p){return u.find(function(f){return f.id===p.scope.id})})]})()}}return n.$inject=["eventBus","bpmnjs"],n})();function u6e(n,t,i){i[n]||(i[n]=[]),t[n]||(t[n]=[]);const s=i[n].filter(o=>!t[n].includes(o));t[n].push(...s)}function d6e(n,t,i=[]){i.includes(t)||i.includes(n)||(i.push(t),i.push(n),n.type=p6e(n.type,t.type,"|"),n.info=p6e(n.info,t.info,"\n"),n.isList=!!n.isList==!!t.isList?n.isList:"optional",t.entries&&(n.entries||(n.entries=[]),t.entries.forEach(s=>{const o=n.entries.find(a=>a.name===s.name);o?d6e(o,s,i):n.entries.push(s)})))}const p6e=(n,t,i)=>{if(!n||n===t)return t;{const s=n.split(i);return s.includes(t)||s.push(t),s.join(i)}};function f6e(n){n&&n.forEach(t=>{t.detail=t.type,f6e(t.entries)})}function h6e(n){const t={...n};return t.entries&&(t.entries=t.entries.map(h6e)),t}class V_ extends H1e{constructor(t={entries:{}}){super(t),this.value.entries=this.value.entries||{};const i=this.value;for(const s in i.entries)i.entries[s]instanceof V_||(i.entries[s]=this.constructor.of(i.entries[s]))}getKeys(){return Object.keys(this.value.entries)}get(t){const i=this.value.entries[t];return i&&(i.atomic?i.atomicValue:i)}set(t,i){return this.constructor.of({...this.value,entries:{...this.value.entries,[t]:i}})}static of(...t){const i=o=>this.isAtomic(o)?o instanceof this?o.value:{atomic:!0,atomicValue:o}:{...o};return new this(t.reduce((o,a)=>{const{entries:l={},...c}=i(a);return{...o,...c,entries:{...o.entries,...l}}},{}))}}function MNt(n){const t=[];return n.forEach(i=>{i.origin.forEach(s=>{const o=function INt(n,t){const i=s6e(t,"zeebe:IoMapping")[0];if(!i)return;let s;if(s=t===n.scope?i.inputParameters:i.outputParameters,!s)return;const o=s.find(u=>u.target===n.name);if(!o||!o.source)return;const a=o.source.substring(1);return{expression:a,unresolved:m6e(kq(a))}}(i,s);if(!o)return;const{expression:a,unresolved:l}=o;t.push({variable:i,expression:a,unresolved:l})})}),function ANt(n,t){const i=[];n.forEach(c=>{const{variable:u,unresolved:d}=c,p=i.findIndex(({unresolved:h})=>h.includes(u.name));if(p>-1)return void i.splice(p,0,c);const f=i.findLastIndex(({variable:h})=>d.includes(h.name));f>-1?i.splice(f+1,0,c):i.push(c)});const o={name:"OuterContext",entries:g6e(t.filter(c=>!n.find(({})=>{})))},a=[];return i.forEach(({variable:c,expression:u})=>{let p=kq(u,function BNt(n,t){const i={entries:{}},s=t.origin.flatMap(o=>[o,...Dq(o)]);for(const o in n.entries){const a=n.entries[o];s.find(l=>l.id===a.scope.id)&&(i.entries[o]=a)}return i}(o,c)).computedValue();p instanceof V_||(p=V_.of(p)),p.scope=c.scope,o.entries[c.name]=p,a.push({newVariable:Mq({[c.name]:p})[0],oldVariable:c})}),a.map(({newVariable:c,oldVariable:u})=>u?{...c,...u}:c)}(t,n)}function kq(n,t={}){const i=ex(t,V_);let s=null;const o=new vj({start:i.start,reduce(...l){const c=i.reduce(...l);return s=c,c}});return tx.configure({contextTracker:o}).parse(n),s}function m6e(n){const t=[];return t.push(...n.children.flatMap(m6e)),"VariableName"===n.name&&!n.value&&t.push(n.raw),t}function g6e(n){if(!n)return;const t={};return n.forEach(i=>{t[i.name]={...i},t[i.name].entries=g6e(i.entries)}),t}function Mq(n){if(!n)return;const t=[];for(const i in n){let s=n[i];s instanceof V_&&(s=s.value),t.push(s?{...RNt(s),entries:Mq(s.entries),name:i,scope:s.scope}:{name:i})}return t}function RNt(n){return{...n,type:NNt(n),info:LNt(n)}}function NNt(n){return n?n.type?n.type:n.entries&&Object.keys(n.entries).length?"Context":n.atomicValue?function FNt(n){return n.charAt(0).toUpperCase()+n.slice(1)}(typeof n.atomicValue):"":""}function LNt(n){return n?n.info?n.info:n.atomicValue?""+n.atomicValue:"":""}let Aq=(()=>{class n{constructor(i){this._variableResolver=i,this.register()}getVariables(i){}register(){this._variableResolver.registerProvider(this)}}return n.$inject=["variableResolver"],n})();const zNt={__init__:["variableResolver","connectorVariableProvider"],variableResolver:["type",class VNt extends c6e{constructor(t,i){super(t,i),this._baseExtractor=zEe,t.on("variableResolver.parseVariables",2e3,this._resolveIoMappings)}getVariablesForElement(t,i){var s=()=>super.getVariablesForElement,o=this;return be(function*(){const a=yield s().call(o,t),l=G(t);if(!i)return a;const c=o6e(l);if(!c)return a;const u=[];if(T(i,"zeebe:Input")){const p=c.inputParameters,f=p.slice(p.indexOf(i)).map(h=>h.target);u.push(...f)}const d=c.outputParameters;if(T(i,"zeebe:Output")){const p=d.slice(d.indexOf(i)).map(f=>f.target);u.push(...p)}else if(d){const p=d.map(f=>f.target);u.push(...p)}return a.filter(p=>!!(p.origin.length>1||p.origin[0]!==l||T(i,"zeebe:Output")&&p.provider.find(f=>f!==o._baseExtractor))||!u.includes(p.name))})()}_resolveIoMappings(t,i){const s=i.variables,o={};for(const a in s){const l=s[a],c=MNt(l);o[a]=[...l,...c]}i.variables=o}}],connectorVariableProvider:["type",class $Nt extends Aq{getVariables(t){const i=[],s=s6e(t,"zeebe:TaskHeaders")[0];if(!s||!s.values)return;const o=s.values,a=o.find(c=>"resultVariable"===c.key),l=o.find(c=>"resultExpression"===c.key);if(a&&a.value&&i.push({name:a.value}),l&&l.value){const u=Mq(kq(l.value.substring(1)).computedValue());u&&u.length>0&&i.push(...u[0].entries)}return i}}]},Ek="camundaModeler:exampleOutputJson";function y6e(n){const t=v6e(n,Ek);if(t)return t.get("value")}function v6e(n,t){const i=function HNt(n,t){let s=[];const o=G(n).get("extensionElements");if(typeof o<"u"){const a=o.get("values");typeof a<"u"&&(s=a.filter(l=>T(l,t)))}return s}(n,"zeebe:Properties");return 0===i.length?void 0:i[0].get("properties").find(o=>o.get("name")===t)}function Iq(n={}){if("object"==typeof n&&null!==n)return Object.keys(n).map(t=>{let i=n[t];const s={name:t,info:JSON.stringify(i,null,2)};return Array.isArray(i)?(s.isList=!0,s.type="List",i.length>0&&(s.entries=Iq(i[0])),s):(s.type=function WNt(n){if(null===n)return"";const t=typeof n;return"object"===t?"Context":function GNt(n){return n.charAt(0).toUpperCase()+n.slice(1)}(t)}(i),s.entries=Iq(i),s)})}const YNt=n=>{const{element:t}=n,i=O("debounceInput"),s=O("translate"),o=O("commandStack"),a=O("moddle"),l=O("injector");return Ma({element:t,label:s("Example output"),description:os`
    <a href="https://docs.camunda.io/docs/components/modeler/data-handling/" target="_blank" rel="noopener" title=${s("Example Data documentation")}>
      ${s("About example data")}
    </a>`,id:"exampleJson",getValue:()=>y6e(t),setValue:p=>{const f=[],{commands:h,zeebeProperties:m}=XNt(t,l);f.push(...h);const g=v6e(t,Ek);f.push(g?p?{cmd:"element.updateModdleProperties",context:{element:t,moddleElement:g,properties:{value:p}}}:{cmd:"element.updateModdleProperties",context:{element:t,moddleElement:m,properties:{properties:QNt(m.get("properties"))}}}:{cmd:"element.updateModdleProperties",context:{element:t,moddleElement:m,properties:{properties:[...m.get("properties"),ZNt(p,a)]}}}),o.execute("properties-panel.multi-command-executor",f)},debounce:i,validate:p=>{if(p)try{if(!fr(JSON.parse(p)))return s("Example data must be a JSON object literal.")}catch(f){return f.message}},monospace:!0})},XNt=(n,t)=>{const i=[],s=G(n),o=t.get("bpmnFactory");let a=s.get("extensionElements");a||(a=o.create("bpmn:ExtensionElements",{values:[]}),a.$parent=s,i.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:s,properties:{extensionElements:a}}}));let l=a.get("values").find(c=>"zeebe:Properties"===c.$type);return l||(l=o.create("zeebe:Properties",{properties:[]}),l.$parent=a,i.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:a,properties:{values:[...a.get("values"),l]}}})),{zeebeProperties:l,commands:i}};function ZNt(n,t){return t.create("zeebe:Property",{name:Ek,value:n})}function QNt(n){return n.filter(t=>t.get("name")!==Ek)}const eLt={__depends__:[{__init__:["exampleProvider"],exampleProvider:["type",class UNt extends Aq{getVariables(t){const i=y6e(t);return i?function qNt(n){try{return Iq(JSON.parse(n))}catch{return[]}}(i):void 0}}]},{__init__:["dataPropertiesProvider"],dataPropertiesProvider:["type",(()=>{class n{constructor(i,s){this._injector=s,i.registerProvider(100,this)}getGroups(i){const s=this._injector.get("translate"),o=this._injector.get("elementTemplates",!1);let a=null;o&&(a=o.get(i));const l=!!a;return c=>{if(l)return c;const u={id:"additionalDataGroup",label:s("Example data"),entries:[{id:"exampleJson",component:YNt,isEdited:$l}],component:er};return c.push(u),c}}}return n.$inject=["propertiesPanel","injector"],n})()]}]};var F1=1e6,D5="[big.js] ",B1=D5+"Invalid ",wk=B1+"decimal places",oLt=B1+"rounding mode",_6e=D5+"Division by zero",hi={},gp=void 0,aLt=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function j1(n,t,i,s){var o=n.c;if(i===gp&&(i=n.constructor.RM),0!==i&&1!==i&&2!==i&&3!==i)throw Error(oLt);if(t<1)s=3===i&&(s||!!o[0])||0===t&&(1===i&&o[0]>=5||2===i&&(o[0]>5||5===o[0]&&(s||o[1]!==gp))),o.length=1,s?(n.e=n.e-t+1,o[0]=1):o[0]=n.e=0;else if(t<o.length){if(s=1===i&&o[t]>=5||2===i&&(o[t]>5||5===o[t]&&(s||o[t+1]!==gp||1&o[t-1]))||3===i&&(s||!!o[0]),o.length=t,s)for(;++o[--t]>9;)if(o[t]=0,0===t){++n.e,o.unshift(1);break}for(t=o.length;!o[--t];)o.pop()}return n}function $_(n,t,i){var s=n.e,o=n.c.join(""),a=o.length;if(t)o=o.charAt(0)+(a>1?"."+o.slice(1):"")+(s<0?"e":"e+")+s;else if(s<0){for(;++s;)o="0"+o;o="0."+o}else if(s>0)if(++s>a)for(s-=a;s--;)o+="0";else s<a&&(o=o.slice(0,s)+"."+o.slice(s));else a>1&&(o=o.charAt(0)+"."+o.slice(1));return n.s<0&&i?"-"+o:o}hi.abs=function(){var n=new this.constructor(this);return n.s=1,n},hi.cmp=function(n){var t,i=this,s=i.c,o=(n=new i.constructor(n)).c,a=i.s,l=n.s,c=i.e,u=n.e;if(!s[0]||!o[0])return s[0]?a:o[0]?-l:0;if(a!=l)return a;if(t=a<0,c!=u)return c>u^t?1:-1;for(l=(c=s.length)<(u=o.length)?c:u,a=-1;++a<l;)if(s[a]!=o[a])return s[a]>o[a]^t?1:-1;return c==u?0:c>u^t?1:-1},hi.div=function(n){var t=this,i=t.constructor,s=t.c,o=(n=new i(n)).c,a=t.s==n.s?1:-1,l=i.DP;if(l!==~~l||l<0||l>F1)throw Error(wk);if(!o[0])throw Error(_6e);if(!s[0])return n.s=a,n.c=[n.e=0],n;var c,u,d,p,f,h=o.slice(),m=c=o.length,g=s.length,y=s.slice(0,c),v=y.length,_=n,E=_.c=[],x=0,b=l+(_.e=t.e-n.e)+1;for(_.s=a,a=b<0?0:b,h.unshift(0);v++<c;)y.push(0);do{for(d=0;d<10;d++){if(c!=(v=y.length))p=c>v?1:-1;else for(f=-1,p=0;++f<c;)if(o[f]!=y[f]){p=o[f]>y[f]?1:-1;break}if(!(p<0))break;for(u=v==c?o:h;v;){if(y[--v]<u[v]){for(f=v;f&&!y[--f];)y[f]=9;--y[f],y[v]+=10}y[v]-=u[v]}for(;!y[0];)y.shift()}E[x++]=p?d:++d,y[0]&&p?y[v]=s[m]||0:y=[s[m]]}while((m++<g||y[0]!==gp)&&a--);return!E[0]&&1!=x&&(E.shift(),_.e--,b--),x>b&&j1(_,b,i.RM,y[0]!==gp),_},hi.eq=function(n){return 0===this.cmp(n)},hi.gt=function(n){return this.cmp(n)>0},hi.gte=function(n){return this.cmp(n)>-1},hi.lt=function(n){return this.cmp(n)<0},hi.lte=function(n){return this.cmp(n)<1},hi.minus=hi.sub=function(n){var t,i,s,o,a=this,l=a.constructor,c=a.s,u=(n=new l(n)).s;if(c!=u)return n.s=-u,a.plus(n);var d=a.c.slice(),p=a.e,f=n.c,h=n.e;if(!d[0]||!f[0])return f[0]?n.s=-u:d[0]?n=new l(a):n.s=1,n;if(c=p-h){for((o=c<0)?(c=-c,s=d):(h=p,s=f),s.reverse(),u=c;u--;)s.push(0);s.reverse()}else for(i=((o=d.length<f.length)?d:f).length,c=u=0;u<i;u++)if(d[u]!=f[u]){o=d[u]<f[u];break}if(o&&(s=d,d=f,f=s,n.s=-n.s),(u=(i=f.length)-(t=d.length))>0)for(;u--;)d[t++]=0;for(u=t;i>c;){if(d[--i]<f[i]){for(t=i;t&&!d[--t];)d[t]=9;--d[t],d[i]+=10}d[i]-=f[i]}for(;0===d[--u];)d.pop();for(;0===d[0];)d.shift(),--h;return d[0]||(n.s=1,d=[h=0]),n.c=d,n.e=h,n},hi.mod=function(n){var t,i=this,s=i.constructor,o=i.s,a=(n=new s(n)).s;if(!n.c[0])throw Error(_6e);return i.s=n.s=1,t=1==n.cmp(i),i.s=o,n.s=a,t?new s(i):(o=s.DP,a=s.RM,s.DP=s.RM=0,i=i.div(n),s.DP=o,s.RM=a,this.minus(i.times(n)))},hi.neg=function(){var n=new this.constructor(this);return n.s=-n.s,n},hi.plus=hi.add=function(n){var t,i,s,o=this,a=o.constructor;if(n=new a(n),o.s!=n.s)return n.s=-n.s,o.minus(n);var l=o.e,c=o.c,u=n.e,d=n.c;if(!c[0]||!d[0])return d[0]||(c[0]?n=new a(o):n.s=o.s),n;if(c=c.slice(),t=l-u){for(t>0?(u=l,s=d):(t=-t,s=c),s.reverse();t--;)s.push(0);s.reverse()}for(c.length-d.length<0&&(s=d,d=c,c=s),t=d.length,i=0;t;c[t]%=10)i=(c[--t]=c[t]+d[t]+i)/10|0;for(i&&(c.unshift(i),++u),t=c.length;0===c[--t];)c.pop();return n.c=c,n.e=u,n},hi.pow=function(n){var t=this,i=new t.constructor("1"),s=i,o=n<0;if(n!==~~n||n<-1e6||n>1e6)throw Error(B1+"exponent");for(o&&(n=-n);1&n&&(s=s.times(t)),n>>=1;)t=t.times(t);return o?i.div(s):s},hi.prec=function(n,t){if(n!==~~n||n<1||n>F1)throw Error(B1+"precision");return j1(new this.constructor(this),n,t)},hi.round=function(n,t){if(n===gp)n=0;else if(n!==~~n||n<-F1||n>F1)throw Error(wk);return j1(new this.constructor(this),n+this.e+1,t)},hi.sqrt=function(){var n,t,i,s=this,o=s.constructor,a=s.s,l=s.e,c=new o("0.5");if(!s.c[0])return new o(s);if(a<0)throw Error(D5+"No square root");0===(a=Math.sqrt(s+""))||a===1/0?((t=s.c.join("")).length+l&1||(t+="0"),l=((l+1)/2|0)-(l<0||1&l),n=new o(((a=Math.sqrt(t))==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+l)):n=new o(a+""),l=n.e+(o.DP+=4);do{n=c.times((i=n).plus(s.div(i)))}while(i.c.slice(0,l).join("")!==n.c.slice(0,l).join(""));return j1(n,(o.DP-=4)+n.e+1,o.RM)},hi.times=hi.mul=function(n){var t,i=this,o=i.c,a=(n=new(0,i.constructor)(n)).c,l=o.length,c=a.length,u=i.e,d=n.e;if(n.s=i.s==n.s?1:-1,!o[0]||!a[0])return n.c=[n.e=0],n;for(n.e=u+d,l<c&&(t=o,o=a,a=t,d=l,l=c,c=d),t=new Array(d=l+c);d--;)t[d]=0;for(u=c;u--;){for(c=0,d=l+u;d>u;)c=t[d]+a[u]*o[d-u-1]+c,t[d--]=c%10,c=c/10|0;t[d]=c}for(c?++n.e:t.shift(),u=t.length;!t[--u];)t.pop();return n.c=t,n},hi.toExponential=function(n,t){var i=this,s=i.c[0];if(n!==gp){if(n!==~~n||n<0||n>F1)throw Error(wk);for(i=j1(new i.constructor(i),++n,t);i.c.length<n;)i.c.push(0)}return $_(i,!0,!!s)},hi.toFixed=function(n,t){var i=this,s=i.c[0];if(n!==gp){if(n!==~~n||n<0||n>F1)throw Error(wk);for(n=n+(i=j1(new i.constructor(i),n+i.e+1,t)).e+1;i.c.length<n;)i.c.push(0)}return $_(i,!1,!!s)},hi[Symbol.for("nodejs.util.inspect.custom")]=hi.toJSON=hi.toString=function(){var n=this,t=n.constructor;return $_(n,n.e<=t.NE||n.e>=t.PE,!!n.c[0])},hi.toNumber=function(){var n=Number($_(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(n.toString()))throw Error(D5+"Imprecise conversion");return n},hi.toPrecision=function(n,t){var i=this,s=i.constructor,o=i.c[0];if(n!==gp){if(n!==~~n||n<1||n>F1)throw Error(B1+"precision");for(i=j1(new s(i),n,t);i.c.length<n;)i.c.push(0)}return $_(i,n<=i.e||i.e<=s.NE||i.e>=s.PE,!!o)},hi.valueOf=function(){var n=this,t=n.constructor;if(!0===t.strict)throw Error(D5+"valueOf disallowed");return $_(n,n.e<=t.NE||n.e>=t.PE,!0)};const yp=function E6e(){function n(t){var i=this;if(!(i instanceof n))return t===gp?E6e():new n(t);if(t instanceof n)i.s=t.s,i.e=t.e,i.c=t.c.slice();else{if("string"!=typeof t){if(!0===n.strict&&"bigint"!=typeof t)throw TypeError(B1+"value");t=0===t&&1/t<0?"-0":String(t)}!function lLt(n,t){var i,s,o;if(!aLt.test(t))throw Error(B1+"number");for(n.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(i=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(i<0&&(i=s),i+=+t.slice(s+1),t=t.substring(0,s)):i<0&&(i=t.length),o=t.length,s=0;s<o&&"0"==t.charAt(s);)++s;if(s==o)n.c=[n.e=0];else{for(;o>0&&"0"==t.charAt(--o););for(n.e=i-s-1,n.c=[],i=0;s<=o;)n.c[i++]=+t.charAt(s++)}}(i,t)}i.constructor=n}return n.prototype=hi,n.DP=20,n.RM=1,n.NE=-7,n.PE=21,n.strict=!1,n.roundDown=0,n.roundHalfUp=1,n.roundHalfEven=2,n.roundUp=3,n}();var pLt=0;function ye(n,t,i,s,o,a){var l,c,u={};for(c in t)"ref"==c?l=t[c]:u[c]=t[c];var d={type:n,props:u,key:i,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--pLt,__i:-1,__u:0,__source:o,__self:a};if("function"==typeof n&&(l=n.defaultProps))for(c in l)void 0===u[c]&&(u[c]=l[c]);return _n.vnode&&_n.vnode(d),d}var gLt=te(8125),k5=te.n(gLt),Rq=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],z_={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var t=new Date(n.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var i=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-i.getTime())/864e5-3+(i.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Nq={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var t=n%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1};const Lq=Nq;var zl=function(n,t){return void 0===t&&(t=2),("000"+n).slice(-1*t)},vu=function(n){return!0===n?1:0};function C6e(n,t){var i;return function(){var s=this,o=arguments;clearTimeout(i),i=setTimeout(function(){return n.apply(s,o)},t)}}var Fq=function(n){return n instanceof Array?n:[n]};function ll(n,t,i){if(!0===i)return n.classList.add(t);n.classList.remove(t)}function Jr(n,t,i){var s=window.document.createElement(n);return i=i||"",s.className=t=t||"",void 0!==i&&(s.textContent=i),s}function xk(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function S6e(n,t){return t(n)?n:n.parentNode?S6e(n.parentNode,t):void 0}function Ck(n,t){var i=Jr("div","numInputWrapper"),s=Jr("input","numInput "+n),o=Jr("span","arrowUp"),a=Jr("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?s.type="number":(s.type="text",s.pattern="\\d*"),void 0!==t)for(var l in t)s.setAttribute(l,t[l]);return i.appendChild(s),i.appendChild(o),i.appendChild(a),i}function Tc(n){try{return"function"==typeof n.composedPath?n.composedPath()[0]:n.target}catch{return n.target}}var Bq=function(){},Sk=function(n,t,i){return i.months[t?"shorthand":"longhand"][n]},yLt={D:Bq,F:function(n,t,i){n.setMonth(i.months.longhand.indexOf(t))},G:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},H:function(n,t){n.setHours(parseFloat(t))},J:function(n,t){n.setDate(parseFloat(t))},K:function(n,t,i){n.setHours(n.getHours()%12+12*vu(new RegExp(i.amPM[1],"i").test(t)))},M:function(n,t,i){n.setMonth(i.months.shorthand.indexOf(t))},S:function(n,t){n.setSeconds(parseFloat(t))},U:function(n,t){return new Date(1e3*parseFloat(t))},W:function(n,t,i){var s=parseInt(t),o=new Date(n.getFullYear(),0,2+7*(s-1),0,0,0,0);return o.setDate(o.getDate()-o.getDay()+i.firstDayOfWeek),o},Y:function(n,t){n.setFullYear(parseFloat(t))},Z:function(n,t){return new Date(t)},d:function(n,t){n.setDate(parseFloat(t))},h:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},i:function(n,t){n.setMinutes(parseFloat(t))},j:function(n,t){n.setDate(parseFloat(t))},l:Bq,m:function(n,t){n.setMonth(parseFloat(t)-1)},n:function(n,t){n.setMonth(parseFloat(t)-1)},s:function(n,t){n.setSeconds(parseFloat(t))},u:function(n,t){return new Date(parseFloat(t))},w:Bq,y:function(n,t){n.setFullYear(2e3+parseFloat(t))}},V1={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},M5={Z:function(n){return n.toISOString()},D:function(n,t,i){return t.weekdays.shorthand[M5.w(n,t,i)]},F:function(n,t,i){return Sk(M5.n(n,t,i)-1,!1,t)},G:function(n,t,i){return zl(M5.h(n,t,i))},H:function(n){return zl(n.getHours())},J:function(n,t){return void 0!==t.ordinal?n.getDate()+t.ordinal(n.getDate()):n.getDate()},K:function(n,t){return t.amPM[vu(n.getHours()>11)]},M:function(n,t){return Sk(n.getMonth(),!0,t)},S:function(n){return zl(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,t,i){return i.getWeek(n)},Y:function(n){return zl(n.getFullYear(),4)},d:function(n){return zl(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return zl(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,t){return t.weekdays.longhand[n.getDay()]},m:function(n){return zl(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},O6e=function(n){var t=n.config,i=void 0===t?z_:t,s=n.l10n,o=void 0===s?Nq:s,a=n.isMobile,l=void 0!==a&&a;return function(c,u,d){var p=d||o;return void 0===i.formatDate||l?u.split("").map(function(f,h,m){return M5[f]&&"\\"!==m[h-1]?M5[f](c,p,i):"\\"!==f?f:""}).join(""):i.formatDate(c,u,p)}},jq=function(n){var t=n.config,i=void 0===t?z_:t,s=n.l10n,o=void 0===s?Nq:s;return function(a,l,c,u){if(0===a||a){var p,d=u||o,f=a;if(a instanceof Date)p=new Date(a.getTime());else if("string"!=typeof a&&void 0!==a.toFixed)p=new Date(a);else if("string"==typeof a){var h=l||(i||z_).dateFormat,m=String(a).trim();if("today"===m)p=new Date,c=!0;else if(i&&i.parseDate)p=i.parseDate(a,h);else if(/Z$/.test(m)||/GMT$/.test(m))p=new Date(a);else{for(var g=void 0,y=[],v=0,_=0,E="";v<h.length;v++){var x=h[v],b="\\"===x;if(V1[x]&&"\\"!==h[v-1]&&!b){E+=V1[x];var C=new RegExp(E).exec(a);C&&(g=!0)&&y["Y"!==x?"push":"unshift"]({fn:yLt[x],val:C[++_]})}else b||(E+=".")}p=i&&i.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),y.forEach(function(P){return p=(0,P.fn)(p,P.val,d)||p}),p=g?p:void 0}}return p instanceof Date&&!isNaN(p.getTime())?(!0===c&&p.setHours(0,0,0,0),p):void i.errorHandler(new Error("Invalid date provided: "+f))}}};function Pc(n,t,i){return void 0===i&&(i=!0),!1!==i?new Date(n.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):n.getTime()-t.getTime()}var Vq=function(n,t,i){return 3600*n+60*t+i};function $q(n){var t=n.defaultHour,i=n.defaultMinute,s=n.defaultSeconds;if(void 0!==n.minDate){var o=n.minDate.getHours(),a=n.minDate.getMinutes(),l=n.minDate.getSeconds();t<o&&(t=o),t===o&&i<a&&(i=a),t===o&&i===a&&s<l&&(s=n.minDate.getSeconds())}if(void 0!==n.maxDate){var c=n.maxDate.getHours(),u=n.maxDate.getMinutes();(t=Math.min(t,c))===c&&(i=Math.min(u,i)),t===c&&i===u&&(s=n.maxDate.getSeconds())}return{hours:t,minutes:i,seconds:s}}te(5811);var Ra=function(){return Ra=Object.assign||function(n){for(var t,i=1,s=arguments.length;i<s;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},Ra.apply(this,arguments)},T6e=function(){for(var n=0,t=0,i=arguments.length;t<i;t++)n+=arguments[t].length;var s=Array(n),o=0;for(t=0;t<i;t++)for(var a=arguments[t],l=0,c=a.length;l<c;l++,o++)s[o]=a[l];return s};function wLt(n,t){var i={config:Ra(Ra({},z_),so.defaultConfig),l10n:Lq};function a(){var K;return(null===(K=i.calendarContainer)||void 0===K?void 0:K.getRootNode()).activeElement||document.activeElement}function l(K){return K.bind(i)}function c(){var K=i.config;!1===K.weekNumbers&&1===K.showMonths||!0!==K.noCalendar&&window.requestAnimationFrame(function(){if(void 0!==i.calendarContainer&&(i.calendarContainer.style.visibility="hidden",i.calendarContainer.style.display="block"),void 0!==i.daysContainer){var J=(i.days.offsetWidth+1)*K.showMonths;i.daysContainer.style.width=J+"px",i.calendarContainer.style.width=J+(void 0!==i.weekWrapper?i.weekWrapper.offsetWidth:0)+"px",i.calendarContainer.style.removeProperty("visibility"),i.calendarContainer.style.removeProperty("display")}})}function u(K){if(0===i.selectedDates.length){var J=void 0===i.config.minDate||Pc(new Date,i.config.minDate)>=0?new Date:new Date(i.config.minDate.getTime()),fe=$q(i.config);J.setHours(fe.hours,fe.minutes,fe.seconds,J.getMilliseconds()),i.selectedDates=[J],i.latestSelectedDateObj=J}void 0!==K&&"blur"!==K.type&&function ct(K){K.preventDefault();var J="keydown"===K.type,fe=Tc(K),Me=fe;void 0!==i.amPM&&fe===i.amPM&&(i.amPM.textContent=i.l10n.amPM[vu(i.amPM.textContent===i.l10n.amPM[0])]);var vt=parseFloat(Me.getAttribute("min")),Rt=parseFloat(Me.getAttribute("max")),ht=parseFloat(Me.getAttribute("step")),Wt=parseInt(Me.value,10),ut=Wt+ht*(K.delta||(J?38===K.which?1:-1:0));if(typeof Me.value<"u"&&2===Me.value.length){var rt=Me===i.hourElement,Ut=Me===i.minuteElement;ut<vt?(ut=Rt+ut+vu(!rt)+(vu(rt)&&vu(!i.amPM)),Ut&&b(void 0,-1,i.hourElement)):ut>Rt&&(ut=Me===i.hourElement?ut-Rt-vu(!i.amPM):vt,Ut&&b(void 0,1,i.hourElement)),i.amPM&&rt&&(1===ht?ut+Wt===23:Math.abs(ut-Wt)>ht)&&(i.amPM.textContent=i.l10n.amPM[vu(i.amPM.textContent===i.l10n.amPM[0])]),Me.value=zl(ut)}}(K);var Me=i._input.value;f(),me(),i._input.value!==Me&&i._debouncedChange()}function f(){if(void 0!==i.hourElement&&void 0!==i.minuteElement){var K=(parseInt(i.hourElement.value.slice(-2),10)||0)%24,J=(parseInt(i.minuteElement.value,10)||0)%60,fe=void 0!==i.secondElement?(parseInt(i.secondElement.value,10)||0)%60:0;void 0!==i.amPM&&(K=function d(K,J){return K%12+12*vu(J===i.l10n.amPM[1])}(K,i.amPM.textContent));var Me=void 0!==i.config.minTime||i.config.minDate&&i.minDateHasTime&&i.latestSelectedDateObj&&0===Pc(i.latestSelectedDateObj,i.config.minDate,!0),vt=void 0!==i.config.maxTime||i.config.maxDate&&i.maxDateHasTime&&i.latestSelectedDateObj&&0===Pc(i.latestSelectedDateObj,i.config.maxDate,!0);if(void 0!==i.config.maxTime&&void 0!==i.config.minTime&&i.config.minTime>i.config.maxTime){var Rt=Vq(i.config.minTime.getHours(),i.config.minTime.getMinutes(),i.config.minTime.getSeconds()),ht=Vq(i.config.maxTime.getHours(),i.config.maxTime.getMinutes(),i.config.maxTime.getSeconds()),Wt=Vq(K,J,fe);if(Wt>ht&&Wt<Rt){var Ie=function(n){var t=Math.floor(n/3600),i=(n-3600*t)/60;return[t,i,n-3600*t-60*i]}(Rt);K=Ie[0],J=Ie[1],fe=Ie[2]}}else{if(vt){var ut=void 0!==i.config.maxTime?i.config.maxTime:i.config.maxDate;(K=Math.min(K,ut.getHours()))===ut.getHours()&&(J=Math.min(J,ut.getMinutes())),J===ut.getMinutes()&&(fe=Math.min(fe,ut.getSeconds()))}if(Me){var rt=void 0!==i.config.minTime?i.config.minTime:i.config.minDate;(K=Math.max(K,rt.getHours()))===rt.getHours()&&J<rt.getMinutes()&&(J=rt.getMinutes()),J===rt.getMinutes()&&(fe=Math.max(fe,rt.getSeconds()))}}m(K,J,fe)}}function h(K){var J=K||i.latestSelectedDateObj;J&&J instanceof Date&&m(J.getHours(),J.getMinutes(),J.getSeconds())}function m(K,J,fe){void 0!==i.latestSelectedDateObj&&i.latestSelectedDateObj.setHours(K%24,J,fe||0,0),i.hourElement&&i.minuteElement&&!i.isMobile&&(i.hourElement.value=zl(i.config.time_24hr?K:(12+K)%12+12*vu(K%12==0)),i.minuteElement.value=zl(J),void 0!==i.amPM&&(i.amPM.textContent=i.l10n.amPM[vu(K>=12)]),void 0!==i.secondElement&&(i.secondElement.value=zl(fe)))}function g(K){var J=Tc(K),fe=parseInt(J.value)+(K.delta||0);(fe/1e3>1||"Enter"===K.key&&!/[^\d]/.test(fe.toString()))&&A(fe)}function y(K,J,fe,Me){return J instanceof Array?J.forEach(function(vt){return y(K,vt,fe,Me)}):K instanceof Array?K.forEach(function(vt){return y(vt,J,fe,Me)}):(K.addEventListener(J,fe,Me),void i._handlers.push({remove:function(){return K.removeEventListener(J,fe,Me)}}))}function v(){ze("onChange")}function E(K,J){var fe=void 0!==K?i.parseDate(K):i.latestSelectedDateObj||(i.config.minDate&&i.config.minDate>i.now?i.config.minDate:i.config.maxDate&&i.config.maxDate<i.now?i.config.maxDate:i.now),Me=i.currentYear,vt=i.currentMonth;try{void 0!==fe&&(i.currentYear=fe.getFullYear(),i.currentMonth=fe.getMonth())}catch(Rt){Rt.message="Invalid date supplied: "+fe,i.config.errorHandler(Rt)}J&&i.currentYear!==Me&&(ze("onYearChange"),B()),J&&(i.currentYear!==Me||i.currentMonth!==vt)&&ze("onMonthChange"),i.redraw()}function x(K){var J=Tc(K);~J.className.indexOf("arrow")&&b(K,J.classList.contains("arrowUp")?1:-1)}function b(K,J,fe){var Me=K&&Tc(K),vt=fe||Me&&Me.parentNode&&Me.parentNode.firstChild,Rt=Z("increment");Rt.delta=J,vt&&vt.dispatchEvent(Rt)}function C(K,J,fe,Me){var vt=N(J,!0),Rt=Jr("span",K,J.getDate().toString());return Rt.dateObj=J,Rt.$i=Me,Rt.setAttribute("aria-label",i.formatDate(J,i.config.ariaDateFormat)),-1===K.indexOf("hidden")&&0===Pc(J,i.now)&&(i.todayDateElem=Rt,Rt.classList.add("today"),Rt.setAttribute("aria-current","date")),vt?(Rt.tabIndex=-1,je(J)&&(Rt.classList.add("selected"),i.selectedDateElem=Rt,"range"===i.config.mode&&(ll(Rt,"startRange",i.selectedDates[0]&&0===Pc(J,i.selectedDates[0],!0)),ll(Rt,"endRange",i.selectedDates[1]&&0===Pc(J,i.selectedDates[1],!0)),"nextMonthDay"===K&&Rt.classList.add("inRange")))):Rt.classList.add("flatpickr-disabled"),"range"===i.config.mode&&function $e(K){return!("range"!==i.config.mode||i.selectedDates.length<2)&&Pc(K,i.selectedDates[0])>=0&&Pc(K,i.selectedDates[1])<=0}(J)&&!je(J)&&Rt.classList.add("inRange"),i.weekNumbers&&1===i.config.showMonths&&"prevMonthDay"!==K&&Me%7==6&&i.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+i.config.getWeek(J)+"</span>"),ze("onDayCreate",Rt),Rt}function P(K){K.focus(),"range"===i.config.mode&&tt(K)}function D(K){for(var fe=K>0?i.config.showMonths:-1,Me=K>0?0:i.config.showMonths-1;Me!=fe;Me+=K)for(var vt=i.daysContainer.children[Me],ht=K>0?vt.children.length:-1,Wt=K>0?0:vt.children.length-1;Wt!=ht;Wt+=K){var Ie=vt.children[Wt];if(-1===Ie.className.indexOf("hidden")&&N(Ie.dateObj))return Ie}}function k(K,J){var fe=a(),Me=z(fe||document.body),vt=void 0!==K?K:Me?fe:void 0!==i.selectedDateElem&&z(i.selectedDateElem)?i.selectedDateElem:void 0!==i.todayDateElem&&z(i.todayDateElem)?i.todayDateElem:D(J>0?1:-1);void 0===vt?i._input.focus():Me?function I(K,J){for(var fe=-1===K.className.indexOf("Month")?K.dateObj.getMonth():i.currentMonth,Me=J>0?i.config.showMonths:-1,vt=J>0?1:-1,Rt=fe-i.currentMonth;Rt!=Me;Rt+=vt)for(var ht=i.daysContainer.children[Rt],Ie=ht.children.length,ut=fe-i.currentMonth===Rt?K.$i+J:J<0?ht.children.length-1:0;ut>=0&&ut<Ie&&ut!=(J>0?Ie:-1);ut+=vt){var rt=ht.children[ut];if(-1===rt.className.indexOf("hidden")&&N(rt.dateObj)&&Math.abs(K.$i-ut)>=Math.abs(J))return P(rt)}i.changeMonth(vt),k(D(vt),0)}(vt,J):P(vt)}function F(K,J){for(var fe=(new Date(K,J,1).getDay()-i.l10n.firstDayOfWeek+7)%7,Me=i.utils.getDaysInMonth((J-1+12)%12,K),vt=i.utils.getDaysInMonth(J,K),Rt=window.document.createDocumentFragment(),ht=i.config.showMonths>1,Wt=ht?"prevMonthDay hidden":"prevMonthDay",Ie=ht?"nextMonthDay hidden":"nextMonthDay",ut=Me+1-fe,rt=0;ut<=Me;ut++,rt++)Rt.appendChild(C("flatpickr-day "+Wt,new Date(K,J-1,ut),0,rt));for(ut=1;ut<=vt;ut++,rt++)Rt.appendChild(C("flatpickr-day",new Date(K,J,ut),0,rt));for(var Ut=vt+1;Ut<=42-fe&&(1===i.config.showMonths||rt%7!=0);Ut++,rt++)Rt.appendChild(C("flatpickr-day "+Ie,new Date(K,J+1,Ut%vt),0,rt));var bt=Jr("div","dayContainer");return bt.appendChild(Rt),bt}function M(){if(void 0!==i.daysContainer){xk(i.daysContainer),i.weekNumbers&&xk(i.weekNumbers);for(var K=document.createDocumentFragment(),J=0;J<i.config.showMonths;J++){var fe=new Date(i.currentYear,i.currentMonth,1);fe.setMonth(i.currentMonth+J),K.appendChild(F(fe.getFullYear(),fe.getMonth()))}i.daysContainer.appendChild(K),i.days=i.daysContainer.firstChild,"range"===i.config.mode&&1===i.selectedDates.length&&tt()}}function B(){if(!(i.config.showMonths>1||"dropdown"!==i.config.monthSelectorType)){i.monthsDropdownContainer.tabIndex=-1,i.monthsDropdownContainer.innerHTML="";for(var J=0;J<12;J++)if(Me=J,!(void 0!==i.config.minDate&&i.currentYear===i.config.minDate.getFullYear()&&Me<i.config.minDate.getMonth()||void 0!==i.config.maxDate&&i.currentYear===i.config.maxDate.getFullYear()&&Me>i.config.maxDate.getMonth())){var fe=Jr("option","flatpickr-monthDropdown-month");fe.value=new Date(i.currentYear,J).getMonth().toString(),fe.textContent=Sk(J,i.config.shorthandCurrentMonth,i.l10n),fe.tabIndex=-1,i.currentMonth===J&&(fe.selected=!0),i.monthsDropdownContainer.appendChild(fe)}}var Me}function q(){var fe,K=Jr("div","flatpickr-month"),J=window.document.createDocumentFragment();i.config.showMonths>1||"static"===i.config.monthSelectorType?fe=Jr("span","cur-month"):(i.monthsDropdownContainer=Jr("select","flatpickr-monthDropdown-months"),i.monthsDropdownContainer.setAttribute("aria-label",i.l10n.monthAriaLabel),y(i.monthsDropdownContainer,"change",function(ht){var Wt=Tc(ht),Ie=parseInt(Wt.value,10);i.changeMonth(Ie-i.currentMonth),ze("onMonthChange")}),B(),fe=i.monthsDropdownContainer);var Me=Ck("cur-year",{tabindex:"-1"}),vt=Me.getElementsByTagName("input")[0];vt.setAttribute("aria-label",i.l10n.yearAriaLabel),i.config.minDate&&vt.setAttribute("min",i.config.minDate.getFullYear().toString()),i.config.maxDate&&(vt.setAttribute("max",i.config.maxDate.getFullYear().toString()),vt.disabled=!!i.config.minDate&&i.config.minDate.getFullYear()===i.config.maxDate.getFullYear());var Rt=Jr("div","flatpickr-current-month");return Rt.appendChild(fe),Rt.appendChild(Me),J.appendChild(Rt),K.appendChild(J),{container:K,yearElement:vt,monthElement:fe}}function ue(){xk(i.monthNav),i.monthNav.appendChild(i.prevMonthNav),i.config.showMonths&&(i.yearElements=[],i.monthElements=[]);for(var K=i.config.showMonths;K--;){var J=q();i.yearElements.push(J.yearElement),i.monthElements.push(J.monthElement),i.monthNav.appendChild(J.container)}i.monthNav.appendChild(i.nextMonthNav)}function Q(){i.weekdayContainer?xk(i.weekdayContainer):i.weekdayContainer=Jr("div","flatpickr-weekdays");for(var K=i.config.showMonths;K--;){var J=Jr("div","flatpickr-weekdaycontainer");i.weekdayContainer.appendChild(J)}return Ee(),i.weekdayContainer}function Ee(){if(i.weekdayContainer){var K=i.l10n.firstDayOfWeek,J=T6e(i.l10n.weekdays.shorthand);K>0&&K<J.length&&(J=T6e(J.splice(K,J.length),J.splice(0,K)));for(var fe=i.config.showMonths;fe--;)i.weekdayContainer.children[fe].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+J.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function Ve(K,J){void 0===J&&(J=!0);var fe=J?K:K-i.currentMonth;fe<0&&!0===i._hidePrevMonthArrow||fe>0&&!0===i._hideNextMonthArrow||(i.currentMonth+=fe,(i.currentMonth<0||i.currentMonth>11)&&(i.currentYear+=i.currentMonth>11?1:-1,i.currentMonth=(i.currentMonth+12)%12,ze("onYearChange"),B()),M(),ze("onMonthChange"),he())}function j(K){return i.calendarContainer.contains(K)}function R(K){if(i.isOpen&&!i.config.inline){var J=Tc(K),fe=j(J),vt=!(J===i.input||J===i.altInput||i.element.contains(J)||K.path&&K.path.indexOf&&(~K.path.indexOf(i.input)||~K.path.indexOf(i.altInput))||fe||j(K.relatedTarget)),Rt=!i.config.ignoredFocusElements.some(function(ht){return ht.contains(J)});vt&&Rt&&(i.config.allowInput&&i.setDate(i._input.value,!1,i.config.altInput?i.config.altFormat:i.config.dateFormat),void 0!==i.timeContainer&&void 0!==i.minuteElement&&void 0!==i.hourElement&&""!==i.input.value&&void 0!==i.input.value&&u(),i.close(),i.config&&"range"===i.config.mode&&1===i.selectedDates.length&&i.clear(!1))}}function A(K){if(!(!K||i.config.minDate&&K<i.config.minDate.getFullYear()||i.config.maxDate&&K>i.config.maxDate.getFullYear())){var fe=i.currentYear!==K;i.currentYear=K||i.currentYear,i.config.maxDate&&i.currentYear===i.config.maxDate.getFullYear()?i.currentMonth=Math.min(i.config.maxDate.getMonth(),i.currentMonth):i.config.minDate&&i.currentYear===i.config.minDate.getFullYear()&&(i.currentMonth=Math.max(i.config.minDate.getMonth(),i.currentMonth)),fe&&(i.redraw(),ze("onYearChange"),B())}}function N(K,J){var fe;void 0===J&&(J=!0);var Me=i.parseDate(K,void 0,J);if(i.config.minDate&&Me&&Pc(Me,i.config.minDate,void 0!==J?J:!i.minDateHasTime)<0||i.config.maxDate&&Me&&Pc(Me,i.config.maxDate,void 0!==J?J:!i.maxDateHasTime)>0)return!1;if(!i.config.enable&&0===i.config.disable.length)return!0;if(void 0===Me)return!1;for(var vt=!!i.config.enable,Rt=null!==(fe=i.config.enable)&&void 0!==fe?fe:i.config.disable,ht=0,Wt=void 0;ht<Rt.length;ht++){if("function"==typeof(Wt=Rt[ht])&&Wt(Me))return vt;if(Wt instanceof Date&&void 0!==Me&&Wt.getTime()===Me.getTime())return vt;if("string"==typeof Wt){var Ie=i.parseDate(Wt,void 0,!0);return Ie&&Ie.getTime()===Me.getTime()?vt:!vt}if("object"==typeof Wt&&void 0!==Me&&Wt.from&&Wt.to&&Me.getTime()>=Wt.from.getTime()&&Me.getTime()<=Wt.to.getTime())return vt}return!vt}function z(K){return void 0!==i.daysContainer&&-1===K.className.indexOf("hidden")&&-1===K.className.indexOf("flatpickr-disabled")&&i.daysContainer.contains(K)}function W(K){var J=K.target===i._input,fe=i._input.value.trimEnd()!==nt();J&&fe&&(!K.relatedTarget||!j(K.relatedTarget))&&i.setDate(i._input.value,!0,K.target===i.altInput?i.config.altFormat:i.config.dateFormat)}function Ke(K){var J=Tc(K),fe=i.config.wrap?n.contains(J):J===i._input,Me=i.config.allowInput,vt=i.isOpen&&(!Me||!fe),Rt=i.config.inline&&fe&&!Me;if(13===K.keyCode&&fe){if(Me)return i.setDate(i._input.value,!0,J===i.altInput?i.config.altFormat:i.config.dateFormat),i.close(),J.blur();i.open()}else if(j(J)||vt||Rt){var ht=!!i.timeContainer&&i.timeContainer.contains(J);switch(K.keyCode){case 13:ht?(K.preventDefault(),u(),re()):ve(K);break;case 27:K.preventDefault(),re();break;case 8:case 46:fe&&!i.config.allowInput&&(K.preventDefault(),i.clear());break;case 37:case 39:if(ht||fe)i.hourElement&&i.hourElement.focus();else{K.preventDefault();var Wt=a();if(void 0!==i.daysContainer&&(!1===Me||Wt&&z(Wt))){var Ie=39===K.keyCode?1:-1;K.ctrlKey?(K.stopPropagation(),Ve(Ie),k(D(1),0)):k(void 0,Ie)}}break;case 38:case 40:K.preventDefault();var ut=40===K.keyCode?1:-1;i.daysContainer&&void 0!==J.$i||J===i.input||J===i.altInput?K.ctrlKey?(K.stopPropagation(),A(i.currentYear-ut),k(D(1),0)):ht||k(void 0,7*ut):J===i.currentYearElement?A(i.currentYear-ut):i.config.enableTime&&(!ht&&i.hourElement&&i.hourElement.focus(),u(K),i._debouncedChange());break;case 9:if(ht){var rt=[i.hourElement,i.minuteElement,i.secondElement,i.amPM].concat(i.pluginElements).filter(function(gi){return gi}),Ut=rt.indexOf(J);if(-1!==Ut){var bt=rt[Ut+(K.shiftKey?-1:1)];K.preventDefault(),(bt||i._input).focus()}}else!i.config.noCalendar&&i.daysContainer&&i.daysContainer.contains(J)&&K.shiftKey&&(K.preventDefault(),i._input.focus())}}if(void 0!==i.amPM&&J===i.amPM)switch(K.key){case i.l10n.amPM[0].charAt(0):case i.l10n.amPM[0].charAt(0).toLowerCase():i.amPM.textContent=i.l10n.amPM[0],f(),me();break;case i.l10n.amPM[1].charAt(0):case i.l10n.amPM[1].charAt(0).toLowerCase():i.amPM.textContent=i.l10n.amPM[1],f(),me()}(fe||j(J))&&ze("onKeyDown",K)}function tt(K,J){if(void 0===J&&(J="flatpickr-day"),1===i.selectedDates.length&&(!K||K.classList.contains(J)&&!K.classList.contains("flatpickr-disabled"))){for(var fe=K?K.dateObj.getTime():i.days.firstElementChild.dateObj.getTime(),Me=i.parseDate(i.selectedDates[0],void 0,!0).getTime(),vt=Math.min(fe,i.selectedDates[0].getTime()),Rt=Math.max(fe,i.selectedDates[0].getTime()),ht=!1,Wt=0,Ie=0,ut=vt;ut<Rt;ut+=864e5)N(new Date(ut),!0)||(ht=ht||ut>vt&&ut<Rt,ut<Me&&(!Wt||ut>Wt)?Wt=ut:ut>Me&&(!Ie||ut<Ie)&&(Ie=ut));Array.from(i.rContainer.querySelectorAll("*:nth-child(-n+"+i.config.showMonths+") > ."+J)).forEach(function(Ut){var gi=Ut.dateObj.getTime(),Fr=Wt>0&&gi<Wt||Ie>0&&gi>Ie;if(Fr)return Ut.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach(function(Ir){Ut.classList.remove(Ir)});ht&&!Fr||(["startRange","inRange","endRange","notAllowed"].forEach(function(Ir){Ut.classList.remove(Ir)}),void 0!==K&&(K.classList.add(fe<=i.selectedDates[0].getTime()?"startRange":"endRange"),Me<fe&&gi===Me?Ut.classList.add("startRange"):Me>fe&&gi===Me&&Ut.classList.add("endRange"),gi>=Wt&&(0===Ie||gi<=Ie)&&function(n,t,i){return n>Math.min(t,i)&&n<Math.max(t,i)}(gi,Me,fe)&&Ut.classList.add("inRange")))})}}function Ge(){i.isOpen&&!i.config.static&&!i.config.inline&&ae()}function Ln(K){return function(J){var fe=i.config["_"+K+"Date"]=i.parseDate(J,i.config.dateFormat),Me=i.config["_"+("min"===K?"max":"min")+"Date"];void 0!==fe&&(i["min"===K?"minDateHasTime":"maxDateHasTime"]=fe.getHours()>0||fe.getMinutes()>0||fe.getSeconds()>0),i.selectedDates&&(i.selectedDates=i.selectedDates.filter(function(vt){return N(vt)}),!i.selectedDates.length&&"min"===K&&h(fe),me()),i.daysContainer&&(Ct(),void 0!==fe?i.currentYearElement[K]=fe.getFullYear().toString():i.currentYearElement.removeAttribute(K),i.currentYearElement.disabled=!!Me&&void 0!==fe&&Me.getFullYear()===fe.getFullYear())}}function At(){return i.config.wrap?n.querySelector("[data-input]"):n}function an(){"object"!=typeof i.config.locale&&typeof so.l10ns[i.config.locale]>"u"&&i.config.errorHandler(new Error("flatpickr: invalid locale "+i.config.locale)),i.l10n=Ra(Ra({},so.l10ns.default),"object"==typeof i.config.locale?i.config.locale:"default"!==i.config.locale?so.l10ns[i.config.locale]:void 0),V1.D="("+i.l10n.weekdays.shorthand.join("|")+")",V1.l="("+i.l10n.weekdays.longhand.join("|")+")",V1.M="("+i.l10n.months.shorthand.join("|")+")",V1.F="("+i.l10n.months.longhand.join("|")+")",V1.K="("+i.l10n.amPM[0]+"|"+i.l10n.amPM[1]+"|"+i.l10n.amPM[0].toLowerCase()+"|"+i.l10n.amPM[1].toLowerCase()+")",void 0===Ra(Ra({},t),JSON.parse(JSON.stringify(n.dataset||{}))).time_24hr&&void 0===so.defaultConfig.time_24hr&&(i.config.time_24hr=i.l10n.time_24hr),i.formatDate=O6e(i),i.parseDate=jq({config:i.config,l10n:i.l10n})}function ae(K){if("function"!=typeof i.config.position){if(void 0!==i.calendarContainer){ze("onPreCalendarPosition");var J=K||i._positionElement,fe=Array.prototype.reduce.call(i.calendarContainer.children,function(gn,si){return gn+si.offsetHeight},0),Me=i.calendarContainer.offsetWidth,vt=i.config.position.split(" "),Rt=vt[0],ht=vt.length>1?vt[1]:null,Wt=J.getBoundingClientRect(),Ie=window.innerHeight-Wt.bottom,ut="above"===Rt||"below"!==Rt&&Ie<fe&&Wt.top>fe,rt=window.pageYOffset+Wt.top+(ut?-fe-2:J.offsetHeight+2);if(ll(i.calendarContainer,"arrowTop",!ut),ll(i.calendarContainer,"arrowBottom",ut),!i.config.inline){var Ut=window.pageXOffset+Wt.left,bt=!1,gi=!1;"center"===ht?(Ut-=(Me-Wt.width)/2,bt=!0):"right"===ht&&(Ut-=Me-Wt.width,gi=!0),ll(i.calendarContainer,"arrowLeft",!bt&&!gi),ll(i.calendarContainer,"arrowCenter",bt),ll(i.calendarContainer,"arrowRight",gi);var Fr=window.document.body.offsetWidth-(window.pageXOffset+Wt.right),Ir=Ut+Me>window.document.body.offsetWidth,yl=Fr+Me>window.document.body.offsetWidth;if(ll(i.calendarContainer,"rightMost",Ir),!i.config.static)if(i.calendarContainer.style.top=rt+"px",Ir)if(yl){var Rc=function Ye(){for(var K=null,J=0;J<document.styleSheets.length;J++){var fe=document.styleSheets[J];if(fe.cssRules){K=fe;break}}return K??function Et(){var K=document.createElement("style");return document.head.appendChild(K),K.sheet}()}();if(void 0===Rc)return;var ZM=window.document.body.offsetWidth,zr=Math.max(0,ZM/2-Me/2),Ae=Rc.cssRules.length,dt="{left:"+Wt.left+"px;right:auto;}";ll(i.calendarContainer,"rightMost",!1),ll(i.calendarContainer,"centerMost",!0),Rc.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+dt,Ae),i.calendarContainer.style.left=zr+"px",i.calendarContainer.style.right="auto"}else i.calendarContainer.style.left="auto",i.calendarContainer.style.right=Fr+"px";else i.calendarContainer.style.left=Ut+"px",i.calendarContainer.style.right="auto"}}}else i.config.position(i,K)}function Ct(){i.config.noCalendar||i.isMobile||(B(),he(),M())}function re(){i._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(i.close,0):i.close()}function ve(K){K.preventDefault(),K.stopPropagation();var fe=S6e(Tc(K),function(rt){return rt.classList&&rt.classList.contains("flatpickr-day")&&!rt.classList.contains("flatpickr-disabled")&&!rt.classList.contains("notAllowed")});if(void 0!==fe){var Me=fe,vt=i.latestSelectedDateObj=new Date(Me.dateObj.getTime()),Rt=(vt.getMonth()<i.currentMonth||vt.getMonth()>i.currentMonth+i.config.showMonths-1)&&"range"!==i.config.mode;if(i.selectedDateElem=Me,"single"===i.config.mode)i.selectedDates=[vt];else if("multiple"===i.config.mode){var ht=je(vt);ht?i.selectedDates.splice(parseInt(ht),1):i.selectedDates.push(vt)}else"range"===i.config.mode&&(2===i.selectedDates.length&&i.clear(!1,!1),i.latestSelectedDateObj=vt,i.selectedDates.push(vt),0!==Pc(vt,i.selectedDates[0],!0)&&i.selectedDates.sort(function(rt,Ut){return rt.getTime()-Ut.getTime()}));if(f(),Rt){var Wt=i.currentYear!==vt.getFullYear();i.currentYear=vt.getFullYear(),i.currentMonth=vt.getMonth(),Wt&&(ze("onYearChange"),B()),ze("onMonthChange")}he(),M(),me(),Rt||"range"===i.config.mode||1!==i.config.showMonths?void 0!==i.selectedDateElem&&void 0===i.hourElement&&i.selectedDateElem&&i.selectedDateElem.focus():P(Me),void 0!==i.hourElement&&void 0!==i.hourElement&&i.hourElement.focus(),i.config.closeOnSelect&&("single"===i.config.mode&&!i.config.enableTime||"range"===i.config.mode&&2===i.selectedDates.length&&!i.config.enableTime)&&re(),v()}}i.parseDate=jq({config:i.config,l10n:i.l10n}),i._handlers=[],i.pluginElements=[],i.loadedPlugins=[],i._bind=y,i._setHoursFromDate=h,i._positionCalendar=ae,i.changeMonth=Ve,i.changeYear=A,i.clear=function Pe(K,J){if(void 0===K&&(K=!0),void 0===J&&(J=!0),i.input.value="",void 0!==i.altInput&&(i.altInput.value=""),void 0!==i.mobileInput&&(i.mobileInput.value=""),i.selectedDates=[],i.latestSelectedDateObj=void 0,!0===J&&(i.currentYear=i._initialDate.getFullYear(),i.currentMonth=i._initialDate.getMonth()),!0===i.config.enableTime){var fe=$q(i.config);m(fe.hours,fe.minutes,fe.seconds)}i.redraw(),K&&ze("onChange")},i.close=function de(){i.isOpen=!1,i.isMobile||(void 0!==i.calendarContainer&&i.calendarContainer.classList.remove("open"),void 0!==i._input&&i._input.classList.remove("active")),ze("onClose")},i.onMouseOver=tt,i._createElement=Jr,i.createDay=C,i.destroy=function X(){void 0!==i.config&&ze("onDestroy");for(var K=i._handlers.length;K--;)i._handlers[K].remove();if(i._handlers=[],i.mobileInput)i.mobileInput.parentNode&&i.mobileInput.parentNode.removeChild(i.mobileInput),i.mobileInput=void 0;else if(i.calendarContainer&&i.calendarContainer.parentNode)if(i.config.static&&i.calendarContainer.parentNode){var J=i.calendarContainer.parentNode;if(J.lastChild&&J.removeChild(J.lastChild),J.parentNode){for(;J.firstChild;)J.parentNode.insertBefore(J.firstChild,J);J.parentNode.removeChild(J)}}else i.calendarContainer.parentNode.removeChild(i.calendarContainer);i.altInput&&(i.input.type="text",i.altInput.parentNode&&i.altInput.parentNode.removeChild(i.altInput),delete i.altInput),i.input&&(i.input.type=i.input._type,i.input.classList.remove("flatpickr-input"),i.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(fe){try{delete i[fe]}catch{}})},i.isEnabled=N,i.jumpToDate=E,i.updateValue=me,i.open=function Nt(K,J){if(void 0===J&&(J=i._positionElement),!0===i.isMobile){if(K){K.preventDefault();var fe=Tc(K);fe&&fe.blur()}return void 0!==i.mobileInput&&(i.mobileInput.focus(),i.mobileInput.click()),void ze("onOpen")}if(!i._input.disabled&&!i.config.inline){var Me=i.isOpen;i.isOpen=!0,Me||(i.calendarContainer.classList.add("open"),i._input.classList.add("active"),ze("onOpen"),ae(J)),!0===i.config.enableTime&&!0===i.config.noCalendar&&!1===i.config.allowInput&&(void 0===K||!i.timeContainer.contains(K.relatedTarget))&&setTimeout(function(){return i.hourElement.select()},50)}},i.redraw=Ct,i.set=function Ue(K,J){if(null!==K&&"object"==typeof K)for(var fe in Object.assign(i.config,K),K)void 0!==le[fe]&&le[fe].forEach(function(Me){return Me()});else i.config[K]=J,void 0!==le[K]?le[K].forEach(function(Me){return Me()}):Rq.indexOf(K)>-1&&(i.config[K]=Fq(J));i.redraw(),me(!0)},i.setDate=function st(K,J,fe){if(void 0===J&&(J=!1),void 0===fe&&(fe=i.config.dateFormat),0!==K&&!K||K instanceof Array&&0===K.length)return i.clear(J);at(K,fe),i.latestSelectedDateObj=i.selectedDates[i.selectedDates.length-1],i.redraw(),E(void 0,J),h(),0===i.selectedDates.length&&i.clear(!1),me(J),J&&ze("onChange")},i.toggle=function Ft(K){if(!0===i.isOpen)return i.close();i.open(K)};var le={locale:[an,Ee],showMonths:[ue,c,Q],minDate:[E],maxDate:[E],positionElement:[pt],clickOpens:[function(){!0===i.config.clickOpens?(y(i._input,"focus",i.open),y(i._input,"click",i.open)):(i._input.removeEventListener("focus",i.open),i._input.removeEventListener("click",i.open))}]};function at(K,J){var fe=[];if(K instanceof Array)fe=K.map(function(Me){return i.parseDate(Me,J)});else if(K instanceof Date||"number"==typeof K)fe=[i.parseDate(K,J)];else if("string"==typeof K)switch(i.config.mode){case"single":case"time":fe=[i.parseDate(K,J)];break;case"multiple":fe=K.split(i.config.conjunction).map(function(Me){return i.parseDate(Me,J)});break;case"range":fe=K.split(i.l10n.rangeSeparator).map(function(Me){return i.parseDate(Me,J)})}else i.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(K)));i.selectedDates=i.config.allowInvalidPreload?fe:fe.filter(function(Me){return Me instanceof Date&&N(Me,!1)}),"range"===i.config.mode&&i.selectedDates.sort(function(Me,vt){return Me.getTime()-vt.getTime()})}function yt(K){return K.slice().map(function(J){return"string"==typeof J||"number"==typeof J||J instanceof Date?i.parseDate(J,void 0,!0):J&&"object"==typeof J&&J.from&&J.to?{from:i.parseDate(J.from,void 0),to:i.parseDate(J.to,void 0)}:J}).filter(function(J){return J})}function pt(){i._positionElement=i.config.positionElement||i._input}function ze(K,J){if(void 0!==i.config){var fe=i.config[K];if(void 0!==fe&&fe.length>0)for(var Me=0;fe[Me]&&Me<fe.length;Me++)fe[Me](i.selectedDates,i.input.value,i,J);"onChange"===K&&(i.input.dispatchEvent(Z("change")),i.input.dispatchEvent(Z("input")))}}function Z(K){var J=document.createEvent("Event");return J.initEvent(K,!0,!0),J}function je(K){for(var J=0;J<i.selectedDates.length;J++){var fe=i.selectedDates[J];if(fe instanceof Date&&0===Pc(fe,K))return""+J}return!1}function he(){i.config.noCalendar||i.isMobile||!i.monthNav||(i.yearElements.forEach(function(K,J){var fe=new Date(i.currentYear,i.currentMonth,1);fe.setMonth(i.currentMonth+J),i.config.showMonths>1||"static"===i.config.monthSelectorType?i.monthElements[J].textContent=Sk(fe.getMonth(),i.config.shorthandCurrentMonth,i.l10n)+" ":i.monthsDropdownContainer.value=fe.getMonth().toString(),K.value=fe.getFullYear().toString()}),i._hidePrevMonthArrow=void 0!==i.config.minDate&&(i.currentYear===i.config.minDate.getFullYear()?i.currentMonth<=i.config.minDate.getMonth():i.currentYear<i.config.minDate.getFullYear()),i._hideNextMonthArrow=void 0!==i.config.maxDate&&(i.currentYear===i.config.maxDate.getFullYear()?i.currentMonth+1>i.config.maxDate.getMonth():i.currentYear>i.config.maxDate.getFullYear()))}function nt(K){var J=K||(i.config.altInput?i.config.altFormat:i.config.dateFormat);return i.selectedDates.map(function(fe){return i.formatDate(fe,J)}).filter(function(fe,Me,vt){return"range"!==i.config.mode||i.config.enableTime||vt.indexOf(fe)===Me}).join("range"!==i.config.mode?i.config.conjunction:i.l10n.rangeSeparator)}function me(K){void 0===K&&(K=!0),void 0!==i.mobileInput&&i.mobileFormatStr&&(i.mobileInput.value=void 0!==i.latestSelectedDateObj?i.formatDate(i.latestSelectedDateObj,i.mobileFormatStr):""),i.input.value=nt(i.config.dateFormat),void 0!==i.altInput&&(i.altInput.value=nt(i.config.altFormat)),!1!==K&&ze("onValueUpdate")}function Ze(K){var J=Tc(K),fe=i.prevMonthNav.contains(J),Me=i.nextMonthNav.contains(J);fe||Me?Ve(fe?-1:1):i.yearElements.indexOf(J)>=0?J.select():J.classList.contains("arrowUp")?i.changeYear(i.currentYear+1):J.classList.contains("arrowDown")&&i.changeYear(i.currentYear-1)}return function o(){i.element=i.input=n,i.isOpen=!1,function Cr(){var K=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],J=Ra(Ra({},JSON.parse(JSON.stringify(n.dataset||{}))),t),fe={};i.config.parseDate=J.parseDate,i.config.formatDate=J.formatDate,Object.defineProperty(i.config,"enable",{get:function(){return i.config._enable},set:function(rt){i.config._enable=yt(rt)}}),Object.defineProperty(i.config,"disable",{get:function(){return i.config._disable},set:function(rt){i.config._disable=yt(rt)}});var Me="time"===J.mode;J.dateFormat||!J.enableTime&&!Me||(fe.dateFormat=J.noCalendar||Me?"H:i"+(J.enableSeconds?":S":""):(so.defaultConfig.dateFormat||z_.dateFormat)+" H:i"+(J.enableSeconds?":S":"")),J.altInput&&(J.enableTime||Me)&&!J.altFormat&&(fe.altFormat=J.noCalendar||Me?"h:i"+(J.enableSeconds?":S K":" K"):(so.defaultConfig.altFormat||z_.altFormat)+" h:i"+(J.enableSeconds?":S":"")+" K"),Object.defineProperty(i.config,"minDate",{get:function(){return i.config._minDate},set:Ln("min")}),Object.defineProperty(i.config,"maxDate",{get:function(){return i.config._maxDate},set:Ln("max")});var ht=function(rt){return function(Ut){i.config["min"===rt?"_minTime":"_maxTime"]=i.parseDate(Ut,"H:i:S")}};Object.defineProperty(i.config,"minTime",{get:function(){return i.config._minTime},set:ht("min")}),Object.defineProperty(i.config,"maxTime",{get:function(){return i.config._maxTime},set:ht("max")}),"time"===J.mode&&(i.config.noCalendar=!0,i.config.enableTime=!0),Object.assign(i.config,fe,J);for(var Wt=0;Wt<K.length;Wt++)i.config[K[Wt]]=!0===i.config[K[Wt]]||"true"===i.config[K[Wt]];for(Rq.filter(function(rt){return void 0!==i.config[rt]}).forEach(function(rt){i.config[rt]=Fq(i.config[rt]||[]).map(l)}),i.isMobile=!i.config.disableMobile&&!i.config.inline&&"single"===i.config.mode&&!i.config.disable.length&&!i.config.enable&&!i.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Wt=0;Wt<i.config.plugins.length;Wt++){var Ie=i.config.plugins[Wt](i)||{};for(var ut in Ie)Rq.indexOf(ut)>-1?i.config[ut]=Fq(Ie[ut]).map(l).concat(i.config[ut]):typeof J[ut]>"u"&&(i.config[ut]=Ie[ut])}J.altInputClass||(i.config.altInputClass=At().className+" "+i.config.altInputClass),ze("onParseConfig")}(),an(),function it(){i.input=At(),i.input?(i.input._type=i.input.type,i.input.type="text",i.input.classList.add("flatpickr-input"),i._input=i.input,i.config.altInput&&(i.altInput=Jr(i.input.nodeName,i.config.altInputClass),i._input=i.altInput,i.altInput.placeholder=i.input.placeholder,i.altInput.disabled=i.input.disabled,i.altInput.required=i.input.required,i.altInput.tabIndex=i.input.tabIndex,i.altInput.type="text",i.input.setAttribute("type","hidden"),!i.config.static&&i.input.parentNode&&i.input.parentNode.insertBefore(i.altInput,i.input.nextSibling)),i.config.allowInput||i._input.setAttribute("readonly","readonly"),pt()):i.config.errorHandler(new Error("Invalid input element specified"))}(),function Re(){i.selectedDates=[],i.now=i.parseDate(i.config.now)||new Date;var K=i.config.defaultDate||("INPUT"!==i.input.nodeName&&"TEXTAREA"!==i.input.nodeName||!i.input.placeholder||i.input.value!==i.input.placeholder?i.input.value:null);K&&at(K,i.config.dateFormat),i._initialDate=i.selectedDates.length>0?i.selectedDates[0]:i.config.minDate&&i.config.minDate.getTime()>i.now.getTime()?i.config.minDate:i.config.maxDate&&i.config.maxDate.getTime()<i.now.getTime()?i.config.maxDate:i.now,i.currentYear=i._initialDate.getFullYear(),i.currentMonth=i._initialDate.getMonth(),i.selectedDates.length>0&&(i.latestSelectedDateObj=i.selectedDates[0]),void 0!==i.config.minTime&&(i.config.minTime=i.parseDate(i.config.minTime,"H:i")),void 0!==i.config.maxTime&&(i.config.maxTime=i.parseDate(i.config.maxTime,"H:i")),i.minDateHasTime=!!i.config.minDate&&(i.config.minDate.getHours()>0||i.config.minDate.getMinutes()>0||i.config.minDate.getSeconds()>0),i.maxDateHasTime=!!i.config.maxDate&&(i.config.maxDate.getHours()>0||i.config.maxDate.getMinutes()>0||i.config.maxDate.getSeconds()>0)}(),function s(){i.utils={getDaysInMonth:function(K,J){return void 0===K&&(K=i.currentMonth),void 0===J&&(J=i.currentYear),1===K&&(J%4==0&&J%100!=0||J%400==0)?29:i.l10n.daysInMonth[K]}}}(),i.isMobile||function w(){var K=window.document.createDocumentFragment();if(i.calendarContainer=Jr("div","flatpickr-calendar"),i.calendarContainer.tabIndex=-1,!i.config.noCalendar){if(K.appendChild(function H(){return i.monthNav=Jr("div","flatpickr-months"),i.yearElements=[],i.monthElements=[],i.prevMonthNav=Jr("span","flatpickr-prev-month"),i.prevMonthNav.innerHTML=i.config.prevArrow,i.nextMonthNav=Jr("span","flatpickr-next-month"),i.nextMonthNav.innerHTML=i.config.nextArrow,ue(),Object.defineProperty(i,"_hidePrevMonthArrow",{get:function(){return i.__hidePrevMonthArrow},set:function(K){i.__hidePrevMonthArrow!==K&&(ll(i.prevMonthNav,"flatpickr-disabled",K),i.__hidePrevMonthArrow=K)}}),Object.defineProperty(i,"_hideNextMonthArrow",{get:function(){return i.__hideNextMonthArrow},set:function(K){i.__hideNextMonthArrow!==K&&(ll(i.nextMonthNav,"flatpickr-disabled",K),i.__hideNextMonthArrow=K)}}),i.currentYearElement=i.yearElements[0],he(),i.monthNav}()),i.innerContainer=Jr("div","flatpickr-innerContainer"),i.config.weekNumbers){var J=function Te(){i.calendarContainer.classList.add("hasWeeks");var K=Jr("div","flatpickr-weekwrapper");K.appendChild(Jr("span","flatpickr-weekday",i.l10n.weekAbbreviation));var J=Jr("div","flatpickr-weeks");return K.appendChild(J),{weekWrapper:K,weekNumbers:J}}(),fe=J.weekWrapper,Me=J.weekNumbers;i.innerContainer.appendChild(fe),i.weekNumbers=Me,i.weekWrapper=fe}i.rContainer=Jr("div","flatpickr-rContainer"),i.rContainer.appendChild(Q()),i.daysContainer||(i.daysContainer=Jr("div","flatpickr-days"),i.daysContainer.tabIndex=-1),M(),i.rContainer.appendChild(i.daysContainer),i.innerContainer.appendChild(i.rContainer),K.appendChild(i.innerContainer)}i.config.enableTime&&K.appendChild(function ee(){i.calendarContainer.classList.add("hasTime"),i.config.noCalendar&&i.calendarContainer.classList.add("noCalendar");var K=$q(i.config);i.timeContainer=Jr("div","flatpickr-time"),i.timeContainer.tabIndex=-1;var J=Jr("span","flatpickr-time-separator",":"),fe=Ck("flatpickr-hour",{"aria-label":i.l10n.hourAriaLabel});i.hourElement=fe.getElementsByTagName("input")[0];var Me=Ck("flatpickr-minute",{"aria-label":i.l10n.minuteAriaLabel});if(i.minuteElement=Me.getElementsByTagName("input")[0],i.hourElement.tabIndex=i.minuteElement.tabIndex=-1,i.hourElement.value=zl(i.latestSelectedDateObj?i.latestSelectedDateObj.getHours():i.config.time_24hr?K.hours:function p(K){switch(K%24){case 0:case 12:return 12;default:return K%12}}(K.hours)),i.minuteElement.value=zl(i.latestSelectedDateObj?i.latestSelectedDateObj.getMinutes():K.minutes),i.hourElement.setAttribute("step",i.config.hourIncrement.toString()),i.minuteElement.setAttribute("step",i.config.minuteIncrement.toString()),i.hourElement.setAttribute("min",i.config.time_24hr?"0":"1"),i.hourElement.setAttribute("max",i.config.time_24hr?"23":"12"),i.hourElement.setAttribute("maxlength","2"),i.minuteElement.setAttribute("min","0"),i.minuteElement.setAttribute("max","59"),i.minuteElement.setAttribute("maxlength","2"),i.timeContainer.appendChild(fe),i.timeContainer.appendChild(J),i.timeContainer.appendChild(Me),i.config.time_24hr&&i.timeContainer.classList.add("time24hr"),i.config.enableSeconds){i.timeContainer.classList.add("hasSeconds");var vt=Ck("flatpickr-second");i.secondElement=vt.getElementsByTagName("input")[0],i.secondElement.value=zl(i.latestSelectedDateObj?i.latestSelectedDateObj.getSeconds():K.seconds),i.secondElement.setAttribute("step",i.minuteElement.getAttribute("step")),i.secondElement.setAttribute("min","0"),i.secondElement.setAttribute("max","59"),i.secondElement.setAttribute("maxlength","2"),i.timeContainer.appendChild(Jr("span","flatpickr-time-separator",":")),i.timeContainer.appendChild(vt)}return i.config.time_24hr||(i.amPM=Jr("span","flatpickr-am-pm",i.l10n.amPM[vu((i.latestSelectedDateObj?i.hourElement.value:i.config.defaultHour)>11)]),i.amPM.title=i.l10n.toggleTitle,i.amPM.tabIndex=-1,i.timeContainer.appendChild(i.amPM)),i.timeContainer}()),ll(i.calendarContainer,"rangeMode","range"===i.config.mode),ll(i.calendarContainer,"animate",!0===i.config.animate),ll(i.calendarContainer,"multiMonth",i.config.showMonths>1),i.calendarContainer.appendChild(K);var vt=void 0!==i.config.appendTo&&void 0!==i.config.appendTo.nodeType;if((i.config.inline||i.config.static)&&(i.calendarContainer.classList.add(i.config.inline?"inline":"static"),i.config.inline&&(!vt&&i.element.parentNode?i.element.parentNode.insertBefore(i.calendarContainer,i._input.nextSibling):void 0!==i.config.appendTo&&i.config.appendTo.appendChild(i.calendarContainer)),i.config.static)){var Rt=Jr("div","flatpickr-wrapper");i.element.parentNode&&i.element.parentNode.insertBefore(Rt,i.element),Rt.appendChild(i.element),i.altInput&&Rt.appendChild(i.altInput),Rt.appendChild(i.calendarContainer)}!i.config.static&&!i.config.inline&&(void 0!==i.config.appendTo?i.config.appendTo:window.document.body).appendChild(i.calendarContainer)}(),function _(){if(i.config.wrap&&["open","close","toggle","clear"].forEach(function(fe){Array.prototype.forEach.call(i.element.querySelectorAll("[data-"+fe+"]"),function(Me){return y(Me,"click",i[fe])})}),i.isMobile)!function Jt(){var K=i.config.enableTime?i.config.noCalendar?"time":"datetime-local":"date";i.mobileInput=Jr("input",i.input.className+" flatpickr-mobile"),i.mobileInput.tabIndex=1,i.mobileInput.type=K,i.mobileInput.disabled=i.input.disabled,i.mobileInput.required=i.input.required,i.mobileInput.placeholder=i.input.placeholder,i.mobileFormatStr="datetime-local"===K?"Y-m-d\\TH:i:S":"date"===K?"Y-m-d":"H:i:S",i.selectedDates.length>0&&(i.mobileInput.defaultValue=i.mobileInput.value=i.formatDate(i.selectedDates[0],i.mobileFormatStr)),i.config.minDate&&(i.mobileInput.min=i.formatDate(i.config.minDate,"Y-m-d")),i.config.maxDate&&(i.mobileInput.max=i.formatDate(i.config.maxDate,"Y-m-d")),i.input.getAttribute("step")&&(i.mobileInput.step=String(i.input.getAttribute("step"))),i.input.type="hidden",void 0!==i.altInput&&(i.altInput.type="hidden");try{i.input.parentNode&&i.input.parentNode.insertBefore(i.mobileInput,i.input.nextSibling)}catch{}y(i.mobileInput,"change",function(J){i.setDate(Tc(J).value,!1,i.mobileFormatStr),ze("onChange"),ze("onClose")})}();else{var K=C6e(Ge,50);if(i._debouncedChange=C6e(v,300),i.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&y(i.daysContainer,"mouseover",function(fe){"range"===i.config.mode&&tt(Tc(fe))}),y(i._input,"keydown",Ke),void 0!==i.calendarContainer&&y(i.calendarContainer,"keydown",Ke),!i.config.inline&&!i.config.static&&y(window,"resize",K),void 0!==window.ontouchstart?y(window.document,"touchstart",R):y(window.document,"mousedown",R),y(window.document,"focus",R,{capture:!0}),!0===i.config.clickOpens&&(y(i._input,"focus",i.open),y(i._input,"click",i.open)),void 0!==i.daysContainer&&(y(i.monthNav,"click",Ze),y(i.monthNav,["keyup","increment"],g),y(i.daysContainer,"click",ve)),void 0!==i.timeContainer&&void 0!==i.minuteElement&&void 0!==i.hourElement){y(i.timeContainer,["increment"],u),y(i.timeContainer,"blur",u,{capture:!0}),y(i.timeContainer,"click",x),y([i.hourElement,i.minuteElement],["focus","click"],function(fe){return Tc(fe).select()}),void 0!==i.secondElement&&y(i.secondElement,"focus",function(){return i.secondElement&&i.secondElement.select()}),void 0!==i.amPM&&y(i.amPM,"click",function(fe){u(fe)})}i.config.allowInput&&y(i._input,"blur",W)}}(),(i.selectedDates.length||i.config.noCalendar)&&(i.config.enableTime&&h(i.config.noCalendar?i.latestSelectedDateObj:void 0),me(!1)),c();var K=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!i.isMobile&&K&&ae(),ze("onReady")}(),i}function H_(n,t){for(var i=Array.prototype.slice.call(n).filter(function(l){return l instanceof HTMLElement}),s=[],o=0;o<i.length;o++){var a=i[o];try{if(null!==a.getAttribute("data-fp-omit"))continue;void 0!==a._flatpickr&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=wLt(a,t||{}),s.push(a._flatpickr)}catch(l){console.error(l)}}return 1===s.length?s[0]:s}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return H_(this,n)},HTMLElement.prototype.flatpickr=function(n){return H_([this],n)});var so=function(n,t){return"string"==typeof n?H_(window.document.querySelectorAll(n),t):n instanceof Node?H_([n],t):H_(n,t)};so.defaultConfig={},so.l10ns={en:Ra({},Lq),default:Ra({},Lq)},so.localize=function(n){so.l10ns.default=Ra(Ra({},so.l10ns.default),n)},so.setDefaults=function(n){so.defaultConfig=Ra(Ra({},so.defaultConfig),n)},so.parseDate=jq({}),so.formatDate=O6e({}),so.compareDates=Pc,typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return H_(this,n)}),Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof n?parseInt(n,10):n))},typeof window<"u"&&(window.flatpickr=so);const xLt=so;function zq(n,t){for(var i in n)if("__source"!==i&&!(i in t))return!0;for(var s in t)if("__source"!==s&&n[s]!==t[s])return!0;return!1}function Hq(n){this.props=n}(Hq.prototype=new Ud).isPureReactComponent=!0,Hq.prototype.shouldComponentUpdate=function(n,t){return zq(this.props,n)||zq(this.state,t)};var D6e=_n.__b;_n.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),D6e&&D6e(n)},typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref");var PLt=_n.__e;_n.__e=function(n,t,i,s){if(n.then)for(var o,a=t;a=a.__;)if((o=a.__c)&&o.__c)return null==t.__e&&(t.__e=i.__e,t.__k=i.__k),o.__c(n,t);PLt(n,t,i,s)};var M6e=_n.unmount;function A6e(n,t,i){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(s){"function"==typeof s.__c&&s.__c()}),n.__c.__H=null),null!=(n=function P6e(n,t){for(var i in t)n[i]=t[i];return n}({},n)).__c&&(n.__c.__P===i&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(s){return A6e(s,t,i)})),n}function I6e(n,t,i){return n&&i&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(s){return I6e(s,t,i)}),n.__c&&n.__c.__P===t&&(n.__e&&i.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=i)),n}function Ok(){this.__u=0,this.t=null,this.__b=null}function R6e(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function A5(){this.u=null,this.o=null}_n.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),M6e&&M6e(n)},(Ok.prototype=new Ud).__c=function(n,t){var i=t.__c,s=this;null==s.t&&(s.t=[]),s.t.push(i);var o=R6e(s.__v),a=!1,l=function(){a||(a=!0,i.__R=null,o?o(c):c())};i.__R=l;var c=function(){if(! --s.__u){if(s.state.__a){var u=s.state.__a;s.__v.__k[0]=I6e(u,u.__c.__P,u.__c.__O)}var d;for(s.setState({__a:s.__b=null});d=s.t.pop();)d.forceUpdate()}};s.__u++||32&t.__u||s.setState({__a:s.__b=s.__v.__k[0]}),n.then(l,l)},Ok.prototype.componentWillUnmount=function(){this.t=[]},Ok.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=A6e(this.__b,i,s.__O=s.__P)}this.__b=null}var o=t.__a&&zt(go,null,n.fallback);return o&&(o.__u&=-33),[zt(go,null,t.__a?null:n.children),o]};var N6e=function(n,t,i){if(++i[1]===i[0]&&n.o.delete(t),n.props.revealOrder&&("t"!==n.props.revealOrder[0]||!n.o.size))for(i=n.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;n.u=i=i[2]}};(A5.prototype=new Ud).__a=function(n){var t=this,i=R6e(t.__v),s=t.o.get(n);return s[0]++,function(o){var a=function(){t.props.revealOrder?(s.push(o),N6e(t,n,s)):o()};i?i(a):a()}},A5.prototype.render=function(n){this.u=null,this.o=new Map;var t=cf(n.children);n.revealOrder&&"b"===n.revealOrder[0]&&t.reverse();for(var i=t.length;i--;)this.o.set(t[i],this.u=[1,0,this.u]);return n.children},A5.prototype.componentDidUpdate=A5.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,i){N6e(n,i,t)})};var F6e=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,ALt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ILt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,RLt=/[A-Z0-9]/g,NLt=typeof document<"u",LLt=function(n){return(typeof Symbol<"u"&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};Ud.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Ud.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var B6e=_n.event;function jLt(){}function VLt(){return this.cancelBubble}function $Lt(){return this.defaultPrevented}_n.event=function(n){return B6e&&(n=B6e(n)),n.persist=jLt,n.isPropagationStopped=VLt,n.isDefaultPrevented=$Lt,n.nativeEvent=n};var zLt={enumerable:!1,configurable:!0,get:function(){return this.class}},j6e=_n.vnode;_n.vnode=function(n){"string"==typeof n.type&&function(t){var i=t.props,s=t.type,o={};for(var a in i){var l=i[a];if(!("value"===a&&"defaultValue"in i&&null==l||NLt&&"children"===a&&"noscript"===s||"class"===a||"className"===a)){var c=a.toLowerCase();"defaultValue"===a&&"value"in i&&null==i.value?a="value":"download"===a&&!0===l?l="":"ondoubleclick"===c?a="ondblclick":"onchange"!==c||"input"!==s&&"textarea"!==s||LLt(i.type)?"onfocus"===c?a="onfocusin":"onblur"===c?a="onfocusout":ILt.test(a)?a=c:-1===s.indexOf("-")&&ALt.test(a)?a=a.replace(RLt,"-$&").toLowerCase():null===l&&(l=void 0):c=a="oninput","oninput"===c&&o[a=c]&&(a="oninputCapture"),o[a]=l}}"select"==s&&o.multiple&&Array.isArray(o.value)&&(o.value=cf(i.children).forEach(function(u){u.props.selected=-1!=o.value.indexOf(u.props.value)})),"select"==s&&null!=o.defaultValue&&(o.value=cf(i.children).forEach(function(u){u.props.selected=o.multiple?-1!=o.defaultValue.indexOf(u.props.value):o.defaultValue==u.props.value})),i.class&&!i.className?(o.class=i.class,Object.defineProperty(o,"className",zLt)):(i.className&&!i.class||i.class&&i.className)&&(o.class=o.className=i.className),t.props=o}(n),n.$$typeof=F6e,j6e&&j6e(n)};var V6e=_n.__r;_n.__r=function(n){V6e&&V6e(n)};var $6e=_n.diffed;_n.diffed=function(n){$6e&&$6e(n);var t=n.props,i=n.__e;null!=i&&"textarea"===n.type&&"value"in t&&t.value!==i.value&&(i.value=null==t.value?"":t.value)};const{entries:H6e,setPrototypeOf:U6e,isFrozen:rFt,getPrototypeOf:iFt,getOwnPropertyDescriptor:sFt}=Object;let{freeze:cl,seal:bu,create:q6e}=Object,{apply:Wq,construct:Gq}=typeof Reflect<"u"&&Reflect;cl||(cl=function(t){return t}),bu||(bu=function(t){return t}),Wq||(Wq=function(t,i,s){return t.apply(i,s)}),Gq||(Gq=function(t,i){return new t(...i)});const Pk=Dc(Array.prototype.forEach),W6e=Dc(Array.prototype.pop),I5=Dc(Array.prototype.push),Dk=Dc(String.prototype.toLowerCase),Kq=Dc(String.prototype.toString),G6e=Dc(String.prototype.match),R5=Dc(String.prototype.replace),oFt=Dc(String.prototype.indexOf),aFt=Dc(String.prototype.trim),ld=Dc(Object.prototype.hasOwnProperty),ul=Dc(RegExp.prototype.test),N5=function lFt(n){return function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return Gq(n,i)}}(TypeError);function Dc(n){return function(t){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return Wq(n,t,s)}}function Pr(n,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dk;U6e&&U6e(n,null);let s=t.length;for(;s--;){let o=t[s];if("string"==typeof o){const a=i(o);a!==o&&(rFt(t)||(t[s]=a),o=a)}n[o]=!0}return n}function cFt(n){for(let t=0;t<n.length;t++)ld(n,t)||(n[t]=null);return n}function $1(n){const t=q6e(null);for(const[i,s]of H6e(n))ld(n,i)&&(t[i]=Array.isArray(s)?cFt(s):s&&"object"==typeof s&&s.constructor===Object?$1(s):s);return t}function L5(n,t){for(;null!==n;){const s=sFt(n,t);if(s){if(s.get)return Dc(s.get);if("function"==typeof s.value)return Dc(s.value)}n=iFt(n)}return function i(){return null}}const K6e=cl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Yq=cl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Xq=cl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),uFt=cl(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Zq=cl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),dFt=cl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Y6e=cl(["#text"]),X6e=cl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Qq=cl(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Z6e=cl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),kk=cl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),pFt=bu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),fFt=bu(/<%[\w\W]*|[\w\W]*%>/gm),hFt=bu(/\${[\w\W]*}/gm),mFt=bu(/^data-[\-\w.\u00B7-\uFFFF]/),gFt=bu(/^aria-[\-\w]+$/),Q6e=bu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),yFt=bu(/^(?:\w+script|data):/i),vFt=bu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),J6e=bu(/^html$/i),bFt=bu(/^[a-z][.\w]*(-[.\w]+)+$/i);var eSe=Object.freeze({__proto__:null,MUSTACHE_EXPR:pFt,ERB_EXPR:fFt,TMPLIT_EXPR:hFt,DATA_ATTR:mFt,ARIA_ATTR:gFt,IS_ALLOWED_URI:Q6e,IS_SCRIPT_OR_DATA:yFt,ATTR_WHITESPACE:vFt,DOCTYPE_NAME:J6e,CUSTOM_ELEMENT:bFt});var wFt=function tSe(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:typeof window>"u"?null:window;const t=yn=>tSe(yn);if(t.version="3.1.7",t.removed=[],!n||!n.document||9!==n.document.nodeType)return t.isSupported=!1,t;let{document:i}=n;const s=i,o=s.currentScript,{DocumentFragment:a,HTMLTemplateElement:l,Node:c,Element:u,NodeFilter:d,NamedNodeMap:p=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:m}=n,g=u.prototype,y=L5(g,"cloneNode"),v=L5(g,"remove"),_=L5(g,"nextSibling"),E=L5(g,"childNodes"),x=L5(g,"parentNode");if("function"==typeof l){const yn=i.createElement("template");yn.content&&yn.content.ownerDocument&&(i=yn.content.ownerDocument)}let b,w="";const{implementation:C,createNodeIterator:P,createDocumentFragment:D,getElementsByTagName:I}=i,{importNode:k}=s;let F={};t.isSupported="function"==typeof H6e&&"function"==typeof x&&C&&void 0!==C.createHTMLDocument;const{MUSTACHE_EXPR:M,ERB_EXPR:B,TMPLIT_EXPR:q,DATA_ATTR:ue,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:ee,ATTR_WHITESPACE:Q,CUSTOM_ELEMENT:Ee}=eSe;let{IS_ALLOWED_URI:Te}=eSe,Ve=null;const Pe=Pr({},[...K6e,...Yq,...Xq,...Zq,...Y6e]);let de=null;const X=Pr({},[...X6e,...Qq,...Z6e,...kk]);let j=Object.seal(q6e(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),R=null,A=null,N=!0,z=!0,W=!1,Ke=!0,tt=!1,Ge=!0,Nt=!1,Ln=!1,Cr=!1,At=!1,an=!1,ae=!1,Ye=!0,Et=!1,re=!0,ve=!1,le={},Ue=null;const at=Pr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let st=null;const yt=Pr({},["audio","video","img","source","image","track"]);let Re=null;const it=Pr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pt="http://www.w3.org/1998/Math/MathML",Jt="http://www.w3.org/2000/svg",Ft="http://www.w3.org/1999/xhtml";let ze=Ft,Z=!1,je=null;const $e=Pr({},[pt,Jt,Ft],Kq);let he=null;const nt=["application/xhtml+xml","text/html"];let Ze=null,ct=null;const K=i.createElement("form"),J=function(Ae){return Ae instanceof RegExp||Ae instanceof Function},fe=function(){let Ae=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ct||ct!==Ae){if((!Ae||"object"!=typeof Ae)&&(Ae={}),Ae=$1(Ae),he=-1===nt.indexOf(Ae.PARSER_MEDIA_TYPE)?"text/html":Ae.PARSER_MEDIA_TYPE,Ze="application/xhtml+xml"===he?Kq:Dk,Ve=ld(Ae,"ALLOWED_TAGS")?Pr({},Ae.ALLOWED_TAGS,Ze):Pe,de=ld(Ae,"ALLOWED_ATTR")?Pr({},Ae.ALLOWED_ATTR,Ze):X,je=ld(Ae,"ALLOWED_NAMESPACES")?Pr({},Ae.ALLOWED_NAMESPACES,Kq):$e,Re=ld(Ae,"ADD_URI_SAFE_ATTR")?Pr($1(it),Ae.ADD_URI_SAFE_ATTR,Ze):it,st=ld(Ae,"ADD_DATA_URI_TAGS")?Pr($1(yt),Ae.ADD_DATA_URI_TAGS,Ze):yt,Ue=ld(Ae,"FORBID_CONTENTS")?Pr({},Ae.FORBID_CONTENTS,Ze):at,R=ld(Ae,"FORBID_TAGS")?Pr({},Ae.FORBID_TAGS,Ze):{},A=ld(Ae,"FORBID_ATTR")?Pr({},Ae.FORBID_ATTR,Ze):{},le=!!ld(Ae,"USE_PROFILES")&&Ae.USE_PROFILES,N=!1!==Ae.ALLOW_ARIA_ATTR,z=!1!==Ae.ALLOW_DATA_ATTR,W=Ae.ALLOW_UNKNOWN_PROTOCOLS||!1,Ke=!1!==Ae.ALLOW_SELF_CLOSE_IN_ATTR,tt=Ae.SAFE_FOR_TEMPLATES||!1,Ge=!1!==Ae.SAFE_FOR_XML,Nt=Ae.WHOLE_DOCUMENT||!1,At=Ae.RETURN_DOM||!1,an=Ae.RETURN_DOM_FRAGMENT||!1,ae=Ae.RETURN_TRUSTED_TYPE||!1,Cr=Ae.FORCE_BODY||!1,Ye=!1!==Ae.SANITIZE_DOM,Et=Ae.SANITIZE_NAMED_PROPS||!1,re=!1!==Ae.KEEP_CONTENT,ve=Ae.IN_PLACE||!1,Te=Ae.ALLOWED_URI_REGEXP||Q6e,ze=Ae.NAMESPACE||Ft,j=Ae.CUSTOM_ELEMENT_HANDLING||{},Ae.CUSTOM_ELEMENT_HANDLING&&J(Ae.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=Ae.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ae.CUSTOM_ELEMENT_HANDLING&&J(Ae.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=Ae.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ae.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof Ae.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(j.allowCustomizedBuiltInElements=Ae.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),tt&&(z=!1),an&&(At=!0),le&&(Ve=Pr({},Y6e),de=[],!0===le.html&&(Pr(Ve,K6e),Pr(de,X6e)),!0===le.svg&&(Pr(Ve,Yq),Pr(de,Qq),Pr(de,kk)),!0===le.svgFilters&&(Pr(Ve,Xq),Pr(de,Qq),Pr(de,kk)),!0===le.mathMl&&(Pr(Ve,Zq),Pr(de,Z6e),Pr(de,kk))),Ae.ADD_TAGS&&(Ve===Pe&&(Ve=$1(Ve)),Pr(Ve,Ae.ADD_TAGS,Ze)),Ae.ADD_ATTR&&(de===X&&(de=$1(de)),Pr(de,Ae.ADD_ATTR,Ze)),Ae.ADD_URI_SAFE_ATTR&&Pr(Re,Ae.ADD_URI_SAFE_ATTR,Ze),Ae.FORBID_CONTENTS&&(Ue===at&&(Ue=$1(Ue)),Pr(Ue,Ae.FORBID_CONTENTS,Ze)),re&&(Ve["#text"]=!0),Nt&&Pr(Ve,["html","head","body"]),Ve.table&&(Pr(Ve,["tbody"]),delete R.tbody),Ae.TRUSTED_TYPES_POLICY){if("function"!=typeof Ae.TRUSTED_TYPES_POLICY.createHTML)throw N5('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof Ae.TRUSTED_TYPES_POLICY.createScriptURL)throw N5('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=Ae.TRUSTED_TYPES_POLICY,w=b.createHTML("")}else void 0===b&&(b=function(t,i){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let s=null;const o="data-tt-policy-suffix";i&&i.hasAttribute(o)&&(s=i.getAttribute(o));const a="dompurify"+(s?"#"+s:"");try{return t.createPolicy(a,{createHTML:l=>l,createScriptURL:l=>l})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}}(m,o)),null!==b&&"string"==typeof w&&(w=b.createHTML(""));cl&&cl(Ae),ct=Ae}},Me=Pr({},["mi","mo","mn","ms","mtext"]),vt=Pr({},["annotation-xml"]),Rt=Pr({},["title","style","font","a","script"]),ht=Pr({},[...Yq,...Xq,...uFt]),Wt=Pr({},[...Zq,...dFt]),ut=function(Ae){I5(t.removed,{element:Ae});try{x(Ae).removeChild(Ae)}catch{v(Ae)}},rt=function(Ae,dt){try{I5(t.removed,{attribute:dt.getAttributeNode(Ae),from:dt})}catch{I5(t.removed,{attribute:null,from:dt})}if(dt.removeAttribute(Ae),"is"===Ae&&!de[Ae])if(At||an)try{ut(dt)}catch{}else try{dt.setAttribute(Ae,"")}catch{}},Ut=function(Ae){let dt=null,gn=null;if(Cr)Ae="<remove></remove>"+Ae;else{const yi=G6e(Ae,/^[\r\n\t ]+/);gn=yi&&yi[0]}"application/xhtml+xml"===he&&ze===Ft&&(Ae='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ae+"</body></html>");const si=b?b.createHTML(Ae):Ae;if(ze===Ft)try{dt=(new h).parseFromString(si,he)}catch{}if(!dt||!dt.documentElement){dt=C.createDocument(ze,"template",null);try{dt.documentElement.innerHTML=Z?w:si}catch{}}const ja=dt.body||dt.documentElement;return Ae&&gn&&ja.insertBefore(i.createTextNode(gn),ja.childNodes[0]||null),ze===Ft?I.call(dt,Nt?"html":"body")[0]:Nt?dt.documentElement:ja},bt=function(Ae){return P.call(Ae.ownerDocument||Ae,Ae,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},gi=function(Ae){return Ae instanceof f&&("string"!=typeof Ae.nodeName||"string"!=typeof Ae.textContent||"function"!=typeof Ae.removeChild||!(Ae.attributes instanceof p)||"function"!=typeof Ae.removeAttribute||"function"!=typeof Ae.setAttribute||"string"!=typeof Ae.namespaceURI||"function"!=typeof Ae.insertBefore||"function"!=typeof Ae.hasChildNodes)},Fr=function(Ae){return"function"==typeof c&&Ae instanceof c},Ir=function(Ae,dt,gn){F[Ae]&&Pk(F[Ae],si=>{si.call(t,dt,gn,ct)})},yl=function(Ae){let dt=null;if(Ir("beforeSanitizeElements",Ae,null),gi(Ae))return ut(Ae),!0;const gn=Ze(Ae.nodeName);if(Ir("uponSanitizeElement",Ae,{tagName:gn,allowedTags:Ve}),Ae.hasChildNodes()&&!Fr(Ae.firstElementChild)&&ul(/<[/\w]/g,Ae.innerHTML)&&ul(/<[/\w]/g,Ae.textContent)||7===Ae.nodeType||Ge&&8===Ae.nodeType&&ul(/<[/\w]/g,Ae.data))return ut(Ae),!0;if(!Ve[gn]||R[gn]){if(!R[gn]&&ZM(gn)&&(j.tagNameCheck instanceof RegExp&&ul(j.tagNameCheck,gn)||j.tagNameCheck instanceof Function&&j.tagNameCheck(gn)))return!1;if(re&&!Ue[gn]){const si=x(Ae)||Ae.parentNode,ja=E(Ae)||Ae.childNodes;if(ja&&si)for(let Wl=ja.length-1;Wl>=0;--Wl){const wp=y(ja[Wl],!0);wp.__removalCount=(Ae.__removalCount||0)+1,si.insertBefore(wp,_(Ae))}}return ut(Ae),!0}return Ae instanceof u&&!function(Ae){let dt=x(Ae);(!dt||!dt.tagName)&&(dt={namespaceURI:ze,tagName:"template"});const gn=Dk(Ae.tagName),si=Dk(dt.tagName);return!!je[Ae.namespaceURI]&&(Ae.namespaceURI===Jt?dt.namespaceURI===Ft?"svg"===gn:dt.namespaceURI===pt?"svg"===gn&&("annotation-xml"===si||Me[si]):!!ht[gn]:Ae.namespaceURI===pt?dt.namespaceURI===Ft?"math"===gn:dt.namespaceURI===Jt?"math"===gn&&vt[si]:!!Wt[gn]:Ae.namespaceURI===Ft?!(dt.namespaceURI===Jt&&!vt[si]||dt.namespaceURI===pt&&!Me[si])&&!Wt[gn]&&(Rt[gn]||!ht[gn]):!("application/xhtml+xml"!==he||!je[Ae.namespaceURI]))}(Ae)||("noscript"===gn||"noembed"===gn||"noframes"===gn)&&ul(/<\/no(script|embed|frames)/i,Ae.innerHTML)?(ut(Ae),!0):(tt&&3===Ae.nodeType&&(dt=Ae.textContent,Pk([M,B,q],si=>{dt=R5(dt,si," ")}),Ae.textContent!==dt&&(I5(t.removed,{element:Ae.cloneNode()}),Ae.textContent=dt)),Ir("afterSanitizeElements",Ae,null),!1)},Rc=function(Ae,dt,gn){if(Ye&&("id"===dt||"name"===dt)&&(gn in i||gn in K))return!1;if((!z||A[dt]||!ul(ue,dt))&&(!N||!ul(H,dt)))if(!de[dt]||A[dt]){if(!(ZM(Ae)&&(j.tagNameCheck instanceof RegExp&&ul(j.tagNameCheck,Ae)||j.tagNameCheck instanceof Function&&j.tagNameCheck(Ae))&&(j.attributeNameCheck instanceof RegExp&&ul(j.attributeNameCheck,dt)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(dt))||"is"===dt&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&ul(j.tagNameCheck,gn)||j.tagNameCheck instanceof Function&&j.tagNameCheck(gn))))return!1}else if(!Re[dt]&&!ul(Te,R5(gn,Q,""))&&("src"!==dt&&"xlink:href"!==dt&&"href"!==dt||"script"===Ae||0!==oFt(gn,"data:")||!st[Ae])&&(!W||ul(ee,R5(gn,Q,"")))&&gn)return!1;return!0},ZM=function(Ae){return"annotation-xml"!==Ae&&G6e(Ae,Ee)},zr=function(Ae){Ir("beforeSanitizeAttributes",Ae,null);const{attributes:dt}=Ae;if(!dt)return;const gn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:de};let si=dt.length;for(;si--;){const ja=dt[si],{name:yi,namespaceURI:Wl,value:wp}=ja,D4=Ze(yi);let vl="value"===yi?wp:aFt(wp);if(gn.attrName=D4,gn.attrValue=vl,gn.keepAttr=!0,gn.forceKeepAttr=void 0,Ir("uponSanitizeAttribute",Ae,gn),vl=gn.attrValue,gn.forceKeepAttr||(rt(yi,Ae),!gn.keepAttr))continue;if(!Ke&&ul(/\/>/i,vl)){rt(yi,Ae);continue}tt&&Pk([M,B,q],Cke=>{vl=R5(vl,Cke," ")});const xke=Ze(Ae.nodeName);if(Rc(xke,D4,vl)){if(Et&&("id"===D4||"name"===D4)&&(rt(yi,Ae),vl="user-content-"+vl),Ge&&ul(/((--!?|])>)|<\/(style|title)/i,vl)){rt(yi,Ae);continue}if(b&&"object"==typeof m&&"function"==typeof m.getAttributeType&&!Wl)switch(m.getAttributeType(xke,D4)){case"TrustedHTML":vl=b.createHTML(vl);break;case"TrustedScriptURL":vl=b.createScriptURL(vl)}try{Wl?Ae.setAttributeNS(Wl,yi,vl):Ae.setAttribute(yi,vl),gi(Ae)?ut(Ae):W6e(t.removed)}catch{}}}Ir("afterSanitizeAttributes",Ae,null)},hd=function yn(Ae){let dt=null;const gn=bt(Ae);for(Ir("beforeSanitizeShadowDOM",Ae,null);dt=gn.nextNode();)Ir("uponSanitizeShadowNode",dt,null),!yl(dt)&&(dt.content instanceof a&&yn(dt.content),zr(dt));Ir("afterSanitizeShadowDOM",Ae,null)};return t.sanitize=function(yn){let Ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},dt=null,gn=null,si=null,ja=null;if(Z=!yn,Z&&(yn="\x3c!--\x3e"),"string"!=typeof yn&&!Fr(yn)){if("function"!=typeof yn.toString)throw N5("toString is not a function");if("string"!=typeof(yn=yn.toString()))throw N5("dirty is not a string, aborting")}if(!t.isSupported)return yn;if(Ln||fe(Ae),t.removed=[],"string"==typeof yn&&(ve=!1),ve){if(yn.nodeName){const wp=Ze(yn.nodeName);if(!Ve[wp]||R[wp])throw N5("root node is forbidden and cannot be sanitized in-place")}}else if(yn instanceof c)dt=Ut("\x3c!----\x3e"),gn=dt.ownerDocument.importNode(yn,!0),1===gn.nodeType&&"BODY"===gn.nodeName||"HTML"===gn.nodeName?dt=gn:dt.appendChild(gn);else{if(!At&&!tt&&!Nt&&-1===yn.indexOf("<"))return b&&ae?b.createHTML(yn):yn;if(dt=Ut(yn),!dt)return At?null:ae?w:""}dt&&Cr&&ut(dt.firstChild);const yi=bt(ve?yn:dt);for(;si=yi.nextNode();)yl(si)||(si.content instanceof a&&hd(si.content),zr(si));if(ve)return yn;if(At){if(an)for(ja=D.call(dt.ownerDocument);dt.firstChild;)ja.appendChild(dt.firstChild);else ja=dt;return(de.shadowroot||de.shadowrootmode)&&(ja=k.call(s,ja,!0)),ja}let Wl=Nt?dt.outerHTML:dt.innerHTML;return Nt&&Ve["!doctype"]&&dt.ownerDocument&&dt.ownerDocument.doctype&&dt.ownerDocument.doctype.name&&ul(J6e,dt.ownerDocument.doctype.name)&&(Wl="<!DOCTYPE "+dt.ownerDocument.doctype.name+">\n"+Wl),tt&&Pk([M,B,q],wp=>{Wl=R5(Wl,wp," ")}),b&&ae?b.createHTML(Wl):Wl},t.setConfig=function(){fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Ln=!0},t.clearConfig=function(){ct=null,Ln=!1},t.isValidAttribute=function(yn,Ae,dt){ct||fe({});const gn=Ze(yn),si=Ze(Ae);return Rc(gn,si,dt)},t.addHook=function(yn,Ae){"function"==typeof Ae&&(F[yn]=F[yn]||[],I5(F[yn],Ae))},t.removeHook=function(yn){if(F[yn])return W6e(F[yn])},t.removeHooks=function(yn){F[yn]&&(F[yn]=[])},t.removeAllHooks=function(){F={}},t}(),xFt=te(8089),nSe=te.n(xFt);const rSe=(n,t="expression",i={})=>{const{depth:s=0,specialDepthAccessors:o={}}=i;if(!["expression","unaryTest"].includes(t))return[];const a="expression"===t?J1e(n):eye(n),c=function u(d){if("PathExpression"===d.name){const p=Jq(d)[0];return"Context"===p.name?u(p):0===Object.keys(o).length?0===s?[CFt(d,0)]:[]:Array.from(SFt(d,s,o))}if(0===s&&"VariableName"===d.name)return[d.variableName];if(d.children){const p=d.children.reduce((f,h)=>f.concat(u(h)),[]);return"FilterContext"===d.name?p.filter(f=>"item"!==f):p}return[]}(OFt(a,n));return[...new Set(c)]},CFt=(n,t)=>Jq(n)[t].variableName||null,SFt=(n,t,i)=>{let s=[{previous:null,current:t-1}];const o=new Set,a=Jq(n);for(let l=0;l<a.length;l++){const c=a[l].variableName;s=c in i?i[c].reduce((d,p)=>[...d,...s.map(f=>({previous:f.current,current:f.current+p}))],[]).filter(d=>d.current>=-1):s.map(u=>({previous:u.current,current:u.current+1})),s.some(u=>-1===u.previous&&0===u.current)&&o.add(c)}return new Set(o)},Jq=n=>{let t=n,i=[];for(;"PathExpression"===t.name;)i.push(t.children[1]),t=t.children[0];return i.push(t),i.reverse()},OFt=(n,t)=>{const i=[{children:[]}];return n.iterate({enter:s=>{const o={name:s.type.name,children:[]};"VariableName"===s.type.name&&(o.variableName=t.slice(s.from,s.to)),i.push(o)},leave:()=>{const s=i.pop();i[i.length-1].children.push(s)}}),TFt(i[0].children[0])},TFt=n=>{const t={name:"Root",children:[n]},i=s=>{if(s.children)for(let o=0;o<s.children.length;o++)if("FilterExpression"===s.children[o].name){const l=s.children[o].children[2];s.children[o]=s.children[o].children[0],t.children.push({name:"FilterContext",children:[l]}),i(l)}else i(s.children[o])};return i(n),t};let iSe=(()=>{class n{constructor(i){this._eventBus=i}isExpression(i){return $n(i)&&i.startsWith("=")}getVariableNames(i,s={}){const{type:o="expression"}=s;if(!this.isExpression(i))return[];if(!["unaryTest","expression"].includes(o))throw new Error("Unknown expression type: "+o);return rSe(i,o)}evaluate(i,s={}){if(!i||!$n(i)||!i.startsWith("="))return null;try{return rx(i.slice(1),s)}catch(o){return this._eventBus.fire("error",{error:o}),null}}}return n.$inject=["eventBus"],n})(),sSe=(()=>{class n{constructor(){}isTemplate(i){return $n(i)&&(i.startsWith("=")||/{{.*?}}/.test(i))}getVariableNames(i){if(!this.isTemplate(i))return[];const s=this._extractExpressionsWithDepth(i),o={parent:[-1,1],_parent_:[-1],this:[0,1],_this_:[0]};return s.reduce((a,{expression:l,depth:c})=>a.concat(rSe(l,"expression",{depth:c,specialDepthAccessors:o})),[])}evaluate(i,s={},o={}){const{debug:a=!1,strict:l=!1,buildDebugString:c=d=>" {{\u26a0}} ",sanitizer:u=d=>d}=o;return((n,t={},i={})=>{const{debug:s=!1,strict:o=!1,buildDebugString:a=p=>`{{ ${p.message.toLowerCase()} }}`,sanitizer:l}=i,u=M3e(fz.parse(n),n);return(n=>{const{debug:t,strict:i,buildDebugString:s,sanitizer:o}=n,a=u=>{if(t)return s(u);throw u},c=(u,d={})=>{try{return((u,d={})=>{switch(u.name){case"SimpleTextBlock":return u.content;case"Insert":{const p=u.children[0].content;try{const f=rx(`string(${p})`,d);return o?o(f):f}catch{return a(new Error(`FEEL expression ${p} couldn't be evaluated`))}}case"EmptyInsert":return"";case"Feel":case"FeelBlock":{const p=u.content;try{const f=rx(`string(${p})`,d);return o?o(f):f}catch{return a(new Error(`FEEL expression ${p} couldn't be evaluated`))}}case"Feelers":return u.children.map(p=>c(p,d)).join("");case"ConditionalSpanner":{const p=u.children[0].content;let f;try{f=rx(p,d)}catch{return a(new Error(`FEEL expression ${p} couldn't be evaluated`))}if(i&&"boolean"!=typeof f)return a(new Error(`FEEL expression ${p} expected to evaluate to a boolean`));if(f){const m=u.children.slice(1,u.children.length-1).map(v=>c(v,d)).join(""),y=u.children[u.children.length-1].name.endsWith("Nl")&&!m.endsWith("\n");return m+(y?"\n":"")}return""}case"LoopSpanner":{const p=u.children[0].content;let f;try{f=rx(p,d)}catch{return a(new Error(`FEEL expression ${p} couldn't be evaluated`))}if(!Array.isArray(f)){if(i)return a(new Error(`FEEL expression ${p} expected to evaluate to an array`));f=null==f?[]:[f]}const h=u.children.slice(1,u.children.length-1),m=(_,E)=>{const x=A3e(_,E);return h.map(b=>c(b,x)).join("")},g=f.map(_=>m(_,d)).join(""),v=u.children[u.children.length-1].name.endsWith("Nl")&&!g.endsWith("\n");return g+(v?"\n":"")}}})(u,d)}catch(p){return a(p)}};return c})({debug:s,strict:o,buildDebugString:a,sanitizer:l})(u,A3e(t,null))})(i,s,{debug:a,strict:l,buildDebugString:c,sanitizer:u})}_extractExpressionsWithDepth(i){return function a(l,c=0){if(["Feel","FeelBlock"].includes(l.name))return[{depth:c,expression:l.content}];if("LoopSpanner"===l.name){const u=l.children[0].content,d=l.children.slice(1).reduce((p,f)=>p.concat(a(f,c+1)),[]);return[{depth:c,expression:u},...d]}return l.children.reduce((u,d)=>u.concat(a(d,c)),[])}(M3e(fz.parse(i),i))}}return n.$inject=[],n})();const qf=1440,PFt=["subtype"],DFt=["dateLabel"],Wf="sandbox",Mk="allow",oSe=[{attribute:Wf,directive:"allow-scripts",property:"allowScripts",label:"Script execution"},{attribute:Wf,directive:"allow-same-origin",property:"allowSameOrigin",label:"Allow same origin"},{attribute:Mk,directive:"fullscreen",property:"fullscreen",label:"Open in fullscreen"},{attribute:Mk,directive:"geolocation",property:"geolocation",label:"Geolocation"},{attribute:Mk,directive:"camera",property:"camera",label:"Camera access"},{attribute:Mk,directive:"microphone",property:"microphone",label:"Microphone access"},{attribute:Wf,directive:"allow-forms",property:"allowForms",label:"Forms submission"},{attribute:Wf,directive:"allow-modals",property:"allowModals",label:"Open modal windows"},{attribute:Wf,directive:"allow-popups",property:"allowPopups",label:"Open popups"},{attribute:Wf,directive:"allow-top-navigation",property:"allowTopNavigation",label:"Top level navigation"},{attribute:Wf,directive:"allow-storage-access-by-user-activation",property:"allowStorageAccessByUserActivation",label:"Storage access by user"}];function bo(n,{errors:t=[],disabled:i=!1,readonly:s=!1}={}){if(!n)throw new Error("type required");return Tn()("fjs-form-field",`fjs-form-field-${n}`,{"fjs-has-errors":t.length>0,"fjs-disabled":i,"fjs-readonly":s})}function RFt(n){const{layout:t={}}=n,{columns:i}=t;return Tn()("fjs-layout-column","cds--col"+(i?"-lg-"+i:""),"cds--col-sm-16","cds--col-md-16")}function B5(n,t,i){let s="fjs-form";return t&&(s+=`-${t}`),s+=`-${n}`,Object.values(i||{}).forEach(o=>{s+=`_${o}`}),s}function lSe(n){const{disabled:t,onFocus:i,onBlur:s,field:o}=n,{action:a="submit"}=o;return ye("div",{class:bo("button"),children:ye("button",{class:"fjs-button",type:a,disabled:t,onFocus:()=>i&&i(),onBlur:()=>s&&s(),children:o.label})})}lSe.config={type:"button",keyed:!1,label:"Button",group:"action",create:(n={})=>({action:"submit",...n})};const q_=UO({Empty:n=>null,Hidden:n=>null,Children:n=>ye("div",{class:n.class,style:n.style,children:n.children}),Element:n=>ye("div",{class:n.class,style:n.style,children:n.children}),Row:n=>ye("div",{class:n.class,style:n.style,children:n.children}),Column:n=>"default"===n.field.type?n.children:ye("div",{class:n.class,style:n.style,children:n.children}),hoverInfo:{cleanup:()=>{}}}),nm=UO({data:null,this:null,parent:null,i:null}),j5=UO({getService:function NFt(n,t){},formId:null});function ys(n,t){const{getService:i}=Ea(j5);return i(n,t)}function W_(n){const{data:t,...i}=n;return{...i,...t,...BFt(i)}}function BFt(n){const t={};for(const[i,s]of Object.entries(n))t[`_${i}_`]=s;return t}function cSe(n,t){const{valuesKey:i,values:s}=n;return i?kl(t,[i]):s}function eW(n){return n.filter(uSe).map(VFt).filter(t=>!Id(t))}function VFt(n){if(tW(n))return{value:n,label:`${n}`};if(fr(n)){const t=function $Ft(n){return n&&$n(n)}(n.label);if(!t&&tW(n.value))return{value:n.value,label:`${n.value}`};if(t&&uSe(n.value))return n}return null}function tW(n){return["number","string","boolean"].includes(typeof n)&&(n||0===n||!1===n)}function uSe(n){return fr(n)?Object.keys(n).length>0:tW(n)}function Ik(n={}){const t={};return!n.valuesKey&&!n.valuesExpression&&(t.values=[{label:"Value",value:"value"}]),{...t,...n}}function nW(n){const t=ys("expressionLanguage"),i=Ea(nm);return cr(()=>t&&t.isExpression(n)?t.evaluate(n,W_(i)):n,[t,i,n])}function rW(n,t=null){const i=hs(t);return pi(()=>i.current=n,[n]),i.current}function V5(n,t){const[i,s]=Lr(t),o=rW(n,t),a=!k5()(o,n);return pi(()=>{a&&s(n)},[a,n]),i}function $5(n){const{valuesExpression:t,valuesKey:i,values:s}=n,[o,a]=Lr({options:[],error:void 0,loadState:"loading"}),l=ys("form")._getState().initialData,u=V5(nW(t)||[],[]);return pi(()=>{let d=[];if(void 0!==i){const p=(l||{})[i];p&&Array.isArray(p)&&(d=p)}else if(void 0!==s)d=Array.isArray(s)?s:[];else{if(!t)return void a(zFt("No options source defined in the form definition"));u&&Array.isArray(u)&&(d=u)}d=eW(d),a(HFt(d))},[i,s,l,t,u]),o}const zFt=n=>({options:[],error:n,loadState:"error"}),HFt=n=>({options:n,error:void 0,loadState:"loaded"}),dSe=n=>{const{html:t,transform:i=c=>c,sanitize:s=!0,sanitizeStyleTags:o=!0}=n,a=cr(()=>s?wFt.sanitize(t,UFt(o)):t,[t,s,o]);return{__html:cr(()=>i(a),[a,i])}},UFt=n=>({FORCE_BODY:!0,FORBID_TAGS:n?["style"]:[]});function iW(n){const t=cr(()=>Object.assign({},...n.map(i=>({[pSe(i.value)]:i.label}))),[n]);return gr(i=>t[pSe(i)],[t])}const pSe=n=>fr(n)?JSON.stringify(n):n;function sW(n,t,i=window){function s({key:o}){o===n&&t()}pi(()=>(i.addEventListener("keydown",s),()=>{i.removeEventListener("keydown",s)}))}function oW(n){const t=hs(null),i=hs(null),s=ys("config",!1),o=s&&s.debounce,a=!1!==o&&0!==o,l="number"==typeof o?o:300;return[gr((...d)=>{a?(i.current=d,t.current&&clearTimeout(t.current),t.current=setTimeout(()=>{n(...i.current),i.current=null},l)):n(...d)},[n,l,a]),gr(()=>{t.current&&(clearTimeout(t.current),null!==i.current&&(n(...i.current),i.current=null),t.current=null)},[n])]}function aW(n,t={}){const i=ys("templating"),s=Ea(nm);return cr(()=>i&&i.isTemplate(n)?i.evaluate(n,W_(s),t):n,[i,n,s,t])}function rm(n,t={}){const i=aW(n,t);return cr(()=>i&&i.split("\n")[0],[i])}const fSe=new KeyboardEvent("keydown",{code:"Enter",key:"Enter",charCode:13,keyCode:13,bubbles:!0});function hSe(n){if(!n)return;!n.isOpen&&n.open();const t=n.calendarContainer,i=t.querySelector(".flatpickr-day.selected")||t.querySelector(".flatpickr-day.today")||t.querySelector(".flatpickr-day");i&&i.focus()}function lW(n,t){if(null===t)return null;const i=t%1440,s=t%60;let o=Math.floor(i/60);if(n)return dd(o)+":"+dd(s);o=o%12||12;const a=i>=720;return dd(o)+":"+dd(s)+" "+(a?"PM":"AM")}function mSe(n){let t=n.toLowerCase();if(t.includes("am")||t.includes("pm")){const s=t.includes("pm"),o=t.match(/\d+/g),a=parseInt(o&&o[0]),l=parseInt(o&&o[1])||0;return un(a)&&a>=1&&a<=12&&l>=0&&l<=59?60*(a%12+(s?12:0))+l:null}{const s=t.match(/\d+/g),o=parseInt(s&&s[0]),a=parseInt(s&&s[1]),l=un(o)&&o>=0&&o<=23,c=un(a)&&a>=0&&a<=59;return l&&c?60*o+a:null}}function gSe(n,t,i){if("utc_normalized"===i){const a=(n+t+qf)%qf;return dd(Math.floor(a/60))+":"+dd(a%60)+"Z"}return dd(Math.floor(n/60))+":"+dd(n%60)+("utc_offset"===i?function eBt(n){return function tBt(n){return n>0?"-"+dd(Math.floor(n/60)):"+"+dd(Math.floor((0-n)/60))}(n)+":"+dd(Math.abs(n%60))}(t):"")}function ySe(n){if(!n)return null;const t=s=>{const o=s.split(":"),a=parseInt(o[0]),l=o.length>1?parseInt(o[1]):0;return isNaN(a)||a<0||a>24||isNaN(l)||l<0||l>60?null:60*a+l},i=(new Date).getTimezoneOffset();if(n.includes("Z")){const s=t(n=n.replace("Z",""));return null===s?null:(s-i+qf)%qf}if(n.includes("+")){const[s,o]=n.split("+"),a=t(s);let l=t(o);return null===a||null===l?null:(l=-l,(a+l-i+qf)%qf)}if(n.includes("-")){const[s,o]=n.split("-"),a=t(s);let l=t(o);return null===a||null===l?null:(a+l-i+qf)%qf}return t(n)}function vSe(n){var t=new Date(n),i=""+(t.getMonth()+1),s=""+t.getDate(),o=t.getFullYear();return i.length<2&&(i="0"+i),s.length<2&&(s="0"+s),[o,i,s].join("-")}function bSe(n){return isNaN(new Date(Date.parse(n)).getTime())}function dd(n){return n.toString().padStart(2,"0")}const nBt=/^(https?|data):.*/i,rBt=/^(https):\/\/*/i;function im(n,t){return!!Array.isArray(t)&&t.some(i=>k5()(n,i))}function _Se(n){const{formField:t,data:i,value:s}=n;try{return im(s,eW(cSe(t,i)).map(a=>a.value))?s:null}catch{return null}}function ESe(n){const{formField:t,data:i,value:s}=n;try{const o=eW(cSe(t,i)).map(a=>a.value);return s.filter(a=>im(a,o))}catch{return[]}}function aBt(n){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","{":"&#123;","}":"&#125;",":":"&#58;",";":"&#59;"};return n.replace(/[&<>"'{};:]/g,i=>t[i])}function cW(n){const{field:t,options:i,loadState:s,onChange:o,value:a}=n;pi(()=>{if("loaded"!==s)return;const l=i.map(u=>u.value);a&&!im(a,l)&&o({field:t,value:null})},[t,i,o,a,s])}function wSe(n){const{field:t,options:i,loadState:s,onChange:o,values:a}=n,l=V5(a,[]);pi(()=>{if("loaded"!==s)return;const c=i.map(d=>d.value);l.some(d=>!im(d,c))&&o({field:t,value:l.filter(d=>im(d,c))})},[t,i,o,l,s])}function Gf(n){const{description:t}=n,i=rm(t||"",{debug:!0});return i?ye("div",{class:"fjs-form-field-description",children:i}):null}function Kf(n){const{errors:t,id:i}=n;return t.length?ye("div",{class:"fjs-form-field-error","aria-live":"polite",id:i,children:ye("ul",{children:t.map(s=>ye("li",{children:s}))})}):null}function Na(n){const{id:t,label:i,collapseOnEmpty:s=!0,required:o=!1}=n,a=rm(i||"",{debug:!0});return ye("label",{for:t,class:Tn()("fjs-form-field-label",{"fjs-incollapsible-label":!s},n.class),children:[n.children,a,o&&ye("span",{class:"fjs-asterix",children:"*"})]})}function CSe(n){const{disabled:t,errors:i=[],errorMessageId:s,domId:o,onBlur:a,onFocus:l,field:c,readonly:u,value:d=!1}=n,{description:p,label:f,validate:h={}}=c,{required:m}=h;return ye("div",{class:Tn()(bo("checkbox",{errors:i,disabled:t,readonly:u}),{"fjs-checked":d}),children:[ye(Na,{id:o,label:f,required:m,children:ye("input",{checked:d,class:"fjs-input",disabled:t,readOnly:u,id:o,type:"checkbox",onChange:({target:y})=>{n.onChange({field:c,value:y.checked})},onBlur:()=>a&&a(),onFocus:()=>l&&l(),"aria-describedby":s})}),ye(Gf,{description:p}),ye(Kf,{errors:i,id:s})]})}function OSe(n){const{disabled:t,errors:i=[],errorMessageId:s,domId:o,onBlur:a,onFocus:l,field:c,readonly:u,value:d=[]}=n,{description:p,label:f,validate:h={}}=c,m=hs(),{required:g}=h,v=b=>{m.current.contains(b.relatedTarget)||a&&a()},_=b=>{m.current.contains(b.relatedTarget)||l&&l()},{loadState:E,options:x}=$5(c);return wSe({field:c,loadState:E,options:x,values:d,onChange:n.onChange}),ye("div",{class:Tn()(bo("checklist",{errors:i,disabled:t,readonly:u})),ref:m,children:[ye(Na,{label:f,required:g}),"loaded"==E&&x.map((b,w)=>{const C=`${o}-${w}`,P=im(b.value,d);return ye(Na,{id:C,label:b.label,class:Tn()({"fjs-checked":P}),required:!1,children:ye("input",{checked:P,class:"fjs-input",disabled:t,readOnly:u,id:C,type:"checkbox",onClick:()=>(b=>{const w=im(b,d)?d.filter(C=>!k5()(C,b)):[...d,b];n.onChange({field:c,value:w})})(b.value),onBlur:v,onFocus:_,"aria-describedby":s})})}),ye(Gf,{description:p}),ye(Kf,{errors:i,id:s})]})}CSe.config={type:"checkbox",keyed:!0,label:"Checkbox",group:"selection",emptyValue:!1,sanitizeValue:({value:n})=>!0===n,create:(n={})=>({...n})},OSe.config={type:"checklist",keyed:!0,label:"Checkbox group",group:"selection",emptyValue:[],sanitizeValue:ESe,create:Ik};const uW=()=>!1;function TSe(n){const{field:t,indexes:i,onChange:s}=n,o=ys("formFields"),a=ys("viewerCommands",!1),l=ys("pathRegistry"),c=ys("eventBus"),u=ys("form"),{initialData:d,data:p,errors:f,properties:h}=u._getState(),{Element:m,Hidden:g,Column:y}=Ea(q_),{formId:v}=Ea(j5),[_,E]=Lr(!!a),x=o.get(t.type);if(!x)throw new Error(`cannot render field <${t.type}>`);const b=cr(()=>l.getValuePath(t,{indexes:i}),[t,i,l]),w=cr(()=>kl(d,b),[d,b]),C=function XFt(n,t={}){const i=ys("expressionLanguage"),s=ys("conditionChecker",!1),o=Ea(nm),{readonly:a}=n;return!!t.readOnly||(i&&i.isExpression(a)?!!s&&s.check(a,W_(o)):a||!1)}(t,h),P=kl(p,b),D=!h.readOnly&&(h.disabled||t.disabled||!1);pi(()=>{if(!a)return;const H=()=>{E(!0)};return c.on("import.done",H),c.on("reset",H),()=>{c.off("import.done",H),c.off("reset",H)}},[c,a]),pi(()=>{_&&w&&(E(!1),a.updateFieldValidation(t,w,i))},[a,t,w,_,i]);const I=gr(()=>{_&&(E(!1),a.updateFieldValidation(t,P,i)),c.fire("formField.blur",{formField:t})},[c,t,i,P,a,_]),k=gr(()=>{c.fire("formField.focus",{formField:t})},[c,t]),F=function jFt(n){const t=ys("conditionChecker",!1),i=Ea(nm);return cr(()=>t?t.check(n,W_(i)):null,[t,n,i])}(t.conditional&&t.conditional.hide||null),M=gr(H=>{E(!1),s(x.config.keyed?{...H,indexes:i}:H)},[s,x.config.keyed,i]);if(F)return ye(g,{field:t});const B=`${B5(t.id,v,i)}`,q=kl(f,[t.id,...Object.values(i||{})])||[],ue=0===f.length?void 0:`${B}-error-message`;return ye(y,{field:t,class:RFt(t),children:ye(m,{class:"fjs-element",field:t,children:ye(x,{...n,disabled:D,errors:q,errorMessageId:ue,domId:B,onChange:D||C?uW:M,onBlur:D||C?uW:I,onFocus:D||C?uW:k,readonly:C,value:P})})})}function dW(n){const{Children:t}=Ea(q_),{field:i,Empty:s}=n,{id:o}=i,a=ys("repeatRenderManager",!1),l=a&&a.isFieldRepeating(o),c=a.Repeater,u=a.RepeatFooter;return l?ye(cBt,{...n,ChildrenRoot:t,Empty:s,Repeater:c,RepeatFooter:u,repeatRenderManager:a}):ye(lBt,{...n,ChildrenRoot:t,Empty:s})}function lBt(n){const{ChildrenRoot:t,Empty:i,field:s}=n,{components:o=[]}=s,a=!o.length;return ye(t,{class:"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed",field:s,children:[ye(pW,{...n}),a?ye(i,{field:s}):null]})}function cBt(n){const{ChildrenRoot:t,repeatRenderManager:i,Empty:s,field:o,...a}=n,{components:l=[]}=o,c=Lr({isCollapsed:!0}),u=i.Repeater,d=i.RepeatFooter;return ye(go,{children:[ye(t,{class:"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed",field:o,children:[u?ye(u,{...a,useSharedState:c,field:o,RowsRenderer:pW}):ye(pW,{...a,field:o}),l.length?null:ye(s,{field:o})]}),d?ye(d,{...a,useSharedState:c,field:o}):null]})}function pW(n){const{field:t,indexes:i}=n,{id:s,verticalAlignment:o="start"}=t,a=ys("formLayouter"),l=ys("formFieldRegistry"),c=a.getRows(s),{Row:u}=Ea(q_);return ye(go,{children:[" ",c.map(d=>{const{components:p=[]}=d;return p.length?ye(u,{row:d,class:"fjs-layout-row cds--row",style:{alignItems:o},children:p.map(f=>{const h=l.get(f);return h?zt(TSe,{...n,key:f,field:h,indexes:i}):null})}):null})," "]})}function PSe(n){const{Empty:t}=Ea(q_);return ye(dW,{...{...n,Empty:t}})}var DSe;function fW(){return fW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},fW.apply(this,arguments)}PSe.config={type:"default",keyed:!1,label:null,group:null,create:(n={})=>({components:[],...n})};var MSe,ASe,dBt=function(t){return zt("svg",fW({xmlns:"http://www.w3.org/2000/svg",width:14,height:15,fill:"none",viewBox:"0 0 28 30"},t),DSe||(DSe=zt("path",{fill:"currentColor",fillRule:"evenodd",d:"M19 2H9V0H7v2H2a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-5V0h-2v2ZM7 7V4H2v5h24V4h-5v3h-2V4H9v3H7Zm-5 4v17h24V11H2Z",clipRule:"evenodd"})))};function kSe(n="default"){return new Intl.DateTimeFormat(n).formatToParts(new Date(Date.UTC(2020,5,5))).map(i=>{const s=i.value.length;switch(i.type){case"day":return"d".repeat(s);case"month":return"M".repeat(s);case"year":return"y".repeat(s);default:return i.value}}).join("")}function pBt(n){let t=kSe(n).toLowerCase();return t.includes("mm")||(t=t.replace("m","mm")),t.includes("dd")||(t=t.replace("d","dd")),t}function fBt(n){return function hBt(n){const t_day=n.includes("dd"),t_month=n.includes("MM"),t_year=n.includes("yyyy");return n=t_day?n.replace("dd","d"):n.replace("d","j"),n=t_month?n.replace("MM","m"):n.replace("M","n"),n=t_year?n.replace("yyyy","Y"):n.replace("yy","y")}(kSe(n))}function hW(n){const{pre:t,post:i,rootRef:s,inputRef:o,children:a,disabled:l,readonly:c,hasErrors:u}=n,d=()=>o&&o.current&&o.current.focus();return ye("div",{class:Tn()("fjs-input-group",{"fjs-disabled":l,"fjs-readonly":c},{hasErrors:u}),ref:s,children:[t&&ye("span",{class:"fjs-input-adornment border-right border-radius-left",onClick:d,children:[" ",$n(t)?ye("span",{class:"fjs-input-adornment-text",children:t}):t," "]}),a,i&&ye("span",{class:"fjs-input-adornment border-left border-radius-right",onClick:d,children:[" ",$n(i)?ye("span",{class:"fjs-input-adornment-text",children:i}):i," "]})]})}function mBt(n){const{label:t,domId:i,collapseLabelOnEmpty:s,onDateTimeBlur:o,onDateTimeFocus:a,required:l,disabled:c,disallowPassedDates:u,date:d,readonly:p,setDate:f}=n,h=hs(),m=hs(),[g,y]=Lr(null),[v,_]=Lr(!1),[E,x]=Lr(!1),b=V5(d,null);pi(()=>{!g||!g.config||(g.setDate(b,!0),_(!1))},[g,b]),pi(()=>{E&&(hSe(g),x(!1))},[g,E]),pi(()=>{let D={allowInput:!0,dateFormat:fBt(),static:!0,clickOpens:!1,minDate:u?"today":"01/01/1900",errorHandler:()=>{}};const I=xLt(h.current,D);y(I);const k=M=>{!I.calendarContainer.contains(M.relatedTarget)&&M.relatedTarget!=h.current&&I.close()},F=M=>{M.target.classList.contains("flatpickr-day")&&_(!1)};I.config.onOpen=[()=>I.calendarContainer.addEventListener("focusout",k),()=>I.calendarContainer.addEventListener("mousedown",F)],I.config.onClose=[()=>I.calendarContainer.removeEventListener("focusout",k),()=>I.calendarContainer.removeEventListener("mousedown",F)]},[u]),pi(()=>{!g||!g.config||(g.config.onChange=[D=>f(new Date(D)),()=>_(!1)])},[g,f]);const w=gr(D=>{g&&("Escape"===D.code&&g.close(),"ArrowDown"===D.code&&(v?(h.current.dispatchEvent(fSe),_(!1),x(!0)):hSe(g),D.preventDefault()),"Enter"===D.code&&_(!1))},[g,v]),C=gr(D=>{!g||m.current.contains(D.relatedTarget)||p||(g.open(),a(D))},[g,p,a]),P=gr(D=>{D.relatedTarget&&D.relatedTarget.classList.contains("flatpickr-day")||(v&&(h.current.dispatchEvent(fSe),_(!1)),o(D))},[v,o]);return ye("div",{class:"fjs-datetime-subsection",children:[ye(Na,{id:i,label:t,collapseOnEmpty:s,required:l}),ye(hW,{pre:ye(dBt,{}),disabled:c,readonly:p,rootRef:m,inputRef:h,children:ye("div",{class:"fjs-datepicker",style:{width:"100%"},children:ye("input",{ref:h,type:"text",id:i,class:"fjs-input",disabled:c,readOnly:p,placeholder:pBt(),autoComplete:"off",onFocus:C,onBlur:P,onKeyDown:w,onMouseDown:()=>!g.isOpen&&!p&&g.open(),onInput:()=>_(!0),"data-input":!0,"aria-describedby":n["aria-describedby"]})})})]})}function mW(){return mW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},mW.apply(this,arguments)}var yBt=function(t){return zt("svg",mW({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 28 29"},t),MSe||(MSe=zt("path",{fill:"currentColor",d:"M13 14.41 18.59 20 20 18.59l-5-5.01V5h-2v9.41Z"})),ASe||(ASe=zt("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.222 25.64A14 14 0 1 0 21.778 2.36 14 14 0 0 0 6.222 25.64ZM7.333 4.023a12 12 0 1 1 13.334 19.955A12 12 0 0 1 7.333 4.022Z",clipRule:"evenodd"})))};const vBt=n=>n,bBt=()=>{};function Rk(n){const{listenerElement:t=window,values:i=[],getLabel:s=vBt,onValueSelected:o=bBt,height:a=235,emptyListMessage:l="No results",initialFocusIndex:c=0}=n,[u,d]=Lr(!1),[p,f]=Lr(c),[h,m]=Lr(!1),g=hs(),y=hs(),v=cr(()=>i.length?i[p]:null,[p,i]),_=gr(x=>{f(b=>Math.min(Math.max(0,b+x),i.length-1))},[i.length]);return pi(()=>{0!==p&&(p&&i.length?p>=i.length&&f(i.length-1):f(0))},[p,i.length]),sW("ArrowUp",()=>{i.length&&(_(-1),d(!1))},t),sW("ArrowDown",()=>{i.length&&(_(1),d(!1))},t),sW("Enter",()=>{v&&o(v)},t),pi(()=>{const x=g.current.children;if(x.length&&!u){const b=x[p];b&&b.scrollIntoView({block:"nearest",inline:"nearest"})}},[p,u]),pi(()=>{m(!0)},[]),ye("div",{ref:g,tabIndex:-1,class:"fjs-dropdownlist",onMouseDown:x=>x.preventDefault(),style:{maxHeight:a,scrollBehavior:h?"smooth":"auto"},children:[i.length>0&&i.map((x,b)=>ye("div",{class:Tn()("fjs-dropdownlist-item",{focused:p===b}),onMouseMove:u?void 0:w=>((x,b)=>{(!y.current||y.current.x!==x.screenX&&y.current.y!==x.screenY)&&(y.current={x:x.screenX,y:x.screenY},d(!0),f(b))})(w,b),onMouseEnter:u?()=>f(b):void 0,onMouseDown:w=>o(x),children:s(x)})),!i.length&&ye("div",{class:"fjs-dropdownlist-empty",children:l})]})}function _Bt(n){const{label:t,collapseLabelOnEmpty:i,onDateTimeBlur:s,onDateTimeFocus:o,domId:a,required:l,disabled:c,readonly:u,use24h:d=!1,timeInterval:p,time:f,setTime:h}=n,m=cr(()=>[1,5,10,15,30,60].includes(p)?p:15,[p]),g=hs(),[y,v]=Lr(!1),_=cr(()=>1!==m,[m]),[E,x]=Lr("");pi(()=>{if(null===f)return void x("");const F=f-f%m;x(lW(d,F)),F!=f&&h(F)},[f,h,d,m]);const b=gr(F=>{const M=F||E;if(!M)return void h(null);const B=mSe(M);if(!un(B))return x(""),void h(null);const q=B-B%m;x(lW(d,q)),h(q)},[E,m,d,h]),w=cr(()=>{const M=Math.floor(1440/m);return[...Array(M).keys()].map(B=>lW(d,B*m))},[m,d]),C=cr(()=>{if(!w||!m)return null;if(f)return f/m;const F=mSe(E);return F?(F-F%m)/m:Math.floor(w.length/2)},[E,f,m,w]);return ye("div",{class:"fjs-datetime-subsection",children:[ye(Na,{id:a,label:t,collapseOnEmpty:i,required:l}),ye(hW,{pre:ye(yBt,{}),inputRef:g,disabled:c,readonly:u,children:ye("div",{class:"fjs-timepicker fjs-timepicker-anchor",children:[ye("input",{ref:g,type:"text",id:a,class:"fjs-input",value:E,disabled:c,readOnly:u,placeholder:d?"hh:mm":"hh:mm ?m",autoComplete:"off",onInput:F=>{x(F.target.value),_&&v(!1)},onBlur:F=>{v(!1),b(),s(F)},onFocus:F=>{o(F),!u&&_&&v(!0)},onClick:()=>!u&&_&&v(!0),onKeyDown:F=>{switch(F.key){case"ArrowUp":F.preventDefault();break;case"ArrowDown":_&&v(!0),F.preventDefault();break;case"Escape":_&&v(!1);break;case"Enter":!y&&b()}},"data-input":!0,"aria-describedby":n["aria-describedby"]}),y&&ye(Rk,{values:w,height:150,onValueSelected:F=>{v(!1),b(F)},listenerElement:g.current,initialFocusIndex:C})]})})]})}function RSe(n){const{disabled:t,errors:i=[],domId:s,onBlur:o,onFocus:a,field:l,onChange:c,readonly:u,value:d=""}=n,{description:p,id:f,dateLabel:h,timeLabel:m,validate:g={},subtype:y,use24h:v,disallowPassedDates:_,timeInterval:E,timeSerializingFormat:x}=l,{required:b}=g,{formId:w}=Ea(j5),C=hs(),P=()=>({date:new Date(Date.parse(null)),time:null}),[D,I]=Lr(P()),[k,F]=Lr(null),M=j=>j&&!isNaN(j.getTime()),B=j=>!isNaN(parseInt(j)),q=cr(()=>"date"===y||"datetime"===y,[y]),ue=cr(()=>"time"===y||"datetime"===y,[y]),H=gr(j=>{j.relatedTarget&&C.current.contains(j.relatedTarget)||o&&o()},[o]),ee=gr(j=>{j.relatedTarget&&C.current.contains(j.relatedTarget)||a&&a()},[a]);pi(()=>{let{date:j,time:R}=P();switch(y){case"date":j=new Date(Date.parse(d));break;case"time":R=ySe(d);break;case"datetime":j=new Date(Date.parse(d)),R=M(j)?60*j.getHours()+j.getMinutes():null}I({date:j,time:R})},[y,d]);const Q=gr(({date:j,time:R})=>{let A=null;"date"===y&&M(j)?A=vSe(j):"time"===y&&B(R)?A=gSe(R,(new Date).getTimezoneOffset(),x):"datetime"===y&&M(j)&&B(R)&&(A=function JFt(n,t,i){const s=new Date;if(s.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),s.setHours(Math.floor(t/60),t%60,0,0),"utc_normalized"===i){const o=s.getTimezoneOffset(),a=t+o<0?-1:t+o>qf?1:0;s.setHours(s.getHours()+24*a)}return vSe(s)+"T"+gSe(t,s.getTimezoneOffset(),i)}(j,R,x)),c({value:A,field:l})},[l,c,y,x]);pi(()=>{if(k){if(k.refreshOnly)Q(D);else{const j={...D,...k};I(j),Q(j)}F(null)}},[Q,D,k]),pi(()=>{F({refreshOnly:!0})},[x]);const Ee=cr(()=>b||"datetime"!==y?i:M(D.date)&&!B(D.time)||!M(D.date)&&B(D.time)?["Date and time must both be entered.",...i]:i,[b,y,D,i]),Te=gr(j=>{F(R=>R?{...R,date:j}:{date:j})},[]),Ve=gr(j=>{F(R=>R?{...R,time:j}:{time:j})},[]),Pe=0===Ee.length?void 0:`${B5(f,w)}-error-message`,de={label:h,collapseLabelOnEmpty:!m,onDateTimeBlur:H,onDateTimeFocus:ee,domId:`${s}-date`,required:b,disabled:t,disallowPassedDates:_,date:D.date,readonly:u,setDate:Te,"aria-describedby":Pe},X={label:m,collapseLabelOnEmpty:!h,onDateTimeBlur:H,onDateTimeFocus:ee,domId:`${s}-time`,required:b,disabled:t,readonly:u,use24h:v,timeInterval:E,time:D.time,setTime:Ve,"aria-describedby":Pe};return ye("div",{class:bo("datetime",{errors:Ee,disabled:t,readonly:u}),children:[ye("div",{class:Tn()("fjs-vertical-group"),ref:C,children:[q&&ye(mBt,{...de}),ue&&q&&ye("div",{class:"fjs-datetime-separator"}),ue&&ye(_Bt,{...X})]}),ye(Gf,{description:p}),ye(Kf,{errors:Ee,id:Pe})]})}function NSe(n){const{field:t,domId:i}=n,{label:s,type:o,showOutline:a}=t,{Empty:l}=Ea(q_),c={...n,Empty:l};return ye("div",{className:Tn()(bo(o),"fjs-form-field-grouplike",{"fjs-outlined":a}),role:"group","aria-labelledby":i,children:[ye(Na,{id:i,label:s}),ye(dW,{...c})]})}RSe.config={type:"datetime",keyed:!0,label:"Date time",group:"basic-input",emptyValue:null,sanitizeValue:function iBt(n){const{formField:t,value:i}=n,{subtype:s}=t;return"string"!=typeof i||"date"===s&&(bSe(i)||!function QFt(n){return!(!n||"string"!=typeof n||n.includes("T")||3!=n.split("-").length)}(i))||"time"===s&&null===ySe(i)||"datetime"===s&&(bSe(i)||!function ZFt(n){if(!n||"string"!=typeof n)return!1;const t=n.split("T");return!(2!=t.length||3!=t[0].split("-").length)}(i))?null:i},create:(n={})=>{const t={};return Ah(t,PFt,"date"),Ah(t,DFt,"Date"),{...t,...n}}},NSe.config={type:"group",pathed:!0,label:"Group",group:"container",create:(n={})=>({components:[],showOutline:!0,...n})};const EBt=300;function FSe(n){const{field:t,disabled:i,readonly:s,domId:o}=n,{height:a=EBt,label:l,url:c,security:u={}}=t,d=rm(c,{debug:!0}),p=cr(()=>function oBt(n){return rBt.test(n)?n:""}(d),[d]),f=rm(l,{debug:!0}),[h,m]=function qFt(n){const t=V5(n);return[cr(()=>oSe.filter(({attribute:o})=>o===Wf).filter(({property:o})=>kl(t,[o],!1)).map(({directive:o})=>o).join(" "),[t]),cr(()=>oSe.filter(({attribute:o})=>o!==Wf).filter(({property:o})=>kl(t,[o],!1)).map(({directive:o})=>o).join("; "),[t])]}(u),[g,y]=Lr(0);return pi(()=>{y(v=>v+1)},[h,m]),ye("div",{class:bo("iframe",{disabled:i,readonly:s}),children:[ye(Na,{id:o,label:f}),!d&&ye(BSe,{text:"No content to show."}),d&&p&&ye("iframe",{src:p,title:f,height:a,class:"fjs-iframe",id:o,sandbox:h,allow:m},"iframe-"+g),d&&!p&&ye(BSe,{text:"External content couldn't be loaded."})]})}function BSe(n){const{text:t="iFrame"}=n;return ye("div",{class:"fjs-iframe-placeholder",children:ye("p",{class:"fjs-iframe-placeholder-text",children:t})})}var jSe;function gW(){return gW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},gW.apply(this,arguments)}FSe.config={type:"iframe",keyed:!1,label:"iFrame",group:"container",create:(n={})=>({security:{allowScripts:!0},...n})};var VSe,xBt=function(t){return zt("svg",gW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},t),jSe||(jSe=zt("path",{fillRule:"evenodd",d:"M45 17a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V20a3 3 0 0 1 3-3h36zm-9 8.889H18v2.222h18v-2.222z"})))};function yW(){return yW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},yW.apply(this,arguments)}var $Se,SBt=function(t){return zt("svg",yW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},t),VSe||(VSe=zt("path",{d:"M34 18H20a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V20a2 2 0 0 0-2-2zm-9 14-5-5 1.41-1.41L25 29.17l7.59-7.59L34 23l-9 9z"})))};function vW(){return vW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},vW.apply(this,arguments)}var zSe,HSe,USe,TBt=function(t){return zt("svg",vW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},t),$Se||($Se=zt("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.35 24.75H19v4.65h-4.65v-4.65Zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414ZM14.35 37.05H19v4.65h-4.65v-4.65Zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414ZM14.35 12.45H19v4.65h-4.65v-4.65Zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414Zm12.007 14.977a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293Zm0 12.3a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293Zm0-24.6a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293Z",clipRule:"evenodd"})))};function bW(){return bW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},bW.apply(this,arguments)}var qSe,WSe,DBt=function(t){return zt("svg",bW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},t),zSe||(zSe=zt("path",{fillRule:"evenodd",d:"M37.908 13.418h-5.004v-2.354h-1.766v2.354H21.13v-2.354h-1.766v2.354H14.36a2.07 2.07 0 0 0-2.06 2.06v23.549a2.07 2.07 0 0 0 2.06 2.06h6.77v-1.766h-6.358a.707.707 0 0 1-.706-.706V15.89c0-.39.316-.707.706-.707h4.592v2.355h1.766v-2.355h10.008v2.355h1.766v-2.355h4.592a.71.71 0 0 1 .707.707v6.358h1.765v-6.77c0-1.133-.927-2.06-2.06-2.06z"})),HSe||(HSe=zt("path",{d:"m35.13 37.603 1.237-1.237-3.468-3.475v-5.926h-1.754v6.654l3.984 3.984Z"})),USe||(USe=zt("path",{fillRule:"evenodd",d:"M23.08 36.962a9.678 9.678 0 1 0 17.883-7.408 9.678 9.678 0 0 0-17.882 7.408Zm4.54-10.292a7.924 7.924 0 1 1 8.805 13.177A7.924 7.924 0 0 1 27.62 26.67Z"})))};function _W(){return _W=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},_W.apply(this,arguments)}var GSe,KSe,YSe,MBt=function(t){return zt("svg",_W({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},t),qSe||(qSe=zt("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3h36Zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1Z"})),WSe||(WSe=zt("path",{d:"M11 22a1 1 0 0 1 1-1h19a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H12a1 1 0 0 1-1-1V22Z"})))};function EW(){return EW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},EW.apply(this,arguments)}var XSe,IBt=function(t){return zt("svg",EW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54},t),GSe||(GSe=zt("rect",{width:24,height:4,x:15,y:17,rx:1})),KSe||(KSe=zt("rect",{width:24,height:4,x:15,y:25,rx:1})),YSe||(YSe=zt("rect",{width:13,height:4,x:15,y:33,rx:1})))};function wW(){return wW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},wW.apply(this,arguments)}var QSe,ZSe=function(t){return zt("svg",wW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},t),XSe||(XSe=zt("path",{fillRule:"evenodd",d:"M8 33v5a1 1 0 0 0 1 1h4v2H9a3 3 0 0 1-3-3v-5h2Zm18 6v2H15v-2h11Zm13 0v2H28v-2h11Zm9-6v5a3 3 0 0 1-3 3h-4v-2h4a1 1 0 0 0 .993-.883L46 38v-5h2ZM8 22v9H6v-9h2Zm40 0v9h-2v-9h2Zm-35-9v2H9a1 1 0 0 0-.993.883L8 16v4H6v-4a3 3 0 0 1 3-3h4Zm32 0a3 3 0 0 1 3 3v4h-2v-4a1 1 0 0 0-.883-.993L45 15h-4v-2h4Zm-6 0v2H28v-2h11Zm-13 0v2H15v-2h11Z"})))};function xW(){return xW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},xW.apply(this,arguments)}var JSe,LBt=function(t){return zt("svg",xW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},t),QSe||(QSe=zt("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3h36zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1zM35 28.444h7l-3.5 4-3.5-4zM35 26h7l-3.5-4-3.5 4z"})))};function CW(){return CW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},CW.apply(this,arguments)}var eOe,BBt=function(t){return zt("svg",CW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},t),JSe||(JSe=zt("path",{d:"M27 22c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm0 18a8 8 0 1 1 0-16 8 8 0 1 1 0 16z"})))};function SW(){return SW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},SW.apply(this,arguments)}var tOe,VBt=function(t){return zt("svg",SW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},t),eOe||(eOe=zt("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3h36zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1zm-12 7h9l-4.5 6-4.5-6z"})))};function OW(){return OW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},OW.apply(this,arguments)}var nOe,zBt=function(t){return zt("svg",OW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},t),tOe||(tOe=zt("path",{fill:"currentColor",d:"M26.293 16.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 18.414l-3.293 3.293a1 1 0 0 1-1.414-1.414l4-4ZM9 26h36v2H9v-2Zm13.293 7.707 4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 35.586l-3.293-3.293a1 1 0 0 0-1.414 1.414Z"})))};function TW(){return TW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},TW.apply(this,arguments)}var rOe,UBt=function(t){return zt("svg",TW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},t),nOe||(nOe=zt("path",{fill:"currentColor",d:"M9 15v2h36v-2H9Zm0 22v2h36v-2H9Zm17.293-17.707a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 21.414l-3.293 3.293a1 1 0 0 1-1.414-1.414l4-4Zm-4 11.414 4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 32.586l-3.293-3.293a1 1 0 0 0-1.414 1.414Z"})))};function PW(){return PW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},PW.apply(this,arguments)}var iOe,WBt=function(t){return zt("svg",PW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},t),rOe||(rOe=zt("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.7 43.296v1.254c0 .746.604 1.35 1.35 1.35h1.275v-1.795c.049.14.075.29.075.445v-1.254h-.075V43.2H4.05c.177 0 .347.034.502.096H2.7Zm2.7-2.507v-2.507H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507h2.7Zm0-5.015V23.24H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507h2.7Zm0-5.014V13.21H2.7v2.507h2.7Zm-2.7-5.014h1.852a1.346 1.346 0 0 1-.502.096h1.275v-.096H5.4V9.45c0 .156-.026.306-.075.445V8.1H4.05A1.35 1.35 0 0 0 2.7 9.45v1.254Zm5.175.096h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1-2.7v1.795a1.348 1.348 0 0 1-.075-.445v1.254h.075v.096h1.275c-.177 0-.347-.034-.502-.096H51.3V9.45a1.35 1.35 0 0 0-1.35-1.35h-1.275Zm-.075 5.11v2.508h2.7V13.21h-2.7Zm0 5.015v2.507h2.7v-2.507h-2.7Zm0 5.014v2.507h2.7V23.24h-2.7Zm0 5.015v2.507h2.7v-2.507h-2.7Zm0 5.014v2.507h2.7v-2.507h-2.7Zm0 5.014v2.507h2.7v-2.507h-2.7Zm2.7 5.014h-1.852c.155-.062.325-.096.502-.096h-1.275v.096H48.6v1.254c0-.156.026-.305.075-.445V45.9h1.275a1.35 1.35 0 0 0 1.35-1.35v-1.254Zm-5.175-.096h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7ZM16.2 17.55a4.05 4.05 0 0 1 4.05 4.05v1.35A4.05 4.05 0 0 1 16.2 27h-1.35a4.05 4.05 0 0 1-4.05-4.05V21.6a4.05 4.05 0 0 1 4.05-4.05h1.35Zm0 2.7h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35c0 .746.604 1.35 1.35 1.35h1.35a1.35 1.35 0 0 0 1.35-1.35V21.6a1.35 1.35 0 0 0-1.35-1.35Zm27 1.35a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35A4.05 4.05 0 0 0 29.7 27h9.45a4.05 4.05 0 0 0 4.05-4.05V21.6Zm-13.5-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35a1.35 1.35 0 0 1-1.35 1.35H29.7a1.35 1.35 0 0 1-1.35-1.35V21.6c0-.746.604-1.35 1.35-1.35ZM43.2 37.8a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35h2.7V37.8c0-.746.604-1.35 1.35-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35h2.7V37.8Zm-27-4.05a4.05 4.05 0 0 1 4.05 4.05v1.35h-2.7V37.8a1.35 1.35 0 0 0-1.35-1.35h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35h-2.7V37.8a4.05 4.05 0 0 1 4.05-4.05h1.35Z",clipRule:"evenodd"})))};function DW(){return DW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},DW.apply(this,arguments)}var sOe,KBt=function(t){return zt("svg",DW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},t),iOe||(iOe=zt("path",{d:"M20.58 33.77h-3l-1.18-3.08H11l-1.1 3.08H7l5.27-13.54h2.89zm-5-5.36-1.86-5-1.83 5zM22 20.23h5.41a15.47 15.47 0 0 1 2.4.14 3.42 3.42 0 0 1 1.41.55 3.47 3.47 0 0 1 1 1.14 3 3 0 0 1 .42 1.58 3.26 3.26 0 0 1-1.91 2.94 3.63 3.63 0 0 1 1.91 1.22 3.28 3.28 0 0 1 .66 2 4 4 0 0 1-.43 1.8 3.63 3.63 0 0 1-1.09 1.4 3.89 3.89 0 0 1-1.83.65q-.69.07-3.3.09H22zm2.73 2.25v3.13h3.8a1.79 1.79 0 0 0 1.1-.49 1.41 1.41 0 0 0 .41-1 1.49 1.49 0 0 0-.35-1 1.54 1.54 0 0 0-1-.48c-.27 0-1.05-.05-2.34-.05zm0 5.39v3.62h2.57a11.52 11.52 0 0 0 1.88-.09 1.65 1.65 0 0 0 1-.54 1.6 1.6 0 0 0 .38-1.14 1.75 1.75 0 0 0-.29-1 1.69 1.69 0 0 0-.86-.62 9.28 9.28 0 0 0-2.41-.23zm19.62.92 2.65.84a5.94 5.94 0 0 1-2 3.29A5.74 5.74 0 0 1 41.38 34a5.87 5.87 0 0 1-4.44-1.84 7.09 7.09 0 0 1-1.73-5A7.43 7.43 0 0 1 37 21.87 6 6 0 0 1 41.54 20a5.64 5.64 0 0 1 4 1.47A5.33 5.33 0 0 1 47 24l-2.7.65a2.8 2.8 0 0 0-2.86-2.27A3.09 3.09 0 0 0 39 23.42a5.31 5.31 0 0 0-.93 3.5 5.62 5.62 0 0 0 .93 3.65 3 3 0 0 0 2.4 1.09 2.72 2.72 0 0 0 1.82-.66 4 4 0 0 0 1.13-2.21z"})))};function kW(){return kW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},kW.apply(this,arguments)}var oOe,XBt=function(t){return zt("svg",kW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},t),sOe||(sOe=zt("path",{fill:"currentColor",fillRule:"evenodd",d:"M47.008 12.15c1.625 0 2.942 1.36 2.942 3.039v23.622c0 1.678-1.317 3.039-2.942 3.039H6.992c-1.625 0-2.942-1.36-2.942-3.039V15.189c0-1.678 1.317-3.039 2.942-3.039h40.016Zm0 2.026H6.992c-.542 0-.98.454-.98 1.013V16.2h-.004v2.7h.003v19.911c0 .56.44 1.013.98 1.013h40.017c.542 0 .98-.453.98-1.013V18.9h.005v-2.7h-.004v-1.011c0-.56-.44-1.013-.98-1.013ZM14.934 26.055v-3.78h2.194v9.45h-2.194v-3.78h-3.29v3.78H9.45v-9.45h2.194v3.78h3.29Zm4.388-1.89h2.194v7.56h2.193v-7.56h2.194v-1.89h-6.581v1.89Zm14.26-1.89h2.193v9.45h-2.194V25.11l-1.645 3.78-1.645-3.78v6.615h-2.194v-9.45h2.194l1.645 3.78 1.645-3.78Zm4.387 0h2.194v7.56h4.387v1.89h-6.581v-9.45Z",clipRule:"evenodd"})))};function MW(){return MW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},MW.apply(this,arguments)}var aOe,QBt=function(t){return zt("svg",MW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},t),oOe||(oOe=zt("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3h36zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1zm-32 4v10h-2V22h2z"})))};function AW(){return AW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},AW.apply(this,arguments)}var lOe,cOe,ejt=function(t){return zt("svg",AW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},t),aOe||(aOe=zt("path",{fillRule:"evenodd",d:"M45 13a3 3 0 0 1 3 3v22a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V16a3 3 0 0 1 3-3h36zm0 2H9a1 1 0 0 0-1 1v22a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V16a1 1 0 0 0-1-1zm-1.136 15.5.849.849-6.364 6.364-.849-.849 6.364-6.364zm.264 3.5.849.849-2.828 2.828-.849-.849L44.128 34zM13 19v10h-2V19h2z"})))};function IW(){return IW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},IW.apply(this,arguments)}var uOe,dOe,njt=function(t){return zt("svg",IW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},t),lOe||(lOe=zt("path",{fill:"currentcolor",d:"M34.467 37.3 41 31l-6.533-6.3-1.32 1.273L38.36 31l-5.213 5.027 1.32 1.273ZM19.533 24.7 13 31l6.533 6.3 1.32-1.273L15.64 31l5.214-5.027-1.32-1.273Zm4.127 14.832 1.805.468 4.875-17.532L28.535 22 23.66 39.532Z"})),cOe||(cOe=zt("path",{fill:"currentcolor",fillRule:"evenodd",d:"M46 9a3 3 0 0 1 3 3v30a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3V12a3 3 0 0 1 3-3h38Zm0 2H8a1 1 0 0 0-1 1v4h40v-4a1 1 0 0 0-1-1ZM7 42V18h40v24a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1Z",clipRule:"evenodd"})))};function RW(){return RW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},RW.apply(this,arguments)}var pOe,ijt=function(t){return zt("svg",RW({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},t),uOe||(uOe=zt("path",{fillRule:"evenodd",d:"M34.636 21.91A3.818 3.818 0 1 1 27 21.908a3.818 3.818 0 0 1 7.636 0Zm-2 0A1.818 1.818 0 1 1 29 21.908a1.818 1.818 0 0 1 3.636 0Z",clipRule:"evenodd"})),dOe||(dOe=zt("path",{fillRule:"evenodd",d:"M15 13a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V15a2 2 0 0 0-2-2H15Zm24 2H15v12.45l4.71-4.709a1.91 1.91 0 0 1 2.702 0l6.695 6.695 2.656-1.77a1.91 1.91 0 0 1 2.411.239L39 32.73V15ZM15 39v-8.754a.975.975 0 0 0 .168-.135l5.893-5.893 6.684 6.685a1.911 1.911 0 0 0 2.41.238l2.657-1.77 6.02 6.02c.052.051.108.097.168.135V39H15Z",clipRule:"evenodd"})))};function NW(){return NW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},NW.apply(this,arguments)}var gOe,ojt=function(t){return zt("svg",NW({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 54 54"},t),pOe||(pOe=zt("path",{fill:"currentcolor",fillRule:"evenodd",d:"M42.545 12.273A2.455 2.455 0 0 1 45 14.727v24.546a2.455 2.455 0 0 1-2.455 2.454h-31.09A2.455 2.455 0 0 1 9 39.273V14.727a2.455 2.455 0 0 1 2.455-2.454zM27.818 40.09h14.727a.818.818 0 0 0 .819-.818v-4.91H27.818Zm-1.636-5.727v5.727H11.455a.818.818 0 0 1-.819-.818v-4.91zm1.636-1.637h15.546V27H27.818ZM26.182 27v5.727H10.636V27zm1.636-1.636h15.546v-5.728H27.818Zm-1.636-5.728v5.728H10.636v-5.728z",clipRule:"evenodd"})))};function hOe(n){const{field:t}=n,{alt:i,id:s,source:o}=t,a=(n=>({button:xBt,checkbox:SBt,checklist:TBt,columns:ZSe,datetime:DBt,group:ZSe,iframe:njt,image:ijt,number:LBt,radio:BBt,select:VBt,separator:zBt,spacer:UBt,dynamiclist:WBt,taglist:MBt,text:KBt,html:XBt,textfield:QBt,textarea:ejt,table:ojt,default:IBt}[n]))(t.type),l=rm(o,{debug:!0}),c=cr(()=>function sBt(n){return nBt.test(n)?n:""}(l),[l]),u=rm(i,{debug:!0}),{formId:d}=Ea(j5);return ye("div",{class:bo("image"),children:[c&&ye("div",{class:"fjs-image-container",children:ye("img",{alt:u,src:c,class:"fjs-image",id:B5(s,d)})}),!c&&ye("div",{class:"fjs-image-placeholder",children:ye("span",{class:"fjs-image-placeholder-inner",children:ye(a,{alt:"This is an image placeholder",width:"32",height:"32",viewBox:"0 0 56 56"})})})]})}function mOe(n){const{pre:t,post:i}=n,s=rm(t,{debug:!0}),o=rm(i,{debug:!0});return ye(hW,{...n,pre:s,post:o})}function LW(){return LW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},LW.apply(this,arguments)}hOe.config={type:"image",keyed:!1,label:"Image view",group:"presentation",create:(n={})=>({...n})};var yOe,FW=function(t){return zt("svg",LW({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},t),gOe||(gOe=zt("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M7.75 1.336 4 6.125.258 1.335 0 1.54l4 5.125L8 1.54Zm0 0",clipRule:"evenodd"})))};function BW(){return BW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},BW.apply(this,arguments)}var wOe,jW=function(t){return zt("svg",BW({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},t),yOe||(yOe=zt("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M7.75 6.664 4 1.875.258 6.665 0 6.46l4-5.125L8 6.46Zm0 0",clipRule:"evenodd"})))};function VW(n){return("number"==typeof n||"string"==typeof n)&&""!==n&&!isNaN(Number(n))}function vOe(n){return null==n||""===n}function $W(n){const{disabled:t,errors:i=[],errorMessageId:s,domId:o,onBlur:a,onFocus:l,field:c,value:u,readonly:d}=n,{description:p,label:f,appearance:h={},validate:m={},decimalDigits:g,increment:y}=c,{prefixAdorner:v,suffixAdorner:_}=h,{required:E}=m,x=hs(),[b,w]=Lr(u),[C,P]=Lr(u),D=gr(de=>$W.config.sanitizeValue({value:de,formField:c}),[c]),[I,k]=oW(n.onChange);rW(u)!==b&&I({field:c,value:b});const q=gr(de=>vOe(de)?(P(""),void w(null)):"-"!==(de=de.replaceAll(",","."))?isNaN(Number(de))?(P("NaN"),void w(null)):(P(de),void w(D(de))):void P("-"),[D]),H=rW(u)!=u,ee=D(u)===D(b);H&&!ee&&q(u&&u.toString()||"");const Q=cr(()=>yp(y||(g?`1e-${g}`:"1")),[g,y]),Ee=()=>{if(d)return;const de=VW(b)?yp(b):yp(0),X=de.minus(de.mod(Q));q(X.plus(Q).toFixed())},Te=()=>{if(d)return;const de=VW(b)?yp(b):yp(0);if(0===de.mod(Q).cmp(0))q(de.minus(Q).toFixed());else{const j=de.minus(de.mod(Q));q(j.toFixed())}};return ye("div",{class:bo("number",{errors:i,disabled:t,readonly:d}),children:[ye(Na,{id:o,label:f,required:E}),ye(mOe,{disabled:t,readonly:d,pre:v,post:_,children:ye("div",{class:Tn()("fjs-vertical-group",{"fjs-disabled":t,"fjs-readonly":d},{hasErrors:i.length}),children:[ye("input",{ref:x,class:"fjs-input",disabled:t,readOnly:d,id:o,onKeyDown:de=>"NaN"!==C||"Backspace"!==de.code&&"Delete"!==de.code?"ArrowUp"===de.code?(Ee(),void de.preventDefault()):"ArrowDown"===de.code?(Te(),void de.preventDefault()):void 0:(q(""),void de.preventDefault()),onKeyPress:de=>{(function djt(n,t,i,s,o){if("NaN"===t)return!1;const a=!(t=t.replace(",",".")).includes(".")&&("."===n||","===n),l=!t.includes("-")&&"-"===n&&0===i,c=/^[0-9]$/i.test(n),u=void 0===t?-1:t.indexOf("."),d="number"==typeof o&&0===s&&-1!==u&&t.includes(".")&&t.split(".")[1].length>=o&&i>u;return(c||0!==o&&a||l)&&!d})(de.key,x.current.value,x.current.selectionStart,x.current.selectionStart-x.current.selectionEnd,g)||de.preventDefault()},onBlur:()=>{k&&k(),a&&a()},onFocus:()=>{l&&l()},onInput:de=>q(de.target.value,!0),onPaste:de=>"NaN"===C&&de.preventDefault(),type:"text",autoComplete:"off",step:Q,value:C,"aria-describedby":s}),ye("div",{class:Tn()("fjs-number-arrow-container",{"fjs-disabled":t,"fjs-readonly":d}),children:[ye("button",{class:"fjs-number-arrow-up",type:"button","aria-label":"Increment",onClick:()=>Ee(),tabIndex:-1,children:ye(jW,{})}),ye("div",{class:"fjs-number-arrow-separator"}),ye("button",{class:"fjs-number-arrow-down",type:"button","aria-label":"Decrement",onClick:()=>Te(),tabIndex:-1,children:ye(FW,{})})]})]})}),ye(Gf,{description:p}),ye(Kf,{errors:i,id:s})]})}function EOe(n){const{disabled:t,errors:i=[],errorMessageId:s,domId:o,onBlur:a,onFocus:l,field:c,readonly:u,value:d}=n,{description:p,label:f,validate:h={}}=c,m=hs(),{required:g}=h,v=b=>{m.current.contains(b.relatedTarget)||a&&a()},_=b=>{m.current.contains(b.relatedTarget)||l&&l()},{loadState:E,options:x}=$5(c);return cW({field:c,loadState:E,options:x,value:d,onChange:n.onChange}),ye("div",{class:bo("radio",{errors:i,disabled:t,readonly:u}),ref:m,children:[ye(Na,{label:f,required:g}),"loaded"==E&&x.map((b,w)=>{const C=`${o}-${w}`,P=k5()(b.value,d);return ye(Na,{id:C,label:b.label,class:Tn()({"fjs-checked":P}),required:!1,children:ye("input",{checked:P,class:"fjs-input",disabled:t,readOnly:u,id:C,type:"radio",onClick:()=>(b=>{n.onChange({field:c,value:b})})(b.value),onBlur:v,onFocus:_,"aria-describedby":s})},w)}),ye(Gf,{description:p}),ye(Kf,{errors:i,id:s})]})}function zW(){return zW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},zW.apply(this,arguments)}$W.config={type:"number",keyed:!0,label:"Number",group:"basic-input",emptyValue:null,sanitizeValue:({value:n,formField:t})=>vOe(n)||!VW(n)?null:t.serializeToString?n.toString():Number(n),create:(n={})=>({...n})},EOe.config={type:"radio",keyed:!0,label:"Radio group",group:"selection",emptyValue:null,sanitizeValue:_Se,create:Ik};var HW=function(t){return zt("svg",zW({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},t),wOe||(wOe=zt("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M4 3.766 7.43.336l.234.234L4.234 4l3.43 3.43-.234.234L4 4.234.57 7.664.336 7.43 3.766 4 .336.57.57.336Zm0 0",clipRule:"evenodd"})))};function fjt(n){const{domId:t,disabled:i,errors:s,onBlur:o,onFocus:a,field:l,readonly:c,value:u}=n,[d,p]=Lr(""),[f,h]=Lr(!1),[m,g]=Lr(!0),[y,v]=Lr(!1),_=hs(),E=ys("eventBus"),{loadState:x,options:b}=$5(l);cW({field:l,loadState:x,options:b,value:u,onChange:n.onChange});const w=iW(b),C=cr(()=>u&&w(u),[u,w]);pi(()=>{p(C)},[C]);const P=cr(()=>"loaded"!==x?[]:d&&m?b.filter(H=>H.label&&H.value&&H.label.toLowerCase().includes(d.toLowerCase())):b,[d,x,b,m]),D=gr(H=>{p(H&&H.label||""),n.onChange({value:H&&H.value||null,field:l})},[l,n]),I=cr(()=>{const H={};return H.componentReady=!i&&!c&&"loaded"===x,H.displayCross=H.componentReady&&null!=u,H.displayDropdown=!i&&!c&&f&&!y,H},[i,f,y,x,c,u]),k=gr(H=>{v(!1),h(!f);const ee=_.current;f?ee.blur():ee.focus(),H.preventDefault()},[f]),M=gr(H=>{switch(H.key){case"ArrowUp":H.preventDefault();break;case"ArrowDown":f||(h(!0),g(!1)),H.preventDefault();break;case"Escape":v(!0);break;case"Enter":y&&v(!1)}},[f,y]),B=gr(()=>{v(!1),h(!0),g(!1)},[]),q=gr(()=>{v(!1),h(!0),a&&a()},[a]),ue=gr(()=>{h(!1),p(C),o&&o()},[o,C]);return ye(go,{children:[ye("div",{class:Tn()("fjs-input-group",{disabled:i,readonly:c},{hasErrors:s.length}),children:[ye("input",{disabled:i,readOnly:c,class:"fjs-input",ref:_,id:t,onChange:({target:H})=>{v(!1),h(!0),g(!0),p(H.value||""),E.fire("formField.search",{formField:l,value:H.value||""})},type:"text",value:d,placeholder:"Search",autoComplete:"off",onKeyDown:M,onMouseDown:B,onFocus:q,onBlur:ue,"aria-describedby":n["aria-describedby"]}),I.displayCross&&ye("span",{class:"fjs-select-cross",onMouseDown:H=>{D(null),H.preventDefault()},children:[ye(HW,{})," "]}),ye("span",{class:"fjs-select-arrow",onMouseDown:H=>k(H),children:ye(I.displayDropdown?jW:FW,{})})]}),ye("div",{class:"fjs-select-anchor",children:I.displayDropdown&&ye(Rk,{values:P,getLabel:H=>H.label,onValueSelected:H=>{D(H),h(!1)},listenerElement:_.current})})]})}function hjt(n){const{domId:t,disabled:i,errors:s,onBlur:o,onFocus:a,field:l,readonly:c,value:u}=n,[d,p]=Lr(!1),f=hs(),h=hs(),{loadState:m,options:g}=$5(l);cW({field:l,loadState:m,options:g,value:u,onChange:n.onChange});const y=iW(g),v=cr(()=>u&&y(u),[u,y]),_=gr(P=>{n.onChange({value:P&&P.value||null,field:l})},[l,n]),E=cr(()=>{const P={};return P.componentReady=!i&&!c&&"loaded"===m,P.displayCross=P.componentReady&&null!=u,P.displayDropdown=!i&&!c&&d,P},[i,d,m,c,u]),x=gr(P=>{const D=h.current;p(!d),d?D.blur():D.focus(),P.preventDefault()},[d]),b=cr(()=>u&&Pl(g,P=>P.value===u)||0,[g,u]),w=gr(()=>{c||(p(!0),a&&a())},[a,c]),C=gr(()=>{c||(p(!1),o&&o())},[o,c]);return ye(go,{children:[ye("div",{ref:f,class:Tn()("fjs-input-group",{disabled:i,readonly:c},{hasErrors:s.length}),onFocus:w,onBlur:C,onMouseDown:x,children:[ye("div",{class:Tn()("fjs-select-display",{"fjs-select-placeholder":!u}),id:`${t}-display`,children:v||"Select"}),!i&&ye("input",{ref:h,id:t,class:"fjs-select-hidden-input",value:v,onFocus:w,onBlur:C,"aria-describedby":n["aria-describedby"]}),E.displayCross&&ye("span",{class:"fjs-select-cross",onMouseDown:P=>{_(null),P.stopPropagation()},children:ye(HW,{})}),ye("span",{class:"fjs-select-arrow",children:ye(E.displayDropdown?jW:FW,{})})]}),ye("div",{class:"fjs-select-anchor",children:E.displayDropdown&&ye(Rk,{values:g,getLabel:P=>P.label,initialFocusIndex:b,onValueSelected:P=>{_(P),p(!1)},listenerElement:f.current})})]})}function COe(n){const{disabled:t,errors:i=[],errorMessageId:s,domId:o,onBlur:a,onFocus:l,field:c,onChange:u,readonly:d,value:p}=n,{description:f,label:h,searchable:m=!1,validate:g={}}=c,{required:y}=g,v={domId:o,disabled:t,errors:i,onBlur:a,onFocus:l,field:c,value:p,onChange:u,readonly:d,"aria-describedby":s};return ye("div",{class:bo("select",{errors:i,disabled:t,readonly:d}),onKeyDown:_=>{"Enter"===_.key&&(_.preventDefault(),_.stopPropagation())},children:[ye(Na,{id:o,label:h,required:y}),ye(m?fjt:hjt,{...v}),ye(Gf,{description:f}),ye(Kf,{errors:i,id:s})]})}function OOe(){return ye("div",{class:bo("separator"),children:ye("hr",{})})}function POe(n){const{field:t}=n,{height:i=60}=t;return ye("div",{class:bo("spacer"),style:{height:i}})}function UW(n){const{field:t,domId:i,readonly:s}=n,{label:o,type:a,showOutline:l}=t,{Empty:c}=Ea(q_),u={...n,Empty:c};return ye("div",{className:Tn()(bo(a,{readonly:s}),"fjs-form-field-grouplike",{"fjs-outlined":l}),role:"group","aria-labelledby":i,children:[ye(Na,{id:i,label:o}),ye(dW,{...u})]})}function mjt(n){const{className:t,label:i,onSkip:s}=n,o=gr(a=>{"Enter"===a.key&&(a.preventDefault(),a.stopPropagation(),s())},[s]);return ye("a",{href:"#",class:Tn()("fjs-skip-link",t),onKeyDown:o,children:i})}function kOe(n){const{disabled:t,errors:i=[],errorMessageId:s,onFocus:o,domId:a,onBlur:l,field:c,readonly:u,value:d}=n,{description:p,label:f,validate:h={}}=c,{required:m}=h,[g,y]=Lr(""),[v,_]=Lr(!1),[E,x]=Lr(!1),b=hs(),w=hs(),C=ys("eventBus"),{loadState:P,options:D}=$5(c),I=V5(d||[],[]);wSe({field:c,loadState:P,options:D,values:I,onChange:n.onChange});const k=iW(D),F=cr(()=>D.length>I.length,[D.length,I.length]),M=cr(()=>"loaded"!==P?[]:D.filter(j=>j.label.toLowerCase().includes(g.toLowerCase())&&!im(j.value,I)),[g,D,I,P]),q=X=>{const j=I.filter(R=>!k5()(R,X));n.onChange({value:j,field:c})},ee=X=>{b.current.contains(X.relatedTarget)||l&&l()},Q=X=>{b.current.contains(X.relatedTarget)||o&&o()},de=cr(()=>!t&&"loaded"===P&&v&&!E,[t,v,E,P]);return ye("div",{ref:b,class:bo("taglist",{errors:i,disabled:t,readonly:u}),onKeyDown:X=>{"Enter"===X.key&&(X.stopPropagation(),X.preventDefault())},children:[ye(Na,{label:f,required:m,id:a}),!t&&!u&&!!I.length&&ye(mjt,{className:"fjs-taglist-skip-link",label:"Skip to search",onSkip:()=>{w.current.focus()}}),ye("div",{class:Tn()("fjs-taglist",{"fjs-disabled":t,"fjs-readonly":u}),children:["loaded"===P&&ye("div",{class:"fjs-taglist-tags",children:I.map(X=>ye("div",{class:Tn()("fjs-taglist-tag",{"fjs-disabled":t,"fjs-readonly":u}),onMouseDown:j=>j.preventDefault(),children:[ye("span",{class:"fjs-taglist-tag-label",children:k(X)}),!t&&!u&&ye("button",{type:"button",title:"Remove tag",class:"fjs-taglist-tag-remove",onFocus:Q,onBlur:ee,onClick:j=>((X,j)=>{const{target:R}=X;q(j),R.closest(".fjs-taglist-tag").nextSibling||w.current.focus()})(j,X),children:ye(HW,{})})]}))}),ye("input",{disabled:t,readOnly:u,class:"fjs-taglist-input",ref:w,id:a,onChange:({target:X})=>{x(!1),y(X.value||""),C.fire("formField.search",{formField:c,value:X.value||""})},type:"text",value:g,placeholder:t||u?void 0:"Search",autoComplete:"off",onKeyDown:X=>{switch(X.key){case"ArrowUp":case"ArrowDown":X.preventDefault();break;case"Backspace":!g&&I.length&&q(I[I.length-1]);break;case"Escape":x(!0);break;case"Enter":E&&x(!1)}},onMouseDown:()=>x(!1),onFocus:X=>{u||_(!0),Q(X)},onBlur:X=>{u||(_(!1),y("")),ee(X)},"aria-describedby":s})]}),ye("div",{class:"fjs-taglist-anchor",children:de&&ye(Rk,{values:M,getLabel:X=>X.label,onValueSelected:X=>(X=>{y(""),I.at(-1)!==X&&n.onChange({value:[...I,X],field:c})})(X.value),emptyListMessage:F?"No results":"All values selected",listenerElement:w.current})}),ye(Gf,{description:p}),ye(Kf,{errors:i,id:s})]})}COe.config={type:"select",keyed:!0,label:"Select",group:"selection",emptyValue:null,sanitizeValue:_Se,create:Ik},OOe.config={type:"separator",keyed:!1,label:"Separator",group:"presentation",create:(n={})=>({...n})},POe.config={type:"spacer",keyed:!1,label:"Spacer",group:"presentation",create:(n={})=>({height:60,...n})},UW.config={type:"dynamiclist",pathed:!0,repeatable:!0,label:"Dynamic list",group:"container",create:(n={})=>({components:[],showOutline:!0,isRepeating:!0,allowAddRemove:!0,defaultRepetitions:1,...n})},kOe.config={type:"taglist",keyed:!0,label:"Tag list",group:"selection",emptyValue:[],sanitizeValue:ESe,create:Ik};const vjt=["h1","h2","h3","h4","h5","h6","span","em","a","p","div","ul","ol","li","hr","blockquote","img","pre","code","br","strong","table","thead","tbody","tr","th","td"],bjt=["align","alt","class","href","id","name","rel","target","src"],_jt=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Ejt=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,wjt=document.createElement("form");function xjt(n){const t=(new DOMParser).parseFromString(`<!DOCTYPE html>\n<html><body><div>${n}`,"text/html");t.normalize();const i=t.body.firstChild;return i?(MOe(i),i.innerHTML):""}function MOe(n){if(3===n.nodeType)return;if(1!==n.nodeType)return n.remove();const t=n.tagName.toLowerCase();if(!vjt.includes(t))return n.remove();const i=n.attributes;for(let s=i.length;s--;){const o=i[s],a=o.name,l=a.toLowerCase(),c=o.value.trim();n.removeAttribute(a),Cjt(0,l,c)&&n.setAttribute(a,c)}"a"===t&&"_blank"===n.getAttribute("target")&&"noopener"!==n.getAttribute("rel")&&n.setAttribute("rel","noopener");for(let s=n.childNodes.length;s--;)MOe(n.childNodes[s])}function Cjt(n,t,i){return!(!bjt.includes(t)||("id"===t||"name"===t)&&(i in document||i in wjt)||"target"===t&&"_blank"!==i||"href"===t&&!_jt.test(i.replace(Ejt,"")))}function IOe(n){const t=ys("form"),{textLinkTarget:i}=t._getState().properties,{field:s,disableLinks:o}=n,{text:a="",strict:l=!1}=s,c=ys("markdownRenderer"),u=aW(a,{debug:!0,strict:l}),d=cr(()=>c.render(u),[c,u]),p=gr(h=>{const m=xjt(h),g=document.createElement("div");return g.innerHTML=m,g.querySelectorAll("a").forEach(v=>{o&&(v.setAttribute("class","fjs-disabled-link"),v.setAttribute("tabIndex","-1")),i&&v.setAttribute("target",i)}),g.innerHTML},[o,i]),f=dSe({html:d,transform:p,sanitize:!1,sanitizeStyleTags:!1});return ye("div",{class:bo("text"),dangerouslySetInnerHTML:f})}function NOe(n){const t=ys("form"),{textLinkTarget:i}=t._getState().properties,{field:s,disableLinks:o,domId:a}=n,{content:l="",strict:c=!1}=s,u=`${a}-style-scope`,d=aW(l,{debug:!0,strict:c,sanitizer:aBt}),p=gr(h=>{const m=document.createElement("div");return m.innerHTML=h,m.querySelectorAll("a").forEach(y=>{o&&(y.setAttribute("class","fjs-disabled-link"),y.setAttribute("tabIndex","-1")),i&&y.setAttribute("target",i)}),function Sjt(n,t){n.querySelectorAll("style").forEach(s=>{const a=function Ojt(n){let t=0,i=0,s=0;const o=[];for(;t<n.length;)"{"===n[t]&&s++,"}"===n[t]&&(s--,0===s&&(o.push(n.substring(i,t+1)),i=t+1)),t++;return o.map(a=>a.trim())}(s.textContent).map(l=>{const{selector:c,styles:u}=function Tjt(n){const t=n.indexOf("{");return{selector:n.substring(0,t),styles:n.substring(t)}}(l);return`${function Pjt(n,t){return n.split(",").map(i=>`${t} ${i.trim()}`).join(", ")}(c,t)} ${u}`}).join(" ");s.textContent=a})}(m,`.${u}`),m.innerHTML},[o,u,i]),f=dSe({html:d,transform:p,sanitize:!0,sanitizeStyleTags:!1});return ye("div",{class:Tn()(bo("html"),u),dangerouslySetInnerHTML:f})}function FOe(n){const{disabled:t,errors:i=[],errorMessageId:s,domId:o,onBlur:a,onFocus:l,field:c,readonly:u,value:d=""}=n,{description:p,label:f,appearance:h={},validate:m={}}=c,{prefixAdorner:g,suffixAdorner:y}=h,{required:v}=m,[_,E]=oW(({target:w})=>{n.onChange({field:c,value:w.value})});return ye("div",{class:bo("textfield",{errors:i,disabled:t,readonly:u}),children:[ye(Na,{id:o,label:f,required:v}),ye(mOe,{disabled:t,readonly:u,pre:g,post:y,children:ye("input",{class:"fjs-input",disabled:t,readOnly:u,id:o,onInput:_,onBlur:()=>{E&&E(),a&&a()},onFocus:()=>{l&&l()},type:"text",value:d,"aria-describedby":s})}),ye(Gf,{description:p}),ye(Kf,{errors:i,id:s})]})}function jOe(n){const{disabled:t,errors:i=[],errorMessageId:s,domId:o,onBlur:a,onFocus:l,field:c,readonly:u,value:d=""}=n,{description:p,label:f,validate:h={}}=c,{required:m}=h,g=hs(),[y,v]=oW(({target:b})=>{n.onChange({field:c,value:b.value})});return Jh(()=>{qW(g.current)},[d]),pi(()=>{qW(g.current)},[]),ye("div",{class:bo("textarea",{errors:i,disabled:t,readonly:u}),children:[ye(Na,{id:o,label:f,required:m}),ye("textarea",{class:"fjs-textarea",disabled:t,readonly:u,id:o,onInput:b=>{y({target:b.target}),qW(g.current)},onBlur:()=>{v&&v(),a&&a()},onFocus:()=>{l&&l()},value:d,ref:g,"aria-describedby":s}),ye(Gf,{description:p}),ye(Kf,{errors:i,id:s})]})}IOe.config={type:"text",keyed:!1,label:"Text view",group:"presentation",create:(n={})=>({text:"# Text",...n})},NOe.config={type:"html",keyed:!1,label:"HTML",group:"presentation",create:(n={})=>({content:"",...n})},FOe.config={type:"textfield",keyed:!0,label:"Text field",group:"basic-input",emptyValue:"",sanitizeValue:({value:n})=>Vt(n)||fr(n)||Id(n)?"":"string"==typeof n?n.replace(/[\r\n\t]/g," "):String(n),create:(n={})=>({...n})},jOe.config={type:"textarea",keyed:!0,label:"Text area",group:"basic-input",emptyValue:"",sanitizeValue:({value:n})=>Vt(n)||fr(n)||Id(n)?"":String(n),create:(n={})=>({...n})};const qW=n=>{n.style.height="0px";const t=window.getComputedStyle(n),s=parseInt(t.getPropertyValue("border-top-width"))+parseInt(t.getPropertyValue("padding-top"))+(n.scrollHeight||(()=>{const c=parseInt(t.getPropertyValue("line-height").replace("px",""))||0;return(n.value?n.value.toString().split("\n").length:0)*c})())+parseInt(t.getPropertyValue("padding-bottom"))+parseInt(t.getPropertyValue("border-bottom-width")),l=Math.max(Math.min(s||0,350),75);n.style.height=`${l}px`,n.style.overflow=s>350?"visible":"hidden"};var VOe;function WW(){return WW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},WW.apply(this,arguments)}var $Oe,kjt=function(t){return zt("svg",WW({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},t),VOe||(VOe=zt("path",{fill:"currentcolor",d:"M24.59 16.59 17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10 10-10-1.41-1.41z"})))};function GW(){return GW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},GW.apply(this,arguments)}var zOe,Ajt=function(t){return zt("svg",GW({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},t),$Oe||($Oe=zt("path",{fill:"currentcolor",d:"M16 4 6 14l1.41 1.41L15 7.83V28h2V7.83l7.59 7.58L26 14 16 4z"})))};function KW(){return KW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},KW.apply(this,arguments)}var HOe,Rjt=function(t){return zt("svg",KW({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 32 32"},t),zOe||(zOe=zt("path",{fill:"currentcolor",d:"m20 24-10-8 10-8z"})))};function YW(){return YW=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},YW.apply(this,arguments)}var Ljt=function(t){return zt("svg",YW({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 32 32"},t),HOe||(HOe=zt("path",{fill:"currentcolor",d:"m12 8 10 8-10 8z"})))};function qOe(n){const{field:t}=n,{columns:i=[],columnsExpression:s,dataSource:o="",rowCount:a,id:l,label:c}=t,[u,d]=Lr(null),p=function Fjt(n,t){const i=nW(n||"");return Array.isArray(i)&&i.every(WOe)?i:t}(s||"",i),f=p.map(({key:b})=>b),h=nW(o),m=Array.isArray(h)?h:[],g=null===u?m:function jjt(n,t,i){return[...n].sort((s,o)=>fr(s)&&fr(o)?"asc"===i?s[t]>o[t]?1:-1:s[t]<o[t]?1:-1:0)}(m,u.key,u.direction),y=un(a)?function Bjt(n,t){return n.reduce((i,s,o)=>(o%t==0?i.push([s]):i[i.length-1].push(s),i),[])}(g,a):[g],[v,_]=Lr(0),E=y[v]||[];function x(b){d(w=>null===w||w.key!==b?{key:b,direction:"asc"}:"desc"===w.direction?null:{key:b,direction:"desc"})}return pi(()=>{_(0)},[a,u]),ye("div",{class:bo("table"),children:[ye(Na,{id:B5(l),label:c}),ye("div",{class:Tn()("fjs-table-middle-container",{"fjs-table-empty":0===p.length}),children:[0===p.length?"Nothing to show.":ye("div",{class:"fjs-table-inner-container",children:ye("table",{class:"fjs-table",id:B5(l),children:[ye("thead",{class:"fjs-table-head",children:ye("tr",{class:"fjs-table-tr",children:p.map(({key:b,label:w})=>{const C=w||b;return ye("th",{tabIndex:0,class:"fjs-table-th",onClick:()=>{x(b)},onKeyDown:P=>{["Enter","Space"].includes(P.code)&&x(b)},"aria-label":Vjt(u,b,C),children:ye("span",{class:"fjs-table-th-label",children:[C,null!==u&&u.key===b?ye(go,{children:"asc"===u.direction?ye(Ajt,{class:"fjs-table-sort-icon-asc"}):ye(kjt,{class:"fjs-table-sort-icon-desc"})}):null]})},b)})})}),ye("tbody",0===E.length?{class:"fjs-table-body",children:ye("tr",{class:"fjs-table-tr",children:ye("td",{class:"fjs-table-td",colSpan:p.length,children:"Nothing to show."})})}:{class:"fjs-table-body",children:E.map((b,w)=>ye("tr",{class:"fjs-table-tr",children:f.map(C=>ye("td",{class:"fjs-table-td",children:b[C]},C))},w))})]})}),un(a)&&y.length>1&&p.length>0?ye("nav",{class:"fjs-table-nav",children:[ye("span",{class:"fjs-table-nav-label",children:[v+1," of ",y.length]}),ye("button",{type:"button",class:"fjs-table-nav-button",onClick:()=>{_(b=>Math.max(b-1,0))},disabled:0===v,"aria-label":"Previous page",children:ye(Rjt,{})}),ye("button",{type:"button",class:"fjs-table-nav-button",onClick:()=>{_(b=>Math.min(b+1,y.length-1))},disabled:v>=y.length-1,"aria-label":"Next page",children:ye(Ljt,{})})]}):null]})]})}function WOe(n){return fr(n)&&$n(n.label)&&$n(n.key)}function Vjt(n,t,i){return null===n||n.key!==t?`Click to sort by ${i} descending`:"asc"===n.direction?"Click to remove sorting":`Click to sort by ${i} ascending`}qOe.config={type:"table",keyed:!1,label:"Table",group:"presentation",create:(n={})=>{const{id:t,columnsExpression:i,columns:s,rowCount:o,...a}=n;return Hr(t)&&un(o)&&(a.rowCount=o),$n(i)?{...a,id:t,columnsExpression:i}:Array.isArray(s)&&s.every(WOe)?{...a,id:t,columns:s}:{...a,rowCount:10,columns:[{label:"ID",key:"id"},{label:"Name",key:"name"},{label:"Date",key:"date"}]}},generateInitialDemoData:n=>{const t=[{id:1,name:"John Doe",date:"31.01.2023"},{id:2,name:"Erika Muller",date:"20.02.2023"},{id:3,name:"Dominic Leaf",date:"11.03.2023"}],i=Object.keys(t[0]),{columns:s,id:o,dataSource:a}=n;if(Array.isArray(s)&&0!==s.length&&a===`=${o}`&&s.map(({key:l})=>l).every(l=>i.includes(l)))return t}};const qjt=[lSe,CSe,OSe,PSe,UW,$W,RSe,EOe,COe,kOe,FOe,jOe,IOe,hOe,qOe,NOe,POe,OOe,NSe,UW,FSe];class KOe{constructor(){this._formFields={},qjt.forEach(t=>{this.register(t.config.type,t)})}register(t,i){this._formFields[t]=i}get(t){return this._formFields[t]}}const Wjt=["alt","appearance.prefixAdorner","appearance.suffixAdorner","conditional.hide","description","label","source","readonly","text","validate.min","validate.max","validate.minLength","validate.maxLength","valuesExpression","url","dataSource","columnsExpression"],Gjt=["alt","appearance.prefixAdorner","appearance.suffixAdorner","description","label","source","text","url"];function Qi(n,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=t,this._eventBus=n,this._uid=1,n.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}nSe().setFlavor("github"),Qi.$inject=["eventBus","injector"],Qi.prototype.execute=function(n,t){if(!n)throw new Error("command required");this._currentExecution.trigger="execute";const i={command:n,context:t};this._pushAction(i),this._internalExecute(i),this._popAction()},Qi.prototype.canExecute=function(n,t){const i={command:n,context:t},s=this._getHandler(n);let o=this._fire(n,"canExecute",i);if(void 0===o){if(!s)return!1;s.canExecute&&(o=s.canExecute(t))}return o},Qi.prototype.clear=function(n){this._stack.length=0,this._stackIdx=-1,!1!==n&&this._fire("changed",{trigger:"clear"})},Qi.prototype.undo=function(){let t,n=this._getUndoAction();if(n){for(this._currentExecution.trigger="undo",this._pushAction(n);n&&(this._internalUndo(n),t=this._getUndoAction(),t&&t.id===n.id);)n=t;this._popAction()}},Qi.prototype.redo=function(){let t,n=this._getRedoAction();if(n){for(this._currentExecution.trigger="redo",this._pushAction(n);n&&(this._internalExecute(n,!0),t=this._getRedoAction(),t&&t.id===n.id);)n=t;this._popAction()}},Qi.prototype.register=function(n,t){this._setHandler(n,t)},Qi.prototype.registerHandler=function(n,t){if(!n||!t)throw new Error("command and handlerCls must be defined");const i=this._injector.instantiate(t);this.register(n,i)},Qi.prototype.canUndo=function(){return!!this._getUndoAction()},Qi.prototype.canRedo=function(){return!!this._getRedoAction()},Qi.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},Qi.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},Qi.prototype._internalUndo=function(n){const t=n.command,i=n.context,s=this._getHandler(t);this._atomicDo(()=>{this._fire(t,"revert",n),s.revert&&this._markDirty(s.revert(i)),this._revertedAction(n),this._fire(t,"reverted",n)})},Qi.prototype._fire=function(n,t,i){arguments.length<3&&(i=t,t=null);const s=t?[n+"."+t,t]:[n];let o;i=this._eventBus.createEvent(i);for(const a of s)if(o=this._eventBus.fire("commandStack."+a,i),i.cancelBubble)break;return o},Qi.prototype._createId=function(){return this._uid++},Qi.prototype._atomicDo=function(n){const t=this._currentExecution;t.atomic=!0;try{n()}finally{t.atomic=!1}},Qi.prototype._internalExecute=function(n,t){const i=n.command,s=n.context,o=this._getHandler(i);if(!o)throw new Error("no command handler registered for <"+i+">");this._pushAction(n),t||(this._fire(i,"preExecute",n),o.preExecute&&o.preExecute(s),this._fire(i,"preExecuted",n)),this._atomicDo(()=>{this._fire(i,"execute",n),o.execute&&this._markDirty(o.execute(s)),this._executedAction(n,t),this._fire(i,"executed",n)}),t||(this._fire(i,"postExecute",n),o.postExecute&&o.postExecute(s),this._fire(i,"postExecuted",n)),this._popAction()},Qi.prototype._pushAction=function(n){const t=this._currentExecution,i=t.actions,s=i[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+n.command+")");n.id||(n.id=s&&s.id||this._createId()),i.push(n)},Qi.prototype._popAction=function(){const n=this._currentExecution,t=n.trigger,i=n.actions,s=n.dirty;i.pop(),i.length||(this._eventBus.fire("elements.changed",{elements:nN("id",s.reverse())}),s.length=0,this._fire("changed",{trigger:t}),n.trigger=null)},Qi.prototype._markDirty=function(n){const t=this._currentExecution;n&&(n=Vt(n)?n:[n],t.dirty=t.dirty.concat(n))},Qi.prototype._executedAction=function(n,t){const i=++this._stackIdx;t||this._stack.splice(i,this._stack.length,n)},Qi.prototype._revertedAction=function(n){this._stackIdx--},Qi.prototype._getHandler=function(n){return this._handlerMap[n]},Qi.prototype._setHandler=function(n,t){if(!n||!t)throw new Error("command and handler required");if(this._handlerMap[n])throw new Error("overriding handler for command <"+n+">");this._handlerMap[n]=t};var Lk="__fn",cVt=Array.prototype.slice;function Hl(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function z5(){}Hl.prototype.on=function(n,t,i,s){if(n=Vt(n)?n:[n],Gn(t)&&(s=i,i=t,t=1e3),!un(t))throw new Error("priority must be a number");var o=i;s&&((o=Cs(i,s))[Lk]=i[Lk]||i);var a=this;n.forEach(function(l){a._addListener(l,{priority:t,callback:o,next:null})})},Hl.prototype.once=function(n,t,i,s){var o=this;if(Gn(t)&&(s=i,i=t,t=1e3),!un(t))throw new Error("priority must be a number");function a(){a.__isTomb=!0;var l=i.apply(s,arguments);return o.off(n,a),l}a[Lk]=i,this.on(n,t,a)},Hl.prototype.off=function(n,t){n=Vt(n)?n:[n];var i=this;n.forEach(function(s){i._removeListener(s,t)})},Hl.prototype.createEvent=function(n){var t=new z5;return t.init(n),t},Hl.prototype.fire=function(n,t){var i,s,o,a;if(a=cVt.call(arguments),"object"==typeof n&&(n=(t=n).type),!n)throw new Error("no event type specified");if(s=this._listeners[n]){i=t instanceof z5?t:this.createEvent(t),a[0]=i;var l=i.type;n!==l&&(i.type=n);try{o=this._invokeListeners(i,a,s)}finally{n!==l&&(i.type=l)}return void 0===o&&i.defaultPrevented&&(o=!1),o}},Hl.prototype.handleError=function(n){return!1===this.fire("error",{error:n})},Hl.prototype._destroy=function(){this._listeners={}},Hl.prototype._invokeListeners=function(n,t,i){for(var s;i&&!n.cancelBubble;)s=this._invokeListener(n,t,i),i=i.next;return s},Hl.prototype._invokeListener=function(n,t,i){var s;if(i.callback.__isTomb)return s;try{s=function uVt(n,t){return n.apply(null,t)}(i.callback,t),void 0!==s&&(n.returnValue=s,n.stopPropagation()),!1===s&&n.preventDefault()}catch(o){if(!this.handleError(o))throw console.error("unhandled error in event listener",o),o}return s},Hl.prototype._addListener=function(n,t){var s,i=this._getListeners(n);if(i){for(;i;){if(i.priority<t.priority)return t.next=i,void(s?s.next=t:this._setListeners(n,t));s=i,i=i.next}s.next=t}else this._setListeners(n,t)},Hl.prototype._getListeners=function(n){return this._listeners[n]},Hl.prototype._setListeners=function(n,t){this._listeners[n]=t},Hl.prototype._removeListener=function(n,t){var s,o,a,i=this._getListeners(n);if(t)for(;i;)s=i.next,((a=i.callback)===t||a[Lk]===t)&&(o?o.next=s:this._setListeners(n,s)),o=i,i=s;else this._setListeners(n,null)},z5.prototype.stopPropagation=function(){this.cancelBubble=!0},z5.prototype.preventDefault=function(){this.defaultPrevented=!0},z5.prototype.init=function(n){pe(this,n||{})};new Nd([32,36,1]);class CVt extends Aq{constructor(t,...i){super(...i),this._eventBus=t}getVariables(t){var i=this;return be(function*(){const s=yield i._eventBus.fire("formVariableProvider.getFormSchema",{element:t});if(!s)return;let o;try{o=function Kjt(n,t={}){const{formFields:i=new KOe,expressionLanguage:s=new iSe(null),templating:o=new sSe,inputs:a=!0,outputs:l=!0}=t;if(!n.components)return[];const c=p=>{const f=[];return p.components&&p.components.forEach(h=>{f.push(h),f.push(...c(h))}),f},u=c(n).reduce((p,f)=>{const{valuesKey:h}=f;return a&&(h&&(p=[...p,h]),Wjt.forEach(m=>{const g=kl(f,m.split("."));if(g&&s.isExpression(g)){const y=s.getVariableNames(g,{type:"expression"});p=[...p,...y]}}),Gjt.forEach(m=>{const g=kl(f,m.split("."));if(g&&!s.isExpression(g)&&o.isTemplate(g)){const y=o.getVariableNames(g);p=[...p,...y]}})),p.filter(m=>"string"==typeof m)},[]),d=p=>{const f=[],h=i.get(p.type);return h&&h.config.keyed&&p.key?[p.key.split(".")[0]]:h&&h.config.pathed&&p.path?[p.path.split(".")[0]]:(p.components&&p.components.forEach(m=>{f.push(...d(m))}),f)};return(a||l)&&u.push(...d(n)),Array.from(new Set(u))}(JSON.parse(s),{inputs:!1,outputs:!0})}catch{return}return o.map(a=>({name:a,info:`Returned from Form in ${t.name||t.id}`}))})()}static $inject=["eventBus",...super.$inject]}function i8e(n,t){let s=[];const o=G(n).get("extensionElements");if(typeof o<"u"){const a=o.get("values");typeof a<"u"&&(s=a.filter(l=>T(l,t)))}return s}function s8e(n){n.on("formVariableProvider.getFormSchema",SVt)}function SVt({element:n}){const t=i8e(n,"zeebe:FormDefinition")[0];if(!t)return;const i=t.formKey;if(!i)return;const s=i.replace("camunda-forms:bpmn:",""),o=function OVt(n){let t=n.$parent;for(;t&&!T(t,"bpmn:Process");)t=t.$parent;return t}(n),l=i8e(o,"zeebe:UserTaskForm").find(c=>c.id===s);return l?l.body:void 0}s8e.$inject=["eventBus"];var TVt={__init__:["formVariableProvider","formVariableProvider.formExtractor"],formVariableProvider:["type",CVt],"formVariableProvider.formExtractor":["type",s8e]};function H5(n,t,i,s){this._contextPad=n,this._popupMenu=t,this._canvas=i,this._translate=s,n.registerProvider(this)}function DVt(n,t){var o=n.getPad(t).html.getBoundingClientRect();return{x:o.left,y:o.bottom+5}}H5.$inject=["contextPad","popupMenu","canvas","translate"],H5.prototype.getContextPadEntries=function(n){return this._createPopupAction([n])},H5.prototype.getMultiElementContextPadEntries=function(n){return this._createPopupAction(n)},H5.prototype._createPopupAction=function(n){const i=this._contextPad,s=this._popupMenu;return{"set-color":{group:"edit",className:"bpmn-icon-color",title:(0,this._translate)("Set color"),html:'<div class="entry"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor">\n  <path d="m12.5 5.5.3-.4 3.6-3.6c.5-.5 1.3-.5 1.7 0l1 1c.5.4.5 1.2 0 1.7l-3.6 3.6-.4.2v.2c0 1.4.6 2 1 2.7v.6l-1.7 1.6c-.2.2-.4.2-.6 0L7.3 6.6a.4.4 0 0 1 0-.6l.3-.3.5-.5.8-.8c.2-.2.4-.1.6 0 .9.5 1.5 1.1 3 1.1zm-9.9 6 4.2-4.2 6.3 6.3-4.2 4.2c-.3.3-.9.3-1.2 0l-.8-.8-.9-.8-2.3-2.9" />\n</svg></div>',action:{click:(o,a)=>{var l={...DVt(i,n),cursor:{x:o.x,y:o.y}};s.open(n,"color-picker",l)}}}}};const kVt=[{label:"Default",fill:void 0,stroke:void 0},{label:"Blue",fill:"#BBDEFB",stroke:"#0D4372"},{label:"Orange",fill:"#FFE0B2",stroke:"#6B3C00"},{label:"Green",fill:"#C8E6C9",stroke:"#205022"},{label:"Red",fill:"#FFCDD2",stroke:"#831311"},{label:"Purple",fill:"#E1BEE7",stroke:"#5B176D"}];function tG(n,t,i,s,o){this._popupMenu=i,this._modeling=s,this._translate=o,this._colors=n&&n.colors||kVt,this._defaultFillColor=t&&t.defaultFillColor||"white",this._defaultStrokeColor=t&&t.defaultStrokeColor||"rgb(34, 36, 42)",this._popupMenu.registerProvider("color-picker",this)}function MVt(n,t,i){return function(){n.setColor(t,i)}}tG.$inject=["config.colorPicker","config.bpmnRenderer","popupMenu","modeling","translate"],tG.prototype.getEntries=function(n){var t=this;return this._colors.map(function(o){var a='\n    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" height="100%" width="100%">\n      <rect rx="2" x="1" y="1" width="22" height="22" fill="var(--fill-color)" stroke="var(--stroke-color)" style="stroke-width:2"></rect>\n    </svg>\n  '.replace("var(--fill-color)",o.fill||t._defaultFillColor).replace("var(--stroke-color)",o.stroke||t._defaultStrokeColor);return{title:t._translate(o.label),id:o.label.toLowerCase()+"-color",imageHtml:a,action:MVt(t._modeling,n,o)}})};const AVt={__init__:["colorContextPadProvider","colorPopupProvider"],colorContextPadProvider:["type",H5],colorPopupProvider:["type",tG]};function nG(n,t,i,s,o){this._eventBus=t,this._elementTemplates=i,this._translate=s,this._popupMenu=o,(!n||!1!==n.elementTemplateChooser)&&t.on("elementTemplates.select",l=>{const{element:c}=l;this.open(c).then(u=>{i.applyTemplate(c,u)}).catch(u=>{"user-canceled"!==u&&console.error("elementTemplate.select :: error",u)})})}function G_(n,t,i,s){this._popupMenu=n,this._eventBus=t,this._translate=i,this._elementTemplates=s,this.register()}nG.$inject=["config.connectorsExtension","eventBus","elementTemplates","translate","popupMenu"],nG.prototype.open=function(n){const t=this._popupMenu,i=this._translate,s=this._eventBus;return new Promise((o,a)=>{const l=()=>a("user-canceled");s.once("popupMenu.close",l),s.once("elementTemplateChooser.chosen",c=>{const{template:u}=c;s.off("popupMenu.close",l),o(u)}),t.open(n,"element-template-chooser",{x:0,y:0},{title:i("Choose element template"),search:!0,width:350})})},G_.$inject=["popupMenu","eventBus","translate","elementTemplates"],G_.prototype.register=function(){this._popupMenu.registerProvider("element-template-chooser",this)},G_.prototype.getPopupMenuEntries=function(n){return this.getTemplateEntries(n).reduce((t,[i,s])=>(t[i]=s,t),{})},G_.prototype.getTemplateEntries=function(n){const t=this._eventBus,i=this._translate;return this._getMatchingTemplates(n).map(s=>{const{icon:o={},category:a}=s;return[`apply-template-${s.id}`,{label:s.name&&i(s.name),description:s.description&&i(s.description),documentationRef:s.documentationRef,imageUrl:o.contents,group:a&&{...a,name:i(a.name)},action:()=>{t.fire("elementTemplateChooser.chosen",{element:n,template:s})}}]})},G_.prototype._getMatchingTemplates=function(n){return this._elementTemplates.getLatest().filter(t=>Kt(n,t.appliesTo)&&!function IVt(n,t){const i=G(n);return!!i&&i.get("modelerTemplate")===t.id}(n,t))};var RVt={__init__:["elementTemplateChooser","elementTemplateChooserEntryProvider"],elementTemplateChooser:["type",nG],elementTemplateChooserEntryProvider:["type",G_]};const Bk=Object.prototype.toString,NVt=Object.prototype.hasOwnProperty;function o8e(n){return void 0===n}function rG(n){return"[object Array]"===Bk.call(n)}function a8e(n){return"[object Object]"===Bk.call(n)}function l8e(n){return"[object Number]"===Bk.call(n)}function U5(n){const t=Bk.call(n);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}function c8e(n,t){return NVt.call(n,t)}function u8e(n,t){const i=function FVt(n){return U5(n)?n:t=>t===n}(t);let s;return d8e(n,function(o,a){if(i(o,a))return s=o,!1}),s}function d8e(n,t){let i,s;if(o8e(n))return;const o=rG(n)?jVt:BVt;for(let a in n)if(c8e(n,a)&&(i=n[a],s=t(i,o(a)),!1===s))return i}function BVt(n){return n}function jVt(n){return Number(n)}function q5(n,...t){return Object.assign(n,...t)}const W5={id:"events",name:"Events"},VVt={id:"tasks",name:"Tasks"},$Vt={id:"data",name:"Data"},zVt={id:"participants",name:"Participants"},HVt={id:"subprocess",name:"Sub-processes"},UVt={id:"gateways",name:"Gateways"},qVt=[{label:"Start event",actionName:"none-start-event",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"Boundary event",actionName:"none-boundary-event",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:BoundaryEvent"}},{label:"End event",actionName:"none-end-event",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}].map(n=>({...n,group:W5})),WVt=[{label:"Message start event",actionName:"message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer start event",actionName:"timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional start event",actionName:"conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal start event",actionName:"signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}].map(n=>({...n,group:W5})),GVt=[{label:"Message intermediate catch event",actionName:"message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer intermediate catch event",actionName:"timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link intermediate catch event",actionName:"link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link intermediate throw event",actionName:"link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation intermediate throw event",actionName:"compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal intermediate catch event",actionName:"signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}].map(n=>({...n,group:W5})),KVt=[{label:"Message boundary event",actionName:"message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer boundary event",actionName:"timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation boundary event",actionName:"escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional boundary event",actionName:"conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Error boundary event",actionName:"error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel boundary event",actionName:"cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Signal boundary event",actionName:"signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Compensation boundary event",actionName:"compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message boundary event (non-interrupting)",actionName:"non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer boundary event (non-interrupting)",actionName:"non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation boundary event (non-interrupting)",actionName:"non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional boundary event (non-interrupting)",actionName:"non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal boundary event (non-interrupting)",actionName:"non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}].map(n=>({...n,group:W5})),YVt=[{label:"Message end event",actionName:"message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation end event",actionName:"escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error end event",actionName:"error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel end event",actionName:"cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation end event",actionName:"compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal end event",actionName:"signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate end event",actionName:"terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}].map(n=>({...n,group:W5})),XVt=[{label:"Exclusive gateway",actionName:"exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel gateway",actionName:"parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive gateway",search:"or",actionName:"inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"},rank:-1},{label:"Complex gateway",actionName:"complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"},rank:-1},{label:"Event-based gateway",actionName:"event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}].map(n=>({...n,group:UVt})),ZVt=[{label:"Call activity",actionName:"call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Transaction",actionName:"transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",search:"subprocess",actionName:"event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub-process (collapsed)",search:"subprocess",actionName:"collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub-process (expanded)",search:"subprocess",actionName:"expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}].map(n=>({...n,group:HVt})),p8e=[...XVt,...[{label:"Task",actionName:"task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User task",actionName:"user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service task",actionName:"service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send task",actionName:"send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"},rank:-1},{label:"Receive task",actionName:"receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"},rank:-1},{label:"Manual task",actionName:"manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"},rank:-1},{label:"Business rule task",actionName:"rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script task",actionName:"script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}}].map(n=>({...n,group:VVt})),...ZVt,...qVt,...WVt,...GVt,...YVt,...KVt,...[{label:"Data store reference",actionName:"data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}},{label:"Data object reference",actionName:"data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}].map(n=>({...n,group:$Vt})),...[{label:"Expanded pool/participant",search:"Non-empty pool/participant",actionName:"expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:"Empty pool/participant",search:"Collapsed pool/participant",actionName:"collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}].map(n=>({...n,group:zVt}))];function z1(n,t,i,s,o,a,l){this._elementFactory=n,this._popupMenu=t,this._create=i,this._autoPlace=s,this._rules=o,this._create=i,this._mouse=a,this._translate=l,this.register()}function G5(n,t,i,s,o){this._contextPad=n,this._popupMenu=t,this._translate=i,this._canvas=s,this._rules=o,this.register()}function iG(n,t){t&&(n.super_=t,n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}function sm(n,t){var i=K_(n);return i&&"function"==typeof i.$instanceOf&&i.$instanceOf(t)}function f8e(n,t){return function LVt(n,t){return!!u8e(n,t)}(t,function(i){return sm(n,i)})}function K_(n){return n&&n.businessObject||n}function Mc(n){this._eventBus=n}function Yf(n){return function(i,s,o,a,l){(U5(i)||l8e(i))&&(l=a,a=o,o=s,s=i,i=null),this.on(i,n,s,o,a,l)}}function Y_(n){Mc.call(this,n),this.init()}function jk(n){Y_.call(this,n)}z1.$inject=["elementFactory","popupMenu","create","autoPlace","rules","mouse","translate"],z1.prototype.register=function(){this._popupMenu.registerProvider("bpmn-append",this)},z1.prototype.getPopupMenuEntries=function(n){const i=this._translate,s={};return this._rules.allowed("shape.append",{element:n})?(this._filterEntries(p8e).forEach(a=>{const{actionName:l,className:c,label:u,target:d,description:p,group:f,search:h,rank:m}=a;s[`append-${l}`]={label:u&&i(u),className:c,description:p,group:f&&{...f,name:i(f.name)},search:h,rank:m,action:this._createEntryAction(n,d)}}),s):[]},z1.prototype._filterEntries=function(n){return n.filter(t=>{const i=t.target,{type:s,eventDefinitionType:o}=i;return!(["bpmn:StartEvent","bpmn:Participant"].includes(s)||"bpmn:BoundaryEvent"===s&&o8e(o))})},z1.prototype._createEntryAction=function(n,t){const i=this._elementFactory,s=this._autoPlace,o=this._create,a=this._mouse,c=u=>{const d=i.create("shape",t);return u instanceof KeyboardEvent&&(u=a.getLastMoveEvent()),o.start(u,d,{source:n})};return{click:this._canAutoPlaceElement(t)?()=>{const u=i.create("shape",t);s.append(n,u)}:c,dragstart:c}},z1.prototype._canAutoPlaceElement=n=>{const{type:t}=n;return!("bpmn:BoundaryEvent"===t||"bpmn:SubProcess"===t&&n.triggeredByEvent||"bpmn:IntermediateCatchEvent"===t&&"bpmn:LinkEventDefinition"===n.eventDefinitionType)},G5.$inject=["contextPad","popupMenu","translate","canvas","rules"],G5.prototype.register=function(){this._contextPad.registerProvider(this)},G5.prototype.getContextPadEntries=function(n){const t=this._popupMenu,i=this._translate,s=this._rules,o=this._getAppendMenuPosition.bind(this);if(s.allowed("shape.append",{element:n}))return{append:{group:"model",html:'<div class="entry"><svg width="22" height="22" viewBox="0 0 5.82 5.82" xmlns="http://www.w3.org/2000/svg" fill="currentColor">\n  <path d="M1.3 3.4c.3 0 .5-.2.5-.5s-.2-.4-.5-.4c-.2 0-.4.1-.4.4 0 .3.2.5.4.5zM3 3.4c.2 0 .4-.2.4-.5s-.2-.4-.4-.4c-.3 0-.5.1-.5.4 0 .3.2.5.5.5zM4.6 3.4c.2 0 .4-.2.4-.5s-.2-.4-.4-.4c-.3 0-.5.1-.5.4 0 .3.2.5.5.5z"/>\n</svg></div>',title:i("Append element"),action:{click:function(a,l){const c=q5(o(l),{cursor:{x:a.x,y:a.y}});t.open(l,"bpmn-append",c,{title:i("Append element"),width:300,search:!0})}}}}},G5.prototype._getAppendMenuPosition=function(n){const o=this._contextPad.getPad(n).html.getBoundingClientRect();return{x:o.right+5,y:o.top}},Mc.$inject=["eventBus"],Mc.prototype.on=function(n,t,i,s,o,a){if((U5(t)||l8e(t))&&(a=o,o=s,s=i,i=t,t=null),U5(i)&&(a=o,o=s,s=i,i=1e3),a8e(o)&&(a=o,o=!1),!U5(s))throw new Error("handlerFn must be a function");rG(n)||(n=[n]);var l=this._eventBus;d8e(n,function(c){var u=["commandStack",c,t].filter(function(d){return d}).join(".");l.on(u,i,o?function o$t(n,t){return function(i){return n.call(t||null,i.context,i.command,i)}}(s,a):s,a)})},Mc.prototype.canExecute=Yf("canExecute"),Mc.prototype.preExecute=Yf("preExecute"),Mc.prototype.preExecuted=Yf("preExecuted"),Mc.prototype.execute=Yf("execute"),Mc.prototype.executed=Yf("executed"),Mc.prototype.postExecute=Yf("postExecute"),Mc.prototype.postExecuted=Yf("postExecuted"),Mc.prototype.revert=Yf("revert"),Mc.prototype.reverted=Yf("reverted"),Y_.$inject=["eventBus"],iG(Y_,Mc),Y_.prototype.addRule=function(n,t,i){var s=this;"string"==typeof n&&(n=[n]),n.forEach(function(o){s.canExecute(o,t,function(a,l,c){return i(a)},!0)})},Y_.prototype.init=function(){},iG(jk,Y_),jk.$inject=["eventBus"],jk.prototype.init=function(){this.addRule("shape.append",function(n){const t=n.element,i=K_(t);if(function i$t(n){return a8e(n)&&c8e(n,"labelTarget")}(t)||f8e(t,["bpmn:EndEvent","bpmn:Group","bpmn:TextAnnotation","bpmn:Lane","bpmn:Participant","bpmn:DataStoreReference","bpmn:DataObjectReference"])||function l$t(n){return n.waypoints}(t)||sm(t,"bpmn:IntermediateThrowEvent")&&function a$t(n,t){return!!u8e(K_(n).eventDefinitions||[],function(s){return sm(s,t)})}(t,"bpmn:LinkEventDefinition")||sm(t,"bpmn:SubProcess")&&i.triggeredByEvent)return!1})};var Vk,sG={__init__:["appendMenuProvider","appendContextPadProvider","appendRules"],appendMenuProvider:["type",z1],appendContextPadProvider:["type",G5],appendRules:["type",jk]};function K5(n,t,i,s,o,a){this._elementFactory=n,this._popupMenu=t,this._create=i,this._autoPlace=s,this._mouse=o,this._translate=a,this.register()}function $k(n,t,i,s,o){this._palette=n,this._translate=t,this._popupMenu=i,this._canvas=s,this._mouse=o,this.register()}K5.$inject=["elementFactory","popupMenu","create","autoPlace","mouse","translate"],K5.prototype.register=function(){this._popupMenu.registerProvider("bpmn-create",this)},K5.prototype.getPopupMenuEntries=function(){const n={};return p8e.forEach(t=>{const{actionName:i,className:s,label:o,target:a,description:l,group:c,search:u,rank:d}=t,p=this._createEntryAction(a);n[`create-${i}`]={label:o&&this._translate(o),className:s,description:l,group:c&&{...c,name:this._translate(c.name)},search:u,rank:d,action:{click:p,dragstart:p}}}),n},K5.prototype._createEntryAction=function(n){const t=this._create,i=this._mouse,s=this._popupMenu,o=this._elementFactory;let a;return l=>(s.close(),a="bpmn:Participant"===n.type?o.createParticipantShape(n):o.create("shape",n),l instanceof KeyboardEvent&&(l=i.getLastMoveEvent()),t.start(l,a))},typeof document<"u"&&((Vk=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',Vk.getElementsByTagName("link"),Vk=void 0),$k.$inject=["palette","translate","popupMenu","canvas","mouse"],$k.prototype.register=function(){this._palette.registerProvider(900,this)},$k.prototype.getPaletteEntries=function(n){const t=this._translate,i=this._popupMenu,s=this._canvas,o=this._mouse;return{create:{group:"create",html:'<div class="entry"> <svg width="46" height="46" viewBox="-2 -2 9.82 9.82" xmlns="http://www.w3.org/2000/svg" fill="currentColor">\n  <path d="M1.3 3.4c.3 0 .5-.2.5-.5s-.2-.4-.5-.4c-.2 0-.4.1-.4.4 0 .3.2.5.4.5zM3 3.4c.2 0 .4-.2.4-.5s-.2-.4-.4-.4c-.3 0-.5.1-.5.4 0 .3.2.5.5.5zM4.6 3.4c.2 0 .4-.2.4-.5s-.2-.4-.4-.4c-.3 0-.5.1-.5.4 0 .3.2.5.5.5z"/>\n</svg></div>',title:t("Create element"),action:{click:function(l){const c=(l=>{if(l instanceof KeyboardEvent)return{x:(l=o.getLastMoveEvent()).x,y:l.y};const d=l&&l.target||function c$t(n,t){return(t=t||document).querySelector(n)}('.djs-palette [data-action="create"]'),p=d.getBoundingClientRect();return d&&{x:p.left+p.width/2+35,y:p.top+p.height/2+10}})(l),u=s.getRootElement();i.open(u,"bpmn-create",c,{title:t("Create element"),width:300,search:!0})}}}}};var oG={__init__:["createMenuProvider","createPaletteProvider"],createMenuProvider:["type",K5],createPaletteProvider:["type",$k]};function aG(n){this._injector=n,this.registerActions()}aG.$inject=["injector"],aG.prototype.registerActions=function(){const n=this._injector.get("editorActions",!1),t=this._injector.get("selection",!1),i=this._injector.get("contextPad",!1),s=this._injector.get("palette",!1),o=this._injector.get("popupMenu",!1),a={};t&&i&&s&&o&&s&&q5(a,{appendElement:function(l){const c=t&&t.get();1!=c.length||o.isEmpty(c[0],"bpmn-append")?s.triggerEntry("create","click",l):i.triggerEntry("append","click",l)}}),s&&q5(a,{createElement:function(l){s.triggerEntry("create","click",l)}}),n&&n.register(a)};var d$t={__depends__:[sG,oG],__init__:["createAppendEditorActions"],createAppendEditorActions:["type",aG]},p$t=["c","C"],f$t=["v","V"],h$t=["y","Y"],h8e=["z","Z"];function H1(n){return!n.altKey&&(n.ctrlKey||n.metaKey)}function Xf(n,t){return-1!==(n=rG(n)?n:[n]).indexOf(t.key)||-1!==n.indexOf(t.code)}function m8e(n){return n.shiftKey}function Y5(n,t){var i=this;n.on("editorActions.init",500,function(s){i.registerBindings(t,s.editorActions)})}function zk(n){this._injector=n,this._keyboard=this._injector.get("keyboard",!1),this._editorActions=this._injector.get("editorActions",!1),this._keyboard&&this._injector.invoke(Y5,this)}Y5.$inject=["eventBus","keyboard"],Y5.prototype.registerBindings=function(n,t){function i(s,o){t.isRegistered(s)&&n.addListener(o)}i("undo",function(s){if(function y$t(n){return H1(n)&&!m8e(n)&&Xf(h8e,n)}(s.keyEvent))return t.trigger("undo"),!0}),i("redo",function(s){if(function v$t(n){return H1(n)&&(Xf(h$t,n)||Xf(h8e,n)&&m8e(n))}(s.keyEvent))return t.trigger("redo"),!0}),i("copy",function(s){if(function m$t(n){return H1(n)&&Xf(p$t,n)}(s.keyEvent))return t.trigger("copy"),!0}),i("paste",function(s){if(function g$t(n){return H1(n)&&Xf(f$t,n)}(s.keyEvent))return t.trigger("paste"),!0}),i("stepZoom",function(s){var o=s.keyEvent;if(Xf(["+","Add","="],o)&&H1(o))return t.trigger("stepZoom",{value:1}),!0}),i("stepZoom",function(s){var o=s.keyEvent;if(Xf(["-","Subtract"],o)&&H1(o))return t.trigger("stepZoom",{value:-1}),!0}),i("zoom",function(s){var o=s.keyEvent;if(Xf("0",o)&&H1(o))return t.trigger("zoom",{value:1}),!0}),i("removeSelection",function(s){if(Xf(["Backspace","Delete","Del"],s.keyEvent))return t.trigger("removeSelection"),!0})},iG(zk,Y5),zk.$inject=["injector"],zk.prototype.registerBindings=function(){const n=this._keyboard,t=this._editorActions;function i(s,o){t&&t.isRegistered(s)&&n&&n.addListener(o)}Y5.prototype.registerBindings.call(this,n,t),i("appendElement",function(s){const o=s.keyEvent;if((!n||!n.hasModifier(o))&&n&&n.isKey(["a","A"],o))return t&&t.trigger("appendElement",o),!0}),i("createElement",function(s){const o=s.keyEvent;if((!n||!n.hasModifier(o))&&n&&n.isKey(["n","N"],o))return t&&t.trigger("createElement",o),!0})};var E$t={__depends__:[sG,oG,d$t,{__depends__:[sG,oG],__init__:["createAppendKeyboardBindings"],createAppendKeyboardBindings:["type",zk]}]};function U1(n,t,i,s,o,a,l){this._popupMenu=n,this._translate=t,this._elementTemplates=i,this._autoPlace=s,this._create=o,this._mouse=a,this._rules=l,this.register()}U1.$inject=["popupMenu","translate","elementTemplates","autoPlace","create","move","rules"],U1.prototype.register=function(){this._popupMenu.registerProvider("bpmn-append",this)},U1.prototype.getPopupMenuEntries=function(n){return t=>{if(!this._rules.allowed("shape.append",{element:n}))return[];const i=this._filterTemplates(this._elementTemplates.getLatest());return q5(t,this.getTemplateEntries(n,i)),t}},U1.prototype.getTemplateEntries=function(n,t){const i={};return t.map(s=>{const{icon:o={},category:a}=s,l=`append.template-${s.id}`,c={id:"templates",name:this._translate("Templates")};i[l]={label:s.name,description:s.description,documentationRef:s.documentationRef,imageUrl:o.contents,group:a||c,action:this._getEntryAction(n,s)}}),i},U1.prototype._filterTemplates=function(n){return n.filter(t=>{const{appliesTo:i,elementType:s}=t,o=s&&s.value||i[0];return!(["bpmn:StartEvent","bpmn:Participant"].includes(o)||"bpmn:SequenceFlow"===o)})},U1.prototype._getEntryAction=function(n,t){return{click:()=>{const i=this._elementTemplates.createElement(t);this._autoPlace.append(n,i)},dragstart:i=>{const s=this._elementTemplates.createElement(t);i instanceof KeyboardEvent&&(i=this._mouse.getLastMoveEvent()),this._create.start(i,s,{source:n})}}};var w$t={__init__:["elementTemplatesAppendProvider"],elementTemplatesAppendProvider:["type",U1]};function X_(n,t,i,s,o){this._popupMenu=n,this._translate=t,this._elementTemplates=i,this._mouse=s,this._create=o,this.register()}X_.$inject=["popupMenu","translate","elementTemplates","mouse","create"],X_.prototype.register=function(){this._popupMenu.registerProvider("bpmn-create",this)},X_.prototype.getPopupMenuEntries=function(n){return t=>(q5(t,this.getTemplateEntries(n)),t)},X_.prototype.getTemplateEntries=function(){const n=this._elementTemplates.getLatest(),t={};return n.map(i=>{const{icon:s={},category:o}=i,a=`create.template-${i.id}`,l={id:"templates",name:this._translate("Templates")};t[a]={label:i.name,description:i.description,documentationRef:i.documentationRef,imageUrl:s.contents,group:o||l,action:{click:this._getEntryAction(i),dragstart:this._getEntryAction(i)}}}),t},X_.prototype._getEntryAction=function(n){const t=this._create,i=this._popupMenu,s=this._elementTemplates,o=this._mouse;return a=>{i.close();let l=s.createElement(n);return a instanceof KeyboardEvent&&(a=o.getLastMoveEvent()),t.start(a,l)}};var x$t={__init__:["elementTemplatesCreateProvider"],elementTemplatesCreateProvider:["type",X_]};function Z_(n,t,i){this._popupMenu=n,this._translate=t,this._elementTemplates=i,this.register()}Z_.$inject=["popupMenu","translate","elementTemplates"],Z_.prototype.register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},Z_.prototype.getPopupMenuEntries=function(n){return t=>{let i=Object.entries(t);return i=[...i,...this.getTemplateEntries(n)],i.reduce((s,[o,a])=>(s[o]=a,s),{})}},Z_.prototype.getTemplateEntries=function(n){return this._getMatchingTemplates(n).map(i=>{const{icon:s={},category:o}=i,a=`replace.template-${i.id}`,l={id:"templates",name:this._translate("Templates")};return[a,{label:i.name,description:i.description,documentationRef:i.documentationRef,imageUrl:s.contents,group:o||l,action:()=>{this._elementTemplates.applyTemplate(n,i)}}]})},Z_.prototype._getMatchingTemplates=function(n){return this._elementTemplates.getLatest().filter(t=>f8e(n,t.appliesTo)&&!function C$t(n,t){const i=K_(n);return!!i&&i.get("zeebe:modelerTemplate")===t.id}(n,t))};var S$t={__init__:["elementTemplatesReplaceProvider"],elementTemplatesReplaceProvider:["type",Z_]};var g8e=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}];const H$t=Object.values(Object.freeze({__proto__:null,BOUNDARY_EVENT:[{label:"Message boundary event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!0}},{label:"Timer boundary event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!0}},{label:"Escalation boundary event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!0}},{label:"Conditional boundary event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!0}},{label:"Error boundary event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",cancelActivity:!0}},{label:"Cancel boundary event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition",cancelActivity:!0}},{label:"Signal boundary event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!0}},{label:"Compensation boundary event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",cancelActivity:!0}},{label:"Message boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],DATA_OBJECT_REFERENCE:[{label:"Data store reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],DATA_STORE_REFERENCE:[{label:"Data object reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],END_EVENT:[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel end event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate end event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],EVENT_SUB_PROCESS:g8e,EVENT_SUB_PROCESS_START_EVENT:[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!0}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!0}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!0}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!0}},{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",isInterrupting:!0}},{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!0}},{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",isInterrupting:!0}},{label:"Message start event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer start event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional start event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal start event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation start event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],GATEWAY:[{label:"Exclusive gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event-based gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],INTERMEDIATE_EVENT:[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link intermediate catch event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link intermediate throw event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],PARTICIPANT:[{label:"Expanded pool/participant",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(n){var t="Empty pool/participant";return n.children&&n.children.length&&(t+=" (removes content)"),t},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}],SEQUENCE_FLOW:[{label:"Sequence flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],START_EVENT:[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],START_EVENT_SUB_PROCESS:[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],SUBPROCESS_EXPANDED:[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],TASK:[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business rule task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub-process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}],TRANSACTION:g8e}));function Q_(n,t,i){this._popupMenu=n,this._translate=t,this._elementTemplates=i,this.register()}function y8e(n,t,i){const s=n[t];return!!s&&i.findIndex(([o])=>o===s.actionName)}Q_.$inject=["popupMenu","translate","elementTemplates"],Q_.prototype.register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},Q_.prototype.getPopupMenuEntries=function(n){return t=>{let i=Object.entries(t);return this._elementTemplates&&this._elementTemplates.get(n)&&this.addPlainElementEntry(n,i,this._translate,this._elementTemplates),i.reduce((s,[o,a])=>(s[o]=a,s),{})}},Q_.prototype.addPlainElementEntry=function(n,t,i,s){const o=this.getPlainEntry(n,t,i,s);if(!o)return;const[a,l]=o;t.splice(a,0,[l.id,l])},Q_.prototype.getPlainEntry=function(n,t,i,s){const{options:o,option:a,optionIndex:l}=function q$t(n){const t=(i,s)=>s.target&&!function T$t(n){return function(t){var i=t.target,s=K_(n),o=s.eventDefinitions&&s.eventDefinitions[0],a=s.$type===i.type,l=(o&&o.$type)===i.eventDefinitionType,c=!!i.triggeredByEvent==!!s.triggeredByEvent,u=void 0===i.isExpanded||i.isExpanded===function O$t(n,t){return!sm(n,"bpmn:CallActivity")&&(sm(n,"bpmn:SubProcess")?(t=t||function r$t(n){return n&&n.di}(n),!(!t||!sm(t,"bpmndi:BPMNPlane"))||t&&!!t.isExpanded):!sm(n,"bpmn:Participant")||!!K_(n).processRef)}(n);return!(a&&l&&c&&u)}}(i)(s);return function U$t(){return H$t}().reduce((i,s)=>{if(i)return i;const o=s.findIndex(a=>t(n,a));return-1!==o?{options:s,option:s[o],optionIndex:o}:void 0},null)}(n)||{};if(!o)return null;const c={id:"replace-remove-element-template",action:()=>{s.removeTemplate(n)},label:i(a.label),className:a.className},u=y8e(o,l-1,t);if(u)return[u+1,c];const d=y8e(o,l+1,t);return d?[d,c]:[0,c]};var G$t={__depends__:[w$t,x$t,S$t,{__init__:["removeTemplateReplaceProvider"],removeTemplateReplaceProvider:["type",Q_]}]};function q1(n={}){n={...n,moddleExtensions:{...sle,...n.moddleExtensions},propertiesPanel:{tooltip:lMt,...n.propertiesPanel}},this._addElementTemplateChooserModule(n),K0.call(this,n)}Lt(q1,K0),q1.prototype._addElementTemplateChooserModule=function(n){const{elementTemplateChooser:t}=n;!1!==t&&(this._modules=[...this._modules,RVt])},q1.prototype._camundaCloudModules=[...ile,t7t,mOt,WIt,E$t,G$t,AVt,zNt,eLt,TVt],q1.prototype._modules=[].concat(K0.prototype._modules,q1.prototype._camundaCloudModules);const K$t=["modeler"],Y$t=["properties"];let X$t=(()=>{class n{constructor(i){this.execPlanService=i}ngAfterViewInit(){this.modeler=new q1({container:this.modelerElt.nativeElement,propertiesPanel:{parent:this.properties.nativeElement},height:"calc(100vh - 50px)",position:"center",additionalModules:[cO]}),this.modeler.importXML(this.execPlanService.executionPlan.xml)}save(){this.modeler.saveXML().then(i=>{this.execPlanService.updateDef(i.xml)})}static{this.\u0275fac=function(s){return new(s||n)(Tt(Vd))}}static{this.\u0275cmp=Ga({type:n,selectors:[["app-modeler"]],viewQuery:function(s,o){if(1&s&&(pa(K$t,5),pa(Y$t,5)),2&s){let a;fa(a=ha())&&(o.modelerElt=a.first),fa(a=ha())&&(o.properties=a.first)}},standalone:!1,decls:8,vars:0,consts:[["modeler",""],["properties",""],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-floppy"],[1,"main"],[1,"modeler"],[1,"properties-panel"]],template:function(s,o){if(1&s){const a=wn();ne(0,"button",2),Mt("click",function(){return mt(a),gt(o.save())}),qt(1,"i",3),Se(2," Save modifications"),ie(),ne(3,"div",4),qt(4,"div",5,0)(6,"div",6,1),ie()}},styles:[".main[_ngcontent-%COMP%]{display:flex;flex:1 1 0%;overflow-x:hidden}.modeler[_ngcontent-%COMP%]{display:flex;flex:1 1 0%;position:relative;background-color:#fff;outline:none}.properties-panel[_ngcontent-%COMP%]{width:400px;max-height:calc(-48px + 100vh);position:relative;margin-top:-1px}"]})}}return n})();var X5=Object.prototype.toString,Z$t=Object.prototype.hasOwnProperty;function lG(n){return"[object Array]"===X5.call(n)}function W1(n){return"[object String]"===X5.call(n)}function _8e(n,t){return Z$t.call(n,t)}function cG(n,t){var i;return t=fG(t),wr(n,function(s,o){if(t(s,o))return i=s,!1}),i}function uG(n,t){var i=[];return wr(n,function(s,o){t(s,o)&&i.push(s)}),i}function wr(n,t){var i;if(!function Z5(n){return void 0===n}(n)){var o=lG(n)?ozt:szt;for(var a in n)if(_8e(n,a)&&!1===t(i=n[a],o(a)))return i}}function fG(n){return function b8e(n){var t=X5.call(n);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}(n)?n:function(t){return t===n}}function szt(n){return n}function ozt(n){return Number(n)}function J_(n,t){return n.bind(t)}function hG(){return hG=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},hG.apply(this,arguments)}function oo(n){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return hG.apply(void 0,[n].concat(i))}function mG(){}function E8e(n,t){this.model=n,this.properties=t}mG.prototype.get=function(n){return this.$model.properties.get(this,n)},mG.prototype.set=function(n,t){this.$model.properties.set(this,n,t)},E8e.prototype.createType=function(n){var t=this.model,i=this.properties,s=Object.create(mG.prototype);wr(n.properties,function(l){!l.isMany&&void 0!==l.default&&(s[l.name]=l.default)}),i.defineModel(s,t),i.defineDescriptor(s,n);var o=n.ns.name;function a(l){i.define(this,"$type",{value:o,enumerable:!0}),i.define(this,"$attrs",{value:{}}),i.define(this,"$parent",{writable:!0}),wr(l,J_(function(c,u){this.set(u,c)},this))}return a.prototype=s,a.hasType=s.$instanceOf=this.model.hasType,i.defineModel(a,t),i.defineDescriptor(a,n),a};var czt={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},w8e={String:function(n){return n},Boolean:function(n){return"true"===n},Integer:function(n){return parseInt(n,10)},Real:function(n){return parseFloat(n)}};function gG(n,t){var i=w8e[n];return i?i(t):t}function yG(n){return!!czt[n]}function x8e(n){return!!w8e[n]}function dl(n,t){var s,o,i=n.split(/:/);if(1===i.length)s=n,o=t;else{if(2!==i.length)throw new Error("expected <prefix:localName> or <localName>, got "+n);s=i[1],o=i[0]}return{name:n=(o?o+":":"")+s,prefix:o,localName:s}}function _u(n){this.ns=n,this.name=n.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function om(n,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,wr(n,J_(this.registerPackage,this))}function C8e(n,t,i){var s=t[i];if(s in n)throw new Error("package with "+i+" <"+s+"> already defined")}function e2(n){this.model=n}function S8e(n,t,i){Object.defineProperty(n,t.name,{enumerable:!t.isReference,writable:!0,value:i,configurable:!0})}function Eu(n){this.properties=new e2(this),this.factory=new E8e(this,this.properties),this.registry=new om(n,this.properties),this.typeCache={}}function O8e(n){return n.xml&&"lowerCase"===n.xml.tagAlias}_u.prototype.build=function(){return function azt(n,t){var i={},s=Object(n);return wr(t,function(o){o in s&&(i[o]=n[o])}),i}(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},_u.prototype.addProperty=function(n,t,i){"boolean"==typeof t&&(i=t,t=void 0),this.addNamedProperty(n,!1!==i);var s=this.properties;void 0!==t?s.splice(t,0,n):s.push(n)},_u.prototype.replaceProperty=function(n,t,i){var s=n.ns,o=this.properties,a=this.propertiesByName,l=n.name!==t.name;if(n.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+n.ns.name+">");this.setIdProperty(t,!1)}if(n.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+n.ns.name+">");this.setBodyProperty(t,!1)}var c=o.indexOf(n);if(-1===c)throw new Error("property <"+s.name+"> not found in property list");o.splice(c,1),this.addProperty(t,i?void 0:c,l),a[s.name]=a[s.localName]=t},_u.prototype.redefineProperty=function(n,t,i){var s=n.ns.prefix,o=t.split("#"),a=dl(o[0],s),l=dl(o[1],a.prefix).name,c=this.propertiesByName[l];if(!c)throw new Error("refined property <"+l+"> not found");this.replaceProperty(c,n,i),delete n.redefines},_u.prototype.addNamedProperty=function(n,t){var i=n.ns,s=this.propertiesByName;t&&(this.assertNotDefined(n,i.name),this.assertNotDefined(n,i.localName)),s[i.name]=s[i.localName]=n},_u.prototype.removeNamedProperty=function(n){var t=n.ns,i=this.propertiesByName;delete i[t.name],delete i[t.localName]},_u.prototype.setBodyProperty=function(n,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+n.ns.name+">)");this.bodyProperty=n},_u.prototype.setIdProperty=function(n,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+n.ns.name+">)");this.idProperty=n},_u.prototype.assertNotDefined=function(n,t){var i=n.name,s=this.propertiesByName[i];if(s)throw new Error("property <"+i+"> already defined; override of <"+s.definedBy.ns.name+"#"+s.ns.name+"> by <"+n.definedBy.ns.name+"#"+n.ns.name+"> not allowed without redefines")},_u.prototype.hasProperty=function(n){return this.propertiesByName[n]},_u.prototype.addTrait=function(n,t){var i=this.allTypesByName,s=this.allTypes,o=n.name;o in i||(wr(n.properties,J_(function(a){a=oo({},a,{name:a.ns.localName,inherited:t}),Object.defineProperty(a,"definedBy",{value:n});var l=a.replaces,c=a.redefines;l||c?this.redefineProperty(a,l||c,l):(a.isBody&&this.setBodyProperty(a),a.isId&&this.setIdProperty(a),this.addProperty(a))},this)),s.push(n),i[o]=n)},om.prototype.getPackage=function(n){return this.packageMap[n]},om.prototype.getPackages=function(){return this.packages},om.prototype.registerPackage=function(n){n=oo({},n);var t=this.packageMap;C8e(t,n,"prefix"),C8e(t,n,"uri"),wr(n.types,J_(function(i){this.registerType(i,n)},this)),t[n.uri]=t[n.prefix]=n,this.packages.push(n)},om.prototype.registerType=function(n,t){var i=dl((n=oo({},n,{superClass:(n.superClass||[]).slice(),extends:(n.extends||[]).slice(),properties:(n.properties||[]).slice(),meta:oo(n.meta||{})})).name,t.prefix),s=i.name,o={};wr(n.properties,J_(function(a){var l=dl(a.name,i.prefix),c=l.name;yG(a.type)||(a.type=dl(a.type,l.prefix).name),oo(a,{ns:l,name:c}),o[c]=a},this)),oo(n,{ns:i,name:s,propertiesByName:o}),wr(n.extends,J_(function(a){var l=this.typeMap[a];l.traits=l.traits||[],l.traits.push(s)},this)),this.definePackage(n,t),this.typeMap[s]=n},om.prototype.mapTypes=function(n,t,i){var s=yG(n.name)?{name:n.name}:this.typeMap[n.name],o=this;function a(c){return l(c,!0)}function l(c,u){var d=dl(c,yG(c)?"":n.prefix);o.mapTypes(d,t,u)}if(!s)throw new Error("unknown type <"+n.name+">");wr(s.superClass,i?a:l),t(s,!i),wr(s.traits,a)},om.prototype.getEffectiveDescriptor=function(n){var t=dl(n),i=new _u(t);this.mapTypes(t,function(o,a){i.addTrait(o,a)});var s=i.build();return this.definePackage(s,s.allTypes[s.allTypes.length-1].$pkg),s},om.prototype.definePackage=function(n,t){this.properties.define(n,"$pkg",{value:t})},e2.prototype.set=function(n,t,i){if(!W1(t)||!t.length)throw new TypeError("property name must be a non-empty string");var s=this.model.getPropertyDescriptor(n,t),o=s&&s.name;!function uzt(n){return typeof n>"u"}(i)?s?o in n?n[o]=i:S8e(n,s,i):n.$attrs[t]=i:s?delete n[o]:delete n.$attrs[t]},e2.prototype.get=function(n,t){var i=this.model.getPropertyDescriptor(n,t);if(!i)return n.$attrs[t];var s=i.name;return!n[s]&&i.isMany&&S8e(n,i,[]),n[s]},e2.prototype.define=function(n,t,i){if(!i.writable){var s=i.value;delete(i=oo({},i,{get:function(){return s}})).value}Object.defineProperty(n,t,i)},e2.prototype.defineDescriptor=function(n,t){this.define(n,"$descriptor",{value:t})},e2.prototype.defineModel=function(n,t){this.define(n,"$model",{value:t})},Eu.prototype.create=function(n,t){var i=this.getType(n);if(!i)throw new Error("unknown type <"+n+">");return new i(t)},Eu.prototype.getType=function(n){var t=this.typeCache,i=W1(n)?n:n.ns.name,s=t[i];return s||(n=this.registry.getEffectiveDescriptor(i),s=t[i]=this.factory.createType(n)),s},Eu.prototype.createAny=function(n,t,i){var s=dl(n),o={$type:n,$instanceOf:function(l){return l===this.$type}};return this.properties.defineDescriptor(o,{name:n,isGeneric:!0,ns:{prefix:s.prefix,localName:s.localName,uri:t}}),this.properties.defineModel(o,this),this.properties.define(o,"$parent",{enumerable:!1,writable:!0}),this.properties.define(o,"$instanceOf",{enumerable:!1,writable:!0}),wr(i,function(l,c){!function Hk(n){return"[object Object]"===X5.call(n)}(l)||void 0===l.value?o[c]=l:o[l.name]=l.value}),o},Eu.prototype.getPackage=function(n){return this.registry.getPackage(n)},Eu.prototype.getPackages=function(){return this.registry.getPackages()},Eu.prototype.getElementDescriptor=function(n){return n.$descriptor},Eu.prototype.hasType=function(n,t){return void 0===t&&(t=n,n=this),t in n.$model.getElementDescriptor(n).allTypesByName},Eu.prototype.getPropertyDescriptor=function(n,t){return this.getElementDescriptor(n).propertiesByName[t]},Eu.prototype.getTypeDescriptor=function(n){return this.registry.typeMap[n]};var dzt={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},qk="xsi:type";function T8e(n){return n.xml&&n.xml.serialize}function P8e(n){return T8e(n)===qk}function D8e(n,t){return O8e(t)?n.prefix+":"+function fzt(n){return n.charAt(0).toUpperCase()+n.slice(1)}(n.localName):n.name}function am(n){return new Error(n)}function Zf(n){return n.$descriptor}function gzt(n){oo(this,n),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(t){this.references.push(t)},this.addElement=function(t){if(!t)throw am("expected element");var a,i=this.elementsById,o=Zf(t).idProperty;if(o&&(a=t.get(o.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(a))throw new Error("illegal ID <"+a+">");if(i[a])throw am("duplicate ID <"+a+">");i[a]=t}},this.addWarning=function(t){this.warnings.push(t)}}function Q5(){}function vG(){}function t2(){}function J5(n,t){this.property=n,this.context=t}function bG(n,t){this.element=t,this.propertyDesc=n}function Wk(){}function La(n,t,i){this.model=n,this.type=n.getType(t),this.context=i}function _G(n,t,i){La.call(this,n,t,i)}function n2(n,t,i){this.model=n,this.context=i}function EG(n){n instanceof Eu&&(n={model:n}),oo(this,{lax:!1},n)}Q5.prototype.handleEnd=function(){},Q5.prototype.handleText=function(){},Q5.prototype.handleNode=function(){},(vG.prototype=Object.create(Q5.prototype)).handleNode=function(){return this},(t2.prototype=Object.create(Q5.prototype)).handleText=function(n){this.body=(this.body||"")+n},(J5.prototype=Object.create(t2.prototype)).handleNode=function(n){if(this.element)throw am("expected no sub nodes");return this.element=this.createReference(n),this},J5.prototype.handleEnd=function(){this.element.id=this.body},J5.prototype.createReference=function(n){return{property:this.property.ns.name,id:""}},(bG.prototype=Object.create(t2.prototype)).handleEnd=function(){var n=this.body||"",t=this.element,i=this.propertyDesc;n=gG(i.type,n),i.isMany?t.get(i.name).push(n):t.set(i.name,n)},(Wk.prototype=Object.create(t2.prototype)).handleNode=function(n){var t=this,i=this.element;return i?t=this.handleChild(n):(i=this.element=this.createElement(n),this.context.addElement(i)),t},(La.prototype=Object.create(Wk.prototype)).addReference=function(n){this.context.addReference(n)},La.prototype.handleText=function(n){if(!Zf(this.element).bodyProperty)throw am("unexpected body text <"+n+">");t2.prototype.handleText.call(this,n)},La.prototype.handleEnd=function(){var n=this.body,t=this.element,s=Zf(t).bodyProperty;s&&void 0!==n&&(n=gG(s.type,n),t.set(s.name,n))},La.prototype.createElement=function(n){var c,t=n.attributes,i=this.type,s=Zf(i),o=this.context,a=new i({}),l=this.model;return wr(t,function(u,d){var p=s.propertiesByName[d];p&&p.isReference?p.isMany?wr(u.split(" "),function(h){o.addReference({element:a,property:p.ns.name,id:h})}):o.addReference({element:a,property:p.ns.name,id:u}):(p?u=gG(p.type,u):"xmlns"!==d&&(c=dl(d,s.ns.prefix),l.getPackage(c.prefix)&&o.addWarning({message:"unknown attribute <"+d+">",element:a,property:d,value:u})),a.set(d,u))}),a},La.prototype.getPropertyForNode=function(n){var u,d,i=dl(n.name),o=this.model,a=Zf(this.type),c=a.propertiesByName[i.name];if(c&&!c.isAttr)return P8e(c)&&(u=n.attributes[qk])?(u=function mzt(n,t){var i=dl(n);return function hzt(n,t){var i=n.name,s=n.localName,o=t.xml&&t.xml.typePrefix;return o&&0===s.indexOf(o)?n.prefix+":"+s.slice(o.length):i}(i,t.getPackage(i.prefix))}(u,o),oo({},c,{effectiveType:Zf(d=o.getType(u)).name})):c;var p=o.getPackage(i.prefix);if(p){if(u=D8e(i,p),d=o.getType(u),c=cG(a.properties,function(f){return!f.isVirtual&&!f.isReference&&!f.isAttribute&&d.hasType(f.type)}))return oo({},c,{effectiveType:Zf(d).name})}else if(c=cG(a.properties,function(f){return!f.isReference&&!f.isAttribute&&"Element"===f.type}))return c;throw am("unrecognized element <"+i.name+">")},La.prototype.toString=function(){return"ElementDescriptor["+Zf(this.type).name+"]"},La.prototype.valueHandler=function(n,t){return new bG(n,t)},La.prototype.referenceHandler=function(n){return new J5(n,this.context)},La.prototype.handler=function(n){return"Element"===n?new n2(this.model,n,this.context):new La(this.model,n,this.context)},La.prototype.handleChild=function(n){var t,i,s,o;if(t=this.getPropertyForNode(n),s=this.element,x8e(i=t.effectiveType||t.type))return this.valueHandler(t,s);var a=(o=t.isReference?this.referenceHandler(t).handleNode(n):this.handler(i).handleNode(n)).element;return void 0!==a&&(t.isMany?s.get(t.name).push(a):s.set(t.name,a),t.isReference?(oo(a,{element:s}),this.context.addReference(a)):a.$parent=s),o},(_G.prototype=Object.create(La.prototype)).createElement=function(n){var t=n.name,i=dl(t),o=this.type,a=this.model.getPackage(i.prefix),l=a&&D8e(i,a)||t;if(!o.hasType(l))throw am("unexpected element <"+n.originalName+">");return La.prototype.createElement.call(this,n)},(n2.prototype=Object.create(Wk.prototype)).createElement=function(n){var t=n.name,i=dl(t);return this.model.createAny(t,n.ns[i.prefix+"$uri"],n.attributes)},n2.prototype.handleChild=function(n){var t=new n2(this.model,"Element",this.context).handleNode(n),i=this.element,s=t.element;return void 0!==s&&((i.$children=i.$children||[]).push(s),s.$parent=i),t},n2.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},EG.prototype.fromXML=function(n,t,i){var s=t.rootHandler;t instanceof La?(s=t,t={}):"string"==typeof t?(s=this.handler(t),t={}):"string"==typeof s&&(s=this.handler(s));var o=this.model,a=this.lax,l=new gzt(oo({},t,{rootHandler:s})),c=new BN({proxy:!0}),u=function yzt(){var n=[];return Object.defineProperty(n,"peek",{value:function(){return this[this.length-1]}}),n}();function d(w,C,P){var D=C(),I=D.line,k=D.column,F=D.data;"<"===F.charAt(0)&&-1!==F.indexOf(" ")&&(F=F.slice(0,F.indexOf(" "))+">");var M="unparsable content "+(F?F+" ":"")+"detected\n\tline: "+I+"\n\tcolumn: "+k+"\n\tnested error: "+w.message;if(P)return l.addWarning({message:M,error:w}),!0;throw am(M)}function p(w,C){return d(w,C,!0)}s.context=l,u.push(s);var m=/^<\?xml /i,g=/ encoding="([^"]+)"/i,y=/^utf-8$/i;function E(w,C){try{u.peek().handleText(w)}catch(P){p(P,C)}}var b=o.getPackages().reduce(function(w,C){return w[C.uri]=C.prefix,w},{"http://www.w3.org/XML/1998/namespace":"xml"});return c.ns(b).on("openTag",function(w,C,P,D){var I=w.attrs||{},k=Object.keys(I).reduce(function(M,B){var q=C(I[B]);return M[B]=q,M},{});!function _(w,C){var P=u.peek();try{u.push(P.handleNode(w))}catch(D){d(D,C,a)&&u.push(new vG)}}({name:w.name,originalName:w.originalName,attributes:k,ns:w.ns},D)}).on("question",function v(w){if(m.test(w)){var C=g.exec(w),P=C&&C[1];!P||y.test(P)||l.addWarning({message:"unsupported document encoding <"+P+">, falling back to UTF-8"})}}).on("closeTag",function h(){u.pop().handleEnd()}).on("cdata",E).on("text",function(w,C,P){!function x(w,C){w.trim()&&E(w,C)}(C(w),P)}).on("error",d).on("warn",p),new Promise(function(w,C){var P;try{c.parse(n),function f(){var P,D,w=l.elementsById,C=l.references;for(P=0;D=C[P];P++){var I=D.element,k=w[D.id],F=Zf(I).propertiesByName[D.property];if(k||l.addWarning({message:"unresolved reference <"+D.id+">",element:D.element,property:D.property,value:D.id}),F.isMany){var M=I.get(F.name),B=M.indexOf(D);-1===B&&(B=M.length),k?M[B]=k:M.splice(B,1)}else I.set(F.name,k)}}()}catch(M){P=M}var D=s.element;!P&&!D&&(P=am("failed to parse document as <"+s.type.$descriptor.name+">"));var I=l.warnings,k=l.references,F=l.elementsById;return P?(P.warnings=I,C(P)):w({rootElement:D,elementsById:F,references:k,warnings:I})})},EG.prototype.handler=function(n){return new _G(this.model,n)};var bzt=/<|>|'|"|&|\n\r|\n/g,k8e=/<|>|&/g;function _zt(n){var t={},i={},s={},o=[],a=[];this.byUri=function(l){return i[l]||n&&n.byUri(l)},this.add=function(l,c){i[l.uri]=l,c?o.push(l):a.push(l),this.mapPrefix(l.prefix,l.uri)},this.uriByPrefix=function(l){return t[l||"xmlns"]},this.mapPrefix=function(l,c){t[l||"xmlns"]=c},this.getNSKey=function(l){return void 0!==l.prefix?l.uri+"|"+l.prefix:l.uri},this.logUsed=function(l){var c=l.uri,u=this.getNSKey(l);s[u]=this.byUri(c),n&&n.logUsed(l)},this.getUsed=function(l){var u=this;return[].concat(o,a).filter(function c(p){var f=u.getNSKey(p);return s[f]})}}function wzt(n,t){return O8e(t)?function Ezt(n){return n.charAt(0).toLowerCase()+n.slice(1)}(n):n}function M8e(n,t){n.super_=t,n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}function A8e(n){return W1(n)?n:(n.prefix?n.prefix+":":"")+n.localName}var Tzt={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},Pzt={"<":"lt",">":"gt","&":"amp"};function I8e(n,t,i){return(n=W1(n)?n:""+n).replace(t,function(s){return"&"+i[s]+";"})}function wG(n){this.tagName=n}function G1(){}function xG(n){this.tagName=n}function Ji(n,t){this.body=[],this.attrs=[],this.parent=n,this.propertyDescriptor=t}function Gk(n,t){Ji.call(this,n,t)}function Izt(){this.value="",this.write=function(n){this.value+=n}}function Rzt(n,t){var i=[""];this.append=function(s){return n.write(s),this},this.appendNewLine=function(){return t&&n.write("\n"),this},this.appendIndent=function(){return t&&n.write(i.join("  ")),this},this.indent=function(){return i.push(""),this},this.unindent=function(){return i.pop(),this}}function Nzt(n){return n=oo({format:!1,preamble:!0},n||{}),{toXML:function t(i,s){var o=s||new Izt,a=new Rzt(o,n.format);if(n.preamble&&a.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new Ji).build(i).serializeTo(a),!s)return o.value}}}function Kk(n,t){Eu.call(this,n,t)}wG.prototype.build=function(n){return this.element=n,this},wG.prototype.serializeTo=function(n){n.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},G1.prototype.serializeValue=G1.prototype.serializeTo=function(n){n.append(this.escape?function kzt(n){return I8e(n,k8e,Pzt)}(this.value):this.value)},G1.prototype.build=function(n,t){return this.value=t,"String"===n.type&&-1!==t.search(k8e)&&(this.escape=!0),this},M8e(xG,G1),xG.prototype.serializeTo=function(n){n.appendIndent().append("<"+this.tagName+">"),this.serializeValue(n),n.append("</"+this.tagName+">").appendNewLine()},Ji.prototype.build=function(n){this.element=n;var s,o,t=n.$descriptor,i=this.propertyDescriptor,a=t.isGeneric;return s=a?this.parseGeneric(n):this.parseNsAttributes(n),this.ns=i?this.nsPropertyTagName(i):this.nsTagName(t),this.tagName=this.addTagName(this.ns),a||(o=function Ozt(n){return uG(n.$descriptor.properties,function(i){var s=i.name;if(i.isVirtual||!_8e(n,s))return!1;var o=n[s];return o!==i.default&&null!==o&&(!i.isMany||o.length)})}(n),this.parseAttributes(function Mzt(n){return uG(n,function(t){return t.isAttr})}(o)),this.parseContainments(function Azt(n){return uG(n,function(t){return!t.isAttr})}(o))),this.parseGenericAttributes(n,s),this},Ji.prototype.nsTagName=function(n){return function Czt(n,t){return oo(t.isGeneric?{localName:t.ns.localName}:{localName:wzt(t.ns.localName,t.$pkg)},n)}(this.logNamespaceUsed(n.ns),n)},Ji.prototype.nsPropertyTagName=function(n){return function Szt(n,t){return oo({localName:t.ns.localName},n)}(this.logNamespaceUsed(n.ns),n)},Ji.prototype.isLocalNs=function(n){return n.uri===this.ns.uri},Ji.prototype.nsAttributeName=function(n){var t;if(t=W1(n)?dl(n):n.ns,n.inherited)return{localName:t.localName};var i=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(i),this.isLocalNs(i)?{localName:t.localName}:oo({localName:t.localName},i)},Ji.prototype.parseGeneric=function(n){var t=this,i=this.body,s=[];return wr(n,function(o,a){"$body"===a?i.push((new G1).build({type:"String"},o)):"$children"===a?wr(o,function(c){i.push(new Ji(t).build(c))}):0!==a.indexOf("$")&&t.parseNsAttribute(n,a,o)&&s.push({name:a,value:o})}),s},Ji.prototype.parseNsAttribute=function(n,t,i){var a,s=n.$model,o=dl(t);if("xmlns"===o.prefix&&(a={prefix:o.localName,uri:i}),!o.prefix&&"xmlns"===o.localName&&(a={uri:i}),!a)return{name:t,value:i};if(s&&s.getPackage(i))this.logNamespace(a,!0,!0);else{var l=this.logNamespaceUsed(a,!0);this.getNamespaces().logUsed(l)}},Ji.prototype.parseNsAttributes=function(n,t){var i=this,o=[];return wr(n.$attrs,function(a,l){var c=i.parseNsAttribute(n,l,a);c&&o.push(c)}),o},Ji.prototype.parseGenericAttributes=function(n,t){var i=this;wr(t,function(s){if(s.name!==qk)try{i.addAttribute(i.nsAttributeName(s.name),s.value)}catch(o){console.warn("missing namespace information for ",s.name,"=",s.value,"on",n,o)}})},Ji.prototype.parseContainments=function(n){var t=this,i=this.body,s=this.element;wr(n,function(o){var a=s.get(o.name),l=o.isReference;if(o.isMany||(a=[a]),o.isBody)i.push((new G1).build(o,a[0]));else if(x8e(o.type))wr(a,function(p){i.push(new xG(t.addTagName(t.nsPropertyTagName(o))).build(o,p))});else if(l)wr(a,function(p){i.push(new wG(t.addTagName(t.nsPropertyTagName(o))).build(p))});else{var u=P8e(o),d=function pzt(n){return"property"===T8e(n)}(o);wr(a,function(p){var f;f=u?new Gk(t,o):d?new Ji(t,o):new Ji(t),i.push(f.build(p))})}})},Ji.prototype.getNamespaces=function(n){var s,t=this.namespaces,i=this.parent;return t||(s=i&&i.getNamespaces(),n||!s?this.namespaces=t=new _zt(s):t=s),t},Ji.prototype.logNamespace=function(n,t,i){var s=this.getNamespaces(i),o=n.uri,a=n.prefix;return(!s.byUri(o)||i)&&s.add(n,t),s.mapPrefix(a,o),n},Ji.prototype.logNamespaceUsed=function(n,t){var c,u,d,s=this.element.$model,o=this.getNamespaces(t),a=n.prefix,l=n.uri;if(!a&&!l)return{localName:n.localName};if(d=dzt[a]||s&&(s.getPackage(a)||{}).uri,!(l=l||d||o.uriByPrefix(a)))throw new Error("no namespace uri given for prefix <"+a+">");if(!(n=o.byUri(l))){for(c=a,u=1;o.uriByPrefix(c);)c=a+"_"+u++;n=this.logNamespace({prefix:c,uri:l},d===l)}return a&&o.mapPrefix(a,l),n},Ji.prototype.parseAttributes=function(n){var t=this,i=this.element;wr(n,function(s){var o=i.get(s.name);if(s.isReference)if(s.isMany){var a=[];wr(o,function(l){a.push(l.id)}),o=a.join(" ")}else o=o.id;t.addAttribute(t.nsAttributeName(s),o)})},Ji.prototype.addTagName=function(n){var t=this.logNamespaceUsed(n);return this.getNamespaces().logUsed(t),A8e(n)},Ji.prototype.addAttribute=function(n,t){var i=this.attrs;W1(t)&&(t=function Dzt(n){return I8e(n,bzt,Tzt)}(t));var s=function ezt(n,t){t=fG(t);var i=lG(n)?-1:void 0;return wr(n,function(s,o){if(t(s,o))return i=o,!1}),i}(i,function(a){return a.name.localName===n.localName&&a.name.uri===n.uri&&a.name.prefix===n.prefix}),o={name:n,value:t};-1!==s?i.splice(s,1,o):i.push(o)},Ji.prototype.serializeAttributes=function(n){var t=this.attrs,i=this.namespaces;i&&(t=function xzt(n){return n.getUsed().filter(function(t){return"xml"!==t.prefix}).map(function(t){return{name:"xmlns"+(t.prefix?":"+t.prefix:""),value:t.uri}})}(i).concat(t)),wr(t,function(s){n.append(" ").append(A8e(s.name)).append('="').append(s.value).append('"')})},Ji.prototype.serializeTo=function(n){var t=this.body[0],i=t&&t.constructor!==G1;n.appendIndent().append("<"+this.tagName),this.serializeAttributes(n),n.append(t?">":" />"),t&&(i&&n.appendNewLine().indent(),wr(this.body,function(s){s.serializeTo(n)}),i&&n.unindent().appendIndent(),n.append("</"+this.tagName+">")),n.appendNewLine()},M8e(Gk,Ji),Gk.prototype.parseNsAttributes=function(n){var t=Ji.prototype.parseNsAttributes.call(this,n),i=n.$descriptor;if(i.name===this.propertyDescriptor.type)return t;var s=this.typeNs=this.nsTagName(i);this.getNamespaces().logUsed(this.typeNs);var o=n.$model.getPackage(s.uri),a=o.xml&&o.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(qk),(s.prefix?s.prefix+":":"")+a+i.ns.localName),t},Gk.prototype.isLocalNs=function(n){return n.uri===(this.typeNs||this.ns).uri},(Kk.prototype=Object.create(Eu.prototype)).fromXML=function(n,t,i){W1(t)||(i=t,t="dmn:Definitions");var s=new EG(oo({model:this,lax:!0},i)),o=s.handler(t);return s.fromXML(n,o)},Kk.prototype.toXML=function(n,t){var i=new Nzt(t);return new Promise(function(s,o){try{return s({xml:i.toXML(n)})}catch(l){return o(l)}})};var vHt={dc:{name:"DC",prefix:"dc",uri:"http://www.omg.org/spec/DMN/20180521/DC/",types:[{name:"Dimension",properties:[{name:"width",isAttr:!0,type:"Real"},{name:"height",isAttr:!0,type:"Real"}]},{name:"Bounds",properties:[{name:"height",isAttr:!0,type:"Real"},{name:"width",isAttr:!0,type:"Real"},{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Point",properties:[{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Color",properties:[{name:"red",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"green",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"blue",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"}]}],associations:[],enumerations:[{name:"AlignmentKind",literalValues:[{name:"start"},{name:"center"},{name:"end"}]}]},di:{name:"DI",prefix:"di",uri:"http://www.omg.org/spec/DMN/20180521/DI/",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"extension",type:"Extension"},{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"style",isReference:!0,type:"Style",xml:{serialize:"property"}},{name:"sharedStyle",isReference:!0,isVirtual:!0,type:"Style"}]},{name:"Diagram",superClass:["DiagramElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"}]},{name:"Shape",isAbstract:!0,properties:[{name:"bounds",type:"dc:Bounds"}],superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,properties:[{name:"waypoint",type:"dc:Point",isMany:!0,xml:{serialize:"property"}}],superClass:["DiagramElement"]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],enumerations:[],xml:{tagAlias:"lowerCase"}},dmn:{name:"DMN",prefix:"dmn",uri:"https://www.omg.org/spec/DMN/20191111/MODEL/",types:[{name:"AuthorityRequirement",superClass:["DMNElement"],properties:[{name:"requiredAuthority",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"ItemDefinition",superClass:["NamedElement"],properties:[{name:"typeRef",type:"String"},{name:"allowedValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"typeLanguage",type:"String",isAttr:!0},{name:"itemComponent",type:"ItemDefinition",isMany:!0,xml:{serialize:"property"}},{name:"functionItem",type:"FunctionItem"},{name:"isCollection",isAttr:!0,type:"Boolean"}]},{name:"Definitions",superClass:["NamedElement"],properties:[{name:"import",type:"Import",isMany:!0},{name:"itemDefinition",type:"ItemDefinition",isMany:!0},{name:"drgElement",type:"DRGElement",isMany:!0},{name:"artifact",type:"Artifact",isMany:!0},{name:"elementCollection",type:"ElementCollection",isMany:!0},{name:"businessContextElement",type:"BusinessContextElement",isMany:!0},{name:"namespace",type:"String",isAttr:!0},{name:"expressionLanguage",type:"String",isAttr:!0},{name:"typeLanguage",type:"String",isAttr:!0},{name:"exporter",isAttr:!0,type:"String"},{name:"exporterVersion",isAttr:!0,type:"String"},{name:"dmnDI",type:"dmndi:DMNDI"}]},{name:"KnowledgeSource",superClass:["DRGElement"],properties:[{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0},{name:"type",type:"String"},{name:"owner",type:"DMNElementReference",xml:{serialize:"property"}},{name:"locationURI",type:"String",isAttr:!0}]},{name:"DecisionRule",superClass:["DMNElement"],properties:[{name:"inputEntry",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}},{name:"outputEntry",type:"LiteralExpression",isMany:!0,xml:{serialize:"property"}},{name:"annotationEntry",type:"RuleAnnotation",isMany:!0,xml:{serialize:"property"}}]},{name:"Expression",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"typeRef",isAttr:!0,type:"String"}]},{name:"InformationItem",superClass:["NamedElement"],properties:[{name:"typeRef",isAttr:!0,type:"String"}]},{name:"Decision",superClass:["DRGElement"],properties:[{name:"question",type:"String",xml:{serialize:"property"}},{name:"allowedAnswers",type:"String",xml:{serialize:"property"}},{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"informationRequirement",type:"InformationRequirement",isMany:!0},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0},{name:"supportedObjective",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"impactedPerformanceIndicator",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionMaker",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionOwner",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"usingProcess",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"usingTask",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"decisionLogic",type:"Expression"}]},{name:"Invocation",superClass:["Expression"],properties:[{name:"calledFunction",type:"Expression"},{name:"binding",type:"Binding",isMany:!0}]},{name:"OrganisationalUnit",superClass:["BusinessContextElement"],properties:[{name:"decisionMade",type:"Decision",isReference:!0,isMany:!0},{name:"decisionOwned",type:"Decision",isReference:!0,isMany:!0}]},{name:"Import",superClass:["NamedElement"],properties:[{name:"importType",type:"String",isAttr:!0},{name:"locationURI",type:"String",isAttr:!0},{name:"namespace",type:"String",isAttr:!0}]},{name:"InformationRequirement",superClass:["DMNElement"],properties:[{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"ElementCollection",superClass:["NamedElement"],properties:[{name:"drgElement",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"DRGElement",isAbstract:!0,superClass:["NamedElement"],properties:[]},{name:"InputData",superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"DMNElement",isAbstract:!0,properties:[{name:"description",type:"String"},{name:"extensionElements",type:"ExtensionElements"},{name:"id",type:"String",isAttr:!0,isId:!0},{name:"extensionAttribute",type:"ExtensionAttribute",isMany:!0},{name:"label",isAttr:!0,type:"String"}]},{name:"InputClause",superClass:["DMNElement"],properties:[{name:"inputExpression",type:"LiteralExpression",xml:{serialize:"property"}},{name:"inputValues",type:"UnaryTests",xml:{serialize:"property"}}]},{name:"DecisionTable",superClass:["Expression"],properties:[{name:"input",type:"InputClause",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"OutputClause",isMany:!0,xml:{serialize:"property"}},{name:"annotation",type:"RuleAnnotationClause",isMany:!0,xml:{serialize:"property"}},{name:"rule",type:"DecisionRule",isMany:!0,xml:{serialize:"property"}},{name:"hitPolicy",type:"HitPolicy",isAttr:!0,default:"UNIQUE"},{name:"aggregation",type:"BuiltinAggregator",isAttr:!0},{name:"preferredOrientation",type:"DecisionTableOrientation",isAttr:!0},{name:"outputLabel",isAttr:!0,type:"String"}]},{name:"LiteralExpression",superClass:["Expression"],properties:[{name:"expressionLanguage",type:"String",isAttr:!0},{name:"text",type:"String"},{name:"importedValues",type:"ImportedValues"}]},{name:"Binding",properties:[{name:"parameter",type:"InformationItem",xml:{serialize:"property"}},{name:"bindingFormula",type:"Expression"}]},{name:"KnowledgeRequirement",superClass:["DMNElement"],properties:[{name:"requiredKnowledge",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"BusinessKnowledgeModel",superClass:["Invocable"],properties:[{name:"encapsulatedLogic",type:"FunctionDefinition",xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0}]},{name:"BusinessContextElement",isAbstract:!0,superClass:["NamedElement"],properties:[{name:"URI",type:"String",isAttr:!0}]},{name:"PerformanceIndicator",superClass:["BusinessContextElement"],properties:[{name:"impactingDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"FunctionDefinition",superClass:["Expression"],properties:[{name:"formalParameter",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"body",type:"Expression"},{name:"kind",type:"FunctionKind",isAttr:!0}]},{name:"Context",superClass:["Expression"],properties:[{name:"contextEntry",type:"ContextEntry",isMany:!0}]},{name:"ContextEntry",superClass:["DMNElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"value",type:"Expression"}]},{name:"List",superClass:["Expression"],properties:[{name:"elements",isMany:!0,type:"Expression"}]},{name:"Relation",superClass:["Expression"],properties:[{name:"column",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"row",type:"List",isMany:!0,xml:{serialize:"property"}}]},{name:"OutputClause",superClass:["DMNElement"],properties:[{name:"outputValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"defaultOutputEntry",type:"LiteralExpression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"typeRef",isAttr:!0,type:"String"}]},{name:"UnaryTests",superClass:["Expression"],properties:[{name:"text",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"NamedElement",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ImportedValues",superClass:["Import"],properties:[{name:"importedElement",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"DecisionService",superClass:["Invocable"],properties:[{name:"outputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"encapsulatedDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputData",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"ExtensionElements",properties:[{name:"values",type:"Element",isMany:!0}]},{name:"ExtensionAttribute",properties:[{name:"value",type:"Element"},{name:"valueRef",type:"Element",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Element",isAbstract:!0,properties:[{name:"extensionAttribute",type:"ExtensionAttribute",isAttr:!0,isReference:!0},{name:"elements",type:"ExtensionElements",isAttr:!0,isReference:!0}]},{name:"Artifact",isAbstract:!0,superClass:["DMNElement"],properties:[]},{name:"Association",superClass:["Artifact"],properties:[{name:"sourceRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"targetRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"associationDirection",type:"AssociationDirection",isAttr:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",isAttr:!0,type:"String",default:"text/plain"}]},{name:"RuleAnnotationClause",properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"RuleAnnotation",properties:[{name:"text",type:"String"}]},{name:"Invocable",isAbstract:!0,superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"Group",superClass:["Artifact"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"FunctionItem",superClass:["DMNElement"],properties:[{name:"parameters",isMany:!0,type:"InformationItem",xml:{serialize:"property"}},{name:"outputTypeRef",isAttr:!0,type:"String"}]},{name:"DMNElementReference",properties:[{isAttr:!0,name:"href",type:"String"}]}],enumerations:[{name:"HitPolicy",literalValues:[{name:"UNIQUE"},{name:"FIRST"},{name:"PRIORITY"},{name:"ANY"},{name:"COLLECT"},{name:"RULE ORDER"},{name:"OUTPUT ORDER"}]},{name:"BuiltinAggregator",literalValues:[{name:"SUM"},{name:"COUNT"},{name:"MIN"},{name:"MAX"}]},{name:"DecisionTableOrientation",literalValues:[{name:"Rule-as-Row"},{name:"Rule-as-Column"},{name:"CrossTable"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"FunctionKind",literalValues:[{name:"FEEL"},{name:"Java"},{name:"PMML"}]}],associations:[],xml:{tagAlias:"lowerCase"}},dmndi:{name:"DMNDI",prefix:"dmndi",uri:"https://www.omg.org/spec/DMN/20191111/DMNDI/",types:[{name:"DMNDI",properties:[{name:"diagrams",type:"DMNDiagram",isMany:!0},{name:"styles",type:"DMNStyle",isMany:!0}]},{name:"DMNStyle",superClass:["di:Style"],properties:[{name:"fillColor",type:"dc:Color",isAttr:!0},{name:"strokeColor",type:"dc:Color",isAttr:!0},{name:"fontColor",type:"dc:Color",isAttr:!0},{name:"fontSize",isAttr:!0,type:"Real"},{name:"fontFamily",isAttr:!0,type:"String"},{name:"fontItalic",isAttr:!0,type:"Boolean"},{name:"fontBold",isAttr:!0,type:"Boolean"},{name:"fontUnderline",isAttr:!0,type:"Boolean"},{name:"fontStrikeThrough",isAttr:!0,type:"Boolean"},{name:"labelHorizontalAlignment",type:"dc:AlignmentKind",isAttr:!0},{name:"labelVerticalAlignment",type:"dc:AlignmentKind",isAttr:!0}]},{name:"DMNDiagram",superClass:["di:Diagram"],properties:[{name:"dmnElementRef",type:"dmn:DMNElement",isAttr:!0,isReference:!0},{name:"size",type:"Size"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"diagramElements",type:"DMNDiagramElement",isMany:!0}]},{name:"DMNDiagramElement",isAbstract:!0,superClass:["di:DiagramElement"],properties:[{name:"dmnElementRef",type:"dmn:DMNElement",isAttr:!0,isReference:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"label",type:"DMNLabel"}]},{name:"DMNLabel",superClass:["di:Shape"],properties:[{name:"text",type:"Text"}]},{name:"DMNShape",superClass:["di:Shape","DMNDiagramElement"],properties:[{name:"isListedInputData",isAttr:!0,type:"Boolean"},{name:"decisionServiceDividerLine",type:"DMNDecisionServiceDividerLine"},{name:"isCollapsed",isAttr:!0,type:"Boolean"}]},{name:"DMNEdge",superClass:["di:Edge","DMNDiagramElement"],properties:[{name:"sourceElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0},{name:"targetElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0}]},{name:"DMNDecisionServiceDividerLine",superClass:["di:Edge"]},{name:"Text",properties:[{name:"text",isBody:!0,type:"String"}]},{name:"Size",superClass:["dc:Dimension"]}],associations:[],enumerations:[]},biodi:{name:"bpmn.io DI for DMN",uri:"http://bpmn.io/schema/dmn/biodi/2.0",prefix:"biodi",xml:{tagAlias:"lowerCase"},types:[{name:"DecisionTable",isAbstract:!0,extends:["dmn:DecisionTable"],properties:[{name:"annotationsWidth",isAttr:!0,type:"Integer"}]},{name:"OutputClause",isAbstract:!0,extends:["dmn:OutputClause"],properties:[{name:"width",isAttr:!0,type:"Integer"}]},{name:"InputClause",isAbstract:!0,extends:["dmn:InputClause"],properties:[{name:"width",isAttr:!0,type:"Integer"}]}]}};const _Ht=function bHt(n,t){return new Kk(oo({},vHt,n),t)};function Yk(n){return function(){if(!window.Promise)throw new Error("Promises is not supported in this environment. Please polyfill Promise.");var t=arguments.length;if(!(t>=1&&Gn(arguments[t-1])))return n.apply(this,arguments);var i=arguments[t-1];console.warn(new Error("Passing callbacks to "+function EHt(n){return n.replace("bound ","")}(n.name)+" is deprecated and will be removed in a future major release. Please switch to promises: https://bpmn.io/l/moving-to-promises.html"));var s=Array.prototype.slice.call(arguments,0,-1);n.apply(this,s).then(function(o){var a=Object.keys(o)[0];return i(null,o[a])},function(o){return i(o,o.warnings)})}}const wHt={width:"100%",height:"100%",position:"relative"};class xHt{constructor(t={}){this._eventBus=new Wo,this._viewsChanged=xv(this._viewsChanged,0),this._views=[],this._viewers={},this.open=Yk(this.open.bind(this)),this.importXML=Yk(this.importXML.bind(this)),this.saveXML=Yk(this.saveXML.bind(this)),this._init(t)}importXML(t,i){var s=this;return i=i||{open:!0},new Promise(function(a,l){var c=s._activeView;s._clear().then(()=>{var u;t=s._emit("import.parse.start",{xml:t})||t,s._moddle.fromXML(t,"dmn:Definitions").then(d=>{var p=d.rootElement;if(p=s._emit("import.parse.complete",o({error:null,definitions:p,elementsById:d.elementsById,references:d.references,warnings:u=d.warnings}))||p,s._setDefinitions(p),!i.open)return s._emit("import.done",{error:null,warnings:u}),void a({warnings:u});var m=s._getInitialView(s._views,c);if(!m){var g=new Error("no displayable contents");return s._emit("import.done",{error:g,warnings:u}),g.warnings=u,l(g)}s.open(m).then(y=>({warnings:y.warnings})).catch(y=>({error:y,warnings:y.warnings})).then(y=>{var v=[].concat(u,y.warnings);s._emit("import.done",{error:y.error,warnings:v}),y.error?(y.error.warnings=v,l(y.error)):a({warnings:v})})}).catch(d=>(u=d.warnings,d=function CHt(n,t){if("failed to parse document as <dmn:Definitions>"!==n.message)return null;var i=-1!==t.indexOf('"http://www.omg.org/spec/DMN/20151101/dmn.xsd"')?"1.1":-1!==t.indexOf('"http://www.omg.org/spec/DMN/20180521/MODEL/"')&&"1.2";return i?(n=new Error("unsupported DMN "+i+" file detected; only DMN 1.3 files can be opened"),console.error("Cannot open what looks like a DMN "+i+" diagram. Please refer to https://bpmn.io/l/dmn-compatibility.html to learn how to make the toolkit compatible with older DMN files",n),n):null}(d,t)||function SHt(n){var i=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(n.message);return i?(n.message="unparsable content <"+i[1]+"> detected; this may indicate an invalid DMN 1.3 diagram file"+i[2],n):null}(d)||d,s._emit("import.parse.complete",o({error:d,warnings:u})),s._emit("import.done",{error:d,warnings:u}),d.warnings=u,l(d)))}).catch(u=>(s._emit("import.done",{error:u,warnings:[]}),u.warnings=[],l(u)))});function o(a){var l=s._eventBus.createEvent(a);return Object.defineProperty(l,"context",{enumerable:!0,get:function(){return console.warn(new Error("import.parse.complete <context> is deprecated and will be removed in future library versions")),{warnings:a.warnings,references:a.references,elementsById:a.elementsById}}}),l}}getDefinitions(){return this._definitions}getActiveView(){return this._activeView}getActiveViewer(){var t=this.getActiveView();return t&&this._getViewer(t)}getView(t){return this._views.filter(function(i){return i.element===t})[0]}getViews(){return this._views}saveXML(t){var i=this;t=t||{};var s=this._definitions;return new Promise(function(o,a){s?(s=i._emit("saveXML.start",{definitions:s})||s,i._moddle.toXML(s,t).then(function(l){var c=l.xml;return{xml:c=i._emit("saveXML.serialized",{xml:c})||c}}).catch(l=>({error:l})).then(l=>{i._emit("saveXML.done",l),l.error?a(l.error):o({xml:l.xml})})):a(new Error("no definitions loaded"))})}on(...t){this._eventBus.on(...t)}off(...t){this._eventBus.off(...t)}once(...t){this._eventBus.once(...t)}attachTo(t){t.get&&t.constructor.prototype.jquery&&(t=t.get(0)),"string"==typeof t&&(t=dn(t)),t.appendChild(this._container),this._emit("attach",{})}detach(){this._emit("detach",{}),xo(this._container)}destroy(){Object.keys(this._viewers).forEach(t=>{L8e(this._viewers[t],"destroy")}),xo(this._container)}_init(t){this._options=t,this._moddle=this._createModdle(t),this._viewers={},this._views=[];const i=lr('<div class="dmn-js-parent"></div>'),s=pe({},wHt,t);pe(i.style,{width:R8e(s.width),height:R8e(s.height),position:s.position}),this._container=i,t.container&&this.attachTo(t.container)}_clear(){return this._switchView(null)}open(t){return this._switchView(t)}_setDefinitions(t){this._definitions=t,this._updateViews()}_viewsChanged=()=>{this._emit("views.changed",{views:this._views,activeView:this._activeView})};_updateViews(){var t=this._definitions;if(!t)return this._views=[],void this._switchView(null);var i=this._getViewProviders(),s=[t,...t.drgElement||[]],o=this._views,a=[];for(var l of s){var c=It(i,function(m){return"string"==typeof m.opens?m.opens===l.$type:m.opens(l)});c&&a.push({element:l,id:l.id,name:l.name,type:c.id})}var p,d=this._activeView;if(!d||(p=It(a,function(m){return Xk(d,m)})||this._getInitialView(a))){var f=!Xk(d,p)||N8e(d,p),h=o.length!==a.length||!tc(a,function(m){return It(o,function(g){return Xk(g,m)&&!N8e(g,m)})});this._activeView=p,this._views=a,(f||h)&&this._viewsChanged()}else this._switchView(null)}_getInitialView(t,i){var s;return i&&(s=It(t,function(o){return Xk(o,i)})||It(t,function(o){return o.type===i})),s||t[0]}_switchView(t){var i=this;return new Promise(function(s,o){var c,a=(p,f)=>{i._viewsChanged(),p?o(p):s(f)},l=i.getActiveView(),u=t&&i._getViewer(t),d=t&&t.element;if(l&&(c=i._getViewer(l))!==u&&(L8e(c,"clear"),c.detach()),i._activeView=t,u)return c!==u&&u.attachTo(i._container),i._emit("import.render.start",{view:t,element:d}),void u.open(d).then(p=>{i._emit("import.render.complete",{view:t,error:null,warnings:p.warnings}),a(null,p)}).catch(p=>{i._emit("import.render.complete",{view:t,error:p,warnings:p.warnings}),a(p,null)});a()})}_getViewer(t){var i=t.type,s=this._viewers[i];return s||(s=this._viewers[i]=this._createViewer(t.type),this._emit("viewer.created",{type:i,viewer:s})),s}_createViewer(t){var i=It(this._getViewProviders(),function(l){return l.id===t});if(!i)throw new Error("no provider for view type <"+t+">");var o=this._options[t]||{};return new(0,i.constructor)({...this._options.common||{},...o,additionalModules:[...o.additionalModules||[],{_parent:["value",this],moddle:["value",this._moddle]}]})}_emit(...t){return this._eventBus.fire(...t)}_createModdle(t){return new _Ht(t.moddleExtensions)}_getViewProviders(){return[]}}function R8e(n){return n+(un(n)?"px":"")}function Xk(n,t){return Hr(n)?!!Hr(t)&&(n.element===t.element||n.id===t.id):!Hr(t)}function N8e(n,t){return!n||!t||n.name!==t.name}function L8e(n,t){Gn(n[t])&&n[t]()}function Be(n,t){var i=pd(n);return i&&"function"==typeof i.$instanceOf&&i.$instanceOf(t)}function $r(n){return Be(n,"dmn:InputClause")}function Fo(n){return Be(n,"dmn:OutputClause")}function pd(n){return n&&n.businessObject||n}function pl(n,t){return qc(t,function(i){return Be(n,i)})}function Zk(n){var t=pd(n);if(Be(t,"dmn:Decision"))return t.get("decisionLogic");if(Be(t,"dmn:BusinessKnowledgeModel")){var i=t.get("encapsulatedLogic");return i&&i.get("body")}}class DHt extends xHt{_init(t){super._init(t),this.on("import.parse.complete",i=>{i.error||this._collectIds(i.definitions,i.elementsById)}),this.on("destroy",()=>{this._moddle.ids.clear()}),this.on("viewer.created",({viewer:i})=>{i.on("elements.changed",({elements:s})=>{s.some(function(a){return pl(a,["dmn:Decision","dmn:Definitions","dmn:BusinessKnowledgeModel"])})&&this._updateViews()})})}_collectIds(t,i){var a,o=t.$model.ids;for(a in o.clear(),i)o.claim(a,i[a])}_createModdle(t){var i=super._createModdle(t);return i.ids=new Nd([32,36,1]),i}}var kHt=new ic({name:"dmnElementRef",enumerable:!0},{name:"di",configurable:!0});function MHt(n,t){var i=[];function a(_){try{var E=_.di&&function s(_){if(_.gfx)throw new Error("already rendered "+_.id);return n.element(_)}(_);return E}catch(x){v(x.message,{element:_,error:x})}}function h(_){!function m(_){var E=_.dmnElementRef;E?E.di?v("multiple DI elements defined for element",{element:E}):(kHt.bind(E,"di"),E.di=_):v("no DMN element referenced in element",{element:_})}(_)}function g(_){i.push(_)}function v(_,E){n.error(_,E)}return{handleDefinitions:function l(_,E){var x=_.dmnDI;if(!x)throw new Error("no dmndi:DMNDI");var b=x.diagrams||[];if(E&&-1===b.indexOf(E))throw new Error("diagram not part of dmndi:DMNDI");if(!E&&b&&b.length&&(E=b[0]),!E)throw new Error("no diagram to display");_.di=E,function f(_){se(_.diagramElements,h)}(E),function o(_){n.root(_)}(_),function c(_){se(_,function(E){a(E),function p(_){se(["informationRequirement","knowledgeRequirement","authorityRequirement"],function(E){se(_[E],function(x){g(function(){a(x)})})})}(E)})}(_.get("drgElement")),function u(_){se(_,function(E){Be(E,"dmn:Association")?function d(_){g(function(){a(_)})}(E):a(E)})}(_.get("artifact")),function y(){se(i,function(_){_()})}()}}}var CG="$NO_OP",Qk=Array.isArray;function SG(n){var t=typeof n;return"string"===t||"number"===t}function Ar(n){return Jk(n)||es(n)}function lm(n){return es(n)||!1===n||function RHt(n){return!0===n}(n)||Jk(n)}function xr(n){return"function"==typeof n}function r2(n){return"string"==typeof n}function OG(n){return"number"==typeof n}function es(n){return null===n}function Jk(n){return void 0===n}function e4(n,t){var i={};if(n)for(var s in n)i[s]=n[s];if(t)for(var o in t)i[o]=t[o];return i}function TG(n,t,i,s,o,a,l,c){return{childFlags:n,children:t,className:i,dom:null,flags:s,key:void 0===o?null:o,parentVNode:null,props:void 0===a?null:a,ref:void 0===l?null:l,type:c}}function Y(n,t,i,s,o,a,l,c){var u=void 0===o?1:o,d=TG(u,s,i,n,l,a,c,t),p=wu.createVNode;return"function"==typeof p&&p(d),0===u&&j8e(d,d.children),d}function ot(n,t,i,s,o){(2&n)>0&&(n=t.prototype&&xr(t.prototype.render)?4:8);var a=t.defaultProps;if(!Ar(a))for(var l in i||(i={}),a)Jk(i[l])&&(i[l]=a[l]);if((8&n)>0){var c=t.defaultHooks;if(!Ar(c))if(o)for(var u in c)Jk(o[u])&&(o[u]=c[u]);else o=c}var d=TG(1,null,null,n,s,i,o,t),p=wu.createVNode;return xr(p)&&p(d),d}function Yn(n,t){return TG(1,Ar(n)?"":n,null,16,t,null,null,null)}function cm(n){var t=n.props;if(t){var i=n.flags;481&i&&(void 0!==t.children&&Ar(n.children)&&j8e(n,t.children),void 0!==t.className&&(n.className=t.className||null,t.className=void 0)),void 0!==t.key&&(n.key=t.key,t.key=void 0),void 0!==t.ref&&(n.ref=8&i?e4(n.ref,t.ref):t.ref,t.ref=void 0)}return n}function Fa(n){var t,i=n.flags;if(14&i){var s,o=n.props;if(!es(o))for(var a in s={},o)s[a]=o[a];t=ot(i,n.type,s,n.key,n.ref)}else 481&i?t=Y(i,n.type,n.className,n.children,n.childFlags,n.props,n.key,n.ref):16&i?t=Yn(n.children,n.key):1024&i&&(t=n);return t}function F8e(){return Yn("",null)}function B8e(n,t,i,s){for(var o=n.length;i<o;i++){var a=n[i];if(!lm(a)){var l=s+"$"+i;if(Qk(a))B8e(a,t,0,l);else{if(SG(a))a=Yn(a,l);else{var c=a.key,u=r2(c)&&"$"===c[0];(!es(a.dom)||u)&&(a=Fa(a)),a.key=es(c)||u?l:s+c}t.push(a)}}}}function j8e(n,t){var i,s=1;if(lm(t))i=t;else if(r2(t))s=2,i=Yn(t);else if(OG(t))s=2,i=Yn(t+"");else if(Qk(t)){var o=t.length;if(0===o)i=null,s=1;else{(Object.isFrozen(t)||!0===t.$)&&(t=t.slice()),s=8;for(var a=0;a<o;a++){var l=t[a];if(lm(l)||Qk(l)){i=i||t.slice(0,a),B8e(t,i,a,"");break}if(SG(l))(i=i||t.slice(0,a)).push(Yn(l,"$"+a));else{var c=l.key,u=es(l.dom),d=es(c),p=!d&&r2(c)&&"$"===c[0];!u||d||p?(i=i||t.slice(0,a),(!u||p)&&(l=Fa(l)),(d||p)&&(l.key="$"+a),i.push(l)):i&&i.push(l)}}(i=i||t).$=!0}}else i=t,es(t.dom)||(i=Fa(t)),s=2;return n.children=i,n.childFlags=s,n}var wu={afterRender:null,beforeRender:null,createVNode:null,renderComplete:null},K1="http://www.w3.org/1999/xlink",PG="http://www.w3.org/XML/1998/namespace",V8e={"xlink:actuate":K1,"xlink:arcrole":K1,"xlink:href":K1,"xlink:role":K1,"xlink:show":K1,"xlink:title":K1,"xlink:type":K1,"xml:base":PG,"xml:lang":PG,"xml:space":PG},Bo={},vp=[];function eM(n,t){n.appendChild(t)}function tM(n,t,i){Ar(i)?eM(n,t):n.insertBefore(t,i)}function DG(n,t,i){n.replaceChild(t,i)}function kG(n){for(var t;void 0!==(t=n.shift());)t()}var nM={},MG={};function $8e(n,t,i){var s=nM[n],o=i.$EV;t?(s||(MG[n]=function zHt(n){var t=function(s){var o=s.type,a="click"===o||"dblclick"===o;if(a&&0!==s.button)return s.stopPropagation(),!1;s.stopPropagation=$Ht;var l={dom:document};Object.defineProperty(s,"currentTarget",{configurable:!0,get:function(){return l.dom}}),function VHt(n,t,i,s){for(var o=function jHt(n){return xr(n.composedPath)?n.composedPath()[0]:n.target}(n);!es(o);){if(t&&o.disabled)return;var a=o.$EV;if(a){var l=a[i];if(l&&(s.dom=o,l.event?l.event(l.data,n):l(n),n.cancelBubble))return}o=o.parentNode}}(s,a,n,l)};return document.addEventListener(z8e(n),t),t}(n),nM[n]=0),o||(o=i.$EV={}),o[n]||nM[n]++,o[n]=t):o&&o[n]&&(nM[n]--,1===s&&(document.removeEventListener(z8e(n),MG[n]),MG[n]=null),o[n]=t)}function z8e(n){return n.substr(2).toLowerCase()}function $Ht(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function H8e(n,t){var i=document.createElement("i");return i.innerHTML=t,i.innerHTML===n.innerHTML}function U8e(n,t,i){if(n[t]){var s=n[t];s.event?s.event(s.data,i):s(i)}else{var o=t.toLowerCase();n[o]&&n[o](i)}}function n4(n,t){var i=function(o){o.stopPropagation();var a=this.$V;if(a){var l=a.props||Bo,c=a.dom;if(r2(n))U8e(l,n,o);else for(var u=0;u<n.length;u++)U8e(l,n[u],o);if(xr(t)){var d=this.$V;t(d.props||Bo,c,!1,d)}}};return Object.defineProperty(i,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),i}function AG(n){return"checkbox"===n||"radio"===n}var UHt=n4("onInput",IG),qHt=n4(["onClick","onChange"],IG);function q8e(n){n.stopPropagation()}function IG(n,t){var i=n.type,s=n.value,o=n.checked,a=n.multiple,l=n.defaultValue,c=!Ar(s);i&&i!==t.type&&t.setAttribute("type",i),!Ar(a)&&a!==t.multiple&&(t.multiple=a),!Ar(l)&&!c&&(t.defaultValue=l+""),AG(i)?(c&&(t.value=s),Ar(o)||(t.checked=o)):c&&t.value!==s?(t.defaultValue=s,t.value=s):Ar(o)||(t.checked=o)}function W8e(n,t){if("optgroup"===n.type){var s=n.children,o=n.childFlags;if(12&o)for(var a=0,l=s.length;a<l;a++)RG(s[a],t);else 2===o&&RG(s,t)}else RG(n,t)}function RG(n,t){var i=n.props||Bo,s=n.dom;s.value=i.value,Qk(t)&&-1!==t.indexOf(i.value)||i.value===t?s.selected=!0:(!Ar(t)||!Ar(i.selected))&&(s.selected=i.selected||!1)}q8e.wrapped=!0;var GHt=n4("onChange",G8e);function G8e(n,t,i,s){var o=!!n.multiple;!Ar(n.multiple)&&o!==t.multiple&&(t.multiple=o);var a=s.childFlags;if(!(1&a)){var l=s.children,c=n.value;if(i&&Ar(c)&&(c=n.defaultValue),12&a)for(var u=0,d=l.length;u<d;u++)W8e(l[u],c);else 2===a&&W8e(l,c)}}var YHt=n4("onInput",K8e),XHt=n4("onChange");function K8e(n,t,i){var s=n.value,o=t.value;if(Ar(s)){if(i){var a=n.defaultValue;!Ar(a)&&a!==o&&(t.defaultValue=a,t.value=a)}}else o!==s&&(t.defaultValue=s,t.value=s)}function Y8e(n,t,i,s,o,a){64&n?IG(s,i):256&n?G8e(s,i,o,t):128&n&&K8e(s,i,o),a&&(i.$V=t)}function X8e(n){return n.type&&AG(n.type)?!Ar(n.checked):!Ar(n.value)}function xu(n,t){Y1(n),t&&n.dom&&(function BHt(n,t){n.removeChild(t)}(t,n.dom),n.dom=null)}function Y1(n){var t=n.flags;if(481&t){var i=n.ref,s=n.props;xr(i)&&i(null);var o=n.children,a=n.childFlags;if(12&a?NG(o):2===a&&Y1(o),!es(s))for(var l in s)switch(l){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":$8e(l,null,n.dom)}}else{var c=n.children;if(c)if(14&t){var u=n.ref;4&t?(xr(c.componentWillUnmount)&&c.componentWillUnmount(),xr(u)&&u(null),c.$UN=!0,c.$LI&&Y1(c.$LI)):(!Ar(u)&&xr(u.onComponentWillUnmount)&&u.onComponentWillUnmount(n.dom,n.props||Bo),Y1(c))}else 1024&t&&xu(c,n.type)}}function NG(n){for(var t=0,i=n.length;t<i;t++)Y1(n[t])}function rM(n,t){NG(t),n.textContent=""}function Z8e(n,t){switch(n){case"animationIterationCount":case"borderImageOutset":case"borderImageSlice":case"borderImageWidth":case"boxFlex":case"boxFlexGroup":case"boxOrdinalGroup":case"columnCount":case"fillOpacity":case"flex":case"flexGrow":case"flexNegative":case"flexOrder":case"flexPositive":case"flexShrink":case"floodOpacity":case"fontWeight":case"gridColumn":case"gridRow":case"lineClamp":case"lineHeight":case"opacity":case"order":case"orphans":case"stopOpacity":case"strokeDasharray":case"strokeDashoffset":case"strokeMiterlimit":case"strokeOpacity":case"strokeWidth":case"tabSize":case"widows":case"zIndex":case"zoom":return t;default:return t+"px"}}function LG(n,t,i,s,o,a,l){switch(n){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":$8e(n,i,s);break;case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":break;case"autoFocus":s.autofocus=!!i;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":s[n]=!!i;break;case"defaultChecked":case"value":case"volume":if(a&&"value"===n)return;var c=Ar(i)?"":i;s[n]!==c&&(s[n]=c);break;case"dangerouslySetInnerHTML":var d=i&&i.__html||"";(t&&t.__html||"")!==d&&!Ar(d)&&!H8e(s,d)&&(es(l)||(12&l.childFlags?NG(l.children):2===l.childFlags&&Y1(l.children),l.children=null,l.childFlags=1),s.innerHTML=d);break;default:"o"===n[0]&&"n"===n[1]?function eUt(n,t,i){var s=n.toLowerCase();if(xr(t)||Ar(t)){var a=i[s];(!a||!a.wrapped)&&(i[s]=t)}else{var o=t.event;o&&xr(o)&&(i[s]=function JHt(n,t){return function(i){n(t.data,i)}}(o,t))}}(n,i,s):Ar(i)?s.removeAttribute(n):"style"===n?function tUt(n,t,i){var o,a,s=i.style;if(r2(t))s.cssText=t;else if(Ar(n)||r2(n))for(o in t)s[o]=OG(a=t[o])?Z8e(o,a):a;else{for(o in t)(a=t[o])!==n[o]&&(s[o]=OG(a)?Z8e(o,a):a);for(o in n)Ar(t[o])&&(s[o]="")}}(t,i,s):o&&V8e[n]?s.setAttributeNS(V8e[n],n,i):s.setAttribute(n,i)}}function Q8e(n,t,i,s,o){var a=!1,l=(448&t)>0;for(var c in l&&(a=X8e(i))&&function QHt(n,t,i){64&n?function WHt(n,t){AG(t.type)?(n.onchange=qHt,n.onclick=q8e):n.oninput=UHt}(t,i):256&n?function KHt(n){n.onchange=GHt}(t):128&n&&function ZHt(n,t){n.oninput=YHt,t.onChange&&(n.onchange=XHt)}(t,i)}(t,s,i),i)LG(c,null,i[c],s,o,a,null);l&&Y8e(t,n,s,i,!0,a)}function J8e(n,t,i,s){var o=new t(i,s);if(n.children=o,o.$V=n,o.$BS=!1,o.context=s,o.props===Bo&&(o.props=i),o.$UN=!1,xr(o.componentWillMount)){if(o.$BR=!0,o.componentWillMount(),o.$PSS){var a=o.state,l=o.$PS;if(es(a))o.state=l;else for(var c in l)a[c]=l[c];o.$PSS=!1,o.$PS=null}o.$BR=!1}xr(wu.beforeRender)&&wu.beforeRender(o);var d,u=r4(o.render(i,o.state,s),n);return xr(o.getChildContext)&&(d=o.getChildContext()),o.$CX=Ar(d)?s:e4(s,d),xr(wu.afterRender)&&wu.afterRender(o),o.$LI=u,o}function r4(n,t){return lm(n)?n=F8e():SG(n)?n=Yn(n,null):(n.dom&&(n=Fa(n)),14&n.flags&&(n.parentVNode=t)),n}function fl(n,t,i,s){var o=n.flags;return 481&o?eTe(n,t,i,s):14&o?function nUt(n,t,i,s,o){var a,l=n.type,c=n.props||Bo,u=n.ref;if(o){var d=J8e(n,l,c,i);n.dom=a=fl(d.$LI,null,d.$CX,s),tTe(0,u,d),d.$UPD=!1}else{var p=r4(l(c,i),n);n.children=p,n.dom=a=fl(p,null,i,s),nTe(c,u,a)}return es(t)||eM(t,a),a}(n,t,i,s,(4&o)>0):512&o||16&o?FG(n,t):1024&o?(fl(n.children,n.type,i,!1),n.dom=FG(F8e(),t)):void 0}function FG(n,t){var i=n.dom=document.createTextNode(n.children);return es(t)||eM(t,i),i}function eTe(n,t,i,s){var o=n.flags,a=n.children,l=n.props,c=n.className,u=n.ref,d=n.childFlags,p=function FHt(n,t){return t?document.createElementNS("http://www.w3.org/2000/svg",n):document.createElement(n)}(n.type,s=s||(32&o)>0);if(n.dom=p,!Ar(c)&&""!==c&&(s?p.setAttribute("class",c):p.className=c),es(t)||eM(t,p),!(1&d)){var f=!0===s&&"foreignObject"!==n.type;2===d?fl(a,p,i,f):12&d&&i4(a,p,i,f)}return es(l)||Q8e(n,o,l,p,s),xr(u)&&BG(p,u),p}function i4(n,t,i,s){for(var o=0,a=n.length;o<a;o++){var l=n[o];es(l.dom)||(n[o]=l=Fa(l)),fl(l,t,i,s)}}function tTe(n,t,i){xr(t)&&t(i),xr(i.componentDidMount)&&vp.push(function rUt(n){return function(){n.$UPD=!0,n.componentDidMount(),n.$UPD=!1}}(i))}function nTe(n,t,i){Ar(t)||(xr(t.onComponentWillMount)&&t.onComponentWillMount(n),xr(t.onComponentDidMount)&&vp.push(function iUt(n,t,i){return function(){return n.onComponentDidMount(t,i)}}(t,i,n)))}function BG(n,t){vp.push(function(){return t(n)})}function s4(n,t,i,s){var o=n.flags;14&o?function sUt(n,t,i,s,o){var a=n.type,l=n.ref,c=n.props||Bo;if(o){var u=J8e(n,a,c,i),d=u.$LI;s4(d,t,u.$CX,s),n.dom=d.dom,tTe(0,l,u),u.$UPD=!1}else{var p=r4(a(c,i),n);s4(p,t,i,s),n.children=p,n.dom=p.dom,nTe(c,l,t)}}(n,t,i,s,(4&o)>0):481&o?function oUt(n,t,i,s){var o=n.children,a=n.props,l=n.className,c=n.flags,u=n.ref;if(s=s||(32&c)>0,1!==t.nodeType||t.tagName.toLowerCase()!==n.type){var d=eTe(n,null,i,s);n.dom=d,DG(t.parentNode,d,t)}else{n.dom=t;var p=t.firstChild,f=n.childFlags;if(1&f)!es(t.firstChild)&&!function HHt(n,t){return!!(t&&t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html&&H8e(n,t.dangerouslySetInnerHTML.__html))}(t,a)&&(t.textContent="",448&c&&(t.defaultValue=""));else{for(var h=null;p;)h=p.nextSibling,8===p.nodeType&&("!"===p.data?t.replaceChild(document.createTextNode(""),p):t.removeChild(p)),p=h;if(p=t.firstChild,2===f)es(p)?fl(o,t,i,s):(h=p.nextSibling,s4(o,p,i,s),p=h);else if(12&f)for(var m=0,g=o.length;m<g;m++){var y=o[m];es(p)?fl(y,t,i,s):(h=p.nextSibling,s4(y,p,i,s),p=h)}for(;p;)h=p.nextSibling,t.removeChild(p),p=h}es(a)||Q8e(n,c,a,t,s),Ar(l)?""!==t.className&&t.removeAttribute("class"):s?t.setAttribute("class",l):t.className=l,xr(u)&&BG(t,u)}}(n,t,i,s):16&o?function aUt(n,t){if(3!==t.nodeType){var i=FG(n,null);n.dom=i,DG(t.parentNode,i,t)}else{var s=n.children;t.nodeValue!==s&&(t.nodeValue=s),n.dom=t}}(n,t):512&o?n.dom=t:function NHt(n){throw n||(n="a runtime error occured! Use Inferno in development environment to find the error."),new Error("Inferno Error: "+n)}()}function jG(n,t,i,s,o){Y1(n),DG(i,fl(t,null,s,o),n.dom)}function Qf(n,t,i,s,o){var a=0|t.flags;n.flags!==a||2048&a?jG(n,t,i,s,o):481&a?function dUt(n,t,i,s,o,a){var l=t.type;if(n.type!==l)jG(n,t,i,s,o);else{var h,c=n.dom,u=n.props,d=t.props,p=!1,f=!1;if(t.dom=c,o=o||(32&a)>0,u!==d){var m=u||Bo;if((h=d||Bo)!==Bo)for(var g in(p=(448&a)>0)&&(f=X8e(h)),h){var y=m[g],v=h[g];y!==v&&LG(g,y,v,c,o,f,n)}if(m!==Bo)for(var _ in m)!h.hasOwnProperty(_)&&!Ar(m[_])&&LG(_,m[_],null,c,o,f,n)}var E=n.children,x=t.children,b=t.ref,w=n.className,C=t.className;4096&a?function cUt(n,t){n.textContent!==t.children&&(n.textContent=t.children)}(c,x):rTe(n.childFlags,t.childFlags,E,x,c,s,o&&"foreignObject"!==l),p&&Y8e(a,t,c,h,!1,f),w!==C&&(Ar(C)?c.removeAttribute("class"):o?c.setAttribute("class",C):c.className=C),xr(b)&&n.ref!==b&&BG(c,b)}}(n,t,i,s,o,a):14&a?function pUt(n,t,i,s,o,a){var l=t.type;if(n.type!==l||n.key!==t.key)jG(n,t,i,s,o);else{var d=t.props||Bo;if(a){var p=n.children;p.$UPD=!0,p.$V=t,iTe(p,p.state,t,d,i,s,o,!1,!1),p.$UPD=!1}else{var f=!0,h=n.props,m=t.ref,g=!Ar(m),y=n.children;if(t.dom=n.dom,t.children=y,g&&xr(m.onComponentShouldUpdate)&&(f=m.onComponentShouldUpdate(h,d)),!1!==f){g&&xr(m.onComponentWillUpdate)&&m.onComponentWillUpdate(h,d);var v=l(d,s);v!==CG&&(Qf(y,v=r4(v,t),i,s,o),t.children=v,t.dom=v.dom,g&&xr(m.onComponentDidUpdate)&&m.onComponentDidUpdate(h,d))}else 14&y.flags&&(y.parentVNode=t)}}}(n,t,i,s,o,(4&a)>0):16&a?function fUt(n,t){var i=t.children,s=n.dom;i!==n.children&&(s.nodeValue=i),t.dom=s}(n,t):512&a?t.dom=n.dom:function uUt(n,t,i){var s=n.type,o=t.type,a=t.children;if(rTe(n.childFlags,t.childFlags,n.children,a,s,i,!1),t.dom=n.dom,s!==o&&!lm(a)){var l=a.dom;s.removeChild(l),o.appendChild(l)}}(n,t,s)}function rTe(n,t,i,s,o,a,l){switch(n){case 2:switch(t){case 2:Qf(i,s,o,a,l);break;case 1:xu(i,o);break;default:xu(i,o),i4(s,o,a,l)}break;case 1:switch(t){case 2:fl(s,o,a,l);break;case 1:break;default:i4(s,o,a,l)}break;default:if(12&t){var c=i.length,u=s.length;0===c?u>0&&i4(s,o,a,l):0===u?rM(o,i):8===t&&8===n?function mUt(n,t,i,s,o,a,l){var d,m,c=a-1,u=l-1,p=0,f=n[p],h=t[p];e:{for(;f.key===h.key;){if(h.dom&&(t[p]=h=Fa(h)),Qf(f,h,i,s,o),n[p]=h,++p>c||p>u)break e;f=n[p],h=t[p]}for(f=n[c],h=t[u];f.key===h.key;){if(h.dom&&(t[u]=h=Fa(h)),Qf(f,h,i,s,o),n[c]=h,u--,p>--c||p>u)break e;f=n[c],h=t[u]}}if(p>c){if(p<=u)for(var g=(m=u+1)<l?t[m].dom:null;p<=u;)(h=t[p]).dom&&(t[p]=h=Fa(h)),p++,tM(i,fl(h,null,s,o),g)}else if(p>u)for(;p<=c;)xu(n[p++],i);else{var y=p,v=p,_=c-p+1,E=u-p+1,x=[];for(d=0;d<E;d++)x.push(0);var b=_===a,w=!1,C=0,P=0;if(l<4||(_|E)<32)for(d=y;d<=c;d++)if(f=n[d],P<E){for(p=v;p<=u;p++)if(f.key===(h=t[p]).key){if(x[p-v]=d+1,b)for(b=!1;d>y;)xu(n[y++],i);C>p?w=!0:C=p,h.dom&&(t[p]=h=Fa(h)),Qf(f,h,i,s,o),P++;break}!b&&p>u&&xu(f,i)}else b||xu(f,i);else{var D={};for(d=v;d<=u;d++)D[t[d].key]=d;for(d=y;d<=c;d++)if(f=n[d],P<E)if(void 0!==(p=D[f.key])){if(b)for(b=!1;d>y;)xu(n[y++],i);h=t[p],x[p-v]=d+1,C>p?w=!0:C=p,h.dom&&(t[p]=h=Fa(h)),Qf(f,h,i,s,o),P++}else b||xu(f,i);else b||xu(f,i)}if(b)rM(i,n),i4(t,i,s,o);else if(w){var I=function gUt(n){var s,o,a,l,c,t=n.slice(),i=[0],u=n.length;for(s=0;s<u;s++){var d=n[s];if(0!==d){if(n[o=i[i.length-1]]<d){t[s]=o,i.push(s);continue}for(a=0,l=i.length-1;a<l;)n[i[c=(a+l)/2|0]]<d?a=c+1:l=c;d<n[i[a]]&&(a>0&&(t[s]=i[a-1]),i[a]=s)}}for(l=i[(a=i.length)-1];a-- >0;)i[a]=l,l=t[l];return i}(x);for(p=I.length-1,d=E-1;d>=0;d--)0===x[d]?((h=t[C=d+v]).dom&&(t[C]=h=Fa(h)),m=C+1,tM(i,fl(h,null,s,o),m<l?t[m].dom:null)):p<0||d!==I[p]?tM(i,(h=t[C=d+v]).dom,(m=C+1)<l?t[m].dom:null):p--}else if(P!==E)for(d=E-1;d>=0;d--)0===x[d]&&((h=t[C=d+v]).dom&&(t[C]=h=Fa(h)),m=C+1,tM(i,fl(h,null,s,o),m<l?t[m].dom:null))}}(i,s,o,a,l,c,u):function hUt(n,t,i,s,o,a,l){for(var d,p,c=a>l?l:a,u=0;u<c;u++)p=n[u],(d=t[u]).dom&&(d=t[u]=Fa(d)),Qf(p,d,i,s,o),n[u]=d;if(a<l)for(u=c;u<l;u++)(d=t[u]).dom&&(d=t[u]=Fa(d)),fl(d,i,s,o);else if(a>l)for(u=c;u<a;u++)xu(n[u],i)}(i,s,o,a,l,c,u)}else 1===t?rM(o,i):2===t&&(rM(o,i),fl(s,o,a,l))}}function iTe(n,t,i,s,o,a,l,c,u){var f,d=n.state,p=n.props;if(i.children=n,!n.$UN){if(p!==s||s===Bo){if(!u&&xr(n.componentWillReceiveProps)){if(n.$BR=!0,n.componentWillReceiveProps(s,a),n.$UN)return;n.$BR=!1}n.$PSS&&(t=e4(t,n.$PS),n.$PSS=!1,n.$PS=null)}var h=!!n.shouldComponentUpdate;if(c||!h||h&&n.shouldComponentUpdate(s,t,a)){xr(n.componentWillUpdate)&&(n.$BS=!0,n.componentWillUpdate(s,t,a),n.$BS=!1),n.props=s,n.state=t,n.context=a,xr(wu.beforeRender)&&wu.beforeRender(n),f=n.render(s,t,a),xr(wu.afterRender)&&wu.afterRender(n);var g,m=f!==CG;if(xr(n.getChildContext)&&(g=n.getChildContext()),g=Ar(g)?a:e4(a,g),n.$CX=g,m){var y=n.$LI,v=r4(f,i);Qf(y,v,o,g,l),n.$LI=v,xr(n.componentDidUpdate)&&n.componentDidUpdate(p,d)}}else n.props=s,n.state=t,n.context=a;i.dom=n.$LI.dom}}function o4(n,t,i){if(n!==CG){var s=t.$V;if(Ar(s)?lm(n)||(n.dom&&(n=Fa(n)),es(t.firstChild)?(fl(n,t,Bo,!1),t.$V=n):function lUt(n,t,i){var s=t.firstChild;if(!es(s))for(lm(n)||s4(n,s,Bo,!1),s=t.firstChild;s=s.nextSibling;)t.removeChild(s);vp.length>0&&kG(vp),t.$V=n,xr(i)&&i()}(n,t),s=n):Ar(n)?(xu(s,t),t.$V=null):(n.dom&&(n=Fa(n)),Qf(s,n,t,Bo,!1),s=t.$V=n),vp.length>0&&kG(vp),xr(i)&&i(),xr(wu.renderComplete)&&wu.renderComplete(s),s&&14&s.flags)return s.children}}function sTe(n,t){return Y(1024,t,null,n,0,null,lm(n)?null:n.key,null)}var oTe=typeof Promise>"u"?null:Promise.resolve(),yUt=typeof requestAnimationFrame>"u"?setTimeout:requestAnimationFrame.bind(window);function aTe(n,t,i,s){xr(t)&&(t=t(n.state,n.props,n.context));var o=n.$PS;if(Ar(o))n.$PS=t;else for(var a in t)o[a]=t[a];if(n.$PSS||n.$BR)n.$PSS=!0,n.$BR&&xr(i)&&vp.push(i.bind(n));else if(n.$UPD){var l=n.$QU;es(l)&&(l=n.$QU=[],function vUt(n){oTe?oTe.then(n):yUt(n)}(function bUt(n,t){return function(){n.$QU=null,n.$UPD=!0,lTe(n,!1,function(){for(var i=0,s=t.length;i<s;i++)t[i].call(n)}),n.$UPD=!1}}(n,l))),xr(i)&&l.push(i)}else n.$PSS=!0,n.$UPD=!0,lTe(n,s,i),n.$UPD=!1}function lTe(n,t,i){if(!n.$UN){if(t||!n.$BR){n.$PSS=!1;var a=e4(n.state,n.$PS),l=n.props,c=n.context;n.$PS=null;var u=n.$V,d=n.$LI;if(iTe(n,a,u,l,d.dom&&d.dom.parentNode,c,(32&u.flags)>0,t,!0),n.$UN)return;if(!(1024&n.$LI.flags))for(var f=n.$LI.dom;!es(u=u.parentVNode);)(14&u.flags)>0&&(u.dom=f);vp.length>0&&kG(vp)}else n.state=n.$PS,n.$PS=null;xr(i)&&i.call(n)}}var Qt=function(){function n(i,s){this.state=null,this.props=void 0,this.context=void 0,this.refs=void 0,this.$BR=!1,this.$BS=!0,this.$PSS=!1,this.$PS=null,this.$LI=null,this.$V=null,this.$UN=!1,this.$CX=null,this.$UPD=!0,this.$QU=null,this.props=i||Bo,this.context=s||Bo}var t=n.prototype;return t.forceUpdate=function(s){this.$UN||aTe(this,{},s,!0)},t.setState=function(s,o){if(!this.$UN){if(this.$BS)return;aTe(this,s,o,!1)}},t.render=function(s,o,a){},n}();Qt.defaultProps=void 0;var cTe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21" style="vertical-align:middle"><path fill="#000000" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="#000000" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>';function uTe(n){var i=lr('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100;">'+cTe+"</a>");n.appendChild(i),Xt.bind(i,"click",function(s){(function CUt(){a4||(a4=lr(xUt),Uo_bind(a4,".backdrop","click",function(n){document.body.removeChild(a4)})),document.body.appendChild(a4)})(),s.preventDefault()})}class VG extends Qt{constructor(t,i){super(t,i),this.node=null}componentDidMount(){uTe(this.node)}render(){return Y(1,"div",null,null,1,null,null,t=>this.node=t)}}function $G(n){return n.join(";")}var a4,xUt='<div class="bjs-powered-by-lightbox" style="'+$G(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"])+'"><div class="backdrop" style="'+$G(["width: 100%","height: 100%","background: rgba(40,40,40,0.2)"])+'"></div><div class="notice" style="'+$G(["position: absolute","left: 50%","top: 40%","transform: translate(-50%)","width: 260px","padding: 10px","background: white","box-shadow: 0 1px 4px rgba(0,0,0,0.3)","font-family: Helvetica, Arial, sans-serif","font-size: 14px","display: flex","line-height: 1.3"])+'"><a href="https://bpmn.io" target="_blank" rel="noopener" style="margin: 15px 20px 15px 10px; align-self: center;">'+cTe+'</a><span>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>',SUt=new Nd,iM="hsl(225, 10%, 15%)";function zG(n,t,i,s,o,a){Qa.call(this,t);var l=SUt.next(),c=s.computeStyle,u={},d=n&&n.defaultFillColor||"white",p=n&&n.defaultStrokeColor||iM,f=n&&n.defaultLabelColor;function h(P,D,I){var k=P+"-"+pTe(D)+"-"+pTe(I)+"-"+l;return u[k]||function g(P,D,I,k){if("association-start"===D){var F=$t("path");Pt(F,{d:"M 11 5 L 1 10 L 11 15"}),m(P,{element:F,attrs:{fill:"none",stroke:k,strokeWidth:1.5},ref:{x:1,y:10},scale:.5})}else if("association-end"===D){var M=$t("path");Pt(M,{d:"M 1 5 L 11 10 L 1 15"}),m(P,{element:M,attrs:{fill:"none",stroke:k,strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}else if("information-requirement-end"===D){var B=$t("path");Pt(B,{d:"M 1 5 L 11 10 L 1 15 Z"}),m(P,{element:B,attrs:{fill:k,stroke:"none"},ref:{x:11,y:10},scale:1})}else if("knowledge-requirement-end"===D){var q=$t("path");Pt(q,{d:"M 1 3 L 11 10 L 1 17"}),m(P,{element:q,attrs:{fill:"none",stroke:k,strokeWidth:2},ref:{x:11,y:10},scale:.8})}else if("authority-requirement-end"===D){var ue=$t("circle");Pt(ue,{cx:3,cy:3,r:3}),m(P,{element:ue,attrs:{fill:k,stroke:"none"},ref:{x:3,y:3},scale:.9})}}(k,P,0,I),"url(#"+k+")"}function m(P,D){var I=pe({strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},D.attrs),k=D.ref||{x:0,y:0},F=D.scale||1;"none"===I.strokeDasharray&&(I.strokeDasharray=[1e4,1]);var M=$t("marker");Pt(D.element,I),sn(M,D.element),Pt(M,{id:P,viewBox:"0 0 20 20",refX:k.x,refY:k.y,markerWidth:20*F,markerHeight:20*F,orient:"auto"});var B=dn("defs",a._svg);B||(B=$t("defs"),sn(a._svg,B)),sn(B,M),u[P]=M}function y(P,D,I,k,F,M){fr(F)&&(M=F,F=0),F=F||0,M=c(M,{stroke:iM,strokeWidth:2,fill:"white"});var B=$t("rect");return Pt(B,{x:F,y:F,width:D-2*F,height:I-2*F,rx:k,ry:k}),Pt(B,M),sn(P,B),B}function v(P,D,I){var k=o.createText(D||"",I);return fo(k,"class","djs-label"),sn(P,k),k}function _(P,D,I,k){var F=function OHt(n){return pd(n).name}(D);return v(P,F,k=pe({box:D,align:I,padding:5,style:{fill:fTe(0,f,p)}},k))}function E(P,D,I){I=c(I,["no-fill"],{strokeWidth:2,stroke:iM});var k=$t("path");return Pt(k,{d:D}),Pt(k,I),sn(P,k),k}var x={"dmn:Decision":function(P,D){var I=y(P,D.width,D.height,0,{stroke:bp(0,p),fill:um(0,d)});return _(P,D,"center-middle"),I},"dmn:KnowledgeSource":function(P,D){var k=E(P,i.getScaledPath("KNOWLEDGE_SOURCE",{xScaleFactor:1.021,yScaleFactor:1,containerWidth:D.width,containerHeight:D.height,position:{mx:0,my:.075}}),{strokeWidth:2,fill:um(0,d),stroke:bp(0,p)});return _(P,D,"center-middle"),k},"dmn:BusinessKnowledgeModel":function(P,D){var k=E(P,i.getScaledPath("BUSINESS_KNOWLEDGE_MODEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:D.width,containerHeight:D.height,position:{mx:0,my:.3}}),{strokeWidth:2,fill:um(0,d),stroke:bp(0,p)});return _(P,D,"center-middle"),k},"dmn:InputData":function(P,D){var I=y(P,D.width,D.height,22,{stroke:bp(0,p),fill:um(0,d)});return _(P,D,"center-middle"),I},"dmn:TextAnnotation":function(P,D){var k=y(P,D.width,D.height,0,0,{fill:"none",stroke:"none"});return E(P,i.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:D.width,containerHeight:D.height,position:{mx:0,my:0}}),{stroke:bp(0,p)}),v(P,dTe(D).text||"",{style:{fill:fTe(0,f,p)},box:D,align:"left-top",padding:5}),k},"dmn:Association":function(P,D){var I=dTe(D),k=um(0,d),F=bp(0,p),M={stroke:F,strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"};return("One"===I.associationDirection||"Both"===I.associationDirection)&&(M.markerEnd=h("association-end",k,F)),"Both"===I.associationDirection&&(M.markerStart=h("association-start",k,F)),C(P,D.waypoints,M)},"dmn:InformationRequirement":function(P,D){var I=um(0,d),k=bp(0,p),F={stroke:k,strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:h("information-requirement-end",I,k)};return C(P,D.waypoints,F)},"dmn:KnowledgeRequirement":function(P,D){var I=um(0,d),k=bp(0,p),F={stroke:k,strokeWidth:1,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:h("knowledge-requirement-end",I,k)};return C(P,D.waypoints,F)},"dmn:AuthorityRequirement":function(P,D){var I=um(0,d),k=bp(0,p),F={stroke:k,strokeWidth:1.5,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:h("authority-requirement-end",I,k)};return C(P,D.waypoints,F)}};function C(P,D,I){var k=lE(D,I=c(I,["no-fill"],{stroke:iM,strokeWidth:2,fill:"none"}));return sn(P,k),k}this.canRender=function(P){return Be(P,"dmn:DMNElement")||Be(P,"dmn:InformationRequirement")||Be(P,"dmn:KnowledgeRequirement")||Be(P,"dmn:AuthorityRequirement")},this.drawShape=function b(P,D){var I=x[D.type];return I?I(P,D):Qa.prototype.drawShape.apply(this,[P,D])},this.drawConnection=function w(P,D){var k=x[D.type];return k?k(P,D):Qa.prototype.drawConnection.apply(this,[P,D])}}function dTe(n){return n.businessObject}function pTe(n){return n.replace(/[^0-9a-zA-z]+/g,"_")}function bp(n,t){return t}function um(n,t){return t}function fTe(n,t,i){return t||bp(0,i)}function hTe(n){var t=pe({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},n&&n.defaultStyle||{}),i=parseInt(t.fontSize,10)-1,s=pe({},t,{fontSize:i},n&&n.externalStyle||{}),o=new dE({style:t});this.getExternalLabelBounds=function(a,l){var c=o.getDimensions(l,{box:{width:90,height:30,x:a.width/2+a.x,y:a.height/2+a.y},style:s});return{x:Math.round(a.x+a.width/2-c.width/2),y:Math.round(a.y),width:Math.ceil(c.width),height:Math.ceil(c.height)}},this.getTextAnnotationBounds=function(a,l){var c=o.getDimensions(l,{box:a,style:t,align:"left-top",padding:5});return{x:a.x,y:a.y,width:a.width,height:Math.max(30,Math.round(c.height))}},this.createText=function(a,l){return o.createText(a,l||{})},this.getDefaultStyle=function(){return t},this.getExternalStyle=function(){return s}}Lt(zG,Qa),zG.$inject=["config.drdRenderer","eventBus","pathMap","styles","textRenderer","canvas"],hTe.$inject=["config.textRenderer"];var kUt=/\{([^{}]+)\}/g,MUt=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;const RUt={__init__:["drdRenderer"],drdRenderer:["type",zG],textRenderer:["type",hTe],pathMap:["type",function DUt(){this.pathMap={KNOWLEDGE_SOURCE:{d:"m {mx},{my} l 0,{e.y0} c {e.x0},{e.y1} {e.x1},-{e.y2} {e.x2},-{e.y3} c {e.x3},-{e.y4} {e.x4},{e.y5} {e.x5},{e.y6} l 0,-{e.y7}z",width:100,height:65,widthElements:[29.8,48.4,67.2,12.2,19.8,30.8],heightElements:[55.3,19.7,4.2,6.7,2.3,1.6,6.2,54.6]},BUSINESS_KNOWLEDGE_MODEL:{d:"m {mx},{my} l {e.x0},-{e.y0} l {e.x1},0 l 0,{e.y1} l -{e.x2},{e.y2} l -{e.x3},0z",width:125,height:45,widthElements:[13.8,109.2,13.8,109.1],heightElements:[13.2,29.8,13.2]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",width:10,height:30,widthElements:[10],heightElements:[30]}},this.getRawPath=function(t){return this.pathMap[t].d},this.getScaledPath=function(t,i){var o,a,s=this.pathMap[t];i.abspos?(o=i.abspos.x,a=i.abspos.y):(o=i.containerWidth*i.position.mx,a=i.containerHeight*i.position.my);var l={};if(i.position){for(var c=i.containerHeight/s.height*i.yScaleFactor,u=i.containerWidth/s.width*i.xScaleFactor,d=0;d<s.heightElements.length;d++)l["y"+d]=s.heightElements[d]*c;for(var p=0;p<s.widthElements.length;p++)l["x"+p]=s.widthElements[p]*u}var f=function IUt(n,t){return String(n).replace(kUt,function(i,s){return function AUt(n,t,i){var s=i;return t.replace(MUt,function(o,a,l,c,u){a=a||c,s&&(a in s&&(s=s[a]),"function"==typeof s&&u&&(s=s()))}),s=(null==s||s==i?n:s)+""}(i,s,t)})}(s.d,{mx:o,my:a,e:l});return f}}]};function X1(n,t,i,s){this._eventBus=n,this._canvas=t,this._elementRegistry=s,this._elementFactory=i}function HG(n,t){return pe({id:n.id,type:n.$type,businessObject:n},t)}function mTe(n){return n.split("#").pop()}X1.$inject=["eventBus","canvas","elementFactory","elementRegistry"],X1.prototype.root=function(n){var t=this._elementFactory.createRoot(HG(n));return this._canvas.setRootElement(t),t},X1.prototype.add=function(n){var a,l,c,u,d,p,t=this._elementFactory,i=this._canvas,s=this._eventBus,o=n.di;if(o.$instanceOf("dmndi:DMNShape"))p=o.bounds,d=HG(n,{x:Math.round(p.x),y:Math.round(p.y),width:Math.round(p.width),height:Math.round(p.height)}),a=t.createShape(d),i.addShape(a),s.fire("drdElement.added",{element:a,di:o});else{if(!o.$instanceOf("dmndi:DMNEdge"))throw new Error("unknown di for element "+n.id);l=function NUt(n){var t=n.waypoint;if(t)return xs(t,function(i){var s={x:i.x,y:i.y};return pe({original:s},s)})}(o),c=this._getSource(n),u=this._getTarget(n),c&&u&&(d=HG(n,{hidden:!1,source:c,target:u,waypoints:l}),a=t.createConnection(d),i.addConnection(a),s.fire("drdElement.added",{element:a,di:o}))}return a},X1.prototype._getSource=function(n){var t,i;if(Be(n,"dmn:Association")?i=n.sourceRef:Be(n,"dmn:InformationRequirement")?i=n.requiredDecision||n.requiredInput:Be(n,"dmn:KnowledgeRequirement")?i=n.requiredKnowledge:Be(n,"dmn:AuthorityRequirement")&&(i=n.requiredDecision||n.requiredInput||n.requiredAuthority),i&&(t=i.href),t)return this._getShape(mTe(t))},X1.prototype._getTarget=function(n){return Be(n,"dmn:Association")?n.targetRef&&this._getShape(mTe(n.targetRef.href)):this._getShape(n.$parent.id)},X1.prototype._getShape=function(n){return this._elementRegistry.get(n)};const LUt={__depends__:[RUt,{drdImporter:["type",X1]}]};function sM(n,t,i){this._eventBus=n,this._canvas=t,this._translate=i,n.on("diagram.init",function(){this._init()},this),n.on("import.done",function(s){s.error||this.update()},this),this.HTML_MARKUP='<div class="dmn-definitions"><div class="dmn-definitions-name" title="'+this._translate("Definition name")+'" spellcheck="false"></div><div class="dmn-definitions-id" title="'+this._translate("Definition ID")+'" spellcheck="false"></div></div>'}function UG(n,t){function i(s,o){Nn(t.getContainer()).toggle(s,o)}n.on("palette.create",function(){i("with-palette",!0)}),n.on("palette.changed",function(s){i("with-palette-two-column",s.twoColumn)})}sM.$inject=["eventBus","canvas","translate"],sM.prototype._init=function(){var t=this._eventBus,i=this._canvas.getContainer(),s=this._container=lr(this.HTML_MARKUP);i.appendChild(s),this.nameElement=dn(".dmn-definitions-name",this._container),this.idElement=dn(".dmn-definitions-id",this._container),Uo_bind(s,".dmn-definitions-name, .dmn-definitions-id","mousedown",function(o){o.stopPropagation()}),t.fire("definitionIdView.create",{html:s})},sM.prototype.update=function(){var n=this._canvas.getRootElement().businessObject;this.nameElement.textContent=n.name,this.idElement.textContent=n.id},UG.$inject=["eventBus","canvas"];const qG={__depends__:[So],__init__:["definitionPropertiesView","definitionPropertiesPaletteAdapter"],definitionPropertiesView:["type",sM],definitionPropertiesPaletteAdapter:["type",UG]};var gTe=[{className:"dmn-icon-decision-table",matches:function(n){var t=pd(n);return Be(t,"dmn:Decision")&&Be(t.decisionLogic,"dmn:DecisionTable")},title:"Open decision table"},{className:"dmn-icon-literal-expression",matches:function(n){return Be(Zk(n),"dmn:LiteralExpression")},title:"Open literal expression"}];const FUt={__depends__:[Dv,So],__init__:["drillDown"],drillDown:["type",(()=>{class n{constructor(i,s,o,a,l){this._injector=i,this._eventBus=s,this._overlays=o,this._translate=l,this._config=a||{enabled:!0},s.on(["shape.added"],({element:c})=>{for(let d=0;d<gTe.length;d++){const{matches:p,className:f,title:h}=gTe[d];p&&p(c)&&this.addOverlay(c,f,h)}})}addOverlay(i,s,o){const a=!1!==this._config.enabled,l=this._getOverlayNode(s,o,a),c=this._overlays.add(i,{position:{top:2,left:2},html:l});a&&(Nn(l).add("interactive"),this.bindEventListener(i,l,c))}_getOverlayNode(i,s,o){const a=document.createElement("div");if(a.className="drill-down-overlay",!o){const c=document.createElement("span");return c.className=i,a.appendChild(c),a}const l=document.createElement("button");return l.type="button",l.className=i,l.title=this._translate(s),a.appendChild(l),a}bindEventListener(i,s,o){const l=this._eventBus;Uo_bind(this._overlays._overlayRoot,'[data-overlay-id="'+o+'"]',"click",()=>{!1!==l.fire("drillDown.click",{element:i})&&this.drillDown(i)})}drillDown(i){const s=this._injector.get("_parent",!1);if(!s)return!1;const o=s.getView(i.businessObject);return!!o&&(s.open(o),!0)}}return n.$inject=["injector","eventBus","overlays","config.drillDown","translate"],n})()]};function hl(n){this._container=this._createContainer(),uTe(this._container),this._init(this._container,n)}function yTe(n){return Be(n,"dmn:Decision")||Be(n,"dmn:BusinessKnowledgeModel")||Be(n,"dmn:InputData")||Be(n,"dmn:KnowledgeSource")?"name":Be(n,"dmn:TextAnnotation")?"text":void 0}function oM(n){var t=n.businessObject,i=yTe(t);if(i)return t[i]||""}function WG(n,t,i){this._elementRegistry=n,this._canvas=i,t.registerProvider(this)}function vTe(n){return hn(n,function(i){return!!i.matched}).length>0}function bTe(n,t){const i=[],s=n;if(!n)return i;n=n.toLowerCase(),t=t.toLowerCase();const o=n.indexOf(t);return o>-1?(0!==o&&i.push({normal:s.substr(0,o)}),i.push({matched:s.substr(o,t.length)}),t.length+o<n.length&&i.push({normal:s.substr(t.length+o,n.length)})):i.push({normal:s}),i}Lt(hl,Vu),hl.prototype.saveSVG=Yk(function(n){var t=this;return new Promise(function(i){var s=t.get("canvas"),o=s.getActiveLayer(),a=dn("defs",s._svg),l=pN(o),c=a&&a.outerHTML||"",u=o.getBBox();i({svg:'<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with dmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+u.width+'" height="'+u.height+'" viewBox="'+u.x+" "+u.y+" "+u.width+" "+u.height+'" version="1.1">'+c+l+"</svg>"})})}),hl.prototype.getModules=function(){return this._modules},hl.prototype.destroy=function(){Vu.prototype.destroy.call(this),xo(this._container)},hl.prototype.on=function(n,t,i,s){return this.get("eventBus").on(n,t,i,s)},hl.prototype.off=function(n,t){this.get("eventBus").off(n,t)},hl.prototype._init=function(n,t){var{additionalModules:i,canvas:s,...o}=t,u={...o,canvas:{...s,container:n},modules:[{drd:["value",this]},...t.modules||this.getModules(),...i||[]]};Vu.call(this,u),t&&t.container&&this.attachTo(t.container)},hl.prototype._emit=function(n,t){return this.get("eventBus").fire(n,t)},hl.prototype._createContainer=function(){return lr('<div class="dmn-drd-container"></div>')},hl.prototype.open=function(n){var t=this;return new Promise((i,s)=>{var o;try{return t._definitions&&t.clear(),t._definitions=n,function AHt(n,t,i){var a,s=n.get("drdImporter"),o=n.get("eventBus"),l=[];o.fire("import.start",{definitions:t});try{!function c(u){new MHt({root:function(f){return s.root(f)},element:function(f,h){return s.add(f,h)},error:function(f,h){l.push({message:f,context:h})}}).handleDefinitions(u)}(t)}catch(u){a=u}o.fire("import.done",{error:a,warnings:l}),i(a,l)}(t,n,function(a,l){a?(a.warnings=l||[],s(a)):i({warnings:l||[]})})}catch(a){o=a}o?(o.warnings=o.warnings||[],s(o)):i({warnings:[]})})},hl.prototype.attachTo=function(n){if(!n)throw new Error("parentNode required");this.detach(),n.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},hl.prototype.detach=function(){var n=this._container,t=n.parentNode;t&&(this._emit("detach",{}),t.removeChild(n))},hl.prototype._modules=[LUt,So,Al,Dv,qG,FUt],WG.$inject=["elementRegistry","searchPad","canvas"],WG.prototype.find=function(n){const t=this._canvas.getRootElement();let i=this._elementRegistry.filter(function(s){return!s.labelTarget});return i=hn(i,function(s){return s!==t}),i=xs(i,function(s){return{primaryTokens:bTe(oM(s),n),secondaryTokens:bTe(s.id,n),element:s}}),i=hn(i,function(s){return vTe(s.primaryTokens)||vTe(s.secondaryTokens)}),i=Ys(i,function(s){return oM(s.element)+s.element.id}),i};const jUt={__depends__:[T0e],__init__:["dmnSearch"],dmnSearch:["type",WG]};function Z1(n){hl.call(this,n)}Lt(Z1,hl),Z1.prototype._modules=[].concat(Z1.prototype._modules,Z1.prototype._navigationModules=[XN,GN,jUt]);var VUt={width:135,height:46},_Te={width:180,height:80},$Ut={width:125,height:45},zUt={width:100,height:63};function Q1(n){Kc.call(this),this._drdFactory=n}Lt(Q1,Kc),Q1.$inject=["drdFactory"],Q1.prototype.baseCreate=Kc.prototype.create,Q1.prototype.create=function(n,t){return this.createDrdElement(n,t)},Q1.prototype.createDrdElement=function(n,t){var s,i=this._drdFactory,o=(t=t||{}).businessObject;if(!o){if(!t.type)throw new Error("no shape type specified");o=i.create(t.type)}return o.di||("connection"===n?o.di=i.createDiEdge(o,[]):"shape"===n&&(o.di=i.createDiShape(o,{}))),s=this._getDefaultSize(o),t=pe({businessObject:o,id:o.id},s,t),this.baseCreate(n,t)},Q1.prototype._getDefaultSize=function(n){return Be(n,"dmn:BusinessKnowledgeModel")?VUt:Be(n,"dmn:Decision")?_Te:Be(n,"dmn:InputData")?$Ut:Be(n,"dmn:KnowledgeSource")?zUt:{width:100,height:80}};var GG="left",wTe=_Te.width;function WUt(n){return!Be(n,"dmn:Association")}function xTe(n,t){return Math.abs(t.x-n.x)}function CTe(n){n.on("autoPlace",function(t){return function HUt(n,t){return Be(t,"dmn:TextAnnotation")?function UUt(n,t){var i=tn(n);return QE(n,t,{x:i.right+t.width/2,y:i.top-50-t.height/2},XO({y:{margin:-30,minDistance:20}}))}(n,t):Be(t,"dmn:DRGElement")?function qUt(n,t){var i=tn(n),s=cn(n),a=ade(n,{defaultDistance:180,direction:"s",getWeight:function o(c){return c.target===n?1:-1},filter:WUt,reference:"center"});return QE(n,t,{x:s.x,y:i.bottom+a},function GUt(n){var i,s,t=cn(n);return function(o,a,l){var c;return i?(a.x<t.x?i=l:s=l,c=xTe(t,cn(i))<xTe(t,cn(s))?GG:"right"):(i=l,s=l,c=cn(l).x-t.x>0?GG:"right"),c===GG?{x:Math.min(cn(i).x-wTe-60,tn(i).left-60-o.width/2),y:a.y}:{x:Math.max(cn(s).x+wTe+60,tn(s).right+60+o.width/2),y:a.y}}}(n))}(n,t):void 0}(t.source,t.shape)})}CTe.$inject=["eventBus"];const KUt={__depends__:[ude],__init__:["dmnAutoPlace"],dmnAutoPlace:["type",CTe]};function STe(n,t,i,s){this.replaceElement=function o(a,l,c){c=c||{};var u=l.type,d=a.businessObject,p=n.create(u),f={type:u,businessObject:p};if(f.width=a.width,f.height=a.height,p.name=d.name,l.table){var h=n.create("dmn:DecisionTable");h.$parent=p;var m=n.create("dmn:OutputClause");m.typeRef="string",m.$parent=h,h.output=[m];var g=n.create("dmn:InputClause");g.$parent=h;var y=n.create("dmn:LiteralExpression",{typeRef:"string"});g.inputExpression=y,y.$parent=g,h.input=[g],OTe(p,h,n)}if(l.expression){var v=n.create("dmn:LiteralExpression"),_=n.create("dmn:InformationItem");OTe(p,v,n,_)}return t.replaceElement(a,f,c)}}function OTe(n,t,i,s){if(Be(n,"dmn:Decision"))n.decisionLogic=t,t.$parent=n;else if(Be(n,"dmn:BusinessKnowledgeModel")){var o=i.create("dmn:FunctionDefinition",{body:t});n.encapsulatedLogic=o,o.$parent=n,t.$parent=o}s&&(n.variable=s,s.$parent=n)}STe.$inject=["drdFactory","replace","selection","modeling"];const YUt={__depends__:[Efe,Al],drdReplace:["type",STe]},TTe_DECISION=[{label:"Empty",actionName:"replace-with-empty-decision",className:"dmn-icon-clear",target:{type:"dmn:Decision",table:!1,expression:!1}},{label:"Decision table",actionName:"replace-with-decision-table",className:"dmn-icon-decision-table",target:{type:"dmn:Decision",table:!0,expression:!1}},{label:"Literal expression",actionName:"replace-with-literal-expression",className:"dmn-icon-literal-expression",target:{type:"dmn:Decision",table:!1,expression:!0}}],TTe_BKM=[{label:"Empty",actionName:"replace-with-empty",className:"dmn-icon-clear",target:{type:"dmn:BusinessKnowledgeModel",table:!1,expression:!1}},{label:"Literal Expression",actionName:"replace-with-literal-expression",className:"dmn-icon-literal-expression",target:{type:"dmn:BusinessKnowledgeModel",table:!1,expression:!0}}];function J1(n,t,i,s,o,a){this._popupMenu=n,this._modeling=t,this._moddle=i,this._drdReplace=s,this._rules=o,this._translate=a,this.register()}J1.$inject=["popupMenu","modeling","moddle","drdReplace","rules","translate"],J1.prototype.register=function(){this._popupMenu.registerProvider("dmn-replace",this)},J1.prototype.getEntries=function(n){var s,o,t=n.businessObject;return this._rules.allowed("shape.replace",{element:n})?Be(t,"dmn:Decision")?(o=Zk(t),s=hn(TTe_DECISION,function(a){var l="replace-with-empty-decision"===a.actionName&&o,c="replace-with-decision-table"===a.actionName&&!Be(o,"dmn:DecisionTable"),u="replace-with-literal-expression"===a.actionName&&!Be(o,"dmn:LiteralExpression");return l||c||u}),this._createEntries(n,s)):Be(t,"dmn:BusinessKnowledgeModel")?(o=Zk(t),s=hn(TTe_BKM,function(a){var l="replace-with-empty"===a.actionName&&o,c="replace-with-decision-table"===a.actionName&&!Be(o,"dmn:DecisionTable"),u="replace-with-literal-expression"===a.actionName&&!Be(o,"dmn:LiteralExpression");return l||c||u}),this._createEntries(n,s)):[]:[]},J1.prototype._createEntries=function(n,t){var i=[],s=this;return se(t,function(o){var a=s._createMenuEntry(o,n);i.push(a)}),i},J1.prototype._createMenuEntry=function(n,t,i){var s=this._drdReplace.replaceElement;return i=i||function(){return s(t,n.target)},{label:(0,this._translate)(n.label),className:n.className,id:n.actionName,action:i}},J1.prototype.getHeaderEntries=function(n){return[]};const XUt={__depends__:[So,KO,YUt],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",J1]};function KG(n,t,i,s,o,a,l,c,u,d,p,f){p=p||{},t.registerProvider(this),this._contextPad=t,this._modeling=i,this._elementFactory=s,this._connect=o,this._create=a,this._rules=l,this._popupMenu=c,this._canvas=u,this._translate=d,!1!==p.autoPlace&&(this._autoPlace=f.get("autoPlace",!1)),n.on("create.end",250,function(h){var m=h.context.shape;if(Mv(h)){var g=t.getEntries(m);g.replace&&g.replace.action.click(h,m)}})}KG.$inject=["eventBus","contextPad","modeling","elementFactory","connect","create","rules","popupMenu","canvas","translate","config.contextPad","injector"],KG.prototype.getContextPadEntries=function(n){var t=this._modeling,i=this._elementFactory,s=this._connect,o=this._create,a=this._popupMenu,l=this._contextPad,c=this._rules,u=this._translate,d=this._autoPlace,p={};if("label"===n.type)return p;var f=n.businessObject;function h(_,E,x){s.start(_,E,x)}function y(_,E,x,b){function w(P,D){var I=i.createShape(pe({type:_},b));o.start(P,I,{source:D,hints:{connectionTarget:D}})}return{group:"model",className:E,title:x,action:{dragstart:w,click:d?function(P,D){var I=i.createShape(pe({type:_},b));d.append(D,I,{connectionTarget:D})}:w}}}Be(f,"dmn:Decision")&&pe(p,{"append.decision":y("dmn:Decision","dmn-icon-decision",u("Append decision"))}),pl(f,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:KnowledgeSource"])&&pe(p,{"append.knowledge-source":y("dmn:KnowledgeSource","dmn-icon-knowledge-source",u("Append knowledge source"))}),pl(f,["dmn:BusinessKnowledgeModel","dmn:Decision"])&&pe(p,{"append.business-knowledge-model":y("dmn:BusinessKnowledgeModel","dmn-icon-business-knowledge",u("Append business knowledge model"))}),pl(f,["dmn:Decision","dmn:KnowledgeSource"])&&pe(p,{"append.input-data":y("dmn:InputData","dmn-icon-input-data",u("Append input data"))}),Be(f,"dmn:DRGElement")&&pe(p,{"append.text-annotation":y("dmn:TextAnnotation","dmn-icon-text-annotation",u("Add text annotation")),connect:{group:"connect",className:"dmn-icon-connection-multi",title:u("Connect to other element"),action:{click:h,dragstart:h}}}),Be(f,"dmn:TextAnnotation")&&pe(p,{connect:{group:"connect",className:"dmn-icon-connection-multi",title:u("Connect to other element"),action:{click:h,dragstart:h}}}),a.isEmpty(n,"dmn-replace")||pe(p,{replace:{group:"edit",className:"dmn-icon-screw-wrench",title:u("Change type"),action:{click:function(_,E){var x=pe(function g(_){var b=l.getPad(_).html.getBoundingClientRect();return{x:b.left,y:b.bottom+5}}(E),{cursor:{x:_.x,y:_.y}});a.open(E,"dmn-replace",x)}}}});var v=c.allowed("elements.delete",{elements:[n]});return Vt(v)&&(v=v[0]===n),v&&pe(p,{delete:{group:"edit",className:"dmn-icon-trash",title:u("Delete"),action:{click:function m(_){t.removeElements([n])}}}}),p};const ZUt={__depends__:[So,zL,Al,r8,ub,XUt],__init__:["contextPadProvider"],contextPadProvider:["type",KG]},QUt=/\s/,JUt=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,eqt=/^[a-z_][\w-.]*$/i,tqt=/\$\{([^}]*)\}/g;function i2(n,t,i,s,o){this._eventBus=n,this._modeling=t,this._canvas=i,this._definitionPropertiesView=s,this._translate=o,n.on("definitionIdView.create",function(a){this._container=a.html;var l=dn(".dmn-definitions-name",this._container),c=dn(".dmn-definitions-id",this._container);this._setup(l,"name"),this._setup(c,"id")},this)}i2.$inject=["eventBus","modeling","canvas","definitionPropertiesView","translate"],i2.prototype.update=function(n,t){var i=this._canvas.getRootElement(),s={};if(s[n]=t,"id"===n){var o=function nqt(n,t){const i=n.$model.ids.assigned(t);return t?i&&i!==n?"Element must have unique ID.":function rqt(n){return function iqt(n){return QUt.test(n)}(n=function sqt(n){return n.replace(tqt,"$1")}(n))?"Id must not contain spaces.":eqt.test(n)?void 0:JUt.test(n)?"Id must not contain prefix.":"Id must be a valid QName."}(t):"Element must have ID."}(pd(i),t);if(o)return void this._addErrorMessage(o);this._clearErrorMessage()}this._modeling.updateProperties(i,s)},i2.prototype._setup=function(n,t){var i=this;n.setAttribute("contenteditable",!0),n.addEventListener("input",xv(function(s){i.update(t,(s.target.value||s.target.textContent).trim())},300)),n.addEventListener("keydown",function(s){13===s.keyCode&&(n.blur(),window.getSelection().removeAllRanges())}),n.addEventListener("blur",function(){i._clearErrorMessage(),i._definitionPropertiesView.update()})},i2.prototype._addErrorMessage=function(n){const t='<span class="dmn-definitions-error-message">'+this._translate(n)+"</span>";var i=dn(".dmn-definitions-id",this._container);this._clearErrorMessage(),Nn(i).add("dmn-definitions-error"),i.parentElement.appendChild(lr(t))},i2.prototype._clearErrorMessage=function(){var n=dn(".dmn-definitions-id",this._container);if(Nn(n).has("dmn-definitions-error")){Nn(n).remove("dmn-definitions-error");const t=dn(".dmn-definitions-error-message",this._container);n.parentNode.removeChild(t)}};const aqt={__depends__:[qG],__init__:["definitionPropertiesEdit","definitionPropertiesPaletteAdapter"],definitionPropertiesEdit:["type",i2],definitionPropertiesPaletteAdapter:["type",UG]};function PTe(n){n.registerFilter(function(t){return hn(t,function(i){var s=pl(i,["dmn:AuthorityRequirement","dmn:InformationRequirement","dmn:KnowledgeRequirement","dmn:Association","dmn:TextAnnotation"]);return!(i.labelTarget||s)})})}PTe.$inject=["distributeElements"];const lqt={__depends__:[Ehe],__init__:["drdDistributeElements"],drdDistributeElements:["type",PTe]};function lM(n){n.invoke(nl,this)}Lt(lM,nl),lM.$inject=["injector"],lM.prototype._registerDefaultActions=function(n){nl.prototype._registerDefaultActions.call(this,n);const t=n.get("canvas",!1),i=n.get("elementRegistry",!1),s=n.get("selection",!1),o=n.get("lassoTool",!1),a=n.get("handTool",!1),l=n.get("directEditing",!1),c=n.get("distributeElements",!1),u=n.get("alignElements",!1),d=n.get("searchPad",!1);t&&i&&s&&this._registerAction("selectElements",function(){var p=t.getRootElement(),f=i.filter(function(h){return h!==p});return s.select(f),f}),s&&c&&this._registerAction("distributeElements",function(p){var f=s.get();f.length>2&&c.trigger(f,p.type)}),s&&u&&this._registerAction("alignElements",function(p){var f=s.get();f.length>1&&u.trigger(f,p.type)}),o&&this._registerAction("lassoTool",function(){o.toggle()}),a&&this._registerAction("handTool",function(){a.toggle()}),s&&l&&this._registerAction("directEditing",function(){var p=s.get();p.length&&l.activate(p[0])}),s&&d&&this._registerAction("find",function(){d.toggle()})};const cqt={__depends__:[Che],editorActions:["type",lM]};function DTe(n){return n.dmnDI&&n.dmnDI.diagrams&&n.dmnDI.diagrams[0]}function kTe(n,t,i,s){i.on("import.start",({definitions:a})=>{DTe(a)||function o(a){var l=a.dmnDI;l||(l=n.create("dmndi:DMNDI"),a.set("dmnDI",l));var c=n.create("dmndi:DMNDiagram");l.set("diagrams",[c]);var u=0;se(a.get("drgElement"),function(d){if(Be(d,"dmn:Decision")){var p=t._getDefaultSize(d),f=n.createDiShape(d,{x:150+30*u,y:150+30*u,width:p.width,height:p.height});s.updateDiParent(f,c),u++}})}(a)})}kTe.$inject=["drdFactory","elementFactory","eventBus","drdUpdater"];const uqt={__init__:["diGenerator"],diGenerator:["type",kTe]};function cM(n){n.invoke(Xp,this)}Lt(cM,Xp),cM.$inject=["injector"],cM.prototype.registerBindings=function(n,t){function i(s,o){t.isRegistered(s)&&n.addListener(o)}Xp.prototype.registerBindings.call(this,n,t),i("selectElements",function(s){var o=s.keyEvent;if(n.isKey(["a","A"],o)&&n.isCmd(o))return t.trigger("selectElements"),!0}),i("lassoTool",function(s){var o=s.keyEvent;if(!n.hasModifier(o)&&n.isKey(["l","L"],o))return t.trigger("lassoTool"),!0}),i("handTool",function(s){var o=s.keyEvent;if(!n.hasModifier(o)&&n.isKey(["h","H"],o))return t.trigger("handTool"),!0}),i("directEditing",function(s){var o=s.keyEvent;if(!n.hasModifier(o)&&n.isKey(["e","E"],o))return t.trigger("directEditing"),!0}),i("find",function(s){var o=s.keyEvent;if(n.isKey(["f","F"],o)&&n.isCmd(o))return t.trigger("find"),!0})};const dqt={__depends__:[xE],__init__:["keyboardBindings"],keyboardBindings:["type",cM]};var MTe="djs-label-hidden";function l4(n,t,i,s,o){this._canvas=n,this._modeling=s,this._textRenderer=o,this._eventBus=i,t.registerProvider(this),i.on("element.dblclick",function(a){t.activate(a.element)}),i.on(["autoPlace.start","canvas.viewbox.changing","drag.init","drillDown.click","element.mousedown","popupMenu.open","selection.changed"],function(){t.complete()}),i.on(["commandStack.changed"],function(){t.cancel()}),i.on("create.end",500,function(a){var l=a.shape;(Be(l,"dmn:Decision")||Be(l,"dmn:InputData")||Be(l,"dmn:BusinessKnowledgeModel")||Be(l,"dmn:KnowledgeSource")||Be(l,"dmn:TextAnnotation"))&&t.activate(l)}),i.on("autoPlace.end",500,function(a){t.activate(a.shape)}),this._eventBus.on(["directEditing.complete","directEditing.cancel"],function(a){var l=a.active;l&&n.removeMarker(l.element.label||l.element,MTe)})}l4.$inject=["canvas","directEditing","eventBus","modeling","textRenderer"],l4.prototype.activate=function(n){var t=oM(n);if(Hr(t)){var i={text:t};pe(i,this.getEditingBBox(n));var o={},a=i.style||{};return Be(n,"dmn:DRGElement")&&(pe(o,{centerVertically:!0}),pe(a,{backgroundColor:null,border:null})),Be(n,"dmn:TextAnnotation")&&pe(o,{resizable:!0}),pe(i,{options:o,style:a}),this._canvas.addMarker(n,MTe),i}},l4.prototype.getEditingBBox=function(n){var t=this._canvas,s=t.getAbsoluteBBox(n.label||n),o={x:s.x,y:s.y},a=t.zoom(),l=this._textRenderer.getDefaultStyle(),c=l.fontSize*a,u=l.lineHeight,d={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};return Be(n,"dmn:DRGElement")&&(pe(o,{width:s.width,height:s.height}),pe(d,{fontSize:c+"px",lineHeight:u,paddingTop:7*a+"px",paddingBottom:7*a+"px",paddingLeft:5*a+"px",paddingRight:5*a+"px"})),Be(n,"dmn:TextAnnotation")&&(pe(o,{width:s.width,height:s.height,minWidth:30*a,minHeight:10*a}),pe(d,{textAlign:"left",paddingTop:5*a+"px",paddingBottom:7*a+"px",paddingLeft:7*a+"px",paddingRight:5*a+"px",fontSize:c+"px",lineHeight:u})),{bounds:o,style:d}},l4.prototype.update=function(n,t,i,s){var o,a;Be(n,"dmn:TextAnnotation")&&(a=this._canvas.getAbsoluteBBox(n),o={x:n.x,y:n.y,width:n.width/a.width*s.width,height:n.height/a.height*s.height}),function pqt(n){return!n||!n.trim()}(t)&&(t=null),this._modeling.updateLabel(n,t,o)};const fqt={__depends__:[I8,gE,IB],__init__:["labelEditingProvider"],labelEditingProvider:["type",l4]};function YG(n,t){t.invoke(Qe,this),this.preExecute("connection.create",function(i){var s=i.connection,o=s.businessObject,a=i.source,l=i.target;Be(s,"dmn:Association")?((o.sourceRef=n.create("dmn:DMNElementReference",{href:"#"+a.id})).$parent=o,(o.targetRef=n.create("dmn:DMNElementReference",{href:"#"+l.id})).$parent=o):(o["required"+function hqt(n){return Be(n,"dmn:BusinessKnowledgeModel")?"Knowledge":Be(n,"dmn:Decision")?"Decision":Be(n,"dmn:InputData")?"Input":Be(n,"dmn:KnowledgeSource")?"Authority":void 0}(a)]=n.create("dmn:DMNElementReference",{href:"#"+a.id})).$parent=o},!0)}function XG(n,t,i,s){function o(a,l,c){l||(l=a.incoming.filter(function(d){return Be(d,"dmn:InformationRequirement")}));var u={};c?u[c]=l:u=function vqt(n,t){var i={};return t.forEach(function(s){var o=ji(s.source,n).split("-").shift();i[o]||(i[o]=[]),i[o].push(s)}),i}(a,l),se(u,function(d,p){d=function bqt(n,t){var i;return i=t.includes("top")||t.includes("bottom")?"x":"y",n.sort(function(s,o){return cn(s.source)[i]-cn(o.source)[i]})}(d,p);var f=function yqt(n,t,i){return n.map(function(s,o){var a=s.source,l=cn(a),c=tn(a),u=tn(t),d=n.length;return i.includes("bottom")?{start:{x:l.x,y:c.top},end:{x:u.left+t.width/(d+1)*(o+1),y:u.bottom}}:i.includes("top")?{start:{x:l.x,y:c.bottom},end:{x:u.left+t.width/(d+1)*(o+1),y:u.top}}:i.includes("right")?{start:{x:c.left,y:l.y},end:{x:u.right,y:u.top+t.height/(d+1)*(o+1)}}:{start:{x:c.right,y:l.y},end:{x:u.left,y:u.top+t.height/(d+1)*(o+1)}}})}(d,a,p);d.forEach((h,m)=>{var v=t.layoutConnection(h,{connectionStart:f[m].start,connectionEnd:f[m].end});i.updateWaypoints(h,v)})})}n.invoke(Qe,this),this.preExecute(["connection.create","connection.reconnect"],function(a){var l=a.connection,c=a.newSource||a.source,u=a.newTarget||a.target;if((!Be(l,"dmn:InformationRequirement")||s.allowed("connection.connect",{connection:l,source:c,target:u}))&&Be(l,"dmn:InformationRequirement")){var d=ji(c,u);a.hints||(a.hints={}),pe(a.hints,function gqt(n,t,i){var s=cn(n),o=cn(t);return i.includes("bottom")?(s.y=n.y,o.y=t.y+t.height):i.includes("top")?(s.y=n.y+n.height,o.y=t.y):i.includes("right")?(s.x=n.x,o.x=t.x+t.width):(s.x=n.x+n.width,o.x=t.x),{connectionStart:s,connectionEnd:o}}(c,u,d))}},!0),this.postExecuted(["connection.create","connection.delete","connection.reconnect"],function(a){var l=a.connection,c=l.source||a.source,u=l.target||a.target;if(Be(l,"dmn:InformationRequirement")){var d=ji(c,u),p=u.incoming.filter(f=>{var h=ji(f.source,f.target);return Be(f,"dmn:InformationRequirement")&&ATe(h,d)});p.length&&o(u,p,d)}},!0),this.preExecute("connection.reconnect",function(a){var l=a.connection,c=l.source,u=l.target;if(Be(l,"dmn:InformationRequirement")){var d=ji(c,u),p=u.incoming.filter(f=>{var h=ji(f.source,f.target);return f!==l&&Be(f,"dmn:InformationRequirement")&&ATe(h,d)});p.length&&o(u,p,d)}},!0),this.postExecuted("elements.move",500,function(a){var u=a.closure.enclosedConnections;a.shapes.forEach(function(d){if(pl(d,["dmn:Decision","dmn:InputData"])){var p=d.incoming.filter(function(f){return Be(f,"dmn:InformationRequirement")&&!u[f.id]});p.length&&o(d,p),d.outgoing.forEach(function(f){!Be(f,"dmn:InformationRequirement")||u[f.id]||o(f.target)})}})},!0)}function ATe(n,t){return n&&t&&n.split("-").shift()===t.split("-").shift()}function ZG(n,t,i){n.invoke(Qe,this),this.preExecute("connection.reconnect",function(s){var o=s.connection,a=s.newSource||o.source,l=s.newTarget||o.target,c=o.waypoints.slice(),u=i.allowed("connection.reconnect",{connection:o,source:a,target:l});!u||u.type===o.type||(s.connection=t.connect(a,l,{type:u.type,waypoints:c}),t.removeConnection(o))},!0)}function QG(n,t,i){Qe.call(this,n),this._modeling=t,this.postExecuted(["shape.replace"],1500,function(s){var o=s.context,a=o.oldShape,l=o.newShape;t.unclaimId(a.businessObject.id,a.businessObject),t.updateProperties(l,{id:a.id}),i.select(l)})}YG.$inject=["drdFactory","injector"],Lt(YG,Qe),XG.$inject=["injector","layouter","modeling","rules"],Lt(XG,Qe),Lt(ZG,Qe),ZG.$inject=["injector","modeling","rules"],Lt(QG,Qe),QG.$inject=["eventBus","modeling","selection"];let uM=(()=>{class n extends Qe{constructor(i){super(i),this.executed("element.updateProperties",this.updateIds.bind(this))}updateIds({context:i}){const{element:s,oldProperties:o,properties:a}=i,l=pd(s);if(this.shouldSkipUpdate(l,o,a))return;const c=function Eqt(n){let t=n;for(;!Be(t,"dmn:Definitions");)t=t.$parent;return t}(l);c.get("drgElement").forEach(p=>{!function wqt(n,t,i){se({authorityRequirement:()=>{n.authorityRequirement.forEach(o=>{const{requiredAuthority:a,requiredDecision:l,requiredInput:c}=o;a&&a.href===`#${t}`&&(a.href=`#${i}`),l&&l.href===`#${t}`&&(l.href=`#${i}`),c&&c.href===`#${t}`&&(c.href=`#${i}`)})},informationRequirement:()=>{n.informationRequirement.forEach(o=>{const{requiredDecision:a,requiredInput:l}=o;a&&a.href===`#${t}`&&(a.href=`#${i}`),l&&l.href===`#${t}`&&(l.href=`#${i}`)})},knowledgeRequirement:()=>{n.knowledgeRequirement.forEach(o=>{const{requiredKnowledge:a}=o;a&&a.href===`#${t}`&&(a.href=`#${i}`)})}},(o,a)=>{n[a]&&o()})}(p,o.id,a.id)}),c.get("artifact").forEach(p=>{!function xqt(n,t,i){se({sourceRef:()=>{const{sourceRef:o}=n;o.href===`#${t}`&&(o.href=`#${i}`)},targetRef:()=>{const{targetRef:o}=n;o.href===`#${t}`&&(o.href=`#${i}`)}},(o,a)=>{n[a]&&o()})}(p,o.id,a.id)})}shouldSkipUpdate(i,s,o){return!function _qt(n,t){return"id"in n&&"id"in t}(s,o)||!Be(i,"dmn:DRGElement")&&!Be(i,"dmn:TextAnnotation")}}return n.$inject=["eventBus"],n})();const Cqt={__init__:["createConnectionBehavior","idChangeBehavior","layoutConnectionBehavior","replaceConnectionBehavior","replaceElementBehavior"],createConnectionBehavior:["type",YG],idChangeBehavior:["type",uM],layoutConnectionBehavior:["type",XG],replaceConnectionBehavior:["type",ZG],replaceElementBehavior:["type",QG]};function ey(n){n.invoke(tl,this)}function JG(n,t){if(!n||LTe(n)||!t||LTe(t))return null;if(n===t)return!1;if(Be(n,"dmn:BusinessKnowledgeModel")&&pl(t,["dmn:BusinessKnowledgeModel","dmn:Decision"]))return{type:"dmn:KnowledgeRequirement"};if(Be(n,"dmn:Decision")){if(Be(t,"dmn:Decision"))return{type:"dmn:InformationRequirement"};if(Be(t,"dmn:KnowledgeSource"))return{type:"dmn:AuthorityRequirement"}}if(Be(n,"dmn:Definitions")||Be(t,"dmn:Definitions"))return!1;if(Be(n,"dmn:InputData")){if(Be(t,"dmn:Decision"))return{type:"dmn:InformationRequirement"};if(Be(t,"dmn:KnowledgeSource"))return{type:"dmn:AuthorityRequirement"}}return Be(n,"dmn:KnowledgeSource")&&pl(t,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:KnowledgeSource"])?{type:"dmn:AuthorityRequirement"}:!!(Be(n,"dmn:TextAnnotation")&&!Be(t,"dmn:TextAnnotation")||!Be(n,"dmn:TextAnnotation")&&Be(t,"dmn:TextAnnotation"))&&{type:"dmn:Association"}}function RTe(n,t){return pl(n,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:InputData","dmn:KnowledgeSource","dmn:TextAnnotation"])&&Be(t,"dmn:Definitions")}function NTe(n,t){return Vt(n)||(n=[n]),!!(!t||tc(n,function(i){return pl(i,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:InputData","dmn:KnowledgeSource","dmn:TextAnnotation","dmn:InformationRequirement","dmn:AuthorityRequirement","dmn:KnowledgeRequirement","dmn:Association"])})&&Be(t,"dmn:Definitions"))}function LTe(n){return!!n.labelTarget}Lt(ey,tl),ey.$inject=["injector"],ey.prototype.init=function(){this.addRule("connection.create",function(n){return JG(n.source,n.target)}),this.addRule("connection.reconnect",function(n){return JG(n.source,n.target)}),this.addRule("connection.updateWaypoints",function(n){const t=n.connection;return{type:t.type,businessObject:t.businessObject}}),this.addRule("elements.move",function(n){return NTe(n.shapes,n.target)}),this.addRule("shape.create",function(n){return RTe(n.shape,n.target)}),this.addRule("shape.resize",function(n){return Be(n.shape,"dmn:TextAnnotation")})},ey.prototype.canConnect=JG,ey.prototype.canCreate=RTe,ey.prototype.canMove=NTe;const Sqt={__depends__:[Zc],__init__:["drdRules"],drdRules:["type",ey]};function fd(n){this._model=n}function dm(n,t,i,s,o){o.invoke(Qe,this),this._definitionPropertiesView=t,this._drdFactory=i,this._drdRules=s;var a=this;function c(f){var h=f.connection,m=f.parent,g=f.shape;h&&!Be(h,"dmn:Association")&&(m=h.target),a.updateParent(g||h,m)}function u(f){var h=f.connection,m=f.shape,g=f.parent||f.newParent;h&&!Be(h,"dmn:Association")&&(g=h.target),a.updateParent(m||h,g)}function d(f){var h=f.shape;(Be(h,"dmn:DRGElement")||Be(h,"dmn:TextAnnotation"))&&a.updateBounds(h)}function p(f){a.updateConnectionWaypoints(f)}this.executed(["connection.create","connection.layout"],function l(f){var h=f.connection;f.cropped||(h.waypoints=n.getCroppedWaypoints(h),f.cropped=!0)},!0),this.reverted(["connection.layout"],function(f){delete f.cropped},!0),this.executed(["connection.create","connection.delete","connection.move","shape.create","shape.delete"],c,!0),this.reverted(["connection.create","connection.delete","connection.move","shape.create","shape.delete"],u,!0),this.executed(["shape.create","shape.move","shape.resize"],d,!0),this.reverted(["shape.create","shape.move","shape.resize"],d,!0),this.executed(["connection.create","connection.layout","connection.move","connection.updateWaypoints"],p,!0),this.reverted(["connection.create","connection.layout","connection.move","connection.updateWaypoints"],p,!0),this.executed("connection.create",function(f){var h=f.connection,m=h.businessObject,y=f.target.businessObject;Be(h,"dmn:Association")?c(f):a.updateSemanticParent(m,y)},!0),this.reverted("connection.create",function(f){u(f)},!0),this.executed("connection.reconnect",function(f){var m=f.connection.businessObject,y=f.newTarget.businessObject;Be(m,"dmn:Association")||a.updateSemanticParent(m,y)},!0),this.reverted("connection.reconnect",function(f){var m=f.connection.businessObject,y=f.oldTarget.businessObject;Be(m,"dmn:Association")||a.updateSemanticParent(m,y)},!0),this.executed("element.updateProperties",function(f){t.update()},!0),this.reverted("element.updateProperties",function(f){t.update()},!0)}function dM(n){this._moddle=n}function Oqt(){function n(s,o){var a=s.label||s,l=s.labelTarget||s;return function BUt(n,t,i){var s=n.businessObject,o=yTe(s);o&&(s[o]=t),i&&(n.hidden=!t)}(a,o,l!==a),[a,l]}this.execute=function t(s){return s.oldLabel=oM(s.element),n(s.element,s.newLabel)},this.revert=function i(s){return n(s.element,s.oldLabel)}}fd.$inject=["moddle"],fd.prototype._needsId=function(n){return pl(n,["dmn:Artifact","dmn:DMNElement","dmn:DRGElement","dmndi:DMNDiagram","dmndi:DMNDiagramElement"])},fd.prototype._ensureId=function(n){var t=(n.$type||"").replace(/^[^:]*:/g,"")+"_";!n.id&&this._needsId(n)&&(n.id=this._model.ids.nextPrefixed(t,n))},fd.prototype.create=function(n,t){var i=this._model.create(n,t||{});return this._ensureId(i),i},fd.prototype.createDiShape=function(n,t,i){return this.create("dmndi:DMNShape",pe({dmnElementRef:n,bounds:this.createDiBounds(t)},i))},fd.prototype.createDiBounds=function(n){return this.create("dc:Bounds",n)},fd.prototype.createDiEdge=function(n,t,i){return this.create("dmndi:DMNEdge",{dmnElementRef:n,waypoint:this.createDiWaypoints(t)},i)},fd.prototype.createDiWaypoints=function(n){var t=this;return n.map(function(i){return t.createDiWaypoint(i)})},fd.prototype.createDiWaypoint=function(n){return this.create("dc:Point",nc(n,["x","y"]))},fd.prototype.createExtensionElements=function(){return this.create("dmn:ExtensionElements",{values:[]})},Lt(dm,Qe),dm.$inject=["connectionDocking","definitionPropertiesView","drdFactory","drdRules","injector"],dm.prototype.updateBounds=function(n){pe(n.businessObject.di.bounds,{x:n.x,y:n.y,width:n.width,height:n.height})},dm.prototype.updateConnectionWaypoints=function(n){var i=n.connection,o=i.businessObject.di;o.waypoint=this._drdFactory.createDiWaypoints(i.waypoints).map(function(a){return a.$parent=o,a})},dm.prototype.updateParent=function(n,t){var i=n.parent;!Be(n,"dmn:DRGElement")&&!Be(n,"dmn:Artifact")&&(i=t);var s=n.businessObject,o=i&&i.businessObject;this.updateSemanticParent(s,o),this.updateDiParent(s.di,o&&o.di)},dm.prototype.updateSemanticParent=function(n,t){var i,s;n.$parent!==t&&(Be(n,"dmn:DRGElement")?s="drgElement":Be(n,"dmn:Artifact")?s="artifact":Be(n,"dmn:InformationRequirement")?s="informationRequirement":Be(n,"dmn:AuthorityRequirement")?s="authorityRequirement":Be(n,"dmn:KnowledgeRequirement")&&(s="knowledgeRequirement"),n.$parent&&ss(i=n.$parent.get(s),n),t?(i=t.get(s))&&(i.push(n),n.$parent=t):n.$parent=null)},dm.prototype.updateDiParent=function(n,t){if(n.$parent!==t){if(!pl(n,["dmndi:DMNEdge","dmndi:DMNShape"]))throw new Error("unsupported");for(var i=t||n;!Be(i,"dmndi:DMNDiagram");)i=i.$parent;var s=i.get("diagramElements");t?(n.$parent=i,fs(s,n)):(n.$parent=null,ss(s,n))}},dM.$inject=["moddle"],dM.prototype.execute=function(n){var t=this._moddle.ids,i=n.id;n.claiming?t.claim(i,n.element):t.unclaim(i)},dM.prototype.revert=function(n){var t=this._moddle.ids,i=n.id,s=n.element;n.claiming?t.unclaim(i):t.claim(i,s)};var Jf="id";function pM(n,t){this._elementRegistry=n,this._moddle=t}function FTe(n,t){return Jf in n&&n[Jf]!==t[Jf]}function BTe(n,t){se(t,function(i,s){n.set(s,i)})}function fM(n){this._elementRegistry=n}function jTe(n,t){se(t,function(i,s){n.set(s,i)})}function _p(n,t,i){this._canvas=n,this._drdRules=t,i.invoke(jr,this)}function mM(n){this._connectionDocking=n}function VTe(n,t){return n?n.original||n:cn(t)}pM.$inject=["elementRegistry","moddle"],pM.prototype.execute=function(n){var t=n.element,i=[t];if(!t)throw new Error("element required");var s=this._elementRegistry,o=this._moddle.ids,a=t.businessObject,l=n.properties,c=n.oldProperties||function Pqt(n,t){return ps(t,function(i,s){return i[s]=n.get(s),i},{})}(a,Dl(l));return FTe(l,a)&&(o.unclaim(a[Jf]),s.updateId(t,l[Jf]),o.claim(l[Jf],a)),"name"in l&&t.label&&i.push(t.label),BTe(a,l),n.oldProperties=c,n.changed=i,i},pM.prototype.revert=function(n){var t=n.element,i=n.properties,s=n.oldProperties,o=t.businessObject,a=this._elementRegistry,l=this._moddle.ids;return BTe(o,s),FTe(i,o)&&(l.unclaim(i[Jf]),a.updateId(t,s[Jf]),l.claim(s[Jf],o)),n.changed},fM.$inject=["elementRegistry"],fM.prototype.execute=function(n){var t=n.element,i=n.moddleElement,s=n.properties;if(!i)throw new Error("<moddleElement> required");var o=n.changed||[t],a=n.oldProperties||function Dqt(n,t){return ps(t,function(i,s){return i[s]=n.get(s),i},{})}(i,Dl(s));return jTe(i,s),n.oldProperties=a,n.changed=o,o},fM.prototype.revert=function(n){var s=n.changed;return jTe(n.moddleElement,n.oldProperties),s},Lt(_p,jr),_p.$inject=["canvas","drdRules","injector"],_p.prototype.claimId=function(n,t){this._commandStack.execute("id.updateClaim",{id:n,element:t,claiming:!0})},_p.prototype.connect=function(n,t,i,s){var o=this._drdRules,a=this._canvas.getRootElement();return i||(i=o.canConnect(n,t)||{type:"dmn:Association"}),this.createConnection(n,t,i,a,s)},_p.prototype.getHandlers=function(){var n=jr.prototype.getHandlers.call(this);return n["id.updateClaim"]=dM,n["element.updateLabel"]=Oqt,n["element.updateProperties"]=pM,n["element.updateModdleProperties"]=fM,n},_p.prototype.unclaimId=function(n,t){this._commandStack.execute("id.updateClaim",{id:n,element:t})},_p.prototype.updateModdleProperties=function(n,t,i){this._commandStack.execute("element.updateModdleProperties",{element:n,moddleElement:t,properties:i})},_p.prototype.updateProperties=function(n,t){this._commandStack.execute("element.updateProperties",{element:n,properties:t})},_p.prototype.updateLabel=function(n,t,i,s){this._commandStack.execute("element.updateLabel",{element:n,newLabel:t,newBounds:i,hints:s||{}})},Lt(mM,TB),mM.$inject=["connectionDocking"],mM.prototype.layoutConnection=function(n,t){var i=this._connectionDocking;t||(t={});var s=t.source||n.source,o=t.target||n.target,a=t.waypoints||n.waypoints||[],l=t.connectionStart,c=t.connectionEnd,u=ji(s,o);if(l||(l=VTe(a[0],s)),c||(c=VTe(a[a.length-1],o)),Be(n,"dmn:InformationRequirement")){var d=i.getCroppedWaypoints(pe({},n,{waypoints:a=[l,c]}),s,o),p={x:(c=d.pop()).x,y:c.y};return u.includes("bottom")?p.y+=20:u.includes("top")?p.y-=20:u.includes("right")?p.x+=20:p.x-=20,d.concat([p,c])}return[l,c]};const kqt={__init__:["modeling","drdUpdater"],__depends__:[Cqt,Sqt,qG,I8,Al,gE],drdFactory:["type",fd],drdUpdater:["type",dm],elementFactory:["type",Q1],modeling:["type",_p],layouter:["type",mM],connectionDocking:["type",vf]},Iqt={width:135,height:46},Rqt={width:100,height:63};function $Te(n,t,i){return $t("path",{d:n,strokeWidth:2,transform:`translate(${t.x}, ${t.y})`,...i})}function yM(n,t){this._styles=t,n.registerProvider(this)}function zTe(n,t){var i;return"dmn:BusinessKnowledgeModel"===t?i=Iqt:"dmn:KnowledgeSource"===t&&(i=Rqt),n.width===i.width&&n.height===i.height}yM.$inject=["outline","styles"],yM.prototype.getOutline=function(n){const t=this._styles.cls("djs-outline",["no-fill"]);var i;return Be(n,"dmn:InputData")?Pt(i=$t("rect"),pe({x:-5,y:-5,rx:27,width:n.width+10,height:n.height+10},t)):Be(n,"dmn:BusinessKnowledgeModel")&&zTe(n,"dmn:BusinessKnowledgeModel")?i=$Te("\nM2.45221 16.0068L18.7175 1.74436L18.0615 0.996331L18.7175 1.74436C19.2646 1.26455 19.9676 \n1 20.6953 1H140.926C142.583 1 143.926 2.34295 143.926 3.99967L143.93 37.5457C143.93 \n38.3668 143.593 39.152 142.999 39.7183L143.689 40.4424L142.999 39.7183L127.299 \n54.6723C126.741 55.2036 126 55.5 125.23 55.5H4.53787C2.88599 55.5 1.54491 54.1646 1.5379 \n52.5127L1.43066 27.229L1.43065 27.2248L1.4301 18.2626C1.43005 \n17.3986 1.80255 16.5765 2.45221 16.0068Z\n",{x:-6,y:-6},t):Be(n,"dmn:KnowledgeSource")&&zTe(n,"dmn:KnowledgeSource")&&(i=$Te("\nM1.79494 63.0032L1.2941 63.6423L1.79493 63.0032C1.71778 62.9427 1.6428 62.8741 1.57288 \n62.8L1.01736 63.3241L1.57288 62.8C1.20495 62.41 1 61.8941 1 61.3579V2.65067C1 1.74066 \n1.73867 1.00345 2.64868 1.00526L108.006 1.2145C109.66 1.21778 111 2.55996 111 \n4.21449V21.7015V61.6762C111 63.3188 109.679 64.656 108.037 64.676L107.06 64.6879C106.66 \n64.6927 106.26 64.6165 105.89 64.4652C105.04 64.1176 104.222 63.78 103.43 \n63.4531C93.4866 59.3517 87.6891 56.9603 76.3991 58.1057C71.7035 58.5821 66.8747 60.74 \n61.5721 63.1744C61.3243 63.2881 61.0753 63.4026 60.825 63.5177C55.6712 65.8868 49.9696 \n68.5077 43.2365 70.3468C31.101 73.6617 15.2135 73.5179 1.79494 63.0032Z\n",{x:-6,y:-1.5},t)),i},yM.prototype.updateOutline=function(n){return!!pl(n,["dmn:InputData","dmn:BusinessKnowledgeModel","dmn:KnowledgeSource"])};const Nqt={__depends__:[HS],__init__:["outlineProvider"],outlineProvider:["type",yM]};function eK(n,t,i,s,o,a){this._palette=n,this._create=t,this._elementFactory=i,this._handTool=s,this._lassoTool=o,this._translate=a,n.registerProvider(this)}eK.$inject=["palette","create","elementFactory","handTool","lassoTool","translate"],eK.prototype.getPaletteEntries=function(n){var t={},i=this._create,s=this._elementFactory,o=this._handTool,a=this._lassoTool,l=this._translate;function c(u,d,p,f,h){function m(g){var y=s.createShape(pe({type:u},h));i.start(g,y)}return{group:d,className:p,title:f,action:{dragstart:m,click:m}}}return pe(t,{"hand-tool":{group:"tools",className:"dmn-icon-hand-tool",title:l("Activate hand tool"),action:{click:function(u){o.activateHand(u)}}},"lasso-tool":{group:"tools",className:"dmn-icon-lasso-tool",title:l("Activate lasso tool"),action:{click:function(u){a.activateSelection(u)}}},"tool-separator":{group:"tools",separator:!0},"create.decision":c("dmn:Decision","drd","dmn-icon-decision",l("Create decision")),"create.input-data":c("dmn:InputData","drd","dmn-icon-input-data",l("Create input data")),"create.knowledge-source":c("dmn:KnowledgeSource","drd","dmn-icon-knowledge-source",l("Create knowledge source")),"create.business-knowledge-model":c("dmn:BusinessKnowledgeModel","drd","dmn-icon-business-knowledge",l("Create knowledge model"))}),t};const Lqt={__depends__:[So,o0e,ub,l0e,d0e],__init__:["paletteProvider"],paletteProvider:["type",eK]};function HTe(n){n.on(["bendpoint.move.move","bendpoint.move.end"],2e3,function(t){var i=t.context,s=i.allowed,o=i.hover,a=i.source,l=i.target,c=i.type;if(i.hints||(i.hints={}),delete i.hints.connectionStart,delete i.hints.connectionEnd,(!s||"dmn:InformationRequirement"===s.type)&&o&&pl(o,["dmn:Decision","dmn:InputData"])&&a!==l){var u="reconnectStart"===c||"reconnectEnd"===c,d=ji(a,l);u&&o===a?(function Vqt(n,t){var o=UTe(n.context.source,t),a=n.x-o.x,l=n.y-o.y;n.x-=a,n.y-=l,n.dx-=a,n.dy-=l}(t,d),i.hints.connectionEnd=qTe(l,d)):u&&o===l&&(i.hints.connectionStart=UTe(a,d),function $qt(n,t){var o=qTe(n.context.target,t),a=0,l=0;t.includes("top")||t.includes("bottom")?l=n.y-o.y:a=n.x-o.x,n.x-=a,n.y-=l,n.dx-=a,n.dy-=l}(t,d))}})}function UTe(n,t){var i=tn(n),s=cn(n);return t.includes("bottom")?s.y=i.top:t.includes("top")?s.y=i.bottom:s.x=t.includes("right")?i.left:i.right,s}function qTe(n,t){var i=tn(n),s=cn(n);return t.includes("bottom")?s.y=i.bottom:t.includes("top")?s.y=i.top:s.x=t.includes("right")?i.right:i.left,s}function WTe(n){n.on(["connect.hover","connect.move","connect.end"],250,function(t){var i=t.context,s=i.canExecute,o=i.hover,a=i.source,l=i.target;if(s&&"dmn:InformationRequirement"===s.type){var c=ji(a,l);i.connectionStart=cn(a),i.connectionEnd=o===a?cn(l):{x:t.x,y:t.y},c.includes("bottom")?(i.connectionStart.y=tn(a).top,i.connectionEnd.y=tn(l).bottom):c.includes("top")?(i.connectionStart.y=tn(a).bottom,i.connectionEnd.y=tn(l).top):c.includes("right")?(i.connectionStart.x=tn(a).left,i.connectionEnd.x=tn(l).right):(i.connectionStart.x=tn(a).right,i.connectionEnd.x=tn(l).left)}else delete i.connectionStart,delete i.connectionEnd})}HTe.$inject=["eventBus"],WTe.$inject=["eventBus"];const Hqt={__depends__:[C0e],__init__:["bendpointSnapping","connectSnapping"],bendpointSnapping:["type",HTe],connectSnapping:["type",WTe]};function s2(n){Z1.call(this,n)}function qqt(n,t){o2(n,"dmn:Decision")?function Wqt(n,t){for(const i of n.get("informationRequirement"))Kqt(i,t);for(const i of n.get("knowledgeRequirement"))KTe(i,t)}(n,t):o2(n,"dmn:BusinessKnowledgeModel")?function Gqt(n,t){for(const i of n.get("knowledgeRequirement"))KTe(i,t)}(n,t):o2(n,"dmn:Expression")&&function nWt(n,t){o2(n,"dmn:FunctionDefinition")&&function rWt(n,t){const i=n.get("formalParameter");for(const s of i)iWt(s,t)}(n,t)}(n,t)}function Kqt(n,t){const i=n.get("requiredInput");i&&function Yqt(n,t){const i=tK(n,t.rootElement);if(!i)return;const s=i.get("name");s&&t.variables.push({name:s,origin:i})}(i,t);const s=n.get("requiredDecision");s&&function Xqt(n,t){const i=tK(n,t.rootElement);if(!i)return;const s=i.get("name");if(!s)return;const o={name:s,origin:i},a=i.get("decisionLogic");a&&function Zqt(n,t){o2(n,"dmn:DecisionTable")&&function Qqt(n,t){if(1===n.length){const o={...GTe(n[0]),name:t.name};return void Object.assign(t,o)}const s=n.map(GTe);t.entries=s.filter(o=>!!o.name)}(n.get("output"),t)}(a,o),t.variables.push(o)}(s,t)}function GTe(n){const t={name:n.name};return n.typeRef&&(t.detail=n.typeRef),t}function KTe(n,t){const i=n.get("requiredKnowledge");i&&function Jqt(n,t){const i=tK(n,t.rootElement);i&&o2(i,"dmn:BusinessKnowledgeModel")&&function eWt(n,t){const i=n.get("name");if(!i)return;const s={name:i,origin:n},o=n.get("encapsulatedLogic");o&&function tWt(n,t){const o=n.get("formalParameter").map((a,l)=>{const c={name:a.get("name")||`param ${l+1}`,type:a.get("typeRef")};return c.type||delete c.type,c});Object.assign(t,{type:"function",params:o})}(o,s),t.variables.push(s)}(i,t)}(i,t)}function iWt(n,t){const i=n.get("name");if(!i)return;const s={name:i,origin:n};n.get("typeRef")&&(s.detail=n.get("typeRef")),t.variables.push(s)}function sWt(n){let t=n;for(;t.$parent;)t=t.$parent;return t}function tK(n,t){const i=n.get("href");if(!i||!i.startsWith("#"))return;const s=i.slice(1);return t.get("drgElement").find(a=>a.get("id")===s)}function o2(n,t){return n.$instanceOf(t)}Lt(s2,Z1),s2.prototype._modules=[].concat(s2.prototype._modules,s2.prototype._modelingModules=[kue,KUt,bde,Gde,ZUt,Qde,aqt,lqt,cqt,uqt,Dhe,dqt,WN,Bhe,fqt,kqt,n0e,Nqt,Lqt,NB,Hqt]);const nK={__init__:["dmnVariableProvider"],dmnVariableProvider:["type",(()=>{class n{constructor(i){i.registerProvider(this)}getVariables(i,s){return i.concat(function Uqt(n){const t={variables:[],rootElement:sWt(n)};for(let i=n;i;i=i.$parent)qqt(i,t);return t.variables}(s))}}return n.$inject=["variableResolver"],n})()],variableResolver:["type",class aWt{constructor(){this._providers=[]}registerProvider(t){this._providers.push(t)}getVariables(t){return this._providers.reduce((i,s)=>s.getVariables(i,t),[])}}]};class c4{constructor(t){pe(this,t),eh(this,"businessObject",{writable:!0})}}class Ul extends c4{constructor(t){super(t),eh(this,"root",{writable:!0}),eh(this,"cells",{enumerable:!0,value:this.cells||[]})}}class ql extends c4{constructor(t){super(t),eh(this,"root",{writable:!0}),eh(this,"cells",{enumerable:!0,value:this.cells||[]})}}class vM extends c4{constructor(t){super(t),eh(this,"row",{writable:!0}),eh(this,"col",{writable:!0})}}const cWt={root:class lWt extends c4{constructor(t){super(t),eh(this,"rows",{enumerable:!0,value:this.rows||[]}),eh(this,"cols",{enumerable:!0,value:this.cols||[]})}},row:Ul,col:ql,cell:vM};function eh(n,t,i){Object.defineProperty(n,t,i)}class YTe{constructor(){this._uid=12}create(t,i={}){return i.id||(i.id=t+"_"+this._uid++),function uWt(n,t){const i=cWt[n];if(!i)throw new Error("unknown type "+n);return new i(t)}(t,i)}createRoot(t){return this.create("root",t)}createRow(t){return this.create("row",t)}createCol(t){return this.create("col",t)}createCell(t){return this.create("cell",t)}}let dWt=(()=>{class n{constructor(i){this._eventBus=i,this._elements={},i.on("table.clear",this.clear.bind(this))}add(i,s){const{id:o}=i;this._elements[o]=i}remove(i){delete this._elements[i.id||i]}get(i){return this._elements[i]}getAll(){return rK(this._elements)}forEach(i){rK(this._elements).forEach(s=>i(s))}filter(i){return rK(this._elements).filter(s=>i(s))}clear(){this._elements={}}updateId(i,s){this._validateId(s),"string"==typeof i&&(i=this.get(i)),this._eventBus.fire("element.updateId",{element:i,newId:s}),this.remove(i),i.id=s,this.add(i)}_validateId(i){if(!i)throw new Error("element must have an id");if(this._elements[i])throw new Error("element with id "+i+" already added")}}return n.$inject=["eventBus"],n})();function rK(n){return Object.keys(n).map(function(t){return n[t]})}let pWt=(()=>{class n{constructor(i){this._listeners={},i.on("elements.changed",({elements:s})=>{this.elementsChanged(s)}),i.on("root.remove",s=>{const o=s.root.id;this._listeners[o]&&i.once("root.add",a=>{this.updateId(o,a.root.id)})}),i.on("element.updateId",({element:s,newId:o})=>{this.updateId(s.id,o)})}elementsChanged(i){const s={},o=i.length;for(let a=0;a<o;a++){const{id:l}=i[a];if(s[l])return;s[l]=!0;const c=this._listeners[l]&&this._listeners[l].length;if(c)for(let u=0;u<c;u++)this._listeners[l][u]&&this._listeners[l][u]()}}onElementsChanged(i,s){this._listeners[i]||(this._listeners[i]=[]),this._listeners[i][this._listeners[i].length]=s}offElementsChanged(i,s){if(this._listeners[i])if(s){const o=this._listeners[i].indexOf(s);-1!==o&&this._listeners[i].splice(o,1)}else this._listeners[i].length=0}updateId(i,s){this._listeners[i]&&(this._listeners[s]=this._listeners[i],delete this._listeners[i])}}return n.$inject=["eventBus"],n})();class mWt extends Qt{constructor(t){super(t);const i=this._injector=t.injector;this._sheet=i.get("sheet"),this._changeSupport=i.get("changeSupport"),this._components=i.get("components"),this._eventBus=i.get("eventBus");const s=i.get("throttle");this.onElementsChanged=this.onElementsChanged.bind(this),this.onScroll=s(this.onScroll.bind(this))}onElementsChanged(){this.forceUpdate()}onScroll(){this._eventBus.fire("sheet.scroll")}getChildContext(){return{changeSupport:this._changeSupport,components:this._components,injector:this._injector}}componentWillMount(){const{id:t}=this._sheet.getRoot();this._changeSupport.onElementsChanged(t,this.onElementsChanged)}componentWillUnmount(){const{id:t}=this._sheet.getRoot();this._changeSupport.offElementsChanged(t,this.onElementsChanged)}render(){const{rows:t,cols:i}=this._sheet.getRoot(),s=this._components.getComponents("table.before"),o=this._components.getComponents("table.after"),a=this._components.getComponent("table.head"),l=this._components.getComponent("table.body"),c=this._components.getComponent("table.foot");return Y(1,"div","tjs-container",[s&&s.map((u,d)=>ot(2,u,null,d)),Y(1,"div","tjs-table-container",Y(1,"table","tjs-table",[a&&ot(2,a,{rows:t,cols:i}),l&&ot(2,l,{rows:t,cols:i}),c&&ot(2,c,{rows:t,cols:i})],0),2,{onScroll:this.onScroll}),o&&o.map((u,d)=>ot(2,u,null,d))],0)}}const XTe={__init__:["changeSupport","components","renderer"],changeSupport:["type",pWt],components:["type",class hWt{constructor(){this._listeners={}}getComponent(t,i){const s=this._listeners[t];if(!s)return;let o;for(let a=0;a<s.length&&(o=s[a].callback(i),!o);a++);return o}getComponents(t,i){const s=this._listeners[t],o=[];if(!s)return o;for(let a=0;a<s.length;a++){const l=s[a].callback(i);l&&o.push(l)}return o}onGetComponent(t,i,s){if(Gn(i)&&(s=i,i=1e3),!un(i))throw new Error("priority must be a number");const o=this._getListeners(t);let a,l;const c={priority:i,callback:s};for(l=0;a=o[l];l++)if(a.priority<i)return void o.splice(l,0,c);o.push(c)}offGetComponent(t,i){const s=this._getListeners(t);let o,a,l;if(i)for(l=s.length-1;o=s[l];l--)a=o.callback,a===i&&s.splice(l,1);else s.length=0}_getListeners(t){let i=this._listeners[t];return i||(this._listeners[t]=i=[]),i}}],renderer:["type",(()=>{class n{constructor(i,s,o,a,l){const{container:c}=o;this._container=c,a.on("root.added",()=>{o4(ot(2,mWt,{injector:l}),c)}),a.on("root.remove",()=>{o4(null,c)})}getContainer(){return this._container}}return n.$inject=["changeSupport","components","config.renderer","eventBus","injector"],n})()]};let gWt=(()=>{class n{constructor(i,s){this._elementRegistry=i,this._eventBus=s,this._root=null,s.on("table.clear",()=>{this.setRoot(null)})}setRoot(i){if(this._root){const s=this._root;this._eventBus.fire("root.remove",{root:s}),this._root=null,this._eventBus.fire("root.removed",{root:s})}i&&this._eventBus.fire("root.add",{root:i}),this._root=i,i&&this._eventBus.fire("root.added",{root:i})}getRoot(){return this._root||this.setRoot({id:"__implicitroot",rows:[],cols:[]}),this._root}addRow(i,s){const o=this.getRoot();if(o.cols.length!=i.cells.length)throw new Error("number of cells is not equal to number of cols");return typeof s>"u"&&(s=o.rows.length),bM(s,o.rows,i),i.root=o,this._elementRegistry.add(i),i.cells.forEach((a,l)=>{this._elementRegistry.add(a),a.row=i,a.col=o.cols[l],bM(s,o.cols[l].cells,a)}),this._eventBus.fire("row.add",{row:i}),i}removeRow(i){const s=this.getRoot();"string"==typeof i&&(i=this._elementRegistry.get(i));const o=s.rows.indexOf(i);-1!==o&&(_M(o,s.rows),i.root=void 0,this._elementRegistry.remove(i),i.cells.forEach((a,l)=>{this._elementRegistry.remove(a),a.col=void 0,_M(o,s.cols[l].cells)}),this._eventBus.fire("row.remove",{row:i}))}addCol(i,s){const o=this.getRoot();if(this._elementRegistry.add(i),o.rows.length!=i.cells.length)throw new Error("number of cells is not equal to number of rows");return typeof s>"u"&&(s=o.cols.length),bM(s,o.cols,i),i.root=o,i.cells.forEach((a,l)=>{this._elementRegistry.add(a),a.col=i,a.row=o.rows[l],bM(s,o.rows[l].cells,a)}),this._eventBus.fire("col.add",{col:i}),i}removeCol(i){const s=this.getRoot();"string"==typeof i&&(i=this._elementRegistry.get(i));const o=s.cols.indexOf(i);-1!==o&&(_M(o,s.cols),i.root=void 0,this._elementRegistry.remove(i),i.cells.forEach((a,l)=>{this._elementRegistry.remove(a),a.row=void 0,_M(o,s.rows[l].cells)}),this._eventBus.fire("col.remove",{col:i}))}resized(){this._eventBus.fire("sheet.resized")}}return n.$inject=["elementRegistry","eventBus"],n})();function bM(n,t,i){return t.splice(n,0,i)}function _M(n,t){return t.splice(n,1)}function ZTe(n=!0){const t="number"==typeof n?n:n?300:0;return t?i=>function sGe(n,t){let i=!1;return function(...s){i||(n(...s),i=!0,setTimeout(()=>{i=!1},t))}}(i,t):i=>i}ZTe.$inject=["config.throttle"];const yWt={__depends__:[XTe],__init__:["elementFactory","sheet"],elementFactory:["type",YTe],elementRegistry:["type",dWt],eventBus:["type",Wo],sheet:["type",gWt],throttle:["factory",ZTe]},_Wt=class vWt{constructor(t={}){let{injector:i}=t;if(!i){let{modules:s,config:o}=this._init(t);i=function bWt(n,t){const s=new XS([{config:["value",n]},yWt].concat(t||[]));return s.init(),s}(o,s)}this.get=i.get,this.invoke=i.invoke,this.get("eventBus").fire("table.init"),this.get("eventBus").fire("diagram.init")}_init(t){let{modules:i,...s}=t;return{modules:i,config:s}}destroy(){const t=this.get("eventBus");t.fire("table.destroy"),t.fire("diagram.destroy")}clear(){const t=this.get("eventBus");t.fire("table.clear"),t.fire("diagram.clear")}};function iK(n){return n?`<${n.$type}${n.id?` id="${n.id}"`:""} />`:"<null>"}function EWt(n,t){function i(u,d,p){if(u.gfx)throw new Error(`already rendered ${iK(u)}`);return n.element(u,d,p)}function a(u,d,p){se(u,function(f){i(f,d,p)})}function c(u,d,p){se(u,function(f){i(f,d,p)})}return{handleDecision:function o(u){u.id||(u.id="decision");const d=u.decisionLogic;if(!d)throw new Error(`no table for ${iK(u)}`);{if(!d.output)throw new Error(`missing output for ${iK(d)}`);const p=function s(u){return n.table(u)}(d);d.input&&a(d.input,p,d),a(d.output,p,d),function l(u,d,p){se(u,function(f){i(f,d,p),c(f.inputEntry,f),c(f.outputEntry,f)})}(d.rule,p,d)}}}}function oa(n){return QTe(n.constructor,n)}function QTe(n,t){const i=n.$inject;if(!i)return;const{injector:s}=t.context,o=[...i,function(...a){for(const l in a)t[i[l]]=a[l]}];s.invoke(o)}function ty(n,t){Object.keys(t).forEach(function(i){if("$inject"===i||"__init"===i)return;const s=t[i];"constructor"===i&&s.call(n,n.props,n.context);const o=n[i];if(typeof o<"u"){if("function"!=typeof o)throw new Error(`failed to mixin <${i}>: cannot combine with non-fn component value`);n[i]=function xWt(n,...t){return function(...i){let s;return t.forEach(function(o){if(s=o.call(n,...i),typeof s<"u")return!1}),s}.bind(n)}(n,o,s)}else n[i]=s.bind(n)}),"$inject"in t&&QTe(t,n),"__init"in t&&t.__init.call(n,n.props,n.context)}const JTe={slotFill(n,t){const{type:i,context:s,...o}=n,a=this.components.getComponent(i,s)||t;return a?cm(ot(2,a,{...s,...o})):null},slotFills(n){const{type:t,context:i,...s}=n;return this.components.getComponents(t,i).map(a=>cm(ot(2,a,{...i,...s})))}},u4=JTe;JTe.$inject=["components"];let tPe=(()=>{class n extends Qt{constructor(i,s){super(i,s),ty(this,u4),oa(this)}componentDidMount(){this.changeSupport.onElementsChanged(this.getRoot(),this.onElementsChanged)}componentWillUnmount(){this.changeSupport.offElementsChanged(this.getRoot(),this.onElementsChanged)}onElementsChanged=()=>{this.forceUpdate()};getRoot(){return this.sheet.getRoot()}render(){const o=(this.getRoot().businessObject.get("annotationsWidth")||400)+"px";return Y(1,"th","annotation header",[this.slotFills({type:"cell-inner",context:{cellType:"annotations",col:this.sheet.getRoot(),minWidth:400}}),this.translate("Annotations")],0,{style:{width:o}})}}return n.$inject=["changeSupport","sheet","translate"],n})();function nPe(n,t){const{elements:i,index:s}=n;return s[t]?n:{elements:[...i,t],index:{...s,[t]:!0}}}function sK(...n){let t={elements:[],index:{}};return n.forEach(function(i){const s=typeof i;"string"===s&&i.length>0?t=nPe(t,i):"object"===s&&null!==i&&Object.keys(i).forEach(function(o){i[o]&&(t=nPe(t,o))})}),function SWt(n,t){return n.elements.join(t)}(t," ")}const rPe={getSelectionClasses(){const{selected:n,selectedSecondary:t,focussed:i}=this.state;return sK({selected:n,"selected-secondary":t,focussed:i})},selectionChanged(n){this.setState(n)},componentWillUpdate(n){n.elementId!==this.props.elementId&&this.updateSelectionSubscription(!1)},componentDidUpdate(n){n.elementId!==this.props.elementId&&this.updateSelectionSubscription(!0)},componentDidMount(){this.updateSelectionSubscription(!0)},componentWillUnmount(){this.updateSelectionSubscription(!1)},updateSelectionSubscription(n){const{elementId:t}=this.props;t&&t&&this.eventBus[n?"on":"off"](`selection.${t}.changed`,this.selectionChanged)}},iPe=rPe;rPe.$inject=["eventBus"];class OWt extends Qt{constructor(t,i){super(t,i),ty(this,iPe),oa(this)}getRenderProps(...t){const{className:i,elementId:s,coords:o,...a}=this.props,l={className:sK(...t,this.getSelectionClasses(),i)};return s&&(l["data-element-id"]=s),o&&(l["data-coords"]=o),{...l,...a}}}class d4 extends OWt{constructor(t,i){super(t,i),this.state={}}render(){const{children:t}=this.props;return cm(Y(1,"td",null,t,0,{...this.getRenderProps("cell")}))}}function TWt(n){const{row:t}=n,{id:i,description:s}=t.businessObject;return ot(2,d4,{className:"annotation",elementId:i,children:s||"-"})}function sPe(n){n.onGetComponent("cell",({cellType:t})=>"after-label-cells"===t?tPe:"after-rule-cells"===t?TWt:void 0)}sPe.$inject=["components"];const PWt={__init__:["annotationsProvider"],annotationsProvider:["type",sPe]};function p4(n,t){return pe({id:n.id,type:n.$type,businessObject:n},t)}const DWt={__depends__:[{__depends__:[So],tableImporter:["type",(()=>{class n{constructor(i,s,o){this._elementFactory=i,this._eventBus=s,this._sheet=o}add(i){let s;if(Be(i,"dmn:DecisionTable"))s=this._elementFactory.createRoot(p4(i)),this._sheet.setRoot(s);else if(Be(i,"dmn:InputClause"))s=this._elementFactory.createCol(p4(i)),this._sheet.addCol(s);else if(Be(i,"dmn:OutputClause"))s=this._elementFactory.createCol(p4(i)),this._sheet.addCol(s);else if(Be(i,"dmn:DecisionRule")){i.inputEntry||(i.inputEntry=[]),i.outputEntry||(i.outputEntry=[]);const o=[...i.inputEntry,...i.outputEntry].map(a=>this._elementFactory.createCell(p4(a)));s=this._elementFactory.createRow(pe(p4(i),{cells:o})),this._sheet.addRow(s)}return this._eventBus.fire("dmnElement.added",{element:s}),s}}return n.$inject=["elementFactory","eventBus","sheet"],n})()]},XTe]};class kWt extends Qt{constructor(t,i){super(t,i),ty(this,u4),this._sheet=i.injector.get("sheet"),this._changeSupport=i.changeSupport}onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){const t=this._sheet.getRoot();this._changeSupport.onElementsChanged(t.id,this.onElementsChanged)}componentWillUnmount(){const t=this._sheet.getRoot();this._changeSupport.offElementsChanged(t.id,this.onElementsChanged)}render(){const t=this._sheet.getRoot();if(!Be(t,"dmn:DMNElement"))return null;const i=pd(t),s=i.input,o=i.output;return Y(1,"thead",null,Y(1,"tr",null,[Y(1,"th","index-column"),this.slotFills({type:"cell",context:{cellType:"before-label-cells"}}),s&&s.map((a,l)=>this.slotFill({type:"cell",context:{cellType:"input-header",input:a,index:l,inputsLength:s.length,width:a.width||"192px"},key:a.id},MWt)),o.map((a,l)=>this.slotFill({type:"cell",context:{cellType:"output-header",output:a,index:l,outputsLength:o.length},key:a.id},AWt)),this.slotFills({type:"cell",context:{cellType:"after-label-cells"}})],0),2)}}function MWt(n,t){const{input:i,className:s,index:o}=n,{label:a,inputExpression:l,inputValues:c}=i,u=t.injector.get("translate");return Y(1,"th",(s||"")+" input-cell",[Y(1,"div","clause",u(0===o?"When":"And"),0),a?Y(1,"div","input-label",a,0,{title:u("Input label: ")+a}):Y(1,"div","input-expression",l.text,0,{title:u("Input expression: ")+l.text}),Y(1,"div","input-variable",c&&c.text||l.typeRef,0,{title:u(c&&c.text?"Input values":"Input type")})],0,{"data-col-id":i.id},i.id)}function AWt(n,t){const{output:i,className:s,index:o}=n,{label:a,name:l,outputValues:c,typeRef:u}=i,d=t.injector.get("translate");return Y(1,"th",(s||"")+" output-cell",[Y(1,"div","clause",d(0===o?"Then":"And"),0),a?Y(1,"div","output-label",a,0,{title:d("Output label")}):Y(1,"div","output-name",l,0,{title:d("Output name")}),Y(1,"div","output-variable",c&&c.text||u,0,{title:d(c&&c.text?"Output values":"Output type")})],0,null,i.id)}function oPe(n){n.onGetComponent("table.head",()=>kWt)}oPe.$inject=["components"];const IWt={__init__:["decisionTableHeadProvider"],decisionTableHeadProvider:["type",oPe]};let RWt=(()=>{class n extends Qt{constructor(i,s){super(i,s),this._translate=s.injector.get("translate"),oa(this)}render(){const i=this.sheet.getRoot();if(!Be(i,"dmn:DMNElement"))return null;const{name:s}=i.businessObject.$parent,o=this.components.getComponent("hit-policy")||NWt;return Y(1,"div","decision-table-properties",[Y(1,"div","decision-table-name",s,0,{title:this._translate("Decision name: ")+s}),Y(1,"div","decision-table-header-separator"),ot(2,o)],4)}}return n.$inject=["sheet","components"],n})();function NWt(){return null}const FWt={__init__:["decisionTableProperties"],decisionTableProperties:["type",(()=>{class n{constructor(i){i.onGetComponent("table.before",500,()=>RWt)}}return n.$inject=["components"],n})()]};class BWt extends Qt{render(){const{row:t,rowIndex:i}=this.props,{components:s}=this.context,o=s.getComponents("cell-inner",{cellType:"rule-index",row:t,rowIndex:i});return Y(1,"td","rule-index",[o&&o.map(a=>ot(2,a,{row:t,rowIndex:i})),i+1],0,{"data-element-id":t.id,"data-row-id":t.id})}}const jWt={__init__:["decisionRuleIndices"],decisionRuleIndices:["type",(()=>{class n{constructor(i){i.onGetComponent("cell",({cellType:s})=>{if("before-rule-cells"===s)return BWt})}}return n.$inject=["components"],n})()]},VWt=[{label:"FEEL",value:"feel"}],pm={__init__:["expressionLanguages"],expressionLanguages:["type",(()=>{class n{constructor(i){this._injector=i;const s=i.get("config.expressionLanguages")||{};this._config={options:VWt,defaults:{editor:"feel"}},s.options&&(this._config.options=s.options);const o=this._getLegacyDefaults();pe(this._config.defaults,o,s.defaults)}getDefault(i){const{defaults:s}=this._config;return this._getLanguageByValue(s[i]||s.editor)||this.getAll()[0]}getLabel(i){const s=this._getLanguageByValue(i);return s?s.label:i}getAll(){return this._config.options}_getLegacyDefaults(){const i={},s=this._injector,o=s.get("config.defaultInputExpressionLanguage"),a=s.get("config.defaultOutputExpressionLanguage");return o&&(i.inputCell=o),a&&(i.outputCell=a),i}_getLanguageByValue(i){return It(this.getAll(),s=>i===s.value)}}return n.$inject=["injector"],n})()]};class $Wt extends Qt{render({rows:t,cols:i}){const{components:s}=this.context;return Y(1,"tbody",null,t.map((o,a)=>{const l=s.getComponent("row",{rowType:"rule"});return l&&ot(2,l,{row:o,rowIndex:a,cols:i},o.id)}),0)}}class zWt extends Qt{constructor(t,i){super(t,i),ty(this,u4)}render(){const{row:t,rowIndex:i,cols:s}=this.props,{cells:o}=t;return Y(1,"tr",null,[this.slotFills({type:"cell",context:{cellType:"before-rule-cells",row:t,rowIndex:i}}),o.map((a,l)=>this.slotFill({type:"cell",context:{cellType:"rule",cell:a,rowIndex:i,colIndex:l},key:a.id,row:t,col:s[l]})),this.slotFills({type:"cell",context:{cellType:"after-rule-cells",row:t,rowIndex:i}})],0)}}class HWt extends Qt{render(){const{cell:t,row:i,col:s}=this.props;return Be(t,"dmn:UnaryTests")?ot(2,d4,{className:"input-cell",elementId:t.id,"data-row-id":i.id,"data-col-id":s.id,children:t.businessObject.text}):ot(2,d4,{className:"output-cell",elementId:t.id,"data-row-id":i.id,"data-col-id":s.id,children:t.businessObject.text})}}const aPe={__depends__:[pm],__init__:["decisionRules"],decisionRules:["type",(()=>{class n{constructor(i){i.onGetComponent("table.body",()=>$Wt),i.onGetComponent("row",({rowType:s})=>{if("rule"===s)return zWt}),i.onGetComponent("cell",({cellType:s})=>{if("rule"===s)return HWt})}}return n.$inject=["components"],n})()]},oK=[{label:"Unique",value:{hitPolicy:"UNIQUE",aggregation:void 0},explanation:"No overlap is possible and all rules are disjoint. Only a single rule can be matched"},{label:"First",value:{hitPolicy:"FIRST",aggregation:void 0},explanation:"Rules may overlap. The first matching rule will be chosen"},{label:"Priority",value:{hitPolicy:"PRIORITY",aggregation:void 0},explanation:"Rules may overlap. The one with the highest priority will be chosen"},{label:"Any",value:{hitPolicy:"ANY",aggregation:void 0},explanation:"Rules may overlap. Their output have to match"},{label:"Collect",value:{hitPolicy:"COLLECT",aggregation:void 0},explanation:"Collects the values of all matching rules"},{label:"Collect (Sum)",value:{hitPolicy:"COLLECT",aggregation:"SUM"},explanation:"Collects the values of all matching rules and sums up to a single value"},{label:"Collect (Min)",value:{hitPolicy:"COLLECT",aggregation:"MIN"},explanation:"Collects the values of all matching rules and uses the lowest value"},{label:"Collect (Max)",value:{hitPolicy:"COLLECT",aggregation:"MAX"},explanation:"Collects the values of all matching rules and uses the highest value"},{label:"Collect (Count)",value:{hitPolicy:"COLLECT",aggregation:"COUNT"},explanation:"Collects the values of all matching rules and counts the number of them"},{label:"Rule order",value:{hitPolicy:"RULE ORDER",aggregation:void 0},explanation:"Collects the values of all matching rules in rule order"},{label:"Output order",value:{hitPolicy:"OUTPUT ORDER",aggregation:void 0},explanation:"Collects the values of all matching rules in decreasing output priority order"}];let UWt=(()=>{class n extends Qt{constructor(i,s){super(i,s),this._translate=s.injector.get("translate"),oa(this)}getRoot(){return this.sheet.getRoot()}render(){const s=this.getRoot().businessObject,{aggregation:o,hitPolicy:a}=s,l=It(oK,c=>function qWt(n,t){return n.hitPolicy===t.hitPolicy&&n.aggregation===t.aggregation}(c.value,{aggregation:o,hitPolicy:a}));return Y(1,"div","hit-policy header",[Y(1,"label","dms-label",this._translate("Hit policy:"),0),Y(1,"span","hit-policy-value",this._translate(l.label),0)],4,{title:this._translate(l.explanation)})}}return n.$inject=["sheet"],n})();function lPe(n){n.onGetComponent("hit-policy",()=>UWt)}lPe.$inject=["components"];const WWt={__init__:["hitPolicyProvider"],hitPolicyProvider:["type",lPe]};class GWt extends Qt{constructor(t,i){super(t,i);const{injector:s}=i;this._translate=s.get("translate"),this._eventBus=s.get("eventBus")}onClick=()=>{this._eventBus.fire("showDrd")};render(){return Y(1,"div","view-drd",Y(1,"button","view-drd-button",this._translate("View DRD"),0,{type:"button",onClick:this.onClick}),2,null,null,t=>this.node=t)}}function cPe(n){const{businessObject:t}=n;return t?t.$parent.$parent:void 0}const YWt={__init__:["viewDrd"],viewDrd:["type",(()=>{class n{constructor(i,s,o,a){this._injector=o,this._sheet=a,i.onGetComponent("table.before",()=>{if(this.canViewDrd())return GWt}),s.on("showDrd",()=>{const l=o.get("_parent",!1),u=cPe(a.getRoot());if(!u)return;const d=l.getView(u);l.open(d)})}canViewDrd(){const i=this._injector.get("_parent",!1);if(!i)return!1;const o=cPe(this._sheet.getRoot());return!!i.getView(o)}}return n.$inject=["components","eventBus","injector","sheet"],n})()]},XWt={__init__:["poweredBy"],poweredBy:["type",(()=>{class n{constructor(i){i.onGetComponent("table.before",()=>VG)}}return n.$inject=["components"],n})()]};class f4 extends _Wt{constructor(t={}){const i=f4._createContainer();super(pe(t,{renderer:{container:i}})),this._container=i}open(t){var i=this;return new Promise((s,o)=>{var a;try{return i._decision&&i.clear(),i._decision=t,function wWt(n,t,i){const s=n.get("tableImporter"),o=n.get("eventBus"),a=n.get("sheet");let c,l=n.get("modeling",!1),u=[];o.fire("import.render.start",{decision:t});try{!function d(p){new EWt({create:(m,g,y,v)=>s.create(m,g,y,v),table:m=>s.add(m),element:(m,g,y)=>s.add(m,g,y),error(m,g){u.push({message:m,context:g})}},{canAddMissingEntries:l}).handleDecision(p)}(t)}catch(p){c=p}o.fire("import.render.complete",{error:c,warnings:u}),o.fire("elements.changed",{elements:[a.getRoot()]}),i(c,u)}(i,t,function(l,c){l?(l.warnings=c||[],o(l)):s({warnings:c||[]})})}catch(l){a=l}a?(a.warnings=a.warnings||[],o(a)):s({warnings:[]})})}_init(t){let{modules:i,additionalModules:s,...o}=t,a=i||this.getModules();return{modules:[XWt,...a,...s||[],{decisionTable:["value",this]}],config:o}}on(t,i,s,o){return this.get("eventBus").on(t,i,s,o)}off(t,i){this.get("eventBus").off(t,i)}_emit(t,i){return this.get("eventBus").fire(t,i)}attachTo(t){if(!t)throw new Error("parentNode required");this.detach(),t.appendChild(this._container),this._emit("attach",{})}detach(){const t=this._container;t.parentNode&&(this._emit("detach",{}),xo(t))}destroy(){super.destroy(),this.detach()}getModules(){return f4._getModules()}static _getModules(){return[PWt,DWt,So,IWt,FWt,jWt,aPe,WWt,YWt]}static _createContainer(){return lr('<div class="dmn-decision-table-container"></div>')}}let ZWt=(()=>{class n extends Qt{constructor(i,s){super(i,s),oa(this),this.addRule=this.addRule.bind(this)}componentWillMount(){this._eventBus=this.context.injector.get("eventBus")}handleClick=i=>{i.stopPropagation(),this.addRule(i.target.dataset.colIndex)};addRule(i){this._eventBus.fire("addRule",{colIndex:i})}render(){const{cols:i}=this.props,s=[Y(1,"td","add-rule-add",Y(1,"button","dmn-icon-plus action-icon",null,1,{title:this.translate("Add rule")}),2)],{businessObject:o}=this.sheet.getRoot();(!o.input||!o.input.length)&&s.push(Y(1,"td","input-cell",Yn("-"),2));for(let a=0;a<i.length+1;a++){let l="add-rule";const c=i[a]&&i[a].businessObject;let u="";c?(c.$instanceOf("dmn:InputClause")&&(l+=" input-cell",u="-"),c.$instanceOf("dmn:OutputClause")&&(l+=" output-cell")):l+=" annotation",s.push(Y(1,"td",l,u,0,{"data-col-index":a}))}return Y(1,"tfoot","actionable add-rule",Y(1,"tr",null,s,0),2,{onClick:this.handleClick})}}return n.$inject=["sheet","translate"],n})(),QWt=(()=>{class n{constructor(i,s,o,a){i.onGetComponent("table.foot",()=>ZWt),o.on("addRule",(l,c)=>{const u=s.trigger("addRule"),d=c.colIndex;a.select(u.cells[d]?u.cells[d]:u.cells[0])})}}return n.$inject=["components","editorActions","eventBus","selection"],n})();const EM={__init__:["selection","selectionBehavior"],selection:["type",(()=>{class n{constructor(i,s,o){this._elementRegistry=i,this._eventBus=s,this._renderer=o,this._selection=void 0,s.on("diagram.clear",()=>{this._selection=void 0})}select(i){$n(i)&&(i=this._elementRegistry.get(i));const s=this._selection;s!==i&&(this._selection=i,this._eventBus.fire("selection.changed",{oldSelection:s,selection:i}))}deselect(){const i=this._selection;this._selection=void 0,this._eventBus.fire("selection.changed",{oldSelection:i,selection:this._selection})}get(){return this._selection}hasSelection(){return!!this._selection}}return n.$inject=["elementRegistry","eventBus","renderer"],n})()],selectionBehavior:["type",(()=>{class n{constructor(i,s,o,a){this._elementRegistry=i,this._renderer=o,this._selection=a,s.on(["cell.click","cell.contextmenu"],({id:l})=>{const c=i.get(l);c&&a.select(c)}),s.on("row.remove",({row:l})=>{const c=a.get();c&&l===c.row&&a.deselect()}),s.on("col.remove",({col:l})=>{const c=a.get();c&&l===c.col&&a.deselect()})}}return n.$inject=["elementRegistry","eventBus","renderer","selection"],n})()]},uPe=["click","dblclick","contextmenu","mousedown","mouseup","mouseenter","mouseleave","mouseout","mouseover","mousemove","focusin","focusout","drag","dragstart","dragend","dragover","dragenter","dragleave","drop"],aK={__init__:["interactionEvents"],interactionEvents:["type",(()=>{class n{constructor(i,s){(function JWt(n,t,i){t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i})(this,"_handleEvent",o=>{const{target:a,type:l}=o,c=function tGt(n){return Ho(n,"[data-element-id]",!0)}(a);if(!c)return;const u=c.getAttribute("data-element-id");if(u){const d=this._eventBus.createEvent({id:u,event:o,node:c,target:c});this._eventBus.fire(`cell.${l}`,d),d.defaultPrevented&&o.preventDefault(),d.cancelBubble&&o.stopPropagation()}}),this._eventBus=s,this._container=i.container,s.on("table.init",()=>{this._addEventListeners(uPe)}),s.on("table.destroy",()=>{this._removeEventListeners(uPe)})}_addEventListeners(i){const s=this._container;i.forEach(o=>{s.addEventListener(o,this._handleEvent)})}_removeEventListeners(i){const s=this._container;i.forEach(o=>{s.removeEventListener(o,this._handleEvent)})}}return n.$inject=["config.renderer","eventBus"],n})()]};var nGt=te(3306),dPe=te.n(nGt),pPe=function rGt(n,t){return n^t},iGt=/\b(Array|Date|Object|Math|JSON)\b/g,fPe=Hs;function Hs(n,t){if(!(this instanceof Hs))return new Hs(n,t);if(this.node=this.start=this.peeked=n,this.root=t,this.closingTag=!1,this._revisit=!0,this._selects=[],this._rejects=[],n&&this.higher(n))throw new Error("root must be a parent or ancestor to node")}function hPe(n,t){var i="nextSibling"==n;return function(o,a,l){o=this.compile(o),a=a&&a>0?a:1;for(var c=this.node,u=this.closingTag,d=this._revisit;c;){if(pPe(i,u)&&c[t])c=c[t],u=!i;else if(1==c.nodeType&&!c[t]&&pPe(i,u)){if(u=i,!d)continue}else if(c[n])c=c[n],u=!i;else if(c=c.parentNode,u=i,!d)continue;if(!c||this.higher(c,this.root))break;if(o(c)&&this.selects(c,l)&&this.rejects(c,l)){if(--a)continue;return l||(this.node=c),this.closingTag=u,c}}return null}}Hs.prototype.reset=function(n){return this.node=n||this.start,this},Hs.prototype.revisit=function(n){return this._revisit=n??!0,this},Hs.prototype.opening=function(){return 1==this.node.nodeType&&(this.closingTag=!1),this},Hs.prototype.atOpening=function(){return!this.closingTag},Hs.prototype.closing=function(){return 1==this.node.nodeType&&(this.closingTag=!0),this},Hs.prototype.atClosing=function(){return this.closingTag},Hs.prototype.next=hPe("nextSibling","firstChild"),Hs.prototype.previous=Hs.prototype.prev=hPe("previousSibling","lastChild"),Hs.prototype.select=function(n){return n=this.compile(n),this._selects.push(n),this},Hs.prototype.selects=function(n,t){var i=this._selects,s=i.length;if(!s)return!0;for(var o=0;o<s;o++)if(i[o].call(this,n,t))return!0;return!1},Hs.prototype.reject=function(n){return n=this.compile(n),this._rejects.push(n),this},Hs.prototype.rejects=function(n,t){var i=this._rejects,s=i.length;if(!s)return!0;for(var o=0;o<s;o++)if(i[o].call(this,n,t))return!1;return!0},Hs.prototype.higher=function(n){var t=this.root;if(!t)return!1;for(n=n.parentNode;n&&n!=t;)n=n.parentNode;return n!=t},Hs.prototype.compile=function(n){switch(typeof n){case"number":return function(t){return n==t.nodeType};case"string":return new Function("node","return "+function(n,t){var i=function lGt(n){for(var t=[],i=0;i<n.length;i++)~t.indexOf(n[i])||t.push(n[i]);return t}(function oGt(n){return n.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(iGt,"").match(/[a-zA-Z_]\w*/g)||[]}(n));return t&&"string"==typeof t&&(t=function cGt(n){return function(t){return n+t}}(t)),t?function aGt(n,t,i){return n.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g,function(o){return"("==o[o.length-1]||~t.indexOf(o)?i(o):o})}(n,i,t):i}(n,"node."));case"function":return n;default:return function(){return!0}}},Hs.prototype.peak=Hs.prototype.peek=function(n,t){return 1==arguments.length&&(t=n,n=!0),(t=t??1)?t>0?this.next(n,t,!0):this.prev(n,Math.abs(t),!0):this.node},Hs.prototype.use=function(n){return n(this),this};var a2=window.getSelection();function mPe(n){a2.removeAllRanges(),a2.addRange(n)}function gPe(n,t){var i=function pGt(n,t){for(var d,i=t.start,s=t.end,o=document.createRange(),a=fPe(n.firstChild,n),l=a.node,c=!1,u=0;l;){if(u===i&&(c?o.setStartAfter(l):o.setStartBefore(l)),u===s)return c?o.setEndAfter(l):o.setEndBefore(l),o;if(c||(yPe(l)||l.previousSibling&&(vPe(l)||bPe(l)))&&u++,wM(l)){if(d=l.textContent.length,u<=i&&u+d>i&&o.setStart(l,i-u),u+d>s)return o.setEnd(l,s-u),o;u+=d}l=a.next(),c=a.closingTag}return u<=i&&(n.lastChild?o.setStartAfter(n.lastChild):o.setStart(n,0)),n.lastChild?o.setEndAfter(n.lastChild):o.setEnd(n,0),o}(n,t);mPe(i)}function lK(n){if(!function dGt(n){if(!a2.rangeCount)return null;var t=a2.focusNode;return wM(t)&&(t=t.parentNode),n==t||n.contains(t)}(n))return null;var u,p,t=a2.getRangeAt(0),i=t.startContainer,s=t.endContainer,o=t.startOffset,a=t.endOffset,l=fPe(n.firstChild,n),c=l.node,d=!1,f=0;function h(g,y){return 1===arguments.length&&(y=g),g.parentNode===s&&y==s.childNodes[a]}function m(g,y){return 1===arguments.length&&(y=g),g.parentNode===i&&y==i.childNodes[o]}for(;c&&(m(c)&&(p=f),!h(c));){if(d||(yPe(c)||u&&u.nextSibling==c&&(vPe(c)||bPe(c)))&&f++,wM(c)){if(i===c&&(p=f+o),s===c){f+=a;break}f+=c.textContent.length}if((wM(c)||d)&&(m(c,c.nextSibling)&&(p=f),h(c,c.nextSibling)))break;u=c,c=l.next(),d=l.closingTag}return{start:typeof p>"u"?f:p,end:f}}function wM(n){return 3===n.nodeType}function yPe(n){return 1===n.nodeType&&"BR"===n.nodeName}function vPe(n){return 1===n.nodeType&&"DIV"===n.nodeName}function bPe(n){return 1===n.nodeType&&"P"===n.nodeName}function xM(n){return n.getAttribute("data-element-id")}function l2(n,t){return dn(`[data-element-id="${dPe()(n)}"]`,t)}function cK(n){return Ho(n,"[data-element-id]",!0)}function _Pe(n){const t="[contenteditable]";return Sv(n,t)?n:dn(t,n)}const bGt={above:!0,below:!0,right:!0,left:!0};function EPe(n,t,i,s,o){const{container:a}=n;let l=null;function c(h,m){t.fire("selection."+h+".changed",m),t.fire("cellSelection.changed",{elementId:h,selection:m})}function f(h,m=!0){l!==h&&c(l,{selected:!1,focussed:!1}),l=h,h&&c(h,{selected:!0,focussed:m}),h?s.select(h):s.deselect()}t.on("cell.click",500,function u(h){const m=h.target;if(function yGt(n){return Ho(n,".no-deselect",!0)}(m))return;const g=cK(m);f(g&&xM(g),!h.defaultPrevented)}),t.on("cell.focusin",500,function d(h){const m=xM(h.target),g=!h.defaultPrevented;return h.stopPropagation(),f(m,g)}),t.on("cell.focusout",500,function p(h){c(xM(h.target),{focussed:!1})}),t.on("cellSelection.changed",function(h){const{elementId:m,selection:g}=h,y=l2(m,a);g.focussed&&y&&function vGt(n){const t=_Pe(n);if(!t||!document.body.contains(t)||document.activeElement===t)return;t.focus();const i=lK(t);(!i||0===i.end)&&window.getSelection().setPosition(t.firstChild,t.firstChild.length)}(y)}),t.on("selection.changed",function(h){const{selection:m,oldSelection:g}=h;var y=m&&m.id,v=g&&g.id;y&&y!==l?f(m.id):v&&v===l&&f()}),this.isCellSelected=function(){return!!l},this.getCellSelection=function(){return l},this.selectCell=function(h){if(!l)return;if(!(h in bGt))throw new Error("direction must be any of { above, below, left, right }");const g=function mGt(n){const t=n.getAttribute("data-coords");if(!t)return null;const[i,s]=t.split(":");return{row:i,col:s}}(l2(l,a));if(!g)return!1;const y=function _Gt(n,t){const{row:i,col:s}=n;if("above"===t||"below"===t){const o=parseInt(i,10);return isNaN(o)?n:{col:s,row:"above"===t?o-1:o+1}}if("left"===t||"right"===t){const o=parseInt(s,10);return isNaN(o)?n:{row:i,col:"left"===t?o-1:o+1}}throw new Error("invalid direction <"+t+">")}(g,h),v=function gGt(n,t){const i=`${n.row}:${n.col}`;return dn(`[data-coords="${dPe()(i)}"]`,t)}(y,a);if(!v)return!1;const _=xM(v);return _&&f(_,{focussed:!0,selected:!0}),!0},t.on("contextMenu.close",function(){if(l)return f(l)})}EPe.$inject=["config.renderer","eventBus","sheet","selection","elementRegistry"];const CM={__depends__:[aK,EM],__init__:["cellSelection"],cellSelection:["type",EPe]},pK={__depends__:[{__depends__:[Zc]}],__init__:["decisionTableModelingRules"],decisionTableModelingRules:["type",(()=>{class n extends tl{constructor(i,s){super(i),this._sheet=s}init(){this.addRule("col.move",2e3,({col:i,index:s})=>{const{businessObject:o}=this._sheet.getRoot(),{input:a}=o;return $r(i)?s<a.length:s>=a.length}),this.addRule("col.remove",2e3,({col:i})=>{const{cols:s}=this._sheet.getRoot();return!Fo(i)||s.filter(o=>Fo(o)).length>1}),this.addRule("paste",2e3,({data:i,target:s})=>{if(!i||!s)return!1;const{root:o}=i;return s instanceof Ul?this.canPasteRows(o):s instanceof ql&&this.canPasteCols(o,s)})}canPasteRows(i){const{cols:s}=this._sheet.getRoot();return tc(i,o=>"row"===o.type&&o.cells.length===s.length&&tc(o.cells,(a,l)=>$r(s[l])?"dmn:UnaryTests"===a.businessObject.$type:"dmn:LiteralExpression"===a.businessObject.$type))}canPasteCols(i,s){const{rows:o}=this._sheet.getRoot();return tc(i,a=>"col"===a.type&&a.cells.length===o.length&&($r(s)?"dmn:InputClause"===a.businessObject.$type:"dmn:OutputClause"===a.businessObject.$type))}}return n.$inject=["eventBus","sheet"],n})()]};let EGt=(()=>{class n{constructor(i,s,o){this._clipboard=i,this._modeling=s,this._sheet=o}execute(i){let{data:s}=i;return i.oldData=this._clipboard.get(),this._clipboard.set(s),this._sheet.getRoot()}postExecute(i){let{elements:s}=i;s.forEach(o=>{o instanceof Ul?this._modeling.removeRow(o):o instanceof ql&&this._modeling.removeCol(o)})}revert(i){const{oldData:s}=i;return this._clipboard.set(s),this._sheet.getRoot()}}return n.$inject=["clipboard","modeling","sheet"],n})();const wGt=[function OGt(n,t,i,s){var o=i,a={...t,type:PGt(n)};if(n instanceof Ul||n instanceof ql){let l=s(n.cells,o);a.cells=l.root,o=l.descriptorCache}return{root:a,descriptorCache:o}},function TGt(n,t,i){var s=n.businessObject;if(!s)return{root:t,descriptorCache:i};var o=hK(s,i);return{root:{...t,businessObject:o.root},descriptorCache:o.descriptorCache}}],xGt=[function AGt(n,t,i){var s=n.root.businessObject;if(!s)return{root:t,reviveCache:i};var o=mK({root:s,descriptorCache:n.descriptorCache},i);return{root:{...t,businessObject:o.root},reviveCache:o.reviveCache}},function MGt(n,t,i,s){var o=n.root,a=n.descriptorCache,l={...t};if(t.businessObject&&t.businessObject.id&&(l.id=t.businessObject.id),"row"===o.type||"col"===o.type){let d=s({root:o.cells,descriptorCache:a},i);l.cells=d.root,i=d.reviveCache}var u=new(function IGt(n){switch(n.type){case"row":return Ul;case"cell":return vM;case"col":return ql;default:throw new Error("unknown element type: #"+n.type)}}(o))(l);return u instanceof Ul?u.cells.forEach(d=>{d.row=u}):u instanceof ql&&u.cells.forEach(d=>{d.col=u}),{root:u,reviveCache:i}}];function fK(n,t,i){return i=i||wGt,t=t||{},Vt(n)?function CGt(n,t,i){return ps(n,(s,o)=>{var a=s.descriptorCache,l=s.root;let{root:c,descriptorCache:u}=wPe(o,a,i);return{root:[...l,c],descriptorCache:{...a,...u}}},{root:[],descriptorCache:t})}(n,t,i):wPe(n,t,i)}function wPe(n,t,i){var s=n.id,a=t.elements||{},l=a[s];if(l)return{root:l,descriptorCache:t};let c=function SGt(n,t,i,s){function o(a,l){return fK(a,l,i)}return ps(i,function(a,l){return l(n,a.root,a.descriptorCache,o)},{root:t,descriptorCache:s})}(n,{id:s},i,{...t,elements:a});return{root:c.root,descriptorCache:{...c.descriptorCache,elements:{...c.descriptorCache.elements,[s]:c.root}}}}function PGt(n){if(n instanceof Ul)return"row";if(n instanceof ql)return"col";if(n instanceof vM)return"cell";throw new Error("cannot deduce element type: #"+n.id)}function hK(n,t){var i,s,o=n.id;if(o&&(s=(i=t.boCache||{})[o]))return{root:s,descriptorCache:t};var a={$type:n.$type};return o&&(a.id=o,i={...i,[o]:a},t={...t,boCache:i}),n.$descriptor.properties.forEach(function(l){var c=n[l.name];if(c){if(Vt(c)&&(c=c.map(u=>{var d=hK(u,t);return t=d.descriptorCache,d.root})),c.$type){let u=hK(c,t);t=u.descriptorCache,c=u.root}a[l.name]=c}}),{root:a,descriptorCache:t}}function xPe(n,t,i){return i=i||xGt,t=t||{},Vt(n.root)?function DGt(n,t,i){let o=n.descriptorCache;return ps(n.root,(a,l)=>{var c=a.reviveCache,u=a.root;let{root:d,reviveCache:p}=CPe({root:l,descriptorCache:o},c,i);return{root:[...u,d],reviveCache:p}},{root:[],reviveCache:t})}(n,t,i):CPe(n,t,i)}function CPe(n,t,i){var o=n.root.id,a=t.elements||{},l=a[o];if(l)return{root:l,reviveCache:t};let u=function kGt(n,t,i,s){function o(a,l){return xPe(a,l,i)}return ps(i,function(a,l){return l(n,a.root,a.reviveCache,o)},{root:t,reviveCache:s})}(n,{id:o},i,{...t,elements:a});return{root:u.root,reviveCache:{...u.reviveCache,elements:{...u.reviveCache.elements,[o]:u.root}}}}function mK(n,t){var i=n.root,s=i.id;let o,a;if(s&&(o=t.boCache||{},a=o[s],a))return{root:a,reviveCache:t};var l={};Dl(i).forEach(d=>{let p,f;i[d].$type?(f=mK({root:i[d]},t),p=f.root,o=(t=f.reviveCache).boCache||{}):p=Vt(i[d])?i[d].map(h=>(f=mK({root:h},t),o=(t=f.reviveCache).boCache||{},f.root)):i[d],l[d]=p});const c=l.$type;delete l.$type,(!t._keepIds||t._model.ids.assigned(l.id))&&delete l.id;var u=t._dmnFactory.create(c,l);return se(l,d=>{d.$type&&(d.$parent=u),Vt(d)&&d.forEach(p=>p.$parent=u)}),s&&(o={...o,[s]:u},t={...t,boCache:o}),{root:u,reviveCache:t}}let RGt=(()=>{class n{constructor(i,s,o,a,l,c,u,d){this._clipboard=i,this._dmnFactory=s,this._elementFactory=o,this._elementRegistry=a,this._eventBus=l,this._model=c,this._modeling=u,this._sheet=d}postExecute(i){let{element:s,after:o}=i;const a=this._clipboard.get();if(!a)throw new Error("missing clipboard data");const l=this._sheet.getRoot(),c=xPe(a.elements,{_dmnFactory:this._dmnFactory,_keepIds:a.keepIds,_model:this._model}).root;if(s instanceof Ul){let u=l.rows.indexOf(s);if(-1===u)return;c.forEach(d=>{o&&u++,this._modeling.addRow(d,u)})}else if(s instanceof ql){let u=l.cols.indexOf(s);if(-1===u)return;c.forEach(d=>{o&&u++,this._modeling.addCol(d,u)})}return i.oldElements=this._clipboard.get(),this._sheet.getRoot()}revert(i){}}return n.$inject=["clipboard","dmnFactory","elementFactory","elementRegistry","eventBus","moddle","modeling","sheet"],n})();const SPe={__depends__:[oB,pK],__init__:["copyCutPaste"],copyCutPaste:["type",(()=>{class n{constructor(i,s,o,a,l,c){this._clipboard=i,this._commandStack=s,this._eventBus=o,this._modeling=a,this._sheet=l,this._rules=c,s.registerHandler("cut",EGt),s.registerHandler("paste",RGt)}copy(i){Vt(i)||(i=[i]);const s={elements:fK(i)};this._eventBus.fire("copyCutPaste.copy",{data:s}),this._clipboard.set(s)}cut(i){Vt(i)||(i=[i]);const s={elements:fK(i),keepIds:!0},o={elements:i,data:s};this._eventBus.fire("copyCutPaste.cut",{data:s}),this._commandStack.execute("cut",o)}pasteBefore(i){return this._paste(i,{before:!0})}pasteAfter(i){return this._paste(i,{after:!0})}_paste(i,s){const o=this._clipboard.get();return o?!!this._rules.allowed("paste",{data:o.elements,target:i})&&(this._commandStack.execute("paste",{element:i,...s}),this._clipboard.clear(),!0):void 0}pasteAt(i){}}return n.$inject=["clipboard","commandStack","eventBus","modeling","sheet","rules"],n})()]};let NGt=(()=>{class n{constructor(i,s,o,a,l,c){const u={addRule:()=>o.addRow({type:"dmn:DecisionRule"}),addRuleAbove(d){let p=d&&d.rule;if(!p&&!a.hasSelection())return;p=p||a.get().row;const h=c.getRoot().rows.indexOf(p);return-1!==h?o.addRow({type:"dmn:DecisionRule"},h):void 0},addRuleBelow(d){let p=d&&d.rule;if(!p&&!a.hasSelection())return;p=p||a.get().row;const h=c.getRoot().rows.indexOf(p);return-1!==h?o.addRow({type:"dmn:DecisionRule"},h+1):void 0},removeRule(d){let p=d&&d.rule;!p&&!a.hasSelection()||(p=p||a.get().row,o.removeRow(p))},addInput(){const p=c.getRoot().businessObject,{input:f}=p;return o.addCol({type:"dmn:InputClause"},f?f.length:0)},addInputLeft(d){let p=d&&d.input;if(!p&&!a.hasSelection())return;p=p||a.get().col;const h=c.getRoot().cols.indexOf(p);return-1!==h?o.addCol({type:"dmn:InputClause"},h):void 0},addInputRight(d){let p=d&&d.input;if(!p&&!a.hasSelection())return;p=p||a.get().col;const h=c.getRoot().cols.indexOf(p);return-1!==h?o.addCol({type:"dmn:InputClause"},h+1):void 0},removeInput(d){let p=d&&d.input;!p&&!a.hasSelection()||(p=p||a.get().col,o.removeCol(p))},addOutput(){const p=c.getRoot().businessObject,f=p.get("input"),h=p.get("output");return o.addCol({type:"dmn:OutputClause"},f.length+h.length)},addOutputLeft(d){let p=d&&d.output;if(!p&&!a.hasSelection())return;p=p||a.get().col;const h=c.getRoot().cols.indexOf(p);return-1!==h?o.addCol({type:"dmn:OutputClause"},h):void 0},addOutputRight(d){let p=d&&d.output;if(!p&&!a.hasSelection())return;p=p||a.get().col;const h=c.getRoot().cols.indexOf(p);return-1!==h?o.addCol({type:"dmn:OutputClause"},h+1):void 0},removeOutput(d){let p=d&&d.output;!p&&!a.hasSelection()||(p=p||a.get().col,o.removeCol(p))},addClause(){if(!a.hasSelection())return;const d=a.get().col;return Be(d,"dmn:InputClause")?u.addInput({input:d}):Be(d,"dmn:OutputClause")?u.addOutput({output:d}):void 0},addClauseLeft(){if(!a.hasSelection())return;const d=a.get().col;return Be(d,"dmn:InputClause")?u.addInputLeft({input:d}):Be(d,"dmn:OutputClause")?u.addOutputLeft({output:d}):void 0},addClauseRight(){if(!a.hasSelection())return;const d=a.get().col;return Be(d,"dmn:InputClause")?u.addInputRight({input:d}):Be(d,"dmn:OutputClause")?u.addOutputRight({output:d}):void 0},removeClause(){if(!a.hasSelection())return;const d=a.get().col;return Be(d,"dmn:InputClause")?u.removeInput({input:d}):Be(d,"dmn:OutputClause")?u.removeOutput({output:d}):void 0},selectCellAbove:()=>l.selectCell("above"),selectCellBelow:()=>l.selectCell("below"),copy({element:d}){i.copy(d)},cut({element:d}){i.cut(d)},pasteBefore:({element:d})=>i.pasteBefore(d),pasteAfter:({element:d})=>i.pasteAfter(d)};s.register(u)}}return n.$inject=["copyCutPaste","editorActions","modeling","selection","cellSelection","sheet"],n})();const OPe="is not a registered action";function gK(n,t){return new Error(n+" "+t)}const TPe={__depends__:[EM],__init__:["editorActions"],editorActions:["type",(()=>{class n{constructor(i,s,o,a){this._actions={undo(){i.undo()},redo(){i.redo()},select({cell:l}){a.select(l)},deselect(){a.deselect()},addRow({attrs:l,index:c}){o.addRow(l,c)},removeRow({row:l}){o.removeRow(l)},moveRow({row:l,index:c}){o.moveRow(l,c)},addCol({attrs:l,index:c}){o.addCol(l,c)},removeCol({col:l}){o.removeCol(l)},moveCol({col:l,index:c}){o.moveCol(l,c)}}}trigger(i,s){if(!this._actions[i])throw gK(i,OPe);return this._actions[i](s)}register(i,s){if("string"==typeof i)return this._registerAction(i,s);se(i,(o,a)=>{this._registerAction(a,o)})}_registerAction(i,s){if(this.isRegistered(i))throw gK(i,"is already registered");this._actions[i]=s}unregister(i){if(!this.isRegistered(i))throw gK(i,OPe);this._actions[i]=void 0}isRegistered(i){return!!this._actions[i]}}return n.$inject=["commandStack","eventBus","modeling","selection"],n})()]},c2={__depends__:[CM,SPe,TPe,EM],__init__:["decisionTableEditorActions"],decisionTableEditorActions:["type",NGt]},BGt={__depends__:[c2],__init__:["addRule"],addRule:["type",QWt]};var jGt=te(2107),VGt=te.n(jGt),$Gt=te(3264),zGt=te.n($Gt);class u2 extends Qt{constructor(t,i){super(t,i),this.state={},function qGt(){var n=window.navigator.userAgent;return n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0}()&&(this.onInputIEPolyfill=s=>{var o=this.node.innerHTML;setTimeout(()=>{o!==this.node.innerHTML&&this.onInput(s)},0)})}componentWillUpdate(t,i){var s=this.node,o=i.focussed&&lK(s);this.selected=o&&{range:o,text:SM(s)}}componentDidUpdate(){var t=this.selected;if(!t)return;const i=t.range,s=t.text,o=this.node,a=SM(o);gPe(o,a!==s?zGt()(i,s,a):i)}onFocus=t=>{var i=this.props.onFocus;this.setState({focussed:!0}),"function"==typeof i&&i(t)};onBlur=t=>{const{onBlur:i,onChange:s,value:o}=this.props;if(this.setState({focussed:!1}),"function"==typeof s&&this.node){const a=SM(this.node);a!==o&&s(a)}"function"==typeof i&&i(t)};onKeydown=t=>{if(13===t.which){if(t.preventDefault(),this.props.ctrlForNewline&&!function WGt(n){return n.metaKey||n.ctrlKey}(t)||this.props.singleLine)return;t.stopPropagation(),function UGt(){var t=function uGt(){return a2}().getRangeAt(0);if(t){var i=t.cloneRange(),s=function HGt(){return document.createElement("br")}();i.deleteContents(),i.insertNode(s),i.setStartAfter(s),i.setEndAfter(s),mPe(i)}}(),this.onInput(t)}};onInput=t=>{var i=this.props.onInput;"function"==typeof i&&i(SM(this.node))};onKeyPress=t=>{this.onInputIEPolyfill&&this.onInputIEPolyfill(t)};onPaste=t=>{if(this.onInputIEPolyfill&&this.onInputIEPolyfill(t),this.props.singleLine){const i=(t.clipboardData||window.clipboardData).getData("text");document.execCommand("insertText",!1,i.replace(/\n/g," ")),t.preventDefault()}};getClassName(){const{className:t,placeholder:i,value:s}=this.props;return[t||"","content-editable",!s&&i?"placeholder":""].join(" ")}render(t){var{label:i,value:s,placeholder:o}=t;return s=VGt()(s).replace(/\r?\n/g,"<br/>")+"<br/>",Y(1,"div",this.getClassName(),null,1,{"aria-label":i,role:"textbox","aria-multiline":!this.props.singleLine,tabIndex:"0",contentEditable:"true",spellcheck:"false","data-placeholder":o||"",onInput:this.onInput,onKeypress:this.onKeypress,onPaste:this.onPaste,onFocus:this.onFocus,onBlur:this.onBlur,onKeydown:this.onKeydown,dangerouslySetInnerHTML:{__html:s}},null,a=>this.node=a)}}function SM(n){return n.innerText.replace(/\n$/,"")}class d2 extends Qt{constructor(t,i){super(t,i),this.state={changing:!1,focussed:!1};const{injector:s}=i,o=s.get("debounceInput");this.inputChanged=o(a=>{const{onChange:l}=this.props;"function"==typeof l&&l(a);const c=this.state.changing;this.setState({changing:c!==a&&c})}),this.onInput=a=>{var c=(this.props.validate||function(){})(a);this.setState({changing:a,invalid:c}),c||this.inputChanged(a)}}onFocus=t=>{this.setState({focussed:!0});var{onFocus:i}=this.props;"function"==typeof i&&i(t)};onBlur=t=>{this.setState({focussed:!1});const{invalid:i}=this.state;i&&this.setState({changing:!1,invalid:!1});const{onBlur:s}=this.props;"function"==typeof s&&s(t)};getClassName(){var{className:t,value:i}=this.props,{changing:s,focussed:o,invalid:a}=this.state;return t+=" editable",o&&(t+=" focussed"),a&&(t+=" invalid"),!i&&!s&&(t+=" empty"),t}getDisplayValue(){var{value:t,placeholder:i}=this.props,{focussed:s,changing:o}=this.state;return"string"==typeof o&&(t=o),t||(t=s?"":i||""),t}getEditor(t={}){return ot(2,u2,{className:t.className,ctrlForNewline:this.props.ctrlForNewline,label:this.props.label,onFocus:this.onFocus,onBlur:this.onBlur,onInput:this.onInput,value:this.getDisplayValue()})}}let GGt=(()=>{class n extends Qt{constructor(i,s){super(i,s),oa(this)}componentWillMount(){const{row:i}=this.props;this.changeSupport.onElementsChanged(i.id,this.onElementsChanged)}componentWillUnmount(){const{row:i}=this.props;this.changeSupport.offElementsChanged(i.id,this.onElementsChanged)}onElementsChanged=()=>{this.forceUpdate()};setAnnotationValue=i=>{const{row:s}=this.props;this.modeling.editAnnotation(s.businessObject,i)};render(){const{row:i,rowIndex:s}=this.props,{description:o,id:a}=i.businessObject;return ot(2,d4,{className:"annotation",onChange:this.setAnnotationValue,coords:`${s}:annotation`,value:o,elementId:a,"data-row-id":i.id,children:ot(2,KGt,{label:this.translate("Annotation"),ctrlForNewline:!0,className:"annotation-editor",onChange:this.setAnnotationValue,value:o})})}}return n.$inject=["changeSupport","modeling","translate"],n})();class KGt extends d2{render(){return Y(1,"div",this.getClassName(),this.getEditor(),0)}}function PPe(n){n.onGetComponent("cell",({cellType:t})=>"after-label-cells"===t?tPe:"after-rule-cells"===t?GGt:void 0)}function DPe(n){return function(i){return!1!==n?xv(i,un(n)?n:300):i}}PPe.$inject=["components"],DPe.$inject=["config.debounceInput"];const fm={debounceInput:["factory",DPe]},XGt={__depends__:[fm],__init__:["annotationsProvider"],annotationsProvider:["type",PPe]};function ny(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}const ZGt={position:"absolute"};let QGt=(()=>{class n extends Qt{constructor(i,s){super(i,s),ny(this,"open",({position:o,context:a})=>{this.close(),this.setState({isOpen:!0,position:o||{x:0,y:0},context:a||{}})}),ny(this,"close",()=>{this.state.isOpen&&this.setState({context:void 0,isOpen:!1,position:{x:0,y:0}})}),ny(this,"triggerClose",()=>{this.eventBus.fire("contextMenu.close")}),this.state={isOpen:!1,position:{x:0,y:0}},oa(this)}componentDidMount(){this.eventBus.on("contextMenu.open",this.open),this.eventBus.on("contextMenu.close",this.close)}componentWillUnmount(){this.eventBus.off("contextMenu.open",this.open),this.eventBus.off("contextMenu.close",this.close)}render(){const{isOpen:i,context:s,position:o}=this.state;if(!i)return null;const a=this.components.getComponents("context-menu",s);return a.length?ot(2,JGt,{className:"context-menu no-deselect",context:s,position:o,offset:s.offset||{x:0,y:0},autoFocus:!1!==s.autoFocus,autoClose:!1!==s.autoClose,components:a,onClose:this.triggerClose}):null}}return n.$inject=["eventBus","components"],n})(),JGt=(()=>{class n extends Qt{constructor(i,s){super(i,s),ny(this,"onGlobalMouseDown",o=>{this.checkClose(o.target)}),ny(this,"onGlobalKey",o=>{var a=o.which;(13===a||27===a)&&(o.stopPropagation(),o.preventDefault(),this.close())}),ny(this,"onFocusChanged",o=>{this.checkClose(o.target)}),ny(this,"setNode",o=>{this.node=o;const{autoFocus:a}=this.props;o&&(this.updatePosition(),a&&function tKt(n){var t=dn(eKt,n);t&&(t.focus(),t.selectionStart&&"text"===t.type?t.selectionStart=1e5:"contentEditable"in t&&gPe(t,{start:1e5,end:1e5}))}(o))}),oa(this)}close(){const{onClose:i}=this.props;Gn(i)&&i()}checkClose(i){const{autoClose:s}=this.props;if(s){var o=this.node;o&&o!==i&&(o.contains(i)||this.close())}}componentDidMount(){document.addEventListener("focusin",this.onFocusChanged),document.addEventListener("keydown",this.onGlobalKey),document.addEventListener("mousedown",this.onGlobalMouseDown)}componentWillUnmount(){document.removeEventListener("focusin",this.onFocusChanged),document.removeEventListener("keydown",this.onGlobalKey),document.removeEventListener("mousedown",this.onGlobalMouseDown)}updatePosition(){const{position:i,offset:s}=this.props,{node:o}=this,a=o.getBoundingClientRect();i.width||(i.width=0),i.height||(i.height=0);const c=this.renderer.getContainer().getBoundingClientRect();c.width>c.height?(this.node.classList.add("horizontal"),this.node.classList.remove("vertical")):(this.node.classList.add("vertical"),this.node.classList.remove("horizontal"));const{scrollLeft:u,scrollTop:d}=function nKt(n){const t=Ho(n,".tjs-container");if(!t)return{scrollTop:0,scrollLeft:0};const{scrollLeft:i,scrollTop:s}=t;return{scrollTop:s,scrollLeft:i}}(o),p={};let f,h,m;i.align&&(f=i.align.split("-")),"left"===(f&&f[1]||(i.x+i.width/2>c.width/2?"left":"right"))?(h=i.x-c.left-a.width+s.x+u,o.classList.remove("right"),o.classList.add("left")):(h=-c.left+i.x+i.width-s.x+u,o.classList.remove("left"),o.classList.add("right")),h=f?h:kPe(h,0+u,c.width-a.width+u),p.left=h+"px","top"===(f&&f[0]||(i.y+i.height/2>c.height/2?"top":"bottom"))?(m=i.y-c.top-a.height+s.y+d,o.classList.remove("bottom"),o.classList.add("top")):(m=-c.top+i.y-s.y+d,o.classList.remove("top"),o.classList.add("bottom")),m=f?m:kPe(m,0+d,c.height-a.height+d),p.top=m+"px",p.overflowY="auto",p.maxHeight=c.height-m+d+"px",pe(this.node.style,ZGt,p)}render(){const{context:i,components:s,className:o}=this.props;return Y(1,"div",o,s.map((a,l)=>ot(2,a,{context:i},l)),0,{onContextMenu:a=>a.preventDefault()},null,this.setNode)}}return n.$inject=["renderer"],n})();function kPe(n,t,i){return Math.max(t,Math.min(i,n))}const eKt="\n  input[type=text],\n  input[type=number],\n  input[type=button],\n  input[type=submit],\n  [contenteditable],\n  [tabindex],\n  a[href],\n  textarea,\n  button\n",hm={__init__:["contextMenu"],contextMenu:["type",(()=>{class n{constructor(i,s,o){this._eventBus=s,i.onGetComponent("table.before",()=>QGt)}open(i,s){this._eventBus.fire("contextMenu.open",{position:i,context:s})}close(){this._eventBus.fire("contextMenu.close")}}return n.$inject=["components","eventBus","renderer"],n})()]};function ry(n){return!n.altKey&&(n.ctrlKey||n.metaKey)}function iy(n){return n.shiftKey}const rKt={__depends__:[oB,CM],__init__:["copyCutPasteKeyBindings"],copyCutPasteKeyBindings:["type",(()=>{class n{constructor(i,s,o,a,l,c,u){this._clipboard=o,this._cellSelection=a,this._elementRegistry=l,this._editorActions=c,this._keyboard=i.get("keyboard",!1),this._renderer=u,this._keyboard&&(s.on("keyboard.init",this._registerBindings),s.on("keyboard.bind",()=>{Xt.bind(document,"copy",this._clearClipboard,!0),Xt.bind(document,"cut",this._clearClipboard,!0)}),s.on("keyboard.unbind",()=>{Xt.unbind(document,"copy",this._clearClipboard,!0),Xt.unbind(document,"cut",this._clearClipboard,!0)}))}_clearClipboard=()=>{this._clipboard.clear()};_getSelectedCell(){const i=this._cellSelection.getCellSelection();if(!i)return;const s=this._elementRegistry.get(i);if(!s)return;const a=l2(i,this._renderer.getContainer()),l=_Pe(a);if(document.activeElement!==l)return;const c=lK(a);return c&&c.start!==c.end?void 0:s}_registerBindings=()=>{[(a,l)=>{if(ry(l)&&67===a){const c=this._getSelectedCell();return c?(iy(l)?this._editorActions.trigger("copy",{element:c.col}):this._editorActions.trigger("copy",{element:c.row}),!0):void 0}},(a,l)=>{if(ry(l)&&88===a){const c=this._getSelectedCell();return c?(iy(l)?this._editorActions.trigger("cut",{element:c.col}):this._editorActions.trigger("cut",{element:c.row}),!0):void 0}},(a,l)=>{let c;if(ry(l)&&86===a){const u=this._getSelectedCell();if(!u)return;iy(l)?(c=this._editorActions.trigger("pasteAfter",{element:u.col}),c&&this._cellSelection.selectCell("right")):(c=this._editorActions.trigger("pasteAfter",{element:u.row}),c&&this._cellSelection.selectCell("below"))}return typeof c<"u"}].forEach(a=>{this._keyboard.addListener(a)})}}return n.$inject=["injector","eventBus","clipboard","cellSelection","elementRegistry","editorActions","renderer"],n})()]};let iKt=(()=>{class n extends Qt{constructor(i,s){super(i,s),oa(this)}onClick=i=>{this.editorActions.trigger("addInput")};render(){return Y(1,"th","input-cell create-inputs header actionable",[this.translate("Input"),Yn(" "),Y(1,"button","add-input dmn-icon-plus action-icon",null,1,{title:this.translate("Add input")})],0,{onClick:this.onClick,title:this.translate("Add input")})}}return n.$inject=["editorActions","translate"],n})(),sKt=(()=>{class n extends Qt{constructor(i,s){super(i,s),oa(this)}onClick=i=>{this.editorActions.trigger("addInput")};render(){return Y(1,"td","input-cell create-inputs",Yn("-"),2,{onClick:this.onClick,title:this.translate("Add input")})}}return n.$inject=["editorActions","translate"],n})();const aKt={__depends__:[c2],__init__:["createInputsProvider"],createInputsProvider:["type",(()=>{class n{constructor(i,s){i.onGetComponent("cell",500,({cellType:o})=>{const{businessObject:a}=s.getRoot();if(!a.input||!a.input.length){if("before-label-cells"===o)return iKt;if("before-rule-cells"===o)return sKt}})}}return n.$inject=["components","sheet"],n})()]},lKt=["string","boolean","number","date","time","dateTime","dayTimeDuration","yearMonthDuration","Any"];let MPe=(()=>{class n{constructor(i){this._dataTypes=i||lKt}getAll(){return this._dataTypes}}return n.$inject=["config.dataTypes"],n})();const OM={__init__:["dataTypes"],dataTypes:["type",MPe]},dKt=["row.add","row.remove","col.add","col.remove"],gKt={__depends__:[c2,hm,pK],__init__:["decisionTableContextMenu","contextMenuCloseBehavior","contextMenuKeyboard"],decisionTableContextMenu:["type",(()=>{class n{constructor(i,s,o,a,l,c,u,d,p,f,h){this._contextMenu=s,this._clipboard=o,this._editorActions=a,this._elementRegistry=c,this._eventBus=l,this._modeling=u,this._selection=d,this._sheet=p,this._rules=f,this._translate=h,this._getEntries=this._getEntries.bind(this),i.onGetComponent("context-menu",(m={})=>{if(m.contextMenuType&&"context-menu"===m.contextMenuType){const g=this._getEntries(m),v=function uKt(n){return n instanceof vM}(this._elementRegistry.get(m.id))&&i.getComponents("context-menu-cell-additional",m);if(v&&v.length){const _=Y(1,"div","context-menu-group context-menu-group-cell",v,0,{role:"presentation"});g.push(_)}return()=>Y(1,"div","context-menu-flex",g,0,{tabIndex:0,role:"menu","aria-label":"Decision table context menu"})}}),l.on("cell.contextmenu",({event:m,id:g})=>{m.preventDefault(),s.open({x:m.pageX,y:m.pageY},{contextMenuType:"context-menu",event:m,id:g})})}_getEntries(i){const s_addRuleAbove=d=>{const p=d.cells.map(h=>h.id).indexOf(i.id),f=this._editorActions.trigger("addRuleAbove",{rule:d});this._selection.select(f.cells[p]?f.cells[p]:f.cells[0]),this._contextMenu.close()},s_addRuleBelow=d=>{const p=d.cells.map(h=>h.id).indexOf(i.id),f=this._editorActions.trigger("addRuleBelow",{rule:d});this._selection.select(f.cells[p]?f.cells[p]:f.cells[0]),this._contextMenu.close()},s_removeRule=d=>{this._editorActions.trigger("removeRule",{rule:d}),this._contextMenu.close()},s_addInputLeft=d=>{this._editorActions.trigger("addInputLeft",{input:d}),this._contextMenu.close()},s_addInputRight=d=>{this._editorActions.trigger("addInputRight",{input:d}),this._contextMenu.close()},s_removeInput=d=>{this._editorActions.trigger("removeInput",{input:d}),this._contextMenu.close()},s_addOutputLeft=d=>{this._editorActions.trigger("addOutputLeft",{output:d}),this._contextMenu.close()},s_addOutputRight=d=>{this._editorActions.trigger("addOutputRight",{output:d}),this._contextMenu.close()},s_removeOutput=d=>{this._editorActions.trigger("removeOutput",{output:d}),this._contextMenu.close()},s_copy=d=>{this._editorActions.trigger("copy",{element:d}),this._contextMenu.close()},s_cut=d=>{this._editorActions.trigger("cut",{element:d}),this._contextMenu.close()},s_pasteBefore=d=>{this._editorActions.trigger("pasteBefore",{element:d}),this._contextMenu.close()},s_pasteAfter=d=>{this._editorActions.trigger("pasteAfter",{element:d}),this._contextMenu.close()},o=i&&i.id;if(!o)return null;const a=this._elementRegistry.get(o);if(!a)return null;const l=this._clipboard.get()||{},c=[],u=a.row||a;if(Be(u,"dmn:DecisionRule")){const d=this._rules.allowed("paste",{data:l.elements,target:u});c.push(Y(1,"div","context-menu-group",[Y(1,"div","context-menu-group-entry context-menu-entry-copy-rule",this._translate("Copy rule"),0,{onClick:()=>s_copy(u),tabIndex:"-1",role:"menuitem"}),Y(1,"div","context-menu-group-entry context-menu-entry-cut-rule",this._translate("Cut rule"),0,{onClick:()=>s_cut(u),tabIndex:"-1",role:"menuitem"}),Y(1,"div",`context-menu-group-entry ${d?"":"disabled"} context-menu-entry-paste-rule-above`,this._translate("Paste rule above"),0,{onClick:()=>s_pasteBefore(u),tabIndex:"-1",role:"menuitem","aria-disabled":!d}),Y(1,"div",`context-menu-group-entry ${d?"":"disabled"} context-menu-entry-paste-rule-below`,this._translate("Paste rule below"),0,{onClick:()=>s_pasteAfter(u),tabIndex:"-1",role:"menuitem","aria-disabled":!d})],4,{role:"presentation"}),Y(1,"div","context-menu-group",[Y(1,"div","context-menu-group-entry context-menu-entry-add-rule-above",this._translate("Add rule above"),0,{onClick:()=>s_addRuleAbove(u),tabIndex:"-1",role:"menuitem"}),Y(1,"div","context-menu-group-entry context-menu-entry-add-rule-below",this._translate("Add rule below"),0,{onClick:()=>s_addRuleBelow(u),tabIndex:"-1",role:"menuitem"}),Y(1,"div","context-menu-group-entry context-menu-entry-remove-rule",this._translate("Remove rule"),0,{onClick:()=>s_removeRule(u),tabIndex:"-1",role:"menuitem"})],4,{role:"presentation"}))}else if(Be(a,"dmn:InputClause")){const d=Be(a,"dmn:InputClause")?a:a.col,p=this._rules.allowed("col.remove",{col:a.col||a}),f=this._rules.allowed("paste",{data:l.elements,target:a.col||a});c.push(Y(1,"div","context-menu-group",[Y(1,"div","context-menu-group-entry context-menu-entry-copy-input",this._translate("Copy input column"),0,{onClick:()=>s_copy(d),tabIndex:"-1",role:"menuitem"}),Y(1,"div",`context-menu-group-entry ${p?"":"disabled"} context-menu-entry-cut-input`,this._translate("Cut input column"),0,{onClick:()=>s_cut(d),tabIndex:"-1",role:"menuitem","aria-disabled":!p}),Y(1,"div",`context-menu-group-entry ${f?"":"disabled"} context-menu-entry-paste-input-left`,this._translate("Paste input column left"),0,{onClick:()=>s_pasteBefore(d),tabIndex:"-1",role:"menuitem","aria-disabled":!f}),Y(1,"div",`context-menu-group-entry ${f?"":"disabled"} context-menu-entry-paste-input-right`,this._translate("Paste input column right"),0,{onClick:()=>s_pasteAfter(d),tabIndex:"-1",role:"menuitem","aria-disabled":!f})],4,{role:"presentation"}),Y(1,"div","context-menu-group",[Y(1,"div","context-menu-group-entry context-menu-entry-add-input-left",this._translate("Add input column left"),0,{onClick:()=>s_addInputLeft(d),tabIndex:"-1",role:"menuitem"}),Y(1,"div","context-menu-group-entry context-menu-entry-add-input-right",this._translate("Add input column right"),0,{onClick:()=>s_addInputRight(d),tabIndex:"-1",role:"menuitem"}),Y(1,"div",`context-menu-group-entry ${p?"":"disabled"} context-menu-entry-remove-input`,this._translate("Remove input column"),0,{onClick:()=>s_removeInput(d),tabIndex:"-1",role:"menuitem","aria-disabled":!p})],4,{role:"presentation"}))}else if(Be(a,"dmn:OutputClause")||Be(a.col,"dmn:OutputClause")){const d=Be(a,"dmn:OutputClause")?a:a.col,p=this._rules.allowed("col.remove",{col:a.col||a}),f=this._rules.allowed("paste",{data:l.elements,target:a.col||a});c.push(Y(1,"div","context-menu-group",[Y(1,"div","context-menu-group-entry context-menu-entry-copy-output",this._translate("Copy output column"),0,{onClick:()=>s_copy(d),tabIndex:"-1",role:"menuitem"}),Y(1,"div",`context-menu-group-entry ${p?"":"disabled"} context-menu-entry-cut-output`,this._translate("Cut output column"),0,{onClick:()=>s_cut(d),tabIndex:"-1",role:"menuitem","aria-disabled":!p}),Y(1,"div",`context-menu-group-entry ${f?"":"disabled"} context-menu-entry-paste-output-left`,this._translate("Paste output column left"),0,{onClick:()=>s_pasteBefore(d),tabIndex:"-1",role:"menuitem","aria-disabled":!f}),Y(1,"div",`context-menu-group-entry ${f?"":"disabled"} context-menu-entry-paste-output-right`,this._translate("Paste output column right"),0,{onClick:()=>s_pasteAfter(d),tabIndex:"-1",role:"menuitem","aria-disabled":!f})],4,{role:"presentation"}),Y(1,"div","context-menu-group",[Y(1,"div","context-menu-group-entry context-menu-entry-add-output-left",this._translate("Add output column left"),0,{onClick:()=>s_addOutputLeft(d),tabIndex:"-1",role:"menuitem"}),Y(1,"div","context-menu-group-entry context-menu-entry-add-output-right",this._translate("Add output column right"),0,{onClick:()=>s_addOutputRight(d),tabIndex:"-1",role:"menuitem"}),Y(1,"div",`context-menu-group-entry ${p?"":"disabled"} context-menu-entry-remove-output`,this._translate("Remove output column"),0,{onClick:()=>s_removeOutput(d),tabIndex:"-1",role:"menuitem","aria-disabled":!p})],4,{role:"presentation"}))}return c}}return n.$inject=["components","contextMenu","clipboard","editorActions","eventBus","elementRegistry","modeling","selection","sheet","rules","translate"],n})()],contextMenuCloseBehavior:["type",(()=>{class n{constructor(i,s){s.on("commandStack.executed",({command:o})=>{-1!==dKt.indexOf(o)&&i.close()}),s.on("commandStack.reverted",()=>{i.close()})}}return n.$inject=["contextMenu","eventBus"],n})()],contextMenuKeyboard:["type",(()=>{class n{constructor(i){i.on("contextMenu.open",()=>this.addEventListeners()),i.on("contextMenu.close",()=>this.removeEventListeners()),i.on("commandStack.executed",()=>this.removeEventListeners())}addEventListeners=()=>{document.addEventListener("keydown",this.handleKeyEvent),document.addEventListener("mouseover",this.handleMouseOver)};removeEventListeners=()=>{document.removeEventListener("keydown",this.handleKeyEvent),document.removeEventListener("mouseover",this.handleMouseOver)};handleKeyEvent=i=>{"ArrowUp"===i.key?(i.preventDefault(),this.move(i.target,-1)):"ArrowDown"===i.key?(i.preventDefault(),this.move(i.target,1)):"Enter"===i.key&&(i.preventDefault(),this.clickCurrentEntry())};handleMouseOver=()=>{this.getEntries().forEach(o=>function mKt(n){n.style.removeProperty("background-color"),n.style.removeProperty("pointer-events")}(o));const{focused:s}=this.getActiveEntries(document);s&&Nn(s).remove("focused")};getEntries=()=>Array.from(ju(".context-menu-group-entry")).filter(i=>!Nn(i).has("disabled"));getActiveEntries=i=>{const s=dn(".context-menu-group-entry:hover",i),o=dn(".context-menu-group-entry.focused",i);return{hover:s,focused:o,current:o||s}};move=(i,s)=>{const o=this.getEntries(),{current:a,hover:l}=this.getActiveEntries(i);if(!a)return void Nn(o[0]).add("focused");const c=o.indexOf(a)+s;let u=o[c];c<0&&(u=o[o.length-1]),c>=o.length&&(u=o[0]),l&&function hKt(n){n.style.setProperty("pointer-events","none"),n.style.setProperty("background-color","transparent")}(l),Nn(a).remove("focused"),Nn(u).add("focused"),u.style.removeProperty("background-color")};clickCurrentEntry=()=>{const{current:i}=this.getActiveEntries(document);i&&i.click()}}return n.$inject=["eventBus"],n})()]};class yKt extends Qt{constructor(t,i){super(t,i),ty(this,u4),this._translate=i.injector.get("translate")}onClick=t=>{const{output:i}=this.props;this._eventBus.fire("output.edit",{event:t,output:i})};onContextmenu=t=>{const{id:i}=this.props.output;this._eventBus.fire("cell.contextmenu",{event:t,id:i})};onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){const{injector:t}=this.context;this._changeSupport=this.context.changeSupport,this._eventBus=t.get("eventBus"),this._elementRegistry=t.get("elementRegistry");const{output:i}=this.props;this._changeSupport.onElementsChanged(i.id,this.onElementsChanged)}componentWillUnmount(){const{output:t}=this.props;this._changeSupport.offElementsChanged(t.id,this.onElementsChanged)}render(){const{output:t,index:i,outputsLength:s}=this.props,{label:o,name:a,outputValues:l,typeRef:c}=t,u=t.width?t.width+"px":"192px";return Y(1,"th","output-cell output-editor",[this.slotFills({type:"cell-inner",context:{cellType:"output-cell",col:this._elementRegistry.get(t.id),index:i,outputsLength:s},col:t}),Y(1,"div","clause",this._translate(0===i?"Then":"And"),0),o?Y(1,"div","output-label",o,0,{title:this._translate("Output label: ")+o}):Y(1,"div","output-name",a,0,{title:this._translate("Output name: ")+a}),Y(1,"div","output-variable",l&&l.text||this._translate(c||""),0,{title:this._translate(l&&l.text?"Output values":"Output type")})],0,{"data-col-id":t.id,onDblClick:this.onClick,onContextmenu:this.onContextmenu,style:{width:u}})}}class th extends Qt{constructor(t,i){super(t,i),this.state={value:t.value}}onInput=t=>{const{onInput:i}=this.props,s=t.target.value;this.setState({value:s},()=>{"function"==typeof i&&i(s)})};onChange=t=>{const{onChange:i}=this.props;"function"==typeof i&&i(t.target.value)};onKeyDown=t=>{const{onKeyDown:i}=this.props;"function"==typeof i&&i(t)};onKeyUp=t=>{const{onKeyUp:i}=this.props;"function"==typeof i&&i(t)};componentDidUpdate(t){const{value:i}=this.props;i!==t.value&&i!==this.state.value&&this.setState({value:i})}render(){const{className:t,label:i,id:s,placeholder:o,type:a}=this.props,{value:l}=this.state;return Y(64,"input",[t||"","dms-input"].join(" "),null,1,{"aria-label":i,placeholder:o||"",onChange:this.onChange,onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,spellcheck:"false",type:a||"text",value:l,id:s})}}class vKt extends Qt{constructor(t,i){super(t,i),this.translate=i.injector?i.injector.get("translate"):bKt,this.setName=s=>{this.handleChange({name:s=s||void 0})},this.setLabel=s=>{this.handleChange({label:s=s||void 0})}}handleChange(t){var{onChange:i}=this.props;"function"==typeof i&&i(t)}render(){const{name:t,label:i}=this.props;return Y(1,"div","context-menu-container ref-output-editor output-edit",[Y(1,"div","dms-form-control",ot(2,u2,{label:this.translate("Output label"),className:"dms-output-label",value:i||"",placeholder:this.translate("Output"),singleLine:!0,onInput:this.setLabel}),2),Y(1,"div","dms-form-control",[Y(1,"label","dms-label",this.translate("Output name"),0),ot(2,th,{label:this.translate("Output name"),className:"ref-output-name",value:t||"",onInput:this.setName})],4)],4)}}function bKt(n){return n}let _Kt=(()=>{class n extends Qt{constructor(i,s){super(i,s),this.state={},oa(this),this.persistChanges=this.debounceInput(this.persistChanges)}persistChanges=()=>{const{output:i}=this.props.context,{unsaved:s}=this.state;s&&(this.modeling.updateProperties(i,s),this.setState({unsaved:!1}))};handleChange=i=>{this.setState({unsaved:{...this.state.unsaved,...i}},this.persistChanges)};getValue(i){const{output:s}=this.props.context,{unsaved:o}=this.state;return o&&i in o?o[i]:s.get(i)}render(){return ot(2,vKt,{name:this.getValue("name"),label:this.getValue("label"),onChange:this.handleChange})}}return n.$inject=["debounceInput","modeling"],n})();class EKt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._eventBus=i.injector.get("eventBus")}onClick=t=>{const{col:i}=this.props;this._eventBus.fire("output.edit",{event:t,output:i})};render(){return Y(1,"button","edit-button dmn-icon-edit",null,1,{"aria-label":this._translate("Edit output"),type:"button",onClick:this.onClick})}}let wKt=(()=>{class n{constructor(i,s,o,a){i.onGetComponent("cell",({cellType:l})=>{if("output-header"===l)return yKt}),i.onGetComponent("context-menu",(l={})=>{if("output-edit"===l.contextMenuType)return _Kt}),i.onGetComponent("cell-inner",(l={})=>{const{cellType:c}=l;if("output-cell"===c)return EKt}),o.on("output.edit",({event:l,output:c})=>{const{target:u}=l,d=Ho(u,"th",!0),{left:p,top:f}=d.getBoundingClientRect(),h=function xKt(n){if(!Sv(n,".output-cell + .output-cell"))return{x:-1,y:0}}(d);s.open({x:p,y:f,align:"bottom-right"},{contextMenuType:"output-edit",output:c,offset:h})})}}return n.$inject=["components","contextMenu","eventBus","renderer"],n})();class CKt extends Qt{constructor(t,i){super(t,i),ty(this,u4),this._translate=i.injector.get("translate")}onClick=t=>{const{input:i}=this.props;this._eventBus.fire("input.edit",{event:t,input:i})};onContextmenu=t=>{const{id:i}=this.props.input;this._eventBus.fire("cell.contextmenu",{event:t,id:i})};onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){const{injector:t}=this.context;this._changeSupport=this.context.changeSupport,this._sheet=t.get("sheet"),this._eventBus=t.get("eventBus"),this._elementRegistry=t.get("elementRegistry");const i=this._sheet.getRoot(),{input:s}=this.props;this._changeSupport.onElementsChanged(i.id,this.onElementsChanged),this._changeSupport.onElementsChanged(s.id,this.onElementsChanged)}componentWillUnmount(){const t=this._sheet.getRoot(),{input:i}=this.props;this._changeSupport.offElementsChanged(t.id,this.onElementsChanged),this._changeSupport.offElementsChanged(i.id,this.onElementsChanged)}render(){const{input:t,index:i,inputsLength:s}=this.props,{inputExpression:o,inputValues:a}=t,l=t.get("label"),c=t.width?t.width+"px":"192px";return Y(1,"th","input-cell input-editor",[this.slotFills({type:"cell-inner",context:{cellType:"input-cell",col:this._elementRegistry.get(t.id),index:i,inputsLength:s},col:t}),Y(1,"div","clause",this._translate(0===i?"When":"And"),0),l?Y(1,"div","input-label",l,0,{title:this._translate("Input label: ")+l}):Y(1,"div","input-expression",o.text,0,{title:this._translate("Input expression: ")+o.text}),Y(1,"div","input-variable",a&&a.text||this._translate(o.typeRef||""),0,{title:this._translate(a&&a.text?"Input values":"Input type")})],0,{"data-col-id":t.id,onDblClick:this.onClick,onContextmenu:this.onContextmenu,style:{width:c}})}}class TM extends Qt{constructor(t,i){super(t,i),this.node=null,this.editor=null,this.state={value:t.value}}componentDidMount(){this.editor=new v1({contentAttributes:{"aria-label":this.props.label},container:this.node,onChange:this.handleChange,value:this.state.value,variables:this.props.variables||[],extensions:[ln.lineWrapping]}),this.node.addEventListener("mousedown",this.handleMouseEvent),this.node.addEventListener("keydown",this.handleKeyDownCapture,!0),this.node.addEventListener("keydown",this.handleKeyDown),this.props.autoFocus&&this.editor.focus(this.state.value.length)}componentDidUpdate(t){const{value:i}=this.props;t.value!==i&&i!==this.state.value&&this.setState({value:i},()=>{this.editor.setValue(i)}),function TKt(n,t){return JSON.stringify(n)===JSON.stringify(t)}(t.variables,this.props.variables)||this.editor.setVariables(this.props.variables)}componentWillUnmount(){this.node.removeEventListener("mousedown",this.handleMouseEvent),this.node.removeEventListener("keydown",this.handleKeyDownCapture,!0),this.node.removeEventListener("keydown",this.handleKeyDown)}handleMouseEvent=t=>{t.stopPropagation()};handleKeyDownCapture=t=>{if("Enter"===t.key){if(function OKt(n){return n.querySelector(".cm-tooltip-autocomplete")}(this.node))return void(t.triggeredFromAutocomplete=!0);this.props.ctrlForNewline&&!function SKt(n){return n.metaKey||n.ctrlKey}(t)&&t.preventDefault(),this.props.singleLine&&t.preventDefault()}};handleKeyDown=t=>{["Enter","Escape"].includes(t.key)&&t.triggeredFromAutocomplete&&t.stopPropagation()};handleChange=t=>{const{onInput:i}=this.props;this.setState({value:t}),i&&i(t)};handleBlur=()=>{const{onBlur:t,onChange:i}=this.props;i&&this.state.value!==this.props.value&&i(this.state.value),t&&t()};setNode=t=>{this.node=t};render(){return Y(1,"div",["literal-expression",this.props.className||""].join(" "),null,1,{onClick:this.handleMouseEvent,onFocusIn:this.props.onFocus,onFocusOut:this.handleBlur},null,this.setNode)}}class PKt extends Qt{constructor(t,i){super(t,i),this.translate=i.injector.get("translate"),this.expressionLanguages=i.injector.get("expressionLanguages",!1),this.variableResolver=i.injector.get("variableResolver",!1),this.handleValue=s=>{this.handleChange({text:s})},this.handleLabelChange=s=>{this.handleChange({label:s||void 0})}}handleChange(t){var{onChange:i}=this.props;"function"==typeof i&&i(t)}getExpressionEditorComponent(){return this.expressionLanguages&&"feel"!==this.expressionLanguages.getDefault("inputCell").value?u2:TM}handleKeyDown=t=>{"Enter"===t.key&&t.stopPropagation()};_getVariables(){return this.variableResolver&&this.variableResolver.getVariables(this.props.element)}render(){const{label:t,text:i}=this.props,s=this.getExpressionEditorComponent(),o=this._getVariables();return Y(1,"div","context-menu-container ref-input-editor input-edit",[Y(1,"div","dms-form-control",ot(2,u2,{label:this.translate("Input label"),className:"dms-input-label",value:t||"",placeholder:this.translate("Input"),singleLine:!0,onInput:this.handleLabelChange}),2),Y(1,"div","dms-form-control",[Y(1,"label","dms-label",this.translate("Expression"),0),ot(2,s,{label:this.translate("Input expression"),placeholder:this.translate("Enter expression"),className:["ref-text","dms-input"].join(" "),onInput:this.handleValue,value:i||"",variables:o})],4)],4,{onKeyDown:this.handleKeyDown})}}let DKt=(()=>{class n extends Qt{constructor(i,s){super(i,s),this.state={},oa(this),this.persistChanges=this.debounceInput(this.persistChanges)}persistChanges=()=>{const{input:i}=this.props.context,{unsaved:s}=this.state;if(!s)return;const{label:o,...a}=s;var l={};"label"in s&&(l.label=o),function kKt(n){return Object.keys(n).length}(a)&&(l.inputExpression=a),this.modeling.updateProperties(i,l),this.setState({unsaved:!1})};handleChange=i=>{this.setState({unsaved:{...this.state.unsaved,...i}},this.persistChanges)};getValue(i){let{input:s}=this.props.context;const{unsaved:o}=this.state;let a=s;return"text"===i&&(a=a.inputExpression),o&&i in o?o[i]:a.get(i)}render(){return ot(2,PKt,{label:this.getValue("label"),text:this.getValue("text"),element:this.props.context.input,onChange:this.handleChange})}}return n.$inject=["debounceInput","modeling","injector"],n})();class MKt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._eventBus=i.injector.get("eventBus")}onClick=t=>{const{col:i}=this.props;this._eventBus.fire("input.edit",{event:t,input:i})};render(){return Y(1,"button","edit-button dmn-icon-edit",null,1,{"aria-label":this._translate("Edit input"),type:"button",onClick:this.onClick})}}let AKt=(()=>{class n{constructor(i,s,o,a){i.onGetComponent("cell",({cellType:l})=>{if("input-header"===l)return CKt}),i.onGetComponent("context-menu",(l={})=>{if("input-edit"===l.contextMenuType)return DKt}),i.onGetComponent("cell-inner",(l={})=>{const{cellType:c}=l;if("input-cell"===c)return MKt}),o.on("input.edit",({event:l,input:c})=>{const{target:u}=l,d=Ho(u,"th",!0),{left:p,top:f}=d.getBoundingClientRect();s.open({x:p,y:f,align:"bottom-right"},{contextMenuType:"input-edit",input:c})})}}return n.$inject=["components","contextMenu","eventBus","renderer"],n})(),Is=(()=>{class n extends Qt{constructor(i,s){super(i,s),oa(this);const{value:o}=i;this.state={value:o,optionsVisible:!1},this._portalEl=null}componentDidMount(){document.addEventListener("mousedown",this.onGlobalClick),document.addEventListener("focusin",this.onFocusChanged),this.keyboard.addListener(this.onKeyboard)}componentWillUnmount(){document.removeEventListener("focusin",this.onFocusChanged),document.removeEventListener("mousedown",this.onGlobalClick),this.keyboard.removeListener(this.onKeyboard),this.removePortalEl()}componentWillReceiveProps(i){const{value:s}=i;this.setState({value:s})}componentWillUpdate(i,s){const{optionsVisible:o}=s;o?this._portalEl||this.addPortalEl():this._portalEl&&this.removePortalEl()}componentDidUpdate(){const{optionsVisible:i}=this.state;if(!i||!this.inputNode)return;const s=this.getOptionsBounds();pe(this._portalEl.style,s)}getOptionsBounds(){const i=this.renderer.getContainer(),{top:s,left:o,bottom:a}=i.getBoundingClientRect(),{top:l,left:c,width:u,height:d,bottom:p}=this.inputNode.getBoundingClientRect(),f=l+d-s+i.scrollTop,m={top:`${f}px`,left:`${c-o+i.scrollLeft}px`,width:`${u}px`,"max-height":`calc(100% - ${f}px)`};if(a-p<d){const g=a-l;m.bottom=`${g}px`,m["max-height"]=`calc(100% - ${g})`,delete m.top}return m}addPortalEl(){this._portalEl=lr('<div class="dms-select-options"></div>'),this.renderer.getContainer().appendChild(this._portalEl),this._portalEl.addEventListener("mousedown",APe)}removePortalEl(){this._portalEl&&(this._portalEl.removeEventListener("mousedown",APe),xo(this._portalEl),this._portalEl=null)}onChange=i=>{this.setState({value:i});const{onChange:s}=this.props;"function"==typeof s&&s(i)};onInputClick=i=>{i.preventDefault(),i.stopPropagation(),this.setOptionsVisible(!this.state.optionsVisible),this.focusInput()};onInput=i=>{const{value:s}=i.target;this.onChange(s)};onOptionClick=(i,s)=>{s.preventDefault(),s.stopPropagation(),this.setOptionsVisible(!1),this.onChange(i),this.focusInput()};focusInput(){const i=this.inputNode;i.focus(),"selectionStart"in i&&(i.selectionStart=1e5)}checkClose(i){this._portalEl&&!this._portalEl.contains(i)&&!this.parentNode.contains(i)&&this.setOptionsVisible(!1)}onFocusChanged=i=>{this.checkClose(i.target)};onGlobalClick=i=>{this.checkClose(i.target)};select(i){const{options:s}=this.props,{value:o}=this.state;if(!s)return;const a=s.filter(d=>d.value===o)[0],l=a?s.indexOf(a):-1,c=-1===l?1===i?0:s.length-1:(l+i)%s.length;this.onChange(s[c<0?s.length+c:c].value)}setOptionsVisible(i){this.setState({optionsVisible:i})}onKeyDown=i=>{const{optionsVisible:s}=this.state;var o=i.which;(40===o||38===o)&&(i.stopPropagation(),i.preventDefault(),s?this.select(40===o?1:-1):this.setOptionsVisible(!0)),s&&(13===o||27===o)&&(i.stopPropagation(),i.preventDefault(),this.setOptionsVisible(!1))};onKeyboard=i=>{const{optionsVisible:s}=this.state;if(s&&27===i)return this.setOptionsVisible(!1),!0};renderOptions(i,s){return Y(1,"div","options",i.map(o=>Y(1,"div",["option",s===o?"active":""].join(" "),o.label,0,{"data-value":o.value,onClick:a=>this.onOptionClick(o.value,a)})),0)}render(){const{className:i,label:s,id:o,options:a,noInput:l,title:c}=this.props,{optionsVisible:u,value:d}=this.state,p=!!a&&a.filter(h=>h.value===d)[0],f=p?p.label:d;return Y(1,"div",[i||"","dms-input-select"].join(" "),[l?Y(1,"div","dms-input",f,0,{"aria-label":s,tabindex:"0",onKeyDown:this.onKeyDown},null,h=>this.inputNode=h):Y(64,"input","dms-input",null,1,{"aria-label":s,onInput:this.onInput,onKeyDown:this.onKeyDown,spellcheck:"false",type:"text",value:d,id:o},null,h=>this.inputNode=h),Y(1,"span",["dms-input-select-icon",u?"dmn-icon-up":"dmn-icon-down"].join(" ")),u&&sTe(this.renderOptions(a,p),this._portalEl)],0,{title:c,onClick:this.onInputClick},null,h=>this.parentNode=h)}}return n.$inject=["keyboard","renderer"],n})();function APe(n){n.stopPropagation()}class IKt extends Qt{constructor(t,i){super(t),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling"),this._dataTypes=i.injector.get("dataTypes")}onTypeChange=t=>{const i=this.getElement(),s=Be(i,"dmn:LiteralExpression")?i.$parent:i;let o;$r(s)?o={inputExpression:{typeRef:t}}:Fo(s)&&(o={typeRef:t}),this._modeling.updateProperties(s,o)};getElement(){return this.props.context.input||this.props.context.output}render(){const t=this.getElement(),i=(Be(t,"dmn:InputClause")?t.inputExpression:t).typeRef,s=this._dataTypes.getAll().map(a=>({label:this._translate(a),value:a})),o=this._translate("Type");return Y(1,"div","type-ref-edit context-menu-container",Y(1,"div","dms-form-control",[Y(1,"label","dms-label",[o,Yn(":")],0),ot(2,Is,{className:"type-ref-edit-select",label:o,onChange:this.onTypeChange,options:s,value:i})],4),2)}}const NKt={__depends__:[hm,OM],__init__:["typeRefEditingProvider"],typeRefEditingProvider:["type",(()=>{class n{constructor(i){i.onGetComponent("context-menu",750,(s={})=>{const{contextMenuType:o}=s;if("input-edit"===o||"output-edit"===o)return IKt})}}return n.$inject=["components"],n})()]};let LKt=(()=>{class n extends Qe{constructor(i,s){super(i),this.postExecuted("element.updateProperties",o=>{const{element:a,properties:l}=o.context,c=$r(a)?l.inputExpression:l;if(c&&c.typeRef&&"string"!==c.typeRef){const u=Be(a,"dmn:LiteralExpression")?a.$parent:a;s.editAllowedValues(u,null)}})}}return n.$inject=["eventBus","modeling"],n})();class IPe extends Qt{constructor(t,i){super(t,i);const{items:s}=t;this.state={items:s}}componentWillReceiveProps(t){const{items:i}=t;this.setState({items:i})}getRemoveClickHandler=t=>i=>{i.stopPropagation(),this.removeItem(t)};getToggleClickHandler=t=>i=>{i.stopPropagation(),this.toggleItem(t)};removeItem=t=>{const{onChange:i}=this.props,s=this.state.items.filter(o=>o!==t);this.setState({items:s}),i&&i(s)};toggleItem=t=>{const{onChange:i,type:s}=this.props,o=this.state.items.map(a=>(a===t?a.isChecked=!a.isChecked:"radio"===s&&(a.isChecked=!1),a));this.setState({items:o}),i&&i(o)};render(){const{className:t,items:i,type:s,labelComponent:o}=this.props,a=["dms-list-component"];t&&a.push(t);const c=function jKt(n){const t=[];for(let i in n)t.push([i,n[i]]);return t}(Fu(i,"group"));return Y(1,"div",a.join(" "),c.map(u=>{const d=u[0],p=u[1];return Y(1,"div","group",[o&&o(d)||Y(1,"h4","dms-heading",d,0),Y(1,"ul","items no-wrap",p.map(f=>Y(1,"li","item",[s&&Y(64,"input","item-toggle",null,1,{type:s,checked:f.isChecked,onClick:this.getToggleClickHandler(f)}),Yn("\xa0"),f.value,f.isRemovable&&Y(1,"span","remove dmn-icon-clear",null,1,{title:"Remove item",onClick:this.getRemoveClickHandler(f)})],0)),0)],0)}),0)}}class Cu extends Qt{constructor(t,i){super(t,i);const{validate:s,value:o}=t,a=s?s(o||""):void 0;this.state={validationWarning:a,value:o},this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this)}componentWillReceiveProps(t){const{validate:i,value:s}=t,o=i?i(s||""):void 0;this.setState({validationWarning:o,value:s})}onInput(t){const{onInput:i,validate:s}=this.props,o=s?s(t):void 0;this.setState({validationWarning:o,value:t}),"function"==typeof i&&i&&i({isValid:!o,value:t})}onKeyDown(t){const{target:i}=t,{value:s}=i,{onKeyDown:o,validate:a}=this.props,l=a?a(s):void 0;"function"==typeof o&&o({isValid:!l,value:s,event:t})}onKeyUp(t){const{target:i}=t,{value:s}=i,{onKeyUp:o,validate:a}=this.props,l=a?a(s):void 0;"function"==typeof o&&o({isValid:!l,value:s,event:t})}render(){const{placeholder:t,type:i,className:s,label:o}=this.props,{validationWarning:a,value:l}=this.state,c=["dms-validated-input",s].join(" "),u=[];return a&&u.push("invalid"),Y(1,"div",c,[ot(2,th,{className:u,label:o,onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,placeholder:t||"",type:i,value:l||""}),a&&Y(1,"p","dms-hint dms-validation-warning",a,0)],0)}}function yK(n){if(!n||function VKt(n){return""===n}(n.trim()))return{values:[]};let t=n.split(",");const i={values:[]};let s="";return t.forEach(o=>{s+=o,/^"[^"]*"$/.test(s.trim())?(i.values.push(s.trim()),s=""):s+=","}),s?void 0:i}class zKt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling"),this._changeSupport=i.changeSupport;const s=this.getAllowedValuesTarget(),o=yK(s.inputValues&&s.inputValues.text||s.outputValues&&s.outputValues.text||"");this.state=o?{values:o.values.map(a=>({value:a,isCheckable:!1,isRemovable:!0,group:this._translate("Predefined values")})),inputValue:""}:{values:null,inputValue:""}}onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){const t=this.getAllowedValuesTarget();this._changeSupport.onElementsChanged(t.id,this.onElementsChanged)}componentWillUnmount(){const t=this.getAllowedValuesTarget();this._changeSupport.offElementsChanged(t.id,this.onElementsChanged)}setPredefinedValues=t=>{const i=this.getAllowedValuesTarget();this.setState({values:t}),this._modeling.editAllowedValues(i,t&&function $Kt(n){return n.map(t=>t.value)}(t))};onListChange=t=>{this.setPredefinedValues(t)};getAllowedValuesTarget(){const t=this.getElement();return Be(t,"dmn:LiteralExpression")?t.$parent:t}onInput=({value:i})=>{this.setState({inputValue:i})};onKeyDown=({isValid:t,event:i})=>{if(function UKt(n){return 13===n}(i.keyCode)&&(i.stopPropagation(),i.preventDefault(),t)){const{inputValue:s,values:o}=this.state,a=yK(s);this.onListChange((o||[]).concat(a.values.map(l=>({value:l,isCheckable:!1,isRemovable:!0,group:this._translate("Predefined values")})))),this.setState({inputValue:""})}};handleRemovePredifinedValuesClick=t=>{t.stopPropagation(),this.removePredefinedValues()};removePredefinedValues=()=>{this.setPredefinedValues(null)};getElement(){return this.props.context.output||this.props.context.input.inputExpression}render(){const t=this.getElement(),{inputValue:i,values:s}=this.state;return"string"===t.typeRef?Y(1,"div","context-menu-container allowed-values-edit",Y(1,"div","dms-form-control",[!vK(s)&&s.length>0&&ot(2,IPe,{labelComponent:HKt,items:s,onChange:this.onListChange}),!vK(s)&&!s.length&&Y(1,"div",null,[Y(1,"label","dms-label",this._translate("Predefined values"),0),Y(1,"span","placeholder",this._translate("No values"),0)],4),!vK(s)&&Y(1,"p","dms-hint",Y(1,"button","del-values",this._translate("Clear predefined values"),0,{type:"button",onClick:this.handleRemovePredifinedValuesClick}),2),Y(1,"label","dms-label",this._translate("Add predefined values"),0),ot(2,Cu,{onInput:this.onInput,onKeyDown:this.onKeyDown,placeholder:this._translate('"value", "value", ...'),type:"text",validate:o=>{if(!yK(o))return this._translate("Strings must be in double quotes")},value:i})],0),2):null}}function HKt(n){return Y(1,"label","dms-label",n,0)}function vK(n){return null===n}const WKt={__init__:["allowedValuesUpdateBehavior","allowedValuesEditingProvider"],allowedValuesUpdateBehavior:["type",LKt],allowedValuesEditingProvider:["type",(()=>{class n{constructor(i){i.onGetComponent("context-menu",500,(s={})=>{const{contextMenuType:o}=s;if("input-edit"===o||"output-edit"===o)return zKt})}}return n.$inject=["components"],n})()]};class GKt extends Qt{constructor(t,i){super(t,i),this._sheet=i.injector.get("sheet"),this._eventBus=i.injector.get("eventBus"),this._changeSupport=i.changeSupport,this._translate=i.injector.get("translate")}onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){const t=this.getRoot();this._changeSupport.onElementsChanged(t.id,this.onElementsChanged)}componentWillUnmount(){const t=this.getRoot();this._changeSupport.offElementsChanged(t.id,this.onElementsChanged)}getRoot(){return this._sheet.getRoot()}handleClick=t=>{t.stopPropagation(),this.add()};add=()=>{this._eventBus.fire("addInput")};render(){return Y(1,"div","add-input actionable",Y(1,"button","dmn-icon-plus action-icon",null,1,{title:this._translate("Add input")}),2,{onClick:this.handleClick})}}class KKt extends Qt{constructor(t,i){super(t,i),this._sheet=i.injector.get("sheet"),this._eventBus=i.injector.get("eventBus"),this._changeSupport=i.changeSupport,this._translate=i.injector.get("translate")}onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){const t=this.getRoot();this._changeSupport.onElementsChanged(t.id,this.onElementsChanged)}componentWillUnmount(){const t=this.getRoot();this._changeSupport.offElementsChanged(t.id,this.onElementsChanged)}getRoot(){return this._sheet.getRoot()}handleClick=t=>{t.stopPropagation(),this.add()};add=()=>{this._eventBus.fire("addOutput")};render(){return Y(1,"div","add-output actionable",Y(1,"button","dmn-icon-plus action-icon",null,1,{title:this._translate("Add output")}),2,{onClick:this.handleClick})}}function RPe(n,t,i){n.onGetComponent("cell-inner",(s={})=>{const{cellType:o,index:a,inputsLength:l,outputsLength:c}=s;return"input-cell"===o&&a===l-1?GKt:"output-cell"===o&&a===c-1?KKt:void 0}),i.on("addInput",()=>{t.trigger("addInput")}),i.on("addOutput",()=>{t.trigger("addOutput")})}RPe.$inject=["components","editorActions","eventBus"];const YKt={__depends__:[c2],__init__:["addInputOutputProvider"],addInputOutputProvider:["type",RPe]},nh={__depends__:[c2],__init__:["keyboard"],keyboard:["type",(()=>{class n{constructor(i,s,o,a){this._config=i||{},this._editorActions=o,this._eventBus=s,this._cellSelection=a,this._listeners=[],s.on("table.destroy",this._destroy),s.on("table.init",this._init),s.on("attach",()=>{this._config.bindTo&&this.bind(i.bindTo)}),s.on("detach",this.unbind)}_init=()=>{this._registerDefaultBindings(),this._fire("init")};_destroy=()=>{this._fire("destroy"),this.unbind(),this._listeners=null};_keyHandler=i=>{var s,o,a=this._listeners,l=i.keyCode||i.charCode||-1;for(s=0;o=a[s];s++)if(o(l,i))return i.preventDefault(),void i.stopPropagation()};bind(i){this.unbind(),this._node=i,Xt.bind(i,"keydown",this._keyHandler),this._fire("bind")}getBinding(){return this._node}unbind=()=>{var i=this._node;i&&(this._fire("unbind"),Xt.unbind(i,"keydown",this._keyHandler)),this._node=null};_fire(i){this._eventBus.fire("keyboard."+i,{node:this._node,listeners:this._listeners})}_registerDefaultBindings(){var i=this._listeners,s=this._editorActions,o=this._cellSelection;i.push(function a(d,p){if(ry(p)&&!iy(p)&&90===d)return s.trigger("undo"),!0}),i.push(function l(d,p){if(ry(p)&&(89===d||90===d&&iy(p)))return s.trigger("redo"),!0}),i.push(function c(d,p){if(13===d&&!ry(p)&&iy(p)&&cK(p.target))return s.trigger("selectCellAbove"),!0}),i.push(function u(d,p){if(13!==d||ry(p)||iy(p)||!cK(p.target))return;const f=s.trigger("selectCellBelow"),h=o.getCellSelection();if(!f&&h&&!function ZKt(n){return"__decisionProperties_name"===n}(h)){const m=s.trigger("addRule");return s.trigger("selectCellBelow"),m}return!0})}addListener(i){this._listeners.unshift(i)}removeListener(i){this._listeners=this._listeners.filter(s=>s!==i)}}return n.$inject=["config.keyboard","eventBus","editorActions","cellSelection"],n})()]},QKt={__depends__:[YKt,WKt,hm,fm,pm,nh,NKt],__init__:["inputEditingProvider","outputEditingProvider"],inputEditingProvider:["type",AKt],outputEditingProvider:["type",wKt]};function bK(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function PM(n,t){n.stopPropagation(),!0!==t&&n.preventDefault()}const EK="left";function wK(n){se(ju(".dragover",n),i=>{p2(i)&&(Nn(i).remove("dragover"),Nn(i).remove("top"),Nn(i).remove("right"),Nn(i).remove("bottom"),Nn(i).remove("left"))})}function FPe(n,t){const i=t.getBoundingClientRect();return n.clientX<i.left+i.width/2?EK:"right"}function BPe(n,t){const i=t.getBoundingClientRect();return n.clientY<i.top+i.height/2?"top":"bottom"}function p2(n){return n&&(1===n.nodeType||11==n.nodeType)}const mYt={__depends__:[{__init__:["dragAndDrop"],dragAndDrop:["type",(()=>{class n{constructor(i,s,o,a){bK(this,"handleDragOver",l=>{PM(l);const u=Ho(l.target,".dmn-decision-table-container td,\n   .dmn-decision-table-container th",!0);let d=!!u;const{hoverEl:p}=this._dragContext;p&&p!==u&&(this._emit("dragAndDrop.dragLeave",l),this._dragContext.targetEl=null,this._dragContext.hoverEl=null),u&&(u!==p&&(this._dragContext.hoverEl=u,d=this._emit("dragAndDrop.dragEnter",l),!1!==d&&(this._dragContext.targetEl=u)),d=this._emit("dragAndDrop.dragOver",l)),l.dataTransfer.dropEffect=!1!==d?"move":"none"}),bK(this,"handleDrop",l=>{PM(l);const c=this._emit("dragAndDrop.drop",l);if(c){const{draggedElement:u}=this._dragContext;if(u instanceof Ul){const{rows:d}=this._sheet.getRoot();let p=d.indexOf(c);this._modeling.moveRow(u,p)}else if(u instanceof ql){const{cols:d}=this._sheet.getRoot();let p=d.indexOf(c);this._modeling.moveCol(u,p)}}this.handleDragEnd(l)}),bK(this,"handleDragEnd",l=>{PM(l),this._unbindListeners(),this._emit("dragAndDrop.dragEnd",l),this._dragContext=null}),this._eventBus=i,this._renderer=s,this._modeling=o,this._sheet=a,this._dragContext=null,i.on("table.destroy",()=>{this._unbindListeners()})}_bindListeners(){Xt.bind(document,"dragover",this.handleDragOver),Xt.bind(document,"drop",this.handleDrop),Xt.bind(document,"dragend",this.handleDragEnd)}_unbindListeners(){Xt.unbind(document,"dragover",this.handleDragOver),Xt.unbind(document,"drop",this.handleDrop),Xt.unbind(document,"dragend",this.handleDragEnd)}_emit(i,s){return this._eventBus.fire(i,{dragContext:this._dragContext,originalEvent:s})}startDrag(i,s){PM(s,!0),s.dataTransfer.effectAllowed="move",s.dataTransfer.setData&&s.dataTransfer.setData("text","__DUMMY"),this._dragContext={draggedElement:i},this._bindListeners(),this._emit("dragAndDrop.dragStart",s)}}return n.$inject=["eventBus","renderer","modeling","sheet"],n})()]},pK],__init__:["dmnDragAndDrop"],dmnDragAndDrop:["type",(()=>{class n{constructor(i,s,o,a,l,c,u,d){this._elementRegistry=s,this._dragAndDrop=a,this._renderer=l,this._rules=c,this._sheet=u,this._translate=d,i.onGetComponent("cell-inner",({cellType:p,col:f,row:h})=>{if("rule-index"===p)return()=>Y(1,"span","dmn-icon-drag vertical",Yn("\xa0"),2,{draggable:"true",onDragStart:m=>this.startDrag(h,m),title:this._translate("Move rule")});if("input-cell"===p||"output-cell"===p){let m="Move "+($r(f)?"Input":"Output");return()=>Y(1,"span","dmn-icon-drag horizontal",null,1,{draggable:"true",onDragStart:g=>this.startDrag(f,g),title:m})}}),o.on("dragAndDrop.dragEnter",p=>{const{dragContext:f}=p,{draggedElement:h,hoverEl:m}=f;if(h instanceof Ul)return!0;if(h instanceof ql){const g=function sYt(n,t,i){const s=t.get(n.dataset.colId);if(!s)return-1;const{cols:o}=i.getRoot();return o.indexOf(s)}(m,this._elementRegistry,this._sheet);return-1!==g&&this._rules.allowed("col.move",{col:h,index:g})}return!1}),o.on("dragAndDrop.dragLeave",p=>{const{dragContext:f}=p,{targetEl:h}=f;h&&wK(this._renderer.getContainer())}),o.on("dragAndDrop.dragOver",p=>{const{dragContext:f,originalEvent:h}=p,{draggedElement:m,lastPosition:g,targetEl:y}=f,v=this._renderer.getContainer();if(!y)return!1;let _;return m instanceof Ul&&(_=BPe(h,y)),m instanceof ql&&(_=FPe(h,y)),g===_||(wK(v),m instanceof Ul&&function NPe(n,t,i){const s=n.dataset.rowId;s&&se(ju(`[data-row-id=${s}]`,t),a=>{p2(a)&&(Nn(a).add("dragover"),Nn(a).add(i))})}(y,v,"top"===_?"top":"bottom"),m instanceof ql&&function LPe(n,t,i){const s=n.dataset.colId;s&&se(ju(`[data-col-id=${s}]`,t),a=>{p2(a)&&(Nn(a).add("dragover"),Nn(a).add(i))})}(y,v,_===EK?"left":"right"),f.lastPosition=_),!0}),o.on("dragAndDrop.drop",p=>{const{dragContext:f,originalEvent:h}=p,{draggedElement:m,targetEl:g}=f;if(!g)return!1;if(m instanceof Ul){const y=BPe(h,g),_=this._elementRegistry.get(g.dataset.rowId);if(!_||_===m)return;const E=function cYt(n,t,i,s){return s.indexOf(n)>s.indexOf(t)&&(t=function pYt(n,t){const i=t.indexOf(n);return t[Math.min(t.length-1,i+1)]}(t,s)),"top"===i?function dYt(n,t){const i=t.indexOf(n);return t[Math.max(0,i-1)]}(t,s):t}(m,_,y,this._sheet.getRoot().rows);return E===m?void 0:E}if(m instanceof ql){const y=FPe(h,g),_=this._elementRegistry.get(g.dataset.colId);if(!_||_===m)return;const E=function uYt(n,t,i,s){return s.indexOf(n)>s.indexOf(t)&&(t=function hYt(n,t){const i=t.indexOf(n);if($r(n)){const s=t.filter(l=>$r(l)),a=t.indexOf(s[s.length-1]);return t[Math.min(a,i+1)]}return t[Math.min(t.length-1,i+1)]}(t,s)),i===EK?function fYt(n,t){const i=t.indexOf(n);if(Fo(n)){const s=t.filter(a=>Fo(a))[0],o=t.indexOf(s);return t[Math.max(o,i-1)]}return t[Math.max(0,i-1)]}(t,s):t}(m,_,y,this._sheet.getRoot().cols);return E===m?void 0:E}}),o.on("dragAndDrop.dragEnd",this._cleanup)}startDrag(i,s){const o=this._renderer.getContainer();this._dragImage=lr('<span style="\n          visibility: hidden;\n          position: fixed;\n          top: -10000px\n      "></span>'),document.body.appendChild(this._dragImage),s.dataTransfer.setDragImage&&s.dataTransfer.setDragImage(this._dragImage,0,0),i instanceof Ul?function oYt(n,t){se(ju(`[data-row-id=${n.id}]`,t),s=>{p2(s)&&Nn(s).add("dragged")})}(i,o):i instanceof ql&&function aYt(n,t){se(ju(`[data-col-id=${n.id}]`,t),s=>{p2(s)&&Nn(s).add("dragged")})}(i,o),this._dragAndDrop.startDrag(i,s)}_cleanup=()=>{const i=this._renderer.getContainer();wK(i),function lYt(n){se(ju(".dragged",n),i=>{p2(i)&&Nn(i).remove("dragged")})}(i),this._dragImage&&(xo(this._dragImage),this._dragImage=null)}}return n.$inject=["components","elementRegistry","eventBus","dragAndDrop","renderer","rules","sheet","translate"],n})()]};class gYt extends Qt{constructor(t,i){super(t,i),this._elementRegistry=i.injector.get("elementRegistry"),this._modeling=i.injector.get("modeling"),this._changeSupport=this.context.changeSupport;const{id:s}=this.props.context;this._element=this._elementRegistry.get(s)}onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){this._element&&this._changeSupport.onElementsChanged(this._element.id,this.onElementsChanged)}componentDidMount(){const{autoFocus:t}=this.props.context;t&&this.node&&function vYt(n){return dn(".content-editable",n)}(this.node).focus()}componentWillUnmount(){if(this._element){this._changeSupport.offElementsChanged(this._element.id,this.onElementsChanged);const{businessObject:t}=this._element,{description:i}=t;$n(i)&&!i.length&&this.changeDescription(null)}}changeDescription=t=>{this._modeling.updateProperties(this._element,{description:t})};render(){if(!this._element)return;const{businessObject:t}=this._element,{description:i}=t;return $n(i)?Y(1,"div","context-menu-container description-editor",ot(2,yYt,{className:"dms-input",onChange:this.changeDescription,value:i}),2,null,null,s=>this.node=s):void 0}}class yYt extends d2{render(){return Y(1,"div",this.getClassName(),this.getEditor(),0)}}function VPe(n,t){const{top:i,left:s,width:o,height:a}=t;return{x:s+n.parentNode.scrollLeft-26,y:i+n.parentNode.scrollTop,width:o+52,height:a}}function $Pe(n){return n&&n.businessObject&&n.businessObject.description}const wYt={__depends__:[hm,aK],__init__:["description"],description:["type",(()=>{class n{constructor(i,s,o,a,l,c,u){this._contextMenu=s,this._modeling=l,this._renderer=c,this._translate=u,a.on("cell.click",750,d=>{if(d.defaultPrevented)return;const{target:p,id:f}=d,h=o.get(f);if(!pl(h,["dmn:UnaryTests","dmn:LiteralExpression"]))return;$Pe(h)||d.preventDefault();const v=VPe(c.getContainer(),p.getBoundingClientRect());s.open(v,{contextMenuType:"cell-description",autoFocus:!1,id:f,offset:{x:4,y:4}})}),i.onGetComponent("context-menu",(d={})=>{if(d.contextMenuType&&"cell-description"===d.contextMenuType&&$n($Pe(o.get(d.id))))return gYt}),i.onGetComponent("context-menu-cell-additional",500,(d={})=>{if(d.contextMenuType&&"context-menu"===d.contextMenuType){const{id:p}=d;if(!p)return;const f=o.get(p);if(!f)return;const{businessObject:h}=f,{description:m}=h,g=$n(m),v=g?()=>this.removeDescription(f):()=>this.addDescription(f);return Y(1,"div","context-menu-group-entry "+(g?"remove-description":"add-description"),$n(m)?this._translate("Remove cell description"):this._translate("Add cell description"),0,{onClick:v})}})}addDescription=i=>{this._modeling.updateProperties(i,{description:""});const s=this._renderer.getContainer(),l=VPe(s,l2(i.id,s).getBoundingClientRect());this._contextMenu.open(l,{contextMenuType:"cell-description",id:i.id,autoFocus:!0,offset:{x:4,y:4}})};removeDescription=i=>{this._modeling.updateProperties(i,{description:null}),this._contextMenu.close()}}return n.$inject=["components","contextMenu","elementRegistry","eventBus","modeling","renderer","translate"],n})()]},xYt={__depends__:[pm],__init__:["expressionLanguage"],expressionLanguage:["type",(()=>{class n{constructor(i,s,o,a,l,c){this._modeling=o,this._translate=l,this._expressionLanguages=a,i.onGetComponent("context-menu-cell-additional",(u={})=>{if(u.contextMenuType&&"context-menu"===u.contextMenuType){const{event:d,id:p}=u;if(!p)return;const f=s.get(p);if(!f||!this._shouldDisplayContextMenuEntry(f))return;const h=m=>{c.open({x:(d||m).pageX,y:(d||m).pageY},{contextMenuType:"expression-language",id:p})};return Y(1,"div","context-menu-group-entry",this._translate("Change cell expression language"),0,{onClick:h})}}),i.onGetComponent("context-menu",(u={})=>{if(u.contextMenuType&&"expression-language"===u.contextMenuType){const{id:d}=u;if(!d)return;const p=s.get(d);if(!p)return;const f=this._getElementExpressionLanguage(p),h=a.getAll(),m="context-menu-group-entry context-menu-entry-set-expression-language",g=this._translate("Expression language");return()=>Y(1,"div","context-menu-flex",Y(1,"div","context-menu-group",Y(1,"div",m,[Y(1,"div",null,g,0),ot(2,Is,{label:g,className:"expression-language",onChange:y=>this.onChange(p,y),options:h,value:f})],4),2),2)}}),i.onGetComponent("context-menu",(u={})=>{if("input-edit"===u.contextMenuType)return()=>{const{inputExpression:d}=u.input;if(!this._shouldDisplayContextMenuEntry(d))return;const p=this._getElementExpressionLanguage(d),f=a.getAll(),h=this._translate("Expression language");return Y(1,"div","context-menu-container ref-language",Y(1,"div","dms-form-control",[Y(1,"label","dms-label",h,0),ot(2,Is,{label:h,className:"ref-language",value:p||"",onChange:m=>this.onChange(d,m),options:f})],4),2)}})}onChange(i,s){this._modeling.editExpressionLanguage(i,s)}_shouldDisplayContextMenuEntry(i){return this._expressionLanguages.getAll().length>1||this._getElementExpressionLanguage(i)!==this._getDefaultElementExpressionLanguage(i)}_getElementExpressionLanguage(i){return pd(i).expressionLanguage||this._getDefaultElementExpressionLanguage(i)}_getDefaultElementExpressionLanguage(i){return this._expressionLanguages.getDefault($r(i.col)?"inputCell":"outputCell").value}}return n.$inject=["components","elementRegistry","modeling","expressionLanguages","translate","contextMenu"],n})()]};let CYt=(()=>{class n extends Qt{constructor(i,s){super(i,s),oa(this)}componentWillMount(){this.setupChangeListeners({bind:this.getBusinessObject().id})}componentWillUnmount(){this.setupChangeListeners({unbind:this.getBusinessObject().id})}setupChangeListeners({bind:i,unbind:s}){"string"==typeof s&&this.changeSupport.offElementsChanged(s,this.onElementsChanged),"string"==typeof i&&this.changeSupport.onElementsChanged(i,this.onElementsChanged)}getBusinessObject(){return this.sheet.getRoot().businessObject.$parent}onElementsChanged=()=>{this.forceUpdate()};setDecisionTableName=i=>{this.modeling.editDecisionTableName(i)};render(){const i=this.getBusinessObject(),{name:s}=i,o=this.components.getComponent("hit-policy")||OYt;return Y(1,"div","decision-table-properties",[ot(2,SYt,{label:this.translate("Decision name"),className:"decision-table-name",value:s,ctrlForNewline:!0,onBlur:TYt,onChange:this.setDecisionTableName,elementId:"__decisionProperties_name",coords:"0:__decisionProperties"}),Y(1,"div","decision-table-header-separator"),ot(2,o)],4)}}return n.$inject=["sheet","modeling","changeSupport","components","translate"],n})();class SYt extends d2{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),ty(this,iPe)}render(){const t=this.props.value;return Y(1,"div",sK(this.getSelectionClasses(),this.getClassName()),this.getEditor(),0,{"data-element-id":this.props.elementId,"data-coords":this.props.coords,title:this._translate("Decision name: ")+t})}}function OYt(){return null}function TYt(n){n.target.scroll(0,0)}const DYt={__depends__:[fm],__init__:["decisionTableProperties"],decisionTableProperties:["type",(()=>{class n{constructor(i){i.onGetComponent("table.before",500,()=>CYt)}}return n.$inject=["components"],n})()]};let kYt=(()=>{class n extends Qt{constructor(i,s){super(i,s),this._translate=s.injector.get("translate"),oa(this)}onChange=({aggregation:i,hitPolicy:s})=>{this.modeling.editHitPolicy(s,i)};onElementsChanged=()=>{this.forceUpdate()};componentDidMount(){this.changeSupport.onElementsChanged(this.getRoot().id,this.onElementsChanged)}componentWillUnmount(){this.changeSupport.offElementsChanged(this.getRoot().id,this.onElementsChanged)}getRoot(){return this.sheet.getRoot()}render(){const s=this.getRoot().businessObject,{aggregation:o,hitPolicy:a}=s,l=It(oK,c=>function MYt(n,t){return n.hitPolicy===t.hitPolicy&&n.aggregation===t.aggregation}(c.value,{aggregation:o,hitPolicy:a}));return Y(1,"div","hit-policy",[Y(1,"label","dms-label",this._translate("Hit policy:"),0),ot(2,Is,{className:"hit-policy-edit-policy-select",label:this._translate("Hit policy"),onChange:this.onChange,options:oK.map(c=>({...c,label:this._translate(c.label)})),value:l.value,"data-hit-policy":"true",noInput:!0})],4,{title:this._translate(l.explanation)})}}return n.$inject=["changeSupport","sheet","modeling"],n})();function zPe(n){n.onGetComponent("hit-policy",()=>kYt)}zPe.$inject=["components"];const AYt={__depends__:[hm],__init__:["hitPolicyProvider"],hitPolicyProvider:["type",zPe]};let IYt=(()=>{class n extends Qe{constructor(i,s){super(i),this.executed(["row.add","row.remove","col.add","col.remove"],HPe(o=>{var a=o.context;this.updateRoot(a.row||a.col,a.oldRoot)})),this.reverted(["row.add","row.remove","col.add","col.remove"],HPe(o=>{var a=o.context;this.updateRoot(a.row||a.col,a.newRoot)}))}updateRoot(i,s){var o=i.root,a=i.businessObject;if(Be(i,"dmn:DecisionRule")){if(s){let c=s.businessObject.get("rule"),u=c.indexOf(a);c.splice(u,1),a.$parent=null}if(o){let l=o.businessObject,c=o.rows.indexOf(i);l.get("rule").splice(c,0,a),a.$parent=l,i.cells.forEach((u,d)=>{this.wireCell(u,i,d)})}}if(Be(i,"dmn:InputClause")||Be(i,"dmn:OutputClause")){let l,c;if(s){let u=s.businessObject,d=u.get("input"),p=u.get("output");if(Be(i,"dmn:InputClause")&&(l=d,c=d.indexOf(a)),Be(i,"dmn:OutputClause")&&(l=p,c=p.indexOf(a)),-1===c)throw new Error("inconsistent model: clause not in table");l.splice(c,1),a.$parent=null,i.cells.forEach((f,h)=>{this.unwireCell(f,s.rows[h])})}if(o){let h,m,u=o.businessObject,d=u.get("input"),p=u.get("output"),f=o.cols.indexOf(i);Be(i,"dmn:InputClause")&&(m=d,h=f),Be(i,"dmn:OutputClause")&&(m=p,h=f-d.length),m.splice(h,0,a),a.$parent=u,i.cells.forEach((g,y)=>{this.wireCell(g,o.rows[y],f)})}}}unwireCell(i,s){var o=i.businessObject;let u,d,a=s.businessObject,l=a.get("inputEntry"),c=a.get("outputEntry");if(Be(i,"dmn:UnaryTests")&&(u=l),Be(i,"dmn:LiteralExpression")&&(u=c),d=u.indexOf(o),-1===d)throw new Error("cell not in row");u.splice(d,1),o.$parent=null}wireCell(i,s,o){var a=i.businessObject;let d,p,l=s.businessObject,c=l.get("inputEntry"),u=l.get("outputEntry");a.$parent!==l&&(Be(i,"dmn:UnaryTests")&&(d=c,p=o),Be(i,"dmn:LiteralExpression")&&(d=u,p=o-c.length),d.splice(p,0,a),a.$parent=l)}}return n.$inject=["eventBus","sheet"],n})();function HPe(n){return function(t){var i=t.context;Be(i.row||i.col,"dmn:DMNElement")&&n(t)}}let RYt=(()=>{class n{constructor(i){this._model=i}create(i,s={}){var o=this._model.create(i,s||{});return Be(o,"dmn:InputClause")&&(s.inputExpression?o.inputExpression=s.inputExpression:(o.inputExpression=this.create("dmn:LiteralExpression",{typeRef:"string"}),o.inputExpression.$parent=o)),Be(o,"dmn:OutputClause")&&(o.typeRef=s.typeRef||"string"),(Be(o,"dmn:UnaryTests")||Be(o,"dmn:LiteralExpression"))&&(o.text=s.text||""),this._ensureId(o),o}_needsId(i){return Be(i,"dmn:DMNElement")}_ensureId(i){var s=(i.$type||"").replace(/^[^:]*:/g,"")+"_";!i.id&&this._needsId(i)&&(i.id=this._model.ids.nextPrefixed(s,i))}}return n.$inject=["moddle"],n})(),NYt=(()=>{class n extends YTe{constructor(i){super(),this._dmnFactory=i}create(i,s){const o=this._dmnFactory;let{businessObject:a,type:l,...c}=s;if(!a){if(!l){if("root"===i)l="dmn:DecisionTable";else if("cell"===i){let{col:u}=c;Be(u,"dmn:OutputClause")&&(l="dmn:LiteralExpression"),Be(u,"dmn:InputClause")&&(l="dmn:UnaryTests")}if(!l)throw new Error("cannot guess <type>")}a=o.create(l)}return super.create(i,{businessObject:a,id:a.id,...c})}}return n.$inject=["dmnFactory"],n})(),LYt=(()=>{class n{constructor(i,s){this._sheet=i,this._elementFactory=s}execute(i){const s=this._sheet,o=this._elementFactory,a=s.getRoot();let{row:l,index:c}=i;return typeof c>"u"&&(c=i.index=a.rows.length),i.newRoot=a,l.cells.length||a.cols.forEach((u,d)=>{const p=o.create("cell",{row:l,col:u});l.cells[d]=p}),s.addRow(l,c),s.getRoot()}revert(i){const{row:s}=i,o=this._sheet;return o.removeRow(s),o.getRoot()}}return n.$inject=["sheet","elementFactory"],n})(),FYt=(()=>{class n{constructor(i){this._sheet=i}execute(i){const s=this._sheet,o=s.getRoot();let{row:a}=i;const l=i.oldIndex=o.rows.indexOf(a);if(i.oldRoot=a.root,-1===l)throw new Error(`row#${a.id} not in sheet`);return s.removeRow(a),s.getRoot()}revert(i){const{row:s,oldIndex:o}=i,a=this._sheet;return a.addRow(s,o),a.getRoot()}}return n.$inject=["sheet"],n})(),BYt=(()=>{class n{constructor(i){this._modeling=i}preExecute(i){let{row:s}=i;this._modeling.removeRow(s)}postExecute(i){let{row:s,index:o}=i;this._modeling.addRow(s,o)}}return n.$inject=["modeling"],n})(),jYt=(()=>{class n{constructor(i,s){this._sheet=i,this._elementFactory=s}execute(i){const s=this._sheet,o=this._elementFactory,a=s.getRoot();let{col:l,index:c}=i;return typeof c>"u"&&(c=i.index=a.cols.length),i.newRoot=a,l.cells.length||a.rows.forEach((u,d)=>{const p=o.create("cell",{row:u,col:l});l.cells[d]=p}),s.addCol(l,c),s.getRoot()}revert(i){const{col:s}=i,o=this._sheet;return o.removeCol(s),o.getRoot()}}return n.$inject=["sheet","elementFactory"],n})(),VYt=(()=>{class n{constructor(i,s){this._sheet=i,this._elementFactory=s}execute(i){const s=this._sheet;let{col:o}=i;const a=i.oldRoot=o.root;if(-1===(i.oldIndex=a.cols.indexOf(o)))throw new Error(`col#${o.id} not in sheet`);return s.removeCol(o),s.getRoot()}revert(i){const{col:s,oldIndex:o}=i,a=this._sheet;return a.addCol(s,o),a.getRoot()}}return n.$inject=["sheet","elementFactory"],n})(),$Yt=(()=>{class n{constructor(i){this._modeling=i}preExecute(i){let{col:s}=i;this._modeling.removeCol(s)}postExecute(i){let{col:s,index:o}=i;this._modeling.addCol(s,o)}}return n.$inject=["modeling"],n})();class zYt{execute(t){let{cell:i}=t;return i}revert(t){const{cell:i}=t;return i}}let HYt=(()=>{class n{constructor(i,s,o){this._eventBus=i,this._elementFactory=s,this._commandStack=o,i.on("table.init",()=>{!function UYt(n,t){se(n,function(i,s){t.registerHandler(s,i)})}(this.getHandlers(),o)})}getHandlers(){return n._getHandlers()}static _getHandlers(){return{"row.add":LYt,"row.remove":FYt,"row.move":BYt,"col.add":jYt,"col.remove":VYt,"col.move":$Yt,"cell.edit":zYt}}_create(i,s){return s instanceof c4?s:this._elementFactory.create(i,s)}addRow(i,s){const o=this._create("row",i);return this._commandStack.execute("row.add",{row:o,index:s}),o}removeRow(i){this._commandStack.execute("row.remove",{row:i})}moveRow(i,s){this._commandStack.execute("row.move",{row:i,index:s})}addCol(i,s){const o=this._create("col",i);return this._commandStack.execute("col.add",{col:o,index:s}),o}removeCol(i){this._commandStack.execute("col.remove",{col:i})}moveCol(i,s){this._commandStack.execute("col.move",{col:i,index:s})}editCell(i,s){const o={cell:i,...s};this._commandStack.execute("cell.edit",o)}}return n.$inject=["eventBus","elementFactory","commandStack"],n})(),qYt=(()=>{class n{constructor(i,s,o){this._dmnFactory=i,this._moddle=s,this._modeling=o}execute(i){const{element:s,allowedValues:o}=i;return Be(s,"dmn:InputClause")?(s.inputValues?i.oldAllowedValues=s.inputValues.text:DM(o)||(s.inputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),DM(o)?s.inputValues&&delete s.inputValues:s.inputValues.text=o.join(",")):(s.outputValues&&s?i.oldAllowedValues=s.outputValues.text:DM(o)||(s.outputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),DM(o)?s.outputValues&&delete s.outputValues:s.outputValues.text=o.join(",")),s}revert(i){const{element:s,oldAllowedValues:o}=i;return Be(s,"dmn:InputClause")?o?(s.inputValues||(s.inputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),s.inputValues.text=o):delete s.inputValues:o?(s.outputValues||(s.outputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),s.outputValues.text=o):delete s.outputValues,s}}return n.$inject=["dmnFactory","moddle","modeling"],n})();function DM(n){return null===n}let CK=(()=>{class n{constructor(i,s){this._elementRegistry=i,this._moddle=s}execute(i){const{element:s,properties:o}=i,a=pd(s),{changed:l,oldProperties:c}=this.updateProperties(a,o);return i.oldProperties=c,[...l,s]}revert(i){const{element:s,oldProperties:o}=i;var a=pd(s),{changed:l}=this.updateProperties(a,o);return[...l,s]}updateProperties(i,s){const o=this._moddle.ids;return ps(s,(a,l,c)=>{const u=i.get(c);if(UPe(l)){if(!UPe(u))throw new Error(`non-existing property <${c}>: cannot update values`);let{changed:d,oldProperties:p}=this.updateProperties(u,l);return{changed:[...a.changed,...d,u],oldProperties:{...a.oldProperties,[c]:p}}}return"id"===c&&function WYt(n,t){return n.id!==t}(i,l)&&(o.unclaim(i.id),this._elementRegistry.updateId(i,l),o.claim(l,i)),i.set(c,l),{changed:a.changed,oldProperties:{...a.oldProperties,[c]:u}}},{changed:[],oldProperties:{}})}}return n.$inject=["elementRegistry","moddle"],n})();function UPe(n){return Hr(n)&&fr(n)}let GYt=(()=>{class n{constructor(i){this._moddle=i}execute(i){const s=this._moddle.ids,o=i.id;i.claiming?s.claim(o,i.element):s.unclaim(o)}revert(i){const s=this._moddle.ids,o=i.id,a=i.element;i.claiming?s.unclaim(o):s.claim(o,a)}}return n.$inject=["moddle"],n})();const KYt={__init__:["dmnUpdater","idChangeBehavior","modeling"],__depends__:[{__init__:["idClaimBehavior","idUnclaimBehavior"],idClaimBehavior:["type",(()=>{class n extends Qe{constructor(i,s,o){super(i),this._ids=s.ids,this._modeling=o,this.preExecute(["row.add","col.add"],a=>{const l=a.context,c=l.row||l.col;this.claimId(c.businessObject),c.cells&&c.cells.forEach(u=>this.claimId(u.businessObject))})}claimId(i){i.id&&!this._ids.assigned(i.id)&&this._modeling.claimId(i.id,i),i.$descriptor.properties.forEach(s=>{const o=i[s.name];o&&(Vt(o)&&o.forEach(a=>this.claimId(a)),o.$type&&this.claimId(o))})}}return n.$inject=["eventBus","moddle","modeling"],n})()],idUnclaimBehavior:["type",(()=>{class n extends Qe{constructor(i,s){super(i),this._modeling=s,this.preExecute(["row.remove","col.remove"],o=>{const a=o.context,l=a.row||a.col;this.unclaimId(l.businessObject),l.cells&&l.cells.forEach(c=>this.unclaimId(c.businessObject))})}unclaimId(i){i.id&&this._modeling.unclaimId(i.id,i),i.$descriptor.properties.forEach(s=>{const o=i[s.name];o&&(Vt(o)&&o.forEach(a=>this.unclaimId(a)),o.$type&&this.unclaimId(o))})}}return n.$inject=["eventBus","modeling"],n})()]},I8],dmnUpdater:["type",IYt],dmnFactory:["type",RYt],elementFactory:["type",NYt],idChangeBehavior:["type",uM],modeling:["type",(()=>{class n extends HYt{constructor(i,s,o,a){super(i,s,o),this._eventBus=i,this._elementFactory=s,this._commandStack=o,this._sheet=a}getHandlers(){return n._getHandlers()}static _getHandlers(){return pe({},super._getHandlers(),{editAllowedValues:qYt,"element.updateProperties":CK,"id.updateClaim":GYt})}editDecisionTableName(i){const l={element:this._sheet.getRoot().businessObject.$parent,properties:{name:i}};this._commandStack.execute("element.updateProperties",l)}editDecisionTableId(i){const l={element:this._sheet.getRoot().businessObject.$parent,properties:{id:i}};this._commandStack.execute("element.updateProperties",l)}editHitPolicy(i,s){const l={element:this._sheet.getRoot().businessObject,properties:{hitPolicy:i,aggregation:s}};this._commandStack.execute("element.updateProperties",l)}updateProperties(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:s})}editInputExpression(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:s})}editOutputName(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:{name:s}})}editInputExpressionTypeRef(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:{typeRef:s}})}editOutputTypeRef(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:{typeRef:s}})}editCell(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:{text:s}})}editAnnotation(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:{description:s}})}editAllowedValues(i,s){this._commandStack.execute("editAllowedValues",{element:i,allowedValues:s})}editExpressionLanguage(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:{expressionLanguage:s}})}claimId(i,s){this._commandStack.execute("id.updateClaim",{id:i,element:s,claiming:!0})}unclaimId(i,s){this._commandStack.execute("id.updateClaim",{id:i,element:s})}}return n.$inject=["eventBus","elementFactory","commandStack","sheet"],n})()]};class YYt extends Qt{constructor(t,i){super(t,i),this.changeCellValue=this.changeCellValue.bind(this),this.onElementsChanged=this.onElementsChanged.bind(this)}onElementsChanged(){this.forceUpdate()}componentWillMount(){const{injector:t}=this.context,{cell:i}=this.props,s=this._changeSupport=this.context.changeSupport;this._modeling=t.get("modeling"),s.onElementsChanged(i.id,this.onElementsChanged)}componentWillUnmount(){const{cell:t}=this.props;this._changeSupport.offElementsChanged(t.id,this.onElementsChanged)}changeCellValue(t){const{cell:i}=this.props;this._modeling.editCell(i.businessObject,t)}render(){const{cell:t,rowIndex:i,row:s,col:o,colIndex:a}=this.props,l=Be(t,"dmn:UnaryTests"),c=t.businessObject;return ot(2,d4,{className:l?"input-cell":"output-cell",elementId:t.id,coords:`${i}:${a}`,"data-row-id":s.id,"data-col-id":o.id,children:ot(2,ZYt,{placeholder:l?"-":"",onChange:this.changeCellValue,value:c.text,businessObject:c})})}}class XYt extends Qt{constructor(t,i){super(t,i),this.state={focussed:!1},this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this)}onFocus(){this.setState({focussed:!0})}onBlur(){this.setState({focussed:!1})}render(){const{focussed:t}=this.state;return Y(1,"div","feel-editor"+(t?" focussed":""),[t&&cm(ot(2,TM,{...this.props,autoFocus:!0,onBlur:this.onBlur})),cm(ot(2,u2,{...this.props,onInput:()=>{},onFocus:this.onFocus}))],0,{onClick:this.onFocus})}}class ZYt extends Qt{constructor(t,i){super(t,i),this._expressionLanguages=i.injector.get("expressionLanguages"),this._translate=i.injector.get("translate"),this._variableResolver=i.injector.get("variableResolver",!1)}isDefaultExpressionLanguage(t){const{expressionLanguage:i}=t,s=this.getDefaultExpressionLanguage().value;return!i||i===s}getDescription(t){return t.description}getExpressionLanguageLabel(t){const{expressionLanguage:i}=t,s=this.getDefaultExpressionLanguage();return this._expressionLanguages.getLabel(i)||s.label}isScript(){const{businessObject:t}=this.props,i=this.getDefaultExpressionLanguage();return!!this._isInputCell()&&(-1!==t.text.indexOf("\n")||t.expressionLanguage&&t.expressionLanguage!==i)}_isInputCell(){return Be(this.props.businessObject,"dmn:UnaryTests")}getDefaultExpressionLanguage(){const t=this._isInputCell()?"inputCell":"outputCell";return this._expressionLanguages.getDefault(t)}getEditor(){return this.isFEEL()?XYt:u2}isFEEL(){return"feel"===this.getExpressionLanguage()}getExpressionLanguage(){const{businessObject:t}=this.props;return t.expressionLanguage||this.getDefaultExpressionLanguage().value}_getVariables(){const{businessObject:t}=this.props;return this._variableResolver&&this._variableResolver.getVariables(t)}_getLabel(){return this._isInputCell()?this._translate("Input"):this._translate("Output")}render(){const{businessObject:t,placeholder:i,value:s,onChange:o}=this.props,a=this.getDescription(t),l=this.isDefaultExpressionLanguage(t),c=this.getExpressionLanguageLabel(t),u=this.isScript(),d=this.getEditor(),p=this._getVariables();return Y(1,"div","cell-editor",[$n(a)&&Y(1,"div","description-indicator"),ot(2,d,{label:this._getLabel(),className:u?"script-editor":"",ctrlForNewline:!0,onInput:o,value:s,placeholder:i,variables:p}),!l&&Y(1,"span","dms-badge dmn-expression-language",[Y(1,"span","dms-badge-icon dmn-icon-file-code"),Y(1,"span","dms-badge-label",c,0)],4,{title:this._translate("Expression language: {expressionLanguageLabel}",{expressionLanguageLabel:c})})],0)}}const JYt={__depends__:[fm,aPe],__init__:["decisionRulesEditor"],decisionRulesEditor:["type",(()=>{class n{constructor(i){i.onGetComponent("cell",1500,({cellType:s})=>{if("rule"===s)return YYt})}}return n.$inject=["components"],n})()]};let eXt=(()=>{class n extends Qt{constructor(i,s){super(i,s),this._translate=s.injector.get("translate"),this.state={top:0,left:0,isVisible:!1,isDisabled:!1,selection:null},oa(this);const{debounceInput:o}=this;this.onClick=this.onClick.bind(this),this.handleSelectionChanged=this.handleSelectionChanged.bind(this),this.hideAndShowDebounced=this.hideAndShowDebounced.bind(this),this.showDebounced=o(this.showDebounced.bind(this)),this.updatePosition=this.updatePosition.bind(this)}componentDidMount(){const{eventBus:i}=this;i.on("cellSelection.changed",this.handleSelectionChanged),i.on("commandStack.changed",this.updatePosition),i.on("sheet.scroll",this.hideAndShowDebounced)}componentWillUnmount(){const{eventBus:i}=this;i.off("cellSelection.changed",this.handleSelectionChanged),i.off("commandStack.changed",this.updatePosition),i.off("sheet.scroll",this.hideAndShowDebounced)}hideAndShowDebounced(){this.state.isVisible&&(this.hide(),this.showDebounced())}showDebounced(){this.show()}hide(i={}){this.setState({...i,isVisible:!1})}show(i={}){this.setState({...i,isVisible:!0}),this.updatePosition()}handleSelectionChanged({elementId:i}){const{elementRegistry:s,expressionLanguages:o,simpleMode:a}=this,l=s.get(i);if(!l||!a.canSimpleEdit(l))return void this.hide({isDisabled:!1,selection:null});const c=function tXt(n){return n.businessObject.expressionLanguage}(l),u=!function nXt(n,t,i){return!t||t===function rXt(n,t){return $r(n.col)?t.getDefault("inputCell").value:Fo(n.col)?t.getDefault("outputCell").value:void 0}(n,i)}(l,c,o);this.show({isDisabled:u,selection:l})}updatePosition(){const{selection:i}=this.state,{node:s}=this;if(!i||!s)return;const{renderer:o}=this,a=o.getContainer(),l=a.getBoundingClientRect(),u=l2(i.id,a).getBoundingClientRect(),d=this.node.getBoundingClientRect(),{scrollLeft:p,scrollTop:f}=function iXt(n){const t=Ho(n,".tjs-table-container");if(!t)return{scrollTop:0,scrollLeft:0};const{scrollLeft:i,scrollTop:s}=t;return{scrollTop:s,scrollLeft:i}}(s),h={};u.left+u.width/2>l.width/2?(h.left=-l.left+u.left-d.width+4+p+"px",s.classList.remove("right"),s.classList.add("left")):(h.left=-l.left+u.left+u.width-4+p+"px",s.classList.remove("left"),s.classList.add("right")),u.top+u.height/2>l.height/2?(h.top=-l.top+u.top-d.height+4+f+"px",s.classList.remove("top"),s.classList.add("bottom")):(h.top=-l.top+u.top-4+f+"px",s.classList.remove("bottom"),s.classList.add("top")),pe(this.node.style,h)}onClick(){const{eventBus:i}=this,{isDisabled:s}=this.state;if(s)return;const{selection:o}=this,a=o.get();a&&(i.fire("simpleMode.open",{element:a,node:l2(a.id,this._container)}),this.hide())}render(){const{isDisabled:i,isVisible:s,top:o,left:a}=this.state,l=["simple-mode-button","no-deselect"];return i&&l.push("disabled"),s?Y(1,"div",l.join(" "),Y(1,"span","dmn-icon-edit"),2,{onClick:this.onClick,style:{top:o,left:a},title:this._translate(i?"Editing not supported for set expression language":"Edit")},null,c=>this.node=c):null}}return n.$inject=["debounceInput","elementRegistry","eventBus","expressionLanguages","renderer","selection","simpleMode"],n})();const mm={__depends__:[hm,CM,pm],__init__:["simpleMode"],simpleMode:["type",(()=>{class n{constructor(i,s,o,a,l){this._providers=[],i.onGetComponent("table.before",()=>eXt),a.on("simpleMode.open",({element:c,node:u})=>{const{left:d,top:p,width:f,height:h}=u.getBoundingClientRect(),m=l.getContainer();s.open({x:d+m.parentNode.scrollLeft,y:p+m.parentNode.scrollTop,width:f,height:h},{contextMenuType:"simple-mode-edit",element:c,offset:{x:4,y:4}})}),a.on("cell.click",c=>{const{event:u,node:d,id:p}=c;if(function oXt(n){return!n.altKey&&(n.ctrlKey||n.metaKey)}(u)){const f=o.get(p);f&&a.fire("simpleMode.open",{node:d,element:f}),c.preventDefault()}})}registerProvider(i){this._providers.push(i)}canSimpleEdit(i){return this._providers.reduce((s,o)=>s||o(i),!1)}}return n.$inject=["components","contextMenu","elementRegistry","eventBus","renderer"],n})()]},SK="none";class dXt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=function aXt(n){return!n||function lXt(n){return""===n}(n)?"none":"true"===n.trim()?"true":"false"===n.trim()?"false":void 0}(s.businessObject.text);this.state={value:o||SK},this.editCell=this.editCell.bind(this),this.onChange=this.onChange.bind(this)}editCell(t,i){this._modeling.editCell(t,i)}onChange(t){const{element:i}=this.props.context;this.editCell(i.businessObject,t===SK?"":t),this.setState({value:t})}render(){const{value:t}=this.state,i=[{label:"-",value:SK},{label:this._translate("Yes"),value:"true"},{label:this._translate("No"),value:"false"}];return Y(1,"div","simple-boolean-edit context-menu-container",[Y(1,"h3","dms-heading",this._translate("Edit boolean"),0),Y(1,"h4","dms-heading",this._translate("Set value"),0),ot(2,Is,{label:this._translate("Boolean value"),noInput:!0,className:"dms-block",onChange:this.onChange,options:i,value:t})],4)}}function qPe(n){return $r(n.col)?n.col&&n.col.businessObject.inputExpression.typeRef:n.col&&n.col.businessObject.typeRef}const fXt={__depends__:[nh,mm],__init__:["simpleBooleanEdit"],simpleBooleanEdit:["type",(()=>{class n{constructor(i,s){s.registerProvider(o=>($r(o.col)||Fo(o.col))&&"boolean"===qPe(o)),i.onGetComponent("context-menu",(o={})=>{if(o.contextMenuType&&"simple-mode-edit"===o.contextMenuType){if(!o.element)return;if("boolean"===qPe(o.element))return dXt}})}}return n.$inject=["components","simpleMode"],n})()]},hXt=/^\d{4}(?:-\d\d){2}$/,mXt=/^\[date\("([^"]*)"\)..date\("([^"]*)"\)\]$/,gXt=/^(<|>)\s*date\("([^"]*)"\)$/,yXt=/^date\("([^"]*)"\)$/;function f2(n){if(!hXt.test(n.trim()))return"Date must match pattern yyyy-MM-dd"}function gm(n,t){return"exact"===n?`date("${t[0]}")`:"before"===n?`< date("${t[0]}")`:"after"===n?`> date("${t[0]}")`:"between"===n?`[date("${t[0]}")..date("${t[1]}")]`:void 0}function rh(){const n=new Date;return n.setUTCHours(0,0,0,0),n.toISOString().slice(0,10)}function h4(n){if(!n||""===n.trim())return{type:"exact",date:""};let t=n.match(mXt);return t?{type:"between",dates:[t[1],t[2]]}:(t=n.match(gXt),t?{type:"<"===t[1]?"before":"after",date:t[2]}:(t=n.match(yXt),t?{type:"exact",date:t[1]}:void 0))}const m4="between";class CXt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=h4(s.businessObject.text);if(o){let l;l=o.date?[o.date,""]:o.dates?o.dates:["",""],this.state={type:o.type,dates:l}}else this.state={type:"exact",dates:["",""]};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onSetStartDateTodayClick=this.onSetStartDateTodayClick.bind(this),this.onSetEndDateTodayClick=this.onSetEndDateTodayClick.bind(this),this.onStartDateInput=this.onStartDateInput.bind(this),this.onEndDateInput=this.onEndDateInput.bind(this)}editCell(t,i){this._modeling.editCell(t,i)}onTypeChange(t){const{element:i}=this.props.context,{dates:s}=this.state;this.setState({type:t}),h4(gm(t,s))&&this.editCell(i.businessObject,gm(t,s))}onSetStartDateTodayClick(){const{element:t}=this.props.context,{dates:i,type:s}=this.state,o=rh();this.setState({dates:[o,i[1]]}),h4(gm(s,[o,i[1]]))&&this.editCell(t.businessObject,gm(s,[o,i[1]]))}onSetEndDateTodayClick(){const{element:t}=this.props.context,{dates:i,type:s}=this.state,o=rh();this.setState({dates:[i[0],o]}),h4(gm(s,[i[0],o]))&&this.editCell(t.businessObject,gm(s,[i[0],o]))}onStartDateInput({value:t}){const{element:i}=this.props.context,{dates:s,type:o}=this.state;this.setState({dates:[t,s[1]]}),this.debouncedEditCell(i.businessObject,gm(o,[t,s[1]]))}onEndDateInput({value:t}){const{element:i}=this.props.context,{dates:s,type:o}=this.state;this.setState({dates:[s[0],t]}),this.debouncedEditCell(i.businessObject,gm(o,[s[0],t]))}render(){const{dates:t,type:i}=this.state,s=[{label:this._translate("Exactly"),value:"exact"},{label:this._translate("Before"),value:"before"},{label:this._translate("After"),value:"after"},{label:this._translate("Between"),value:m4}];return Y(1,"div","context-menu-container simple-date-edit",[Y(1,"h3","dms-heading",this._translate("Edit date"),0),Y(1,"div","dms-fill-row",ot(2,Is,{label:this._translate("Test type"),noInput:!0,onChange:this.onTypeChange,options:s,value:i}),2),Y(1,"h4","dms-heading",this._translate(i===m4?"Edit start date":"Set date"),0),Y(1,"div",null,[ot(2,Cu,{label:this._translate(i===m4?"Start date":"Date"),className:"start-date-input dms-block",onInput:this.onStartDateInput,placeholder:this._translate("e.g. { sample }",{sample:rh()}),validate:o=>f2(o)&&this._translate(f2(o)),value:t[0]}),Y(1,"p","dms-hint",[Y(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onSetStartDateTodayClick}),Yn(".")],4)],4),i===m4&&Y(1,"h4","dms-heading",this._translate("Edit end date"),0),i===m4&&Y(1,"div",null,[ot(2,Cu,{label:this._translate("End date"),className:"end-date-input dms-block",onInput:this.onEndDateInput,placeholder:this._translate("e.g. { sample }",{sample:rh()}),validate:o=>f2(o)&&this._translate(f2(o)),value:t[1]}),Y(1,"p","dms-hint",[Y(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onSetEndDateTodayClick}),Yn(".")],4)],4)],0)}}class SXt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=h4(s.businessObject.text);this.state={date:o?o.date:""};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onClick=this.onClick.bind(this),this.onInput=this.onInput.bind(this)}editCell(t,i){this._modeling.editCell(t,i)}onClick(){const{element:t}=this.props.context,i=rh();this.setState({date:i}),this.editCell(t.businessObject,`date("${i}")`)}onInput({value:t}){const{element:i}=this.props.context;this.setState({date:t}),this.debouncedEditCell(i.businessObject,`date("${t}")`)}render(){const{date:t}=this.state;return Y(1,"div","context-menu-container simple-date-edit",[Y(1,"h3","dms-heading",this._translate("Edit date"),0),Y(1,"h4","dms-heading",this._translate("Set date"),0),Y(1,"div",null,[ot(2,Cu,{label:this._translate("Date value"),onInput:this.onInput,placeholder:this._translate("e.g. { example } ",{example:rh()}),validate:i=>f2(i)&&this._translate(f2(i)),value:t,className:"dms-block"}),Y(1,"p","dms-hint",Y(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onClick}),2)],4)],4)}}function GPe(n){return $r(n.col)?n.col&&n.col.businessObject.inputExpression.typeRef:n.col&&n.col.businessObject.typeRef}function KPe(n){return"date"===n}const TXt={__depends__:[nh,mm],__init__:["simpleDateEdit"],simpleDateEdit:["type",(()=>{class n{constructor(i,s){s.registerProvider(o=>{const a=GPe(o);return($r(o.col)||Fo(o.col))&&KPe(a)}),i.onGetComponent("context-menu",(o={})=>{if(o.contextMenuType&&"simple-mode-edit"===o.contextMenuType){if(!o.element)return;if(KPe(GPe(o.element))){if($r(o.element.col))return CXt;if(Fo(o.element.col))return SXt}}})}}return n.$inject=["components","simpleMode"],n})()]},PXt=/^\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d(?:Z|(?:[@+-][^")]+))?$/,DXt=/^\[date and time\("([^"]*)"\)..date and time\("([^"]*)"\)\]$/,kXt=/^(<|>)\s*date and time\("([^"]*)"\)$/,MXt=/^date and time\("([^"]*)"\)$/;function h2(n){if(!PXt.test(n.trim()))return"Date and time must match pattern yyyy-MM-ddTHH:mm:ss[time zone]"}function ym(n,t){return"exact"===n?`date and time("${t[0]}")`:"before"===n?`< date and time("${t[0]}")`:"after"===n?`> date and time("${t[0]}")`:"between"===n?`[date and time("${t[0]}")..date and time("${t[1]}")]`:void 0}function m2(){const n=new Date;return n.setUTCHours(0,0,0,0),n.toISOString().replace(".000Z","Z")}function g4(n){if(!n||""===n.trim())return{type:"exact",date:""};let t=n.match(DXt);return t?{type:"between",dates:[t[1],t[2]]}:(t=n.match(kXt),t?{type:"<"===t[1]?"before":"after",date:t[2]}:(t=n.match(MXt),t?{type:"exact",date:t[1]}:void 0))}const y4="between";class BXt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=g4(s.businessObject.text);if(o){let l;l=o.date?[o.date,""]:o.dates?o.dates:["",""],this.state={type:o.type,dates:l}}else this.state={type:"exact",dates:["",""]};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onSetStartDateTodayClick=this.onSetStartDateTodayClick.bind(this),this.onSetEndDateTodayClick=this.onSetEndDateTodayClick.bind(this),this.onStartDateInput=this.onStartDateInput.bind(this),this.onEndDateInput=this.onEndDateInput.bind(this)}editCell(t,i){this._modeling.editCell(t,i)}onTypeChange(t){const{element:i}=this.props.context,{dates:s}=this.state;this.setState({type:t}),g4(ym(t,s))&&this.editCell(i.businessObject,ym(t,s))}onSetStartDateTodayClick(){const{element:t}=this.props.context,{dates:i,type:s}=this.state,o=m2();this.setState({dates:[o,i[1]]}),g4(ym(s,[o,i[1]]))&&this.editCell(t.businessObject,ym(s,[o,i[1]]))}onSetEndDateTodayClick(){const{element:t}=this.props.context,{dates:i,type:s}=this.state,o=m2();this.setState({dates:[i[0],o]}),g4(ym(s,[i[0],o]))&&this.editCell(t.businessObject,ym(s,[i[0],o]))}onStartDateInput({value:t}){const{element:i}=this.props.context,{dates:s,type:o}=this.state;this.setState({dates:[t,s[1]]}),this.debouncedEditCell(i.businessObject,ym(o,[t,s[1]]))}onEndDateInput({value:t}){const{element:i}=this.props.context,{dates:s,type:o}=this.state;this.setState({dates:[s[0],t]}),this.debouncedEditCell(i.businessObject,ym(o,[s[0],t]))}render(){const{dates:t,type:i}=this.state,s=[{label:this._translate("Exactly"),value:"exact"},{label:this._translate("Before"),value:"before"},{label:this._translate("After"),value:"after"},{label:this._translate("Between"),value:y4}];return Y(1,"div","context-menu-container simple-date-edit",[Y(1,"h3","dms-heading",this._translate("Edit date and time"),0),Y(1,"div","dms-fill-row",ot(2,Is,{label:this._translate("Test type"),noInput:!0,onChange:this.onTypeChange,options:s,value:i}),2),Y(1,"h4","dms-heading",this._translate(i===y4?"Edit start date and time":"Set date and time"),0),Y(1,"div",null,[ot(2,Cu,{label:this._translate(i===y4?"Start date and time":"Date and time"),className:"start-date-input dms-block",onInput:this.onStartDateInput,placeholder:this._translate("e.g. { sample }",{sample:m2()}),validate:o=>h2(o)&&this._translate(h2(o)),value:t[0]}),Y(1,"p","dms-hint",Y(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onSetStartDateTodayClick}),2)],4),i===y4&&Y(1,"h4","dms-heading",this._translate("Edit end date and time"),0),i===y4&&Y(1,"div",null,[ot(2,Cu,{label:this._translate("End date and time"),className:"end-date-input dms-block",onInput:this.onEndDateInput,placeholder:this._translate("e.g. { sample }",{sample:m2()}),validate:o=>h2(o)&&this._translate(h2(o)),value:t[1]}),Y(1,"p","dms-hint",Y(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onSetEndDateTodayClick}),2)],4)],0)}}class jXt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=g4(s.businessObject.text);this.state={date:o?o.date:""};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onClick=this.onClick.bind(this),this.onInput=this.onInput.bind(this)}editCell(t,i){this._modeling.editCell(t,i)}onClick(){const{element:t}=this.props.context,i=m2();this.setState({date:i}),this.editCell(t.businessObject,`date and time("${i}")`)}onInput({value:t}){const{element:i}=this.props.context;this.setState({date:t}),this.debouncedEditCell(i.businessObject,`date and time("${t}")`)}render(){const{date:t}=this.state;return Y(1,"div","context-menu-container simple-date-edit",[Y(1,"h3","dms-heading",this._translate("Edit date and time"),0),Y(1,"h4","dms-heading",this._translate("Set date and time"),0),Y(1,"div",null,[ot(2,Cu,{label:this._translate("Date and time value"),onInput:this.onInput,placeholder:this._translate("e.g. { sample }",{sample:m2()}),validate:i=>h2(i)&&this._translate(h2(i)),value:t,className:"dms-block"}),Y(1,"p","dms-hint",Y(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onClick}),2)],4)],4)}}function XPe(n){return $r(n.col)?n.col&&n.col.businessObject.inputExpression.typeRef:n.col&&n.col.businessObject.typeRef}function ZPe(n){return"dateTime"===n}const $Xt={__depends__:[nh,mm],__init__:["simpleDateTimeEdit"],simpleDateTimeEdit:["type",(()=>{class n{constructor(i,s){s.registerProvider(o=>{const a=XPe(o);return($r(o.col)||Fo(o.col))&&ZPe(a)}),i.onGetComponent("context-menu",(o={})=>{if(o.contextMenuType&&"simple-mode-edit"===o.contextMenuType){if(!o.element)return;if(ZPe(XPe(o.element))){if($r(o.element.col))return BXt;if(Fo(o.element.col))return jXt}}})}}return n.$inject=["components","simpleMode"],n})()]},OK={equals:"=",less:"<",lessEquals:"<=",greater:">",greaterEquals:">="};function zXt(n){return Dl(OK).filter(t=>n===OK[t])[0]}function TK(n,t){return"equals"===n?`duration("${t}")`:`${OK[n]} duration("${t}")`}function v4(n,t,i,s){return`${"exclude"===i?"]":"["}duration("${n}")..duration("${t}")${"exclude"===s?"[":"]"}`}function QPe(n){const t=/^duration\("([^"]*)"\)$/.exec(n);return t&&t[1]}function JPe(n,t){const{groups:i}=n.exec(t)||{groups:{}};return i}const XXt={yearMonthDuration:"Must match PnYnM",dayTimeDuration:"Must match PnDTnH"};class MM extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._type=t.type,this.onInput=this.onInput.bind(this),this.validate=this.validate.bind(this),this.state={value:t.value}}onInput({value:t}){this.setState({value:t}),this.props.onInput(t)}validate(t){if(!function qXt(n,t){return"yearMonthDuration"===n?function WXt(n){return/^P(\d+Y\d+M|\d+Y|\d+M)$/.test(n)}(t):"dayTimeDuration"===n?function GXt(n){return/^P(\d+DT\d+H|\d+D|T\d+H)$/.test(n)}(t):void 0}(this._type,t))return this._translate(XXt[this._type])}_getPlaceholder(){if("yearMonthDuration"===this._type)return this._translate("e.g. { sample }",{sample:"P1Y2M"});"dayTimeDuration"===this._type&&this._translate("e.g. { sample }",{sample:"P1DT2H"})}render(){return ot(2,Cu,{label:this.props.label,type:"text",onInput:this.onInput,placeholder:this._getPlaceholder(),validate:this.validate,value:this.state.value,className:this.props.className})}}const g2="comparison",y2="range";class ZXt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context;this._type=function QXt(n){return n.col.businessObject.inputExpression.typeRef}(s);const o=function HXt(n){if(!n||function UXt(n){return""===n}(n.trim()))return{type:"comparison",values:[]};const t=function KXt(n){const t=QPe(n);if(t)return{type:"comparison",operator:"equals",values:[t]};const{operator:i,value:s}=JPe(/^(?<operator>=|(:?<|>)=?)\s*duration\("(?<value>[^"]*)"\)$/,n);return i&&s?{type:"comparison",values:[s],operator:zXt(i)}:void 0}(n);if(t)return t;const i=function YXt(n){const{start:t,end:i,firstValue:s,secondValue:o}=JPe(/^(?<start>[[\]])duration\("(?<firstValue>[^"]*)"\)\.\.duration\("(?<secondValue>[^"]*)"\)(?<end>[[\]])$/,n);if(t&&i)return{type:"range",values:[s,o],start:"]"===t?"exclude":"include",end:"["===i?"exclude":"include"}}(n);return i||void 0}(s.businessObject.text);this.state=o?{type:o.type,comparisonOperator:o.operator||"equals",startValue:o.values[0]||"",endValue:o.values[1]||"",rangeStartType:o.start||"include",rangeEndType:o.end||"include"}:{type:g2,comparisonOperator:"equals",startValue:"",endValue:"",rangeStartType:"include",rangeEndType:"include"};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onComparisonOperatorChange=this.onComparisonOperatorChange.bind(this),this.onComparisonValueChange=this.onComparisonValueChange.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onRangeStartTypeChange=this.onRangeStartTypeChange.bind(this),this.onRangeStartValueChange=this.onRangeStartValueChange.bind(this),this.onRangeEndTypeChange=this.onRangeEndTypeChange.bind(this),this.onRangeEndValueChange=this.onRangeEndValueChange.bind(this)}editCell(t,i){this._modeling.editCell(t,i)}onTypeChange(t){const{element:i}=this.props.context,{comparisonOperator:s,startValue:o,endValue:a,rangeStartType:l,rangeEndType:c}=this.state;this.editCell(i.businessObject,t===g2?TK(s,o):v4(o,a,l,c)),this.setState({type:t})}onComparisonOperatorChange(t){const{element:i}=this.props.context,{type:s,startValue:o}=this.state;s===g2&&(this.editCell(i.businessObject,TK(t,o)),this.setState({comparisonOperator:t}))}onComparisonValueChange(t){const{element:i}=this.props.context,{type:s,comparisonOperator:o}=this.state;s===g2&&(this.debouncedEditCell(i.businessObject,TK(o,t)),this.setState({startValue:t}))}onRangeStartTypeChange(t){const{element:i}=this.props.context,{type:s,startValue:o,endValue:a,rangeEndType:l}=this.state;s===y2&&(this.editCell(i.businessObject,v4(o,a,t,l)),this.setState({rangeStartType:t}))}onRangeStartValueChange(t){const{element:i}=this.props.context,{type:s,endValue:o,rangeStartType:a,rangeEndType:l}=this.state;s===y2&&(this.editCell(i.businessObject,v4(t,o,a,l)),this.setState({startValue:t}))}onRangeEndTypeChange(t){const{element:i}=this.props.context,{type:s,startValue:o,endValue:a,rangeStartType:l}=this.state;s===y2&&(this.editCell(i.businessObject,v4(o,a,l,t)),this.setState({rangeEndType:t}))}onRangeEndValueChange(t){const{element:i}=this.props.context,{type:s,startValue:o,rangeStartType:a,rangeEndType:l}=this.state;s===y2&&(this.editCell(i.businessObject,v4(o,t,a,l)),this.setState({endValue:t}))}renderComparison(t,i){const s=[{label:this._translate("Equals"),value:"equals"},{label:this._translate("Less"),value:"less"},{label:this._translate("Less or equals"),value:"lessEquals"},{label:this._translate("Greater"),value:"greater"},{label:this._translate("Greater or equals"),value:"greaterEquals"}];return Y(1,"div","comparison",[Y(1,"h4","dms-heading",Yn("Value"),2),Y(1,"div","dms-fill-row dms-input-duration-edit-row",[ot(2,Is,{label:this._translate("Comparison operator"),noInput:!0,onChange:this.onComparisonOperatorChange,options:s,value:t}),Yn("\xa0"),ot(2,MM,{label:this._translate("Duration value"),type:this._type,className:"comparison-duration-input",onInput:this.onComparisonValueChange,value:i})],4)],4)}renderRange(t,i,s,o){const a=[{label:this._translate("Include"),value:"include"},{label:this._translate("Exclude"),value:"exclude"}];return Y(1,"div","range",[Y(1,"h4","dms-heading",this._translate("Start value"),0),Y(1,"div","dms-fill-row dms-input-duration-edit-row",[ot(2,Is,{label:this._translate("Range start operator"),noInput:!0,onChange:this.onRangeStartTypeChange,options:a,value:s}),Yn("\xa0"),ot(2,MM,{label:this._translate("Range start value"),type:this._type,className:"range-start-duration-input",onInput:this.onRangeStartValueChange,value:t})],4),Y(1,"h4","dms-heading",this._translate("End value"),0),Y(1,"div","dms-fill-row dms-input-duration-edit-row",[ot(2,Is,{label:this._translate("Range end operator"),noInput:!0,onChange:this.onRangeEndTypeChange,options:a,value:o}),Yn("\xa0"),ot(2,MM,{label:this._translate("Range end value"),type:this._type,className:"range-end-duration-input",onInput:this.onRangeEndValueChange,value:i})],4)],4)}render(){const{type:t,comparisonOperator:i,startValue:s,endValue:o,rangeStartType:a,rangeEndType:l}=this.state,c=[{label:this._translate("Comparison"),value:g2},{label:this._translate("Range"),value:y2}];return Y(1,"div","context-menu-container simple-duration-edit",[Y(1,"h3","dms-heading",this._translate("Edit duration"),0),Y(1,"div","dms-fill-row",ot(2,Is,{label:this._translate("Test type"),noInput:!0,onChange:this.onTypeChange,options:c,value:t}),2),t===g2&&this.renderComparison(i,s),t===y2&&this.renderRange(s,o,a,l)],0)}}class JXt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context;this._type=function eZt(n){return n.col.businessObject.typeRef}(s);const o=i.injector.get("debounceInput");this.debouncedEditCell=o(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onInput=this.onInput.bind(this)}editCell(t,i){this._modeling.editCell(t,i)}onInput(t){const{element:i}=this.props.context;this.debouncedEditCell(i.businessObject,`duration("${t}")`)}render(){const t=QPe(this.props.context.element.businessObject.text);return Y(1,"div","context-menu-container simple-duration-edit",[Y(1,"h3","dms-heading",this._translate("Edit duration"),0),Y(1,"h4","dms-heading",this._translate("Set duration"),0),ot(2,MM,{label:this._translate("Duration value"),onInput:this.onInput,value:t,type:this._type,className:"dms-block"})],4)}}function eDe(n){return $r(n.col)?n.col&&n.col.businessObject.inputExpression.typeRef:n.col&&n.col.businessObject.typeRef}const nZt=["yearMonthDuration","dayTimeDuration"];function tDe(n){return nZt.includes(n)}const rZt={__depends__:[nh,mm],__init__:["simpleDurationEdit"],simpleDurationEdit:["type",(()=>{class n{constructor(i,s){s.registerProvider(o=>{const a=eDe(o);return($r(o.col)||Fo(o.col))&&tDe(a)}),i.onGetComponent("context-menu",(o={})=>{if(o.contextMenuType&&"simple-mode-edit"===o.contextMenuType){if(!o.element)return;if(tDe(eDe(o.element))){if($r(o.element.col))return ZXt;if(Fo(o.element.col))return JXt}}})}}return n.$inject=["components","simpleMode"],n})()]},iZt=/^(-?(?:[0-9]|\.[0-9])+)$|^((?:<|>|=){0,2})\s*(-?(?:[0-9]|\.[0-9])+)$/,sZt=/^(\[|\]){1}(-?(?:[0-9]|\.[0-9])+){1,}\.\.(-?(?:[0-9]|\.[0-9])+){1,}(\[|\]){1}$/,PK={equals:"=",less:"<",lessEquals:"<=",greater:">",greaterEquals:">="};function oZt(n){return Dl(PK).filter(t=>n===PK[t])[0]}function nDe(n){if(!n||function aZt(n){return""===n}(n.trim()))return{type:"comparison"};const t=n.match(iZt),i=n.match(sZt);if(t){if(function lZt(n){return n[0]&&n[1]&&!n[2]&&!n[3]}(t))return{type:"comparison",value:parseFloat(t[1]),operator:"equals"};if(function cZt(n){return n[0]&&!n[1]&&n[2]&&n[3]}(t))return{type:"comparison",value:parseFloat(t[3]),operator:oZt(t[2])}}else if(i)return{type:"range",values:[i[2],i[3]].map(s=>parseFloat(s)),start:"]"===i[1]?"exclude":"include",end:"["===i[4]?"exclude":"include"}}function DK(n,t){return"equals"===n?`${t}`:`${PK[n]} ${t}`}function b4(n,t,i,s){return`${"exclude"===i?"]":"["}${n}..${t}${"exclude"===s?"[":"]"}`}const v2="comparison",b2="range";class uZt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=nDe(s.businessObject.text);this.state=o?{type:o.type,comparisonOperator:o.operator||"equals",comparisonValue:o.value||0,rangeStartValue:o.values?o.values[0]:0,rangeEndValue:o.values?o.values[1]:0,rangeStartType:o.start||"include",rangeEndType:o.end||"include"}:{type:v2,comparisonOperator:"equals",comparisonValue:0,rangeStartValue:0,rangeEndValue:0,rangeStartType:"include",rangeEndType:"include"};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onComparisonOperatorChange=this.onComparisonOperatorChange.bind(this),this.onComparisonValueChange=this.onComparisonValueChange.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onRangeStartTypeChange=this.onRangeStartTypeChange.bind(this),this.onRangeStartValueChange=this.onRangeStartValueChange.bind(this),this.onRangeEndTypeChange=this.onRangeEndTypeChange.bind(this),this.onRangeEndValueChange=this.onRangeEndValueChange.bind(this)}editCell(t,i){this._modeling.editCell(t,i)}onTypeChange(t){const{element:i}=this.props.context,{comparisonOperator:s,comparisonValue:o,rangeStartValue:a,rangeEndValue:l,rangeStartType:c,rangeEndType:u}=this.state;this.editCell(i.businessObject,t===v2?DK(s,o):b4(a,l,c,u)),this.setState({type:t})}onComparisonOperatorChange(t){const{element:i}=this.props.context,{type:s,comparisonValue:o}=this.state;s===v2&&(this.editCell(i.businessObject,DK(t,o)),this.setState({comparisonOperator:t}))}onComparisonValueChange(t){const{element:i}=this.props.context,{type:s,comparisonOperator:o}=this.state;s===v2&&(this.debouncedEditCell(i.businessObject,DK(o,t)),this.setState({comparisonValue:t}))}onRangeStartTypeChange(t){const{element:i}=this.props.context,{type:s,rangeStartValue:o,rangeEndValue:a,rangeEndType:l}=this.state;s===b2&&(this.editCell(i.businessObject,b4(o,a,t,l)),this.setState({rangeStartType:t}))}onRangeStartValueChange(t){const{element:i}=this.props.context,{type:s,rangeEndValue:o,rangeStartType:a,rangeEndType:l}=this.state;s===b2&&(this.editCell(i.businessObject,b4(t,o,a,l)),this.setState({rangeStartValue:t}))}onRangeEndTypeChange(t){const{element:i}=this.props.context,{type:s,rangeStartValue:o,rangeEndValue:a,rangeStartType:l}=this.state;s===b2&&(this.editCell(i.businessObject,b4(o,a,l,t)),this.setState({rangeEndType:t}))}onRangeEndValueChange(t){const{element:i}=this.props.context,{type:s,rangeStartValue:o,rangeStartType:a,rangeEndType:l}=this.state;s===b2&&(this.editCell(i.businessObject,b4(o,t,a,l)),this.setState({rangeEndValue:t}))}renderComparison(t,i){const s=[{label:this._translate("Equals"),value:"equals"},{label:this._translate("Less"),value:"less"},{label:this._translate("Less or equals"),value:"lessEquals"},{label:this._translate("Greater"),value:"greater"},{label:this._translate("Greater or equals"),value:"greaterEquals"}];return Y(1,"div","comparison",[Y(1,"h4","dms-heading",this._translate("Value"),0),Y(1,"div","dms-fill-row",[ot(2,Is,{label:this._translate("Comparison operator"),noInput:!0,onChange:this.onComparisonOperatorChange,options:s,value:t}),Yn("\xa0"),ot(2,th,{label:this._translate("Value"),className:"comparison-number-input",onInput:this.onComparisonValueChange,type:"number",value:i})],4)],4)}renderRange(t,i,s,o){const a=[{label:this._translate("Include"),value:"include"},{label:this._translate("Exclude"),value:"exclude"}];return Y(1,"div","range",[Y(1,"h4","dms-heading",this._translate("Start value"),0),Y(1,"div","dms-fill-row",[ot(2,Is,{label:this._translate("Start value"),noInput:!0,onChange:this.onRangeStartTypeChange,options:a,value:s}),Yn("\xa0"),ot(2,th,{className:"range-start-number-input",onInput:this.onRangeStartValueChange,type:"number",value:t})],4),Y(1,"h4","dms-heading",this._translate("End value"),0),Y(1,"div","dms-fill-row",[ot(2,Is,{label:this._translate("End value"),noInput:!0,onChange:this.onRangeEndTypeChange,options:a,value:o}),Yn("\xa0"),ot(2,th,{className:"range-end-number-input",onInput:this.onRangeEndValueChange,type:"number",value:i})],4)],4)}render(){const{type:t,comparisonOperator:i,comparisonValue:s,rangeStartValue:o,rangeEndValue:a,rangeStartType:l,rangeEndType:c}=this.state,u=[{label:this._translate("Comparison"),value:v2},{label:this._translate("Range"),value:b2}];return Y(1,"div","context-menu-container simple-number-edit",[Y(1,"h3","dms-heading",this._translate("Edit number"),0),Y(1,"div","dms-fill-row",ot(2,Is,{label:this._translate("Test type"),noInput:!0,onChange:this.onTypeChange,options:u,value:t}),2),t===v2&&this.renderComparison(i,s),t===b2&&this.renderRange(o,a,l,c)],0)}}class dZt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=nDe(s.businessObject.text);this.state=o?{value:o.value}:{value:""};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onInput=this.onInput.bind(this)}editCell(t,i){this._modeling.editCell(t,i)}onInput(t){const{element:i}=this.props.context;this.debouncedEditCell(i.businessObject,t),this.setState({value:t})}render(){const{value:t}=this.state;return Y(1,"div","context-menu-container simple-number-edit",[Y(1,"h3","dms-heading",this._translate("Edit number"),0),Y(1,"h4","dms-heading",this._translate("Set value"),0),ot(2,th,{onInput:this.onInput,type:"number",value:t})],4)}}function rDe(n){return $r(n.col)?n.col&&n.col.businessObject.inputExpression.typeRef:n.col&&n.col.businessObject.typeRef}const fZt=["number","integer","long","double"];function iDe(n){return fZt.includes(n)}const hZt={__depends__:[nh,mm],__init__:["simpleNumberEdit"],simpleNumberEdit:["type",(()=>{class n{constructor(i,s){s.registerProvider(o=>{const a=rDe(o);return($r(o.col)||Fo(o.col))&&iDe(a)}),i.onGetComponent("context-menu",(o={})=>{if(o.contextMenuType&&"simple-mode-edit"===o.contextMenuType){if(!o.element)return;if(iDe(rDe(o.element))){if($r(o.element.col))return uZt;if(Fo(o.element.col))return dZt}}})}}return n.$inject=["components","simpleMode"],n})()]};function AM(n){if(!n||sDe(n.trim()))return{type:"disjunction",values:[]};let t=n.split(",");const i={type:"disjunction",values:[]};let s="";if(t.forEach(a=>{s+=a,/^"[^"]*"$/.test(s.trim())?(i.values.push(s.trim()),s=""):s+=","}),!s)return i;i.type="negation",i.values=[],s="";const o=n.match(/^\s*not\((.*)\)\s*$/);return o&&(t=o[1].split(","),t.forEach(a=>{s+=a,/^"[^"]*"$/.test(s.trim())?(i.values.push(s.trim()),s=""):s+=","}),!s)?i:void 0}function sDe(n){return""===n}const sy="disjunction",IM="negation";class bZt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");let s=AM(t.context.element.businessObject.text);s||(s={values:[],type:sy});const o=function mZt(n){const t=$r(n)?n.inputValues:n.outputValues;return!t||sDe(t.text)?[]:t.text.split(",").map(i=>i.trim())}(t.context.element.col.businessObject),a=s.values.filter(p=>!MK(o,p)),l=$r(t.context.element.col);let c=o.map(p=>({value:p,isChecked:MK(s.values,p),isRemovable:!1,group:this._translate("Predefined values")}));l&&(c=c.concat(a.map(p=>({value:p,isChecked:!0,isRemovable:!0,group:this._translate("Custom values")}))));let u="";!l&&s.values.length&&!MK(o,s.values[0])&&(u=s.values[0]),this.state={items:c,unaryTestsType:s.type,inputValue:u,isOutputValueInputChecked:""!==u};const d=i.injector.get("debounceInput");this.debouncedEditCell=d(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.addUnaryTestsListItem=this.addUnaryTestsListItem.bind(this),this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onOutputValueInputClick=this.onOutputValueInputClick.bind(this),this.onUnaryTestsListChanged=this.onUnaryTestsListChanged.bind(this),this.onUnaryTestsTypeChange=this.onUnaryTestsTypeChange.bind(this)}editCell(t,i){this._modeling.editCell(t,i)}onUnaryTestsTypeChange(t){const{items:i}=this.state,s=kK(i),{element:o}=this.props.context;t===sy?(this.editCell(o.businessObject,s.join(",")),this.setState({unaryTestsType:sy})):(this.editCell(o.businessObject,`not(${s.join(",")})`),this.setState({unaryTestsType:IM}))}onUnaryTestsListChanged(t){const i=kK(t),{element:s}=this.props.context,{unaryTestsType:o}=this.state;this.editCell(s.businessObject,o===sy?i.join(","):`not(${i.join(",")})`),this.setState({items:t,isOutputValueInputChecked:!1})}onOutputValueInputClick(){const{element:t}=this.props.context,{inputValue:i,items:s}=this.state,o=AM(i);!o||o.values.length>1||(this.editCell(t.businessObject,`${o.values.join("")}`),this.setState({items:s.map(a=>(a.isChecked=!1,a)),isOutputValueInputChecked:!0}))}onInput({isValid:t,value:i}){const{isOutputValueInputChecked:s}=this.state;this.setState({inputValue:i});const{element:o}=this.props.context;!$r(o)&&t&&s&&this.debouncedEditCell(o.businessObject,i)}onKeyDown({isValid:t,event:i}){if(!function _Zt(n){return 13===n}(i.keyCode))return;const{element:s}=this.props.context,o=$r(s.col);(o||!t)&&(i.stopPropagation(),i.preventDefault()),t&&(o?this.addUnaryTestsListItem():this.onOutputValueInputClick())}addUnaryTestsListItem(){const{inputValue:t,items:i,unaryTestsType:s}=this.state,o=AM(t);if(!o)return;const{element:a}=this.props.context,l=kK(i),c=[].concat(l,o.values);this.editCell(a.businessObject,s===sy?c.join(","):`not(${c.join(",")})`);const u=i.concat(o.values.map(d=>({value:d,isChecked:!0,isRemovable:!0,group:this._translate("Custom values")})));this.setState({items:u,inputValue:""})}render(){const{element:t}=this.props.context,{inputValue:i,isOutputValueInputChecked:s,items:o,unaryTestsType:a}=this.state,l=[{label:this._translate("Match one"),value:sy},{label:this._translate("Match none"),value:IM}],c=$r(t.col),u=a===IM,d=!c&&o.length>0;return Y(1,"div","simple-string-edit context-menu-container",[Y(1,"h3","dms-heading",this._translate("Edit string"),0),c&&Y(1,"p",null,ot(2,Is,{label:this._translate("String value"),noInput:!0,onChange:this.onUnaryTestsTypeChange,options:l,value:u?IM:sy},null,p=>this.selectNode=p),2),ot(2,IPe,{onChange:this.onUnaryTestsListChanged,items:o,type:c?"checkbox":"radio"}),Y(1,"h4","dms-heading",this._translate(c?"Add values":"Set value"),0),Y(1,"div","dms-fill-row",[d&&Y(64,"input","cursor-pointer",null,1,{checked:s,onClick:this.onOutputValueInputClick,type:"radio",style:{marginRight:"8px"}}),ot(2,Cu,{label:this._translate(c?"Values":"Value"),className:"dms-block",onKeyDown:this.onKeyDown,onInput:this.onInput,placeholder:this._translate(c?'"value", "value", ...':'"value"'),type:"text",validate:p=>{if(!AM(p))return this._translate("Strings must be in double quotes")},value:i})],0)],0)}}function kK(n){return n.filter(t=>t.isChecked).map(t=>t.value)}function MK(n,t){return-1!==n.indexOf(t)}function oDe(n){return $r(n.col)?n.col&&n.col.businessObject.inputExpression.typeRef:n.col&&n.col.businessObject.typeRef}const wZt={__depends__:[nh,mm],__init__:["simpleStringEdit"],simpleStringEdit:["type",(()=>{class n{constructor(i,s){s.registerProvider(o=>($r(o.col)||Fo(o.col))&&"string"===oDe(o)),i.onGetComponent("context-menu",(o={})=>{if(o.contextMenuType&&"simple-mode-edit"===o.contextMenuType){if(!o.element)return;if("string"===oDe(o.element))return bZt}})}}return n.$inject=["components","simpleMode"],n})()]},xZt=/^(?:\d\d:){2}\d\d(?:Z|(?:[@+-][^")]+))?$/,CZt=/^\[time\("([^"]*)"\)..time\("([^"]*)"\)\]$/,SZt=/^(<|>)\s*time\("([^"]*)"\)$/,OZt=/^time\("([^"]*)"\)$/;function _2(n){if(!xZt.test(n.trim()))return"Time must match pattern hh:mm:ss[time zone]"}function vm(n,t){return"exact"===n?`time("${t[0]}")`:"before"===n?`< time("${t[0]}")`:"after"===n?`> time("${t[0]}")`:"between"===n?`[time("${t[0]}")..time("${t[1]}")]`:void 0}function AK(){return(new Date).toISOString().slice(11,-5)+"Z"}function _4(n){if(!n||""===n.trim())return{type:"exact",time:""};let t=n.match(CZt);return t?{type:"between",times:[t[1],t[2]]}:(t=n.match(SZt),t?{type:"<"===t[1]?"before":"after",time:t[2]}:(t=n.match(OZt),t?{type:"exact",time:t[1]}:void 0))}const RM="between";class IZt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=_4(s.businessObject.text);if(o){let l;l=o.time?[o.time,""]:o.times?o.times:["",""],this.state={type:o.type,times:l}}else this.state={type:"exact",times:["",""]};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onSetStartTimeNowClick=this.onSetStartTimeNowClick.bind(this),this.onSetEndTimeNowClick=this.onSetEndTimeNowClick.bind(this),this.onStartTimeInput=this.onStartTimeInput.bind(this),this.onEndTimeInput=this.onEndTimeInput.bind(this)}editCell(t,i){this._modeling.editCell(t,i)}onTypeChange(t){const{element:i}=this.props.context,{times:s}=this.state;this.setState({type:t}),_4(vm(t,s))&&this.editCell(i.businessObject,vm(t,s))}onSetStartTimeNowClick(){const{element:t}=this.props.context,{times:i,type:s}=this.state,o=AK();this.setState({times:[o,i[1]]}),_4(vm(s,[o,i[1]]))&&this.editCell(t.businessObject,vm(s,[o,i[1]]))}onSetEndTimeNowClick(){const{element:t}=this.props.context,{times:i,type:s}=this.state,o=AK();this.setState({times:[i[0],o]}),_4(vm(s,[i[0],o]))&&this.editCell(t.businessObject,vm(s,[i[0],o]))}onStartTimeInput({value:t}){const{element:i}=this.props.context,{times:s,type:o}=this.state;this.setState({times:[t,s[1]]}),this.debouncedEditCell(i.businessObject,vm(o,[t,s[1]]))}onEndTimeInput({value:t}){const{element:i}=this.props.context,{times:s,type:o}=this.state;this.setState({times:[s[0],t]}),this.debouncedEditCell(i.businessObject,vm(o,[s[0],t]))}render(){const{times:t,type:i}=this.state,s=[{label:this._translate("Exactly"),value:"exact"},{label:this._translate("Before"),value:"before"},{label:this._translate("After"),value:"after"},{label:this._translate("Between"),value:RM}];return Y(1,"div","context-menu-container simple-time-edit",[Y(1,"h3","dms-heading",this._translate("Edit time"),0),Y(1,"div","dms-fill-row",ot(2,Is,{label:this._translate("Time"),noInput:!0,onChange:this.onTypeChange,options:s,value:i}),2),Y(1,"h4","dms-heading",this._translate(i===RM?"Edit start time":"Set time"),0),Y(1,"div",null,[ot(2,Cu,{label:this._translate("Start time"),className:"start-time-input dms-block",onInput:this.onStartTimeInput,placeholder:this._translate("e.g. { example } ",{example:rh()}),validate:o=>_2(o)&&this._translate(_2(o)),value:t[0]}),Y(1,"p","dms-hint",[Y(1,"button","use-now",this._translate("Use now"),0,{type:"button",onClick:this.onSetStartTimeNowClick}),Yn(".")],4)],4),i===RM&&Y(1,"h4","dms-heading",this._translate("Edit end time"),0),i===RM&&Y(1,"div",null,[ot(2,Cu,{label:this._translate("End time"),className:"end-time-input dms-block",onInput:this.onEndTimeInput,placeholder:this._translate("e.g. { example } ",{example:rh()}),validate:o=>_2(o)&&this._translate(_2(o)),value:t[1]}),Y(1,"p","dms-hint",[Y(1,"button","use-now",this._translate("Use now"),0,{type:"button",onClick:this.onSetEndTimeNowClick}),Yn(".")],4)],4)],0)}}class RZt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=_4(s.businessObject.text);this.state={date:o?o.date:""};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onClick=this.onClick.bind(this),this.onInput=this.onInput.bind(this)}editCell(t,i){this._modeling.editCell(t,i)}onClick(){const{element:t}=this.props.context,i=AK();this.setState({date:i}),this.editCell(t.businessObject,`time("${i}")`)}onInput({value:t}){const{element:i}=this.props.context;this.setState({date:t}),this.debouncedEditCell(i.businessObject,`time("${t}")`)}render(){const{date:t}=this.state;return Y(1,"div","context-menu-container simple-time-edit",[Y(1,"h3","dms-heading",this._translate("Edit time"),0),Y(1,"h4","dms-heading",this._translate("Set time"),0),Y(1,"div",null,[ot(2,Cu,{label:this._translate("Time value"),onInput:this.onInput,placeholder:this._translate("e.g. { example } ",{example:rh()}),validate:i=>_2(i)&&this._translate(_2(i)),value:t,className:"dms-block"}),Y(1,"p","dms-hint",[Y(1,"button","use-now",this._translate("Use now"),0,{type:"button",onClick:this.onClick}),Yn(".")],4)],4)],4)}}function lDe(n){return $r(n.col)?n.col&&n.col.businessObject.inputExpression.typeRef:n.col&&n.col.businessObject.typeRef}function cDe(n){return"time"===n}const LZt={__depends__:[nh,mm],__init__:["simpleTimeEdit"],simpleTimeEdit:["type",(()=>{class n{constructor(i,s){s.registerProvider(o=>{const a=lDe(o);return($r(o.col)||Fo(o.col))&&cDe(a)}),i.onGetComponent("context-menu",(o={})=>{if(o.contextMenuType&&"simple-mode-edit"===o.contextMenuType){if(!o.element)return;if(cDe(lDe(o.element))){if($r(o.element.col))return IZt;if(Fo(o.element.col))return RZt}}})}}return n.$inject=["components","simpleMode"],n})()]};let FZt=(()=>{class n extends Qt{constructor(i,s){super(i,s),oa(this)}componentDidMount(){const i=this.getRoot();this.changeSupport.onElementsChanged(i,this.onElementsChanged)}componentWillUnmount(){const i=this.getRoot();this.changeSupport.offElementsChanged(i,this.onElementsChanged)}getRoot(){return this.sheet.getRoot()}onElementsChanged=()=>{this.forceUpdate()};handleMouseDown=i=>{!function BZt({node:n,event:t,minWidth:i,onEnd:s=jZt}){t.preventDefault();const o=n.getBoundingClientRect().width,a=t.clientX;let l;function c(p){p.preventDefault();const f=d(p.clientX);l&&cancelAnimationFrame(l),l=requestAnimationFrame(()=>{n.style.width=f+"px"})}function d(p){return Math.max(o+(p-a),i)}document.addEventListener("mousemove",c),document.addEventListener("mouseup",function u(p){p.preventDefault(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u);const f=d(p.clientX);s(f)})}({node:Ho(i.target,"th",!1),event:i,minWidth:this.props.minWidth||150,onEnd:this.saveWidth})};saveWidth=i=>{const{col:s}=this.props,o={};Be(s,"dmn:DecisionTable")?o.annotationsWidth=i:o.width=i,this.modeling.updateProperties(s,o)};isLastInputOrOutput(){const{col:i}=this.props,o=pd(this.getRoot());if(Be(i,"dmn:InputClause")){const a=o.get("input");return a.indexOf(i)===a.length-1}if(Be(i,"dmn:OutputClause")){const a=o.get("output");return a.indexOf(i)===a.length-1}}render(){const i=this.isLastInputOrOutput()?{right:"-7px",width:"27px"}:null;return Y(1,"div","resize-column-handle",null,1,{onMouseDown:this.handleMouseDown,title:this.translate("Resize"),style:i})}}return n.$inject=["sheet","changeSupport","translate","modeling"],n})();function jZt(){}function uDe(n){n.onGetComponent("cell-inner",(t={})=>{const{cellType:i}=t;if("input-cell"===i||"output-cell"===i||"annotations"===i)return FZt})}uDe.$inject=["components"];const VZt={__init__:["columnResizeProvider"],columnResizeProvider:["type",uDe]};class IK extends f4{getModules(){return[...f4._getModules(),...IK._getModules()]}static _getModules(){return[BGt,XGt,CM,hm,SPe,rKt,aKt,OM,gKt,c2,QKt,VZt,mYt,wYt,xYt,pm,nh,DYt,TPe,AYt,aK,KYt,JYt,EM,mm,fXt,TXt,$Xt,rZt,hZt,wZt,LZt,nK]}}let $Zt=(()=>{class n{constructor(i){this._listeners={},i.on("elements.changed",({elements:s})=>{this.elementsChanged(s)}),i.on("element.updateId",({element:s,newId:o})=>{this.updateId(s.id,o)})}elementsChanged(i){const s={},o=i.length;for(let a=0;a<o;a++){const{id:l}=i[a];if(s[l])return;s[l]=!0;const c=this._listeners[l]&&this._listeners[l].length;if(c)for(let u=0;u<c;u++)this._listeners[l][u]&&this._listeners[l][u]()}}onElementsChanged(i,s){this._listeners[i]||(this._listeners[i]=[]),this._listeners[i][this._listeners[i].length]=s}offElementsChanged(i,s){if(this._listeners[i])if(s){const o=this._listeners[i].indexOf(s);-1!==o&&this._listeners[i].splice(o,1)}else this._listeners[i].length=0}updateId(i,s){this._listeners[i]&&(this._listeners[s]=this._listeners[i],delete this._listeners[i])}}return n.$inject=["eventBus"],n})();class UZt extends Qt{constructor(t){super(t);const i=this._injector=t.injector;this._changeSupport=i.get("changeSupport"),this._components=i.get("components"),this._renderer=i.get("renderer")}getChildContext(){return{changeSupport:this._changeSupport,components:this._components,renderer:this._renderer,injector:this._injector}}render(){const t=this._components.getComponents("viewer");return Y(1,"div","viewer-container",t&&t.map((i,s)=>ot(2,i,null,s)),0)}}const qZt={__init__:["changeSupport","components","renderer"],changeSupport:["type",$Zt],components:["type",class HZt{constructor(){this._listeners={}}getComponent(t,i){const s=this._listeners[t];if(!s)return;let o;for(let a=0;a<s.length&&(o=s[a].callback(i),!o);a++);return o}getComponents(t,i){const s=this._listeners[t];if(!s)return;const o=[];for(let a=0;a<s.length;a++){const l=s[a].callback(i);l&&o.push(l)}return o.length?o:void 0}onGetComponent(t,i,s){if(Gn(i)&&(s=i,i=1e3),!un(i))throw new Error("priority must be a number");const o=this._getListeners(t);let a,l;const c={priority:i,callback:s};for(l=0;a=o[l];l++)if(a.priority<i)return void o.splice(l,0,c);o.push(c)}offGetComponent(t,i){const s=this._getListeners(t);let o,a,l;if(i)for(l=s.length-1;o=s[l];l--)a=o.callback,a===i&&s.splice(l,1);else s.length=0}_getListeners(t){let i=this._listeners[t];return i||(this._listeners[t]=i=[]),i}}],eventBus:["type",Wo],renderer:["type",(()=>{class n{constructor(i,s,o,a,l){const{container:c}=o;this._container=c,a.on("renderer.mount",()=>{o4(ot(2,UZt,{injector:l}),c)}),a.on("renderer.unmount",()=>{o4(null,c)})}getContainer(){return this._container}}return n.$inject=["changeSupport","components","config.renderer","eventBus","injector"],n})()]};class dDe{constructor(t={}){let{injector:i}=t;if(!i){let{modules:s,config:o}=this._init(t);i=function WZt(n,t){const s=new XS([{config:["value",n]},qZt].concat(t||[]));return s.init(),s}(o,s)}this.get=i.get,this.invoke=i.invoke,this.get("eventBus").fire("viewer.init")}_init(t){let{modules:i,...s}=t;return{modules:i,config:s}}destroy(){this.get("eventBus").fire("viewer.destroy")}clear(){this.get("eventBus").fire("viewer.clear")}}const GZt={__init__:["elementRegistry"],elementRegistry:["type",(()=>{class n{constructor(i,s){this._eventBus=s,this._viewer=i}getDecision(){return this._viewer.getDecision()}updateId(i,s){if(i!==this.getDecision())throw new Error("element !== decision");this._eventBus.fire("element.updateId",{element:i,newId:s}),i.id=s}}return n.$inject=["viewer","eventBus"],n})()]};class KZt extends Qt{constructor(t,i){super(t,i),this._viewer=i.injector.get("viewer")}render(){const{name:t}=this._viewer.getDecision();return Y(1,"div","decision-properties",Y(1,"h3","decision-name",t,0),2)}}const XZt={__init__:["decisionProperties"],decisionProperties:["type",(()=>{class n{constructor(i){i.onGetComponent("viewer",1500,()=>KZt)}}return n.$inject=["components"],n})()]};class ZZt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._viewer=i.injector.get("viewer")}render(){const{decisionLogic:t,variable:i}=this._viewer.getDecision();return Y(1,"div","literal-expression-properties",Y(1,"table",null,[Y(1,"tr",null,[Y(1,"td",null,this._translate("Variable name:"),0),Y(1,"td",null,Y(1,"span",null,i.name||"-",0),2)],4),Y(1,"tr",null,[Y(1,"td",null,this._translate("Variable type:"),0),Y(1,"td",null,Y(1,"span",null,this._translate(i.typeRef||"")||"-",0),2)],4),Y(1,"tr",null,[Y(1,"td",null,this._translate("Expression language:"),0),Y(1,"td",null,Y(1,"span",null,t.expressionLanguage||"-",0),2)],4)],4),2)}}const JZt={__depends__:[],__init__:["literalExpressionProperties"],literalExpressionProperties:["type",(()=>{class n{constructor(i){i.onGetComponent("viewer",500,()=>ZZt)}}return n.$inject=["components"],n})()]},tQt={__init__:["poweredBy"],poweredBy:["type",(()=>{class n{constructor(i){i.onGetComponent("viewer",2e3,()=>VG)}}return n.$inject=["components"],n})()]};class nQt extends Qt{constructor(t,i){super(t,i),this._viewer=i.injector.get("viewer")}render(){const{text:t}=this._viewer.getDecision().decisionLogic;return Y(1,"div","textarea",Y(1,"div","content",t,0),2)}}const rQt={__init__:["textarea"],textarea:["type",(()=>{class n{constructor(i){i.onGetComponent("viewer",()=>nQt)}}return n.$inject=["components"],n})()]};let iQt=(()=>{class n extends Qt{constructor(i,s){super(i,s);const{injector:o}=s;this._translate=o.get("translate"),this._eventBus=o.get("eventBus")}onClick=()=>{this._eventBus.fire("showDrd")};render(){return Y(1,"div","view-drd",Y(1,"button","view-drd-button",this._translate("View DRD"),0,{type:"button",onClick:this.onClick}),2,null,null,i=>this.node=i)}}return n.$inject=["translate"],n})();const lQt={__init__:["viewDrd"],viewDrd:["type",(()=>{class n{constructor(i,s,o,a){this._injector=a,this._viewer=s,i.onGetComponent("viewer",2e3,()=>{if(this.canViewDrd())return iQt}),o.on("showDrd",()=>{const l=a.get("_parent",!1),c=this.getDefinitions(),u=l.getView(c);l.open(u)})}canViewDrd(){const i=this._injector.get("_parent",!1);if(!i)return;const s=this.getDefinitions();return!!i.getView(s)}getDefinitions(){return function aQt(n){return n.$parent}(this._viewer.getDecision())}}return n.$inject=["components","viewer","eventBus","injector"],n})()]};class E4 extends dDe{constructor(t={}){const i=E4._createContainer();super(pe(t,{renderer:{container:i}})),this._container=i}open(t){var i=this;return new Promise(function(s,o){var a;try{i._decision&&(i.clear(),i.get("eventBus").fire("renderer.unmount")),i._decision=t,i.get("eventBus").fire("import",t),i.get("eventBus").fire("renderer.mount")}catch(l){a=l}a?(a.warnings=a.warnings||[],o(a)):s({warnings:[]})})}_init(t){let{modules:i,additionalModules:s,...o}=t;return{modules:[...i||this.getModules(),...s||[],{viewer:["value",this]}],config:o}}on(t,i,s,o){return this.get("eventBus").on(t,i,s,o)}off(t,i){this.get("eventBus").off(t,i)}_emit(t,i){return this.get("eventBus").fire(t,i)}getDecision(){return this._decision}attachTo(t){if(!t)throw new Error("parentNode required");this.detach(),t.appendChild(this._container),this._emit("attach",{})}detach(){const t=this._container;t.parentNode&&(this._emit("detach",{}),xo(t))}destroy(){super.destroy(),this.detach()}getModules(){return E4._getModules()}static _getModules(){return[GZt,So,XZt,JZt,tQt,rQt,lQt]}static _createContainer(){return lr('<div class="dmn-literal-expression-container"></div>')}}class cQt extends Qt{constructor(t,i){super(t,i),this._viewer=i.injector.get("viewer"),this._modeling=i.injector.get("modeling"),this._translate=i.injector.get("translate"),this.setupChangeListeners({bind:this.getDecision().id})}componentWillUnmount(){this.setupChangeListeners({unbind:this.getDecision().id})}getDecision(){return this._viewer.getDecision()}onElementsChanged=()=>{this.forceUpdate()};setupChangeListeners({bind:t,unbind:i}){const{changeSupport:s}=this.context;"string"==typeof i&&s.offElementsChanged(i,this.onElementsChanged),"string"==typeof t&&s.onElementsChanged(t,this.onElementsChanged)}setDecisionName=t=>{this._modeling.editDecisionName(t)};render(){const{name:t}=this.getDecision();return Y(1,"header","decision-properties",ot(2,uQt,{label:this._translate("Decision name"),className:"decision-name editor",value:t,onBlur:dQt,onChange:this.setDecisionName}),2)}}class uQt extends d2{render(){return Y(1,"h3",this.getClassName(),this.getEditor(),0)}}function dQt(n){n.target.scroll(0,0)}const fQt={__depends__:[fm,So],__init__:["decisionProperties"],decisionProperties:["type",(()=>{class n{constructor(i){i.onGetComponent("viewer",1500,()=>cQt)}}return n.$inject=["components"],n})()]},pDe="is not a registered action";function RK(n,t){return new Error(n+" "+t)}function fDe(n){return!n.altKey&&(n.ctrlKey||n.metaKey)}function hDe(n){return n.shiftKey}const mDe={__depends__:[{__init__:["editorActions"],editorActions:["type",(()=>{class n{constructor(i,s){this._actions={undo(){i.undo()},redo(){i.redo()}}}trigger(i,s){if(!this._actions[i])throw RK(i,pDe);return this._actions[i](s)}register(i,s){if("string"==typeof i)return this._registerAction(i,s);se(i,(o,a)=>{this._registerAction(a,o)})}_registerAction(i,s){if(this.isRegistered(i))throw RK(i,"is already registered");this._actions[i]=s}unregister(i){if(!this.isRegistered(i))throw RK(i,pDe);this._actions[i]=void 0}isRegistered(i){return!!this._actions[i]}}return n.$inject=["commandStack","eventBus"],n})()]}],__init__:["keyboard"],keyboard:["type",(()=>{class n{constructor(i,s,o){this._config=i||{},this._eventBus=s,this._editorActions=o,this._listeners=[],s.on("viewer.destroy",this._destroy),s.on("viewer.init",this._init),s.on("attach",()=>{this._config.bindTo&&this.bind(i.bindTo)}),s.on("detach",this.unbind)}_init=()=>{this._registerDefaultBindings(),this._fire("init")};_destroy=()=>{this._fire("destroy"),this.unbind(),this._listeners=null};_keyHandler=i=>{var s,o,a=this._listeners,l=i.keyCode||i.charCode||-1;for(s=0;o=a[s];s++)if(o(l,i))return i.preventDefault(),void i.stopPropagation()};bind(i){this.unbind(),this._node=i,Xt.bind(i,"keydown",this._keyHandler,!0),this._fire("bind")}getBinding(){return this._node}unbind=()=>{var i=this._node;i&&(this._fire("unbind"),Xt.unbind(i,"keydown",this._keyHandler,!0)),this._node=null};_fire(i){this._eventBus.fire("keyboard."+i,{node:this._node,listeners:this._listeners})}_registerDefaultBindings(){var i=this._listeners,s=this._editorActions;i.push(function o(l,c){if(fDe(c)&&!hDe(c)&&90===l)return s.trigger("undo"),!0}),i.push(function a(l,c){if(fDe(c)&&(89===l||90===l&&hDe(c)))return s.trigger("redo"),!0})}addListener(i){this._listeners.unshift(i)}removeListener(i){this._listeners=this._listeners.filter(s=>s!==i)}}return n.$inject=["config.keyboard","eventBus","editorActions"],n})()]};class yQt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._viewer=i.injector.get("viewer"),this._modeling=i.injector.get("modeling"),this._dataTypes=i.injector.get("dataTypes");const s=this._viewer.getDecision();this.state={name:s.variable.name,typeRef:s.variable.typeRef},this.setVariableName=this.setVariableName.bind(this),this.setVariableType=this.setVariableType.bind(this)}setVariableName(t){this._modeling.editVariableName(t),this.setState({name:t})}setVariableType(t){""===t?(this._modeling.editVariableType(void 0),this.setState({typeRef:void 0})):(this._modeling.editVariableType(t),this.setState({typeRef:t}))}render(){const{name:t,typeRef:i}=this.state,s=this._dataTypes.getAll().map(o=>({label:this._translate(o),value:o}));return Y(1,"div","literal-expression-properties",Y(1,"table",null,[Y(1,"tr",null,[Y(1,"td",null,this._translate("Variable name:"),0),Y(1,"td",null,ot(2,th,{label:this._translate("Variable name"),className:"variable-name-input",onInput:this.setVariableName,placeholder:this._translate("name"),value:t||""}),2)],4),Y(1,"tr",null,[Y(1,"td",null,this._translate("Variable type:"),0),Y(1,"td",null,Y(1,"div","dms-fill-row",ot(2,Is,{label:this._translate("Variable type"),onChange:this.setVariableType,options:s,value:i,className:"variable-type-select dms-block"}),2),2)],4),ot(2,vQt)],4),2)}}class vQt extends Qt{constructor(t,i){super(t,i),this._translate=i.injector.get("translate"),this._viewer=i.injector.get("viewer"),this._modeling=i.injector.get("modeling"),this._expressionLanguages=i.injector.get("expressionLanguages"),this.setExpressionLanguage=this.setExpressionLanguage.bind(this)}setExpressionLanguage(t){this._modeling.editExpressionLanguage(""===t?void 0:t)}_getExpressionLanguage(){const i=this._viewer.getDecision().decisionLogic;return i&&i.expressionLanguage?i.expressionLanguage.toLowerCase():this._getDefaultExpressionLanguage()}_getDefaultExpressionLanguage(){return this._expressionLanguages.getDefault().value}_shouldRender(){return this._expressionLanguages.getAll().length>1||this._getExpressionLanguage()!==this._getDefaultExpressionLanguage()}render(){if(!this._shouldRender())return null;const t=this._getExpressionLanguage(),i=this._expressionLanguages.getAll();return Y(1,"tr",null,[Y(1,"td",null,this._translate("Expression language:"),0),Y(1,"td",null,Y(1,"div","dms-fill-row",ot(2,Is,{label:this._translate("Expression language"),onChange:this.setExpressionLanguage,options:i,value:t,className:"expression-language-select dms-block"}),2),2)],4)}}const _Qt={__depends__:[fm,mDe,pm,MPe],__init__:["literalExpressionProperties"],literalExpressionProperties:["type",(()=>{class n{constructor(i){i.onGetComponent("viewer",500,()=>yQt)}}return n.$inject=["components"],n})()]},xQt={__init__:["idChangeBehavior","modeling"],commandStack:["type",Pi],idChangeBehavior:["type",uM],modeling:["type",(()=>{class n{constructor(i,s,o){this._commandStack=i,this._viewer=s,this._eventBus=o,o.on("viewer.init",()=>{!function wQt(n,t){se(n,function(i,s){t.registerHandler(s,i)})}(this.getHandlers(),i)})}getHandlers(){return n._getHandlers()}static _getHandlers(){return{"element.updateProperties":CK}}getDecision(){return this._viewer.getDecision()}editDecisionName(i){const o={element:this.getDecision(),properties:{name:i}};this._commandStack.execute("element.updateProperties",o)}editDecisionId(i){const o={element:this.getDecision(),properties:{id:i}};this._commandStack.execute("element.updateProperties",o)}editLiteralExpressionText(i){const a={element:this.getDecision().decisionLogic,properties:{text:i}};this._commandStack.execute("element.updateProperties",a)}editExpressionLanguage(i){const a={element:this.getDecision().decisionLogic,properties:{expressionLanguage:i}};this._commandStack.execute("element.updateProperties",a)}editVariableName(i){const a={element:this.getDecision().variable,properties:{name:i}};this._commandStack.execute("element.updateProperties",a)}editVariableType(i){const a={element:this.getDecision().variable,properties:{typeRef:i}};this._commandStack.execute("element.updateProperties",a)}}return n.$inject=["commandStack","viewer","eventBus"],n})()]};class CQt extends Qt{constructor(t,i){super(t,i),this._modeling=i.injector.get("modeling"),this._viewer=i.injector.get("viewer"),this._expressionLanguages=i.injector.get("expressionLanguages"),this._variableResolver=i.injector.get("variableResolver",!1),this._translate=i.injector.get("translate"),this.editLiteralExpressionText=this.editLiteralExpressionText.bind(this),this.onElementsChanged=this.onElementsChanged.bind(this);const{id:s}=this.getLiteralExpression();i.changeSupport.onElementsChanged(s,this.onElementsChanged)}getLiteralExpression(){return this._viewer.getDecision().decisionLogic}onElementsChanged(){this.forceUpdate()}editLiteralExpressionText(t){this._modeling.editLiteralExpressionText(t)}getEditor(){return this.isFeel()?SQt:OQt}isFeel(){return"feel"===this.getExpressionLanguage()}getExpressionLanguage(){return this.getLiteralExpression().expressionLanguage||this._expressionLanguages.getDefault().value}_getVariables(){const t=this.getLiteralExpression();return this._variableResolver&&this._variableResolver.getVariables(t)}render(){const{text:t}=this.getLiteralExpression(),i=this.getEditor(),s=this._getVariables();return ot(2,i,{label:this._translate("Literal expression editor"),className:"textarea editor",value:t,onChange:this.editLiteralExpressionText,variables:s})}}class SQt extends Qt{render(){return ot(2,TM,{label:this.props.label,className:this.props.className,value:this.props.value,onInput:this.props.onChange,variables:this.props.variables})}}class OQt extends d2{render(){return Y(1,"div",this.getClassName(),this.getEditor(),0)}}const TQt={__depends__:[fm,So],__init__:["textarea"],textarea:["type",(()=>{class n{constructor(i){i.onGetComponent("viewer",()=>CQt)}}return n.$inject=["components"],n})()]};class NK extends E4{getModules(){return[...E4._getModules(),...NK._getModules()]}static _getModules(){return[fQt,mDe,_Qt,xQt,pm,OM,TQt,nK]}}function DQt(n,{injector:t}){const s=t.get("components").getComponents("header");return Y(1,"div","dmn-boxed-expression-section dmn-boxed-expression-header",s&&s.map((o,a)=>ot(2,o,null,a)),0)}function kQt(n,{injector:t}){const s=t.get("components").getComponents("body");return Y(1,"div","dmn-boxed-expression-section dmn-boxed-expression-body",s&&s.map((o,a)=>ot(2,o,null,a)),0)}function MQt(n,{injector:t}){const s=t.get("components").getComponents("footer");return Y(1,"div","dmn-boxed-expression-section dmn-boxed-expression-footer",s&&s.map((o,a)=>ot(2,o,null,a)),0)}const AQt={__init__:["viewRenderer","tableJsSupport"],viewRenderer:["type",(()=>class n{static $inject=["components"];constructor(i){i.onGetComponent("viewer",()=>DQt),i.onGetComponent("viewer",()=>kQt),i.onGetComponent("viewer",()=>MQt)}})()],tableJsSupport:["type",(()=>class n{static $inject=["components"];constructor(i){i.onGetComponent("viewer",()=>{const s=i.getComponents("table.before")||[];return()=>Y(1,"div",null,s.map((o,a)=>ot(2,o,null,a)),0)})}})()]},RQt={__init__:["poweredBy"],poweredBy:["type",(()=>{class n{constructor(i){i.onGetComponent("viewer",2e3,()=>VG)}}return n.$inject=["components"],n})()]};let NQt=(()=>class n{static $inject=["components"];constructor(i){i.onGetComponent("expression",({expression:s})=>{if(Be(s,"dmn:LiteralExpression"))return LQt})}})();function LQt({expression:n},t){return Y(1,"div","textarea",Y(1,"div","content",t.injector.get("literalExpression").getText(n),0),2)}class gDe{getText(t){return t.get("text")}}const FQt={__init__:["literalExpressionComponent"],literalExpressionComponent:["type",NQt],literalExpression:["type",gDe]};class yDe{getParameters(t){return t.get("formalParameter")}getBody(t){return t.get("body")}getKind(t){return t.get("kind")||"FEEL"}}function jQt({expression:n},t){const i=t.injector.get("functionDefinition"),s=i.getKind(n),o=i.getParameters(n),a=i.getBody(n);return Y(1,"div","function-definition",[ot(2,$Qt,{kind:s}),ot(2,zQt,{parameters:o}),ot(2,UQt,{expression:a})],4)}const VQt={FEEL:"F",Java:"J",PMML:"P"};function $Qt({kind:n},t){const i=t.injector.get("translate");return Y(1,"div","function-definition-kind",VQt[n],0,{title:i("Function kind: {kind}",{kind:n})})}function zQt({parameters:n}){return Y(1,"div","function-definition-parameters",Y(1,"div",null,[Yn("("),n.reduce((t,i)=>t.concat(ot(2,HQt,{parameter:i}),", "),[]).slice(0,-1),Yn(")")],0),2)}function HQt({parameter:n}){const{name:t,typeRef:i}=n,s=t||"<unnamed>";return Y(1,"span",null,i?`${s}: ${i}`:s,0)}function UQt({expression:n},t){return Y(1,"div","function-definition-body",ot(2,t.components.getComponent("expression",{expression:n}),{expression:n}),2)}const qQt={__init__:["functionDefinitionComponent"],functionDefinition:["type",yDe],functionDefinitionComponent:["type",(()=>class n{static $inject=["components"];constructor(i){i.onGetComponent("expression",({expression:s})=>{if(Be(s,"dmn:FunctionDefinition"))return jQt})}})()]};let WQt=(()=>{class n extends Qt{constructor(i,s){super(i,s);const{injector:o}=s;this._translate=o.get("translate"),this._eventBus=o.get("eventBus")}onClick=()=>{this._eventBus.fire("showDrd")};render(){return Y(1,"div","view-drd",Y(1,"button","view-drd-button",this._translate("View DRD"),0,{type:"button",onClick:this.onClick}),2,null,null,i=>this.node=i)}}return n.$inject=["translate"],n})();const KQt={__init__:["viewDrd"],viewDrd:["type",(()=>{class n{constructor(i,s,o){this._injector=o,i.onGetComponent("viewer",2e3,()=>{if(this.canViewDrd())return WQt}),s.on("showDrd",()=>{const a=o.get("_parent",!1),l=a.getDefinitions(),c=a.getView(l);a.open(c)})}canViewDrd(){const i=this._injector.get("_parent",!1);if(!i)return;const s=i.getDefinitions();return!!i.getView(s)}}return n.$inject=["components","eventBus","injector"],n})()]};function YQt(n,t){const i=t.injector.get("viewer"),{name:s}=i.getRootElement();return Y(1,"div","element-properties",Y(1,"h2","element-name",s,0),2)}const XQt={__init__:["elementProperties"],elementProperties:["type",(()=>{class n{constructor(i){i.onGetComponent("header",()=>YQt)}}return n.$inject=["components"],n})()]};function JQt(n,{injector:t}){const i=t.get("components"),a=function eJt(n){return Be(n,"dmn:Decision")?n.get("decisionLogic"):Be(n,"dmn:BusinessKnowledgeModel")?n.get("encapsulatedLogic"):void 0}(t.get("viewer").getRootElement());return ot(2,i.getComponent("expression",{expression:a}),{expression:a})}function tJt({expression:n}){return Y(1,"div",null,Y(1,"span",null,[Yn("Expression of type "),n.$type,Yn(" is not supported.")],0,{style:"color:red;"}),2)}const nJt={__init__:["elementLogic"],elementLogic:["type",(()=>class n{static $inject=["components"];constructor(i){i.onGetComponent("body",()=>JQt),i.onGetComponent("expression",100,()=>tJt)}})()]};let vDe=(()=>class n{static $inject=["viewer"];constructor(i){this._viewer=i}getName(){const i=this.getVariable(),s=this._getElement();return(i?i.get("name"):null)||s.get("name")}getType(){const i=this.getVariable();return i?i.get("typeRef"):"Any"}_getElement(){return this._viewer.getRootElement()}getVariable(){return this._getElement().get("variable")}})();function iJt(n,t){const i=t.injector.get("elementVariable"),s=t.injector.get("translate"),o=i.getName(),a=i.getType();return Y(1,"div","element-variable",[Y(1,"h2",null,Yn("Result"),2),Y(1,"div","element-variable-name",[Y(1,"span","element-variable-name-label",s("Variable name"),0),Y(1,"span",null,o,0)],4),Y(1,"div","element-variable-type",[Y(1,"span","element-variable-type-label",s("Variable type"),0),Y(1,"span",null,a,0)],4)],4)}const sJt={__init__:["elementVariableComponent"],elementVariable:["type",vDe],elementVariableComponent:["type",(()=>class n{static $inject=["components"];constructor(i){i.onGetComponent("footer",()=>iJt)}})()]};class LK extends dDe{constructor(t={}){const i=LK._createContainer();super(pe(t,{renderer:{container:i}})),this._container=i}open(t){const i=this.get("eventBus");return new Promise((s,o)=>{let a;try{this.getRootElement()&&(this.clear(),i.fire("renderer.unmount")),this._setRootElement(t),i.fire("import",t),i.fire("renderer.mount")}catch(l){a=l}a?(a.warnings=a.warnings||[],o(a)):s({warnings:[]})})}_init(t){let{modules:i,additionalModules:s,...o}=t;return{modules:[...i||this.getModules(),...s||[],{viewer:["value",this]}],config:o}}on(t,i,s,o){return this.get("eventBus").on(t,i,s,o)}off(t,i){this.get("eventBus").off(t,i)}_emit(t,i){return this.get("eventBus").fire(t,i)}getRootElement(){return this._root}_setRootElement(t){this._root=t}attachTo(t){if(!t)throw new Error("parentNode required");this.detach(),t.appendChild(this._container),this._emit("attach",{})}detach(){const t=this._container;t.parentNode&&(this._emit("detach",{}),xo(t))}destroy(){super.destroy(),this.detach()}getModules(){return[AQt,So,RQt,KQt,XQt,nJt,qQt,FQt,sJt]}static _createContainer(){return lr('<div class="dmn-boxed-expression-container"></div>')}}const oJt={__depends__:[xE],__init__:["keyboardBindings"],keyboardBindings:["type",(()=>class n{static $inject=["editorActions","keyboard"];constructor(i,s){this.registerBindings(s,i)}registerBindings(i,s){function o(a,l){s.isRegistered(a)&&i.addListener(l)}o("undo",function(a){if(sO(a.keyEvent))return s.trigger("undo"),!0}),o("redo",function(a){if(oO(a.keyEvent))return s.trigger("redo"),!0})}})()]};let aJt=(()=>class n extends Qe{static $inject=["eventBus","modeling"];constructor(i,s){super(i),this._modeling=s,this.postExecuted("element.updateProperties",this.updateName)}updateName=({context:i})=>{const{element:s,properties:o}=i;this.isNameChanged(o)&&(this.isVariable(s)?this.handleVariableNameChange(s):this.isVariableContainer(s)&&this.handleVariableContainerNameChange(s))};isNameChanged(i){return"name"in i}isVariable(i){const s=bDe(i);return Be(i,"dmn:InformationItem")&&s&&s.get("variable")===i}isVariableContainer(i){const s=i.get("variable");return s&&Be(s,"dmn:InformationItem")}handleVariableNameChange(i){const s=bDe(i),o=i.get("name");o!==s.get("name")&&this._modeling.updateProperties(s,{name:o})}handleVariableContainerNameChange(i){const s=i.get("variable"),o=i.get("name");s&&o!==s.get("name")&&this._modeling.updateProperties(s,{name:o})}})();function bDe(n){return n.$parent}const uJt={__init__:["idChangeBehavior","modeling","nameChangeBehavior"],commandStack:["type",Pi],idChangeBehavior:["type",uM],modeling:["type",(()=>{class n{constructor(i,s,o){this._commandStack=i,this._viewer=s,this._eventBus=o,function cJt(n,t){se(n,function(i,s){t.registerHandler(s,i)})}(this._getHandlers(),i)}_getHandlers(){return{"element.updateProperties":CK}}updateProperties(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:s})}}return n.$inject=["commandStack","viewer","eventBus"],n})()],nameChangeBehavior:["type",aJt]};function oy(n,t){return function(i){return cm(ot(2,dJt,{...i,_component:n,_selectDependencies:t}))}}class dJt extends Qt{constructor(t,i){super(t,i),this._eventBus=i.injector.get("eventBus")}componentDidMount(){this._subscribe()}componentWillUnmount(){this._unsubscribe()}_subscribe(){this._eventBus.on("elements.changed",this.onChange)}_unsubscribe(){this._eventBus.off("elements.changed",this.onChange)}onChange=({elements:t})=>{this.props._selectDependencies(this.props).some(s=>t.includes(s))&&this.forceUpdate()};render(){return cm(ot(2,this.props._component,{...this.props}))}}function fJt(n){return cm(ot(2,TM,{...n,onChange:n.onChange}))}class hJt extends d2{render(){return Y(1,"div",this.getClassName(),this.getEditor(),0)}}const mJt=oy(class pJt extends Qt{constructor(t,i){super(t,i),this._literalExpression=i.injector.get("literalExpression"),this._translate=i.injector.get("translate"),this._expressionLanguages=i.injector.get("expressionLanguages"),this._variableResolver=i.injector.get("variableResolver",!1)}getLiteralExpression(){return this.props.expression}editLiteralExpressionText=t=>{const i=this.getLiteralExpression();this._literalExpression.setText(i,t)};getEditor(){return this.isFeel()?fJt:hJt}isFeel(){return function PHt(n){for(let t=n;t;t=t.$parent){const i=t.get("expressionLanguage");if(i)return!("https://www.omg.org/spec/DMN/20191111/FEEL/"!==i&&!/feel/i.test(i));if(Be(t,"dmn:FunctionDefinition"))return"FEEL"===(t.get("kind")||"FEEL")}return!0}(this.getLiteralExpression())}_getVariables(){const t=this.getLiteralExpression();return this._variableResolver&&this._variableResolver.getVariables(t)}render(){const{text:t}=this.getLiteralExpression(),i=this.getEditor(),s=this._getVariables();return ot(2,i,{label:this._translate("Literal expression"),className:"textarea editor",value:t,onChange:this.editLiteralExpressionText,variables:s})}},n=>[n.expression]),gJt={__init__:["literalExpressionComponent"],literalExpressionComponent:["type",(()=>class n{static $inject=["components"];constructor(i){i.onGetComponent("expression",({expression:s})=>{if(Be(s,"dmn:LiteralExpression"))return mJt})}})()],literalExpression:["type",(()=>{class n extends gDe{constructor(i){super(),this._modeling=i}setText(i,s){this._modeling.updateProperties(i,{text:s})}}return n.$inject=["modeling"],n})()]};let yJt=(()=>class n extends yDe{static $inject=["modeling","dmnFactory"];constructor(i,s){super(),this._modeling=i,this._dmnFactory=s}addParameter(i){this._modeling.updateProperties(i,{formalParameter:[...this.getParameters(i),this._dmnFactory.create("dmn:InformationItem",{name:"",typeRef:""})]})}removeParameter(i,s){this._modeling.updateProperties(i,{formalParameter:this.getParameters(i).filter(o=>o!==s)})}updateParameter(i,s){this._modeling.updateProperties(i,s)}setKind(i,s){this._modeling.updateProperties(i,{kind:s})}})();function _De({label:n,onClick:t}){return Y(1,"button","edit-button dmn-icon-edit",null,1,{"aria-label":n,type:"button",onClick:t})}let vJt=(()=>class n{static $inject=["components"];constructor(i){i.onGetComponent("expression",({expression:s})=>{if(Be(s,"dmn:FunctionDefinition"))return bJt})}})();const bJt=oy(function _Jt({expression:n},t){const i=t.injector.get("functionDefinition"),s=t.injector.get("contextMenu"),o=i.getKind(n),a=i.getParameters(n),l=i.getBody(n);return Y(1,"div","function-definition",[ot(2,wJt,{kind:o,openEditor:d=>{const p=EDe(d);s.open(p,{contextMenuType:"kind-editor",expression:n})}}),ot(2,xJt,{parameters:a,openEditor:d=>{const p=EDe(d);s.open(p,{contextMenuType:"formal-parameters-editor",expression:n})}}),ot(2,OJt,{expression:l})],4)},n=>[n.expression]),EJt={FEEL:"F",Java:"J",PMML:"P"};function wJt({kind:n,openEditor:t},i){const s=i.injector.get("translate");return Y(1,"div","function-definition-kind",[EJt[n],ot(2,_De,{label:s("Edit function kind"),onClick:t})],0)}function xJt({openEditor:n,parameters:t},i){const s=i.injector.get("translate");return Y(1,"div","function-definition-parameters",[Y(1,"div",null,[Yn("("),t.reduce((o,a)=>o.concat(ot(2,CJt,{parameter:a}),", "),[]).slice(0,-1),Yn(")")],0),ot(2,_De,{label:s("Edit formal parameters"),onClick:n})],4)}const CJt=oy(function SJt({parameter:n}){const{name:t,typeRef:i}=n,s=t||"<unnamed>";return Y(1,"span",null,i?`${s}: ${i}`:s,0)},n=>[n.parameter]);function OJt({expression:n},t){return Y(1,"div","function-definition-body",ot(2,t.components.getComponent("expression",{expression:n}),{expression:n}),2)}function EDe(n){const i=n.target.parentElement.getBoundingClientRect();return{x:i.x,y:i.y}}const TJt=[{value:"FEEL",label:"FEEL"},{value:"Java",label:"Java"},{value:"PMML",label:"PMML"}];let PJt=(()=>class n{static $inject=["components"];constructor(i){i.onGetComponent("context-menu",(s={})=>{if(s.contextMenuType&&"kind-editor"===s.contextMenuType)return DJt})}})();function DJt({context:{expression:n}},t){const i=t.injector.get("functionDefinition"),s=t.injector.get("translate"),o=i.getKind(n);return Y(1,"div","context-menu-container",[Y(1,"h3",null,s("Edit function kind"),0),ot(2,Is,{label:s("Kind"),options:TJt,value:o,onChange:l=>{i.setKind(n,l)},noInput:!0})],4)}let kJt=(()=>class n{static $inject=["components"];constructor(i){i.onGetComponent("context-menu",(s={})=>{if(s.contextMenuType&&"formal-parameters-editor"===s.contextMenuType)return MJt})}})();const MJt=oy(function AJt({context:{expression:n}},t){const i=t.injector.get("functionDefinition"),s=t.injector.get("translate"),o=i.getParameters(n);return Y(1,"div","context-menu-container formal-parameters",[Y(1,"h3",null,s("Edit formal parameters"),0),o.length?Y(1,"table",null,[Y(1,"thead",null,Y(1,"tr",null,[Y(1,"th",null,Yn("Name"),2),Y(1,"th",null,Yn("Type"),2)],4),2),Y(1,"tbody",null,o.map((c,u)=>ot(2,IJt,{parameter:c,remove:()=>(c=>{i.removeParameter(n,c)})(c)},u)),0)],4):null,Y(1,"button","add-parameter",s("Add parameter"),0,{type:"button",onClick:()=>{i.addParameter(n)}})],0)},n=>[n.context.expression]),IJt=oy(function({parameter:n,remove:t},i){const s=i.injector.get("dataTypes"),o=i.injector.get("translate"),a=i.injector.get("functionDefinition"),{name:l,typeRef:c}=n,p=s.getAll().map(f=>({label:o(f),value:f}));return Y(1,"tr","function-definition-parameter",[Y(1,"td",null,ot(2,th,{onChange:f=>{a.updateParameter(n,{name:f})},value:l}),2),Y(1,"td",null,ot(2,Is,{onChange:f=>{a.updateParameter(n,{typeRef:f})},value:c,options:p}),2),Y(1,"td",null,Y(1,"button","dmn-icon-trash",null,1,{type:"button",onClick:t,"aria-label":o("Remove parameter")}),2)],4)},n=>[n.parameter]),RJt={__init__:["formalParametersEditorComponent","functionDefinitionComponent","kindEditorComponent"],__depends__:[hm],formalParametersEditorComponent:["type",kJt],functionDefinition:["type",yJt],functionDefinitionComponent:["type",vJt],kindEditorComponent:["type",PJt]},NJt=oy(function(n,t){const{element:i}=n,s=t.injector.get("modeling"),o=t.injector.get("translate"),a=i.get("name");return ot(2,th,{label:o("Element name"),className:"element-name editor",value:a,onChange:c=>{s.updateProperties(i,{name:c})}})},n=>[n.element]);function LJt(n,t){const s=t.injector.get("viewer").getRootElement();return Y(1,"div","element-properties",ot(2,NJt,{element:s}),2)}const FJt={__depends__:[fm],__init__:["elementProperties"],elementProperties:["type",(()=>{class n{constructor(i){i.onGetComponent("header",()=>LJt)}}return n.$inject=["components"],n})()]},BJt={__init__:["elementRegistry"],elementRegistry:["type",(()=>{class n{constructor(i,s){this._eventBus=s,this._viewer=i}updateId(i,s){if(i!==this._viewer.getRootElement())throw new Error("element !== rootElement");this._eventBus.fire("element.updateId",{element:i,newId:s}),i.id=s}}return n.$inject=["viewer","eventBus"],n})()],dmnFactory:["type",(()=>class n{static $inject=["moddle"];constructor(i){this._moddle=i}create(i,s={}){return this._moddle.create(i,s)}})()]},wDe="dmn-boxed-expression-variable-type";function $Jt(n,t){const i=t.injector.get("elementVariable"),s=t.injector.get("translate"),o=i.getName();return Y(1,"div","element-variable",[Y(1,"h2",null,Yn("Result"),2),Y(1,"div","element-variable-name",[Y(1,"span","element-variable-name-label",s("Variable name"),0),Y(1,"span",null,o,0)],4),Y(1,"div","element-variable-type",[Y(1,"label","element-variable-type-label",Yn("Result type"),2,{for:wDe}),ot(2,zJt)],4)],4)}function zJt(n,t){const i=t.injector.get("elementVariable"),s=t.injector.get("dataTypes"),o=t.injector.get("translate"),a=i.getType(),c=s.getAll().map(u=>({label:o(u),value:u}));return ot(2,Is,{value:a,onChange:u=>i.setType(u),options:c,id:wDe})}const HJt={__init__:["elementVariableComponent"],elementVariable:["type",(()=>class n extends vDe{static $inject=["viewer","modeling","dmnFactory"];constructor(i,s,o){super(i),this._modeling=s,this._dmnFactory=o}setType(i){const s=this.getVariable();if(s)this._modeling.updateProperties(s,{typeRef:i});else{const o=this._getElement();this._modeling.updateProperties(o,{variable:this._dmnFactory.create("dmn:InformationItem",{name:o.get("name"),typeRef:i})})}}})()],elementVariableComponent:["type",(()=>class n{static $inject=["components","elementVariable"];constructor(i,s){const o=oy($Jt,()=>[s.getVariable()]);i.onGetComponent("footer",()=>o)}})()]},xDe="is not a registered action";function FK(n,t){return new Error(n+" "+t)}const WJt={__init__:["editorActions"],editorActions:["type",(()=>{class n{constructor(i,s){this._actions={undo(){i.undo()},redo(){i.redo()}}}trigger(i,s){if(!this._actions[i])throw FK(i,xDe);return this._actions[i](s)}register(i,s){if("string"==typeof i)return this._registerAction(i,s);se(i,(o,a)=>{this._registerAction(a,o)})}_registerAction(i,s){if(this.isRegistered(i))throw FK(i,"is already registered");this._actions[i]=s}unregister(i){if(!this.isRegistered(i))throw FK(i,xDe);this._actions[i]=void 0}isRegistered(i){return!!this._actions[i]}}return n.$inject=["commandStack","eventBus"],n})()]};class GJt extends LK{getModules(){return[...super.getModules(),BJt,uJt,WJt,FJt,RJt,pm,gJt,oJt,OM,HJt,nK]}}class KJt extends DHt{_getViewProviders(){return[{id:"drd",constructor:s2,opens:"dmn:Definitions"},{id:"decisionTable",constructor:IK,opens:t=>Be(t,"dmn:Decision")&&Be(t.decisionLogic,"dmn:DecisionTable")},{id:"literalExpression",constructor:NK,opens:t=>Be(t,"dmn:Decision")&&Be(t.decisionLogic,"dmn:LiteralExpression")},{id:"boxedExpression",constructor:GJt,opens:t=>Be(t,"dmn:BusinessKnowledgeModel")&&Zk(t)}]}_getInitialView(t,...i){let s=super._getInitialView(t,...i);if(!s)return;const o=s.element;return Be(o,"dmn:Definitions")&&!DTe(o)&&(s=It(t,a=>!Be(a.element,"dmn:Definitions"))||s),s}}const CDe=xf({selectedElement:null,injector:null,getService:()=>null});function ml(n,t){var i=gl(n);return i&&"function"==typeof i.$instanceOf&&i.$instanceOf(t)}function gl(n){return n&&n.businessObject||n}var SDe,ODe,TDe,PDe,DDe;function BK(){return BK=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},BK.apply(null,arguments)}function jK(){return jK=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},jK.apply(null,arguments)}function VK(){return VK=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},VK.apply(null,arguments)}function $K(){return $K=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},$K.apply(null,arguments)}function zK(){return zK=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},zK.apply(null,arguments)}var kDe,MDe,ADe,IDe,RDe,HK=function(t){return Mr("svg",zK({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},t),DDe||(DDe=Mr("path",{d:"M3.563 0A3.554 3.554 0 0 0 .01 3.552L0 28.446A3.554 3.554 0 0 0 3.555 32h24.882a3.554 3.554 0 0 0 3.554-3.552L32 3.554A3.554 3.554 0 0 0 28.445 0H3.563ZM14 14l15 .016V20l-15-.016V14Zm0-11 15 .022V11l-15-.022V3Zm-3 16.992L3 20v-5.992L11 14v5.992Zm0-9.003L3 11V3.01L11 3v7.99ZM3 23.008 11 23v5.992L3 29v-5.992Zm11 5.984V23l15 .016V29l-15-.008Z"})))};function UK(){return UK=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},UK.apply(null,arguments)}function qK(){return qK=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},qK.apply(null,arguments)}function WK(){return WK=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},WK.apply(null,arguments)}function GK(){return GK=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},GK.apply(null,arguments)}function KK(){return KK=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},KK.apply(null,arguments)}var aen={Association:function(t){return Mr("svg",BK({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},t),SDe||(SDe=Mr("path",{fill:"none",stroke:"#000",strokeDasharray:"3.3,6",strokeLinecap:"square",strokeWidth:2,d:"m1.5 30.5 29-29"})))},AuthorityRequirement:function(t){return Mr("svg",jK({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},t),ODe||(ODe=Mr("path",{fillRule:"evenodd",d:"m6.364 24.235 1.414 1.414-6.364 6.364L0 30.598l6.364-6.363Zm8-8 1.414 1.414-6.364 6.364L8 22.598l6.364-6.363Zm8-8 1.414 1.414-6.364 6.364L16 14.598l6.364-6.363ZM28 0a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z"})))},BusinessKnowledgeModel:function(t){return Mr("svg",VK({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},t),TDe||(TDe=Mr("path",{d:"M6.258 8 0 15.358l.001.325.028 8.259h25.977L32 16.518V8H6.258Zm.812 1.756h23.174v6.142l-5.077 6.288H1.779L1.759 16l5.31-6.245Z"})))},Decision:function(t){return Mr("svg",$K({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},t),PDe||(PDe=Mr("path",{fillRule:"evenodd",d:"M0 6v20.711h32V6H0Zm1.697 1.697h28.606v17.317H1.697V7.697Z"})))},DecisionTable:HK,Definitions:HK,DRD:HK,InformationRequirement:function(t){return Mr("svg",UK({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},t),kDe||(kDe=Mr("path",{d:"M32 .06S20.33 6.015 14.403 8.8c1.27 1.16 2.451 2.41 3.676 3.615L0 30.734 1.325 32l18.08-18.32c1.227 1.223 2.448 2.453 3.676 3.676C26.247 11.121 32 .06 32 .06Z"})))},InputData:function(t){return Mr("svg",qK({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},t),MDe||(MDe=Mr("path",{d:"M6.384 8c-1.825 0-3.458.945-4.587 2.382C.667 11.82 0 13.756 0 15.88c0 2.125.667 4.062 1.797 5.499 1.13 1.437 2.762 2.382 4.587 2.382h19.232c1.825 0 3.458-.945 4.587-2.382C31.333 19.942 32 18.005 32 15.88c0-2.124-.667-4.06-1.797-5.498C29.073 8.945 27.441 8 25.616 8H6.384Zm0 1.763h19.232c1.223 0 2.342.616 3.201 1.709.86 1.093 1.42 2.656 1.42 4.408 0 1.753-.56 3.316-1.42 4.409-.86 1.093-1.978 1.708-3.2 1.708H6.383c-1.223 0-2.342-.615-3.201-1.708-.86-1.093-1.42-2.656-1.42-4.409 0-1.752.56-3.315 1.42-4.408.86-1.093 1.978-1.709 3.2-1.709Z"})))},KnowledgeRequirement:function(t){return Mr("svg",WK({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},t),ADe||(ADe=Mr("path",{fillRule:"evenodd",d:"m6.364 24.235 1.414 1.414-6.364 6.364L0 30.598l6.364-6.363Zm8-8 1.414 1.414-6.364 6.364L8 22.598l6.364-6.363Zm8-8 1.414 1.414-6.364 6.364L16 14.598l6.364-6.363ZM32 12.06h-2V3.426l-4.586 4.587L24 6.598l4.537-4.538H20v-2h12v12Z"})))},KnowledgeSource:function(t){return Mr("svg",GK({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},t),IDe||(IDe=Mr("path",{d:"M0 5V23.376l.348.23c4.812 3.182 8.946 2.865 12.41 1.63 3.464-1.235 6.366-3.239 8.999-3.589l.02-.003.021-.003c3.576-.675 5.681.439 9.126 1.88l1.076.45V5.064L0 5Zm1.553 1.557 28.894.059v15.016c-2.89-1.22-5.358-2.187-8.918-1.521-3.199.433-6.1 2.523-9.293 3.662C9.12 24.884 5.83 25.23 1.553 22.535V6.557Z"})))},TextAnnotation:function(t){return Mr("svg",KK({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},t),RDe||(RDe=Mr("path",{d:"M22.087 0v31.647H32v-1.788h-8.125V1.788H32V0h-9.913Zm-2.924 13.999-2.737 2.167 2.167 2.738 2.738-2.167-2.168-2.738Zm-5.475 4.335L10.95 20.5l2.168 2.738 2.737-2.168-2.167-2.737Zm-5.475 4.335-2.738 2.167 2.168 2.738 2.737-2.168-2.167-2.737Zm-5.476 4.335L0 29.17l2.167 2.738 2.738-2.168-2.168-2.737Z"})))}};function NDe(n){const{type:t}=n;return function cen(n){return n.split(":")[1]}(t)}const len={getElementLabel:n=>ml(n,"dmn:Definitions")?gl(n).get("name"):function ZJt(n){var t=n.businessObject,i=function XJt(n){return ml(n,"dmn:Decision")||ml(n,"dmn:BusinessKnowledgeModel")||ml(n,"dmn:InputData")||ml(n,"dmn:KnowledgeSource")?"name":ml(n,"dmn:TextAnnotation")?"text":void 0}(t);if(i)return t[i]||""}(n),getElementIcon:n=>{const t=NDe(n);return aen[t]},getTypeLabel:n=>NDe(n).replace(/(\B[A-Z])/g," $1").replace(/(\bNon Interrupting)/g,"($1)")},uen={getEmpty:()=>({text:"Select an element to edit its properties.",icon:null}),getMultiple:()=>({text:"Multiple elements are selected. Select a single element to edit its properties.",icon:null})};function den(n){const{element:t,injector:i,getProviders:s,layoutConfig:o,descriptionConfig:a,tooltipConfig:l}=n,c=i.get("canvas"),u=i.get("elementRegistry"),d=i.get("eventBus"),[p,f]=Un({selectedElement:t}),h=p.selectedElement,m=b=>{if(!b)return;let w=b;w&&"label"===w.type&&(w=w.labelTarget),f({...p,selectedElement:w}),d.fire("propertiesPanel.updated",{element:w})};vn(()=>{const b=w=>{const{newSelection:C=[]}=w;if(C.length>1)return m(C);const P=C[0],D=c.getRootElement();LDe(D)||m(P||D)};return d.on("selection.changed",b),()=>{d.off("selection.changed",b)}},[]),vn(()=>{const b=w=>{const P=function pen(n,t){return It(n,i=>i===t)}(w.elements,h);P&&function fen(n,t){return n&&t.get(n.id)}(P,u)&&m(P)};return d.on("elements.changed",b),()=>{d.off("elements.changed",b)}},[h]),vn(()=>{const b=w=>{const C=w.element;LDe(C)||m(C)};return d.on("root.added",b),()=>{d.off("root.added",b)}},[h]),vn(()=>{const b=()=>{m(h)};return d.on("propertiesPanel.providersChanged",b),()=>{d.off("propertiesPanel.providersChanged",b)}},[h]);const g={selectedElement:h,injector:i,getService:(b,w)=>i.get(b,w)},y=s(h),v=Do(()=>ps(y,function(b,w){return Vt(h)?[]:w.getGroups(h)(b)},[]),[y,h]);return L(CDe.Provider,{value:g,children:L(PEe,{element:h,headerProvider:len,placeholderProvider:uen,groups:v,layoutConfig:o,layoutChanged:b=>{d.fire("propertiesPanel.layoutChanged",{layout:b})},descriptionConfig:a,descriptionLoaded:b=>{d.fire("propertiesPanel.descriptionLoaded",{description:b})},tooltipConfig:l,tooltipLoaded:b=>{d.fire("propertiesPanel.tooltipLoaded",{tooltip:b})},eventBus:d})})}function LDe(n){return n&&(n.isImplicit||"__implicitroot"===n.id)}let men=(()=>{class n{constructor(i,s,o,a){const{parent:l,layout:c,description:u,tooltip:d}=i||{};this._eventBus=o,this._injector=s,this._layoutConfig=c,this._descriptionConfig=u,this._tooltipConfig=d,this._container=lr('<div style="height: 100%" class="bio-properties-panel-container"></div>');var p=s.get("commandStack",!1);p&&function yen(n,t,i){function s(a){a.preventDefault(),a.stopPropagation()}function o(a){return sO(a)?(i.undo(),s(a)):oO(a)?(i.redo(),s(a)):void 0}t.on("keyboard.bind",function(){Xt.bind(n,"keydown",o)}),t.on("keyboard.unbind",function(){Xt.unbind(n,"keydown",o)})}(this._container,o,p),o.on("diagram.destroy",()=>{this.detach()}),o.on("import.done",f=>{const{element:h}=f;l&&this.attachTo(l),this._render(h)}),o.on("detach",f=>{this.detach()}),a.on("detach",()=>{this.detach()})}attachTo(i){if(!i)throw new Error("container required");i.get&&i.constructor.prototype.jquery&&(i=i.get(0)),"string"==typeof i&&(i=dn(i)),this.detach(),i.appendChild(this._container),this._eventBus.fire("propertiesPanel.attach")}detach(){const i=this._container.parentNode;i&&(i.removeChild(this._container),this._eventBus.fire("propertiesPanel.detach"))}registerProvider(i,s){s||(s=i,i=1e3),"function"==typeof s.getGroups?(this._eventBus.on("propertiesPanel.getProviders",i,function(o){o.providers.push(s)}),this._eventBus.fire("propertiesPanel.providersChanged")):console.error("Properties provider does not implement #getGroups(element) API")}_getProviders(){const i=this._eventBus.createEvent({type:"propertiesPanel.getProviders",providers:[]});return this._eventBus.fire(i),i.providers}_render(i){const s=this._injector.get("canvas");i||(i=s.getRootElement()),!function gen(n){return n&&(n.isImplicit||"__implicitroot"===n.id)}(i)&&(wf(L(den,{element:i,injector:this._injector,getProviders:this._getProviders.bind(this),layoutConfig:this._layoutConfig,descriptionConfig:this._descriptionConfig,tooltipConfig:this._tooltipConfig}),this._container),this._eventBus.fire("propertiesPanel.rendered"))}_destroy(){this._container&&(wf(null,this._container),this._eventBus.fire("propertiesPanel.destroyed"))}}return n.$inject=["config.propertiesPanel","injector","eventBus","_parent"],n})();const ven={"properties-panel.multi-command-executor":(()=>{class n{constructor(i){this._commandStack=i}preExecute(i){const s=this._commandStack;se(i,function(o){s.execute(o.cmd,o.context)})}}return n.$inject=["commandStack"],n})()};function FDe(n,t){n.on("diagram.init",function(){se(ven,function(i,s){t.registerHandler(s,i)})})}FDe.$inject=["eventBus","commandStack"];var _en={__depends__:[{__init__:[FDe]},LEe,FEe],__init__:["propertiesPanel"],propertiesPanel:["type",men]};function mi(n,t){const{getService:i}=xa(CDe);return i(n,t)}function Een(n){const{element:t}=n;if(!ml(t,"dmn:DMNElement"))return[];const i=[{id:"description",component:wen,element:t,isEdited:$l}];return ml(t,"dmn:Decision")?i.concat([{id:"question",component:xen,element:t,isEdited:$l},{id:"allowedAnswers",component:Cen,element:t,isEdited:$l}]):i}function wen(n){const{element:t,id:i}=n,s=mi("modeling"),o=mi("debounceInput"),a=mi("translate");return Ma({element:t,id:i,label:a("Description"),debounce:o,getValue:c=>gl(c).get("description"),setValue:c=>{s.updateProperties(t,{description:c})}})}function xen(n){const{element:t,id:i}=n,s=mi("modeling"),o=mi("debounceInput"),a=mi("translate");return Ma({element:t,id:i,label:a("Question"),debounce:o,getValue:c=>gl(c).get("question"),setValue:c=>{s.updateProperties(t,{question:c})}})}function Cen(n){const{element:t,id:i}=n,s=mi("modeling"),o=mi("debounceInput"),a=mi("translate");return Ma({element:t,id:i,label:a("Allowed answers"),debounce:o,getValue:c=>gl(c).get("allowedAnswers"),setValue:c=>{s.updateProperties(t,{allowedAnswers:c})}})}const Sen=/\s/,Oen=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,Ten=/^[a-z_][\w-.]*$/i;function ken(n){const{element:t}=n;return[{id:"id",component:Men,element:t,isEdited:jt}]}function Men(n){const{element:t,id:i}=n,s=mi("modeling"),o=mi("debounceInput"),a=mi("translate"),c=wi(d=>gl(d).id,[t]),u=wi(d=>function BDe(n,t,i){const s=n.$model.ids.assigned(t);return t?s&&s!==n?i("ID must be unique."):function Pen(n,t){return function Den(n){return Sen.test(n)}(n)?t("ID must not contain spaces."):Ten.test(n)?void 0:Oen.test(n)?t("ID must not contain prefix."):t("ID must be a valid QName.")}(t,i):i("ID must not be empty.")}(gl(t),d,a),[t,a]);return ft({element:t,id:i,label:a("ID"),getValue:c,setValue:(d,p)=>{p||s.updateProperties(t,{id:d})},debounce:o,validate:u})}function Aen(n){const{element:t}=n;return function YJt(n,t){return qc(t,function(i){return ml(n,i)})}(t,["dmn:DRGElement","dmn:Definitions","dmn:TextAnnotation"])?[{id:"name",component:Ien,element:t,isEdited:$l}]:[]}function Ien(n){const{element:t,id:i}=n,s=mi("modeling"),o=mi("debounceInput"),a=mi("translate");let l={element:t,id:i,label:a("Name"),debounce:o,getValue:c=>gl(c).get("name"),setValue:c=>{s.updateProperties(t,{name:c})},autoResize:!0};return ml(t,"dmn:TextAnnotation")&&(l={...l,getValue:c=>gl(c).get("text"),setValue:c=>{s.updateProperties(t,{text:c})}}),Ma(l)}function Nen(n){return[Len(n),Fen(n)].filter(i=>null!==i)}function Len(n){return{id:"general",label:"General",entries:[...Aen({element:n}),...ken({element:n})],component:er}}function Fen(n){const t=[...Een({element:n})];return t.length?{id:"documentation",label:"Documentation",entries:t,component:er}:null}var Ben={__init__:["dmnPropertiesProvider"],dmnPropertiesProvider:["type",(()=>{class n{constructor(i){i.registerProvider(this)}getGroups(i){return s=>[...s,...Nen(i)]}}return n.$inject=["propertiesPanel"],n})()]};function jDe(n,t,i,s){const o=s.create(n,t);return i&&(o.$parent=i),o}function Jen(n){const{element:t}=n,i=mi("drdFactory"),s=mi("commandStack"),o=mi("debounceInput"),a=mi("translate");return ft({element:t,id:"versionTag",label:a("Version tag"),getValue:()=>{const u=VDe(t);if(u)return u.get("value")},setValue:u=>{let d=[];const p=gl(t);let f=p.get("extensionElements");f||(f=jDe("dmn:ExtensionElements",{values:[]},p,i),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:p,properties:{extensionElements:f}}}));let h=VDe(t);h||(h=jDe("zeebe:VersionTag",{},f,i),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{value:u}}}),s.execute("properties-panel.multi-command-executor",d)},debounce:o})}function VDe(n){return function Zen(n,t){const i=n.get("extensionElements");if(!i)return[];const s=i.get("values");return s&&s.length?t?s.filter(o=>ml(o,t)):s:[]}(gl(n),"zeebe:VersionTag")[0]}var itn={__init__:["zeebePropertiesProvider"],zeebePropertiesProvider:["type",(()=>{class n{constructor(i,s){i.registerProvider(500,this),this._injector=s}getGroups(i){return s=>(function ntn(n,t){const i=function rtn(n,t){return n.find(i=>i.id===t)}(n,"general");if(!i)return;const{entries:s}=i,o=Pl(s,a=>"id"===a.id);s.splice(o+1,0,...function Qen(n){const{element:t}=n;return ml(t,"dmn:Decision")?[{id:"versionTag",component:Jen,isEdited:jt}]:[]}({element:t}))}(s,i),s)}}return n.$inject=["propertiesPanel","injector"],n})()]};const stn={versionTag:n=>L("div",{children:L("p",{children:mi("translate")("Version tag by which this decision can be referenced.")})})},otn=JSON.parse('{"name":"zeebe","prefix":"zeebe","uri":"http://camunda.org/schema/zeebe/1.0","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"VersionTag","superClass":["Element"],"meta":{"allowedIn":["dmn:Decision"]},"properties":[{"name":"value","type":"String","isAttr":true}]}]}');function YK(n,t){(null==t||t>n.length)&&(t=n.length);for(var i=0,s=Array(t);i<t;i++)s[i]=n[i];return s}function Ac(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function bm(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _m(n,t,i){return t&&function ltn(n,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,HDe(s.key),s)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function w4(n){var t=$De();return function(){var i,s=NM(n);if(t){var o=NM(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return function htn(n,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ac(n)}(this,i)}}function ctn(n,t,i){return(t=HDe(t))in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function NM(n){return(NM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function x4(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&XK(n,t)}function $De(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($De=function(){return!!n})()}function zDe(n,t){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,s)}return i}function Ba(n){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?zDe(Object(i),!0).forEach(function(s){ctn(n,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):zDe(Object(i)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(i,s))})}return n}function XK(n,t){return(XK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i})(n,t)}function LM(n){return function atn(n){if(Array.isArray(n))return YK(n)}(n)||function utn(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function gtn(n,t){if(n){if("string"==typeof n)return YK(n,t);var i={}.toString.call(n).slice(8,-1);return"Object"===i&&n.constructor&&(i=n.constructor.name),"Map"===i||"Set"===i?Array.from(n):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?YK(n,t):void 0}}(n)||function dtn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HDe(n){var t=function mtn(n,t){if("object"!=typeof n||!n)return n;var i=n[Symbol.toPrimitive];if(void 0!==i){var s=i.call(n,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"==typeof t?t:t+""}function ZK(n,t){var i=function ytn(n){return n&&n.businessObject||n}(n);return i&&"function"==typeof i.$instanceOf&&i.$instanceOf(t)}function QK(n){return ZK(n,"dmn:InputClause")}function UDe(n){return ZK(n,"dmn:OutputClause")}var qDe=function(){function n(t){bm(this,n),t.registerProvider(this)}return _m(n,[{key:"getVariables",value:function(i,s){return i.map(function(o){return Ba(Ba({},o),{},{name:vtn(o)})})}}]),n}();function vtn(n){var t=n.origin;return t&&ZK(t,"dmn:Decision")?t.get("id"):n.name}qDe.$inject=["variableResolver"];var JK={__init__:["camundaVariableProvider"],camundaVariableProvider:["type",qDe]},btn=["boxedExpression","common","decisionTable","drd","literalExpression"],_tn=function(n){x4(i,n);var t=w4(i);function i(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};bm(this,i);var o=s.boxedExpression,a=void 0===o?{}:o,l=s.common,c=void 0===l?{}:l,u=s.decisionTable,d=void 0===u?{}:u,p=s.drd,f=void 0===p?{}:p,h=s.literalExpression,m=void 0===h?{}:h,g=function ptn(n,t){if(null==n)return{};var i,s,o=function ftn(n,t){if(null==n)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(t.indexOf(s)>=0)continue;i[s]=n[s]}return i}(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)t.indexOf(i=a[s])>=0||{}.propertyIsEnumerable.call(n,i)&&(o[i]=n[i])}return o}(s,btn),y=f.disableAdjustOrigin||c.disableAdjustOrigin,v=f.disableGrid||c.disableGrid;return t.call(this,Ba(Ba({},g),{},{common:c,boxedExpression:FM(a,[JK]),decisionTable:FM(d,[JK]),drd:FM(f,[y?j0e:$0e,v?{}:L0e,_en,Ben,itn]),literalExpression:FM(m,[JK])}))}return _m(i)}(KJt);function FM(n,t){var i=n.additionalModules||[];return Ba(Ba({},n),{},{additionalModules:[].concat(LM(t),LM(i))})}class WDe extends Qt{constructor(t,i){super(t,i),this.state={value:t.value}}onInput=t=>{const{onInput:i}=this.props,s=t.target.value;this.setState({value:s},()=>{"function"==typeof i&&i(s)})};onChange=t=>{const{onChange:i}=this.props;"function"==typeof i&&i(t.target.value)};onKeyDown=t=>{const{onKeyDown:i}=this.props;"function"==typeof i&&i(t)};onKeyUp=t=>{const{onKeyUp:i}=this.props;"function"==typeof i&&i(t)};componentDidUpdate(t){const{value:i}=this.props;i!==t.value&&i!==this.state.value&&this.setState({value:i})}render(){const{className:t,label:i,id:s,placeholder:o,type:a}=this.props,{value:l}=this.state;return Y(64,"input",[t||"","dms-input"].join(" "),null,1,{"aria-label":i,placeholder:o||"",onChange:this.onChange,onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,spellcheck:"false",type:a||"text",value:l,id:s})}}var Etn=function(n){x4(i,n);var t=w4(i);function i(s,o){var a;bm(this,i),(a=t.call(this,s,o))._translate=o.injector.get("translate"),a._modeling=o.injector.get("modeling");var l=o.injector.get("debounceInput");return a.state={inputVariable:a.props.context.input.get("camunda:inputVariable")||""},a.handleInputVariableChange=a.handleInputVariableChange.bind(Ac(a)),a._setInputVariable=l(a._setInputVariable),a}return _m(i,[{key:"handleInputVariableChange",value:function(o){var a=this;this.setState({inputVariable:o||void 0},function(){return a._setInputVariable(o)})}},{key:"_setInputVariable",value:function(o){return this._modeling.updateProperties(this.props.context.input,{"camunda:inputVariable":o||void 0})}},{key:"render",value:function(){var o=this.state.inputVariable;return Y(1,"div","context-menu-container",Y(1,"div","dms-form-control",[Y(1,"label","dms-label",this._translate("Input Variable"),0),ot(2,WDe,{className:"ref-input-variable",value:o||"",onInput:this.handleInputVariableChange,placeholder:this._translate("cellInput")})],4),2)}}]),i}(Qt);_m(function n(t){bm(this,n),t.onGetComponent("context-menu",function(){if("input-edit"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).contextMenuType)return Etn})}).$inject=["components"];class eY extends Qt{constructor(t,i){super(t,i);const{validate:s,value:o}=t,a=s?s(o||""):void 0;this.state={validationWarning:a,value:o},this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this)}componentWillReceiveProps(t){const{validate:i,value:s}=t,o=i?i(s||""):void 0;this.setState({validationWarning:o,value:s})}onInput(t){const{onInput:i,validate:s}=this.props,o=s?s(t):void 0;this.setState({validationWarning:o,value:t}),"function"==typeof i&&i&&i({isValid:!o,value:t})}onKeyDown(t){const{target:i}=t,{value:s}=i,{onKeyDown:o,validate:a}=this.props,l=a?a(s):void 0;"function"==typeof o&&o({isValid:!l,value:s,event:t})}onKeyUp(t){const{target:i}=t,{value:s}=i,{onKeyUp:o,validate:a}=this.props,l=a?a(s):void 0;"function"==typeof o&&o({isValid:!l,value:s,event:t})}render(){const{placeholder:t,type:i,className:s,label:o}=this.props,{validationWarning:a,value:l}=this.state,c=["dms-validated-input",s].join(" "),u=[];return a&&u.push("invalid"),Y(1,"div",c,[ot(2,WDe,{className:u,label:o,onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,placeholder:t||"",type:i,value:l||""}),a&&Y(1,"p","dms-hint dms-validation-warning",a,0)],0)}}var BM,KDe=!1;typeof document<"u"&&((BM=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',KDe=!BM.getElementsByTagName("link").length,BM=void 0);var Us={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:KDe?[1,"X<div>","</div>"]:[0,"",""]};Us.td=Us.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Us.option=Us.optgroup=[1,'<select multiple="multiple">',"</select>"],Us.thead=Us.tbody=Us.colgroup=Us.caption=Us.tfoot=[1,"<table>","</table>"],Us.polyline=Us.ellipse=Us.polygon=Us.circle=Us.text=Us.line=Us.path=Us.rect=Us.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var Otn=function Stn(n,t){if("string"!=typeof n)throw new TypeError("String expected");t||(t=document);var i=/<([\w:]+)/.exec(n);if(!i)return t.createTextNode(n);n=n.replace(/^\s+|\s+$/g,"");var s=i[1];if("body"==s)return(u=t.createElement("html")).innerHTML=n,u.removeChild(u.lastChild);var u,o=Object.prototype.hasOwnProperty.call(Us,s)?Us[s]:Us._default,a=o[0],l=o[1],c=o[2];for((u=t.createElement("div")).innerHTML=l+n+c;a--;)u=u.lastChild;if(u.firstChild==u.lastChild)return u.removeChild(u.firstChild);for(var d=t.createDocumentFragment();u.firstChild;)d.appendChild(u.removeChild(u.firstChild));return d};let Ptn=(()=>{class n extends Qt{constructor(i,s){super(i,s),function wtn(n){(function xtn(n,t){const i=n.$inject;if(!i)return;const{injector:s}=t.context,o=[...i,function(...a){for(const l in a)t[i[l]]=a[l]}];s.invoke(o)})(n.constructor,n)}(this);const{value:o}=i;this.state={value:o,optionsVisible:!1},this._portalEl=null}componentDidMount(){document.addEventListener("mousedown",this.onGlobalClick),document.addEventListener("focusin",this.onFocusChanged),this.keyboard.addListener(this.onKeyboard)}componentWillUnmount(){document.removeEventListener("focusin",this.onFocusChanged),document.removeEventListener("mousedown",this.onGlobalClick),this.keyboard.removeListener(this.onKeyboard),this.removePortalEl()}componentWillReceiveProps(i){const{value:s}=i;this.setState({value:s})}componentWillUpdate(i,s){const{optionsVisible:o}=s;o?this._portalEl||this.addPortalEl():this._portalEl&&this.removePortalEl()}componentDidUpdate(){const{optionsVisible:i}=this.state;if(!i||!this.inputNode)return;const s=this.getOptionsBounds();pe(this._portalEl.style,s)}getOptionsBounds(){const i=this.renderer.getContainer(),{top:s,left:o,bottom:a}=i.getBoundingClientRect(),{top:l,left:c,width:u,height:d,bottom:p}=this.inputNode.getBoundingClientRect(),f=l+d-s+i.scrollTop,m={top:`${f}px`,left:`${c-o+i.scrollLeft}px`,width:`${u}px`,"max-height":`calc(100% - ${f}px)`};if(a-p<d){const g=a-l;m.bottom=`${g}px`,m["max-height"]=`calc(100% - ${g})`,delete m.top}return m}addPortalEl(){this._portalEl=Otn('<div class="dms-select-options"></div>'),this.renderer.getContainer().appendChild(this._portalEl),this._portalEl.addEventListener("mousedown",YDe)}removePortalEl(){this._portalEl&&(this._portalEl.removeEventListener("mousedown",YDe),function Ttn(n){n.parentNode&&n.parentNode.removeChild(n)}(this._portalEl),this._portalEl=null)}onChange=i=>{this.setState({value:i});const{onChange:s}=this.props;"function"==typeof s&&s(i)};onInputClick=i=>{i.preventDefault(),i.stopPropagation(),this.setOptionsVisible(!this.state.optionsVisible),this.focusInput()};onInput=i=>{const{value:s}=i.target;this.onChange(s)};onOptionClick=(i,s)=>{s.preventDefault(),s.stopPropagation(),this.setOptionsVisible(!1),this.onChange(i),this.focusInput()};focusInput(){const i=this.inputNode;i.focus(),"selectionStart"in i&&(i.selectionStart=1e5)}checkClose(i){this._portalEl&&!this._portalEl.contains(i)&&!this.parentNode.contains(i)&&this.setOptionsVisible(!1)}onFocusChanged=i=>{this.checkClose(i.target)};onGlobalClick=i=>{this.checkClose(i.target)};select(i){const{options:s}=this.props,{value:o}=this.state;if(!s)return;const a=s.filter(d=>d.value===o)[0],l=a?s.indexOf(a):-1,c=-1===l?1===i?0:s.length-1:(l+i)%s.length;this.onChange(s[c<0?s.length+c:c].value)}setOptionsVisible(i){this.setState({optionsVisible:i})}onKeyDown=i=>{const{optionsVisible:s}=this.state;var o=i.which;(40===o||38===o)&&(i.stopPropagation(),i.preventDefault(),s?this.select(40===o?1:-1):this.setOptionsVisible(!0)),s&&(13===o||27===o)&&(i.stopPropagation(),i.preventDefault(),this.setOptionsVisible(!1))};onKeyboard=i=>{const{optionsVisible:s}=this.state;if(s&&27===i)return this.setOptionsVisible(!1),!0};renderOptions(i,s){return Y(1,"div","options",i.map(o=>Y(1,"div",["option",s===o?"active":""].join(" "),o.label,0,{"data-value":o.value,onClick:a=>this.onOptionClick(o.value,a)})),0)}render(){const{className:i,label:s,id:o,options:a,noInput:l,title:c}=this.props,{optionsVisible:u,value:d}=this.state,p=!!a&&a.filter(h=>h.value===d)[0],f=p?p.label:d;return Y(1,"div",[i||"","dms-input-select"].join(" "),[l?Y(1,"div","dms-input",f,0,{"aria-label":s,tabindex:"0",onKeyDown:this.onKeyDown},null,h=>this.inputNode=h):Y(64,"input","dms-input",null,1,{"aria-label":s,onInput:this.onInput,onKeyDown:this.onKeyDown,spellcheck:"false",type:"text",value:d,id:o},null,h=>this.inputNode=h),Y(1,"span",["dms-input-select-icon",u?"dmn-icon-up":"dmn-icon-down"].join(" ")),u&&sTe(this.renderOptions(a,p),this._portalEl)],0,{title:c,onClick:this.onInputClick},null,h=>this.parentNode=h)}}return n.$inject=["keyboard","renderer"],n})();function YDe(n){n.stopPropagation()}var Dtn=/^\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d$/,ktn=/^\[date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)..date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"/,Mtn=/^(<|>)\s*date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)/,Atn=/^date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)$/;function tY(n){if(!Dtn.test(n.trim()))return"Date must match pattern yyyy-MM-ddTHH:mm:ss."}function Em(n,t){return"exact"===n?'date and time("'.concat(t[0],'")'):"before"===n?'< date and time("'.concat(t[0],'")'):"after"===n?'> date and time("'.concat(t[0],'")'):"between"===n?'[date and time("'.concat(t[0],'")..date and time("').concat(t[1],'")]'):void 0}function E2(){var n=new Date;return n.setUTCHours(0,0,0,0),n.toISOString().slice(0,-5)}function C4(n){if(!n||""===n.trim())return{type:"exact",date:""};var t=n.match(ktn);return t?{type:"between",dates:[t[1],t[2]]}:(t=n.match(Mtn))?{type:"<"===t[1]?"before":"after",date:t[2]}:(t=n.match(Atn))?{type:"exact",date:t[1]}:void 0}var jM="between",jtn=function(n){x4(i,n);var t=w4(i);function i(s,o){var a;bm(this,i),(a=t.call(this,s,o))._modeling=o.injector.get("modeling");var c=C4(a.props.context.element.businessObject.text);a.state=c?{type:c.type,dates:c.date?[c.date,""]:c.dates?c.dates:["",""]}:{type:"exact",dates:["",""]};var d=o.injector.get("debounceInput");return a.debouncedEditCell=d(a.editCell.bind(Ac(a))),a.editCell=a.editCell.bind(Ac(a)),a.onTypeChange=a.onTypeChange.bind(Ac(a)),a.onSetStartDateTodayClick=a.onSetStartDateTodayClick.bind(Ac(a)),a.onSetEndDateTodayClick=a.onSetEndDateTodayClick.bind(Ac(a)),a.onStartDateInput=a.onStartDateInput.bind(Ac(a)),a.onEndDateInput=a.onEndDateInput.bind(Ac(a)),a}return _m(i,[{key:"editCell",value:function(o,a){this._modeling.editCell(o,a)}},{key:"onTypeChange",value:function(o){var a=this.props.context.element,l=this.state.dates;this.setState({type:o}),C4(Em(o,l))&&this.editCell(a.businessObject,Em(o,l))}},{key:"onSetStartDateTodayClick",value:function(){var o=this.props.context.element,a=this.state,l=a.dates,c=a.type,u=E2();this.setState({dates:[u,l[1]]}),C4(Em(c,[u,l[1]]))&&this.editCell(o.businessObject,Em(c,[u,l[1]]))}},{key:"onSetEndDateTodayClick",value:function(){var o=this.props.context.element,a=this.state,l=a.dates,c=a.type,u=E2();this.setState({dates:[l[0],u]}),C4(Em(c,[l[0],u]))&&this.editCell(o.businessObject,Em(c,[l[0],u]))}},{key:"onStartDateInput",value:function(o){var l=o.value;if(o.isValid){var c=this.props.context.element,u=this.state,d=u.dates,p=u.type;this.setState({dates:[l,d[1]]}),this.debouncedEditCell(c.businessObject,Em(p,[l,d[1]]))}}},{key:"onEndDateInput",value:function(o){var l=o.value;if(o.isValid){var c=this.props.context.element,u=this.state,d=u.dates,p=u.type;this.setState({dates:[d[0],l]}),this.debouncedEditCell(c.businessObject,Em(p,[d[0],l]))}}},{key:"render",value:function(){var o=this.state,a=o.dates,l=o.type,c=[{label:"Exactly",value:"exact"},{label:"Before",value:"before"},{label:"After",value:"after"},{label:"Between",value:jM}];return Y(1,"div","context-menu-container simple-date-edit",[Y(1,"h3","dms-heading",Yn("Edit Date"),2),Y(1,"div","dms-fill-row",ot(2,Ptn,{noInput:!0,onChange:this.onTypeChange,options:c,value:l}),2),Y(1,"h4","dms-heading",l===jM?"Edit Start Date":"Set Date",0),Y(1,"div",null,[ot(2,eY,{className:"start-date-input dms-block",onInput:this.onStartDateInput,placeholder:"e.g. ".concat(E2()),validate:tY,value:a[0]}),Y(1,"p","dms-hint",[Y(1,"button","use-today",Yn("Use today"),2,{type:"button",onClick:this.onSetStartDateTodayClick}),Yn(".")],4)],4),l===jM&&Y(1,"h4","dms-heading",Yn("Edit End Date"),2),l===jM&&Y(1,"div",null,[ot(2,eY,{className:"end-date-input dms-block",onInput:this.onEndDateInput,placeholder:"e.g. ".concat(E2()),validate:tY,value:a[1]}),Y(1,"p","dms-hint",[Y(1,"button","use-today",Yn("Use today"),2,{type:"button",onClick:this.onSetEndDateTodayClick}),Yn(".")],4)],4)],0)}}]),i}(Qt),Vtn=function(n){x4(i,n);var t=w4(i);function i(s,o){var a;bm(this,i),(a=t.call(this,s,o))._modeling=o.injector.get("modeling");var c=C4(a.props.context.element.businessObject.text);a.state={date:c?c.date:""};var u=o.injector.get("debounceInput");return a.debouncedEditCell=u(a.editCell.bind(Ac(a))),a.editCell=a.editCell.bind(Ac(a)),a.onClick=a.onClick.bind(Ac(a)),a.onInput=a.onInput.bind(Ac(a)),a}return _m(i,[{key:"editCell",value:function(o,a){this._modeling.editCell(o,a)}},{key:"onClick",value:function(){var o=this.props.context.element,a=E2();this.setState({date:a}),this.editCell(o.businessObject,'date and time("'.concat(a,'")'))}},{key:"onInput",value:function(o){var l=o.value;if(o.isValid){var c=this.props.context.element;this.setState({date:l}),this.debouncedEditCell(c.businessObject,'date and time("'.concat(l,'")'))}}},{key:"render",value:function(){var o=this.state.date;return Y(1,"div","context-menu-container simple-date-edit",[Y(1,"h3","dms-heading",Yn("Edit Date"),2),Y(1,"h4","dms-heading",Yn("Set Date"),2),Y(1,"div",null,[ot(2,eY,{onInput:this.onInput,placeholder:"e.g. ".concat(E2()),validate:tY,value:o,className:"dms-block"}),Y(1,"p","dms-hint",[Yn("Set date "),Y(1,"button","use-today",Yn("to today"),2,{type:"button",onClick:this.onClick}),Yn(".")],4)],4)],4)}}]),i}(Qt);function QDe(n){return QK(n.col)?n.col&&n.col.businessObject.inputExpression.typeRef:n.col&&n.col.businessObject.typeRef}function JDe(n){return"date"===n}_m(function n(t,i){bm(this,n),i.registerProvider(function(s){var o=QDe(s);return(QK(s.col)||UDe(s.col))&&JDe(o)}),t.onGetComponent("context-menu",function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s.contextMenuType&&"simple-mode-edit"===s.contextMenuType){if(!s.element)return;if(JDe(QDe(s.element))){if(QK(s.element.col))return jtn;if(UDe(s.element.col))return Vtn}}})}).$inject=["components","simpleMode"];var ztn={zeebe:otn},Htn=function(n){x4(i,n);var t=w4(i);function i(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};bm(this,i);var o=s.common,a=void 0===o?{}:o,l=s.moddleExtensions,c=void 0===l?{}:l,u=a.propertiesPanel,d=void 0===u?{}:u;return t.call(this,Ba(Ba({},s),{},{common:Ba(Ba({},a),{},{propertiesPanel:Ba(Ba({},d),{},{tooltip:stn})}),moddleExtensions:Ba(Ba({},ztn),c)}))}return _m(i)}(_tn);const eke="function"==typeof String.prototype.normalize?n=>n.normalize("NFKD"):n=>n;class w2{constructor(t,i,s=0,o=t.length,a,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(s,o),this.bufferStart=s,this.normalize=a?c=>a(eke(c)):eke,this.query=this.normalize(i)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Xo(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let i=eV(t),s=this.bufferStart+this.bufferPos;this.bufferPos+=uu(t);let o=this.normalize(i);for(let a=0,l=s;;a++){let c=o.charCodeAt(a),u=this.match(c,l,this.bufferPos+this.bufferStart);if(a==o.length-1){if(u)return this.value=u,this;break}l==s&&a<i.length&&i.charCodeAt(a)==c&&l++}}}match(t,i,s){let o=null;for(let a=0;a<this.matches.length;a+=2){let l=this.matches[a],c=!1;this.query.charCodeAt(l)==t&&(l==this.query.length-1?o={from:this.matches[a+1],to:s}:(this.matches[a]++,c=!0)),c||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?o={from:i,to:s}:this.matches.push(1,i)),o&&this.test&&!this.test(o.from,o.to,this.buffer,this.bufferStart)&&(o=null),o}}typeof Symbol<"u"&&(w2.prototype[Symbol.iterator]=function(){return this});const tke={from:-1,to:-1,match:/.*/.exec("")},rY="gm"+(null==/x/.unicode?"":"u");class nke{constructor(t,i,s,o=0,a=t.length){if(this.text=t,this.to=a,this.curLine="",this.done=!1,this.value=tke,/\\[sWDnr]|\n|\r|\[\^/.test(i))return new rke(t,i,s,o,a);this.re=new RegExp(i,rY+(s?.ignoreCase?"i":"")),this.test=s?.test,this.iter=t.iter();let l=t.lineAt(o);this.curLineStart=l.from,this.matchPos=VM(t,o),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let i=this.matchPos<=this.to&&this.re.exec(this.curLine);if(i){let s=this.curLineStart+i.index,o=s+i[0].length;if(this.matchPos=VM(this.text,o+(s==o?1:0)),s==this.curLineStart+this.curLine.length&&this.nextLine(),(s<o||s>this.value.to)&&(!this.test||this.test(s,o,i)))return this.value={from:s,to:o,match:i},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}}const iY=new WeakMap;class x2{constructor(t,i){this.from=t,this.text=i}get to(){return this.from+this.text.length}static get(t,i,s){let o=iY.get(t);if(!o||o.from>=s||o.to<=i){let c=new x2(i,t.sliceString(i,s));return iY.set(t,c),c}if(o.from==i&&o.to==s)return o;let{text:a,from:l}=o;return l>i&&(a=t.sliceString(i,l)+a,l=i),o.to<s&&(a+=t.sliceString(o.to,s)),iY.set(t,new x2(l,a)),new x2(i,a.slice(i-l,s-l))}}class rke{constructor(t,i,s,o,a){this.text=t,this.to=a,this.done=!1,this.value=tke,this.matchPos=VM(t,o),this.re=new RegExp(i,rY+(s?.ignoreCase?"i":"")),this.test=s?.test,this.flat=x2.get(t,o,this.chunkEnd(o+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,i=this.re.exec(this.flat.text);if(i&&!i[0]&&i.index==t&&(this.re.lastIndex=t+1,i=this.re.exec(this.flat.text)),i){let s=this.flat.from+i.index,o=s+i[0].length;if((this.flat.to>=this.to||i.index+i[0].length<=this.flat.text.length-10)&&(!this.test||this.test(s,o,i)))return this.value={from:s,to:o,match:i},this.matchPos=VM(this.text,o+(s==o?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=x2.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function VM(n,t){if(t>=n.length)return t;let s,i=n.lineAt(t);for(;t<i.to&&(s=i.text.charCodeAt(t-i.from))>=56320&&s<57344;)t++;return t}function sY(n){let i=zi("input",{class:"cm-textfield",name:"line",value:String(n.state.doc.lineAt(n.state.selection.main.head).number)});function o(){let a=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(i.value);if(!a)return;let{state:l}=n,c=l.doc.lineAt(l.selection.main.head),[,u,d,p,f]=a,h=p?+p.slice(1):0,m=d?+d:c.number;if(d&&f){let v=m/100;u&&(v=v*("-"==u?-1:1)+c.number/l.doc.lines),m=Math.round(l.doc.lines*v)}else d&&u&&(m=m*("-"==u?-1:1)+c.number);let g=l.doc.line(Math.max(1,Math.min(l.doc.lines,m))),y=lt.cursor(g.from+Math.max(0,Math.min(h,g.length)));n.dispatch({effects:[$M.of(!1),ln.scrollIntoView(y.from,{y:"center"})],selection:y}),n.focus()}return{dom:zi("form",{class:"cm-gotoLine",onkeydown:a=>{27==a.keyCode?(a.preventDefault(),n.dispatch({effects:$M.of(!1)}),n.focus()):13==a.keyCode&&(a.preventDefault(),o())},onsubmit:a=>{a.preventDefault(),o()}},zi("label",n.state.phrase("Go to line"),": ",i)," ",zi("button",{class:"cm-button",type:"submit"},n.state.phrase("go")))}}typeof Symbol<"u"&&(nke.prototype[Symbol.iterator]=rke.prototype[Symbol.iterator]=function(){return this});const $M=_r.define(),ike=ro.define({create:()=>!0,update(n,t){for(let i of t.effects)i.is($M)&&(n=i.value);return n},provide:n=>Dx.from(n,t=>t?sY:null)}),Wtn=ln.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Gtn={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},ske=rn.define({combine:n=>ed(n,Gtn,{highlightWordAroundCursor:(t,i)=>t||i,minSelectionLength:Math.min,maxMatches:Math.min})}),Ytn=bn.mark({class:"cm-selectionMatch"}),Xtn=bn.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function oke(n,t,i,s){return!(0!=i&&n(t.sliceDoc(i-1,i))==as.Word||s!=t.doc.length&&n(t.sliceDoc(s,s+1))==as.Word)}const Qtn=cs.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let t=n.state.facet(ske),{state:i}=n,s=i.selection;if(s.ranges.length>1)return bn.none;let a,o=s.main,l=null;if(o.empty){if(!t.highlightWordAroundCursor)return bn.none;let u=i.wordAt(o.head);if(!u)return bn.none;l=i.charCategorizer(o.head),a=i.sliceDoc(u.from,u.to)}else{let u=o.to-o.from;if(u<t.minSelectionLength||u>200)return bn.none;if(t.wholeWords){if(a=i.sliceDoc(o.from,o.to),l=i.charCategorizer(o.head),!oke(l,i,o.from,o.to)||!function Ztn(n,t,i,s){return n(t.sliceDoc(i,i+1))==as.Word&&n(t.sliceDoc(s-1,s))==as.Word}(l,i,o.from,o.to))return bn.none}else if(a=i.sliceDoc(o.from,o.to),!a)return bn.none}let c=[];for(let u of n.visibleRanges){let d=new w2(i.doc,a,u.from,u.to);for(;!d.next().done;){let{from:p,to:f}=d.value;if((!l||oke(l,i,p,f))&&(o.empty&&p<=o.from&&f>=o.to?c.push(Xtn.range(p,f)):(p>=o.to||f<=o.from)&&c.push(Ytn.range(p,f)),c.length>t.maxMatches))return bn.none}}return bn.set(c)}},{decorations:n=>n.decorations}),Jtn=ln.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),ay=rn.define({combine:n=>ed(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new hnn(t),scrollToMatch:t=>ln.scrollIntoView(t)})});class ake{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function Utn(n){try{return new RegExp(n,rY),!0}catch{return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,(i,s)=>"n"==s?"\n":"r"==s?"\r":"t"==s?"\t":"\\")}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new onn(this):new inn(this)}getCursor(t,i=0,s){let o=t.doc?t:il.create({doc:t});return null==s&&(s=o.doc.length),this.regexp?S2(this,o,i,s):C2(this,o,i,s)}}class lke{constructor(t){this.spec=t}}function C2(n,t,i,s){return new w2(t.doc,n.unquoted,i,s,n.caseSensitive?void 0:o=>o.toLowerCase(),n.wholeWord?function rnn(n,t){return(i,s,o,a)=>((a>i||a+o.length<s)&&(a=Math.max(0,i-2),o=n.sliceString(a,Math.min(n.length,s+2))),!(t(zM(o,i-a))==as.Word&&t(HM(o,i-a))==as.Word||t(HM(o,s-a))==as.Word&&t(zM(o,s-a))==as.Word))}(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}class inn extends lke{constructor(t){super(t)}nextMatch(t,i,s){let o=C2(this.spec,t,s,t.doc.length).nextOverlapping();return o.done&&(o=C2(this.spec,t,0,i).nextOverlapping()),o.done?null:o.value}prevMatchInRange(t,i,s){for(let o=s;;){let a=Math.max(i,o-1e4-this.spec.unquoted.length),l=C2(this.spec,t,a,o),c=null;for(;!l.nextOverlapping().done;)c=l.value;if(c)return c;if(a==i)return null;o-=1e4}}prevMatch(t,i,s){return this.prevMatchInRange(t,0,i)||this.prevMatchInRange(t,s,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,i){let s=C2(this.spec,t,0,t.doc.length),o=[];for(;!s.next().done;){if(o.length>=i)return null;o.push(s.value)}return o}highlight(t,i,s,o){let a=C2(this.spec,t,Math.max(0,i-this.spec.unquoted.length),Math.min(s+this.spec.unquoted.length,t.doc.length));for(;!a.next().done;)o(a.value.from,a.value.to)}}function S2(n,t,i,s){return new nke(t.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?snn(t.charCategorizer(t.selection.main.head)):void 0},i,s)}function zM(n,t){return n.slice(Yo(n,t,!1),t)}function HM(n,t){return n.slice(t,Yo(n,t))}function snn(n){return(t,i,s)=>!s[0].length||(n(zM(s.input,s.index))!=as.Word||n(HM(s.input,s.index))!=as.Word)&&(n(HM(s.input,s.index+s[0].length))!=as.Word||n(zM(s.input,s.index+s[0].length))!=as.Word)}class onn extends lke{nextMatch(t,i,s){let o=S2(this.spec,t,s,t.doc.length).next();return o.done&&(o=S2(this.spec,t,0,i).next()),o.done?null:o.value}prevMatchInRange(t,i,s){for(let o=1;;o++){let a=Math.max(i,s-1e4*o),l=S2(this.spec,t,a,s),c=null;for(;!l.next().done;)c=l.value;if(c&&(a==i||c.from>a+10))return c;if(a==i)return null}}prevMatch(t,i,s){return this.prevMatchInRange(t,0,i)||this.prevMatchInRange(t,s,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(i,s)=>"$"==s?"$":"&"==s?t.match[0]:"0"!=s&&+s<t.match.length?t.match[s]:i)}matchAll(t,i){let s=S2(this.spec,t,0,t.doc.length),o=[];for(;!s.next().done;){if(o.length>=i)return null;o.push(s.value)}return o}highlight(t,i,s,o){let a=S2(this.spec,t,Math.max(0,i-250),Math.min(s+250,t.doc.length));for(;!a.next().done;)o(a.value.from,a.value.to)}}const S4=_r.define(),oY=_r.define(),Ep=ro.define({create:n=>new aY(WM(n).create(),null),update(n,t){for(let i of t.effects)i.is(S4)?n=new aY(i.value.create(),n.panel):i.is(oY)&&(n=new aY(n.query,i.value?lY:null));return n},provide:n=>Dx.from(n,t=>t.panel)});class aY{constructor(t,i){this.query=t,this.panel=i}}const ann=bn.mark({class:"cm-searchMatch"}),lnn=bn.mark({class:"cm-searchMatch cm-searchMatch-selected"}),cnn=cs.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Ep))}update(n){let t=n.state.field(Ep);(t!=n.startState.field(Ep)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:n,panel:t}){if(!t||!n.spec.valid)return bn.none;let{view:i}=this,s=new Rf;for(let o=0,a=i.visibleRanges,l=a.length;o<l;o++){let{from:c,to:u}=a[o];for(;o<l-1&&u>a[o+1].from-500;)u=a[++o].to;n.highlight(i.state,c,u,(d,p)=>{let f=i.state.selection.ranges.some(h=>h.from==d&&h.to==p);s.add(d,p,f?lnn:ann)})}return s.finish()}},{decorations:n=>n.decorations});function O4(n){return t=>{let i=t.state.field(Ep,!1);return i&&i.query.spec.valid?n(t,i):pke(t)}}const UM=O4((n,{query:t})=>{let{to:i}=n.state.selection.main,s=t.nextMatch(n.state,i,i);if(!s)return!1;let o=lt.single(s.from,s.to),a=n.state.facet(ay);return n.dispatch({selection:o,effects:[cY(n,s),a.scrollToMatch(o.main,n)],userEvent:"select.search"}),dke(n),!0}),qM=O4((n,{query:t})=>{let{state:i}=n,{from:s}=i.selection.main,o=t.prevMatch(i,s,s);if(!o)return!1;let a=lt.single(o.from,o.to),l=n.state.facet(ay);return n.dispatch({selection:a,effects:[cY(n,o),l.scrollToMatch(a.main,n)],userEvent:"select.search"}),dke(n),!0}),unn=O4((n,{query:t})=>{let i=t.matchAll(n.state,1e3);return!(!i||!i.length||(n.dispatch({selection:lt.create(i.map(s=>lt.range(s.from,s.to))),userEvent:"select.search.matches"}),0))}),cke=O4((n,{query:t})=>{let{state:i}=n,{from:s,to:o}=i.selection.main;if(i.readOnly)return!1;let a=t.nextMatch(i,s,s);if(!a)return!1;let c,u,l=[],d=[];if(a.from==s&&a.to==o&&(u=i.toText(t.getReplacement(a)),l.push({from:a.from,to:a.to,insert:u}),a=t.nextMatch(i,a.from,a.to),d.push(ln.announce.of(i.phrase("replaced match on line $",i.doc.lineAt(s).number)+"."))),a){let p=0==l.length||l[0].from>=a.to?0:a.to-a.from-u.length;c=lt.single(a.from-p,a.to-p),d.push(cY(n,a)),d.push(i.facet(ay).scrollToMatch(c.main,n))}return n.dispatch({changes:l,selection:c,effects:d,userEvent:"input.replace"}),!0}),pnn=O4((n,{query:t})=>{if(n.state.readOnly)return!1;let i=t.matchAll(n.state,1e9).map(o=>{let{from:a,to:l}=o;return{from:a,to:l,insert:t.getReplacement(o)}});if(!i.length)return!1;let s=n.state.phrase("replaced $ matches",i.length)+".";return n.dispatch({changes:i,effects:ln.announce.of(s),userEvent:"input.replace.all"}),!0});function lY(n){return n.state.facet(ay).createPanel(n)}function WM(n,t){var i,s,o,a,l;let c=n.selection.main,u=c.empty||c.to>c.from+100?"":n.sliceDoc(c.from,c.to);if(t&&!u)return t;let d=n.facet(ay);return new ake({search:(null!==(i=t?.literal)&&void 0!==i?i:d.literal)?u:u.replace(/\n/g,"\\n"),caseSensitive:null!==(s=t?.caseSensitive)&&void 0!==s?s:d.caseSensitive,literal:null!==(o=t?.literal)&&void 0!==o?o:d.literal,regexp:null!==(a=t?.regexp)&&void 0!==a?a:d.regexp,wholeWord:null!==(l=t?.wholeWord)&&void 0!==l?l:d.wholeWord})}function uke(n){let t=Px(n,lY);return t&&t.dom.querySelector("[main-field]")}function dke(n){let t=uke(n);t&&t==n.root.activeElement&&t.select()}const pke=n=>{let t=n.state.field(Ep,!1);if(t&&t.panel){let i=uke(n);if(i&&i!=n.root.activeElement){let s=WM(n.state,t.query.spec);s.valid&&n.dispatch({effects:S4.of(s)}),i.focus(),i.select()}}else n.dispatch({effects:[oY.of(!0),t?S4.of(WM(n.state,t.query.spec)):_r.appendConfig.of(uY)]});return!0},fke=n=>{let t=n.state.field(Ep,!1);if(!t||!t.panel)return!1;let i=Px(n,lY);return i&&i.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:oY.of(!1)}),!0},fnn=[{key:"Mod-f",run:pke,scope:"editor search-panel"},{key:"F3",run:UM,shift:qM,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:UM,shift:qM,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:fke,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:n,dispatch:t})=>{let i=n.selection;if(i.ranges.length>1||i.main.empty)return!1;let{from:s,to:o}=i.main,a=[],l=0;for(let c=new w2(n.doc,n.sliceDoc(s,o));!c.next().done;){if(a.length>1e3)return!1;c.value.from==s&&(l=a.length),a.push(lt.range(c.value.from,c.value.to))}return t(n.update({selection:lt.create(a,l),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:n=>{let t=Px(n,sY);if(!t){let i=[$M.of(!0)];null==n.state.field(ike,!1)&&i.push(_r.appendConfig.of([ike,Wtn])),n.dispatch({effects:i}),t=Px(n,sY)}return t&&t.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:n,dispatch:t})=>{let{ranges:i}=n.selection;if(i.some(a=>a.from===a.to))return(({state:n,dispatch:t})=>{let{selection:i}=n,s=lt.create(i.ranges.map(o=>n.wordAt(o.head)||lt.cursor(o.head)),i.mainIndex);return!s.eq(i)&&(t(n.update({selection:s})),!0)})({state:n,dispatch:t});let s=n.sliceDoc(i[0].from,i[0].to);if(n.selection.ranges.some(a=>n.sliceDoc(a.from,a.to)!=s))return!1;let o=function tnn(n,t){let{main:i,ranges:s}=n.selection,o=n.wordAt(i.head),a=o&&o.from==i.from&&o.to==i.to;for(let l=!1,c=new w2(n.doc,t,s[s.length-1].to);;){if(c.next(),!c.done){if(l&&s.some(u=>u.from==c.value.from))continue;if(a){let u=n.wordAt(c.value.from);if(!u||u.from!=c.value.from||u.to!=c.value.to)continue}return c.value}if(l)return null;c=new w2(n.doc,t,0,Math.max(0,s[s.length-1].from-1)),l=!0}}(n,s);return!!o&&(t(n.update({selection:n.selection.addRange(lt.range(o.from,o.to),!1),effects:ln.scrollIntoView(o.to)})),!0)},preventDefault:!0}];class hnn{constructor(t){this.view=t;let i=this.query=t.state.field(Ep).query.spec;function s(o,a,l){return zi("button",{class:"cm-button",name:o,onclick:a,type:"button"},l)}this.commit=this.commit.bind(this),this.searchField=zi("input",{value:i.search,placeholder:Ic(t,"Find"),"aria-label":Ic(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=zi("input",{value:i.replace,placeholder:Ic(t,"Replace"),"aria-label":Ic(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=zi("input",{type:"checkbox",name:"case",form:"",checked:i.caseSensitive,onchange:this.commit}),this.reField=zi("input",{type:"checkbox",name:"re",form:"",checked:i.regexp,onchange:this.commit}),this.wordField=zi("input",{type:"checkbox",name:"word",form:"",checked:i.wholeWord,onchange:this.commit}),this.dom=zi("div",{onkeydown:o=>this.keydown(o),class:"cm-search"},[this.searchField,s("next",()=>UM(t),[Ic(t,"next")]),s("prev",()=>qM(t),[Ic(t,"previous")]),s("select",()=>unn(t),[Ic(t,"all")]),zi("label",null,[this.caseField,Ic(t,"match case")]),zi("label",null,[this.reField,Ic(t,"regexp")]),zi("label",null,[this.wordField,Ic(t,"by word")]),...t.state.readOnly?[]:[zi("br"),this.replaceField,s("replace",()=>cke(t),[Ic(t,"replace")]),s("replaceAll",()=>pnn(t),[Ic(t,"replace all")])],zi("button",{name:"close",onclick:()=>fke(t),"aria-label":Ic(t,"close"),type:"button"},["\xd7"])])}commit(){let t=new ake({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:S4.of(t)}))}keydown(t){!function p1t(n,t,i){return pbe(dbe(n.state),t,n,i)}(this.view,t,"search-panel")?13==t.keyCode&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?qM:UM)(this.view)):13==t.keyCode&&t.target==this.replaceField&&(t.preventDefault(),cke(this.view)):t.preventDefault()}update(t){for(let i of t.transactions)for(let s of i.effects)s.is(S4)&&!s.value.eq(this.query)&&this.setQuery(s.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(ay).top}}function Ic(n,t){return n.state.phrase(t)}const GM=30,KM=/[\s\.,:;?!]/;function cY(n,{from:t,to:i}){let s=n.state.doc.lineAt(t),o=n.state.doc.lineAt(i).to,a=Math.max(s.from,t-GM),l=Math.min(o,i+GM),c=n.state.sliceDoc(a,l);if(a!=s.from)for(let u=0;u<GM;u++)if(!KM.test(c[u+1])&&KM.test(c[u])){c=c.slice(u);break}if(l!=o)for(let u=c.length-1;u>c.length-GM;u--)if(!KM.test(c[u-1])&&KM.test(c[u])){c=c.slice(0,u);break}return ln.announce.of(`${n.state.phrase("current match")}. ${c} ${n.state.phrase("on line")} ${s.number}.`)}const mnn=ln.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),uY=[Ep,Af.low(cnn),mnn],YM=[c$(),function uyt(){return cyt}(),function P1t(n={}){return[TP.of(n),Ebe||(Ebe=cs.fromClass(class{constructor(n){this.view=n,this.decorations=bn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(TP)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new e$({regexp:n.specialChars,decoration:(t,i,s)=>{let{doc:o}=i.state,a=Xo(t[0],0);if(9==a){let l=o.lineAt(s),c=i.state.tabSize,u=jb(l.text,c,s-l.from);return bn.replace({widget:new I1t((c-u%c)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=bn.replace({widget:new A1t(n,a)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let t=n.state.facet(TP);n.startState.facet(TP)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))]}(),function dbt(n={}){return[V$,q_e.of(n),ln.domEventHandlers({beforeinput(t,i){let s="historyUndo"==t.inputType?W_e:"historyRedo"==t.inputType?$$:null;return!!s&&(t.preventDefault(),s(i))}})]}(),function Byt(n={}){let t=Object.assign(Object.assign({},Fyt),n),i=new y$(t,!0),s=new y$(t,!1),o=cs.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(N0)!=l.state.facet(N0)||l.startState.field(L0,!1)!=l.state.field(L0,!1)||Ci(l.startState)!=Ci(l.state)||t.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let c=new Rf;for(let u of l.viewportLineBlocks){let d=Fx(l.state,u.from,u.to)?s:Nx(l.state,u.from,u.to)?i:null;d&&c.add(u.from,u.from,d)}return c.finish()}}),{domEventHandlers:a}=t;return[o,Mbe({class:"cm-foldGutter",markers(l){var c;return(null===(c=l.plugin(o))||void 0===c?void 0:c.markers)||ls.empty},initialSpacer:()=>new y$(t,!1),domEventHandlers:Object.assign(Object.assign({},a),{click:(l,c,u)=>{if(a.click&&a.click(l,c,u))return!0;let d=Fx(l.state,c.from,c.to);if(d)return l.dispatch({effects:Qb.of(d)}),!0;let p=Nx(l.state,c.from,c.to);return!!p&&(l.dispatch({effects:Lx.of(p)}),!0)}})}),Ybe()]}(),function v1t(n={}){return[Wb.of(n),b1t,_1t,E1t,hve.of(!0)]}(),function x1t(){return[Sx,w1t]}(),il.allowMultipleSelections.of(!0),f$(),Bx(zyt,{fallback:!0}),b$(),N$(),$_e(),function $1t(n){let t=n?.eventFilter||(i=>i.altKey&&0==i.button);return ln.mouseSelectionStyle.of((i,s)=>t(s)?function V1t(n,t){let i=Cbe(n,t),s=n.state.selection;return i?{update(o){if(o.docChanged){let a=o.changes.mapPos(o.startState.doc.line(i.line).from),l=o.state.doc.lineAt(a);i={line:l.number,col:i.col,off:Math.min(i.off,l.length)},s=s.map(o.changes)}},get(o,a,l){let c=Cbe(n,o);if(!c)return s;let u=function B1t(n,t,i){let s=Math.min(t.line,i.line),o=Math.max(t.line,i.line),a=[];if(t.off>2e3||i.off>2e3||t.col<0||i.col<0){let l=Math.min(t.off,i.off),c=Math.max(t.off,i.off);for(let u=s;u<=o;u++){let d=n.doc.line(u);d.length<=c&&a.push(lt.range(d.from+l,d.to+c))}}else{let l=Math.min(t.col,i.col),c=Math.max(t.col,i.col);for(let u=s;u<=o;u++){let d=n.doc.line(u),p=mV(d.text,l,n.tabSize,!0);if(p<0)a.push(lt.cursor(d.to));else{let f=mV(d.text,c,n.tabSize);a.push(lt.range(d.from+p,d.from+f))}}}return a}(n.state,i,c);return u.length?lt.create(l?u.concat(s.ranges):u):s}}:null}(i,s):null)}(),function U1t(n={}){let[t,i]=z1t[n.key||"Alt"],s=cs.fromClass(class{constructor(o){this.view=o,this.isDown=!1}set(o){this.isDown!=o&&(this.isDown=o,this.view.update([]))}},{eventObservers:{keydown(o){this.set(o.keyCode==t||i(o))},keyup(o){(o.keyCode==t||!i(o))&&this.set(!1)},mousemove(o){this.set(i(o))}}});return[s,ln.contentAttributes.of(o=>{var a;return null!==(a=o.plugin(s))&&void 0!==a&&a.isDown?H1t:null})]}(),function R1t(){return L1t}(),function Ktn(n){let t=[Jtn,Qtn];return n&&t.push(ske.of(n)),t}(),qb.of([...Kvt,...Y$,...fnn,..._bt,...Ryt,...z_e,...y_t])];function Snn(n){return 45==n||46==n||58==n||n>=65&&n<=90||95==n||n>=97&&n<=122||n>=161}function Onn(n){return 9==n||10==n||13==n||32==n}let hke=null,mke=null,gke=0;function pY(n,t){let i=n.pos+t;if(mke==n&&gke==i)return hke;for(;Onn(n.peek(t));)t++;let s="";for(;;){let o=n.peek(t);if(!Snn(o))break;s+=String.fromCharCode(o),t++}return mke=n,gke=i,hke=s||null}function yke(n,t){this.name=n,this.parent=t,this.hash=t?t.hash:0;for(let i=0;i<n.length;i++)this.hash+=(this.hash<<4)+n.charCodeAt(i)+(n.charCodeAt(i)<<8)}const Tnn=new vj({start:null,shift:(n,t,i,s)=>1==t?new yke(pY(s,1)||"",n):n,reduce:(n,t)=>11==t&&n?n.parent:n,reuse(n,t,i,s){let o=t.type.id;return 1==o||13==o?new yke(pY(s,1)||"",n):n},hash:n=>n?n.hash:0,strict:!1}),Pnn=new b0((n,t)=>{if(60==n.next)if(n.advance(),47==n.next){n.advance();let i=pY(n,0);if(!i)return n.acceptToken(5);if(t.context&&i==t.context.name)return n.acceptToken(2);for(let s=t.context;s;s=s.parent)if(s.name==i)return n.acceptToken(3,-2);n.acceptToken(4)}else if(33!=n.next&&63!=n.next)return n.acceptToken(1)},{contextual:!0});function fY(n,t){return new b0(i=>{let s=0,o=t.charCodeAt(0);e:for(;!(i.next<0);i.advance(),s++)if(i.next==o){for(let a=1;a<t.length;a++)if(i.peek(a)!=t.charCodeAt(a))continue e;break}s&&i.acceptToken(n)})}const Dnn=fY(35,"--\x3e"),knn=fY(36,"?>"),Mnn=fY(37,"]]>"),Ann=Gg({Text:oe.content,"StartTag StartCloseTag EndTag SelfCloseEndTag":oe.angleBracket,TagName:oe.tagName,"MismatchedCloseTag/TagName":[oe.tagName,oe.invalid],AttributeName:oe.attributeName,AttributeValue:oe.attributeValue,Is:oe.definitionOperator,"EntityReference CharacterReference":oe.character,Comment:oe.blockComment,ProcessingInst:oe.processingInstruction,DoctypeDecl:oe.documentMeta,Cdata:oe.special(oe.string)}),Inn=Wg.deserialize({version:14,states:",SOQOaOOOrOxO'#CfOzOpO'#CiO!tOaO'#CgOOOP'#Cg'#CgO!{OrO'#CrO#TOtO'#CsO#]OpO'#CtOOOP'#DS'#DSOOOP'#Cv'#CvQQOaOOOOOW'#Cw'#CwO#eOxO,59QOOOP,59Q,59QOOOO'#Cx'#CxO#mOpO,59TO#uO!bO,59TOOOP'#C{'#C{O$TOaO,59RO$[OpO'#CoOOOP,59R,59ROOOQ'#C|'#C|O$dOrO,59^OOOP,59^,59^OOOS'#C}'#C}O$lOtO,59_OOOP,59_,59_O$tOpO,59`O$|OpO,59`OOOP-E6t-E6tOOOW-E6u-E6uOOOP1G.l1G.lOOOO-E6v-E6vO%UO!bO1G.oO%UO!bO1G.oO%dOpO'#CkO%lO!bO'#CyO%zO!bO1G.oOOOP1G.o1G.oOOOP1G.w1G.wOOOP-E6y-E6yOOOP1G.m1G.mO&VOpO,59ZO&_OpO,59ZOOOQ-E6z-E6zOOOP1G.x1G.xOOOS-E6{-E6{OOOP1G.y1G.yO&gOpO1G.zO&gOpO1G.zOOOP1G.z1G.zO&oO!bO7+$ZO&}O!bO7+$ZOOOP7+$Z7+$ZOOOP7+$c7+$cO'YOpO,59VO'bOpO,59VO'jO!bO,59eOOOO-E6w-E6wO'xOpO1G.uO'xOpO1G.uOOOP1G.u1G.uO(QOpO7+$fOOOP7+$f7+$fO(YO!bO<<GuOOOP<<Gu<<GuOOOP<<G}<<G}O'bOpO1G.qO'bOpO1G.qO(eO#tO'#CnOOOO1G.q1G.qO(sOpO7+$aOOOP7+$a7+$aOOOP<<HQ<<HQOOOPAN=aAN=aOOOPAN=iAN=iO'bOpO7+$]OOOO7+$]7+$]OOOO'#Cz'#CzO({O#tO,59YOOOO,59Y,59YOOOP<<G{<<G{OOOO<<Gw<<GwOOOO-E6x-E6xOOOO1G.t1G.t",stateData:")Z~OPQOSVOTWOVWOWWOXWOiXOxPO}TO!PUO~OuZOw]O~O^`Oy^O~OPQOQcOSVOTWOVWOWWOXWOxPO}TO!PUO~ORdO~P!SOseO|gO~OthO!OjO~O^lOy^O~OuZOwoO~O^qOy^O~O[vO`sOdwOy^O~ORyO~P!SO^{Oy^O~OseO|}O~OthO!O!PO~O^!QOy^O~O[!SOy^O~O[!VO`sOd!WOy^O~Oa!YOy^O~Oy^O[mX`mXdmX~O[!VO`sOd!WO~O^!]Oy^O~O[!_Oy^O~O[!aOy^O~O[!cO`sOd!dOy^O~O[!cO`sOd!dO~Oa!eOy^O~Oy^Oz!gO~Oy^O[ma`madma~O[!jOy^O~O[!kOy^O~O[!lO`sOd!mO~OW!pOX!pOz!rO{!pO~O[!sOy^O~OW!pOX!pOz!vO{!pO~O",goto:"%[wPPPPPPPPPPxxP!OP!UPP!_!iP!oxxxP!u!{#R$Z$j$p$v$|PPPP%SXWORYbXRORYb_t`qru!T!U!bQ!h!YS!o!e!fR!t!nQdRRybXSORYbQYORmYQ[PRn[Q_QQkVjp_krz!R!T!X!Z!^!`!f!i!nQr`QzcQ!RlQ!TqQ!XsQ!ZtQ!^{Q!`!QQ!f!YQ!i!]R!n!eQu`S!UqrU![u!U!bR!b!TQ!q!gR!u!qQbRRxbQfTR|fQiUR!OiSXOYTaRb",nodeNames:"\u26a0 StartTag StartCloseTag MissingCloseTag StartCloseTag StartCloseTag Document Text EntityReference CharacterReference Cdata Element EndTag OpenTag TagName Attribute AttributeName Is AttributeValue CloseTag SelfCloseEndTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag DoctypeDecl",maxTerm:47,context:Tnn,nodeProps:[["closedBy",1,"SelfCloseEndTag EndTag",13,"CloseTag MissingCloseTag"],["openedBy",12,"StartTag StartCloseTag",19,"OpenTag",20,"StartTag"],["isolate",-6,13,18,19,21,22,24,""]],propSources:[Ann],skippedNodes:[0],repeatNodeCount:8,tokenData:"Jy~R!XOX$nXY&kYZ&kZ]$n]^&k^p$npq&kqr$nrs'ssv$nvw(Zw}$n}!O,^!O!P$n!P!Q.m!Q![$n![!]0V!]!^$n!^!_3h!_!`El!`!aF_!a!bGQ!b!c$n!c!}0V!}#P$n#P#QHj#Q#R$n#R#S0V#S#T$n#T#o0V#o%W$n%W%o0V%o%p$n%p&a0V&a&b$n&b1p0V1p4U$n4U4d0V4d4e$n4e$IS0V$IS$I`$n$I`$Ib0V$Ib$Kh$n$Kh%#t0V%#t&/x$n&/x&Et0V&Et&FV$n&FV;'S0V;'S;:j3b;:j;=`&e<%l?&r$n?&r?Ah0V?Ah?BY$n?BY?Mn0V?MnO$nX$uWVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nP%dTVPOv%_w!^%_!_;'S%_;'S;=`%s<%lO%_P%vP;=`<%l%_W&OT{WOr%ysv%yw;'S%y;'S;=`&_<%lO%yW&bP;=`<%l%yX&hP;=`<%l$n_&t_VP{WyUOX$nXY&kYZ&kZ]$n]^&k^p$npq&kqr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nZ'zTzYVPOv%_w!^%_!_;'S%_;'S;=`%s<%lO%_~(^ast)c![!]*g!c!}*g#R#S*g#T#o*g%W%o*g%p&a*g&b1p*g4U4d*g4e$IS*g$I`$Ib*g$Kh%#t*g&/x&Et*g&FV;'S*g;'S;:j,W?&r?Ah*g?BY?Mn*g~)fQ!Q![)l#l#m)z~)oQ!Q![)l!]!^)u~)zOX~~)}R!Q![*W!c!i*W#T#Z*W~*ZS!Q![*W!]!^)u!c!i*W#T#Z*W~*jg}!O*g!O!P*g!Q![*g![!]*g!]!^,R!c!}*g#R#S*g#T#o*g$}%O*g%W%o*g%p&a*g&b1p*g1p4U*g4U4d*g4e$IS*g$I`$Ib*g$Je$Jg*g$Kh%#t*g&/x&Et*g&FV;'S*g;'S;:j,W?&r?Ah*g?BY?Mn*g~,WOW~~,ZP;=`<%l*gZ,eYVP{WOr$nrs%_sv$nw}$n}!O-T!O!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nZ-[YVP{WOr$nrs%_sv$nw!^$n!^!_%y!_!`$n!`!a-z!a;'S$n;'S;=`&e<%lO$nZ.TW|QVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$n].tYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_!`$n!`!a/d!a;'S$n;'S;=`&e<%lO$n]/mWdSVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$n_0b!O`S^QVP{WOr$nrs%_sv$nw}$n}!O0V!O!P0V!P!Q$n!Q![0V![!]0V!]!^$n!^!_%y!_!c$n!c!}0V!}#R$n#R#S0V#S#T$n#T#o0V#o$}$n$}%O0V%O%W$n%W%o0V%o%p$n%p&a0V&a&b$n&b1p0V1p4U0V4U4d0V4d4e$n4e$IS0V$IS$I`$n$I`$Ib0V$Ib$Je$n$Je$Jg0V$Jg$Kh$n$Kh%#t0V%#t&/x$n&/x&Et0V&Et&FV$n&FV;'S0V;'S;:j3b;:j;=`&e<%l?&r$n?&r?Ah0V?Ah?BY$n?BY?Mn0V?MnO$n_3eP;=`<%l0VX3mW{WOq%yqr4Vsv%yw!a%y!a!bEU!b;'S%y;'S;=`&_<%lO%yX4[]{WOr%ysv%yw}%y}!O5T!O!f%y!f!g6V!g!}%y!}#O;f#O#W%y#W#XAr#X;'S%y;'S;=`&_<%lO%yX5YV{WOr%ysv%yw}%y}!O5o!O;'S%y;'S;=`&_<%lO%yX5vT}P{WOr%ysv%yw;'S%y;'S;=`&_<%lO%yX6[V{WOr%ysv%yw!q%y!q!r6q!r;'S%y;'S;=`&_<%lO%yX6vV{WOr%ysv%yw!e%y!e!f7]!f;'S%y;'S;=`&_<%lO%yX7bV{WOr%ysv%yw!v%y!v!w7w!w;'S%y;'S;=`&_<%lO%yX7|V{WOr%ysv%yw!{%y!{!|8c!|;'S%y;'S;=`&_<%lO%yX8hV{WOr%ysv%yw!r%y!r!s8}!s;'S%y;'S;=`&_<%lO%yX9SV{WOr%ysv%yw!g%y!g!h9i!h;'S%y;'S;=`&_<%lO%yX9nX{WOr9irs:Zsv9ivw:Zw!`9i!`!a:x!a;'S9i;'S;=`;`<%lO9iP:^TO!`:Z!`!a:m!a;'S:Z;'S;=`:r<%lO:ZP:rOiPP:uP;=`<%l:ZX;PTiP{WOr%ysv%yw;'S%y;'S;=`&_<%lO%yX;cP;=`<%l9iX;kX{WOr%ysv%yw!e%y!e!f<W!f#V%y#V#W?f#W;'S%y;'S;=`&_<%lO%yX<]V{WOr%ysv%yw!f%y!f!g<r!g;'S%y;'S;=`&_<%lO%yX<wV{WOr%ysv%yw!c%y!c!d=^!d;'S%y;'S;=`&_<%lO%yX=cV{WOr%ysv%yw!v%y!v!w=x!w;'S%y;'S;=`&_<%lO%yX=}V{WOr%ysv%yw!c%y!c!d>d!d;'S%y;'S;=`&_<%lO%yX>iV{WOr%ysv%yw!}%y!}#O?O#O;'S%y;'S;=`&_<%lO%yX?VT{WxPOr%ysv%yw;'S%y;'S;=`&_<%lO%yX?kV{WOr%ysv%yw#W%y#W#X@Q#X;'S%y;'S;=`&_<%lO%yX@VV{WOr%ysv%yw#T%y#T#U@l#U;'S%y;'S;=`&_<%lO%yX@qV{WOr%ysv%yw#h%y#h#iAW#i;'S%y;'S;=`&_<%lO%yXA]V{WOr%ysv%yw#T%y#T#U>d#U;'S%y;'S;=`&_<%lO%yXAwV{WOr%ysv%yw#c%y#c#dB^#d;'S%y;'S;=`&_<%lO%yXBcV{WOr%ysv%yw#V%y#V#WBx#W;'S%y;'S;=`&_<%lO%yXB}V{WOr%ysv%yw#h%y#h#iCd#i;'S%y;'S;=`&_<%lO%yXCiV{WOr%ysv%yw#m%y#m#nDO#n;'S%y;'S;=`&_<%lO%yXDTV{WOr%ysv%yw#d%y#d#eDj#e;'S%y;'S;=`&_<%lO%yXDoV{WOr%ysv%yw#X%y#X#Y9i#Y;'S%y;'S;=`&_<%lO%yXE]T!PP{WOr%ysv%yw;'S%y;'S;=`&_<%lO%yZEuWaQVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$n_FhW[UVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nZGXYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_!`$n!`!aGw!a;'S$n;'S;=`&e<%lO$nZHQW!OQVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nZHqYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_#P$n#P#QIa#Q;'S$n;'S;=`&e<%lO$nZIhYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_!`$n!`!aJW!a;'S$n;'S;=`&e<%lO$nZJaWwQVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$n",tokenizers:[Pnn,Dnn,knn,Mnn,0,1,2,3],topRules:{Document:[0,6]},tokenPrec:0});function XM(n,t){let i=t&&t.getChild("TagName");return i?n.sliceString(i.from,i.to):""}function hY(n,t){let i=t&&t.firstChild;return i&&"OpenTag"==i.name?XM(n,i):""}function mY(n){for(let t=n&&n.parent;t;t=t.parent)if("Element"==t.name)return t;return null}class Lnn{constructor(t,i,s){this.attrs=i,this.attrValues=s,this.children=[],this.name=t.name,this.completion=Object.assign(Object.assign({type:"type"},t.completion||{}),{label:this.name}),this.openCompletion=Object.assign(Object.assign({},this.completion),{label:"<"+this.name}),this.closeCompletion=Object.assign(Object.assign({},this.completion),{label:"</"+this.name+">",boost:2}),this.closeNameCompletion=Object.assign(Object.assign({},this.completion),{label:this.name+">"}),this.text=t.textContent?t.textContent.map(o=>({label:o,type:"text"})):[]}}const gY=/^[:\-\.\w\u00b7-\uffff]*$/;function vke(n){return Object.assign(Object.assign({type:"property"},n.completion||{}),{label:n.name})}function bke(n){return"string"==typeof n?{label:`"${n}"`,type:"constant"}:/^"/.test(n.label)?n:Object.assign(Object.assign({},n),{label:`"${n.label}"`})}function Fnn(n,t){let i=[],s=[],o=Object.create(null);for(let u of t){let d=vke(u);i.push(d),u.global&&s.push(d),u.values&&(o[u.name]=u.values.map(bke))}let a=[],l=[],c=Object.create(null);for(let u of n){let d=s,p=o;u.attributes&&(d=d.concat(u.attributes.map(h=>"string"==typeof h?i.find(m=>m.label==h)||{label:h,type:"property"}:(h.values&&(p==o&&(p=Object.create(p)),p[h.name]=h.values.map(bke)),vke(h)))));let f=new Lnn(u,d,p);c[f.name]=f,a.push(f),u.top&&l.push(f)}l.length||(l=a);for(let u=0;u<a.length;u++){let d=n[u],p=a[u];if(d.children)for(let f of d.children)c[f]&&p.children.push(c[f]);else p.children=a}return u=>{var d;let{doc:p}=u.state,f=function Nnn(n,t){var i;let s=Ci(n).resolveInner(t,-1),o=null;for(let a=s;!o&&a.parent;a=a.parent)("OpenTag"==a.name||"CloseTag"==a.name||"SelfClosingTag"==a.name||"MismatchedCloseTag"==a.name)&&(o=a);if(o&&(o.to>t||o.lastChild.type.isError)){let a=o.parent;if("TagName"==s.name)return"CloseTag"==o.name||"MismatchedCloseTag"==o.name?{type:"closeTag",from:s.from,context:a}:{type:"openTag",from:s.from,context:mY(a)};if("AttributeName"==s.name)return{type:"attrName",from:s.from,context:o};if("AttributeValue"==s.name)return{type:"attrValue",from:s.from,context:o};let l=s==o||"Attribute"==s.name?s.childBefore(t):s;return"StartTag"==l?.name?{type:"openTag",from:t,context:mY(a)}:"StartCloseTag"==l?.name&&l.to<=t?{type:"closeTag",from:t,context:a}:"Is"==l?.name?{type:"attrValue",from:t,context:o}:l?{type:"attrName",from:t,context:o}:null}if("StartCloseTag"==s.name)return{type:"closeTag",from:t,context:s.parent};for(;s.parent&&s.to==t&&(null===(i=s.lastChild)||void 0===i||!i.type.isError);)s=s.parent;return"Element"==s.name||"Text"==s.name||"Document"==s.name?{type:"tag",from:t,context:"Element"==s.name?s:mY(s)}:null}(u.state,u.pos);if(!f||"tag"==f.type&&!u.explicit)return null;let{type:h,from:m,context:g}=f;if("openTag"==h){let y=l,v=hY(p,g);if(v){let _=c[v];y=_?.children||a}return{from:m,options:y.map(_=>_.completion),validFor:gY}}if("closeTag"==h){let y=hY(p,g);return y?{from:m,to:u.pos+(">"==p.sliceString(u.pos,u.pos+1)?1:0),options:[(null===(d=c[y])||void 0===d?void 0:d.closeNameCompletion)||{label:y+">",type:"type"}],validFor:gY}:null}if("attrName"==h){let y=c[XM(p,g)];return{from:m,options:y?.attrs||s,validFor:gY}}if("attrValue"==h){let y=function Rnn(n,t,i){let s=t&&t.getChildren("Attribute").find(a=>a.from<=i&&a.to>=i),o=s&&s.getChild("AttributeName");return o?n.sliceString(o.from,o.to):""}(p,g,m);if(!y)return null;let v=c[XM(p,g)],_=(v?.attrValues||o)[y];return _&&_.length?{from:m,to:u.pos+('"'==p.sliceString(u.pos,u.pos+1)?1:0),options:_,validFor:/^"[^"]*"?$/}:null}if("tag"==h){let y=hY(p,g),v=c[y],_=[],E=g&&g.lastChild;y&&(!E||"CloseTag"!=E.name||XM(p,E)!=y)&&_.push(v?v.closeCompletion:{label:"</"+y+">",type:"type",boost:2});let x=_.concat((v?.children||(g?a:l)).map(b=>b.openCompletion));if(g&&v?.text.length){let b=g.firstChild;b.to>u.pos-20&&!/\S/.test(u.state.sliceDoc(b.to,u.pos))&&(x=x.concat(v.text))}return{from:m,options:x,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}return null}}const yY=d1.define({name:"xml",parser:Inn.configure({props:[BP.add({Element(n){let t=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(t?0:n.unit)},"OpenTag CloseTag SelfClosingTag":n=>n.column(n.node.from)+n.unit}),Rx.add({Element(n){let t=n.firstChild,i=n.lastChild;return t&&"OpenTag"==t.name?{from:t.to,to:"CloseTag"==i.name?i.from:n.to}:null}}),n_e.add({"OpenTag CloseTag":n=>n.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"\x3c!--",close:"--\x3e"}},indentOnInput:/^\s*<\/$/}});function Bnn(n={}){let t=[yY.data.of({autocomplete:Fnn(n.elements||[],n.attributes||[])})];return!1!==n.autoCloseTags&&t.push(jnn),new NP(yY,t)}function _ke(n,t,i=n.length){if(!t)return"";let s=t.firstChild,o=s&&s.getChild("TagName");return o?n.sliceString(o.from,Math.min(o.to,i)):""}const jnn=ln.inputHandler.of((n,t,i,s,o)=>{if(n.composing||n.state.readOnly||t!=i||">"!=s&&"/"!=s||!yY.isActiveAt(n.state,t,-1))return!1;let a=o(),{state:l}=a,c=l.changeByRange(u=>{var d,p,f;let y,{head:h}=u,m=l.doc.sliceString(h-1,h)==s,g=Ci(l).resolveInner(h,-1);if(m&&">"==s&&"EndTag"==g.name){let v=g.parent;if("CloseTag"!=(null===(p=null===(d=v.parent)||void 0===d?void 0:d.lastChild)||void 0===p?void 0:p.name)&&(y=_ke(l.doc,v.parent,h)))return{range:u,changes:{from:h,to:h+(">"===l.doc.sliceString(h,h+1)?1:0),insert:`</${y}>`}}}else if(m&&"/"==s&&"StartCloseTag"==g.name){let v=g.parent;if(g.from==h-2&&"CloseTag"!=(null===(f=v.lastChild)||void 0===f?void 0:f.name)&&(y=_ke(l.doc,v,h))){let _=h+(">"===l.doc.sliceString(h,h+1)?1:0),E=`${y}>`;return{range:lt.cursor(h+E.length,-1),changes:{from:h,to:_,insert:E}}}}return{range:u}});return!c.changes.empty&&(n.dispatch([a,l.update(c,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Vnn=["viewer"],$nn=["dmn"],znn=["dmnProperties"],Hnn=["jsonDepDefinition"],Unn=["modelerDepDefinition"],qnn=["modelerProperties"];function Wnn(n,t){if(1&n){const i=wn();ne(0,"div",37)(1,"button",38),Mt("click",function(){const o=mt(i).$implicit;return gt(Je().openDef(o))}),Se(2),ie(),ne(3,"button",36),Mt("click",function(){const o=mt(i).$implicit;return gt(Je().toggleEditDep(o))}),qt(4,"i",39),ie()()}if(2&n){const i=t.$implicit;qe(2),Pd(i)}}function Gnn(n,t){if(1&n){const i=wn();ne(0,"button",40),Mt("click",function(){const o=mt(i).$implicit;return gt(Je().openDmn(o))}),Se(1),ie()}if(2&n){const i=t.$implicit;qe(),Pd(i)}}function Knn(n,t){if(1&n&&(ne(0,"div",22),Se(1),ie()),2&n){const i=Je();qe(),qs(" Do you want to add a step for ",i.selectedElt.id," into the current scenario ? ")}}function Ynn(n,t){if(1&n&&(ne(0,"option",44),Se(1),ie()),2&n){const i=t.$implicit;E6("value",i.id),qe(),pv("",i.name," (",i.id,")")}}function Xnn(n,t){if(1&n){const i=wn();ne(0,"div",22),Se(1,' To manage Intermediate catch event, you should add a Post Step activity in the previous task. Please select the activity that will "host" this post step : '),ne(2,"div",41)(3,"span",28),Se(4,"Hosting activity"),ie(),ne(5,"select",42),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.intermediateCatchEventSource,o)||(a.intermediateCatchEventSource=o),gt(o)}),Pn(6,Ynn,2,3,"option",43),ie()()()}if(2&n){const i=Je();qe(5),Dn("ngModel",i.intermediateCatchEventSource),qe(),En("ngForOf",i.origins)}}function Znn(n,t){1&n&&(ne(0,"div",22),Se(1," To manage a boundary event, you should add a Pre Step activity in the parent task. Do you want to create that Pre Step ? "),ie())}function Qnn(n,t){if(1&n){const i=wn();ne(0,"button",36),Mt("click",function(){return mt(i),gt(Je().createStep())}),qt(1,"i",45),Se(2," Create"),ie()}}let Jnn=(()=>{class n{constructor(i){this.execPlanService=i,this.showDmn=!1,this.xmlDeps=["Main definition"],this.dmnDeps=[],this.currentDmn="",this.currentDep="Main definition",this.selectedElt=null,this.origins=[],this.addDepModal=!1,this.editDepModal=!1,this.editDepType="modeler",this.selectActivity=s=>{this.selectedElt=s.element,this.execPlanService.isManagedActivity(this.selectedElt.type)&&!this.execPlanService.scenario.steps[s.element.id]?this.opennewstepModal():this.execPlanService.selectActivity(this.selectedElt.id)},this.execPlanService.activitySubject.subscribe(s=>{this.colorSelectedActivity(s)})}colorSelectedActivity(i){if(this.viewer&&this.execPlanService.scenario){let s=[];for(let a in this.execPlanService.scenario.steps)this.colorActivity(a,"#009900"),s.push(a);this.viewer.get("elementRegistry").forEach(a=>{this.execPlanService.isManagedActivity(a.type)&&s.indexOf(a.id)<0&&this.colorActivity(a.id,"#000000")}),this.previousActivity=i,this.colorActivity(i,"#00CCFF")}}ngOnInit(){if(this.execPlanService.executionPlan.xmlDependencies)for(let i in this.execPlanService.executionPlan.xmlDependencies)this.xmlDeps.push(i);if(this.execPlanService.executionPlan.dmnDependencies)for(let i in this.execPlanService.executionPlan.dmnDependencies)this.dmnDeps.push(i)}ngAfterViewInit(){this.viewer=new _g({container:this.viewerElt.nativeElement,height:400,additionalModules:[cO]}),this.viewer.importXML(this.execPlanService.executionPlan.xml).then(i=>{this.colorSelectedActivity("blop")}),this.viewer.on("element.click",this.selectActivity),this.viewer.on("canvas.viewbox.changing",()=>{})}openDef(i){this.showDmn=!1,this.currentDep=i,"Main definition"==i?this.viewer.importXML(this.execPlanService.executionPlan.xml).then(s=>{this.colorSelectedActivity("blop")}):this.viewer.importXML(this.execPlanService.executionPlan.xmlDependencies[i]).then(s=>{this.colorSelectedActivity("blop")})}buildDmnEditor(){this.showDmn=!0,this.dmnEditor||(this.dmnEditor=new Htn({container:this.dmnElt.nativeElement,drd:{propertiesPanel:{parent:this.dmnPropElt.nativeElement}},height:400,width:"100%",keyboard:{bindTo:window}}))}openDmn(i){this.buildDmnEditor(),this.currentDmn=i;let s=this.dmnEditor;this.dmnEditor.importXML(this.execPlanService.executionPlan.dmnDependencies[i],function(o){"drd"===s.getActiveView().type&&s.getActiveViewer()})}colorActivity(i,s){const o=this.viewer?.get("elementRegistry"),a=this.viewer?.get("graphicsFactory"),l=o?.get(i);if(void 0!==l?.di){l.di.set("stroke",s);const c=o?.getGraphics(l);void 0!==c&&a?.update("connection",l,c)}}findOrigins(i){let s=[];for(let o of i.incoming)"bpmn:ServiceTask"==o.sourceRef.$type||"bpmn:UserTask"==o.sourceRef.$type?s.push(o.sourceRef):s=s.concat(this.findOrigins(o.sourceRef));return s}opennewstepModal(){this.origins=[],"bpmn:IntermediateCatchEvent"==this.selectedElt.type&&(this.origins=this.findOrigins(this.selectedElt.businessObject),this.origins&&this.origins.length>0&&(this.intermediateCatchEventSource=this.origins[0].id)),window.bootstrap.Modal.getOrCreateInstance(document.getElementById("newstep")).show()}closenewstepModal(){window.bootstrap.Modal.getInstance(document.getElementById("newstep")).hide()}createStep(){if("bpmn:BoundaryEvent"==this.selectedElt.type){let i=this.selectedElt.businessObject.eventDefinitions[0].$type,s=this.selectedElt.businessObject.attachedToRef.id;if("bpmn:MessageEventDefinition"==i)this.execPlanService.createPreStepInScenario(s,"MSG",this.selectedElt.businessObject.eventDefinitions[0].messageRef,3600);else if("bpmn:TimerEventDefinition"==i){let o=this.selectedElt.businessObject.eventDefinitions[0],a="PT10M";o.timeCycle?a=o.timeCycle.body.substring(2):o.timeDuration&&(a=o.timeDuration.body),this.execPlanService.createPreStepInScenario(s,"CLOCK",null,a)}else"bpmn:ErrorEventDefinition"==i?this.execPlanService.createPreStepInScenario(s,"BPMN_ERROR",this.selectedElt.businessObject.eventDefinitions[0].errorRef,1):"bpmn:SignalEventDefinition"==i?this.execPlanService.createPreStepInScenario(s,"SIGNAL",this.selectedElt.businessObject.eventDefinitions[0].signalRef,1):alert("Implementation for the type "+i+" is missing.")}else if("bpmn:IntermediateCatchEvent"==this.selectedElt.type){let i=this.selectedElt.businessObject.eventDefinitions[0].$type;"bpmn:MessageEventDefinition"==i?this.execPlanService.createPostStepInScenario(this.intermediateCatchEventSource,"MSG",this.selectedElt.businessObject.eventDefinitions[0].messageRef,3600):"bpmn:TimerEventDefinition"==i?this.execPlanService.createPostStepInScenario(this.intermediateCatchEventSource,"CLOCK",null,this.selectedElt.businessObject.eventDefinitions[0].timeDuration.body):"bpmn:ErrorEventDefinition"==i?this.execPlanService.createPostStepInScenario(this.intermediateCatchEventSource,"BPMN_ERROR",this.selectedElt.businessObject.eventDefinitions[0].errorRef,1):"bpmn:SignalEventDefinition"==i?this.execPlanService.createPostStepInScenario(this.intermediateCatchEventSource,"SIGNAL",this.selectedElt.businessObject.eventDefinitions[0].signalRef,1):alert("Implementation for the type "+i+" is missing.")}else this.execPlanService.createStepInScenario(this.selectedElt.id);this.closenewstepModal()}toggleAddDep(){this.addDepModal=!this.addDepModal,this.addDepModal?window.bootstrap.Modal.getOrCreateInstance(document.getElementById("addDepModal")).show():(this.newDepXml=void 0,window.bootstrap.Modal.getInstance(document.getElementById("addDepModal")).hide())}loadBpmnFile(i){var s=i.target.files[0];if(s){var o=new FileReader;o.readAsText(s,"UTF-8"),o.onload=this._handleReaderLoaded.bind(this),o.onerror=this._handleReaderError.bind(this)}}_handleReaderLoaded(i){this.newDepXml=i.target.result}_handleReaderError(){this.newDepXml=void 0}addDep(){let i=this.newDepXml;this.viewer.importXML(i).then(s=>{let o=this.viewer?.getDefinitions().rootElements;for(let a of o)"bpmn:Process"==a.$type&&((!this.execPlanService.executionPlan.xmlDependencies||null==this.execPlanService.executionPlan.xmlDependencies)&&(this.execPlanService.executionPlan.xmlDependencies={}),this.execPlanService.executionPlan.xmlDependencies[a.id]=i,this.xmlDeps.push(a.id))}).catch(()=>{i.indexOf("decision")>0&&(this.buildDmnEditor(),this.dmnEditor.importXML(i).then(s=>{let o=this.dmnEditor._definitions.name;(!this.execPlanService.executionPlan.dmnDependencies||null==this.execPlanService.executionPlan.dmnDependencies)&&(this.execPlanService.executionPlan.dmnDependencies={}),this.execPlanService.executionPlan.dmnDependencies[o]=i,this.dmnDeps.push(o),this.currentDmn=o}))}),this.toggleAddDep()}saveDmn(){this.dmnEditor.saveXML().then(i=>{this.execPlanService.executionPlan.dmnDependencies[this.currentDmn]=i.xml})}toggleEditDep(i){if(""!=i&&(this.currentDep=i),this.editDepModal=!this.editDepModal,this.editDepModal){window.bootstrap.Modal.getOrCreateInstance(document.getElementById("editDepModal")).show();let s="";s="Main definition"==this.currentDep?this.execPlanService.executionPlan.xml:this.execPlanService.executionPlan.xmlDependencies[this.currentDep],this.prepareDefinitionEdition(s)}else this.newDepXml=void 0,window.bootstrap.Modal.getInstance(document.getElementById("editDepModal")).hide()}setEditDepType(i){this.editDepType=i,"XML"==this.editDepType?this.editDepModeler.saveXML({format:!0}).then(s=>{this.prepareDefinitionEdition(s.xml)}):this.prepareDefinitionEdition(this.editDepJson.state.doc.toString())}prepareDefinitionEdition(i){"XML"==this.editDepType?this.editDepJson?this.editDepJson.dispatch({changes:{from:0,to:this.editDepJson.state.doc.length,insert:i}}):this.editDepJson=new ln({doc:i,extensions:[YM,Bnn()],parent:this.jsonDepDefinition.nativeElement}):(this.editDepModeler||(this.editDepModeler=new q1({container:this.modelerDepDefinition.nativeElement,propertiesPanel:{parent:this.modelerProperties.nativeElement},height:600,additionalModules:[cO]})),this.editDepModeler.importXML(i).then(s=>{}))}applyDepModif(){"XML"==this.editDepType?(this.execPlanService.updateDep(this.currentDep,this.editDepJson.state.doc.toString()),this.toggleEditDep("")):this.editDepModeler.saveXML({format:!0}).then(i=>{this.execPlanService.updateDep(this.currentDep,i.xml),this.toggleEditDep("")})}prettifyXml(i){var s=(new DOMParser).parseFromString(i,"application/xml"),o=(new DOMParser).parseFromString(['<xsl:stylesheet version="1.0"\n xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n <xsl:output method="xml" omit-xml-declaration="yes" indent="yes"/>\n\n <xsl:template match="node()|@*">\n  <xsl:copy>\n   <xsl:apply-templates select="node()|@*"/>\n  </xsl:copy>\n </xsl:template>\n</xsl:stylesheet>'].join("\n"),"application/xml"),a=new XSLTProcessor;a.importStylesheet(o);var l=a.transformToDocument(s);return(new XMLSerializer).serializeToString(l)}static{this.\u0275fac=function(s){return new(s||n)(Tt(Vd))}}static{this.\u0275cmp=Ga({type:n,selectors:[["app-viewer"]],viewQuery:function(s,o){if(1&s&&(pa(Vnn,5),pa($nn,5),pa(znn,5),pa(Hnn,5),pa(Unn,5),pa(qnn,5)),2&s){let a;fa(a=ha())&&(o.viewerElt=a.first),fa(a=ha())&&(o.dmnElt=a.first),fa(a=ha())&&(o.dmnPropElt=a.first),fa(a=ha())&&(o.jsonDepDefinition=a.first),fa(a=ha())&&(o.modelerDepDefinition=a.first),fa(a=ha())&&(o.modelerProperties=a.first)}},standalone:!1,decls:71,vars:11,consts:[["viewer",""],["dmn",""],["dmnProperties",""],["modelerDepDefinition",""],["modelerProperties",""],["jsonDepDefinition",""],[3,"ngClass"],[1,"renderer"],[1,"prop"],[1,"btn","btn-primary","saveDmn",3,"click"],[1,"bi","bi-floppy"],[1,"mt-3","bottom"],["class","btn-group m-1","role","group","aria-label","Basic example",4,"ngFor","ngForOf"],["class","btn btn-outline-primary m-1",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus"],["id","newstep","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"],["id","addDepModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade","modal-xl"],[1,"input-group","mb-1"],[1,"input-group-text"],["type","file","min","0","max","100",1,"form-control",3,"change"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["id","editDepModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade","modal-xxl"],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],[3,"click","ngClass"],[1,"modeler"],[1,"properties-panel"],["type","button",1,"btn","btn-primary",3,"click"],["role","group","aria-label","Basic example",1,"btn-group","m-1"],[1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-outline-primary","m-1",3,"click"],[1,"input-group","mb-3"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"bi","bi-plus-circle"]],template:function(s,o){if(1&s){const a=wn();qt(0,"div",6,0),ne(2,"div",6),qt(3,"div",7,1)(5,"div",8,2),ne(7,"button",9),Mt("click",function(){return mt(a),gt(o.saveDmn())}),qt(8,"i",10),Se(9," Save modifications"),ie()(),ne(10,"div",11),Pn(11,Wnn,5,1,"div",12)(12,Gnn,2,1,"button",13),ne(13,"button",14),Mt("click",function(){return mt(a),gt(o.toggleAddDep())}),qt(14,"i",15),ie()(),ne(15,"div",16)(16,"div",17)(17,"div",18)(18,"div",19)(19,"h5",20),Se(20,"Prepare step"),ie(),ne(21,"button",21),Mt("click",function(){return mt(a),gt(o.closenewstepModal())}),ie()(),Pn(22,Knn,2,1,"div",22)(23,Xnn,7,2,"div",22)(24,Znn,2,0,"div",22),ne(25,"div",23),Pn(26,Qnn,3,0,"button",24),ne(27,"button",25),Mt("click",function(){return mt(a),gt(o.closenewstepModal())}),Se(28,"Close"),ie()()()()(),ne(29,"div",26)(30,"div",17)(31,"div",18)(32,"div",19)(33,"h5",20),Se(34,"Add new BPMN dependency (call activity)"),ie(),ne(35,"button",21),Mt("click",function(){return mt(a),gt(o.toggleAddDep())}),ie()(),ne(36,"div",22)(37,"div",27)(38,"span",28),Se(39,"BPMN file"),ie(),ne(40,"input",29),Mt("change",function(c){return mt(a),gt(o.loadBpmnFile(c))}),ie()()(),ne(41,"div",23)(42,"button",30),Mt("click",function(){return mt(a),gt(o.addDep())}),Se(43,"Create"),ie(),ne(44,"button",25),Mt("click",function(){return mt(a),gt(o.toggleAddDep())}),Se(45,"Close"),ie()()()()(),ne(46,"div",31)(47,"div",17)(48,"div",18)(49,"div",19)(50,"h5",20),Se(51," Edit a BPMN definition "),ne(52,"div",32)(53,"buttun",33),Mt("click",function(){return mt(a),gt(o.setEditDepType("modeler"))}),Se(54," Modeler "),ie(),ne(55,"buttun",33),Mt("click",function(){return mt(a),gt(o.setEditDepType("XML"))}),Se(56," XML "),ie()()(),ne(57,"button",21),Mt("click",function(){return mt(a),gt(o.toggleEditDep(""))}),ie()(),ne(58,"div",22)(59,"div",6),qt(60,"div",34,3)(62,"div",35,4),ie(),qt(64,"div",6,5),ie(),ne(66,"div",23)(67,"button",36),Mt("click",function(){return mt(a),gt(o.applyDepModif())}),Se(68,"Apply"),ie(),ne(69,"button",25),Mt("click",function(){return mt(a),gt(o.toggleEditDep(""))}),Se(70,"Close"),ie()()()()()}2&s&&(En("ngClass",o.showDmn?"hidden":""),qe(2),En("ngClass",o.showDmn?"dmn":"hidden"),qe(9),En("ngForOf",o.xmlDeps),qe(),En("ngForOf",o.dmnDeps),qe(10),Zr(o.selectedElt&&"bpmn:IntermediateCatchEvent"!==o.selectedElt.type&&"bpmn:BoundaryEvent"!==o.selectedElt.type?22:o.selectedElt&&"bpmn:IntermediateCatchEvent"==o.selectedElt.type?23:o.selectedElt&&"bpmn:BoundaryEvent"==o.selectedElt.type?24:-1),qe(4),Zr(o.selectedElt?26:-1),qe(16),En("disabled",!o.newDepXml),qe(11),En("ngClass","modeler"==o.editDepType?"btn btn-primary active":"btn btn-outline-primary"),qe(2),En("ngClass","modeler"!=o.editDepType?"btn btn-primary active":"btn btn-outline-primary"),qe(4),En("ngClass","modeler"==o.editDepType?"modelermain":"modelermain hidden"),qe(5),En("ngClass","modeler"==o.editDepType?"hidden":""))},dependencies:[eg,$p,tE,nE,sg,ig,Mh],styles:[".bottom[_ngcontent-%COMP%]{position:absolute;bottom:0}.hidden[_ngcontent-%COMP%]{display:none}.dmn[_ngcontent-%COMP%]{display:flex;flex:1 1 0%;overflow-x:hidden}.dmn[_ngcontent-%COMP%]   .renderer[_ngcontent-%COMP%]{display:flex;flex:1 1 0%;position:relative;background-color:#fff;flex-wrap:wrap}.dmn[_ngcontent-%COMP%]   .prop[_ngcontent-%COMP%]{width:400px}button.saveDmn[_ngcontent-%COMP%]{display:block;position:absolute;right:5px;top:5px;z-index:10}.modelermain[_ngcontent-%COMP%]{display:flex;flex:1 1 0%;overflow-x:hidden}.modelermain.hidden[_ngcontent-%COMP%]{display:none}.modeler[_ngcontent-%COMP%]{display:flex;flex:1 1 0%;position:relative;background-color:#fff;outline:none}.properties-panel[_ngcontent-%COMP%]{width:400px;max-height:calc(-48px + 100vh);position:relative;margin-top:-1px}"]})}}return n})();const ern=Gg({String:oe.string,Number:oe.number,"True False":oe.bool,PropertyName:oe.propertyName,Null:oe.null,",":oe.separator,"[ ]":oe.squareBracket,"{ }":oe.brace}),trn=Wg.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"\u26a0 JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[ern],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oc~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Oe~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zOh~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yOg~~'OO]~~'TO[~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),rrn=d1.define({name:"json",parser:trn.configure({props:[BP.add({Object:Ix({except:/^\s*\}/}),Array:Ix({except:/^\s*\]/})}),Rx.add({"Object Array":Zb})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function vY(){return new NP(rrn)}const irn=["jsonTemplate"],srn=["contextTemplate"];function orn(n,t){if(1&n&&(ne(0,"i"),Se(1),ie()),2&n){const i=t.$implicit;qe(),qs("",i.example,". ")}}function arn(n,t){if(1&n&&(ne(0,"span"),Se(1,"(e.g. "),Pn(2,orn,2,1,"i",13),Se(3,")"),ie()),2&n){const i=Je().$implicit;qe(2),En("ngForOf",i.methods)}}function lrn(n,t){if(1&n){const i=wn();ne(0,"span")(1,"a",15),Mt("click",function(){const o=mt(i).index;return gt(Je(2).showExample(o))}),ne(2,"b"),Se(3),ie(),Pn(4,arn,4,1,"span",16),ie(),Se(5,", "),ie()}if(2&n){const i=t.$implicit;qe(3),Pd(i.name),qe(),En("ngIf",i.showExample)}}function crn(n,t){if(1&n){const i=wn();ne(0,"div",8),Se(1," List of available methods (click on its name to have an example) :"),qt(2,"br"),Pn(3,lrn,6,2,"span",13),qt(4,"br"),ne(5,"b"),Se(6,"Note :"),ie(),Se(7,' to pass an aray parameter, use the following syntax : {"string1", "string2", "string3"}'),qt(8,"br"),ne(9,"button",14),Mt("click",function(){return mt(i),gt(Je().closeHelp())}),ie()()}if(2&n){const i=Je();qe(3),En("ngForOf",i.templatingMethods)}}function urn(n,t){if(1&n&&(ne(0,"div",12)(1,"pre"),Se(2),ie()()),2&n){const i=Je();qe(2),Pd(i.checkResult)}}let Eke=(()=>{class n{constructor(i){this.templatingService=i,this.label="Json Template",this.classnames="",this.templateChange=new da,this.displayHelp=!1,this.displayCheck=!1,this.updateTemplate=ln.updateListener.of(s=>{this.template.template=s.state.doc.toString(),this.templateChange.emit(this.template)}),this.updateContext=ln.updateListener.of(s=>{try{this.template.exampleContext=JSON.parse(s.state.doc.toString()),this.templateChange.emit(this.template)}catch{}})}help(){this.templatingMethods?this.displayHelp=!0:this.templatingService.listTemplatingMethodsNames().subscribe(i=>{this.templatingMethods=[];for(let s of i)this.templatingMethods.push({name:s});this.displayHelp=!0})}closeHelp(){this.displayHelp=!1}showExample(i){this.templatingMethods[i].methods?this.templatingMethods[i].showExample=!this.templatingMethods[i].showExample:this.templatingService.listTemplatingMethods(this.templatingMethods[i].name).subscribe(s=>{this.templatingMethods[i].methods=s,this.templatingMethods[i].showExample=!0})}toggleCheck(){this.checkResult=void 0,this.displayCheck=!this.displayCheck}checkTemplate(){this.templatingService.checkTemplate(this.template).subscribe(i=>{this.checkResult=JSON.stringify(i,null,2)})}ngAfterViewInit(){new ln({doc:this.prettifyJsonTemplate(this.template.template),extensions:[YM,vY(),this.updateTemplate],parent:this.jsonTemplate.nativeElement}),new ln({doc:JSON.stringify(this.template.exampleContext,null,2),extensions:[YM,vY(),this.updateContext],parent:this.contextTemplate.nativeElement})}prettifyJsonTemplate(i){let s=i,o=s.indexOf("templateUtils."),a=[],l=0;for(;o>0;){let c=s.indexOf("(",o),u=this.findClosingBracket(s,c),d=s.substring(o,u+1);s=s.substring(0,o)+'"R3P1AC^^3||T'+l+++'"'+s.substring(u+1),a.push(d),o=s.indexOf("templateUtils.")}try{let c=JSON.stringify(JSON.parse(s),null,2);for(let u=0;u<a.length;u++)c=c.replace('"R3P1AC^^3||T'+u+'"',a[u]);return c}catch{return i}}findClosingBracket(i,s){let o=s,a=1;for(;a>0;){let l=i.charAt(++o);"("==l?a++:")"==l&&a--}return o}static{this.\u0275fac=function(s){return new(s||n)(Tt(SE))}}static{this.\u0275cmp=Ga({type:n,selectors:[["app-json-editor"]],viewQuery:function(s,o){if(1&s&&(pa(irn,5),pa(srn,5)),2&s){let a;fa(a=ha())&&(o.jsonTemplate=a.first),fa(a=ha())&&(o.contextTemplate=a.first)}},inputs:{label:"label",classnames:"classnames",template:"template"},outputs:{templateChange:"templateChange"},standalone:!1,decls:18,vars:5,consts:[["jsonTemplate",""],["contextTemplate",""],[3,"ngClass"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-question-circle","text-info",3,"click"],[1,"bi","bi-check2-circle","text-success",3,"click"],[1,"form-control"],[1,"alert","alert-info"],[1,"input-group",3,"ngClass"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-check2-circle"],[1,"alert","alert-success"],[4,"ngFor","ngForOf"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"click"],[4,"ngIf"]],template:function(s,o){if(1&s){const a=wn();ne(0,"div",2)(1,"div",3)(2,"span",4),Se(3),ne(4,"i",5),Mt("click",function(){return mt(a),gt(o.help())}),ie(),ne(5,"i",6),Mt("click",function(){return mt(a),gt(o.toggleCheck())}),ie()(),qt(6,"div",7,0),ie(),Pn(8,crn,10,1,"div",8),ne(9,"div",9)(10,"span",4),Se(11,"Test context"),ie(),qt(12,"div",7,1),ne(14,"button",10),Mt("click",function(){return mt(a),gt(o.checkTemplate())}),qt(15,"i",11),Se(16," Check template"),ie()(),Pn(17,urn,3,1,"div",12),ie()}2&s&&(En("ngClass",o.classnames),qe(3),qs("",o.label," "),qe(5),Zr(o.displayHelp?8:-1),qe(),En("ngClass",o.displayCheck?"":"hidden"),qe(8),Zr(o.checkResult?17:-1))},dependencies:[eg,$p,W6],encapsulation:2})}}return n})();const drn=["preview"];function prn(n,t){if(1&n){const i=wn();ne(0,"div",1)(1,"div",8)(2,"div",3)(3,"span",4),Se(4,"Day time start (hour)"),ie(),ne(5,"input",35),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.execPlanService.scenario.dayTimeStart,o)||(a.execPlanService.scenario.dayTimeStart=o),gt(o)}),ie()()(),ne(6,"div",8)(7,"div",3)(8,"span",4),Se(9,"Day end time (hour)"),ie(),ne(10,"input",35),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.execPlanService.scenario.dayTimeEnd,o)||(a.execPlanService.scenario.dayTimeEnd=o),gt(o)}),ie()()()()}if(2&n){const i=Je();qe(5),Dn("ngModel",i.execPlanService.scenario.dayTimeStart),qe(5),Dn("ngModel",i.execPlanService.scenario.dayTimeEnd)}}function frn(n,t){if(1&n){const i=wn();ne(0,"div",3)(1,"span",4),Se(2,"Message name"),ie(),ne(3,"input",5),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.execPlanService.scenario.startMsgName,o)||(a.execPlanService.scenario.startMsgName=o),gt(o)}),ie()()}if(2&n){const i=Je();qe(3),Dn("ngModel",i.execPlanService.scenario.startMsgName)}}function hrn(n,t){if(1&n){const i=wn();ne(0,"div",31)(1,"input",36),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.execPlanService.scenario.evolution.decreasing,o)||(a.execPlanService.scenario.evolution.decreasing=o),gt(o)}),ie(),ne(2,"label",37),Se(3,"Decreasing evolution"),ie()()}if(2&n){const i=Je();qe(),Dn("ngModel",i.execPlanService.scenario.evolution.decreasing)}}function mrn(n,t){if(1&n){const i=wn();ne(0,"div",3)(1,"span",4),Se(2,"Salt (min)"),ie(),ne(3,"input",30),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.execPlanService.scenario.evolution.saltMin,o)||(a.execPlanService.scenario.evolution.saltMin=o),gt(o)}),ie()(),ne(4,"div",3)(5,"span",4),Se(6,"Salt (max)"),ie(),ne(7,"input",30),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.execPlanService.scenario.evolution.saltMax,o)||(a.execPlanService.scenario.evolution.saltMax=o),gt(o)}),ie()()}if(2&n){const i=Je();qe(3),Dn("ngModel",i.execPlanService.scenario.evolution.saltMin),qe(4),Dn("ngModel",i.execPlanService.scenario.evolution.saltMax)}}function grn(n,t){if(1&n){const i=wn();ne(0,"div",3)(1,"span",4),Se(2,"Exponent"),ie(),ne(3,"input",30),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.execPlanService.scenario.evolution.exponent,o)||(a.execPlanService.scenario.evolution.exponent=o),gt(o)}),ie()()}if(2&n){const i=Je();qe(3),Dn("ngModel",i.execPlanService.scenario.evolution.exponent)}}function yrn(n,t){if(1&n){const i=wn();ne(0,"div",3)(1,"span",4),Se(2,"Mean"),ie(),ne(3,"input",38),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.execPlanService.scenario.evolution.mean,o)||(a.execPlanService.scenario.evolution.mean=o),gt(o)}),ie()(),ne(4,"div",3)(5,"span",4),Se(6,"Standard derivation"),ie(),ne(7,"input",38),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.execPlanService.scenario.evolution.derivation,o)||(a.execPlanService.scenario.evolution.derivation=o),gt(o)}),ie()()}if(2&n){const i=Je();qe(3),Dn("ngModel",i.execPlanService.scenario.evolution.mean),qe(4),Dn("ngModel",i.execPlanService.scenario.evolution.derivation)}}let vrn=(()=>{class n{constructor(i){this.execPlanService=i}openStartPlanModal(){window.bootstrap.Modal.getOrCreateInstance(document.getElementById("startPlanModal")).show()}closeStartPlanModal(){window.bootstrap.Modal.getInstance(document.getElementById("startPlanModal")).hide()}previewEvol(){this.execPlanService.previewEvol(this.execPlanService.scenario.evolution).subscribe(i=>{this.chart?(this.chart.data=i,this.chart.update()):this.chart=new VL(this.preview.nativeElement,{type:"line",data:i})})}static{this.\u0275fac=function(s){return new(s||n)(Tt(Vd))}}static{this.\u0275cmp=Ga({type:n,selectors:[["app-instantiate"]],viewQuery:function(s,o){if(1&s&&pa(drn,5),2&s){let a;fa(a=ha())&&(o.preview=a.first)}},standalone:!1,decls:90,vars:15,consts:[["preview",""],[1,"row"],[1,"col-12"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-send"],[1,"col-6"],[1,"alert","alert-info"],[1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-pencil"],[1,"col-4"],[1,"form-select",3,"ngModelChange","ngModel"],["value","START"],["value","MSG"],[1,"col-8"],["label","JSON template","classnames","mb-3",3,"templateChange","template"],["id","startPlanModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["selected",""],["value","linear"],["value","saltedlinear"],["value","exponential"],["value","normal"],["type","number","min","0",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-check","form-switch","mb-3"],[1,"bi","bi-eye"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","number","min","0","max","23",1,"form-control",3,"ngModelChange","ngModel"],["type","checkbox","role","switch",1,"form-check-input",3,"ngModelChange","ngModel"],["for","flexSwitchCheckDefault",1,"form-check-label"],["type","number","min","0","step","0.01","max","1",1,"form-control",3,"ngModelChange","ngModel"]],template:function(s,o){if(1&s){const a=wn();ne(0,"div",1)(1,"div",2)(2,"div",3)(3,"span",4),Se(4,"Scenario name"),ie(),ne(5,"input",5),kn("ngModelChange",function(c){return mt(a),Rn(o.execPlanService.scenario.name,c)||(o.execPlanService.scenario.name=c),gt(c)}),ie(),ne(6,"button",6),Mt("click",function(){return mt(a),gt(o.execPlanService.executeCurrentScenario())}),qt(7,"i",7),Se(8," Start scenario"),ie()()()(),ne(9,"div",1)(10,"div",8)(11,"div",3)(12,"span",4),Se(13,"First day (FEEL)"),ie(),ne(14,"input",5),kn("ngModelChange",function(c){return mt(a),Rn(o.execPlanService.scenario.firstDayFeelExpression,c)||(o.execPlanService.scenario.firstDayFeelExpression=c),gt(c)}),ie()()(),ne(15,"div",8)(16,"div",3)(17,"span",4),Se(18,"Last day (FEEL)"),ie(),ne(19,"input",5),kn("ngModelChange",function(c){return mt(a),Rn(o.execPlanService.scenario.lastDayFeelExpression,c)||(o.execPlanService.scenario.lastDayFeelExpression=c),gt(c)}),ie()()()(),ne(20,"div",9),Se(21," If you start your instances too far in the past, you're likely to increment number of shards used in ElasticSearch and SaaS clusters have a default limit to 1000 shards. Therefore, it's recommended not to go further than 40 days ago.\n"),ie(),Pn(22,prn,11,2,"div",1),qt(23,"hr"),ne(24,"div",1)(25,"div",2)(26,"div",3)(27,"span",4),Se(28,"Instances distribution"),ie(),ne(29,"button",10),Mt("click",function(){return mt(a),gt(o.openStartPlanModal())}),qt(30,"i",11),Se(31),ie()()()(),ne(32,"div",1)(33,"div",12)(34,"div",3)(35,"span",4),Se(36,"Start type"),ie(),ne(37,"select",13),kn("ngModelChange",function(c){return mt(a),Rn(o.execPlanService.scenario.startType,c)||(o.execPlanService.scenario.startType=c),gt(c)}),ne(38,"option",14),Se(39,"START"),ie(),ne(40,"option",15),Se(41,"MSG"),ie()()()(),ne(42,"div",16),Pn(43,frn,4,1,"div",3),ie()(),ne(44,"div",1)(45,"div",2)(46,"app-json-editor",17),kn("templateChange",function(c){return mt(a),Rn(o.execPlanService.scenario.jsonTemplate,c)||(o.execPlanService.scenario.jsonTemplate=c),gt(c)}),ie()()(),ne(47,"div",18)(48,"div",19)(49,"div",20)(50,"div",21)(51,"h5",22),Se(52,"Start Plan"),ie(),ne(53,"button",23),Mt("click",function(){return mt(a),gt(o.closeStartPlanModal())}),ie()(),ne(54,"div",24)(55,"div",3)(56,"span",4),Se(57,"Progression"),ie(),ne(58,"select",13),kn("ngModelChange",function(c){return mt(a),Rn(o.execPlanService.scenario.evolution.type,c)||(o.execPlanService.scenario.evolution.type=c),gt(c)}),ne(59,"option",25),Se(60,"Choose..."),ie(),ne(61,"option",26),Se(62,"Linear"),ie(),ne(63,"option",27),Se(64,"Salted linear"),ie(),ne(65,"option",28),Se(66,"Exponential"),ie(),ne(67,"option",29),Se(68,"Normally distributed"),ie()()(),ne(69,"div",3)(70,"span",4),Se(71,"Minimum instances"),ie(),ne(72,"input",30),kn("ngModelChange",function(c){return mt(a),Rn(o.execPlanService.scenario.evolution.min,c)||(o.execPlanService.scenario.evolution.min=c),gt(c)}),ie()(),ne(73,"div",3)(74,"span",4),Se(75,"Maximum instances"),ie(),ne(76,"input",30),kn("ngModelChange",function(c){return mt(a),Rn(o.execPlanService.scenario.evolution.max,c)||(o.execPlanService.scenario.evolution.max=c),gt(c)}),ie()(),Pn(77,hrn,4,1,"div",31)(78,mrn,8,2)(79,grn,4,1,"div",3)(80,yrn,8,2),ne(81,"button",6),Mt("click",function(){return mt(a),gt(o.previewEvol())}),qt(82,"i",32),Se(83," Preview"),ie(),qt(84,"br")(85,"canvas",null,0),ie(),ne(87,"div",33)(88,"button",34),Mt("click",function(){return mt(a),gt(o.closeStartPlanModal())}),Se(89,"Close"),ie()()()()()}2&s&&(qe(5),Dn("ngModel",o.execPlanService.scenario.name),qe(9),Dn("ngModel",o.execPlanService.scenario.firstDayFeelExpression),qe(5),Dn("ngModel",o.execPlanService.scenario.lastDayFeelExpression),qe(3),Zr("HOURS"==o.execPlanService.executionPlan.instanceDistribution?22:-1),qe(9),PR(" ",o.execPlanService.scenario.evolution.type," [",o.execPlanService.scenario.evolution.min," TO ",o.execPlanService.scenario.evolution.max,"]"),qe(6),Dn("ngModel",o.execPlanService.scenario.startType),qe(6),Zr("MSG"==o.execPlanService.scenario.startType?43:-1),qe(3),Dn("template",o.execPlanService.scenario.jsonTemplate),qe(12),Dn("ngModel",o.execPlanService.scenario.evolution.type),qe(14),Dn("ngModel",o.execPlanService.scenario.evolution.min),qe(4),Dn("ngModel",o.execPlanService.scenario.evolution.max),qe(),Zr("normal"!=o.execPlanService.scenario.evolution.type?77:-1),qe(),Zr("saltedlinear"==o.execPlanService.scenario.evolution.type?78:"exponential"==o.execPlanService.scenario.evolution.type?79:"normal"==o.execPlanService.scenario.evolution.type?80:-1))},dependencies:[tE,nE,Ph,vS,L9,sg,ig,wS,ES,Mh,Eke],encapsulation:2})}}return n})();function brn(n,t){if(1&n){const i=wn();ne(0,"div",0)(1,"app-json-editor",26),kn("templateChange",function(o){mt(i);const a=Je(2);return Rn(a.step.jsonTemplate,o)||(a.step.jsonTemplate=o),gt(o)}),ie()()}if(2&n){const i=Je(2);qe(),Dn("template",i.step.jsonTemplate)}}function _rn(n,t){if(1&n){const i=wn();ne(0,"div",0)(1,"div",2)(2,"span",3),Se(3,"Incident"),ie(),ne(4,"select",8),kn("ngModelChange",function(o){mt(i);const a=Je(2);return Rn(a.step.incident,o)||(a.step.incident=o),gt(o)}),ne(5,"option",9),Se(6,"Choose..."),ie(),ne(7,"option",27),Se(8,"NULLPOINTER"),ie(),ne(9,"option",28),Se(10,"ARITHMETIC"),ie(),ne(11,"option",29),Se(12,"OUT_OF_BOUND"),ie(),ne(13,"option",29),Se(14,"ILLEGAL_ARGUMENT"),ie(),ne(15,"option",29),Se(16,"TIME_OUT"),ie()()()()}if(2&n){const i=Je(2);qe(4),Dn("ngModel",i.step.incident)}}function Ern(n,t){if(1&n){const i=wn();ne(0,"div",0)(1,"div",23)(2,"div",2)(3,"span",3),Se(4),ie(),ne(5,"button",24),Mt("click",function(){return mt(i),gt(Je().openDurationModal())}),qt(6,"i",25),Se(7),ie()()()(),Pn(8,brn,2,1,"div",0)(9,_rn,17,1,"div",0)}if(2&n){const i=Je();qe(4),qs("Completion time (",i.execPlanService.executionPlan.durationsType,")"),qe(3),DR(" Avg from ",i.step.duration.startDesiredAvg," to ",i.step.duration.endDesiredAvg," (variation ",i.step.duration.minMaxPercent,"%). Progression ",i.step.duration.avgProgression,""),qe(),Zr("COMPLETE"==i.step.action?8:9)}}function wrn(n,t){if(1&n){const i=wn();ne(0,"li")(1,"div",30)(2,"button",24),Mt("click",function(){const o=mt(i).index;return gt(Je().openPreStepModal(o))}),qt(3,"i",25),Se(4),ie(),ne(5,"button",5),Mt("click",function(){const o=mt(i).index;return gt(Je().deletePreStep(o))}),qt(6,"i",6),ie()()()}if(2&n){const i=t.$implicit,s=Je();qe(4),qs(" ",s.displayAdditionalStep(i),"")}}function xrn(n,t){if(1&n){const i=wn();ne(0,"li")(1,"div",30)(2,"button",24),Mt("click",function(){const o=mt(i).index;return gt(Je(2).openPostStepModal(o))}),qt(3,"i",25),Se(4),ie(),ne(5,"button",5),Mt("click",function(){const o=mt(i).index;return gt(Je(2).deletePostStep(o))}),qt(6,"i",6),ie()()()}if(2&n){const i=t.$implicit,s=Je(2);qe(4),qs(" ",s.displayAdditionalStep(i),"")}}function Crn(n,t){if(1&n){const i=wn();ne(0,"div",13)(1,"h4"),Se(2," Post-steps "),ne(3,"button",31),Se(4,"?"),ie(),ne(5,"button",15),Mt("click",function(){return mt(i),gt(Je().addPostStep())}),Se(6,"+"),ie()(),ne(7,"ul"),Pn(8,xrn,7,1,"li",16),ie()()}if(2&n){const i=Je();qe(8),En("ngForOf",i.step.postSteps)}}function Srn(n,t){if(1&n){const i=wn();ne(0,"input",41),kn("ngModelChange",function(o){mt(i);const a=Je(2);return Rn(a.step.duration.startDesiredAvg,o)||(a.step.duration.startDesiredAvg=o),gt(o)}),ie()}2&n&&Dn("ngModel",Je(2).step.duration.startDesiredAvg)}function Orn(n,t){if(1&n){const i=wn();ne(0,"input",42),kn("ngModelChange",function(o){mt(i);const a=Je(2);return Rn(a.step.duration.startDesiredAvg,o)||(a.step.duration.startDesiredAvg=o),gt(o)}),ie()}2&n&&Dn("ngModel",Je(2).step.duration.startDesiredAvg)}function Trn(n,t){if(1&n){const i=wn();ne(0,"input",41),kn("ngModelChange",function(o){mt(i);const a=Je(2);return Rn(a.step.duration.endDesiredAvg,o)||(a.step.duration.endDesiredAvg=o),gt(o)}),ie()}2&n&&Dn("ngModel",Je(2).step.duration.endDesiredAvg)}function Prn(n,t){if(1&n){const i=wn();ne(0,"input",42),kn("ngModelChange",function(o){mt(i);const a=Je(2);return Rn(a.step.duration.endDesiredAvg,o)||(a.step.duration.endDesiredAvg=o),gt(o)}),ie()}2&n&&Dn("ngModel",Je(2).step.duration.endDesiredAvg)}function Drn(n,t){if(1&n){const i=wn();ne(0,"div",2)(1,"span",3),Se(2,"progression salt (MS)"),ie(),ne(3,"input",41),kn("ngModelChange",function(o){mt(i);const a=Je(2);return Rn(a.step.duration.progressionSalt,o)||(a.step.duration.progressionSalt=o),gt(o)}),ie()()}if(2&n){const i=Je(2);qe(3),Dn("ngModel",i.step.duration.progressionSalt)}}function krn(n,t){if(1&n){const i=wn();ne(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",32)(4,"h5",33),Se(5,"Duration"),ie(),ne(6,"button",34),Mt("click",function(){return mt(i),gt(Je().closeDurationModal())}),ie()(),ne(7,"div",35)(8,"div",2)(9,"span",3),Se(10),ie(),Pn(11,Srn,1,1,"input",36)(12,Orn,1,1,"input",37),ie(),ne(13,"div",2)(14,"span",3),Se(15),ie(),Pn(16,Trn,1,1,"input",36)(17,Prn,1,1,"input",37),ie(),ne(18,"div",2)(19,"span",3),Se(20,"Percentage variations"),ie(),ne(21,"input",38),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.step.duration.minMaxPercent,o)||(a.step.duration.minMaxPercent=o),gt(o)}),ie()(),ne(22,"div",2)(23,"span",3),Se(24,"Progression"),ie(),ne(25,"select",8),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.step.duration.avgProgression,o)||(a.step.duration.avgProgression=o),gt(o)}),ne(26,"option",9),Se(27,"Choose..."),ie(),ne(28,"option",39),Se(29,"LINEAR"),ie(),ne(30,"option",40),Se(31,"LINEAR_SALTED"),ie()()(),Pn(32,Drn,4,1,"div",2),ie(),ne(33,"div",21)(34,"button",22),Mt("click",function(){return mt(i),gt(Je().closeDurationModal())}),Se(35,"Close"),ie()()()()()}if(2&n){const i=Je();dv("id","",i.step.elementId,"-durationModal"),qe(10),qs("Duration avg at start (",i.execPlanService.executionPlan.durationsType,")"),qe(),Zr("FEEL"!=i.execPlanService.executionPlan.durationsType?11:12),qe(4),qs("Duration avg at end (",i.execPlanService.executionPlan.durationsType,")"),qe(),Zr("FEEL"!=i.execPlanService.executionPlan.durationsType?16:17),qe(5),Dn("ngModel",i.step.duration.minMaxPercent),qe(4),Dn("ngModel",i.step.duration.avgProgression),qe(7),Zr("LINEAR_SALTED"==i.step.duration.avgProgression?32:-1)}}function Mrn(n,t){if(1&n){const i=wn();ne(0,"input",41),kn("ngModelChange",function(o){mt(i);const a=Je(2);return Rn(a.prestep.delay,o)||(a.prestep.delay=o),gt(o)}),ie()}2&n&&Dn("ngModel",Je(2).prestep.delay)}function Arn(n,t){if(1&n){const i=wn();ne(0,"input",42),kn("ngModelChange",function(o){mt(i);const a=Je(2);return Rn(a.prestep.delay,o)||(a.prestep.delay=o),gt(o)}),ie()}2&n&&Dn("ngModel",Je(2).prestep.delay)}function Irn(n,t){if(1&n){const i=wn();ne(0,"div",2)(1,"span",3),Se(2,"Message"),ie(),ne(3,"input",42),kn("ngModelChange",function(o){mt(i);const a=Je(2);return Rn(a.prestep.msg,o)||(a.prestep.msg=o),gt(o)}),ie()(),ne(4,"div",2)(5,"span",3),Se(6,"Correlation Key"),ie(),ne(7,"input",42),kn("ngModelChange",function(o){mt(i);const a=Je(2);return Rn(a.prestep.correlationKey,o)||(a.prestep.correlationKey=o),gt(o)}),ie()()}if(2&n){const i=Je(2);qe(3),Dn("ngModel",i.prestep.msg),qe(4),Dn("ngModel",i.prestep.correlationKey)}}function Rrn(n,t){if(1&n){const i=wn();ne(0,"div",2)(1,"span",3),Se(2,"Signal"),ie(),ne(3,"input",42),kn("ngModelChange",function(o){mt(i);const a=Je(2);return Rn(a.prestep.signal,o)||(a.prestep.signal=o),gt(o)}),ie()()}if(2&n){const i=Je(2);qe(3),Dn("ngModel",i.prestep.signal)}}function Nrn(n,t){if(1&n){const i=wn();ne(0,"div",2)(1,"span",3),Se(2,"Error Code"),ie(),ne(3,"input",42),kn("ngModelChange",function(o){mt(i);const a=Je(2);return Rn(a.prestep.errorCode,o)||(a.prestep.errorCode=o),gt(o)}),ie()()}if(2&n){const i=Je(2);qe(3),Dn("ngModel",i.prestep.errorCode)}}function Lrn(n,t){if(1&n){const i=wn();ne(0,"app-json-editor",26),kn("templateChange",function(o){mt(i);const a=Je(2);return Rn(a.prestep.jsonTemplate,o)||(a.prestep.jsonTemplate=o),gt(o)}),ie()}2&n&&Dn("template",Je(2).prestep.jsonTemplate)}function Frn(n,t){if(1&n){const i=wn();ne(0,"div",32)(1,"h5",33),Se(2),ie(),ne(3,"button",34),Mt("click",function(){return mt(i),gt(Je().closePreStepModal())}),ie()(),ne(4,"div",35)(5,"div",2)(6,"span",3),Se(7,"Type"),ie(),ne(8,"select",8),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.prestep.type,o)||(a.prestep.type=o),gt(o)}),ne(9,"option",9),Se(10,"Choose..."),ie(),ne(11,"option",43),Se(12,"CLOCK"),ie(),ne(13,"option",44),Se(14,"MSG"),ie(),ne(15,"option",45),Se(16,"SIGNAL"),ie(),ne(17,"option",46),Se(18,"BPMN_ERROR"),ie()()(),ne(19,"div",2)(20,"span",3),Se(21),ie(),Pn(22,Mrn,1,1,"input",36)(23,Arn,1,1,"input",37),ie(),Pn(24,Irn,8,2)(25,Rrn,4,1,"div",2)(26,Nrn,4,1,"div",2)(27,Lrn,1,1,"app-json-editor",47),ie()}if(2&n){const i=Je();qe(2),pv("Pre step (executed ",i.prestep.delay,"(",i.execPlanService.executionPlan.durationsType,") after creation time)"),qe(6),Dn("ngModel",i.prestep.type),qe(13),qs("Delay (",i.execPlanService.executionPlan.durationsType,")"),qe(),Zr("FEEL"!=i.execPlanService.executionPlan.durationsType?22:23),qe(2),Zr("MSG"==i.prestep.type?24:"SIGNAL"==i.prestep.type?25:"BPMN_ERROR"==i.prestep.type?26:-1),qe(3),Zr("CLOCK"!=i.prestep.type?27:-1)}}function Brn(n,t){if(1&n){const i=wn();ne(0,"input",41),kn("ngModelChange",function(o){mt(i);const a=Je(3);return Rn(a.poststep.delay,o)||(a.poststep.delay=o),gt(o)}),ie()}2&n&&Dn("ngModel",Je(3).poststep.delay)}function jrn(n,t){1&n&&Pn(0,Brn,1,1,"input",48),2&n&&En("ngIf","FEEL"!=Je(2).execPlanService.executionPlan.durationsType)}function Vrn(n,t){if(1&n){const i=wn();ne(0,"input",42),kn("ngModelChange",function(o){mt(i);const a=Je(3);return Rn(a.poststep.delay,o)||(a.poststep.delay=o),gt(o)}),ie()}2&n&&Dn("ngModel",Je(3).poststep.delay)}function $rn(n,t){1&n&&Pn(0,Vrn,1,1,"input",49),2&n&&En("ngIf","FEEL"===Je(2).execPlanService.executionPlan.durationsType)}function zrn(n,t){if(1&n){const i=wn();ne(0,"div",2)(1,"span",3),Se(2,"Message"),ie(),ne(3,"input",42),kn("ngModelChange",function(o){mt(i);const a=Je(2);return Rn(a.poststep.msg,o)||(a.poststep.msg=o),gt(o)}),ie()(),ne(4,"div",2)(5,"span",3),Se(6,"Correlation Key"),ie(),ne(7,"input",42),kn("ngModelChange",function(o){mt(i);const a=Je(2);return Rn(a.poststep.correlationKey,o)||(a.poststep.correlationKey=o),gt(o)}),ie()()}if(2&n){const i=Je(2);qe(3),Dn("ngModel",i.poststep.msg),qe(4),Dn("ngModel",i.poststep.correlationKey)}}function Hrn(n,t){if(1&n){const i=wn();ne(0,"div",2)(1,"span",3),Se(2,"Signal"),ie(),ne(3,"input",42),kn("ngModelChange",function(o){mt(i);const a=Je(2);return Rn(a.poststep.signal,o)||(a.poststep.signal=o),gt(o)}),ie()()}if(2&n){const i=Je(2);qe(3),Dn("ngModel",i.poststep.signal)}}function Urn(n,t){if(1&n){const i=wn();ne(0,"div",2)(1,"span",3),Se(2,"Error Code"),ie(),ne(3,"input",42),kn("ngModelChange",function(o){mt(i);const a=Je(3);return Rn(a.poststep.errorCode,o)||(a.poststep.errorCode=o),gt(o)}),ie()()}if(2&n){const i=Je(3);qe(3),Dn("ngModel",i.poststep.errorCode)}}function qrn(n,t){1&n&&Pn(0,Urn,4,1,"div",50),2&n&&En("ngIf","BPMN_ERROR"==Je(2).poststep.type)}function Wrn(n,t){if(1&n){const i=wn();ne(0,"app-json-editor",26),kn("templateChange",function(o){mt(i);const a=Je(2);return Rn(a.poststep.jsonTemplate,o)||(a.poststep.jsonTemplate=o),gt(o)}),ie()}2&n&&Dn("template",Je(2).poststep.jsonTemplate)}function Grn(n,t){if(1&n){const i=wn();ne(0,"div",32)(1,"h5",33),Se(2),ie(),ne(3,"button",34),Mt("click",function(){return mt(i),gt(Je().closePostStepModal())}),ie()(),ne(4,"div",35)(5,"div",2)(6,"span",3),Se(7,"Type"),ie(),ne(8,"select",8),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.poststep.type,o)||(a.poststep.type=o),gt(o)}),ne(9,"option",9),Se(10,"Choose..."),ie(),ne(11,"option",43),Se(12,"CLOCK"),ie(),ne(13,"option",44),Se(14,"MSG"),ie(),ne(15,"option",45),Se(16,"SIGNAL"),ie(),ne(17,"option",46),Se(18,"BPMN_ERROR"),ie()()(),ne(19,"div",2)(20,"span",3),Se(21),ie(),Pn(22,jrn,1,1,"input",36)(23,$rn,1,1,"input",37),ie(),Pn(24,zrn,8,2)(25,Hrn,4,1,"div",2)(26,qrn,1,1,"div",2)(27,Wrn,1,1,"app-json-editor",47),ie()}if(2&n){const i=Je();qe(2),pv("Post step (executed ",i.poststep.delay," (",i.execPlanService.executionPlan.durationsType,") after completion time)"),qe(6),Dn("ngModel",i.poststep.type),qe(13),qs("Delay (",i.execPlanService.executionPlan.durationsType,")"),qe(),Zr("FEEL"!=i.execPlanService.executionPlan.durationsType?22:23),qe(2),Zr("MSG"==i.poststep.type?24:"SIGNAL"==i.poststep.type?25:"BPMN_ERROR"==i.poststep.type?26:-1),qe(3),Zr("CLOCK"!=i.poststep.type?27:-1)}}let Krn=(()=>{class n{constructor(i){this.execPlanService=i}ngOnInit(){this.step.preSteps&&this.step.preSteps.length>0&&(this.prestep=this.step.preSteps[0]),this.step.postSteps&&this.step.postSteps.length>0&&(this.poststep=this.step.postSteps[0])}ngAfterViewInit(){var i=document.querySelectorAll(".btn-tooltip");for(let s=0;s<i.length;s++)window.bootstrap.Tooltip.getOrCreateInstance(i[s])}displayAdditionalStep(i){return"CLOCK"==i.type?"CLOCK at "+i.delay:"MSG"==i.type?"Publish "+i.msg+" after "+i.delay+"("+this.execPlanService.executionPlan.durationsType+")":"SIGNAL"==i.type?"Broadcast "+i.signal+" after "+i.delay+"("+this.execPlanService.executionPlan.durationsType+")":"Error "+i.errorCode+" after "+i.delay+"("+this.execPlanService.executionPlan.durationsType+")"}openDurationModal(){window.bootstrap.Modal.getOrCreateInstance(document.getElementById(this.step.elementId+"-durationModal")).show()}closeDurationModal(){window.bootstrap.Modal.getInstance(document.getElementById(this.step.elementId+"-durationModal")).hide()}openPreStepModal(i){this.prestep=this.step.preSteps[i],window.bootstrap.Modal.getOrCreateInstance(document.getElementById(this.step.elementId+"-prestep")).show()}closePreStepModal(){window.bootstrap.Modal.getInstance(document.getElementById(this.step.elementId+"-prestep")).hide()}openPostStepModal(i){this.poststep=this.step.postSteps[i],window.bootstrap.Modal.getOrCreateInstance(document.getElementById(this.step.elementId+"-poststep")).show()}closePostStepModal(){window.bootstrap.Modal.getInstance(document.getElementById(this.step.elementId+"-poststep")).hide()}addPreStep(){this.prestep={type:"CLOCK",feelDelay:"PT5M",jsonTemplate:{template:"{}",exampleContext:{}}},this.step.preSteps||(this.step.preSteps=[]),this.step.preSteps.push(this.prestep),this.openPreStepModal(this.step.preSteps.length-1)}addPostStep(){this.poststep={type:"CLOCK",feelDelay:"PT5M",jsonTemplate:{template:"{}",exampleContext:{}}},this.step.postSteps||(this.step.postSteps=[]),this.step.postSteps.push(this.poststep),this.openPostStepModal(this.step.postSteps.length-1)}deletePreStep(i){this.step.preSteps.splice(i,1)}deletePostStep(i){this.step.postSteps.splice(i,1)}static{this.\u0275fac=function(s){return new(s||n)(Tt(Vd))}}static{this.\u0275cmp=Ga({type:n,selectors:[["app-step"]],inputs:{step:"step"},standalone:!1,decls:48,vars:12,consts:[[1,"row"],[1,"col-8"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text","readonly","","disabled","",1,"form-control",3,"value"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"col-4"],[1,"form-select",3,"ngModelChange","ngModel"],["selected",""],["value","COMPLETE"],["value","DO_NOTHING"],["value","INCIDENT"],[1,"col-6"],["type","button","data-bs-toggle","tooltip","data-bs-placement","top","title","Steps time will be calculated based on the main task creation time",1,"btn","btn-outline-primary","btn-tooltip"],["type","button",1,"btn","btn-outline-warning","btn-icon",3,"click"],[4,"ngFor","ngForOf"],["class","col-6",4,"ngIf"],["tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"col"],[1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-pencil"],["label","JSON template","classnames","mb-3",3,"templateChange","template"],["value","NULLPOINTER"],["value","ARITHMETIC"],["value","OUT_OF_BOUND"],[1,"btn-group"],["type","button","data-bs-toggle","tooltip","data-bs-placement","top","title","Steps time will be calculated based on the main task completion time",1,"btn","btn-outline-primary","btn-tooltip"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["type","number","min","0",1,"form-control",3,"ngModel"],["type","text",1,"form-control",3,"ngModel"],["type","number","min","0","max","100",1,"form-control",3,"ngModelChange","ngModel"],["value","LINEAR"],["value","LINEAR_SALTED"],["type","number","min","0",1,"form-control",3,"ngModelChange","ngModel"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["value","CLOCK"],["value","MSG"],["value","SIGNAL"],["value","BPMN_ERROR"],["label","JSON template","classnames","mb-3",3,"template"],["type","number","class","form-control","min","0",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["class","input-group mb-3 ",4,"ngIf"]],template:function(s,o){1&s&&(ne(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),Se(4,"Element Id"),ie(),qt(5,"input",4),ne(6,"button",5),Mt("click",function(){return o.execPlanService.deleteCurrentStep()}),qt(7,"i",6),ie()()(),ne(8,"div",7)(9,"div",2)(10,"span",3),Se(11,"Action"),ie(),ne(12,"select",8),kn("ngModelChange",function(l){return Rn(o.step.action,l)||(o.step.action=l),l}),ne(13,"option",9),Se(14,"Choose..."),ie(),ne(15,"option",10),Se(16,"COMPLETE"),ie(),ne(17,"option",11),Se(18,"DO_NOTHING"),ie(),ne(19,"option",12),Se(20,"INCIDENT"),ie()()()()(),Pn(21,Ern,10,6),ne(22,"div",0)(23,"div",13)(24,"h4"),Se(25," Pre-steps "),ne(26,"button",14),Se(27,"?"),ie(),ne(28,"button",15),Mt("click",function(){return o.addPreStep()}),Se(29,"+"),ie()(),ne(30,"ul"),Pn(31,wrn,7,1,"li",16),ie()(),Pn(32,Crn,9,1,"div",17),ie(),Pn(33,krn,36,9,"div",18),ne(34,"div",18)(35,"div",19)(36,"div",20),Pn(37,Frn,28,7),ne(38,"div",21)(39,"button",22),Mt("click",function(){return o.closePreStepModal()}),Se(40,"Close"),ie()()()()(),ne(41,"div",18)(42,"div",19)(43,"div",20),Pn(44,Grn,28,7),ne(45,"div",21)(46,"button",22),Mt("click",function(){return o.closePostStepModal()}),Se(47,"Close"),ie()()()()()),2&s&&(qe(5),E6("value",o.step.elementId),qe(7),Dn("ngModel",o.step.action),qe(9),Zr("COMPLETE"==o.step.action||"INCIDENT"==o.step.action?21:-1),qe(10),En("ngForOf",o.step.preSteps),qe(),En("ngIf","COMPLETE"==o.step.action),qe(),Zr("COMPLETE"==o.step.action||"INCIDENT"==o.step.action?33:-1),qe(),dv("id","",o.step.elementId,"-prestep"),qe(3),Zr(o.prestep?37:-1),qe(4),dv("id","",o.step.elementId,"-poststep"),qe(3),Zr(o.poststep?44:-1))},dependencies:[$p,W6,tE,nE,Ph,vS,sg,ig,wS,ES,Mh,Eke],encapsulation:2})}}return n})();const Yrn=["addListener","removeListener"],Xrn=["addEventListener","removeEventListener"],Zrn=["on","off"];function T4(n,t,i,s){if(ai(i)&&(s=i,i=void 0),s)return T4(n,t,i).pipe(dse(s));const[o,a]=function ein(n){return ai(n.addEventListener)&&ai(n.removeEventListener)}(n)?Xrn.map(l=>c=>n[l](t,c,i)):function Qrn(n){return ai(n.addListener)&&ai(n.removeListener)}(n)?Yrn.map(wke(n,t)):function Jrn(n){return ai(n.on)&&ai(n.off)}(n)?Zrn.map(wke(n,t)):[];if(!o&&T9(n))return Q6(l=>T4(l,t,i))(zp(n));if(!o)throw new TypeError("Invalid event target");return new $a(l=>{const c=(...u)=>l.next(1<u.length?u:u[0]);return o(c),()=>a(c)})}function wke(n,t){return i=>s=>n[i](t,s)}function P4(n){return xp((t,i)=>{zp(n).subscribe(md(i,()=>i.complete(),n7)),!i.closed&&t.subscribe(i)})}const nin=["scenarionav"];let rin=(()=>{class n{constructor(){this.destroy$$=new Cm,this.ngZone=Gt(ni),this.cdRef=Gt(T6),this.dragging=!1}ngAfterViewInit(){let i=this.scenarioNav.nativeElement;this.cdRef.detach(),this.ngZone.runOutsideAngular(()=>{const s=T4(i,"mousedown").pipe(P4(this.destroy$$)),o=T4(document,"mousemove").pipe(P4(this.destroy$$)),a=T4(document,"mouseup").pipe(P4(this.destroy$$));s.pipe(Hie(c=>o.pipe(Cp(u=>({startEvent:c,moveEvent:u})),P4(a))),function tin(n,t,i){const s=ai(n)||t||i?{next:n,error:t,complete:i}:n;return s?xp((o,a)=>{var l;null===(l=s.subscribe)||void 0===l||l.call(s);let c=!0;o.subscribe(md(a,u=>{var d;null===(d=s.next)||void 0===d||d.call(s,u),a.next(u)},()=>{var u;c=!1,null===(u=s.complete)||void 0===u||u.call(s),a.complete()},u=>{var d;c=!1,null===(d=s.error)||void 0===d||d.call(s,u),a.error(u)},()=>{var u,d;c&&(null===(u=s.unsubscribe)||void 0===u||u.call(s)),null===(d=s.finalize)||void 0===d||d.call(s)}))}):SY}(({startEvent:c,moveEvent:u})=>{const d=u.y-c.offsetY-56;i.offsetParent.style.top=d+"px",i.offsetParent.style.height="calc(100vh - "+(d+56)+"px)",i.offsetParent.offsetParent.firstChild.firstChild.firstChild.firstChild.style.height=d+"px",i.offsetParent.offsetParent.firstChild.firstChild.children[1].firstChild.firstChild&&(i.offsetParent.offsetParent.firstChild.firstChild.children[1].firstChild.firstChild.style.height=d+"px")}),P4(this.destroy$$)).subscribe(),a.subscribe(()=>{this.dragging=!1,this.cdRef.detectChanges()}),s.subscribe(()=>{this.dragging=!0,this.cdRef.detectChanges()})})}ngOnDestroy(){this.destroy$$.next()}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275cmp=Ga({type:n,selectors:[["app-draggable"]],viewQuery:function(s,o){if(1&s&&pa(nin,5),2&s){let a;fa(a=ha())&&(o.scenarioNav=a.first)}},standalone:!1,decls:2,vars:0,consts:[["scenarionav",""],[1,"draggable"]],template:function(s,o){1&s&&qt(0,"hr",1,0)},styles:["hr[_ngcontent-%COMP%]{border:2px solid gray;margin:0;cursor:ns-resize}"]})}}return n})();function iin(n,t){if(1&n){const i=wn();ne(0,"li",1)(1,"a",2),Mt("click",function(){const o=mt(i).index;return gt(Je().selectScenario(o))}),qt(2,"i",22),Se(3),ie()()}if(2&n){const i=t.$implicit,s=t.index,o=Je();qe(),En("ngClass",o.state==""+s?"nav-link active":"nav-link"),qe(2),qs(" ",i.name,"")}}function sin(n,t){if(1&n){const i=wn();ne(0,"div",23)(1,"div",16)(2,"span",24),Se(3,"Time precision"),ie(),ne(4,"select",25),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.execPlanService.executionPlan.timePrecision,o)||(a.execPlanService.executionPlan.timePrecision=o),gt(o)}),ne(5,"option",26),Se(6,"Choose..."),ie(),ne(7,"option",27),Se(8,"SECOND"),ie(),ne(9,"option",28),Se(10,"HUNDRED_MILLIS"),ie(),ne(11,"option",29),Se(12,"TEN_MILLIS"),ie(),ne(13,"option",30),Se(14,"MILLIS"),ie()()(),ne(15,"div",16)(16,"span",24),Se(17,"Instance distribution"),ie(),ne(18,"select",25),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.execPlanService.executionPlan.instanceDistribution,o)||(a.execPlanService.executionPlan.instanceDistribution=o),gt(o)}),ne(19,"option",26),Se(20,"Choose..."),ie(),ne(21,"option",31),Se(22,"DAYS"),ie(),ne(23,"option",32),Se(24,"HALF_DAYS"),ie(),ne(25,"option",33),Se(26,"HOURS"),ie()()(),ne(27,"div",16)(28,"span",24),Se(29,"Duration expression type"),ie(),ne(30,"select",25),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.execPlanService.executionPlan.durationsType,o)||(a.execPlanService.executionPlan.durationsType=o),gt(o)}),ne(31,"option",26),Se(32,"Choose..."),ie(),ne(33,"option",34),Se(34,"FEEL"),ie(),ne(35,"option",35),Se(36,"SECONDS"),ie(),ne(37,"option",30),Se(38,"MILLIS"),ie()()(),ne(39,"div",16)(40,"span",24),Se(41,"Steps label"),ie(),ne(42,"select",25),kn("ngModelChange",function(o){mt(i);const a=Je();return Rn(a.execPlanService.executionPlan.stepLabel,o)||(a.execPlanService.executionPlan.stepLabel=o),gt(o)}),ne(43,"option",26),Se(44,"Choose..."),ie(),ne(45,"option",36),Se(46,"id"),ie(),ne(47,"option",37),Se(48,"name"),ie(),ne(49,"option",38),Se(50,"id and name"),ie()()(),ne(51,"div",39),Se(52," Time precision and instance distribution will impact the realism of the simulation but will negatively impact the simulation performance. Time precision HUNDRED_MILLIS will be more realistic than SECOND (but less efficient). Instance distribution DAYS is more efficient than HOURS (but less realistic) "),ie()()}if(2&n){const i=Je();qe(4),Dn("ngModel",i.execPlanService.executionPlan.timePrecision),qe(14),Dn("ngModel",i.execPlanService.executionPlan.instanceDistribution),qe(12),Dn("ngModel",i.execPlanService.executionPlan.durationsType),qe(12),Dn("ngModel",i.execPlanService.executionPlan.stepLabel)}}function oin(n,t){if(1&n){const i=wn();ne(0,"button",50),Mt("click",function(){const o=mt(i).$implicit;return gt(Je(3).execPlanService.selectActivity(o.key))}),Se(1),ie()}if(2&n){const i=t.$implicit,s=Je(3);En("ngClass",s.execPlanService.currentActivity==i.key?"nav-link active":"nav-link"),qe(),qs(" ",s.execPlanService.stepLabel(i.key),"")}}function ain(n,t){if(1&n&&(ne(0,"div",40),qt(1,"app-step",51),ie()),2&n){const i=t.$implicit;En("ngClass",Je(3).execPlanService.currentActivity==i.key?"tab-pane fade show active":"tab-pane fade"),qe(),En("step",i.value)}}function lin(n,t){if(1&n){const i=wn();ne(0,"div",42)(1,"div",43)(2,"div",44)(3,"button",2),Mt("click",function(){return mt(i),gt(Je(2).execPlanService.selectActivity("startInstances"))}),Se(4,"Scenario settings"),ie(),Pn(5,oin,2,2,"button",45),fv(6,"keyvalue"),ne(7,"button",46),Mt("click",function(){return mt(i),gt(Je(2).openAddStepModal())}),qt(8,"i",6),Se(9," Add step"),ie(),qt(10,"hr"),ne(11,"button",47),Mt("click",function(){mt(i);const o=Je().index;return gt(Je().deleteScenario(o))}),qt(12,"i",48),Se(13," Delete scenario"),ie()(),ne(14,"div",49)(15,"div",40),qt(16,"app-instantiate"),ie(),Pn(17,ain,2,2,"div",8),fv(18,"keyvalue"),ie()()()}if(2&n){const i=Je().$implicit,s=Je();qe(3),En("ngClass","startInstances"==s.execPlanService.currentActivity?"nav-link active":"nav-link"),qe(2),En("ngForOf",hv(6,4,i.steps)),qe(10),En("ngClass","startInstances"==s.execPlanService.currentActivity?"tab-pane fade show active":"tab-pane fade"),qe(2),En("ngForOf",hv(18,6,i.steps))}}function cin(n,t){if(1&n&&(ne(0,"div",40),Pn(1,lin,19,8,"div",41),ie()),2&n){const i=t.index,s=Je();En("ngClass",s.state==""+i?"scrollable":""),qe(),En("ngIf",s.state==""+i)}}let uin=(()=>{class n{constructor(i){this.execPlanService=i,this.state="general",this.newStepElementId=""}ngOnInit(){this.selectScenario(0)}addScenario(){this.execPlanService.addScenario()}selectScenario(i){this.execPlanService.selectScenario(this.execPlanService.executionPlan.scenarii[i]),this.state=""+i}deleteScenario(i){this.execPlanService.deleteScenario(i),this.state="general"}openAddStepModal(){window.bootstrap.Modal.getOrCreateInstance(document.getElementById("addnewstep")).show()}closeAddStepModal(){window.bootstrap.Modal.getInstance(document.getElementById("addnewstep")).hide()}createStep(){this.execPlanService.createStepInScenario(this.newStepElementId),this.closeAddStepModal()}labelStep(i){let s=this.execPlanService.getActivityName(i);return s?s+" ("+i+")":i}static{this.\u0275fac=function(s){return new(s||n)(Tt(Vd))}}static{this.\u0275cmp=Ga({type:n,selectors:[["app-actions-plan"]],standalone:!1,decls:32,vars:5,consts:[[1,"nav","nav-tabs","navbar-dark","bg-dark"],[1,"nav-item"],[3,"click","ngClass"],[1,"bi","bi-gear"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-link","text-warning",3,"click"],[1,"bi","bi-plus-circle"],["class","tab-pane scrollable",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],["id","addnewstep","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-list-ol"],[1,"tab-pane","scrollable"],["id","basic-addon1",1,"input-group-text"],[1,"form-select",3,"ngModelChange","ngModel"],["selected",""],["value","SECOND"],["value","HUNDRED_MILLIS"],["value","TEN_MILLIS"],["value","MILLIS"],["value","DAYS"],["value","HALF_DAYS"],["value","HOURS"],["value","FEEL"],["value","SECONDS"],["value","id"],["value","name"],["value","idName"],[1,"alert","alert-info"],[3,"ngClass"],["class","tab-pane",4,"ngIf"],[1,"tab-pane"],[1,"d-flex","align-items-start"],["role","tablist",1,"nav","flex-column","nav-pills","me-3"],["role","tab",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"btn","btn-outline-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],["id","v-pills-tabContent",1,"tab-content"],["role","tab",3,"click","ngClass"],[3,"step"]],template:function(s,o){1&s&&(qt(0,"app-draggable"),ne(1,"ul",0)(2,"li",1)(3,"a",2),Mt("click",function(){return o.state="general"}),qt(4,"i",3),Se(5," Global settings"),ie()(),Pn(6,iin,4,2,"li",4),ne(7,"li",1)(8,"a",5),Mt("click",function(){return o.addScenario()}),qt(9,"i",6),Se(10," Add scenario"),ie()()(),Pn(11,sin,53,4,"div",7)(12,cin,2,2,"div",8),ne(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"h5",13),Se(18,"Create new step"),ie(),ne(19,"button",14),Mt("click",function(){return o.closeAddStepModal()}),ie()(),ne(20,"div",15),Se(21," Please provide the elementId that you want to add as a step "),ne(22,"div",16)(23,"span",17),Se(24,"Element Id"),ie(),ne(25,"input",18),kn("ngModelChange",function(l){return Rn(o.newStepElementId,l)||(o.newStepElementId=l),l}),ie()()(),ne(26,"div",19)(27,"button",20),Mt("click",function(){return o.createStep()}),qt(28,"i",6),Se(29," Add step"),ie(),ne(30,"button",21),Mt("click",function(){return o.closeAddStepModal()}),Se(31,"Close"),ie()()()()()),2&s&&(qe(3),En("ngClass","general"==o.state?"nav-link active":"nav-link"),qe(3),En("ngForOf",o.execPlanService.executionPlan.scenarii),qe(5),En("ngIf","general"==o.state),qe(),En("ngForOf",o.execPlanService.executionPlan.scenarii),qe(13),Dn("ngModel",o.newStepElementId))},dependencies:[eg,$p,W6,tE,nE,Ph,sg,ig,Mh,vrn,Krn,rin,G6],styles:[".nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{box-shadow:0 0 4px var(--bs-nav-link-color);position:relative}.tab-pane[_ngcontent-%COMP%]{background:#fff;position:relative;padding:20px}.tab-content[_ngcontent-%COMP%]{width:100%;padding:0 20px}.scrollable[_ngcontent-%COMP%]{height:calc(100% - 42px);overflow-y:auto}"]})}}return n})();const din=["jsonResult"],pin=["testviewer"];function fin(n,t){if(1&n){const i=wn();ne(0,"button",13),Mt("click",function(){return mt(i),gt(Je().testPlan())}),qt(1,"i",14),Se(2," Rerun test"),ie()}}function hin(n,t){1&n&&(ne(0,"button",5),qt(1,"i",15),Se(2," Loading test"),ie())}function min(n,t){if(1&n){const i=wn();ne(0,"button",7),Mt("click",function(){const o=mt(i).$implicit;return gt(Je().selectTab(o.name))}),Se(1),ie()}if(2&n){const i=t.$implicit;En("ngClass",Je().currentTab==i.name?"nav-link active":"nav-link"),qe(),qs(" ",i.name,"")}}function gin(n,t){if(1&n){const i=wn();ne(0,"button",16),Mt("click",function(){const o=mt(i).$implicit;return gt(Je(2).openDef(o.key))}),Se(1),ie()}if(2&n){const i=t.$implicit;qe(),Pd(i.key)}}function yin(n,t){if(1&n){const i=wn();ne(0,"div",12)(1,"button",16),Mt("click",function(){return mt(i),gt(Je().openDef("Main definition"))}),Se(2,"Main definition"),ie(),Pn(3,gin,2,1,"button",17),fv(4,"keyvalue"),ie()}if(2&n){const i=Je();qe(3),En("ngForOf",hv(4,1,i.execPlanService.executionPlan.xmlDependencies))}}function vin(n,t){if(1&n&&(ne(0,"div",10)(1,"b"),Se(2),ie(),qt(3,"br"),Se(4),ie()),2&n){const i=t.$implicit;En("ngClass","alert alert-"+i.status),qe(2),pv("",i.status," : ",i.elementId,""),qe(2),qs(" ",i.message," ")}}let bin=(()=>{class n{constructor(i){this.execPlanService=i,this.alerts=[],this.testLoading=!1}ngOnInit(){this.testPlan()}ngAfterViewInit(){this.testResult&&this.selectTab(Object.keys(this.testResult)[0])}testPlan(){this.testLoading=!0,this.execPlanService.testPlan().subscribe(i=>{this.editor=void 0,this.testResult=i,this.selectTab(Object.keys(this.testResult)[0]),this.testLoading=!1})}selectTab(i){this.currentTab=i,"rawResult"!=this.currentTab||this.editor?(this.viewer||(this.viewer=new _g({container:this.viewerElt.nativeElement,height:400})),this.viewer.importXML(this.execPlanService.executionPlan.xml).then(s=>{this.checkExecution()})):(this.jsonTemplate.nativeElement.innerHTML="",this.editor=new ln({doc:JSON.stringify(this.testResult,null,2),extensions:[YM,vY()],parent:this.jsonTemplate.nativeElement}))}checkExecution(){this.viewer.get("canvas").zoom("fit-viewport"),this.alerts=[],this.viewer.get("elementRegistry").forEach(s=>{let o=this.getStatus(s.id);"success"!=o.status&&this.alerts.push(o)});for(let s=0;s<this.testResult[this.currentTab].length;s++){let o=this.testResult[this.currentTab][s];!o.expected&&"Engine incident"==o.errorCode&&this.alerts.push({status:"danger",elementId:o.elementId,message:"Instance got an incident on "+o.elementId+" with message : "+o.message})}0==this.alerts.length&&this.alerts.push({status:"success",message:"This scenario seems perfect."})}getStatus(i){let s=null;for(let l=0;l<this.execPlanService.executionPlan.scenarii.length;l++)if(this.currentTab==this.execPlanService.executionPlan.scenarii[l].name){s=this.execPlanService.executionPlan.scenarii[l];break}let o=s.steps[i],a=!1;for(let l=0;l<this.testResult[this.currentTab].length;l++){let c=this.testResult[this.currentTab][l];if(i==c.elementId){if(!c.jobKey&&c.expected)return this.colorActivity(i,"#009933"),{status:"success"};a=!0;break}}return o&&a?(this.colorActivity(i,"#009933"),{status:"success"}):o&&!a?{status:"warning",message:"The activity is defined but not used. It will cause useless memory consumption.",elementId:i}:!o&&a?(this.colorActivity(i,"#FF0000"),{status:"danger",message:"The activity is not defined but executed. It will cause errors during simulation.",elementId:i}):{status:"success"}}colorActivity(i,s){const o=this.viewer?.get("elementRegistry"),a=this.viewer?.get("graphicsFactory"),l=o?.get(i);if(void 0!==l?.di){l.di.set("stroke",s);const c=o?.getGraphics(l);void 0!==c&&a?.update("connection",l,c)}}openDef(i){"Main definition"==i?this.viewer.importXML(this.execPlanService.executionPlan.xml).then(s=>{this.checkExecution()}):this.viewer.importXML(this.execPlanService.executionPlan.xmlDependencies[i]).then(s=>{this.checkExecution()})}showDeps(){return null!=this.execPlanService.executionPlan.xmlDependencies&&Object.keys(this.execPlanService.executionPlan.xmlDependencies).length>0}static{this.\u0275fac=function(s){return new(s||n)(Tt(Vd))}}static{this.\u0275cmp=Ga({type:n,selectors:[["app-test-plan"]],viewQuery:function(s,o){if(1&s&&(pa(din,5),pa(pin,5)),2&s){let a;fa(a=ha())&&(o.jsonTemplate=a.first),fa(a=ha())&&(o.viewerElt=a.first)}},standalone:!1,decls:20,vars:5,consts:[["jsonResult",""],["testviewer",""],[1,"d-flex","align-items-start"],["role","tablist",1,"nav","flex-column","nav-pills","me-3","tablist"],[1,"btn","btn-info"],["disabled","",1,"btn","btn-info"],["role","tab",3,"ngClass"],["role","tab",3,"click","ngClass"],[1,"bi","bi-filetype-json"],[1,"tab-content"],[3,"ngClass"],[1,"form-control"],[1,"mt-3","bottom"],[1,"btn","btn-info",3,"click"],[1,"bi","bi-clipboard-check"],[1,"bi","bi-hourglass"],[1,"btn","btn-outline-info","m-1",3,"click"],["class","btn btn-outline-info m-1",3,"click",4,"ngFor","ngForOf"]],template:function(s,o){if(1&s){const a=wn();ne(0,"div",2)(1,"div",3),Pn(2,fin,3,0,"button",4)(3,hin,3,0,"button",5),bR(4,min,2,2,"button",6,vR),ne(6,"button",7),Mt("click",function(){return mt(a),gt(o.selectTab("rawResult"))}),qt(7,"i",8),Se(8,"Raw result"),ie()(),ne(9,"div",9)(10,"div",10),qt(11,"div",11,0),ie(),ne(13,"div",10)(14,"div"),qt(15,"div",null,1),Pn(17,yin,5,3,"div",12),bR(18,vin,5,4,"div",10,vR),ie()()()()}2&s&&(qe(2),Zr(o.testLoading?3:2),qe(2),_R(o.execPlanService.executionPlan.scenarii),qe(2),En("ngClass","rawResult"==o.currentTab?"nav-link active":"nav-link"),qe(4),En("ngClass","rawResult"==o.currentTab?"tab-pane fade show active":"tab-pane fade"),qe(3),En("ngClass","rawResult"!=o.currentTab?"tab-pane fade show active":"tab-pane fade"),qe(4),Zr(o.showDeps()?17:-1),qe(),_R(o.alerts))},dependencies:[eg,$p,G6],styles:[".tablist[_ngcontent-%COMP%]{width:250px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{box-shadow:0 0 4px var(--bs-nav-link-color);position:relative}.tab-content[_ngcontent-%COMP%]{width:100%;padding:0 20px}"]})}}return n})();function _in(n,t){if(1&n){const i=wn();ne(0,"li",8)(1,"a",15),Mt("click",function(){return mt(i),gt(Je().execute())}),qt(2,"i",16),Se(3," Execute plan"),ie()()}}function Ein(n,t){1&n&&(ne(0,"div"),qt(1,"app-viewer")(2,"app-actions-plan"),ie())}function win(n,t){1&n&&qt(0,"app-modeler")}function xin(n,t){1&n&&qt(0,"app-optimize-preview")}function Cin(n,t){1&n&&qt(0,"app-test-plan")}let Sin=(()=>{class n{constructor(i){this.execPlanService=i,this.state="plan",this.running=!1}ngOnInit(){this.execPlanService.currentlyRunning().subscribe(i=>{i&&(this.running=!0)})}back(){this.execPlanService.clear()}save(){this.execPlanService.updatePlan()}execute(){this.execPlanService.executeCurrentPlan()}static{this.\u0275fac=function(s){return new(s||n)(Tt(Vd))}}static{this.\u0275cmp=Ga({type:n,selectors:[["app-executionplan"]],standalone:!1,decls:29,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand",3,"click"],[1,"bi","bi-house"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],[3,"click","ngClass"],[1,"bi","bi-eye"],[1,"bi","bi-clipboard-check"],[1,"nav-link","text-light",3,"click"],[1,"bi","bi-floppy"],[1,"mainContent"],[1,"nav-link","text-light","text-bold",3,"click"],[1,"bi","bi-send"]],template:function(s,o){1&s&&(ne(0,"nav",0)(1,"div",1)(2,"a",2),Mt("click",function(){return o.back()}),qt(3,"i",3),ie(),ne(4,"button",4),qt(5,"span",5),ie(),ne(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),Mt("click",function(){return o.state="plan"}),Se(10,"Execution plan"),ie()(),ne(11,"li",8)(12,"a",9),Mt("click",function(){return o.state="preview"}),qt(13,"i",10),Se(14," Preview"),ie()(),ne(15,"li",8)(16,"a",9),Mt("click",function(){return o.state="test"}),qt(17,"i",11),Se(18," Test"),ie()(),ne(19,"li",8)(20,"a",12),Mt("click",function(){return o.save()}),qt(21,"i",13),Se(22," Save"),ie()(),Pn(23,_in,4,0,"li",8),ie()()()(),ne(24,"div",14),Pn(25,Ein,3,0,"div")(26,win,1,0,"app-modeler")(27,xin,1,0,"app-optimize-preview")(28,Cin,1,0,"app-test-plan"),ie()),2&s&&(qe(9),En("ngClass","plan"==o.state?"nav-link text-light active":"nav-link text-light "),qe(3),En("ngClass","preview"==o.state?"nav-link text-info active":"nav-link text-info"),qe(4),En("ngClass","test"==o.state?"nav-link text-info active":"nav-link text-info "),qe(7),Zr(o.running?-1:23),qe(2),Zr("plan"==o.state?25:"modif"==o.state?26:"preview"==o.state?27:"test"==o.state?28:-1))},dependencies:[eg,Lrt,X$t,Jnn,uin,bin],styles:["nav[_ngcontent-%COMP%]{z-index:2}.mainContent[_ngcontent-%COMP%]{height:calc(100vh - 56px);position:absolute;top:56px;width:100vw;overflow:hidden}app-actions-plan[_ngcontent-%COMP%]{position:absolute;width:100vW;height:calc(100vh - 445px);background:#fff}app-viewer[_ngcontent-%COMP%]{position:relative}"]})}}return n})();function Oin(n,t){if(1&n){const i=wn();ne(0,"li",15)(1,"a",19),Mt("click",function(){const o=mt(i).$implicit;return gt(Je().selectCategory(o.key))}),Se(2),ie()()}if(2&n){const i=t.$implicit,s=Je();qe(),En("ngClass",s.category==i.key?"nav-link active":"nav-link"),qe(),qs(" ",i.key," ")}}function Tin(n,t){if(1&n){const i=wn();ne(0,"div",27)(1,"span",8)(2,"button",28),qt(3,"i",23),ie()(),ne(4,"input",29),Mt("change",function(o){const a=mt(i).index;return gt(Je(3).updateVal(a,o))}),ie()()}if(2&n){const i=t.$implicit;qe(4),En("value",i)}}function Pin(n,t){if(1&n){const i=wn();ne(0,"div",20)(1,"div",21),Se(2,"You can add values for the dataset "),ne(3,"b"),Se(4),ie(),Se(5," in the "),ne(6,"b"),Se(7),ie(),Se(8," category. If you want to remove this category, just press the following button "),ne(9,"button",22),Mt("click",function(){mt(i);const o=Je().$implicit;return gt(Je().deleteCategory(o.key))}),qt(10,"i",23),ie()(),ne(11,"button",24),Mt("click",function(){return mt(i),gt(Je(2).addValue())}),qt(12,"i",25),ie(),Se(13," Values "),Pn(14,Tin,5,1,"div",26),ie()}if(2&n){const i=Je().$implicit,s=Je();qe(4),Pd(s.templatingService.dataset.name),qe(3),Pd(i.key),qe(7),En("ngForOf",i.value)}}function Din(n,t){if(1&n&&(ne(0,"div"),Pn(1,Pin,15,3,"div",20),ie()),2&n){const i=t.$implicit,s=Je();qe(),Zr(s.category==i.key?1:-1)}}let kin=(()=>{class n{constructor(i){this.templatingService=i,this.category="en",this.newCategory="Cat1"}ngOnInit(){}back(){this.templatingService.clear()}addCategory(){this.templatingService.dataset.categorizedData[this.newCategory]=[],this.newCategory="Cat"+Object.keys(this.templatingService.dataset.categorizedData).length}save(){this.templatingService.saveDataset(this.templatingService.dataset).subscribe()}selectCategory(i){this.category=i}deleteCategory(i){delete this.templatingService.dataset.categorizedData[i]}addValue(){this.templatingService.dataset.categorizedData[this.category].push("")}updateVal(i,s){this.templatingService.dataset.categorizedData[this.category][i]=s.target.value}static{this.\u0275fac=function(s){return new(s||n)(Tt(SE))}}static{this.\u0275cmp=Ga({type:n,selectors:[["app-dataset"]],standalone:!1,decls:28,vars:8,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand",3,"click"],[1,"bi","bi-house"],[1,"mainContent","mx-4","mt-4"],[1,"row"],[1,"col-6"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle"],[1,"nav","nav-tabs","navbar-dark","bg-dark"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item"],[1,"nav-link","text-light",3,"click"],[1,"bi","bi-floppy"],[4,"ngFor","ngForOf"],[3,"click","ngClass"],[1,"tab-pane"],[1,"alert","alert-info"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"btn","btn-success",3,"click"],[1,"bi","bi-plus"],["class","input-group mb-1",4,"ngFor","ngForOf"],[1,"input-group","mb-1"],[1,"btn","btn-danger"],["type","text",1,"form-control",3,"change","value"]],template:function(s,o){1&s&&(ne(0,"nav",0)(1,"div",1)(2,"a",2),Mt("click",function(){return o.back()}),qt(3,"i",3),ie()()(),ne(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"span",8),Se(9,"Dataset name"),ie(),ne(10,"input",9),kn("ngModelChange",function(l){return Rn(o.templatingService.dataset.name,l)||(o.templatingService.dataset.name=l),l}),ie()()(),ne(11,"div",6)(12,"div",10)(13,"span",8),Se(14,"Category code"),ie(),ne(15,"input",9),kn("ngModelChange",function(l){return Rn(o.newCategory,l)||(o.newCategory=l),l}),ie(),ne(16,"a",11),Mt("click",function(){return o.addCategory()}),qt(17,"i",12),Se(18," Add Category"),ie()()()(),ne(19,"ul",13),Pn(20,Oin,3,2,"li",14),fv(21,"keyvalue"),ne(22,"li",15)(23,"a",16),Mt("click",function(){return o.save()}),qt(24,"i",17),Se(25," Save"),ie()()(),Pn(26,Din,2,1,"div",18),fv(27,"keyvalue"),ie()),2&s&&(qe(10),Dn("ngModel",o.templatingService.dataset.name),qe(5),Dn("ngModel",o.newCategory),qe(5),En("ngForOf",hv(21,4,o.templatingService.dataset.categorizedData)),qe(6),En("ngForOf",hv(27,6,o.templatingService.dataset.categorizedData)))},dependencies:[eg,$p,Ph,ig,Mh,G6],encapsulation:2})}}return n})();function Min(n,t){if(1&n){const i=wn();ne(0,"div",16)(1,"span",8)(2,"button",17),qt(3,"i",18),ie()(),ne(4,"input",19),Mt("change",function(o){const a=mt(i).index;return gt(Je().updateVal(a,o))}),ie()()}if(2&n){const i=t.$implicit;qe(4),En("value",i)}}let Ain=(()=>{class n{constructor(i){this.templatingService=i}ngOnInit(){}back(){this.templatingService.clear()}save(){this.templatingService.saveJsonDataset().subscribe()}addValue(){this.templatingService.jsondataset.data.push("{}")}updateVal(i,s){this.templatingService.jsondataset.data[i]=s.target.value}static{this.\u0275fac=function(s){return new(s||n)(Tt(SE))}}static{this.\u0275cmp=Ga({type:n,selectors:[["app-jsondataset"]],standalone:!1,decls:20,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand",3,"click"],[1,"bi","bi-house"],[1,"mainContent","mx-4","mt-4"],[1,"row"],[1,"col-8"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-4"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-floppy"],[1,"btn","btn-success",3,"click"],[1,"bi","bi-plus"],["class","input-group mb-1",4,"ngFor","ngForOf"],[1,"input-group","mb-1"],[1,"btn","btn-danger"],[1,"bi","bi-trash"],["type","text",1,"form-control",3,"change","value"]],template:function(s,o){1&s&&(ne(0,"nav",0)(1,"div",1)(2,"a",2),Mt("click",function(){return o.back()}),qt(3,"i",3),ie()()(),ne(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"span",8),Se(9,"Dataset name"),ie(),ne(10,"input",9),kn("ngModelChange",function(l){return Rn(o.templatingService.jsondataset.name,l)||(o.templatingService.jsondataset.name=l),l}),ie()()(),ne(11,"div",10)(12,"button",11),Mt("click",function(){return o.save()}),qt(13,"i",12),Se(14," Save"),ie()()(),ne(15,"div")(16,"button",13),Mt("click",function(){return o.addValue()}),qt(17,"i",14),ie(),Se(18," Values "),Pn(19,Min,5,1,"div",15),ie()()),2&s&&(qe(10),Dn("ngModel",o.templatingService.jsondataset.name),qe(9),En("ngForOf",o.templatingService.jsondataset.data))},dependencies:[$p,Ph,ig,Mh],encapsulation:2})}}return n})();function Iin(n,t){1&n&&qt(0,"app-home")}function Rin(n,t){1&n&&qt(0,"app-executionplan")}function Nin(n,t){1&n&&qt(0,"app-dataset")}function Lin(n,t){1&n&&qt(0,"app-jsondataset")}let Fin=(()=>{class n{constructor(i,s){this.execPlanService=i,this.templatingService=s,this.title="data loader"}static{this.\u0275fac=function(s){return new(s||n)(Tt(Vd),Tt(SE))}}static{this.\u0275cmp=Ga({type:n,selectors:[["app-root"]],standalone:!1,decls:4,vars:1,template:function(s,o){1&s&&Pn(0,Iin,1,0,"app-home")(1,Rin,1,0,"app-executionplan")(2,Nin,1,0,"app-dataset")(3,Lin,1,0,"app-jsondataset"),2&s&&Zr(o.execPlanService.executionPlan||o.templatingService.dataset||o.templatingService.jsondataset?o.execPlanService.executionPlan?1:o.templatingService.dataset?2:o.templatingService.jsondataset?3:-1:0)},dependencies:[mQe,Sin,kin,Ain],encapsulation:2})}}return n})(),Bin=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=Km({type:n,bootstrap:[Fin]})}static{this.\u0275inj=oh({providers:[xqe(ng(Th.LegacyInterceptors,[{provide:cse,useFactory:pqe},{provide:Y3,useExisting:cse,multi:!0}]))],imports:[nUe,QWe]})}}return n})();tUe().bootstrapModule(Bin).catch(n=>console.error(n))},1890:Ce=>{Ce.exports=function We(te,we){return te.has(we)}},1891:(Ce,We,te)=>{var we=te(3028),be=te(5752),Le=te(1012);Ce.exports=function V(){this.size=0,this.__data__={hash:new we,map:new(Le||be),string:new we}}},2107:Ce=>{"use strict";var We=/["'&<>]/;Ce.exports=function te(we){var be=""+we,Le=We.exec(be);if(!Le)return be;var V,Ne="",Fe=0,He=0;for(Fe=Le.index;Fe<be.length;Fe++){switch(be.charCodeAt(Fe)){case 34:V="&quot;";break;case 38:V="&amp;";break;case 39:V="&#39;";break;case 60:V="&lt;";break;case 62:V="&gt;";break;default:continue}He!==Fe&&(Ne+=be.substring(He,Fe)),He=Fe+1,Ne+=V}return He!==Fe?Ne+be.substring(He,Fe):Ne}},2248:(Ce,We,te)=>{var Le=te(4385)(te(1464),"WeakMap");Ce.exports=Le},2260:Ce=>{Ce.exports=function We(){return[]}},2502:Ce=>{Ce.exports=function We(te){return function(we){return te(we)}}},2561:(Ce,We,te)=>{var we=te(8548),be=te(3809),Le=te(7291);Ce.exports=function V(Ne){return Le(Ne)?we(Ne):be(Ne)}},2651:Ce=>{Ce.exports=function We(te,we){return te===we||te!=te&&we!=we}},2737:(Ce,We,te)=>{var we=te(1464);Ce.exports=we.Uint8Array},2759:(Ce,We,te)=>{var we=te(9038);Ce.exports=function be(Le){var V=we(this,Le).delete(Le);return this.size-=V?1:0,V}},2768:Ce=>{Ce.exports=function We(te){return this.__data__.has(te)}},2852:Ce=>{Ce.exports=function We(te,we){return function(be){return te(we(be))}}},2873:Ce=>{Ce.exports=function We(te,we){for(var be=-1,Le=null==te?0:te.length,V=0,Ne=[];++be<Le;){var Fe=te[be];we(Fe,be,te)&&(Ne[V++]=Fe)}return Ne}},2900:(Ce,We,te)=>{var we=te(342),be=te(7371),Le=te(1890);Ce.exports=function Fe(He,et,Sn,An,or,Xn){var Yr=1&Sn,Ri=He.length,us=et.length;if(Ri!=us&&!(Yr&&us>Ri))return!1;var oi=Xn.get(He),Wr=Xn.get(et);if(oi&&Wr)return oi==et&&Wr==He;var Rr=-1,ur=!0,vi=2&Sn?new we:void 0;for(Xn.set(He,et),Xn.set(et,He);++Rr<Ri;){var S=He[Rr],U=et[Rr];if(An)var $=Yr?An(U,S,Rr,et,He,Xn):An(S,U,Rr,He,et,Xn);if(void 0!==$){if($)continue;ur=!1;break}if(vi){if(!be(et,function(ce,xe){if(!Le(vi,xe)&&(S===ce||or(S,ce,Sn,An,Xn)))return vi.push(xe)})){ur=!1;break}}else if(S!==U&&!or(S,U,Sn,An,Xn)){ur=!1;break}}return Xn.delete(He),Xn.delete(et),ur}},2925:(Ce,We,te)=>{var we=te(9471),be=te(7433);Ce.exports=function Le(V,Ne,Fe,He,et){return V===Ne||(null==V||null==Ne||!be(V)&&!be(Ne)?V!=V&&Ne!=Ne:we(V,Ne,Fe,He,Le,et))}},3028:(Ce,We,te)=>{var we=te(6399),be=te(1483),Le=te(3434),V=te(5230),Ne=te(3718);function Fe(He){var et=-1,Sn=null==He?0:He.length;for(this.clear();++et<Sn;){var An=He[et];this.set(An[0],An[1])}}Fe.prototype.clear=we,Fe.prototype.delete=be,Fe.prototype.get=Le,Fe.prototype.has=V,Fe.prototype.set=Ne,Ce.exports=Fe},3151:(Ce,We,te)=>{Ce=te.nmd(Ce);var we=te(1464),be=te(5710),Le=We&&!We.nodeType&&We,V=Le&&Ce&&!Ce.nodeType&&Ce,Fe=V&&V.exports===Le?we.Buffer:void 0;Ce.exports=(Fe?Fe.isBuffer:void 0)||be},3164:Ce=>{var We=Object.prototype;Ce.exports=function te(we){var be=we&&we.constructor;return we===("function"==typeof be&&be.prototype||We)}},3264:Ce=>{"use strict";function we(Le,V){return{start:Le,end:void 0===V?Le:V}}Ce.exports=function We(Le,V,Ne){var Fe=Le.start,He=Fe,An=V.substring(Fe);Ne.lastIndexOf(An)===Ne.length-An.length&&(V=V.substring(0,V.length-An.length),Ne=Ne.substring(0,Ne.length-An.length));var or=function te(Le,V){var Ne,Fe,Sn,et=0,or=0;for(V.length>Le.length?(Fe=V,Sn=Le):(Fe=Le,Sn=V);et<Fe.length;)Fe.charAt(et)!==Sn.charAt(or)?(Ne||(Ne={l_start:et,s_start:or}),et++):(Ne&&!Ne.complete&&(Ne.l_end=et,Ne.s_end=or,Ne.complete=!0),or++,et++);if(Ne&&!Ne.complete&&(Ne.complete=!0,Ne.s_end=Sn.length,Ne.l_end=Fe.length),Ne)return V.length>Le.length?{newStart:Ne.l_start,newEnd:Ne.l_end,type:"add"}:{newStart:Ne.s_start,newEnd:Ne.s_end,type:V.length<Le.length?"remove":"replace"}}(V,Ne);return or&&(He="remove"===or.type?or.newStart:or.newEnd),we(He)},Ce.exports.range=we},3278:Ce=>{Ce.exports=function We(te){var we=typeof te;return null!=te&&("object"==we||"function"==we)}},3306:function(Ce){var We;We=typeof global<"u"?global:this,Ce.exports=function(We){if(We.CSS&&We.CSS.escape)return We.CSS.escape;var te=function(we){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var Ne,be=String(we),Le=be.length,V=-1,Fe="",He=be.charCodeAt(0);++V<Le;)0!=(Ne=be.charCodeAt(V))?Fe+=Ne>=1&&Ne<=31||127==Ne||0==V&&Ne>=48&&Ne<=57||1==V&&Ne>=48&&Ne<=57&&45==He?"\\"+Ne.toString(16)+" ":0==V&&1==Le&&45==Ne||!(Ne>=128||45==Ne||95==Ne||Ne>=48&&Ne<=57||Ne>=65&&Ne<=90||Ne>=97&&Ne<=122)?"\\"+be.charAt(V):be.charAt(V):Fe+="\ufffd";return Fe};return We.CSS||(We.CSS={}),We.CSS.escape=te,te}(We)},3327:Ce=>{var te=Object.prototype.toString;Ce.exports=function we(be){return te.call(be)}},3329:Ce=>{Ce.exports=function We(te){var we=typeof te;return"string"==we||"number"==we||"symbol"==we||"boolean"==we?"__proto__"!==te:null===te}},3434:(Ce,We,te)=>{var we=te(8247),V=Object.prototype.hasOwnProperty;Ce.exports=function Ne(Fe){var He=this.__data__;if(we){var et=He[Fe];return"__lodash_hash_undefined__"===et?void 0:et}return V.call(He,Fe)?He[Fe]:void 0}},3539:(Ce,We,te)=>{var we=te(9926),be=te(181),Le=te(2561);Ce.exports=function V(Ne){return we(Ne,Le,be)}},3578:Ce=>{Ce.exports=function We(te){var we=-1,be=Array(te.size);return te.forEach(function(Le){be[++we]=Le}),be}},3643:Ce=>{Ce.exports=function We(){this.__data__=[],this.size=0}},3718:(Ce,We,te)=>{var we=te(8247);Ce.exports=function Le(V,Ne){var Fe=this.__data__;return this.size+=this.has(V)?0:1,Fe[V]=we&&void 0===Ne?"__lodash_hash_undefined__":Ne,this}},3809:(Ce,We,te)=>{var we=te(3164),be=te(6199),V=Object.prototype.hasOwnProperty;Ce.exports=function Ne(Fe){if(!we(Fe))return be(Fe);var He=[];for(var et in Object(Fe))V.call(Fe,et)&&"constructor"!=et&&He.push(et);return He}},4385:(Ce,We,te)=>{var we=te(298),be=te(8737);Ce.exports=function Le(V,Ne){var Fe=be(V,Ne);return we(Fe)?Fe:void 0}},4516:(Ce,We,te)=>{var we=te(5752),be=te(1012),Le=te(752);Ce.exports=function Ne(Fe,He){var et=this.__data__;if(et instanceof we){var Sn=et.__data__;if(!be||Sn.length<199)return Sn.push([Fe,He]),this.size=++et.size,this;et=this.__data__=new Le(Sn)}return et.set(Fe,He),this.size=et.size,this}},4643:Ce=>{Ce.exports=function te(we){return this.__data__.set(we,"__lodash_hash_undefined__"),this}},5013:(Ce,We,te)=>{var Le=te(4385)(te(1464),"DataView");Ce.exports=Le},5230:(Ce,We,te)=>{var we=te(8247),Le=Object.prototype.hasOwnProperty;Ce.exports=function V(Ne){var Fe=this.__data__;return we?void 0!==Fe[Ne]:Le.call(Fe,Ne)}},5280:Ce=>{Ce.exports=function We(te){return this.__data__.get(te)}},5324:Ce=>{function We(te){this.cache=te}Ce.exports=We,We.prototype.resolveRule=function(te,we){return this.resolve("rule",te,we)},We.prototype.resolveConfig=function(te,we){return this.resolve("config",te,we)},We.prototype.resolve=function(te,we,be){const Le=`${we}/${be}`,V=this.cache[`${te}:${Le}`];if(!V)throw new Error(`unknown ${te} <${Le}>`);return V}},5710:Ce=>{Ce.exports=function We(){return!1}},5752:(Ce,We,te)=>{var we=te(3643),be=te(7103),Le=te(62),V=te(1610),Ne=te(1090);function Fe(He){var et=-1,Sn=null==He?0:He.length;for(this.clear();++et<Sn;){var An=He[et];this.set(An[0],An[1])}}Fe.prototype.clear=we,Fe.prototype.delete=be,Fe.prototype.get=Le,Fe.prototype.has=V,Fe.prototype.set=Ne,Ce.exports=Fe},5811:()=>{"use strict";"function"!=typeof Object.assign&&(Object.assign=function(Ce){for(var We=[],te=1;te<arguments.length;te++)We[te-1]=arguments[te];if(!Ce)throw TypeError("Cannot convert undefined or null to object");for(var we=function(Ne){Ne&&Object.keys(Ne).forEach(function(Fe){return Ce[Fe]=Ne[Fe]})},be=0,Le=We;be<Le.length;be++)we(Le[be]);return Ce})},6199:(Ce,We,te)=>{var be=te(2852)(Object.keys,Object);Ce.exports=be},6265:(Ce,We,te)=>{var we=te(8313),be=te(7433),Le=Object.prototype,V=Le.hasOwnProperty,Ne=Le.propertyIsEnumerable,Fe=we(function(){return arguments}())?we:function(He){return be(He)&&V.call(He,"callee")&&!Ne.call(He,"callee")};Ce.exports=Fe},6316:(Ce,We,te)=>{var we=te(2651);Ce.exports=function be(Le,V){for(var Ne=Le.length;Ne--;)if(we(Le[Ne][0],V))return Ne;return-1}},6319:Ce=>{Ce.exports=function We(te,we){for(var be=-1,Le=we.length,V=te.length;++be<Le;)te[V+be]=we[be];return te}},6399:(Ce,We,te)=>{var we=te(8247);Ce.exports=function be(){this.__data__=we?we(null):{},this.size=0}},6898:(Ce,We,te)=>{var we=te(5752),be=te(8945),Le=te(8425),V=te(5280),Ne=te(324),Fe=te(4516);function He(et){var Sn=this.__data__=new we(et);this.size=Sn.size}He.prototype.clear=be,He.prototype.delete=Le,He.prototype.get=V,He.prototype.has=Ne,He.prototype.set=Fe,Ce.exports=He},7103:(Ce,We,te)=>{var we=te(6316),Le=Array.prototype.splice;Ce.exports=function V(Ne){var Fe=this.__data__,He=we(Fe,Ne);return!(He<0||(He==Fe.length-1?Fe.pop():Le.call(Fe,He,1),--this.size,0))}},7152:Ce=>{Ce.exports=function We(te){var we=-1,be=Array(te.size);return te.forEach(function(Le,V){be[++we]=[V,Le]}),be}},7258:(Ce,We,te)=>{var we=te(9038);Ce.exports=function be(Le,V){var Ne=we(this,Le),Fe=Ne.size;return Ne.set(Le,V),this.size+=Ne.size==Fe?0:1,this}},7291:(Ce,We,te)=>{var we=te(8653),be=te(8845);Ce.exports=function Le(V){return null!=V&&be(V.length)&&!we(V)}},7371:Ce=>{Ce.exports=function We(te,we){for(var be=-1,Le=null==te?0:te.length;++be<Le;)if(we(te[be],be,te))return!0;return!1}},7433:Ce=>{Ce.exports=function We(te){return null!=te&&"object"==typeof te}},7766:(Ce,We,te)=>{var we=te(9038);Ce.exports=function be(Le){return we(this,Le).get(Le)}},7814:(Ce,We,te)=>{var Le=te(4385)(te(1464),"Set");Ce.exports=Le},7880:(Ce,We,te)=>{var we=te(3539),V=Object.prototype.hasOwnProperty;Ce.exports=function Ne(Fe,He,et,Sn,An,or){var Xn=1&et,Yr=we(Fe),Ri=Yr.length;if(Ri!=we(He).length&&!Xn)return!1;for(var Wr=Ri;Wr--;){var Rr=Yr[Wr];if(!(Xn?Rr in He:V.call(He,Rr)))return!1}var ur=or.get(Fe),vi=or.get(He);if(ur&&vi)return ur==He&&vi==Fe;var S=!0;or.set(Fe,He),or.set(He,Fe);for(var U=Xn;++Wr<Ri;){var $=Fe[Rr=Yr[Wr]],ce=He[Rr];if(Sn)var xe=Xn?Sn(ce,$,Rr,He,Fe,or):Sn($,ce,Rr,Fe,He,or);if(!(void 0===xe?$===ce||An($,ce,et,Sn,or):xe)){S=!1;break}U||(U="constructor"==Rr)}if(S&&!U){var De=Fe.constructor,_e=He.constructor;De!=_e&&"constructor"in Fe&&"constructor"in He&&!("function"==typeof De&&De instanceof De&&"function"==typeof _e&&_e instanceof _e)&&(S=!1)}return or.delete(Fe),or.delete(He),S}},7987:(Ce,We,te)=>{var we=te(8516),be=te(2737),Le=te(2651),V=te(2900),Ne=te(7152),Fe=te(3578),vi=we?we.prototype:void 0,S=vi?vi.valueOf:void 0;Ce.exports=function U($,ce,xe,De,_e,ke,Bt){switch(xe){case"[object DataView]":if($.byteLength!=ce.byteLength||$.byteOffset!=ce.byteOffset)return!1;$=$.buffer,ce=ce.buffer;case"[object ArrayBuffer]":return!($.byteLength!=ce.byteLength||!ke(new be($),new be(ce)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Le(+$,+ce);case"[object Error]":return $.name==ce.name&&$.message==ce.message;case"[object RegExp]":case"[object String]":return $==ce+"";case"[object Map]":var wt=Ne;case"[object Set]":if(wt||(wt=Fe),$.size!=ce.size&&!(1&De))return!1;var St=Bt.get($);if(St)return St==ce;De|=2,Bt.set($,ce);var ge=V(wt($),wt(ce),De,_e,ke,Bt);return Bt.delete($),ge;case"[object Symbol]":if(S)return S.call($)==S.call(ce)}return!1}},8020:Ce=>{var te=Function.prototype.toString;Ce.exports=function we(be){if(null!=be){try{return te.call(be)}catch{}try{return be+""}catch{}}return""}},8068:(Ce,We,te)=>{var we=te(1057),be=te(8845),Le=te(7433),ke={};ke["[object Float32Array]"]=ke["[object Float64Array]"]=ke["[object Int8Array]"]=ke["[object Int16Array]"]=ke["[object Int32Array]"]=ke["[object Uint8Array]"]=ke["[object Uint8ClampedArray]"]=ke["[object Uint16Array]"]=ke["[object Uint32Array]"]=!0,ke["[object Arguments]"]=ke["[object Array]"]=ke["[object ArrayBuffer]"]=ke["[object Boolean]"]=ke["[object DataView]"]=ke["[object Date]"]=ke["[object Error]"]=ke["[object Function]"]=ke["[object Map]"]=ke["[object Number]"]=ke["[object Object]"]=ke["[object RegExp]"]=ke["[object Set]"]=ke["[object String]"]=ke["[object WeakMap]"]=!1,Ce.exports=function Bt(wt){return Le(wt)&&be(wt.length)&&!!ke[we(wt)]}},8089:function(Ce,We,te){var we;(function(){function be(S){"use strict";var U={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `\xab\xab\xab` and `\xbb\xbb\xbb` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===S)return JSON.parse(JSON.stringify(U));var $={};for(var ce in U)U.hasOwnProperty(ce)&&($[ce]=U[ce].defaultValue);return $}var V={},Ne={},Fe={},He=be(!0),et="vanilla",Sn={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:be(!0),allOn:function Le(){"use strict";var S=be(!0),U={};for(var $ in S)S.hasOwnProperty($)&&(U[$]=!0);return U}()};function An(S,U){"use strict";var $=U?"Error in "+U+" extension->":"Error in unnamed extension",ce={valid:!0,error:""};V.helper.isArray(S)||(S=[S]);for(var xe=0;xe<S.length;++xe){var De=$+" sub-extension "+xe+": ",_e=S[xe];if("object"!=typeof _e)return ce.valid=!1,ce.error=De+"must be an object, but "+typeof _e+" given",ce;if(!V.helper.isString(_e.type))return ce.valid=!1,ce.error=De+'property "type" must be a string, but '+typeof _e.type+" given",ce;var ke=_e.type=_e.type.toLowerCase();if("language"===ke&&(ke=_e.type="lang"),"html"===ke&&(ke=_e.type="output"),"lang"!==ke&&"output"!==ke&&"listener"!==ke)return ce.valid=!1,ce.error=De+"type "+ke+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',ce;if("listener"===ke){if(V.helper.isUndefined(_e.listeners))return ce.valid=!1,ce.error=De+'. Extensions of type "listener" must have a property called "listeners"',ce}else if(V.helper.isUndefined(_e.filter)&&V.helper.isUndefined(_e.regex))return ce.valid=!1,ce.error=De+ke+' extensions must define either a "regex" property or a "filter" method',ce;if(_e.listeners){if("object"!=typeof _e.listeners)return ce.valid=!1,ce.error=De+'"listeners" property must be an object but '+typeof _e.listeners+" given",ce;for(var Bt in _e.listeners)if(_e.listeners.hasOwnProperty(Bt)&&"function"!=typeof _e.listeners[Bt])return ce.valid=!1,ce.error=De+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+Bt+" must be a function but "+typeof _e.listeners[Bt]+" given",ce}if(_e.filter){if("function"!=typeof _e.filter)return ce.valid=!1,ce.error=De+'"filter" must be a function, but '+typeof _e.filter+" given",ce}else if(_e.regex){if(V.helper.isString(_e.regex)&&(_e.regex=new RegExp(_e.regex,"g")),!(_e.regex instanceof RegExp))return ce.valid=!1,ce.error=De+'"regex" property must either be a string or a RegExp object, but '+typeof _e.regex+" given",ce;if(V.helper.isUndefined(_e.replace))return ce.valid=!1,ce.error=De+'"regex" extensions must implement a replace string or function',ce}}return ce}function or(S,U){"use strict";return"\xa8E"+U.charCodeAt(0)+"E"}V.helper={},V.extensions={},V.setOption=function(S,U){"use strict";return He[S]=U,this},V.getOption=function(S){"use strict";return He[S]},V.getOptions=function(){"use strict";return He},V.resetOptions=function(){"use strict";He=be(!0)},V.setFlavor=function(S){"use strict";if(!Sn.hasOwnProperty(S))throw Error(S+" flavor was not found");V.resetOptions();var U=Sn[S];for(var $ in et=S,U)U.hasOwnProperty($)&&(He[$]=U[$])},V.getFlavor=function(){"use strict";return et},V.getFlavorOptions=function(S){"use strict";if(Sn.hasOwnProperty(S))return Sn[S]},V.getDefaultOptions=function(S){"use strict";return be(S)},V.subParser=function(S,U){"use strict";if(V.helper.isString(S)){if(!(typeof U<"u")){if(Ne.hasOwnProperty(S))return Ne[S];throw Error("SubParser named "+S+" not registered!")}Ne[S]=U}},V.extension=function(S,U){"use strict";if(!V.helper.isString(S))throw Error("Extension 'name' must be a string");if(S=V.helper.stdExtName(S),V.helper.isUndefined(U)){if(!Fe.hasOwnProperty(S))throw Error("Extension named "+S+" is not registered!");return Fe[S]}"function"==typeof U&&(U=U()),V.helper.isArray(U)||(U=[U]);var $=An(U,S);if(!$.valid)throw Error($.error);Fe[S]=U},V.getAllExtensions=function(){"use strict";return Fe},V.removeExtension=function(S){"use strict";delete Fe[S]},V.resetExtensions=function(){"use strict";Fe={}},V.validateExtension=function(S){"use strict";var U=An(S,null);return!!U.valid||(console.warn(U.error),!1)},V.hasOwnProperty("helper")||(V.helper={}),V.helper.isString=function(S){"use strict";return"string"==typeof S||S instanceof String},V.helper.isFunction=function(S){"use strict";return S&&"[object Function]"==={}.toString.call(S)},V.helper.isArray=function(S){"use strict";return Array.isArray(S)},V.helper.isUndefined=function(S){"use strict";return typeof S>"u"},V.helper.forEach=function(S,U){"use strict";if(V.helper.isUndefined(S))throw new Error("obj param is required");if(V.helper.isUndefined(U))throw new Error("callback param is required");if(!V.helper.isFunction(U))throw new Error("callback param must be a function/closure");if("function"==typeof S.forEach)S.forEach(U);else if(V.helper.isArray(S))for(var $=0;$<S.length;$++)U(S[$],$,S);else{if("object"!=typeof S)throw new Error("obj does not seem to be an array or an iterable object");for(var ce in S)S.hasOwnProperty(ce)&&U(S[ce],ce,S)}},V.helper.stdExtName=function(S){"use strict";return S.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},V.helper.escapeCharactersCallback=or,V.helper.escapeCharacters=function(S,U,$){"use strict";var ce="(["+U.replace(/([\[\]\\])/g,"\\$1")+"])";$&&(ce="\\\\"+ce);var xe=new RegExp(ce,"g");return S.replace(xe,or)},V.helper.unescapeHTMLEntities=function(S){"use strict";return S.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var Xn=function(S,U,$,ce){"use strict";var wt,_t,St,ge,Dt,xe=ce||"",De=xe.indexOf("g")>-1,_e=new RegExp(U+"|"+$,"g"+xe.replace(/g/g,"")),ke=new RegExp(U,xe.replace(/g/g,"")),Bt=[];do{for(wt=0;St=_e.exec(S);)if(ke.test(St[0]))wt++||(ge=(_t=_e.lastIndex)-St[0].length);else if(wt&&! --wt&&(Bt.push({left:{start:ge,end:_t},match:{start:_t,end:St.index},right:{start:St.index,end:Dt=St.index+St[0].length},wholeMatch:{start:ge,end:Dt}}),!De))return Bt}while(wt&&(_e.lastIndex=_t));return Bt};V.helper.matchRecursiveRegExp=function(S,U,$,ce){"use strict";for(var xe=Xn(S,U,$,ce),De=[],_e=0;_e<xe.length;++_e)De.push([S.slice(xe[_e].wholeMatch.start,xe[_e].wholeMatch.end),S.slice(xe[_e].match.start,xe[_e].match.end),S.slice(xe[_e].left.start,xe[_e].left.end),S.slice(xe[_e].right.start,xe[_e].right.end)]);return De},V.helper.replaceRecursiveRegExp=function(S,U,$,ce,xe){"use strict";if(!V.helper.isFunction(U)){var De=U;U=function(){return De}}var _e=Xn(S,$,ce,xe),ke=S,Bt=_e.length;if(Bt>0){var wt=[];0!==_e[0].wholeMatch.start&&wt.push(S.slice(0,_e[0].wholeMatch.start));for(var _t=0;_t<Bt;++_t)wt.push(U(S.slice(_e[_t].wholeMatch.start,_e[_t].wholeMatch.end),S.slice(_e[_t].match.start,_e[_t].match.end),S.slice(_e[_t].left.start,_e[_t].left.end),S.slice(_e[_t].right.start,_e[_t].right.end))),_t<Bt-1&&wt.push(S.slice(_e[_t].wholeMatch.end,_e[_t+1].wholeMatch.start));_e[Bt-1].wholeMatch.end<S.length&&wt.push(S.slice(_e[Bt-1].wholeMatch.end)),ke=wt.join("")}return ke},V.helper.regexIndexOf=function(S,U,$){"use strict";if(!V.helper.isString(S))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(U instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var ce=S.substring($||0).search(U);return ce>=0?ce+($||0):ce},V.helper.splitAtIndex=function(S,U){"use strict";if(!V.helper.isString(S))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[S.substring(0,U),S.substring(U)]},V.helper.encodeEmailAddress=function(S){"use strict";var U=[function($){return"&#"+$.charCodeAt(0)+";"},function($){return"&#x"+$.charCodeAt(0).toString(16)+";"},function($){return $}];return S.replace(/./g,function($){if("@"===$)$=U[Math.floor(2*Math.random())]($);else{var ce=Math.random();$=ce>.9?U[2]($):ce>.45?U[1]($):U[0]($)}return $})},V.helper.padEnd=function(U,$,ce){"use strict";return $|=0,ce=String(ce||" "),U.length>$?String(U):(($-=U.length)>ce.length&&(ce+=ce.repeat($/ce.length)),String(U)+ce.slice(0,$))},typeof console>"u"&&(console={warn:function(S){"use strict";alert(S)},log:function(S){"use strict";alert(S)},error:function(S){"use strict";throw S}}),V.helper.regexes={asteriskDashAndColon:/([*_:~])/g},V.helper.emojis={"+1":"\u{1f44d}","-1":"\u{1f44e}",100:"\u{1f4af}",1234:"\u{1f522}","1st_place_medal":"\u{1f947}","2nd_place_medal":"\u{1f948}","3rd_place_medal":"\u{1f949}","8ball":"\u{1f3b1}",a:"\u{1f170}\ufe0f",ab:"\u{1f18e}",abc:"\u{1f524}",abcd:"\u{1f521}",accept:"\u{1f251}",aerial_tramway:"\u{1f6a1}",airplane:"\u2708\ufe0f",alarm_clock:"\u23f0",alembic:"\u2697\ufe0f",alien:"\u{1f47d}",ambulance:"\u{1f691}",amphora:"\u{1f3fa}",anchor:"\u2693\ufe0f",angel:"\u{1f47c}",anger:"\u{1f4a2}",angry:"\u{1f620}",anguished:"\u{1f627}",ant:"\u{1f41c}",apple:"\u{1f34e}",aquarius:"\u2652\ufe0f",aries:"\u2648\ufe0f",arrow_backward:"\u25c0\ufe0f",arrow_double_down:"\u23ec",arrow_double_up:"\u23eb",arrow_down:"\u2b07\ufe0f",arrow_down_small:"\u{1f53d}",arrow_forward:"\u25b6\ufe0f",arrow_heading_down:"\u2935\ufe0f",arrow_heading_up:"\u2934\ufe0f",arrow_left:"\u2b05\ufe0f",arrow_lower_left:"\u2199\ufe0f",arrow_lower_right:"\u2198\ufe0f",arrow_right:"\u27a1\ufe0f",arrow_right_hook:"\u21aa\ufe0f",arrow_up:"\u2b06\ufe0f",arrow_up_down:"\u2195\ufe0f",arrow_up_small:"\u{1f53c}",arrow_upper_left:"\u2196\ufe0f",arrow_upper_right:"\u2197\ufe0f",arrows_clockwise:"\u{1f503}",arrows_counterclockwise:"\u{1f504}",art:"\u{1f3a8}",articulated_lorry:"\u{1f69b}",artificial_satellite:"\u{1f6f0}",astonished:"\u{1f632}",athletic_shoe:"\u{1f45f}",atm:"\u{1f3e7}",atom_symbol:"\u269b\ufe0f",avocado:"\u{1f951}",b:"\u{1f171}\ufe0f",baby:"\u{1f476}",baby_bottle:"\u{1f37c}",baby_chick:"\u{1f424}",baby_symbol:"\u{1f6bc}",back:"\u{1f519}",bacon:"\u{1f953}",badminton:"\u{1f3f8}",baggage_claim:"\u{1f6c4}",baguette_bread:"\u{1f956}",balance_scale:"\u2696\ufe0f",balloon:"\u{1f388}",ballot_box:"\u{1f5f3}",ballot_box_with_check:"\u2611\ufe0f",bamboo:"\u{1f38d}",banana:"\u{1f34c}",bangbang:"\u203c\ufe0f",bank:"\u{1f3e6}",bar_chart:"\u{1f4ca}",barber:"\u{1f488}",baseball:"\u26be\ufe0f",basketball:"\u{1f3c0}",basketball_man:"\u26f9\ufe0f",basketball_woman:"\u26f9\ufe0f&zwj;\u2640\ufe0f",bat:"\u{1f987}",bath:"\u{1f6c0}",bathtub:"\u{1f6c1}",battery:"\u{1f50b}",beach_umbrella:"\u{1f3d6}",bear:"\u{1f43b}",bed:"\u{1f6cf}",bee:"\u{1f41d}",beer:"\u{1f37a}",beers:"\u{1f37b}",beetle:"\u{1f41e}",beginner:"\u{1f530}",bell:"\u{1f514}",bellhop_bell:"\u{1f6ce}",bento:"\u{1f371}",biking_man:"\u{1f6b4}",bike:"\u{1f6b2}",biking_woman:"\u{1f6b4}&zwj;\u2640\ufe0f",bikini:"\u{1f459}",biohazard:"\u2623\ufe0f",bird:"\u{1f426}",birthday:"\u{1f382}",black_circle:"\u26ab\ufe0f",black_flag:"\u{1f3f4}",black_heart:"\u{1f5a4}",black_joker:"\u{1f0cf}",black_large_square:"\u2b1b\ufe0f",black_medium_small_square:"\u25fe\ufe0f",black_medium_square:"\u25fc\ufe0f",black_nib:"\u2712\ufe0f",black_small_square:"\u25aa\ufe0f",black_square_button:"\u{1f532}",blonde_man:"\u{1f471}",blonde_woman:"\u{1f471}&zwj;\u2640\ufe0f",blossom:"\u{1f33c}",blowfish:"\u{1f421}",blue_book:"\u{1f4d8}",blue_car:"\u{1f699}",blue_heart:"\u{1f499}",blush:"\u{1f60a}",boar:"\u{1f417}",boat:"\u26f5\ufe0f",bomb:"\u{1f4a3}",book:"\u{1f4d6}",bookmark:"\u{1f516}",bookmark_tabs:"\u{1f4d1}",books:"\u{1f4da}",boom:"\u{1f4a5}",boot:"\u{1f462}",bouquet:"\u{1f490}",bowing_man:"\u{1f647}",bow_and_arrow:"\u{1f3f9}",bowing_woman:"\u{1f647}&zwj;\u2640\ufe0f",bowling:"\u{1f3b3}",boxing_glove:"\u{1f94a}",boy:"\u{1f466}",bread:"\u{1f35e}",bride_with_veil:"\u{1f470}",bridge_at_night:"\u{1f309}",briefcase:"\u{1f4bc}",broken_heart:"\u{1f494}",bug:"\u{1f41b}",building_construction:"\u{1f3d7}",bulb:"\u{1f4a1}",bullettrain_front:"\u{1f685}",bullettrain_side:"\u{1f684}",burrito:"\u{1f32f}",bus:"\u{1f68c}",business_suit_levitating:"\u{1f574}",busstop:"\u{1f68f}",bust_in_silhouette:"\u{1f464}",busts_in_silhouette:"\u{1f465}",butterfly:"\u{1f98b}",cactus:"\u{1f335}",cake:"\u{1f370}",calendar:"\u{1f4c6}",call_me_hand:"\u{1f919}",calling:"\u{1f4f2}",camel:"\u{1f42b}",camera:"\u{1f4f7}",camera_flash:"\u{1f4f8}",camping:"\u{1f3d5}",cancer:"\u264b\ufe0f",candle:"\u{1f56f}",candy:"\u{1f36c}",canoe:"\u{1f6f6}",capital_abcd:"\u{1f520}",capricorn:"\u2651\ufe0f",car:"\u{1f697}",card_file_box:"\u{1f5c3}",card_index:"\u{1f4c7}",card_index_dividers:"\u{1f5c2}",carousel_horse:"\u{1f3a0}",carrot:"\u{1f955}",cat:"\u{1f431}",cat2:"\u{1f408}",cd:"\u{1f4bf}",chains:"\u26d3",champagne:"\u{1f37e}",chart:"\u{1f4b9}",chart_with_downwards_trend:"\u{1f4c9}",chart_with_upwards_trend:"\u{1f4c8}",checkered_flag:"\u{1f3c1}",cheese:"\u{1f9c0}",cherries:"\u{1f352}",cherry_blossom:"\u{1f338}",chestnut:"\u{1f330}",chicken:"\u{1f414}",children_crossing:"\u{1f6b8}",chipmunk:"\u{1f43f}",chocolate_bar:"\u{1f36b}",christmas_tree:"\u{1f384}",church:"\u26ea\ufe0f",cinema:"\u{1f3a6}",circus_tent:"\u{1f3aa}",city_sunrise:"\u{1f307}",city_sunset:"\u{1f306}",cityscape:"\u{1f3d9}",cl:"\u{1f191}",clamp:"\u{1f5dc}",clap:"\u{1f44f}",clapper:"\u{1f3ac}",classical_building:"\u{1f3db}",clinking_glasses:"\u{1f942}",clipboard:"\u{1f4cb}",clock1:"\u{1f550}",clock10:"\u{1f559}",clock1030:"\u{1f565}",clock11:"\u{1f55a}",clock1130:"\u{1f566}",clock12:"\u{1f55b}",clock1230:"\u{1f567}",clock130:"\u{1f55c}",clock2:"\u{1f551}",clock230:"\u{1f55d}",clock3:"\u{1f552}",clock330:"\u{1f55e}",clock4:"\u{1f553}",clock430:"\u{1f55f}",clock5:"\u{1f554}",clock530:"\u{1f560}",clock6:"\u{1f555}",clock630:"\u{1f561}",clock7:"\u{1f556}",clock730:"\u{1f562}",clock8:"\u{1f557}",clock830:"\u{1f563}",clock9:"\u{1f558}",clock930:"\u{1f564}",closed_book:"\u{1f4d5}",closed_lock_with_key:"\u{1f510}",closed_umbrella:"\u{1f302}",cloud:"\u2601\ufe0f",cloud_with_lightning:"\u{1f329}",cloud_with_lightning_and_rain:"\u26c8",cloud_with_rain:"\u{1f327}",cloud_with_snow:"\u{1f328}",clown_face:"\u{1f921}",clubs:"\u2663\ufe0f",cocktail:"\u{1f378}",coffee:"\u2615\ufe0f",coffin:"\u26b0\ufe0f",cold_sweat:"\u{1f630}",comet:"\u2604\ufe0f",computer:"\u{1f4bb}",computer_mouse:"\u{1f5b1}",confetti_ball:"\u{1f38a}",confounded:"\u{1f616}",confused:"\u{1f615}",congratulations:"\u3297\ufe0f",construction:"\u{1f6a7}",construction_worker_man:"\u{1f477}",construction_worker_woman:"\u{1f477}&zwj;\u2640\ufe0f",control_knobs:"\u{1f39b}",convenience_store:"\u{1f3ea}",cookie:"\u{1f36a}",cool:"\u{1f192}",policeman:"\u{1f46e}",copyright:"\xa9\ufe0f",corn:"\u{1f33d}",couch_and_lamp:"\u{1f6cb}",couple:"\u{1f46b}",couple_with_heart_woman_man:"\u{1f491}",couple_with_heart_man_man:"\u{1f468}&zwj;\u2764\ufe0f&zwj;\u{1f468}",couple_with_heart_woman_woman:"\u{1f469}&zwj;\u2764\ufe0f&zwj;\u{1f469}",couplekiss_man_man:"\u{1f468}&zwj;\u2764\ufe0f&zwj;\u{1f48b}&zwj;\u{1f468}",couplekiss_man_woman:"\u{1f48f}",couplekiss_woman_woman:"\u{1f469}&zwj;\u2764\ufe0f&zwj;\u{1f48b}&zwj;\u{1f469}",cow:"\u{1f42e}",cow2:"\u{1f404}",cowboy_hat_face:"\u{1f920}",crab:"\u{1f980}",crayon:"\u{1f58d}",credit_card:"\u{1f4b3}",crescent_moon:"\u{1f319}",cricket:"\u{1f3cf}",crocodile:"\u{1f40a}",croissant:"\u{1f950}",crossed_fingers:"\u{1f91e}",crossed_flags:"\u{1f38c}",crossed_swords:"\u2694\ufe0f",crown:"\u{1f451}",cry:"\u{1f622}",crying_cat_face:"\u{1f63f}",crystal_ball:"\u{1f52e}",cucumber:"\u{1f952}",cupid:"\u{1f498}",curly_loop:"\u27b0",currency_exchange:"\u{1f4b1}",curry:"\u{1f35b}",custard:"\u{1f36e}",customs:"\u{1f6c3}",cyclone:"\u{1f300}",dagger:"\u{1f5e1}",dancer:"\u{1f483}",dancing_women:"\u{1f46f}",dancing_men:"\u{1f46f}&zwj;\u2642\ufe0f",dango:"\u{1f361}",dark_sunglasses:"\u{1f576}",dart:"\u{1f3af}",dash:"\u{1f4a8}",date:"\u{1f4c5}",deciduous_tree:"\u{1f333}",deer:"\u{1f98c}",department_store:"\u{1f3ec}",derelict_house:"\u{1f3da}",desert:"\u{1f3dc}",desert_island:"\u{1f3dd}",desktop_computer:"\u{1f5a5}",male_detective:"\u{1f575}\ufe0f",diamond_shape_with_a_dot_inside:"\u{1f4a0}",diamonds:"\u2666\ufe0f",disappointed:"\u{1f61e}",disappointed_relieved:"\u{1f625}",dizzy:"\u{1f4ab}",dizzy_face:"\u{1f635}",do_not_litter:"\u{1f6af}",dog:"\u{1f436}",dog2:"\u{1f415}",dollar:"\u{1f4b5}",dolls:"\u{1f38e}",dolphin:"\u{1f42c}",door:"\u{1f6aa}",doughnut:"\u{1f369}",dove:"\u{1f54a}",dragon:"\u{1f409}",dragon_face:"\u{1f432}",dress:"\u{1f457}",dromedary_camel:"\u{1f42a}",drooling_face:"\u{1f924}",droplet:"\u{1f4a7}",drum:"\u{1f941}",duck:"\u{1f986}",dvd:"\u{1f4c0}","e-mail":"\u{1f4e7}",eagle:"\u{1f985}",ear:"\u{1f442}",ear_of_rice:"\u{1f33e}",earth_africa:"\u{1f30d}",earth_americas:"\u{1f30e}",earth_asia:"\u{1f30f}",egg:"\u{1f95a}",eggplant:"\u{1f346}",eight_pointed_black_star:"\u2734\ufe0f",eight_spoked_asterisk:"\u2733\ufe0f",electric_plug:"\u{1f50c}",elephant:"\u{1f418}",email:"\u2709\ufe0f",end:"\u{1f51a}",envelope_with_arrow:"\u{1f4e9}",euro:"\u{1f4b6}",european_castle:"\u{1f3f0}",european_post_office:"\u{1f3e4}",evergreen_tree:"\u{1f332}",exclamation:"\u2757\ufe0f",expressionless:"\u{1f611}",eye:"\u{1f441}",eye_speech_bubble:"\u{1f441}&zwj;\u{1f5e8}",eyeglasses:"\u{1f453}",eyes:"\u{1f440}",face_with_head_bandage:"\u{1f915}",face_with_thermometer:"\u{1f912}",fist_oncoming:"\u{1f44a}",factory:"\u{1f3ed}",fallen_leaf:"\u{1f342}",family_man_woman_boy:"\u{1f46a}",family_man_boy:"\u{1f468}&zwj;\u{1f466}",family_man_boy_boy:"\u{1f468}&zwj;\u{1f466}&zwj;\u{1f466}",family_man_girl:"\u{1f468}&zwj;\u{1f467}",family_man_girl_boy:"\u{1f468}&zwj;\u{1f467}&zwj;\u{1f466}",family_man_girl_girl:"\u{1f468}&zwj;\u{1f467}&zwj;\u{1f467}",family_man_man_boy:"\u{1f468}&zwj;\u{1f468}&zwj;\u{1f466}",family_man_man_boy_boy:"\u{1f468}&zwj;\u{1f468}&zwj;\u{1f466}&zwj;\u{1f466}",family_man_man_girl:"\u{1f468}&zwj;\u{1f468}&zwj;\u{1f467}",family_man_man_girl_boy:"\u{1f468}&zwj;\u{1f468}&zwj;\u{1f467}&zwj;\u{1f466}",family_man_man_girl_girl:"\u{1f468}&zwj;\u{1f468}&zwj;\u{1f467}&zwj;\u{1f467}",family_man_woman_boy_boy:"\u{1f468}&zwj;\u{1f469}&zwj;\u{1f466}&zwj;\u{1f466}",family_man_woman_girl:"\u{1f468}&zwj;\u{1f469}&zwj;\u{1f467}",family_man_woman_girl_boy:"\u{1f468}&zwj;\u{1f469}&zwj;\u{1f467}&zwj;\u{1f466}",family_man_woman_girl_girl:"\u{1f468}&zwj;\u{1f469}&zwj;\u{1f467}&zwj;\u{1f467}",family_woman_boy:"\u{1f469}&zwj;\u{1f466}",family_woman_boy_boy:"\u{1f469}&zwj;\u{1f466}&zwj;\u{1f466}",family_woman_girl:"\u{1f469}&zwj;\u{1f467}",family_woman_girl_boy:"\u{1f469}&zwj;\u{1f467}&zwj;\u{1f466}",family_woman_girl_girl:"\u{1f469}&zwj;\u{1f467}&zwj;\u{1f467}",family_woman_woman_boy:"\u{1f469}&zwj;\u{1f469}&zwj;\u{1f466}",family_woman_woman_boy_boy:"\u{1f469}&zwj;\u{1f469}&zwj;\u{1f466}&zwj;\u{1f466}",family_woman_woman_girl:"\u{1f469}&zwj;\u{1f469}&zwj;\u{1f467}",family_woman_woman_girl_boy:"\u{1f469}&zwj;\u{1f469}&zwj;\u{1f467}&zwj;\u{1f466}",family_woman_woman_girl_girl:"\u{1f469}&zwj;\u{1f469}&zwj;\u{1f467}&zwj;\u{1f467}",fast_forward:"\u23e9",fax:"\u{1f4e0}",fearful:"\u{1f628}",feet:"\u{1f43e}",female_detective:"\u{1f575}\ufe0f&zwj;\u2640\ufe0f",ferris_wheel:"\u{1f3a1}",ferry:"\u26f4",field_hockey:"\u{1f3d1}",file_cabinet:"\u{1f5c4}",file_folder:"\u{1f4c1}",film_projector:"\u{1f4fd}",film_strip:"\u{1f39e}",fire:"\u{1f525}",fire_engine:"\u{1f692}",fireworks:"\u{1f386}",first_quarter_moon:"\u{1f313}",first_quarter_moon_with_face:"\u{1f31b}",fish:"\u{1f41f}",fish_cake:"\u{1f365}",fishing_pole_and_fish:"\u{1f3a3}",fist_raised:"\u270a",fist_left:"\u{1f91b}",fist_right:"\u{1f91c}",flags:"\u{1f38f}",flashlight:"\u{1f526}",fleur_de_lis:"\u269c\ufe0f",flight_arrival:"\u{1f6ec}",flight_departure:"\u{1f6eb}",floppy_disk:"\u{1f4be}",flower_playing_cards:"\u{1f3b4}",flushed:"\u{1f633}",fog:"\u{1f32b}",foggy:"\u{1f301}",football:"\u{1f3c8}",footprints:"\u{1f463}",fork_and_knife:"\u{1f374}",fountain:"\u26f2\ufe0f",fountain_pen:"\u{1f58b}",four_leaf_clover:"\u{1f340}",fox_face:"\u{1f98a}",framed_picture:"\u{1f5bc}",free:"\u{1f193}",fried_egg:"\u{1f373}",fried_shrimp:"\u{1f364}",fries:"\u{1f35f}",frog:"\u{1f438}",frowning:"\u{1f626}",frowning_face:"\u2639\ufe0f",frowning_man:"\u{1f64d}&zwj;\u2642\ufe0f",frowning_woman:"\u{1f64d}",middle_finger:"\u{1f595}",fuelpump:"\u26fd\ufe0f",full_moon:"\u{1f315}",full_moon_with_face:"\u{1f31d}",funeral_urn:"\u26b1\ufe0f",game_die:"\u{1f3b2}",gear:"\u2699\ufe0f",gem:"\u{1f48e}",gemini:"\u264a\ufe0f",ghost:"\u{1f47b}",gift:"\u{1f381}",gift_heart:"\u{1f49d}",girl:"\u{1f467}",globe_with_meridians:"\u{1f310}",goal_net:"\u{1f945}",goat:"\u{1f410}",golf:"\u26f3\ufe0f",golfing_man:"\u{1f3cc}\ufe0f",golfing_woman:"\u{1f3cc}\ufe0f&zwj;\u2640\ufe0f",gorilla:"\u{1f98d}",grapes:"\u{1f347}",green_apple:"\u{1f34f}",green_book:"\u{1f4d7}",green_heart:"\u{1f49a}",green_salad:"\u{1f957}",grey_exclamation:"\u2755",grey_question:"\u2754",grimacing:"\u{1f62c}",grin:"\u{1f601}",grinning:"\u{1f600}",guardsman:"\u{1f482}",guardswoman:"\u{1f482}&zwj;\u2640\ufe0f",guitar:"\u{1f3b8}",gun:"\u{1f52b}",haircut_woman:"\u{1f487}",haircut_man:"\u{1f487}&zwj;\u2642\ufe0f",hamburger:"\u{1f354}",hammer:"\u{1f528}",hammer_and_pick:"\u2692",hammer_and_wrench:"\u{1f6e0}",hamster:"\u{1f439}",hand:"\u270b",handbag:"\u{1f45c}",handshake:"\u{1f91d}",hankey:"\u{1f4a9}",hatched_chick:"\u{1f425}",hatching_chick:"\u{1f423}",headphones:"\u{1f3a7}",hear_no_evil:"\u{1f649}",heart:"\u2764\ufe0f",heart_decoration:"\u{1f49f}",heart_eyes:"\u{1f60d}",heart_eyes_cat:"\u{1f63b}",heartbeat:"\u{1f493}",heartpulse:"\u{1f497}",hearts:"\u2665\ufe0f",heavy_check_mark:"\u2714\ufe0f",heavy_division_sign:"\u2797",heavy_dollar_sign:"\u{1f4b2}",heavy_heart_exclamation:"\u2763\ufe0f",heavy_minus_sign:"\u2796",heavy_multiplication_x:"\u2716\ufe0f",heavy_plus_sign:"\u2795",helicopter:"\u{1f681}",herb:"\u{1f33f}",hibiscus:"\u{1f33a}",high_brightness:"\u{1f506}",high_heel:"\u{1f460}",hocho:"\u{1f52a}",hole:"\u{1f573}",honey_pot:"\u{1f36f}",horse:"\u{1f434}",horse_racing:"\u{1f3c7}",hospital:"\u{1f3e5}",hot_pepper:"\u{1f336}",hotdog:"\u{1f32d}",hotel:"\u{1f3e8}",hotsprings:"\u2668\ufe0f",hourglass:"\u231b\ufe0f",hourglass_flowing_sand:"\u23f3",house:"\u{1f3e0}",house_with_garden:"\u{1f3e1}",houses:"\u{1f3d8}",hugs:"\u{1f917}",hushed:"\u{1f62f}",ice_cream:"\u{1f368}",ice_hockey:"\u{1f3d2}",ice_skate:"\u26f8",icecream:"\u{1f366}",id:"\u{1f194}",ideograph_advantage:"\u{1f250}",imp:"\u{1f47f}",inbox_tray:"\u{1f4e5}",incoming_envelope:"\u{1f4e8}",tipping_hand_woman:"\u{1f481}",information_source:"\u2139\ufe0f",innocent:"\u{1f607}",interrobang:"\u2049\ufe0f",iphone:"\u{1f4f1}",izakaya_lantern:"\u{1f3ee}",jack_o_lantern:"\u{1f383}",japan:"\u{1f5fe}",japanese_castle:"\u{1f3ef}",japanese_goblin:"\u{1f47a}",japanese_ogre:"\u{1f479}",jeans:"\u{1f456}",joy:"\u{1f602}",joy_cat:"\u{1f639}",joystick:"\u{1f579}",kaaba:"\u{1f54b}",key:"\u{1f511}",keyboard:"\u2328\ufe0f",keycap_ten:"\u{1f51f}",kick_scooter:"\u{1f6f4}",kimono:"\u{1f458}",kiss:"\u{1f48b}",kissing:"\u{1f617}",kissing_cat:"\u{1f63d}",kissing_closed_eyes:"\u{1f61a}",kissing_heart:"\u{1f618}",kissing_smiling_eyes:"\u{1f619}",kiwi_fruit:"\u{1f95d}",koala:"\u{1f428}",koko:"\u{1f201}",label:"\u{1f3f7}",large_blue_circle:"\u{1f535}",large_blue_diamond:"\u{1f537}",large_orange_diamond:"\u{1f536}",last_quarter_moon:"\u{1f317}",last_quarter_moon_with_face:"\u{1f31c}",latin_cross:"\u271d\ufe0f",laughing:"\u{1f606}",leaves:"\u{1f343}",ledger:"\u{1f4d2}",left_luggage:"\u{1f6c5}",left_right_arrow:"\u2194\ufe0f",leftwards_arrow_with_hook:"\u21a9\ufe0f",lemon:"\u{1f34b}",leo:"\u264c\ufe0f",leopard:"\u{1f406}",level_slider:"\u{1f39a}",libra:"\u264e\ufe0f",light_rail:"\u{1f688}",link:"\u{1f517}",lion:"\u{1f981}",lips:"\u{1f444}",lipstick:"\u{1f484}",lizard:"\u{1f98e}",lock:"\u{1f512}",lock_with_ink_pen:"\u{1f50f}",lollipop:"\u{1f36d}",loop:"\u27bf",loud_sound:"\u{1f50a}",loudspeaker:"\u{1f4e2}",love_hotel:"\u{1f3e9}",love_letter:"\u{1f48c}",low_brightness:"\u{1f505}",lying_face:"\u{1f925}",m:"\u24c2\ufe0f",mag:"\u{1f50d}",mag_right:"\u{1f50e}",mahjong:"\u{1f004}\ufe0f",mailbox:"\u{1f4eb}",mailbox_closed:"\u{1f4ea}",mailbox_with_mail:"\u{1f4ec}",mailbox_with_no_mail:"\u{1f4ed}",man:"\u{1f468}",man_artist:"\u{1f468}&zwj;\u{1f3a8}",man_astronaut:"\u{1f468}&zwj;\u{1f680}",man_cartwheeling:"\u{1f938}&zwj;\u2642\ufe0f",man_cook:"\u{1f468}&zwj;\u{1f373}",man_dancing:"\u{1f57a}",man_facepalming:"\u{1f926}&zwj;\u2642\ufe0f",man_factory_worker:"\u{1f468}&zwj;\u{1f3ed}",man_farmer:"\u{1f468}&zwj;\u{1f33e}",man_firefighter:"\u{1f468}&zwj;\u{1f692}",man_health_worker:"\u{1f468}&zwj;\u2695\ufe0f",man_in_tuxedo:"\u{1f935}",man_judge:"\u{1f468}&zwj;\u2696\ufe0f",man_juggling:"\u{1f939}&zwj;\u2642\ufe0f",man_mechanic:"\u{1f468}&zwj;\u{1f527}",man_office_worker:"\u{1f468}&zwj;\u{1f4bc}",man_pilot:"\u{1f468}&zwj;\u2708\ufe0f",man_playing_handball:"\u{1f93e}&zwj;\u2642\ufe0f",man_playing_water_polo:"\u{1f93d}&zwj;\u2642\ufe0f",man_scientist:"\u{1f468}&zwj;\u{1f52c}",man_shrugging:"\u{1f937}&zwj;\u2642\ufe0f",man_singer:"\u{1f468}&zwj;\u{1f3a4}",man_student:"\u{1f468}&zwj;\u{1f393}",man_teacher:"\u{1f468}&zwj;\u{1f3eb}",man_technologist:"\u{1f468}&zwj;\u{1f4bb}",man_with_gua_pi_mao:"\u{1f472}",man_with_turban:"\u{1f473}",tangerine:"\u{1f34a}",mans_shoe:"\u{1f45e}",mantelpiece_clock:"\u{1f570}",maple_leaf:"\u{1f341}",martial_arts_uniform:"\u{1f94b}",mask:"\u{1f637}",massage_woman:"\u{1f486}",massage_man:"\u{1f486}&zwj;\u2642\ufe0f",meat_on_bone:"\u{1f356}",medal_military:"\u{1f396}",medal_sports:"\u{1f3c5}",mega:"\u{1f4e3}",melon:"\u{1f348}",memo:"\u{1f4dd}",men_wrestling:"\u{1f93c}&zwj;\u2642\ufe0f",menorah:"\u{1f54e}",mens:"\u{1f6b9}",metal:"\u{1f918}",metro:"\u{1f687}",microphone:"\u{1f3a4}",microscope:"\u{1f52c}",milk_glass:"\u{1f95b}",milky_way:"\u{1f30c}",minibus:"\u{1f690}",minidisc:"\u{1f4bd}",mobile_phone_off:"\u{1f4f4}",money_mouth_face:"\u{1f911}",money_with_wings:"\u{1f4b8}",moneybag:"\u{1f4b0}",monkey:"\u{1f412}",monkey_face:"\u{1f435}",monorail:"\u{1f69d}",moon:"\u{1f314}",mortar_board:"\u{1f393}",mosque:"\u{1f54c}",motor_boat:"\u{1f6e5}",motor_scooter:"\u{1f6f5}",motorcycle:"\u{1f3cd}",motorway:"\u{1f6e3}",mount_fuji:"\u{1f5fb}",mountain:"\u26f0",mountain_biking_man:"\u{1f6b5}",mountain_biking_woman:"\u{1f6b5}&zwj;\u2640\ufe0f",mountain_cableway:"\u{1f6a0}",mountain_railway:"\u{1f69e}",mountain_snow:"\u{1f3d4}",mouse:"\u{1f42d}",mouse2:"\u{1f401}",movie_camera:"\u{1f3a5}",moyai:"\u{1f5ff}",mrs_claus:"\u{1f936}",muscle:"\u{1f4aa}",mushroom:"\u{1f344}",musical_keyboard:"\u{1f3b9}",musical_note:"\u{1f3b5}",musical_score:"\u{1f3bc}",mute:"\u{1f507}",nail_care:"\u{1f485}",name_badge:"\u{1f4db}",national_park:"\u{1f3de}",nauseated_face:"\u{1f922}",necktie:"\u{1f454}",negative_squared_cross_mark:"\u274e",nerd_face:"\u{1f913}",neutral_face:"\u{1f610}",new:"\u{1f195}",new_moon:"\u{1f311}",new_moon_with_face:"\u{1f31a}",newspaper:"\u{1f4f0}",newspaper_roll:"\u{1f5de}",next_track_button:"\u23ed",ng:"\u{1f196}",no_good_man:"\u{1f645}&zwj;\u2642\ufe0f",no_good_woman:"\u{1f645}",night_with_stars:"\u{1f303}",no_bell:"\u{1f515}",no_bicycles:"\u{1f6b3}",no_entry:"\u26d4\ufe0f",no_entry_sign:"\u{1f6ab}",no_mobile_phones:"\u{1f4f5}",no_mouth:"\u{1f636}",no_pedestrians:"\u{1f6b7}",no_smoking:"\u{1f6ad}","non-potable_water":"\u{1f6b1}",nose:"\u{1f443}",notebook:"\u{1f4d3}",notebook_with_decorative_cover:"\u{1f4d4}",notes:"\u{1f3b6}",nut_and_bolt:"\u{1f529}",o:"\u2b55\ufe0f",o2:"\u{1f17e}\ufe0f",ocean:"\u{1f30a}",octopus:"\u{1f419}",oden:"\u{1f362}",office:"\u{1f3e2}",oil_drum:"\u{1f6e2}",ok:"\u{1f197}",ok_hand:"\u{1f44c}",ok_man:"\u{1f646}&zwj;\u2642\ufe0f",ok_woman:"\u{1f646}",old_key:"\u{1f5dd}",older_man:"\u{1f474}",older_woman:"\u{1f475}",om:"\u{1f549}",on:"\u{1f51b}",oncoming_automobile:"\u{1f698}",oncoming_bus:"\u{1f68d}",oncoming_police_car:"\u{1f694}",oncoming_taxi:"\u{1f696}",open_file_folder:"\u{1f4c2}",open_hands:"\u{1f450}",open_mouth:"\u{1f62e}",open_umbrella:"\u2602\ufe0f",ophiuchus:"\u26ce",orange_book:"\u{1f4d9}",orthodox_cross:"\u2626\ufe0f",outbox_tray:"\u{1f4e4}",owl:"\u{1f989}",ox:"\u{1f402}",package:"\u{1f4e6}",page_facing_up:"\u{1f4c4}",page_with_curl:"\u{1f4c3}",pager:"\u{1f4df}",paintbrush:"\u{1f58c}",palm_tree:"\u{1f334}",pancakes:"\u{1f95e}",panda_face:"\u{1f43c}",paperclip:"\u{1f4ce}",paperclips:"\u{1f587}",parasol_on_ground:"\u26f1",parking:"\u{1f17f}\ufe0f",part_alternation_mark:"\u303d\ufe0f",partly_sunny:"\u26c5\ufe0f",passenger_ship:"\u{1f6f3}",passport_control:"\u{1f6c2}",pause_button:"\u23f8",peace_symbol:"\u262e\ufe0f",peach:"\u{1f351}",peanuts:"\u{1f95c}",pear:"\u{1f350}",pen:"\u{1f58a}",pencil2:"\u270f\ufe0f",penguin:"\u{1f427}",pensive:"\u{1f614}",performing_arts:"\u{1f3ad}",persevere:"\u{1f623}",person_fencing:"\u{1f93a}",pouting_woman:"\u{1f64e}",phone:"\u260e\ufe0f",pick:"\u26cf",pig:"\u{1f437}",pig2:"\u{1f416}",pig_nose:"\u{1f43d}",pill:"\u{1f48a}",pineapple:"\u{1f34d}",ping_pong:"\u{1f3d3}",pisces:"\u2653\ufe0f",pizza:"\u{1f355}",place_of_worship:"\u{1f6d0}",plate_with_cutlery:"\u{1f37d}",play_or_pause_button:"\u23ef",point_down:"\u{1f447}",point_left:"\u{1f448}",point_right:"\u{1f449}",point_up:"\u261d\ufe0f",point_up_2:"\u{1f446}",police_car:"\u{1f693}",policewoman:"\u{1f46e}&zwj;\u2640\ufe0f",poodle:"\u{1f429}",popcorn:"\u{1f37f}",post_office:"\u{1f3e3}",postal_horn:"\u{1f4ef}",postbox:"\u{1f4ee}",potable_water:"\u{1f6b0}",potato:"\u{1f954}",pouch:"\u{1f45d}",poultry_leg:"\u{1f357}",pound:"\u{1f4b7}",rage:"\u{1f621}",pouting_cat:"\u{1f63e}",pouting_man:"\u{1f64e}&zwj;\u2642\ufe0f",pray:"\u{1f64f}",prayer_beads:"\u{1f4ff}",pregnant_woman:"\u{1f930}",previous_track_button:"\u23ee",prince:"\u{1f934}",princess:"\u{1f478}",printer:"\u{1f5a8}",purple_heart:"\u{1f49c}",purse:"\u{1f45b}",pushpin:"\u{1f4cc}",put_litter_in_its_place:"\u{1f6ae}",question:"\u2753",rabbit:"\u{1f430}",rabbit2:"\u{1f407}",racehorse:"\u{1f40e}",racing_car:"\u{1f3ce}",radio:"\u{1f4fb}",radio_button:"\u{1f518}",radioactive:"\u2622\ufe0f",railway_car:"\u{1f683}",railway_track:"\u{1f6e4}",rainbow:"\u{1f308}",rainbow_flag:"\u{1f3f3}\ufe0f&zwj;\u{1f308}",raised_back_of_hand:"\u{1f91a}",raised_hand_with_fingers_splayed:"\u{1f590}",raised_hands:"\u{1f64c}",raising_hand_woman:"\u{1f64b}",raising_hand_man:"\u{1f64b}&zwj;\u2642\ufe0f",ram:"\u{1f40f}",ramen:"\u{1f35c}",rat:"\u{1f400}",record_button:"\u23fa",recycle:"\u267b\ufe0f",red_circle:"\u{1f534}",registered:"\xae\ufe0f",relaxed:"\u263a\ufe0f",relieved:"\u{1f60c}",reminder_ribbon:"\u{1f397}",repeat:"\u{1f501}",repeat_one:"\u{1f502}",rescue_worker_helmet:"\u26d1",restroom:"\u{1f6bb}",revolving_hearts:"\u{1f49e}",rewind:"\u23ea",rhinoceros:"\u{1f98f}",ribbon:"\u{1f380}",rice:"\u{1f35a}",rice_ball:"\u{1f359}",rice_cracker:"\u{1f358}",rice_scene:"\u{1f391}",right_anger_bubble:"\u{1f5ef}",ring:"\u{1f48d}",robot:"\u{1f916}",rocket:"\u{1f680}",rofl:"\u{1f923}",roll_eyes:"\u{1f644}",roller_coaster:"\u{1f3a2}",rooster:"\u{1f413}",rose:"\u{1f339}",rosette:"\u{1f3f5}",rotating_light:"\u{1f6a8}",round_pushpin:"\u{1f4cd}",rowing_man:"\u{1f6a3}",rowing_woman:"\u{1f6a3}&zwj;\u2640\ufe0f",rugby_football:"\u{1f3c9}",running_man:"\u{1f3c3}",running_shirt_with_sash:"\u{1f3bd}",running_woman:"\u{1f3c3}&zwj;\u2640\ufe0f",sa:"\u{1f202}\ufe0f",sagittarius:"\u2650\ufe0f",sake:"\u{1f376}",sandal:"\u{1f461}",santa:"\u{1f385}",satellite:"\u{1f4e1}",saxophone:"\u{1f3b7}",school:"\u{1f3eb}",school_satchel:"\u{1f392}",scissors:"\u2702\ufe0f",scorpion:"\u{1f982}",scorpius:"\u264f\ufe0f",scream:"\u{1f631}",scream_cat:"\u{1f640}",scroll:"\u{1f4dc}",seat:"\u{1f4ba}",secret:"\u3299\ufe0f",see_no_evil:"\u{1f648}",seedling:"\u{1f331}",selfie:"\u{1f933}",shallow_pan_of_food:"\u{1f958}",shamrock:"\u2618\ufe0f",shark:"\u{1f988}",shaved_ice:"\u{1f367}",sheep:"\u{1f411}",shell:"\u{1f41a}",shield:"\u{1f6e1}",shinto_shrine:"\u26e9",ship:"\u{1f6a2}",shirt:"\u{1f455}",shopping:"\u{1f6cd}",shopping_cart:"\u{1f6d2}",shower:"\u{1f6bf}",shrimp:"\u{1f990}",signal_strength:"\u{1f4f6}",six_pointed_star:"\u{1f52f}",ski:"\u{1f3bf}",skier:"\u26f7",skull:"\u{1f480}",skull_and_crossbones:"\u2620\ufe0f",sleeping:"\u{1f634}",sleeping_bed:"\u{1f6cc}",sleepy:"\u{1f62a}",slightly_frowning_face:"\u{1f641}",slightly_smiling_face:"\u{1f642}",slot_machine:"\u{1f3b0}",small_airplane:"\u{1f6e9}",small_blue_diamond:"\u{1f539}",small_orange_diamond:"\u{1f538}",small_red_triangle:"\u{1f53a}",small_red_triangle_down:"\u{1f53b}",smile:"\u{1f604}",smile_cat:"\u{1f638}",smiley:"\u{1f603}",smiley_cat:"\u{1f63a}",smiling_imp:"\u{1f608}",smirk:"\u{1f60f}",smirk_cat:"\u{1f63c}",smoking:"\u{1f6ac}",snail:"\u{1f40c}",snake:"\u{1f40d}",sneezing_face:"\u{1f927}",snowboarder:"\u{1f3c2}",snowflake:"\u2744\ufe0f",snowman:"\u26c4\ufe0f",snowman_with_snow:"\u2603\ufe0f",sob:"\u{1f62d}",soccer:"\u26bd\ufe0f",soon:"\u{1f51c}",sos:"\u{1f198}",sound:"\u{1f509}",space_invader:"\u{1f47e}",spades:"\u2660\ufe0f",spaghetti:"\u{1f35d}",sparkle:"\u2747\ufe0f",sparkler:"\u{1f387}",sparkles:"\u2728",sparkling_heart:"\u{1f496}",speak_no_evil:"\u{1f64a}",speaker:"\u{1f508}",speaking_head:"\u{1f5e3}",speech_balloon:"\u{1f4ac}",speedboat:"\u{1f6a4}",spider:"\u{1f577}",spider_web:"\u{1f578}",spiral_calendar:"\u{1f5d3}",spiral_notepad:"\u{1f5d2}",spoon:"\u{1f944}",squid:"\u{1f991}",stadium:"\u{1f3df}",star:"\u2b50\ufe0f",star2:"\u{1f31f}",star_and_crescent:"\u262a\ufe0f",star_of_david:"\u2721\ufe0f",stars:"\u{1f320}",station:"\u{1f689}",statue_of_liberty:"\u{1f5fd}",steam_locomotive:"\u{1f682}",stew:"\u{1f372}",stop_button:"\u23f9",stop_sign:"\u{1f6d1}",stopwatch:"\u23f1",straight_ruler:"\u{1f4cf}",strawberry:"\u{1f353}",stuck_out_tongue:"\u{1f61b}",stuck_out_tongue_closed_eyes:"\u{1f61d}",stuck_out_tongue_winking_eye:"\u{1f61c}",studio_microphone:"\u{1f399}",stuffed_flatbread:"\u{1f959}",sun_behind_large_cloud:"\u{1f325}",sun_behind_rain_cloud:"\u{1f326}",sun_behind_small_cloud:"\u{1f324}",sun_with_face:"\u{1f31e}",sunflower:"\u{1f33b}",sunglasses:"\u{1f60e}",sunny:"\u2600\ufe0f",sunrise:"\u{1f305}",sunrise_over_mountains:"\u{1f304}",surfing_man:"\u{1f3c4}",surfing_woman:"\u{1f3c4}&zwj;\u2640\ufe0f",sushi:"\u{1f363}",suspension_railway:"\u{1f69f}",sweat:"\u{1f613}",sweat_drops:"\u{1f4a6}",sweat_smile:"\u{1f605}",sweet_potato:"\u{1f360}",swimming_man:"\u{1f3ca}",swimming_woman:"\u{1f3ca}&zwj;\u2640\ufe0f",symbols:"\u{1f523}",synagogue:"\u{1f54d}",syringe:"\u{1f489}",taco:"\u{1f32e}",tada:"\u{1f389}",tanabata_tree:"\u{1f38b}",taurus:"\u2649\ufe0f",taxi:"\u{1f695}",tea:"\u{1f375}",telephone_receiver:"\u{1f4de}",telescope:"\u{1f52d}",tennis:"\u{1f3be}",tent:"\u26fa\ufe0f",thermometer:"\u{1f321}",thinking:"\u{1f914}",thought_balloon:"\u{1f4ad}",ticket:"\u{1f3ab}",tickets:"\u{1f39f}",tiger:"\u{1f42f}",tiger2:"\u{1f405}",timer_clock:"\u23f2",tipping_hand_man:"\u{1f481}&zwj;\u2642\ufe0f",tired_face:"\u{1f62b}",tm:"\u2122\ufe0f",toilet:"\u{1f6bd}",tokyo_tower:"\u{1f5fc}",tomato:"\u{1f345}",tongue:"\u{1f445}",top:"\u{1f51d}",tophat:"\u{1f3a9}",tornado:"\u{1f32a}",trackball:"\u{1f5b2}",tractor:"\u{1f69c}",traffic_light:"\u{1f6a5}",train:"\u{1f68b}",train2:"\u{1f686}",tram:"\u{1f68a}",triangular_flag_on_post:"\u{1f6a9}",triangular_ruler:"\u{1f4d0}",trident:"\u{1f531}",triumph:"\u{1f624}",trolleybus:"\u{1f68e}",trophy:"\u{1f3c6}",tropical_drink:"\u{1f379}",tropical_fish:"\u{1f420}",truck:"\u{1f69a}",trumpet:"\u{1f3ba}",tulip:"\u{1f337}",tumbler_glass:"\u{1f943}",turkey:"\u{1f983}",turtle:"\u{1f422}",tv:"\u{1f4fa}",twisted_rightwards_arrows:"\u{1f500}",two_hearts:"\u{1f495}",two_men_holding_hands:"\u{1f46c}",two_women_holding_hands:"\u{1f46d}",u5272:"\u{1f239}",u5408:"\u{1f234}",u55b6:"\u{1f23a}",u6307:"\u{1f22f}\ufe0f",u6708:"\u{1f237}\ufe0f",u6709:"\u{1f236}",u6e80:"\u{1f235}",u7121:"\u{1f21a}\ufe0f",u7533:"\u{1f238}",u7981:"\u{1f232}",u7a7a:"\u{1f233}",umbrella:"\u2614\ufe0f",unamused:"\u{1f612}",underage:"\u{1f51e}",unicorn:"\u{1f984}",unlock:"\u{1f513}",up:"\u{1f199}",upside_down_face:"\u{1f643}",v:"\u270c\ufe0f",vertical_traffic_light:"\u{1f6a6}",vhs:"\u{1f4fc}",vibration_mode:"\u{1f4f3}",video_camera:"\u{1f4f9}",video_game:"\u{1f3ae}",violin:"\u{1f3bb}",virgo:"\u264d\ufe0f",volcano:"\u{1f30b}",volleyball:"\u{1f3d0}",vs:"\u{1f19a}",vulcan_salute:"\u{1f596}",walking_man:"\u{1f6b6}",walking_woman:"\u{1f6b6}&zwj;\u2640\ufe0f",waning_crescent_moon:"\u{1f318}",waning_gibbous_moon:"\u{1f316}",warning:"\u26a0\ufe0f",wastebasket:"\u{1f5d1}",watch:"\u231a\ufe0f",water_buffalo:"\u{1f403}",watermelon:"\u{1f349}",wave:"\u{1f44b}",wavy_dash:"\u3030\ufe0f",waxing_crescent_moon:"\u{1f312}",wc:"\u{1f6be}",weary:"\u{1f629}",wedding:"\u{1f492}",weight_lifting_man:"\u{1f3cb}\ufe0f",weight_lifting_woman:"\u{1f3cb}\ufe0f&zwj;\u2640\ufe0f",whale:"\u{1f433}",whale2:"\u{1f40b}",wheel_of_dharma:"\u2638\ufe0f",wheelchair:"\u267f\ufe0f",white_check_mark:"\u2705",white_circle:"\u26aa\ufe0f",white_flag:"\u{1f3f3}\ufe0f",white_flower:"\u{1f4ae}",white_large_square:"\u2b1c\ufe0f",white_medium_small_square:"\u25fd\ufe0f",white_medium_square:"\u25fb\ufe0f",white_small_square:"\u25ab\ufe0f",white_square_button:"\u{1f533}",wilted_flower:"\u{1f940}",wind_chime:"\u{1f390}",wind_face:"\u{1f32c}",wine_glass:"\u{1f377}",wink:"\u{1f609}",wolf:"\u{1f43a}",woman:"\u{1f469}",woman_artist:"\u{1f469}&zwj;\u{1f3a8}",woman_astronaut:"\u{1f469}&zwj;\u{1f680}",woman_cartwheeling:"\u{1f938}&zwj;\u2640\ufe0f",woman_cook:"\u{1f469}&zwj;\u{1f373}",woman_facepalming:"\u{1f926}&zwj;\u2640\ufe0f",woman_factory_worker:"\u{1f469}&zwj;\u{1f3ed}",woman_farmer:"\u{1f469}&zwj;\u{1f33e}",woman_firefighter:"\u{1f469}&zwj;\u{1f692}",woman_health_worker:"\u{1f469}&zwj;\u2695\ufe0f",woman_judge:"\u{1f469}&zwj;\u2696\ufe0f",woman_juggling:"\u{1f939}&zwj;\u2640\ufe0f",woman_mechanic:"\u{1f469}&zwj;\u{1f527}",woman_office_worker:"\u{1f469}&zwj;\u{1f4bc}",woman_pilot:"\u{1f469}&zwj;\u2708\ufe0f",woman_playing_handball:"\u{1f93e}&zwj;\u2640\ufe0f",woman_playing_water_polo:"\u{1f93d}&zwj;\u2640\ufe0f",woman_scientist:"\u{1f469}&zwj;\u{1f52c}",woman_shrugging:"\u{1f937}&zwj;\u2640\ufe0f",woman_singer:"\u{1f469}&zwj;\u{1f3a4}",woman_student:"\u{1f469}&zwj;\u{1f393}",woman_teacher:"\u{1f469}&zwj;\u{1f3eb}",woman_technologist:"\u{1f469}&zwj;\u{1f4bb}",woman_with_turban:"\u{1f473}&zwj;\u2640\ufe0f",womans_clothes:"\u{1f45a}",womans_hat:"\u{1f452}",women_wrestling:"\u{1f93c}&zwj;\u2640\ufe0f",womens:"\u{1f6ba}",world_map:"\u{1f5fa}",worried:"\u{1f61f}",wrench:"\u{1f527}",writing_hand:"\u270d\ufe0f",x:"\u274c",yellow_heart:"\u{1f49b}",yen:"\u{1f4b4}",yin_yang:"\u262f\ufe0f",yum:"\u{1f60b}",zap:"\u26a1\ufe0f",zipper_mouth_face:"\u{1f910}",zzz:"\u{1f4a4}",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},V.Converter=function(S){"use strict";var U={},$=[],ce=[],xe={},De=et,_e={parsed:{},raw:"",format:""};function Bt(ge,Dt){if(Dt=Dt||null,V.helper.isString(ge)){if(Dt=ge=V.helper.stdExtName(ge),V.extensions[ge])return console.warn("DEPRECATION WARNING: "+ge+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function wt(ge,Dt){"function"==typeof ge&&(ge=ge(new V.Converter)),V.helper.isArray(ge)||(ge=[ge]);var pn=An(ge,Dt);if(!pn.valid)throw Error(pn.error);for(var Cn=0;Cn<ge.length;++Cn)switch(ge[Cn].type){case"lang":$.push(ge[Cn]);break;case"output":ce.push(ge[Cn]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(V.extensions[ge],ge);if(V.helper.isUndefined(Fe[ge]))throw Error('Extension "'+ge+'" could not be loaded. It was either not found or is not a valid extension.');ge=Fe[ge]}"function"==typeof ge&&(ge=ge()),V.helper.isArray(ge)||(ge=[ge]);var pn=An(ge,Dt);if(!pn.valid)throw Error(pn.error);for(var Cn=0;Cn<ge.length;++Cn){switch(ge[Cn].type){case"lang":$.push(ge[Cn]);break;case"output":ce.push(ge[Cn])}if(ge[Cn].hasOwnProperty("listeners"))for(var Nr in ge[Cn].listeners)ge[Cn].listeners.hasOwnProperty(Nr)&&_t(Nr,ge[Cn].listeners[Nr])}}function _t(ge,Dt){if(!V.helper.isString(ge))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof ge+" given");if("function"!=typeof Dt)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof Dt+" given");xe.hasOwnProperty(ge)||(xe[ge]=[]),xe[ge].push(Dt)}!function ke(){for(var ge in S=S||{},He)He.hasOwnProperty(ge)&&(U[ge]=He[ge]);if("object"!=typeof S)throw Error("Converter expects the passed parameter to be an object, but "+typeof S+" was passed instead.");for(var Dt in S)S.hasOwnProperty(Dt)&&(U[Dt]=S[Dt]);U.extensions&&V.helper.forEach(U.extensions,Bt)}(),this._dispatch=function(Dt,pn,Cn,Nr){if(xe.hasOwnProperty(Dt))for(var On=0;On<xe[Dt].length;++On){var Rs=xe[Dt][On](Dt,pn,this,Cn,Nr);Rs&&typeof Rs<"u"&&(pn=Rs)}return pn},this.listen=function(ge,Dt){return _t(ge,Dt),this},this.makeHtml=function(ge){if(!ge)return ge;var Dt={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:$,outputModifiers:ce,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return ge=(ge=(ge=(ge=(ge=ge.replace(/\xa8/g,"\xa8T")).replace(/\$/g,"\xa8D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),U.smartIndentationFix&&(ge=function St(ge){var Dt=ge.match(/^\s*/)[0].length,pn=new RegExp("^\\s{0,"+Dt+"}","gm");return ge.replace(pn,"")}(ge)),ge="\n\n"+ge+"\n\n",ge=(ge=V.subParser("detab")(ge,U,Dt)).replace(/^[ \t]+$/gm,""),V.helper.forEach($,function(pn){ge=V.subParser("runExtension")(pn,ge,U,Dt)}),ge=V.subParser("metadata")(ge,U,Dt),ge=V.subParser("hashPreCodeTags")(ge,U,Dt),ge=V.subParser("githubCodeBlocks")(ge,U,Dt),ge=V.subParser("hashHTMLBlocks")(ge,U,Dt),ge=V.subParser("hashCodeTags")(ge,U,Dt),ge=V.subParser("stripLinkDefinitions")(ge,U,Dt),ge=V.subParser("blockGamut")(ge,U,Dt),ge=V.subParser("unhashHTMLSpans")(ge,U,Dt),ge=(ge=(ge=V.subParser("unescapeSpecialChars")(ge,U,Dt)).replace(/\xa8D/g,"$$")).replace(/\xa8T/g,"\xa8"),ge=V.subParser("completeHTMLDocument")(ge,U,Dt),V.helper.forEach(ce,function(pn){ge=V.subParser("runExtension")(pn,ge,U,Dt)}),_e=Dt.metadata,ge},this.makeMarkdown=this.makeMd=function(ge,Dt){if(ge=(ge=(ge=ge.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">\xa8NBSP;<"),!Dt){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");Dt=window.document}var pn=Dt.createElement("div");pn.innerHTML=ge;var Cn={preList:function Nc(Ns){for(var _o=Ns.querySelectorAll("pre"),Va=[],la=0;la<_o.length;++la)if(1===_o[la].childElementCount&&"code"===_o[la].firstChild.tagName.toLowerCase()){var O2=_o[la].firstChild.innerHTML.trim(),ly=_o[la].firstChild.getAttribute("data-language")||"";if(""===ly)for(var k4=_o[la].firstChild.className.split(" "),T2=0;T2<k4.length;++T2){var M4=k4[T2].match(/^language-(.+)$/);if(null!==M4){ly=M4[1];break}}O2=V.helper.unescapeHTMLEntities(O2),Va.push(O2),_o[la].outerHTML='<precode language="'+ly+'" precodenum="'+la.toString()+'"></precode>'}else Va.push(_o[la].innerHTML),_o[la].innerHTML="",_o[la].setAttribute("prenum",la.toString());return Va}(pn)};!function aa(Ns){for(var _o=0;_o<Ns.childNodes.length;++_o){var Va=Ns.childNodes[_o];3===Va.nodeType?/\S/.test(Va.nodeValue)||/^[ ]+$/.test(Va.nodeValue)?(Va.nodeValue=Va.nodeValue.split("\n").join(" "),Va.nodeValue=Va.nodeValue.replace(/(\s)+/g,"$1")):(Ns.removeChild(Va),--_o):1===Va.nodeType&&aa(Va)}}(pn);for(var Nr=pn.childNodes,On="",Rs=0;Rs<Nr.length;Rs++)On+=V.subParser("makeMarkdown.node")(Nr[Rs],Cn);return On},this.setOption=function(ge,Dt){U[ge]=Dt},this.getOption=function(ge){return U[ge]},this.getOptions=function(){return U},this.addExtension=function(ge,Dt){Bt(ge,Dt=Dt||null)},this.useExtension=function(ge){Bt(ge)},this.setFlavor=function(ge){if(!Sn.hasOwnProperty(ge))throw Error(ge+" flavor was not found");var Dt=Sn[ge];for(var pn in De=ge,Dt)Dt.hasOwnProperty(pn)&&(U[pn]=Dt[pn])},this.getFlavor=function(){return De},this.removeExtension=function(ge){V.helper.isArray(ge)||(ge=[ge]);for(var Dt=0;Dt<ge.length;++Dt){for(var pn=ge[Dt],Cn=0;Cn<$.length;++Cn)$[Cn]===pn&&$.splice(Cn,1);for(var Nr=0;Nr<ce.length;++Nr)ce[Nr]===pn&&ce.splice(Nr,1)}},this.getAllExtensions=function(){return{language:$,output:ce}},this.getMetadata=function(ge){return ge?_e.raw:_e.parsed},this.getMetadataFormat=function(){return _e.format},this._setMetadataPair=function(ge,Dt){_e.parsed[ge]=Dt},this._setMetadataFormat=function(ge){_e.format=ge},this._setMetadataRaw=function(ge){_e.raw=ge}},V.subParser("anchors",function(S,U,$){"use strict";var ce=function(xe,De,_e,ke,Bt,wt,_t){if(V.helper.isUndefined(_t)&&(_t=""),_e=_e.toLowerCase(),xe.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)ke="";else if(!ke){if(_e||(_e=De.toLowerCase().replace(/ ?\n/g," ")),ke="#"+_e,V.helper.isUndefined($.gUrls[_e]))return xe;ke=$.gUrls[_e],V.helper.isUndefined($.gTitles[_e])||(_t=$.gTitles[_e])}var St='<a href="'+(ke=ke.replace(V.helper.regexes.asteriskDashAndColon,V.helper.escapeCharactersCallback))+'"';return""!==_t&&null!==_t&&(St+=' title="'+(_t=(_t=_t.replace(/"/g,"&quot;")).replace(V.helper.regexes.asteriskDashAndColon,V.helper.escapeCharactersCallback))+'"'),U.openLinksInNewWindow&&!/^#/.test(ke)&&(St+=' rel="noopener noreferrer" target="\xa8E95Eblank"'),St+">"+De+"</a>"};return S=(S=(S=(S=(S=$.converter._dispatch("anchors.before",S,U,$)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,ce)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,ce)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,ce)).replace(/\[([^\[\]]+)]()()()()()/g,ce),U.ghMentions&&(S=S.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,function(xe,De,_e,ke,Bt){if("\\"===_e)return De+ke;if(!V.helper.isString(U.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var wt=U.ghMentionsLink.replace(/\{u}/g,Bt),_t="";return U.openLinksInNewWindow&&(_t=' rel="noopener noreferrer" target="\xa8E95Eblank"'),De+'<a href="'+wt+'"'+_t+">"+ke+"</a>"})),$.converter._dispatch("anchors.after",S,U,$)});var Yr=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,Ri=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,us=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,oi=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,Wr=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,Rr=function(S){"use strict";return function(U,$,ce,xe,De,_e,ke){var Bt=ce=ce.replace(V.helper.regexes.asteriskDashAndColon,V.helper.escapeCharactersCallback),wt="",_t="",St=$||"",ge=ke||"";return/^www\./i.test(ce)&&(ce=ce.replace(/^www\./i,"http://www.")),S.excludeTrailingPunctuationFromURLs&&_e&&(wt=_e),S.openLinksInNewWindow&&(_t=' rel="noopener noreferrer" target="\xa8E95Eblank"'),St+'<a href="'+ce+'"'+_t+">"+Bt+"</a>"+wt+ge}},ur=function(S,U){"use strict";return function($,ce,xe){var De="mailto:";return ce=ce||"",xe=V.subParser("unescapeSpecialChars")(xe,S,U),S.encodeEmails?(De=V.helper.encodeEmailAddress(De+xe),xe=V.helper.encodeEmailAddress(xe)):De+=xe,ce+'<a href="'+De+'">'+xe+"</a>"}};V.subParser("autoLinks",function(S,U,$){"use strict";return S=(S=(S=$.converter._dispatch("autoLinks.before",S,U,$)).replace(us,Rr(U))).replace(Wr,ur(U,$)),$.converter._dispatch("autoLinks.after",S,U,$)}),V.subParser("simplifiedAutoLinks",function(S,U,$){"use strict";return U.simplifiedAutoLink&&(S=(S=(S=$.converter._dispatch("simplifiedAutoLinks.before",S,U,$)).replace(U.excludeTrailingPunctuationFromURLs?Ri:Yr,Rr(U))).replace(oi,ur(U,$)),S=$.converter._dispatch("simplifiedAutoLinks.after",S,U,$)),S}),V.subParser("blockGamut",function(S,U,$){"use strict";return S=$.converter._dispatch("blockGamut.before",S,U,$),S=V.subParser("blockQuotes")(S,U,$),S=V.subParser("headers")(S,U,$),S=V.subParser("horizontalRule")(S,U,$),S=V.subParser("lists")(S,U,$),S=V.subParser("codeBlocks")(S,U,$),S=V.subParser("tables")(S,U,$),S=V.subParser("hashHTMLBlocks")(S,U,$),S=V.subParser("paragraphs")(S,U,$),$.converter._dispatch("blockGamut.after",S,U,$)}),V.subParser("blockQuotes",function(S,U,$){"use strict";S=$.converter._dispatch("blockQuotes.before",S,U,$);var ce=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return U.splitAdjacentBlockquotes&&(ce=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),S=(S+="\n\n").replace(ce,function(xe){return xe=(xe=(xe=xe.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/\xa80/g,"")).replace(/^[ \t]+$/gm,""),xe=V.subParser("githubCodeBlocks")(xe,U,$),xe=(xe=(xe=V.subParser("blockGamut")(xe,U,$)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(De,_e){var ke=_e;return(ke=ke.replace(/^  /gm,"\xa80")).replace(/\xa80/g,"")}),V.subParser("hashBlock")("<blockquote>\n"+xe+"\n</blockquote>",U,$)}),$.converter._dispatch("blockQuotes.after",S,U,$)}),V.subParser("codeBlocks",function(S,U,$){"use strict";return S=$.converter._dispatch("codeBlocks.before",S,U,$),S=(S=(S+="\xa80").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=\xa80))/g,function(xe,De,_e){var ke=De,Bt=_e,wt="\n";return ke=V.subParser("outdent")(ke,U,$),ke=V.subParser("encodeCode")(ke,U,$),ke=(ke=(ke=V.subParser("detab")(ke,U,$)).replace(/^\n+/g,"")).replace(/\n+$/g,""),U.omitExtraWLInCodeBlocks&&(wt=""),ke="<pre><code>"+ke+wt+"</code></pre>",V.subParser("hashBlock")(ke,U,$)+Bt})).replace(/\xa80/,""),$.converter._dispatch("codeBlocks.after",S,U,$)}),V.subParser("codeSpans",function(S,U,$){"use strict";return typeof(S=$.converter._dispatch("codeSpans.before",S,U,$))>"u"&&(S=""),S=S.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(ce,xe,De,_e){var ke=_e;return ke=(ke=ke.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),ke=xe+"<code>"+(ke=V.subParser("encodeCode")(ke,U,$))+"</code>",V.subParser("hashHTMLSpans")(ke,U,$)}),$.converter._dispatch("codeSpans.after",S,U,$)}),V.subParser("completeHTMLDocument",function(S,U,$){"use strict";if(!U.completeHTMLDocument)return S;S=$.converter._dispatch("completeHTMLDocument.before",S,U,$);var ce="html",xe="<!DOCTYPE HTML>\n",De="",_e='<meta charset="utf-8">\n',ke="",Bt="";for(var wt in typeof $.metadata.parsed.doctype<"u"&&(xe="<!DOCTYPE "+$.metadata.parsed.doctype+">\n",("html"===(ce=$.metadata.parsed.doctype.toString().toLowerCase())||"html5"===ce)&&(_e='<meta charset="utf-8">')),$.metadata.parsed)if($.metadata.parsed.hasOwnProperty(wt))switch(wt.toLowerCase()){case"doctype":break;case"title":De="<title>"+$.metadata.parsed.title+"</title>\n";break;case"charset":_e="html"===ce||"html5"===ce?'<meta charset="'+$.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+$.metadata.parsed.charset+'">\n';break;case"language":case"lang":ke=' lang="'+$.metadata.parsed[wt]+'"',Bt+='<meta name="'+wt+'" content="'+$.metadata.parsed[wt]+'">\n';break;default:Bt+='<meta name="'+wt+'" content="'+$.metadata.parsed[wt]+'">\n'}return S=xe+"<html"+ke+">\n<head>\n"+De+_e+Bt+"</head>\n<body>\n"+S.trim()+"\n</body>\n</html>",$.converter._dispatch("completeHTMLDocument.after",S,U,$)}),V.subParser("detab",function(S,U,$){"use strict";return S=(S=(S=(S=(S=(S=$.converter._dispatch("detab.before",S,U,$)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"\xa8A\xa8B")).replace(/\xa8B(.+?)\xa8A/g,function(ce,xe){for(var De=xe,_e=4-De.length%4,ke=0;ke<_e;ke++)De+=" ";return De})).replace(/\xa8A/g,"    ")).replace(/\xa8B/g,""),$.converter._dispatch("detab.after",S,U,$)}),V.subParser("ellipsis",function(S,U,$){"use strict";return U.ellipsis&&(S=(S=$.converter._dispatch("ellipsis.before",S,U,$)).replace(/\.\.\./g,"\u2026"),S=$.converter._dispatch("ellipsis.after",S,U,$)),S}),V.subParser("emoji",function(S,U,$){"use strict";return U.emoji?(S=(S=$.converter._dispatch("emoji.before",S,U,$)).replace(/:([\S]+?):/g,function(xe,De){return V.helper.emojis.hasOwnProperty(De)?V.helper.emojis[De]:xe}),$.converter._dispatch("emoji.after",S,U,$)):S}),V.subParser("encodeAmpsAndAngles",function(S,U,$){"use strict";return S=(S=(S=(S=(S=$.converter._dispatch("encodeAmpsAndAngles.before",S,U,$)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),$.converter._dispatch("encodeAmpsAndAngles.after",S,U,$)}),V.subParser("encodeBackslashEscapes",function(S,U,$){"use strict";return S=(S=(S=$.converter._dispatch("encodeBackslashEscapes.before",S,U,$)).replace(/\\(\\)/g,V.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,V.helper.escapeCharactersCallback),$.converter._dispatch("encodeBackslashEscapes.after",S,U,$)}),V.subParser("encodeCode",function(S,U,$){"use strict";return S=(S=$.converter._dispatch("encodeCode.before",S,U,$)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,V.helper.escapeCharactersCallback),$.converter._dispatch("encodeCode.after",S,U,$)}),V.subParser("escapeSpecialCharsWithinTagAttributes",function(S,U,$){"use strict";return S=(S=(S=$.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",S,U,$)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,function(De){return De.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,V.helper.escapeCharactersCallback)})).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,function(De){return De.replace(/([\\`*_~=|])/g,V.helper.escapeCharactersCallback)}),$.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",S,U,$)}),V.subParser("githubCodeBlocks",function(S,U,$){"use strict";return U.ghCodeBlocks?(S=$.converter._dispatch("githubCodeBlocks.before",S,U,$),S=(S=(S+="\xa80").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(ce,xe,De,_e){var ke=U.omitExtraWLInCodeBlocks?"":"\n";return _e=V.subParser("encodeCode")(_e,U,$),_e="<pre><code"+(De?' class="'+De+" language-"+De+'"':"")+">"+(_e=(_e=(_e=V.subParser("detab")(_e,U,$)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+ke+"</code></pre>",_e=V.subParser("hashBlock")(_e,U,$),"\n\n\xa8G"+($.ghCodeBlocks.push({text:ce,codeblock:_e})-1)+"G\n\n"})).replace(/\xa80/,""),$.converter._dispatch("githubCodeBlocks.after",S,U,$)):S}),V.subParser("hashBlock",function(S,U,$){"use strict";return S=(S=$.converter._dispatch("hashBlock.before",S,U,$)).replace(/(^\n+|\n+$)/g,""),S="\n\n\xa8K"+($.gHtmlBlocks.push(S)-1)+"K\n\n",$.converter._dispatch("hashBlock.after",S,U,$)}),V.subParser("hashCodeTags",function(S,U,$){"use strict";return S=$.converter._dispatch("hashCodeTags.before",S,U,$),S=V.helper.replaceRecursiveRegExp(S,function(xe,De,_e,ke){var Bt=_e+V.subParser("encodeCode")(De,U,$)+ke;return"\xa8C"+($.gHtmlSpans.push(Bt)-1)+"C"},"<code\\b[^>]*>","</code>","gim"),$.converter._dispatch("hashCodeTags.after",S,U,$)}),V.subParser("hashElement",function(S,U,$){"use strict";return function(ce,xe){var De=xe;return De=(De=(De=De.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),"\n\n\xa8K"+($.gHtmlBlocks.push(De)-1)+"K\n\n"}}),V.subParser("hashHTMLBlocks",function(S,U,$){"use strict";S=$.converter._dispatch("hashHTMLBlocks.before",S,U,$);var ce=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],xe=function(ge,Dt,pn,Cn){var Nr=ge;return-1!==pn.search(/\bmarkdown\b/)&&(Nr=pn+$.converter.makeHtml(Dt)+Cn),"\n\n\xa8K"+($.gHtmlBlocks.push(Nr)-1)+"K\n\n"};U.backslashEscapesHTMLTags&&(S=S.replace(/\\<(\/?[^>]+?)>/g,function(ge,Dt){return"&lt;"+Dt+"&gt;"}));for(var De=0;De<ce.length;++De)for(var _e,ke=new RegExp("^ {0,3}(<"+ce[De]+"\\b[^>]*>)","im"),Bt="<"+ce[De]+"\\b[^>]*>",wt="</"+ce[De]+">";-1!==(_e=V.helper.regexIndexOf(S,ke));){var _t=V.helper.splitAtIndex(S,_e),St=V.helper.replaceRecursiveRegExp(_t[1],xe,Bt,wt,"im");if(St===_t[1])break;S=_t[0].concat(St)}return S=S.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,V.subParser("hashElement")(S,U,$)),S=(S=V.helper.replaceRecursiveRegExp(S,function(ge){return"\n\n\xa8K"+($.gHtmlBlocks.push(ge)-1)+"K\n\n"},"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,V.subParser("hashElement")(S,U,$)),$.converter._dispatch("hashHTMLBlocks.after",S,U,$)}),V.subParser("hashHTMLSpans",function(S,U,$){"use strict";function ce(xe){return"\xa8C"+($.gHtmlSpans.push(xe)-1)+"C"}return S=(S=(S=(S=(S=$.converter._dispatch("hashHTMLSpans.before",S,U,$)).replace(/<[^>]+?\/>/gi,function(xe){return ce(xe)})).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(xe){return ce(xe)})).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(xe){return ce(xe)})).replace(/<[^>]+?>/gi,function(xe){return ce(xe)}),$.converter._dispatch("hashHTMLSpans.after",S,U,$)}),V.subParser("unhashHTMLSpans",function(S,U,$){"use strict";S=$.converter._dispatch("unhashHTMLSpans.before",S,U,$);for(var ce=0;ce<$.gHtmlSpans.length;++ce){for(var xe=$.gHtmlSpans[ce],De=0;/\xa8C(\d+)C/.test(xe);){var _e=RegExp.$1;if(xe=xe.replace("\xa8C"+_e+"C",$.gHtmlSpans[_e]),10===De){console.error("maximum nesting of 10 spans reached!!!");break}++De}S=S.replace("\xa8C"+ce+"C",xe)}return $.converter._dispatch("unhashHTMLSpans.after",S,U,$)}),V.subParser("hashPreCodeTags",function(S,U,$){"use strict";return S=$.converter._dispatch("hashPreCodeTags.before",S,U,$),S=V.helper.replaceRecursiveRegExp(S,function(xe,De,_e,ke){var Bt=_e+V.subParser("encodeCode")(De,U,$)+ke;return"\n\n\xa8G"+($.ghCodeBlocks.push({text:xe,codeblock:Bt})-1)+"G\n\n"},"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),$.converter._dispatch("hashPreCodeTags.after",S,U,$)}),V.subParser("headers",function(S,U,$){"use strict";S=$.converter._dispatch("headers.before",S,U,$);var ce=isNaN(parseInt(U.headerLevelStart))?1:parseInt(U.headerLevelStart),De=U.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;function ke(Bt){var wt,_t;if(U.customizedHeaderId){var St=Bt.match(/\{([^{]+?)}\s*$/);St&&St[1]&&(Bt=St[1])}return wt=Bt,_t=V.helper.isString(U.prefixHeaderId)?U.prefixHeaderId:!0===U.prefixHeaderId?"section-":"",U.rawPrefixHeaderId||(wt=_t+wt),wt=U.ghCompatibleHeaderId?wt.replace(/ /g,"-").replace(/&amp;/g,"").replace(/\xa8T/g,"").replace(/\xa8D/g,"").replace(/[&+$,\/:;=?@"#{}|^\xa8~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():U.rawHeaderId?wt.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/\xa8T/g,"\xa8").replace(/\xa8D/g,"$").replace(/["']/g,"-").toLowerCase():wt.replace(/[^\w]/g,"").toLowerCase(),U.rawPrefixHeaderId&&(wt=_t+wt),$.hashLinkCounts[wt]?wt=wt+"-"+$.hashLinkCounts[wt]++:$.hashLinkCounts[wt]=1,wt}return S=(S=(S=S.replace(U.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(Bt,wt){var _t=V.subParser("spanGamut")(wt,U,$),St=U.noHeaderId?"":' id="'+ke(wt)+'"',Dt="<h"+ce+St+">"+_t+"</h"+ce+">";return V.subParser("hashBlock")(Dt,U,$)})).replace(De,function(Bt,wt){var _t=V.subParser("spanGamut")(wt,U,$),St=U.noHeaderId?"":' id="'+ke(wt)+'"',ge=ce+1,Dt="<h"+ge+St+">"+_t+"</h"+ge+">";return V.subParser("hashBlock")(Dt,U,$)})).replace(U.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(Bt,wt,_t){var St=_t;U.customizedHeaderId&&(St=_t.replace(/\s?\{([^{]+?)}\s*$/,""));var ge=V.subParser("spanGamut")(St,U,$),Dt=U.noHeaderId?"":' id="'+ke(_t)+'"',pn=ce-1+wt.length,Cn="<h"+pn+Dt+">"+ge+"</h"+pn+">";return V.subParser("hashBlock")(Cn,U,$)}),$.converter._dispatch("headers.after",S,U,$)}),V.subParser("horizontalRule",function(S,U,$){"use strict";S=$.converter._dispatch("horizontalRule.before",S,U,$);var ce=V.subParser("hashBlock")("<hr />",U,$);return S=(S=(S=S.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,ce)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,ce)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,ce),$.converter._dispatch("horizontalRule.after",S,U,$)}),V.subParser("images",function(S,U,$){"use strict";function wt(_t,St,ge,Dt,pn,Cn,Nr,On){var Rs=$.gUrls,aa=$.gTitles,Nc=$.gDimensions;if(ge=ge.toLowerCase(),On||(On=""),_t.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)Dt="";else if(""===Dt||null===Dt){if((""===ge||null===ge)&&(ge=St.toLowerCase().replace(/ ?\n/g," ")),Dt="#"+ge,V.helper.isUndefined(Rs[ge]))return _t;Dt=Rs[ge],V.helper.isUndefined(aa[ge])||(On=aa[ge]),V.helper.isUndefined(Nc[ge])||(pn=Nc[ge].width,Cn=Nc[ge].height)}St=St.replace(/"/g,"&quot;").replace(V.helper.regexes.asteriskDashAndColon,V.helper.escapeCharactersCallback);var Ns='<img src="'+(Dt=Dt.replace(V.helper.regexes.asteriskDashAndColon,V.helper.escapeCharactersCallback))+'" alt="'+St+'"';return On&&V.helper.isString(On)&&(Ns+=' title="'+(On=On.replace(/"/g,"&quot;").replace(V.helper.regexes.asteriskDashAndColon,V.helper.escapeCharactersCallback))+'"'),pn&&Cn&&(Ns+=' width="'+(pn="*"===pn?"auto":pn)+'"',Ns+=' height="'+(Cn="*"===Cn?"auto":Cn)+'"'),Ns+" />"}return S=(S=(S=(S=(S=(S=$.converter._dispatch("images.before",S,U,$)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,wt)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,function Bt(_t,St,ge,Dt,pn,Cn,Nr,On){return wt(_t,St,ge,Dt=Dt.replace(/\s/g,""),pn,Cn,0,On)})).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,wt)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,wt)).replace(/!\[([^\[\]]+)]()()()()()/g,wt),$.converter._dispatch("images.after",S,U,$)}),V.subParser("italicsAndBold",function(S,U,$){"use strict";function ce(xe,De,_e){return De+xe+_e}return S=$.converter._dispatch("italicsAndBold.before",S,U,$),S=U.literalMidWordUnderscores?(S=(S=S.replace(/\b___(\S[\s\S]*?)___\b/g,function(xe,De){return ce(De,"<strong><em>","</em></strong>")})).replace(/\b__(\S[\s\S]*?)__\b/g,function(xe,De){return ce(De,"<strong>","</strong>")})).replace(/\b_(\S[\s\S]*?)_\b/g,function(xe,De){return ce(De,"<em>","</em>")}):(S=(S=S.replace(/___(\S[\s\S]*?)___/g,function(xe,De){return/\S$/.test(De)?ce(De,"<strong><em>","</em></strong>"):xe})).replace(/__(\S[\s\S]*?)__/g,function(xe,De){return/\S$/.test(De)?ce(De,"<strong>","</strong>"):xe})).replace(/_([^\s_][\s\S]*?)_/g,function(xe,De){return/\S$/.test(De)?ce(De,"<em>","</em>"):xe}),S=U.literalMidWordAsterisks?(S=(S=S.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(xe,De,_e){return ce(_e,De+"<strong><em>","</em></strong>")})).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(xe,De,_e){return ce(_e,De+"<strong>","</strong>")})).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(xe,De,_e){return ce(_e,De+"<em>","</em>")}):(S=(S=S.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(xe,De){return/\S$/.test(De)?ce(De,"<strong><em>","</em></strong>"):xe})).replace(/\*\*(\S[\s\S]*?)\*\*/g,function(xe,De){return/\S$/.test(De)?ce(De,"<strong>","</strong>"):xe})).replace(/\*([^\s*][\s\S]*?)\*/g,function(xe,De){return/\S$/.test(De)?ce(De,"<em>","</em>"):xe}),$.converter._dispatch("italicsAndBold.after",S,U,$)}),V.subParser("lists",function(S,U,$){"use strict";function ce(_e,ke){$.gListLevel++,_e=_e.replace(/\n{2,}$/,"\n");var Bt=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80| {0,3}([*+-]|\d+[.])[ \t]+))/gm,wt=/\n[ \t]*\n(?!\xa80)/.test(_e+="\xa80");return U.disableForced4SpacesIndentedSublists&&(Bt=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80|\2([*+-]|\d+[.])[ \t]+))/gm),_e=(_e=_e.replace(Bt,function(_t,St,ge,Dt,pn,Cn,Nr){Nr=Nr&&""!==Nr.trim();var On=V.subParser("outdent")(pn,U,$),Rs="";return Cn&&U.tasklists&&(Rs=' class="task-list-item" style="list-style-type: none;"',On=On.replace(/^[ \t]*\[(x|X| )?]/m,function(){var aa='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return Nr&&(aa+=" checked"),aa+">"})),On=On.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(aa){return"\xa8A"+aa}),St||On.search(/\n{2,}/)>-1?(On=V.subParser("githubCodeBlocks")(On,U,$),On=V.subParser("blockGamut")(On,U,$)):(On=(On=V.subParser("lists")(On,U,$)).replace(/\n$/,""),On=(On=V.subParser("hashHTMLBlocks")(On,U,$)).replace(/\n\n+/g,"\n\n"),On=wt?V.subParser("paragraphs")(On,U,$):V.subParser("spanGamut")(On,U,$)),"<li"+Rs+">"+(On=On.replace("\xa8A",""))+"</li>\n"})).replace(/\xa80/g,""),$.gListLevel--,ke&&(_e=_e.replace(/\s+$/,"")),_e}function xe(_e,ke){if("ol"===ke){var Bt=_e.match(/^ *(\d+)\./);if(Bt&&"1"!==Bt[1])return' start="'+Bt[1]+'"'}return""}function De(_e,ke,Bt){var wt=U.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,_t=U.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,St="ul"===ke?wt:_t,ge="";if(-1!==_e.search(St))!function pn(Cn){var Nr=Cn.search(St),On=xe(_e,ke);-1!==Nr?(ge+="\n\n<"+ke+On+">\n"+ce(Cn.slice(0,Nr),!!Bt)+"</"+ke+">\n",St="ul"==(ke="ul"===ke?"ol":"ul")?wt:_t,pn(Cn.slice(Nr))):ge+="\n\n<"+ke+On+">\n"+ce(Cn,!!Bt)+"</"+ke+">\n"}(_e);else{var Dt=xe(_e,ke);ge="\n\n<"+ke+Dt+">\n"+ce(_e,!!Bt)+"</"+ke+">\n"}return ge}return S=$.converter._dispatch("lists.before",S,U,$),S+="\xa80",S=(S=$.gListLevel?S.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(_e,ke,Bt){return De(ke,Bt.search(/[*+-]/g)>-1?"ul":"ol",!0)}):S.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(_e,ke,Bt,wt){return De(Bt,wt.search(/[*+-]/g)>-1?"ul":"ol",!1)})).replace(/\xa80/,""),$.converter._dispatch("lists.after",S,U,$)}),V.subParser("metadata",function(S,U,$){"use strict";if(!U.metadata)return S;function ce(xe){$.metadata.raw=xe,(xe=(xe=xe.replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,function(De,_e,ke){return $.metadata.parsed[_e]=ke,""})}return S=(S=(S=(S=$.converter._dispatch("metadata.before",S,U,$)).replace(/^\s*\xab\xab\xab+(\S*?)\n([\s\S]+?)\n\xbb\xbb\xbb+\n/,function(xe,De,_e){return ce(_e),"\xa8M"})).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(xe,De,_e){return De&&($.metadata.format=De),ce(_e),"\xa8M"})).replace(/\xa8M/g,""),$.converter._dispatch("metadata.after",S,U,$)}),V.subParser("outdent",function(S,U,$){"use strict";return S=(S=(S=$.converter._dispatch("outdent.before",S,U,$)).replace(/^(\t|[ ]{1,4})/gm,"\xa80")).replace(/\xa80/g,""),$.converter._dispatch("outdent.after",S,U,$)}),V.subParser("paragraphs",function(S,U,$){"use strict";for(var ce=(S=(S=(S=$.converter._dispatch("paragraphs.before",S,U,$)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),xe=[],De=ce.length,_e=0;_e<De;_e++){var ke=ce[_e];ke.search(/\xa8(K|G)(\d+)\1/g)>=0?xe.push(ke):ke.search(/\S/)>=0&&(ke=(ke=V.subParser("spanGamut")(ke,U,$)).replace(/^([ \t]*)/g,"<p>"),xe.push(ke+="</p>"))}for(De=xe.length,_e=0;_e<De;_e++){for(var Bt="",wt=xe[_e],_t=!1;/\xa8(K|G)(\d+)\1/.test(wt);){var St=RegExp.$1,ge=RegExp.$2;Bt=(Bt="K"===St?$.gHtmlBlocks[ge]:_t?V.subParser("encodeCode")($.ghCodeBlocks[ge].text,U,$):$.ghCodeBlocks[ge].codeblock).replace(/\$/g,"$$$$"),wt=wt.replace(/(\n\n)?\xa8(K|G)\d+\2(\n\n)?/,Bt),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(wt)&&(_t=!0)}xe[_e]=wt}return S=(S=(S=xe.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),$.converter._dispatch("paragraphs.after",S,U,$)}),V.subParser("runExtension",function(S,U,$,ce){"use strict";if(S.filter)U=S.filter(U,ce.converter,$);else if(S.regex){var xe=S.regex;xe instanceof RegExp||(xe=new RegExp(xe,"g")),U=U.replace(xe,S.replace)}return U}),V.subParser("spanGamut",function(S,U,$){"use strict";return S=$.converter._dispatch("spanGamut.before",S,U,$),S=V.subParser("codeSpans")(S,U,$),S=V.subParser("escapeSpecialCharsWithinTagAttributes")(S,U,$),S=V.subParser("encodeBackslashEscapes")(S,U,$),S=V.subParser("images")(S,U,$),S=V.subParser("anchors")(S,U,$),S=V.subParser("autoLinks")(S,U,$),S=V.subParser("simplifiedAutoLinks")(S,U,$),S=V.subParser("emoji")(S,U,$),S=V.subParser("underline")(S,U,$),S=V.subParser("italicsAndBold")(S,U,$),S=V.subParser("strikethrough")(S,U,$),S=V.subParser("ellipsis")(S,U,$),S=V.subParser("hashHTMLSpans")(S,U,$),S=V.subParser("encodeAmpsAndAngles")(S,U,$),U.simpleLineBreaks?/\n\n\xa8K/.test(S)||(S=S.replace(/\n+/g,"<br />\n")):S=S.replace(/  +\n/g,"<br />\n"),$.converter._dispatch("spanGamut.after",S,U,$)}),V.subParser("strikethrough",function(S,U,$){"use strict";return U.strikethrough&&(S=(S=$.converter._dispatch("strikethrough.before",S,U,$)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(xe,De){return function ce(xe){return U.simplifiedAutoLink&&(xe=V.subParser("simplifiedAutoLinks")(xe,U,$)),"<del>"+xe+"</del>"}(De)}),S=$.converter._dispatch("strikethrough.after",S,U,$)),S}),V.subParser("stripLinkDefinitions",function(S,U,$){"use strict";var De=function(_e,ke,Bt,wt,_t,St,ge){return ke=ke.toLowerCase(),S.toLowerCase().split(ke).length-1<2?_e:($.gUrls[ke]=Bt.match(/^data:.+?\/.+?;base64,/)?Bt.replace(/\s/g,""):V.subParser("encodeAmpsAndAngles")(Bt,U,$),St?St+ge:(ge&&($.gTitles[ke]=ge.replace(/"|'/g,"&quot;")),U.parseImgDimensions&&wt&&_t&&($.gDimensions[ke]={width:wt,height:_t}),""))};return S=(S=(S=(S+="\xa80").replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=\xa80)|(?=\n\[))/gm,De)).replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=\xa80))/gm,De)).replace(/\xa80/,"")}),V.subParser("tables",function(S,U,$){"use strict";if(!U.tables)return S;function De(_t){return/^:[ \t]*--*$/.test(_t)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(_t)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(_t)?' style="text-align:center;"':""}function _e(_t,St){var ge="";return _t=_t.trim(),(U.tablesHeaderId||U.tableHeaderId)&&(ge=' id="'+_t.replace(/ /g,"_").toLowerCase()+'"'),"<th"+ge+St+">"+(_t=V.subParser("spanGamut")(_t,U,$))+"</th>\n"}function ke(_t,St){return"<td"+St+">"+V.subParser("spanGamut")(_t,U,$)+"</td>\n"}function wt(_t){var St,ge=_t.split("\n");for(St=0;St<ge.length;++St)/^ {0,3}\|/.test(ge[St])&&(ge[St]=ge[St].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(ge[St])&&(ge[St]=ge[St].replace(/\|[ \t]*$/,"")),ge[St]=V.subParser("codeSpans")(ge[St],U,$);var Dt=ge[0].split("|").map(function(Ns){return Ns.trim()}),pn=ge[1].split("|").map(function(Ns){return Ns.trim()}),Cn=[],Nr=[],On=[],Rs=[];for(ge.shift(),ge.shift(),St=0;St<ge.length;++St)""!==ge[St].trim()&&Cn.push(ge[St].split("|").map(function(Ns){return Ns.trim()}));if(Dt.length<pn.length)return _t;for(St=0;St<pn.length;++St)On.push(De(pn[St]));for(St=0;St<Dt.length;++St)V.helper.isUndefined(On[St])&&(On[St]=""),Nr.push(_e(Dt[St],On[St]));for(St=0;St<Cn.length;++St){for(var aa=[],Nc=0;Nc<Nr.length;++Nc)V.helper.isUndefined(Cn[St][Nc]),aa.push(ke(Cn[St][Nc],On[Nc]));Rs.push(aa)}return function Bt(_t,St){for(var ge="<table>\n<thead>\n<tr>\n",Dt=_t.length,pn=0;pn<Dt;++pn)ge+=_t[pn];for(ge+="</tr>\n</thead>\n<tbody>\n",pn=0;pn<St.length;++pn){ge+="<tr>\n";for(var Cn=0;Cn<Dt;++Cn)ge+=St[pn][Cn];ge+="</tr>\n"}return ge+"</tbody>\n</table>\n"}(Nr,Rs)}return S=(S=(S=(S=$.converter._dispatch("tables.before",S,U,$)).replace(/\\(\|)/g,V.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|\xa80)/gm,wt)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|\xa80)/gm,wt),$.converter._dispatch("tables.after",S,U,$)}),V.subParser("underline",function(S,U,$){"use strict";return U.underline&&(S=$.converter._dispatch("underline.before",S,U,$),S=(S=U.literalMidWordUnderscores?(S=S.replace(/\b___(\S[\s\S]*?)___\b/g,function(ce,xe){return"<u>"+xe+"</u>"})).replace(/\b__(\S[\s\S]*?)__\b/g,function(ce,xe){return"<u>"+xe+"</u>"}):(S=S.replace(/___(\S[\s\S]*?)___/g,function(ce,xe){return/\S$/.test(xe)?"<u>"+xe+"</u>":ce})).replace(/__(\S[\s\S]*?)__/g,function(ce,xe){return/\S$/.test(xe)?"<u>"+xe+"</u>":ce})).replace(/(_)/g,V.helper.escapeCharactersCallback),S=$.converter._dispatch("underline.after",S,U,$)),S}),V.subParser("unescapeSpecialChars",function(S,U,$){"use strict";return S=(S=$.converter._dispatch("unescapeSpecialChars.before",S,U,$)).replace(/\xa8E(\d+)E/g,function(ce,xe){var De=parseInt(xe);return String.fromCharCode(De)}),$.converter._dispatch("unescapeSpecialChars.after",S,U,$)}),V.subParser("makeMarkdown.blockquote",function(S,U){"use strict";var $="";if(S.hasChildNodes())for(var ce=S.childNodes,xe=ce.length,De=0;De<xe;++De){var _e=V.subParser("makeMarkdown.node")(ce[De],U);""!==_e&&($+=_e)}return"> "+($=$.trim()).split("\n").join("\n> ")}),V.subParser("makeMarkdown.codeBlock",function(S,U){"use strict";var $=S.getAttribute("language"),ce=S.getAttribute("precodenum");return"```"+$+"\n"+U.preList[ce]+"\n```"}),V.subParser("makeMarkdown.codeSpan",function(S){"use strict";return"`"+S.innerHTML+"`"}),V.subParser("makeMarkdown.emphasis",function(S,U){"use strict";var $="";if(S.hasChildNodes()){$+="*";for(var ce=S.childNodes,xe=ce.length,De=0;De<xe;++De)$+=V.subParser("makeMarkdown.node")(ce[De],U);$+="*"}return $}),V.subParser("makeMarkdown.header",function(S,U,$){"use strict";var ce=new Array($+1).join("#"),xe="";if(S.hasChildNodes()){xe=ce+" ";for(var De=S.childNodes,_e=De.length,ke=0;ke<_e;++ke)xe+=V.subParser("makeMarkdown.node")(De[ke],U)}return xe}),V.subParser("makeMarkdown.hr",function(){"use strict";return"---"}),V.subParser("makeMarkdown.image",function(S){"use strict";var U="";return S.hasAttribute("src")&&(U+="!["+S.getAttribute("alt")+"](",U+="<"+S.getAttribute("src")+">",S.hasAttribute("width")&&S.hasAttribute("height")&&(U+=" ="+S.getAttribute("width")+"x"+S.getAttribute("height")),S.hasAttribute("title")&&(U+=' "'+S.getAttribute("title")+'"'),U+=")"),U}),V.subParser("makeMarkdown.links",function(S,U){"use strict";var $="";if(S.hasChildNodes()&&S.hasAttribute("href")){var ce=S.childNodes,xe=ce.length;$="[";for(var De=0;De<xe;++De)$+=V.subParser("makeMarkdown.node")(ce[De],U);$+="](",$+="<"+S.getAttribute("href")+">",S.hasAttribute("title")&&($+=' "'+S.getAttribute("title")+'"'),$+=")"}return $}),V.subParser("makeMarkdown.list",function(S,U,$){"use strict";var ce="";if(!S.hasChildNodes())return"";for(var xe=S.childNodes,De=xe.length,_e=S.getAttribute("start")||1,ke=0;ke<De;++ke)typeof xe[ke].tagName>"u"||"li"!==xe[ke].tagName.toLowerCase()||(ce+=("ol"===$?_e.toString()+". ":"- ")+V.subParser("makeMarkdown.listItem")(xe[ke],U),++_e);return(ce+="\n\x3c!-- --\x3e\n").trim()}),V.subParser("makeMarkdown.listItem",function(S,U){"use strict";for(var $="",ce=S.childNodes,xe=ce.length,De=0;De<xe;++De)$+=V.subParser("makeMarkdown.node")(ce[De],U);return/\n$/.test($)?$=$.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):$+="\n",$}),V.subParser("makeMarkdown.node",function(S,U,$){"use strict";$=$||!1;var ce="";if(3===S.nodeType)return V.subParser("makeMarkdown.txt")(S,U);if(8===S.nodeType)return"\x3c!--"+S.data+"--\x3e\n\n";if(1!==S.nodeType)return"";switch(S.tagName.toLowerCase()){case"h1":$||(ce=V.subParser("makeMarkdown.header")(S,U,1)+"\n\n");break;case"h2":$||(ce=V.subParser("makeMarkdown.header")(S,U,2)+"\n\n");break;case"h3":$||(ce=V.subParser("makeMarkdown.header")(S,U,3)+"\n\n");break;case"h4":$||(ce=V.subParser("makeMarkdown.header")(S,U,4)+"\n\n");break;case"h5":$||(ce=V.subParser("makeMarkdown.header")(S,U,5)+"\n\n");break;case"h6":$||(ce=V.subParser("makeMarkdown.header")(S,U,6)+"\n\n");break;case"p":$||(ce=V.subParser("makeMarkdown.paragraph")(S,U)+"\n\n");break;case"blockquote":$||(ce=V.subParser("makeMarkdown.blockquote")(S,U)+"\n\n");break;case"hr":$||(ce=V.subParser("makeMarkdown.hr")(S,U)+"\n\n");break;case"ol":$||(ce=V.subParser("makeMarkdown.list")(S,U,"ol")+"\n\n");break;case"ul":$||(ce=V.subParser("makeMarkdown.list")(S,U,"ul")+"\n\n");break;case"precode":$||(ce=V.subParser("makeMarkdown.codeBlock")(S,U)+"\n\n");break;case"pre":$||(ce=V.subParser("makeMarkdown.pre")(S,U)+"\n\n");break;case"table":$||(ce=V.subParser("makeMarkdown.table")(S,U)+"\n\n");break;case"code":ce=V.subParser("makeMarkdown.codeSpan")(S,U);break;case"em":case"i":ce=V.subParser("makeMarkdown.emphasis")(S,U);break;case"strong":case"b":ce=V.subParser("makeMarkdown.strong")(S,U);break;case"del":ce=V.subParser("makeMarkdown.strikethrough")(S,U);break;case"a":ce=V.subParser("makeMarkdown.links")(S,U);break;case"img":ce=V.subParser("makeMarkdown.image")(S,U);break;default:ce=S.outerHTML+"\n\n"}return ce}),V.subParser("makeMarkdown.paragraph",function(S,U){"use strict";var $="";if(S.hasChildNodes())for(var ce=S.childNodes,xe=ce.length,De=0;De<xe;++De)$+=V.subParser("makeMarkdown.node")(ce[De],U);return $.trim()}),V.subParser("makeMarkdown.pre",function(S,U){"use strict";var $=S.getAttribute("prenum");return"<pre>"+U.preList[$]+"</pre>"}),V.subParser("makeMarkdown.strikethrough",function(S,U){"use strict";var $="";if(S.hasChildNodes()){$+="~~";for(var ce=S.childNodes,xe=ce.length,De=0;De<xe;++De)$+=V.subParser("makeMarkdown.node")(ce[De],U);$+="~~"}return $}),V.subParser("makeMarkdown.strong",function(S,U){"use strict";var $="";if(S.hasChildNodes()){$+="**";for(var ce=S.childNodes,xe=ce.length,De=0;De<xe;++De)$+=V.subParser("makeMarkdown.node")(ce[De],U);$+="**"}return $}),V.subParser("makeMarkdown.table",function(S,U){"use strict";var _e,ke,$="",ce=[[],[]],xe=S.querySelectorAll("thead>tr>th"),De=S.querySelectorAll("tbody>tr");for(_e=0;_e<xe.length;++_e){var Bt=V.subParser("makeMarkdown.tableCell")(xe[_e],U),wt="---";if(xe[_e].hasAttribute("style"))switch(xe[_e].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":wt=":---";break;case"text-align:right;":wt="---:";break;case"text-align:center;":wt=":---:"}ce[0][_e]=Bt.trim(),ce[1][_e]=wt}for(_e=0;_e<De.length;++_e){var St=ce.push([])-1,ge=De[_e].getElementsByTagName("td");for(ke=0;ke<xe.length;++ke){var Dt=" ";typeof ge[ke]<"u"&&(Dt=V.subParser("makeMarkdown.tableCell")(ge[ke],U)),ce[St].push(Dt)}}var pn=3;for(_e=0;_e<ce.length;++_e)for(ke=0;ke<ce[_e].length;++ke){var Cn=ce[_e][ke].length;Cn>pn&&(pn=Cn)}for(_e=0;_e<ce.length;++_e){for(ke=0;ke<ce[_e].length;++ke)ce[_e][ke]=1===_e?":"===ce[_e][ke].slice(-1)?V.helper.padEnd(ce[_e][ke].slice(-1),pn-1,"-")+":":V.helper.padEnd(ce[_e][ke],pn,"-"):V.helper.padEnd(ce[_e][ke],pn);$+="| "+ce[_e].join(" | ")+" |\n"}return $.trim()}),V.subParser("makeMarkdown.tableCell",function(S,U){"use strict";var $="";if(!S.hasChildNodes())return"";for(var ce=S.childNodes,xe=ce.length,De=0;De<xe;++De)$+=V.subParser("makeMarkdown.node")(ce[De],U,!0);return $.trim()}),V.subParser("makeMarkdown.txt",function(S){"use strict";var U=S.nodeValue;return U=(U=U.replace(/ +/g," ")).replace(/\xa8NBSP;/g," "),(U=(U=(U=(U=(U=(U=(U=(U=V.helper.unescapeHTMLEntities(U)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")}),void 0!==(we=function(){"use strict";return V}.call(We,te,We,Ce))&&(Ce.exports=we)}).call(this)},8125:(Ce,We,te)=>{var we=te(2925);Ce.exports=function be(Le,V){return we(Le,V)}},8247:(Ce,We,te)=>{var be=te(4385)(Object,"create");Ce.exports=be},8313:(Ce,We,te)=>{var we=te(1057),be=te(7433);Ce.exports=function V(Ne){return be(Ne)&&"[object Arguments]"==we(Ne)}},8401:(Ce,We,te)=>{var V,we=te(336),be=(V=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"";Ce.exports=function Le(V){return!!be&&be in V}},8425:Ce=>{Ce.exports=function We(te){var we=this.__data__,be=we.delete(te);return this.size=we.size,be}},8426:Ce=>{var te=/^(?:0|[1-9]\d*)$/;Ce.exports=function we(be,Le){var V=typeof be;return!!(Le=Le??9007199254740991)&&("number"==V||"symbol"!=V&&te.test(be))&&be>-1&&be%1==0&&be<Le}},8488:(Ce,We,te)=>{var we=te(8516),be=Object.prototype,Le=be.hasOwnProperty,V=be.toString,Ne=we?we.toStringTag:void 0;Ce.exports=function Fe(He){var et=Le.call(He,Ne),Sn=He[Ne];try{He[Ne]=void 0;var An=!0}catch{}var or=V.call(He);return An&&(et?He[Ne]=Sn:delete He[Ne]),or}},8516:(Ce,We,te)=>{var we=te(1464);Ce.exports=we.Symbol},8548:(Ce,We,te)=>{var we=te(9695),be=te(6265),Le=te(9812),V=te(3151),Ne=te(8426),Fe=te(1028),et=Object.prototype.hasOwnProperty;Ce.exports=function Sn(An,or){var Xn=Le(An),Yr=!Xn&&be(An),Ri=!Xn&&!Yr&&V(An),us=!Xn&&!Yr&&!Ri&&Fe(An),oi=Xn||Yr||Ri||us,Wr=oi?we(An.length,String):[],Rr=Wr.length;for(var ur in An)(or||et.call(An,ur))&&(!oi||!("length"==ur||Ri&&("offset"==ur||"parent"==ur)||us&&("buffer"==ur||"byteLength"==ur||"byteOffset"==ur)||Ne(ur,Rr)))&&Wr.push(ur);return Wr}},8653:(Ce,We,te)=>{var we=te(1057),be=te(3278);Ce.exports=function He(et){if(!be(et))return!1;var Sn=we(et);return"[object Function]"==Sn||"[object GeneratorFunction]"==Sn||"[object AsyncFunction]"==Sn||"[object Proxy]"==Sn}},8657:Ce=>{var We="object"==typeof global&&global&&global.Object===Object&&global;Ce.exports=We},8709:(Ce,We)=>{var we;!function(){"use strict";var be={}.hasOwnProperty;function Le(){for(var Fe="",He=0;He<arguments.length;He++){var et=arguments[He];et&&(Fe=Ne(Fe,V(et)))}return Fe}function V(Fe){if("string"==typeof Fe||"number"==typeof Fe)return Fe;if("object"!=typeof Fe)return"";if(Array.isArray(Fe))return Le.apply(null,Fe);if(Fe.toString!==Object.prototype.toString&&!Fe.toString.toString().includes("[native code]"))return Fe.toString();var He="";for(var et in Fe)be.call(Fe,et)&&Fe[et]&&(He=Ne(He,et));return He}function Ne(Fe,He){return He?Fe?Fe+" "+He:Fe+He:Fe}Ce.exports?(Le.default=Le,Ce.exports=Le):void 0!==(we=function(){return Le}.apply(We,[]))&&(Ce.exports=we)}()},8737:Ce=>{Ce.exports=function We(te,we){return te?.[we]}},8822:Ce=>{Ce.exports=function(te,we){for(var be=te.split("."),Le=we.split("."),V=0;V<3;V++){var Ne=Number(be[V]),Fe=Number(Le[V]);if(Ne>Fe)return 1;if(Fe>Ne)return-1;if(!isNaN(Ne)&&isNaN(Fe))return 1;if(isNaN(Ne)&&!isNaN(Fe))return-1}return 0}},8845:Ce=>{Ce.exports=function te(we){return"number"==typeof we&&we>-1&&we%1==0&&we<=9007199254740991}},8945:(Ce,We,te)=>{var we=te(5752);Ce.exports=function be(){this.__data__=new we,this.size=0}},9038:(Ce,We,te)=>{var we=te(3329);Ce.exports=function be(Le,V){var Ne=Le.__data__;return we(V)?Ne["string"==typeof V?"string":"hash"]:Ne.map}},9471:(Ce,We,te)=>{var we=te(6898),be=te(2900),Le=te(7987),V=te(7880),Ne=te(828),Fe=te(9812),He=te(3151),et=te(1028),An="[object Arguments]",or="[object Array]",Xn="[object Object]",Ri=Object.prototype.hasOwnProperty;Ce.exports=function us(oi,Wr,Rr,ur,vi,S){var U=Fe(oi),$=Fe(Wr),ce=U?or:Ne(oi),xe=$?or:Ne(Wr),De=(ce=ce==An?Xn:ce)==Xn,_e=(xe=xe==An?Xn:xe)==Xn,ke=ce==xe;if(ke&&He(oi)){if(!He(Wr))return!1;U=!0,De=!1}if(ke&&!De)return S||(S=new we),U||et(oi)?be(oi,Wr,Rr,ur,vi,S):Le(oi,Wr,ce,Rr,ur,vi,S);if(!(1&Rr)){var Bt=De&&Ri.call(oi,"__wrapped__"),wt=_e&&Ri.call(Wr,"__wrapped__");if(Bt||wt){var _t=Bt?oi.value():oi,St=wt?Wr.value():Wr;return S||(S=new we),vi(_t,St,Rr,ur,S)}}return!!ke&&(S||(S=new we),V(oi,Wr,Rr,ur,vi,S))}},9695:Ce=>{Ce.exports=function We(te,we){for(var be=-1,Le=Array(te);++be<te;)Le[be]=we(be);return Le}},9812:Ce=>{Ce.exports=Array.isArray},9926:(Ce,We,te)=>{var we=te(6319),be=te(9812);Ce.exports=function Le(V,Ne,Fe){var He=Ne(V);return be(V)?He:we(He,Fe(V))}}},Ce=>{Ce(Ce.s=1614)}]);