(self.webpackChunkfront=self.webpackChunkfront||[]).push([[792],{51:pe=>{const Be="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...V)=>console.error("SEMVER",...V):()=>{};pe.exports=Be},62:(pe,Be,V)=>{var oe=V(6316);pe.exports=function N(ve){var ge=this.__data__,Ee=oe(ge,ve);return Ee<0?void 0:ge[Ee][1]}},149:(pe,Be,V)=>{"use strict";function oe(t,n,i,s,o,a,l){try{var c=t[a](l),u=c.value}catch(d){return void i(d)}c.done?n(u):Promise.resolve(u).then(s,o)}function N(t){return function(){var n=this,i=arguments;return new Promise(function(s,o){var a=t.apply(n,i);function l(u){oe(a,s,o,l,c,"next",u)}function c(u){oe(a,s,o,l,c,"throw",u)}l(void 0)})}}function ve(t,n){return Object.is(t,n)}let ge=null,Ee=!1,Me=1;const ue=Symbol("SIGNAL");function ze(t){const n=ge;return ge=t,n}const st={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _t(t){if(Ee)throw new Error("");if(null===ge)return;ge.consumerOnSignalRead(t);const n=ge.nextProducerIndex++;Wo(ge),n<ge.producerNode.length&&ge.producerNode[n]!==t&&_s(ge)&&zn(ge.producerNode[n],ge.producerIndexOfThis[n]),ge.producerNode[n]!==t&&(ge.producerNode[n]=t,ge.producerIndexOfThis[n]=_s(ge)?Zn(t,ge,n):0),ge.producerLastReadVersion[n]=t.version}function dn(t){if((!_s(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Me)){if(!t.producerMustRecompute(t)&&!jr(t))return void In(t);t.producerRecomputeValue(t),In(t)}}function pn(t){if(void 0===t.liveConsumerNode)return;const n=Ee;Ee=!0;try{for(const i of t.liveConsumerNode)i.dirty||lr(i)}finally{Ee=n}}function Cn(){return!1!==ge?.consumerAllowSignalWrites}function lr(t){t.dirty=!0,pn(t),t.consumerMarkedDirty?.(t)}function In(t){t.dirty=!1,t.lastCleanEpoch=Me}function nr(t){return t&&(t.nextProducerIndex=0),ze(t)}function ir(t,n){if(ze(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(_s(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)zn(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function jr(t){Wo(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],s=t.producerLastReadVersion[n];if(s!==i.version||(dn(i),s!==i.version))return!0}return!1}function Mn(t){if(Wo(t),_s(t))for(let n=0;n<t.producerNode.length;n++)zn(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Zn(t,n,i){if(ti(t),0===t.liveConsumerNode.length&&qa(t))for(let s=0;s<t.producerNode.length;s++)t.producerIndexOfThis[s]=Zn(t.producerNode[s],t,s);return t.liveConsumerIndexOfThis.push(i),t.liveConsumerNode.push(n)-1}function zn(t,n){if(ti(t),1===t.liveConsumerNode.length&&qa(t))for(let s=0;s<t.producerNode.length;s++)zn(t.producerNode[s],t.producerIndexOfThis[s]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[n],o=t.liveConsumerNode[n];Wo(o),o.producerIndexOfThis[s]=n}}function _s(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Wo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ti(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function qa(t){return void 0!==t.producerNode}const fn=Symbol("UNSET"),tn=Symbol("COMPUTING"),Fn=Symbol("ERRORED"),Hn={...st,value:fn,dirty:!0,error:null,equal:ve,kind:"computed",producerMustRecompute:t=>t.value===fn||t.value===tn,producerRecomputeValue(t){if(t.value===tn)throw new Error("Detected cycle in computations.");const n=t.value;t.value=tn;const i=nr(t);let s,o=!1;try{s=t.computation(),ze(null),o=n!==fn&&n!==Fn&&s!==Fn&&t.equal(n,s)}catch(a){s=Fn,t.error=a}finally{ir(t,i)}o?t.value=n:(t.value=s,t.version++)}};let Kn=function vr(){throw new Error};function cr(t){Kn(t)}function us(t,n){Cn()||cr(t),t.equal(t.value,n)||(t.value=n,function eB(t){t.version++,function ut(){Me++}(),pn(t)}(t))}const lg={...st,equal:ve,value:void 0,kind:"signal"};let $u;function ov(){return $u}function Bf(t){const n=$u;return $u=t,n}const p0=Symbol("NotFound");function Li(t){return"function"==typeof t}function _D(t){const i=t(s=>{Error.call(s),s.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}Error;const f0=_D(t=>function(i){t(this),this.message=i?`${i.length} errors occurred during unsubscription:\n${i.map((s,o)=>`${o+1}) ${s.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=i});function Y5(t,n){if(t){const i=t.indexOf(n);0<=i&&t.splice(i,1)}}class Wa{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(const a of i)a.remove(this);else i.remove(this);const{initialTeardown:s}=this;if(Li(s))try{s()}catch(a){n=a instanceof f0?a.errors:[a]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const a of o)try{A2(a)}catch(l){n=n??[],l instanceof f0?n=[...n,...l.errors]:n.push(l)}}if(n)throw new f0(n)}}add(n){var i;if(n&&n!==this)if(this.closed)A2(n);else{if(n instanceof Wa){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(n)}}_hasParent(n){const{_parentage:i}=this;return i===n||Array.isArray(i)&&i.includes(n)}_addParent(n){const{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(n),i):i?[i,n]:n}_removeParent(n){const{_parentage:i}=this;i===n?this._parentage=null:Array.isArray(i)&&Y5(i,n)}remove(n){const{_finalizers:i}=this;i&&Y5(i,n),n instanceof Wa&&n._removeParent(this)}}Wa.EMPTY=(()=>{const t=new Wa;return t.closed=!0,t})();const h0=Wa.EMPTY;function M2(t){return t instanceof Wa||t&&"closed"in t&&Li(t.remove)&&Li(t.add)&&Li(t.unsubscribe)}function A2(t){Li(t)?t():t.unsubscribe()}const Lp={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},cg={setTimeout(t,n,...i){const{delegate:s}=cg;return s?.setTimeout?s.setTimeout(t,n,...i):setTimeout(t,n,...i)},clearTimeout(t){const{delegate:n}=cg;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function I2(t){cg.setTimeout(()=>{const{onUnhandledError:n}=Lp;if(!n)throw t;n(t)})}function av(){}const X5=J5("C",void 0,void 0);function J5(t,n,i){return{kind:t,value:n,error:i}}let m0=null;function R2(t){if(Lp.useDeprecatedSynchronousErrorHandling){const n=!m0;if(n&&(m0={errorThrown:!1,error:null}),t(),n){const{errorThrown:i,error:s}=m0;if(m0=null,i)throw s}}else t()}class N2 extends Wa{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,M2(n)&&n.add(this)):this.destination=sB}static create(n,i,s){return new t4(n,i,s)}next(n){this.isStopped?n4(function Z5(t){return J5("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?n4(function Q5(t){return J5("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?n4(X5,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nB=Function.prototype.bind;function e4(t,n){return nB.call(t,n)}class rB{constructor(n){this.partialObserver=n}next(n){const{partialObserver:i}=this;if(i.next)try{i.next(n)}catch(s){lv(s)}}error(n){const{partialObserver:i}=this;if(i.error)try{i.error(n)}catch(s){lv(s)}else lv(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(i){lv(i)}}}class t4 extends N2{constructor(n,i,s){let o;if(super(),Li(n)||!n)o={next:n??void 0,error:i??void 0,complete:s??void 0};else{let a;this&&Lp.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&e4(n.next,a),error:n.error&&e4(n.error,a),complete:n.complete&&e4(n.complete,a)}):o=n}this.destination=new rB(o)}}function lv(t){Lp.useDeprecatedSynchronousErrorHandling?function ED(t){Lp.useDeprecatedSynchronousErrorHandling&&m0&&(m0.errorThrown=!0,m0.error=t)}(t):I2(t)}function n4(t,n){const{onStoppedNotification:i}=Lp;i&&cg.setTimeout(()=>i(t,n))}const sB={closed:!0,next:av,error:function iB(t){throw t},complete:av},cv="function"==typeof Symbol&&Symbol.observable||"@@observable";function xD(t){return t}let vl=(()=>{class t{constructor(i){i&&(this._subscribe=i)}lift(i){const s=new t;return s.source=this,s.operator=i,s}subscribe(i,s,o){const a=function aB(t){return t&&t instanceof N2||function oB(t){return t&&Li(t.next)&&Li(t.error)&&Li(t.complete)}(t)&&M2(t)}(i)?i:new t4(i,s,o);return R2(()=>{const{operator:l,source:c}=this;a.add(l?l.call(a,c):c?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(i){try{return this._subscribe(i)}catch(s){i.error(s)}}forEach(i,s){return new(s=SD(s))((o,a)=>{const l=new t4({next:c=>{try{i(c)}catch(u){a(u),l.unsubscribe()}},error:a,complete:o});this.subscribe(l)})}_subscribe(i){var s;return null===(s=this.source)||void 0===s?void 0:s.subscribe(i)}[cv](){return this}pipe(...i){return function CD(t){return 0===t.length?xD:1===t.length?t[0]:function(i){return t.reduce((s,o)=>o(s),i)}}(i)(this)}toPromise(i){return new(i=SD(i))((s,o)=>{let a;this.subscribe(l=>a=l,l=>o(l),()=>s(a))})}}return t.create=n=>new t(n),t})();function SD(t){var n;return null!==(n=t??Lp.Promise)&&void 0!==n?n:Promise}const lB=_D(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let g0=(()=>{class t extends vl{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){const s=new OD(this,this);return s.operator=i,s}_throwIfClosed(){if(this.closed)throw new lB}next(i){R2(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const s of this.currentObservers)s.next(i)}})}error(i){R2(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;const{observers:s}=this;for(;s.length;)s.shift().error(i)}})}complete(){R2(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){const{hasError:s,isStopped:o,observers:a}=this;return s||o?h0:(this.currentObservers=null,a.push(i),new Wa(()=>{this.currentObservers=null,Y5(a,i)}))}_checkFinalizedStatuses(i){const{hasError:s,thrownError:o,isStopped:a}=this;s?i.error(o):a&&i.complete()}asObservable(){const i=new vl;return i.source=this,i}}return t.create=(n,i)=>new OD(n,i),t})();class OD extends g0{constructor(n,i){super(),this.destination=n,this.source=i}next(n){var i,s;null===(s=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===s||s.call(i,n)}error(n){var i,s;null===(s=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===s||s.call(i,n)}complete(){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===i||i.call(n)}_subscribe(n){var i,s;return null!==(s=null===(i=this.source)||void 0===i?void 0:i.subscribe(n))&&void 0!==s?s:h0}}class r4 extends g0{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const i=super._subscribe(n);return!i.closed&&n.next(this._value),i}getValue(){const{hasError:n,thrownError:i,_value:s}=this;if(n)throw i;return this._throwIfClosed(),s}next(n){super.next(this._value=n)}}function Fp(t){return n=>{if(function cB(t){return Li(t?.lift)}(n))return n.lift(function(i){try{return t(i,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function kd(t,n,i,s,o){return new uB(t,n,i,s,o)}class uB extends N2{constructor(n,i,s,o,a,l){super(n),this.onFinalize=a,this.shouldUnsubscribe=l,this._next=i?function(c){try{i(c)}catch(u){n.error(u)}}:super._next,this._error=o?function(c){try{o(c)}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:i}=this;super.unsubscribe(),!i&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Bp(t,n){return Fp((i,s)=>{let o=0;i.subscribe(kd(s,a=>{s.next(t.call(n,a,o++))}))})}class $t extends Error{code;constructor(n,i){super(function $p(t,n){return`${function L2(t){return`NG0${Math.abs(t)}`}(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Md(t){return{toString:t}.toString()}const dg="__parameters__";function y0(t,n,i){return Md(()=>{const s=function B2(t){return function(...i){if(t){const s=t(...i);for(const o in s)this[o]=s[o]}}}(n);function o(...a){if(this instanceof o)return s.apply(this,a),this;const l=new o(...a);return c.annotation=l,c;function c(u,d,p){const f=u.hasOwnProperty(dg)?u[dg]:Object.defineProperty(u,dg,{value:[]})[dg];for(;f.length<=p;)f.push(null);return(f[p]=f[p]||[]).push(l),u}}return o.prototype.ngMetadataName=t,o.annotationCls=o,o})}const Vs=globalThis;function Fi(t){for(let n in t)if(t[n]===Fi)return n;throw Error("Could not find renamed property on target object.")}function DD(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Go(t){if("string"==typeof t)return t;if(Array.isArray(t))return`[${t.map(Go).join(", ")}]`;if(null==t)return""+t;const n=t.overriddenName||t.name;if(n)return`${n}`;const i=t.toString();if(null==i)return""+i;const s=i.indexOf("\n");return s>=0?i.slice(0,s):i}function $2(t,n){return t?n?`${t} ${n}`:t:n||""}const s4=Fi({__forward_ref__:Fi});function Es(t){return t.__forward_ref__=Es,t.toString=function(){return Go(this())},t}function Pr(t){return fg(t)?t():t}function fg(t){return"function"==typeof t&&t.hasOwnProperty(s4)&&t.__forward_ref__===Es}function Nr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function $f(t){return{providers:t.providers||[],imports:t.imports||[]}}function V2(t){return ds(t,z2)||ds(t,AD)}function ds(t,n){return t.hasOwnProperty(n)?t[n]:null}function j2(t){return t&&(t.hasOwnProperty(o4)||t.hasOwnProperty(wB))?t[o4]:null}const z2=Fi({\u0275prov:Fi}),o4=Fi({\u0275inj:Fi}),AD=Fi({ngInjectableDef:Fi}),wB=Fi({ngInjectorDef:Fi});class bn{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,i){this._desc=n,this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Nr({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function H2(t){return t&&!!t.\u0275providers}const _0=Fi({\u0275cmp:Fi}),El=Fi({\u0275dir:Fi}),c4=Fi({\u0275pipe:Fi}),Sc=Fi({\u0275mod:Fi}),Vp=Fi({\u0275fac:Fi}),mg=Fi({__NG_ELEMENT_ID__:Fi}),jp=Fi({__NG_ENV_ID__:Fi});function Dr(t){return"string"==typeof t?t:null==t?"":String(t)}function U2(t,n){throw new $t(-200,t)}function d4(t,n){throw new $t(-201,!1)}var yi=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(yi||{});let p4;function f4(){return p4}function Aa(t){const n=p4;return p4=t,n}function E0(t,n,i){const s=V2(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&yi.Optional?null:void 0!==n?n:void d4()}const jf={},pv="__NG_DI_FLAG__";class q2{injector;constructor(n){this.injector=n}retrieve(n,i){return this.injector.get(n,i.optional?p0:jf,i)}}const fv="ngTempTokenPath",h4=/\n/gm,RD="__source";function ND(t,n=yi.Default){if(void 0===ov())throw new $t(-203,!1);if(null===ov())return E0(t,void 0,n);{const i=ov();let s;return s=i instanceof q2?i.injector:i,s.get(t,n&yi.Optional?null:void 0,n)}}function sr(t,n=yi.Default){return(f4()||ND)(Pr(t),n)}function on(t,n=yi.Default){return sr(t,hv(n))}function hv(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function G2(t){const n=[];for(let i=0;i<t.length;i++){const s=Pr(t[i]);if(Array.isArray(s)){if(0===s.length)throw new $t(900,!1);let o,a=yi.Default;for(let l=0;l<s.length;l++){const c=s[l],u=kB(c);"number"==typeof u?-1===u?o=c.token:a|=u:o=c}n.push(sr(o,a))}else n.push(sr(s))}return n}function mv(t,n){return t[pv]=n,t.prototype[pv]=n,t}function kB(t){return t[pv]}const zf=mv(y0("Optional"),8),g4=mv(y0("SkipSelf"),4);function Hf(t,n){return t.hasOwnProperty(Vp)?t[Vp]:null}function gg(t,n){t.forEach(i=>Array.isArray(i)?gg(i,n):n(i))}function LD(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function K2(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Oc(t,n,i){let s=gv(t,n);return s>=0?t[1|s]=i:(s=~s,function v4(t,n,i,s){let o=t.length;if(o==n)t.push(i,s);else if(1===o)t.push(s,t[0]),t[0]=i;else{for(o--,t.push(t[o-1],t[o]);o>n;)t[o]=t[o-2],o--;t[n]=i,t[n+1]=s}}(t,s,n,i)),s}function b4(t,n){const i=gv(t,n);if(i>=0)return t[1|i]}function gv(t,n){return function NB(t,n,i){let s=0,o=t.length>>i;for(;o!==s;){const a=s+(o-s>>1),l=t[a<<i];if(n===l)return a<<i;l>n?o=a:s=a+1}return~(o<<i)}(t,n,1)}const zu={},_i=[],Ue=new bn(""),Et=new bn("",-1),ct=new bn("");class Dn{get(n,i=jf){if(i===jf){const s=new Error(`NullInjectorError: No provider for ${Go(n)}!`);throw s.name="NullInjectorError",s}return i}}function Rn(t){return t[_0]||null}function ni(t){return t[c4]||null}function Y2(...t){return{\u0275providers:_4(0,t),\u0275fromNgModule:!0}}function _4(t,...n){const i=[],s=new Set;let o;const a=l=>{i.push(l)};return gg(n,l=>{const c=l;w0(c,a,[],s)&&(o||=[],o.push(c))}),void 0!==o&&x0(o,a),i}function x0(t,n){for(let i=0;i<t.length;i++){const{ngModule:s,providers:o}=t[i];Ui(o,a=>{n(a,s)})}}function w0(t,n,i,s){if(!(t=Pr(t)))return!1;let o=null,a=j2(t);const l=!a&&Rn(t);if(a||l){if(l&&!l.standalone)return!1;o=t}else{const u=t.ngModule;if(a=j2(u),!a)return!1;o=u}const c=s.has(o);if(l){if(c)return!1;if(s.add(o),l.dependencies){const u="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const d of u)w0(d,n,i,s)}}else{if(!a)return!1;{if(null!=a.imports&&!c){let d;s.add(o);try{gg(a.imports,p=>{w0(p,n,i,s)&&(d||=[],d.push(p))})}finally{}void 0!==d&&x0(d,n)}if(!c){const d=Hf(o)||(()=>new o);n({provide:o,useFactory:d,deps:_i},o),n({provide:ct,useValue:o,multi:!0},o),n({provide:Ue,useValue:()=>sr(o),multi:!0},o)}const u=a.providers;if(null!=u&&!c){const d=t;Ui(u,p=>{n(p,d)})}}}return o!==t&&void 0!==t.providers}function Ui(t,n){for(let i of t)H2(i)&&(i=i.\u0275providers),Array.isArray(i)?Ui(i,n):n(i)}const LB=Fi({provide:String,useValue:Fi});function X2(t){return null!==t&&"object"==typeof t&&LB in t}function C0(t){return"function"==typeof t}const yg=new bn(""),Uu={},vv={};let Q2;function S0(){return void 0===Q2&&(Q2=new Dn),Q2}class Tc{}class Gf extends Tc{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,i,s,o){super(),this.parent=i,this.source=s,this.scopes=o,_g(n,l=>this.processProvider(l)),this.records.set(Et,bg(void 0,this)),o.has("environment")&&this.records.set(Tc,bg(void 0,this));const a=this.records.get(yg);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(ct,_i,yi.Self))}retrieve(n,i){return this.get(n,i.optional?p0:jf,i)}destroy(){Yf(this),this._destroyed=!0;const n=ze(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ze(n)}}onDestroy(n){return Yf(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Yf(this);const i=Bf(this),s=Aa(void 0);try{return n()}finally{Bf(i),Aa(s)}}get(n,i=jf,s=yi.Default){if(Yf(this),n.hasOwnProperty(jp))return n[jp](this);s=hv(s);const a=Bf(this),l=Aa(void 0);try{if(!(s&yi.SkipSelf)){let u=this.records.get(n);if(void 0===u){const d=function Z2(t){return"function"==typeof t||"object"==typeof t&&t instanceof bn}(n)&&V2(n);u=d&&this.injectableDefInScope(d)?bg(vg(n),Uu):null,this.records.set(n,u)}if(null!=u)return this.hydrate(n,u)}return(s&yi.Self?S0():this.parent).get(n,i=s&yi.Optional&&i===jf?null:i)}catch(c){if("NullInjectorError"===c.name){if((c[fv]=c[fv]||[]).unshift(Go(n)),a)throw c;return function MB(t,n,i,s){const o=t[fv];throw n[RD]&&o.unshift(n[RD]),t.message=function AB(t,n,i,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=Go(n);if(Array.isArray(n))o=n.map(Go).join(" -> ");else if("object"==typeof n){let a=[];for(let l in n)if(n.hasOwnProperty(l)){let c=n[l];a.push(l+":"+("string"==typeof c?JSON.stringify(c):Go(c)))}o=`{${a.join(", ")}}`}return`${i}${s?"("+s+")":""}[${o}]: ${t.replace(h4,"\n  ")}`}("\n"+t.message,o,i,s),t.ngTokenPath=o,t[fv]=null,t}(c,n,"R3InjectorError",this.source)}throw c}finally{Aa(l),Bf(a)}}resolveInjectorInitializers(){const n=ze(null),i=Bf(this),s=Aa(void 0);try{const a=this.get(Ue,_i,yi.Self);for(const l of a)l()}finally{Bf(i),Aa(s),ze(n)}}toString(){const n=[],i=this.records;for(const s of i.keys())n.push(Go(s));return`R3Injector[${n.join(", ")}]`}processProvider(n){let i=C0(n=Pr(n))?n:Pr(n&&n.provide);const s=function bv(t){return X2(t)?bg(void 0,t.useValue):bg(Kf(t),Uu)}(n);if(!C0(n)&&!0===n.multi){let o=this.records.get(i);o||(o=bg(void 0,Uu,!0),o.factory=()=>G2(o.multi),this.records.set(i,o)),i=n,o.multi.push(n)}this.records.set(i,s)}hydrate(n,i){const s=ze(null);try{return i.value===vv?U2(Go(n)):i.value===Uu&&(i.value=vv,i.value=i.factory()),"object"==typeof i.value&&i.value&&function $B(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{ze(s)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Pr(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function vg(t){const n=V2(t),i=null!==n?n.factory:Hf(t);if(null!==i)return i;if(t instanceof bn)throw new $t(204,!1);if(t instanceof Function)return function BD(t){if(t.length>0)throw new $t(204,!1);const i=function xB(t){return t&&(t[z2]||t[AD])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new $t(204,!1)}function Kf(t,n,i){let s;if(C0(t)){const o=Pr(t);return Hf(o)||vg(o)}if(X2(t))s=()=>Pr(t.useValue);else if(function FD(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...G2(t.deps||[]));else if(function yv(t){return!(!t||!t.useExisting)}(t))s=()=>sr(Pr(t.useExisting));else{const o=Pr(t&&(t.useClass||t.provide));if(!function BB(t){return!!t.deps}(t))return Hf(o)||vg(o);s=()=>new o(...G2(t.deps))}return s}function Yf(t){if(t.destroyed)throw new $t(205,!1)}function bg(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function _g(t,n){for(const i of t)Array.isArray(i)?_g(i,n):i&&H2(i)?_g(i.\u0275providers,n):n(i)}function _v(t,n){let i;t instanceof Gf?(Yf(t),i=t):i=new q2(t);const o=Bf(i),a=Aa(void 0);try{return n()}finally{Bf(o),Aa(a)}}function po(t){return Array.isArray(t)&&"object"==typeof t[1]}function Yo(t){return Array.isArray(t)&&!0===t[1]}function Up(t){return!!(4&t.flags)}function Wu(t){return t.componentOffset>-1}function tE(t){return!(1&~t.flags)}function Js(t){return!!t.template}function qp(t){return!!(512&t[2])}function Qf(t){return!(256&~t[2])}class Jf{previousValue;currentValue;firstChange;constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function T4(t,n,i,s){null!==n?n.applyValueToInputSignal(n,s):t[i]=s}const eh=(()=>{const t=()=>Sv;return t.ngInherit=!0,t})();function Sv(t){return t.type.prototype.ngOnChanges&&(t.setInput=KD),WB}function WB(){const t=iE(this),n=t?.current;if(n){const i=t.previous;if(i===zu)t.previous=n;else for(let s in n)i[s]=n[s];t.current=null,this.ngOnChanges(n)}}function KD(t,n,i,s,o){const a=this.declaredInputs[s],l=iE(t)||function YD(t,n){return t[da]=n}(t,{previous:zu,current:null}),c=l.current||(l.current={}),u=l.previous,d=u[a];c[a]=new Jf(d&&d.currentValue,i,u===zu),T4(t,n,o,i)}const da="__ngSimpleChanges__";function iE(t){return t[da]||null}function kr(t){for(;Array.isArray(t);)t=t[0];return t}function Pg(t,n){return kr(n[t])}function Cl(t,n){return kr(n[t.index])}function Wp(t,n){return t.data[n]}function Xo(t,n){const i=n[t];return po(i)?i:i[0]}function k4(t){return!(128&~t[2])}function Ka(t,n){return null==n?null:t[n]}function QD(t){t[17]=0}function M4(t){1024&t[2]||(t[2]|=1024,k4(t)&&kg(t))}function Dg(t){return!!(9216&t[2]||t[24]?.dirty)}function A4(t){t[10].changeDetectionScheduler?.notify(8),64&t[2]&&(t[2]|=1024),Dg(t)&&kg(t)}function kg(t){t[10].changeDetectionScheduler?.notify(0);let n=Gu(t);for(;null!==n&&!(8192&n[2])&&(n[2]|=8192,k4(n));)n=Gu(n)}function oE(t,n){if(Qf(t))throw new $t(911,!1);null===t[21]&&(t[21]=[]),t[21].push(n)}function Gu(t){const n=t[3];return Yo(n)?n[3]:n}function I4(t){return t[7]??=[]}function Tv(t){return t.cleanup??=[]}const Mr={lFrame:H4(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let R4=!1;function lE(){return Mr.bindingsEnabled}function Ge(){return Mr.lFrame.lView}function Cr(){return Mr.lFrame.tView}function Ot(t){return Mr.lFrame.contextLView=t,t[8]}function St(t){return Mr.lFrame.contextLView=null,t}function Zr(){let t=nk();for(;null!==t&&64===t.type;)t=t.parent;return t}function nk(){return Mr.lFrame.currentTNode}function fo(t,n){const i=Mr.lFrame;i.currentTNode=t,i.isParent=n}function B4(){return Mr.lFrame.isParent}function Gp(){return R4}function Ig(t){const n=R4;return R4=t,n}function cu(){return Mr.lFrame.bindingIndex}function ql(){return Mr.lFrame.bindingIndex++}function Id(t){const n=Mr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function nh(t,n){const i=Mr.lFrame;i.bindingIndex=i.bindingRootIndex=t,Rd(n)}function Rd(t){Mr.lFrame.currentDirectiveIndex=t}function pE(){return Mr.lFrame.currentQueryIndex}function Rg(t){Mr.lFrame.currentQueryIndex=t}function e$(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[5]:null}function rk(t,n,i){if(i&yi.SkipSelf){let o=n,a=t;for(;!(o=o.parent,null!==o||i&yi.Host||(o=e$(a),null===o||(a=a[14],10&o.type))););if(null===o)return!1;n=o,t=a}const s=Mr.lFrame=z4();return s.currentTNode=n,s.lView=t,!0}function j4(t){const n=z4(),i=t[1];Mr.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function z4(){const t=Mr.lFrame,n=null===t?null:t.child;return null===n?H4(t):n}function H4(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ik(){const t=Mr.lFrame;return Mr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const U4=ik;function fE(){const t=ik();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xs(){return Mr.lFrame.selectedIndex}function A0(t){Mr.lFrame.selectedIndex=t}function ns(){const t=Mr.lFrame;return Wp(t.tView,t.selectedIndex)}let q4=!0;function Nd(){return q4}function Gl(t){q4=t}function mE(t,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const a=t.data[i].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=a;l&&(t.contentHooks??=[]).push(-i,l),c&&((t.contentHooks??=[]).push(i,c),(t.contentCheckHooks??=[]).push(i,c)),u&&(t.viewHooks??=[]).push(-i,u),d&&((t.viewHooks??=[]).push(i,d),(t.viewCheckHooks??=[]).push(i,d)),null!=p&&(t.destroyHooks??=[]).push(i,p)}}function kv(t,n,i){Mv(t,n,3,i)}function I0(t,n,i,s){(3&t[2])===i&&Mv(t,n,i,s)}function gE(t,n){let i=t[2];(3&i)===n&&(i&=16383,i+=1,t[2]=i)}function Mv(t,n,i,s){const a=s??-1,l=n.length-1;let c=0;for(let u=void 0!==s?65535&t[17]:0;u<l;u++)if("number"==typeof n[u+1]){if(c=n[u],null!=s&&c>=s)break}else n[u]<0&&(t[17]+=65536),(c<a||-1==a)&&(vE(t,i,n,u),t[17]=(4294901760&t[17])+u+2),u++}function yE(t,n){const i=ze(null);try{n.call(t)}finally{ze(i)}}function vE(t,n,i,s){const o=i[s]<0,a=i[s+1],c=t[o?-i[s]:i[s]];o?t[2]>>14<t[17]>>16&&(3&t[2])===n&&(t[2]+=16384,yE(c,a)):yE(c,a)}class Fg{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,i,s){this.factory=n,this.canSeeViewProviders=i,this.injectImpl=s}}function uk(t){return 3===t||4===t||6===t}function G4(t){return 64===t.charCodeAt(0)}function $g(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const o=n[s];"number"==typeof o?i=o:0===i||dk(t,i,o,0,-1===i||2===i?n[++s]:null)}}return t}function dk(t,n,i,s,o){let a=0,l=t.length;if(-1===n)l=-1;else for(;a<t.length;){const c=t[a++];if("number"==typeof c){if(c===n){l=-1;break}if(c>n){l=a-1;break}}}for(;a<t.length;){const c=t[a];if("number"==typeof c)break;if(c===i)return void(null!==o&&(t[a+1]=o));a++,null!==o&&a++}-1!==l&&(t.splice(l,0,n),a=l+1),t.splice(a++,0,i),null!==o&&t.splice(a++,0,o)}function Ku(t){return-1!==t}function R0(t){return 32767&t}function N0(t,n){let i=function K4(t){return t>>16}(t),s=n;for(;i>0;)s=s[14],i--;return s}let Vg=!0;function Kp(t){const n=Vg;return Vg=t,n}let L0=0;const Ld={};function Iv(t,n){const i=pk(t,n);if(-1!==i)return i;const s=n[1];s.firstCreatePass&&(t.injectorIndex=n.length,pa(s.data,t),pa(n,null),pa(s.blueprint,null));const o=EE(t,n),a=t.injectorIndex;if(Ku(o)){const l=R0(o),c=N0(o,n),u=c[1].data;for(let d=0;d<8;d++)n[a+d]=c[l+d]|u[l+d]}return n[a+8]=o,a}function pa(t,n){t.push(0,0,0,0,0,0,0,0,n)}function pk(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function EE(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,s=null,o=n;for(;null!==o;){if(s=vk(o),null===s)return-1;if(i++,o=o[14],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return-1}function xE(t,n,i){!function Y4(t,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(mg)&&(s=i[mg]),null==s&&(s=i[mg]=L0++);const o=255&s;n.data[t+(o>>5)]|=1<<o}(t,n,i)}function X4(t,n,i){if(i&yi.Optional||void 0!==t)return t;d4()}function fk(t,n,i,s){if(i&yi.Optional&&void 0===s&&(s=null),!(i&(yi.Self|yi.Host))){const o=t[9],a=Aa(void 0);try{return o?o.get(n,s,i&yi.Optional):E0(n,s,i&yi.Optional)}finally{Aa(a)}}return X4(s,0,i)}function hk(t,n,i,s=yi.Default,o){if(null!==t){if(2048&n[2]&&!(s&yi.Self)){const l=function o$(t,n,i,s,o){let a=t,l=n;for(;null!==a&&null!==l&&2048&l[2]&&!qp(l);){const c=mk(a,l,i,s|yi.Self,Ld);if(c!==Ld)return c;let u=a.parent;if(!u){const d=l[20];if(d){const p=d.get(i,Ld,s);if(p!==Ld)return p}u=vk(l),l=l[14]}a=u}return o}(t,n,i,s,Ld);if(l!==Ld)return l}const a=mk(t,n,i,s,Ld);if(a!==Ld)return a}return fk(n,i,s,o)}function mk(t,n,i,s,o){const a=function s$(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(mg)?t[mg]:void 0;return"number"==typeof n?n>=0?255&n:yk:n}(i);if("function"==typeof a){if(!rk(n,t,s))return s&yi.Host?X4(o,0,s):fk(n,i,s,o);try{let l;if(l=a(s),null!=l||s&yi.Optional)return l;d4()}finally{U4()}}else if("number"==typeof a){let l=null,c=pk(t,n),u=-1,d=s&yi.Host?n[15][5]:null;for((-1===c||s&yi.SkipSelf)&&(u=-1===c?EE(t,n):n[c+8],-1!==u&&gk(s,!1)?(l=n[1],c=R0(u),n=N0(u,n)):c=-1);-1!==c;){const p=n[1];if(wE(a,c,p.data)){const f=Yp(c,n,i,l,s,d);if(f!==Ld)return f}u=n[c+8],-1!==u&&gk(s,n[1].data[c+8]===d)&&wE(a,c,n)?(l=p,c=R0(u),n=N0(u,n)):c=-1}}return o}function Yp(t,n,i,s,o,a){const l=n[1],c=l.data[t+8],p=fa(c,l,i,null==s?Wu(c)&&Vg:s!=l&&!!(3&c.type),o&yi.Host&&a===c);return null!==p?F0(n,l,p,c):Ld}function fa(t,n,i,s,o){const a=t.providerIndexes,l=n.data,c=1048575&a,u=t.directiveStart,p=a>>20,h=o?c+p:t.directiveEnd;for(let m=s?c:c+p;m<h;m++){const y=l[m];if(m<u&&i===y||m>=u&&y.type===i)return m}if(o){const m=l[u];if(m&&Js(m)&&m.type===i)return u}return null}function F0(t,n,i,s){let o=t[i];const a=n.data;if(o instanceof Fg){const l=o;l.resolving&&U2(function Ii(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Dr(t)}(a[i]));const c=Kp(l.canSeeViewProviders);l.resolving=!0;const d=l.injectImpl?Aa(l.injectImpl):null;rk(t,s,yi.Default);try{o=t[i]=l.factory(void 0,a,t,s),n.firstCreatePass&&i>=s.directiveStart&&function t$(t,n,i){const{ngOnChanges:s,ngOnInit:o,ngDoCheck:a}=n.type.prototype;if(s){const l=Sv(n);(i.preOrderHooks??=[]).push(t,l),(i.preOrderCheckHooks??=[]).push(t,l)}o&&(i.preOrderHooks??=[]).push(0-t,o),a&&((i.preOrderHooks??=[]).push(t,a),(i.preOrderCheckHooks??=[]).push(t,a))}(i,a[i],n)}finally{null!==d&&Aa(d),Kp(c),l.resolving=!1,U4()}}return o}function wE(t,n,i){return!!(i[n+(t>>5)]&1<<t)}function gk(t,n){return!(t&yi.Self||t&yi.Host&&n)}class eo{_tNode;_lView;constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return hk(this._tNode,this._lView,n,hv(s),i)}}function yk(){return new eo(Zr(),Ge())}function Xa(t){return Md(()=>{const n=t.prototype.constructor,i=n[Vp]||Q4(n),s=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==s;){const a=o[Vp]||Q4(o);if(a&&a!==i)return a;o=Object.getPrototypeOf(o)}return a=>new a})}function Q4(t){return fg(t)?()=>{const n=Q4(Pr(t));return n&&n()}:Hf(t)}function vk(t){const n=t[1],i=n.type;return 2===i?n.declTNode:1===i?t[5]:null}function Ck(t,n=null,i=null,s){const o=Sk(t,n,i,s);return o.resolveInjectorInitializers(),o}function Sk(t,n=null,i=null,s,o=new Set){const a=[i||_i,Y2(t)];return s=s||("object"==typeof t?void 0:Go(t)),new Gf(a,n||S0(),s||null,o)}class Ra{static THROW_IF_NOT_FOUND=jf;static NULL=new Dn;static create(n,i){if(Array.isArray(n))return Ck({name:""},i,n,"");{const s=n.name??"";return Ck({name:s},n.parent,n.providers,s)}}static \u0275prov=Nr({token:Ra,providedIn:"any",factory:()=>sr(Et)});static __NG_ELEMENT_ID__=-1}new bn("").__NG_ELEMENT_ID__=t=>{const n=Zr();if(null===n)throw new $t(204,!1);if(2&n.type)return n.value;if(t&yi.Optional)return null;throw new $t(204,!1)};const Ok=!1;let sh=(()=>class t{static __NG_ELEMENT_ID__=u$;static __NG_ENV_ID__=i=>i})();class Tk extends sh{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return oE(this._lView,n),()=>function aE(t,n){if(null===t[21])return;const i=t[21].indexOf(n);-1!==i&&t[21].splice(i,1)}(this._lView,n)}}function u$(){return new Tk(Ge())}class Xp{}const zg=new bn("",{providedIn:"root",factory:()=>!1}),J4=new bn(""),eC=new bn("");let Qp=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new r4(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}has(i){return this.pendingTasks.has(i)}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Nr({token:t,providedIn:"root",factory:()=>new t})}return t})();const Qa=class Pk extends g0{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,function $D(){return void 0!==f4()||null!=ov()}()&&(this.destroyRef=on(sh,{optional:!0})??void 0,this.pendingTasks=on(Qp,{optional:!0})??void 0)}emit(n){const i=ze(null);try{super.next(n)}finally{ze(i)}}subscribe(n,i,s){let o=n,a=i||(()=>null),l=s;if(n&&"object"==typeof n){const u=n;o=u.next?.bind(u),a=u.error?.bind(u),l=u.complete?.bind(u)}this.__isAsync&&(a=this.wrapInTimeout(a),o&&(o=this.wrapInTimeout(o)),l&&(l=this.wrapInTimeout(l)));const c=super.subscribe({next:o,error:a,complete:l});return n instanceof Wa&&n.add(c),c}wrapInTimeout(n){return i=>{const s=this.pendingTasks?.add();setTimeout(()=>{n(i),void 0!==s&&this.pendingTasks?.remove(s)})}}};function Bv(...t){}function Dk(t){let n,i;function s(){t=Bv;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),s()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{t(),s()})),()=>s()}function kk(t){return queueMicrotask(()=>t()),()=>{t=Bv}}const tC="isAngularZone",Sl=tC+"_ID";let f$=0;class Wi{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Qa(!1);onMicrotaskEmpty=new Qa(!1);onStable=new Qa(!1);onError=new Qa(!1);constructor(n){const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:a=Ok}=n;if(typeof Zone>"u")throw new $t(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!o&&s,l.shouldCoalesceRunChangeDetection=o,l.callbackScheduled=!1,l.scheduleInRootZone=a,function g$(t){const n=()=>{!function m$(t){function n(){Dk(()=>{t.callbackScheduled=!1,nC(t),t.isCheckStableRunning=!0,CE(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),nC(t))}(t)},i=f$++;t._inner=t._inner.fork({name:"angular",properties:{[tC]:!0,[Sl]:i,[Sl+i]:!0},onInvokeTask:(s,o,a,l,c,u)=>{if(function y$(t){return Ak(t,"__ignore_ng_zone__")}(u))return s.invokeTask(a,l,c,u);try{return Mk(t),s.invokeTask(a,l,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&n(),SE(t)}},onInvoke:(s,o,a,l,c,u,d)=>{try{return Mk(t),s.invoke(a,l,c,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function v$(t){return Ak(t,"__scheduler_tick__")}(u)&&n(),SE(t)}},onHasTask:(s,o,a,l)=>{s.hasTask(a,l),o===a&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,nC(t),CE(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(s,o,a,l)=>(s.handleError(a,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(tC)}static assertInAngularZone(){if(!Wi.isInAngularZone())throw new $t(909,!1)}static assertNotInAngularZone(){if(Wi.isInAngularZone())throw new $t(909,!1)}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,o){const a=this._inner,l=a.scheduleEventTask("NgZoneEvent: "+o,n,h$,Bv,Bv);try{return a.runTask(l,i,s)}finally{a.cancelTask(l)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const h$={};function CE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nC(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function Mk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function SE(t){t._nesting--,CE(t)}class rC{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Qa;onMicrotaskEmpty=new Qa;onStable=new Qa;onError=new Qa;run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,o){return n.apply(i,s)}}function Ak(t,n){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[n]}class Qu{_console=console;handleError(n){this._console.error("ERROR",n)}}const _$=new bn("",{providedIn:"root",factory:()=>{const t=on(Wi),n=on(Qu);return i=>t.runOutsideAngular(()=>n.handleError(i))}});function E$(){return Hg(Zr(),Ge())}function Hg(t,n){return new Zu(Cl(t,n))}let Zu=(()=>class t{nativeElement;constructor(i){this.nativeElement=i}static __NG_ELEMENT_ID__=E$})();function Rk(t){return t instanceof Zu?t.nativeElement:t}function Fd(t,n){const i=function cs(t,n){const i=Object.create(lg);i.value=t,void 0!==n&&(i.equal=n);const s=()=>(_t(i),i.value);return s[ue]=i,s}(t,n?.equal),s=i[ue];return i.set=o=>us(s,o),i.update=o=>function Ff(t,n){Cn()||cr(t),us(t,n(t.value))}(s,o),i.asReadonly=Ug.bind(i),i}function Ug(){const t=this[ue];if(void 0===t.readonlyFn){const n=()=>this();n[ue]=t,t.readonlyFn=n}return t.readonlyFn}function iC(t){return function Nk(t){return"function"==typeof t&&void 0!==t[ue]}(t)&&"function"==typeof t.set}function x$(){return this._results[Symbol.iterator]()}class w${_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new g0}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const s=function Ia(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Uf(t,n,i){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++){let o=t[s],a=n[s];if(i&&(o=i(o),a=i(a)),a!==o)return!1}return!0}(this._results,s,i))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=x$}function Vv(t){return!(128&~t.flags)}var OE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(OE||{});const $0=new Map;let S$=0;function aC(t){$0.delete(t[19])}const cC="__ngContext__";function Yl(t,n){po(n)?(t[cC]=n[19],function T$(t){$0.set(t[19],t)}(n)):t[cC]=n}function Hk(t){return qk(t[12])}function Uk(t){return qk(t[4])}function qk(t){for(;null!==t&&!Yo(t);)t=t[4];return t}let fC;const $d=new bn("",{providedIn:"root",factory:()=>ME}),ME="ng",hC=new bn(""),AE=new bn("",{providedIn:"platform",factory:()=>"unknown"}),nM=new bn("",{providedIn:"root",factory:()=>function Bd(){if(void 0!==fC)return fC;if(typeof document<"u")return document;throw new $t(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),oM=new bn("",{providedIn:"root",factory:()=>!1});var Ss=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Ss||{});const ps=new bn(""),xC=new Set;function Mc(t){xC.has(t)||(xC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}let wC=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Nr({token:t,providedIn:"root",factory:()=>new t})}return t})();function TM(t,n){const i=t.contentQueries;if(null!==i){const s=ze(null);try{for(let o=0;o<i.length;o+=2){const l=i[o+1];if(-1!==l){const c=t.data[l];Rg(i[o]),c.contentQueries(2,n[l],l)}}}finally{ze(s)}}}function XE(t,n,i){Rg(0);const s=ze(null);try{n(t,i)}finally{ze(s)}}function VC(t,n,i){if(Up(n)){const s=ze(null);try{const a=n.directiveEnd;for(let l=n.directiveStart;l<a;l++){const c=t.data[l];c.contentQueries&&c.contentQueries(1,i[l],l)}}finally{ze(s)}}}var du=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(du||{});class MM{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss)`}}function WLe(t,n,i){let s=t.length;for(;;){const o=t.indexOf(n,i);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const a=n.length;if(o+a===s||t.charCodeAt(o+a)<=32)return o}i=o+1}}const Pse="ng-template";function GLe(t,n,i,s){let o=0;if(s){for(;o<n.length&&"string"==typeof n[o];o+=2)if("class"===n[o]&&-1!==WLe(n[o+1].toLowerCase(),i,0))return!0}else if(OV(t))return!1;if(o=n.indexOf(1,o),o>-1){let a;for(;++o<n.length&&"string"==typeof(a=n[o]);)if(a.toLowerCase()===i)return!0}return!1}function OV(t){return 4===t.type&&t.value!==Pse}function KLe(t,n,i){return n===(4!==t.type||i?t.value:Pse)}function YLe(t,n,i){let s=4;const o=t.attrs,a=null!==o?function ZLe(t){for(let n=0;n<t.length;n++)if(uk(t[n]))return n;return t.length}(o):0;let l=!1;for(let c=0;c<n.length;c++){const u=n[c];if("number"!=typeof u){if(!l)if(4&s){if(s=2|1&s,""!==u&&!KLe(t,u,i)||""===u&&1===n.length){if(Jp(s))return!1;l=!0}}else if(8&s){if(null===o||!GLe(t,o,u,i)){if(Jp(s))return!1;l=!0}}else{const d=n[++c],p=XLe(u,o,OV(t),i);if(-1===p){if(Jp(s))return!1;l=!0;continue}if(""!==d){let f;if(f=p>a?"":o[p+1].toLowerCase(),2&s&&d!==f){if(Jp(s))return!1;l=!0}}}}else{if(!l&&!Jp(s)&&!Jp(u))return!1;if(l&&Jp(u))continue;l=!1,s=u|1&s}}return Jp(s)||l}function Jp(t){return!(1&t)}function XLe(t,n,i,s){if(null===n)return-1;let o=0;if(s||!i){let a=!1;for(;o<n.length;){const l=n[o];if(l===t)return o;if(3===l||6===l)a=!0;else{if(1===l||2===l){let c=n[++o];for(;"string"==typeof c;)c=n[++o];continue}if(4===l)break;if(0===l){o+=4;continue}}o+=a?1:2}return-1}return function JLe(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const s=t[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,t)}function Dse(t,n,i=!1){for(let s=0;s<n.length;s++)if(YLe(t,n[s],i))return!0;return!1}function kse(t,n){return t?":not("+n.trim()+")":n}function tFe(t){let n=t[0],i=1,s=2,o="",a=!1;for(;i<t.length;){let l=t[i];if("string"==typeof l)if(2&s){const c=t[++i];o+="["+l+(c.length>0?'="'+c+'"':"")+"]"}else 8&s?o+="."+l:4&s&&(o+=" "+l);else""!==o&&!Jp(l)&&(n+=kse(a,o),o=""),s=l,a=a||!Jp(s);i++}return""!==o&&(n+=kse(a,o)),n}const Wr={};function FM(t,n,i){return t.createElement(n,i)}function tb(t,n,i,s,o){t.insertBefore(n,i,s,o)}function Ase(t,n,i){t.appendChild(n,i)}function Ise(t,n,i,s,o){null!==s?tb(t,n,i,s,o):Ase(t,n,i)}function Nse(t,n,i){const{mergedAttrs:s,classes:o,styles:a}=i;null!==s&&function ck(t,n,i){let s=0;for(;s<i.length;){const o=i[s];if("number"==typeof o){if(0!==o)break;s++;const a=i[s++],l=i[s++],c=i[s++];t.setAttribute(n,l,c,a)}else{const a=o,l=i[++s];G4(a)?t.setProperty(n,a,l):t.setAttribute(n,a,l),s++}}}(t,n,s),null!==o&&function sFe(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}(t,n,o),null!==a&&function iFe(t,n,i){t.setAttribute(n,"style",i)}(t,n,a)}function DV(t,n,i,s,o,a,l,c,u,d,p){const f=26+s,h=f+o,m=function oFe(t,n){const i=[];for(let s=0;s<n;s++)i.push(s<t?null:Wr);return i}(f,h),y="function"==typeof d?d():d;return m[1]={type:t,blueprint:m,template:i,queries:null,viewQuery:c,declTNode:n,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1,ssrId:p}}function BM(t,n,i,s,o,a,l,c,u,d,p){const f=n.blueprint.slice();return f[0]=o,f[2]=1228|s,(null!==d||t&&2048&t[2])&&(f[2]|=2048),QD(f),f[3]=f[14]=t,f[8]=i,f[10]=l||t&&t[10],f[11]=c||t&&t[11],f[9]=u||t&&t[9]||null,f[5]=a,f[19]=function O$(){return S$++}(),f[6]=p,f[20]=d,f[15]=2==n.type?t[15]:f,f}function kV(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function UC(t,n,i,s){if(0===i)return-1;const o=n.length;for(let a=0;a<i;a++)n.push(s),t.blueprint.push(s),t.data.push(null);return o}function MV(t,n){return t[12]?t[13][4]=n:t[12]=n,t[13]=n,n}function tt(t=1){Fse(Cr(),Ge(),xs()+t,!1)}function Fse(t,n,i,s){if(!s)if(3&~n[2]){const a=t.preOrderHooks;null!==a&&I0(n,a,0,i)}else{const a=t.preOrderCheckHooks;null!==a&&kv(n,a,i)}A0(i)}var $M=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}($M||{});function AV(t,n,i,s){const o=ze(null);try{const[a,l,c]=t.inputs[i];let u=null;!!(l&$M.SignalBased)&&(u=n[a][ue]),null!==u&&void 0!==u.transformFn?s=u.transformFn(s):null!==c&&(s=c.call(n,s)),null!==t.setInput?t.setInput(n,u,s,i,a):T4(n,u,a,s)}finally{ze(o)}}function Bse(t,n,i,s,o){const a=xs(),l=2&s;try{A0(-1),l&&n.length>26&&Fse(t,n,26,!1),i(s,o)}finally{A0(a)}}function VM(t,n,i){(function hFe(t,n,i){const s=i.directiveStart,o=i.directiveEnd;Wu(i)&&function aFe(t,n,i){const s=Cl(n,t),o=function Lse(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=DV(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}(i),a=t[10].rendererFactory,l=MV(t,BM(t,o,null,kV(i),s,n,null,a.createRenderer(s,i),null,null,null));t[n.index]=l}(n,i,t.data[s+i.componentOffset]),t.firstCreatePass||Iv(i,n);const a=i.initialInputs;for(let l=s;l<o;l++){const c=t.data[l],u=F0(n,t,l,i);Yl(u,n),null!==a&&yFe(0,l-s,u,c,0,a),Js(c)&&(Xo(i.index,n)[8]=F0(n,t,l,i))}})(t,n,i),!(64&~i.flags)&&function mFe(t,n,i){const s=i.directiveStart,o=i.directiveEnd,a=i.index,l=function JB(){return Mr.lFrame.currentDirectiveIndex}();try{A0(a);for(let c=s;c<o;c++){const u=t.data[c],d=n[c];Rd(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&gFe(u,d)}}finally{A0(-1),Rd(l)}}(t,n,i)}function IV(t,n,i=Cl){const s=n.localNames;if(null!==s){let o=n.index+1;for(let a=0;a<s.length;a+=2){const l=s[a+1],c=-1===l?i(n,t):t[l];t[o++]=c}}}let $se=()=>null;function fu(t,n,i,s,o,a,l,c){if(c||!FV(n,t,i,s,o)){if(3&n.type){const u=Cl(n,i);s=function pFe(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),o=null!=l?l(o,n.value||"",s):o,a.setProperty(u,s,o)}}else Wu(n)&&function fFe(t,n){const i=Xo(n,t);16&i[2]||(i[2]|=64)}(i,n.index)}function gFe(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function RV(t,n){const i=t.directiveRegistry;let s=null;if(i)for(let o=0;o<i.length;o++){const a=i[o];Dse(n,a.selectors,!1)&&(s??=[],Js(a)?s.unshift(a):s.push(a))}return s}function ch(t,n,i,s,o,a){const l=Cl(t,n);!function NV(t,n,i,s,o,a,l){if(null==a)t.removeAttribute(n,o,i);else{const c=null==l?Dr(a):l(a,s||"",o);t.setAttribute(n,o,c,i)}}(n[11],l,a,t.value,i,s,o)}function yFe(t,n,i,s,o,a){const l=a[n];if(null!==l)for(let c=0;c<l.length;c+=2)AV(s,i,l[c],l[c+1])}function FV(t,n,i,s,o){const a=t.inputs?.[s],l=t.hostDirectiveInputs?.[s];let c=!1;if(l)for(let u=0;u<l.length;u+=2){const d=l[u];AV(n.data[d],i[d],l[u+1],o),c=!0}if(a)for(const u of a)AV(n.data[u],i[u],s,o),c=!0;return c}function vFe(t,n){const i=Xo(n,t),s=i[1];!function bFe(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(s,i);const o=i[0];null!==o&&null===i[6]&&(i[6]=null),jM(s,i,i[8])}function jM(t,n,i){j4(n);try{const s=t.viewQuery;null!==s&&XE(1,s,i);const o=t.template;null!==o&&Bse(t,n,o,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),n[18]?.finishViewCreation(t),t.staticContentQueries&&TM(t,n),t.staticViewQueries&&XE(2,t.viewQuery,i);const a=t.components;null!==a&&function _Fe(t,n){for(let i=0;i<n.length;i++)vFe(t,n[i])}(n,a)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{n[2]&=-5,fE()}}function nx(t,n,i,s){const o=ze(null);try{const a=n.tView,u=BM(t,a,i,4096&t[2]?4096:16,null,n,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null);u[16]=t[n.index];const p=t[18];return null!==p&&(u[18]=p.createEmbeddedView(a)),jM(a,u,i),u}finally{ze(o)}}function nb(t,n){return!n||null===n.firstChild||Vv(t)}function $V(t,n){return undefined(t,n)}var e1=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(e1||{});function t1(t){return!(32&~t.flags)}function rx(t,n,i,s,o){if(null!=s){let a,l=!1;Yo(s)?a=s:po(s)&&(l=!0,s=s[0]);const c=kr(s);0===t&&null!==i?null==o?Ase(n,i,c):tb(n,i,c,o||null,!0):1===t&&null!==i?tb(n,i,c,o||null,!0):2===t?function HC(t,n,i){t.removeChild(null,n,i)}(n,c,l):3===t&&n.destroyNode(c),null!=a&&function TFe(t,n,i,s,o){const a=i[7];a!==kr(i)&&rx(n,t,s,a,o);for(let c=10;c<i.length;c++){const u=i[c];HM(u[1],u,t,n,s,a)}}(n,t,a,i,o)}}function Hse(t,n){n[10].changeDetectionScheduler?.notify(9),HM(t,n,n[11],2,null,null)}function VV(t,n){const i=t[9],s=i.indexOf(n);i.splice(s,1)}function qC(t,n){if(Qf(n))return;const i=n[11];i.destroyNode&&HM(t,n,i,3,null,null),function wFe(t){let n=t[12];if(!n)return jV(t[1],t);for(;n;){let i=null;if(po(n))i=n[12];else{const s=n[10];s&&(i=s)}if(!i){for(;n&&!n[4]&&n!==t;)po(n)&&jV(n[1],n),n=n[3];null===n&&(n=t),po(n)&&jV(n[1],n),i=n&&n[4]}n=i}}(n)}function jV(t,n){if(Qf(n))return;const i=ze(null);try{n[2]&=-129,n[2]|=256,n[24]&&Mn(n[24]),function SFe(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let s=0;s<i.length;s+=2){const o=n[i[s]];if(!(o instanceof Fg)){const a=i[s+1];if(Array.isArray(a))for(let l=0;l<a.length;l+=2){const c=o[a[l]],u=a[l+1];try{u.call(c)}finally{}}else try{a.call(o)}finally{}}}}(t,n),function CFe(t,n){const i=t.cleanup,s=n[7];if(null!==i)for(let l=0;l<i.length-1;l+=2)if("string"==typeof i[l]){const c=i[l+3];c>=0?s[c]():s[-c].unsubscribe(),l+=2}else i[l].call(s[i[l+1]]);null!==s&&(n[7]=null);const o=n[21];if(null!==o){n[21]=null;for(let l=0;l<o.length;l++)(0,o[l])()}const a=n[23];if(null!==a){n[23]=null;for(const l of a)l.destroy()}}(t,n),1===n[1].type&&n[11].destroy();const s=n[16];if(null!==s&&Yo(n[3])){s!==n[3]&&VV(s,n);const o=n[18];null!==o&&o.detachView(t)}aC(n)}finally{ze(i)}}function zV(t,n,i){return function Use(t,n,i){let s=n;for(;null!==s&&168&s.type;)s=(n=s).parent;if(null===s)return i[0];if(Wu(s)){const{encapsulation:o}=t.data[s.directiveStart+s.componentOffset];if(o===du.None||o===du.Emulated)return null}return Cl(s,i)}(t,n.parent,i)}let Gse=function Wse(t,n,i){return 40&t.type?Cl(t,i):null};function zM(t,n,i,s){const o=zV(t,s,n),a=n[11],c=function qse(t,n,i){return Gse(t,n,i)}(s.parent||n[5],s,n);if(null!=o)if(Array.isArray(i))for(let u=0;u<i.length;u++)Ise(a,o,i[u],c,!1);else Ise(a,o,i,c,!1)}function rb(t,n){if(null!==n){const i=n.type;if(3&i)return Cl(n,t);if(4&i)return UV(-1,t[n.index]);if(8&i){const s=n.child;if(null!==s)return rb(t,s);{const o=t[n.index];return Yo(o)?UV(-1,o):kr(o)}}if(128&i)return rb(t,n.next);if(32&i)return $V(n,t)()||kr(t[n.index]);{const s=Yse(t,n);return null!==s?Array.isArray(s)?s[0]:rb(Gu(t[15]),s):rb(t,n.next)}}return null}function Yse(t,n){return null!==n?t[15][5].projection[n.projection]:null}function UV(t,n){const i=10+t+1;if(i<n.length){const s=n[i],o=s[1].firstChild;if(null!==o)return rb(s,o)}return n[7]}function qV(t,n,i,s,o,a,l){for(;null!=i;){if(128===i.type){i=i.next;continue}const c=s[i.index],u=i.type;if(l&&0===n&&(c&&Yl(kr(c),s),i.flags|=2),!t1(i))if(8&u)qV(t,n,i.child,s,o,a,!1),rx(n,t,o,c,a);else if(32&u){const d=$V(i,s);let p;for(;p=d();)rx(n,t,o,p,a);rx(n,t,o,c,a)}else 16&u?Xse(t,n,s,i,o,a):rx(n,t,o,c,a);i=l?i.projectionNext:i.next}}function HM(t,n,i,s,o,a){qV(i,s,t.firstChild,n,o,a,!1)}function Xse(t,n,i,s,o,a){const l=i[15],u=l[5].projection[s.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++)rx(n,t,o,u[d],a);else{let d=u;const p=l[3];Vv(s)&&(d.flags|=128),qV(t,n,d,p,o,a,!0)}}function ix(t,n,i,s,o=!1){for(;null!==i;){if(128===i.type){i=o?i.projectionNext:i.next;continue}const a=n[i.index];null!==a&&s.push(kr(a)),Yo(a)&&WV(a,s);const l=i.type;if(8&l)ix(t,n,i.child,s);else if(32&l){const c=$V(i,n);let u;for(;u=c();)s.push(u)}else if(16&l){const c=Yse(n,i);if(Array.isArray(c))s.push(...c);else{const u=Gu(n[15]);ix(u[1],u,c,s,!0)}}i=o?i.projectionNext:i.next}return s}function WV(t,n){for(let i=10;i<t.length;i++){const s=t[i],o=s[1].firstChild;null!==o&&ix(s[1],s,o,n)}t[7]!==t[0]&&n.push(t[7])}function Qse(t){if(null!==t[25]){for(const n of t[25])n.impl.addSequence(n);t[25].length=0}}let Zse=[];const AFe={...st,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{kg(t.lView)},consumerOnSignalRead(){this.lView[24]=this}},RFe={...st,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=Gu(t.lView);for(;n&&!Jse(n[1]);)n=Gu(n);n&&M4(n)},consumerOnSignalRead(){this.lView[24]=this}};function Jse(t){return 2!==t.type}function eoe(t){if(null===t[23])return;let n=!0;for(;n;){let i=!1;for(const s of t[23])s.dirty&&(i=!0,null===s.zone||Zone.current===s.zone?s.run():s.zone.run(()=>s.run()));n=i&&!!(8192&t[2])}}function UM(t,n=!0,i=0){const o=t[10].rendererFactory;o.begin?.();try{!function LFe(t,n){const i=Gp();try{Ig(!0),GV(t,n);let s=0;for(;Dg(t);){if(100===s)throw new $t(103,!1);s++,GV(t,1)}}finally{Ig(i)}}(t,i)}catch(l){throw n&&function LV(t,n){const i=t[9],s=i?i.get(Qu,null):null;s&&s.handleError(n)}(t,l),l}finally{o.end?.()}}function noe(t,n,i,s){if(Qf(n))return;const o=n[2];j4(n);let c=!0,u=null,d=null;Jse(t)?(d=function DFe(t){return t[24]??function kFe(t){const n=Zse.pop()??Object.create(AFe);return n.lView=t,n}(t)}(n),u=nr(d)):null===function Ze(){return ge}()?(c=!1,d=function IFe(t){const n=t[24]??Object.create(RFe);return n.lView=t,n}(n),u=nr(d)):n[24]&&(Mn(n[24]),n[24]=null);try{QD(n),function $4(t){return Mr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Bse(t,n,i,2,s);const p=!(3&~o);if(p){const m=t.preOrderCheckHooks;null!==m&&kv(n,m,null)}else{const m=t.preOrderHooks;null!==m&&I0(n,m,0,null),gE(n,0)}if(function FFe(t){for(let n=Hk(t);null!==n;n=Uk(n)){if(!(2&n[2]))continue;const i=n[9];for(let s=0;s<i.length;s++)M4(i[s])}}(n),eoe(n),roe(n,0),null!==t.contentQueries&&TM(t,n),p){const m=t.contentCheckHooks;null!==m&&kv(n,m)}else{const m=t.contentHooks;null!==m&&I0(n,m,1),gE(n,1)}!function $Fe(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let s=0;s<i.length;s++){const o=i[s];if(o<0)A0(~o);else{const a=o,l=i[++s],c=i[++s];nh(l,a);const u=n[a];c(2,u)}}}finally{A0(-1)}}(t,n);const f=t.components;null!==f&&soe(n,f,0);const h=t.viewQuery;if(null!==h&&XE(2,h,s),p){const m=t.viewCheckHooks;null!==m&&kv(n,m)}else{const m=t.viewHooks;null!==m&&I0(n,m,2),gE(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[22]){for(const m of n[22])m();n[22]=null}Qse(n),n[2]&=-73}catch(p){throw kg(n),p}finally{null!==d&&(ir(d,u),c&&function MFe(t){t.lView[24]!==t&&(t.lView=null,Zse.push(t))}(d)),fE()}}function roe(t,n){for(let i=Hk(t);null!==i;i=Uk(i))for(let s=10;s<i.length;s++)ioe(i[s],n)}function BFe(t,n,i){const s=Xo(n,t);ioe(s,i)}function ioe(t,n){k4(t)&&GV(t,n)}function GV(t,n){const s=t[1],o=t[2],a=t[24];let l=!!(0===n&&16&o);if(l||=!!(64&o&&0===n),l||=!!(1024&o),l||=!(!a?.dirty||!jr(a)),l||=!1,a&&(a.dirty=!1),t[2]&=-9217,l)noe(s,t,s.template,t[8]);else if(8192&o){eoe(t),roe(t,1);const c=s.components;null!==c&&soe(t,c,1),Qse(t)}}function soe(t,n,i){for(let s=0;s<n.length;s++)BFe(t,n[s],i)}function WC(t,n){const i=Gp()?64:1088;for(t[10].changeDetectionScheduler?.notify(n);t;){t[2]|=i;const s=Gu(t);if(qp(t)&&!s)return t;t=s}return null}function ooe(t,n,i,s){return[t,!0,0,n,null,s,null,i,null,null]}function aoe(t,n){const i=10+n;if(i<t.length)return t[i]}function sx(t,n,i,s=!0){const o=n[1];if(function VFe(t,n,i,s){const o=10+s,a=i.length;s>0&&(i[o-1][4]=n),s<a-10?(n[4]=i[o],LD(i,10+s,n)):(i.push(n),n[4]=null),n[3]=i;const l=n[16];null!==l&&i!==l&&loe(l,n);const c=n[18];null!==c&&c.insertView(t),A4(n),n[2]|=128}(o,n,t,i),s){const l=UV(i,t),c=n[11],u=c.parentNode(t[7]);null!==u&&function xFe(t,n,i,s,o,a){s[0]=o,s[5]=n,HM(t,s,i,1,o,a)}(o,t[5],c,n,u,l)}const a=n[6];null!==a&&null!==a.firstChild&&(a.firstChild=null)}function KV(t,n){const i=GC(t,n);return void 0!==i&&qC(i[1],i),i}function GC(t,n){if(t.length<=10)return;const i=10+n,s=t[i];if(s){const o=s[16];null!==o&&o!==t&&VV(o,s),n>0&&(t[i-1][4]=s[4]);const a=K2(t,10+n);!function zse(t,n){Hse(t,n),n[0]=null,n[5]=null}(s[1],s);const l=a[18];null!==l&&l.detachView(a[1]),s[3]=null,s[4]=null,s[2]&=-129}return s}function loe(t,n){const i=t[9],s=n[3];(po(s)||n[15]!==s[3][15])&&(t[2]|=2),null===i?t[9]=[n]:i.push(n)}let KC=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const n=this._lView,i=n[1];return ix(i,n,i.firstChild,[])}constructor(n,i,s=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=s}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return Qf(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Yo(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&(GC(n,s),K2(i,s))}this._attachedToViewContainer=!1}qC(this._lView[1],this._lView)}onDestroy(n){oE(this._lView,n)}markForCheck(){WC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){A4(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,UM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $t(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=qp(this._lView),i=this._lView[16];null!==i&&!n&&VV(i,this._lView),Hse(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new $t(902,!1);this._appRef=n;const i=qp(this._lView),s=this._lView[16];null!==s&&!i&&loe(s,this._lView),A4(this._lView)}},W0=(()=>class t{static __NG_ELEMENT_ID__=HFe})();const jFe=W0,zFe=class extends jFe{_declarationLView;_declarationTContainer;elementRef;constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,s){const o=nx(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:s});return new KC(o)}};function HFe(){return qM(Zr(),Ge())}function qM(t,n){return 4&t.type?new zFe(n,t,Hg(t,n)):null}function ox(t,n,i,s,o){let a=t.data[n];if(null===a)a=function ZV(t,n,i,s,o){const a=nk(),l=B4(),u=t.data[n]=function JFe(t,n,i,s,o,a){let l=n?n.injectorIndex:-1,c=0;return function M0(){return null!==Mr.skipHydrationRootTNode}()&&(c|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:l,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:o,attrs:a,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?a:a&&a.parent,i,n,s,o);return function ZFe(t,n,i,s){null===t.firstChild&&(t.firstChild=n),null!==i&&(s?null==i.child&&null!==n.parent&&(i.child=n):null===i.next&&(i.next=n,n.prev=i))}(t,u,a,l),u}(t,n,i,s,o),function V4(){return Mr.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=i,a.value=s,a.attrs=o;const l=function Dv(){const t=Mr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();a.injectorIndex=null===l?-1:l.injectorIndex}return fo(a,!0),a}let $Be=class{},Moe=class{};class VBe{resolveComponentFactory(n){throw Error(`No component factory found for ${Go(n)}.`)}}let ZM=class{static NULL=new VBe};class oj{}let sb=(()=>class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>function jBe(){const t=Ge(),i=Xo(Zr().index,t);return(po(i)?i:t)[11]}()})(),zBe=(()=>{class t{static \u0275prov=Nr({token:t,providedIn:"root",factory:()=>null})}return t})();const lj={};class ux{injector;parentInjector;constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,s){s=hv(s);const o=this.injector.get(n,lj,s);return o!==lj||i===lj?o:this.parentInjector.get(n,i,s)}}function cj(t,n,i){let s=i?t.styles:null,o=i?t.classes:null,a=0;if(null!==n)for(let l=0;l<n.length;l++){const c=n[l];"number"==typeof c?a=c:1==a?o=$2(o,c):2==a&&(s=$2(s,c+": "+n[++l]+";"))}i?t.styles=s:t.stylesWithoutHost=s,i?t.classes=o:t.classesWithoutHost=o}function Ut(t,n=yi.Default){const i=Ge();return null===i?sr(t,n):hk(Zr(),i,Pr(t),n)}function uj(t,n,i,s,o){const a=null===s?null:{"":-1},l=o(t,i);if(null!==l){let c,u=null,d=null;const p=function KBe(t){let n=null,i=!1;for(let l=0;l<t.length;l++){const c=t[l];if(0===l&&Js(c)&&(n=c),null!==c.findHostDirectiveDefs){i=!0;break}}if(!i)return null;let s=null,o=null,a=null;for(const l of t)null!==l.findHostDirectiveDefs&&(s??=[],o??=new Map,a??=new Map,YBe(l,s,a,o)),l===n&&(s??=[],s.push(l));return null!==s?(s.push(...null===n?t:t.slice(1)),[s,o,a]):null}(l);null===p?c=l:[c,u,d]=p,function QBe(t,n,i,s,o,a,l){const c=s.length;let u=!1;for(let h=0;h<c;h++){const m=s[h];!u&&Js(m)&&(u=!0,XBe(t,i,h)),xE(Iv(i,n),t,m.type)}!function r$e(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,c);for(let h=0;h<c;h++){const m=s[h];m.providersResolver&&m.providersResolver(m)}let d=!1,p=!1,f=UC(t,n,c,null);c>0&&(i.directiveToIndex=new Map);for(let h=0;h<c;h++){const m=s[h];if(i.mergedAttrs=$g(i.mergedAttrs,m.hostAttrs),JBe(t,i,n,f,m),n$e(f,m,o),null!==l&&l.has(m)){const[E,_]=l.get(m);i.directiveToIndex.set(m.type,[f,E+i.directiveStart,_+i.directiveStart])}else(null===a||!a.has(m))&&i.directiveToIndex.set(m.type,f);null!==m.contentQueries&&(i.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(i.flags|=64);const y=m.type.prototype;!d&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),d=!0),!p&&(y.ngOnChanges||y.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),p=!0),f++}!function ZBe(t,n,i){for(let s=n.directiveStart;s<n.directiveEnd;s++){const o=t.data[s];if(null!==i&&i.has(o)){const a=i.get(o);Roe(0,n,a,s),Roe(1,n,a,s),Loe(n,s,!0)}else Ioe(0,n,o,s),Ioe(1,n,o,s),Loe(n,s,!1)}}(t,i,a)}(t,n,i,c,a,u,d)}null!==a&&null!==s&&function GBe(t,n,i){const s=t.localNames=[];for(let o=0;o<n.length;o+=2){const a=i[n[o+1]];if(null==a)throw new $t(-301,!1);s.push(n[o],a)}}(i,s,a)}function YBe(t,n,i,s){const o=n.length;t.findHostDirectiveDefs(t,n,s),i.set(t,[o,n.length-1])}function XBe(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Ioe(t,n,i,s){const o=0===t?i.inputs:i.outputs;for(const a in o)if(o.hasOwnProperty(a)){let l;l=0===t?n.inputs??={}:n.outputs??={},l[a]??=[],l[a].push(s),Noe(n,a)}}function Roe(t,n,i,s){const o=0===t?i.inputs:i.outputs;for(const a in o)if(o.hasOwnProperty(a)){const l=o[a];let c;c=0===t?n.hostDirectiveInputs??={}:n.hostDirectiveOutputs??={},c[l]??=[],c[l].push(s,a),Noe(n,l)}}function Noe(t,n){"class"===n?t.flags|=8:"style"===n&&(t.flags|=16)}function Loe(t,n,i){const{attrs:s,inputs:o,hostDirectiveInputs:a}=t;if(null===s||!i&&null===o||i&&null===a||OV(t))return t.initialInputs??=[],void t.initialInputs.push(null);let l=null,c=0;for(;c<s.length;){const u=s[c];if(0!==u)if(5!==u){if("number"==typeof u)break;if(!i&&o.hasOwnProperty(u)){const d=o[u];for(const p of d)if(p===n){l??=[],l.push(u,s[c+1]);break}}else if(i&&a.hasOwnProperty(u)){const d=a[u];for(let p=0;p<d.length;p+=2)if(d[p]===n){l??=[],l.push(d[p+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}t.initialInputs??=[],t.initialInputs.push(l)}function JBe(t,n,i,s,o){t.data[s]=o;const a=o.factory||(o.factory=Hf(o.type)),l=new Fg(a,Js(o),Ut);t.blueprint[s]=l,i[s]=l,function e$e(t,n,i,s,o){const a=o.hostBindings;if(a){let l=t.hostBindingOpCodes;null===l&&(l=t.hostBindingOpCodes=[]);const c=~n.index;(function t$e(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(l)!=c&&l.push(c),l.push(i,s,a)}}(t,n,s,UC(t,i,o.hostVars,Wr),o)}function n$e(t,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=t;Js(n)&&(i[""]=t)}}function Foe(t,n,i,s,o,a,l,c){const u=n.consts,p=ox(n,t,2,s,Ka(u,l));return a&&uj(n,i,p,Ka(u,c),o),p.mergedAttrs=$g(p.mergedAttrs,p.attrs),null!==p.attrs&&cj(p,p.attrs,!1),null!==p.mergedAttrs&&cj(p,p.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,p),p}function Boe(t,n){mE(t,n),Up(n)&&t.queries.elementEnd(n)}class $oe extends ZM{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Rn(n);return new iS(i,this.ngModule)}}class iS extends Moe{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function i$e(t){return Object.keys(t).map(n=>{const[i,s,o]=t[n],a={propName:i,templateName:n,isSignal:!!(s&$M.SignalBased)};return o&&(a.transform=o),a})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function s$e(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}(this.componentDef.outputs),this.cachedOutputs}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function nFe(t){return t.map(tFe).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!i}create(n,i,s,o){const a=ze(null);try{const l=this.componentDef,c=s?["ng-version","19.2.7"]:function rFe(t){const n=[],i=[];let s=1,o=2;for(;s<t.length;){let a=t[s];if("string"==typeof a)2===o?""!==a&&n.push(a,t[++s]):8===o&&i.push(a);else{if(!Jp(o))break;o=a}s++}return i.length&&n.push(1,...i),n}(this.componentDef.selectors[0]),u=DV(0,null,null,1,0,null,null,null,null,[c],null),d=function o$e(t,n,i){let s=n instanceof Tc?n:n?.injector;return s&&null!==t.getStandaloneInjector&&(s=t.getStandaloneInjector(s)||s),s?new ux(i,s):i}(l,o||this.ngModule,n),p=function a$e(t){const n=t.get(oj,null);if(null===n)throw new $t(407,!1);return{rendererFactory:n,sanitizer:t.get(zBe,null),changeDetectionScheduler:t.get(Xp,null)}}(d),f=p.rendererFactory.createRenderer(null,l),h=s?function lFe(t,n,i,s){const a=s.get(oM,!1)||i===du.ShadowDom,l=t.selectRootElement(n,a);return function cFe(t){$se(t)}(l),l}(f,s,l.encapsulation,d):function l$e(t,n){const i=(t.selectors[0][0]||"div").toLowerCase();return FM(n,i,"svg"===i?"svg":"math"===i?"math":null)}(l,f),m=BM(null,u,null,512|kV(l),null,null,p,f,d,null,null);m[26]=h,j4(m);let y=null;try{const E=Foe(26,u,m,"#host",()=>[this.componentDef],!0,0);h&&(Nse(f,h,E),Yl(h,m)),VM(u,m,E),VC(u,E,m),Boe(u,E),void 0!==i&&function u$e(t,n,i){const s=t.projection=[];for(let o=0;o<n.length;o++){const a=i[o];s.push(null!=a&&a.length?Array.from(a):null)}}(E,this.ngContentSelectors,i),y=Xo(E.index,m),m[8]=y[8],jM(u,m,null)}catch(E){throw null!==y&&aC(y),aC(m),E}finally{fE()}return new c$e(this.componentType,m)}finally{ze(a)}}}class c$e extends $Be{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,i){super(),this._rootLView=i,this._tNode=Wp(i[1],26),this.location=Hg(this._tNode,i),this.instance=Xo(this._tNode.index,i)[8],this.hostView=this.changeDetectorRef=new KC(i,void 0,!1),this.componentType=n}setInput(n,i){const s=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const o=this._rootLView;FV(s,o[1],o,n,i),this.previousInputValues.set(n,i),WC(Xo(s.index,o),1)}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}let uh=(()=>class t{static __NG_ELEMENT_ID__=d$e})();function d$e(){return zoe(Zr(),Ge())}const p$e=uh,Voe=class extends p$e{_lContainer;_hostTNode;_hostLView;constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return Hg(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){const n=EE(this._hostTNode,this._hostLView);if(Ku(n)){const i=N0(n,this._hostLView),s=R0(n);return new eo(i[1].data[s+8],i)}return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=joe(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,i,s){let o,a;"number"==typeof s?o=s:null!=s&&(o=s.index,a=s.injector);const c=n.createEmbeddedViewImpl(i||{},a,null);return this.insertImpl(c,o,nb(this._hostTNode,null)),c}createComponent(n,i,s,o,a){const l=n&&!function xg(t){return"function"==typeof t}(n);let c;if(l)c=i;else{const y=i||{};c=y.index,s=y.injector,o=y.projectableNodes,a=y.environmentInjector||y.ngModuleRef}const u=l?n:new iS(Rn(n)),d=s||this.parentInjector;if(!a&&null==u.ngModule){const E=(l?d:this.parentInjector).get(Tc,null);E&&(a=E)}Rn(u.componentType??{});const m=u.create(d,o,null,a);return this.insertImpl(m.hostView,c,nb(this._hostTNode,null)),m}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,s){const o=n._lView;if(function KB(t){return Yo(t[3])}(o)){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const u=o[3],d=new Voe(u,u[5],u[3]);d.detach(d.indexOf(n))}}const a=this._adjustIndex(i),l=this._lContainer;return sx(l,o,a,s),n.attachToViewContainerRef(),LD(dj(l),a,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=joe(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=GC(this._lContainer,i);s&&(K2(dj(this._lContainer),i),qC(s[1],s))}detach(n){const i=this._adjustIndex(n,-1),s=GC(this._lContainer,i);return s&&null!=K2(dj(this._lContainer),i)?new KC(s):null}_adjustIndex(n,i=0){return n??this.length+i}};function joe(t){return t[8]}function dj(t){return t[8]||(t[8]=[])}function zoe(t,n){let i;const s=n[t.index];return Yo(s)?i=s:(i=ooe(s,n,null,t),n[t.index]=i,MV(n,i)),Hoe(i,n,t,s),new Voe(i,t,n)}let Hoe=function qoe(t,n,i,s){if(t[7])return;let o;o=8&i.type?kr(s):function f$e(t,n){const i=t[11],s=i.createComment(""),o=Cl(n,t),a=i.parentNode(o);return tb(i,a,s,i.nextSibling(o),!1),s}(n,i),t[7]=o};class fj{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new fj(this.queryList)}setDirty(){this.queryList.setDirty()}}class hj{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,o=[];for(let a=0;a<s;a++){const l=i.getByIndex(a);o.push(this.queries[l.indexInDeclarationView].clone())}return new hj(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==bj(n,i).matches&&this.queries[i].setDirty()}}class Woe{flags;read;predicate;constructor(n,i,s=null){this.flags=i,this.read=s,this.predicate="string"==typeof n?function E$e(t){return t.split(",").map(n=>n.trim())}(n):n}}class mj{queries;constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const o=null!==i?i.length:0,a=this.getByIndex(s).embeddedTView(n,o);a&&(a.indexInDeclarationView=s,null!==i?i.push(a):i=[a])}return null!==i?new mj(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class gj{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,i=-1){this.metadata=n,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new gj(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let o=0;o<s.length;o++){const a=s[o];this.matchTNodeWithReadOption(n,i,y$e(i,a)),this.matchTNodeWithReadOption(n,i,fa(i,n,a,!1,!1))}else s===W0?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,fa(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const o=this.metadata.read;if(null!==o)if(o===Zu||o===uh||o===W0&&4&i.type)this.addMatch(i.index,-2);else{const a=fa(i,n,o,!1,!1);null!==a&&this.addMatch(i.index,a)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function y$e(t,n){const i=t.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function b$e(t,n,i,s){return-1===i?function v$e(t,n){return 11&t.type?Hg(t,n):4&t.type?qM(t,n):null}(n,t):-2===i?function _$e(t,n,i){return i===Zu?Hg(n,t):i===W0?qM(n,t):i===uh?zoe(n,t):void 0}(t,n,s):F0(t,t[1],i,n)}function Goe(t,n,i,s){const o=n[18].queries[s];if(null===o.matches){const a=t.data,l=i.matches,c=[];for(let u=0;null!==l&&u<l.length;u+=2){const d=l[u];c.push(d<0?null:b$e(n,a[d],l[u+1],i.metadata.read))}o.matches=c}return o.matches}function yj(t,n,i,s){const o=t.queries.getByIndex(i),a=o.matches;if(null!==a){const l=Goe(t,n,o,i);for(let c=0;c<a.length;c+=2){const u=a[c];if(u>0)s.push(l[c/2]);else{const d=a[c+1],p=n[-u];for(let f=10;f<p.length;f++){const h=p[f];h[16]===h[3]&&yj(h[1],h,d,s)}if(null!==p[9]){const f=p[9];for(let h=0;h<f.length;h++){const m=f[h];yj(m[1],m,d,s)}}}}}return s}function Yoe(t,n,i){const s=Cr();return s.firstCreatePass&&(function Qoe(t,n,i){null===t.queries&&(t.queries=new mj),t.queries.track(new gj(n,i))}(s,new Woe(t,n,i),-1),!(2&~n)&&(s.staticViewQueries=!0)),function Koe(t,n,i){const s=new w$(!(4&~i));return function ZD(t,n,i,s){const o=I4(n);o.push(i),t.firstCreatePass&&Tv(t).push(s,o.length-1)}(t,n,s,s.destroy),(n[18]??=new hj).queries.push(new fj(s))-1}(s,Ge(),n)}function bj(t,n){return t.queries.getByIndex(n)}function Zoe(t,n){const i=t[1],s=bj(i,n);return s.crossesNgTemplate?yj(i,t,n,[]):Goe(i,t,s,n)}let ob=class{},A$e=class{};class xj extends ob{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new $oe(this);constructor(n,i,s,o=!0){super(),this.ngModuleType=n,this._parent=i;const a=function or(t,n){const i=t[Sc]||null;if(!i&&!0===n)throw new Error(`Type ${Go(t)} does not have '\u0275mod' property.`);return i}(n);this._bootstrapComponents=function lh(t){return t instanceof Function?t():t}(a.bootstrap),this._r3Injector=Sk(n,i,[{provide:ob,useValue:this},{provide:ZM,useValue:this.componentFactoryResolver},...s],Go(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class wj extends A$e{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new xj(this.moduleType,n,[])}}class cae extends ob{injector;componentFactoryResolver=new $oe(this);instance=null;constructor(n){super();const i=new Gf([...n.providers,{provide:ob,useValue:this},{provide:ZM,useValue:this.componentFactoryResolver}],n.parent||S0(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}let N$e=(()=>{class t{_injector;cachedInjectors=new Map;constructor(i){this._injector=i}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const s=_4(0,i.type),o=s.length>0?function uae(t,n,i=null){return new cae({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}([s],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Nr({token:t,providedIn:"environment",factory:()=>new t(sr(Tc))})}return t})();function Rc(t){return Md(()=>{const n=dae(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===OE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?o=>o.get(N$e).getOrCreateStandaloneInjector(i):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||du.Emulated,styles:t.styles||_i,_:null,schemas:t.schemas||null,tView:null,id:""};n.standalone&&Mc("NgStandalone"),pae(i);const s=t.dependencies;return i.directiveDefs=e8(s,!1),i.pipeDefs=e8(s,!0),i.id=function j$e(t){let n=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,"function"==typeof t.consts?"":t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(const a of s.join("|"))n=Math.imul(31,n)+a.charCodeAt(0)|0;return n+=2147483648,"c"+n}(i),i})}function L$e(t){return Rn(t)||function Ei(t){return t[El]||null}(t)}function F$e(t){return null!==t}function ab(t){return Md(()=>({type:t.type,bootstrap:t.bootstrap||_i,declarations:t.declarations||_i,imports:t.imports||_i,exports:t.exports||_i,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function B$e(t,n){if(null==t)return zu;const i={};for(const s in t)if(t.hasOwnProperty(s)){const o=t[s];let a,l,c,u;Array.isArray(o)?(c=o[0],a=o[1],l=o[2]??a,u=o[3]||null):(a=o,l=o,c=$M.None,u=null),i[a]=[s,c,u],n[a]=l}return i}function $$e(t){if(null==t)return zu;const n={};for(const i in t)t.hasOwnProperty(i)&&(n[t[i]]=i);return n}function Kr(t){return Md(()=>{const n=dae(t);return pae(n),n})}function hu(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function dae(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||zu,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:!0===t.signals,selectors:t.selectors||_i,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:B$e(t.inputs,n),outputs:$$e(t.outputs),debugInfo:null}}function pae(t){t.features?.forEach(n=>n(t))}function e8(t,n){if(!t)return null;const i=n?ni:L$e;return()=>("function"==typeof t?t():t).map(s=>i(s)).filter(F$e)}function fs(t){let n=function fae(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const s=[t];for(;n;){let o;if(Js(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new $t(903,!1);o=n.\u0275dir}if(o){if(i){s.push(o);const l=t;l.inputs=Cj(t.inputs),l.declaredInputs=Cj(t.declaredInputs),l.outputs=Cj(t.outputs);const c=o.hostBindings;c&&W$e(t,c);const u=o.viewQuery,d=o.contentQueries;if(u&&U$e(t,u),d&&q$e(t,d),z$e(t,o),DD(t.outputs,o.outputs),Js(o)&&o.data.animation){const p=t.data;p.animation=(p.animation||[]).concat(o.data.animation)}}const a=o.features;if(a)for(let l=0;l<a.length;l++){const c=a[l];c&&c.ngInherit&&c(t),c===fs&&(i=!1)}}n=Object.getPrototypeOf(n)}!function H$e(t){let n=0,i=null;for(let s=t.length-1;s>=0;s--){const o=t[s];o.hostVars=n+=o.hostVars,o.hostAttrs=$g(o.hostAttrs,i=$g(i,o.hostAttrs))}}(s)}function z$e(t,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;const s=n.inputs[i];void 0!==s&&(t.inputs[i]=s,t.declaredInputs[i]=n.declaredInputs[i])}}function Cj(t){return t===zu?{}:t===_i?[]:t}function U$e(t,n){const i=t.viewQuery;t.viewQuery=i?(s,o)=>{n(s,o),i(s,o)}:n}function q$e(t,n){const i=t.contentQueries;t.contentQueries=i?(s,o,a)=>{n(s,o,a),i(s,o,a)}:n}function W$e(t,n){const i=t.hostBindings;t.hostBindings=i?(s,o)=>{n(s,o),i(s,o)}:n}function t8(t){return!!Oj(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Oj(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ko(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function lb(t,n,i,s){const o=ko(t,n,i);return ko(t,n+1,s)||o}function zd(t,n,i,s,o,a){const l=lb(t,n,i,s);return lb(t,n+2,o,a)||l}function aS(t,n,i,s,o,a,l,c,u,d){const p=i+26,f=n.firstCreatePass?function tVe(t,n,i,s,o,a,l,c,u){const d=n.consts,p=ox(n,t,4,l||null,c||null);lE()&&uj(n,i,p,Ka(d,u),RV),p.mergedAttrs=$g(p.mergedAttrs,p.attrs),mE(n,p);const f=p.tView=DV(2,p,s,o,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,d,null);return null!==n.queries&&(n.queries.template(n,p),f.queries=n.queries.embeddedTView(p)),p}(p,n,t,s,o,a,l,c,u):n.data[p];fo(f,!1);const h=vae(n,t,f,i);Nd()&&zM(n,t,h,f),Yl(h,t);const m=ooe(h,t,h,f);return t[p]=m,MV(t,m),tE(f)&&VM(n,t,f),null!=u&&IV(t,f,d),f}function dr(t,n,i,s,o,a,l,c){const u=Ge(),d=Cr();return aS(u,d,t,n,i,s,o,Ka(d.consts,a),l,c),dr}let vae=function bae(t,n,i,s){return Gl(!0),n[11].createComment("")};const Iae=new bn(""),o8=new bn("");let Rj,Aj=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(i,s,o){this._ngZone=i,this.registry=s,Rj||(function JVe(t){Rj=t}(o),o.addToWindow(s)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,o){let a=-1;s&&s>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==a),i()},s)),this._callbacks.push({doneCb:i,timeoutId:a,updateCb:o})}whenStable(i,s,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,o),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,s,o){return[]}static \u0275fac=function(s){return new(s||t)(sr(Wi),sr(Ij),sr(o8))};static \u0275prov=Nr({token:t,factory:t.\u0275fac})}return t})(),Ij=(()=>{class t{_applications=new Map;registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return Rj?.findTestabilityInTree(this,i,s)??null}static \u0275fac=function(s){return new(s||t)};static \u0275prov=Nr({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Nj=(()=>{class t{static \u0275prov=Nr({token:t,providedIn:"root",factory:()=>new eje})}return t})();class eje{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){const s=this.queues.get(n.zone);s.has(n)&&(s.delete(n),this.queuedEffectCount--)}enqueue(n){const i=n.zone;this.queues.has(i)||this.queues.set(i,new Set);const s=this.queues.get(i);s.has(n)||(this.queuedEffectCount++,s.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,i]of this.queues)null===n?this.flushQueue(i):n.run(()=>this.flushQueue(i))}flushQueue(n){for(const i of n)n.delete(i),this.queuedEffectCount--,i.run()}}function a8(t){return!!t&&"function"==typeof t.then}function Rae(t){return!!t&&"function"==typeof t.subscribe}const Nae=new bn("");let Lae=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s});appInits=on(Nae,{optional:!0})??[];injector=on(Ra);constructor(){}runInitializers(){if(this.initialized)return;const i=[];for(const o of this.appInits){const a=_v(this.injector,o);if(a8(a))i.push(a);else if(Rae(a)){const l=new Promise((c,u)=>{a.subscribe({complete:c,error:u})});i.push(l)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{s()}).catch(o=>{this.reject(o)}),0===i.length&&s(),this.initialized=!0}static \u0275fac=function(s){return new(s||t)};static \u0275prov=Nr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const l8=new bn("");function Bae(t,n){return Array.isArray(n)?n.reduce(Bae,t):{...t,...n}}let Hd=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=on(_$);afterRenderManager=on(wC);zonelessEnabled=on(zg);rootEffectScheduler=on(Nj);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new g0;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=on(Qp).hasPendingTasks.pipe(Bp(i=>!i));constructor(){on(ps,{optional:!0})}whenStable(){let i;return new Promise(s=>{i=this.isStable.subscribe({next:o=>{o&&s()}})}).finally(()=>{i.unsubscribe()})}_injector=on(Tc);_rendererFactory=null;get injector(){return this._injector}bootstrap(i,s){return this.bootstrapImpl(i,s)}bootstrapImpl(i,s,o=Ra.NULL){const a=i instanceof Moe;if(!this._injector.get(Lae).done)throw new $t(405,"");let c;c=a?i:this._injector.get(ZM).resolveComponentFactory(i),this.componentTypes.push(c.componentType);const u=function tje(t){return t.isBoundToModule}(c)?void 0:this._injector.get(ob),p=c.create(o,[],s||c.selector,u),f=p.location.nativeElement,h=p.injector.get(Iae,null);return h?.registerApplication(f),p.onDestroy(()=>{this.detachView(p.hostView),c8(this.components,p),h?.unregisterApplication(f)}),this._loadComponent(p),p}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){null!==this.tracingSnapshot?this.tracingSnapshot.run(Ss.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $t(101,!1);const i=ze(null);try{this._runningTick=!0,this.synchronize()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ze(i),this.afterTick.next()}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(oj,null,{optional:!0}));let i=0;for(;0!==this.dirtyFlags&&i++<10;)this.synchronizeOnce()}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const i=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:s,notifyErrorHandler:o}of this.allViews)rje(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:i})=>Dg(i))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;c8(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(l8,[]).forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>c8(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new $t(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(s){return new(s||t)};static \u0275prov=Nr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function c8(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}function rje(t,n,i,s){(i||Dg(t))&&UM(t,n,i&&!s?0:1)}function G0(t,n,i,s){const o=Ge();return ko(o,ql(),n)&&(Cr(),ch(ns(),o,t,n,i,s)),G0}function mx(t,n,i,s){return ko(t,ql(),i)?n+Dr(i)+s:Wr}function yx(t,n,i,s,o,a,l,c){const d=function n8(t,n,i,s,o){const a=lb(t,n,i,s);return ko(t,n+2,o)||a}(t,cu(),i,o,l);return Id(3),d?n+Dr(i)+s+Dr(o)+a+Dr(l)+c:Wr}function u8(t,n){return t<<17|n<<2}function ub(t){return t>>17&32767}function Vj(t){return 2|t}function wx(t){return(131068&t)>>2}function jj(t,n){return-131069&t|n<<2}function zj(t){return 1|t}function nle(t,n,i,s){const o=t[i+1],a=null===n;let l=s?ub(o):wx(o),c=!1;for(;0!==l&&(!1===c||a);){const d=t[l+1];Hje(t[l],n)&&(c=!0,t[l+1]=s?zj(d):Vj(d)),l=s?ub(d):wx(d)}c&&(t[i+1]=s?Vj(o):zj(o))}function Hje(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&gv(t,n)>=0}function Jn(t,n,i){const s=Ge();return ko(s,ql(),n)&&fu(Cr(),ns(),s,t,n,s[11],i,!1),Jn}function Hj(t,n,i,s,o){FV(n,t,i,o?"class":"style",s)}function d8(t,n){return function ef(t,n,i,s){const o=Ge(),a=Cr(),l=Id(2);a.firstUpdatePass&&function dle(t,n,i,s){const o=t.data;if(null===o[i+1]){const a=o[xs()],l=function ule(t,n){return n>=t.expandoStartIndex}(t,i);(function mle(t,n){return!!(t.flags&(n?8:16))})(a,s)&&null===n&&!l&&(n=!1),n=function Zje(t,n,i,s){const o=function dE(t){const n=Mr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let a=s?n.residualClasses:n.residualStyles;if(null===o)0===(s?n.classBindings:n.styleBindings)&&(i=uS(i=Uj(null,t,n,i,s),n.attrs,s),a=null);else{const l=n.directiveStylingLast;if(-1===l||t[l]!==o)if(i=Uj(o,t,n,i,s),null===a){let u=function Jje(t,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==wx(s))return t[ub(s)]}(t,n,s);void 0!==u&&Array.isArray(u)&&(u=Uj(null,t,n,u[1],s),u=uS(u,n.attrs,s),function eze(t,n,i,s){t[ub(i?n.classBindings:n.styleBindings)]=s}(t,n,s,u))}else a=function tze(t,n,i){let s;const o=n.directiveEnd;for(let a=1+n.directiveStylingLast;a<o;a++)s=uS(s,t[a].hostAttrs,i);return uS(s,n.attrs,i)}(t,n,s)}return void 0!==a&&(s?n.residualClasses=a:n.residualStyles=a),i}(o,a,n,s),function jje(t,n,i,s,o,a){let l=a?n.classBindings:n.styleBindings,c=ub(l),u=wx(l);t[s]=i;let p,d=!1;if(Array.isArray(i)?(p=i[1],(null===p||gv(i,p)>0)&&(d=!0)):p=i,o)if(0!==u){const h=ub(t[c+1]);t[s+1]=u8(h,c),0!==h&&(t[h+1]=jj(t[h+1],s)),t[c+1]=function $je(t,n){return 131071&t|n<<17}(t[c+1],s)}else t[s+1]=u8(c,0),0!==c&&(t[c+1]=jj(t[c+1],s)),c=s;else t[s+1]=u8(u,0),0===c?c=s:t[u+1]=jj(t[u+1],s),u=s;d&&(t[s+1]=Vj(t[s+1])),nle(t,p,s,!0),nle(t,p,s,!1),function zje(t,n,i,s,o){const a=o?t.residualClasses:t.residualStyles;null!=a&&"string"==typeof n&&gv(a,n)>=0&&(i[s+1]=zj(i[s+1]))}(n,p,t,s,a),l=u8(c,u),a?n.classBindings=l:n.styleBindings=l}(o,a,n,i,l,s)}}(a,t,l,s),n!==Wr&&ko(o,l,n)&&function fle(t,n,i,s,o,a,l,c){if(!(3&n.type))return;const u=t.data,d=u[c+1],p=function Vje(t){return!(1&~t)}(d)?hle(u,n,i,o,wx(d),l):void 0;p8(p)||(p8(a)||function Bje(t){return!(2&~t)}(d)&&(a=hle(u,null,i,o,c,l)),function PFe(t,n,i,s,o){if(n)o?t.addClass(i,s):t.removeClass(i,s);else{let a=-1===s.indexOf("-")?void 0:e1.DashCase;null==o?t.removeStyle(i,s,a):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),a|=e1.Important),t.setStyle(i,s,o,a))}}(s,l,Pg(xs(),i),o,a))}(a,a.data[xs()],o,o[11],t,o[l+1]=function sze(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Go(function ah(t){return t instanceof MM?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(n,i),s,l)}(t,n,null,!0),d8}function Uj(t,n,i,s,o){let a=null;const l=i.directiveEnd;let c=i.directiveStylingLast;for(-1===c?c=i.directiveStart:c++;c<l&&(a=n[c],s=uS(s,a.hostAttrs,o),a!==t);)c++;return null!==t&&(i.directiveStylingLast=c),s}function uS(t,n,i){const s=i?1:2;let o=-1;if(null!==n)for(let a=0;a<n.length;a++){const l=n[a];"number"==typeof l?o=l:o===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Oc(t,l,!!i||n[++a]))}return void 0===t?null:t}function hle(t,n,i,s,o,a){const l=null===n;let c;for(;o>0;){const u=t[o],d=Array.isArray(u),p=d?u[1]:u,f=null===p;let h=i[o+1];h===Wr&&(h=f?_i:void 0);let m=f?b4(h,s):p===s?h:void 0;if(d&&!p8(m)&&(m=b4(u,s)),p8(m)&&(c=m,l))return c;const y=t[o+1];o=l?ub(y):wx(y)}if(null!==n){let u=a?n.residualClasses:n.residualStyles;null!=u&&(c=b4(u,s))}return c}function p8(t){return void 0!==t}class gze{destroy(n){}updateValue(n,i){}swap(n,i){const s=Math.min(n,i),o=Math.max(n,i),a=this.detach(o);if(o-s>1){const l=this.detach(s);this.attach(s,a),this.attach(o,l)}else this.attach(s,a)}move(n,i){this.attach(i,this.detach(n))}}function qj(t,n,i,s,o){return t===i&&Object.is(n,s)?1:Object.is(o(t,n),o(i,s))?-1:0}function Wj(t,n,i,s){return!(void 0===n||!n.has(s)||(t.attach(i,n.get(s)),n.delete(s),0))}function gle(t,n,i,s,o){if(Wj(t,n,s,i(s,o)))t.updateValue(s,o);else{const a=t.create(s,o);t.attach(s,a)}}function yle(t,n,i,s){const o=new Set;for(let a=n;a<=i;a++)o.add(s(a,t.at(a)));return o}class vle{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const i=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(i)?(this.kvMap.set(n,this._vMap.get(i)),this._vMap.delete(i)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,i){if(this.kvMap.has(n)){let s=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const o=this._vMap;for(;o.has(s);)s=o.get(s);o.set(s,i)}else this.kvMap.set(n,i)}forEach(n){for(let[i,s]of this.kvMap)if(n(s,i),void 0!==this._vMap){const o=this._vMap;for(;o.has(s);)s=o.get(s),n(s,i)}}}function Gi(t,n){Mc("NgControlFlow");const i=Ge(),s=ql(),o=i[s]!==Wr?i[s]:-1,a=-1!==o?g8(i,26+o):void 0;if(ko(i,s,t)){const c=ze(null);try{if(void 0!==a&&KV(a,0),-1!==t){const u=26+t,d=g8(i,u),p=Gj(i[1],u),f=null;sx(d,nx(i,p,n,{dehydratedView:f}),0,nb(p,f))}}finally{ze(c)}}else if(void 0!==a){const c=aoe(a,0);void 0!==c&&(c[8]=n)}}class vze{lContainer;$implicit;$index;constructor(n,i,s){this.lContainer=n,this.$implicit=i,this.$index=s}get $count(){return this.lContainer.length-10}}function f8(t,n){return n}class _ze{hasEmptyBlock;trackByFn;liveCollection;constructor(n,i,s){this.hasEmptyBlock=n,this.trackByFn=i,this.liveCollection=s}}function h8(t,n,i,s,o,a,l,c,u,d,p,f,h){Mc("NgControlFlow");const m=Ge(),y=Cr(),E=void 0!==u,_=Ge(),S=c?l.bind(_[15][8]):l,v=new _ze(E,S);_[26+t]=v,aS(m,y,t+1,n,i,s,o,Ka(y.consts,a)),E&&aS(m,y,t+2,u,d,p,f,Ka(y.consts,h))}class Eze extends gze{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,i,s){super(),this.lContainer=n,this.hostLView=i,this.templateTNode=s}get length(){return this.lContainer.length-10}at(n){return this.getLView(n)[8].$implicit}attach(n,i){const s=i[6];this.needsIndexUpdate||=n!==this.length,sx(this.lContainer,i,n,nb(this.templateTNode,s))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,function xze(t,n){return GC(t,n)}(this.lContainer,n)}create(n,i){const o=nx(this.hostLView,this.templateTNode,new vze(this.lContainer,i,n),{dehydratedView:null});return this.operationsCounter?.recordCreate(),o}destroy(n){qC(n[1],n),this.operationsCounter?.recordDestroy()}updateValue(n,i){this.getLView(n)[8].$implicit=i}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[8].$index=n}getLView(n){return function wze(t,n){return aoe(t,n)}(this.lContainer,n)}}function m8(t){const n=ze(null),i=xs();try{const s=Ge(),o=s[1],a=s[i],l=i+1,c=g8(s,l);if(void 0===a.liveCollection){const d=Gj(o,l);a.liveCollection=new Eze(c,s,d)}else a.liveCollection.reset();const u=a.liveCollection;if(function yze(t,n,i){let s,o,a=0,l=t.length-1;if(Array.isArray(n)){let u=n.length-1;for(;a<=l&&a<=u;){const d=t.at(a),p=n[a],f=qj(a,d,a,p,i);if(0!==f){f<0&&t.updateValue(a,p),a++;continue}const h=t.at(l),m=n[u],y=qj(l,h,u,m,i);if(0!==y){y<0&&t.updateValue(l,m),l--,u--;continue}const E=i(a,d),_=i(l,h),S=i(a,p);if(Object.is(S,_)){const v=i(u,m);Object.is(v,E)?(t.swap(a,l),t.updateValue(l,m),u--,l--):t.move(l,a),t.updateValue(a,p),a++}else if(s??=new vle,o??=yle(t,a,l,i),Wj(t,s,a,S))t.updateValue(a,p),a++,l++;else if(o.has(S))s.set(E,t.detach(a)),l--;else{const v=t.create(a,n[a]);t.attach(a,v),a++,l++}}for(;a<=u;)gle(t,s,i,a,n[a]),a++}else if(null!=n){const u=n[Symbol.iterator]();let d=u.next();for(;!d.done&&a<=l;){const p=t.at(a),f=d.value,h=qj(a,p,a,f,i);if(0!==h)h<0&&t.updateValue(a,f),a++,d=u.next();else{s??=new vle,o??=yle(t,a,l,i);const m=i(a,f);if(Wj(t,s,a,m))t.updateValue(a,f),a++,l++,d=u.next();else if(o.has(m)){const y=i(a,p);s.set(y,t.detach(a)),l--}else t.attach(a,t.create(a,f)),a++,l++,d=u.next()}}for(;!d.done;)gle(t,s,i,t.length,d.value),d=u.next()}for(;a<=l;)t.destroy(t.detach(l--));s?.forEach(u=>{t.destroy(u)})}(u,t,a.trackByFn),u.updateIndexes(),a.hasEmptyBlock){const d=ql(),p=0===u.length;if(ko(s,d,p)){const f=i+2,h=g8(s,f);if(p){const m=Gj(o,f),y=null;sx(h,nx(s,m,void 0,{dehydratedView:y}),0,nb(m,y))}else KV(h,0)}}}finally{ze(n)}}function g8(t,n){return t[n]}function Gj(t,n){return Wp(t,n)}function ce(t,n,i,s){const o=Ge(),a=Cr(),l=26+t,c=o[11],u=a.firstCreatePass?Foe(l,a,o,n,RV,lE(),i,s):a.data[l],d=ble(a,o,u,c,n,t);o[l]=d;const p=tE(u);return fo(u,!0),Nse(c,d,u),!t1(u)&&Nd()&&zM(a,o,d,u),(0===function JD(){return Mr.lFrame.elementDepthCount}()||p)&&Yl(d,o),function ek(){Mr.lFrame.elementDepthCount++}(),p&&(VM(a,o,u),VC(a,u,o)),null!==s&&IV(o,u),ce}function de(){let t=Zr();B4()?function Ag(){Mr.lFrame.isParent=!1}():(t=t.parent,fo(t,!1));const n=t;(function N4(t){return Mr.skipHydrationRootTNode===t})(n)&&function F4(){Mr.skipHydrationRootTNode=null}(),function YB(){Mr.lFrame.elementDepthCount--}();const i=Cr();return i.firstCreatePass&&Boe(i,n),null!=n.classesWithoutHost&&function n$(t){return!!(8&t.flags)}(n)&&Hj(i,n,Ge(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function lk(t){return!!(16&t.flags)}(n)&&Hj(i,n,Ge(),n.stylesWithoutHost,!1),de}function cn(t,n,i,s){return ce(t,n,i,s),de(),cn}let ble=(t,n,i,s,o,a)=>(Gl(!0),FM(s,o,function ak(){return Mr.lFrame.currentNamespace}()));function Un(){return Ge()}const y8="en-US";let Ole=y8;function Ule(t,n,i){return function s(o){if(o===Function)return i;WC(Wu(t)?Xo(t.index,n):n,5);const l=n[8];let c=qle(n,l,i,o),u=s.__ngNextListenerFn__;for(;u;)c=qle(n,l,u,o)&&c,u=u.__ngNextListenerFn__;return c}}function qle(t,n,i,s){const o=ze(null);try{return!1!==i(s)}catch(a){return function bHe(t,n){const i=t[9],s=i?i.get(Qu,null):null;s&&s.handleError(n)}(t,a),!1}finally{ze(o)}}function Wle(t,n,i,s,o,a){const c=n[1],p=n[i][c.data[i].outputs[s]],f=c.firstCreatePass?Tv(c):null,h=I4(n),m=p.subscribe(a),y=h.length;h.push(a,m),f&&f.push(o,t.index,y,-(y+1))}function qt(t,n,i,s){const o=Ge(),a=Cr(),l=Zr();return Zj(a,o,o[11],l,t,n,s),qt}function Zj(t,n,i,s,o,a,l){const c=tE(s),d=t.firstCreatePass?Tv(t):null,p=I4(n);let f=!0;if(3&s.type||l){const h=Cl(s,n),m=l?l(h):h,y=p.length,E=l?S=>l(kr(S[s.index])):s.index;let _=null;if(!l&&c&&(_=function _He(t,n,i,s){const o=t.cleanup;if(null!=o)for(let a=0;a<o.length-1;a+=2){const l=o[a];if(l===i&&o[a+1]===s){const c=n[7],u=o[a+2];return c.length>u?c[u]:null}"string"==typeof l&&(a+=2)}return null}(t,n,o,s.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=a,_.__ngLastListenerFn__=a,f=!1;else{a=Ule(s,n,a);const S=i.listen(m,o,a);p.push(a,S),d&&d.push(o,E,y,y+1)}}else a=Ule(s,n,a);if(f){const h=s.outputs?.[o],m=s.hostDirectiveOutputs?.[o];if(m&&m.length)for(let y=0;y<m.length;y+=2)Wle(s,n,m[y],m[y+1],o,a);if(h&&h.length)for(const y of h)Wle(s,n,y,o,o,a)}}function ot(t=1){return function Wl(t){return(Mr.lFrame.contextLView=function sE(t,n){for(;t>0;)n=n[14],t--;return n}(t,Mr.lFrame.contextLView))[8]}(t)}function gS(t,n,i){return Ox(t,"",n,"",i),gS}function Ox(t,n,i,s,o){const a=Ge(),l=mx(a,n,i,s);return l!==Wr&&fu(Cr(),ns(),a,t,l,a[11],o,!1),Ox}function Zl(t,n,i){Yoe(t,n,i)}function Jl(t){const n=Ge(),i=Cr(),s=pE();Rg(s+1);const o=bj(i,s);if(t.dirty&&function XD(t){return!(4&~t[2])}(n)===!(2&~o.metadata.flags)){if(null===o.matches)t.reset([]);else{const a=Zoe(n,s);t.reset(a,Rk),t.notifyOnChanges()}return!0}return!1}function ec(){return function vj(t,n){return t[18].queries[n].queryList}(Ge(),pE())}function je(t,n=""){const i=Ge(),s=Cr(),o=t+26,a=s.firstCreatePass?ox(s,o,1,n,null):s.data[o],l=fce(s,i,a,n,t);i[o]=l,Nd()&&zM(s,i,l,a),fo(a,!1)}let fce=(t,n,i,s,o)=>(Gl(!0),function TV(t,n){return t.createText(n)}(n[11],s));function hh(t){return Qo("",t,""),hh}function Qo(t,n,i){const s=Ge(),o=mx(s,t,n,i);return o!==Wr&&K0(s,xs(),o),Qo}function Tx(t,n,i,s,o){const a=Ge(),l=function gx(t,n,i,s,o,a){const c=lb(t,cu(),i,o);return Id(2),c?n+Dr(i)+s+Dr(o)+a:Wr}(a,t,n,i,s,o);return l!==Wr&&K0(a,xs(),l),Tx}function ez(t,n,i,s,o,a,l){const c=Ge(),u=yx(c,t,n,i,s,o,a,l);return u!==Wr&&K0(c,xs(),u),ez}function tz(t,n,i,s,o,a,l,c,u){const d=Ge(),p=function vx(t,n,i,s,o,a,l,c,u,d){const f=zd(t,cu(),i,o,l,u);return Id(4),f?n+Dr(i)+s+Dr(o)+a+Dr(l)+c+Dr(u)+d:Wr}(d,t,n,i,s,o,a,l,c,u);return p!==Wr&&K0(d,xs(),p),tz}function nz(t,n,i,s,o,a,l,c,u,d,p){const f=Ge(),h=function bx(t,n,i,s,o,a,l,c,u,d,p,f){const h=cu();let m=zd(t,h,i,o,l,u);return m=ko(t,h+4,p)||m,Id(5),m?n+Dr(i)+s+Dr(o)+a+Dr(l)+c+Dr(u)+d+Dr(p)+f:Wr}(f,t,n,i,s,o,a,l,c,u,d,p);return h!==Wr&&K0(f,xs(),h),nz}function K0(t,n,i){const s=Pg(n,t);!function Mse(t,n,i){t.setValue(n,i)}(t[11],s,i)}function pr(t,n,i){iC(n)&&(n=n());const s=Ge();return ko(s,ql(),n)&&fu(Cr(),ns(),s,t,n,s[11],i,!1),pr}function mr(t,n){const i=iC(t);return i&&t.set(n),i}function fr(t,n){const i=Ge(),s=Cr(),o=Zr();return Zj(s,i,i[11],o,t,n),fr}function rz(t,n,i,s,o){if(t=Pr(t),Array.isArray(t))for(let a=0;a<t.length;a++)rz(t[a],n,i,s,o);else{const a=Cr(),l=Ge(),c=Zr();let u=C0(t)?t:Pr(t.provide);const d=Kf(t),p=1048575&c.providerIndexes,f=c.directiveStart,h=c.providerIndexes>>20;if(C0(t)||!t.multi){const m=new Fg(d,o,Ut),y=sz(u,n,o?p:p+h,f);-1===y?(xE(Iv(c,l),a,u),iz(a,t,n.length),n.push(u),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),i.push(m),l.push(m)):(i[y]=m,l[y]=m)}else{const m=sz(u,n,p+h,f),y=sz(u,n,p,p+h),_=y>=0&&i[y];if(o&&!_||!o&&!(m>=0&&i[m])){xE(Iv(c,l),a,u);const S=function GHe(t,n,i,s,o){const a=new Fg(t,i,Ut);return a.multi=[],a.index=n,a.componentProviders=0,_ce(a,o,s&&!i),a}(o?WHe:qHe,i.length,o,s,d);!o&&_&&(i[y].providerFactory=S),iz(a,t,n.length,0),n.push(u),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),i.push(S),l.push(S)}else iz(a,t,m>-1?m:y,_ce(i[o?y:m],d,!o&&s));!o&&s&&_&&i[y].componentProviders++}}}function iz(t,n,i,s){const o=C0(n),a=function FB(t){return!!t.useClass}(n);if(o||a){const u=(a?Pr(n.useClass):n).prototype.ngOnDestroy;if(u){const d=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){const p=d.indexOf(i);-1===p?d.push(i,[s,u]):d[p+1].push(s,u)}else d.push(i,u)}}}function _ce(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function sz(t,n,i,s){for(let o=i;o<s;o++)if(n[o]===t)return o;return-1}function qHe(t,n,i,s){return oz(this.multi,[])}function WHe(t,n,i,s){const o=this.multi;let a;if(this.providerFactory){const l=this.providerFactory.componentProviders,c=F0(i,i[1],this.providerFactory.index,s);a=c.slice(0,l),oz(o,a);for(let u=l;u<c.length;u++)a.push(c[u])}else a=[],oz(o,a);return a}function oz(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function ho(t,n=[]){return i=>{i.providersResolver=(s,o)=>function UHe(t,n,i){const s=Cr();if(s.firstCreatePass){const o=Js(t);rz(i,s.data,s.blueprint,o,!0),rz(n,s.data,s.blueprint,o,!1)}}(s,o?o(t):t,n)}}function xce(t,n,i,s,o,a){const l=n+i;return ko(t,l,o)?function dh(t,n,i){return t[n]=i}(t,l+1,a?s.call(a,o):s(o)):function yS(t,n){const i=t[n];return i===Wr?void 0:i}(t,l+1)}function Px(t,n){const i=Cr();let s;const o=t+26;i.firstCreatePass?(s=function aUe(t,n){if(n)for(let i=n.length-1;i>=0;i--){const s=n[i];if(t===s.name)return s}}(n,i.pipeRegistry),i.data[o]=s,s.onDestroy&&(i.destroyHooks??=[]).push(o,s.onDestroy)):s=i.data[o];const a=s.factory||(s.factory=Hf(s.type)),c=Aa(Ut);try{const u=Kp(!1),d=a();return Kp(u),function Jj(t,n,i,s){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=s}(i,Ge(),o,d),d}finally{Aa(c)}}function Dx(t,n,i){const s=t+26,o=Ge(),a=function k0(t,n){return t[n]}(o,s);return function vS(t,n){return t[1].data[n].pure}(o,s)?xce(o,function Ya(){const t=Mr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,a.transform,i,a):a.transform(i)}let zUe=(()=>{class t{zone=on(Wi);changeDetectionScheduler=on(Xp);applicationRef=on(Hd);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(s){return new(s||t)};static \u0275prov=Nr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dz({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:i}){return t??=()=>new Wi({...pz(),scheduleInRootZone:i}),[{provide:Wi,useFactory:t},{provide:Ue,multi:!0,useFactory:()=>{const s=on(zUe,{optional:!0});return()=>s.initialize()}},{provide:Ue,multi:!0,useFactory:()=>{const s=on(UUe);return()=>{s.initialize()}}},!0===n?{provide:J4,useValue:!0}:[],{provide:eC,useValue:i??Ok}]}function pz(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let UUe=(()=>{class t{subscription=new Wa;initialized=!1;zone=on(Wi);pendingTasks=on(Qp);initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Wi.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Wi.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(s){return new(s||t)};static \u0275prov=Nr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_S=(()=>{class t{appRef=on(Hd);taskService=on(Qp);ngZone=on(Wi);zonelessEnabled=on(zg);tracing=on(ps,{optional:!0});disableScheduling=on(J4,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Wa;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Sl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(on(eC,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof rC||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&5===i)return;let s=!1;switch(i){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,s=!0;break;case 12:this.appRef.dirtyFlags|=16,s=!0;break;case 11:s=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(s))return;const o=this.useMicrotaskScheduler?kk:Dk;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(i){return!(this.disableScheduling&&!i||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Sl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,kk(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static \u0275fac=function(s){return new(s||t)};static \u0275prov=Nr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const o1=new bn("",{providedIn:"root",factory:()=>on(o1,yi.Optional|yi.SkipSelf)||function qUe(){return typeof $localize<"u"&&$localize.locale||y8}()}),C8=new bn(""),QUe=new bn("");function ES(t){return!t.moduleRef}let Xce=(()=>{class t{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(i){this._injector=i}bootstrapModuleFactory(i,s){const o=s?.scheduleInRootZone,l=s?.ignoreChangesOutsideZone,c=[dz({ngZoneFactory:()=>function b$(t="zone.js",n){return"noop"===t?new rC:"zone.js"===t?new Wi(n):t}(s?.ngZone,{...pz({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}),scheduleInRootZone:o}),ignoreChangesOutsideZone:l}),{provide:Xp,useExisting:_S}],u=function R$e(t,n,i){return new xj(t,n,i,!1)}(i.moduleType,this.injector,c);return function Yce(t){const n=ES(t)?t.r3Injector:t.moduleRef.injector,i=n.get(Wi);return i.run(()=>{ES(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const s=n.get(Qu,null);let o;if(i.runOutsideAngular(()=>{o=i.onError.subscribe({next:a=>{s.handleError(a)}})}),ES(t)){const a=()=>n.destroy(),l=t.platformInjector.get(C8);l.add(a),n.onDestroy(()=>{o.unsubscribe(),l.delete(a)})}else{const a=()=>t.moduleRef.destroy(),l=t.platformInjector.get(C8);l.add(a),t.moduleRef.onDestroy(()=>{c8(t.allPlatformModules,t.moduleRef),o.unsubscribe(),l.delete(a)})}return function JUe(t,n,i){try{const s=i();return a8(s)?s.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):s}catch(s){throw n.runOutsideAngular(()=>t.handleError(s)),s}}(s,i,()=>{const a=n.get(Lae);return a.runInitializers(),a.donePromise.then(()=>{if(function Nze(t){"string"==typeof t&&(Ole=t.toLowerCase().replace(/_/g,"-"))}(n.get(o1,y8)||y8),!n.get(QUe,!0))return ES(t)?n.get(Hd):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ES(t)){const u=n.get(Hd);return void 0!==t.rootComponent&&u.bootstrap(t.rootComponent),u}return function ZUe(t,n){const i=t.injector.get(Hd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!t.instance.ngDoBootstrap)throw new $t(-403,!1);t.instance.ngDoBootstrap(i)}n.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({moduleRef:u,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(i,s=[]){const o=Bae({},s);return function jUe(t,n,i){const s=new wj(i);return Promise.resolve(s)}(0,0,i).then(a=>this.bootstrapModuleFactory(a,o))}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $t(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const i=this._injector.get(C8,null);i&&(i.forEach(s=>s()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(s){return new(s||t)(sr(Ra))};static \u0275prov=Nr({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),a1=null;const Qce=new bn("");function Zce(t,n,i=[]){const s=`Platform: ${n}`,o=new bn(s);return(a=[])=>{let l=hz();if(!l||l.injector.get(Qce,!1)){const c=[...i,...a,{provide:o,useValue:!0}];t?t(c):function eqe(t){if(a1&&!a1.get(Qce,!1))throw new $t(400,!1);(function Fae(){!function Ni(t){Kn=t}(()=>{throw new $t(600,!1)})})(),a1=t;const n=t.get(Xce);(function eue(t){const n=t.get(hC,null);_v(t,()=>{n?.forEach(i=>i())})})(t)}(function Jce(t=[],n){return Ra.create({name:n,providers:[{provide:yg,useValue:"platform"},{provide:C8,useValue:new Set([()=>a1=null])},...t]})}(c,s))}return function tqe(){const n=hz();if(!n)throw new $t(401,!1);return n}()}}function hz(){return a1?.get(Xce)??null}let S8=(()=>class t{static __NG_ELEMENT_ID__=rqe})();function rqe(t){return function iqe(t,n,i){if(Wu(t)&&!i){const s=Xo(t.index,n);return new KC(s,s)}return 175&t.type?new KC(n[15],n):null}(Zr(),Ge(),!(16&~t))}class sue{constructor(){}supports(n){return t8(n)}create(n){return new cqe(n)}}const lqe=(t,n)=>n;class cqe{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||lqe}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,o=0,a=null;for(;i||s;){const l=!s||i&&i.currentIndex<aue(s,o,a)?i:s,c=aue(l,o,a),u=l.currentIndex;if(l===s)o--,s=s._nextRemoved;else if(i=i._next,null==l.previousIndex)o++;else{a||(a=[]);const d=c-o,p=u-o;if(d!=p){for(let h=0;h<d;h++){const m=h<a.length?a[h]:a[h]=0,y=m+h;p<=y&&y<d&&(a[h]=m+1)}a[l.previousIndex]=p-d}}c!==u&&n(l,c,u)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!t8(n))throw new $t(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,a,l,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let c=0;c<this.length;c++)a=n[c],l=this._trackByFn(c,a),null!==i&&Object.is(i.trackById,l)?(s&&(i=this._verifyReinsertion(i,a,l,c)),Object.is(i.item,a)||this._addIdentityChange(i,a)):(i=this._mismatch(i,a,l,c),s=!0),i=i._next}else o=0,function J$e(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,c=>{l=this._trackByFn(o,c),null!==i&&Object.is(i.trackById,l)?(s&&(i=this._verifyReinsertion(i,c,l,o)),Object.is(i.item,c)||this._addIdentityChange(i,c)):(i=this._mismatch(i,c,l,o),s=!0),i=i._next,o++}),this.length=o;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,o){let a;return null===n?a=this._itTail:(a=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,a,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,o))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,a,o)):n=this._addAfter(new uqe(i,s),a,o),n}_verifyReinsertion(n,i,s,o){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==a?n=this._reinsertAfter(a,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,a=n._nextRemoved;return null===o?this._removalsHead=a:o._nextRemoved=a,null===a?this._removalsTail=o:a._prevRemoved=o,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const o=null===i?this._itHead:i._next;return n._next=o,n._prev=i,null===o?this._itTail=n:o._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new oue),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oue),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class uqe{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,i){this.item=n,this.trackById=i}}class dqe{_head=null;_tail=null;add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class oue{map=new Map;put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new dqe,this.map.set(i,s)),s.add(n)}get(n,i){const o=this.map.get(n);return o?o.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aue(t,n,i){const s=t.previousIndex;if(null===s)return s;let o=0;return i&&s<i.length&&(o=i[s]),s+n+o}class lue{constructor(){}supports(n){return n instanceof Map||Oj(n)}create(){return new pqe}}class pqe{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Oj(n)))throw new $t(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,o)=>{if(i&&i.key===o)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const a=this._getOrCreateRecordForKey(o,s);i=this._insertBeforeOrAppend(i,a)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const o=this._records.get(n);this._maybeAddToChanges(o,i);const a=o._prev,l=o._next;return a&&(a._next=l),l&&(l._prev=a),o._next=null,o._prev=null,o}const s=new fqe(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class fqe{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}}function cue(){return new vz([new sue])}let vz=(()=>{class t{factories;static \u0275prov=Nr({token:t,providedIn:"root",factory:cue});constructor(i){this.factories=i}static create(i,s){if(null!=s){const o=s.factories.slice();i=i.concat(o)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||cue()),deps:[[t,new g4,new zf]]}}find(i){const s=this.factories.find(o=>o.supports(i));if(null!=s)return s;throw new $t(901,!1)}}return t})();function uue(){return new P8([new lue])}let P8=(()=>{class t{static \u0275prov=Nr({token:t,providedIn:"root",factory:uue});factories;constructor(i){this.factories=i}static create(i,s){if(s){const o=s.factories.slice();i=i.concat(o)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||uue()),deps:[[t,new g4,new zf]]}}find(i){const s=this.factories.find(o=>o.supports(i));if(s)return s;throw new $t(901,!1)}}return t})();const gqe=Zce(null,"core",[]);let yqe=(()=>{class t{constructor(i){}static \u0275fac=function(s){return new(s||t)(sr(Hd))};static \u0275mod=ab({type:t});static \u0275inj=$f({})}return t})();function ga(t){return function tB(t){const n=ze(null);try{return t()}finally{ze(n)}}(t)}function Y0(t,n){return function oa(t,n){const i=Object.create(Hn);i.computation=t,void 0!==n&&(i.equal=n);const s=()=>{if(dn(i),_t(i),i.value===Fn)throw i.error;return i.value};return s[ue]=i,s}(t,n?.equal)}let kue=null;function wS(){return kue}class oWe{}function Mue(t,n){n=encodeURIComponent(n);for(const i of t.split(";")){const s=i.indexOf("="),[o,a]=-1==s?[i,""]:[i.slice(0,s),i.slice(s+1)];if(o.trim()===n)return decodeURIComponent(a)}return null}function Iue(t){return"server"===t}class Rue{}const l1=new bn(""),Az=/\s+/,Hue=[];let fb=(()=>{class t{_ngEl;_renderer;initialClasses=Hue;rawClass;stateMap=new Map;constructor(i,s){this._ngEl=i,this._renderer=s}set klass(i){this.initialClasses=null!=i?i.trim().split(Az):Hue}set ngClass(i){this.rawClass="string"==typeof i?i.trim().split(Az):i}ngDoCheck(){for(const s of this.initialClasses)this._updateState(s,!0);const i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(const s of i)this._updateState(s,!0);else if(null!=i)for(const s of Object.keys(i))this._updateState(s,!!i[s]);this._applyStateDiff()}_updateState(i,s){const o=this.stateMap.get(i);void 0!==o?(o.enabled!==s&&(o.changed=!0,o.enabled=s),o.touched=!0):this.stateMap.set(i,{enabled:s,changed:!0,touched:!0})}_applyStateDiff(){for(const i of this.stateMap){const s=i[0],o=i[1];o.changed?(this._toggleClass(s,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(s,!1),this.stateMap.delete(s)),o.touched=!1}}_toggleClass(i,s){(i=i.trim()).length>0&&i.split(Az).forEach(o=>{s?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(s){return new(s||t)(Ut(Zu),Ut(sb))};static \u0275dir=Kr({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();class KWe{$implicit;ngForOf;index;count;constructor(n,i,s,o){this.$implicit=n,this.ngForOf=i,this.index=s,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Q0=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(i,s,o){this._viewContainer=i,this._template=s,this._differs=o}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const s=this._viewContainer;i.forEachOperation((o,a,l)=>{if(null==o.previousIndex)s.createEmbeddedView(this._template,new KWe(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)s.remove(null===a?void 0:a);else if(null!==a){const c=s.get(a);s.move(c,l),que(c,o)}});for(let o=0,a=s.length;o<a;o++){const c=s.get(o).context;c.index=o,c.count=a,c.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{que(s.get(o.currentIndex),o)})}static ngTemplateContextGuard(i,s){return!0}static \u0275fac=function(s){return new(s||t)(Ut(uh),Ut(W0),Ut(vz))};static \u0275dir=Kr({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function que(t,n){t.context.$implicit=n.item}let U8=(()=>{class t{_viewContainer;_context=new YWe;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(i,s){this._viewContainer=i,this._thenTemplateRef=s}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Wue(i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Wue(i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(i,s){return!0}static \u0275fac=function(s){return new(s||t)(Ut(uh),Ut(W0))};static \u0275dir=Kr({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})();class YWe{$implicit=null;ngIf=null}function Wue(t,n){if(t&&!t.createEmbeddedView)throw new $t(2020,!1)}let q8=(()=>{class t{differs;constructor(i){this.differs=i}differ;keyValues=[];compareFn=Kue;transform(i,s=Kue){if(!i||!(i instanceof Map)&&"object"!=typeof i)return null;this.differ??=this.differs.find(i).create();const o=this.differ.diff(i),a=s!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(l=>{this.keyValues.push(function mGe(t,n){return{key:t,value:n}}(l.key,l.currentValue))})),(o||a)&&(s&&this.keyValues.sort(s),this.compareFn=s),this.keyValues}static \u0275fac=function(s){return new(s||t)(Ut(P8,16))};static \u0275pipe=hu({name:"keyvalue",type:t,pure:!1})}return t})();function Kue(t,n){const i=t.key,s=n.key;if(i===s)return 0;if(null==i)return 1;if(null==s)return-1;if("string"==typeof i&&"string"==typeof s)return i<s?-1:1;if("number"==typeof i&&"number"==typeof s)return i-s;if("boolean"==typeof i&&"boolean"==typeof s)return i<s?-1:1;const o=String(i),a=String(s);return o==a?0:o<a?-1:1}let bGe=(()=>{class t{static \u0275fac=function(s){return new(s||t)};static \u0275mod=ab({type:t});static \u0275inj=$f({})}return t})();const Fz=new bn("");let Yue=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(i,s){this._zone=s,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,s,o,a){return this._findPluginFor(s).addEventListener(i,s,o,a)}getZone(){return this._zone}_findPluginFor(i){let s=this._eventNameToPlugin.get(i);if(s)return s;if(s=this._plugins.find(a=>a.supports(i)),!s)throw new $t(5101,!1);return this._eventNameToPlugin.set(i,s),s}static \u0275fac=function(s){return new(s||t)(sr(Fz),sr(Wi))};static \u0275prov=Nr({token:t,factory:t.\u0275fac})}return t})();class Xue{_doc;constructor(n){this._doc=n}manager}const W8="ng-app-id";function Que(t){for(const n of t)n.remove()}function Zue(t,n){const i=n.createElement("style");return i.textContent=t,i}function Bz(t,n){const i=n.createElement("link");return i.setAttribute("rel","stylesheet"),i.setAttribute("href",t),i}let Jue=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(i,s,o,a={}){this.doc=i,this.appId=s,this.nonce=o,this.isServer=Iue(a),function _Ge(t,n,i,s){const o=t.head?.querySelectorAll(`style[${W8}="${n}"],link[${W8}="${n}"]`);if(o)for(const a of o)a.removeAttribute(W8),a instanceof HTMLLinkElement?s.set(a.href.slice(a.href.lastIndexOf("/")+1),{usage:0,elements:[a]}):a.textContent&&i.set(a.textContent,{usage:0,elements:[a]})}(i,s,this.inline,this.external),this.hosts.add(i.head)}addStyles(i,s){for(const o of i)this.addUsage(o,this.inline,Zue);s?.forEach(o=>this.addUsage(o,this.external,Bz))}removeStyles(i,s){for(const o of i)this.removeUsage(o,this.inline);s?.forEach(o=>this.removeUsage(o,this.external))}addUsage(i,s,o){const a=s.get(i);a?a.usage++:s.set(i,{usage:1,elements:[...this.hosts].map(l=>this.addElement(l,o(i,this.doc)))})}removeUsage(i,s){const o=s.get(i);o&&(o.usage--,o.usage<=0&&(Que(o.elements),s.delete(i)))}ngOnDestroy(){for(const[,{elements:i}]of[...this.inline,...this.external])Que(i);this.hosts.clear()}addHost(i){this.hosts.add(i);for(const[s,{elements:o}]of this.inline)o.push(this.addElement(i,Zue(s,this.doc)));for(const[s,{elements:o}]of this.external)o.push(this.addElement(i,Bz(s,this.doc)))}removeHost(i){this.hosts.delete(i)}addElement(i,s){return this.nonce&&s.setAttribute("nonce",this.nonce),this.isServer&&s.setAttribute(W8,this.appId),i.appendChild(s)}static \u0275fac=function(s){return new(s||t)(sr(l1),sr($d),sr(nM,8),sr(AE))};static \u0275prov=Nr({token:t,factory:t.\u0275fac})}return t})();const $z={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vz=/%COMP%/g,OGe=new bn("",{providedIn:"root",factory:()=>!0});function tde(t,n){return n.map(i=>i.replace(Vz,t))}let nde=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(i,s,o,a,l,c,u,d=null,p=null){this.eventManager=i,this.sharedStylesHost=s,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=l,this.platformId=c,this.ngZone=u,this.nonce=d,this.tracingService=p,this.platformIsServer=Iue(c),this.defaultRenderer=new jz(i,l,u,this.platformIsServer,this.tracingService)}createRenderer(i,s){if(!i||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===du.ShadowDom&&(s={...s,encapsulation:du.Emulated});const o=this.getOrCreateRenderer(i,s);return o instanceof ide?o.applyToHost(i):o instanceof zz&&o.applyStyles(),o}getOrCreateRenderer(i,s){const o=this.rendererByCompId;let a=o.get(s.id);if(!a){const l=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,f=this.platformIsServer,h=this.tracingService;switch(s.encapsulation){case du.Emulated:a=new ide(u,d,s,this.appId,p,l,c,f,h);break;case du.ShadowDom:return new kGe(u,d,i,s,l,c,this.nonce,f,h);default:a=new zz(u,d,s,p,l,c,f,h)}o.set(s.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(i){this.rendererByCompId.delete(i)}static \u0275fac=function(s){return new(s||t)(sr(Yue),sr(Jue),sr($d),sr(OGe),sr(l1),sr(AE),sr(Wi),sr(nM),sr(ps,8))};static \u0275prov=Nr({token:t,factory:t.\u0275fac})}return t})();class jz{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,i,s,o,a){this.eventManager=n,this.doc=i,this.ngZone=s,this.platformIsServer=o,this.tracingService=a}destroy(){}destroyNode=null;createElement(n,i){return i?this.doc.createElementNS($z[i]||i,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,i){(rde(n)?n.content:n).appendChild(i)}insertBefore(n,i,s){n&&(rde(n)?n.content:n).insertBefore(i,s)}removeChild(n,i){i.remove()}selectRootElement(n,i){let s="string"==typeof n?this.doc.querySelector(n):n;if(!s)throw new $t(-5104,!1);return i||(s.textContent=""),s}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,i,s,o){if(o){i=o+":"+i;const a=$z[o];a?n.setAttributeNS(a,i,s):n.setAttribute(i,s)}else n.setAttribute(i,s)}removeAttribute(n,i,s){if(s){const o=$z[s];o?n.removeAttributeNS(o,i):n.removeAttribute(`${s}:${i}`)}else n.removeAttribute(i)}addClass(n,i){n.classList.add(i)}removeClass(n,i){n.classList.remove(i)}setStyle(n,i,s,o){o&(e1.DashCase|e1.Important)?n.style.setProperty(i,s,o&e1.Important?"important":""):n.style[i]=s}removeStyle(n,i,s){s&e1.DashCase?n.style.removeProperty(i):n.style[i]=""}setProperty(n,i,s){null!=n&&(n[i]=s)}setValue(n,i){n.nodeValue=i}listen(n,i,s,o){if("string"==typeof n&&!(n=wS().getGlobalEventTarget(this.doc,n)))throw new $t(5102,!1);let a=this.decoratePreventDefault(s);return this.tracingService?.wrapEventListener&&(a=this.tracingService.wrapEventListener(n,i,a)),this.eventManager.addEventListener(n,i,a,o)}decoratePreventDefault(n){return i=>{if("__ngUnwrap__"===i)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(i)):n(i))&&i.preventDefault()}}}function rde(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class kGe extends jz{sharedStylesHost;hostEl;shadowRoot;constructor(n,i,s,o,a,l,c,u,d){super(n,a,l,u,d),this.sharedStylesHost=i,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=o.styles;p=tde(o.id,p);for(const h of p){const m=document.createElement("style");c&&m.setAttribute("nonce",c),m.textContent=h,this.shadowRoot.appendChild(m)}const f=o.getExternalStyles?.();if(f)for(const h of f){const m=Bz(h,a);c&&m.setAttribute("nonce",c),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,i){return super.appendChild(this.nodeOrShadowRoot(n),i)}insertBefore(n,i,s){return super.insertBefore(this.nodeOrShadowRoot(n),i,s)}removeChild(n,i){return super.removeChild(null,i)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zz extends jz{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,i,s,o,a,l,c,u,d){super(n,a,l,c,u),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=o;let p=s.styles;this.styles=d?tde(d,p):p,this.styleUrls=s.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class ide extends zz{contentAttr;hostAttr;constructor(n,i,s,o,a,l,c,u,d){const p=o+"-"+s.id;super(n,i,s,a,l,c,u,d,p),this.contentAttr=function TGe(t){return"_ngcontent-%COMP%".replace(Vz,t)}(p),this.hostAttr=function PGe(t){return"_nghost-%COMP%".replace(Vz,t)}(p)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,i){const s=super.createElement(n,i);return super.setAttribute(s,this.contentAttr,""),s}}class Hz extends oWe{supportsDOMEvents=!0;static makeCurrent(){!function sWe(t){kue??=t}(new Hz)}onAndCancel(n,i,s,o){return n.addEventListener(i,s,o),()=>{n.removeEventListener(i,s,o)}}dispatchEvent(n,i){n.dispatchEvent(i)}remove(n){n.remove()}createElement(n,i){return(i=i||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,i){return"window"===i?window:"document"===i?n:"body"===i?n.body:null}getBaseHref(n){const i=function MGe(){return SS=SS||document.querySelector("base"),SS?SS.getAttribute("href"):null}();return null==i?null:function AGe(t){return new URL(t,document.baseURI).pathname}(i)}resetBaseElement(){SS=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Mue(document.cookie,n)}}let SS=null,RGe=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(s){return new(s||t)};static \u0275prov=Nr({token:t,factory:t.\u0275fac})}return t})(),NGe=(()=>{class t extends Xue{constructor(i){super(i)}supports(i){return!0}addEventListener(i,s,o,a){return i.addEventListener(s,o,a),()=>this.removeEventListener(i,s,o,a)}removeEventListener(i,s,o,a){return i.removeEventListener(s,o,a)}static \u0275fac=function(s){return new(s||t)(sr(l1))};static \u0275prov=Nr({token:t,factory:t.\u0275fac})}return t})();const sde=["alt","control","meta","shift"],LGe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FGe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let BGe=(()=>{class t extends Xue{constructor(i){super(i)}supports(i){return null!=t.parseEventName(i)}addEventListener(i,s,o,a){const l=t.parseEventName(s),c=t.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wS().onAndCancel(i,l.domEventName,c,a))}static parseEventName(i){const s=i.toLowerCase().split("."),o=s.shift();if(0===s.length||"keydown"!==o&&"keyup"!==o)return null;const a=t._normalizeKey(s.pop());let l="",c=s.indexOf("code");if(c>-1&&(s.splice(c,1),l="code."),sde.forEach(d=>{const p=s.indexOf(d);p>-1&&(s.splice(p,1),l+=d+".")}),l+=a,0!=s.length||0===a.length)return null;const u={};return u.domEventName=o,u.fullKey=l,u}static matchEventFullKeyCode(i,s){let o=LGe[i.key]||i.key,a="";return s.indexOf("code.")>-1&&(o=i.code,a="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),sde.forEach(l=>{l!==o&&(0,FGe[l])(i)&&(a+=l+".")}),a+=o,a===s)}static eventCallback(i,s,o){return a=>{t.matchEventFullKeyCode(a,i)&&o.runGuarded(()=>s(a))}}static _normalizeKey(i){return"esc"===i?"escape":i}static \u0275fac=function(s){return new(s||t)(sr(l1))};static \u0275prov=Nr({token:t,factory:t.\u0275fac})}return t})();const zGe=Zce(gqe,"browser",[{provide:AE,useValue:"browser"},{provide:hC,useValue:function $Ge(){Hz.makeCurrent()},multi:!0},{provide:l1,useFactory:function jGe(){return function F$(t){fC=t}(document),document}}]),lde=[{provide:o8,useClass:class IGe{addToWindow(n){Vs.getAngularTestability=(s,o=!0)=>{const a=n.findTestabilityInTree(s,o);if(null==a)throw new $t(5103,!1);return a},Vs.getAllAngularTestabilities=()=>n.getAllTestabilities(),Vs.getAllAngularRootElements=()=>n.getAllRootElements(),Vs.frameworkStabilizers||(Vs.frameworkStabilizers=[]),Vs.frameworkStabilizers.push(s=>{const o=Vs.getAllAngularTestabilities();let a=o.length;const l=function(){a--,0==a&&s()};o.forEach(c=>{c.whenStable(l)})})}findTestabilityInTree(n,i,s){return null==i?null:n.getTestability(i)??(s?wS().isShadowRoot(i)?this.findTestabilityInTree(n,i.host,!0):this.findTestabilityInTree(n,i.parentElement,!0):null)}}},{provide:Iae,useClass:Aj,deps:[Wi,Ij,o8]},{provide:Aj,useClass:Aj,deps:[Wi,Ij,o8]}],cde=[{provide:yg,useValue:"root"},{provide:Qu,useFactory:function VGe(){return new Qu}},{provide:Fz,useClass:NGe,multi:!0,deps:[l1]},{provide:Fz,useClass:BGe,multi:!0,deps:[l1]},nde,Jue,Yue,{provide:oj,useExisting:nde},{provide:Rue,useClass:RGe},[]];let HGe=(()=>{class t{constructor(){}static \u0275fac=function(s){return new(s||t)};static \u0275mod=ab({type:t});static \u0275inj=$f({providers:[...cde,...lde],imports:[bGe,yqe]})}return t})();function c1(t){return this instanceof c1?(this.v=t,this):new c1(t)}function fde(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Gz(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],s=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(a){i[a]=t[a]&&function(l){return new Promise(function(c,u){!function o(a,l,c,u){Promise.resolve(u).then(function(d){a({value:d,done:c})},l)}(c,u,(l=t[a](l)).done,l.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Yz=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function hde(t){return Li(t?.then)}function mde(t){return Li(t[cv])}function gde(t){return Symbol.asyncIterator&&Li(t?.[Symbol.asyncIterator])}function yde(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const vde=function gKe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function bde(t){return Li(t?.[vde])}function _de(t){return function pde(t,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,s=i.apply(t,n||[]),a=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",function l(m){return function(y){return Promise.resolve(y).then(m,f)}}),o[Symbol.asyncIterator]=function(){return this},o;function c(m,y){s[m]&&(o[m]=function(E){return new Promise(function(_,S){a.push([m,E,_,S])>1||u(m,E)})},y&&(o[m]=y(o[m])))}function u(m,y){try{!function d(m){m.value instanceof c1?Promise.resolve(m.value.v).then(p,f):h(a[0][2],m)}(s[m](y))}catch(E){h(a[0][3],E)}}function p(m){u("next",m)}function f(m){u("throw",m)}function h(m,y){m(y),a.shift(),a.length&&u(a[0][0],a[0][1])}}(this,arguments,function*(){const i=t.getReader();try{for(;;){const{value:s,done:o}=yield c1(i.read());if(o)return yield c1(void 0);yield yield c1(s)}}finally{i.releaseLock()}})}function Ede(t){return Li(t?.getReader)}function Z0(t){if(t instanceof vl)return t;if(null!=t){if(mde(t))return function yKe(t){return new vl(n=>{const i=t[cv]();if(Li(i.subscribe))return i.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Yz(t))return function vKe(t){return new vl(n=>{for(let i=0;i<t.length&&!n.closed;i++)n.next(t[i]);n.complete()})}(t);if(hde(t))return function bKe(t){return new vl(n=>{t.then(i=>{n.closed||(n.next(i),n.complete())},i=>n.error(i)).then(null,I2)})}(t);if(gde(t))return xde(t);if(bde(t))return function _Ke(t){return new vl(n=>{for(const i of t)if(n.next(i),n.closed)return;n.complete()})}(t);if(Ede(t))return function EKe(t){return xde(_de(t))}(t)}throw yde(t)}function xde(t){return new vl(n=>{(function xKe(t,n){var i,s,o,a;return function ude(t,n,i,s){return new(i||(i=Promise))(function(a,l){function c(p){try{d(s.next(p))}catch(f){l(f)}}function u(p){try{d(s.throw(p))}catch(f){l(f)}}function d(p){p.done?a(p.value):function o(a){return a instanceof i?a:new i(function(l){l(a)})}(p.value).then(c,u)}d((s=s.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(i=fde(t);!(s=yield i.next()).done;)if(n.next(s.value),n.closed)return}catch(l){o={error:l}}finally{try{s&&!s.done&&(a=i.return)&&(yield a.call(i))}finally{if(o)throw o.error}}n.complete()})})(t,n).catch(i=>n.error(i))})}function u1(t,n,i,s=0,o=!1){const a=n.schedule(function(){i(),o?t.add(this.schedule(null,s)):this.unsubscribe()},s);if(t.add(a),!o)return a}function G8(t,n,i=1/0){return Li(n)?G8((s,o)=>Bp((a,l)=>n(s,a,o,l))(Z0(t(s,o))),i):("number"==typeof n&&(i=n),Fp((s,o)=>function wKe(t,n,i,s,o,a,l,c){const u=[];let d=0,p=0,f=!1;const h=()=>{f&&!u.length&&!d&&n.complete()},m=E=>d<s?y(E):u.push(E),y=E=>{a&&n.next(E),d++;let _=!1;Z0(i(E,p++)).subscribe(kd(n,S=>{o?.(S),a?m(S):n.next(S)},()=>{_=!0},void 0,()=>{if(_)try{for(d--;u.length&&d<s;){const S=u.shift();l?u1(n,l,()=>y(S)):y(S)}h()}catch(S){n.error(S)}}))};return t.subscribe(kd(n,m,()=>{f=!0,h()})),()=>{c?.()}}(s,o,t,i)))}function wde(t){return Fp((n,i)=>{try{n.subscribe(i)}finally{i.add(t)}})}function Cde(t,n){return Fp((i,s)=>{let o=null,a=0,l=!1;const c=()=>l&&!o&&s.complete();i.subscribe(kd(s,u=>{o?.unsubscribe();let d=0;const p=a++;Z0(t(u,p)).subscribe(o=kd(s,f=>s.next(n?n(u,f,p,d++):f),()=>{o=null,c()}))},()=>{l=!0,c()}))})}function Xz(t){return t[t.length-1]}function Sde(t,n=0){return Fp((i,s)=>{i.subscribe(kd(s,o=>u1(s,t,()=>s.next(o),n),()=>u1(s,t,()=>s.complete(),n),o=>u1(s,t,()=>s.error(o),n)))})}function Ode(t,n=0){return Fp((i,s)=>{s.add(t.schedule(()=>i.subscribe(s),n))})}function Tde(t,n){if(!t)throw new Error("Iterable cannot be null");return new vl(i=>{u1(i,n,()=>{const s=t[Symbol.asyncIterator]();u1(i,n,()=>{s.next().then(o=>{o.done?i.complete():i.next(o.value)})},0,!0)})})}function Qz(t,n){return n?function RKe(t,n){if(null!=t){if(mde(t))return function DKe(t,n){return Z0(t).pipe(Ode(n),Sde(n))}(t,n);if(Yz(t))return function MKe(t,n){return new vl(i=>{let s=0;return n.schedule(function(){s===t.length?i.complete():(i.next(t[s++]),i.closed||this.schedule())})})}(t,n);if(hde(t))return function kKe(t,n){return Z0(t).pipe(Ode(n),Sde(n))}(t,n);if(gde(t))return Tde(t,n);if(bde(t))return function AKe(t,n){return new vl(i=>{let s;return u1(i,n,()=>{s=t[vde](),u1(i,n,()=>{let o,a;try{({value:o,done:a}=s.next())}catch(l){return void i.error(l)}a?i.complete():i.next(o)},0,!0)}),()=>Li(s?.return)&&s.return()})}(t,n);if(Ede(t))return function IKe(t,n){return Tde(_de(t),n)}(t,n)}throw yde(t)}(t,n):Z0(t)}function Pde(...t){return Qz(t,function PKe(t){return function OKe(t){return t&&Li(t.schedule)}(Xz(t))?t.pop():void 0}(t))}class K8{}class Y8{}class sf{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(i=>{const s=i.indexOf(":");if(s>0){const o=i.slice(0,s),a=i.slice(s+1).trim();this.addHeaderEntry(o,a)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((i,s)=>{this.addHeaderEntry(s,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([i,s])=>{this.setHeaderEntries(i,s)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const i=this.headers.get(n.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,i){return this.clone({name:n,value:i,op:"a"})}set(n,i){return this.clone({name:n,value:i,op:"s"})}delete(n,i){return this.clone({name:n,value:i,op:"d"})}maybeSetNormalizedName(n,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,n)}init(){this.lazyInit&&(this.lazyInit instanceof sf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(i=>{this.headers.set(i,n.headers.get(i)),this.normalizedNames.set(i,n.normalizedNames.get(i))})}clone(n){const i=new sf;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof sf?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([n]),i}applyUpdate(n){const i=n.name.toLowerCase();switch(n.op){case"a":case"s":let s=n.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(n.name,i);const o=("a"===n.op?this.headers.get(i):void 0)||[];o.push(...s),this.headers.set(i,o);break;case"d":const a=n.value;if(a){let l=this.headers.get(i);if(!l)return;l=l.filter(c=>-1===a.indexOf(c)),0===l.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,l)}else this.headers.delete(i),this.normalizedNames.delete(i)}}addHeaderEntry(n,i){const s=n.toLowerCase();this.maybeSetNormalizedName(n,s),this.headers.has(s)?this.headers.get(s).push(i):this.headers.set(s,[i])}setHeaderEntries(n,i){const s=(Array.isArray(i)?i:[i]).map(a=>a.toString()),o=n.toLowerCase();this.headers.set(o,s),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>n(this.normalizedNames.get(i),this.headers.get(i)))}}class NKe{encodeKey(n){return Dde(n)}encodeValue(n){return Dde(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const FKe=/%(\d[a-f0-9])/gi,BKe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Dde(t){return encodeURIComponent(t).replace(FKe,(n,i)=>BKe[i]??n)}function X8(t){return`${t}`}class d1{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new NKe,n.fromString){if(n.fromObject)throw new $t(2805,!1);this.map=function LKe(t,n){const i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const a=o.indexOf("="),[l,c]=-1==a?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,a)),n.decodeValue(o.slice(a+1))],u=i.get(l)||[];u.push(c),i.set(l,u)}),i}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(i=>{const s=n.fromObject[i],o=Array.isArray(s)?s.map(X8):[X8(s)];this.map.set(i,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const i=this.map.get(n);return i?i[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,i){return this.clone({param:n,value:i,op:"a"})}appendAll(n){const i=[];return Object.keys(n).forEach(s=>{const o=n[s];Array.isArray(o)?o.forEach(a=>{i.push({param:s,value:a,op:"a"})}):i.push({param:s,value:o,op:"a"})}),this.clone(i)}set(n,i){return this.clone({param:n,value:i,op:"s"})}delete(n,i){return this.clone({param:n,value:i,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const i=this.encoder.encodeKey(n);return this.map.get(n).map(s=>i+"="+this.encoder.encodeValue(s)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const i=new d1({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(n),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const i=("a"===n.op?this.map.get(n.param):void 0)||[];i.push(X8(n.value)),this.map.set(n.param,i);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let s=this.map.get(n.param)||[];const o=s.indexOf(X8(n.value));-1!==o&&s.splice(o,1),s.length>0?this.map.set(n.param,s):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class $Ke{map=new Map;set(n,i){return this.map.set(n,i),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function kde(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Mde(t){return typeof Blob<"u"&&t instanceof Blob}function Ade(t){return typeof FormData<"u"&&t instanceof FormData}const OS="Content-Type",Zz="X-Request-URL",Ide="text/plain",Rde="application/json",Nde=`${Rde}, ${Ide}, */*`;class TS{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,i,s,o){let a;if(this.url=i,this.method=n.toUpperCase(),function VKe(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==s?s:null,a=o):a=s,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params),this.transferCache=a.transferCache),this.headers??=new sf,this.context??=new $Ke,this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=i;else{const c=i.indexOf("?");this.urlWithParams=i+(-1===c?"?":c<i.length-1?"&":"")+l}}else this.params=new d1,this.urlWithParams=i}serializeBody(){return null===this.body?null:"string"==typeof this.body||kde(this.body)||Mde(this.body)||Ade(this.body)||function jKe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof d1?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ade(this.body)?null:Mde(this.body)?this.body.type||null:kde(this.body)?null:"string"==typeof this.body?Ide:this.body instanceof d1?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Rde:null}clone(n={}){const i=n.method||this.method,s=n.url||this.url,o=n.responseType||this.responseType,a=n.transferCache??this.transferCache,l=void 0!==n.body?n.body:this.body,c=n.withCredentials??this.withCredentials,u=n.reportProgress??this.reportProgress;let d=n.headers||this.headers,p=n.params||this.params;const f=n.context??this.context;return void 0!==n.setHeaders&&(d=Object.keys(n.setHeaders).reduce((h,m)=>h.set(m,n.setHeaders[m]),d)),n.setParams&&(p=Object.keys(n.setParams).reduce((h,m)=>h.set(m,n.setParams[m]),p)),new TS(i,s,l,{params:p,headers:d,context:f,reportProgress:u,responseType:o,withCredentials:c,transferCache:a})}}var p1=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(p1||{});class Jz{headers;status;statusText;url;ok;type;constructor(n,i=200,s="OK"){this.headers=n.headers||new sf,this.status=void 0!==n.status?n.status:i,this.statusText=n.statusText||s,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Z8 extends Jz{constructor(n={}){super(n)}type=p1.ResponseHeader;clone(n={}){return new Z8({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class PS extends Jz{body;constructor(n={}){super(n),this.body=void 0!==n.body?n.body:null}type=p1.Response;clone(n={}){return new PS({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Ax extends Jz{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function eH(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let J8=(()=>{class t{handler;constructor(i){this.handler=i}request(i,s,o={}){let a;if(i instanceof TS)a=i;else{let u,d;u=o.headers instanceof sf?o.headers:new sf(o.headers),o.params&&(d=o.params instanceof d1?o.params:new d1({fromObject:o.params})),a=new TS(i,s,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const l=Pde(a).pipe(function CKe(t,n){return Li(n)?G8(t,n,1):G8(t,1)}(u=>this.handler.handle(u)));if(i instanceof TS||"events"===o.observe)return l;const c=l.pipe(function SKe(t,n){return Fp((i,s)=>{let o=0;i.subscribe(kd(s,a=>t.call(n,a,o++)&&s.next(a)))})}(u=>u instanceof PS));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return c.pipe(Bp(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new $t(2806,!1);return u.body}));case"blob":return c.pipe(Bp(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new $t(2807,!1);return u.body}));case"text":return c.pipe(Bp(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new $t(2808,!1);return u.body}));default:return c.pipe(Bp(u=>u.body))}case"response":return c;default:throw new $t(2809,!1)}}delete(i,s={}){return this.request("DELETE",i,s)}get(i,s={}){return this.request("GET",i,s)}head(i,s={}){return this.request("HEAD",i,s)}jsonp(i,s){return this.request("JSONP",i,{params:(new d1).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,s={}){return this.request("OPTIONS",i,s)}patch(i,s,o={}){return this.request("PATCH",i,eH(o,s))}post(i,s,o={}){return this.request("POST",i,eH(o,s))}put(i,s,o={}){return this.request("PUT",i,eH(o,s))}static \u0275fac=function(s){return new(s||t)(sr(K8))};static \u0275prov=Nr({token:t,factory:t.\u0275fac})}return t})();const Bde=new bn("");function $de(t,n){return n(t)}function GKe(t,n){return(i,s)=>n.intercept(i,{handle:o=>t(o,s)})}const YKe=new bn(""),DS=new bn(""),XKe=new bn(""),Vde=new bn("",{providedIn:"root",factory:()=>!0});function QKe(){let t=null;return(n,i)=>{null===t&&(t=(on(YKe,{optional:!0})??[]).reduceRight(GKe,$de));const s=on(Qp);if(on(Vde)){const a=s.add();return t(n,i).pipe(wde(()=>s.remove(a)))}return t(n,i)}}let jde=(()=>{class t extends K8{backend;injector;chain=null;pendingTasks=on(Qp);contributeToStability=on(Vde);constructor(i,s){super(),this.backend=i,this.injector=s}handle(i){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(DS),...this.injector.get(XKe,[])]));this.chain=s.reduceRight((o,a)=>function KKe(t,n,i){return(s,o)=>_v(i,()=>n(s,a=>t(a,o)))}(o,a,this.injector),$de)}if(this.contributeToStability){const s=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(wde(()=>this.pendingTasks.remove(s)))}return this.chain(i,s=>this.backend.handle(s))}static \u0275fac=function(s){return new(s||t)(sr(Y8),sr(Tc))};static \u0275prov=Nr({token:t,factory:t.\u0275fac})}return t})();const tYe=/^\)\]\}',?\n/,nYe=RegExp(`^${Zz}:`,"m");let Hde=(()=>{class t{xhrFactory;constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new $t(-2800,!1);const s=this.xhrFactory;return(s.\u0275loadImpl?Qz(s.\u0275loadImpl()):Pde(null)).pipe(Cde(()=>new vl(a=>{const l=s.build();if(l.open(i.method,i.urlWithParams),i.withCredentials&&(l.withCredentials=!0),i.headers.forEach((E,_)=>l.setRequestHeader(E,_.join(","))),i.headers.has("Accept")||l.setRequestHeader("Accept",Nde),!i.headers.has(OS)){const E=i.detectContentTypeHeader();null!==E&&l.setRequestHeader(OS,E)}if(i.responseType){const E=i.responseType.toLowerCase();l.responseType="json"!==E?E:"text"}const c=i.serializeBody();let u=null;const d=()=>{if(null!==u)return u;const E=l.statusText||"OK",_=new sf(l.getAllResponseHeaders()),S=function rYe(t){return"responseURL"in t&&t.responseURL?t.responseURL:nYe.test(t.getAllResponseHeaders())?t.getResponseHeader(Zz):null}(l)||i.url;return u=new Z8({headers:_,status:l.status,statusText:E,url:S}),u},p=()=>{let{headers:E,status:_,statusText:S,url:v}=d(),w=null;204!==_&&(w=typeof l.response>"u"?l.responseText:l.response),0===_&&(_=w?200:0);let g=_>=200&&_<300;if("json"===i.responseType&&"string"==typeof w){const x=w;w=w.replace(tYe,"");try{w=""!==w?JSON.parse(w):null}catch(T){w=x,g&&(g=!1,w={error:T,text:w})}}g?(a.next(new PS({body:w,headers:E,status:_,statusText:S,url:v||void 0})),a.complete()):a.error(new Ax({error:w,headers:E,status:_,statusText:S,url:v||void 0}))},f=E=>{const{url:_}=d(),S=new Ax({error:E,status:l.status||0,statusText:l.statusText||"Unknown Error",url:_||void 0});a.error(S)};let h=!1;const m=E=>{h||(a.next(d()),h=!0);let _={type:p1.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(_.total=E.total),"text"===i.responseType&&l.responseText&&(_.partialText=l.responseText),a.next(_)},y=E=>{let _={type:p1.UploadProgress,loaded:E.loaded};E.lengthComputable&&(_.total=E.total),a.next(_)};return l.addEventListener("load",p),l.addEventListener("error",f),l.addEventListener("timeout",f),l.addEventListener("abort",f),i.reportProgress&&(l.addEventListener("progress",m),null!==c&&l.upload&&l.upload.addEventListener("progress",y)),l.send(c),a.next({type:p1.Sent}),()=>{l.removeEventListener("error",f),l.removeEventListener("abort",f),l.removeEventListener("load",p),l.removeEventListener("timeout",f),i.reportProgress&&(l.removeEventListener("progress",m),null!==c&&l.upload&&l.upload.removeEventListener("progress",y)),l.readyState!==l.DONE&&l.abort()}})))}static \u0275fac=function(s){return new(s||t)(sr(Rue))};static \u0275prov=Nr({token:t,factory:t.\u0275fac})}return t})();const rH=new bn(""),Ude=new bn("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),qde=new bn("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Wde{}let oYe=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(i,s,o){this.doc=i,this.platform=s,this.cookieName=o}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Mue(i,this.cookieName),this.lastCookieString=i),this.lastToken}static \u0275fac=function(s){return new(s||t)(sr(l1),sr(AE),sr(Ude))};static \u0275prov=Nr({token:t,factory:t.\u0275fac})}return t})();function aYe(t,n){const i=t.url.toLowerCase();if(!on(rH)||"GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return n(t);const s=on(Wde).getToken(),o=on(qde);return null!=s&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,s)})),n(t)}var f1=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(f1||{});function hb(t,n){return{\u0275kind:t,\u0275providers:n}}function lYe(...t){const n=[J8,Hde,jde,{provide:K8,useExisting:jde},{provide:Y8,useFactory:()=>on(Bde,{optional:!0})??on(Hde)},{provide:DS,useValue:aYe,multi:!0},{provide:rH,useValue:!0},{provide:Wde,useClass:oYe}];for(const i of t)n.push(...i.\u0275providers);return function Wf(t){return{\u0275providers:t}}(n)}const Gde=new bn(""),{isArray:uYe}=Array,{getPrototypeOf:dYe,prototype:pYe,keys:fYe}=Object;const{isArray:gYe}=Array;function Kde(t){return Bp(n=>function yYe(t,n){return gYe(n)?t(...n):t(n)}(t,n))}function vYe(t,n){return t.reduce((i,s,o)=>(i[s]=n[o],i),{})}function bYe(...t){const n=function TKe(t){return Li(Xz(t))?t.pop():void 0}(t),{args:i,keys:s}=function hYe(t){if(1===t.length){const n=t[0];if(uYe(n))return{args:n,keys:null};if(function mYe(t){return t&&"object"==typeof t&&dYe(t)===pYe}(n)){const i=fYe(n);return{args:i.map(s=>n[s]),keys:i}}}return{args:t,keys:null}}(t),o=new vl(a=>{const{length:l}=i;if(!l)return void a.complete();const c=new Array(l);let u=l,d=l;for(let p=0;p<l;p++){let f=!1;Z0(i[p]).subscribe(kd(a,h=>{f||(f=!0,d--),c[p]=h},()=>u--,void 0,()=>{(!u||!f)&&(d||a.next(s?vYe(s,c):c),a.complete())}))}});return n?o.pipe(Kde(n)):o}let Yde=(()=>{class t{_renderer;_elementRef;onChange=i=>{};onTouched=()=>{};constructor(i,s){this._renderer=i,this._elementRef=s}setProperty(i,s){this._renderer.setProperty(this._elementRef.nativeElement,i,s)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}static \u0275fac=function(s){return new(s||t)(Ut(sb),Ut(Zu))};static \u0275dir=Kr({type:t})}return t})(),mb=(()=>{class t extends Yde{static \u0275fac=(()=>{let i;return function(o){return(i||(i=Xa(t)))(o||t)}})();static \u0275dir=Kr({type:t,features:[fs]})}return t})();const mh=new bn(""),_Ye={provide:mh,useExisting:Es(()=>iH),multi:!0};let iH=(()=>{class t extends mb{writeValue(i){this.setProperty("checked",i)}static \u0275fac=(()=>{let i;return function(o){return(i||(i=Xa(t)))(o||t)}})();static \u0275dir=Kr({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(s,o){1&s&&qt("change",function(l){return o.onChange(l.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[ho([_Ye]),fs]})}return t})();const EYe={provide:mh,useExisting:Es(()=>h1),multi:!0},wYe=new bn("");let h1=(()=>{class t extends Yde{_compositionMode;_composing=!1;constructor(i,s,o){super(i,s),this._compositionMode=o,null==this._compositionMode&&(this._compositionMode=!function xYe(){const t=wS()?wS().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(i){this.setProperty("value",i??"")}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}static \u0275fac=function(s){return new(s||t)(Ut(sb),Ut(Zu),Ut(wYe,8))};static \u0275dir=Kr({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,o){1&s&&qt("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},standalone:!1,features:[ho([EYe]),fs]})}return t})();const tc=new bn(""),m1=new bn("");function e7(t){return null}function ipe(t){return null!=t}function spe(t){return a8(t)?Qz(t):t}function ope(t){let n={};return t.forEach(i=>{n=null!=i?{...n,...i}:n}),0===Object.keys(n).length?null:n}function ape(t,n){return n.map(i=>i(t))}function lpe(t){return t.map(n=>function SYe(t){return!t.validate}(n)?n:i=>n.validate(i))}function aH(t){return null!=t?function cpe(t){if(!t)return null;const n=t.filter(ipe);return 0==n.length?null:function(i){return ope(ape(i,n))}}(lpe(t)):null}function lH(t){return null!=t?function upe(t){if(!t)return null;const n=t.filter(ipe);return 0==n.length?null:function(i){return bYe(ape(i,n).map(spe)).pipe(Bp(ope))}}(lpe(t)):null}function dpe(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function cH(t){return t?Array.isArray(t)?t:[t]:[]}function t7(t,n){return Array.isArray(t)?t.includes(n):t===n}function hpe(t,n){const i=cH(n);return cH(t).forEach(o=>{t7(i,o)||i.push(o)}),i}function mpe(t,n){return cH(n).filter(i=>!t7(t,i))}class gpe{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=aH(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=lH(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,i){return!!this.control&&this.control.hasError(n,i)}getError(n,i){return this.control?this.control.getError(n,i):null}}class Bc extends gpe{name;get formDirective(){return null}get path(){return null}}class g1 extends gpe{_parent=null;name=null;valueAccessor=null}class ype{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let gb=(()=>{class t extends ype{constructor(i){super(i)}static \u0275fac=function(s){return new(s||t)(Ut(g1,2))};static \u0275dir=Kr({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,o){2&s&&d8("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[fs]})}return t})();const kS="VALID",r7="INVALID",Ix="PENDING",MS="DISABLED";class Rx{}class bpe extends Rx{value;source;constructor(n,i){super(),this.value=n,this.source=i}}class pH extends Rx{pristine;source;constructor(n,i){super(),this.pristine=n,this.source=i}}class fH extends Rx{touched;source;constructor(n,i){super(),this.touched=n,this.source=i}}class i7 extends Rx{status;source;constructor(n,i){super(),this.status=n,this.source=i}}function s7(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class gH{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,i){this._assignValidators(n),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return ga(this.statusReactive)}set status(n){ga(()=>this.statusReactive.set(n))}_status=Y0(()=>this.statusReactive());statusReactive=Fd(void 0);get valid(){return this.status===kS}get invalid(){return this.status===r7}get pending(){return this.status==Ix}get disabled(){return this.status===MS}get enabled(){return this.status!==MS}errors;get pristine(){return ga(this.pristineReactive)}set pristine(n){ga(()=>this.pristineReactive.set(n))}_pristine=Y0(()=>this.pristineReactive());pristineReactive=Fd(!0);get dirty(){return!this.pristine}get touched(){return ga(this.touchedReactive)}set touched(n){ga(()=>this.touchedReactive.set(n))}_touched=Y0(()=>this.touchedReactive());touchedReactive=Fd(!1);get untouched(){return!this.touched}_events=new g0;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(hpe(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(hpe(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(mpe(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(mpe(n,this._rawAsyncValidators))}hasValidator(n){return t7(this._rawValidators,n)}hasAsyncValidator(n){return t7(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){const i=!1===this.touched;this.touched=!0;const s=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched({...n,sourceControl:s}),i&&!1!==n.emitEvent&&this._events.next(new fH(!0,s))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(n))}markAsUntouched(n={}){const i=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const s=n.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:s})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,s),i&&!1!==n.emitEvent&&this._events.next(new fH(!1,s))}markAsDirty(n={}){const i=!0===this.pristine;this.pristine=!1;const s=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty({...n,sourceControl:s}),i&&!1!==n.emitEvent&&this._events.next(new pH(!1,s))}markAsPristine(n={}){const i=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const s=n.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,s),i&&!1!==n.emitEvent&&this._events.next(new pH(!0,s))}markAsPending(n={}){this.status=Ix;const i=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new i7(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending({...n,sourceControl:i})}disable(n={}){const i=this._parentMarkedDirty(n.onlySelf);this.status=MS,this.errors=null,this._forEachChild(o=>{o.disable({...n,onlySelf:!0})}),this._updateValue();const s=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new bpe(this.value,s)),this._events.next(new i7(this.status,s)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:i},this),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const i=this._parentMarkedDirty(n.onlySelf);this.status=kS,this._forEachChild(s=>{s.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:i},this),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(n,i){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const s=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kS||this.status===Ix)&&this._runAsyncValidator(s,n.emitEvent)}const i=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new bpe(this.value,i)),this._events.next(new i7(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity({...n,sourceControl:i})}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?MS:kS}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,i){if(this.asyncValidator){this.status=Ix,this._hasOwnPendingAsyncValidator={emitEvent:!1!==i};const s=spe(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:i,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,i={}){this.errors=n,this._updateControlsErrors(!1!==i.emitEvent,this,i.shouldHaveEmitted)}get(n){let i=n;return null==i||(Array.isArray(i)||(i=i.split(".")),0===i.length)?null:i.reduce((s,o)=>s&&s._find(o),this)}getError(n,i){const s=i?this.get(i):this;return s&&s.errors?s.errors[n]:null}hasError(n,i){return!!this.getError(n,i)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,i,s){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||s)&&this._events.next(new i7(this.status,i)),this._parent&&this._parent._updateControlsErrors(n,i,s)}_initObservables(){this.valueChanges=new Qa,this.statusChanges=new Qa}_calculateStatus(){return this._allControlsDisabled()?MS:this.errors?r7:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ix)?Ix:this._anyControlsHaveStatus(r7)?r7:kS}_anyControlsHaveStatus(n){return this._anyControls(i=>i.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,i){const s=!this._anyControlsDirty(),o=this.pristine!==s;this.pristine=s,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),o&&this._events.next(new pH(this.pristine,i))}_updateTouched(n={},i){this.touched=this._anyControlsTouched(),this._events.next(new fH(this.touched,i)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){s7(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function NYe(t){return Array.isArray(t)?aH(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function LYe(t){return Array.isArray(t)?lH(t):t||null}(this._rawAsyncValidators)}}const Nx=new bn("",{providedIn:"root",factory:()=>o7}),o7="always";function AS(t,n,i=o7){(function vH(t,n){const i=function ppe(t){return t._rawValidators}(t);null!==n.validator?t.setValidators(dpe(i,n.validator)):"function"==typeof i&&t.setValidators([i]);const s=function fpe(t){return t._rawAsyncValidators}(t);null!==n.asyncValidator?t.setAsyncValidators(dpe(s,n.asyncValidator)):"function"==typeof s&&t.setAsyncValidators([s]);const o=()=>t.updateValueAndValidity();c7(n._rawValidators,o),c7(n._rawAsyncValidators,o)})(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===i)&&n.valueAccessor.setDisabledState?.(t.disabled),function $Ye(t,n){n.valueAccessor.registerOnChange(i=>{t._pendingValue=i,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&xpe(t,n)})}(t,n),function jYe(t,n){const i=(s,o)=>{n.valueAccessor.writeValue(s),o&&n.viewToModelUpdate(s)};t.registerOnChange(i),n._registerOnDestroy(()=>{t._unregisterOnChange(i)})}(t,n),function VYe(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&xpe(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function BYe(t,n){if(n.valueAccessor.setDisabledState){const i=s=>{n.valueAccessor.setDisabledState(s)};t.registerOnDisabledChange(i),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(i)})}}(t,n)}function c7(t,n){t.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(n)})}function xpe(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Spe(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}function Ope(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}Promise.resolve();const Tpe=class extends gH{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,i,s){super(function hH(t){return(s7(t)?t.validators:t)||null}(i),function mH(t,n){return(s7(n)?n.asyncValidators:t)||null}(s,i)),this._applyFormState(n),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),s7(i)&&(i.nonNullable||i.initialValueIsDefault)&&(this.defaultValue=Ope(n)?n.value:n)}setValue(n,i={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(n,i={}){this.setValue(n,i)}reset(n=this.defaultValue,i={}){this._applyFormState(n),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Spe(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Spe(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){Ope(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},QYe={provide:g1,useExisting:Es(()=>y1)},Ppe=Promise.resolve();let y1=(()=>{class t extends g1{_changeDetectorRef;callSetDisabledState;control=new Tpe;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Qa;constructor(i,s,o,a,l,c){super(),this._changeDetectorRef=l,this.callSetDisabledState=c,this._parent=i,this._setValidators(s),this._setAsyncValidators(o),this.valueAccessor=function EH(t,n){if(!n)return null;let i,s,o;return Array.isArray(n),n.forEach(a=>{a.constructor===h1?i=a:function UYe(t){return Object.getPrototypeOf(t.constructor)===mb}(a)?s=a:o=a}),o||s||i||null}(0,a)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){const s=i.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),function _H(t,n){if(!t.hasOwnProperty("model"))return!1;const i=t.model;return!!i.isFirstChange()||!Object.is(n,i.currentValue)}(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){AS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){Ppe.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){const s=i.isDisabled.currentValue,o=0!==s&&function _z(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(s);Ppe.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?function a7(t,n){return[...n.path,t]}(i,this._parent):[i]}static \u0275fac=function(s){return new(s||t)(Ut(Bc,9),Ut(tc,10),Ut(m1,10),Ut(mh,10),Ut(S8,8),Ut(Nx,8))};static \u0275dir=Kr({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ho([QYe]),fs,eh]})}return t})();const JYe={provide:mh,useExisting:Es(()=>h7),multi:!0};let h7=(()=>{class t extends mb{writeValue(i){this.setProperty("value",i??"")}registerOnChange(i){this.onChange=s=>{i(""==s?null:parseFloat(s))}}static \u0275fac=(()=>{let i;return function(o){return(i||(i=Xa(t)))(o||t)}})();static \u0275dir=Kr({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(s,o){1&s&&qt("input",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[ho([JYe]),fs]})}return t})();const lXe={provide:mh,useExisting:Es(()=>yb),multi:!0};function Npe(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let yb=(()=>{class t extends mb{value;_optionMap=new Map;_idCounter=0;set compareWith(i){this._compareWith=i}_compareWith=Object.is;writeValue(i){this.value=i;const o=Npe(this._getOptionId(i),i);this.setProperty("value",o)}registerOnChange(i){this.onChange=s=>{this.value=this._getOptionValue(s),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(const s of this._optionMap.keys())if(this._compareWith(this._optionMap.get(s),i))return s;return null}_getOptionValue(i){const s=function cXe(t){return t.split(":")[0]}(i);return this._optionMap.has(s)?this._optionMap.get(s):i}static \u0275fac=(()=>{let i;return function(o){return(i||(i=Xa(t)))(o||t)}})();static \u0275dir=Kr({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(s,o){1&s&&qt("change",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ho([lXe]),fs]})}return t})(),NS=(()=>{class t{_element;_renderer;_select;id;constructor(i,s,o){this._element=i,this._renderer=s,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(i){null!=this._select&&(this._select._optionMap.set(this.id,i),this._setElementValue(Npe(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(s){return new(s||t)(Ut(Zu),Ut(sb),Ut(yb,9))};static \u0275dir=Kr({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();const uXe={provide:mh,useExisting:Es(()=>xH),multi:!0};function Lpe(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let xH=(()=>{class t extends mb{value;_optionMap=new Map;_idCounter=0;set compareWith(i){this._compareWith=i}_compareWith=Object.is;writeValue(i){let s;if(this.value=i,Array.isArray(i)){const o=i.map(a=>this._getOptionId(a));s=(a,l)=>{a._setSelected(o.indexOf(l.toString())>-1)}}else s=(o,a)=>{o._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(i){this.onChange=s=>{const o=[],a=s.selectedOptions;if(void 0!==a){const l=a;for(let c=0;c<l.length;c++){const d=this._getOptionValue(l[c].value);o.push(d)}}else{const l=s.options;for(let c=0;c<l.length;c++){const u=l[c];if(u.selected){const d=this._getOptionValue(u.value);o.push(d)}}}this.value=o,i(o)}}_registerOption(i){const s=(this._idCounter++).toString();return this._optionMap.set(s,i),s}_getOptionId(i){for(const s of this._optionMap.keys())if(this._compareWith(this._optionMap.get(s)._value,i))return s;return null}_getOptionValue(i){const s=function dXe(t){return t.split(":")[0]}(i);return this._optionMap.has(s)?this._optionMap.get(s)._value:i}static \u0275fac=(()=>{let i;return function(o){return(i||(i=Xa(t)))(o||t)}})();static \u0275dir=Kr({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(s,o){1&s&&qt("change",function(l){return o.onChange(l.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ho([uXe]),fs]})}return t})(),LS=(()=>{class t{_element;_renderer;_select;id;_value;constructor(i,s,o){this._element=i,this._renderer=s,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){null!=this._select&&(this._value=i,this._setElementValue(Lpe(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(Lpe(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(s){return new(s||t)(Ut(Zu),Ut(sb),Ut(xH,9))};static \u0275dir=Kr({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function Bpe(t){return"number"==typeof t?t:parseFloat(t)}let vb=(()=>{class t{_validator=e7;_onChange;_enabled;ngOnChanges(i){if(this.inputName in i){const s=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(s),this._validator=this._enabled?this.createValidator(s):e7,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return null!=i}static \u0275fac=function(s){return new(s||t)};static \u0275dir=Kr({type:t,features:[eh]})}return t})();const pXe={provide:tc,useExisting:Es(()=>y7),multi:!0};let y7=(()=>{class t extends vb{max;inputName="max";normalizeInput=i=>Bpe(i);createValidator=i=>function Qde(t){return n=>{if(null==n.value||null==t)return null;const i=parseFloat(n.value);return!isNaN(i)&&i>t?{max:{max:t,actual:n.value}}:null}}(i);static \u0275fac=(()=>{let i;return function(o){return(i||(i=Xa(t)))(o||t)}})();static \u0275dir=Kr({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(s,o){2&s&&G0("max",o._enabled?o.max:null)},inputs:{max:"max"},standalone:!1,features:[ho([pXe]),fs]})}return t})();const fXe={provide:tc,useExisting:Es(()=>v7),multi:!0};let v7=(()=>{class t extends vb{min;inputName="min";normalizeInput=i=>Bpe(i);createValidator=i=>function Xde(t){return n=>{if(null==n.value||null==t)return null;const i=parseFloat(n.value);return!isNaN(i)&&i<t?{min:{min:t,actual:n.value}}:null}}(i);static \u0275fac=(()=>{let i;return function(o){return(i||(i=Xa(t)))(o||t)}})();static \u0275dir=Kr({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(s,o){2&s&&G0("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[ho([fXe]),fs]})}return t})(),_Xe=(()=>{class t{static \u0275fac=function(s){return new(s||t)};static \u0275mod=ab({type:t});static \u0275inj=$f({})}return t})(),xXe=(()=>{class t{static withConfig(i){return{ngModule:t,providers:[{provide:Nx,useValue:i.callSetDisabledState??o7}]}}static \u0275fac=function(s){return new(s||t)};static \u0275mod=ab({type:t});static \u0275inj=$f({imports:[_Xe]})}return t})();function Jt(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}function FS(t){return Array.prototype.concat.apply([],t)}const BS=Object.prototype.toString,wXe=Object.prototype.hasOwnProperty;function Di(t){return void 0===t}function Ki(t){return void 0!==t}function Wd(t){return null==t}function Xt(t){return"[object Array]"===BS.call(t)}function si(t){return"[object Object]"===BS.call(t)}function Ln(t){return"[object Number]"===BS.call(t)}function Ar(t){const n=BS.call(t);return"[object Function]"===n||"[object AsyncFunction]"===n||"[object GeneratorFunction]"===n||"[object AsyncGeneratorFunction]"===n||"[object Proxy]"===n}function Or(t){return"[object String]"===BS.call(t)}function Zo(t,n){return!Wd(t)&&wXe.call(t,n)}function Gt(t,n){const i=_7(n);let s;return fe(t,function(o,a){if(i(o,a))return s=o,!1}),s}function gu(t,n){const i=_7(n);let s=Xt(t)?-1:void 0;return fe(t,function(o,a){if(i(o,a))return s=a,!1}),s}function Bn(t,n){const i=_7(n);let s=[];return fe(t,function(o,a){i(o,a)&&s.push(o)}),s}function fe(t,n){let i,s;if(Di(t))return;const o=Xt(t)?PXe:TXe;for(let a in t)if(Zo(t,a)&&(i=t[a],s=n(i,o(a)),!1===s))return i}function ar(t,n){if(Di(t))return[];!function CXe(t){if(!Xt(t))throw new Error("must supply array")}(t);const i=_7(n);return t.filter(function(s,o){return!i(s,o)})}function Ts(t,n,i){return fe(t,function(s,o){i=n(i,s,o)}),i}function yu(t,n){return!!Ts(t,function(i,s,o){return i&&n(s,o)},!0)}function Gd(t,n){return!!Gt(t,n)}function Ao(t,n){let i=[];return fe(t,function(s,o){i.push(n(s,o))}),i}function vu(t){return t&&Object.keys(t)||[]}function bb(t){return Ao(t,n=>n)}function of(t,n,i={}){return n=CH(n),fe(t,function(s){let o=n(s)||"_",a=i[o];a||(a=i[o]=[]),a.push(s)}),i}function b7(t,...n){t=CH(t);let i={};return fe(n,o=>of(o,t,i)),Ao(i,function(o,a){return o[0]})}const OXe=b7;function ba(t,n){n=CH(n);let i=[];return fe(t,function(s,o){let a=n(s,o),l={d:a,v:s};for(var c=0;c<i.length;c++){let{d:u}=i[c];if(a<u)return void i.splice(c,0,l)}i.push(l)}),Ao(i,s=>s.v)}function af(t){return function(n){return yu(t,function(i,s){return n[s]===i})}}function CH(t){return Ar(t)?t:n=>n[t]}function _7(t){return Ar(t)?t:n=>n===t}function TXe(t){return t}function PXe(t){return Number(t)}function Lx(t,n){let i,s,o,a;function l(f){let h=Date.now(),m=f?0:a+n-h;if(m>0)return c(m);t.apply(o,s),u()}function c(f){i=setTimeout(l,f)}function u(){i&&clearTimeout(i),i=a=s=o=void 0}function p(...f){a=Date.now(),s=f,o=this,i||c(n)}return p.flush=function d(){i&&l(!0),u()},p.cancel=u,p}function Io(t,n){return t.bind(n)}function Ce(t,...n){return Object.assign(t,...n)}function gh(t,n,i){let s=t;return fe(n,function(o,a){if("number"!=typeof o&&"string"!=typeof o)throw new Error("illegal key type: "+typeof o+". Key should be of type number or string.");if("constructor"===o)throw new Error("illegal key: constructor");if("__proto__"===o)throw new Error("illegal key: __proto__");let l=n[a+1],c=s[o];Ki(l)&&Wd(c)&&(c=s[o]=isNaN(+l)?{}:[]),Di(l)?Di(i)?delete s[o]:s[o]=i:s=c}),t}function Ja(t,n,i){let s=t;return fe(n,function(o){if(Wd(s))return s=void 0,!1;s=s[o]}),Di(s)?i:s}function td(t,n){let i={},s=Object(t);return fe(n,function(o){o in s&&(i[o]=t[o])}),i}function yh(t,n){let i={};return fe(Object(t),function(o,a){-1===n.indexOf(a)&&(i[a]=o)}),i}function $c(t,n){var i=this;t.on(["render.shape","render.connection"],n=n||1e3,function(s,o){var a=s.type,l=o.element,c=o.gfx,u=o.attrs;if(i.canRender(l))return"render.shape"===a?i.drawShape(c,l,u):i.drawConnection(c,l,u)}),t.on(["render.getShapePath","render.getConnectionPath"],n,function(s,o){if(i.canRender(o))return"render.getShapePath"===s.type?i.getShapePath(o):i.getConnectionPath(o)})}function D(t,n){var i=G(t);return i&&"function"==typeof i.$instanceOf&&i.$instanceOf(n)}function un(t,n){return Gd(n,function(i){return D(t,i)})}function G(t){return t&&t.businessObject||t}function pi(t){return t&&t.di}function Yr(t,n){return!D(t,"bpmn:CallActivity")&&(D(t,"bpmn:SubProcess")?!(!(n=n||pi(t))||!D(n,"bpmndi:BPMNPlane"))||n&&!!n.isExpanded:!D(t,"bpmn:Participant")||!!G(t).processRef)}function _a(t){if(D(t,"bpmn:Participant")||D(t,"bpmn:Lane")){var n=pi(t).isHorizontal;return void 0===n||n}}function Upe(t){return t&&!1!==G(t).isInterrupting}function Ea(t){return t&&!!G(t).triggeredByEvent}function Fx(t,n){return Gd(G(t).eventDefinitions,function(s){return D(s,n)})}function Zi(t){return si(t)&&Zo(t,"waypoints")}function ui(t){return si(t)&&Zo(t,"labelTarget")}$c.prototype.canRender=function(t){},$c.prototype.drawShape=function(t,n){},$c.prototype.drawConnection=function(t,n){},$c.prototype.getShapePath=function(t){},$c.prototype.getConnectionPath=function(t){};var $S={width:90,height:20};function _b(t){return D(t,"bpmn:Event")||D(t,"bpmn:Gateway")||D(t,"bpmn:DataStoreReference")||D(t,"bpmn:DataObjectReference")||D(t,"bpmn:DataInput")||D(t,"bpmn:DataOutput")||D(t,"bpmn:SequenceFlow")||D(t,"bpmn:MessageFlow")||D(t,"bpmn:Group")}function E7(t){return ui(t.label)}function SH(t){return t.waypoints?function NXe(t){var n=t.length/2-1,i=t[Math.floor(n)],s=t[Math.ceil(n+.01)],o=function LXe(t){var n=t.length/2-1,i=t[Math.floor(n)],s=t[Math.ceil(n+.01)];return{x:i.x+(s.x-i.x)/2,y:i.y+(s.y-i.y)/2}}(t),a=Math.atan((s.y-i.y)/(s.x-i.x)),l=o.x,c=o.y;return Math.abs(a)<Math.PI/2?c-=15:l+=15,{x:l,y:c}}(t.waypoints):D(t,"bpmn:Group")?{x:t.x+t.width/2,y:t.y+$S.height/2}:{x:t.x+t.width/2,y:t.y+t.height+$S.height/2}}function Wpe(t){return D(t,"bpmn:FlowElement")||D(t,"bpmn:Participant")||D(t,"bpmn:Lane")||D(t,"bpmn:SequenceFlow")||D(t,"bpmn:MessageFlow")||D(t,"bpmn:DataInput")||D(t,"bpmn:DataOutput")?"name":D(t,"bpmn:TextAnnotation")?"text":D(t,"bpmn:Group")?"categoryValueRef":void 0}function bu(t){var n=t.businessObject,i=Wpe(n);if(i)return"categoryValueRef"===i?function BXe(t){var n=t.categoryValueRef;return n&&n.value||""}(n):n[i]||""}function OH(t,n){var i=t.businessObject,s=Wpe(i);if(s)if("categoryValueRef"===s){if(!i[s])return t;i[s].value=n}else i[s]=n;return t}function Gpe(t,n){return n.appendChild(function TH(t,n){if(t.ownerDocument!==n.ownerDocument)try{return n.ownerDocument.importNode(t,!0)}catch{}return t}(t,n))}function On(t,n){return Gpe(n,t),t}var Kpe={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":2,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":2,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function Ype(t,n,i){var s=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=Kpe[s];o?(2===o&&"number"==typeof i&&(i=String(i)+"px"),t.style[s]=i):t.setAttributeNS(null,n,i)}function Wt(t,n,i){if("string"==typeof n){if(void 0===i)return function $Xe(t,n){return Kpe[n]?t.style[n]:t.getAttributeNS(null,n)}(t,n);Ype(t,n,i)}else!function VXe(t,n){var s,o,i=Object.keys(n);for(s=0;o=i[s];s++)Ype(t,o,n[o])}(t,n);return t}const jXe=Object.prototype.toString;function di(t){return new v1(t)}function v1(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}function Eb(t){for(var n;n=t.firstChild;)t.removeChild(n);return t}function DH(t){return t.cloneNode(!0)}v1.prototype.add=function(t){return this.list.add(t),this},v1.prototype.remove=function(t){return"[object RegExp]"==jXe.call(t)?this.removeMatching(t):(this.list.remove(t),this)},v1.prototype.removeMatching=function(t){const n=this.array();for(let i=0;i<n.length;i++)t.test(n[i])&&this.remove(n[i]);return this},v1.prototype.toggle=function(t,n){return typeof n<"u"?n!==this.list.toggle(t,n)&&this.list.toggle(t):this.list.toggle(t),this},v1.prototype.array=function(){return Array.from(this.list)},v1.prototype.has=v1.prototype.contains=function(t){return this.list.contains(t)};var kH_svg="http://www.w3.org/2000/svg",Xpe='<svg xmlns="'+kH_svg+'"';function Qpe(t){var n=!1;"<svg"===t.substring(0,4)?-1===t.indexOf(kH_svg)&&(t=Xpe+t.substring(4)):(t=Xpe+">"+t+"</svg>",n=!0);var i=function zXe(t){var n;return(n=new DOMParser).async=!1,n.parseFromString(t,"text/xml")}(t);if(!n)return i;for(var s=document.createDocumentFragment(),o=i.firstChild;o.firstChild;)s.appendChild(o.firstChild);return s}function an(t,n){var i;return"<"===(t=t.trim()).charAt(0)?(i=Qpe(t).firstChild,i=document.importNode(i,!0)):i=document.createElementNS(kH_svg,t),n&&Wt(i,n),i}var MH=null;function x7(){return null===MH&&(MH=an("svg")),MH}function AH(t,n){var i,s,o=Object.keys(n);for(i=0;s=o[i];i++)t[s]=n[s];return t}function VS(t){return t?x7().createSVGTransformFromMatrix(t):x7().createSVGTransform()}var Zpe=/([&<>]{1})/g,UXe=/([&<>\n\r"]{1})/g,qXe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function IH(t,n){return t.replace(n,function i(s,o){return qXe[o]||o})}function Jpe(t,n){var i,s,o,a,l;switch(t.nodeType){case 3:n.push(IH(t.textContent,Zpe));break;case 1:if(n.push("<",t.tagName),t.hasAttributes())for(i=0,s=(o=t.attributes).length;i<s;++i)a=o.item(i),n.push(" ",a.name,'="',IH(a.value,UXe),'"');if(t.hasChildNodes()){for(n.push(">"),i=0,s=(l=t.childNodes).length;i<s;++i)Jpe(l.item(i),n);n.push("</",t.tagName,">")}else n.push("/>");break;case 8:n.push("\x3c!--",IH(t.nodeValue,Zpe),"--\x3e");break;case 4:n.push("<![CDATA[",t.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+t.nodeType)}return n}function RH(t,n){if(void 0!==n){try{!function WXe(t,n){var i=Qpe(n);if(Eb(t),n){(function KXe(t){return"#document-fragment"===t.nodeName})(i)||(i=i.documentElement);for(var s=function YXe(t){return Array.prototype.slice.call(t)}(i.childNodes),o=0;o<s.length;o++)Gpe(s[o],t)}}(t,n)}catch(i){throw new Error("error parsing SVG: "+i.message)}return t}return function GXe(t){for(var n=t.firstChild,i=[];n;)Jpe(n,i),n=n.nextSibling;return i.join("")}(t)}function Ro(t){var n=t.parentNode;return n&&n.removeChild(t),t}function QXe(t,n){return n instanceof SVGMatrix?t.createSVGTransformFromMatrix(n):n}function jS(t,n){var i=t.transform.baseVal;return n&&(Array.isArray(n)||(n=[n]),function ZXe(t,n){var i,s;for(t.clear(),i=0;s=n[i];i++)t.appendItem(QXe(t,s))}(i,n)),i.consolidate()}function xb(t){return t.flat().join(",").replace(/,?([A-Za-z]),?/g,"$1")}function JXe(t){return["M",t.x,t.y]}function NH(t){return["L",t.x,t.y]}function eQe(t,n,i){return["C",t.x,t.y,n.x,n.y,i.x,i.y]}function tQe(t,n){const i=t.length,s=[JXe(t[0])];for(let o=1;o<i;o++){const a=t[o-1],l=t[o],c=t[o+1];if(!c||!n){s.push(NH(l));continue}const u=Math.min(n,LH(l.x-a.x,l.y-a.y),LH(c.x-l.x,c.y-l.y));if(!u){s.push(NH(l));continue}const d=w7(l,a,u),p=w7(l,a,.5*u),f=w7(l,c,u),h=w7(l,c,.5*u);s.push(NH(d)),s.push(eQe(p,h,f))}return s}function w7(t,n,i){const s=n.x-t.x,o=n.y-t.y,l=i/LH(s,o);return{x:t.x+s*l,y:t.y+o*l}}function LH(t,n){return Math.sqrt(Math.pow(t,2)+Math.pow(n,2))}function zS(t,n,i){Ln(n)&&(i=n,n=null),n||(n={});const s=an("path",n);return Ln(i)&&(s.dataset.cornerRadius=String(i)),efe(s,t)}function efe(t,n){return Wt(t,{d:xb(tQe(n,parseInt(t.dataset.cornerRadius,10)||0))}),t}var FH="hsl(225, 10%, 15%)";function vh(t,n){return Gd(t.eventDefinitions,function(i){return i.$type===n})}function Gr(t,n,i){var s=pi(t);return i||s.get("color:background-color")||s.get("bioc:fill")||n||"white"}function hn(t,n,i){var s=pi(t);return i||s.get("color:border-color")||s.get("bioc:stroke")||n||FH}function HS(t,n,i,s){var a=pi(t).get("label");return s||a&&a.get("color:color")||n||hn(t,i)}function US(t,n={}){return{width:Kd(t,n),height:_u(t,n)}}function Kd(t,n={}){return Zo(n,"width")?n.width:t.width}function _u(t,n={}){return Zo(n,"height")?n.height:t.height}function cQe(t,n){return n.forEach(function(i){i&&"string"!=typeof i&&!Array.isArray(i)&&Object.keys(i).forEach(function(s){if("default"!==s&&!(s in t)){var o=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:function(){return i[s]}})}})}),Object.freeze(t)}const uQe=Object.prototype.toString,dQe=Object.prototype.hasOwnProperty;function hQe(t,n){return dQe.call(t,n)}function tfe(t,n){let i,s;if(function pQe(t){return void 0===t}(t))return;const o=function fQe(t){return"[object Array]"===uQe.call(t)}(t)?gQe:mQe;for(let a in t)if(hQe(t,a)&&(i=t[a],s=n(i,o(a)),!1===s))return i}function mQe(t){return t}function gQe(t){return Number(t)}function Dl(t,...n){const i=t.style;return tfe(n,function(s){s&&tfe(s,function(o,a){i[a]=o})}),t}function xa(t,n,i){return 2==arguments.length?t.getAttribute(n):null===i?t.removeAttribute(n):(t.setAttribute(n,i),t)}const yQe=Object.prototype.toString;function br(t){return new b1(t)}function b1(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}function C7(t){for(var n;n=t.firstChild;)t.removeChild(n);return t}function Vc(t,n,i){var s=i?t:t.parentNode;return s&&"function"==typeof s.closest&&s.closest(n)||null}b1.prototype.add=function(t){return this.list.add(t),this},b1.prototype.remove=function(t){return"[object RegExp]"==yQe.call(t)?this.removeMatching(t):(this.list.remove(t),this)},b1.prototype.removeMatching=function(t){const n=this.array();for(let i=0;i<n.length;i++)t.test(n[i])&&this.remove(n[i]);return this},b1.prototype.toggle=function(t,n){return typeof n<"u"?n!==this.list.toggle(t,n)&&this.list.toggle(t):this.list.toggle(t),this},b1.prototype.array=function(){return Array.from(this.list)},b1.prototype.has=b1.prototype.contains=function(t){return this.list.contains(t)};var O7,BH,$H,S7={};function nfe(){O7=window.addEventListener?"addEventListener":"attachEvent",BH=window.removeEventListener?"removeEventListener":"detachEvent",$H="addEventListener"!==O7?"on":""}var T7,mn=cQe({__proto__:null,bind:S7.bind=function(t,n,i,s){return O7||nfe(),t[O7]($H+n,i,s||!1),i},unbind:S7.unbind=function(t,n,i,s){return BH||nfe(),t[BH]($H+n,i,s||!1),i},default:S7},[S7]),rfe=["focus","blur"],kl_bind=function _Qe(t,n,i,s,o){return-1!==rfe.indexOf(i)&&(o=!0),mn.bind(t,i,function(a){a.delegateTarget=Vc(a.target||a.srcElement,n,!0),a.delegateTarget&&s.call(t,a)},o)},kl_unbind=function EQe(t,n,i,s){return-1!==rfe.indexOf(n)&&(s=!0),mn.unbind(t,n,i,s)},ife=!1;typeof document<"u"&&((T7=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',ife=!T7.getElementsByTagName("link").length,T7=void 0);var Jo={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:ife?[1,"X<div>","</div>"]:[0,"",""]};Jo.td=Jo.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Jo.option=Jo.optgroup=[1,'<select multiple="multiple">',"</select>"],Jo.thead=Jo.tbody=Jo.colgroup=Jo.caption=Jo.tfoot=[1,"<table>","</table>"],Jo.polyline=Jo.ellipse=Jo.polygon=Jo.circle=Jo.text=Jo.line=Jo.path=Jo.rect=Jo.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var Xr=function wQe(t,n){if("string"!=typeof t)throw new TypeError("String expected");n||(n=document);var i=/<([\w:]+)/.exec(t);if(!i)return n.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var s=i[1];if("body"==s)return(u=n.createElement("html")).innerHTML=t,u.removeChild(u.lastChild);var u,o=Object.prototype.hasOwnProperty.call(Jo,s)?Jo[s]:Jo._default,a=o[0],l=o[1],c=o[2];for((u=n.createElement("div")).innerHTML=l+t+c;a--;)u=u.lastChild;if(u.firstChild==u.lastChild)return u.removeChild(u.firstChild);for(var d=n.createDocumentFragment();u.firstChild;)d.appendChild(u.removeChild(u.firstChild));return d};function P7(t,n){return t&&"function"==typeof t.matches&&t.matches(n)||!1}function $n(t,n){return(n=n||document).querySelector(t)}function lf(t,n){return(n=n||document).querySelectorAll(t)}function el(t){t.parentNode&&t.parentNode.removeChild(t)}function D7(t,n,i,s,o){var a=VS();a.setTranslate(n,i);var l=VS();l.setRotate(s||0,0,0);var c=VS();c.setScale(o||1,o||1),jS(t,[a,l,c])}function tl(t,n,i){var s=VS();s.setTranslate(n,i),jS(t,s)}function sfe(t,n){var i=VS();i.setRotate(n,0,0),jS(t,i)}var SQe=function CQe(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t){var n=t.exports=function(i,s){if(s||(s=16),void 0===i&&(i=128),i<=0)return"0";for(var o=Math.log(Math.pow(2,i))/Math.log(s),a=2;o===1/0;a*=2)o=Math.log(Math.pow(2,i/a))/Math.log(s)*a;var l=o-Math.floor(o),c="";for(a=0;a<Math.floor(o);a++)c=Math.floor(Math.random()*s).toString(s)+c;if(l){var d=Math.pow(s,l);c=Math.floor(Math.random()*d).toString(s)+c}var p=parseInt(c,s);return p!==1/0&&p>=Math.pow(2,i)?n(i,s):c};n.rack=function(i,s,o){var a=function(c){var u=0;do{if(u++>10){if(!o)throw new Error("too many ID collisions, use more bits");i+=o}var d=n(i,s)}while(Object.hasOwnProperty.call(l,d));return l[d]=c,d},l=a.hats={};return a.get=function(c){return a.hats[c]},a.set=function(c,u){return a.hats[c]=u,a},a.bits=i||128,a.base=s||16,a}});function J0(t){if(!(this instanceof J0))return new J0(t);this._seed=(t=t||[128,36,1]).length?SQe.rack(t[0],t[1],t[2]):t}J0.prototype.next=function(t){return this._seed(t||!0)},J0.prototype.nextPrefixed=function(t,n){var i;do{i=t+this.next(!0)}while(this.assigned(i));return this.claim(i,n),i},J0.prototype.claim=function(t,n){this._seed.set(t,n||!0)},J0.prototype.assigned=function(t){return this._seed.get(t)||!1},J0.prototype.unclaim=function(t){delete this._seed.hats[t]},J0.prototype.clear=function(){var n,t=this._seed.hats;for(n in t)this.unclaim(n)};const Yd=J0;var OQe=new Yd,Bx=.95;function wb(t,n,i,s,o,a,l){$c.call(this,n,l);var c=t&&t.defaultFillColor,u=t&&t.defaultStrokeColor,d=t&&t.defaultLabelColor;function p(j){return i.computeStyle(j,{strokeLinecap:"round",strokeLinejoin:"round",stroke:FH,strokeWidth:2,fill:"white"})}function f(j){return i.computeStyle(j,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:FH,strokeWidth:2})}function h(j,M){var{ref:k={x:0,y:0},scale:ne=1,element:re,parentGfx:Se=o._svg}=M,te=an("marker",{id:j,viewBox:"0 0 20 20",refX:k.x,refY:k.y,markerWidth:20*ne,markerHeight:20*ne,orient:"auto"});On(te,re);var Ke=$n(":scope > defs",Se);Ke||On(Se,Ke=an("defs")),On(Ke,te)}function m(j,M,k,ne){var re=OQe.nextPrefixed("marker-");return function y(j,M,k,ne,re){"sequenceflow-end"===k&&h(M,{element:an("path",{d:"M 1 5 L 11 10 L 1 15 Z",...p({fill:re,stroke:re,strokeWidth:1})}),ref:{x:11,y:10},scale:.5,parentGfx:j}),"messageflow-start"===k&&h(M,{element:an("circle",{cx:6,cy:6,r:3.5,...p({fill:ne,stroke:re,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:6,y:6},parentGfx:j}),"messageflow-end"===k&&h(M,{element:an("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...p({fill:ne,stroke:re,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:8.5,y:5},parentGfx:j}),"association-start"===k&&h(M,{element:an("path",{d:"M 11 5 L 1 10 L 11 15",...f({fill:"none",stroke:re,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:1,y:10},scale:.5,parentGfx:j}),"association-end"===k&&h(M,{element:an("path",{d:"M 1 5 L 11 10 L 1 15",...f({fill:"none",stroke:re,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:11,y:10},scale:.5,parentGfx:j}),"conditional-flow-marker"===k&&h(M,{element:an("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...p({fill:ne,stroke:re})}),ref:{x:-1,y:10},scale:.5,parentGfx:j}),"conditional-default-flow-marker"===k&&h(M,{element:an("path",{d:"M 6 4 L 10 16",...p({stroke:re,fill:"none"})}),ref:{x:0,y:10},scale:.5,parentGfx:j})}(j,re,M,k,ne),"url(#"+re+")"}function E(j,M,k,ne,re={}){si(ne)&&(re=ne,ne=0),ne=ne||0,re=p(re);var Ke=an("circle",{cx:M/2,cy:k/2,r:Math.round((M+k)/4-ne),...re});return On(j,Ke),Ke}function _(j,M,k,ne,re,Se){si(re)&&(Se=re,re=0),re=re||0,Se=p(Se);var te=an("rect",{x:re,y:re,width:M-2*re,height:k-2*re,rx:ne,ry:ne,...Se});return On(j,te),te}function v(j,M,k,ne){var re=zS(M,k=f(k),ne);return On(j,re),re}function w(j,M,k){return v(j,M,k,5)}function g(j,M,k){k=f(k);var ne=an("path",{...k,d:M});return On(j,ne),ne}function x(j,M,k,ne){return g(M,k,Ce({"data-marker":j},ne))}function T(j){return $e[j]}function I(j){return function(M,k,ne){return T(j)(M,k,ne)}}function $(j,M,k={},ne){var re=G(j),Se=function rQe(t){return"bpmn:IntermediateThrowEvent"===t.$type||"bpmn:EndEvent"===t.$type}(re),te=ne||j;return re.get("eventDefinitions")&&re.get("eventDefinitions").length>1?re.get("parallelMultiple")?function(j,M,k={}){return g(j,s.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:k.width||M.width,containerHeight:k.height||M.height,position:{mx:.458,my:.194}}),{fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:1})}(M,te,k):function(j,M,k={},ne){return g(j,s.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:k.width||M.width,containerHeight:k.height||M.height,position:{mx:.211,my:.36}}),{fill:ne?hn(M,u,k.stroke):Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:1})}(M,te,k,Se):vh(re,"bpmn:MessageEventDefinition")?function(j,M,k={},ne){return g(j,s.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:k.width||M.width,containerHeight:k.height||M.height,position:{mx:.235,my:.315}}),{fill:ne?hn(M,u,k.stroke):Gr(M,c,k.fill),stroke:ne?Gr(M,c,k.fill):hn(M,u,k.stroke),strokeWidth:1})}(M,te,k,Se):vh(re,"bpmn:TimerEventDefinition")?function(j,M,k={}){var ne=k.width||M.width,re=k.height||M.height,Se=k.width?1:2,te=E(j,ne,re,.2*re,{fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:Se});g(j,s.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:ne,containerHeight:re,position:{mx:.5,my:.5}}),{stroke:hn(M,u,k.stroke),strokeWidth:Se});for(var rt=0;rt<12;rt++){var Kt=ne/2,ft=re/2;g(j,s.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:ne,containerHeight:re,position:{mx:.5,my:.5}}),{strokeWidth:1,stroke:hn(M,u,k.stroke),transform:"rotate("+30*rt+","+ft+","+Kt+")"})}return te}(M,te,k):vh(re,"bpmn:ConditionalEventDefinition")?function(j,M,k={}){return g(j,s.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:k.width||M.width,containerHeight:k.height||M.height,position:{mx:.5,my:.222}}),{fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:1})}(M,te,k):vh(re,"bpmn:SignalEventDefinition")?function(j,M,k={},ne){return g(j,s.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:k.width||M.width,containerHeight:k.height||M.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:ne?hn(M,u,k.stroke):Gr(M,c,k.fill),stroke:hn(M,u,k.stroke)})}(M,te,k,Se):vh(re,"bpmn:EscalationEventDefinition")?function(j,M,k={},ne){return g(j,s.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:k.width||M.width,containerHeight:k.height||M.height,position:{mx:.5,my:.2}}),{fill:ne?hn(M,u,k.stroke):Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:1})}(M,te,k,Se):vh(re,"bpmn:LinkEventDefinition")?function(j,M,k={},ne){return g(j,s.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:M.width,containerHeight:M.height,position:{mx:.57,my:.263}}),{fill:ne?hn(M,u,k.stroke):Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:1})}(M,te,k,Se):vh(re,"bpmn:ErrorEventDefinition")?function(j,M,k={},ne){return g(j,s.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:k.width||M.width,containerHeight:k.height||M.height,position:{mx:.2,my:.722}}),{fill:ne?hn(M,u,k.stroke):Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:1})}(M,te,k,Se):vh(re,"bpmn:CancelEventDefinition")?function(j,M,k={},ne){var te=g(j,s.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:M.width,containerHeight:M.height,position:{mx:.638,my:-.055}}),{fill:ne?hn(M,u,k.stroke):"none",stroke:hn(M,u,k.stroke),strokeWidth:1});return sfe(te,45),te}(M,te,k,Se):vh(re,"bpmn:CompensateEventDefinition")?function(j,M,k={},ne){return g(j,s.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:k.width||M.width,containerHeight:k.height||M.height,position:{mx:.22,my:.5}}),{fill:ne?hn(M,u,k.stroke):Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:1})}(M,te,k,Se):vh(re,"bpmn:TerminateEventDefinition")?function(j,M,k={}){return E(j,M.width,M.height,8,{fill:hn(M,u,k.stroke),stroke:hn(M,u,k.stroke),strokeWidth:4})}(M,te,k):null}var z={ParticipantMultiplicityMarker:function(j,M,k={}){var ne=Kd(M,k),re=_u(M,k);x("participant-multiplicity",j,s.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:ne,containerHeight:re,position:{mx:(ne/2-6)/ne,my:(re-15)/re}}),{strokeWidth:2,fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke)})},SubProcessMarker:function(j,M,k={}){tl(_(j,14,14,0,{strokeWidth:1,fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke)}),M.width/2-7.5,M.height-20),x("sub-process",j,s.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:M.width,containerHeight:M.height,position:{mx:(M.width/2-7.5)/M.width,my:(M.height-20)/M.height}}),{fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke)})},ParallelMarker:function(j,M,k){var ne=Kd(M,k),re=_u(M,k);x("parallel",j,s.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:ne,containerHeight:re,position:{mx:(ne/2+k.parallel)/ne,my:(re-20)/re}}),{fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke)})},SequentialMarker:function(j,M,k){x("sequential",j,s.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:M.width,containerHeight:M.height,position:{mx:(M.width/2+k.seq)/M.width,my:(M.height-19)/M.height}}),{fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke)})},CompensationMarker:function(j,M,k){x("compensation",j,s.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:M.width,containerHeight:M.height,position:{mx:(M.width/2+k.compensation)/M.width,my:(M.height-13)/M.height}}),{strokeWidth:1,fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke)})},LoopMarker:function(j,M,k){var ne=Kd(M,k),re=_u(M,k);x("loop",j,s.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:ne,containerHeight:re,position:{mx:(ne/2+k.loop)/ne,my:(re-7)/re}}),{strokeWidth:1.5,fill:"none",stroke:hn(M,u,k.stroke),strokeMiterlimit:.5})},AdhocMarker:function(j,M,k){var ne=Kd(M,k),re=_u(M,k);x("adhoc",j,s.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:ne,containerHeight:re,position:{mx:(ne/2+k.adhoc)/ne,my:(re-15)/re}}),{strokeWidth:1,fill:hn(M,u,k.stroke),stroke:hn(M,u,k.stroke)})}};function K(j,M,k,ne){z[j](M,k,ne)}function U(j,M,k,ne={}){ne={fill:ne.fill,stroke:ne.stroke,width:Kd(M,ne),height:_u(M,ne)};var re=G(M),Se=k&&k.includes("SubProcessMarker");ne=Se?{...ne,seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{...ne,seq:-5,parallel:-6,compensation:-27,loop:0,adhoc:10},fe(k,function(rt){K(rt,j,M,ne)}),re.get("isForCompensation")&&K("CompensationMarker",j,M,ne),D(re,"bpmn:AdHocSubProcess")&&K("AdhocMarker",j,M,ne);var te=re.get("loopCharacteristics"),Ke=te&&te.get("isSequential");te&&(void 0===Ke&&K("LoopMarker",j,M,ne),!1===Ke&&K("ParallelMarker",j,M,ne),!0===Ke&&K("SequentialMarker",j,M,ne))}function H(j,M,k={}){k=Ce({size:{width:100}},k);var ne=a.createText(M||"",k);return di(ne).add("djs-label"),On(j,ne),ne}function me(j,M,k,ne={}){var re=G(M),Se=US({x:M.x,y:M.y,width:M.width,height:M.height},ne);return H(j,re.name,{align:k,box:Se,padding:7,style:{fill:HS(M,d,u,ne.stroke)}})}function De(j,M,k,ne={}){var re=_a(k),Se=H(j,M,{box:{height:30,width:re?_u(k,ne):Kd(k,ne)},align:"center-middle",style:{fill:HS(k,d,u,ne.stroke)}});re&&D7(Se,0,1*_u(k,ne),270)}function ye(j,M,k={}){var{width:ne,height:re}=US(M,k);return _(j,ne,re,10,{...k,fill:Gr(M,c,k.fill),fillOpacity:Bx,stroke:hn(M,u,k.stroke)})}function at(j,M,k={}){var ne=G(M),re=Gr(M,c,k.fill),Se=hn(M,u,k.stroke);return("One"===ne.get("associationDirection")||"Both"===ne.get("associationDirection"))&&(k.markerEnd=m(j,"association-end",re,Se)),"Both"===ne.get("associationDirection")&&(k.markerStart=m(j,"association-start",re,Se)),k=fi(k,["markerStart","markerEnd"]),w(j,M.waypoints,{...k,stroke:Se,strokeDasharray:"0, 5"})}function _e(j,M,k={}){var ne=Gr(M,c,k.fill),re=hn(M,u,k.stroke),te=g(j,s.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:M.width,containerHeight:M.height,position:{mx:.474,my:.296}}),{fill:ne,fillOpacity:Bx,stroke:re});return function iQe(t){var n=t.dataObjectRef;return t.isCollection||n&&n.isCollection}(G(M))&&g(j,s.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:M.width,containerHeight:M.height,position:{mx:.33,my:(M.height-18)/M.height}}),{strokeWidth:2,fill:ne,stroke:re}),te}function be(j,M,k={}){return E(j,M.width,M.height,{fillOpacity:Bx,...k,fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke)})}function ke(j,M,k={}){return function S(j,M,k,ne){var re=M/2,Se=k/2,Ke=[{x:re,y:0},{x:M,y:Se},{x:re,y:k},{x:0,y:Se}].map(function(Bt){return Bt.x+","+Bt.y}).join(" ");ne=p(ne);var rt=an("polygon",{...ne,points:Ke});return On(j,rt),rt}(j,M.width,M.height,{fill:Gr(M,c,k.fill),fillOpacity:Bx,stroke:hn(M,u,k.stroke)})}function Pe(j,M,k={}){var ne=_(j,Kd(M,k),_u(M,k),0,{fill:Gr(M,c,k.fill),fillOpacity:k.fillOpacity||Bx,stroke:hn(M,u,k.stroke),strokeWidth:1.5}),re=G(M);return D(re,"bpmn:Lane")&&De(j,re.get("name"),M,k),ne}function Y(j,M,k={}){var ne=ye(j,M,k),re=Yr(M);if(Ea(M)&&(Wt(ne,{strokeDasharray:"0, 5.5",strokeWidth:2.5}),!re)){var te=(G(M).flowElements||[]).filter(Ke=>D(Ke,"bpmn:StartEvent"));1===te.length&&function ie(j,M,k,ne){var Se={fill:Gr(ne,c,k.fill),stroke:hn(ne,u,k.stroke),width:22,height:22},te=G(j).isInterrupting;E(M,20,20,{fill:Se.fill,stroke:Se.stroke,strokeWidth:te?1:1.2,strokeDasharray:te?0:3,transform:"translate(1,1)"}),$(j,M,Se,ne)}(te[0],j,k,M)}return me(j,M,re?"center-top":"center-middle",k),U(j,M,re?void 0:["SubProcessMarker"],k),ne}function se(j,M,k={}){var ne=ye(j,M,k);return me(j,M,"center-middle",k),U(j,M,void 0,k),ne}var $e=this.handlers={"bpmn:AdHocSubProcess":function(j,M,k={}){return Y(j,M,k=Yr(M)?fi(k,["fill","stroke","width","height"]):fi(k,["fill","stroke"]))},"bpmn:Association":function(j,M,k={}){return at(j,M,k=fi(k,["fill","stroke"]))},"bpmn:BoundaryEvent":function(j,M,k={}){var{renderIcon:ne=!0}=k;k=fi(k,["fill","stroke"]);var Se=G(M).get("cancelActivity");k={strokeWidth:1.5,fill:Gr(M,c,k.fill),fillOpacity:1,stroke:hn(M,u,k.stroke)},Se||(k.strokeDasharray="6");var te=be(j,M,k);return E(j,M.width,M.height,3,{...k,fill:"none"}),ne&&$(M,j,k),te},"bpmn:BusinessRuleTask":function(j,M,k={}){var ne=se(j,M,k=fi(k,["fill","stroke"]));return Wt(g(j,s.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}})),{fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:1}),Wt(g(j,s.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}})),{fill:hn(M,u,k.stroke),stroke:hn(M,u,k.stroke),strokeWidth:1}),ne},"bpmn:CallActivity":function(j,M,k={}){return k=fi(k,["fill","stroke"]),Y(j,M,{strokeWidth:5,...k})},"bpmn:ComplexGateway":function(j,M,k={}){var ne=ke(j,M,k=fi(k,["fill","stroke"]));return g(j,s.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:M.width,containerHeight:M.height,position:{mx:.46,my:.26}}),{fill:hn(M,u,k.stroke),stroke:hn(M,u,k.stroke),strokeWidth:1}),ne},"bpmn:DataInput":function(j,M,k={}){k=fi(k,["fill","stroke"]);var ne=s.getRawPath("DATA_ARROW"),re=_e(j,M,k);return g(j,ne,{fill:"none",stroke:hn(M,u,k.stroke),strokeWidth:1}),re},"bpmn:DataInputAssociation":function(j,M,k={}){return k=fi(k,["fill","stroke"]),at(j,M,{...k,markerEnd:m(j,"association-end",Gr(M,c,k.fill),hn(M,u,k.stroke))})},"bpmn:DataObject":function(j,M,k={}){return _e(j,M,k=fi(k,["fill","stroke"]))},"bpmn:DataObjectReference":I("bpmn:DataObject"),"bpmn:DataOutput":function(j,M,k={}){k=fi(k,["fill","stroke"]);var ne=s.getRawPath("DATA_ARROW"),re=_e(j,M,k);return g(j,ne,{strokeWidth:1,fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke)}),re},"bpmn:DataOutputAssociation":function(j,M,k={}){return k=fi(k,["fill","stroke"]),at(j,M,{...k,markerEnd:m(j,"association-end",Gr(M,c,k.fill),hn(M,u,k.stroke))})},"bpmn:DataStoreReference":function(j,M,k={}){return k=fi(k,["fill","stroke"]),g(j,s.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:M.width,containerHeight:M.height,position:{mx:0,my:.133}}),{fill:Gr(M,c,k.fill),fillOpacity:Bx,stroke:hn(M,u,k.stroke),strokeWidth:2})},"bpmn:EndEvent":function(j,M,k={}){var{renderIcon:ne=!0}=k;k=fi(k,["fill","stroke"]);var re=be(j,M,{...k,strokeWidth:4});return ne&&$(M,j,k),re},"bpmn:EventBasedGateway":function(j,M,k={}){k=fi(k,["fill","stroke"]);var ne=G(M),re=ke(j,M,k);E(j,M.width,M.height,.2*M.height,{fill:Gr(M,"none",k.fill),stroke:hn(M,u,k.stroke),strokeWidth:1});var Se=ne.get("eventGatewayType"),te=!!ne.get("instantiate");if("Parallel"===Se){var rt=s.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:M.width,containerHeight:M.height,position:{mx:.474,my:.296}});g(j,rt,{fill:"none",stroke:hn(M,u,k.stroke),strokeWidth:1})}else"Exclusive"===Se&&(te||E(j,M.width,M.height,.26*M.height,{fill:"none",stroke:hn(M,u,k.stroke),strokeWidth:1}),function Ke(){var Bt=s.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:M.width,containerHeight:M.height,position:{mx:.36,my:.44}});g(j,Bt,{fill:"none",stroke:hn(M,u,k.stroke),strokeWidth:2})}());return re},"bpmn:ExclusiveGateway":function(j,M,k={}){var ne=ke(j,M,k=fi(k,["fill","stroke"])),re=s.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:M.width,containerHeight:M.height,position:{mx:.32,my:.3}});return pi(M).get("isMarkerVisible")&&g(j,re,{fill:hn(M,u,k.stroke),stroke:hn(M,u,k.stroke),strokeWidth:1}),ne},"bpmn:Gateway":function(j,M,k={}){return ke(j,M,k=fi(k,["fill","stroke"]))},"bpmn:Group":function(j,M,k={}){return k=fi(k,["fill","stroke","width","height"]),_(j,M.width,M.height,10,{stroke:hn(M,u,k.stroke),strokeWidth:1.5,strokeDasharray:"10, 6, 0, 6",fill:"none",pointerEvents:"none",width:Kd(M,k),height:_u(M,k)})},"bpmn:InclusiveGateway":function(j,M,k={}){var ne=ke(j,M,k=fi(k,["fill","stroke"]));return E(j,M.width,M.height,.24*M.height,{fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:2.5}),ne},"bpmn:IntermediateEvent":function(j,M,k={}){var{renderIcon:ne=!0}=k;k=fi(k,["fill","stroke"]);var re=be(j,M,{...k,strokeWidth:1.5});return E(j,M.width,M.height,3,{fill:"none",stroke:hn(M,u,k.stroke),strokeWidth:1.5}),ne&&$(M,j,k),re},"bpmn:IntermediateCatchEvent":I("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":I("bpmn:IntermediateEvent"),"bpmn:Lane":function(j,M,k={}){return k=fi(k,["fill","stroke","width","height"]),Pe(j,M,{...k,fillOpacity:.25})},"bpmn:ManualTask":function(j,M,k={}){var ne=se(j,M,k=fi(k,["fill","stroke"]));return g(j,s.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:.5}),ne},"bpmn:MessageFlow":function(j,M,k={}){k=fi(k,["fill","stroke"]);var ne=G(M),re=pi(M),Se=Gr(M,c,k.fill),te=hn(M,u,k.stroke),Ke=w(j,M.waypoints,{markerEnd:m(j,"messageflow-end",Se,te),markerStart:m(j,"messageflow-start",Se,te),stroke:te,strokeDasharray:"10, 11",strokeWidth:1.5});if(ne.get("messageRef")){var rt=Ke.getPointAtLength(Ke.getTotalLength()/2),Bt=s.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:rt.x,y:rt.y}}),Kt={strokeWidth:1};"initiating"===re.get("messageVisibleKind")?(Kt.fill=Se,Kt.stroke=te):(Kt.fill=te,Kt.stroke=Se);var ft=g(j,Bt,Kt),B=H(j,ne.get("messageRef").get("name"),{align:"center-top",fitBox:!0,style:{fill:te}}),zt=ft.getBBox(),yt=B.getBBox();D7(B,rt.x-yt.width/2,rt.y+zt.height/2+10,0)}return Ke},"bpmn:ParallelGateway":function(j,M,k={}){var ne=ke(j,M,k=fi(k,["fill","stroke"]));return g(j,s.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:M.width,containerHeight:M.height,position:{mx:.46,my:.2}}),{fill:hn(M,u,k.stroke),stroke:hn(M,u,k.stroke),strokeWidth:1}),ne},"bpmn:Participant":function(j,M,k={}){var ne=Pe(j,M,k=fi(k,["fill","stroke","width","height"])),re=Yr(M),Se=_a(M),te=G(M),Ke=te.get("name");if(re)v(j,Se?[{x:30,y:0},{x:30,y:_u(M,k)}]:[{x:0,y:30},{x:Kd(M,k),y:30}],{stroke:hn(M,u,k.stroke),strokeWidth:1.5}),De(j,Ke,M,k);else{var Bt=US(M,k);Se||(Bt.height=Kd(M,k),Bt.width=_u(M,k));var Kt=H(j,Ke,{box:Bt,align:"center-middle",style:{fill:HS(M,d,u,k.stroke)}});Se||D7(Kt,0,1*_u(M,k),270)}return te.get("participantMultiplicity")&&K("ParticipantMultiplicityMarker",j,M,k),ne},"bpmn:ReceiveTask":function(j,M,k={}){k=fi(k,["fill","stroke"]);var Se,ne=G(M),re=se(j,M,k);return ne.get("instantiate")?(E(j,28,28,4.4,{fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:1}),Se=s.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):Se=s.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),g(j,Se,{fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:1}),re},"bpmn:ScriptTask":function(j,M,k={}){var ne=se(j,M,k=fi(k,["fill","stroke"]));return g(j,s.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:1}),ne},"bpmn:SendTask":function(j,M,k={}){var ne=se(j,M,k=fi(k,["fill","stroke"]));return g(j,s.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{fill:hn(M,u,k.stroke),stroke:Gr(M,c,k.fill),strokeWidth:1}),ne},"bpmn:SequenceFlow":function(j,M,k={}){k=fi(k,["fill","stroke"]);var ne=Gr(M,c,k.fill),re=hn(M,u,k.stroke),Se=w(j,M.waypoints,{markerEnd:m(j,"sequenceflow-end",ne,re),stroke:re}),te=G(M),{source:Ke}=M;if(Ke){var rt=G(Ke);te.get("conditionExpression")&&D(rt,"bpmn:Activity")&&Wt(Se,{markerStart:m(j,"conditional-flow-marker",ne,re)}),rt.get("default")&&(D(rt,"bpmn:Gateway")||D(rt,"bpmn:Activity"))&&rt.get("default")===te&&Wt(Se,{markerStart:m(j,"conditional-default-flow-marker",ne,re)})}return Se},"bpmn:ServiceTask":function(j,M,k={}){var ne=se(j,M,k=fi(k,["fill","stroke"]));return E(j,10,10,{fill:Gr(M,c,k.fill),stroke:"none",transform:"translate(6, 6)"}),g(j,s.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:1}),E(j,10,10,{fill:Gr(M,c,k.fill),stroke:"none",transform:"translate(11, 10)"}),g(j,s.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:1}),ne},"bpmn:StartEvent":function(j,M,k={}){var{renderIcon:ne=!0}=k;k=fi(k,["fill","stroke"]),G(M).get("isInterrupting")||(k={...k,strokeDasharray:"6"});var Se=be(j,M,k);return ne&&$(M,j,k),Se},"bpmn:SubProcess":function(j,M,k={}){return Y(j,M,k=Yr(M)?fi(k,["fill","stroke","width","height"]):fi(k,["fill","stroke"]))},"bpmn:Task":function(j,M,k={}){return se(j,M,k=fi(k,["fill","stroke"]))},"bpmn:TextAnnotation":function(j,M,k={}){k=fi(k,["fill","stroke","width","height"]);var{width:ne,height:re}=US(M,k),Se=_(j,ne,re,0,0,{fill:"none",stroke:"none"});return g(j,s.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:ne,containerHeight:re,position:{mx:0,my:0}}),{stroke:hn(M,u,k.stroke)}),H(j,G(M).get("text")||"",{align:"left-top",box:US(M,k),padding:7,style:{fill:HS(M,d,u,k.stroke)}}),Se},"bpmn:Transaction":function(j,M,k={}){k=Yr(M)?fi(k,["fill","stroke","width","height"]):fi(k,["fill","stroke"]);var ne=Y(j,M,{strokeWidth:1.5,...k}),re=i.style(["no-fill","no-events"],{stroke:hn(M,u,k.stroke),strokeWidth:1.5});return Yr(M)||(k={}),_(j,Kd(M,k),_u(M,k),7,3,re),ne},"bpmn:UserTask":function(j,M,k={}){var ne=se(j,M,k=fi(k,["fill","stroke"]));return g(j,s.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:.5}),g(j,s.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{fill:Gr(M,c,k.fill),stroke:hn(M,u,k.stroke),strokeWidth:.5}),g(j,s.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{fill:hn(M,u,k.stroke),stroke:hn(M,u,k.stroke),strokeWidth:.5}),ne},label:function(j,M,k={}){return function Re(j,M,k={}){var ne={width:90,height:30,x:M.width/2+M.x,y:M.height/2+M.y};return H(j,bu(M),{box:ne,fitBox:!0,style:Ce({},a.getExternalStyle(),{fill:HS(M,d,u,k.stroke)})})}(j,M,k)}};this._drawPath=g,this._renderer=T}function fi(t,n=[]){return n.reduce((i,s)=>(t[s]&&(i[s]=t[s]),i),{})}Jt(wb,$c),wb.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],wb.prototype.canRender=function(t){return D(t,"bpmn:BaseElement")},wb.prototype.drawShape=function(t,n,i={}){var{type:s}=n;return this._renderer(s)(t,n,i)},wb.prototype.drawConnection=function(t,n,i={}){var{type:s}=n;return this._renderer(s)(t,n,i)},wb.prototype.getShapePath=function(t){return D(t,"bpmn:Event")?function sQe(t){var s=t.width/2;return xb([["M",t.x+t.width/2,t.y+t.height/2],["m",0,-s],["a",s,s,0,1,1,0,2*s],["a",s,s,0,1,1,0,-2*s],["z"]])}(t):D(t,"bpmn:Activity")?function oQe(t,n){var o=t.width,a=t.height;return xb([["M",t.x+n,t.y],["l",o-2*n,0],["a",n,n,0,0,1,n,n],["l",0,a-2*n],["a",n,n,0,0,1,-n,n],["l",2*n-o,0],["a",n,n,0,0,1,-n,-n],["l",0,2*n-a],["a",n,n,0,0,1,n,-n],["z"]])}(t,10):D(t,"bpmn:Gateway")?function aQe(t){var a=t.width/2,l=t.height/2;return xb([["M",t.x+a,t.y],["l",a,l],["l",-a,l],["l",-a,-l],["z"]])}(t):function lQe(t){var s=t.width;return xb([["M",t.x,t.y],["l",s,0],["l",0,t.height],["l",-s,0],["z"]])}(t)};var AQe={width:150,height:50};function NQe(t,n){var i;n.textContent=t;try{var s,o=""===t;return n.textContent=o?"dummy":t,s={width:(i=n.getBBox()).width+2*i.x,height:i.height},o&&(s.width=0),s}catch(a){return console.log(a),{width:0,height:0}}}function LQe(t,n,i){for(var a,s=t.shift(),o=s;;){if((a=NQe(o,i)).width=o?a.width:0," "===o||""===o||a.width<Math.round(n)||o.length<2)return FQe(t,o,s,a);o=$Qe(o,a.width,n)}}function FQe(t,n,i,s){if(n.length<i.length){var o=i.slice(n.length).trim();t.unshift(o)}return{width:s.width,height:s.height,text:n}}var ofe="\xad";function $Qe(t,n,i){var s=Math.max(t.length*(i/n),1),o=function BQe(t,n){var s,i=t.split(/(\s|-|\u00AD)/g),o=[],a=0;if(i.length>1)for(;s=i.shift();){if(!(s.length+a<n)){("-"===s||s===ofe)&&o.pop();break}o.push(s),a+=s.length}var l=o[o.length-1];return l&&l===ofe&&(o[o.length-1]="-"),o.join("")}(t,s);return o||(o=t.slice(0,Math.max(Math.round(s-1),1))),o}function qS(t){this._config=Ce({},{size:AQe,padding:0,style:{},align:"center-top"},t||{})}function afe(t){var n=Ce({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},t&&t.defaultStyle||{}),i=parseInt(n.fontSize,10)-1,s=Ce({},n,{fontSize:i},t&&t.externalStyle||{}),o=new qS({style:n});this.getExternalLabelBounds=function(a,l){var c=o.getDimensions(l,{box:{width:90,height:30},style:s});return{x:Math.round(a.x+a.width/2-c.width/2),y:Math.round(a.y),width:Math.ceil(c.width),height:Math.ceil(c.height)}},this.getTextAnnotationBounds=function(a,l){var c=o.getDimensions(l,{box:a,style:n,align:"left-top",padding:5});return{x:a.x,y:a.y,width:a.width,height:Math.max(30,Math.round(c.height))}},this.createText=function(a,l){return o.createText(a,l||{})},this.getDefaultStyle=function(){return n},this.getExternalStyle=function(){return s}}qS.prototype.createText=function(t,n){return this.layoutText(t,n).element},qS.prototype.getDimensions=function(t,n){return this.layoutText(t,n).dimensions},qS.prototype.layoutText=function(t,n){var i=Ce({},this._config.size,n.box),s=Ce({},this._config.style,n.style),o=function IQe(t){var n=t.split("-");return{horizontal:n[0]||"center",vertical:n[1]||"top"}}(n.align||this._config.align),a=function RQe(t){return si(t)?Ce({top:0,left:0,right:0,bottom:0},t):{top:t,left:t,right:t,bottom:t}}(void 0!==n.padding?n.padding:this._config.padding),l=n.fitBox||!1,c=function jQe(t){if("fontSize"in t&&"lineHeight"in t)return t.lineHeight*parseInt(t.fontSize,10)}(s),u=t.split(/\u00AD?\r?\n/),d=[],p=i.width-a.left-a.right,f=an("text");Wt(f,{x:0,y:0}),Wt(f,s);var h=function VQe(){var t=document.getElementById("helper-svg");return t||(Wt(t=an("svg"),{id:"helper-svg"}),Dl(t,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(t)),t}();for(On(h,f);u.length;)d.push(LQe(u,p,f));"middle"===o.vertical&&(a.top=a.bottom=0);var m=Ts(d,function(v,w,g){return v+(c||w.height)},0)+a.top+a.bottom,y=Ts(d,function(v,w,g){return w.width>v?w.width:v},0),E=a.top;"middle"===o.vertical&&(E+=(i.height-m)/2),E-=(c||d[0].height)/4;var _=an("text");return Wt(_,s),fe(d,function(v){var w;switch(E+=c||v.height,o.horizontal){case"left":w=a.left;break;case"right":w=(l?y:p)-a.right-v.width;break;default:w=Math.max(((l?y:p)-v.width)/2+a.left,0)}var g=an("tspan");Wt(g,{x:w,y:E}),g.textContent=v.text,On(_,g)}),Ro(f),{dimensions:{width:y,height:m},element:_}},afe.$inject=["config.textRenderer"];var WQe=/\{([^{}]+)\}/g,GQe=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;const XQe={__init__:["bpmnRenderer"],bpmnRenderer:["type",wb],textRenderer:["type",afe],pathMap:["type",function qQe(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(n){return this.pathMap[n].d},this.getScaledPath=function(n,i){var o,a,s=this.pathMap[n];i.abspos?(o=i.abspos.x,a=i.abspos.y):(o=i.containerWidth*i.position.mx,a=i.containerHeight*i.position.my);var l={};if(i.position){for(var c=i.containerHeight/s.height*i.yScaleFactor,u=i.containerWidth/s.width*i.xScaleFactor,d=0;d<s.heightElements.length;d++)l["y"+d]=s.heightElements[d]*c;for(var p=0;p<s.widthElements.length;p++)l["x"+p]=s.widthElements[p]*u}var f=function YQe(t,n){return String(t).replace(WQe,function(i,s){return function KQe(t,n,i){var s=i;return n.replace(GQe,function(o,a,l,c,u){a=a||c,s&&(a in s&&(s=s[a]),"function"==typeof s&&u&&(s=s()))}),s=(null==s||s==i?t:s)+""}(i,s,n)})}(s.d,{mx:o,my:a,e:l});return f}}]},nl={translate:["value",function QQe(t,n){return n=n||{},t.replace(/{([^}]+)}/g,function(i,s){return n[s]||"{"+s+"}"})}]};function WS(t,n){return t&&n?Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)):-1}function VH(t,n,i,s){if(typeof s>"u"&&(s=5),!t||!n||!i)return!1;var o=(n.x-t.x)*(i.y-t.y)-(n.y-t.y)*(i.x-t.x),a=WS(t,n);return Math.abs(o/a)<=s}function em(t,n){var i=Array.from(arguments).flat();const s={x:"v",y:"h"};for(const[o,a]of Object.entries(s))if(JQe(o,i))return a;return!1}function JQe(t,n){const i=n[0];return yu(n,function(s){return Math.abs(i[t]-s[t])<=2})}function lfe(t,n,i){return t.x>n.x-(i=i||0)&&t.y>n.y-i&&t.x<n.x+n.width+i&&t.y<n.y+n.height+i}function jH(t,n){return{x:Math.round(t.x+(n.x-t.x)/2),y:Math.round(t.y+(n.y-t.y)/2)}}var eZe=/,?([a-z]),?/gi,cfe=parseFloat,No=Math,_1=No.PI,bh=No.min,_h=No.max,ufe=No.pow,E1=No.abs,tZe=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,nZe=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,A7=Array.isArray||function(t){return t instanceof Array};function zH(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function GS(t){if("function"==typeof t||Object(t)!==t)return t;var n=new t.constructor;for(var i in t)zH(t,i)&&(n[i]=GS(t[i]));return n}function $x(t){var n=$x.ps=$x.ps||{};return n[t]?n[t].sleep=100:n[t]={sleep:100},setTimeout(function(){for(var i in n)zH(n,i)&&i!=t&&(n[i].sleep--,!n[i].sleep&&delete n[i])}),n[t]}function HH(t,n,i,s){return 1===arguments.length&&(n=t.y,i=t.width,s=t.height,t=t.x),{x:t,y:n,width:i,height:s,x2:t+i,y2:n+s}}function dfe(){return this.join(",").replace(eZe,"$1")}function I7(t){var n=GS(t);return n.toString=dfe,n}function pfe(t,n,i,s,o,a,l,c,u){var d=1-u,p=ufe(d,3),f=ufe(d,2),m=u*u*u,E=p*n+3*f*u*s+3*d*u*u*a+m*c;return{x:R7(p*t+3*f*u*i+3*d*u*u*o+m*l),y:R7(E)}}function ffe(t){var n=function uZe(t,n,i,s,o,a,l,c){for(var p,f,h,m,y,E,_,S,u=[],d=[[],[]],v=0;v<2;++v)if(0==v?(f=6*t-12*i+6*o,p=-3*t+9*i-9*o+3*l,h=3*i-3*t):(f=6*n-12*s+6*a,p=-3*n+9*s-9*a+3*c,h=3*s-3*n),E1(p)<1e-12){if(E1(f)<1e-12)continue;0<(m=-h/f)&&m<1&&u.push(m)}else S=No.sqrt(_=f*f-4*h*p),!(_<0)&&(0<(y=(-f+S)/(2*p))&&y<1&&u.push(y),0<(E=(-f-S)/(2*p))&&E<1&&u.push(E));for(var x,w=u.length,g=w;w--;)d[0][w]=(x=1-(m=u[w]))*x*x*t+3*x*x*m*i+3*x*m*m*o+m*m*m*l,d[1][w]=x*x*x*n+3*x*x*m*s+3*x*m*m*a+m*m*m*c;return d[0][g]=t,d[1][g]=n,d[0][g+1]=l,d[1][g+1]=c,d[0].length=d[1].length=g+2,{x0:bh(...d[0]),y0:bh(...d[1]),x1:_h(...d[0]),y1:_h(...d[1])}}(...t);return HH(n.x0,n.y0,n.x1-n.x0,n.y1-n.y0)}function x1(t,n,i){return n>=t.x&&n<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}function hfe(t,n,i,s,o){return t*(t*(-3*n+9*i-9*s+3*o)+6*n-12*i+6*s)-3*n+3*i}function mfe(t,n,i,s,o,a,l,c,u){null==u&&(u=1);for(var d=(u=u>1?1:u<0?0:u)/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],m=0,y=0;y<12;y++){var E=d*f[y]+d,_=hfe(E,t,i,o,l),S=hfe(E,n,s,a,c);m+=h[y]*No.sqrt(_*_+S*S)}return d*m}function aZe(t,n,i,s,o,a,l,c){if(!(_h(t,i)<bh(o,l)||bh(t,i)>_h(o,l)||_h(n,s)<bh(a,c)||bh(n,s)>_h(a,c))){var d=(t*s-n*i)*(a-c)-(n-s)*(o*c-a*l),p=(t-i)*(a-c)-(n-s)*(o-l);if(p){var f=R7(((t*s-n*i)*(o-l)-(t-i)*(o*c-a*l))/p),h=R7(d/p),m=+f.toFixed(2),y=+h.toFixed(2);if(!(m<+bh(t,i).toFixed(2)||m>+_h(t,i).toFixed(2)||m<+bh(o,l).toFixed(2)||m>+_h(o,l).toFixed(2)||y<+bh(n,s).toFixed(2)||y>+_h(n,s).toFixed(2)||y<+bh(a,c).toFixed(2)||y>+_h(a,c).toFixed(2)))return{x:f,y:h}}}}function R7(t){return Math.round(1e11*t)/1e11}function lZe(t,n,i){if(!function oZe(t,n){return t=HH(t),x1(n=HH(n),t.x,t.y)||x1(n,t.x2,t.y)||x1(n,t.x,t.y2)||x1(n,t.x2,t.y2)||x1(t,n.x,n.y)||x1(t,n.x2,n.y)||x1(t,n.x,n.y2)||x1(t,n.x2,n.y2)||(t.x<n.x2&&t.x>n.x||n.x<t.x2&&n.x>t.x)&&(t.y<n.y2&&t.y>n.y||n.y<t.y2&&n.y>t.y)}(ffe(t),ffe(n)))return i?0:[];for(var a=mfe(...t),l=mfe(...n),c=yfe(t)?1:~~(a/5)||1,u=yfe(n)?1:~~(l/5)||1,d=[],p=[],f={},h=i?0:[],m=0;m<c+1;m++){var y=pfe(...t,m/c);d.push({x:y.x,y:y.y,t:m/c})}for(m=0;m<u+1;m++)y=pfe(...n,m/u),p.push({x:y.x,y:y.y,t:m/u});for(m=0;m<c;m++)for(var E=0;E<u;E++){var I,_=d[m],S=d[m+1],v=p[E],w=p[E+1],g=E1(S.x-_.x)<.01?"y":"x",x=E1(w.x-v.x)<.01?"y":"x",T=aZe(_.x,_.y,S.x,S.y,v.x,v.y,w.x,w.y);if(T){if(f[I=T.x.toFixed(9)+"#"+T.y.toFixed(9)])continue;f[I]=!0;var A=_.t+E1((T[g]-_[g])/(S[g]-_[g]))*(S.t-_.t),$=v.t+E1((T[x]-v[x])/(w[x]-v[x]))*(w.t-v.t);A>=0&&A<=1&&$>=0&&$<=1&&(i?h++:h.push({x:T.x,y:T.y,t1:A,t2:$}))}}return h}function gfe(t,n,i){t=_fe(t),n=_fe(n);for(var s,o,a,l,c,u,d,p,f,h,m=i?0:[],y=0,E=t.length;y<E;y++){var _=t[y];if("M"==_[0])s=c=_[1],o=u=_[2];else{"C"==_[0]?(s=(f=[s,o,..._.slice(1)])[6],o=f[7]):(f=[s,o,s,o,c,u,c,u],s=c,o=u);for(var S=0,v=n.length;S<v;S++){var w=n[S];if("M"==w[0])a=d=w[1],l=p=w[2];else{"C"==w[0]?(a=(h=[a,l,...w.slice(1)])[6],l=h[7]):(h=[a,l,a,l,d,p,d,p],a=d,l=p);var g=lZe(f,h,i);if(i)m+=g;else{for(var x=0,T=g.length;x<T;x++)g[x].segment1=y,g[x].segment2=S,g[x].bez1=f,g[x].bez2=h;m=m.concat(g)}}}}}return m}function yfe(t){return t[0]===t[2]&&t[1]===t[3]&&t[4]===t[6]&&t[5]===t[7]}function N7(t,n,i,s){return[t,n,i,s,i,s]}function vfe(t,n,i,s,o,a){var l=.3333333333333333,c=2/3;return[l*t+c*i,l*n+c*s,l*o+c*i,l*a+c*s,o,a]}function bfe(t,n,i,s,o,a,l,c,u,d){var m,p=120*_1/180,f=_1/180*(+o||0),h=[],y=function iZe(t){return function n(){var s=Array.prototype.slice.call(arguments,0).join("\u2400"),o=n.cache=n.cache||{},a=n.count=n.count||[];return zH(o,s)?(function rZe(t,n){for(var i=0,s=t.length;i<s;i++)if(t[i]===n)return t.push(t.splice(i,1)[0])}(a,s),o[s]):(a.length>=1e3&&delete o[a.shift()],a.push(s),o[s]=t(...arguments),o[s])}}(function(j,M,k){return{x:j*No.cos(k)-M*No.sin(k),y:j*No.sin(k)+M*No.cos(k)}});if(d)I=d[0],A=d[1],x=d[2],T=d[3];else{n=(m=y(t,n,-f)).y;var E=((t=m.x)-(c=(m=y(c,u,-f)).x))/2,_=(n-(u=m.y))/2,S=E*E/(i*i)+_*_/(s*s);S>1&&(i*=S=No.sqrt(S),s*=S);var v=i*i,w=s*s,g=(a==l?-1:1)*No.sqrt(E1((v*w-v*_*_-w*E*E)/(v*_*_+w*E*E))),x=g*i*_/s+(t+c)/2,T=g*-s*E/i+(n+u)/2,I=No.asin(((n-T)/s).toFixed(9)),A=No.asin(((u-T)/s).toFixed(9));(I=t<x?_1-I:I)<0&&(I=2*_1+I),(A=c<x?_1-A:A)<0&&(A=2*_1+A),l&&I>A&&(I-=2*_1),!l&&A>I&&(A-=2*_1)}var $=A-I;if(E1($)>p){var z=A,K=c,U=u;h=bfe(c=x+i*No.cos(A=I+p*(l&&A>I?1:-1)),u=T+s*No.sin(A),i,s,o,0,l,K,U,[A,z,x,T])}$=A-I;var H=No.cos(I),me=No.sin(I),Re=No.cos(A),De=No.sin(A),ye=No.tan($/4),at=4/3*i*ye,_e=4/3*s*ye,be=[t,n],ke=[t+at*me,n-_e*H],Pe=[c+at*De,u-_e*Re],Y=[c,u];if(ke[0]=2*be[0]-ke[0],ke[1]=2*be[1]-ke[1],d)return[ke,Pe,Y].concat(h);for(var ie=[],se=0,$e=(h=[ke,Pe,Y].concat(h).join().split(",")).length;se<$e;se++)ie[se]=se%2?y(h[se-1],h[se],f).y:y(h[se],h[se+1],f).x;return ie}function _fe(t){var n=$x(t);if(n.curve)return I7(n.curve);for(var i=function cZe(t){var n=$x(t);if(n.abs)return I7(n.abs);if((!A7(t)||!A7(t&&t[0]))&&(t=function sZe(t){if(!t)return null;var n=$x(t);if(n.arr)return GS(n.arr);var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},s=[];return A7(t)&&A7(t[0])&&(s=GS(t)),s.length||String(t).replace(tZe,function(o,a,l){var c=[],u=a.toLowerCase();for(l.replace(nZe,function(d,p){p&&c.push(+p)}),"m"==u&&c.length>2&&(s.push([a,...c.splice(0,2)]),u="l",a="m"==a?"l":"L");c.length>=i[u]&&(s.push([a,...c.splice(0,i[u])]),i[u]););}),s.toString=$x.toString,n.arr=GS(s),s}(t)),!t||!t.length)return[["M",0,0]];var u,i=[],s=0,o=0,a=0,l=0,c=0;"M"==t[0][0]&&(a=s=+t[0][1],l=o=+t[0][2],c++,i[0]=["M",s,o]);for(var d,p,f=c,h=t.length;f<h;f++){if(i.push(d=[]),(u=(p=t[f])[0])!=u.toUpperCase())switch(d[0]=u.toUpperCase(),d[0]){case"A":d[1]=p[1],d[2]=p[2],d[3]=p[3],d[4]=p[4],d[5]=p[5],d[6]=+p[6]+s,d[7]=+p[7]+o;break;case"V":d[1]=+p[1]+o;break;case"H":d[1]=+p[1]+s;break;case"M":a=+p[1]+s,l=+p[2]+o;default:for(var m=1,y=p.length;m<y;m++)d[m]=+p[m]+(m%2?s:o)}else for(var E=0,_=p.length;E<_;E++)d[E]=p[E];switch(u=u.toUpperCase(),d[0]){case"Z":s=+a,o=+l;break;case"H":s=d[1];break;case"V":o=d[1];break;case"M":a=d[d.length-2],l=d[d.length-1];default:s=d[d.length-2],o=d[d.length-1]}}return i.toString=dfe,n.abs=I7(i),i}(t),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=function(m,y,E){var _,S;if(!m)return["C",y.x,y.y,y.x,y.y,y.x,y.y];switch(!(m[0]in{T:1,Q:1})&&(y.qx=y.qy=null),m[0]){case"M":y.X=m[1],y.Y=m[2];break;case"A":m=["C",...bfe(y.x,y.y,...m.slice(1))];break;case"S":"C"==E||"S"==E?(_=2*y.x-y.bx,S=2*y.y-y.by):(_=y.x,S=y.y),m=["C",_,S,...m.slice(1)];break;case"T":"Q"==E||"T"==E?(y.qx=2*y.x-y.qx,y.qy=2*y.y-y.qy):(y.qx=y.x,y.qy=y.y),m=["C",...vfe(y.x,y.y,y.qx,y.qy,m[1],m[2])];break;case"Q":y.qx=m[1],y.qy=m[2],m=["C",...vfe(y.x,y.y,m[1],m[2],m[3],m[4])];break;case"L":m=["C",...N7(y.x,y.y,m[1],m[2])];break;case"H":m=["C",...N7(y.x,y.y,m[1],y.y)];break;case"V":m=["C",...N7(y.x,y.y,y.x,m[1])];break;case"Z":m=["C",...N7(y.x,y.y,y.X,y.Y)]}return m},a=function(m,y){if(m[y].length>7){m[y].shift();for(var E=m[y];E.length;)l[y]="A",m.splice(y++,0,["C",...E.splice(0,6)]);m.splice(y,1),p=i.length}},l=[],c="",u="",d=0,p=i.length;d<p;d++){i[d]&&(c=i[d][0]),"C"!=c&&(l[d]=c,d&&(u=l[d-1])),i[d]=o(i[d],s,u),"A"!=l[d]&&"C"==c&&(l[d]="C"),a(i,d);var f=i[d],h=f.length;s.x=f[h-2],s.y=f[h-1],s.bx=cfe(f[h-4])||s.x,s.by=cfe(f[h-3])||s.y}return n.curve=I7(i),i}function Efe(t){return{x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height)}}function tm(t){return{x:Math.round(t.x),y:Math.round(t.y)}}function En(t){return{top:t.y,right:t.x+(t.width||0),bottom:t.y+(t.height||0),left:t.x}}function L7(t){return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}function An(t){return Zi(t)?function pZe(t){for(var n=t.waypoints,i=n.reduce(function(d,p,f){var h=n[f-1];if(h){var m=d[d.length-1],y=m&&m.endLength||0,E=function mZe(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}(h,p);d.push({start:h,end:p,startLength:y,endLength:y+E,length:E})}return d},[]),o=i.reduce(function(d,p){return d+p.length},0)/2,a=0,l=i[a];l.endLength<o;)l=i[++a];var c=(o-l.startLength)/l.length;return{x:l.start.x+(l.end.x-l.start.x)*c,y:l.start.y+(l.end.y-l.start.y)*c}}(t):function dZe(t){return tm({x:t.x+(t.width||0)/2,y:t.y+(t.height||0)/2})}(t)}function Ws(t,n,i){si(i=i||0)||(i={x:i,y:i});var s=En(t),o=En(n),d=s.bottom+i.y<=o.top?"top":s.top-i.y>=o.bottom?"bottom":null,p=s.right+i.x<=o.left?"left":s.left-i.x>=o.right?"right":null;return p&&d?d+"-"+p:p||d||"intersect"}function UH(t,n,i){var s=function fZe(t,n){return gfe(t,n)}(t,n);return 1===s.length||2===s.length&&WS(s[0],s[1])<1?tm(s[0]):s.length>1?tm((s=ba(s,function(o){var a=Math.floor(100*o.t2)||1;return o.segment2+"#"+((a=100-a)<10?"0":"")+a}))[i?0:s.length-1]):null}function Ml(t){return t?"<"+t.$type+(t.id?' id="'+t.id:"")+'" />':"<null>"}function F7(t,n,i){return Ce({id:t.id,type:t.$type,businessObject:t,di:n},i)}function gZe(t,n,i){var s=t.waypoint;return!s||s.length<2?[An(n),An(i)]:s.map(function(o){return{x:o.x,y:o.y}})}function xfe(t,n,i){return new Error(`element ${Ml(n)} referenced by ${Ml(t)}#${i} not yet drawn`)}function nm(t,n,i,s,o){this._eventBus=t,this._canvas=n,this._elementFactory=i,this._elementRegistry=s,this._textRenderer=o}nm.$inject=["eventBus","canvas","elementFactory","elementRegistry","textRenderer"],nm.prototype.add=function(t,n,i){var s,a;if(D(n,"bpmndi:BPMNPlane")){var l=D(t,"bpmn:SubProcess")?{id:t.id+"_plane"}:{};s=this._elementFactory.createRoot(F7(t,n,l)),this._canvas.addRootElement(s)}else if(D(n,"bpmndi:BPMNShape")){var c=!Yr(t,n),u=function vZe(t){return D(t,"bpmn:Group")}(t),d=n.bounds;s=this._elementFactory.createShape(F7(t,n,{collapsed:c,hidden:i&&(i.hidden||i.collapsed),x:Math.round(d.x),y:Math.round(d.y),width:Math.round(d.width),height:Math.round(d.height),isFrame:u})),D(t,"bpmn:BoundaryEvent")&&this._attachBoundary(t,s),D(t,"bpmn:Lane")&&(a=0),D(t,"bpmn:DataStoreReference")&&(function yZe(t,n){var i=n.x,s=n.y;return i>=t.x&&i<=t.x+t.width&&s>=t.y&&s<=t.y+t.height}(i,An(d))||(i=this._canvas.findRoot(i))),this._canvas.addShape(s,i,a)}else{if(!D(n,"bpmndi:BPMNEdge"))throw new Error(`unknown di ${Ml(n)} for element ${Ml(t)}`);var p=this._getSource(t),f=this._getTarget(t);s=this._elementFactory.createConnection(F7(t,n,{hidden:i&&(i.hidden||i.collapsed),source:p,target:f,waypoints:gZe(n,p,f)})),D(t,"bpmn:DataAssociation")&&(i=this._canvas.findRoot(i)),this._canvas.addConnection(s,i,a)}return _b(t)&&bu(s)&&this.addLabel(t,n,s),this._eventBus.fire("bpmnElement.added",{element:s}),s},nm.prototype._attachBoundary=function(t,n){var i=t.attachedToRef;if(!i)throw new Error(`missing ${Ml(t)}#attachedToRef`);var s=this._elementRegistry.get(i.id),o=s&&s.attachers;if(!s)throw xfe(t,i,"attachedToRef");n.host=s,o||(s.attachers=o=[]),-1===o.indexOf(n)&&o.push(n)},nm.prototype.addLabel=function(t,n,i){var s,o,a;return s=function FXe(t,n){var i,s,o,a=t.label;return a&&a.bounds?(o=a.bounds,s={width:Math.max($S.width,o.width),height:o.height},i={x:o.x+o.width/2,y:o.y+o.height/2}):(i=SH(n),s=$S),Ce({x:i.x-s.width/2,y:i.y-s.height/2},s)}(n,i),(o=bu(i))&&(s=this._textRenderer.getExternalLabelBounds(s,o)),a=this._elementFactory.createLabel(F7(t,n,{id:t.id+"_label",labelTarget:i,type:"label",hidden:i.hidden||!bu(i),x:Math.round(s.x),y:Math.round(s.y),width:Math.round(s.width),height:Math.round(s.height)})),this._canvas.addShape(a,i.parent)},nm.prototype._getConnectedElement=function(t,n){var i,s,o=t.$type;if(s=t[n+"Ref"],"source"===n&&"bpmn:DataInputAssociation"===o&&(s=s&&s[0]),("source"===n&&"bpmn:DataOutputAssociation"===o||"target"===n&&"bpmn:DataInputAssociation"===o)&&(s=t.$parent),i=s&&this._getElement(s))return i;throw s?xfe(t,s,n+"Ref"):new Error(`${Ml(t)}#${n} Ref not specified`)},nm.prototype._getSource=function(t){return this._getConnectedElement(t,"source")},nm.prototype._getTarget=function(t){return this._getConnectedElement(t,"target")},nm.prototype._getElement=function(t){return this._elementRegistry.get(t.id)};const bZe={__depends__:[XQe,{__depends__:[nl],bpmnImporter:["type",nm]}]};function B7(t){return Bn(t,function(n){return!Gt(t,function(i){return i!==n&&wfe(n,i)})})}function wfe(t,n){if(n){if(t===n)return n;if(t.parent)return wfe(t.parent,n)}}function Cfe(t,n,i){var s=!i||-1===t.indexOf(n);return s&&t.push(n),s}function Cb(t,n,i){i=i||0,Xt(t)||(t=[t]),fe(t,function(s,o){var a=n(s,o,i);Xt(a)&&a.length&&Cb(a,n,i+1)})}function KS(t,n){return function Sfe(t,n,i){var s=[],o=[];return Cb(t,function(a,l,c){Cfe(s,a,n);var u=a.children;if((-1===i||c<i)&&u&&Cfe(o,u,n))return u}),s}(t,!n,-1)}function ea(t,n){var i,s,o,a;return n=!!n,Xt(t)||(t=[t]),fe(t,function(l){var c=l;l.waypoints&&!n&&(c=ea(l.waypoints,!0));var u=c.x,d=c.y,p=c.height||0,f=c.width||0;(u<i||void 0===i)&&(i=u),(d<s||void 0===s)&&(s=d),(u+f>o||void 0===o)&&(o=u+f),(d+p>a||void 0===a)&&(a=d+p)}),{x:i,y:s,height:a-s,width:o-i}}function Ofe(t,n){var i={};return fe(t,function(s){var o=s;o.waypoints&&(o=ea(o)),!Ln(n.y)&&o.x>n.x&&(i[s.id]=s),!Ln(n.x)&&o.y>n.y&&(i[s.id]=s),o.x>n.x&&o.y>n.y&&(Ln(n.width)&&Ln(n.height)&&o.width+o.x<n.width+n.x&&o.height+o.y<n.height+n.y||!Ln(n.width)||!Ln(n.height))&&(i[s.id]=s)}),i}function Tfe(t){return"waypoints"in t?"connection":"x"in t?"shape":"root"}function Pfe(t){return!(!t||!t.isFrame)}function YS(t,n){return Ce({},t||{},n||{})}function Vx(t){this._counter=0,this._prefix=(t?t+"-":"")+Math.floor(1e9*Math.random())+"-"}Vx.prototype.next=function(){return this._prefix+ ++this._counter};var EZe=new Vx("ov");function Fa(t,n,i,s){this._eventBus=n,this._canvas=i,this._elementRegistry=s,this._ids=EZe,this._overlayDefaults=Ce({show:null,scale:!0},t&&t.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=function wZe(t){var n=Xr('<div class="djs-overlay-container" />');return Dl(n,{position:"absolute",width:0,height:0}),t.insertBefore(n,t.firstChild),n}(i.getContainer()),this._init()}function Dfe(t,n,i){Dl(t,{left:n+"px",top:i+"px"})}function $7(t,n){t.style.display=!1===n?"none":""}function kfe(t,n){t.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(i){t.style[i+"transform"]=n})}Fa.$inject=["config.overlays","eventBus","canvas","elementRegistry"],Fa.prototype.get=function(t){if(Or(t)&&(t={id:t}),Or(t.element)&&(t.element=this._elementRegistry.get(t.element)),t.element){var n=this._getOverlayContainer(t.element,!0);return n?t.type?Bn(n.overlays,af({type:t.type})):n.overlays.slice():[]}return t.type?Bn(this._overlays,af({type:t.type})):t.id?this._overlays[t.id]:null},Fa.prototype.add=function(t,n,i){if(si(n)&&(i=n,n=null),t.id||(t=this._elementRegistry.get(t)),!i.position)throw new Error("must specifiy overlay position");if(!i.html)throw new Error("must specifiy overlay html");if(!t)throw new Error("invalid element specified");var s=this._ids.next();return i=Ce({},this._overlayDefaults,i,{id:s,type:n,element:t,html:i.html}),this._addOverlay(i),s},Fa.prototype.remove=function(t){var n=this.get(t)||[];Xt(n)||(n=[n]);var i=this;fe(n,function(s){var o=i._getOverlayContainer(s.element,!0);if(s&&(el(s.html),el(s.htmlContainer),delete s.htmlContainer,delete s.element,delete i._overlays[s.id]),o){var a=o.overlays.indexOf(s);-1!==a&&o.overlays.splice(a,1)}})},Fa.prototype.isShown=function(){return"none"!==this._overlayRoot.style.display},Fa.prototype.show=function(){$7(this._overlayRoot)},Fa.prototype.hide=function(){$7(this._overlayRoot,!1)},Fa.prototype.clear=function(){this._overlays={},this._overlayContainers=[],C7(this._overlayRoot)},Fa.prototype._updateOverlayContainer=function(t){var n=t.element,i=t.html,s=n.x,o=n.y;if(n.waypoints){var a=ea(n);s=a.x,o=a.y}Dfe(i,s,o),xa(t.html,"data-container-id",n.id)},Fa.prototype._updateOverlay=function(t){var l,c,n=t.position,i=t.htmlContainer,s=t.element,o=n.left,a=n.top;void 0!==n.right&&(l=s.waypoints?ea(s).width:s.width,o=-1*n.right+l),void 0!==n.bottom&&(c=s.waypoints?ea(s).height:s.height,a=-1*n.bottom+c),Dfe(i,o||0,a||0),this._updateOverlayVisibilty(t,this._canvas.viewbox())},Fa.prototype._createOverlayContainer=function(t){var n=Xr('<div class="djs-overlays" />');Dl(n,{position:"absolute"}),this._overlayRoot.appendChild(n);var i={html:n,element:t,overlays:[]};return this._updateOverlayContainer(i),this._overlayContainers.push(i),i},Fa.prototype._updateRoot=function(t){var n=t.scale||1,i="matrix("+[n,0,0,n,-1*t.x*n,-1*t.y*n].join(",")+")";kfe(this._overlayRoot,i)},Fa.prototype._getOverlayContainer=function(t,n){var i=Gt(this._overlayContainers,function(s){return s.element===t});return i||n?i:this._createOverlayContainer(t)},Fa.prototype._addOverlay=function(t){var o,a,n=t.id,i=t.element,s=t.html;s.get&&s.constructor.prototype.jquery&&(s=s.get(0)),Or(s)&&(s=Xr(s)),a=this._getOverlayContainer(i),Dl(o=Xr('<div class="djs-overlay" data-overlay-id="'+n+'">'),{position:"absolute"}),o.appendChild(s),t.type&&br(o).add("djs-overlay-"+t.type),$7(o,this._canvas.findRoot(i)===this._canvas.getRootElement()),t.htmlContainer=o,a.overlays.push(t),a.html.appendChild(o),this._overlays[n]=t,this._updateOverlay(t),this._updateOverlayVisibilty(t,this._canvas.viewbox())},Fa.prototype._updateOverlayVisibilty=function(t,n){var i=t.show,s=this._canvas.findRoot(t.element),o=i&&i.minZoom,a=i&&i.maxZoom,l=t.htmlContainer,u=!0;(s!==this._canvas.getRootElement()||i&&(Ki(o)&&o>n.scale||Ki(a)&&a<n.scale))&&(u=!1),$7(l,u),this._updateOverlayScale(t,n)},Fa.prototype._updateOverlayScale=function(t,n){var s,o,l,i=t.scale,a=t.htmlContainer,c="";!0!==i&&(!1===i?(s=1,o=1):(s=i.min,o=i.max),Ki(s)&&n.scale<s&&(l=(1/n.scale||1)*s),Ki(o)&&n.scale>o&&(l=(1/n.scale||1)*o)),Ki(l)&&(c="scale("+l+","+l+")"),kfe(a,c)},Fa.prototype._updateOverlaysVisibilty=function(t){var n=this;fe(this._overlays,function(i){n._updateOverlayVisibilty(i,t)})},Fa.prototype._init=function(){var t=this._eventBus,n=this;t.on("canvas.viewbox.changing",function(s){n.hide()}),t.on("canvas.viewbox.changed",function(s){!function i(s){n._updateRoot(s),n._updateOverlaysVisibilty(s),n.show()}(s.viewbox)}),t.on(["shape.remove","connection.remove"],function(s){var o=s.element;fe(n.get({element:o}),function(u){n.remove(u.id)});var l=n._getOverlayContainer(o);if(l){el(l.html);var c=n._overlayContainers.indexOf(l);-1!==c&&n._overlayContainers.splice(c,1)}}),t.on("element.changed",500,function(s){var a=n._getOverlayContainer(s.element,!0);a&&(fe(a.overlays,function(l){n._updateOverlay(l)}),n._updateOverlayContainer(a))}),t.on("element.marker.update",function(s){var o=n._getOverlayContainer(s.element,!0);o&&br(o.html)[s.add?"add":"remove"](s.marker)}),t.on("root.set",function(){n._updateOverlaysVisibilty(n._canvas.viewbox())}),t.on("diagram.clear",this.clear,this)};const jx={__init__:["overlays"],overlays:["type",Fa]};function Mfe(t,n,i,s){t.on("element.changed",function(o){var a=o.element;(a.parent||a===n.getRootElement())&&(o.gfx=i.getGraphics(a)),o.gfx&&t.fire(Tfe(a)+".changed",o)}),t.on("elements.changed",function(o){var a=o.elements;a.forEach(function(l){t.fire("element.changed",{element:l})}),s.updateContainments(a)}),t.on("shape.changed",function(o){s.update("shape",o.element,o.gfx)}),t.on("connection.changed",function(o){s.update("connection",o.element,o.gfx)})}Mfe.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const XS={__init__:["changeSupport"],changeSupport:["type",Mfe]};function pt(t){this._eventBus=t}function rm(t){return function(i,s,o,a,l){(Ar(i)||Ln(i))&&(l=a,a=o,o=s,s=i,i=null),this.on(i,t,s,o,a,l)}}function qH(t,n){n.invoke(pt,this),this.executed(function(i){var s=i.context;s.rootElement?t.setRootElement(s.rootElement):s.rootElement=t.getRootElement()}),this.revert(function(i){var s=i.context;s.rootElement&&t.setRootElement(s.rootElement)})}pt.$inject=["eventBus"],pt.prototype.on=function(t,n,i,s,o,a){if((Ar(n)||Ln(n))&&(a=o,o=s,s=i,i=n,n=null),Ar(i)&&(a=o,o=s,s=i,i=1e3),si(o)&&(a=o,o=!1),!Ar(s))throw new Error("handlerFn must be a function");Xt(t)||(t=[t]);var l=this._eventBus;fe(t,function(c){var u=["commandStack",c,n].filter(function(d){return d}).join(".");l.on(u,i,o?function SZe(t,n){return function(i){return t.call(n||null,i.context,i.command,i)}}(s,a):s,a)})},pt.prototype.canExecute=rm("canExecute"),pt.prototype.preExecute=rm("preExecute"),pt.prototype.preExecuted=rm("preExecuted"),pt.prototype.execute=rm("execute"),pt.prototype.executed=rm("executed"),pt.prototype.postExecute=rm("postExecute"),pt.prototype.postExecuted=rm("postExecuted"),pt.prototype.revert=rm("revert"),pt.prototype.reverted=rm("reverted"),Jt(qH,pt),qH.$inject=["canvas","injector"];const OZe={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",qH]};function Sb(t){return CSS.escape(t)}var TZe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Afe(t){return(t=""+t)&&t.replace(/[&<>"']/g,function(n){return TZe[n]})}function V7(t){return function PZe(t){return t.replace(new RegExp("_plane$"),"")}(t.id)}function im(t){var n=t.id;return D(t,"bpmn:SubProcess")?Rfe(n):n}function Ob(t){return Rfe(t)}function zx(t){return D(pi(t),"bpmndi:BPMNPlane")}function Rfe(t){return t+"_plane"}function Nfe(t,n,i){var s=Xr('<ul class="bjs-breadcrumbs"></ul>'),o=i.getContainer(),a=br(o);o.appendChild(s);var l=[];function c(u){u&&(l=function kZe(t){for(var i=[],s=G(t);s;s=s.$parent)(D(s,"bpmn:SubProcess")||D(s,"bpmn:Process"))&&i.push(s);return i.reverse()}(u));var d=l.flatMap(function(f){var h=i.findRoot(im(f))||i.findRoot(f.id);if(!h&&D(f,"bpmn:Process")){var m=n.find(function(_){var S=G(_);return S&&S.get("processRef")===f});h=m&&i.findRoot(m.id)}if(!h)return[];var y=Afe(f.name||f.id),E=Xr('<li><span class="bjs-crumb"><a title="'+y+'">'+y+"</a></span></li>");return E.addEventListener("click",function(){i.setRootElement(h)}),E});s.innerHTML="",a.toggle("bjs-breadcrumbs-shown",d.length>1),d.forEach(function(f){s.appendChild(f)})}t.on("element.changed",function(u){var p=G(u.element);Gt(l,function(h){return h===p})&&c()}),t.on("root.set",function(u){c(u.element)})}function Lfe(t,n){var i=null,s=new MZe;t.on("root.set",function(o){var a=o.element,l=n.viewbox(),c=s.get(a);if(s.set(i,{x:l.x,y:l.y,zoom:l.scale}),i=a,D(a,"bpmn:SubProcess")||c){var u=(l.x-(c=c||{x:0,y:0,zoom:1}).x)*l.scale,d=(l.y-c.y)*l.scale;(0!==u||0!==d)&&n.scroll({dx:u,dy:d}),c.zoom!==l.scale&&n.zoom(c.zoom,{x:0,y:0})}}),t.on("diagram.clear",function(){s.clear(),i=null})}function MZe(){this._entries=[],this.set=function(t,n){var i=!1;for(var s in this._entries)if(this._entries[s][0]===t){this._entries[s][1]=n,i=!0;break}i||this._entries.push([t,n])},this.get=function(t){for(var n in this._entries)if(this._entries[n][0]===t)return this._entries[n][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(t){var n=-1;for(var i in this._entries)if(this._entries[i][0]===t){n=i;break}-1!==n&&this._entries.splice(n,1)}}Nfe.$inject=["eventBus","elementRegistry","canvas"],Lfe.$inject=["eventBus","canvas"];function Tb(t,n){this._eventBus=t,this._moddle=n;var i=this;t.on("import.render.start",1500,function(s,o){i._handleImport(o.definitions)})}function Bfe(t){return D(t,"bpmndi:BPMNDiagram")?t:Bfe(t.$parent)}function w1(t,n,i,s,o){pt.call(this,n),this._canvas=t,this._eventBus=n,this._elementRegistry=i,this._overlays=s,this._translate=o;var a=this;this.executed("shape.toggleCollapse",250,function(l){var c=l.shape;a._canDrillDown(c)?a._addOverlay(c):a._removeOverlay(c)},!0),this.reverted("shape.toggleCollapse",250,function(l){var c=l.shape;a._canDrillDown(c)?a._addOverlay(c):a._removeOverlay(c)},!0),this.executed(["shape.create","shape.move","shape.delete"],250,function(l){var c=l.oldParent,u=l.newParent||l.parent,d=l.shape;a._canDrillDown(d)&&a._addOverlay(d),a._updateDrilldownOverlay(c),a._updateDrilldownOverlay(u),a._updateDrilldownOverlay(d)},!0),this.reverted(["shape.create","shape.move","shape.delete"],250,function(l){var c=l.oldParent,u=l.newParent||l.parent,d=l.shape;a._canDrillDown(d)&&a._addOverlay(d),a._updateDrilldownOverlay(c),a._updateDrilldownOverlay(u),a._updateDrilldownOverlay(d)},!0),n.on("import.render.complete",function(){i.filter(function(l){return a._canDrillDown(l)}).map(function(l){a._addOverlay(l)})})}Tb.prototype._handleImport=function(t){if(t.diagrams){var n=this;this._definitions=t,this._processToDiagramMap={},t.diagrams.forEach(function(s){!s.plane||!s.plane.bpmnElement||(n._processToDiagramMap[s.plane.bpmnElement.id]=s)}),t.diagrams.filter(s=>s.plane).flatMap(s=>n._createNewDiagrams(s.plane)).forEach(function(s){n._movePlaneElementsToOrigin(s.plane)})}},Tb.prototype._createNewDiagrams=function(t){var n=this,i=[],s=[];t.get("planeElement").forEach(function(a){var l=a.bpmnElement;if(l){var c=l.$parent;D(l,"bpmn:SubProcess")&&!a.isExpanded&&i.push(l),function IZe(t,n){var i=t.$parent;return!(!D(i,"bpmn:SubProcess")||i===n.bpmnElement||un(t,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))}(l,t)&&s.push({diElement:a,parent:c})}});var o=[];return i.forEach(function(a){if(!n._processToDiagramMap[a.id]){var l=n._createDiagram(a);n._processToDiagramMap[a.id]=l,o.push(l)}}),s.forEach(function(a){for(var l=a.diElement,c=a.parent;c&&-1===i.indexOf(c);)c=c.$parent;c&&n._moveToDiPlane(l,n._processToDiagramMap[c.id].plane)}),o},Tb.prototype._movePlaneElementsToOrigin=function(t){var n=t.get("planeElement"),i=function AZe(t){var n={top:1/0,right:-1/0,bottom:-1/0,left:1/0};return t.planeElement.forEach(function(i){if(i.bounds){var s=En(i.bounds);n.top=Math.min(s.top,n.top),n.left=Math.min(s.left,n.left)}}),L7(n)}(t),s_x=i.x-180,s_y=i.y-160;n.forEach(function(o){o.waypoint?o.waypoint.forEach(function(a){a.x=a.x-s_x,a.y=a.y-s_y}):o.bounds&&(o.bounds.x=o.bounds.x-s_x,o.bounds.y=o.bounds.y-s_y)})},Tb.prototype._moveToDiPlane=function(t,n){var s=Bfe(t).plane.get("planeElement");s.splice(s.indexOf(t),1),n.get("planeElement").push(t)},Tb.prototype._createDiagram=function(t){var n=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:t}),i=this._moddle.create("bpmndi:BPMNDiagram",{plane:n});return n.$parent=i,n.bpmnElement=t,i.$parent=this._definitions,this._definitions.diagrams.push(i),i},Tb.$inject=["eventBus","moddle"],Jt(w1,pt),w1.prototype._updateDrilldownOverlay=function(t){if(t){var i=this._canvas.findRoot(t);i&&this._updateOverlayVisibility(i)}},w1.prototype._canDrillDown=function(t){var n=this._canvas;return D(t,"bpmn:SubProcess")&&n.findRoot(im(t))},w1.prototype._updateOverlayVisibility=function(t){var n=this._overlays,i=G(t),s=n.get({element:i.id,type:"drilldown"})[0];if(s){var o=i&&i.get("flowElements")&&i.get("flowElements").length;br(s.html).toggle("bjs-drilldown-empty",!o)}},w1.prototype._addOverlay=function(t){var n=this._canvas,i=this._overlays,s=G(t);i.get({element:t,type:"drilldown"}).length&&this._removeOverlay(t);var a=Xr('<button type="button" class="bjs-drilldown"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg></button>'),l=s.get("name")||s.get("id"),c=this._translate("Open {element}",{element:l});a.setAttribute("title",c),a.addEventListener("click",function(){n.setRootElement(n.findRoot(im(t)))}),i.add(t,"drilldown",{position:{bottom:-7,right:-8},html:a}),this._updateOverlayVisibility(t)},w1.prototype._removeOverlay=function(t){this._overlays.remove({element:t,type:"drilldown"})},w1.$inject=["canvas","eventBus","elementRegistry","overlays","translate"];const LZe={__depends__:[jx,XS,OZe],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",Nfe],drilldownCentering:["type",Lfe],drilldownOverlayBehavior:["type",w1],subprocessCompatibility:["type",Tb]};function $fe(t){!t||"function"!=typeof t.stopPropagation||t.stopPropagation()}function Hx(t){return t.originalEvent||t.srcEvent}function WH(t){$fe(t),$fe(Hx(t))}function Pb(t){return t.pointers&&t.pointers.length&&(t=t.pointers[0]),t.touches&&t.touches.length&&(t=t.touches[0]),t?{x:t.clientX,y:t.clientY}:null}function Vfe(){return/mac/i.test(navigator.platform)}function GH(t,n){return(Hx(t)||t).button===n}function C1(t){return GH(t,0)}function Ux(t){var n=Hx(t)||t;return!!C1(t)&&(Vfe()?n.metaKey:n.ctrlKey)}function z7(t){var n=Hx(t)||t;return C1(t)&&n.shiftKey}function BZe(t){return!0}function H7(t){return C1(t)||function FZe(t){return GH(t,1)}(t)}function zfe(t,n,i){var s=this;function o(A,$,z){var K,U;(function c(A,$){return!(d[A]||C1)($)})(A,$)||(z?U=n.getGraphics(z):(K=$.delegateTarget||$.target)&&(z=n.get(U=K)),U&&z&&!1===t.fire(A,{element:z,gfx:U,originalEvent:$})&&($.stopPropagation(),$.preventDefault()))}var a={};function l(A){return a[A]}var u={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},d={"element.contextmenu":BZe,"element.mousedown":H7,"element.mouseup":H7,"element.click":H7,"element.dblclick":H7};function h(A,$,z,K){var U=a[z]=function(H){o(z,H)};K&&(d[z]=K),U.$delegate=kl_bind(A,"svg, .djs-element",$,U)}function m(A,$,z){var K=l(z);K&&kl_unbind(A,$,K.$delegate)}t.on("canvas.destroy",function(A){!function E(A){fe(u,function($,z){m(A,z,$)})}(A.svg)}),t.on("canvas.init",function(A){!function y(A){fe(u,function($,z){h(A,z,$)})}(A.svg)}),t.on(["shape.added","connection.added"],function(A){t.fire("interactionEvents.createHit",{element:A.element,gfx:A.gfx})}),t.on(["shape.changed","connection.changed"],500,function(A){t.fire("interactionEvents.updateHit",{element:A.element,gfx:A.gfx})}),t.on("interactionEvents.createHit",500,function(A){s.createDefaultHit(A.element,A.gfx)}),t.on("interactionEvents.updateHit",function(A){s.updateDefaultHit(A.element,A.gfx)});var _=x("djs-hit djs-hit-stroke"),S=x("djs-hit djs-hit-click-stroke"),g={all:x("djs-hit djs-hit-all"),"click-stroke":S,stroke:_,"no-move":x("djs-hit djs-hit-no-move")};function x(A,$){return $=Ce({stroke:"white",strokeWidth:15},$||{}),i.cls(A,["no-fill","no-border"],$)}function T(A,$){var z=g[$];if(!z)throw new Error("invalid hit type <"+$+">");return Wt(A,z),A}function I(A,$){On(A,$)}this.removeHits=function(A){fe(lf(".djs-hit",A),Ro)},this.createDefaultHit=function(A,$){var z=A.waypoints,K=A.isFrame;return z?this.createWaypointsHit($,z):this.createBoxHit($,K?"stroke":"all",{width:A.width,height:A.height})},this.createWaypointsHit=function(A,$){var z=zS($);return T(z,"stroke"),I(A,z),z},this.createBoxHit=function(A,$,z){z=Ce({x:0,y:0},z);var K=an("rect");return T(K,$),Wt(K,z),I(A,K),K},this.updateDefaultHit=function(A,$){var z=$n(".djs-hit",$);if(z)return A.waypoints?efe(z,A.waypoints):Wt(z,{width:A.width,height:A.height}),z},this.fire=o,this.triggerMouseEvent=function p(A,$,z){var K=u[A];if(!K)throw new Error("unmapped DOM event name <"+A+">");return o(K,$,z)},this.mouseHandler=l,this.registerEvent=h,this.unregisterEvent=m}zfe.$inject=["eventBus","elementRegistry","styles"];const U7={__init__:["interactionEvents"],interactionEvents:["type",zfe]};function qx(t,n){this._eventBus=t,this._canvas=n,this._selectedElements=[];var i=this;t.on(["shape.remove","connection.remove"],function(s){i.deselect(s.element)}),t.on(["diagram.clear","root.set"],function(s){i.select(null)})}function qfe(t,n){function i(o,a){t.addMarker(o,a)}function s(o,a){t.removeMarker(o,a)}this._canvas=t,n.on("element.hover",function(o){i(o.element,"hover")}),n.on("element.out",function(o){s(o.element,"hover")}),n.on("selection.changed",function(o){var c=o.oldSelection,u=o.newSelection;fe(c,function(d){-1===u.indexOf(d)&&function a(d){s(d,"selected")}(d)}),fe(u,function(d){-1===c.indexOf(d)&&function l(d){i(d,"selected")}(d)})})}function Wfe(t,n,i,s){t.on("create.end",500,function(o){var a=o.context,c=a.elements,d=(a.hints||{}).autoSelect;if(a.canExecute){if(!1===d)return;Xt(d)?n.select(d):n.select(c.filter($Ze))}}),t.on("connect.end",500,function(o){var l=o.context.connection;l&&n.select(l)}),t.on("shape.move.end",500,function(o){var a=o.previousSelection||[],l=s.get(o.context.shape.id);Gt(a,function(u){return l.id===u.id})||n.select(l)}),t.on("element.click",function(o){if(C1(o)){var a=o.element;a===i.getRootElement()&&(a=null);var l=n.isSelected(a),c=n.get().length>1,u=z7(o);if(l&&c)return u?n.deselect(a):n.select(a);l?n.deselect(a):n.select(a,u)}})}function $Ze(t){return!t.hidden}qx.$inject=["eventBus","canvas"],qx.prototype.deselect=function(t){var n=this._selectedElements,i=n.indexOf(t);if(-1!==i){var s=n.slice();n.splice(i,1),this._eventBus.fire("selection.changed",{oldSelection:s,newSelection:n})}},qx.prototype.get=function(){return this._selectedElements},qx.prototype.isSelected=function(t){return-1!==this._selectedElements.indexOf(t)},qx.prototype.select=function(t,n){var i=this._selectedElements,s=i.slice();Xt(t)||(t=t?[t]:[]);var o=this._canvas,a=o.getRootElement();t=t.filter(function(l){var c=o.findRoot(l);return a===c}),n?fe(t,function(l){-1===i.indexOf(l)&&i.push(l)}):this._selectedElements=i=t.slice(),this._eventBus.fire("selection.changed",{oldSelection:s,newSelection:i})},qfe.$inject=["canvas","eventBus"],Wfe.$inject=["eventBus","selection","canvas","elementRegistry"];const jc={__init__:["selectionVisuals","selectionBehavior"],__depends__:[U7],selection:["type",qx],selectionVisuals:["type",qfe],selectionBehavior:["type",Wfe]},VZe=/^class[ {]/;function KH(t){return Array.isArray(t)}function YH(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function q7(...t){1===t.length&&KH(t[0])&&(t=t[0]);const n=(t=[...t]).pop();return n.$inject=t,n}const zZe=/constructor\s*[^(]*\(\s*([^)]*)\)/m,HZe=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,UZe=/\/\*([^*]*)\*\//m;function qZe(t){if("function"!=typeof t)throw new Error(`Cannot annotate "${t}". Expected a function!`);const n=t.toString().match(function jZe(t){return VZe.test(t.toString())}(t)?zZe:HZe);if(!n)return[];const i=n[1]||n[2];return i&&i.split(",").map(s=>{const o=s.match(UZe);return(o&&o[1]||s).trim()})||[]}function W7(t,n){const i=n||{get:function(w,g){if(s.push(w),!1===g)return null;throw c(`No provider for "${w}"!`)}},s=[],o=this._providers=Object.create(i._providers||null),a=this._instances=Object.create(null),l=a.injector=this,c=function(w){const g=s.join(" -> ");return s.length=0,new Error(g?`${w} (Resolving: ${g})`:w)};function u(w,g){if(!o[w]&&w.includes(".")){const x=w.split(".");let T=u(x.shift());for(;x.length;)T=T[x.shift()];return T}if(YH(a,w))return a[w];if(YH(o,w)){if(-1!==s.indexOf(w))throw s.push(w),c("Cannot resolve circular dependency!");return s.push(w),a[w]=o[w][0](o[w][1]),s.pop(),a[w]}return i.get(w,g)}function d(w,g){if(typeof g>"u"&&(g={}),"function"!=typeof w){if(!KH(w))throw c(`Cannot invoke "${w}". Expected a function!`);w=q7(w.slice())}return{fn:w,dependencies:(w.$inject||qZe(w)).map(I=>YH(g,I)?g[I]:u(I))}}function p(w){const{fn:g,dependencies:x}=d(w);return new(Function.prototype.bind.call(g,null,...x))}function f(w,g,x){const{fn:T,dependencies:I}=d(w,x);return T.apply(g,I)}function h(w){return q7(g=>w.get(g))}function m(w,g){if(g&&g.length){const x=Object.create(null),T=Object.create(null),I=[],A=[],$=[];let z,K,U,H;for(let me in o)z=o[me],-1!==g.indexOf(me)&&("private"===z[2]?(K=I.indexOf(z[3]),-1===K?(U=z[3].createChild([],g),H=h(U),I.push(z[3]),A.push(U),$.push(H),x[me]=[H,me,"private",U]):x[me]=[$[K],me,"private",A[K]]):x[me]=[z[2],z[1]],T[me]=!0),("factory"===z[2]||"type"===z[2])&&z[1].$scope&&g.forEach(Re=>{-1!==z[1].$scope.indexOf(Re)&&(x[me]=[z[2],z[1]],T[Re]=!0)});g.forEach(me=>{if(!T[me])throw new Error('No provider for "'+me+'". Cannot use provider from the parent!')}),w.unshift(x)}return new W7(w,l)}const y={factory:f,type:p,value:function(w){return w}};function E(w,g){const x=w.__init__||[];return function(){x.forEach(T=>{"string"==typeof T?g.get(T):g.invoke(T)})}}function _(w){const g=w.__exports__;if(g){const x=w.__modules__,T=Object.keys(w).reduce((K,U)=>("__exports__"!==U&&"__modules__"!==U&&"__init__"!==U&&"__depends__"!==U&&(K[U]=w[U]),K),Object.create(null)),A=m((x||[]).concat(T)),$=q7(function(K){return A.get(K)});g.forEach(function(K){o[K]=[$,K,"private",A]});const z=(w.__init__||[]).slice();return z.unshift(function(){A.init()}),E(w=Object.assign({},w,{__init__:z}),A)}return Object.keys(w).forEach(function(x){if("__init__"===x||"__depends__"===x)return;const T=w[x];if("private"===T[2])return void(o[x]=T);const I=T[0];o[x]=[y[I],WZe(I,T[1]),I]}),E(w,l)}function S(w,g){return-1!==w.indexOf(g)||-1!==(w=(g.__depends__||[]).reduce(S,w)).indexOf(g)?w:w.concat(g)}this.get=u,this.invoke=f,this.instantiate=p,this.createChild=m,this.init=function v(w){const g=w.reduce(S,[]).map(_);let x=!1;return function(){x||(x=!0,g.forEach(T=>T()))}}(t)}function WZe(t,n){return"value"!==t&&KH(n)&&(n=q7(n.slice())),n}function S1(t,n){$c.call(this,t,1),this.CONNECTION_STYLE=n.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=n.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=n.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}Jt(S1,$c),S1.prototype.canRender=function(){return!0},S1.prototype.drawShape=function(n,i,s){var o=an("rect");return Wt(o,{x:0,y:0,width:i.width||0,height:i.height||0}),Pfe(i)?Wt(o,Ce({},this.FRAME_STYLE,s||{})):Wt(o,Ce({},this.SHAPE_STYLE,s||{})),On(n,o),o},S1.prototype.drawConnection=function(n,i,s){var o=zS(i.waypoints,Ce({},this.CONNECTION_STYLE,s||{}));return On(n,o),o},S1.prototype.getShapePath=function(n){var o=n.width;return xb([["M",n.x,n.y],["l",o,0],["l",0,n.height],["l",-o,0],["z"]])},S1.prototype.getConnectionPath=function(n){var s,o,i=n.waypoints,a=[];for(s=0;o=i[s];s++)a.push([0===s?"M":"L",(o=o.original||o).x,o.y]);return xb(a)},S1.$inject=["eventBus","styles"];const YZe={__init__:["defaultRenderer"],defaultRenderer:["type",S1],styles:["type",function KZe(){var t={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},n=this;this.cls=function(i,s,o){return Ce(this.style(s,o),{class:i})},this.style=function(i,s){!Xt(i)&&!s&&(s=i,i=[]);var o=Ts(i,function(a,l){return Ce(a,t[l]||{})},{});return s?Ce(o,s):o},this.computeStyle=function(i,s,o){return Xt(s)||(o=s,s=[]),n.style(s||[],Ce({},o,i||{}))}}]};function go(t,n){if(!t||!n)return-1;var i=t.indexOf(n);return-1!==i&&t.splice(i,1),i}function So(t,n,i){if(t&&n){"number"!=typeof i&&(i=-1);var s=t.indexOf(n);if(-1!==s){if(s===i)return;if(-1===i)return;t.splice(s,1)}-1!==i?t.splice(i,0,n):t.push(n)}}function XH(t,n){return t&&n?t.indexOf(n):-1}function G7(t,n){return Math.round(t*n)/n}function Gfe(t){return Ln(t)?t+"px":t}function Kfe(t,n,i){const s=an("g");return di(s).add(n),t.insertBefore(s,t.childNodes[void 0!==i?i:t.childNodes.length-1]||null),s}const eJe={shape:["x","y","width","height"],connection:["waypoints"]};function _r(t,n,i,s){this._eventBus=n,this._elementRegistry=s,this._graphicsFactory=i,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._focused=!1,this._init(t||{})}function Xfe(t,n){t.setAttribute("transform","matrix("+n.a+","+n.b+","+n.c+","+n.d+","+n.e+","+n.f+")")}_r.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],_r.prototype._init=function(t){const n=this._eventBus,i=this._container=function QZe(t){const n=(t=Ce({},{width:"100%",height:"100%"},t)).container||document.body,i=document.createElement("div");return i.setAttribute("class","djs-container djs-parent"),Dl(i,{position:"relative",overflow:"hidden",width:Gfe(t.width),height:Gfe(t.height)}),n.appendChild(i),i}(t),s=this._svg=an("svg");Wt(s,{width:"100%",height:"100%"}),xa(s,"tabindex",0),t.autoFocus&&n.on("element.hover",()=>{this.restoreFocus()}),n.on("element.mousedown",500,a=>{this.focus()}),s.addEventListener("focusin",()=>{this._setFocused(!0)}),s.addEventListener("focusout",()=>{this._setFocused(!1)}),On(i,s);const o=this._viewport=Kfe(s,"viewport");t.deferUpdate&&(this._viewboxChanged=Lx(Io(this._viewboxChanged,this),300)),n.on("diagram.init",()=>{n.fire("canvas.init",{svg:s,viewport:o})}),n.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),n.on("diagram.destroy",500,this._destroy,this),n.on("diagram.clear",500,this._clear,this)},_r.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport},_r.prototype._setFocused=function(t){t!=this._focused&&(this._focused=t,this._eventBus.fire("canvas.focus.changed",{focused:t}))},_r.prototype._clear=function(){this._elementRegistry.getAll().forEach(n=>{const i=Tfe(n);"root"===i?this.removeRootElement(n):this._removeElement(n,i)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox},_r.prototype.focus=function(){this._svg.focus({preventScroll:!0}),this._setFocused(!0)},_r.prototype.restoreFocus=function(){document.activeElement===document.body&&this.focus()},_r.prototype.isFocused=function(){return this._focused},_r.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},_r.prototype.getLayer=function(t,n){if(!t)throw new Error("must specify a name");let i=this._layers[t];if(i||(i=this._layers[t]=this._createLayer(t,n)),typeof n<"u"&&i.index!==n)throw new Error("layer <"+t+"> already created at index <"+n+">");return i.group},_r.prototype._getChildIndex=function(t){return Ts(this._layers,function(n,i){return i.visible&&t>=i.index&&n++,n},0)},_r.prototype._createLayer=function(t,n){typeof n>"u"&&(n=1);const i=this._getChildIndex(n);return{group:Kfe(this._viewport,"layer-"+t,i),index:n,visible:!0}},_r.prototype.showLayer=function(t){if(!t)throw new Error("must specify a name");const n=this._layers[t];if(!n)throw new Error("layer <"+t+"> does not exist");const i=this._viewport,s=n.group;if(n.visible)return s;const a=this._getChildIndex(n.index);return i.insertBefore(s,i.childNodes[a]||null),n.visible=!0,s},_r.prototype.hideLayer=function(t){if(!t)throw new Error("must specify a name");const n=this._layers[t];if(!n)throw new Error("layer <"+t+"> does not exist");const i=n.group;return n.visible&&(Ro(i),n.visible=!1),i},_r.prototype._removeLayer=function(t){const n=this._layers[t];n&&(delete this._layers[t],Ro(n.group))},_r.prototype.getActiveLayer=function(){const t=this._findPlaneForRoot(this.getRootElement());return t?t.layer:null},_r.prototype.findRoot=function(t){return"string"==typeof t&&(t=this._elementRegistry.get(t)),t?(this._findPlaneForRoot(function XZe(t){for(;t.parent;)t=t.parent;return t}(t))||{}).rootElement:void 0},_r.prototype.getRootElements=function(){return this._planes.map(function(t){return t.rootElement})},_r.prototype._findPlaneForRoot=function(t){return Gt(this._planes,function(n){return n.rootElement===t})},_r.prototype.getContainer=function(){return this._container},_r.prototype._updateMarker=function(t,n,i){let s;t.id||(t=this._elementRegistry.get(t)),t.markers=t.markers||new Set,s=this._elementRegistry._elements[t.id],s&&(fe([s.gfx,s.secondaryGfx],function(o){o&&(i?(t.markers.add(n),di(o).add(n)):(t.markers.delete(n),di(o).remove(n)))}),this._eventBus.fire("element.marker.update",{element:t,gfx:s.gfx,marker:n,add:!!i}))},_r.prototype.addMarker=function(t,n){this._updateMarker(t,n,!0)},_r.prototype.removeMarker=function(t,n){this._updateMarker(t,n,!1)},_r.prototype.hasMarker=function(t,n){return t.id||(t=this._elementRegistry.get(t)),!!t.markers&&t.markers.has(n)},_r.prototype.toggleMarker=function(t,n){this.hasMarker(t,n)?this.removeMarker(t,n):this.addMarker(t,n)},_r.prototype.getRootElement=function(){const t=this._rootElement;return t||this._planes.length?t:this.setRootElement(this.addRootElement(null))},_r.prototype.addRootElement=function(t){const n=this._rootsIdx++;t||(t={id:"__implicitroot_"+n,children:[],isImplicit:!0});const i=t.layer="root-"+n;this._ensureValid("root",t);const s=this.getLayer(i,0);return this.hideLayer(i),this._addRoot(t,s),this._planes.push({rootElement:t,layer:s}),t},_r.prototype.removeRootElement=function(t){if("string"==typeof t&&(t=this._elementRegistry.get(t)),this._findPlaneForRoot(t))return this._removeRoot(t),this._removeLayer(t.layer),this._planes=this._planes.filter(function(i){return i.rootElement!==t}),this._rootElement===t&&(this._rootElement=null),t},_r.prototype.setRootElement=function(t){if(t===this._rootElement)return t;let n;if(!t)throw new Error("rootElement required");return n=this._findPlaneForRoot(t),n||(t=this.addRootElement(t)),this._setRoot(t),t},_r.prototype._removeRoot=function(t){const n=this._elementRegistry,i=this._eventBus;i.fire("root.remove",{element:t}),i.fire("root.removed",{element:t}),n.remove(t)},_r.prototype._addRoot=function(t,n){const i=this._elementRegistry,s=this._eventBus;s.fire("root.add",{element:t}),i.add(t,n),s.fire("root.added",{element:t,gfx:n})},_r.prototype._setRoot=function(t,n){const i=this._rootElement;i&&(this._elementRegistry.updateGraphics(i,null,!0),this.hideLayer(i.layer)),t&&(n||(n=this._findPlaneForRoot(t).layer),this._elementRegistry.updateGraphics(t,this._svg,!0),this.showLayer(t.layer)),this._rootElement=t,this._eventBus.fire("root.set",{element:t})},_r.prototype._ensureValid=function(t,n){if(!n.id)throw new Error("element must have an id");if(this._elementRegistry.get(n.id))throw new Error("element <"+n.id+"> already exists");const i=eJe[t];if(!yu(i,function(o){return typeof n[o]<"u"}))throw new Error("must supply { "+i.join(", ")+" } with "+t)},_r.prototype._setParent=function(t,n,i){So(n.children,t,i),t.parent=n},_r.prototype._addElement=function(t,n,i,s){i=i||this.getRootElement();const o=this._eventBus,a=this._graphicsFactory;this._ensureValid(t,n),o.fire(t+".add",{element:n,parent:i}),this._setParent(n,i,s);const l=a.create(t,n,s);return this._elementRegistry.add(n,l),a.update(t,n,l),o.fire(t+".added",{element:n,gfx:l}),n},_r.prototype.addShape=function(t,n,i){return this._addElement("shape",t,n,i)},_r.prototype.addConnection=function(t,n,i){return this._addElement("connection",t,n,i)},_r.prototype._removeElement=function(t,n){const i=this._elementRegistry,s=this._graphicsFactory,o=this._eventBus;if(t=i.get(t.id||t))return o.fire(n+".remove",{element:t}),s.remove(t),go(t.parent&&t.parent.children,t),t.parent=null,o.fire(n+".removed",{element:t}),i.remove(t),t},_r.prototype.removeShape=function(t){return this._removeElement(t,"shape")},_r.prototype.removeConnection=function(t){return this._removeElement(t,"connection")},_r.prototype.getGraphics=function(t,n){return this._elementRegistry.getGraphics(t,n)},_r.prototype._changeViewbox=function(t){this._eventBus.fire("canvas.viewbox.changing"),t.apply(this),this._cachedViewbox=null,this._viewboxChanged()},_r.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},_r.prototype.viewbox=function(t){if(void 0===t&&this._cachedViewbox)return structuredClone(this._cachedViewbox);const n=this._viewport,i=this.getSize();let s,o,a,l,c,u,d;return t?(this._changeViewbox(function(){c=Math.min(i.width/t.width,i.height/t.height);const p=this._svg.createSVGMatrix().scale(c).translate(-t.x,-t.y);jS(n,p)}),t):(a=this._rootElement?this.getActiveLayer():null,s=a&&a.getBBox()||{},l=jS(n),o=l?l.matrix:function HXe(t,n,i,s,o,a){var l=x7().createSVGMatrix();switch(arguments.length){case 0:return l;case 1:return AH(l,t);case 6:return AH(l,{a:t,b:n,c:i,d:s,e:o,f:a})}}(),c=G7(o.a,1e3),u=G7(-o.e||0,1e3),d=G7(-o.f||0,1e3),t=this._cachedViewbox={x:u?u/c:0,y:d?d/c:0,width:i.width/c,height:i.height/c,scale:c,inner:{width:s.width||0,height:s.height||0,x:s.x||0,y:s.y||0},outer:i})},_r.prototype.scroll=function(t){const n=this._viewport;let i=n.getCTM();return t&&this._changeViewbox(function(){t=Ce({dx:0,dy:0},t||{}),i=this._svg.createSVGMatrix().translate(t.dx,t.dy).multiply(i),Xfe(n,i)}),{x:i.e,y:i.f}},_r.prototype.scrollToElement=function(t,n){let i=100;"string"==typeof t&&(t=this._elementRegistry.get(t));const s=this.findRoot(t);if(s!==this.getRootElement()&&this.setRootElement(s),s===t)return;n||(n={}),"number"==typeof n&&(i=n),n={top:n.top||i,right:n.right||i,bottom:n.bottom||i,left:n.left||i};const o=ea(t),a=En(o),l=this.viewbox(),c=this.zoom();let u,d;l.y+=n.top/c,l.x+=n.left/c,l.width-=(n.right+n.left)/c,l.height-=(n.bottom+n.top)/c;const p=En(l);if(o.width<l.width&&o.height<l.height){const h=Math.max(0,a.right-p.right),m=Math.min(0,a.left-p.left),y=Math.max(0,a.bottom-p.bottom),E=Math.min(0,a.top-p.top);u=h||m,d=y||E}else u=o.x-l.x,d=o.y-l.y;this.scroll({dx:-u*c,dy:-d*c})},_r.prototype.zoom=function(t,n){if(!t)return this.viewbox(t).scale;if("fit-viewport"===t)return this._fitViewport(n);let i,s;return this._changeViewbox(function(){"object"!=typeof n&&(i=this.viewbox().outer,n={x:i.width/2,y:i.height/2}),s=this._setZoom(t,n)}),G7(s.a,1e3)},_r.prototype._fitViewport=function(t){const n=this.viewbox(),i=n.outer,s=n.inner;let o,a;return s.x>=0&&s.y>=0&&s.x+s.width<=i.width&&s.y+s.height<=i.height&&!t?a={x:0,y:0,width:Math.max(s.width+s.x,i.width),height:Math.max(s.height+s.y,i.height)}:(o=Math.min(1,i.width/s.width,i.height/s.height),a={x:s.x+(t?s.width/2-i.width/o/2:0),y:s.y+(t?s.height/2-i.height/o/2:0),width:i.width/o,height:i.height/o}),this.viewbox(a),this.viewbox(!1).scale},_r.prototype._setZoom=function(t,n){const i=this._svg,s=this._viewport,o=i.createSVGMatrix(),a=i.createSVGPoint();let l,c,u,d,p;u=s.getCTM();const f=u.a;return n?(l=Ce(a,n),c=l.matrixTransform(u.inverse()),d=o.translate(c.x,c.y).scale(1/f*t).translate(-c.x,-c.y),p=u.multiply(d)):p=o.scale(t),Xfe(this._viewport,p),p},_r.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},_r.prototype.getAbsoluteBBox=function(t){const n=this.viewbox();let i;return i=t.waypoints?this.getGraphics(t).getBBox():t,{x:i.x*n.scale-n.x*n.scale,y:i.y*n.scale-n.y*n.scale,width:i.width*n.scale,height:i.height*n.scale}},_r.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var Wx="data-element-id";function nd(t){this._elements={},this._eventBus=t}function Jfe(t,n,i){var s=function Qfe(t,n,i,s){var o=i.inverse;return Object.defineProperty(t,"remove",{value:function(a){var l=this.indexOf(a);return-1!==l&&(this.splice(l,1),n.unset(a,o,s)),a}}),Object.defineProperty(t,"contains",{value:function(a){return-1!==this.indexOf(a)}}),Object.defineProperty(t,"add",{value:function(a,l){var c=this.indexOf(a);if(typeof l>"u"){if(-1!==c)return;l=this.length}-1!==c&&this.splice(c,1),this.splice(l,0,a),-1===c&&n.set(a,o,s)}}),Object.defineProperty(t,"__refs_collection",{value:!0}),t}(i[n.name]||[],t,n,i);Object.defineProperty(i,n.name,{enumerable:n.enumerable,value:s}),s.length&&s.forEach(function(o){t.set(o,n.inverse,i)})}function rd(t,n){if(!(this instanceof rd))return new rd(t,n);t.inverse=n,n.inverse=t,this.props={},this.props[t.name]=t,this.props[n.name]=n}nd.$inject=["eventBus"],nd.prototype.add=function(t,n,i){var s=t.id;this._validateId(s),Wt(n,Wx,s),i&&Wt(i,Wx,s),this._elements[s]={element:t,gfx:n,secondaryGfx:i}},nd.prototype.remove=function(t){var n=this._elements,i=t.id||t,s=i&&n[i];s&&(Wt(s.gfx,Wx,""),s.secondaryGfx&&Wt(s.secondaryGfx,Wx,""),delete n[i])},nd.prototype.updateId=function(t,n){this._validateId(n),"string"==typeof t&&(t=this.get(t)),this._eventBus.fire("element.updateId",{element:t,newId:n});var i=this.getGraphics(t),s=this.getGraphics(t,!0);this.remove(t),t.id=n,this.add(t,i,s)},nd.prototype.updateGraphics=function(t,n,i){var s=t.id||t,o=this._elements[s];return i?o.secondaryGfx=n:o.gfx=n,n&&Wt(n,Wx,s),n},nd.prototype.get=function(t){var n;n="string"==typeof t?t:t&&Wt(t,Wx);var i=this._elements[n];return i&&i.element},nd.prototype.filter=function(t){var n=[];return this.forEach(function(i,s){t(i,s)&&n.push(i)}),n},nd.prototype.find=function(t){for(var n=this._elements,i=Object.keys(n),s=0;s<i.length;s++){var a=n[i[s]],l=a.element;if(t(l,a.gfx))return l}},nd.prototype.getAll=function(){return this.filter(function(t){return t})},nd.prototype.forEach=function(t){var n=this._elements;Object.keys(n).forEach(function(i){var s=n[i];return t(s.element,s.gfx)})},nd.prototype.getGraphics=function(t,n){var s=this._elements[t.id||t];return s&&(n?s.secondaryGfx:s.gfx)},nd.prototype._validateId=function(t){if(!t)throw new Error("element must have an id");if(this._elements[t])throw new Error("element with id "+t+" already added")},rd.prototype.bind=function(t,n){if("string"==typeof n){if(!this.props[n])throw new Error("no property <"+n+"> in ref");n=this.props[n]}n.collection?Jfe(this,n,t):function nJe(t,n,i){var s=n.inverse,o=i[n.name];Object.defineProperty(i,n.name,{configurable:n.configurable,enumerable:n.enumerable,get:function(){return o},set:function(a){if(a!==o){var l=o;o=null,l&&t.unset(l,s,i),t.set(o=a,s,i)}}})}(this,n,t)},rd.prototype.ensureRefsCollection=function(t,n){var i=t[n.name];return function Zfe(t){return!0===t.__refs_collection}(i)||Jfe(this,n,t),i},rd.prototype.ensureBound=function(t,n){(function tJe(t,n){return Object.prototype.hasOwnProperty.call(t,n.name||n)})(t,n)||this.bind(t,n)},rd.prototype.unset=function(t,n,i){t&&(this.ensureBound(t,n),n.collection?this.ensureRefsCollection(t,n).remove(i):t[n.name]=void 0)},rd.prototype.set=function(t,n,i){t&&(this.ensureBound(t,n),n.collection?this.ensureRefsCollection(t,n).add(i):t[n.name]=i)};var QH=new rd({name:"children",enumerable:!0,collection:!0},{name:"parent"}),ehe=new rd({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),the=new rd({name:"attachers",collection:!0},{name:"host"}),nhe=new rd({name:"outgoing",collection:!0},{name:"source"}),rhe=new rd({name:"incoming",collection:!0},{name:"target"});function Gx(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(t){var n=this.label,i=this.labels;!t&&n?i.remove(n):i.add(t,0)}}),QH.bind(this,"parent"),ehe.bind(this,"labels"),nhe.bind(this,"outgoing"),rhe.bind(this,"incoming")}function QS(){Gx.call(this),QH.bind(this,"children"),the.bind(this,"host"),the.bind(this,"attachers")}function ihe(){Gx.call(this),QH.bind(this,"children")}function she(){QS.call(this),ehe.bind(this,"labelTarget")}function ohe(){Gx.call(this),nhe.bind(this,"source"),rhe.bind(this,"target")}Jt(QS,Gx),Jt(ihe,QS),Jt(she,QS),Jt(ohe,Gx);var rJe={connection:ohe,shape:QS,label:she,root:ihe};function Xd(){this._uid=12}Xd.prototype.createRoot=function(t){return this.create("root",t)},Xd.prototype.createLabel=function(t){return this.create("label",t)},Xd.prototype.createShape=function(t){return this.create("shape",t)},Xd.prototype.createConnection=function(t){return this.create("connection",t)},Xd.prototype.create=function(t,n){return(n=Ce({},n||{})).id||(n.id=t+"_"+this._uid++),function iJe(t,n){var i=rJe[t];if(!i)throw new Error("unknown type: <"+t+">");return Ce(new i,n)}(t,n)};var K7="__fn",oJe=Array.prototype.slice;function Al(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function ZS(){}function O1(t){return t.childNodes[0]}function id(t,n){this._eventBus=t,this._elementRegistry=n}function lhe(t,n,i){var s=i||n.firstChild;t!==s&&n.insertBefore(t,s)}Al.prototype.on=function(t,n,i,s){if(t=Xt(t)?t:[t],Ar(n)&&(s=i,i=n,n=1e3),!Ln(n))throw new Error("priority must be a number");var o=i;s&&((o=Io(i,s))[K7]=i[K7]||i);var a=this;t.forEach(function(l){a._addListener(l,{priority:n,callback:o,next:null})})},Al.prototype.once=function(t,n,i,s){var o=this;if(Ar(n)&&(s=i,i=n,n=1e3),!Ln(n))throw new Error("priority must be a number");function a(){a.__isTomb=!0;var l=i.apply(s,arguments);return o.off(t,a),l}a[K7]=i,this.on(t,n,a)},Al.prototype.off=function(t,n){t=Xt(t)?t:[t];var i=this;t.forEach(function(s){i._removeListener(s,n)})},Al.prototype.createEvent=function(t){var n=new ZS;return n.init(t),n},Al.prototype.fire=function(t,n){var i,s,o,a;if(a=oJe.call(arguments),"object"==typeof t&&(t=(n=t).type),!t)throw new Error("no event type specified");if(s=this._listeners[t]){i=n instanceof ZS?n:this.createEvent(n),a[0]=i;var l=i.type;t!==l&&(i.type=t);try{o=this._invokeListeners(i,a,s)}finally{t!==l&&(i.type=l)}return void 0===o&&i.defaultPrevented&&(o=!1),o}},Al.prototype.handleError=function(t){return!1===this.fire("error",{error:t})},Al.prototype._destroy=function(){this._listeners={}},Al.prototype._invokeListeners=function(t,n,i){for(var s;i&&!t.cancelBubble;)s=this._invokeListener(t,n,i),i=i.next;return s},Al.prototype._invokeListener=function(t,n,i){var s;if(i.callback.__isTomb)return s;try{s=function aJe(t,n){return t.apply(null,n)}(i.callback,n),void 0!==s&&(t.returnValue=s,t.stopPropagation()),!1===s&&t.preventDefault()}catch(o){if(!this.handleError(o))throw console.error("unhandled error in event listener",o),o}return s},Al.prototype._addListener=function(t,n){var s,i=this._getListeners(t);if(i){for(;i;){if(i.priority<n.priority)return n.next=i,void(s?s.next=n:this._setListeners(t,n));s=i,i=i.next}s.next=n}else this._setListeners(t,n)},Al.prototype._getListeners=function(t){return this._listeners[t]},Al.prototype._setListeners=function(t,n){this._listeners[t]=n},Al.prototype._removeListener=function(t,n){var s,o,a,i=this._getListeners(t);if(n)for(;i;)s=i.next,((a=i.callback)===n||a[K7]===n)&&(o?o.next=s:this._setListeners(t,s)),o=i,i=s;else this._setListeners(t,null)},ZS.prototype.stopPropagation=function(){this.cancelBubble=!0},ZS.prototype.preventDefault=function(){this.defaultPrevented=!0},ZS.prototype.init=function(t){Ce(this,t||{})},id.$inject=["eventBus","elementRegistry"],id.prototype._getChildrenContainer=function(t){var i,n=this._elementRegistry.getGraphics(t);return t.parent?(i=function lJe(t){return t.parentNode.childNodes[1]}(n),i||(di(i=an("g")).add("djs-children"),On(n.parentNode,i))):i=n,i},id.prototype._clear=function(t){var n=O1(t);return C7(n),n},id.prototype._createContainer=function(t,n,i,s){var o=an("g");di(o).add("djs-group"),typeof i<"u"?lhe(o,n,n.childNodes[i]):On(n,o);var a=an("g");di(a).add("djs-element"),di(a).add("djs-"+t),s&&di(a).add("djs-frame"),On(o,a);var l=an("g");return di(l).add("djs-visual"),On(a,l),a},id.prototype.create=function(t,n,i){var s=this._getChildrenContainer(n.parent);return this._createContainer(t,s,i,Pfe(n))},id.prototype.updateContainments=function(t){var n=this,i=this._elementRegistry;fe(Ts(t,function(o,a){return a.parent&&(o[a.parent.id]=a.parent),o},{}),function(o){var a=o.children;if(a){var l=n._getChildrenContainer(o);fe(a.slice().reverse(),function(c){lhe(i.getGraphics(c).parentNode,l)})}})},id.prototype.drawShape=function(t,n,i={}){return this._eventBus.fire("render.shape",{gfx:t,element:n,attrs:i})},id.prototype.getShapePath=function(t){return this._eventBus.fire("render.getShapePath",t)},id.prototype.drawConnection=function(t,n,i={}){return this._eventBus.fire("render.connection",{gfx:t,element:n,attrs:i})},id.prototype.getConnectionPath=function(t){return this._eventBus.fire("render.getConnectionPath",t)},id.prototype.update=function(t,n,i){if(n.parent){var s=this._clear(i);if("shape"===t)this.drawShape(s,n),tl(i,n.x,n.y);else{if("connection"!==t)throw new Error("unknown type: "+t);this.drawConnection(s,n)}Wt(i,"display",n.hidden?"none":"block")}},id.prototype.remove=function(t){Ro(this._elementRegistry.getGraphics(t).parentNode)};const cJe={__depends__:[YZe],__init__:["canvas"],canvas:["type",_r],elementRegistry:["type",nd],elementFactory:["type",Xd],eventBus:["type",Al],graphicsFactory:["type",id]};function cf(t,n){this._injector=n||function dJe(t){return function uJe(t){var n=new W7(t);return n.init(),n}([{config:["value",t=t||{}]},cJe].concat(t.modules||[]))}(t),this.get("eventBus").fire("diagram.init")}function ZH(){}function che(t,n){this.model=t,this.properties=n}cf.prototype.get=function(t,n){return this._injector.get(t,n)},cf.prototype.invoke=function(t,n,i){return this._injector.invoke(t,n,i)},cf.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},cf.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},ZH.prototype.get=function(t){return this.$model.properties.get(this,t)},ZH.prototype.set=function(t,n){this.$model.properties.set(this,t,n)},che.prototype.createType=function(t){var n=this.model,i=this.properties,s=Object.create(ZH.prototype);fe(t.properties,function(l){!l.isMany&&void 0!==l.default&&(s[l.name]=l.default)}),i.defineModel(s,n),i.defineDescriptor(s,t);var o=t.ns.name;function a(l){i.define(this,"$type",{value:o,enumerable:!0}),i.define(this,"$attrs",{value:{}}),i.define(this,"$parent",{writable:!0}),fe(l,Io(function(c,u){this.set(u,c)},this))}return a.prototype=s,a.hasType=s.$instanceOf=this.model.hasType,i.defineModel(a,n),i.defineDescriptor(a,t),a};var pJe={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},uhe={String:function(t){return t},Boolean:function(t){return"true"===t},Integer:function(t){return parseInt(t,10)},Real:function(t){return parseFloat(t)}};function JH(t,n){var i=uhe[t];return i?i(n):n}function eU(t){return!!pJe[t]}function dhe(t){return!!uhe[t]}function Il(t,n){var s,o,i=t.split(/:/);if(1===i.length)s=t,o=n;else{if(2!==i.length)throw new Error("expected <prefix:localName> or <localName>, got "+t);s=i[1],o=i[0]}return{name:t=(o?o+":":"")+s,prefix:o,localName:s}}function sd(t){this.ns=t,this.name=t.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function T1(t,n){this.packageMap={},this.typeMap={},this.packages=[],this.properties=n,fe(t,Io(this.registerPackage,this))}function phe(t,n,i){var s=n[i];if(s in t)throw new Error("package with "+i+" <"+s+"> already defined")}function Db(t){this.model=t}function fhe(t,n,i){Object.defineProperty(t,n.name,{enumerable:!n.isReference,writable:!0,value:i,configurable:!0})}function tU(t){return t.replace(/^:/,"")}function Qd(t,n={}){this.properties=new Db(this),this.factory=new che(this,this.properties),this.registry=new T1(t,this.properties),this.typeCache={},this.config=n}sd.prototype.build=function(){return td(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},sd.prototype.addProperty=function(t,n,i){"boolean"==typeof n&&(i=n,n=void 0),this.addNamedProperty(t,!1!==i);var s=this.properties;void 0!==n?s.splice(n,0,t):s.push(t)},sd.prototype.replaceProperty=function(t,n,i){var s=t.ns,o=this.properties,a=this.propertiesByName,l=t.name!==n.name;if(t.isId){if(!n.isId)throw new Error("property <"+n.ns.name+"> must be id property to refine <"+t.ns.name+">");this.setIdProperty(n,!1)}if(t.isBody){if(!n.isBody)throw new Error("property <"+n.ns.name+"> must be body property to refine <"+t.ns.name+">");this.setBodyProperty(n,!1)}var c=o.indexOf(t);if(-1===c)throw new Error("property <"+s.name+"> not found in property list");o.splice(c,1),this.addProperty(n,i?void 0:c,l),a[s.name]=a[s.localName]=n},sd.prototype.redefineProperty=function(t,n,i){var s=t.ns.prefix,o=n.split("#"),a=Il(o[0],s),l=Il(o[1],a.prefix).name,c=this.propertiesByName[l];if(!c)throw new Error("refined property <"+l+"> not found");this.replaceProperty(c,t,i),delete t.redefines},sd.prototype.addNamedProperty=function(t,n){var i=t.ns,s=this.propertiesByName;n&&(this.assertNotDefined(t,i.name),this.assertNotDefined(t,i.localName)),s[i.name]=s[i.localName]=t},sd.prototype.removeNamedProperty=function(t){var n=t.ns,i=this.propertiesByName;delete i[n.name],delete i[n.localName]},sd.prototype.setBodyProperty=function(t,n){if(n&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+t.ns.name+">)");this.bodyProperty=t},sd.prototype.setIdProperty=function(t,n){if(n&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+t.ns.name+">)");this.idProperty=t},sd.prototype.assertNotTrait=function(t){if((t.extends||[]).length)throw new Error(`cannot create <${t.name}> extending <${t.extends}>`)},sd.prototype.assertNotDefined=function(t,n){var i=t.name,s=this.propertiesByName[i];if(s)throw new Error("property <"+i+"> already defined; override of <"+s.definedBy.ns.name+"#"+s.ns.name+"> by <"+t.definedBy.ns.name+"#"+t.ns.name+"> not allowed without redefines")},sd.prototype.hasProperty=function(t){return this.propertiesByName[t]},sd.prototype.addTrait=function(t,n){n&&this.assertNotTrait(t);var i=this.allTypesByName,s=this.allTypes,o=t.name;o in i||(fe(t.properties,Io(function(a){a=Ce({},a,{name:a.ns.localName,inherited:n}),Object.defineProperty(a,"definedBy",{value:t});var l=a.replaces,c=a.redefines;l||c?this.redefineProperty(a,l||c,l):(a.isBody&&this.setBodyProperty(a),a.isId&&this.setIdProperty(a),this.addProperty(a))},this)),s.push(t),i[o]=t)},T1.prototype.getPackage=function(t){return this.packageMap[t]},T1.prototype.getPackages=function(){return this.packages},T1.prototype.registerPackage=function(t){t=Ce({},t);var n=this.packageMap;phe(n,t,"prefix"),phe(n,t,"uri"),fe(t.types,Io(function(i){this.registerType(i,t)},this)),n[t.uri]=n[t.prefix]=t,this.packages.push(t)},T1.prototype.registerType=function(t,n){var i=Il((t=Ce({},t,{superClass:(t.superClass||[]).slice(),extends:(t.extends||[]).slice(),properties:(t.properties||[]).slice(),meta:Ce(t.meta||{})})).name,n.prefix),s=i.name,o={};fe(t.properties,Io(function(a){var l=Il(a.name,i.prefix),c=l.name;eU(a.type)||(a.type=Il(a.type,l.prefix).name),Ce(a,{ns:l,name:c}),o[c]=a},this)),Ce(t,{ns:i,name:s,propertiesByName:o}),fe(t.extends,Io(function(a){var l=Il(a,i.prefix),c=this.typeMap[l.name];c.traits=c.traits||[],c.traits.push(s)},this)),this.definePackage(t,n),this.typeMap[s]=t},T1.prototype.mapTypes=function(t,n,i){var s=eU(t.name)?{name:t.name}:this.typeMap[t.name],o=this;function a(u,d){var p=Il(u,eU(u)?"":t.prefix);o.mapTypes(p,n,d)}function l(u){return a(u,!0)}if(!s)throw new Error("unknown type <"+t.name+">");fe(s.superClass,i?l:function c(u){return a(u,!1)}),n(s,!i),fe(s.traits,l)},T1.prototype.getEffectiveDescriptor=function(t){var n=Il(t),i=new sd(n);this.mapTypes(n,function(o,a){i.addTrait(o,a)});var s=i.build();return this.definePackage(s,s.allTypes[s.allTypes.length-1].$pkg),s},T1.prototype.definePackage=function(t,n){this.properties.define(t,"$pkg",{value:n})},Db.prototype.set=function(t,n,i){if(!Or(n)||!n.length)throw new TypeError("property name must be a non-empty string");var s=this.getProperty(t,n),o=s&&s.name;!function fJe(t){return typeof t>"u"}(i)?s?o in t?t[o]=i:fhe(t,s,i):t.$attrs[tU(n)]=i:s?delete t[o]:delete t.$attrs[tU(n)]},Db.prototype.get=function(t,n){var i=this.getProperty(t,n);if(!i)return t.$attrs[tU(n)];var s=i.name;return!t[s]&&i.isMany&&fhe(t,i,[]),t[s]},Db.prototype.define=function(t,n,i){if(!i.writable){var s=i.value;delete(i=Ce({},i,{get:function(){return s}})).value}Object.defineProperty(t,n,i)},Db.prototype.defineDescriptor=function(t,n){this.define(t,"$descriptor",{value:n})},Db.prototype.defineModel=function(t,n){this.define(t,"$model",{value:n})},Db.prototype.getProperty=function(t,n){var i=this.model,s=i.getPropertyDescriptor(t,n);if(s)return s;if(n.includes(":"))return null;const o=i.config.strict;if(typeof o<"u"){const a=new TypeError(`unknown property <${n}> on <${t.$type}>`);if(o)throw a;typeof console<"u"&&console.warn(a)}return null},Qd.prototype.create=function(t,n){var i=this.getType(t);if(!i)throw new Error("unknown type <"+t+">");return new i(n)},Qd.prototype.getType=function(t){var n=this.typeCache,i=Or(t)?t:t.ns.name,s=n[i];return s||(t=this.registry.getEffectiveDescriptor(i),s=n[i]=this.factory.createType(t)),s},Qd.prototype.createAny=function(t,n,i){var s=Il(t),o={$type:t,$instanceOf:function(l){return l===this.$type},get:function(l){return this[l]},set:function(l,c){gh(this,[l],c)}};return this.properties.defineDescriptor(o,{name:t,isGeneric:!0,ns:{prefix:s.prefix,localName:s.localName,uri:n}}),this.properties.defineModel(o,this),this.properties.define(o,"get",{enumerable:!1,writable:!0}),this.properties.define(o,"set",{enumerable:!1,writable:!0}),this.properties.define(o,"$parent",{enumerable:!1,writable:!0}),this.properties.define(o,"$instanceOf",{enumerable:!1,writable:!0}),fe(i,function(l,c){si(l)&&void 0!==l.value?o[l.name]=l.value:o[c]=l}),o},Qd.prototype.getPackage=function(t){return this.registry.getPackage(t)},Qd.prototype.getPackages=function(){return this.registry.getPackages()},Qd.prototype.getElementDescriptor=function(t){return t.$descriptor},Qd.prototype.hasType=function(t,n){return void 0===n&&(n=t,t=this),n in t.$model.getElementDescriptor(t).allTypesByName},Qd.prototype.getPropertyDescriptor=function(t,n){return this.getElementDescriptor(t).propertiesByName[n]},Qd.prototype.getTypeDescriptor=function(t){return this.registry.typeMap[t]};var hhe=String.fromCharCode,hJe=Object.prototype.hasOwnProperty,mJe=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,JS={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function gJe(t,n,i,s){return s?hJe.call(JS,s)?JS[s]:"&"+s+";":hhe(n||parseInt(i,16))}function kb(t){return t.length>3&&-1!==t.indexOf("&")?t.replace(mJe,gJe):t}Object.keys(JS).forEach(function(t){JS[t.toUpperCase()]=JS[t]});var mhe="non-whitespace outside of root node";function Kx(t){return new Error(t)}function ghe(t){return"missing namespace for prefix <"+t+">"}function Y7(t){return{get:t,enumerable:!0}}function yJe(t){var i,n={};for(i in t)n[i]=t[i];return n}function nU(t){return t+"$uri"}function yhe(){return{line:0,column:0}}function bJe(t){throw t}function vhe(t){if(!this)return new vhe(t);var i,s,o,a,c,u,d,p,_,n=t&&t.proxy,l=bJe,f=yhe,h=!1,m=!1,y=null,E=!1;function S(g){g instanceof Error||(g=Kx(g)),y=g,l(g,f)}function v(g){c&&(g instanceof Error||(g=Kx(g)),c(g,f))}this.on=function(g,x){if("function"!=typeof x)throw Kx("required args <name, cb>");switch(g){case"openTag":s=x;break;case"text":i=x;break;case"closeTag":o=x;break;case"error":l=x;break;case"warn":c=x;break;case"cdata":a=x;break;case"attention":p=x;break;case"question":d=x;break;case"comment":u=x;break;default:throw Kx("unsupported event: "+g)}return this},this.ns=function(g){if(typeof g>"u"&&(g={}),"object"!=typeof g)throw Kx("required args <nsMap={}>");var T,x={};for(T in g)x[T]=g[T];return m=!0,_=x,this},this.parse=function(g){if("string"!=typeof g)throw Kx("required args <xml=string>");return y=null,function w(g){var I,me,Re,De,ye,at,_e,be,ke,Pe,se,x=m?[]:null,T=m?function vJe(t){var i,s,n={};for(i in t)n[s=t[i]]=s,n[nU(s)]=i;return n}(_):null,A=[],$=0,z=!1,K=!1,U=0,H=0,Y="",ie=0;function $e(){if(null!==se)return se;var M,k,ne,Bt,Kt,ft,rn,q,yt,X,le,re=m&&T.xmlns,Se=m&&h?[]:null,te=ie,Ke=Y,rt=Ke.length,B={},zt={};e:for(;te<rt;te++)if(yt=!1,X=Ke.charCodeAt(te),!(32===X||X<14&&X>8)){for((X<65||X>122||X>90&&X<97)&&95!==X&&58!==X&&(v("illegal first char attribute name"),yt=!0),le=te+1;le<rt;le++)if(!((X=Ke.charCodeAt(le))>96&&X<123||X>64&&X<91||X>47&&X<59||46===X||45===X||95===X)){if(32===X||X<14&&X>8){v("missing attribute value"),te=le;continue e}if(61===X)break;v("illegal attribute name char"),yt=!0}if("xmlns:xmlns"===(q=Ke.substring(te,le))&&(v("illegal declaration of xmlns"),yt=!0),34===(X=Ke.charCodeAt(le+1)))-1===(le=Ke.indexOf('"',te=le+2))&&-1!==(le=Ke.indexOf("'",te))&&(v("attribute value quote missmatch"),yt=!0);else if(39===X)-1===(le=Ke.indexOf("'",te=le+2))&&-1!==(le=Ke.indexOf('"',te))&&(v("attribute value quote missmatch"),yt=!0);else for(v("missing attribute value quotes"),yt=!0,le+=1;le<rt&&!(32===(X=Ke.charCodeAt(le+1))||X<14&&X>8);le++);for(-1===le&&(v("missing closing quotes"),le=rt,yt=!0),yt||(ft=Ke.substring(te,le)),te=le;le+1<rt&&!(32===(X=Ke.charCodeAt(le+1))||X<14&&X>8);le++)te===le&&(v("illegal character after attribute end"),yt=!0);if(te=le+1,yt)continue e;if(q in zt){v("attribute <"+q+"> already defined");continue}if(zt[q]=!0,!m){B[q]=ft;continue}if(h){if(null!==(Kt="xmlns"===q?"xmlns":120===q.charCodeAt(0)&&"xmlns:"===q.substr(0,6)?q.substr(6):null)){if(M=kb(ft),k=nU(Kt),!(rn=_[M])){if("xmlns"===Kt||k in T&&T[k]!==M)do{rn="ns"+$++}while(typeof T[rn]<"u");else rn=Kt;_[M]=rn}T[Kt]!==rn&&(Bt||(T=yJe(T),Bt=!0),T[Kt]=rn,"xmlns"===Kt&&(T[nU(rn)]=M,re=rn),T[k]=M),B[q]=ft;continue}Se.push(q,ft);continue}if(-1===(X=q.indexOf(":"))){B[q]=ft;continue}if(!(ne=T[q.substring(0,X)])){v(ghe(q.substring(0,X)));continue}B[q=re===ne?q.substr(X+1):ne+q.substr(X)]=ft}if(h)for(te=0,rt=Se.length;te<rt;te++){if(q=Se[te++],ft=Se[te],-1!==(X=q.indexOf(":"))){if(!(ne=T[q.substring(0,X)])){v(ghe(q.substring(0,X)));continue}q=re===ne?q.substr(X+1):ne+q.substr(X)}B[q]=ft}return se=B}for(f=function j(){for(var te,Ke,M=/(\r\n|\r|\n)/g,k=0,ne=0,re=0,Se=H;U>=re&&(te=M.exec(g))&&!((Se=te[0].length+te.index)>U);)k+=1,re=Se;return-1==U?(ne=Se,Ke=g.substring(H)):0===H?Ke=g.substring(H,U):(ne=U-re,Ke=-1==H?g.substring(U):g.substring(U,H+1)),{data:Ke,line:k,column:ne}},n&&(Pe=Object.create({},{name:Y7(function(){return be}),originalName:Y7(function(){return ke}),attrs:Y7($e),ns:Y7(function(){return T})}));-1!==H;){if(-1===(U=60===g.charCodeAt(H)?H:g.indexOf("<",H)))return A.length?S("unexpected end of file"):0===H?S("missing start tag"):void(H<g.length&&g.substring(H).trim()&&v(mhe));if(H!==U)if(A.length){if(i&&(i(g.substring(H,U),kb,f),E))return}else if(g.substring(H,U).trim()&&(v(mhe),E))return;if(33===(ye=g.charCodeAt(U+1))){if(91===(De=g.charCodeAt(U+2))&&"CDATA["===g.substr(U+3,6)){if(-1===(H=g.indexOf("]]>",U)))return S("unclosed cdata");if(a&&(a(g.substring(U+9,H),f),E))return;H+=3;continue}if(45===De&&45===g.charCodeAt(U+3)){if(-1===(H=g.indexOf("--\x3e",U)))return S("unclosed comment");if(u&&(u(g.substring(U+4,H),kb,f),E))return;H+=3;continue}}if(63!==ye){for(me=U+1;;me++){if(at=g.charCodeAt(me),isNaN(at))return H=-1,S("unclosed tag");if(34===at)me=-1!==(De=g.indexOf('"',me+1))?De:me;else if(39===at)me=-1!==(De=g.indexOf("'",me+1))?De:me;else if(62===at){H=me;break}}if(33!==ye){if(se={},47===ye){if(z=!1,K=!0,!A.length)return S("missing open tag");if(me=be=A.pop(),g.substring(U+2,De=U+2+me.length)!==me)return S("closing tag mismatch");for(;De<H;De++)if(!(32===(ye=g.charCodeAt(De))||ye>8&&ye<14))return S("close tag")}else{if(47===g.charCodeAt(H-1)?(me=be=g.substring(U+1,H-1),z=!0,K=!0):(me=be=g.substring(U+1,H),z=!0,K=!1),!(ye>96&&ye<123||ye>64&&ye<91||95===ye||58===ye))return S("illegal first char nodeName");for(De=1,Re=me.length;De<Re;De++)if(!((ye=me.charCodeAt(De))>96&&ye<123||ye>64&&ye<91||ye>47&&ye<59||45===ye||95===ye||46==ye)){if(32===ye||ye<14&&ye>8){be=me.substring(0,De),se=null;break}return S("invalid nodeName")}K||A.push(be)}if(m){if(I=T,z&&(K||x.push(I),null===se&&(h=-1!==me.indexOf("xmlns",De))&&(ie=De,Y=me,$e(),h=!1)),ke=be,-1!==(ye=be.indexOf(":"))){if(!(_e=T[be.substring(0,ye)]))return S("missing namespace on <"+ke+">");be=be.substr(ye+1)}else _e=T.xmlns;_e&&(be=_e+":"+be)}if(z&&(ie=De,Y=me,s&&(n?s(Pe,kb,K,f):s(be,$e,kb,K,f),E)))return;if(K){if(o&&(o(n?Pe:be,kb,z,f),E))return;m&&(T=z?I:x.pop())}H+=1}else{if(p&&(p(g.substring(U,H+1),kb,f),E))return;H+=1}}else{if(-1===(H=g.indexOf("?>",U)))return S("unclosed question");if(d&&(d(g.substring(U,H+2),f),E))return;H+=2}}}(g),f=yhe,E=!1,y},this.stop=function(){E=!0}}function bhe(t){return t.xml&&"lowerCase"===t.xml.tagAlias}var rU={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"};function Ehe(t){return t.xml&&t.xml.serialize}function xhe(t,n){return bhe(n)?t.prefix+":"+function EJe(t){return t.charAt(0).toUpperCase()+t.slice(1)}(t.localName):t.name}function P1(t){return new Error(t)}function sm(t){return t.$descriptor}function CJe(t){Ce(this,t),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(n){this.references.push(n)},this.addElement=function(n){if(!n)throw P1("expected element");var a,i=this.elementsById,o=sm(n).idProperty;if(o&&(a=n.get(o.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(a))throw new Error("illegal ID <"+a+">");if(i[a])throw P1("duplicate ID <"+a+">");i[a]=n}},this.addWarning=function(n){this.warnings.push(n)}}function e6(){}function iU(){}function Yx(){}function t6(t,n){this.property=t,this.context=n}function sU(t,n){this.element=n,this.propertyDesc=t}function X7(){}function nc(t,n,i){this.model=t,this.type=t.getType(n),this.context=i}function oU(t,n,i){nc.call(this,t,n,i)}function Xx(t,n,i){this.model=t,this.context=i}function aU(t){t instanceof Qd&&(t={model:t}),Ce(this,{lax:!1},t)}e6.prototype.handleEnd=function(){},e6.prototype.handleText=function(){},e6.prototype.handleNode=function(){},(iU.prototype=Object.create(e6.prototype)).handleNode=function(){return this},(Yx.prototype=Object.create(e6.prototype)).handleText=function(t){this.body=(this.body||"")+t},(t6.prototype=Object.create(Yx.prototype)).handleNode=function(t){if(this.element)throw P1("expected no sub nodes");return this.element=this.createReference(t),this},t6.prototype.handleEnd=function(){this.element.id=this.body},t6.prototype.createReference=function(t){return{property:this.property.ns.name,id:""}},(sU.prototype=Object.create(Yx.prototype)).handleEnd=function(){var t=this.body||"",n=this.element,i=this.propertyDesc;t=JH(i.type,t),i.isMany?n.get(i.name).push(t):n.set(i.name,t)},(X7.prototype=Object.create(Yx.prototype)).handleNode=function(t){var n=this,i=this.element;return i?n=this.handleChild(t):(i=this.element=this.createElement(t),this.context.addElement(i)),n},(nc.prototype=Object.create(X7.prototype)).addReference=function(t){this.context.addReference(t)},nc.prototype.handleText=function(t){if(!sm(this.element).bodyProperty)throw P1("unexpected body text <"+t+">");Yx.prototype.handleText.call(this,t)},nc.prototype.handleEnd=function(){var t=this.body,n=this.element,s=sm(n).bodyProperty;s&&void 0!==t&&(t=JH(s.type,t),n.set(s.name,t))},nc.prototype.createElement=function(t){var c,n=t.attributes,i=this.type,s=sm(i),o=this.context,a=new i({}),l=this.model;return fe(n,function(u,d){var p=s.propertiesByName[d];p&&p.isReference?p.isMany?fe(u.split(" "),function(h){o.addReference({element:a,property:p.ns.name,id:h})}):o.addReference({element:a,property:p.ns.name,id:u}):(p?u=JH(p.type,u):"xmlns"===d?d=":"+d:(c=Il(d,s.ns.prefix),l.getPackage(c.prefix)&&o.addWarning({message:"unknown attribute <"+d+">",element:a,property:d,value:u})),a.set(d,u))}),a},nc.prototype.getPropertyForNode=function(t){var i=Il(t.name),o=this.model,a=sm(this.type),c=a.propertiesByName[i.name];if(c&&!c.isAttr){const d=function _Je(t){const n=Ehe(t);return"property"!==n&&(n||null)}(c);if(d){const p=t.attributes[d];if(p){const f=function wJe(t,n,i){const s=Il(t,n.xmlns),a=Il(`${n[s.prefix]||s.prefix}:${s.localName}`);return function xJe(t,n){var i=t.name,s=t.localName,o=n&&n.xml&&n.xml.typePrefix;return o&&0===s.indexOf(o)?t.prefix+":"+s.slice(o.length):i}(a,i.getPackage(a.prefix))}(p,t.ns,o);return Ce({},c,{effectiveType:sm(o.getType(f)).name})}}return c}var u=o.getPackage(i.prefix);if(u){const d=xhe(i,u),p=o.getType(d);if(c=Gt(a.properties,function(f){return!f.isVirtual&&!f.isReference&&!f.isAttribute&&p.hasType(f.type)}))return Ce({},c,{effectiveType:sm(p).name})}else if(c=Gt(a.properties,function(d){return!d.isReference&&!d.isAttribute&&"Element"===d.type}))return c;throw P1("unrecognized element <"+i.name+">")},nc.prototype.toString=function(){return"ElementDescriptor["+sm(this.type).name+"]"},nc.prototype.valueHandler=function(t,n){return new sU(t,n)},nc.prototype.referenceHandler=function(t){return new t6(t,this.context)},nc.prototype.handler=function(t){return"Element"===t?new Xx(this.model,t,this.context):new nc(this.model,t,this.context)},nc.prototype.handleChild=function(t){var n,i,s,o;if(n=this.getPropertyForNode(t),s=this.element,dhe(i=n.effectiveType||n.type))return this.valueHandler(n,s);var a=(o=n.isReference?this.referenceHandler(n).handleNode(t):this.handler(i).handleNode(t)).element;return void 0!==a&&(n.isMany?s.get(n.name).push(a):s.set(n.name,a),n.isReference?(Ce(a,{element:s}),this.context.addReference(a)):a.$parent=s),o},(oU.prototype=Object.create(nc.prototype)).createElement=function(t){var n=t.name,i=Il(n),o=this.type,a=this.model.getPackage(i.prefix),l=a&&xhe(i,a)||n;if(!o.hasType(l))throw P1("unexpected element <"+t.originalName+">");return nc.prototype.createElement.call(this,t)},(Xx.prototype=Object.create(X7.prototype)).createElement=function(t){var n=t.name,i=Il(n);return this.model.createAny(n,t.ns[i.prefix+"$uri"],t.attributes)},Xx.prototype.handleChild=function(t){var n=new Xx(this.model,"Element",this.context).handleNode(t),i=this.element,s=n.element;return void 0!==s&&((i.$children=i.$children||[]).push(s),s.$parent=i),n},Xx.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},aU.prototype.fromXML=function(t,n,i){var s=n.rootHandler;n instanceof nc?(s=n,n={}):"string"==typeof n?(s=this.handler(n),n={}):"string"==typeof s&&(s=this.handler(s));var o=this.model,a=this.lax,l=new CJe(Ce({},n,{rootHandler:s})),c=new vhe({proxy:!0}),u=function SJe(){var t=[];return Object.defineProperty(t,"peek",{value:function(){return this[this.length-1]}}),t}();function d(x,T,I){var A=T(),$=A.line,z=A.column,K=A.data;"<"===K.charAt(0)&&-1!==K.indexOf(" ")&&(K=K.slice(0,K.indexOf(" "))+">");var U="unparsable content "+(K?K+" ":"")+"detected\n\tline: "+$+"\n\tcolumn: "+z+"\n\tnested error: "+x.message;if(I)return l.addWarning({message:U,error:x}),!0;throw P1(U)}function p(x,T){return d(x,T,!0)}s.context=l,u.push(s);var m=/^<\?xml /i,y=/ encoding="([^"]+)"/i,E=/^utf-8$/i;function v(x,T){try{u.peek().handleText(x)}catch(I){p(I,T)}}var g=o.getPackages().reduce(function(x,T){return x[T.uri]=T.prefix,x},Object.entries(rU).reduce(function(x,[T,I]){return x[I]=T,x},o.config&&o.config.nsMap||{}));return c.ns(g).on("openTag",function(x,T,I,A){var $=x.attrs||{},z=Object.keys($).reduce(function(U,H){var me=T($[H]);return U[H]=me,U},{});!function S(x,T){var I=u.peek();try{u.push(I.handleNode(x))}catch(A){d(A,T,a)&&u.push(new iU)}}({name:x.name,originalName:x.originalName,attributes:z,ns:x.ns},A)}).on("question",function _(x){if(m.test(x)){var T=y.exec(x),I=T&&T[1];!I||E.test(I)||l.addWarning({message:"unsupported document encoding <"+I+">, falling back to UTF-8"})}}).on("closeTag",function h(){u.pop().handleEnd()}).on("cdata",v).on("text",function(x,T,I){!function w(x,T){x.trim()&&v(x,T)}(T(x),I)}).on("error",d).on("warn",p),new Promise(function(x,T){var I;try{c.parse(t),function f(){var I,A,x=l.elementsById,T=l.references;for(I=0;A=T[I];I++){var $=A.element,z=x[A.id],K=sm($).propertiesByName[A.property];if(z||l.addWarning({message:"unresolved reference <"+A.id+">",element:A.element,property:A.property,value:A.id}),K.isMany){var U=$.get(K.name),H=U.indexOf(A);-1===H&&(H=U.length),z?U[H]=z:U.splice(H,1)}else $.set(K.name,z)}}()}catch(U){I=U}var A=s.element;!I&&!A&&(I=P1("failed to parse document as <"+s.type.$descriptor.name+">"));var $=l.warnings,z=l.references,K=l.elementsById;return I?(I.warnings=$,T(I)):x({rootElement:A,elementsById:K,references:z,warnings:$})})},aU.prototype.handler=function(t){return new oU(this.model,t)};var TJe=/<|>|'|"|&|\n\r|\n/g,whe=/<|>|&/g;function Eh(t){this.prefixMap={},this.uriMap={},this.used={},this.wellknown=[],this.custom=[],this.parent=t,this.defaultPrefixMap=t&&t.defaultPrefixMap||{}}function DJe(t,n){return bhe(n)?function PJe(t){return t.charAt(0).toLowerCase()+t.slice(1)}(t):t}function Che(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function She(t){return Or(t)?t:(t.prefix?t.prefix+":":"")+t.localName}Eh.prototype.mapDefaultPrefixes=function(t){this.defaultPrefixMap=t},Eh.prototype.defaultUriByPrefix=function(t){return this.defaultPrefixMap[t]},Eh.prototype.byUri=function(t){return this.uriMap[t]||this.parent&&this.parent.byUri(t)},Eh.prototype.add=function(t,n){this.uriMap[t.uri]=t,n?this.wellknown.push(t):this.custom.push(t),this.mapPrefix(t.prefix,t.uri)},Eh.prototype.uriByPrefix=function(t){return this.prefixMap[t||"xmlns"]||this.parent&&this.parent.uriByPrefix(t)},Eh.prototype.mapPrefix=function(t,n){this.prefixMap[t||"xmlns"]=n},Eh.prototype.getNSKey=function(t){return void 0!==t.prefix?t.uri+"|"+t.prefix:t.uri},Eh.prototype.logUsed=function(t){var n=t.uri,i=this.getNSKey(t);this.used[i]=this.byUri(n),this.parent&&this.parent.logUsed(t)},Eh.prototype.getUsed=function(t){return[].concat(this.wellknown,this.custom).filter(i=>{var s=this.getNSKey(i);return this.used[s]})};var RJe={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},NJe={"<":"lt",">":"gt","&":"amp"};function Ohe(t,n,i){return(t=Or(t)?t:""+t).replace(n,function(s){return"&"+i[s]+";"})}function lU(t){this.tagName=t}function Mb(){}function cU(t){this.tagName=t}function Gs(t,n){this.body=[],this.attrs=[],this.parent=t,this.propertyDescriptor=n}function Q7(t,n,i){Gs.call(this,t,n),this.serialization=i}function VJe(){this.value="",this.write=function(t){this.value+=t}}function jJe(t,n){var i=[""];this.append=function(s){return t.write(s),this},this.appendNewLine=function(){return n&&t.write("\n"),this},this.appendIndent=function(){return n&&t.write(i.join("  ")),this},this.indent=function(){return i.push(""),this},this.unindent=function(){return i.pop(),this}}function zJe(t){return t=Ce({format:!1,preamble:!0},t||{}),{toXML:function n(i,s){var o=s||new VJe,a=new jJe(o,t.format);t.preamble&&a.append('<?xml version="1.0" encoding="UTF-8"?>\n');var l=new Gs,c=i.$model;if(l.getNamespaces().mapDefaultPrefixes(function HJe(t){const n=t.config&&t.config.nsMap||{},i={};for(const s in rU)i[s]=rU[s];for(const s in n)i[n[s]]=s;for(const s of t.getPackages())i[s.prefix]=s.uri;return i}(c)),l.build(i).serializeTo(a),!s)return o.value}}}function Z7(t,n){Qd.call(this,t,n)}lU.prototype.build=function(t){return this.element=t,this},lU.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},Mb.prototype.serializeValue=Mb.prototype.serializeTo=function(t){t.append(this.escape?function FJe(t){return Ohe(t,whe,NJe)}(this.value):this.value)},Mb.prototype.build=function(t,n){return this.value=n,"String"===t.type&&-1!==n.search(whe)&&(this.escape=!0),this},Che(cU,Mb),cU.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"),this.serializeValue(t),t.append("</"+this.tagName+">").appendNewLine()},Gs.prototype.build=function(t){this.element=t;var s,o,n=t.$descriptor,i=this.propertyDescriptor,a=n.isGeneric;return s=a?this.parseGenericNsAttributes(t):this.parseNsAttributes(t),this.ns=i?this.nsPropertyTagName(i):this.nsTagName(n),this.tagName=this.addTagName(this.ns),a?this.parseGenericContainments(t):(o=function IJe(t){return Bn(t.$descriptor.properties,function(i){var s=i.name;if(i.isVirtual||!Zo(t,s))return!1;var o=t[s];return o!==i.default&&null!==o&&(!i.isMany||o.length)})}(t),this.parseAttributes(function BJe(t){return Bn(t,function(n){return n.isAttr})}(o)),this.parseContainments(function $Je(t){return Bn(t,function(n){return!n.isAttr})}(o))),this.parseGenericAttributes(t,s),this},Gs.prototype.nsTagName=function(t){return function MJe(t,n){return Ce(n.isGeneric?{localName:n.ns.localName}:{localName:DJe(n.ns.localName,n.$pkg)},t)}(this.logNamespaceUsed(t.ns),t)},Gs.prototype.nsPropertyTagName=function(t){return function AJe(t,n){return Ce({localName:n.ns.localName},t)}(this.logNamespaceUsed(t.ns),t)},Gs.prototype.isLocalNs=function(t){return t.uri===this.ns.uri},Gs.prototype.nsAttributeName=function(t){var n;if(n=Or(t)?Il(t):t.ns,t.inherited)return{localName:n.localName};var i=this.logNamespaceUsed(n);return this.getNamespaces().logUsed(i),this.isLocalNs(i)?{localName:n.localName}:Ce({localName:n.localName},i)},Gs.prototype.parseGenericNsAttributes=function(t){return Object.entries(t).filter(([n,i])=>!n.startsWith("$")&&this.parseNsAttribute(t,n,i)).map(([n,i])=>({name:n,value:i}))},Gs.prototype.parseGenericContainments=function(t){var n=t.$body;n&&this.body.push((new Mb).build({type:"String"},n));var i=t.$children;i&&fe(i,s=>{this.body.push(new Gs(this).build(s))})},Gs.prototype.parseNsAttribute=function(t,n,i){var a,s=t.$model,o=Il(n);if("xmlns"===o.prefix&&(a={prefix:o.localName,uri:i}),!o.prefix&&"xmlns"===o.localName&&(a={uri:i}),!a)return{name:n,value:i};if(s&&s.getPackage(i))this.logNamespace(a,!0,!0);else{var l=this.logNamespaceUsed(a,!0);this.getNamespaces().logUsed(l)}},Gs.prototype.parseNsAttributes=function(t){var n=this,s=[];return fe(t.$attrs,function(o,a){var l=n.parseNsAttribute(t,a,o);l&&s.push(l)}),s},Gs.prototype.parseGenericAttributes=function(t,n){var i=this;fe(n,function(s){try{i.addAttribute(i.nsAttributeName(s.name),s.value)}catch(o){typeof console<"u"&&console.warn(`missing namespace information for <${s.name}=${s.value}> on`,t,o)}})},Gs.prototype.parseContainments=function(t){var n=this,i=this.body,s=this.element;fe(t,function(o){var a=s.get(o.name),l=o.isReference;if(o.isMany||(a=[a]),o.isBody)i.push((new Mb).build(o,a[0]));else if(dhe(o.type))fe(a,function(d){i.push(new cU(n.addTagName(n.nsPropertyTagName(o))).build(o,d))});else if(l)fe(a,function(d){i.push(new lU(n.addTagName(n.nsPropertyTagName(o))).build(d))});else{var u=Ehe(o);fe(a,function(d){var p;p=u?"property"===u?new Gs(n,o):new Q7(n,o,u):new Gs(n),i.push(p.build(d))})}})},Gs.prototype.getNamespaces=function(t){var s,n=this.namespaces,i=this.parent;return n||(s=i&&i.getNamespaces(),t||!s?this.namespaces=n=new Eh(s):n=s),n},Gs.prototype.logNamespace=function(t,n,i){var s=this.getNamespaces(i),o=t.uri,a=t.prefix;return(!s.byUri(o)||i)&&s.add(t,n),s.mapPrefix(a,o),t},Gs.prototype.logNamespaceUsed=function(t,n){var a,l,c,i=this.getNamespaces(n),s=t.prefix,o=t.uri;if(!s&&!o)return{localName:t.localName};if(c=i.defaultUriByPrefix(s),!(o=o||c||i.uriByPrefix(s)))throw new Error("no namespace uri given for prefix <"+s+">");if(!(t=i.byUri(o))&&!s&&(t=this.logNamespace({uri:o},c===o,!0)),!t){for(a=s,l=1;i.uriByPrefix(a);)a=s+"_"+l++;t=this.logNamespace({prefix:a,uri:o},c===o)}return s&&i.mapPrefix(s,o),t},Gs.prototype.parseAttributes=function(t){var n=this,i=this.element;fe(t,function(s){var o=i.get(s.name);if(s.isReference)if(s.isMany){var a=[];fe(o,function(l){a.push(l.id)}),o=a.join(" ")}else o=o.id;n.addAttribute(n.nsAttributeName(s),o)})},Gs.prototype.addTagName=function(t){var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),She(t)},Gs.prototype.addAttribute=function(t,n){var i=this.attrs;Or(n)&&(n=function LJe(t){return Ohe(t,TJe,RJe)}(n));var s=gu(i,function(a){return a.name.localName===t.localName&&a.name.uri===t.uri&&a.name.prefix===t.prefix}),o={name:t,value:n};-1!==s?i.splice(s,1,o):i.push(o)},Gs.prototype.serializeAttributes=function(t){var n=this.attrs,i=this.namespaces;i&&(n=function kJe(t){return t.getUsed().filter(function(n){return"xml"!==n.prefix}).map(function(n){return{name:"xmlns"+(n.prefix?":"+n.prefix:""),value:n.uri}})}(i).concat(n)),fe(n,function(s){t.append(" ").append(She(s.name)).append('="').append(s.value).append('"')})},Gs.prototype.serializeTo=function(t){var n=this.body[0],i=n&&n.constructor!==Mb;t.appendIndent().append("<"+this.tagName),this.serializeAttributes(t),t.append(n?">":" />"),n&&(i&&t.appendNewLine().indent(),fe(this.body,function(s){s.serializeTo(t)}),i&&t.unindent().appendIndent(),t.append("</"+this.tagName+">")),t.appendNewLine()},Che(Q7,Gs),Q7.prototype.parseNsAttributes=function(t){var n=Gs.prototype.parseNsAttributes.call(this,t).filter(l=>l.name!==this.serialization),i=t.$descriptor;if(i.name===this.propertyDescriptor.type)return n;var s=this.typeNs=this.nsTagName(i);this.getNamespaces().logUsed(this.typeNs);var o=t.$model.getPackage(s.uri),a=o.xml&&o.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(this.serialization),(s.prefix?s.prefix+":":"")+a+i.ns.localName),n},Q7.prototype.isLocalNs=function(t){return t.uri===(this.typeNs||this.ns).uri},(Z7.prototype=Object.create(Qd.prototype)).fromXML=function(t,n,i){Or(n)||(i=n,n="bpmn:Definitions");var s=new aU(Ce({model:this,lax:!0},i)),o=s.handler(n);return s.fromXML(t,o)},Z7.prototype.toXML=function(t,n){var i=new zJe(n);return new Promise(function(s,o){try{return s({xml:i.toXML(t)})}catch(l){return o(l)}})};const Let={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};function Fet(t,n){return new Z7(Ce({},Let,t),n)}function The(t){Zo(t,"di")||Object.defineProperty(t,"di",{enumerable:!1,get:function(){throw new Error("Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472")}})}function zc(t,n){return t.$instanceOf(n)}function Vet(t){var n={},i=[],s={};function o(Pe,Y){return function(ie){Pe(ie,Y)}}function a(Pe){n[Pe.id]=Pe}function d(Pe,Y){try{var ie=s[Pe.id]&&function c(Pe,Y){if(Pe.gfx)throw new Error(`already rendered ${Ml(Pe)}`);return t.element(Pe,s[Pe.id],Y)}(Pe,Y);return a(Pe),ie}catch(se){p(se.message,{element:Pe,error:se}),console.error(`failed to import ${Ml(Pe)}`,se)}}function p(Pe,Y){t.error(Pe,Y)}var f=this.registerDi=function(Y){var ie=Y.bpmnElement;ie?s[ie.id]?p(`multiple DI elements defined for ${Ml(ie)}`,{element:ie}):(s[ie.id]=Y,The(ie)):p(`no bpmnElement referenced in ${Ml(Y)}`,{element:Y})};function y(Pe){f(Pe)}this.handleDefinitions=function(Y,ie){var se=Y.diagrams;if(ie&&-1===se.indexOf(ie))throw new Error("diagram not part of <bpmn:Definitions />");if(!ie&&se&&se.length&&(ie=se[0]),!ie)throw new Error("no diagram to display");s={},function h(Pe){!function m(Pe){f(Pe),fe(Pe.planeElement,y)}(Pe.plane)}(ie);var $e=ie.plane;if(!$e)throw new Error(`no plane for ${Ml(ie)}`);var j=$e.bpmnElement;if(!j){if(j=function $et(t){return Gt(t.rootElements,function(n){return zc(n,"bpmn:Process")||zc(n,"bpmn:Collaboration")})}(Y),!j)throw new Error("no process or collaboration to display");p(`correcting missing bpmnElement on ${Ml($e)} to ${Ml(j)}`),$e.bpmnElement=j,f($e)}var M=function u(Pe,Y){return t.root(Pe,s[Pe.id],Y)}(j,$e);if(zc(j,"bpmn:Process")||zc(j,"bpmn:SubProcess"))_(j,M);else{if(!zc(j,"bpmn:Collaboration"))throw new Error(`unsupported bpmnElement for ${Ml($e)}: ${Ml(j)}`);(function be(Pe,Y){fe(Pe.participants,o(_e,Y)),i.push(function(){!function w(Pe,Y){fe(Pe,o(v,Y))}(Pe.messageFlows,Y)}),A(Pe.artifacts,Y)})(j,M),function S(Pe,Y){var ie=Bn(Pe,function(se){return!function l(Pe){return n[Pe.id]}(se)&&zc(se,"bpmn:Process")&&se.laneSets});ie.forEach(o(_,Y))}(Y.rootElements,M)}E(i)};var E=this.handleDeferred=function(){for(;i.length;)i.shift()()};function _(Pe,Y){ye(Pe,Y),$(Pe.ioSpecification,Y),A(Pe.artifacts,Y),a(Pe)}function v(Pe,Y){d(Pe,Y)}function g(Pe,Y){d(Pe,Y)}function x(Pe,Y){d(Pe,Y)}function T(Pe,Y){d(Pe,Y)}function I(Pe,Y){d(Pe,Y)}function A(Pe,Y){fe(Pe,function(ie){zc(ie,"bpmn:Association")?i.push(function(){I(ie,Y)}):I(ie,Y)})}function $(Pe,Y){Pe&&(fe(Pe.dataInputs,o(x,Y)),fe(Pe.dataOutputs,o(T,Y)))}var z=this.handleSubProcess=function(Y,ie){ye(Y,ie),A(Y.artifacts,ie)};function K(Pe,Y){var ie=d(Pe,Y);zc(Pe,"bpmn:SubProcess")&&z(Pe,ie||Y),zc(Pe,"bpmn:Activity")&&$(Pe.ioSpecification,Y),i.push(function(){fe(Pe.dataInputAssociations,o(g,Y)),fe(Pe.dataOutputAssociations,o(g,Y))})}function me(Pe,Y){i.push(function(){var ie=d(Pe,Y);Pe.childLaneSet&&Re(Pe.childLaneSet,ie||Y),function ke(Pe){fe(Pe.flowNodeRef,function(Y){var ie=Y.get("lanes");ie&&ie.push(Pe)})}(Pe)})}function Re(Pe,Y){fe(Pe.lanes,o(me,Y))}function ye(Pe,Y){(function at(Pe,Y){fe(Pe,function(ie){zc(ie,"bpmn:SequenceFlow")?i.push(function(){!function U(Pe,Y){d(Pe,Y)}(ie,Y)}):zc(ie,"bpmn:BoundaryEvent")?i.unshift(function(){K(ie,Y)}):zc(ie,"bpmn:FlowNode")?K(ie,Y):zc(ie,"bpmn:DataObject")||(zc(ie,"bpmn:DataStoreReference")||zc(ie,"bpmn:DataObjectReference")?function H(Pe,Y){d(Pe,Y)}(ie,Y):p(`unrecognized flowElement ${Ml(ie)} in context ${Ml(Y&&Y.businessObject)}`,{element:ie,context:Y}))})})(Pe.flowElements,Y),Pe.laneSets&&function De(Pe,Y){fe(Pe,o(Re,Y))}(Pe.laneSets,Y)}function _e(Pe,Y){var ie=d(Pe,Y),se=Pe.processRef;se&&_(se,ie||Y)}}function jet(t,n,i){var s,o,a,c=[];function u(d,p){var h=new Vet({root:function(E,_){return s.add(E,_)},element:function(E,_,S){return s.add(E,_,S)},error:function(E,_){c.push({message:E,context:_})}}),m=function zet(t,n){if(n&&n.plane){var o,i=n.plane.bpmnElement,s=i;!D(i,"bpmn:Process")&&!D(i,"bpmn:Collaboration")&&(s=function Het(t){for(var n=t;n;){if(D(n,"bpmn:Process"))return n;n=n.$parent}}(i)),o=D(s,"bpmn:Collaboration")?s:Gt(t.rootElements,function(d){if(D(d,"bpmn:Collaboration"))return Gt(d.participants,function(p){return p.processRef===s})});var a=[s];o&&(a=Ao(o.participants,function(d){return d.processRef}),a.push(o));var l=Phe(a),c=[n],u=[i];return fe(t.diagrams,function(d){if(d.plane){var p=d.plane.bpmnElement;-1!==l.indexOf(p)&&-1===u.indexOf(p)&&(c.push(d),u.push(p))}}),c}}(d,p=p||d.diagrams&&d.diagrams[0]);if(!m)throw new Error("no diagram to display");fe(m,function(E){h.handleDefinitions(d,E)});var y=p.plane.bpmnElement.id;a.setRootElement(a.findRoot(y+"_plane")||a.findRoot(y))}return new Promise(function(d,p){try{return s=t.get("bpmnImporter"),o=t.get("eventBus"),a=t.get("canvas"),o.fire("import.render.start",{definitions:n}),u(n,i),o.fire("import.render.complete",{error:void 0,warnings:c}),d({warnings:c})}catch(f){return f.warnings=c,p(f)}})}function Phe(t){var n=[];return fe(t,function(i){i&&(n.push(i),n=n.concat(Phe(i.flowElements)))}),n}var xh,Dhe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',khe={verticalAlign:"middle"},Mhe={color:"#404040"},qet={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},Wet={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},Get={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},Ket='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+Dhe+'</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>';function no(t){t=Ce({},Zet,t),this._moddle=this._createModdle(t),this._container=this._createContainer(t),this._init(this._container,this._moddle,t),function ett(t){const s=Xr('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+Dhe+"</a>");Dl($n("svg",s),khe),Dl(s,Mhe,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),t.appendChild(s),mn.bind(s,"click",function(o){(function Xet(){xh||(function Yet(){Dl(xh=Xr(Ket),qet),Dl($n("svg",xh),khe),Dl($n(".backdrop",xh),Wet),Dl($n(".notice",xh),Get),Dl($n(".link",xh),Mhe,{margin:"15px 20px 15px 10px",alignSelf:"center"})}(),kl_bind(xh,".backdrop","click",function(t){document.body.removeChild(xh)})),document.body.appendChild(xh)})(),o.preventDefault()})}(this._container)}function J7(t,n){return t.warnings=n,t}Jt(no,cf),no.prototype.importXML=function(){var t=N(function*(i,s){const o=this;let l=[];try{let c;i=this._emit("import.parse.start",{xml:i})||i;try{c=yield this._moddle.fromXML(i,"bpmn:Definitions")}catch(m){throw this._emit("import.parse.complete",{error:m}),m}let u=c.rootElement;const d=c.references,f=c.elementsById;l=l.concat(c.warnings),u=this._emit("import.parse.complete",function a(c){return o.get("eventBus").createEvent(c)}({error:null,definitions:u,elementsById:f,references:d,warnings:l}))||u;const h=yield this.importDefinitions(u,s);return l=l.concat(h.warnings),this._emit("import.done",{error:null,warnings:l}),{warnings:l}}catch(c){let u=c;throw l=l.concat(u.warnings||[]),J7(u,l),u=function Qet(t){const i=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(t.message);return i&&(t.message="unparsable content <"+i[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+i[2]),t}(u),this._emit("import.done",{error:u,warnings:u.warnings}),u}});return function n(i,s){return t.apply(this,arguments)}}(),no.prototype.importDefinitions=function(){var t=N(function*(i,s){return this._setDefinitions(i),{warnings:(yield this.open(s)).warnings}});return function n(i,s){return t.apply(this,arguments)}}(),no.prototype.open=function(){var t=N(function*(i){const s=this._definitions;let o=i;if(!s){const l=new Error("no XML imported");throw J7(l,[]),l}if("string"==typeof i&&(o=function Jet(t,n){return n&&Gt(t.diagrams,function(i){return i.id===n})||null}(s,i),!o)){const l=new Error("BPMNDiagram <"+i+"> not found");throw J7(l,[]),l}try{this.clear()}catch(l){throw J7(l,[]),l}const{warnings:a}=yield jet(this,s,o);return{warnings:a}});return function n(i){return t.apply(this,arguments)}}(),no.prototype.saveXML=function(){var t=N(function*(i){i=i||{};let o,a,s=this._definitions;try{if(!s)throw new Error("no definitions loaded");s=this._emit("saveXML.start",{definitions:s})||s,a=(yield this._moddle.toXML(s,i)).xml,a=this._emit("saveXML.serialized",{xml:a})||a}catch(c){o=c}const l=o?{error:o}:{xml:a};if(this._emit("saveXML.done",l),o)throw o;return l});return function n(i){return t.apply(this,arguments)}}(),no.prototype.saveSVG=function(){var t=N(function*(){let i,s;this._emit("saveSVG.start");try{const o=this.get("canvas"),a=o.getActiveLayer(),l=$n(":scope > defs",o._svg),c=RH(a),u=l?"<defs>"+RH(l)+"</defs>":"",d=a.getBBox();i='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+d.width+'" height="'+d.height+'" viewBox="'+d.x+" "+d.y+" "+d.width+" "+d.height+'" version="1.1">'+u+c+"</svg>"}catch(o){s=o}if(this._emit("saveSVG.done",{error:s,svg:i}),s)throw s;return{svg:i}});return function n(){return t.apply(this,arguments)}}(),no.prototype._setDefinitions=function(t){this._definitions=t},no.prototype.getModules=function(){return this._modules},no.prototype.clear=function(){this.getDefinitions()&&cf.prototype.clear.call(this)},no.prototype.destroy=function(){cf.prototype.destroy.call(this),el(this._container)},no.prototype.on=function(t,n,i,s){return this.get("eventBus").on(t,n,i,s)},no.prototype.off=function(t,n){this.get("eventBus").off(t,n)},no.prototype.attachTo=function(t){if(!t)throw new Error("parentNode required");this.detach(),t.get&&t.constructor.prototype.jquery&&(t=t.get(0)),"string"==typeof t&&(t=$n(t)),t.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},no.prototype.getDefinitions=function(){return this._definitions},no.prototype.detach=function(){const t=this._container,n=t.parentNode;n&&(this._emit("detach",{}),n.removeChild(t))},no.prototype._init=function(t,n,i){const s=i.modules||this.getModules(i),l=[].concat([{bpmnjs:["value",this],moddle:["value",n]}],s,i.additionalModules||[]),c=Ce(yh(i,["additionalModules"]),{canvas:Ce({},i.canvas,{container:t}),modules:l});cf.call(this,c),i&&i.container&&this.attachTo(i.container)},no.prototype._emit=function(t,n){return this.get("eventBus").fire(t,n)},no.prototype._createContainer=function(t){const n=Xr('<div class="bjs-container"></div>');return Dl(n,{width:Ahe(t.width),height:Ahe(t.height),position:t.position}),n},no.prototype._createModdle=function(t){return new Fet(Ce({},this._moddleExtensions,t.moddleExtensions))},no.prototype._modules=[];const Zet={width:"100%",height:"100%",position:"relative"};function Ahe(t){return t+(Ln(t)?"px":"")}function D1(t){no.call(this,t)}Jt(D1,no),D1.prototype._modules=[bZe,LZe,jx,jc,nl],D1.prototype._moddleExtensions={};var ttt=["c","C"],ntt=["v","V"],rtt=["y","Y"],Ihe=["z","Z"];function Zd(t){return!t.altKey&&(t.ctrlKey||t.metaKey)}function Ba(t,n){return-1!==(t=Xt(t)?t:[t]).indexOf(n.key)||-1!==t.indexOf(n.code)}function uU(t){return t.shiftKey}function eA(t){return Zd(t)&&!uU(t)&&Ba(Ihe,t)}function tA(t){return Zd(t)&&(Ba(rtt,t)||Ba(Ihe,t)&&uU(t))}var nA="keyboard.keydown",Rhe="Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/issues/661";function rc(t,n){var i=this;this._config=t=t||{},this._eventBus=n,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),n.on("diagram.destroy",function(){i._fire("destroy"),i.unbind()}),t.bindTo&&console.error("unsupported configuration <keyboard.bindTo>",new Error(Rhe));var s=t&&!1!==t.bind;n.on("canvas.init",function(o){i._target=o.svg,s&&i.bind(),i._fire("init")})}function om(t,n){var i=this;t.on("editorActions.init",500,function(s){i.registerBindings(n,s.editorActions)})}rc.$inject=["config.keyboard","eventBus"],rc.prototype._keydownHandler=function(t){this._keyHandler(t,nA)},rc.prototype._keyupHandler=function(t){this._keyHandler(t,"keyboard.keyup")},rc.prototype._keyHandler=function(t,n){this._isEventIgnored(t)||this._eventBus.fire(n||nA,{keyEvent:t})&&t.preventDefault()},rc.prototype._isEventIgnored=function(t){return!1},rc.prototype.bind=function(t){t&&console.error("unsupported argument <node>",new Error(Rhe)),this.unbind(),t=this._node=this._target,mn.bind(t,"keydown",this._keydownHandler),mn.bind(t,"keyup",this._keyupHandler),this._fire("bind")},rc.prototype.getBinding=function(){return this._node},rc.prototype.unbind=function(){var t=this._node;t&&(this._fire("unbind"),mn.unbind(t,"keydown",this._keydownHandler),mn.unbind(t,"keyup",this._keyupHandler)),this._node=null},rc.prototype._fire=function(t){this._eventBus.fire("keyboard."+t,{node:this._node})},rc.prototype.addListener=function(t,n,i){Ar(t)&&(i=n,n=t,t=1e3),this._eventBus.on(i||nA,t,n)},rc.prototype.removeListener=function(t,n){this._eventBus.off(n||nA,t)},rc.prototype.hasModifier=function itt(t){return t.ctrlKey||t.metaKey||t.shiftKey||t.altKey},rc.prototype.isCmd=Zd,rc.prototype.isShift=uU,rc.prototype.isKey=Ba,om.$inject=["eventBus","keyboard"],om.prototype.registerBindings=function(t,n){function i(s,o){n.isRegistered(s)&&t.addListener(o)}i("undo",function(s){if(eA(s.keyEvent))return n.trigger("undo"),!0}),i("redo",function(s){if(tA(s.keyEvent))return n.trigger("redo"),!0}),i("copy",function(s){if(function stt(t){return Zd(t)&&Ba(ttt,t)}(s.keyEvent))return n.trigger("copy"),!0}),i("paste",function(s){if(function ott(t){return Zd(t)&&Ba(ntt,t)}(s.keyEvent))return n.trigger("paste"),!0}),i("stepZoom",function(s){var o=s.keyEvent;if(Ba(["+","Add","="],o)&&Zd(o))return n.trigger("stepZoom",{value:1}),!0}),i("stepZoom",function(s){var o=s.keyEvent;if(Ba(["-","Subtract"],o)&&Zd(o))return n.trigger("stepZoom",{value:-1}),!0}),i("zoom",function(s){var o=s.keyEvent;if(Ba("0",o)&&Zd(o))return n.trigger("zoom",{value:1}),!0}),i("removeSelection",function(s){if(Ba(["Backspace","Delete","Del"],s.keyEvent))return n.trigger("removeSelection"),!0})};const n6={__init__:["keyboard","keyboardBindings"],keyboard:["type",rc],keyboardBindings:["type",om]};var utt={moveSpeed:50,moveSpeedAccelerated:200};function Nhe(t,n,i){var s=this;this._config=Ce({},utt,t||{}),n.addListener(function o(a){var l=a.keyEvent,c=s._config;if(n.isCmd(l)&&n.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],l)){var d,u=n.isShift(l)?c.moveSpeedAccelerated:c.moveSpeed;switch(l.key){case"ArrowLeft":case"Left":d="left";break;case"ArrowUp":case"Up":d="up";break;case"ArrowRight":case"Right":d="right";break;case"ArrowDown":case"Down":d="down"}return s.moveCanvas({speed:u,direction:d}),!0}}),this.moveCanvas=function(a){var l=0,c=0,d=a.speed/Math.min(Math.sqrt(i.viewbox().scale),1);switch(a.direction){case"left":l=d;break;case"up":c=d;break;case"right":l=-d;break;case"down":c=-d}i.scroll({dx:l,dy:c})}}Nhe.$inject=["config.keyboardMove","keyboard","canvas"];const dU={__depends__:[n6],__init__:["keyboardMove"],keyboardMove:["type",Nhe]};var dtt=/^djs-cursor-.*$/;function rA(t){var n=br(document.body);n.removeMatching(dtt),t&&n.add("djs-cursor-"+t)}function Lhe(){rA(null)}function Fhe(t,n){function i(){return!1}return t.once(n=n||"element.click",5e3,i),function(){t.off(n,i)}}function r6(t){return{x:t.x+t.width/2,y:t.y+t.height/2}}function uf(t,n){return{x:t.x-n.x,y:t.y-n.y}}function Bhe(t,n){var i;function s(c){return function l(c){if(!Vc(c.target,".djs-draggable")){var u=c.button;if(!(u>=2||c.ctrlKey||c.shiftKey||c.altKey))return i={button:u,start:Pb(c)},mn.bind(document,"mousemove",o),mn.bind(document,"mouseup",a),!0}}(c.originalEvent)}function o(c){var u=i.start,d=i.button,p=Pb(c),f=uf(p,u);!i.dragging&&function htt(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}(f)>15&&(i.dragging=!0,0===d&&Fhe(t),rA("grab")),i.dragging&&(f=uf(p,i.last||i.start),n.scroll({dx:f.x,dy:f.y}),i.last=p),c.preventDefault()}function a(c){mn.unbind(document,"mousemove",o),mn.unbind(document,"mouseup",a),i=null,Lhe()}t.on("canvas.focus.changed",function(c){c.focused?t.on("element.mousedown",500,s):t.off("element.mousedown",s)}),this.isActive=function(){return!!i}}Bhe.$inject=["eventBus","canvas"];const pU={__init__:["moveCanvas"],moveCanvas:["type",Bhe]};function fU(t){return Math.log(t)/Math.log(10)}function $he(t,n){var i=fU(t.min),s=fU(t.max);return(Math.abs(i)+Math.abs(s))/n}var gtt=Math.sign||function(t){return t>=0?1:-1},hU={min:.2,max:4};function wh(t,n,i){t=t||{},this._enabled=!1,this._canvas=i,this._container=i._container,this._handleWheel=Io(this._handleWheel,this),this._totalDelta=0,this._scale=t.scale||.75;var s=this;n.on("canvas.focus.changed",function(o){s._init(o.focused&&!1!==t.enabled)})}wh.$inject=["config.zoomScroll","eventBus","canvas"],wh.prototype.scroll=function(n){this._canvas.scroll(n)},wh.prototype.reset=function(){this._canvas.zoom("fit-viewport")},wh.prototype.zoom=function(n,i){var s=$he(hU,20);this._totalDelta+=n,Math.abs(this._totalDelta)>.1&&(this._zoom(n,i,s),this._totalDelta=0)},wh.prototype._handleWheel=function(n){if(this._canvas.isFocused()){var i=this._container;n.preventDefault();var l,s=n.ctrlKey||Vfe()&&n.metaKey,o=n.shiftKey,a=-1*this._scale;if(a*=s?0===n.deltaMode?.02:.32:0===n.deltaMode?1:16,s){var c=i.getBoundingClientRect(),u={x:n.clientX-c.left,y:n.clientY-c.top};l=Math.sqrt(Math.pow(n.deltaY,2)+Math.pow(n.deltaX,2))*gtt(n.deltaY)*a,this.zoom(l,u)}else this.scroll(l=o?{dx:a*n.deltaY,dy:0}:{dx:a*n.deltaX,dy:a*n.deltaY})}},wh.prototype.stepZoom=function(n,i){var s=$he(hU,10);this._zoom(n,i,s)},wh.prototype._zoom=function(t,n,i){var s=this._canvas,o=t>0?1:-1,a=fU(s.zoom()),l=Math.round(a/i)*i,c=Math.pow(10,l+=i*o);s.zoom(function mtt(t,n){return Math.max(t.min,Math.min(t.max,n))}(hU,c),n)},wh.prototype.toggle=function(n){var o=this._enabled;return typeof n>"u"&&(n=!o),o!==n&&mn[n?"bind":"unbind"](this._container,"wheel",this._handleWheel,!1),this._enabled=n,n},wh.prototype._init=function(t){this.toggle(t)};const mU={__init__:["zoomScroll"],zoomScroll:["type",wh]};function Qx(t){D1.call(this,t)}Jt(Qx,D1),Qx.prototype._modules=[].concat(D1.prototype._modules,Qx.prototype._navigationModules=[dU,pU,mU]);const gU=Qx;function Zx(t,n,i){this._bpmnRenderer=n,this._iconProperty=t&&t.iconProperty,$c.call(this,i,1250)}Jt(Zx,$c),Zx.prototype.canRender=function(t){return!ui(t)&&!(!un(t,["bpmn:Task","bpmn:Event"])||!this._getIcon(t))},Zx.prototype._getIcon=function(t){return function btt(t,n){return n=n||"zeebe:modelerTemplateIcon",G(t).get(n)}(t,this._iconProperty)},Zx.prototype.drawShape=function(t,n,i={}){var o=(0,this._bpmnRenderer.handlers[["bpmn:BoundaryEvent","bpmn:EndEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:StartEvent","bpmn:Task"].find(d=>D(n,d))])(t,n,{...i,renderIcon:!1}),a=this._getIcon(n),c=D(n,"bpmn:Task")?{x:5,y:5}:{x:(n.width-18)/2,y:(n.height-18)/2},u=an("image");return Wt(u,{href:a,width:18,height:18,...c}),On(t,u),o},Zx.$inject=["config.elementTemplateIconRenderer","bpmnRenderer","eventBus"];const iA={__init__:["elementTemplateIconRenderer"],elementTemplateIconRenderer:["type",Zx]},jhe=[iA],zhe={zeebe:JSON.parse('{"name":"zeebe","prefix":"zeebe","uri":"http://camunda.org/schema/zeebe/1.0","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"ZeebeServiceTask","extends":["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:SendTask","bpmn:EndEvent","bpmn:IntermediateThrowEvent"],"properties":[{"name":"retryCounter","type":"String","isAttr":true}]},{"name":"IoMapping","superClass":["Element"],"properties":[{"name":"ioMapping","type":"IoMapping"},{"name":"inputParameters","isMany":true,"type":"Input"},{"name":"outputParameters","isMany":true,"type":"Output"}],"meta":{"allowedIn":["bpmn:CallActivity","bpmn:Event","bpmn:ReceiveTask","zeebe:ZeebeServiceTask","bpmn:SubProcess","bpmn:UserTask"]}},{"name":"InputOutputParameter","properties":[{"name":"source","isAttr":true,"type":"String"},{"name":"target","isAttr":true,"type":"String"}]},{"name":"Subscription","superClass":["Element"],"properties":[{"name":"correlationKey","isAttr":true,"type":"String"}]},{"name":"Input","superClass":["InputOutputParameter"],"meta":{"allowedIn":["bpmn:CallActivity","zeebe:ZeebeServiceTask","bpmn:SubProcess","bpmn:UserTask"]}},{"name":"Output","superClass":["InputOutputParameter"],"meta":{"allowedIn":["bpmn:CallActivity","bpmn:Event","bpmn:ReceiveTask","zeebe:ZeebeServiceTask","bpmn:SubProcess","bpmn:UserTask"]}},{"name":"TaskHeaders","superClass":["Element"],"meta":{"allowedIn":["zeebe:ZeebeServiceTask","bpmn:UserTask"]},"properties":[{"name":"values","type":"Header","isMany":true}]},{"name":"Header","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"key","type":"String","isAttr":true},{"name":"value","type":"String","isAttr":true}]},{"name":"TaskDefinition","superClass":["Element"],"meta":{"allowedIn":["zeebe:ZeebeServiceTask"]},"properties":[{"name":"type","type":"String","isAttr":true},{"name":"retries","type":"String","isAttr":true}]},{"name":"LoopCharacteristics","superClass":["Element"],"meta":{"allowedIn":["bpmn:MultiInstanceLoopCharacteristics"]},"properties":[{"name":"inputCollection","type":"String","isAttr":true},{"name":"inputElement","type":"String","isAttr":true},{"name":"outputCollection","type":"String","isAttr":true},{"name":"outputElement","type":"String","isAttr":true}]},{"name":"CalledElement","superClass":["Element"],"meta":{"allowedIn":["bpmn:CallActivity"]},"properties":[{"name":"processId","type":"String","isAttr":true},{"name":"processIdExpression","type":"String","isAttr":true},{"name":"propagateAllChildVariables","isAttr":true,"type":"Boolean"},{"name":"propagateAllParentVariables","isAttr":true,"type":"Boolean","default":true}]},{"name":"UserTaskForm","superClass":["Element"],"meta":{"allowedIn":["bpmn:Process"]},"properties":[{"name":"id","type":"String","isAttr":true},{"name":"body","type":"String","isBody":true}]},{"name":"FormDefinition","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"formKey","type":"String","isAttr":true},{"name":"formId","type":"String","isAttr":true},{"name":"externalReference","type":"String","isAttr":true}]},{"name":"LinkedResource","superClass":["Element"],"meta":{"allowedIn":["bpmn:ServiceTask"]},"properties":[{"name":"resourceId","type":"String","isAttr":true},{"name":"resourceType","type":"String","isAttr":true},{"name":"linkName","type":"String","isAttr":true}]},{"name":"LinkedResources","superClass":["Element"],"meta":{"allowedIn":["bpmn:ServiceTask"]},"properties":[{"name":"values","type":"LinkedResource","isMany":true}]},{"name":"UserTask","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[]},{"name":"CalledDecision","superClass":["Element"],"meta":{"allowedIn":["bpmn:BusinessRuleTask"]},"properties":[{"name":"decisionId","type":"String","isAttr":true},{"name":"resultVariable","type":"String","isAttr":true}]},{"name":"AssignmentDefinition","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"assignee","type":"String","isAttr":true},{"name":"candidateGroups","type":"String","isAttr":true},{"name":"candidateUsers","type":"String","isAttr":true}]},{"name":"PriorityDefinition","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"priority","type":"String","isAttr":true}]},{"name":"TaskSchedule","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"dueDate","type":"String","isAttr":true},{"name":"followUpDate","type":"String","isAttr":true}]},{"name":"Properties","superClass":["Element"],"properties":[{"name":"properties","type":"Property","isMany":true}]},{"name":"Property","properties":[{"name":"name","type":"String","isAttr":true},{"name":"value","type":"String","isAttr":true}]},{"name":"TemplateSupported","isAbstract":true,"extends":["bpmn:Collaboration","bpmn:Process","bpmn:FlowElement"],"properties":[{"name":"modelerTemplate","isAttr":true,"type":"String"},{"name":"modelerTemplateVersion","isAttr":true,"type":"Integer"},{"name":"modelerTemplateIcon","isAttr":true,"type":"String"}]},{"name":"TemplatedRootElement","isAbstract":true,"extends":["bpmn:Error","bpmn:Escalation","bpmn:Message","bpmn:Signal"],"properties":[{"name":"modelerTemplate","isAttr":true,"type":"String"}]},{"name":"Script","superClass":["Element"],"meta":{"allowedIn":["bpmn:ScriptTask"]},"properties":[{"name":"expression","type":"String","isAttr":true},{"name":"resultVariable","type":"String","isAttr":true}]},{"name":"ExecutionListeners","superClass":["Element"],"meta":{"allowedIn":["bpmn:Event","bpmn:Activity","bpmn:Process","bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:ParallelGateway","bpmn:EventBasedGateway"]},"properties":[{"name":"listeners","type":"ExecutionListener","isMany":true}]},{"name":"ExecutionListener","superClass":["Element"],"meta":{"allowedIn":["zeebe:ExecutionListeners"]},"properties":[{"name":"eventType","type":"String","isAttr":true},{"name":"retries","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true}]},{"name":"TaskListeners","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"listeners","type":"TaskListener","isMany":true}]},{"name":"TaskListener","superClass":["Element"],"meta":{"allowedIn":["zeebe:TaskListeners"]},"properties":[{"name":"eventType","type":"String","isAttr":true},{"name":"retries","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true}]},{"name":"VersionTag","superClass":["Element"],"meta":{"allowedIn":["bpmn:Process"]},"properties":[{"name":"value","type":"String","isAttr":true}]},{"name":"BindingTypeSupported","isAbstract":true,"extends":["zeebe:CalledDecision","zeebe:CalledElement","zeebe:FormDefinition","zeebe:LinkedResource"],"properties":[{"name":"bindingType","isAttr":true,"type":"String","default":"latest"},{"name":"versionTag","isAttr":true,"type":"String"}]},{"name":"AdHoc","superClass":["Element"],"meta":{"allowedIn":["bpmn:AdHocSubProcess"]},"properties":[{"name":"activeElementsCollection","isAttr":true,"type":"String"}]}]}')};function Ab(t={}){t={...t,moddleExtensions:{...zhe,...t.moddleExtensions}},gU.call(this,t)}Jt(Ab,gU),Ab.prototype._camundaCloudModules=[...jhe],Ab.prototype._modules=[].concat(gU.prototype._modules,Ab.prototype._camundaCloudModules);let Ch=(()=>{class t{constructor(i){this.http=i,this.scenario={},this.activitySubject=new r4(""),this.activities={},this.managedActivities=["bpmn:ServiceTask","bpmn:UserTask","bpmn:SendTask","bpmn:IntermediateCatchEvent","bpmn:BoundaryEvent"]}isManagedActivity(i){return this.managedActivities.indexOf(i)>=0}list(){return this.http.get("/api/plan")}mapActivityName(i,s){this.activities[i]=s}getActivityName(i){return this.activities[i]}loadXmlActivities(i){let s=new Ab;s.importXML(i).then(o=>{s.get("elementRegistry").forEach(l=>{this.isManagedActivity(l.type)&&this.mapActivityName(l.di.bpmnElement.id,l.di.bpmnElement.name)})})}loadActivities(){if(this.loadXmlActivities(this.executionPlan.xml),this.executionPlan.xmlDependencies)for(const i in this.executionPlan.xmlDependencies)this.loadXmlActivities(this.executionPlan.xmlDependencies[i])}stepLabel(i){return"id"==this.executionPlan.stepLabel?i:"name"==this.executionPlan.stepLabel?this.getActivityName(i):this.getActivityName(i)+" ("+i+")"}createExecutionPlan(i){this.http.post("/api/plan",i).subscribe(s=>{this.executionPlan=s,this.loadActivities(),this.selectScenario(s.scenarii[0])})}openExecutionPlan(i){this.http.get("/api/plan/"+i.bpmnProcessId).subscribe(s=>{this.executionPlan=s,this.loadActivities(),this.selectScenario(s.scenarii[0])})}delete(i){return this.http.delete("/api/plan/"+i.bpmnProcessId)}executePlan(i){return this.http.get("/api/plan/"+i.bpmnProcessId+"/start")}executeCurrentPlan(){this.http.post("/api/plan/start",this.executionPlan).subscribe(i=>{console.log("status "+i)})}testPlan(){return this.http.post("/api/plan/test",this.executionPlan)}executeCurrentScenario(){this.http.post("/api/plan/start?scenario="+this.scenario.name,this.executionPlan).subscribe(i=>{console.log("status "+i)})}updateDep(i,s){"Main definition"==i?this.executionPlan.xml=s:this.executionPlan.xmlDependencies[i]=s}updateDef(i){this.http.post("/api/plan/"+this.executionPlan.definition.bpmnProcessId+"/xml",i).subscribe(s=>{this.executionPlan=s})}updatePlan(){this.http.put("/api/plan",this.executionPlan).subscribe(i=>{this.executionPlan=i})}addScenario(){this.http.put("/api/plan/newScenario",this.executionPlan).subscribe(i=>{this.executionPlan=i})}currentlyRunning(){return this.http.get("/api/plan/running")}stopPlan(){return this.http.get("/api/plan/stop")}previewEvol(i){return this.http.post("/api/plan/preview/evol",i)}previewPlan(){return this.http.post("/api/plan/preview/plan",this.executionPlan)}clear(){this.executionPlan=void 0,this.scenario={},this.currentActivity=void 0}selectActivity(i){this.currentActivity=i,this.activitySubject.next(i)}selectScenario(i){this.scenario=i,this.selectActivity("startInstances")}createDuration(i){return"FEEL"==this.executionPlan.durationsType?"PT"+i+"S":"MILLIS"==this.executionPlan.durationsType?1e3*i:i}createStepInScenario(i){this.scenario.steps[i]={elementId:i,action:"COMPLETE",duration:{startDesiredAvg:this.createDuration(8),endDesiredAvg:this.createDuration(4),minMaxPercent:0,avgProgression:"LINEAR",progressionSalt:0},jsonTemplate:{template:"{}",exampleContext:{}}},this.selectActivity(i)}createClockStepInScenario(i,s){this.scenario.steps[i]={elementId:i,action:"DO_NOTHING",duration:{startDesiredAvg:"CLOCK",endDesiredAvg:"CLOCK",minMaxPercent:0,avgProgression:"LINEAR",progressionSalt:0},jsonTemplate:{template:"{}",exampleContext:{}},preSteps:[]},this.scenario.steps[i].preSteps.push({type:"CLOCK",delay:s}),this.selectActivity(i)}isNumber(i){return"number"==typeof i}createPreStepInScenario(i,s,o,a){this.isNumber(a)&&(a=this.createDuration(a)),this.scenario.steps[i]||(this.scenario.steps[i]={elementId:i,action:"DO_NOTHING",duration:{startDesiredAvg:this.createDuration(1),endDesiredAvg:this.createDuration(1),minMaxPercent:0,avgProgression:"LINEAR",progressionSalt:0},jsonTemplate:{template:"",exampleContext:{}},preSteps:[],postSteps:[]}),this.scenario.steps[i].preSteps||(this.scenario.steps[i].preSteps=[]),"MSG"==s?this.scenario.steps[i].preSteps.push({type:s,delay:a,msg:o.name,correlationKey:o.extensionElements.valueOf("correlationKey").values[0].correlationKey.replace("=","").trim(),jsonTemplate:{template:"{}",exampleContext:{}}}):"CLOCK"==s?this.scenario.steps[i].preSteps.push({type:s,delay:a}):"BPMN_ERROR"==s?this.scenario.steps[i].preSteps.push({type:s,errorCode:o.errorCode,delay:a,jsonTemplate:{template:"{}",exampleContext:{}}}):"SIGNAL"==s&&this.scenario.steps[i].preSteps.push({type:s,signal:o.name,delay:a,jsonTemplate:{template:"{}",exampleContext:{}}}),this.selectActivity(i)}createPostStepInScenario(i,s,o,a){this.isNumber(a)&&(a=this.createDuration(a)),this.scenario.steps[i]||(this.scenario.steps[i]={elementId:i,action:"COMPLETE",duration:{startDesiredAvg:1e3,endDesiredAvg:1e3,minMaxPercent:0,avgProgression:"LINEAR",progressionSalt:0},jsonTemplate:{template:"{}",exampleContext:{}},preSteps:[],postSteps:[]}),this.scenario.steps[i].preSteps||(this.scenario.steps[i].postSteps=[]),"MSG"==s?this.scenario.steps[i].postSteps.push({type:s,delay:a,msg:o.name,correlationKey:o.extensionElements.valueOf("correlationKey").values[0].correlationKey.replace("=","").trim(),jsonTemplate:{template:"{}",exampleContext:{}}}):"CLOCK"==s?this.scenario.steps[i].postSteps.push({type:s,delay:a}):"BPMN_ERROR"==s?this.scenario.steps[i].postSteps.push({type:s,errorCode:o.errorCode,delay:a,jsonTemplate:{template:"{}",exampleContext:{}}}):"SIGNAL"==s&&this.scenario.steps[i].postSteps.push({type:s,signal:o.name,delay:a,jsonTemplate:{template:"{}",exampleContext:{}}}),this.selectActivity(i)}deleteCurrentStep(){delete this.scenario.steps[this.currentActivity],this.selectActivity("startInstances")}deleteScenario(i){this.executionPlan.scenarii.splice(i,1)}static{this.\u0275fac=function(s){return new(s||t)(sr(J8))}}static{this.\u0275prov=Nr({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),i6=(()=>{class t{constructor(i){this.http=i}checkTemplate(i){return this.http.post("/api/templating/test",i)}listTemplatingMethodsNames(){return this.http.get("/api/templating")}listTemplatingMethods(i){return this.http.get("/api/templating/method/"+i)}listDatasets(){return this.http.get("/api/templating/datasets")}listJsonDatasets(){return this.http.get("/api/templating/jsondatasets")}getDataset(i){this.http.get("/api/templating/dataset/"+i).subscribe(s=>{this.dataset=s})}getJsonDataset(i){this.http.get("/api/templating/jsondataset/"+i).subscribe(s=>{this.jsondataset=s})}deleteDataset(i){return this.http.delete("/api/templating/dataset/"+i)}deleteJsonDataset(i){return this.http.delete("/api/templating/jsondataset/name"+i)}saveDataset(i){return this.http.post("/api/templating/datasets",i)}saveJsonDataset(){return this.http.post("/api/templating/jsondatasets",this.jsondataset)}newDataset(){this.dataset={name:"dataset",categorizedData:{en:[]}}}newJsonDataset(){this.jsondataset={name:"dataset",data:[]}}clear(){this.dataset=void 0,this.jsondataset=void 0}static{this.\u0275fac=function(s){return new(s||t)(sr(J8))}}static{this.\u0275prov=Nr({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xtt=(()=>{class t{constructor(i){this.http=i}executions(){return this.http.get("/api/histo")}static{this.\u0275fac=function(s){return new(s||t)(sr(J8))}}static{this.\u0275prov=Nr({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wtt(t,n){1&t&&(ce(0,"i"),je(1,"(running)"),de())}function Ctt(t,n){if(1&t){const i=Un();ce(0,"tr")(1,"td"),je(2),de(),ce(3,"td")(4,"button",31),qt("click",function(){const o=Ot(i).$implicit;return St(ot().openPlan(o))}),cn(5,"i",32),je(6," Edit"),de(),ce(7,"button",33),qt("click",function(){const o=Ot(i).$implicit;return St(ot().executePlan(o))}),cn(8,"i",34),je(9," Execute "),dr(10,wtt,2,0,"i"),de(),ce(11,"button",35),qt("click",function(){const o=Ot(i).$implicit;return St(ot().delete(o))}),cn(12,"i",36),de()()()}if(2&t){const i=n.$implicit,s=ot();tt(2),hh(i.bpmnProcessId),tt(5),Jn("disabled",s.runningPlan),tt(3),Gi(s.runningPlan&&s.runningPlan.definition.bpmnProcessId==i.bpmnProcessId&&s.runningPlan.definition.version==i.version?10:-1)}}function Stt(t,n){if(1&t){const i=Un();ce(0,"button",31),qt("click",function(){return Ot(i),St(ot(2).stopExecution())}),cn(1,"i",39),je(2," Stop"),de()}}function Ott(t,n){if(1&t&&(ce(0,"div",37),je(1),dr(2,Stt,3,0,"button",38),de()),2&t){const i=n.$implicit;tt(),nz(" ",i.bpmnProcessId," progressed at ",i.currentDate,"",i.running?"(running)":"",". Created ",i.instancesCreated," and completed ",i.instancesCompleted,". "),tt(),Gi(i.running?2:-1)}}function Ttt(t,n){if(1&t){const i=Un();ce(0,"tr")(1,"td"),je(2),de(),ce(3,"td")(4,"button",31),qt("click",function(){const o=Ot(i).$implicit;return St(ot().editDataset(o))}),cn(5,"i",32),de(),ce(6,"button",40),qt("click",function(){const o=Ot(i).$implicit;return St(ot().deleteDataset(o))}),cn(7,"i",36),de()()()}if(2&t){const i=n.$implicit,s=ot();tt(2),Qo(" ",i," "),tt(4),Jn("disabled",s.runningPlan)}}function Ptt(t,n){if(1&t){const i=Un();ce(0,"tr")(1,"td"),je(2),de(),ce(3,"td")(4,"button",31),qt("click",function(){const o=Ot(i).$implicit;return St(ot().editJsonDataset(o))}),cn(5,"i",32),de(),ce(6,"button",40),qt("click",function(){const o=Ot(i).$implicit;return St(ot().deleteJsonDataset(o))}),cn(7,"i",36),de()()()}if(2&t){const i=n.$implicit,s=ot();tt(2),Qo(" ",i," "),tt(4),Jn("disabled",s.runningPlan)}}let Dtt=(()=>{class t{constructor(i,s,o){this.execPlanService=i,this.histoService=s,this.templatingService=o,this.plans=[],this.executions=[],this.runningPlan=null,this.filter=null,this.datasets=[],this.jsondatasets=[],this.createPlan=!1}ngOnInit(){this.refreshPage()}refreshPage(){this.execPlanService.list().subscribe(i=>{this.plans=[];for(let s of i)this.plans.push({bpmnProcessId:s})}),this.reload(),this.loadDatasets()}loadDatasets(){this.templatingService.listDatasets().subscribe(i=>{this.datasets=i}),this.templatingService.listJsonDatasets().subscribe(i=>{this.jsondatasets=i})}reload(){this.execPlanService.currentlyRunning().subscribe(i=>{this.runningPlan=i}),this.histoService.executions().subscribe(i=>{this.execMap=i,this.executions=[];for(let s in this.execMap){let o=this.execMap[s];o.key=s,this.executions.push(o)}})}openPlan(i){this.execPlanService.openExecutionPlan(i)}delete(i){this.execPlanService.delete(i).subscribe(s=>{this.refreshPage()})}executePlan(i){this.execPlanService.executePlan(i).subscribe(()=>{this.reload()})}stopExecution(){this.execPlanService.stopPlan().subscribe(()=>{this.reload()})}addDataset(){this.templatingService.newDataset()}addJsonDataset(){this.templatingService.newJsonDataset()}editDataset(i){this.templatingService.getDataset(i)}editJsonDataset(i){this.templatingService.getJsonDataset(i)}deleteDataset(i){this.templatingService.deleteDataset(i).subscribe(()=>{this.loadDatasets()})}deleteJsonDataset(i){this.templatingService.deleteJsonDataset(i).subscribe(()=>{this.loadDatasets()})}toggleCreatePlan(){this.createPlan=!this.createPlan,this.createPlan?window.bootstrap.Modal.getOrCreateInstance(document.getElementById("createPlanModal")).show():(this.newPlanXml=void 0,window.bootstrap.Modal.getInstance(document.getElementById("createPlanModal")).hide())}loadBpmnFile(i){var s=i.target.files[0];if(s){var o=new FileReader;o.readAsText(s,"UTF-8"),o.onload=this._handleReaderLoaded.bind(this),o.onerror=this._handleReaderError.bind(this)}}_handleReaderLoaded(i){this.newPlanXml=i.target.result}_handleReaderError(){this.newPlanXml=void 0}createNewPlan(){this.execPlanService.createExecutionPlan(this.newPlanXml),this.toggleCreatePlan()}static{this.\u0275fac=function(s){return new(s||t)(Ut(Ch),Ut(xtt),Ut(i6))}}static{this.\u0275cmp=Rc({type:t,selectors:[["app-home"]],standalone:!1,decls:66,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand"],[1,"bi","bi-house"],[1,"container-fluid","row"],[1,"col-6","p-2"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"btn","btn-primary","mx-1",3,"click"],[1,"bi","bi-plus"],[1,"table","table-striped","table-hover"],[1,"table-dark"],["scope","col"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],["class","card-text",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],["id","createPlanModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade","modal-xl"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"input-group","mb-1"],[1,"input-group-text"],["type","file","min","0","max","100",1,"form-control",3,"change"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"btn","btn-dark","mx-1",3,"click"],[1,"bi","bi-pen"],[1,"btn","btn-dark","mx-1",3,"click","disabled"],[1,"bi","bi-send"],[1,"btn","btn-danger","mx-1",3,"click"],[1,"bi","bi-trash"],[1,"card-text"],[1,"btn","btn-dark","mx-1"],[1,"bi","bi-sign-stop"],[1,"btn","btn-danger","mx-1",3,"click","disabled"]],template:function(s,o){1&s&&(ce(0,"nav",0)(1,"div",1)(2,"span",2),cn(3,"i",3),je(4," Camunda 8 Data Simulator"),de()()(),ce(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h5",8),je(10,"Available plans "),ce(11,"button",9),qt("click",function(){return o.toggleCreatePlan()}),cn(12,"i",10),de()(),ce(13,"table",11)(14,"thead",12)(15,"tr")(16,"th",13),je(17,"BPMN Process Id"),de(),ce(18,"th",13),je(19,"Actions"),de()()(),ce(20,"tbody",14),dr(21,Ctt,13,3,"tr",15),de()()()()(),ce(22,"div",5)(23,"div",6)(24,"div",7)(25,"h5",8),je(26,"Executions"),de(),dr(27,Ott,3,6,"div",16),de()()()(),ce(28,"div",4)(29,"div",5)(30,"div",6)(31,"div",7)(32,"h5",8),je(33,"Available datasets "),ce(34,"button",17),qt("click",function(){return o.addDataset()}),je(35,"+"),de()(),ce(36,"table",11)(37,"tbody"),dr(38,Ttt,8,2,"tr",15),de()()()()(),ce(39,"div",5)(40,"div",6)(41,"div",7)(42,"h5",8),je(43,"Available JSON datasets "),ce(44,"button",17),qt("click",function(){return o.addJsonDataset()}),je(45,"+"),de()(),ce(46,"table",11)(47,"tbody"),dr(48,Ptt,8,2,"tr",15),de()()()()()(),ce(49,"div",18)(50,"div",19)(51,"div",20)(52,"div",21)(53,"h5",22),je(54,"Create plan from BPMN file"),de(),ce(55,"button",23),qt("click",function(){return o.toggleCreatePlan()}),de()(),ce(56,"div",24)(57,"div",25)(58,"span",26),je(59,"BPMN file"),de(),ce(60,"input",27),qt("change",function(l){return o.loadBpmnFile(l)}),de()()(),ce(61,"div",28)(62,"button",29),qt("click",function(){return o.createNewPlan()}),je(63,"Create"),de(),ce(64,"button",30),qt("click",function(){return o.toggleCreatePlan()}),je(65,"Close"),de()()()()()),2&s&&(tt(21),Jn("ngForOf",o.plans),tt(6),Jn("ngForOf",o.executions),tt(11),Jn("ngForOf",o.datasets),tt(10),Jn("ngForOf",o.jsondatasets),tt(14),Jn("disabled",!o.newPlanXml))},dependencies:[Q0],encapsulation:2})}}return t})();function Jx(t){return t+.5|0}const am=(t,n,i)=>Math.max(Math.min(t,i),n);function s6(t){return am(Jx(2.55*t),0,255)}function k1(t){return am(Jx(255*t),0,255)}function lm(t){return am(Jx(t/2.55)/100,0,1)}function Hhe(t){return am(Jx(100*t),0,100)}const Jd={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yU=[..."0123456789ABCDEF"],ktt=t=>yU[15&t],Mtt=t=>yU[(240&t)>>4]+yU[15&t],sA=t=>(240&t)>>4==(15&t);const Ltt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Uhe(t,n,i){const s=n*Math.min(i,1-i),o=(a,l=(a+t/30)%12)=>i-s*Math.max(Math.min(l-3,9-l,1),-1);return[o(0),o(8),o(4)]}function Ftt(t,n,i){const s=(o,a=(o+t/60)%6)=>i-i*n*Math.max(Math.min(a,4-a,1),0);return[s(5),s(3),s(1)]}function Btt(t,n,i){const s=Uhe(t,1,.5);let o;for(n+i>1&&(o=1/(n+i),n*=o,i*=o),o=0;o<3;o++)s[o]*=1-n-i,s[o]+=n;return s}function vU(t){const i=t.r/255,s=t.g/255,o=t.b/255,a=Math.max(i,s,o),l=Math.min(i,s,o),c=(a+l)/2;let u,d,p;return a!==l&&(p=a-l,d=c>.5?p/(2-a-l):p/(a+l),u=function $tt(t,n,i,s,o){return t===o?(n-i)/s+(n<i?6:0):n===o?(i-t)/s+2:(t-n)/s+4}(i,s,o,p,a),u=60*u+.5),[0|u,d||0,c]}function bU(t,n,i,s){return(Array.isArray(n)?t(n[0],n[1],n[2]):t(n,i,s)).map(k1)}function _U(t,n,i){return bU(Uhe,t,n,i)}function qhe(t){return(t%360+360)%360}const Whe={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ghe={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let oA;const Gtt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,EU=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,e3=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function aA(t,n,i){if(t){let s=vU(t);s[n]=Math.max(0,Math.min(s[n]+s[n]*i,0===n?360:1)),s=_U(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Khe(t,n){return t&&Object.assign(n||{},t)}function Yhe(t){var n={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(n={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(n.a=k1(t[3]))):(n=Khe(t,{r:0,g:0,b:0,a:1})).a=k1(n.a),n}function Qtt(t){return"r"===t.charAt(0)?function Ktt(t){const n=Gtt.exec(t);let s,o,a,i=255;if(n){if(n[7]!==s){const l=+n[7];i=n[8]?s6(l):am(255*l,0,255)}return s=+n[1],o=+n[3],a=+n[5],s=255&(n[2]?s6(s):am(s,0,255)),o=255&(n[4]?s6(o):am(o,0,255)),a=255&(n[6]?s6(a):am(a,0,255)),{r:s,g:o,b:a,a:i}}}(t):function ztt(t){const n=Ltt.exec(t);let s,i=255;if(!n)return;n[5]!==s&&(i=n[6]?s6(+n[5]):k1(+n[5]));const o=qhe(+n[2]),a=+n[3]/100,l=+n[4]/100;return s="hwb"===n[1]?function Vtt(t,n,i){return bU(Btt,t,n,i)}(o,a,l):"hsv"===n[1]?function jtt(t,n,i){return bU(Ftt,t,n,i)}(o,a,l):_U(o,a,l),{r:s[0],g:s[1],b:s[2],a:i}}(t)}class t3{constructor(n){if(n instanceof t3)return n;const i=typeof n;let s;"object"===i?s=Yhe(n):"string"===i&&(s=function Itt(t){var i,n=t.length;return"#"===t[0]&&(4===n||5===n?i={r:255&17*Jd[t[1]],g:255&17*Jd[t[2]],b:255&17*Jd[t[3]],a:5===n?17*Jd[t[4]]:255}:(7===n||9===n)&&(i={r:Jd[t[1]]<<4|Jd[t[2]],g:Jd[t[3]]<<4|Jd[t[4]],b:Jd[t[5]]<<4|Jd[t[6]],a:9===n?Jd[t[7]]<<4|Jd[t[8]]:255})),i}(n)||function Wtt(t){oA||(oA=function qtt(){const t={},n=Object.keys(Ghe),i=Object.keys(Whe);let s,o,a,l,c;for(s=0;s<n.length;s++){for(l=c=n[s],o=0;o<i.length;o++)a=i[o],c=c.replace(a,Whe[a]);a=parseInt(Ghe[l],16),t[c]=[a>>16&255,a>>8&255,255&a]}return t}(),oA.transparent=[0,0,0,0]);const n=oA[t.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:4===n.length?n[3]:255}}(n)||Qtt(n)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var n=Khe(this._rgb);return n&&(n.a=lm(n.a)),n}set rgb(n){this._rgb=Yhe(n)}rgbString(){return this._valid?function Ytt(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${lm(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Ntt(t){var n=(t=>sA(t.r)&&sA(t.g)&&sA(t.b)&&sA(t.a))(t)?ktt:Mtt;return t?"#"+n(t.r)+n(t.g)+n(t.b)+((t,n)=>t<255?n(t):"")(t.a,n):void 0}(this._rgb):void 0}hslString(){return this._valid?function Utt(t){if(!t)return;const n=vU(t),i=n[0],s=Hhe(n[1]),o=Hhe(n[2]);return t.a<255?`hsla(${i}, ${s}%, ${o}%, ${lm(t.a)})`:`hsl(${i}, ${s}%, ${o}%)`}(this._rgb):void 0}mix(n,i){if(n){const s=this.rgb,o=n.rgb;let a;const l=i===a?.5:i,c=2*l-1,u=s.a-o.a,d=((c*u==-1?c:(c+u)/(1+c*u))+1)/2;a=1-d,s.r=255&d*s.r+a*o.r+.5,s.g=255&d*s.g+a*o.g+.5,s.b=255&d*s.b+a*o.b+.5,s.a=l*s.a+(1-l)*o.a,this.rgb=s}return this}interpolate(n,i){return n&&(this._rgb=function Xtt(t,n,i){const s=e3(lm(t.r)),o=e3(lm(t.g)),a=e3(lm(t.b));return{r:k1(EU(s+i*(e3(lm(n.r))-s))),g:k1(EU(o+i*(e3(lm(n.g))-o))),b:k1(EU(a+i*(e3(lm(n.b))-a))),a:t.a+i*(n.a-t.a)}}(this._rgb,n._rgb,i)),this}clone(){return new t3(this.rgb)}alpha(n){return this._rgb.a=k1(n),this}clearer(n){return this._rgb.a*=1-n,this}greyscale(){const n=this._rgb,i=Jx(.3*n.r+.59*n.g+.11*n.b);return n.r=n.g=n.b=i,this}opaquer(n){return this._rgb.a*=1+n,this}negate(){const n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return aA(this._rgb,2,n),this}darken(n){return aA(this._rgb,2,-n),this}saturate(n){return aA(this._rgb,1,n),this}desaturate(n){return aA(this._rgb,1,-n),this}rotate(n){return function Htt(t,n){var i=vU(t);i[0]=qhe(i[0]+n),i=_U(i),t.r=i[0],t.g=i[1],t.b=i[2]}(this._rgb,n),this}}function cm(){}const Ztt=(()=>{let t=0;return()=>t++})();function wi(t){return null==t}function ro(t){if(Array.isArray&&Array.isArray(t))return!0;const n=Object.prototype.toString.call(t);return"[object"===n.slice(0,7)&&"Array]"===n.slice(-6)}function ki(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function Lo(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function od(t,n){return Lo(t)?t:n}function Jr(t,n){return typeof t>"u"?n:t}const Xhe=(t,n)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*n:+t;function Ks(t,n,i){if(t&&"function"==typeof t.call)return t.apply(i,n)}function hs(t,n,i,s){let o,a,l;if(ro(t))if(a=t.length,s)for(o=a-1;o>=0;o--)n.call(i,t[o],o);else for(o=0;o<a;o++)n.call(i,t[o],o);else if(ki(t))for(l=Object.keys(t),a=l.length,o=0;o<a;o++)n.call(i,t[l[o]],l[o])}function lA(t,n){let i,s,o,a;if(!t||!n||t.length!==n.length)return!1;for(i=0,s=t.length;i<s;++i)if(o=t[i],a=n[i],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function cA(t){if(ro(t))return t.map(cA);if(ki(t)){const n=Object.create(null),i=Object.keys(t),s=i.length;let o=0;for(;o<s;++o)n[i[o]]=cA(t[i[o]]);return n}return t}function Qhe(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function ent(t,n,i,s){if(!Qhe(t))return;const o=n[t],a=i[t];ki(o)&&ki(a)?o6(o,a,s):n[t]=cA(a)}function o6(t,n,i){const s=ro(n)?n:[n],o=s.length;if(!ki(t))return t;const a=(i=i||{}).merger||ent;let l;for(let c=0;c<o;++c){if(l=s[c],!ki(l))continue;const u=Object.keys(l);for(let d=0,p=u.length;d<p;++d)a(u[d],t,l,i)}return t}function a6(t,n){return o6(t,n,{merger:tnt})}function tnt(t,n,i){if(!Qhe(t))return;const s=n[t],o=i[t];ki(s)&&ki(o)?a6(s,o):Object.prototype.hasOwnProperty.call(n,t)||(n[t]=cA(o))}const Zhe={"":t=>t,x:t=>t.x,y:t=>t.y};function M1(t,n){return(Zhe[n]||(Zhe[n]=function rnt(t){const n=function nnt(t){const n=t.split("."),i=[];let s="";for(const o of n)s+=o,s.endsWith("\\")?s=s.slice(0,-1)+".":(i.push(s),s="");return i}(t);return i=>{for(const s of n){if(""===s)break;i=i&&i[s]}return i}}(n)))(t)}function xU(t){return t.charAt(0).toUpperCase()+t.slice(1)}const l6=t=>typeof t<"u",A1=t=>"function"==typeof t,Jhe=(t,n)=>{if(t.size!==n.size)return!1;for(const i of t)if(!n.has(i))return!1;return!0},io=Math.PI,so=2*io,snt=so+io,uA=Number.POSITIVE_INFINITY,ont=io/180,ta=io/2,Ib=io/4,e0e=2*io/3,I1=Math.log10,Sh=Math.sign;function c6(t,n,i){return Math.abs(t-n)<i}function t0e(t){const n=Math.round(t);t=c6(t,n,t/1e3)?n:t;const i=Math.pow(10,Math.floor(I1(t))),s=t/i;return(s<=1?1:s<=2?2:s<=5?5:10)*i}function n3(t){return!function lnt(t){return"symbol"==typeof t||"object"==typeof t&&null!==t&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function n0e(t,n,i){let s,o,a;for(s=0,o=t.length;s<o;s++)a=t[s][i],isNaN(a)||(n.min=Math.min(n.min,a),n.max=Math.max(n.max,a))}function df(t){return t*(io/180)}function wU(t){return t*(180/io)}function r0e(t){if(!Lo(t))return;let n=1,i=0;for(;Math.round(t*n)/n!==t;)n*=10,i++;return i}function i0e(t,n){const i=n.x-t.x,s=n.y-t.y,o=Math.sqrt(i*i+s*s);let a=Math.atan2(s,i);return a<-.5*io&&(a+=so),{angle:a,distance:o}}function CU(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function unt(t,n){return(t-n+snt)%so-io}function ad(t){return(t%so+so)%so}function u6(t,n,i,s){const o=ad(t),a=ad(n),l=ad(i),c=ad(a-o),u=ad(l-o),d=ad(o-a),p=ad(o-l);return o===a||o===l||s&&a===l||c>u&&d<p}function rl(t,n,i){return Math.max(n,Math.min(i,t))}function um(t,n,i,s=1e-6){return t>=Math.min(n,i)-s&&t<=Math.max(n,i)+s}function SU(t,n,i){i=i||(l=>t[l]<n);let a,s=t.length-1,o=0;for(;s-o>1;)a=o+s>>1,i(a)?o=a:s=a;return{lo:o,hi:s}}const dm=(t,n,i,s)=>SU(t,i,s?o=>{const a=t[o][n];return a<i||a===i&&t[o+1][n]===i}:o=>t[o][n]<i),pnt=(t,n,i)=>SU(t,i,s=>t[s][n]>=i),s0e=["push","pop","shift","splice","unshift"];function o0e(t,n){const i=t._chartjs;if(!i)return;const s=i.listeners,o=s.indexOf(n);-1!==o&&s.splice(o,1),!(s.length>0)&&(s0e.forEach(a=>{delete t[a]}),delete t._chartjs)}function a0e(t){const n=new Set(t);return n.size===t.length?t:Array.from(n)}const l0e=typeof window>"u"?function(t){return t()}:window.requestAnimationFrame;function c0e(t,n){let i=[],s=!1;return function(...o){i=o,s||(s=!0,l0e.call(window,()=>{s=!1,t.apply(n,i)}))}}const OU=t=>"start"===t?"left":"end"===t?"right":"center",ic=(t,n,i)=>"start"===t?n:"end"===t?i:(n+i)/2;function u0e(t,n,i){const s=n.length;let o=0,a=s;if(t._sorted){const{iScale:l,vScale:c,_parsed:u}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,p=l.axis,{min:f,max:h,minDefined:m,maxDefined:y}=l.getUserBounds();if(m){if(o=Math.min(dm(u,p,f).lo,i?s:dm(n,p,l.getPixelForValue(f)).lo),d){const E=u.slice(0,o+1).reverse().findIndex(_=>!wi(_[c.axis]));o-=Math.max(0,E)}o=rl(o,0,s-1)}if(y){let E=Math.max(dm(u,l.axis,h,!0).hi+1,i?0:dm(n,p,l.getPixelForValue(h),!0).hi+1);if(d){const _=u.slice(E-1).findIndex(S=>!wi(S[c.axis]));E+=Math.max(0,_)}a=rl(E,o,s)-o}else a=s-o}return{start:o,count:a}}function d0e(t){const{xScale:n,yScale:i,_scaleRanges:s}=t,o={xmin:n.min,xmax:n.max,ymin:i.min,ymax:i.max};if(!s)return t._scaleRanges=o,!0;const a=s.xmin!==n.min||s.xmax!==n.max||s.ymin!==i.min||s.ymax!==i.max;return Object.assign(s,o),a}const dA=t=>0===t||1===t,p0e=(t,n,i)=>-Math.pow(2,10*(t-=1))*Math.sin((t-n)*so/i),f0e=(t,n,i)=>Math.pow(2,-10*t)*Math.sin((t-n)*so/i)+1,d6={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*ta),easeOutSine:t=>Math.sin(t*ta),easeInOutSine:t=>-.5*(Math.cos(io*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>dA(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>dA(t)?t:p0e(t,.075,.3),easeOutElastic:t=>dA(t)?t:f0e(t,.075,.3),easeInOutElastic:t=>dA(t)?t:t<.5?.5*p0e(2*t,.1125,.45):.5+.5*f0e(2*t-1,.1125,.45),easeInBack:t=>t*t*(2.70158*t-1.70158),easeOutBack:t=>(t-=1)*t*(2.70158*t+1.70158)+1,easeInOutBack(t){let n=1.70158;return(t/=.5)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},easeInBounce:t=>1-d6.easeOutBounce(1-t),easeOutBounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,easeInOutBounce:t=>t<.5?.5*d6.easeInBounce(2*t):.5*d6.easeOutBounce(2*t-1)+.5};function TU(t){if(t&&"object"==typeof t){const n=t.toString();return"[object CanvasPattern]"===n||"[object CanvasGradient]"===n}return!1}function h0e(t){return TU(t)?t:new t3(t)}function PU(t){return TU(t)?t:new t3(t).saturate(.5).darken(.1).hexString()}const ynt=["x","y","borderWidth","radius","tension"],vnt=["color","borderColor","backgroundColor"],m0e=new Map;function p6(t,n,i){return function Ent(t,n){n=n||{};const i=t+JSON.stringify(n);let s=m0e.get(i);return s||(s=new Intl.NumberFormat(t,n),m0e.set(i,s)),s}(n,i).format(t)}const g0e={values:t=>ro(t)?t:""+t,numeric(t,n,i){if(0===t)return"0";const s=this.chart.options.locale;let o,a=t;if(i.length>1){const d=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(d<1e-4||d>1e15)&&(o="scientific"),a=function xnt(t,n){let i=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t)),i}(t,i)}const l=I1(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),u={notation:o,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),p6(t,s,u)},logarithmic(t,n,i){if(0===t)return"0";const s=i[n].significand||t/Math.pow(10,Math.floor(I1(t)));return[1,2,3,5,10,15].includes(s)||n>.8*i.length?g0e.numeric.call(this,t,n,i):""}};var pA={formatters:g0e};const Rb=Object.create(null),DU=Object.create(null);function f6(t,n){if(!n)return t;const i=n.split(".");for(let s=0,o=i.length;s<o;++s){const a=i[s];t=t[a]||(t[a]=Object.create(null))}return t}function kU(t,n,i){return"string"==typeof n?o6(f6(t,n),i):o6(f6(t,""),n)}class Cnt{constructor(n,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,o)=>PU(o.backgroundColor),this.hoverBorderColor=(s,o)=>PU(o.borderColor),this.hoverColor=(s,o)=>PU(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(i)}set(n,i){return kU(this,n,i)}get(n){return f6(this,n)}describe(n,i){return kU(DU,n,i)}override(n,i){return kU(Rb,n,i)}route(n,i,s,o){const a=f6(this,n),l=f6(this,s),c="_"+i;Object.defineProperties(a,{[c]:{value:a[i],writable:!0},[i]:{enumerable:!0,get(){const u=this[c],d=l[o];return ki(u)?Object.assign({},d,u):Jr(u,d)},set(u){this[c]=u}}})}apply(n){n.forEach(i=>i(this))}}var yo=new Cnt({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function bnt(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),t.set("animations",{colors:{type:"color",properties:vnt},numbers:{type:"number",properties:ynt}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}})},function _nt(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function wnt(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,i)=>i.lineWidth,tickColor:(n,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n&&"dash"!==n}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n})}]);function fA(t,n,i,s,o){let a=n[o];return a||(a=n[o]=t.measureText(o).width,i.push(o)),a>s&&(s=a),s}function Ont(t,n,i,s){let o=(s=s||{}).data=s.data||{},a=s.garbageCollect=s.garbageCollect||[];s.font!==n&&(o=s.data={},a=s.garbageCollect=[],s.font=n),t.save(),t.font=n;let l=0;const c=i.length;let u,d,p,f,h;for(u=0;u<c;u++)if(f=i[u],null==f||ro(f)){if(ro(f))for(d=0,p=f.length;d<p;d++)h=f[d],null!=h&&!ro(h)&&(l=fA(t,o,a,l,h))}else l=fA(t,o,a,l,f);t.restore();const m=a.length/2;if(m>i.length){for(u=0;u<m;u++)delete o[a[u]];a.splice(0,m)}return l}function Nb(t,n,i){const s=t.currentDevicePixelRatio,o=0!==i?Math.max(i/2,.5):0;return Math.round((n-o)*s)/s+o}function y0e(t,n){!n&&!t||((n=n||t.getContext("2d")).save(),n.resetTransform(),n.clearRect(0,0,t.width,t.height),n.restore())}function MU(t,n,i,s){v0e(t,n,i,s,null)}function v0e(t,n,i,s,o){let a,l,c,u,d,p,f,h;const m=n.pointStyle,y=n.rotation,E=n.radius;let _=(y||0)*ont;if(m&&"object"==typeof m&&(a=m.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return t.save(),t.translate(i,s),t.rotate(_),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),void t.restore();if(!(isNaN(E)||E<=0)){switch(t.beginPath(),m){default:o?t.ellipse(i,s,o/2,E,0,0,so):t.arc(i,s,E,0,so),t.closePath();break;case"triangle":p=o?o/2:E,t.moveTo(i+Math.sin(_)*p,s-Math.cos(_)*E),_+=e0e,t.lineTo(i+Math.sin(_)*p,s-Math.cos(_)*E),_+=e0e,t.lineTo(i+Math.sin(_)*p,s-Math.cos(_)*E),t.closePath();break;case"rectRounded":d=.516*E,u=E-d,l=Math.cos(_+Ib)*u,f=Math.cos(_+Ib)*(o?o/2-d:u),c=Math.sin(_+Ib)*u,h=Math.sin(_+Ib)*(o?o/2-d:u),t.arc(i-f,s-c,d,_-io,_-ta),t.arc(i+h,s-l,d,_-ta,_),t.arc(i+f,s+c,d,_,_+ta),t.arc(i-h,s+l,d,_+ta,_+io),t.closePath();break;case"rect":if(!y){u=Math.SQRT1_2*E,p=o?o/2:u,t.rect(i-p,s-u,2*p,2*u);break}_+=Ib;case"rectRot":f=Math.cos(_)*(o?o/2:E),l=Math.cos(_)*E,c=Math.sin(_)*E,h=Math.sin(_)*(o?o/2:E),t.moveTo(i-f,s-c),t.lineTo(i+h,s-l),t.lineTo(i+f,s+c),t.lineTo(i-h,s+l),t.closePath();break;case"crossRot":_+=Ib;case"cross":f=Math.cos(_)*(o?o/2:E),l=Math.cos(_)*E,c=Math.sin(_)*E,h=Math.sin(_)*(o?o/2:E),t.moveTo(i-f,s-c),t.lineTo(i+f,s+c),t.moveTo(i+h,s-l),t.lineTo(i-h,s+l);break;case"star":f=Math.cos(_)*(o?o/2:E),l=Math.cos(_)*E,c=Math.sin(_)*E,h=Math.sin(_)*(o?o/2:E),t.moveTo(i-f,s-c),t.lineTo(i+f,s+c),t.moveTo(i+h,s-l),t.lineTo(i-h,s+l),_+=Ib,f=Math.cos(_)*(o?o/2:E),l=Math.cos(_)*E,c=Math.sin(_)*E,h=Math.sin(_)*(o?o/2:E),t.moveTo(i-f,s-c),t.lineTo(i+f,s+c),t.moveTo(i+h,s-l),t.lineTo(i-h,s+l);break;case"line":l=o?o/2:Math.cos(_)*E,c=Math.sin(_)*E,t.moveTo(i-l,s-c),t.lineTo(i+l,s+c);break;case"dash":t.moveTo(i,s),t.lineTo(i+Math.cos(_)*(o?o/2:E),s+Math.sin(_)*E);break;case!1:t.closePath()}t.fill(),n.borderWidth>0&&t.stroke()}}function pm(t,n,i){return i=i||.5,!n||t&&t.x>n.left-i&&t.x<n.right+i&&t.y>n.top-i&&t.y<n.bottom+i}function hA(t,n){t.save(),t.beginPath(),t.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),t.clip()}function mA(t){t.restore()}function Tnt(t,n,i,s,o){if(!n)return t.lineTo(i.x,i.y);if("middle"===o){const a=(n.x+i.x)/2;t.lineTo(a,n.y),t.lineTo(a,i.y)}else"after"===o!=!!s?t.lineTo(n.x,i.y):t.lineTo(i.x,n.y);t.lineTo(i.x,i.y)}function Pnt(t,n,i,s){if(!n)return t.lineTo(i.x,i.y);t.bezierCurveTo(s?n.cp1x:n.cp2x,s?n.cp1y:n.cp2y,s?i.cp2x:i.cp1x,s?i.cp2y:i.cp1y,i.x,i.y)}function knt(t,n,i,s,o){if(o.strikethrough||o.underline){const a=t.measureText(s),l=n-a.actualBoundingBoxLeft,c=n+a.actualBoundingBoxRight,d=i+a.actualBoundingBoxDescent,p=o.strikethrough?(i-a.actualBoundingBoxAscent+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(l,p),t.lineTo(c,p),t.stroke()}}function Mnt(t,n){const i=t.fillStyle;t.fillStyle=n.color,t.fillRect(n.left,n.top,n.width,n.height),t.fillStyle=i}function Lb(t,n,i,s,o,a={}){const l=ro(n)?n:[n],c=a.strokeWidth>0&&""!==a.strokeColor;let u,d;for(t.save(),t.font=o.string,function Dnt(t,n){n.translation&&t.translate(n.translation[0],n.translation[1]),wi(n.rotation)||t.rotate(n.rotation),n.color&&(t.fillStyle=n.color),n.textAlign&&(t.textAlign=n.textAlign),n.textBaseline&&(t.textBaseline=n.textBaseline)}(t,a),u=0;u<l.length;++u)d=l[u],a.backdrop&&Mnt(t,a.backdrop),c&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),wi(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(d,i,s,a.maxWidth)),t.fillText(d,i,s,a.maxWidth),knt(t,i,s,d,a),s+=Number(o.lineHeight);t.restore()}function h6(t,n){const{x:i,y:s,w:o,h:a,radius:l}=n;t.arc(i+l.topLeft,s+l.topLeft,l.topLeft,1.5*io,io,!0),t.lineTo(i,s+a-l.bottomLeft),t.arc(i+l.bottomLeft,s+a-l.bottomLeft,l.bottomLeft,io,ta,!0),t.lineTo(i+o-l.bottomRight,s+a),t.arc(i+o-l.bottomRight,s+a-l.bottomRight,l.bottomRight,ta,0,!0),t.lineTo(i+o,s+l.topRight),t.arc(i+o-l.topRight,s+l.topRight,l.topRight,0,-ta,!0),t.lineTo(i+l.topLeft,s)}const Ant=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Int=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Rnt(t,n){const i=(""+t).match(Ant);if(!i||"normal"===i[1])return 1.2*n;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return n*t}const Nnt=t=>+t||0;function AU(t,n){const i={},s=ki(n),o=s?Object.keys(n):n,a=ki(t)?s?l=>Jr(t[l],t[n[l]]):l=>t[l]:()=>t;for(const l of o)i[l]=Nnt(a(l));return i}function b0e(t){return AU(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Fb(t){return AU(t,["topLeft","topRight","bottomLeft","bottomRight"])}function sc(t){const n=b0e(t);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function $a(t,n){let i=Jr((t=t||{}).size,(n=n||yo.font).size);"string"==typeof i&&(i=parseInt(i,10));let s=Jr(t.style,n.style);s&&!(""+s).match(Int)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const o={family:Jr(t.family,n.family),lineHeight:Rnt(Jr(t.lineHeight,n.lineHeight),i),size:i,style:s,weight:Jr(t.weight,n.weight),string:""};return o.string=function Snt(t){return!t||wi(t.size)||wi(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(o),o}function m6(t,n,i,s){let a,l,c,o=!0;for(a=0,l=t.length;a<l;++a)if(c=t[a],void 0!==c&&(void 0!==n&&"function"==typeof c&&(c=c(n),o=!1),void 0!==i&&ro(c)&&(c=c[i%c.length],o=!1),void 0!==c))return s&&!o&&(s.cacheable=!1),c}function R1(t,n){return Object.assign(Object.create(t),n)}function IU(t,n=[""],i,s,o=()=>t[0]){const a=i||t;typeof s>"u"&&(s=C0e("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:s,_getTarget:o,override:c=>IU([c,...t],n,a,s)};return new Proxy(l,{deleteProperty:(c,u)=>(delete c[u],delete c._keys,delete t[0][u],!0),get:(c,u)=>E0e(c,u,()=>function Unt(t,n,i,s){let o;for(const a of n)if(o=C0e(Fnt(a,t),i),typeof o<"u")return RU(t,o)?NU(i,s,t,o):o}(u,n,t,c)),getOwnPropertyDescriptor:(c,u)=>Reflect.getOwnPropertyDescriptor(c._scopes[0],u),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(c,u)=>S0e(c).includes(u),ownKeys:c=>S0e(c),set(c,u,d){const p=c._storage||(c._storage=o());return c[u]=p[u]=d,delete c._keys,!0}})}function r3(t,n,i,s){const o={_cacheable:!1,_proxy:t,_context:n,_subProxy:i,_stack:new Set,_descriptors:_0e(t,s),setContext:a=>r3(t,a,i,s),override:a=>r3(t.override(a),n,i,s)};return new Proxy(o,{deleteProperty:(a,l)=>(delete a[l],delete t[l],!0),get:(a,l,c)=>E0e(a,l,()=>function Bnt(t,n,i){const{_proxy:s,_context:o,_subProxy:a,_descriptors:l}=t;let c=s[n];return A1(c)&&l.isScriptable(n)&&(c=function $nt(t,n,i,s){const{_proxy:o,_context:a,_subProxy:l,_stack:c}=i;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let u=n(a,l||s);return c.delete(t),RU(t,u)&&(u=NU(o._scopes,o,t,u)),u}(n,c,t,i)),ro(c)&&c.length&&(c=function Vnt(t,n,i,s){const{_proxy:o,_context:a,_subProxy:l,_descriptors:c}=i;if(typeof a.index<"u"&&s(t))return n[a.index%n.length];if(ki(n[0])){const u=n,d=o._scopes.filter(p=>p!==u);n=[];for(const p of u){const f=NU(d,o,t,p);n.push(r3(f,a,l&&l[t],c))}}return n}(n,c,t,l.isIndexable)),RU(n,c)&&(c=r3(c,o,a&&a[n],l)),c}(a,l,c)),getOwnPropertyDescriptor:(a,l)=>a._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(a,l)=>Reflect.has(t,l),ownKeys:()=>Reflect.ownKeys(t),set:(a,l,c)=>(t[l]=c,delete a[l],!0)})}function _0e(t,n={scriptable:!0,indexable:!0}){const{_scriptable:i=n.scriptable,_indexable:s=n.indexable,_allKeys:o=n.allKeys}=t;return{allKeys:o,scriptable:i,indexable:s,isScriptable:A1(i)?i:()=>i,isIndexable:A1(s)?s:()=>s}}const Fnt=(t,n)=>t?t+xU(n):n,RU=(t,n)=>ki(n)&&"adapters"!==t&&(null===Object.getPrototypeOf(n)||n.constructor===Object);function E0e(t,n,i){if(Object.prototype.hasOwnProperty.call(t,n)||"constructor"===n)return t[n];const s=i();return t[n]=s,s}function x0e(t,n,i){return A1(t)?t(n,i):t}const jnt=(t,n)=>!0===t?n:"string"==typeof t?M1(n,t):void 0;function znt(t,n,i,s,o){for(const a of n){const l=jnt(i,a);if(l){t.add(l);const c=x0e(l._fallback,i,o);if(typeof c<"u"&&c!==i&&c!==s)return c}else if(!1===l&&typeof s<"u"&&i!==s)return null}return!1}function NU(t,n,i,s){const o=n._rootScopes,a=x0e(n._fallback,i,s),l=[...t,...o],c=new Set;c.add(s);let u=w0e(c,l,i,a||i,s);return!(null===u||typeof a<"u"&&a!==i&&(u=w0e(c,l,a,u,s),null===u))&&IU(Array.from(c),[""],o,a,()=>function Hnt(t,n,i){const s=t._getTarget();n in s||(s[n]={});const o=s[n];return ro(o)&&ki(i)?i:o||{}}(n,i,s))}function w0e(t,n,i,s,o){for(;i;)i=znt(t,n,i,s,o);return i}function C0e(t,n){for(const i of n){if(!i)continue;const s=i[t];if(typeof s<"u")return s}}function S0e(t){let n=t._keys;return n||(n=t._keys=function qnt(t){const n=new Set;for(const i of t)for(const s of Object.keys(i).filter(o=>!o.startsWith("_")))n.add(s);return Array.from(n)}(t._scopes)),n}function O0e(t,n,i,s){const{iScale:o}=t,{key:a="r"}=this._parsing,l=new Array(s);let c,u,d,p;for(c=0,u=s;c<u;++c)d=c+i,p=n[d],l[c]={r:o.parse(M1(p,a),d)};return l}const Wnt=Number.EPSILON||1e-14,i3=(t,n)=>n<t.length&&!t[n].skip&&t[n],T0e=t=>"x"===t?"y":"x";function Gnt(t,n,i,s){const o=t.skip?n:t,a=n,l=i.skip?n:i,c=CU(a,o),u=CU(l,a);let d=c/(c+u),p=u/(c+u);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const f=s*d,h=s*p;return{previous:{x:a.x-f*(l.x-o.x),y:a.y-f*(l.y-o.y)},next:{x:a.x+h*(l.x-o.x),y:a.y+h*(l.y-o.y)}}}function gA(t,n,i){return Math.max(Math.min(t,i),n)}function Znt(t,n,i,s,o){let a,l,c,u;if(n.spanGaps&&(t=t.filter(d=>!d.skip)),"monotone"===n.cubicInterpolationMode)!function Xnt(t,n="x"){const i=T0e(n),s=t.length,o=Array(s).fill(0),a=Array(s);let l,c,u,d=i3(t,0);for(l=0;l<s;++l)if(c=u,u=d,d=i3(t,l+1),u){if(d){const p=d[n]-u[n];o[l]=0!==p?(d[i]-u[i])/p:0}a[l]=c?d?Sh(o[l-1])!==Sh(o[l])?0:(o[l-1]+o[l])/2:o[l-1]:o[l]}(function Knt(t,n,i){const s=t.length;let o,a,l,c,u,d=i3(t,0);for(let p=0;p<s-1;++p)if(u=d,d=i3(t,p+1),u&&d){if(c6(n[p],0,Wnt)){i[p]=i[p+1]=0;continue}o=i[p]/n[p],a=i[p+1]/n[p],c=Math.pow(o,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),i[p]=o*l*n[p],i[p+1]=a*l*n[p])}})(t,o,a),function Ynt(t,n,i="x"){const s=T0e(i),o=t.length;let a,l,c,u=i3(t,0);for(let d=0;d<o;++d){if(l=c,c=u,u=i3(t,d+1),!c)continue;const p=c[i],f=c[s];l&&(a=(p-l[i])/3,c[`cp1${i}`]=p-a,c[`cp1${s}`]=f-a*n[d]),u&&(a=(u[i]-p)/3,c[`cp2${i}`]=p+a,c[`cp2${s}`]=f+a*n[d])}}(t,a,n)}(t,o);else{let d=s?t[t.length-1]:t[0];for(a=0,l=t.length;a<l;++a)c=t[a],u=Gnt(d,c,t[Math.min(a+1,l-(s?0:1))%l],n.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,d=c}n.capBezierPoints&&function Qnt(t,n){let i,s,o,a,l,c=pm(t[0],n);for(i=0,s=t.length;i<s;++i)l=a,a=c,c=i<s-1&&pm(t[i+1],n),a&&(o=t[i],l&&(o.cp1x=gA(o.cp1x,n.left,n.right),o.cp1y=gA(o.cp1y,n.top,n.bottom)),c&&(o.cp2x=gA(o.cp2x,n.left,n.right),o.cp2y=gA(o.cp2y,n.top,n.bottom)))}(t,i)}function LU(){return typeof window<"u"&&typeof document<"u"}function FU(t){let n=t.parentNode;return n&&"[object ShadowRoot]"===n.toString()&&(n=n.host),n}function yA(t,n,i){let s;return"string"==typeof t?(s=parseInt(t,10),-1!==t.indexOf("%")&&(s=s/100*n.parentNode[i])):s=t,s}const vA=t=>t.ownerDocument.defaultView.getComputedStyle(t,null),ert=["top","right","bottom","left"];function Bb(t,n,i){const s={};i=i?"-"+i:"";for(let o=0;o<4;o++){const a=ert[o];s[a]=parseFloat(t[n+"-"+a+i])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function $b(t,n){if("native"in t)return t;const{canvas:i,currentDevicePixelRatio:s}=n,o=vA(i),a="border-box"===o.boxSizing,l=Bb(o,"padding"),c=Bb(o,"border","width"),{x:u,y:d,box:p}=function nrt(t,n){const i=t.touches,s=i&&i.length?i[0]:t,{offsetX:o,offsetY:a}=s;let c,u,l=!1;if(((t,n,i)=>(t>0||n>0)&&(!i||!i.shadowRoot))(o,a,t.target))c=o,u=a;else{const d=n.getBoundingClientRect();c=s.clientX-d.left,u=s.clientY-d.top,l=!0}return{x:c,y:u,box:l}}(t,i),f=l.left+(p&&c.left),h=l.top+(p&&c.top);let{width:m,height:y}=n;return a&&(m-=l.width+c.width,y-=l.height+c.height),{x:Math.round((u-f)/m*i.width/s),y:Math.round((d-h)/y*i.height/s)}}const bA=t=>Math.round(10*t)/10;function P0e(t,n,i){const s=n||1,o=Math.floor(t.height*s),a=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(i||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==s||l.height!==o||l.width!==a)&&(t.currentDevicePixelRatio=s,l.height=o,l.width=a,t.ctx.setTransform(s,0,0,s,0,0),!0)}const srt=function(){let t=!1;try{const n={get passive(){return t=!0,!1}};LU()&&(window.addEventListener("test",null,n),window.removeEventListener("test",null,n))}catch{}return t}();function D0e(t,n){const i=function Jnt(t,n){return vA(t).getPropertyValue(n)}(t,n),s=i&&i.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Vb(t,n,i,s){return{x:t.x+i*(n.x-t.x),y:t.y+i*(n.y-t.y)}}function ort(t,n,i,s){return{x:t.x+i*(n.x-t.x),y:"middle"===s?i<.5?t.y:n.y:"after"===s?i<1?t.y:n.y:i>0?n.y:t.y}}function art(t,n,i,s){const o={x:t.cp2x,y:t.cp2y},a={x:n.cp1x,y:n.cp1y},l=Vb(t,o,i),c=Vb(o,a,i),u=Vb(a,n,i),d=Vb(l,c,i),p=Vb(c,u,i);return Vb(d,p,i)}function s3(t,n,i){return t?function(t,n){return{x:i=>t+t+n-i,setWidth(i){n=i},textAlign:i=>"center"===i?i:"right"===i?"left":"right",xPlus:(i,s)=>i-s,leftForLtr:(i,s)=>i-s}}(n,i):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,n)=>t+n,leftForLtr:(t,n)=>t}}function k0e(t,n){let i,s;("ltr"===n||"rtl"===n)&&(i=t.canvas.style,s=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",n,"important"),t.prevTextDirection=s)}function M0e(t,n){void 0!==n&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",n[0],n[1]))}function A0e(t){return"angle"===t?{between:u6,compare:unt,normalize:ad}:{between:um,compare:(n,i)=>n-i,normalize:n=>n}}function I0e({start:t,end:n,count:i,loop:s,style:o}){return{start:t%i,end:n%i,loop:s&&(n-t+1)%i==0,style:o}}function R0e(t,n,i){if(!i)return[t];const{property:s,start:o,end:a}=i,l=n.length,{compare:c,between:u,normalize:d}=A0e(s),{start:p,end:f,loop:h,style:m}=function urt(t,n,i){const{property:s,start:o,end:a}=i,{between:l,normalize:c}=A0e(s),u=n.length;let h,m,{start:d,end:p,loop:f}=t;if(f){for(d+=u,p+=u,h=0,m=u;h<m&&l(c(n[d%u][s]),o,a);++h)d--,p--;d%=u,p%=u}return p<d&&(p+=u),{start:d,end:p,loop:f,style:t.style}}(t,n,i),y=[];let S,v,w,E=!1,_=null;for(let A=p,$=p;A<=f;++A)v=n[A%l],!v.skip&&(S=d(v[s]),S!==w&&(E=u(S,o,a),null===_&&(E||u(o,w,S)&&0!==c(o,w))&&(_=0===c(S,o)?A:$),null!==_&&(!E||0===c(a,S)||u(a,w,S))&&(y.push(I0e({start:_,end:A,loop:h,count:l,style:m})),_=null),$=A,w=S));return null!==_&&y.push(I0e({start:_,end:f,loop:h,count:l,style:m})),y}function N0e(t,n){const i=[],s=t.segments;for(let o=0;o<s.length;o++){const a=R0e(s[o],t.points,n);a.length&&i.push(...a)}return i}function F0e(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function mrt(t,n){if(!n)return!1;const i=[],s=function(o,a){return TU(a)?(i.includes(a)||i.push(a),i.indexOf(a)):a};return JSON.stringify(t,s)!==JSON.stringify(n,s)}function _A(t,n,i){return t.options.clip?t[i]:n[i]}function B0e(t,n){const i=n._clip;if(i.disabled)return!1;const s=function grt(t,n){const{xScale:i,yScale:s}=t;return i&&s?{left:_A(i,n,"left"),right:_A(i,n,"right"),top:_A(s,n,"top"),bottom:_A(s,n,"bottom")}:n}(n,t.chartArea);return{left:!1===i.left?0:s.left-(!0===i.left?0:i.left),right:!1===i.right?t.width:s.right+(!0===i.right?0:i.right),top:!1===i.top?0:s.top-(!0===i.top?0:i.top),bottom:!1===i.bottom?t.height:s.bottom+(!0===i.bottom?0:i.bottom)}}class yrt{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,i,s,o){const l=i.duration;i.listeners[o].forEach(c=>c({chart:n,initial:i.initial,numSteps:l,currentStep:Math.min(s-i.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=l0e.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let i=0;this._charts.forEach((s,o)=>{if(!s.running||!s.items.length)return;const a=s.items;let u,l=a.length-1,c=!1;for(;l>=0;--l)u=a[l],u._active?(u._total>s.duration&&(s.duration=u._total),u.tick(n),c=!0):(a[l]=a[a.length-1],a.pop());c&&(o.draw(),this._notify(o,s,n,"progress")),a.length||(s.running=!1,this._notify(o,s,n,"complete"),s.initial=!1),i+=a.length}),this._lastDate=n,0===i&&(this._running=!1)}_getAnims(n){const i=this._charts;let s=i.get(n);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(n,s)),s}listen(n,i,s){this._getAnims(n).listeners[i].push(s)}add(n,i){!i||!i.length||this._getAnims(n).items.push(...i)}has(n){return this._getAnims(n).items.length>0}start(n){const i=this._charts.get(n);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((s,o)=>Math.max(s,o._duration),0),this._refresh())}running(n){if(!this._running)return!1;const i=this._charts.get(n);return!(!i||!i.running||!i.items.length)}stop(n){const i=this._charts.get(n);if(!i||!i.items.length)return;const s=i.items;let o=s.length-1;for(;o>=0;--o)s[o].cancel();i.items=[],this._notify(n,i,Date.now(),"complete")}remove(n){return this._charts.delete(n)}}var fm=new yrt;const $0e="transparent",vrt={boolean:(t,n,i)=>i>.5?n:t,color(t,n,i){const s=h0e(t||$0e),o=s.valid&&h0e(n||$0e);return o&&o.valid?o.mix(s,i).hexString():n},number:(t,n,i)=>t+(n-t)*i};class brt{constructor(n,i,s,o){const a=i[s];o=m6([n.to,o,a,n.from]);const l=m6([n.from,a,o]);this._active=!0,this._fn=n.fn||vrt[n.type||typeof l],this._easing=d6[n.easing]||d6.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=i,this._prop=s,this._from=l,this._to=o,this._promises=void 0}active(){return this._active}update(n,i,s){if(this._active){this._notify(!1);const o=this._target[this._prop],a=s-this._start,l=this._duration-a;this._start=s,this._duration=Math.floor(Math.max(l,n.duration)),this._total+=a,this._loop=!!n.loop,this._to=m6([n.to,i,o,n.from]),this._from=m6([n.from,o,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){const i=n-this._start,s=this._duration,o=this._prop,a=this._from,l=this._loop,c=this._to;let u;if(this._active=a!==c&&(l||i<s),!this._active)return this._target[o]=c,void this._notify(!0);i<0?this._target[o]=a:(u=i/s%2,u=l&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[o]=this._fn(a,c,u))}wait(){const n=this._promises||(this._promises=[]);return new Promise((i,s)=>{n.push({res:i,rej:s})})}_notify(n){const i=n?"res":"rej",s=this._promises||[];for(let o=0;o<s.length;o++)s[o][i]()}}class V0e{constructor(n,i){this._chart=n,this._properties=new Map,this.configure(i)}configure(n){if(!ki(n))return;const i=Object.keys(yo.animation),s=this._properties;Object.getOwnPropertyNames(n).forEach(o=>{const a=n[o];if(!ki(a))return;const l={};for(const c of i)l[c]=a[c];(ro(a.properties)&&a.properties||[o]).forEach(c=>{(c===o||!s.has(c))&&s.set(c,l)})})}_animateOptions(n,i){const s=i.options,o=function Ert(t,n){if(!n)return;let i=t.options;if(i)return i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i;t.options=n}(n,s);if(!o)return[];const a=this._createAnimations(o,s);return s.$shared&&function _rt(t,n){const i=[],s=Object.keys(n);for(let o=0;o<s.length;o++){const a=t[s[o]];a&&a.active()&&i.push(a.wait())}return Promise.all(i)}(n.options.$animations,s).then(()=>{n.options=s},()=>{}),a}_createAnimations(n,i){const s=this._properties,o=[],a=n.$animations||(n.$animations={}),l=Object.keys(i),c=Date.now();let u;for(u=l.length-1;u>=0;--u){const d=l[u];if("$"===d.charAt(0))continue;if("options"===d){o.push(...this._animateOptions(n,i));continue}const p=i[d];let f=a[d];const h=s.get(d);if(f){if(h&&f.active()){f.update(h,p,c);continue}f.cancel()}h&&h.duration?(a[d]=f=new brt(h,n,d,p),o.push(f)):n[d]=p}return o}update(n,i){if(0===this._properties.size)return void Object.assign(n,i);const s=this._createAnimations(n,i);return s.length?(fm.add(this._chart,s),!0):void 0}}function j0e(t,n){const i=t&&t.options||{},s=i.reverse,o=void 0===i.min?n:0,a=void 0===i.max?n:0;return{start:s?a:o,end:s?o:a}}function z0e(t,n){const i=[],s=t._getSortedDatasetMetas(n);let o,a;for(o=0,a=s.length;o<a;++o)i.push(s[o].index);return i}function H0e(t,n,i,s={}){const o=t.keys,a="single"===s.mode;let l,c,u,d;if(null===n)return;let p=!1;for(l=0,c=o.length;l<c;++l){if(u=+o[l],u===i){if(p=!0,s.all)continue;break}d=t.values[u],Lo(d)&&(a||0===n||Sh(n)===Sh(d))&&(n+=d)}return p||s.all?n:0}function BU(t,n){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==n.stack}function Trt(t,n,i){const s=t[n]||(t[n]={});return s[i]||(s[i]={})}function U0e(t,n,i,s){for(const o of n.getMatchingVisibleMetas(s).reverse()){const a=t[o.index];if(i&&a>0||!i&&a<0)return o.index}return null}function q0e(t,n){const{chart:i,_cachedMeta:s}=t,o=i._stacks||(i._stacks={}),{iScale:a,vScale:l,index:c}=s,u=a.axis,d=l.axis,p=function Srt(t,n,i){return`${t.id}.${n.id}.${i.stack||i.type}`}(a,l,s),f=n.length;let h;for(let m=0;m<f;++m){const y=n[m],{[u]:E,[d]:_}=y;h=(y._stacks||(y._stacks={}))[d]=Trt(o,p,E),h[c]=_,h._top=U0e(h,l,!0,s.type),h._bottom=U0e(h,l,!1,s.type),(h._visualValues||(h._visualValues={}))[c]=_}}function $U(t,n){const i=t.scales;return Object.keys(i).filter(s=>i[s].axis===n).shift()}function g6(t,n){const i=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){n=n||t._parsed;for(const o of n){const a=o._stacks;if(!a||void 0===a[s]||void 0===a[s][i])return;delete a[s][i],void 0!==a[s]._visualValues&&void 0!==a[s]._visualValues[i]&&delete a[s]._visualValues[i]}}}const VU=t=>"reset"===t||"none"===t,W0e=(t,n)=>n?t:Object.assign({},t);let N1=(()=>class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(i,s){this.chart=i,this._ctx=i.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const i=this._cachedMeta;this.configure(),this.linkScales(),i._stacked=BU(i.vScale,i),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(i){this.index!==i&&g6(this._cachedMeta),this.index=i}linkScales(){const i=this.chart,s=this._cachedMeta,o=this.getDataset(),a=(h,m,y,E)=>"x"===h?m:"r"===h?E:y,l=s.xAxisID=Jr(o.xAxisID,$U(i,"x")),c=s.yAxisID=Jr(o.yAxisID,$U(i,"y")),u=s.rAxisID=Jr(o.rAxisID,$U(i,"r")),d=s.indexAxis,p=s.iAxisID=a(d,l,c,u),f=s.vAxisID=a(d,c,l,u);s.xScale=this.getScaleForId(l),s.yScale=this.getScaleForId(c),s.rScale=this.getScaleForId(u),s.iScale=this.getScaleForId(p),s.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(i){return this.chart.scales[i]}_getOtherScale(i){const s=this._cachedMeta;return i===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const i=this._cachedMeta;this._data&&o0e(this._data,this),i._stacked&&g6(i)}_dataCheck(){const i=this.getDataset(),s=i.data||(i.data=[]),o=this._data;if(ki(s))this._data=function Crt(t,n){const{iScale:i,vScale:s}=n,o="x"===i.axis?"x":"y",a="x"===s.axis?"x":"y",l=Object.keys(t),c=new Array(l.length);let u,d,p;for(u=0,d=l.length;u<d;++u)p=l[u],c[u]={[o]:p,[a]:t[p]};return c}(s,this._cachedMeta);else if(o!==s){if(o){o0e(o,this);const a=this._cachedMeta;g6(a),a._parsed=[]}s&&Object.isExtensible(s)&&function hnt(t,n){t._chartjs?t._chartjs.listeners.push(n):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),s0e.forEach(i=>{const s="_onData"+xU(i),o=t[i];Object.defineProperty(t,i,{configurable:!0,enumerable:!1,value(...a){const l=o.apply(this,a);return t._chartjs.listeners.forEach(c=>{"function"==typeof c[s]&&c[s](...a)}),l}})}))}(s,this),this._syncList=[],this._data=s}}addElements(){const i=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(i.dataset=new this.datasetElementType)}buildOrUpdateElements(i){const s=this._cachedMeta,o=this.getDataset();let a=!1;this._dataCheck();const l=s._stacked;s._stacked=BU(s.vScale,s),s.stack!==o.stack&&(a=!0,g6(s),s.stack=o.stack),this._resyncElements(i),(a||l!==s._stacked)&&(q0e(this,s._parsed),s._stacked=BU(s.vScale,s))}configure(){const i=this.chart.config,s=i.datasetScopeKeys(this._type),o=i.getOptionScopes(this.getDataset(),s,!0);this.options=i.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(i,s){const{_cachedMeta:o,_data:a}=this,{iScale:l,_stacked:c}=o,u=l.axis;let f,h,m,d=0===i&&s===a.length||o._sorted,p=i>0&&o._parsed[i-1];if(!1===this._parsing)o._parsed=a,o._sorted=!0,m=a;else{m=ro(a[i])?this.parseArrayData(o,a,i,s):ki(a[i])?this.parseObjectData(o,a,i,s):this.parsePrimitiveData(o,a,i,s);const y=()=>null===h[u]||p&&h[u]<p[u];for(f=0;f<s;++f)o._parsed[f+i]=h=m[f],d&&(y()&&(d=!1),p=h);o._sorted=d}c&&q0e(this,m)}parsePrimitiveData(i,s,o,a){const{iScale:l,vScale:c}=i,u=l.axis,d=c.axis,p=l.getLabels(),f=l===c,h=new Array(a);let m,y,E;for(m=0,y=a;m<y;++m)E=m+o,h[m]={[u]:f||l.parse(p[E],E),[d]:c.parse(s[E],E)};return h}parseArrayData(i,s,o,a){const{xScale:l,yScale:c}=i,u=new Array(a);let d,p,f,h;for(d=0,p=a;d<p;++d)f=d+o,h=s[f],u[d]={x:l.parse(h[0],f),y:c.parse(h[1],f)};return u}parseObjectData(i,s,o,a){const{xScale:l,yScale:c}=i,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,p=new Array(a);let f,h,m,y;for(f=0,h=a;f<h;++f)m=f+o,y=s[m],p[f]={x:l.parse(M1(y,u),m),y:c.parse(M1(y,d),m)};return p}getParsed(i){return this._cachedMeta._parsed[i]}getDataElement(i){return this._cachedMeta.data[i]}applyStack(i,s,o){const l=this._cachedMeta,c=s[i.axis];return H0e({keys:z0e(this.chart,!0),values:s._stacks[i.axis]._visualValues},c,l.index,{mode:o})}updateRangeFromParsed(i,s,o,a){const l=o[s.axis];let c=null===l?NaN:l;const u=a&&o._stacks[s.axis];a&&u&&(a.values=u,c=H0e(a,l,this._cachedMeta.index)),i.min=Math.min(i.min,c),i.max=Math.max(i.max,c)}getMinMax(i,s){const o=this._cachedMeta,a=o._parsed,l=o._sorted&&i===o.iScale,c=a.length,u=this._getOtherScale(i),d=((t,n)=>t&&!n.hidden&&n._stacked&&{keys:z0e(this.chart,!0),values:null})(s,o),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:h}=function Ort(t){const{min:n,max:i,minDefined:s,maxDefined:o}=t.getUserBounds();return{min:s?n:Number.NEGATIVE_INFINITY,max:o?i:Number.POSITIVE_INFINITY}}(u);let m,y;function E(){y=a[m];const _=y[u.axis];return!Lo(y[i.axis])||f>_||h<_}for(m=0;m<c&&(E()||(this.updateRangeFromParsed(p,i,y,d),!l));++m);if(l)for(m=c-1;m>=0;--m)if(!E()){this.updateRangeFromParsed(p,i,y,d);break}return p}getAllParsedValues(i){const s=this._cachedMeta._parsed,o=[];let a,l,c;for(a=0,l=s.length;a<l;++a)c=s[a][i.axis],Lo(c)&&o.push(c);return o}getMaxOverflow(){return!1}getLabelAndValue(i){const s=this._cachedMeta,o=s.iScale,a=s.vScale,l=this.getParsed(i);return{label:o?""+o.getLabelForValue(l[o.axis]):"",value:a?""+a.getLabelForValue(l[a.axis]):""}}_update(i){const s=this._cachedMeta;this.update(i||"default"),s._clip=function wrt(t){let n,i,s,o;return ki(t)?(n=t.top,i=t.right,s=t.bottom,o=t.left):n=i=s=o=t,{top:n,right:i,bottom:s,left:o,disabled:!1===t}}(Jr(this.options.clip,function xrt(t,n,i){if(!1===i)return!1;const s=j0e(t,i),o=j0e(n,i);return{top:o.end,right:s.end,bottom:o.start,left:s.start}}(s.xScale,s.yScale,this.getMaxOverflow())))}update(i){}draw(){const i=this._ctx,o=this._cachedMeta,a=o.data||[],l=this.chart.chartArea,c=[],u=this._drawStart||0,d=this._drawCount||a.length-u,p=this.options.drawActiveElementsOnTop;let f;for(o.dataset&&o.dataset.draw(i,l,u,d),f=u;f<u+d;++f){const h=a[f];h.hidden||(h.active&&p?c.push(h):h.draw(i,l))}for(f=0;f<c.length;++f)c[f].draw(i,l)}getStyle(i,s){const o=s?"active":"default";return void 0===i&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(i||0,o)}getContext(i,s,o){const a=this.getDataset();let l;if(i>=0&&i<this._cachedMeta.data.length){const c=this._cachedMeta.data[i];l=c.$context||(c.$context=function Drt(t,n,i){return R1(t,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:i,index:n,mode:"default",type:"data"})}(this.getContext(),i,c)),l.parsed=this.getParsed(i),l.raw=a.data[i],l.index=l.dataIndex=i}else l=this.$context||(this.$context=function Prt(t,n){return R1(t,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),l.dataset=a,l.index=l.datasetIndex=this.index;return l.active=!!s,l.mode=o,l}resolveDatasetElementOptions(i){return this._resolveElementOptions(this.datasetElementType.id,i)}resolveDataElementOptions(i,s){return this._resolveElementOptions(this.dataElementType.id,s,i)}_resolveElementOptions(i,s="default",o){const a="active"===s,l=this._cachedDataOpts,c=i+"-"+s,u=l[c],d=this.enableOptionSharing&&l6(o);if(u)return W0e(u,d);const p=this.chart.config,f=p.datasetElementScopeKeys(this._type,i),h=a?[`${i}Hover`,"hover",i,""]:[i,""],m=p.getOptionScopes(this.getDataset(),f),y=Object.keys(yo.elements[i]),_=p.resolveNamedOptions(m,y,()=>this.getContext(o,a,s),h);return _.$shared&&(_.$shared=d,l[c]=Object.freeze(W0e(_,d))),_}_resolveAnimations(i,s,o){const a=this.chart,l=this._cachedDataOpts,c=`animation-${s}`,u=l[c];if(u)return u;let d;if(!1!==a.options.animation){const f=this.chart.config,h=f.datasetAnimationScopeKeys(this._type,s),m=f.getOptionScopes(this.getDataset(),h);d=f.createResolver(m,this.getContext(i,o,s))}const p=new V0e(a,d&&d.animations);return d&&d._cacheable&&(l[c]=Object.freeze(p)),p}getSharedOptions(i){if(i.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},i))}includeOptions(i,s){return!s||VU(i)||this.chart._animationsDisabled}_getSharedOptions(i,s){const o=this.resolveDataElementOptions(i,s),a=this._sharedOptions,l=this.getSharedOptions(o),c=this.includeOptions(s,l)||l!==a;return this.updateSharedOptions(l,s,o),{sharedOptions:l,includeOptions:c}}updateElement(i,s,o,a){VU(a)?Object.assign(i,o):this._resolveAnimations(s,a).update(i,o)}updateSharedOptions(i,s,o){i&&!VU(s)&&this._resolveAnimations(void 0,s).update(i,o)}_setStyle(i,s,o,a){i.active=a;const l=this.getStyle(s,a);this._resolveAnimations(s,o,a).update(i,{options:!a&&this.getSharedOptions(l)||l})}removeHoverStyle(i,s,o){this._setStyle(i,o,"active",!1)}setHoverStyle(i,s,o){this._setStyle(i,o,"active",!0)}_removeDatasetHoverStyle(){const i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!1)}_setDatasetHoverStyle(){const i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!0)}_resyncElements(i){const s=this._data,o=this._cachedMeta.data;for(const[u,d,p]of this._syncList)this[u](d,p);this._syncList=[];const a=o.length,l=s.length,c=Math.min(l,a);c&&this.parse(0,c),l>a?this._insertElements(a,l-a,i):l<a&&this._removeElements(l,a-l)}_insertElements(i,s,o=!0){const a=this._cachedMeta,l=a.data,c=i+s;let u;const d=p=>{for(p.length+=s,u=p.length-1;u>=c;u--)p[u]=p[u-s]};for(d(l),u=i;u<c;++u)l[u]=new this.dataElementType;this._parsing&&d(a._parsed),this.parse(i,s),o&&this.updateElements(l,i,s,"reset")}updateElements(i,s,o,a){}_removeElements(i,s){const o=this._cachedMeta;if(this._parsing){const a=o._parsed.splice(i,s);o._stacked&&g6(o,a)}o.data.splice(i,s)}_sync(i){if(this._parsing)this._syncList.push(i);else{const[s,o,a]=i;this[s](o,a)}this.chart._dataChanges.push([this.index,...i])}_onDataPush(){const i=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-i,i])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(i,s){s&&this._sync(["_removeElements",i,s]);const o=arguments.length-2;o&&this._sync(["_insertElements",i,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function Art(t){const n=t.iScale,i=function Mrt(t,n){if(!t._cache.$bar){const i=t.getMatchingVisibleMetas(n);let s=[];for(let o=0,a=i.length;o<a;o++)s=s.concat(i[o].controller.getAllParsedValues(t));t._cache.$bar=a0e(s.sort((o,a)=>o-a))}return t._cache.$bar}(n,t.type);let o,a,l,c,s=n._length;const u=()=>{32767===l||-32768===l||(l6(c)&&(s=Math.min(s,Math.abs(l-c)||s)),c=l)};for(o=0,a=i.length;o<a;++o)l=n.getPixelForValue(i[o]),u();for(c=void 0,o=0,a=n.ticks.length;o<a;++o)l=n.getPixelForTick(o),u();return s}function G0e(t,n,i,s){return ro(t)?function Nrt(t,n,i,s){const o=i.parse(t[0],s),a=i.parse(t[1],s),l=Math.min(o,a),c=Math.max(o,a);let u=l,d=c;Math.abs(l)>Math.abs(c)&&(u=c,d=l),n[i.axis]=d,n._custom={barStart:u,barEnd:d,start:o,end:a,min:l,max:c}}(t,n,i,s):n[i.axis]=i.parse(t,s),n}function K0e(t,n,i,s){const o=t.iScale,a=t.vScale,l=o.getLabels(),c=o===a,u=[];let d,p,f,h;for(d=i,p=i+s;d<p;++d)h=n[d],f={},f[o.axis]=c||o.parse(l[d],d),u.push(G0e(h,f,a,d));return u}function jU(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Brt(t,n,i,s){let o=n.borderSkipped;const a={};if(!o)return void(t.borderSkipped=a);if(!0===o)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:l,end:c,reverse:u,top:d,bottom:p}=function Frt(t){let n,i,s,o,a;return t.horizontal?(n=t.base>t.x,i="left",s="right"):(n=t.base<t.y,i="bottom",s="top"),n?(o="end",a="start"):(o="start",a="end"),{start:i,end:s,reverse:n,top:o,bottom:a}}(t);"middle"===o&&i&&(t.enableBorderRadius=!0,(i._top||0)===s?o=d:(i._bottom||0)===s?o=p:(a[Y0e(p,l,c,u)]=!0,o=d)),a[Y0e(o,l,c,u)]=!0,t.borderSkipped=a}function Y0e(t,n,i,s){return s?(t=function $rt(t,n,i){return t===n?i:t===i?n:t}(t,n,i),t=X0e(t,i,n)):t=X0e(t,n,i),t}function X0e(t,n,i){return"start"===t?n:"end"===t?i:t}function Vrt(t,{inflateAmount:n},i){t.inflateAmount="auto"===n?1===i?.33:0:n}let jrt=(()=>class t extends N1{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(i,s,o,a){return K0e(i,s,o,a)}parseArrayData(i,s,o,a){return K0e(i,s,o,a)}parseObjectData(i,s,o,a){const{iScale:l,vScale:c}=i,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,p="x"===l.axis?u:d,f="x"===c.axis?u:d,h=[];let m,y,E,_;for(m=o,y=o+a;m<y;++m)_=s[m],E={},E[l.axis]=l.parse(M1(_,p),m),h.push(G0e(M1(_,f),E,c,m));return h}updateRangeFromParsed(i,s,o,a){super.updateRangeFromParsed(i,s,o,a);const l=o._custom;l&&s===this._cachedMeta.vScale&&(i.min=Math.min(i.min,l.min),i.max=Math.max(i.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(i){const s=this._cachedMeta,{iScale:o,vScale:a}=s,l=this.getParsed(i),c=l._custom,u=jU(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(l[a.axis]);return{label:""+o.getLabelForValue(l[o.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(i){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,i)}updateElements(i,s,o,a){const l="reset"===a,{index:c,_cachedMeta:{vScale:u}}=this,d=u.getBasePixel(),p=u.isHorizontal(),f=this._getRuler(),{sharedOptions:h,includeOptions:m}=this._getSharedOptions(s,a);for(let y=s;y<s+o;y++){const E=this.getParsed(y),_=l||wi(E[u.axis])?{base:d,head:d}:this._calculateBarValuePixels(y),S=this._calculateBarIndexPixels(y,f),v=(E._stacks||{})[u.axis],w={horizontal:p,base:_.base,enableBorderRadius:!v||jU(E._custom)||c===v._top||c===v._bottom,x:p?_.head:S.center,y:p?S.center:_.head,height:p?S.size:Math.abs(_.size),width:p?Math.abs(_.size):S.size};m&&(w.options=h||this.resolveDataElementOptions(y,i[y].active?"active":a));const g=w.options||i[y].options;Brt(w,g,v,c),Vrt(w,g,f.ratio),this.updateElement(i[y],y,w,a)}}_getStacks(i,s){const{iScale:o}=this._cachedMeta,a=o.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),l=o.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(s),d=u&&u[o.axis],p=f=>{const h=f._parsed.find(y=>y[o.axis]===d),m=h&&h[f.vScale.axis];if(wi(m)||isNaN(m))return!0};for(const f of a)if((void 0===s||!p(f))&&((!1===l||-1===c.indexOf(f.stack)||void 0===l&&void 0===f.stack)&&c.push(f.stack),f.index===i))break;return c.length||c.push(void 0),c}_getStackCount(i){return this._getStacks(void 0,i).length}_getStackIndex(i,s,o){const a=this._getStacks(i,o),l=void 0!==s?a.indexOf(s):-1;return-1===l?a.length-1:l}_getRuler(){const i=this.options,s=this._cachedMeta,o=s.iScale,a=[];let l,c;for(l=0,c=s.data.length;l<c;++l)a.push(o.getPixelForValue(this.getParsed(l)[o.axis],l));const u=i.barThickness;return{min:u||Art(s),pixels:a,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:i.grouped,ratio:u?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(i){const{_cachedMeta:{vScale:s,_stacked:o,index:a},options:{base:l,minBarLength:c}}=this,u=l||0,d=this.getParsed(i),p=d._custom,f=jU(p);let E,_,h=d[s.axis],m=0,y=o?this.applyStack(s,d,o):h;y!==h&&(m=y-h,y=h),f&&(h=p.barStart,y=p.barEnd-p.barStart,0!==h&&Sh(h)!==Sh(p.barEnd)&&(m=0),m+=h);const S=wi(l)||f?m:l;let v=s.getPixelForValue(S);if(E=this.chart.getDataVisibility(i)?s.getPixelForValue(m+y):v,_=E-v,Math.abs(_)<c){_=function Lrt(t,n,i){return 0!==t?Sh(t):(n.isHorizontal()?1:-1)*(n.min>=i?1:-1)}(_,s,u)*c,h===u&&(v-=_/2);const w=s.getPixelForDecimal(0),g=s.getPixelForDecimal(1),x=Math.min(w,g),T=Math.max(w,g);v=Math.max(Math.min(v,T),x),E=v+_,o&&!f&&(d._stacks[s.axis]._visualValues[a]=s.getValueForPixel(E)-s.getValueForPixel(v))}if(v===s.getPixelForValue(u)){const w=Sh(_)*s.getLineWidthForValue(u)/2;v+=w,_-=w}return{size:_,base:v,head:E,center:E+_/2}}_calculateBarIndexPixels(i,s){const o=s.scale,a=this.options,l=a.skipNull,c=Jr(a.maxBarThickness,1/0);let u,d;if(s.grouped){const p=l?this._getStackCount(i):s.stackCount,f="flex"===a.barThickness?function Rrt(t,n,i,s){const o=n.pixels,a=o[t];let l=t>0?o[t-1]:null,c=t<o.length-1?o[t+1]:null;const u=i.categoryPercentage;null===l&&(l=a-(null===c?n.end-n.start:c-a)),null===c&&(c=a+a-l);const d=a-(a-Math.min(l,c))/2*u;return{chunk:Math.abs(c-l)/2*u/s,ratio:i.barPercentage,start:d}}(i,s,a,p):function Irt(t,n,i,s){const o=i.barThickness;let a,l;return wi(o)?(a=n.min*i.categoryPercentage,l=i.barPercentage):(a=o*s,l=1),{chunk:a/s,ratio:l,start:n.pixels[t]-a/2}}(i,s,a,p),h=this._getStackIndex(this.index,this._cachedMeta.stack,l?i:void 0);u=f.start+f.chunk*h+f.chunk/2,d=Math.min(c,f.chunk*f.ratio)}else u=o.getPixelForValue(this.getParsed(i)[o.axis],i),d=Math.min(c,s.min*s.ratio);return{base:u-d/2,head:u+d/2,center:u,size:d}}draw(){const i=this._cachedMeta,s=i.vScale,o=i.data,a=o.length;let l=0;for(;l<a;++l)null!==this.getParsed(l)[s.axis]&&!o[l].hidden&&o[l].draw(this._ctx)}})(),zrt=(()=>class t extends N1{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(i,s,o,a){const l=super.parsePrimitiveData(i,s,o,a);for(let c=0;c<l.length;c++)l[c]._custom=this.resolveDataElementOptions(c+o).radius;return l}parseArrayData(i,s,o,a){const l=super.parseArrayData(i,s,o,a);for(let c=0;c<l.length;c++)l[c]._custom=Jr(s[o+c][2],this.resolveDataElementOptions(c+o).radius);return l}parseObjectData(i,s,o,a){const l=super.parseObjectData(i,s,o,a);for(let c=0;c<l.length;c++){const u=s[o+c];l[c]._custom=Jr(u&&u.r&&+u.r,this.resolveDataElementOptions(c+o).radius)}return l}getMaxOverflow(){const i=this._cachedMeta.data;let s=0;for(let o=i.length-1;o>=0;--o)s=Math.max(s,i[o].size(this.resolveDataElementOptions(o))/2);return s>0&&s}getLabelAndValue(i){const s=this._cachedMeta,o=this.chart.data.labels||[],{xScale:a,yScale:l}=s,c=this.getParsed(i),u=a.getLabelForValue(c.x),d=l.getLabelForValue(c.y),p=c._custom;return{label:o[i]||"",value:"("+u+", "+d+(p?", "+p:"")+")"}}update(i){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,i)}updateElements(i,s,o,a){const l="reset"===a,{iScale:c,vScale:u}=this._cachedMeta,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(s,a),f=c.axis,h=u.axis;for(let m=s;m<s+o;m++){const y=i[m],E=!l&&this.getParsed(m),_={},S=_[f]=l?c.getPixelForDecimal(.5):c.getPixelForValue(E[f]),v=_[h]=l?u.getBasePixel():u.getPixelForValue(E[h]);_.skip=isNaN(S)||isNaN(v),p&&(_.options=d||this.resolveDataElementOptions(m,y.active?"active":a),l&&(_.options.radius=0)),this.updateElement(y,m,_,a)}}resolveDataElementOptions(i,s){const o=this.getParsed(i);let a=super.resolveDataElementOptions(i,s);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const l=a.radius;return"active"!==s&&(a.radius=0),a.radius+=Jr(o&&o._custom,l),a}})(),zU=(()=>class t extends N1{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:i=>"spacing"!==i,_indexable:i=>"spacing"!==i&&!i.startsWith("borderDash")&&!i.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const s=i.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:o,color:a}}=i.legend.options;return s.labels.map((l,c)=>{const d=i.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:a,lineWidth:d.borderWidth,pointStyle:o,hidden:!i.getDataVisibility(c),index:c}})}return[]}},onClick(i,s,o){o.chart.toggleDataVisibility(s.index),o.chart.update()}}}};constructor(i,s){super(i,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(i,s){const o=this.getDataset().data,a=this._cachedMeta;if(!1===this._parsing)a._parsed=o;else{let c,u,l=d=>+o[d];if(ki(o[i])){const{key:d="value"}=this._parsing;l=p=>+M1(o[p],d)}for(c=i,u=i+s;c<u;++c)a._parsed[c]=l(c)}}_getRotation(){return df(this.options.rotation-90)}_getCircumference(){return df(this.options.circumference)}_getRotationExtents(){let i=so,s=-so;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){const a=this.chart.getDatasetMeta(o).controller,l=a._getRotation(),c=a._getCircumference();i=Math.min(i,l),s=Math.max(s,l+c)}return{rotation:i,circumference:s-i}}update(i){const s=this.chart,{chartArea:o}=s,a=this._cachedMeta,l=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,u=Math.max((Math.min(o.width,o.height)-c)/2,0),d=Math.min(((t,n)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/n)(this.options.cutout,u),1),p=this._getRingWeight(this.index),{circumference:f,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:y,offsetX:E,offsetY:_}=function Hrt(t,n,i){let s=1,o=1,a=0,l=0;if(n<so){const c=t,u=c+n,d=Math.cos(c),p=Math.sin(c),f=Math.cos(u),h=Math.sin(u),m=(w,g,x)=>u6(w,c,u,!0)?1:Math.max(g,g*i,x,x*i),y=(w,g,x)=>u6(w,c,u,!0)?-1:Math.min(g,g*i,x,x*i),E=m(0,d,f),_=m(ta,p,h),S=y(io,d,f),v=y(io+ta,p,h);s=(E-S)/2,o=(_-v)/2,a=-(E+S)/2,l=-(_+v)/2}return{ratioX:s,ratioY:o,offsetX:a,offsetY:l}}(h,f,d),w=Math.max(Math.min((o.width-c)/m,(o.height-c)/y)/2,0),g=Xhe(this.options.radius,w),T=(g-Math.max(g*d,0))/this._getVisibleDatasetWeightTotal();this.offsetX=E*g,this.offsetY=_*g,a.total=this.calculateTotal(),this.outerRadius=g-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*p,0),this.updateElements(l,0,l.length,i)}_circumference(i,s){const o=this.options,a=this._cachedMeta,l=this._getCircumference();return s&&o.animation.animateRotate||!this.chart.getDataVisibility(i)||null===a._parsed[i]||a.data[i].hidden?0:this.calculateCircumference(a._parsed[i]*l/so)}updateElements(i,s,o,a){const l="reset"===a,c=this.chart,u=c.chartArea,f=(u.left+u.right)/2,h=(u.top+u.bottom)/2,m=l&&c.options.animation.animateScale,y=m?0:this.innerRadius,E=m?0:this.outerRadius,{sharedOptions:_,includeOptions:S}=this._getSharedOptions(s,a);let w,v=this._getRotation();for(w=0;w<s;++w)v+=this._circumference(w,l);for(w=s;w<s+o;++w){const g=this._circumference(w,l),x=i[w],T={x:f+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+g,circumference:g,outerRadius:E,innerRadius:y};S&&(T.options=_||this.resolveDataElementOptions(w,x.active?"active":a)),v+=g,this.updateElement(x,w,T,a)}}calculateTotal(){const i=this._cachedMeta,s=i.data;let a,o=0;for(a=0;a<s.length;a++){const l=i._parsed[a];null!==l&&!isNaN(l)&&this.chart.getDataVisibility(a)&&!s[a].hidden&&(o+=Math.abs(l))}return o}calculateCircumference(i){const s=this._cachedMeta.total;return s>0&&!isNaN(i)?so*(Math.abs(i)/s):0}getLabelAndValue(i){const o=this.chart,a=o.data.labels||[],l=p6(this._cachedMeta._parsed[i],o.options.locale);return{label:a[i]||"",value:l}}getMaxBorderWidth(i){let s=0;const o=this.chart;let a,l,c,u,d;if(!i)for(a=0,l=o.data.datasets.length;a<l;++a)if(o.isDatasetVisible(a)){c=o.getDatasetMeta(a),i=c.data,u=c.controller;break}if(!i)return 0;for(a=0,l=i.length;a<l;++a)d=u.resolveDataElementOptions(a),"inner"!==d.borderAlign&&(s=Math.max(s,d.borderWidth||0,d.hoverBorderWidth||0));return s}getMaxOffset(i){let s=0;for(let o=0,a=i.length;o<a;++o){const l=this.resolveDataElementOptions(o);s=Math.max(s,l.offset||0,l.hoverOffset||0)}return s}_getRingWeightOffset(i){let s=0;for(let o=0;o<i;++o)this.chart.isDatasetVisible(o)&&(s+=this._getRingWeight(o));return s}_getRingWeight(i){return Math.max(Jr(this.chart.data.datasets[i].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),Urt=(()=>class t extends N1{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(i){const s=this._cachedMeta,{dataset:o,data:a=[],_dataset:l}=s,c=this.chart._animationsDisabled;let{start:u,count:d}=u0e(s,a,c);this._drawStart=u,this._drawCount=d,d0e(s)&&(u=0,d=a.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=a;const p=this.resolveDatasetElementOptions(i);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(o,void 0,{animated:!c,options:p},i),this.updateElements(a,u,d,i)}updateElements(i,s,o,a){const l="reset"===a,{iScale:c,vScale:u,_stacked:d,_dataset:p}=this._cachedMeta,{sharedOptions:f,includeOptions:h}=this._getSharedOptions(s,a),m=c.axis,y=u.axis,{spanGaps:E,segment:_}=this.options,S=n3(E)?E:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||l||"none"===a,w=s+o,g=i.length;let x=s>0&&this.getParsed(s-1);for(let T=0;T<g;++T){const I=i[T],A=v?I:{};if(T<s||T>=w){A.skip=!0;continue}const $=this.getParsed(T),z=wi($[y]),K=A[m]=c.getPixelForValue($[m],T),U=A[y]=l||z?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,$,d):$[y],T);A.skip=isNaN(K)||isNaN(U)||z,A.stop=T>0&&Math.abs($[m]-x[m])>S,_&&(A.parsed=$,A.raw=p.data[T]),h&&(A.options=f||this.resolveDataElementOptions(T,I.active?"active":a)),v||this.updateElement(I,T,A,a),x=$}}getMaxOverflow(){const i=this._cachedMeta,s=i.dataset,o=s.options&&s.options.borderWidth||0,a=i.data||[];if(!a.length)return o;const l=a[0].size(this.resolveDataElementOptions(0)),c=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(o,l,c)/2}draw(){const i=this._cachedMeta;i.dataset.updateControlPoints(this.chart.chartArea,i.iScale.axis),super.draw()}})(),Q0e=(()=>class t extends N1{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const s=i.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:o,color:a}}=i.legend.options;return s.labels.map((l,c)=>{const d=i.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:a,lineWidth:d.borderWidth,pointStyle:o,hidden:!i.getDataVisibility(c),index:c}})}return[]}},onClick(i,s,o){o.chart.toggleDataVisibility(s.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(i,s){super(i,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(i){const o=this.chart,a=o.data.labels||[],l=p6(this._cachedMeta._parsed[i].r,o.options.locale);return{label:a[i]||"",value:l}}parseObjectData(i,s,o,a){return O0e.bind(this)(i,s,o,a)}update(i){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,i)}getMinMax(){const s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((o,a)=>{const l=this.getParsed(a).r;!isNaN(l)&&this.chart.getDataVisibility(a)&&(l<s.min&&(s.min=l),l>s.max&&(s.max=l))}),s}_updateRadius(){const i=this.chart,s=i.chartArea,o=i.options,a=Math.min(s.right-s.left,s.bottom-s.top),l=Math.max(a/2,0),u=(l-Math.max(o.cutoutPercentage?l/100*o.cutoutPercentage:1,0))/i.getVisibleDatasetCount();this.outerRadius=l-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(i,s,o,a){const l="reset"===a,c=this.chart,d=c.options.animation,p=this._cachedMeta.rScale,f=p.xCenter,h=p.yCenter,m=p.getIndexAngle(0)-.5*io;let E,y=m;const _=360/this.countVisibleElements();for(E=0;E<s;++E)y+=this._computeAngle(E,a,_);for(E=s;E<s+o;E++){const S=i[E];let v=y,w=y+this._computeAngle(E,a,_),g=c.getDataVisibility(E)?p.getDistanceFromCenterForValue(this.getParsed(E).r):0;y=w,l&&(d.animateScale&&(g=0),d.animateRotate&&(v=w=m));const x={x:f,y:h,innerRadius:0,outerRadius:g,startAngle:v,endAngle:w,options:this.resolveDataElementOptions(E,S.active?"active":a)};this.updateElement(S,E,x,a)}}countVisibleElements(){let s=0;return this._cachedMeta.data.forEach((o,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&s++}),s}_computeAngle(i,s,o){return this.chart.getDataVisibility(i)?df(this.resolveDataElementOptions(i,s).angle||o):0}})();var qrt=Object.freeze({__proto__:null,BarController:jrt,BubbleController:zrt,DoughnutController:zU,LineController:Urt,PieController:(()=>class t extends zU{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:Q0e,RadarController:(()=>class t extends N1{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(i){const s=this._cachedMeta.vScale,o=this.getParsed(i);return{label:s.getLabels()[i],value:""+s.getLabelForValue(o[s.axis])}}parseObjectData(i,s,o,a){return O0e.bind(this)(i,s,o,a)}update(i){const s=this._cachedMeta,o=s.dataset,a=s.data||[],l=s.iScale.getLabels();if(o.points=a,"resize"!==i){const c=this.resolveDatasetElementOptions(i);this.options.showLine||(c.borderWidth=0),this.updateElement(o,void 0,{_loop:!0,_fullLoop:l.length===a.length,options:c},i)}this.updateElements(a,0,a.length,i)}updateElements(i,s,o,a){const l=this._cachedMeta.rScale,c="reset"===a;for(let u=s;u<s+o;u++){const d=i[u],p=this.resolveDataElementOptions(u,d.active?"active":a),f=l.getPointPositionForValue(u,this.getParsed(u).r),h=c?l.xCenter:f.x,m=c?l.yCenter:f.y,y={x:h,y:m,angle:f.angle,skip:isNaN(h)||isNaN(m),options:p};this.updateElement(d,u,y,a)}}})(),ScatterController:(()=>class t extends N1{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(i){const s=this._cachedMeta,o=this.chart.data.labels||[],{xScale:a,yScale:l}=s,c=this.getParsed(i),u=a.getLabelForValue(c.x),d=l.getLabelForValue(c.y);return{label:o[i]||"",value:"("+u+", "+d+")"}}update(i){const s=this._cachedMeta,{data:o=[]}=s,a=this.chart._animationsDisabled;let{start:l,count:c}=u0e(s,o,a);if(this._drawStart=l,this._drawCount=c,d0e(s)&&(l=0,c=o.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:d}=s;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!d._decimated,u.points=o;const p=this.resolveDatasetElementOptions(i);p.segment=this.options.segment,this.updateElement(u,void 0,{animated:!a,options:p},i)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(o,l,c,i)}addElements(){const{showLine:i}=this.options;!this.datasetElementType&&i&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(i,s,o,a){const l="reset"===a,{iScale:c,vScale:u,_stacked:d,_dataset:p}=this._cachedMeta,f=this.resolveDataElementOptions(s,a),h=this.getSharedOptions(f),m=this.includeOptions(a,h),y=c.axis,E=u.axis,{spanGaps:_,segment:S}=this.options,v=n3(_)?_:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||l||"none"===a;let g=s>0&&this.getParsed(s-1);for(let x=s;x<s+o;++x){const T=i[x],I=this.getParsed(x),A=w?T:{},$=wi(I[E]),z=A[y]=c.getPixelForValue(I[y],x),K=A[E]=l||$?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,I,d):I[E],x);A.skip=isNaN(z)||isNaN(K)||$,A.stop=x>0&&Math.abs(I[y]-g[y])>v,S&&(A.parsed=I,A.raw=p.data[x]),m&&(A.options=h||this.resolveDataElementOptions(x,T.active?"active":a)),w||this.updateElement(T,x,A,a),g=I}this.updateSharedOptions(h,a,f)}getMaxOverflow(){const i=this._cachedMeta,s=i.data||[];if(!this.options.showLine){let u=0;for(let d=s.length-1;d>=0;--d)u=Math.max(u,s[d].size(this.resolveDataElementOptions(d))/2);return u>0&&u}const o=i.dataset,a=o.options&&o.options.borderWidth||0;if(!s.length)return a;const l=s[0].size(this.resolveDataElementOptions(0)),c=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(a,l,c)/2}})()});function jb(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class HU{static override(n){Object.assign(HU.prototype,n)}options;constructor(n){this.options=n||{}}init(){}formats(){return jb()}parse(){return jb()}format(){return jb()}add(){return jb()}diff(){return jb()}startOf(){return jb()}endOf(){return jb()}}var Wrt__date=HU;function Grt(t,n,i,s){const{controller:o,data:a,_sorted:l}=t,c=o._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&n===c.axis&&"r"!==n&&l&&a.length){const d=c._reversePixels?pnt:dm;if(!s){const p=d(a,n,i);if(u){const{vScale:f}=o._cachedMeta,{_parsed:h}=t,m=h.slice(0,p.lo+1).reverse().findIndex(E=>!wi(E[f.axis]));p.lo-=Math.max(0,m);const y=h.slice(p.hi).findIndex(E=>!wi(E[f.axis]));p.hi+=Math.max(0,y)}return p}if(o._sharedOptions){const p=a[0],f="function"==typeof p.getRange&&p.getRange(n);if(f){const h=d(a,n,i-f),m=d(a,n,i+f);return{lo:h.lo,hi:m.hi}}}}return{lo:0,hi:a.length-1}}function y6(t,n,i,s,o){const a=t.getSortedVisibleDatasetMetas(),l=i[n];for(let c=0,u=a.length;c<u;++c){const{index:d,data:p}=a[c],{lo:f,hi:h}=Grt(a[c],n,l,o);for(let m=f;m<=h;++m){const y=p[m];y.skip||s(y,d,m)}}}function UU(t,n,i,s,o){const a=[];return!o&&!t.isPointInArea(n)||y6(t,i,n,function(c,u,d){!o&&!pm(c,t.chartArea,0)||c.inRange(n.x,n.y,s)&&a.push({element:c,datasetIndex:u,index:d})},!0),a}function qU(t,n,i,s,o,a){return a||t.isPointInArea(n)?"r"!==i||s?function Xrt(t,n,i,s,o,a){let l=[];const c=function Krt(t){const n=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(s,o){const a=n?Math.abs(s.x-o.x):0,l=i?Math.abs(s.y-o.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}(i);let u=Number.POSITIVE_INFINITY;return y6(t,i,n,function d(p,f,h){const m=p.inRange(n.x,n.y,o);if(s&&!m)return;const y=p.getCenterPoint(o);if(!a&&!t.isPointInArea(y)&&!m)return;const _=c(n,y);_<u?(l=[{element:p,datasetIndex:f,index:h}],u=_):_===u&&l.push({element:p,datasetIndex:f,index:h})}),l}(t,n,i,s,o,a):function Yrt(t,n,i,s){let o=[];return y6(t,i,n,function a(l,c,u){const{startAngle:d,endAngle:p}=l.getProps(["startAngle","endAngle"],s),{angle:f}=i0e(l,{x:n.x,y:n.y});u6(f,d,p)&&o.push({element:l,datasetIndex:c,index:u})}),o}(t,n,i,o):[]}function Z0e(t,n,i,s,o){const a=[],l="x"===i?"inXRange":"inYRange";let c=!1;return y6(t,i,n,(u,d,p)=>{u[l]&&u[l](n[i],o)&&(a.push({element:u,datasetIndex:d,index:p}),c=c||u.inRange(n.x,n.y,o))}),s&&!c?[]:a}var Qrt={evaluateInteractionItems:y6,modes:{index(t,n,i,s){const o=$b(n,t),a=i.axis||"x",l=i.includeInvisible||!1,c=i.intersect?UU(t,o,a,s,l):qU(t,o,a,!1,s,l),u=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const p=c[0].index,f=d.data[p];f&&!f.skip&&u.push({element:f,datasetIndex:d.index,index:p})}),u):[]},dataset(t,n,i,s){const o=$b(n,t),a=i.axis||"xy",l=i.includeInvisible||!1;let c=i.intersect?UU(t,o,a,s,l):qU(t,o,a,!1,s,l);if(c.length>0){const u=c[0].datasetIndex,d=t.getDatasetMeta(u).data;c=[];for(let p=0;p<d.length;++p)c.push({element:d[p],datasetIndex:u,index:p})}return c},point:(t,n,i,s)=>UU(t,$b(n,t),i.axis||"xy",s,i.includeInvisible||!1),nearest:(t,n,i,s)=>qU(t,$b(n,t),i.axis||"xy",i.intersect,s,i.includeInvisible||!1),x:(t,n,i,s)=>Z0e(t,$b(n,t),"x",i.intersect,s),y:(t,n,i,s)=>Z0e(t,$b(n,t),"y",i.intersect,s)}};const J0e=["left","top","right","bottom"];function v6(t,n){return t.filter(i=>i.pos===n)}function eme(t,n){return t.filter(i=>-1===J0e.indexOf(i.pos)&&i.box.axis===n)}function b6(t,n){return t.sort((i,s)=>{const o=n?s:i,a=n?i:s;return o.weight===a.weight?o.index-a.index:o.weight-a.weight})}function tme(t,n,i,s){return Math.max(t[i],n[i])+Math.max(t[s],n[s])}function nme(t,n){t.top=Math.max(t.top,n.top),t.left=Math.max(t.left,n.left),t.bottom=Math.max(t.bottom,n.bottom),t.right=Math.max(t.right,n.right)}function nit(t,n,i,s){const{pos:o,box:a}=i,l=t.maxPadding;if(!ki(o)){i.size&&(t[o]-=i.size);const f=s[i.stack]||{size:0,count:1};f.size=Math.max(f.size,i.horizontal?a.height:a.width),i.size=f.size/f.count,t[o]+=i.size}a.getPadding&&nme(l,a.getPadding());const c=Math.max(0,n.outerWidth-tme(l,t,"left","right")),u=Math.max(0,n.outerHeight-tme(l,t,"top","bottom")),d=c!==t.w,p=u!==t.h;return t.w=c,t.h=u,i.horizontal?{same:d,other:p}:{same:p,other:d}}function iit(t,n){const i=n.maxPadding;return function s(o){const a={left:0,top:0,right:0,bottom:0};return o.forEach(l=>{a[l]=Math.max(n[l],i[l])}),a}(t?["left","right"]:["top","bottom"])}function _6(t,n,i,s){const o=[];let a,l,c,u,d,p;for(a=0,l=t.length,d=0;a<l;++a){c=t[a],u=c.box,u.update(c.width||n.w,c.height||n.h,iit(c.horizontal,n));const{same:f,other:h}=nit(n,i,c,s);d|=f&&o.length,p=p||h,u.fullSize||o.push(c)}return d&&_6(o,n,i,s)||p}function EA(t,n,i,s,o){t.top=i,t.left=n,t.right=n+s,t.bottom=i+o,t.width=s,t.height=o}function rme(t,n,i,s){const o=i.padding;let{x:a,y:l}=n;for(const c of t){const u=c.box,d=s[c.stack]||{count:1,placed:0,weight:1},p=c.stackWeight/d.weight||1;if(c.horizontal){const f=n.w*p,h=d.size||u.height;l6(d.start)&&(l=d.start),u.fullSize?EA(u,o.left,l,i.outerWidth-o.right-o.left,h):EA(u,n.left+d.placed,l,f,h),d.start=l,d.placed+=f,l=u.bottom}else{const f=n.h*p,h=d.size||u.width;l6(d.start)&&(a=d.start),u.fullSize?EA(u,a,o.top,h,i.outerHeight-o.bottom-o.top):EA(u,a,n.top+d.placed,h,f),d.start=a,d.placed+=f,a=u.right}}n.x=a,n.y=l}var oc={addBox(t,n){t.boxes||(t.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(i){n.draw(i)}}]},t.boxes.push(n)},removeBox(t,n){const i=t.boxes?t.boxes.indexOf(n):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,n,i){n.fullSize=i.fullSize,n.position=i.position,n.weight=i.weight},update(t,n,i,s){if(!t)return;const o=sc(t.options.layout.padding),a=Math.max(n-o.width,0),l=Math.max(i-o.height,0),c=function tit(t){const n=function Zrt(t){const n=[];let i,s,o,a,l,c;for(i=0,s=(t||[]).length;i<s;++i)o=t[i],({position:a,options:{stack:l,stackWeight:c=1}}=o),n.push({index:i,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:l&&a+l,stackWeight:c});return n}(t),i=b6(n.filter(d=>d.box.fullSize),!0),s=b6(v6(n,"left"),!0),o=b6(v6(n,"right")),a=b6(v6(n,"top"),!0),l=b6(v6(n,"bottom")),c=eme(n,"x"),u=eme(n,"y");return{fullSize:i,leftAndTop:s.concat(a),rightAndBottom:o.concat(u).concat(l).concat(c),chartArea:v6(n,"chartArea"),vertical:s.concat(o).concat(u),horizontal:a.concat(l).concat(c)}}(t.boxes),u=c.vertical,d=c.horizontal;hs(t.boxes,E=>{"function"==typeof E.beforeLayout&&E.beforeLayout()});const p=u.reduce((E,_)=>_.box.options&&!1===_.box.options.display?E:E+1,0)||1,f=Object.freeze({outerWidth:n,outerHeight:i,padding:o,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),h=Object.assign({},o);nme(h,sc(s));const m=Object.assign({maxPadding:h,w:a,h:l,x:o.left,y:o.top},o),y=function eit(t,n){const i=function Jrt(t){const n={};for(const i of t){const{stack:s,pos:o,stackWeight:a}=i;if(!s||!J0e.includes(o))continue;const l=n[s]||(n[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return n}(t),{vBoxMaxWidth:s,hBoxMaxHeight:o}=n;let a,l,c;for(a=0,l=t.length;a<l;++a){c=t[a];const{fullSize:u}=c.box,d=i[c.stack],p=d&&c.stackWeight/d.weight;c.horizontal?(c.width=p?p*s:u&&n.availableWidth,c.height=o):(c.width=s,c.height=p?p*o:u&&n.availableHeight)}return i}(u.concat(d),f);_6(c.fullSize,m,f,y),_6(u,m,f,y),_6(d,m,f,y)&&_6(u,m,f,y),function rit(t){const n=t.maxPadding;function i(s){const o=Math.max(n[s]-t[s],0);return t[s]+=o,o}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}(m),rme(c.leftAndTop,m,f,y),m.x+=m.w,m.y+=m.h,rme(c.rightAndBottom,m,f,y),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},hs(c.chartArea,E=>{const _=E.box;Object.assign(_,t.chartArea),_.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class ime{acquireContext(n,i){}releaseContext(n){return!1}addEventListener(n,i,s){}removeEventListener(n,i,s){}getDevicePixelRatio(){return 1}getMaximumSize(n,i,s,o){return i=Math.max(0,i||n.width),s=s||n.height,{width:i,height:Math.max(0,o?Math.floor(i/o):s)}}isAttached(n){return!0}updateConfig(n){}}class sit extends ime{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}}const xA="$chartjs",oit={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},sme=t=>null===t||""===t,ome=!!srt&&{passive:!0};function cit(t,n,i){t&&t.canvas&&t.canvas.removeEventListener(n,i,ome)}function wA(t,n){for(const i of t)if(i===n||i.contains(n))return!0}function dit(t,n,i){const s=t.canvas,o=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||wA(c.addedNodes,s),l=l&&!wA(c.removedNodes,s);l&&i()});return o.observe(document,{childList:!0,subtree:!0}),o}function pit(t,n,i){const s=t.canvas,o=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||wA(c.removedNodes,s),l=l&&!wA(c.addedNodes,s);l&&i()});return o.observe(document,{childList:!0,subtree:!0}),o}const E6=new Map;let ame=0;function lme(){const t=window.devicePixelRatio;t!==ame&&(ame=t,E6.forEach((n,i)=>{i.currentDevicePixelRatio!==t&&n()}))}function mit(t,n,i){const s=t.canvas,o=s&&FU(s);if(!o)return;const a=c0e((c,u)=>{const d=o.clientWidth;i(c,u),d<o.clientWidth&&i()},window),l=new ResizeObserver(c=>{const u=c[0],d=u.contentRect.width,p=u.contentRect.height;0===d&&0===p||a(d,p)});return l.observe(o),function fit(t,n){E6.size||window.addEventListener("resize",lme),E6.set(t,n)}(t,a),l}function WU(t,n,i){i&&i.disconnect(),"resize"===n&&function hit(t){E6.delete(t),E6.size||window.removeEventListener("resize",lme)}(t)}function git(t,n,i){const s=t.canvas,o=c0e(a=>{null!==t.ctx&&i(function uit(t,n){const i=oit[t.type]||t.type,{x:s,y:o}=$b(t,n);return{type:i,chart:n,native:t,x:void 0!==s?s:null,y:void 0!==o?o:null}}(a,t))},t);return function lit(t,n,i){t&&t.addEventListener(n,i,ome)}(s,n,o),o}class yit extends ime{acquireContext(n,i){const s=n&&n.getContext&&n.getContext("2d");return s&&s.canvas===n?(function ait(t,n){const i=t.style,s=t.getAttribute("height"),o=t.getAttribute("width");if(t[xA]={initial:{height:s,width:o,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",sme(o)){const a=D0e(t,"width");void 0!==a&&(t.width=a)}if(sme(s))if(""===t.style.height)t.height=t.width/(n||2);else{const a=D0e(t,"height");void 0!==a&&(t.height=a)}}(n,i),s):null}releaseContext(n){const i=n.canvas;if(!i[xA])return!1;const s=i[xA].initial;["height","width"].forEach(a=>{const l=s[a];wi(l)?i.removeAttribute(a):i.setAttribute(a,l)});const o=s.style||{};return Object.keys(o).forEach(a=>{i.style[a]=o[a]}),i.width=i.width,delete i[xA],!0}addEventListener(n,i,s){this.removeEventListener(n,i),(n.$proxies||(n.$proxies={}))[i]=({attach:dit,detach:pit,resize:mit}[i]||git)(n,i,s)}removeEventListener(n,i){const s=n.$proxies||(n.$proxies={}),o=s[i];o&&(({attach:WU,detach:WU,resize:WU}[i]||cit)(n,i,o),s[i]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,i,s,o){return function irt(t,n,i,s){const o=vA(t),a=Bb(o,"margin"),l=yA(o.maxWidth,t,"clientWidth")||uA,c=yA(o.maxHeight,t,"clientHeight")||uA,u=function rrt(t,n,i){let s,o;if(void 0===n||void 0===i){const a=t&&FU(t);if(a){const l=a.getBoundingClientRect(),c=vA(a),u=Bb(c,"border","width"),d=Bb(c,"padding");n=l.width-d.width-u.width,i=l.height-d.height-u.height,s=yA(c.maxWidth,a,"clientWidth"),o=yA(c.maxHeight,a,"clientHeight")}else n=t.clientWidth,i=t.clientHeight}return{width:n,height:i,maxWidth:s||uA,maxHeight:o||uA}}(t,n,i);let{width:d,height:p}=u;if("content-box"===o.boxSizing){const h=Bb(o,"border","width"),m=Bb(o,"padding");d-=m.width+h.width,p-=m.height+h.height}return d=Math.max(0,d-a.width),p=Math.max(0,s?d/s:p-a.height),d=bA(Math.min(d,l,u.maxWidth)),p=bA(Math.min(p,c,u.maxHeight)),d&&!p&&(p=bA(d/2)),(void 0!==n||void 0!==i)&&s&&u.height&&p>u.height&&(p=u.height,d=bA(Math.floor(p*s))),{width:d,height:p}}(n,i,s,o)}isAttached(n){const i=n&&FU(n);return!(!i||!i.isConnected)}}class hm{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}hasValue(){return n3(this.x)&&n3(this.y)}getProps(n,i){const s=this.$animations;if(!i||!s)return this;const o={};return n.forEach(a=>{o[a]=s[a]&&s[a].active()?s[a]._to:this[a]}),o}}function CA(t,n,i,s,o){const a=Jr(s,0),l=Math.min(Jr(o,t.length),t.length);let u,d,p,c=0;for(i=Math.ceil(i),o&&(u=o-s,i=u/Math.floor(u/i)),p=a;p<0;)c++,p=Math.round(a+c*i);for(d=Math.max(a,0);d<l;d++)d===p&&(n.push(t[d]),c++,p=Math.round(a+c*i))}const cme=(t,n,i)=>"top"===n||"left"===n?t[n]+i:t[n]-i,ume=(t,n)=>Math.min(n||t,t);function dme(t,n){const i=[],s=t.length/n,o=t.length;let a=0;for(;a<o;a+=s)i.push(t[Math.floor(a)]);return i}function Oit(t,n,i){const s=t.ticks.length,o=Math.min(n,s-1),a=t._startPixel,l=t._endPixel,c=1e-6;let d,u=t.getPixelForTick(o);if(!(i&&(d=1===s?Math.max(u-a,l-u):0===n?(t.getPixelForTick(1)-u)/2:(u-t.getPixelForTick(o-1))/2,u+=o<n?d:-d,u<a-c||u>l+c)))return u}function x6(t){return t.drawTicks?t.tickLength:0}function pme(t,n){if(!t.display)return 0;const i=$a(t.font,n),s=sc(t.padding);return(ro(t.text)?t.text.length:1)*i.lineHeight+s.height}function kit(t,n,i){let s=OU(t);return(i&&"right"!==n||!i&&"right"===n)&&(s=(t=>"left"===t?"right":"right"===t?"left":t)(s)),s}class zb extends hm{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,i){return n}getUserBounds(){let{_userMin:n,_userMax:i,_suggestedMin:s,_suggestedMax:o}=this;return n=od(n,Number.POSITIVE_INFINITY),i=od(i,Number.NEGATIVE_INFINITY),s=od(s,Number.POSITIVE_INFINITY),o=od(o,Number.NEGATIVE_INFINITY),{min:od(n,s),max:od(i,o),minDefined:Lo(n),maxDefined:Lo(i)}}getMinMax(n){let l,{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();if(o&&a)return{min:i,max:s};const c=this.getMatchingVisibleMetas();for(let u=0,d=c.length;u<d;++u)l=c[u].controller.getMinMax(this,n),o||(i=Math.min(i,l.min)),a||(s=Math.max(s,l.max));return i=a&&i>s?s:i,s=o&&i>s?i:s,{min:od(i,od(s,i)),max:od(s,od(i,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ks(this.options.beforeUpdate,[this])}update(n,i,s){const{beginAtZero:o,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=i,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Lnt(t,n,i){const{min:s,max:o}=t,a=Xhe(n,(o-s)/2),l=(c,u)=>i&&0===c?0:c+u;return{min:l(s,-Math.abs(a)),max:l(o,a)}}(this,a,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?dme(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||"auto"===l.source)&&(this.ticks=function bit(t,n){const i=t.options.ticks,s=function _it(t){const n=t.options.offset,i=t._tickSize();return Math.floor(Math.min(t._length/i+(n?0:1),t._maxLength/i))}(t),o=Math.min(i.maxTicksLimit||s,s),a=i.major.enabled?function xit(t){const n=[];let i,s;for(i=0,s=t.length;i<s;i++)t[i].major&&n.push(i);return n}(n):[],l=a.length,c=a[0],u=a[l-1],d=[];if(l>o)return function wit(t,n,i,s){let l,o=0,a=i[0];for(s=Math.ceil(s),l=0;l<t.length;l++)l===a&&(n.push(t[l]),o++,a=i[o*s])}(n,d,a,l/o),d;const p=function Eit(t,n,i){const s=function Cit(t){const n=t.length;let i,s;if(n<2)return!1;for(s=t[0],i=1;i<n;++i)if(t[i]-t[i-1]!==s)return!1;return s}(t),o=n.length/i;if(!s)return Math.max(o,1);const a=function ant(t){const n=[],i=Math.sqrt(t);let s;for(s=1;s<i;s++)t%s==0&&(n.push(s),n.push(t/s));return i===(0|i)&&n.push(i),n.sort((o,a)=>o-a).pop(),n}(s);for(let l=0,c=a.length-1;l<c;l++){const u=a[l];if(u>o)return u}return Math.max(o,1)}(a,n,o);if(l>0){let f,h;const m=l>1?Math.round((u-c)/(l-1)):null;for(CA(n,d,p,wi(m)?0:c-m,c),f=0,h=l-1;f<h;f++)CA(n,d,p,a[f],a[f+1]);return CA(n,d,p,u,wi(m)?n.length:u+m),d}return CA(n,d,p),d}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let i,s,n=this.options.reverse;this.isHorizontal()?(i=this.left,s=this.right):(i=this.top,s=this.bottom,n=!n),this._startPixel=i,this._endPixel=s,this._reversePixels=n,this._length=s-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ks(this.options.afterUpdate,[this])}beforeSetDimensions(){Ks(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ks(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),Ks(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ks(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){const i=this.options.ticks;let s,o,a;for(s=0,o=n.length;s<o;s++)a=n[s],a.label=Ks(i.callback,[a.value,s,n],this)}afterTickToLabelConversion(){Ks(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ks(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const n=this.options,i=n.ticks,s=ume(this.ticks.length,n.ticks.maxTicksLimit),o=i.minRotation||0,a=i.maxRotation;let c,u,d,l=o;if(!this._isVisible()||!i.display||o>=a||s<=1||!this.isHorizontal())return void(this.labelRotation=o);const p=this._getLabelSizes(),f=p.widest.width,h=p.highest.height,m=rl(this.chart.width-f,0,this.maxWidth);c=n.offset?this.maxWidth/s:m/(s-1),f+6>c&&(c=m/(s-(n.offset?.5:1)),u=this.maxHeight-x6(n.grid)-i.padding-pme(n.title,this.chart.options.font),d=Math.sqrt(f*f+h*h),l=wU(Math.min(Math.asin(rl((p.highest.height+6)/c,-1,1)),Math.asin(rl(u/d,-1,1))-Math.asin(rl(h/d,-1,1)))),l=Math.max(o,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ks(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ks(this.options.beforeFit,[this])}fit(){const n={width:0,height:0},{chart:i,options:{ticks:s,title:o,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const u=pme(o,i.options.font);if(c?(n.width=this.maxWidth,n.height=x6(a)+u):(n.height=this.maxHeight,n.width=x6(a)+u),s.display&&this.ticks.length){const{first:d,last:p,widest:f,highest:h}=this._getLabelSizes(),m=2*s.padding,y=df(this.labelRotation),E=Math.cos(y),_=Math.sin(y);c?n.height=Math.min(this.maxHeight,n.height+(s.mirror?0:_*f.width+E*h.height)+m):n.width=Math.min(this.maxWidth,n.width+(s.mirror?0:E*f.width+_*h.height)+m),this._calculatePadding(d,p,_,E)}}this._handleMargins(),c?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,i,s,o){const{ticks:{align:a,padding:l},position:c}=this.options,u=0!==this.labelRotation,d="top"!==c&&"x"===this.axis;if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,m=0;u?d?(h=o*n.width,m=s*i.height):(h=s*n.height,m=o*i.width):"start"===a?m=i.width:"end"===a?h=n.width:"inner"!==a&&(h=n.width/2,m=i.width/2),this.paddingLeft=Math.max((h-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((m-f+l)*this.width/(this.width-f),0)}else{let p=i.height/2,f=n.height/2;"start"===a?(p=0,f=n.height):"end"===a&&(p=i.height,f=0),this.paddingTop=p+l,this.paddingBottom=f+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ks(this.options.afterFit,[this])}isHorizontal(){const{axis:n,position:i}=this.options;return"top"===i||"bottom"===i||"x"===n}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){let i,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(n),i=0,s=n.length;i<s;i++)wi(n[i].label)&&(n.splice(i,1),s--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){const i=this.options.ticks.sampleSize;let s=this.ticks;i<s.length&&(s=dme(s,i)),this._labelSizes=n=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,i,s){const{ctx:o,_longestTextCache:a}=this,l=[],c=[],u=Math.floor(i/ume(i,s));let f,h,m,y,E,_,S,v,w,g,x,d=0,p=0;for(f=0;f<i;f+=u){if(y=n[f].label,E=this._resolveTickFontOptions(f),o.font=_=E.string,S=a[_]=a[_]||{data:{},gc:[]},v=E.lineHeight,w=g=0,wi(y)||ro(y)){if(ro(y))for(h=0,m=y.length;h<m;++h)x=y[h],!wi(x)&&!ro(x)&&(w=fA(o,S.data,S.gc,w,x),g+=v)}else w=fA(o,S.data,S.gc,w,y),g=v;l.push(w),c.push(g),d=Math.max(w,d),p=Math.max(g,p)}!function Tit(t,n){hs(t,i=>{const s=i.gc,o=s.length/2;let a;if(o>n){for(a=0;a<o;++a)delete i.data[s[a]];s.splice(0,o)}})}(a,i);const T=l.indexOf(d),I=c.indexOf(p),A=$=>({width:l[$]||0,height:c[$]||0});return{first:A(0),last:A(i-1),widest:A(T),highest:A(I),widths:l,heights:c}}getLabelForValue(n){return n}getPixelForValue(n,i){return NaN}getValueForPixel(n){}getPixelForTick(n){const i=this.ticks;return n<0||n>i.length-1?null:this.getPixelForValue(i[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);const i=this._startPixel+n*this._length;return function dnt(t){return rl(t,-32768,32767)}(this._alignToPixels?Nb(this.chart,i,0):i)}getDecimalForPixel(n){const i=(n-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:n,max:i}=this;return n<0&&i<0?i:n>0&&i>0?n:0}getContext(n){const i=this.ticks||[];if(n>=0&&n<i.length){const s=i[n];return s.$context||(s.$context=function Dit(t,n,i){return R1(t,{tick:i,index:n,type:"tick"})}(this.getContext(),n,s))}return this.$context||(this.$context=function Pit(t,n){return R1(t,{scale:n,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const n=this.options.ticks,i=df(this.labelRotation),s=Math.abs(Math.cos(i)),o=Math.abs(Math.sin(i)),a=this._getLabelSizes(),l=n.autoSkipPadding||0,c=a?a.widest.width+l:0,u=a?a.highest.height+l:0;return this.isHorizontal()?u*s>c*o?c/s:u/o:u*o<c*s?u/s:c/o}_isVisible(){const n=this.options.display;return"auto"!==n?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){const i=this.axis,s=this.chart,o=this.options,{grid:a,position:l,border:c}=o,u=a.offset,d=this.isHorizontal(),f=this.ticks.length+(u?1:0),h=x6(a),m=[],y=c.setContext(this.getContext()),E=y.display?y.width:0,_=E/2,S=function(De){return Nb(s,De,E)};let v,w,g,x,T,I,A,$,z,K,U,H;if("top"===l)v=S(this.bottom),I=this.bottom-h,$=v-_,K=S(n.top)+_,H=n.bottom;else if("bottom"===l)v=S(this.top),K=n.top,H=S(n.bottom)-_,I=v+_,$=this.top+h;else if("left"===l)v=S(this.right),T=this.right-h,A=v-_,z=S(n.left)+_,U=n.right;else if("right"===l)v=S(this.left),z=n.left,U=S(n.right)-_,T=v+_,A=this.left+h;else if("x"===i){if("center"===l)v=S((n.top+n.bottom)/2+.5);else if(ki(l)){const De=Object.keys(l)[0];v=S(this.chart.scales[De].getPixelForValue(l[De]))}K=n.top,H=n.bottom,I=v+_,$=I+h}else if("y"===i){if("center"===l)v=S((n.left+n.right)/2);else if(ki(l)){const De=Object.keys(l)[0];v=S(this.chart.scales[De].getPixelForValue(l[De]))}T=v-_,A=T-h,z=n.left,U=n.right}const me=Jr(o.ticks.maxTicksLimit,f),Re=Math.max(1,Math.ceil(f/me));for(w=0;w<f;w+=Re){const De=this.getContext(w),ye=a.setContext(De),at=c.setContext(De),_e=ye.lineWidth,be=ye.color,ke=at.dash||[],Pe=at.dashOffset,Y=ye.tickWidth,ie=ye.tickColor,se=ye.tickBorderDash||[],$e=ye.tickBorderDashOffset;g=Oit(this,w,u),void 0!==g&&(x=Nb(s,g,_e),d?T=A=z=U=x:I=$=K=H=x,m.push({tx1:T,ty1:I,tx2:A,ty2:$,x1:z,y1:K,x2:U,y2:H,width:_e,color:be,borderDash:ke,borderDashOffset:Pe,tickWidth:Y,tickColor:ie,tickBorderDash:se,tickBorderDashOffset:$e}))}return this._ticksLength=f,this._borderValue=v,m}_computeLabelItems(n){const i=this.axis,s=this.options,{position:o,ticks:a}=s,l=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:d,padding:p,mirror:f}=a,h=x6(s.grid),m=h+p,y=f?-p:m,E=-df(this.labelRotation),_=[];let S,v,w,g,x,T,I,A,$,z,K,U,H="middle";if("top"===o)T=this.bottom-y,I=this._getXAxisLabelAlignment();else if("bottom"===o)T=this.top+y,I=this._getXAxisLabelAlignment();else if("left"===o){const Re=this._getYAxisLabelAlignment(h);I=Re.textAlign,x=Re.x}else if("right"===o){const Re=this._getYAxisLabelAlignment(h);I=Re.textAlign,x=Re.x}else if("x"===i){if("center"===o)T=(n.top+n.bottom)/2+m;else if(ki(o)){const Re=Object.keys(o)[0];T=this.chart.scales[Re].getPixelForValue(o[Re])+m}I=this._getXAxisLabelAlignment()}else if("y"===i){if("center"===o)x=(n.left+n.right)/2-m;else if(ki(o)){const Re=Object.keys(o)[0];x=this.chart.scales[Re].getPixelForValue(o[Re])}I=this._getYAxisLabelAlignment(h).textAlign}"y"===i&&("start"===u?H="top":"end"===u&&(H="bottom"));const me=this._getLabelSizes();for(S=0,v=c.length;S<v;++S){w=c[S],g=w.label;const Re=a.setContext(this.getContext(S));A=this.getPixelForTick(S)+a.labelOffset,$=this._resolveTickFontOptions(S),z=$.lineHeight,K=ro(g)?g.length:1;const De=K/2,ye=Re.color,at=Re.textStrokeColor,_e=Re.textStrokeWidth;let ke,be=I;if(l?(x=A,"inner"===I&&(be=S===v-1?this.options.reverse?"left":"right":0===S?this.options.reverse?"right":"left":"center"),U="top"===o?"near"===d||0!==E?-K*z+z/2:"center"===d?-me.highest.height/2-De*z+z:z/2-me.highest.height:"near"===d||0!==E?z/2:"center"===d?me.highest.height/2-De*z:me.highest.height-K*z,f&&(U*=-1),0!==E&&!Re.showLabelBackdrop&&(x+=z/2*Math.sin(E))):(T=A,U=(1-K)*z/2),Re.showLabelBackdrop){const Pe=sc(Re.backdropPadding),Y=me.heights[S],ie=me.widths[S];let se=U-Pe.top,$e=0-Pe.left;switch(H){case"middle":se-=Y/2;break;case"bottom":se-=Y}switch(I){case"center":$e-=ie/2;break;case"right":$e-=ie;break;case"inner":S===v-1?$e-=ie:S>0&&($e-=ie/2)}ke={left:$e,top:se,width:ie+Pe.width,height:Y+Pe.height,color:Re.backdropColor}}_.push({label:g,font:$,textOffset:U,options:{rotation:E,color:ye,strokeColor:at,strokeWidth:_e,textAlign:be,textBaseline:H,translation:[x,T],backdrop:ke}})}return _}_getXAxisLabelAlignment(){const{position:n,ticks:i}=this.options;if(-df(this.labelRotation))return"top"===n?"left":"right";let o="center";return"start"===i.align?o="left":"end"===i.align?o="right":"inner"===i.align&&(o="inner"),o}_getYAxisLabelAlignment(n){const{position:i,ticks:{crossAlign:s,mirror:o,padding:a}}=this.options,c=n+a,u=this._getLabelSizes().widest.width;let d,p;return"left"===i?o?(p=this.right+a,"near"===s?d="left":"center"===s?(d="center",p+=u/2):(d="right",p+=u)):(p=this.right-c,"near"===s?d="right":"center"===s?(d="center",p-=u/2):(d="left",p=this.left)):"right"===i?o?(p=this.left+a,"near"===s?d="right":"center"===s?(d="center",p-=u/2):(d="left",p-=u)):(p=this.left+c,"near"===s?d="left":"center"===s?(d="center",p+=u/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const n=this.chart,i=this.options.position;return"left"===i||"right"===i?{top:0,left:this.left,bottom:n.height,right:this.right}:"top"===i||"bottom"===i?{top:this.top,left:0,bottom:this.bottom,right:n.width}:void 0}drawBackground(){const{ctx:n,options:{backgroundColor:i},left:s,top:o,width:a,height:l}=this;i&&(n.save(),n.fillStyle=i,n.fillRect(s,o,a,l),n.restore())}getLineWidthForValue(n){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const o=this.ticks.findIndex(a=>a.value===n);return o>=0?i.setContext(this.getContext(o)).lineWidth:0}drawGrid(n){const i=this.options.grid,s=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n));let a,l;const c=(u,d,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(u.x,u.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(i.display)for(a=0,l=o.length;a<l;++a){const u=o[a];i.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),i.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:n,ctx:i,options:{border:s,grid:o}}=this,a=s.setContext(this.getContext()),l=s.display?a.width:0;if(!l)return;const c=o.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,p,f,h;this.isHorizontal()?(d=Nb(n,this.left,l)-l/2,p=Nb(n,this.right,c)+c/2,f=h=u):(f=Nb(n,this.top,l)-l/2,h=Nb(n,this.bottom,c)+c/2,d=p=u),i.save(),i.lineWidth=a.width,i.strokeStyle=a.color,i.beginPath(),i.moveTo(d,f),i.lineTo(p,h),i.stroke(),i.restore()}drawLabels(n){if(!this.options.ticks.display)return;const s=this.ctx,o=this._computeLabelArea();o&&hA(s,o);const a=this.getLabelItems(n);for(const l of a)Lb(s,l.label,0,l.textOffset,l.font,l.options);o&&mA(s)}drawTitle(){const{ctx:n,options:{position:i,title:s,reverse:o}}=this;if(!s.display)return;const a=$a(s.font),l=sc(s.padding),c=s.align;let u=a.lineHeight/2;"bottom"===i||"center"===i||ki(i)?(u+=l.bottom,ro(s.text)&&(u+=a.lineHeight*(s.text.length-1))):u+=l.top;const{titleX:d,titleY:p,maxWidth:f,rotation:h}=function Mit(t,n,i,s){const{top:o,left:a,bottom:l,right:c,chart:u}=t,{chartArea:d,scales:p}=u;let h,m,y,f=0;const E=l-o,_=c-a;if(t.isHorizontal()){if(m=ic(s,a,c),ki(i)){const S=Object.keys(i)[0];y=p[S].getPixelForValue(i[S])+E-n}else y="center"===i?(d.bottom+d.top)/2+E-n:cme(t,i,n);h=c-a}else{if(ki(i)){const S=Object.keys(i)[0];m=p[S].getPixelForValue(i[S])-_+n}else m="center"===i?(d.left+d.right)/2-_+n:cme(t,i,n);y=ic(s,l,o),f="left"===i?-ta:ta}return{titleX:m,titleY:y,maxWidth:h,rotation:f}}(this,u,i,c);Lb(n,s.text,0,0,a,{color:s.color,maxWidth:f,rotation:h,textAlign:kit(c,i,o),textBaseline:"middle",translation:[d,p]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){const n=this.options,i=n.ticks&&n.ticks.z||0,s=Jr(n.grid&&n.grid.z,-1),o=Jr(n.border&&n.border.z,0);return this._isVisible()&&this.draw===zb.prototype.draw?[{z:s,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:i,draw:a=>{this.drawLabels(a)}}]:[{z:i,draw:a=>{this.draw(a)}}]}getMatchingVisibleMetas(n){const i=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",o=[];let a,l;for(a=0,l=i.length;a<l;++a){const c=i[a];c[s]===this.id&&(!n||c.type===n)&&o.push(c)}return o}_resolveTickFontOptions(n){return $a(this.options.ticks.setContext(this.getContext(n)).font)}_maxDigits(){const n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}}class SA{constructor(n,i,s){this.type=n,this.scope=i,this.override=s,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){const i=Object.getPrototypeOf(n);let s;(function Rit(t){return"id"in t&&"defaults"in t})(i)&&(s=this.register(i));const o=this.items,a=n.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+n);return a in o||(o[a]=n,function Ait(t,n,i){const s=o6(Object.create(null),[i?yo.get(i):{},yo.get(n),t.defaults]);yo.set(n,s),t.defaultRoutes&&function Iit(t,n){Object.keys(n).forEach(i=>{const s=i.split("."),o=s.pop(),a=[t].concat(s).join("."),l=n[i].split("."),c=l.pop(),u=l.join(".");yo.route(a,o,u,c)})}(n,t.defaultRoutes),t.descriptors&&yo.describe(n,t.descriptors)}(n,l,s),this.override&&yo.override(n.id,n.overrides)),l}get(n){return this.items[n]}unregister(n){const i=this.items,s=n.id,o=this.scope;s in i&&delete i[s],o&&s in yo[o]&&(delete yo[o][s],this.override&&delete Rb[s])}}class Nit{constructor(){this.controllers=new SA(N1,"datasets",!0),this.elements=new SA(hm,"elements"),this.plugins=new SA(Object,"plugins"),this.scales=new SA(zb,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,i,s){[...i].forEach(o=>{const a=s||this._getRegistryForType(o);s||a.isForType(o)||a===this.plugins&&o.id?this._exec(n,a,o):hs(o,l=>{const c=s||this._getRegistryForType(l);this._exec(n,c,l)})})}_exec(n,i,s){const o=xU(n);Ks(s["before"+o],[],s),i[n](s),Ks(s["after"+o],[],s)}_getRegistryForType(n){for(let i=0;i<this._typedRegistries.length;i++){const s=this._typedRegistries[i];if(s.isForType(n))return s}return this.plugins}_get(n,i,s){const o=i.get(n);if(void 0===o)throw new Error('"'+n+'" is not a registered '+s+".");return o}}var Oh=new Nit;class Lit{constructor(){this._init=[]}notify(n,i,s,o){"beforeInit"===i&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));const a=o?this._descriptors(n).filter(o):this._descriptors(n),l=this._notify(a,n,i,s);return"afterDestroy"===i&&(this._notify(a,n,"stop"),this._notify(this._init,n,"uninstall")),l}_notify(n,i,s,o){o=o||{};for(const a of n){const l=a.plugin;if(!1===Ks(l[s],[i,o,a.options],l)&&o.cancelable)return!1}return!0}invalidate(){wi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),i}_createDescriptors(n,i){const s=n&&n.config,o=Jr(s.options&&s.options.plugins,{}),a=function Fit(t){const n={},i=[],s=Object.keys(Oh.plugins.items);for(let a=0;a<s.length;a++)i.push(Oh.getPlugin(s[a]));const o=t.plugins||[];for(let a=0;a<o.length;a++){const l=o[a];-1===i.indexOf(l)&&(i.push(l),n[l.id]=!0)}return{plugins:i,localIds:n}}(s);return!1!==o||i?function $it(t,{plugins:n,localIds:i},s,o){const a=[],l=t.getContext();for(const c of n){const u=c.id,d=Bit(s[u],o);null!==d&&a.push({plugin:c,options:Vit(t.config,{plugin:c,local:i[u]},d,l)})}return a}(n,a,o,i):[]}_notifyStateChanges(n){const i=this._oldCache||[],s=this._cache,o=(a,l)=>a.filter(c=>!l.some(u=>c.plugin.id===u.plugin.id));this._notify(o(i,s),n,"stop"),this._notify(o(s,i),n,"start")}}function Bit(t,n){return n||!1!==t?!0===t?{}:t:null}function Vit(t,{plugin:n,local:i},s,o){const a=t.pluginScopeKeys(n),l=t.getOptionScopes(s,a);return i&&n.defaults&&l.push(n.defaults),t.createResolver(l,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function GU(t,n){return((n.datasets||{})[t]||{}).indexAxis||n.indexAxis||(yo.datasets[t]||{}).indexAxis||"x"}function fme(t){if("x"===t||"y"===t||"r"===t)return t}function Hit(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function KU(t,...n){if(fme(t))return t;for(const i of n){const s=i.axis||Hit(i.position)||t.length>1&&fme(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function hme(t,n,i){if(i[n+"AxisID"]===t)return{axis:n}}function mme(t){const n=t.options||(t.options={});n.plugins=Jr(n.plugins,{}),n.scales=function qit(t,n){const i=Rb[t.type]||{scales:{}},s=n.scales||{},o=GU(t.type,n),a=Object.create(null);return Object.keys(s).forEach(l=>{const c=s[l];if(!ki(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const u=KU(l,c,function Uit(t,n){if(n.data&&n.data.datasets){const i=n.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(i.length)return hme(t,"x",i[0])||hme(t,"y",i[0])}return{}}(l,t),yo.scales[c.type]),d=function zit(t,n){return t===n?"_index_":"_value_"}(u,o),p=i.scales||{};a[l]=a6(Object.create(null),[{axis:u},c,p[u],p[d]])}),t.data.datasets.forEach(l=>{const c=l.type||t.type,u=l.indexAxis||GU(c,n),p=(Rb[c]||{}).scales||{};Object.keys(p).forEach(f=>{const h=function jit(t,n){let i=t;return"_index_"===t?i=n:"_value_"===t&&(i="x"===n?"y":"x"),i}(f,u),m=l[h+"AxisID"]||h;a[m]=a[m]||Object.create(null),a6(a[m],[{axis:h},s[m],p[f]])})}),Object.keys(a).forEach(l=>{const c=a[l];a6(c,[yo.scales[c.type],yo.scale])}),a}(t,n)}function gme(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const yme=new Map,vme=new Set;function OA(t,n){let i=yme.get(t);return i||(i=n(),yme.set(t,i),vme.add(i)),i}const w6=(t,n,i)=>{const s=M1(n,i);void 0!==s&&t.add(s)};class Git{constructor(n){this._config=function Wit(t){return(t=t||{}).data=gme(t.data),mme(t),t}(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=gme(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){const n=this._config;this.clearCache(),mme(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return OA(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,i){return OA(`${n}.transition.${i}`,()=>[[`datasets.${n}.transitions.${i}`,`transitions.${i}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,i){return OA(`${n}-${i}`,()=>[[`datasets.${n}.elements.${i}`,`datasets.${n}`,`elements.${i}`,""]])}pluginScopeKeys(n){const i=n.id;return OA(`${this.type}-plugin-${i}`,()=>[[`plugins.${i}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,i){const s=this._scopeCache;let o=s.get(n);return(!o||i)&&(o=new Map,s.set(n,o)),o}getOptionScopes(n,i,s){const{options:o,type:a}=this,l=this._cachedScopes(n,s),c=l.get(i);if(c)return c;const u=new Set;i.forEach(p=>{n&&(u.add(n),p.forEach(f=>w6(u,n,f))),p.forEach(f=>w6(u,o,f)),p.forEach(f=>w6(u,Rb[a]||{},f)),p.forEach(f=>w6(u,yo,f)),p.forEach(f=>w6(u,DU,f))});const d=Array.from(u);return 0===d.length&&d.push(Object.create(null)),vme.has(i)&&l.set(i,d),d}chartOptionScopes(){const{options:n,type:i}=this;return[n,Rb[i]||{},yo.datasets[i]||{},{type:i},yo,DU]}resolveNamedOptions(n,i,s,o=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=bme(this._resolverCache,n,o);let u=l;(function Yit(t,n){const{isScriptable:i,isIndexable:s}=_0e(t);for(const o of n){const a=i(o),l=s(o),c=(l||a)&&t[o];if(a&&(A1(c)||Kit(c))||l&&ro(c))return!0}return!1})(l,i)&&(a.$shared=!1,u=r3(l,s=A1(s)?s():s,this.createResolver(n,s,c)));for(const d of i)a[d]=u[d];return a}createResolver(n,i,s=[""],o){const{resolver:a}=bme(this._resolverCache,n,s);return ki(i)?r3(a,i,void 0,o):a}}function bme(t,n,i){let s=t.get(n);s||(s=new Map,t.set(n,s));const o=i.join();let a=s.get(o);return a||(a={resolver:IU(n,i),subPrefixes:i.filter(c=>!c.toLowerCase().includes("hover"))},s.set(o,a)),a}const Kit=t=>ki(t)&&Object.getOwnPropertyNames(t).some(n=>A1(t[n])),Qit=["top","bottom","left","right","chartArea"];function _me(t,n){return"top"===t||"bottom"===t||-1===Qit.indexOf(t)&&"x"===n}function Eme(t,n){return function(i,s){return i[t]===s[t]?i[n]-s[n]:i[t]-s[t]}}function xme(t){const n=t.chart,i=n.options.animation;n.notifyPlugins("afterRender"),Ks(i&&i.onComplete,[t],n)}function Zit(t){const n=t.chart,i=n.options.animation;Ks(i&&i.onProgress,[t],n)}function wme(t){return LU()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const TA={},Cme=t=>{const n=wme(t);return Object.values(TA).filter(i=>i.canvas===n).pop()};function Jit(t,n,i){const s=Object.keys(t);for(const o of s){const a=+o;if(a>=n){const l=t[o];delete t[o],(i>0||a>n)&&(t[a+i]=l)}}}let YU=(()=>class t{static defaults=yo;static instances=TA;static overrides=Rb;static registry=Oh;static version="4.4.9";static getChart=Cme;static register(...i){Oh.add(...i),Sme()}static unregister(...i){Oh.remove(...i),Sme()}constructor(i,s){const o=this.config=new Git(s),a=wme(i),l=Cme(a);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||function vit(t){return!LU()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?sit:yit}(a)),this.platform.updateConfig(o);const u=this.platform.acquireContext(a,c.aspectRatio),d=u&&u.canvas,p=d&&d.height,f=d&&d.width;this.id=Ztt(),this.ctx=u,this.canvas=d,this.width=f,this.height=p,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Lit,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function mnt(t,n){let i;return function(...s){return n?(clearTimeout(i),i=setTimeout(t,n,s)):t.apply(this,s),n}}(h=>this.update(h),c.resizeDelay||0),this._dataChanges=[],TA[this.id]=this,u&&d?(fm.listen(this,"complete",xme),fm.listen(this,"progress",Zit),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:i,maintainAspectRatio:s},width:o,height:a,_aspectRatio:l}=this;return wi(i)?s&&l?l:a?o/a:null:i}get data(){return this.config.data}set data(i){this.config.data=i}get options(){return this._options}set options(i){this.config.options=i}get registry(){return Oh}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():P0e(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return y0e(this.canvas,this.ctx),this}stop(){return fm.stop(this),this}resize(i,s){fm.running(this)?this._resizeBeforeDraw={width:i,height:s}:this._resize(i,s)}_resize(i,s){const o=this.options,c=this.platform.getMaximumSize(this.canvas,i,s,o.maintainAspectRatio&&this.aspectRatio),u=o.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,P0e(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),Ks(o.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){hs(this.options.scales||{},(o,a)=>{o.id=a})}buildOrUpdateScales(){const i=this.options,s=i.scales,o=this.scales,a=Object.keys(o).reduce((c,u)=>(c[u]=!1,c),{});let l=[];s&&(l=l.concat(Object.keys(s).map(c=>{const u=s[c],d=KU(c,u),p="r"===d,f="x"===d;return{options:u,dposition:p?"chartArea":f?"bottom":"left",dtype:p?"radialLinear":f?"category":"linear"}}))),hs(l,c=>{const u=c.options,d=u.id,p=KU(d,u),f=Jr(u.type,c.dtype);(void 0===u.position||_me(u.position,p)!==_me(c.dposition))&&(u.position=c.dposition),a[d]=!0;let h=null;d in o&&o[d].type===f?h=o[d]:(h=new(Oh.getScale(f))({id:d,type:f,ctx:this.ctx,chart:this}),o[h.id]=h),h.init(u,i)}),hs(a,(c,u)=>{c||delete o[u]}),hs(o,c=>{oc.configure(this,c,c.options),oc.addBox(this,c)})}_updateMetasets(){const i=this._metasets,s=this.data.datasets.length,o=i.length;if(i.sort((a,l)=>a.index-l.index),o>s){for(let a=s;a<o;++a)this._destroyDatasetMeta(a);i.splice(s,o-s)}this._sortedMetasets=i.slice(0).sort(Eme("order","index"))}_removeUnreferencedMetasets(){const{_metasets:i,data:{datasets:s}}=this;i.length>s.length&&delete this._stacks,i.forEach((o,a)=>{0===s.filter(l=>l===o._dataset).length&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const i=[],s=this.data.datasets;let o,a;for(this._removeUnreferencedMetasets(),o=0,a=s.length;o<a;o++){const l=s[o];let c=this.getDatasetMeta(o);const u=l.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(o),c=this.getDatasetMeta(o)),c.type=u,c.indexAxis=l.indexAxis||GU(u,this.options),c.order=l.order||0,c.index=o,c.label=""+l.label,c.visible=this.isDatasetVisible(o),c.controller)c.controller.updateIndex(o),c.controller.linkScales();else{const d=Oh.getController(u),{datasetElementType:p,dataElementType:f}=yo.datasets[u];Object.assign(d,{dataElementType:Oh.getElement(f),datasetElementType:p&&Oh.getElement(p)}),c.controller=new d(this,o),i.push(c.controller)}}return this._updateMetasets(),i}_resetElements(){hs(this.data.datasets,(i,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(i){const s=this.config;s.update();const o=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:i,cancelable:!0}))return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let p=0,f=this.data.datasets.length;p<f;p++){const{controller:h}=this.getDatasetMeta(p),m=!a&&-1===l.indexOf(h);h.buildOrUpdateElements(m),c=Math.max(+h.getMaxOverflow(),c)}c=this._minPadding=o.layout.autoPadding?c:0,this._updateLayout(c),a||hs(l,p=>{p.reset()}),this._updateDatasets(i),this.notifyPlugins("afterUpdate",{mode:i}),this._layers.sort(Eme("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){hs(this.scales,i=>{oc.removeBox(this,i)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const i=this.options,s=new Set(Object.keys(this._listeners)),o=new Set(i.events);(!Jhe(s,o)||!!this._responsiveListeners!==i.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:i}=this,s=this._getUniformDataChanges()||[];for(const{method:o,start:a,count:l}of s)Jit(i,a,"_removeElements"===o?-l:l)}_getUniformDataChanges(){const i=this._dataChanges;if(!i||!i.length)return;this._dataChanges=[];const s=this.data.datasets.length,o=l=>new Set(i.filter(c=>c[0]===l).map((c,u)=>u+","+c.splice(1).join(","))),a=o(0);for(let l=1;l<s;l++)if(!Jhe(a,o(l)))return;return Array.from(a).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(i){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;oc.update(this,this.width,this.height,i);const s=this.chartArea,o=s.width<=0||s.height<=0;this._layers=[],hs(this.boxes,a=>{o&&"chartArea"===a.position||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,l)=>{a._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(i){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})){for(let s=0,o=this.data.datasets.length;s<o;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,o=this.data.datasets.length;s<o;++s)this._updateDataset(s,A1(i)?i({datasetIndex:s}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(i,s){const o=this.getDatasetMeta(i),a={meta:o,index:i,mode:s,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",a)&&(o.controller._update(s),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(fm.has(this)?this.attached&&!fm.running(this)&&fm.start(this):(this.draw(),xme({chart:this})))}draw(){let i;if(this._resizeBeforeDraw){const{width:o,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,a)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const s=this._layers;for(i=0;i<s.length&&s[i].z<=0;++i)s[i].draw(this.chartArea);for(this._drawDatasets();i<s.length;++i)s[i].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(i){const s=this._sortedMetasets,o=[];let a,l;for(a=0,l=s.length;a<l;++a){const c=s[a];(!i||c.visible)&&o.push(c)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const i=this.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s)this._drawDataset(i[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(i){const s=this.ctx,o={meta:i,index:i.index,cancelable:!0},a=B0e(this,i);!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(a&&hA(s,a),i.controller.draw(),a&&mA(s),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(i){return pm(i,this.chartArea,this._minPadding)}getElementsAtEventForMode(i,s,o,a){const l=Qrt.modes[s];return"function"==typeof l?l(this,i,o,a):[]}getDatasetMeta(i){const s=this.data.datasets[i],o=this._metasets;let a=o.filter(l=>l&&l._dataset===s).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:i,_dataset:s,_parsed:[],_sorted:!1},o.push(a)),a}getContext(){return this.$context||(this.$context=R1(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(i){const s=this.data.datasets[i];if(!s)return!1;const o=this.getDatasetMeta(i);return"boolean"==typeof o.hidden?!o.hidden:!s.hidden}setDatasetVisibility(i,s){this.getDatasetMeta(i).hidden=!s}toggleDataVisibility(i){this._hiddenIndices[i]=!this._hiddenIndices[i]}getDataVisibility(i){return!this._hiddenIndices[i]}_updateVisibility(i,s,o){const a=o?"show":"hide",l=this.getDatasetMeta(i),c=l.controller._resolveAnimations(void 0,a);l6(s)?(l.data[s].hidden=!o,this.update()):(this.setDatasetVisibility(i,o),c.update(l,{visible:o}),this.update(u=>u.datasetIndex===i?a:void 0))}hide(i,s){this._updateVisibility(i,s,!1)}show(i,s){this._updateVisibility(i,s,!0)}_destroyDatasetMeta(i){const s=this._metasets[i];s&&s.controller&&s.controller._destroy(),delete this._metasets[i]}_stop(){let i,s;for(this.stop(),fm.remove(this),i=0,s=this.data.datasets.length;i<s;++i)this._destroyDatasetMeta(i)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:i,ctx:s}=this;this._stop(),this.config.clearCache(),i&&(this.unbindEvents(),y0e(i,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete TA[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...i){return this.canvas.toDataURL(...i)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const i=this._listeners,s=this.platform,o=(l,c)=>{s.addEventListener(this,l,c),i[l]=c},a=(l,c,u)=>{l.offsetX=c,l.offsetY=u,this._eventHandler(l)};hs(this.options.events,l=>o(l,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const i=this._responsiveListeners,s=this.platform,o=(d,p)=>{s.addEventListener(this,d,p),i[d]=p},a=(d,p)=>{i[d]&&(s.removeEventListener(this,d,p),delete i[d])},l=(d,p)=>{this.canvas&&this.resize(d,p)};let c;const u=()=>{a("attach",u),this.attached=!0,this.resize(),o("resize",l),o("detach",c)};c=()=>{this.attached=!1,a("resize",l),this._stop(),this._resize(0,0),o("attach",u)},s.isAttached(this.canvas)?u():c()}unbindEvents(){hs(this._listeners,(i,s)=>{this.platform.removeEventListener(this,s,i)}),this._listeners={},hs(this._responsiveListeners,(i,s)=>{this.platform.removeEventListener(this,s,i)}),this._responsiveListeners=void 0}updateHoverStyle(i,s,o){const a=o?"set":"remove";let l,c,u,d;for("dataset"===s&&(l=this.getDatasetMeta(i[0].datasetIndex),l.controller["_"+a+"DatasetHoverStyle"]()),u=0,d=i.length;u<d;++u){c=i[u];const p=c&&this.getDatasetMeta(c.datasetIndex).controller;p&&p[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(i){const s=this._active||[],o=i.map(({datasetIndex:l,index:c})=>{const u=this.getDatasetMeta(l);if(!u)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:u.data[c],index:c}});!lA(o,s)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,s))}notifyPlugins(i,s,o){return this._plugins.notify(this,i,s,o)}isPluginEnabled(i){return 1===this._plugins._cache.filter(s=>s.plugin.id===i).length}_updateHoverStyles(i,s,o){const a=this.options.hover,l=(d,p)=>d.filter(f=>!p.some(h=>f.datasetIndex===h.datasetIndex&&f.index===h.index)),c=l(s,i),u=o?i:l(i,s);c.length&&this.updateHoverStyle(c,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(i,s){const o={event:i,replay:s,cancelable:!0,inChartArea:this.isPointInArea(i)},a=c=>(c.options.events||this.options.events).includes(i.native.type);if(!1===this.notifyPlugins("beforeEvent",o,a))return;const l=this._handleEvent(i,s,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,a),(l||o.changed)&&this.render(),this}_handleEvent(i,s,o){const{_active:a=[],options:l}=this,u=this._getActiveElements(i,a,o,s),d=function int(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(i),p=function est(t,n,i,s){return i&&"mouseout"!==t.type?s?n:t:null}(i,this._lastEvent,o,d);o&&(this._lastEvent=null,Ks(l.onHover,[i,u,this],this),d&&Ks(l.onClick,[i,u,this],this));const f=!lA(u,a);return(f||s)&&(this._active=u,this._updateHoverStyles(u,a,s)),this._lastEvent=p,f}_getActiveElements(i,s,o,a){if("mouseout"===i.type)return[];if(!o)return s;const l=this.options.hover;return this.getElementsAtEventForMode(i,l.mode,l,a)}})();function Sme(){return hs(YU.instances,t=>t._plugins.invalidate())}function o3(t,n,i,s){return{x:i+t*Math.cos(n),y:s+t*Math.sin(n)}}function PA(t,n,i,s,o,a){const{x:l,y:c,startAngle:u,pixelMargin:d,innerRadius:p}=n,f=Math.max(n.outerRadius+s+i-d,0),h=p>0?p+s+i+d:0;let m=0;const y=o-u;if(s){const ye=((p>0?p-s:0)+(f>0?f-s:0))/2;m=(y-(0!==ye?y*ye/(ye+s):y))/2}const _=(y-Math.max(.001,y*f-i/io)/f)/2,S=u+_+m,v=o-_-m,{outerStart:w,outerEnd:g,innerStart:x,innerEnd:T}=function rst(t,n,i,s){const o=function nst(t){return AU(t,["outerStart","outerEnd","innerStart","innerEnd"])}(t.options.borderRadius),a=(i-n)/2,l=Math.min(a,s*n/2),c=u=>{const d=(i-Math.min(a,u))*s/2;return rl(u,0,Math.min(a,d))};return{outerStart:c(o.outerStart),outerEnd:c(o.outerEnd),innerStart:rl(o.innerStart,0,l),innerEnd:rl(o.innerEnd,0,l)}}(n,h,f,v-S),I=f-w,A=f-g,$=S+w/I,z=v-g/A,K=h+x,U=h+T,H=S+x/K,me=v-T/U;if(t.beginPath(),a){const Re=($+z)/2;if(t.arc(l,c,f,$,Re),t.arc(l,c,f,Re,z),g>0){const _e=o3(A,z,l,c);t.arc(_e.x,_e.y,g,z,v+ta)}const De=o3(U,v,l,c);if(t.lineTo(De.x,De.y),T>0){const _e=o3(U,me,l,c);t.arc(_e.x,_e.y,T,v+ta,me+Math.PI)}const ye=(v-T/h+(S+x/h))/2;if(t.arc(l,c,h,v-T/h,ye,!0),t.arc(l,c,h,ye,S+x/h,!0),x>0){const _e=o3(K,H,l,c);t.arc(_e.x,_e.y,x,H+Math.PI,S-ta)}const at=o3(I,S,l,c);if(t.lineTo(at.x,at.y),w>0){const _e=o3(I,$,l,c);t.arc(_e.x,_e.y,w,S-ta,$)}}else{t.moveTo(l,c);const Re=Math.cos($)*f+l,De=Math.sin($)*f+c;t.lineTo(Re,De);const ye=Math.cos(z)*f+l,at=Math.sin(z)*f+c;t.lineTo(ye,at)}t.closePath()}function Ome(t,n,i=n){t.lineCap=Jr(i.borderCapStyle,n.borderCapStyle),t.setLineDash(Jr(i.borderDash,n.borderDash)),t.lineDashOffset=Jr(i.borderDashOffset,n.borderDashOffset),t.lineJoin=Jr(i.borderJoinStyle,n.borderJoinStyle),t.lineWidth=Jr(i.borderWidth,n.borderWidth),t.strokeStyle=Jr(i.borderColor,n.borderColor)}function ast(t,n,i){t.lineTo(i.x,i.y)}function Tme(t,n,i={}){const s=t.length,{start:o=0,end:a=s-1}=i,{start:l,end:c}=n,u=Math.max(o,l),d=Math.min(a,c);return{count:s,start:u,loop:n.loop,ilen:d<u&&!(o<l&&a<l||o>c&&a>c)?s+d-u:d-u}}function cst(t,n,i,s){const{points:o,options:a}=n,{count:l,start:c,loop:u,ilen:d}=Tme(o,i,s),p=function lst(t){return t.stepped?Tnt:t.tension||"monotone"===t.cubicInterpolationMode?Pnt:ast}(a);let m,y,E,{move:f=!0,reverse:h}=s||{};for(m=0;m<=d;++m)y=o[(c+(h?d-m:m))%l],!y.skip&&(f?(t.moveTo(y.x,y.y),f=!1):p(t,E,y,h,a.stepped),E=y);return u&&(y=o[(c+(h?d:0))%l],p(t,E,y,h,a.stepped)),!!u}function ust(t,n,i,s){const o=n.points,{count:a,start:l,ilen:c}=Tme(o,i,s),{move:u=!0,reverse:d}=s||{};let h,m,y,E,_,S,p=0,f=0;const v=g=>(l+(d?c-g:g))%a,w=()=>{E!==_&&(t.lineTo(p,_),t.lineTo(p,E),t.lineTo(p,S))};for(u&&(m=o[v(0)],t.moveTo(m.x,m.y)),h=0;h<=c;++h){if(m=o[v(h)],m.skip)continue;const g=m.x,x=m.y,T=0|g;T===y?(x<E?E=x:x>_&&(_=x),p=(f*p+g)/++f):(w(),t.lineTo(g,x),y=T,f=0,E=_=x),S=x}w()}function XU(t){const n=t.options;return t._decimated||t._loop||n.tension||"monotone"===n.cubicInterpolationMode||n.stepped||n.borderDash&&n.borderDash.length?cst:ust}const hst="function"==typeof Path2D;let DA=(()=>class t extends hm{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:i=>"borderDash"!==i&&"fill"!==i};constructor(i){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,i&&Object.assign(this,i)}updateControlPoints(i,s){const o=this.options;!o.tension&&"monotone"!==o.cubicInterpolationMode||o.stepped||this._pointsUpdated||(Znt(this._points,o,i,o.spanGaps?this._loop:this._fullLoop,s),this._pointsUpdated=!0)}set points(i){this._points=i,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function frt(t,n){const i=t.points,s=t.options.spanGaps,o=i.length;if(!o)return[];const a=!!t._loop,{start:l,end:c}=function drt(t,n,i,s){let o=0,a=n-1;if(i&&!s)for(;o<n&&!t[o].skip;)o++;for(;o<n&&t[o].skip;)o++;for(o%=n,i&&(a+=o);a>o&&t[a%n].skip;)a--;return a%=n,{start:o,end:a}}(i,o,a,s);return function L0e(t,n,i,s){return s&&s.setContext&&i?function hrt(t,n,i,s){const o=t._chart.getContext(),a=F0e(t.options),{_datasetIndex:l,options:{spanGaps:c}}=t,u=i.length,d=[];let p=a,f=n[0].start,h=f;function m(y,E,_,S){const v=c?-1:1;if(y!==E){for(y+=u;i[y%u].skip;)y-=v;for(;i[E%u].skip;)E+=v;y%u!=E%u&&(d.push({start:y%u,end:E%u,loop:_,style:S}),p=S,f=E%u)}}for(const y of n){f=c?f:y.start;let _,E=i[f%u];for(h=f+1;h<=y.end;h++){const S=i[h%u];_=F0e(s.setContext(R1(o,{type:"segment",p0:E,p1:S,p0DataIndex:(h-1)%u,p1DataIndex:h%u,datasetIndex:l}))),mrt(_,p)&&m(f,h-1,y.loop,p),E=S,p=_}f<h-1&&m(f,h-1,y.loop,p)}return d}(t,n,i,s):n}(t,!0===s?[{start:l,end:c,loop:a}]:function prt(t,n,i,s){const o=t.length,a=[];let u,l=n,c=t[n];for(u=n+1;u<=i;++u){const d=t[u%o];d.skip||d.stop?c.skip||(a.push({start:n%o,end:(u-1)%o,loop:s=!1}),n=l=d.stop?u:null):(l=u,c.skip&&(n=u)),c=d}return null!==l&&a.push({start:n%o,end:l%o,loop:s}),a}(i,l,c<l?c+o:c,!!t._fullLoop&&0===l&&c===o-1),i,n)}(this,this.options.segment))}first(){const i=this.segments;return i.length&&this.points[i[0].start]}last(){const i=this.segments,o=i.length;return o&&this.points[i[o-1].end]}interpolate(i,s){const o=this.options,a=i[s],l=this.points,c=N0e(this,{property:s,start:a,end:a});if(!c.length)return;const u=[],d=function dst(t){return t.stepped?ort:t.tension||"monotone"===t.cubicInterpolationMode?art:Vb}(o);let p,f;for(p=0,f=c.length;p<f;++p){const{start:h,end:m}=c[p],y=l[h],E=l[m];if(y===E){u.push(y);continue}const S=d(y,E,Math.abs((a-y[s])/(E[s]-y[s])),o.stepped);S[s]=i[s],u.push(S)}return 1===u.length?u[0]:u}pathSegment(i,s,o){return XU(this)(i,this,s,o)}path(i,s,o){const a=this.segments,l=XU(this);let c=this._loop;s=s||0,o=o||this.points.length-s;for(const u of a)c&=l(i,this,u,{start:s,end:s+o-1});return!!c}draw(i,s,o,a){(this.points||[]).length&&(this.options||{}).borderWidth&&(i.save(),function mst(t,n,i,s){hst&&!n.options.segment?function pst(t,n,i,s){let o=n._path;o||(o=n._path=new Path2D,n.path(o,i,s)&&o.closePath()),Ome(t,n.options),t.stroke(o)}(t,n,i,s):function fst(t,n,i,s){const{segments:o,options:a}=n,l=XU(n);for(const c of o)Ome(t,a,c.style),t.beginPath(),l(t,n,c,{start:i,end:i+s-1})&&t.closePath(),t.stroke()}(t,n,i,s)}(i,this,o,a),i.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function Pme(t,n,i,s){const o=t.options,{[i]:a}=t.getProps([i],s);return Math.abs(n-a)<o.radius+o.hitRadius}let gst=(()=>class t extends hm{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(i){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,s,o){const a=this.options,{x:l,y:c}=this.getProps(["x","y"],o);return Math.pow(i-l,2)+Math.pow(s-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(i,s){return Pme(this,i,"x",s)}inYRange(i,s){return Pme(this,i,"y",s)}getCenterPoint(i){const{x:s,y:o}=this.getProps(["x","y"],i);return{x:s,y:o}}size(i){let s=(i=i||this.options||{}).radius||0;return s=Math.max(s,s&&i.hoverRadius||0),2*(s+(s&&i.borderWidth||0))}draw(i,s){const o=this.options;this.skip||o.radius<.1||!pm(this,s,this.size(o)/2)||(i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.fillStyle=o.backgroundColor,MU(i,o,this.x,this.y))}getRange(){const i=this.options||{};return i.radius+i.hitRadius}})();function Dme(t,n){const{x:i,y:s,base:o,width:a,height:l}=t.getProps(["x","y","base","width","height"],n);let c,u,d,p,f;return t.horizontal?(f=l/2,c=Math.min(i,o),u=Math.max(i,o),d=s-f,p=s+f):(f=a/2,c=i-f,u=i+f,d=Math.min(s,o),p=Math.max(s,o)),{left:c,top:d,right:u,bottom:p}}function L1(t,n,i,s){return t?0:rl(n,i,s)}function QU(t,n,i,s){const o=null===n,a=null===i,c=t&&!(o&&a)&&Dme(t,s);return c&&(o||um(n,c.left,c.right))&&(a||um(i,c.top,c.bottom))}function Est(t,n){t.rect(n.x,n.y,n.w,n.h)}function ZU(t,n,i={}){const s=t.x!==i.x?-n:0,o=t.y!==i.y?-n:0;return{x:t.x+s,y:t.y+o,w:t.w+((t.x+t.w!==i.x+i.w?n:0)-s),h:t.h+((t.y+t.h!==i.y+i.h?n:0)-o),radius:t.radius}}var wst=Object.freeze({__proto__:null,ArcElement:class ost extends hm{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:n=>"borderDash"!==n};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const o=this.getProps(["x","y"],s),{angle:a,distance:l}=i0e(o,{x:n,y:i}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:p,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),h=(this.options.spacing+this.options.borderWidth)/2,m=Jr(f,u-c),y=u6(a,c,u)&&c!==u,E=m>=so||y,_=um(l,d+h,p+h);return E&&_}getCenterPoint(n){const{x:i,y:s,startAngle:o,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,p=(o+a)/2,f=(l+c+d+u)/2;return{x:i+Math.cos(p)*f,y:s+Math.sin(p)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,o=(i.offset||0)/4,a=(i.spacing||0)/2,l=i.circular;if(this.pixelMargin="inner"===i.borderAlign?.33:0,this.fullCircles=s>so?Math.floor(s/so):0,0===s||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*o,Math.sin(c)*o);const d=o*(1-Math.sin(Math.min(io,s||0)));n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,function ist(t,n,i,s,o){const{fullCircles:a,startAngle:l,circumference:c}=n;let u=n.endAngle;if(a){PA(t,n,i,s,u,o);for(let d=0;d<a;++d)t.fill();isNaN(c)||(u=l+(c%so||so))}PA(t,n,i,s,u,o),t.fill()}(n,this,d,a,l),function sst(t,n,i,s,o){const{fullCircles:a,startAngle:l,circumference:c,options:u}=n,{borderWidth:d,borderJoinStyle:p,borderDash:f,borderDashOffset:h}=u,m="inner"===u.borderAlign;if(!d)return;t.setLineDash(f||[]),t.lineDashOffset=h,m?(t.lineWidth=2*d,t.lineJoin=p||"round"):(t.lineWidth=d,t.lineJoin=p||"bevel");let y=n.endAngle;if(a){PA(t,n,i,s,y,o);for(let E=0;E<a;++E)t.stroke();isNaN(c)||(y=l+(c%so||so))}m&&function tst(t,n,i){const{startAngle:s,pixelMargin:o,x:a,y:l,outerRadius:c,innerRadius:u}=n;let d=o/c;t.beginPath(),t.arc(a,l,c,s-d,i+d),u>o?(d=o/u,t.arc(a,l,u,i+d,s-d,!0)):t.arc(a,l,o,i+ta,s-ta),t.closePath(),t.clip()}(t,n,y),a||(PA(t,n,i,s,y,o),t.stroke())}(n,this,d,a,l),n.restore()}},BarElement:class xst extends hm{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){const{inflateAmount:i,options:{borderColor:s,backgroundColor:o}}=this,{inner:a,outer:l}=function bst(t){const n=Dme(t),i=n.right-n.left,s=n.bottom-n.top,o=function yst(t,n,i){const o=t.borderSkipped,a=b0e(t.options.borderWidth);return{t:L1(o.top,a.top,0,i),r:L1(o.right,a.right,0,n),b:L1(o.bottom,a.bottom,0,i),l:L1(o.left,a.left,0,n)}}(t,i/2,s/2),a=function vst(t,n,i){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,a=Fb(o),l=Math.min(n,i),c=t.borderSkipped,u=s||ki(o);return{topLeft:L1(!u||c.top||c.left,a.topLeft,0,l),topRight:L1(!u||c.top||c.right,a.topRight,0,l),bottomLeft:L1(!u||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:L1(!u||c.bottom||c.right,a.bottomRight,0,l)}}(t,i/2,s/2);return{outer:{x:n.left,y:n.top,w:i,h:s,radius:a},inner:{x:n.left+o.l,y:n.top+o.t,w:i-o.l-o.r,h:s-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}(this),c=function _st(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}(l.radius)?h6:Est;n.save(),(l.w!==a.w||l.h!==a.h)&&(n.beginPath(),c(n,ZU(l,i,a)),n.clip(),c(n,ZU(a,-i,l)),n.fillStyle=s,n.fill("evenodd")),n.beginPath(),c(n,ZU(a,i)),n.fillStyle=o,n.fill(),n.restore()}inRange(n,i,s){return QU(this,n,i,s)}inXRange(n,i){return QU(this,n,null,i)}inYRange(n,i){return QU(this,null,n,i)}getCenterPoint(n){const{x:i,y:s,base:o,horizontal:a}=this.getProps(["x","y","base","horizontal"],n);return{x:a?(i+o)/2:i,y:a?s:(s+o)/2}}getRange(n){return"x"===n?this.width/2:this.height/2}},LineElement:DA,PointElement:gst});const JU=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],kme=JU.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Mme(t){return JU[t%JU.length]}function Ame(t){return kme[t%kme.length]}function Ime(t){let n;for(n in t)if(t[n].borderColor||t[n].backgroundColor)return!0;return!1}var Rme={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,n,i){if(!i.enabled)return;const{data:{datasets:s},options:o}=t.config,{elements:a}=o,l=Ime(s)||function Pst(t){return t&&(t.borderColor||t.backgroundColor)}(o)||a&&Ime(a)||function Dst(){return"rgba(0,0,0,0.1)"!==yo.borderColor||"rgba(0,0,0,0.1)"!==yo.backgroundColor}();if(!i.forceOverride&&l)return;const c=function Tst(t){let n=0;return(i,s)=>{const o=t.getDatasetMeta(s).controller;o instanceof zU?n=function Sst(t,n){return t.backgroundColor=t.data.map(()=>Mme(n++)),n}(i,n):o instanceof Q0e?n=function Ost(t,n){return t.backgroundColor=t.data.map(()=>Ame(n++)),n}(i,n):o&&(n=function Cst(t,n){return t.borderColor=Mme(n),t.backgroundColor=Ame(n),++n}(i,n))}}(t);s.forEach(c)}};function Nme(t){if(t._decimated){const n=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:n})}}function Lme(t){t.data.datasets.forEach(n=>{Nme(n)})}var Ist={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,n,i)=>{if(!i.enabled)return void Lme(t);const s=t.width;t.data.datasets.forEach((o,a)=>{const{_data:l,indexAxis:c}=o,u=t.getDatasetMeta(a),d=l||o.data;if("y"===m6([c,t.options.indexAxis])||!u.controller.supportsDecimation)return;const p=t.scales[u.xAxisID];if("linear"!==p.type&&"time"!==p.type||t.options.parsing)return;let y,{start:f,count:h}=function Ast(t,n){const i=n.length;let o,s=0;const{iScale:a}=t,{min:l,max:c,minDefined:u,maxDefined:d}=a.getUserBounds();return u&&(s=rl(dm(n,a.axis,l).lo,0,i-1)),o=d?rl(dm(n,a.axis,c).hi+1,s,i)-s:i-s,{start:s,count:o}}(u,d);if(h<=(i.threshold||4*s))Nme(o);else{switch(wi(l)&&(o._data=d,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(E){this._data=E}})),i.algorithm){case"lttb":y=function kst(t,n,i,s,o){const a=o.samples||s;if(a>=i)return t.slice(n,n+i);const l=[],c=(i-2)/(a-2);let u=0;const d=n+i-1;let f,h,m,y,E,p=n;for(l[u++]=t[p],f=0;f<a-2;f++){let v,_=0,S=0;const w=Math.floor((f+1)*c)+1+n,g=Math.min(Math.floor((f+2)*c)+1,i)+n,x=g-w;for(v=w;v<g;v++)_+=t[v].x,S+=t[v].y;_/=x,S/=x;const T=Math.floor(f*c)+1+n,I=Math.min(Math.floor((f+1)*c)+1,i)+n,{x:A,y:$}=t[p];for(m=y=-1,v=T;v<I;v++)y=.5*Math.abs((A-_)*(t[v].y-$)-(A-t[v].x)*(S-$)),y>m&&(m=y,h=t[v],E=v);l[u++]=h,p=E}return l[u++]=t[d],l}(d,f,h,s,i);break;case"min-max":y=function Mst(t,n,i,s){let l,c,u,d,p,f,h,m,y,E,o=0,a=0;const _=[],v=t[n].x,g=t[n+i-1].x-v;for(l=n;l<n+i;++l){c=t[l],u=(c.x-v)/g*s,d=c.y;const x=0|u;if(x===p)d<y?(y=d,f=l):d>E&&(E=d,h=l),o=(a*o+c.x)/++a;else{const T=l-1;if(!wi(f)&&!wi(h)){const I=Math.min(f,h),A=Math.max(f,h);I!==m&&I!==T&&_.push({...t[I],x:o}),A!==m&&A!==T&&_.push({...t[A],x:o})}l>0&&T!==m&&_.push(t[T]),_.push(c),p=x,a=0,y=E=d,f=h=m=l}}return _}(d,f,h,s);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}o._decimated=y}})},destroy(t){Lme(t)}};function eq(t,n,i,s){if(s)return;let o=n[t],a=i[t];return"angle"===t&&(o=ad(o),a=ad(a)),{property:t,start:o,end:a}}function tq(t,n,i){for(;n>t;n--){const s=i[n];if(!isNaN(s.x)&&!isNaN(s.y))break}return n}function Fme(t,n,i,s){return t&&n?s(t[i],n[i]):t?t[i]:n?n[i]:0}function Bme(t,n){let i=[],s=!1;return ro(t)?(s=!0,i=t):i=function Nst(t,n){const{x:i=null,y:s=null}=t||{},o=n.points,a=[];return n.segments.forEach(({start:l,end:c})=>{c=tq(l,c,o);const u=o[l],d=o[c];null!==s?(a.push({x:u.x,y:s}),a.push({x:d.x,y:s})):null!==i&&(a.push({x:i,y:u.y}),a.push({x:i,y:d.y}))}),a}(t,n),i.length?new DA({points:i,options:{tension:0},_loop:s,_fullLoop:s}):null}function $me(t){return t&&!1!==t.fill}function Lst(t,n,i){let o=t[n].fill;const a=[n];let l;if(!i)return o;for(;!1!==o&&-1===a.indexOf(o);){if(!Lo(o))return o;if(l=t[o],!l)return!1;if(l.visible)return o;a.push(o),o=l.fill}return!1}function Fst(t,n,i){const s=function jst(t){const n=t.options,i=n.fill;let s=Jr(i&&i.target,i);return void 0===s&&(s=!!n.backgroundColor),!1!==s&&null!==s&&(!0===s?"origin":s)}(t);if(ki(s))return!isNaN(s.value)&&s;let o=parseFloat(s);return Lo(o)&&Math.floor(o)===o?function Bst(t,n,i,s){return("-"===t||"+"===t)&&(i=n+i),!(i===n||i<0||i>=s)&&i}(s[0],n,o,i):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function Ust(t,n,i){const s=[];for(let o=0;o<i.length;o++){const a=i[o],{first:l,last:c,point:u}=qst(a,n,"x");if(!(!u||l&&c))if(l)s.unshift(u);else if(t.push(u),!c)break}t.push(...s)}function qst(t,n,i){const s=t.interpolate(n,i);if(!s)return{};const o=s[i],a=t.segments,l=t.points;let c=!1,u=!1;for(let d=0;d<a.length;d++){const p=a[d],f=l[p.start][i],h=l[p.end][i];if(um(o,f,h)){c=o===f,u=o===h;break}}return{first:c,last:u,point:s}}class Vme{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,i,s){const{x:o,y:a,radius:l}=this;return n.arc(o,a,l,(i=i||{start:0,end:so}).end,i.start,!0),!s.bounds}interpolate(n){const{x:i,y:s,radius:o}=this,a=n.angle;return{x:i+Math.cos(a)*o,y:s+Math.sin(a)*o,angle:a}}}function nq(t,n,i){const s=function Wst(t){const{chart:n,fill:i,line:s}=t;if(Lo(i))return function Gst(t,n){const i=t.getDatasetMeta(n);return i&&t.isDatasetVisible(n)?i.dataset:null}(n,i);if("stack"===i)return function zst(t){const{scale:n,index:i,line:s}=t,o=[],a=s.segments,l=s.points,c=function Hst(t,n){const i=[],s=t.getMatchingVisibleMetas("line");for(let o=0;o<s.length;o++){const a=s[o];if(a.index===n)break;a.hidden||i.unshift(a.dataset)}return i}(n,i);c.push(Bme({x:null,y:n.bottom},s));for(let u=0;u<a.length;u++){const d=a[u];for(let p=d.start;p<=d.end;p++)Ust(o,l[p],c)}return new DA({points:o,options:{}})}(t);if("shape"===i)return!0;const o=function Kst(t){return(t.scale||{}).getPointPositionForValue?function Xst(t){const{scale:n,fill:i}=t,s=n.options,o=n.getLabels().length,a=s.reverse?n.max:n.min,l=function Vst(t,n,i){let s;return s="start"===t?i:"end"===t?n.options.reverse?n.min:n.max:ki(t)?t.value:n.getBaseValue(),s}(i,n,a),c=[];if(s.grid.circular){const u=n.getPointPositionForValue(0,a);return new Vme({x:u.x,y:u.y,radius:n.getDistanceFromCenterForValue(l)})}for(let u=0;u<o;++u)c.push(n.getPointPositionForValue(u,l));return c}(t):function Yst(t){const{scale:n={},fill:i}=t,s=function $st(t,n){let i=null;return"start"===t?i=n.bottom:"end"===t?i=n.top:ki(t)?i=n.getPixelForValue(t.value):n.getBasePixel&&(i=n.getBasePixel()),i}(i,n);if(Lo(s)){const o=n.isHorizontal();return{x:o?s:null,y:o?null:s}}return null}(t)}(t);return o instanceof Vme?o:Bme(o,s)}(n),{chart:o,index:a,line:l,scale:c,axis:u}=n,d=l.options,p=d.fill,f=d.backgroundColor,{above:h=f,below:m=f}=p||{},y=o.getDatasetMeta(a),E=B0e(o,y);s&&l.points.length&&(hA(t,i),function Qst(t,n){const{line:i,target:s,above:o,below:a,area:l,scale:c,clip:u}=n,d=i._loop?"angle":n.axis;t.save(),"x"===d&&a!==o&&(jme(t,s,l.top),zme(t,{line:i,target:s,color:o,scale:c,property:d,clip:u}),t.restore(),t.save(),jme(t,s,l.bottom)),zme(t,{line:i,target:s,color:a,scale:c,property:d,clip:u}),t.restore()}(t,{line:l,target:s,above:h,below:m,area:i,scale:c,axis:u,clip:E}),mA(t))}function jme(t,n,i){const{segments:s,points:o}=n;let a=!0,l=!1;t.beginPath();for(const c of s){const{start:u,end:d}=c,p=o[u],f=o[tq(u,d,o)];a?(t.moveTo(p.x,p.y),a=!1):(t.lineTo(p.x,i),t.lineTo(p.x,p.y)),l=!!n.pathSegment(t,c,{move:l}),l?t.closePath():t.lineTo(f.x,i)}t.lineTo(n.first().x,i),t.closePath(),t.clip()}function zme(t,n){const{line:i,target:s,property:o,color:a,scale:l,clip:c}=n,u=function Rst(t,n,i){const s=t.segments,o=t.points,a=n.points,l=[];for(const c of s){let{start:u,end:d}=c;d=tq(u,d,o);const p=eq(i,o[u],o[d],c.loop);if(!n.segments){l.push({source:c,target:p,start:o[u],end:o[d]});continue}const f=N0e(n,p);for(const h of f){const m=eq(i,a[h.start],a[h.end],h.loop),y=R0e(c,o,m);for(const E of y)l.push({source:E,target:h,start:{[i]:Fme(p,m,"start",Math.max)},end:{[i]:Fme(p,m,"end",Math.min)}})}}return l}(i,s,o);for(const{source:d,target:p,start:f,end:h}of u){const{style:{backgroundColor:m=a}={}}=d,y=!0!==s;t.save(),t.fillStyle=m,Zst(t,l,c,y&&eq(o,f,h)),t.beginPath();const E=!!i.pathSegment(t,d);let _;if(y){E?t.closePath():Hme(t,s,h,o);const S=!!s.pathSegment(t,p,{move:E,reverse:!0});_=E&&S,_||Hme(t,s,f,o)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function Zst(t,n,i,s){const o=n.chart.chartArea,{property:a,start:l,end:c}=s||{};if("x"===a||"y"===a){let u,d,p,f;"x"===a?(u=l,d=o.top,p=c,f=o.bottom):(u=o.left,d=l,p=o.right,f=c),t.beginPath(),i&&(u=Math.max(u,i.left),p=Math.min(p,i.right),d=Math.max(d,i.top),f=Math.min(f,i.bottom)),t.rect(u,d,p-u,f-d),t.clip()}}function Hme(t,n,i,s){const o=n.interpolate(i,s);o&&t.lineTo(o.x,o.y)}var Jst={id:"filler",afterDatasetsUpdate(t,n,i){const s=(t.data.datasets||[]).length,o=[];let a,l,c,u;for(l=0;l<s;++l)a=t.getDatasetMeta(l),c=a.dataset,u=null,c&&c.options&&c instanceof DA&&(u={visible:t.isDatasetVisible(l),index:l,fill:Fst(c,l,s),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=u,o.push(u);for(l=0;l<s;++l)u=o[l],u&&!1!==u.fill&&(u.fill=Lst(o,l,i.propagate))},beforeDraw(t,n,i){const s="beforeDraw"===i.drawTime,o=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let l=o.length-1;l>=0;--l){const c=o[l].$filler;c&&(c.line.updateControlPoints(a,c.axis),s&&c.fill&&nq(t.ctx,c,a))}},beforeDatasetsDraw(t,n,i){if("beforeDatasetsDraw"!==i.drawTime)return;const s=t.getSortedVisibleDatasetMetas();for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;$me(a)&&nq(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,n,i){const s=n.meta.$filler;!$me(s)||"beforeDatasetDraw"!==i.drawTime||nq(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ume=(t,n)=>{let{boxHeight:i=n,boxWidth:s=n}=t;return t.usePointStyle&&(i=Math.min(i,n),s=t.pointStyleWidth||Math.min(s,n)),{boxWidth:s,boxHeight:i,itemHeight:Math.max(n,i)}};class qme extends hm{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,i,s){this.maxWidth=n,this.maxHeight=i,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const n=this.options.labels||{};let i=Ks(n.generateLabels,[this.chart],this)||[];n.filter&&(i=i.filter(s=>n.filter(s,this.chart.data))),n.sort&&(i=i.sort((s,o)=>n.sort(s,o,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:n,ctx:i}=this;if(!n.display)return void(this.width=this.height=0);const s=n.labels,o=$a(s.font),a=o.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=Ume(s,a);let d,p;i.font=o.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(l,a,c,u)+10):(p=this.maxHeight,d=this._fitCols(l,o,c,u)+10),this.width=Math.min(d,n.maxWidth||this.maxWidth),this.height=Math.min(p,n.maxHeight||this.maxHeight)}_fitRows(n,i,s,o){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],p=o+c;let f=n;a.textAlign="left",a.textBaseline="middle";let h=-1,m=-p;return this.legendItems.forEach((y,E)=>{const _=s+i/2+a.measureText(y.text).width;(0===E||d[d.length-1]+_+2*c>l)&&(f+=p,d[d.length-(E>0?0:1)]=0,m+=p,h++),u[E]={left:0,top:m,row:h,width:_,height:o},d[d.length-1]+=_+c}),f}_fitCols(n,i,s,o){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],p=l-n;let f=c,h=0,m=0,y=0,E=0;return this.legendItems.forEach((_,S)=>{const{itemWidth:v,itemHeight:w}=function tot(t,n,i,s,o){const a=function not(t,n,i,s){let o=t.text;return o&&"string"!=typeof o&&(o=o.reduce((a,l)=>a.length>l.length?a:l)),n+i.size/2+s.measureText(o).width}(s,t,n,i),l=function rot(t,n,i){let s=t;return"string"!=typeof n.text&&(s=Wme(n,i)),s}(o,s,n.lineHeight);return{itemWidth:a,itemHeight:l}}(s,i,a,_,o);S>0&&m+w+2*c>p&&(f+=h+c,d.push({width:h,height:m}),y+=h+c,E++,h=m=0),u[S]={left:y,top:m,col:E,width:v,height:w},h=Math.max(h,v),m+=w+c}),f+=h,d.push({width:h,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const n=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:s,labels:{padding:o},rtl:a}}=this,l=s3(a,this.left,this.width);if(this.isHorizontal()){let c=0,u=ic(s,this.left+o,this.right-this.lineWidths[c]);for(const d of i)c!==d.row&&(c=d.row,u=ic(s,this.left+o,this.right-this.lineWidths[c])),d.top+=this.top+n+o,d.left=l.leftForLtr(l.x(u),d.width),u+=d.width+o}else{let c=0,u=ic(s,this.top+n+o,this.bottom-this.columnSizes[c].height);for(const d of i)d.col!==c&&(c=d.col,u=ic(s,this.top+n+o,this.bottom-this.columnSizes[c].height)),d.top=u,d.left+=this.left+o,d.left=l.leftForLtr(l.x(d.left),d.width),u+=d.height+o}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const n=this.ctx;hA(n,this),this._draw(),mA(n)}}_draw(){const{options:n,columnSizes:i,lineWidths:s,ctx:o}=this,{align:a,labels:l}=n,c=yo.color,u=s3(n.rtl,this.left,this.width),d=$a(l.font),{padding:p}=l,f=d.size,h=f/2;let m;this.drawTitle(),o.textAlign=u.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=d.string;const{boxWidth:y,boxHeight:E,itemHeight:_}=Ume(l,f),w=this.isHorizontal(),g=this._computeTitleHeight();m=w?{x:ic(a,this.left+p,this.right-s[0]),y:this.top+p+g,line:0}:{x:this.left+p,y:ic(a,this.top+g+p,this.bottom-i[0].height),line:0},k0e(this.ctx,n.textDirection);const x=_+p;this.legendItems.forEach((T,I)=>{o.strokeStyle=T.fontColor,o.fillStyle=T.fontColor;const A=o.measureText(T.text).width,$=u.textAlign(T.textAlign||(T.textAlign=l.textAlign)),z=y+h+A;let K=m.x,U=m.y;u.setWidth(this.width),w?I>0&&K+z+p>this.right&&(U=m.y+=x,m.line++,K=m.x=ic(a,this.left+p,this.right-s[m.line])):I>0&&U+x>this.bottom&&(K=m.x=K+i[m.line].width+p,m.line++,U=m.y=ic(a,this.top+g+p,this.bottom-i[m.line].height)),function(T,I,A){if(isNaN(y)||y<=0||isNaN(E)||E<0)return;o.save();const $=Jr(A.lineWidth,1);if(o.fillStyle=Jr(A.fillStyle,c),o.lineCap=Jr(A.lineCap,"butt"),o.lineDashOffset=Jr(A.lineDashOffset,0),o.lineJoin=Jr(A.lineJoin,"miter"),o.lineWidth=$,o.strokeStyle=Jr(A.strokeStyle,c),o.setLineDash(Jr(A.lineDash,[])),l.usePointStyle){const z={radius:E*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:$},K=u.xPlus(T,y/2);v0e(o,z,K,I+h,l.pointStyleWidth&&y)}else{const z=I+Math.max((f-E)/2,0),K=u.leftForLtr(T,y),U=Fb(A.borderRadius);o.beginPath(),Object.values(U).some(H=>0!==H)?h6(o,{x:K,y:z,w:y,h:E,radius:U}):o.rect(K,z,y,E),o.fill(),0!==$&&o.stroke()}o.restore()}(u.x(K),U,T),K=((t,n,i,s)=>t===(s?"left":"right")?i:"center"===t?(n+i)/2:n)($,K+y+h,w?K+z:this.right,n.rtl),function(T,I,A){Lb(o,A.text,T,I+_/2,d,{strikethrough:A.hidden,textAlign:u.textAlign(A.textAlign)})}(u.x(K),U,T),w?m.x+=z+p:m.y+="string"!=typeof T.text?Wme(T,d.lineHeight)+p:x}),M0e(this.ctx,n.textDirection)}drawTitle(){const n=this.options,i=n.title,s=$a(i.font),o=sc(i.padding);if(!i.display)return;const a=s3(n.rtl,this.left,this.width),l=this.ctx,c=i.position,d=o.top+s.size/2;let p,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),p=this.top+d,f=ic(n.align,f,this.right-h);else{const y=this.columnSizes.reduce((E,_)=>Math.max(E,_.height),0);p=d+ic(n.align,this.top,this.bottom-y-n.labels.padding-this._computeTitleHeight())}const m=ic(c,f,f+h);l.textAlign=a.textAlign(OU(c)),l.textBaseline="middle",l.strokeStyle=i.color,l.fillStyle=i.color,l.font=s.string,Lb(l,i.text,m,p,s)}_computeTitleHeight(){const n=this.options.title,i=$a(n.font),s=sc(n.padding);return n.display?i.lineHeight+s.height:0}_getLegendItemAt(n,i){let s,o,a;if(um(n,this.left,this.right)&&um(i,this.top,this.bottom))for(a=this.legendHitBoxes,s=0;s<a.length;++s)if(o=a[s],um(n,o.left,o.left+o.width)&&um(i,o.top,o.top+o.height))return this.legendItems[s];return null}handleEvent(n){const i=this.options;if(!function iot(t,n){return!(("mousemove"!==t&&"mouseout"!==t||!n.onHover&&!n.onLeave)&&(!n.onClick||"click"!==t&&"mouseup"!==t))}(n.type,i))return;const s=this._getLegendItemAt(n.x,n.y);if("mousemove"===n.type||"mouseout"===n.type){const o=this._hoveredItem,a=((t,n)=>null!==t&&null!==n&&t.datasetIndex===n.datasetIndex&&t.index===n.index)(o,s);o&&!a&&Ks(i.onLeave,[n,o,this],this),this._hoveredItem=s,s&&!a&&Ks(i.onHover,[n,s,this],this)}else s&&Ks(i.onClick,[n,s,this],this)}}function Wme(t,n){return n*(t.text?t.text.length:0)}var sot={id:"legend",_element:qme,start(t,n,i){const s=t.legend=new qme({ctx:t.ctx,options:i,chart:t});oc.configure(t,s,i),oc.addBox(t,s)},stop(t){oc.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,n,i){const s=t.legend;oc.configure(t,s,i),s.options=i},afterUpdate(t){const n=t.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(t,n){n.replay||t.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,n,i){const s=n.datasetIndex,o=i.chart;o.isDatasetVisible(s)?(o.hide(s),n.hidden=!0):(o.show(s),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const n=t.data.datasets,{labels:{usePointStyle:i,pointStyle:s,textAlign:o,color:a,useBorderRadius:l,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(i?0:void 0),p=sc(d.borderWidth);return{text:n[u.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:o||d.textAlign,borderRadius:l&&(c||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class rq extends hm{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,i){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=n,this.height=this.bottom=i;const o=ro(s.text)?s.text.length:1;this._padding=sc(s.padding);const a=o*$a(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const n=this.options.position;return"top"===n||"bottom"===n}_drawArgs(n){const{top:i,left:s,bottom:o,right:a,options:l}=this,c=l.align;let d,p,f,u=0;return this.isHorizontal()?(p=ic(c,s,a),f=i+n,d=a-s):("left"===l.position?(p=s+n,f=ic(c,o,i),u=-.5*io):(p=a-n,f=ic(c,i,o),u=.5*io),d=o-i),{titleX:p,titleY:f,maxWidth:d,rotation:u}}draw(){const n=this.ctx,i=this.options;if(!i.display)return;const s=$a(i.font),a=s.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:u,rotation:d}=this._drawArgs(a);Lb(n,i.text,0,0,s,{color:i.color,maxWidth:u,rotation:d,textAlign:OU(i.align),textBaseline:"middle",translation:[l,c]})}}var aot={id:"title",_element:rq,start(t,n,i){!function oot(t,n){const i=new rq({ctx:t.ctx,options:n,chart:t});oc.configure(t,i,n),oc.addBox(t,i),t.titleBlock=i}(t,i)},stop(t){oc.removeBox(t,t.titleBlock),delete t.titleBlock},beforeUpdate(t,n,i){const s=t.titleBlock;oc.configure(t,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const kA=new WeakMap;var lot={id:"subtitle",start(t,n,i){const s=new rq({ctx:t.ctx,options:i,chart:t});oc.configure(t,s,i),oc.addBox(t,s),kA.set(t,s)},stop(t){oc.removeBox(t,kA.get(t)),kA.delete(t)},beforeUpdate(t,n,i){const s=kA.get(t);oc.configure(t,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const C6={average(t){if(!t.length)return!1;let n,i,s=new Set,o=0,a=0;for(n=0,i=t.length;n<i;++n){const c=t[n].element;if(c&&c.hasValue()){const u=c.tooltipPosition();s.add(u.x),o+=u.y,++a}}return 0!==a&&0!==s.size&&{x:[...s].reduce((c,u)=>c+u)/s.size,y:o/a}},nearest(t,n){if(!t.length)return!1;let a,l,c,i=n.x,s=n.y,o=Number.POSITIVE_INFINITY;for(a=0,l=t.length;a<l;++a){const u=t[a].element;if(u&&u.hasValue()){const p=CU(n,u.getCenterPoint());p<o&&(o=p,c=u)}}if(c){const u=c.tooltipPosition();i=u.x,s=u.y}return{x:i,y:s}}};function Th(t,n){return n&&(ro(n)?Array.prototype.push.apply(t,n):t.push(n)),t}function mm(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function cot(t,n){const{element:i,datasetIndex:s,index:o}=n,a=t.getDatasetMeta(s).controller,{label:l,value:c}=a.getLabelAndValue(o);return{chart:t,label:l,parsed:a.getParsed(o),raw:t.data.datasets[s].data[o],formattedValue:c,dataset:a.getDataset(),dataIndex:o,datasetIndex:s,element:i}}function Gme(t,n){const i=t.chart.ctx,{body:s,footer:o,title:a}=t,{boxWidth:l,boxHeight:c}=n,u=$a(n.bodyFont),d=$a(n.titleFont),p=$a(n.footerFont),f=a.length,h=o.length,m=s.length,y=sc(n.padding);let E=y.height,_=0,S=s.reduce((g,x)=>g+x.before.length+x.lines.length+x.after.length,0);S+=t.beforeBody.length+t.afterBody.length,f&&(E+=f*d.lineHeight+(f-1)*n.titleSpacing+n.titleMarginBottom),S&&(E+=m*(n.displayColors?Math.max(c,u.lineHeight):u.lineHeight)+(S-m)*u.lineHeight+(S-1)*n.bodySpacing),h&&(E+=n.footerMarginTop+h*p.lineHeight+(h-1)*n.footerSpacing);let v=0;const w=function(g){_=Math.max(_,i.measureText(g).width+v)};return i.save(),i.font=d.string,hs(t.title,w),i.font=u.string,hs(t.beforeBody.concat(t.afterBody),w),v=n.displayColors?l+2+n.boxPadding:0,hs(s,g=>{hs(g.before,w),hs(g.lines,w),hs(g.after,w)}),v=0,i.font=p.string,hs(t.footer,w),i.restore(),_+=y.width,{width:_,height:E}}function pot(t,n,i,s){const{x:o,width:a}=i,{width:l,chartArea:{left:c,right:u}}=t;let d="center";return"center"===s?d=o<=(c+u)/2?"left":"right":o<=a/2?d="left":o>=l-a/2&&(d="right"),function dot(t,n,i,s){const{x:o,width:a}=s,l=i.caretSize+i.caretPadding;if("left"===t&&o+a+l>n.width||"right"===t&&o-a-l<0)return!0}(d,t,n,i)&&(d="center"),d}function Kme(t,n,i){const s=i.yAlign||n.yAlign||function uot(t,n){const{y:i,height:s}=n;return i<s/2?"top":i>t.height-s/2?"bottom":"center"}(t,i);return{xAlign:i.xAlign||n.xAlign||pot(t,n,i,s),yAlign:s}}function Yme(t,n,i,s){const{caretSize:o,caretPadding:a,cornerRadius:l}=t,{xAlign:c,yAlign:u}=i,d=o+a,{topLeft:p,topRight:f,bottomLeft:h,bottomRight:m}=Fb(l);let y=function fot(t,n){let{x:i,width:s}=t;return"right"===n?i-=s:"center"===n&&(i-=s/2),i}(n,c);const E=function hot(t,n,i){let{y:s,height:o}=t;return"top"===n?s+=i:s-="bottom"===n?o+i:o/2,s}(n,u,d);return"center"===u?"left"===c?y+=d:"right"===c&&(y-=d):"left"===c?y-=Math.max(p,h)+o:"right"===c&&(y+=Math.max(f,m)+o),{x:rl(y,0,s.width-n.width),y:rl(E,0,s.height-n.height)}}function MA(t,n,i){const s=sc(i.padding);return"center"===n?t.x+t.width/2:"right"===n?t.x+t.width-s.right:t.x+s.left}function Xme(t){return Th([],mm(t))}function Qme(t,n){const i=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return i?t.override(i):t}const Zme={beforeTitle:cm,title(t){if(t.length>0){const n=t[0],i=n.chart.data.labels,s=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return n.dataset.label||"";if(n.label)return n.label;if(s>0&&n.dataIndex<s)return i[n.dataIndex]}return""},afterTitle:cm,beforeBody:cm,beforeLabel:cm,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let n=t.dataset.label||"";n&&(n+=": ");const i=t.formattedValue;return wi(i)||(n+=i),n},labelColor(t){const i=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const i=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:cm,afterBody:cm,beforeFooter:cm,footer:cm,afterFooter:cm};function Eu(t,n,i,s){const o=t[n].call(i,s);return typeof o>"u"?Zme[n].call(i,s):o}let Jme=(()=>class t extends hm{static positioners=C6;constructor(i){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=i.chart,this.options=i.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(i){this.options=i,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const i=this._cachedAnimations;if(i)return i;const s=this.chart,o=this.options.setContext(this.getContext()),a=o.enabled&&s.options.animation&&o.animations,l=new V0e(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=function mot(t,n,i){return R1(t,{tooltip:n,tooltipItems:i,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(i,s){const{callbacks:o}=s,a=Eu(o,"beforeTitle",this,i),l=Eu(o,"title",this,i),c=Eu(o,"afterTitle",this,i);let u=[];return u=Th(u,mm(a)),u=Th(u,mm(l)),u=Th(u,mm(c)),u}getBeforeBody(i,s){return Xme(Eu(s.callbacks,"beforeBody",this,i))}getBody(i,s){const{callbacks:o}=s,a=[];return hs(i,l=>{const c={before:[],lines:[],after:[]},u=Qme(o,l);Th(c.before,mm(Eu(u,"beforeLabel",this,l))),Th(c.lines,Eu(u,"label",this,l)),Th(c.after,mm(Eu(u,"afterLabel",this,l))),a.push(c)}),a}getAfterBody(i,s){return Xme(Eu(s.callbacks,"afterBody",this,i))}getFooter(i,s){const{callbacks:o}=s,a=Eu(o,"beforeFooter",this,i),l=Eu(o,"footer",this,i),c=Eu(o,"afterFooter",this,i);let u=[];return u=Th(u,mm(a)),u=Th(u,mm(l)),u=Th(u,mm(c)),u}_createItems(i){const s=this._active,o=this.chart.data,a=[],l=[],c=[];let d,p,u=[];for(d=0,p=s.length;d<p;++d)u.push(cot(this.chart,s[d]));return i.filter&&(u=u.filter((f,h,m)=>i.filter(f,h,m,o))),i.itemSort&&(u=u.sort((f,h)=>i.itemSort(f,h,o))),hs(u,f=>{const h=Qme(i.callbacks,f);a.push(Eu(h,"labelColor",this,f)),l.push(Eu(h,"labelPointStyle",this,f)),c.push(Eu(h,"labelTextColor",this,f))}),this.labelColors=a,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=u,u}update(i,s){const o=this.options.setContext(this.getContext()),a=this._active;let l,c=[];if(a.length){const u=C6[o.position].call(this,a,this._eventPosition);c=this._createItems(o),this.title=this.getTitle(c,o),this.beforeBody=this.getBeforeBody(c,o),this.body=this.getBody(c,o),this.afterBody=this.getAfterBody(c,o),this.footer=this.getFooter(c,o);const d=this._size=Gme(this,o),p=Object.assign({},u,d),f=Kme(this.chart,o,p),h=Yme(o,p,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,l={opacity:1,x:h.x,y:h.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}else 0!==this.opacity&&(l={opacity:0});this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),i&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(i,s,o,a){const l=this.getCaretPosition(i,o,a);s.lineTo(l.x1,l.y1),s.lineTo(l.x2,l.y2),s.lineTo(l.x3,l.y3)}getCaretPosition(i,s,o){const{xAlign:a,yAlign:l}=this,{caretSize:c,cornerRadius:u}=o,{topLeft:d,topRight:p,bottomLeft:f,bottomRight:h}=Fb(u),{x:m,y}=i,{width:E,height:_}=s;let S,v,w,g,x,T;return"center"===l?(x=y+_/2,"left"===a?(S=m,v=S-c,g=x+c,T=x-c):(S=m+E,v=S+c,g=x-c,T=x+c),w=S):(v="left"===a?m+Math.max(d,f)+c:"right"===a?m+E-Math.max(p,h)-c:this.caretX,"top"===l?(g=y,x=g-c,S=v-c,w=v+c):(g=y+_,x=g+c,S=v+c,w=v-c),T=g),{x1:S,x2:v,x3:w,y1:g,y2:x,y3:T}}drawTitle(i,s,o){const a=this.title,l=a.length;let c,u,d;if(l){const p=s3(o.rtl,this.x,this.width);for(i.x=MA(this,o.titleAlign,o),s.textAlign=p.textAlign(o.titleAlign),s.textBaseline="middle",c=$a(o.titleFont),u=o.titleSpacing,s.fillStyle=o.titleColor,s.font=c.string,d=0;d<l;++d)s.fillText(a[d],p.x(i.x),i.y+c.lineHeight/2),i.y+=c.lineHeight+u,d+1===l&&(i.y+=o.titleMarginBottom-u)}}_drawColorBox(i,s,o,a,l){const c=this.labelColors[o],u=this.labelPointStyles[o],{boxHeight:d,boxWidth:p}=l,f=$a(l.bodyFont),h=MA(this,"left",l),m=a.x(h),E=s.y+(d<f.lineHeight?(f.lineHeight-d)/2:0);if(l.usePointStyle){const _={radius:Math.min(p,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},S=a.leftForLtr(m,p)+p/2,v=E+d/2;i.strokeStyle=l.multiKeyBackground,i.fillStyle=l.multiKeyBackground,MU(i,_,S,v),i.strokeStyle=c.borderColor,i.fillStyle=c.backgroundColor,MU(i,_,S,v)}else{i.lineWidth=ki(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,i.strokeStyle=c.borderColor,i.setLineDash(c.borderDash||[]),i.lineDashOffset=c.borderDashOffset||0;const _=a.leftForLtr(m,p),S=a.leftForLtr(a.xPlus(m,1),p-2),v=Fb(c.borderRadius);Object.values(v).some(w=>0!==w)?(i.beginPath(),i.fillStyle=l.multiKeyBackground,h6(i,{x:_,y:E,w:p,h:d,radius:v}),i.fill(),i.stroke(),i.fillStyle=c.backgroundColor,i.beginPath(),h6(i,{x:S,y:E+1,w:p-2,h:d-2,radius:v}),i.fill()):(i.fillStyle=l.multiKeyBackground,i.fillRect(_,E,p,d),i.strokeRect(_,E,p,d),i.fillStyle=c.backgroundColor,i.fillRect(S,E+1,p-2,d-2))}i.fillStyle=this.labelTextColors[o]}drawBody(i,s,o){const{body:a}=this,{bodySpacing:l,bodyAlign:c,displayColors:u,boxHeight:d,boxWidth:p,boxPadding:f}=o,h=$a(o.bodyFont);let m=h.lineHeight,y=0;const E=s3(o.rtl,this.x,this.width),_=function($){s.fillText($,E.x(i.x+y),i.y+m/2),i.y+=m+l},S=E.textAlign(c);let v,w,g,x,T,I,A;for(s.textAlign=c,s.textBaseline="middle",s.font=h.string,i.x=MA(this,S,o),s.fillStyle=o.bodyColor,hs(this.beforeBody,_),y=u&&"right"!==S?"center"===c?p/2+f:p+2+f:0,x=0,I=a.length;x<I;++x){for(v=a[x],w=this.labelTextColors[x],s.fillStyle=w,hs(v.before,_),g=v.lines,u&&g.length&&(this._drawColorBox(s,i,x,E,o),m=Math.max(h.lineHeight,d)),T=0,A=g.length;T<A;++T)_(g[T]),m=h.lineHeight;hs(v.after,_)}y=0,m=h.lineHeight,hs(this.afterBody,_),i.y-=l}drawFooter(i,s,o){const a=this.footer,l=a.length;let c,u;if(l){const d=s3(o.rtl,this.x,this.width);for(i.x=MA(this,o.footerAlign,o),i.y+=o.footerMarginTop,s.textAlign=d.textAlign(o.footerAlign),s.textBaseline="middle",c=$a(o.footerFont),s.fillStyle=o.footerColor,s.font=c.string,u=0;u<l;++u)s.fillText(a[u],d.x(i.x),i.y+c.lineHeight/2),i.y+=c.lineHeight+o.footerSpacing}}drawBackground(i,s,o,a){const{xAlign:l,yAlign:c}=this,{x:u,y:d}=i,{width:p,height:f}=o,{topLeft:h,topRight:m,bottomLeft:y,bottomRight:E}=Fb(a.cornerRadius);s.fillStyle=a.backgroundColor,s.strokeStyle=a.borderColor,s.lineWidth=a.borderWidth,s.beginPath(),s.moveTo(u+h,d),"top"===c&&this.drawCaret(i,s,o,a),s.lineTo(u+p-m,d),s.quadraticCurveTo(u+p,d,u+p,d+m),"center"===c&&"right"===l&&this.drawCaret(i,s,o,a),s.lineTo(u+p,d+f-E),s.quadraticCurveTo(u+p,d+f,u+p-E,d+f),"bottom"===c&&this.drawCaret(i,s,o,a),s.lineTo(u+y,d+f),s.quadraticCurveTo(u,d+f,u,d+f-y),"center"===c&&"left"===l&&this.drawCaret(i,s,o,a),s.lineTo(u,d+h),s.quadraticCurveTo(u,d,u+h,d),s.closePath(),s.fill(),a.borderWidth>0&&s.stroke()}_updateAnimationTarget(i){const s=this.chart,o=this.$animations,a=o&&o.x,l=o&&o.y;if(a||l){const c=C6[i.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=Gme(this,i),d=Object.assign({},c,this._size),p=Kme(s,i,d),f=Yme(i,d,p,s);(a._to!==f.x||l._to!==f.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(i){const s=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(s);const a={width:this.width,height:this.height},l={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const c=sc(s.padding);s.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(i.save(),i.globalAlpha=o,this.drawBackground(l,i,a,s),k0e(i,s.textDirection),l.y+=c.top,this.drawTitle(l,i,s),this.drawBody(l,i,s),this.drawFooter(l,i,s),M0e(i,s.textDirection),i.restore())}getActiveElements(){return this._active||[]}setActiveElements(i,s){const o=this._active,a=i.map(({datasetIndex:u,index:d})=>{const p=this.chart.getDatasetMeta(u);if(!p)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:p.data[d],index:d}}),l=!lA(o,a),c=this._positionChanged(a,s);(l||c)&&(this._active=a,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(i,s,o=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,l=this._active||[],c=this._getActiveElements(i,l,s,o),u=this._positionChanged(c,i),d=s||!lA(c,l)||u;return d&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:i.x,y:i.y},this.update(!0,s))),d}_getActiveElements(i,s,o,a){const l=this.options;if("mouseout"===i.type)return[];if(!a)return s.filter(u=>this.chart.data.datasets[u.datasetIndex]&&void 0!==this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index));const c=this.chart.getElementsAtEventForMode(i,l.mode,l,o);return l.reverse&&c.reverse(),c}_positionChanged(i,s){const{caretX:o,caretY:a,options:l}=this,c=C6[l.position].call(this,i,s);return!1!==c&&(o!==c.x||a!==c.y)}})();var yot=Object.freeze({__proto__:null,Colors:Rme,Decimation:Ist,Filler:Jst,Legend:sot,SubTitle:lot,Title:aot,Tooltip:{id:"tooltip",_element:Jme,positioners:C6,afterInit(t,n,i){i&&(t.tooltip=new Jme({chart:t,options:i}))},beforeUpdate(t,n,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,n,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const n=t.tooltip;if(n&&n._willRender()){const i={tooltip:n};if(!1===t.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0}))return;n.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,n){t.tooltip&&t.tooltip.handleEvent(n.event,n.replay,n.inChartArea)&&(n.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,n)=>n.bodyFont.size,boxWidth:(t,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Zme},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function ege(t){const n=this.getLabels();return t>=0&&t<n.length?n[t]:t}let Eot=(()=>class t extends zb{static id="category";static defaults={ticks:{callback:ege}};constructor(i){super(i),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(i){const s=this._addedLabels;if(s.length){const o=this.getLabels();for(const{index:a,label:l}of s)o[a]===l&&o.splice(a,1);this._addedLabels=[]}super.init(i)}parse(i,s){if(wi(i))return null;const o=this.getLabels();return((t,n)=>null===t?null:rl(Math.round(t),0,n))(s=isFinite(s)&&o[s]===i?s:function bot(t,n,i,s){const o=t.indexOf(n);return-1===o?((t,n,i,s)=>("string"==typeof n?(i=t.push(n)-1,s.unshift({index:i,label:n})):isNaN(n)&&(i=null),i))(t,n,i,s):o!==t.lastIndexOf(n)?i:o}(o,i,Jr(s,i),this._addedLabels),o.length-1)}determineDataLimits(){const{minDefined:i,maxDefined:s}=this.getUserBounds();let{min:o,max:a}=this.getMinMax(!0);"ticks"===this.options.bounds&&(i||(o=0),s||(a=this.getLabels().length-1)),this.min=o,this.max=a}buildTicks(){const i=this.min,s=this.max,o=this.options.offset,a=[];let l=this.getLabels();l=0===i&&s===l.length-1?l:l.slice(i,s+1),this._valueRange=Math.max(l.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let c=i;c<=s;c++)a.push({value:c});return a}getLabelForValue(i){return ege.call(this,i)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(i){return"number"!=typeof i&&(i=this.parse(i)),null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getPixelForTick(i){const s=this.ticks;return i<0||i>s.length-1?null:this.getPixelForValue(s[i].value)}getValueForPixel(i){return Math.round(this._startValue+this.getDecimalForPixel(i)*this._valueRange)}getBasePixel(){return this.bottom}})();function tge(t,n,{horizontal:i,minRotation:s}){const o=df(s),a=(i?Math.sin(o):Math.cos(o))||.001;return Math.min(n/a,.75*n*(""+t).length)}class AA extends zb{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,i){return wi(n)||("number"==typeof n||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){const{beginAtZero:n}=this.options,{minDefined:i,maxDefined:s}=this.getUserBounds();let{min:o,max:a}=this;const l=u=>o=i?o:u,c=u=>a=s?a:u;if(n){const u=Sh(o),d=Sh(a);u<0&&d<0?c(0):u>0&&d>0&&l(0)}if(o===a){let u=0===a?1:Math.abs(.05*a);c(a+u),n||l(o-u)}this.min=o,this.max=a}getTickLimit(){const n=this.options.ticks;let o,{maxTicksLimit:i,stepSize:s}=n;return s?(o=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),i=i||11),i&&(o=Math.min(i,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const n=this.options,i=n.ticks;let s=this.getTickLimit();s=Math.max(2,s);const l=function xot(t,n){const i=[],{bounds:o,step:a,min:l,max:c,precision:u,count:d,maxTicks:p,maxDigits:f,includeBounds:h}=t,m=a||1,y=p-1,{min:E,max:_}=n,S=!wi(l),v=!wi(c),w=!wi(d),g=(_-E)/(f+1);let T,I,A,$,x=t0e((_-E)/y/m)*m;if(x<1e-14&&!S&&!v)return[{value:E},{value:_}];$=Math.ceil(_/x)-Math.floor(E/x),$>y&&(x=t0e($*x/y/m)*m),wi(u)||(T=Math.pow(10,u),x=Math.ceil(x*T)/T),"ticks"===o?(I=Math.floor(E/x)*x,A=Math.ceil(_/x)*x):(I=E,A=_),S&&v&&a&&function cnt(t,n){const i=Math.round(t);return i-n<=t&&i+n>=t}((c-l)/a,x/1e3)?($=Math.round(Math.min((c-l)/x,p)),x=(c-l)/$,I=l,A=c):w?(I=S?l:I,A=v?c:A,$=d-1,x=(A-I)/$):($=(A-I)/x,$=c6($,Math.round($),x/1e3)?Math.round($):Math.ceil($));const z=Math.max(r0e(x),r0e(I));T=Math.pow(10,wi(u)?z:u),I=Math.round(I*T)/T,A=Math.round(A*T)/T;let K=0;for(S&&(h&&I!==l?(i.push({value:l}),I<l&&K++,c6(Math.round((I+K*x)*T)/T,l,tge(l,g,t))&&K++):I<l&&K++);K<$;++K){const U=Math.round((I+K*x)*T)/T;if(v&&U>c)break;i.push({value:U})}return v&&h&&A!==c?i.length&&c6(i[i.length-1].value,c,tge(c,g,t))?i[i.length-1].value=c:i.push({value:c}):(!v||A===c)&&i.push({value:A}),i}({maxTicks:s,bounds:n.bounds,min:n.min,max:n.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:!1!==i.includeBounds},this._range||this);return"ticks"===n.bounds&&n0e(l,this,"value"),n.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const n=this.ticks;let i=this.min,s=this.max;if(super.configure(),this.options.offset&&n.length){const o=(s-i)/Math.max(n.length-1,1)/2;i-=o,s+=o}this._startValue=i,this._endValue=s,this._valueRange=s-i}getLabelForValue(n){return p6(n,this.chart.options.locale,this.options.ticks.format)}}const S6=t=>Math.floor(I1(t)),Hb=(t,n)=>Math.pow(10,S6(t)+n);function nge(t){return t/Math.pow(10,S6(t))==1}function rge(t,n,i){const s=Math.pow(10,i),o=Math.floor(t/s);return Math.ceil(n/s)-o}function iq(t){const n=t.ticks;if(n.display&&t.display){const i=sc(n.backdropPadding);return Jr(n.font&&n.font.size,yo.font.size)+i.height}return 0}function Tot(t,n,i){return i=ro(i)?i:[i],{w:Ont(t,n.string,i),h:i.length*n.lineHeight}}function ige(t,n,i,s,o){return t===s||t===o?{start:n-i/2,end:n+i/2}:t<s||t>o?{start:n-i,end:n}:{start:n,end:n+i}}function Dot(t,n,i,s,o){const a=Math.abs(Math.sin(i)),l=Math.abs(Math.cos(i));let c=0,u=0;s.start<n.l?(c=(n.l-s.start)/a,t.l=Math.min(t.l,n.l-c)):s.end>n.r&&(c=(s.end-n.r)/a,t.r=Math.max(t.r,n.r+c)),o.start<n.t?(u=(n.t-o.start)/l,t.t=Math.min(t.t,n.t-u)):o.end>n.b&&(u=(o.end-n.b)/l,t.b=Math.max(t.b,n.b+u))}function kot(t,n,i){const s=t.drawingArea,{extra:o,additionalAngle:a,padding:l,size:c}=i,u=t.getPointPosition(n,s+o+l,a),d=Math.round(wU(ad(u.angle+ta))),p=function Not(t,n,i){return 90===i||270===i?t-=n/2:(i>270||i<90)&&(t-=n),t}(u.y,c.h,d),f=function Iot(t){return 0===t||180===t?"center":t<180?"left":"right"}(d),h=function Rot(t,n,i){return"right"===i?t-=n:"center"===i&&(t-=n/2),t}(u.x,c.w,f);return{visible:!0,x:u.x,y:p,textAlign:f,left:h,top:p,right:h+c.w,bottom:p+c.h}}function Mot(t,n){if(!n)return!0;const{left:i,top:s,right:o,bottom:a}=t;return!(pm({x:i,y:s},n)||pm({x:i,y:a},n)||pm({x:o,y:s},n)||pm({x:o,y:a},n))}function Lot(t,n,i){const{left:s,top:o,right:a,bottom:l}=i,{backdropColor:c}=n;if(!wi(c)){const u=Fb(n.borderRadius),d=sc(n.backdropPadding);t.fillStyle=c;const p=s-d.left,f=o-d.top,h=a-s+d.width,m=l-o+d.height;Object.values(u).some(y=>0!==y)?(t.beginPath(),h6(t,{x:p,y:f,w:h,h:m,radius:u}),t.fill()):t.fillRect(p,f,h,m)}}function sge(t,n,i,s){const{ctx:o}=t;if(i)o.arc(t.xCenter,t.yCenter,n,0,so);else{let a=t.getPointPosition(0,n);o.moveTo(a.x,a.y);for(let l=1;l<s;l++)a=t.getPointPosition(l,n),o.lineTo(a.x,a.y)}}const IA={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xu=Object.keys(IA);function oge(t,n){return t-n}function age(t,n){if(wi(n))return null;const i=t._adapter,{parser:s,round:o,isoWeekday:a}=t._parseOpts;let l=n;return"function"==typeof s&&(l=s(l)),Lo(l)||(l="string"==typeof s?i.parse(l,s):i.parse(l)),null===l?null:(o&&(l="week"!==o||!n3(a)&&!0!==a?i.startOf(l,o):i.startOf(l,"isoWeek",a)),+l)}function lge(t,n,i,s){const o=xu.length;for(let a=xu.indexOf(t);a<o-1;++a){const l=IA[xu[a]];if(l.common&&Math.ceil((i-n)/((l.steps?l.steps:Number.MAX_SAFE_INTEGER)*l.size))<=s)return xu[a]}return xu[o-1]}function cge(t,n,i){if(i){if(i.length){const{lo:s,hi:o}=SU(i,n);t[i[s]>=n?i[s]:i[o]]=!0}}else t[n]=!0}function uge(t,n,i){const s=[],o={},a=n.length;let l,c;for(l=0;l<a;++l)c=n[l],o[c]=l,s.push({value:c,major:!1});return 0!==a&&i?function Hot(t,n,i,s){const o=t._adapter,a=+o.startOf(n[0].value,s),l=n[n.length-1].value;let c,u;for(c=a;c<=l;c=+o.add(c,1,s))u=i[c],u>=0&&(n[u].major=!0);return n}(t,s,o,i):s}let sq=(()=>class t extends zb{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(i){super(i),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(i,s={}){const o=i.time||(i.time={}),a=this._adapter=new Wrt__date(i.adapters.date);a.init(s),a6(o.displayFormats,a.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(i),this._normalized=s.normalized}parse(i,s){return void 0===i?null:age(this,i)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const i=this.options,s=this._adapter,o=i.time.unit||"day";let{min:a,max:l,minDefined:c,maxDefined:u}=this.getUserBounds();function d(p){!c&&!isNaN(p.min)&&(a=Math.min(a,p.min)),!u&&!isNaN(p.max)&&(l=Math.max(l,p.max))}(!c||!u)&&(d(this._getLabelBounds()),("ticks"!==i.bounds||"labels"!==i.ticks.source)&&d(this.getMinMax(!1))),a=Lo(a)&&!isNaN(a)?a:+s.startOf(Date.now(),o),l=Lo(l)&&!isNaN(l)?l:+s.endOf(Date.now(),o)+1,this.min=Math.min(a,l-1),this.max=Math.max(a+1,l)}_getLabelBounds(){const i=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return i.length&&(s=i[0],o=i[i.length-1]),{min:s,max:o}}buildTicks(){const i=this.options,s=i.time,o=i.ticks,a="labels"===o.source?this.getLabelTimestamps():this._generate();"ticks"===i.bounds&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const l=this.min,u=function fnt(t,n,i){let s=0,o=t.length;for(;s<o&&t[s]<n;)s++;for(;o>s&&t[o-1]>i;)o--;return s>0||o<t.length?t.slice(s,o):t}(a,l,this.max);return this._unit=s.unit||(o.autoSkip?lge(s.minUnit,this.min,this.max,this._getLabelCapacity(l)):function jot(t,n,i,s,o){for(let a=xu.length-1;a>=xu.indexOf(i);a--){const l=xu[a];if(IA[l].common&&t._adapter.diff(o,s,l)>=n-1)return l}return xu[i?xu.indexOf(i):0]}(this,u.length,s.minUnit,this.min,this.max)),this._majorUnit=o.major.enabled&&"year"!==this._unit?function zot(t){for(let n=xu.indexOf(t)+1,i=xu.length;n<i;++n)if(IA[xu[n]].common)return xu[n]}(this._unit):void 0,this.initOffsets(a),i.reverse&&u.reverse(),uge(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(i=>+i.value))}initOffsets(i=[]){let a,l,s=0,o=0;this.options.offset&&i.length&&(a=this.getDecimalForValue(i[0]),s=1===i.length?1-a:(this.getDecimalForValue(i[1])-a)/2,l=this.getDecimalForValue(i[i.length-1]),o=1===i.length?l:(l-this.getDecimalForValue(i[i.length-2]))/2);const c=i.length<3?.5:.25;s=rl(s,0,c),o=rl(o,0,c),this._offsets={start:s,end:o,factor:1/(s+1+o)}}_generate(){const i=this._adapter,s=this.min,o=this.max,a=this.options,l=a.time,c=l.unit||lge(l.minUnit,s,o,this._getLabelCapacity(s)),u=Jr(a.ticks.stepSize,1),d="week"===c&&l.isoWeekday,p=n3(d)||!0===d,f={};let m,y,h=s;if(p&&(h=+i.startOf(h,"isoWeek",d)),h=+i.startOf(h,p?"day":c),i.diff(o,s,c)>1e5*u)throw new Error(s+" and "+o+" are too far apart with stepSize of "+u+" "+c);const E="data"===a.ticks.source&&this.getDataTimestamps();for(m=h,y=0;m<o;m=+i.add(m,u,c),y++)cge(f,m,E);return(m===o||"ticks"===a.bounds||1===y)&&cge(f,m,E),Object.keys(f).sort(oge).map(_=>+_)}getLabelForValue(i){const o=this.options.time;return this._adapter.format(i,o.tooltipFormat?o.tooltipFormat:o.displayFormats.datetime)}format(i,s){return this._adapter.format(i,s||this.options.time.displayFormats[this._unit])}_tickFormatFunction(i,s,o,a){const l=this.options,c=l.ticks.callback;if(c)return Ks(c,[i,s,o],this);const u=l.time.displayFormats,d=this._unit,p=this._majorUnit,h=p&&u[p],m=o[s];return this._adapter.format(i,a||(p&&h&&m&&m.major?h:d&&u[d]))}generateTickLabels(i){let s,o,a;for(s=0,o=i.length;s<o;++s)a=i[s],a.label=this._tickFormatFunction(a.value,s,i)}getDecimalForValue(i){return null===i?NaN:(i-this.min)/(this.max-this.min)}getPixelForValue(i){const s=this._offsets,o=this.getDecimalForValue(i);return this.getPixelForDecimal((s.start+o)*s.factor)}getValueForPixel(i){const s=this._offsets,o=this.getDecimalForPixel(i)/s.factor-s.end;return this.min+o*(this.max-this.min)}_getLabelSize(i){const s=this.options.ticks,o=this.ctx.measureText(i).width,a=df(this.isHorizontal()?s.maxRotation:s.minRotation),l=Math.cos(a),c=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:o*l+u*c,h:o*c+u*l}}_getLabelCapacity(i){const s=this.options.time,o=s.displayFormats,a=o[s.unit]||o.millisecond,l=this._tickFormatFunction(i,0,uge(this,[i],this._majorUnit),a),c=this._getLabelSize(l),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let s,o,i=this._cache.data||[];if(i.length)return i;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(s=0,o=a.length;s<o;++s)i=i.concat(a[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const i=this._cache.labels||[];let s,o;if(i.length)return i;const a=this.getLabels();for(s=0,o=a.length;s<o;++s)i.push(age(this,a[s]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(i){return a0e(i.sort(oge))}})();function RA(t,n,i){let a,l,c,u,s=0,o=t.length-1;i?(n>=t[s].pos&&n<=t[o].pos&&({lo:s,hi:o}=dm(t,"pos",n)),({pos:a,time:c}=t[s]),({pos:l,time:u}=t[o])):(n>=t[s].time&&n<=t[o].time&&({lo:s,hi:o}=dm(t,"time",n)),({time:a,pos:c}=t[s]),({time:l,pos:u}=t[o]));const d=l-a;return d?c+(u-c)*(n-a)/d:c}YU.register(qrt,wst,yot,Object.freeze({__proto__:null,CategoryScale:Eot,LinearScale:class wot extends AA{static id="linear";static defaults={ticks:{callback:pA.formatters.numeric}};determineDataLimits(){const{min:n,max:i}=this.getMinMax(!0);this.min=Lo(n)?n:0,this.max=Lo(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const n=this.isHorizontal(),i=n?this.width:this.height,s=df(this.options.ticks.minRotation),o=(n?Math.sin(s):Math.cos(s))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,a.lineHeight/o))}getPixelForValue(n){return null===n?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}},LogarithmicScale:class Oot extends zb{static id="logarithmic";static defaults={ticks:{callback:pA.formatters.logarithmic,major:{enabled:!0}}};constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,i){const s=AA.prototype.parse.apply(this,[n,i]);if(0!==s)return Lo(s)&&s>0?s:null;this._zero=!0}determineDataLimits(){const{min:n,max:i}=this.getMinMax(!0);this.min=Lo(n)?Math.max(0,n):null,this.max=Lo(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Lo(this._userMin)&&(this.min=n===Hb(this.min,0)?Hb(this.min,-1):Hb(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:n,maxDefined:i}=this.getUserBounds();let s=this.min,o=this.max;const a=c=>s=n?s:c,l=c=>o=i?o:c;s===o&&(s<=0?(a(1),l(10)):(a(Hb(s,-1)),l(Hb(o,1)))),s<=0&&a(Hb(o,-1)),o<=0&&l(Hb(s,1)),this.min=s,this.max=o}buildTicks(){const n=this.options,s=function Sot(t,{min:n,max:i}){n=od(t.min,n);const s=[],o=S6(n);let a=function Cot(t,n){let s=S6(n-t);for(;rge(t,n,s)>10;)s++;for(;rge(t,n,s)<10;)s--;return Math.min(s,S6(t))}(n,i),l=a<0?Math.pow(10,Math.abs(a)):1;const c=Math.pow(10,a),u=o>a?Math.pow(10,o):0,d=Math.round((n-u)*l)/l,p=Math.floor((n-u)/c/10)*c*10;let f=Math.floor((d-p)/Math.pow(10,a)),h=od(t.min,Math.round((u+p+f*Math.pow(10,a))*l)/l);for(;h<i;)s.push({value:h,major:nge(h),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(a++,f=2,l=a>=0?1:l),h=Math.round((u+p+f*Math.pow(10,a))*l)/l;const m=od(t.max,h);return s.push({value:m,major:nge(m),significand:f}),s}({min:this._userMin,max:this._userMax},this);return"ticks"===n.bounds&&n0e(s,this,"value"),n.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(n){return void 0===n?"0":p6(n,this.chart.options.locale,this.options.ticks.format)}configure(){const n=this.min;super.configure(),this._startValue=I1(n),this._valueRange=I1(this.max)-I1(n)}getPixelForValue(n){return(void 0===n||0===n)&&(n=this.min),null===n||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(I1(n)-this._startValue)/this._valueRange)}getValueForPixel(n){const i=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+i*this._valueRange)}},RadialLinearScale:class Vot extends AA{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:pA.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const n=this._padding=sc(iq(this.options)/2),i=this.width=this.maxWidth-n.width,s=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+i/2+n.left),this.yCenter=Math.floor(this.top+s/2+n.top),this.drawingArea=Math.floor(Math.min(i,s)/2)}determineDataLimits(){const{min:n,max:i}=this.getMinMax(!1);this.min=Lo(n)&&!isNaN(n)?n:0,this.max=Lo(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/iq(this.options))}generateTickLabels(n){AA.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((i,s)=>{const o=Ks(this.options.pointLabels.callback,[i,s],this);return o||0===o?o:""}).filter((i,s)=>this.chart.getDataVisibility(s))}fit(){const n=this.options;n.display&&n.pointLabels.display?function Pot(t){const n={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},n),s=[],o=[],a=t._pointLabels.length,l=t.options.pointLabels,c=l.centerPointLabels?io/a:0;for(let u=0;u<a;u++){const d=l.setContext(t.getPointLabelContext(u));o[u]=d.padding;const p=t.getPointPosition(u,t.drawingArea+o[u],c),f=$a(d.font),h=Tot(t.ctx,f,t._pointLabels[u]);s[u]=h;const m=ad(t.getIndexAngle(u)+c),y=Math.round(wU(m));Dot(i,n,m,ige(y,p.x,h.w,0,180),ige(y,p.y,h.h,90,270))}t.setCenterPoint(n.l-i.l,i.r-n.r,n.t-i.t,i.b-n.b),t._pointLabelItems=function Aot(t,n,i){const s=[],o=t._pointLabels.length,a=t.options,{centerPointLabels:l,display:c}=a.pointLabels,u={extra:iq(a)/2,additionalAngle:l?io/o:0};let d;for(let p=0;p<o;p++){u.padding=i[p],u.size=n[p];const f=kot(t,p,u);s.push(f),"auto"===c&&(f.visible=Mot(f,d),f.visible&&(d=f))}return s}(t,s,o)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,i,s,o){this.xCenter+=Math.floor((n-i)/2),this.yCenter+=Math.floor((s-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,i,s,o))}getIndexAngle(n){return ad(n*(so/(this._pointLabels.length||1))+df(this.options.startAngle||0))}getDistanceFromCenterForValue(n){if(wi(n))return NaN;const i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*i:(n-this.min)*i}getValueForDistanceFromCenter(n){if(wi(n))return NaN;const i=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(n){const i=this._pointLabels||[];if(n>=0&&n<i.length){const s=i[n];return function $ot(t,n,i){return R1(t,{label:i,index:n,type:"pointLabel"})}(this.getContext(),n,s)}}getPointPosition(n,i,s=0){const o=this.getIndexAngle(n)-ta+s;return{x:Math.cos(o)*i+this.xCenter,y:Math.sin(o)*i+this.yCenter,angle:o}}getPointPositionForValue(n,i){return this.getPointPosition(n,this.getDistanceFromCenterForValue(i))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){const{left:i,top:s,right:o,bottom:a}=this._pointLabelItems[n];return{left:i,top:s,right:o,bottom:a}}drawBackground(){const{backgroundColor:n,grid:{circular:i}}=this.options;if(n){const s=this.ctx;s.save(),s.beginPath(),sge(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),s.closePath(),s.fillStyle=n,s.fill(),s.restore()}}drawGrid(){const n=this.ctx,i=this.options,{angleLines:s,grid:o,border:a}=i,l=this._pointLabels.length;let c,u,d;if(i.pointLabels.display&&function Fot(t,n){const{ctx:i,options:{pointLabels:s}}=t;for(let o=n-1;o>=0;o--){const a=t._pointLabelItems[o];if(!a.visible)continue;const l=s.setContext(t.getPointLabelContext(o));Lot(i,l,a);const c=$a(l.font),{x:u,y:d,textAlign:p}=a;Lb(i,t._pointLabels[o],u,d+c.lineHeight/2,c,{color:l.color,textAlign:p,textBaseline:"middle"})}}(this,l),o.display&&this.ticks.forEach((p,f)=>{if(0!==f||0===f&&this.min<0){u=this.getDistanceFromCenterForValue(p.value);const h=this.getContext(f),m=o.setContext(h),y=a.setContext(h);!function Bot(t,n,i,s,o){const a=t.ctx,l=n.circular,{color:c,lineWidth:u}=n;!l&&!s||!c||!u||i<0||(a.save(),a.strokeStyle=c,a.lineWidth=u,a.setLineDash(o.dash||[]),a.lineDashOffset=o.dashOffset,a.beginPath(),sge(t,i,l,s),a.closePath(),a.stroke(),a.restore())}(this,m,u,l,y)}}),s.display){for(n.save(),c=l-1;c>=0;c--){const p=s.setContext(this.getPointLabelContext(c)),{color:f,lineWidth:h}=p;!h||!f||(n.lineWidth=h,n.strokeStyle=f,n.setLineDash(p.borderDash),n.lineDashOffset=p.borderDashOffset,u=this.getDistanceFromCenterForValue(i.reverse?this.min:this.max),d=this.getPointPosition(c,u),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(d.x,d.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){const n=this.ctx,i=this.options,s=i.ticks;if(!s.display)return;const o=this.getIndexAngle(0);let a,l;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(o),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((c,u)=>{if(0===u&&this.min>=0&&!i.reverse)return;const d=s.setContext(this.getContext(u)),p=$a(d.font);if(a=this.getDistanceFromCenterForValue(this.ticks[u].value),d.showLabelBackdrop){n.font=p.string,l=n.measureText(c.label).width,n.fillStyle=d.backdropColor;const f=sc(d.backdropPadding);n.fillRect(-l/2-f.left,-a-p.size/2-f.top,l+f.width,p.size+f.height)}Lb(n,c.label,0,-a,p,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),n.restore()}drawTitle(){}},TimeScale:sq,TimeSeriesScale:class Uot extends sq{static id="timeseries";static defaults=sq.defaults;constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const n=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(n);this._minPos=RA(i,this.min),this._tableRange=RA(i,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){const{min:i,max:s}=this,o=[],a=[];let l,c,u,d,p;for(l=0,c=n.length;l<c;++l)d=n[l],d>=i&&d<=s&&o.push(d);if(o.length<2)return[{time:i,pos:0},{time:s,pos:1}];for(l=0,c=o.length;l<c;++l)p=o[l+1],u=o[l-1],d=o[l],Math.round((p+u)/2)!==d&&a.push({time:d,pos:l/(c-1)});return a}_generate(){const n=this.min,i=this.max;let s=super.getDataTimestamps();return(!s.includes(n)||!s.length)&&s.splice(0,0,n),(!s.includes(i)||1===s.length)&&s.push(i),s.sort((o,a)=>o-a)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;const i=this.getDataTimestamps(),s=this.getLabelTimestamps();return n=i.length&&s.length?this.normalize(i.concat(s)):i.length?i:s,n=this._cache.all=n,n}getDecimalForValue(n){return(RA(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){const i=this._offsets,s=this.getDecimalForPixel(n)/i.factor-i.end;return RA(this._table,s*this._tableRange+this._minPos,!0)}}}));const oq=YU,Got=["chart1"];let Kot=(()=>{class t{constructor(i){this.execPlanService=i}ngAfterViewInit(){this.execPlanService.previewPlan().subscribe(i=>{this.chart?(this.chart.data=i,this.chart.update()):(oq.register(Rme),this.chart=new oq(this.chart1.nativeElement,{type:"line",data:i,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Instances start progression"}}}}))})}static{this.\u0275fac=function(s){return new(s||t)(Ut(Ch))}}static{this.\u0275cmp=Rc({type:t,selectors:[["app-optimize-preview"]],viewQuery:function(s,o){if(1&s&&Zl(Got,5),2&s){let a;Jl(a=ec())&&(o.chart1=a.first)}},standalone:!1,decls:3,vars:0,consts:[["chart1",""],[1,"mx-2","mt-2","mb-2","p-4",2,"max-height","400px"]],template:function(s,o){1&s&&(ce(0,"div",1),cn(1,"canvas",null,0),de())},encapsulation:2})}}return t})();function O6(t){no.call(this,t),this.on("import.parse.complete",function(n){n.error||this._collectIds(n.definitions,n.elementsById)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}function aq(t){return t&&t[t.length-1]}function dge(t){return t.y}function pge(t){return t.x}Jt(O6,no),O6.prototype._createModdle=function(t){var n=no.prototype._createModdle.call(this,t);return n.ids=new Yd([32,36,1]),n},O6.prototype._collectIds=function(t,n){var o,s=t.$model.ids;for(o in s.clear(),n)s.claim(o,n[o])};var Yot={left:pge,center:pge,right:function(t){return t.x+t.width},top:dge,middle:dge,bottom:function(t){return t.y+t.height}};function a3(t,n){this._modeling=t,this._rules=n}a3.$inject=["modeling","rules"],a3.prototype._getOrientationDetails=function(t){var i="x",s="width";return-1!==["top","bottom","middle"].indexOf(t)&&(i="y",s="height"),{axis:i,dimension:s}},a3.prototype._isType=function(t,n){return-1!==n.indexOf(t)},a3.prototype._alignmentPosition=function(t,n){var u,d,p,i=this._getOrientationDetails(t),s=i.axis,o=i.dimension,a={},l={},c=!1;if(this._isType(t,["left","top"]))a[t]=n[0][s];else if(this._isType(t,["right","bottom"]))p=aq(n),a[t]=p[s]+p[o];else if(this._isType(t,["center","middle"])){if(fe(n,function(h){var m=h[s]+Math.round(h[o]/2);l[m]?l[m].elements.push(h):l[m]={elements:[h],center:m}}),u=ba(l,function(h){return h.elements.length>1&&(c=!0),h.elements.length}),c)return a[t]=aq(u).center,a;d=n[0],p=aq(n=ba(n,function(h){return h[s]+h[o]})),a[t]=function f(h,m){return Math.round((h[s]+m[s]+m[o])/2)}(d,p)}return a},a3.prototype.trigger=function(t,n){var s,i=this._modeling,o=Bn(t,function(u){return!(u.waypoints||u.host||u.labelTarget)});if(Xt(s=this._rules.allowed("elements.align",{elements:o}))&&(o=s),!(o.length<2)&&s){var l=ba(o,Yot[n]),c=this._alignmentPosition(n,l);i.alignElements(l,c)}};const fge={__init__:["alignElements"],alignElements:["type",a3]},Xot=new Vx;function l3(t){this._scheduled={},t.on("diagram.destroy",()=>{Object.keys(this._scheduled).forEach(n=>{this.cancel(n)})})}l3.$inject=["eventBus"],l3.prototype.schedule=function(t,n=Xot.next()){this.cancel(n);const i=this._schedule(t,n);return this._scheduled[n]=i,i.promise},l3.prototype._schedule=function(t,n){const i=function Qot(){const t={};return t.promise=new Promise((n,i)=>{t.resolve=n,t.reject=i}),t}();return{executionId:setTimeout(()=>{try{this._scheduled[n]=null;try{i.resolve(t())}catch(o){i.reject(o)}}catch(o){console.error("Scheduler#_schedule execution failed",o)}}),promise:i.promise}},l3.prototype.cancel=function(t){const n=this._scheduled[t];n&&(this._cancel(n),this._scheduled[t]=null)},l3.prototype._cancel=function(t){clearTimeout(t.executionId)};const Zot={scheduler:["type",l3]};var NA=".entry";function Fo(t,n,i,s){this._canvas=t,this._elementRegistry=n,this._eventBus=i,this._scheduler=s,this._current=null,this._init()}Fo.$inject=["canvas","elementRegistry","eventBus","scheduler"],Fo.prototype._init=function(){var t=this;this._eventBus.on("selection.changed",function(n){var i=n.newSelection,s=i.length?1===i.length?i[0]:i:null;s?t.open(s,!0):t.close()}),this._eventBus.on("elements.changed",function(n){var i=n.elements,s=t._current;if(s){var o=s.target,a=Xt(o)?o:[o];if(a.filter(function(u){return i.includes(u)}).length){t.close();var c=a.filter(function(u){return t._elementRegistry.get(u.id)});c.length&&t._updateAndOpen(c.length>1?c:c[0])}}}),this._eventBus.on("canvas.viewbox.changed",function(){t._updatePosition()}),this._eventBus.on("element.marker.update",function(n){if(t.isOpen()){var i=n.element,s=t._current;(Xt(s.target)?s.target:[s.target]).includes(i)&&t._updateVisibility()}}),this._container=this._createContainer()},Fo.prototype._createContainer=function(){var t=Xr('<div class="djs-context-pad-parent"></div>');return this._canvas.getContainer().appendChild(t),t},Fo.prototype.registerProvider=function(t,n){n||(n=t,t=1e3),this._eventBus.on("contextPad.getProviders",t,function(i){i.providers.push(n)})},Fo.prototype.getEntries=function(t){var n=this._getProviders(),i=Xt(t)?"getMultiElementContextPadEntries":"getContextPadEntries",s={};return fe(n,function(o){if(Ar(o[i])){var a=o[i](t);Ar(a)?s=a(s):fe(a,function(l,c){s[c]=l})}}),s},Fo.prototype.trigger=function(t,n,i){var o,a,s=this,l=n.delegateTarget||n.target;return l?(o=xa(l,"data-action"),a=n.originalEvent||n,"mouseover"!==t?"mouseout"===t?(clearTimeout(this._timeout),void(this._mouseout&&(this._mouseout(),this._mouseout=null))):this.triggerEntry(o,t,a,i):void(this._timeout=setTimeout(function(){s._mouseout=s.triggerEntry(o,"hover",a,i)},300))):n.preventDefault()},Fo.prototype.triggerEntry=function(t,n,i,s){if(this.isShown()){var o=this._current.target,l=this._current.entries[t];if(l){var c=l.action;if(!1!==this._eventBus.fire("contextPad.trigger",{entry:l,event:i})){if(Ar(c)){if("click"===n)return c(i,o,s)}else if(c[n])return c[n](i,o,s);i.preventDefault()}}}},Fo.prototype.open=function(t,n){!n&&this.isOpen(t)||(this.close(),this._updateAndOpen(t))},Fo.prototype._getProviders=function(){var t=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(t),t.providers},Fo.prototype._updateAndOpen=function(t){var s,n=this.getEntries(t),i=this._createHtml(t);fe(n,function(o,a){var u,l=o.group||"default",c=Xr(o.html||'<div class="entry" draggable="true"></div>');xa(c,"data-action",a),(u=$n("[data-group="+Sb(l)+"]",i))||(xa(u=Xr('<div class="group"></div>'),"data-group",l),i.appendChild(u)),u.appendChild(c),o.className&&function nat(t,n){var i=br(t);(n=Xt(n)?n:n.split(/\s+/g)).forEach(function(s){i.add(s)})}(c,o.className),o.title&&xa(c,"title",o.title),o.imageUrl&&(xa(s=Xr("<img>"),"src",o.imageUrl),s.style.width="100%",s.style.height="100%",c.appendChild(s))}),br(i).add("open"),this._current={entries:n,html:i,target:t},this._updatePosition(),this._updateVisibility(),this._eventBus.fire("contextPad.open",{current:this._current})},Fo.prototype._createHtml=function(t){var n=this,i=Xr('<div class="djs-context-pad"></div>');return kl_bind(i,NA,"click",function(s){n.trigger("click",s)}),kl_bind(i,NA,"dragstart",function(s){n.trigger("dragstart",s)}),kl_bind(i,NA,"mouseover",function(s){n.trigger("mouseover",s)}),kl_bind(i,NA,"mouseout",function(s){n.trigger("mouseout",s)}),mn.bind(i,"mousedown",function(s){s.stopPropagation()}),this._container.appendChild(i),this._eventBus.fire("contextPad.create",{target:t,pad:i}),i},Fo.prototype.getPad=function(t){let n;return console.warn(new Error("ContextPad#getPad is deprecated and will be removed in future library versions, cf. https://github.com/bpmn-io/diagram-js/pull/888")),n=this.isOpen()&&function iat(t,n){return t=Xt(t)?t:[t],n=Xt(n)?n:[n],t.length===n.length&&yu(t,function(i){return n.includes(i)})}(this._current.target,t)?this._current.html:this._createHtml(t),{html:n}},Fo.prototype.close=function(){this.isOpen()&&(clearTimeout(this._timeout),this._container.innerHTML="",this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},Fo.prototype.isOpen=function(t){var n=this._current;if(!n)return!1;if(!t)return!0;var i=n.target;return Xt(t)===Xt(i)&&(Xt(t)?t.length===i.length&&yu(t,function(s){return i.includes(s)}):i===t)},Fo.prototype.isShown=function(){return this.isOpen()&&br(this._current.html).has("open")},Fo.prototype.show=function(){this.isOpen()&&(br(this._current.html).add("open"),this._updatePosition(),this._eventBus.fire("contextPad.show",{current:this._current}))},Fo.prototype.hide=function(){this.isOpen()&&(br(this._current.html).remove("open"),this._eventBus.fire("contextPad.hide",{current:this._current}))},Fo.prototype._getPosition=function(t){if(!Xt(t)&&Zi(t)){var n=this._canvas.viewbox(),i=function rat(t){return t.waypoints[t.waypoints.length-1]}(t),o=i.y*n.scale-n.y*n.scale;return{left:i.x*n.scale-n.x*n.scale+8*this._canvas.zoom(),top:o}}var l=this._canvas.getContainer().getBoundingClientRect(),c=this._getTargetBounds(t);return{left:c.right-l.left+8*this._canvas.zoom(),top:c.top-l.top}},Fo.prototype._updatePosition=function(){this._scheduler.schedule(()=>{if(this.isOpen()){var n=this._current.html,i=this._getPosition(this._current.target);"x"in i&&"y"in i?(n.style.left=i.x+"px",n.style.top=i.y+"px"):["top","right","bottom","left"].forEach(function(s){s in i&&(n.style[s]=i[s]+"px")})}},"ContextPad#_updatePosition")},Fo.prototype._updateVisibility=function(){this._scheduler.schedule(()=>{if(this.isOpen()){var n=this,i=this._current.target;(Xt(i)?i:[i]).some(function(a){return n._canvas.hasMarker(a,"djs-element-hidden")})?n.hide():n.show()}},"ContextPad#_updateVisibility")},Fo.prototype._getTargetBounds=function(t){var n=this;return(Xt(t)?t:[t]).map(function(o){return n._canvas.getGraphics(o)}).reduce(function(o,a){const l=a.getBoundingClientRect();return o.top=Math.min(o.top,l.top),o.right=Math.max(o.right,l.right),o.bottom=Math.max(o.bottom,l.bottom),o.left=Math.min(o.left,l.left),o.x=o.left,o.y=o.top,o.width=o.right-o.left,o.height=o.bottom-o.top,o},{top:1/0,right:-1/0,bottom:-1/0,left:1/0})};const lq={__depends__:[U7,Zot,jx],contextPad:["type",Fo]};var T6,er,mge,Ub,gge,yge,vge,bge,cq,uq,dq,_ge,P6={},Ege=[],oat=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,D6=Array.isArray;function Ph(t,n){for(var i in n)t[i]=n[i];return t}function pq(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Qt(t,n,i){var s,o,a,l={};for(a in n)"key"==a?s=n[a]:"ref"==a?o=n[a]:l[a]=n[a];if(arguments.length>2&&(l.children=arguments.length>3?T6.call(arguments,2):i),"function"==typeof t&&null!=t.defaultProps)for(a in t.defaultProps)null==l[a]&&(l[a]=t.defaultProps[a]);return k6(t,l,s,o,null)}function k6(t,n,i,s,o){var a={type:t,props:n,key:i,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++mge,__i:-1,__u:0};return null==o&&null!=er.vnode&&er.vnode(a),a}function wa(t){return t.children}function Dh(t,n){this.props=t,this.context=n}function c3(t,n){if(null==n)return t.__?c3(t.__,t.__i+1):null;for(var i;n<t.__k.length;n++)if(null!=(i=t.__k[n])&&null!=i.__e)return i.__e;return"function"==typeof t.type?c3(t):null}function xge(t){var n,i;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(i=t.__k[n])&&null!=i.__e){t.__e=t.__c.base=i.__e;break}return xge(t)}}function fq(t){(!t.__d&&(t.__d=!0)&&Ub.push(t)&&!LA.__r++||gge!=er.debounceRendering)&&((gge=er.debounceRendering)||yge)(LA)}function LA(){for(var t,n,i,s,o,a,l,c=1;Ub.length;)Ub.length>c&&Ub.sort(vge),t=Ub.shift(),c=Ub.length,t.__d&&(i=void 0,o=(s=(n=t).__v).__e,a=[],l=[],n.__P&&((i=Ph({},s)).__v=s.__v+1,er.vnode&&er.vnode(i),hq(n.__P,i,s,n.__n,n.__P.namespaceURI,32&s.__u?[o]:null,a,o??c3(s),!!(32&s.__u),l),i.__v=s.__v,i.__.__k[i.__i]=i,Tge(a,i,l),i.__e!=o&&xge(i)));LA.__r=0}function wge(t,n,i,s,o,a,l,c,u,d,p){var f,h,m,y,E,_,S=s&&s.__k||Ege,v=n.length;for(u=function lat(t,n,i,s,o){var a,l,c,u,d,p=i.length,f=p,h=0;for(t.__k=new Array(o),a=0;a<o;a++)null!=(l=n[a])&&"boolean"!=typeof l&&"function"!=typeof l?(u=a+h,(l=t.__k[a]="string"==typeof l||"number"==typeof l||"bigint"==typeof l||l.constructor==String?k6(null,l,null,null,null):D6(l)?k6(wa,{children:l},null,null,null):null==l.constructor&&l.__b>0?k6(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=t,l.__b=t.__b+1,c=null,-1!=(d=l.__i=cat(l,i,u,f))&&(f--,(c=i[d])&&(c.__u|=2)),null==c||null==c.__v?(-1==d&&(o>p?h--:o<p&&h++),"function"!=typeof l.type&&(l.__u|=4)):d!=u&&(d==u-1?h--:d==u+1?h++:(d>u?h--:h++,l.__u|=4))):t.__k[a]=null;if(f)for(a=0;a<p;a++)null!=(c=i[a])&&!(2&c.__u)&&(c.__e==s&&(s=c3(c)),Dge(c,c));return s}(i,n,S,u,v),f=0;f<v;f++)null!=(m=i.__k[f])&&(h=-1==m.__i?P6:S[m.__i]||P6,m.__i=f,_=hq(t,m,h,o,a,l,c,u,d,p),y=m.__e,m.ref&&h.ref!=m.ref&&(h.ref&&mq(h.ref,null,m),p.push(m.ref,m.__c||y,m)),null==E&&null!=y&&(E=y),4&m.__u||h.__k===m.__k?u=Cge(m,u,t):"function"==typeof m.type&&void 0!==_?u=_:y&&(u=y.nextSibling),m.__u&=-7);return i.__e=E,u}function Cge(t,n,i){var s,o;if("function"==typeof t.type){for(s=t.__k,o=0;s&&o<s.length;o++)s[o]&&(s[o].__=t,n=Cge(s[o],n,i));return n}t.__e!=n&&(n&&t.type&&!i.contains(n)&&(n=c3(t)),i.insertBefore(t.__e,n||null),n=t.__e);do{n=n&&n.nextSibling}while(null!=n&&8==n.nodeType);return n}function gm(t,n){return n=n||[],null==t||"boolean"==typeof t||(D6(t)?t.some(function(i){gm(i,n)}):n.push(t)),n}function cat(t,n,i,s){var o,a,l=t.key,c=t.type,u=n[i];if(null===u&&null==t.key||u&&l==u.key&&c==u.type&&!(2&u.__u))return i;if(s>(null==u||2&u.__u?0:1))for(o=i-1,a=i+1;o>=0||a<n.length;){if(o>=0){if((u=n[o])&&!(2&u.__u)&&l==u.key&&c==u.type)return o;o--}if(a<n.length){if((u=n[a])&&!(2&u.__u)&&l==u.key&&c==u.type)return a;a++}}return-1}function Sge(t,n,i){"-"==n[0]?t.setProperty(n,i??""):t[n]=null==i?"":"number"!=typeof i||oat.test(n)?i:i+"px"}function FA(t,n,i,s,o){var a;e:if("style"==n)if("string"==typeof i)t.style.cssText=i;else{if("string"==typeof s&&(t.style.cssText=s=""),s)for(n in s)i&&n in i||Sge(t.style,n,"");if(i)for(n in i)s&&i[n]==s[n]||Sge(t.style,n,i[n])}else if("o"==n[0]&&"n"==n[1])a=n!=(n=n.replace(bge,"$1")),n=n.toLowerCase()in t||"onFocusOut"==n||"onFocusIn"==n?n.toLowerCase().slice(2):n.slice(2),t.l||(t.l={}),t.l[n+a]=i,i?s?i.u=s.u:(i.u=cq,t.addEventListener(n,a?dq:uq,a)):t.removeEventListener(n,a?dq:uq,a);else{if("http://www.w3.org/2000/svg"==o)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=n&&"height"!=n&&"href"!=n&&"list"!=n&&"form"!=n&&"tabIndex"!=n&&"download"!=n&&"rowSpan"!=n&&"colSpan"!=n&&"role"!=n&&"popover"!=n&&n in t)try{t[n]=i??"";break e}catch{}"function"==typeof i||(null==i||!1===i&&"-"!=n[4]?t.removeAttribute(n):t.setAttribute(n,"popover"==n&&1==i?"":i))}}function Oge(t){return function(n){if(this.l){var i=this.l[n.type+t];if(null==n.t)n.t=cq++;else if(n.t<i.u)return;return i(er.event?er.event(n):n)}}}function hq(t,n,i,s,o,a,l,c,u,d){var p,f,h,m,y,E,_,S,v,w,g,x,T,I,A,$,z,K=n.type;if(null!=n.constructor)return null;128&i.__u&&(u=!!(32&i.__u),a=[c=n.__e=i.__e]),(p=er.__b)&&p(n);e:if("function"==typeof K)try{if(S=n.props,v="prototype"in K&&K.prototype.render,w=(p=K.contextType)&&s[p.__c],g=p?w?w.props.value:p.__:s,i.__c?_=(f=n.__c=i.__c).__=f.__E:(v?n.__c=f=new K(S,g):(n.__c=f=new Dh(S,g),f.constructor=K,f.render=dat),w&&w.sub(f),f.props=S,f.state||(f.state={}),f.context=g,f.__n=s,h=f.__d=!0,f.__h=[],f._sb=[]),v&&null==f.__s&&(f.__s=f.state),v&&null!=K.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=Ph({},f.__s)),Ph(f.__s,K.getDerivedStateFromProps(S,f.__s))),m=f.props,y=f.state,f.__v=n,h)v&&null==K.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),v&&null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(v&&null==K.getDerivedStateFromProps&&S!==m&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(S,g),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(S,f.__s,g)||n.__v==i.__v){for(n.__v!=i.__v&&(f.props=S,f.state=f.__s,f.__d=!1),n.__e=i.__e,n.__k=i.__k,n.__k.some(function(U){U&&(U.__=n)}),x=0;x<f._sb.length;x++)f.__h.push(f._sb[x]);f._sb=[],f.__h.length&&l.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(S,f.__s,g),v&&null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(m,y,E)})}if(f.context=g,f.props=S,f.__P=t,f.__e=!1,T=er.__r,I=0,v){for(f.state=f.__s,f.__d=!1,T&&T(n),p=f.render(f.props,f.state,f.context),A=0;A<f._sb.length;A++)f.__h.push(f._sb[A]);f._sb=[]}else do{f.__d=!1,T&&T(n),p=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++I<25);f.state=f.__s,null!=f.getChildContext&&(s=Ph(Ph({},s),f.getChildContext())),v&&!h&&null!=f.getSnapshotBeforeUpdate&&(E=f.getSnapshotBeforeUpdate(m,y)),$=p,null!=p&&p.type===wa&&null==p.key&&($=Pge(p.props.children)),c=wge(t,D6($)?$:[$],n,i,s,o,a,l,c,u,d),f.base=n.__e,n.__u&=-161,f.__h.length&&l.push(f),_&&(f.__E=f.__=null)}catch(U){if(n.__v=null,u||null!=a)if(U.then){for(n.__u|=u?160:128;c&&8==c.nodeType&&c.nextSibling;)c=c.nextSibling;a[a.indexOf(c)]=null,n.__e=c}else for(z=a.length;z--;)pq(a[z]);else n.__e=i.__e,n.__k=i.__k;er.__e(U,n,i)}else null==a&&n.__v==i.__v?(n.__k=i.__k,n.__e=i.__e):c=n.__e=function uat(t,n,i,s,o,a,l,c,u){var d,p,f,h,m,y,E,_=i.props,S=n.props,v=n.type;if("svg"==v?o="http://www.w3.org/2000/svg":"math"==v?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),null!=a)for(d=0;d<a.length;d++)if((m=a[d])&&"setAttribute"in m==!!v&&(v?m.localName==v:3==m.nodeType)){t=m,a[d]=null;break}if(null==t){if(null==v)return document.createTextNode(S);t=document.createElementNS(o,v,S.is&&S),c&&(er.__m&&er.__m(n,a),c=!1),a=null}if(null==v)_===S||c&&t.data==S||(t.data=S);else{if(a=a&&T6.call(t.childNodes),_=i.props||P6,!c&&null!=a)for(_={},d=0;d<t.attributes.length;d++)_[(m=t.attributes[d]).name]=m.value;for(d in _)if(m=_[d],"children"!=d)if("dangerouslySetInnerHTML"==d)f=m;else if(!(d in S)){if("value"==d&&"defaultValue"in S||"checked"==d&&"defaultChecked"in S)continue;FA(t,d,null,m,o)}for(d in S)m=S[d],"children"==d?h=m:"dangerouslySetInnerHTML"==d?p=m:"value"==d?y=m:"checked"==d?E=m:c&&"function"!=typeof m||_[d]===m||FA(t,d,m,_[d],o);if(p)c||f&&(p.__html==f.__html||p.__html==t.innerHTML)||(t.innerHTML=p.__html),n.__k=[];else if(f&&(t.innerHTML=""),wge("template"==n.type?t.content:t,D6(h)?h:[h],n,i,s,"foreignObject"==v?"http://www.w3.org/1999/xhtml":o,a,l,a?a[0]:i.__k&&c3(i,0),c,u),null!=a)for(d=a.length;d--;)pq(a[d]);c||(d="value","progress"==v&&null==y?t.removeAttribute("value"):null!=y&&(y!==t[d]||"progress"==v&&!y||"option"==v&&y!=_[d])&&FA(t,d,y,_[d],o),d="checked",null!=E&&E!=t[d]&&FA(t,d,E,_[d],o))}return t}(i.__e,n,i,s,o,a,l,u,d);return(p=er.diffed)&&p(n),128&n.__u?void 0:c}function Tge(t,n,i){for(var s=0;s<i.length;s++)mq(i[s],i[++s],i[++s]);er.__c&&er.__c(n,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(a){a.call(o)})}catch(a){er.__e(a,o.__v)}})}function Pge(t){return"object"!=typeof t||null==t||t.__b&&t.__b>0?t:D6(t)?t.map(Pge):Ph({},t)}function mq(t,n,i){try{if("function"==typeof t){var s="function"==typeof t.__u;s&&t.__u(),s&&null==n||(t.__u=t(n))}else t.current=n}catch(o){er.__e(o,i)}}function Dge(t,n,i){var s,o;if(er.unmount&&er.unmount(t),(s=t.ref)&&(s.current&&s.current!=t.__e||mq(s,null,n)),null!=(s=t.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(a){er.__e(a,n)}s.base=s.__P=null}if(s=t.__k)for(o=0;o<s.length;o++)s[o]&&Dge(s[o],n,i||"function"!=typeof t.type);i||pq(t.__e),t.__c=t.__=t.__e=void 0}function dat(t,n,i){return this.constructor(t,i)}function ym(t,n,i){var s,o,a,l;n==document&&(n=document.documentElement),er.__&&er.__(t,n),o=(s="function"==typeof i)?null:i&&i.__k||n.__k,a=[],l=[],hq(n,t=(!s&&i||n).__k=Qt(wa,null,[t]),o||P6,P6,n.namespaceURI,!s&&i?[i]:o?null:n.firstChild?T6.call(n.childNodes):null,a,!s&&i?i:o?o.__e:n.firstChild,s,l),Tge(a,t,l)}function BA(t){function n(i){var s,o;return this.getChildContext||(s=new Set,(o={})[n.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){s=null},this.shouldComponentUpdate=function(a){this.props.value!=a.value&&s.forEach(function(l){l.__e=!0,fq(l)})},this.sub=function(a){s.add(a);var l=a.componentWillUnmount;a.componentWillUnmount=function(){s&&s.delete(a),l&&l.call(a)}}),i.children}return n.__c="__cC"+_ge++,n.__=t,n.Provider=n.__l=(n.Consumer=function(i,s){return i.children(s)}).contextType=n,n}T6=Ege.slice,er={__e:function(t,n,i,s){for(var o,a,l;n=n.__;)if((o=n.__c)&&!o.__)try{if((a=o.constructor)&&null!=a.getDerivedStateFromError&&(o.setState(a.getDerivedStateFromError(t)),l=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(t,s||{}),l=o.__d),l)return o.__E=o}catch(c){t=c}throw t}},mge=0,Dh.prototype.setState=function(t,n){var i;i=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=Ph({},this.state),"function"==typeof t&&(t=t(Ph({},i),this.props)),t&&Ph(i,t),null!=t&&this.__v&&(n&&this._sb.push(n),fq(this))},Dh.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),fq(this))},Dh.prototype.render=wa,Ub=[],yge="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,vge=function(t,n){return t.__v.__b-n.__v.__b},LA.__r=0,bge=/(PointerCapture)$|Capture$/i,cq=0,uq=Oge(!1),dq=Oge(!0),_ge=0;var vm,Ps,gq,Ige,Mge=function(t,n,i,s){var o;n[0]=0;for(var a=1;a<n.length;a++){var l=n[a++],c=n[a]?(n[0]|=l?1:2,i[n[a++]]):n[++a];3===l?s[0]=c:4===l?s[1]=Object.assign(s[1]||{},c):5===l?(s[1]=s[1]||{})[n[++a]]=c:6===l?s[1][n[++a]]+=c+"":l?(o=t.apply(c,Mge(t,c,i,["",null])),s.push(o),c[0]?n[0]|=2:(n[a-2]=0,n[a]=o)):s.push(c)}return s},Age=new Map,vo=function fat(t){var n=Age.get(this);return n||Age.set(this,n=new Map),(n=Mge(this,n.get(t)||(n.set(t,n=function(i){for(var s,o,a=1,l="",c="",u=[0],d=function(h){1===a&&(h||(l=l.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?u.push(0,h,l):3===a&&(h||l)?(u.push(3,h,l),a=2):2===a&&"..."===l&&h?u.push(4,h,0):2===a&&l&&!h?u.push(5,0,!0,l):a>=5&&((l||!h&&5===a)&&(u.push(a,0,l,o),a=6),h&&(u.push(a,h,0,o),a=6)),l=""},p=0;p<i.length;p++){p&&(1===a&&d(),d(p));for(var f=0;f<i[p].length;f++)s=i[p][f],1===a?"<"===s?(d(),u=[u],a=3):l+=s:4===a?"--"===l&&">"===s?(a=1,l=""):l=s+l[0]:c?s===c?c="":l+=s:'"'===s||"'"===s?c=s:">"===s?(d(),a=1):a&&("="===s?(a=5,o=l,l=""):"/"===s&&(a<5||">"===i[p][f+1])?(d(),3===a&&(u=u[0]),a=u,(u=u[0]).push(2,0,a),a=0):" "===s||"\t"===s||"\n"===s||"\r"===s?(d(),a=2):l+=s),3===a&&"!--"===l&&(a=4,u=u[0])}return d(),u}(t)),n),arguments,[])).length>1?n:n[0]}.bind(Qt),u3=0,Rge=[],$A=[],Nge=er.__b,Lge=er.__r,Fge=er.diffed,Bge=er.__c,$ge=er.unmount;function qb(t,n){er.__h&&er.__h(Ps,t,u3||n),u3=0;var i=Ps.__H||(Ps.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:$A}),i.__[t]}function Ci(t){return u3=1,function Vge(t,n,i){var s=qb(vm++,2);if(s.t=t,!s.__c&&(s.__=[i?i(n):zge(void 0,n),function(c){var u=s.__N?s.__N[0]:s.__[0],d=s.t(u,c);u!==d&&(s.__N=[d,s.__[1]],s.__c.setState({}))}],s.__c=Ps,!Ps.u)){var o=function(c,u,d){if(!s.__c.__H)return!0;var p=s.__c.__H.__.filter(function(h){return h.__c});if(p.every(function(h){return!h.__N}))return!a||a.call(this,c,u,d);var f=!1;return p.forEach(function(h){if(h.__N){var m=h.__[0];h.__=h.__N,h.__N=void 0,m!==h.__[0]&&(f=!0)}}),!(!f&&s.__c.props===c)&&(!a||a.call(this,c,u,d))};Ps.u=!0;var a=Ps.shouldComponentUpdate,l=Ps.componentWillUpdate;Ps.componentWillUpdate=function(c,u,d){if(this.__e){var p=a;a=void 0,o(c,u,d),a=p}l&&l.call(this,c,u,d)},Ps.shouldComponentUpdate=o}return s.__N||s.__}(zge,t)}function Bi(t,n){var i=qb(vm++,3);!er.__s&&vq(i.__H,n)&&(i.__=t,i.i=n,Ps.__H.__h.push(i))}function F1(t,n){var i=qb(vm++,4);!er.__s&&vq(i.__H,n)&&(i.__=t,i.i=n,Ps.__h.push(i))}function Ds(t){return u3=5,zr(function(){return{current:t}},[])}function zr(t,n){var i=qb(vm++,7);return vq(i.__H,n)?(i.__V=t(),i.i=n,i.__h=t,i.__V):i.__}function oi(t,n){return u3=8,zr(function(){return t},n)}function il(t){var n=Ps.context[t.__c],i=qb(vm++,9);return i.c=t,n?(null==i.__&&(i.__=!0,n.sub(Ps)),n.props.value):t.__}function yat(){for(var t;t=Rge.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(VA),t.__H.__h.forEach(yq),t.__H.__h=[]}catch(n){t.__H.__h=[],er.__e(n,t.__v)}}er.__b=function(t){Ps=null,Nge&&Nge(t)},er.__r=function(t){Lge&&Lge(t),vm=0;var n=(Ps=t.__c).__H;n&&(gq===Ps?(n.__h=[],Ps.__h=[],n.__.forEach(function(i){i.__N&&(i.__=i.__N),i.__V=$A,i.__N=i.i=void 0})):(n.__h.forEach(VA),n.__h.forEach(yq),n.__h=[],vm=0)),gq=Ps},er.diffed=function(t){Fge&&Fge(t);var n=t.__c;n&&n.__H&&(n.__H.__h.length&&(1!==Rge.push(n)&&Ige===er.requestAnimationFrame||((Ige=er.requestAnimationFrame)||vat)(yat)),n.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.__V!==$A&&(i.__=i.__V),i.i=void 0,i.__V=$A})),gq=Ps=null},er.__c=function(t,n){n.some(function(i){try{i.__h.forEach(VA),i.__h=i.__h.filter(function(s){return!s.__||yq(s)})}catch(s){n.some(function(o){o.__h&&(o.__h=[])}),n=[],er.__e(s,i.__v)}}),Bge&&Bge(t,n)},er.unmount=function(t){$ge&&$ge(t);var n,i=t.__c;i&&i.__H&&(i.__H.__.forEach(function(s){try{VA(s)}catch(o){n=o}}),i.__H=void 0,n&&er.__e(n,i.__v))};var jge="function"==typeof requestAnimationFrame;function vat(t){var n,i=function(){clearTimeout(s),jge&&cancelAnimationFrame(n),setTimeout(t)},s=setTimeout(i,100);jge&&(n=requestAnimationFrame(i))}function VA(t){var n=Ps,i=t.__c;"function"==typeof i&&(t.__c=void 0,i()),Ps=n}function yq(t){var n=Ps;t.__c=t.__(),Ps=n}function vq(t,n){return!t||t.length!==n.length||n.some(function(i,s){return i!==t[s]})}function zge(t,n){return"function"==typeof n?n(t):n}function Hge(t){var n,i,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var o=t.length;for(n=0;n<o;n++)t[n]&&(i=Hge(t[n]))&&(s&&(s+=" "),s+=i)}else for(i in t)t[i]&&(s&&(s+=" "),s+=i);return s}const jA=function bat(){for(var t,n,i=0,s="",o=arguments.length;i<o;i++)(t=arguments[i])&&(n=Hge(t))&&(s&&(s+=" "),s+=n);return s};function _at(t){const{headerEntries:n,onSelect:i,selectedEntry:s,setSelectedEntry:o,title:a}=t,l=zr(()=>function Eat(t){return t.reduce((n,i)=>{const s=i.group||"default",o=n.find(a=>a.id===s);return o?o.entries.push(i):n.push({id:s,entries:[i]}),n},[])}(n),[n]);return vo`
    <div class="djs-popup-header">
      <h3 class="djs-popup-title" title=${a}>${a}</h3>
      ${l.map(c=>vo`
        <ul key=${c.id} class="djs-popup-header-group" data-header-group=${c.id}>

          ${c.entries.map(u=>vo`
            <li key=${u.id}>
              <${u.action?"button":"span"}
                class=${function xat(t,n){return jA("entry",t.className,t.active?"active":"",t.disabled?"disabled":"",n?"selected":"")}(u,u===s)}
                onClick=${d=>u.action&&i(d,u)}
                title=${u.title||u.label}
                data-id=${u.id}
                onMouseEnter=${()=>u.action&&o(u)}
                onMouseLeave=${()=>u.action&&o(null)}
                onFocus=${()=>u.action&&o(u)}
                onBlur=${()=>u.action&&o(null)}
              >
                ${u.imageUrl&&vo`<img class="djs-popup-entry-icon" src=${u.imageUrl} alt="" />`||u.imageHtml&&vo`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:u.imageHtml}} />`}
                ${u.label?vo`
                  <span class="djs-popup-label">${u.label}</span>
                `:null}
              </${u.action?"button":"span"}>
            </li>
          `)}
        </ul>
      `)}
    </div>
  `}function wat(t){const{entry:n,selected:i,onMouseEnter:s,onMouseLeave:o,onAction:a}=t;return vo`
    <li
      class=${jA("entry",{selected:i})}
      data-id=${n.id}
      title=${n.title||n.label}
      tabIndex="0"
      onClick=${a}
      onFocus=${s}
      onBlur=${o}
      onMouseEnter=${s}
      onMouseLeave=${o}
      onDragStart=${l=>a(l,n,"dragstart")}
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${jA("djs-popup-entry-name",n.className)}
        >
          ${n.imageUrl&&vo`<img class="djs-popup-entry-icon" src=${n.imageUrl} alt="" />`||n.imageHtml&&vo`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:n.imageHtml}} />`}

          ${n.label?vo`
            <span class="djs-popup-label">
              ${n.label}
            </span>
          `:null}
        </span>
        ${n.description&&vo`
          <span
            class="djs-popup-entry-description"
            title=${n.description}
          >
            ${n.description}
          </span>
        `}
      </div>
      ${n.documentationRef&&vo`
        <div class="djs-popup-entry-docs">
          <a
            href="${n.documentationRef}"
            onClick=${l=>l.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function Cat(t){const{selectedEntry:n,setSelectedEntry:i,entries:s,...o}=t,a=Ds(),l=zr(()=>function Sat(t){const n=[],i=a=>n.find(l=>a.id===l.id);return t.forEach(a=>{const l=a.group?(a=>"string"==typeof a?{id:a}:a)(a.group):{id:"default"};(a=>!!i(a))(l)?i(l).entries.push(a):n.push({...l,entries:[a]})}),n}(s),[s]);return F1(()=>{const c=a.current;if(!c)return;const u=c.querySelector(".selected");u&&function Oat(t){"function"==typeof t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded():t.scrollIntoView({scrollMode:"if-needed",block:"nearest"})}(u)},[n]),vo`
    <div class="djs-popup-results" ref=${a}>
      ${l.map(c=>vo`
        ${c.name&&vo`
          <div key=${c.id} class="entry-header" title=${c.name}>
            ${c.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${c.id}>
          ${c.entries.map(u=>vo`
            <${wat}
              key=${u.id}
              entry=${u}
              selected=${u===n}
              onMouseEnter=${()=>i(u)}
              onMouseLeave=${()=>i(null)}
              ...${o}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function Tat(t){const{onClose:n,onSelect:i,className:s,headerEntries:o,position:a,title:l,width:c,scale:u,search:d,emptyPlaceholder:p,searchFn:f,entries:h,onOpened:m,onClosed:y}=t,E=zr(()=>!!Ki(d)&&h.length>5,[d,h]),[_,S]=Ci(""),v=oi((U,H)=>{if(!E)return U;if(!H.trim())return U.filter(({rank:Re=0})=>Re>=0);const me=U.filter(({searchable:Re})=>!1!==Re);return f(me,H,{keys:["label","search","description"]}).map(({item:Re})=>Re)},[E]),[w,g]=Ci(v(h,_)),[x,T]=Ci(w[0]),I=oi(U=>{T(U[0]),g(U)},[x,g,T]);Bi(()=>{I(v(h,_))},[_,h]);const A=oi(U=>{let me=w.indexOf(x)+U;me<0&&(me=w.length-1),me>=w.length&&(me=0),T(w[me])},[w,x,T]),$=oi(U=>"Enter"===U.key&&x?i(U,x):"ArrowUp"===U.key?(A(-1),U.preventDefault()):"ArrowDown"===U.key?(A(1),U.preventDefault()):void 0,[i,x,A]),z=oi(U=>{P7(U.target,"input")&&S(()=>U.target.value)},[S]);Bi(()=>(m(),()=>{y()}),[]);const K=zr(()=>l||o.length>0,[l,o]);return vo`
    <${Uge}
      onClose=${n}
      onKeyup=${z}
      onKeydown=${$}
      className=${s}
      position=${a}
      width=${c}
      scale=${u}
    >
      ${K&&vo`
        <${_at}
          headerEntries=${o}
          onSelect=${i}
          selectedEntry=${x}
          setSelectedEntry=${T}
          title=${l}
        />
      `}
      ${h.length>0&&vo`
        <div class="djs-popup-body">

          ${E&&vo`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input type="text" spellcheck=${!1} aria-label="${l}" />
          </div>
          `}

          <${Cat}
            entries=${w}
            selectedEntry=${x}
            setSelectedEntry=${T}
            onAction=${i}
          />
        </div>
      `}
    ${p&&0===w.length&&vo`
      <div class="djs-popup-no-results">${Ar(p)?p(_):p}</div>
    `}
    </${Uge}>
  `}function Uge(t){const{onClose:n,onKeydown:i,onKeyup:s,className:o,children:a,position:l}=t,c=Ds();return F1(()=>{if("function"!=typeof l)return;const u=c.current,d=l(u);u.style.left=`${d.x}px`,u.style.top=`${d.y}px`},[c.current,l]),F1(()=>{const u=c.current;u&&(u.querySelector("input")||u).focus()},[]),Bi(()=>{const u=p=>{if("Escape"===p.key)return p.preventDefault(),n()},d=p=>{if(!Vc(p.target,".djs-popup",!0))return n()};return document.documentElement.addEventListener("keydown",u),document.body.addEventListener("click",d),()=>{document.documentElement.removeEventListener("keydown",u),document.body.removeEventListener("click",d)}},[]),vo`
    <div
      class=${jA("djs-popup",o)}
      style=${function Pat(t){return{transform:`scale(${t.scale})`,width:`${t.width}px`,"transform-origin":"top left"}}(t)}
      onKeydown=${i}
      onKeyup=${s}
      ref=${c}
      tabIndex="-1"
    >
      ${a}
    </div>
  `}var qge=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function oo(t,n,i,s){this._eventBus=n,this._canvas=i,this._search=s,this._current=null;var o=Ki(t&&t.scale)?t.scale:{min:1,max:1};this._config={scale:o},n.on("diagram.destroy",()=>{this.close()}),n.on("element.changed",a=>{const l=this.isOpen()&&this._current.target;a.element===l&&this.refresh()})}function Rat(t,n){return Wge(n)-Wge(t)}function Wge(t){return t.reduce((n,i)=>n+Gge(i),0)}function Gge(t){if(Xt(t))return Math.max(...t.map(Gge));const n=Math.log(t.value.length);return t.match?(t.start?t.end?131.9:7.87:t.wordStart?2.19:1)*n:-.07*n}function Kge(t=""){return Xt(t)?t.join(", "):t}function Nat(t,n){return Kge(t).localeCompare(Kge(n))}function Yge(t,n){if(!t)return{tokens:[],matchedWords:{}};const i=[],s={},o=n.map(Lat),a=[`(?<all>${o.join("\\s+")})`,...o].join("|"),l=new RegExp(a,"ig");let c,u=0;for(;c=l.exec(t);){const[d]=c,p=c.index,f=c.index+d.length,h=0===p,m=f===t.length,y=!!c.groups.all,E=h||/\s/.test(t.charAt(p-1)),_=m||/\s/.test(t.charAt(f));c.index>u&&i.push({value:t.slice(u,c.index),index:u}),i.push({value:d,index:c.index,match:!0,wordStart:E,wordEnd:_,start:h,end:m,all:y});const S=y?n:[d];for(const v of S)s[v.toLowerCase()]=!0;u=c.index+d.length}return u<t.length&&i.push({value:t.slice(u),index:u}),{tokens:i,matchedWords:s}}function Lat(t){return t.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&")}oo.$inject=["config.popupMenu","eventBus","canvas","search"],oo.prototype._render=function(){const{position:t,providerId:n,entries:i,headerEntries:s,emptyPlaceholder:o,options:a}=this._current,l=Object.entries(i).map(([h,m])=>({id:h,...m})),c=Object.entries(s).map(([h,m])=>({id:h,...m})),u=t&&(h=>this._ensureVisible(h,t)),d=this._updateScale(this._current.container);ym(vo`
      <${Tat}
        onClose=${h=>this.close(h)}
        onSelect=${(h,m,y)=>this.trigger(h,m,y)}
        position=${u}
        className=${n}
        entries=${l}
        headerEntries=${c}
        emptyPlaceholder=${o}
        scale=${d}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        searchFn=${this._search}
        ...${{...a}}
      />
    `,this._current.container)},oo.prototype.open=function(t,n,i,s){if(!t)throw new Error("target is missing");if(!n)throw new Error("providers for <"+n+"> not found");if(!i)throw new Error("position is missing");this.isOpen()&&this.close();const{entries:o,headerEntries:a,emptyPlaceholder:l}=this._getContext(t,n);this._current={position:i,providerId:n,target:t,entries:o,headerEntries:a,emptyPlaceholder:l,container:this._createContainer({provider:n}),options:s},this._emit("open"),this._bindAutoClose(),this._render()},oo.prototype.refresh=function(){if(!this.isOpen())return;const{target:t,providerId:n}=this._current,{entries:i,headerEntries:s,emptyPlaceholder:o}=this._getContext(t,n);this._current={...this._current,entries:i,headerEntries:s,emptyPlaceholder:o},this._emit("refresh"),this._render()},oo.prototype._getContext=function(t,n){const i=this._getProviders(n);if(!i||!i.length)throw new Error("provider for <"+n+"> not found");const s=this._getEntries(t,i),o=this._getHeaderEntries(t,i);return{entries:s,headerEntries:o,emptyPlaceholder:this._getEmptyPlaceholder(i),empty:!(Object.keys(s).length||Object.keys(o).length)}},oo.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._canvas.restoreFocus(),this._current=null)},oo.prototype.reset=function(){const t=this._current.container;ym(null,t),el(t)},oo.prototype._emit=function(t,n){this._eventBus.fire(`popupMenu.${t}`,n)},oo.prototype._onOpened=function(){this._emit("opened")},oo.prototype._onClosed=function(){this._emit("closed")},oo.prototype._createContainer=function(t){var i=this._canvas.getContainer();const s=Xr(`<div class="djs-popup-parent djs-scrollable" data-popup=${t.provider}></div>`);return i.appendChild(s),s},oo.prototype._bindAutoClose=function(){this._eventBus.once(qge,this.close,this)},oo.prototype._unbindAutoClose=function(){this._eventBus.off(qge,this.close,this)},oo.prototype._updateScale=function(){var i,s,t=this._canvas.zoom(),n=this._config.scale,o=t;return!0!==n&&(!1===n?(i=1,s=1):(i=n.min,s=n.max),Ki(i)&&t<i&&(o=i),Ki(s)&&t>s&&(o=s)),o},oo.prototype._ensureVisible=function(t,n){var i=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect(),o={},a=n.x,l=n.y;return n.x+s.width>i.width&&(o.x=!0),n.y+s.height>i.height&&(o.y=!0),o.x&&o.y?(a=n.x-s.width,l=n.y-s.height):o.x?(a=n.x-s.width,l=n.y):o.y&&n.y<s.height?(a=n.x,l=10):o.y&&(a=n.x,l=n.y-s.height),n.y<i.top&&(l=n.y+s.height),{x:a,y:l}},oo.prototype.isEmpty=function(t,n){if(!t)throw new Error("target is missing");if(!n)throw new Error("provider ID is missing");const i=this._getProviders(n);return!i||!i.length||this._getContext(t,n).empty},oo.prototype.registerProvider=function(t,n,i){i||(i=n,n=1e3),this._eventBus.on("popupMenu.getProviders."+t,n,function(s){s.providers.push(i)})},oo.prototype._getProviders=function(t){var n=this._eventBus.createEvent({type:"popupMenu.getProviders."+t,providers:[]});return this._eventBus.fire(n),n.providers},oo.prototype._getEntries=function(t,n){var i={};return fe(n,function(s){if(s.getPopupMenuEntries){var o=s.getPopupMenuEntries(t);Ar(o)?i=o(i):fe(o,function(a,l){i[l]=a})}else fe(s.getEntries(t),function(a){var l=a.id;if(!l)throw new Error("entry ID is missing");i[l]=yh(a,["id"])})}),i},oo.prototype._getHeaderEntries=function(t,n){var i={};return fe(n,function(s){if(s.getPopupMenuHeaderEntries){var o=s.getPopupMenuHeaderEntries(t);Ar(o)?i=o(i):fe(o,function(a,l){i[l]=a})}else{if(!s.getHeaderEntries)return;fe(s.getHeaderEntries(t),function(a){var l=a.id;if(!l)throw new Error("entry ID is missing");i[l]=yh(a,["id"])})}}),i},oo.prototype._getEmptyPlaceholder=function(t){const n=t.find(i=>Ar(i.getEmptyPlaceholder));return n&&n.getEmptyPlaceholder()},oo.prototype.isOpen=function(){return!!this._current},oo.prototype.trigger=function(t,n,i="click"){if(t.preventDefault(),!n){let a=xa(Vc(t.delegateTarget||t.target,".entry",!0),"data-id");n={id:a,...this._getEntry(a)}}const s=n.action;if(!1!==this._emit("trigger",{entry:n,event:t}))if(Ar(s)){if("click"===i)return s(t,n)}else if(s[i])return s[i](t,n)},oo.prototype._getEntry=function(t){var n=this._current.entries[t]||this._current.headerEntries[t];if(!n)throw new Error("entry not found");return n};const Xge={search:["value",function Mat(t,n,i){const{keys:s}=i;if(!(n=n.trim().toLowerCase()))throw new Error("<pattern> must not be empty");const o=n.trim().toLowerCase().split(/\s+/);return t.flatMap(a=>{const l=function Aat(t,n,i){const{matchedWords:s,tokens:o}=i.reduce((a,l)=>{const c=t[l],{tokens:u,matchedWords:d}=Xt(c)?c.reduce((p,f)=>{const{tokens:h,matchedWords:m}=Yge(f,n);return{tokens:[...p.tokens,h],matchedWords:{...p.matchedWords,...m}}},{matchedWords:{},tokens:[]}):Yge(c,n);return{tokens:{...a.tokens,[l]:u},matchedWords:{...a.matchedWords,...d}}},{matchedWords:{},tokens:{}});return Object.keys(s).length!==n.length?null:o}(a,o,s);return l?{item:a,tokens:l}:[]}).sort(function Iat(t){return(n,i)=>{let s=0,o=1;for(const a of t){const l=Rat(n.tokens[a],i.tokens[a]);if(0!==l){s+=l*o,o*=.9;continue}const c=Nat(n.item[a],i.item[a]);0===c||(s+=c*o,o*=.9)}return s}}(s))}]},zA={__depends__:[Xge],__init__:["popupMenu"],popupMenu:["type",oo]},Qge={align:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 2000">\n              <line x1="200" y1="150" x2="200" y2="1850" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n              <rect x="500" y="150" width="1300" height="700" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n              <rect x="500" y="1150" width="700" height="700" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',bottom:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="1650" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="350" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="850" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="900" y1="150" x2="900" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="250" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="500" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="100" y1="150" x2="100" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="100" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="100" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="1650" y1="150" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="350" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="850" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',top:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="150" x2="1650" y2="150" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="150" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="150" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',middle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="900" x2="1650" y2="900" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="250" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="500" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>'};function d3(t,n,i,s){t.registerProvider(900,this),this._contextPad=t,this._popupMenu=n,this._translate=i,this._canvas=s}d3.$inject=["contextPad","popupMenu","translate","canvas"],d3.prototype.getMultiElementContextPadEntries=function(t){var n={};return this._isAllowed(t)&&Ce(n,this._getEntries(t)),n},d3.prototype._isAllowed=function(t){return!this._popupMenu.isEmpty(t,"align-elements")},d3.prototype._getEntries=function(){var t=this;return{"align-elements":{group:"align-elements",title:t._translate("Align elements"),html:`<div class="entry">${Qge.align}</div>`,action:{click:function(n,i){var s=t._getMenuPosition(i);Ce(s,{cursor:{x:n.x,y:n.y}}),t._popupMenu.open(i,"align-elements",s)}}}}},d3.prototype._getMenuPosition=function(t){var s=this._contextPad.getPad(t).html.getBoundingClientRect();return{x:s.left,y:s.bottom+5}};var $at=["left","center","right","top","middle","bottom"];function M6(t,n,i,s){this._alignElements=n,this._translate=i,this._popupMenu=t,this._rules=s,t.registerProvider("align-elements",this)}function Hc(t){pt.call(this,t),this.init()}function HA(t){Hc.call(this,t)}M6.$inject=["popupMenu","alignElements","translate","rules"],M6.prototype.getPopupMenuEntries=function(t){var n={};return this._isAllowed(t)&&Ce(n,this._getEntries(t)),n},M6.prototype._isAllowed=function(t){return this._rules.allowed("elements.align",{elements:t})},M6.prototype._getEntries=function(t){var n=this._alignElements,i=this._translate,s=this._popupMenu,o={};return fe($at,function(a){o["align-elements-"+a]={group:"align",title:i("Align elements "+a),className:"bjs-align-elements-menu-entry",imageHtml:Qge[a],action:function(){n.trigger(t,a),s.close()}}}),o},Hc.$inject=["eventBus"],Jt(Hc,pt),Hc.prototype.addRule=function(t,n,i){var s=this;"string"==typeof t&&(t=[t]),t.forEach(function(o){s.canExecute(o,n,function(a,l,c){return i(a)},!0)})},Hc.prototype.init=function(){},HA.$inject=["eventBus"],Jt(HA,Hc),HA.prototype.init=function(){this.addRule("elements.align",function(t){var i=Bn(t.elements,function(s){return!(s.waypoints||s.host||s.labelTarget)});return!((i=B7(i)).length<2)&&i})};const Vat={__depends__:[fge,lq,zA],__init__:["alignElementsContextPadProvider","alignElementsMenuProvider","bpmnAlignElements"],alignElementsContextPadProvider:["type",d3],alignElementsMenuProvider:["type",M6],bpmnAlignElements:["type",HA]};function A6(t,n,i,s){for(var o;o=Hat(t,i,n);)i=s(n,i,o);return i}function UA(t){return function(n,i,s){var o={x:i.x,y:i.y};return["x","y"].forEach(function(a){var l=t[a];if(l){var c="x"===a?"width":"height",u=l.margin,d=l.minDistance;o[a]=u<0?Math.min(s[a]+u-n[c]/2,i[a]-d+u):Math.max(s[a]+s[c]+u+n[c]/2,i[a]+d+u)}}),o}}function Hat(t,n,i){var s={x:n.x-i.width/2,y:n.y-i.height/2,width:i.width,height:i.height},o=function Uat(t){var n=bq(t);return t.host&&(n=n.concat(bq(t.host))),t.attachers&&(n=n.concat(t.attachers.reduce(function(i,s){return i.concat(bq(s))},[]))),n}(t);return Gt(o,function(a){return a!==i&&"intersect"===Ws(a,s,10)})}function Jge(t,n){n||(n={});var s=n.defaultDistance||50,o=n.direction||"e",a=n.filter,l=n.getWeight||function i(y){return y.source===t?1:-1},c=n.maxDistance||250,u=n.reference||"start";function d(y,E){return"n"===o?"start"===u?En(y).top-En(E).bottom:"center"===u?En(y).top-An(E).y:En(y).top-En(E).top:"w"===o?"start"===u?En(y).left-En(E).right:"center"===u?En(y).left-An(E).x:En(y).left-En(E).left:"s"===o?"start"===u?En(E).top-En(y).bottom:"center"===u?An(E).y-En(y).bottom:En(E).bottom-En(y).bottom:"start"===u?En(E).left-En(y).right:"center"===u?An(E).x-En(y).right:En(E).right-En(y).right}a||(a=Gat);var p=t.incoming.filter(a).map(function(y){var E=l(y),_=E<0?d(y.source,t):d(t,y.source);return{id:y.source.id,distance:_,weight:E}}),f=t.outgoing.filter(a).map(function(y){var E=l(y),_=E>0?d(t,y.target):d(y.target,t);return{id:y.target.id,distance:_,weight:E}});return Ts(p.concat(f).reduce(function(y,E){return y[E.id+"__weight_"+E.weight]=E,y},{}),function(y,E){var _=E.distance,S=E.weight;return _<0||_>c||(y[String(_)]||(y[String(_)]=0),y[String(_)]+=1*S,(!y.distance||y[y.distance]<y[String(_)])&&(y.distance=_)),y},{}).distance||s}function bq(t){return function Wat(t){return t.outgoing.map(function(n){return n.target})}(t).concat(function qat(t){return t.incoming.map(function(n){return n.source})}(t))}function Gat(){return!0}function e1e(t,n,i){t.on("autoPlace",100,function(s){return function Yat(t,n,i){i||(i={});var s=i.defaultDistance||50,o=An(t);return{x:En(t).right+s+n.width/2,y:o.y}}(s.source,s.shape)}),t.on("autoPlace.end",function(s){i.scrollToElement(s.shape)}),this.append=function(s,o,a){t.fire("autoPlace.start",{source:s,shape:o});var l=t.fire("autoPlace",{source:s,shape:o}),c=n.appendShape(s,o,l,s.parent,a);return t.fire("autoPlace.end",{source:s,shape:c}),c}}function t1e(t,n){t.on("autoPlace.end",500,function(i){n.select(i.shape)})}e1e.$inject=["eventBus","modeling","canvas"],t1e.$inject=["eventBus","selection"];const n1e={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",e1e],autoPlaceSelectionBehavior:["type",t1e]};function p3(t,n){for(Or(n)&&(n=[n]);t=t.parent;)if(un(t,n))return t;return null}function r1e(t,n){var i=p3(t,"bpmn:Process");if(i)return!0;var o,s=["bpmn:Participant","bpmn:Lane"];if(i=p3(t,s))return _a(i);if(un(t,s))return _a(t);for(o=G(t);o&&!D(o,"bpmn:Process");o=o.$parent);if(!n)return!0;var a=n.find(function(l){var c=G(l);return c&&c.get("processRef")===o});return!a||_a(a)}function i1e(t,n,i){var s=r1e(t,i);return D(n,"bpmn:TextAnnotation")?function Qat(t,n,i){var s=En(t),o=i?{x:s.right+n.width/2,y:s.top-50-n.height/2}:{x:s.right+50+n.width/2,y:s.bottom+n.height/2};Zi(t)&&(o=An(t),i?(o.x+=100,o.y-=50):(o.x+=100,o.y+=50));var a={margin:i?-30:30,minDistance:20};return A6(t,n,o,UA(i?{y:a}:{x:a}))}(t,n,s):un(n,["bpmn:DataObjectReference","bpmn:DataStoreReference"])?function Zat(t,n,i){var s=En(t),a={margin:30,minDistance:30};return A6(t,n,i?{x:s.right-10+n.width/2,y:s.bottom+40+n.width/2}:{x:s.left-40-n.width/2,y:s.bottom-10+n.height/2},UA(i?{x:a}:{y:a}))}(t,n,s):D(n,"bpmn:FlowNode")?function Xat(t,n,i){var s=En(t),o=An(t),a=i?{directionHint:"e",minDistance:80,baseOrientation:"left",boundaryOrientation:"top",start:"top",end:"bottom"}:{directionHint:"s",minDistance:90,baseOrientation:"top",boundaryOrientation:"left",start:"left",end:"right"},l=Jge(t,{filter:function(m){return D(m,"bpmn:SequenceFlow")},direction:a.directionHint}),c=30,u=a.minDistance,d=a.baseOrientation;D(t,"bpmn:BoundaryEvent")&&(-1!==(d=Ws(t,t.host,-25)).indexOf(a.boundaryOrientation)&&(c*=-1));var f={margin:c,minDistance:u};return A6(t,n,i?{x:s.right+l+n.width/2,y:o.y+s1e(d,u,a)}:{x:o.x+s1e(d,u,a),y:s.bottom+l+n.height/2},UA(i?{y:f}:{x:f}))}(t,n,s):void 0}function s1e(t,n,i){return t.includes(i.start)?-1*n:t.includes(i.end)?n:0}function o1e(t,n){t.on("autoPlace",function(i){return i1e(i.source,i.shape,n)})}o1e.$inject=["eventBus","elementRegistry"];const _q={__depends__:[n1e],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",o1e]};function bm(t,n,i,s){pt.call(this,t),this._elementRegistry=n,this._modeling=i,this._rules=s;var o=this;this.postExecuted(["shape.create"],function(a){var l=a.context;!1!==(l.hints||{}).autoResize&&o._expand([l.shape],l.parent||l.newParent)}),this.postExecuted(["elements.move"],function(a){var l=a.context,c=FS(bb(l.closure.topLevel)),u=l.hints,d=!u||u.autoResize;!1!==d&&fe(of(c,function(f){return f.parent.id}),function(f,h){Xt(d)&&(f=f.filter(function(m){return Gt(d,af({id:m.id}))})),o._expand(f,h)})}),this.postExecuted(["shape.toggleCollapse"],function(a){var l=a.context,c=l.hints,u=l.shape;c&&!1===c.autoResize||u.collapsed||o._expand(u.children||[],u)}),this.postExecuted(["shape.resize"],function(a){var l=a.context,c=l.hints,u=l.shape,d=u.parent;c&&!1===c.autoResize||d&&o._expand([u],d)})}function qA(t){t.invoke(bm,this)}function I6(t){Hc.call(this,t);var n=this;this.addRule("element.autoResize",function(i){return n.canResize(i.elements,i.target)})}function WA(t,n){I6.call(this,t),this._modeling=n}bm.$inject=["eventBus","elementRegistry","modeling","rules"],Jt(bm,pt),bm.prototype._getOptimalBounds=function(t,n){var i=this.getOffset(n),s=this.getPadding(n),o=En(ea(t)),a=En(n),l={};return o.top-a.top<s.top&&(l.top=o.top-i.top),o.left-a.left<s.left&&(l.left=o.left-i.left),a.right-o.right<s.right&&(l.right=o.right+i.right),a.bottom-o.bottom<s.bottom&&(l.bottom=o.bottom+i.bottom),L7(Ce({},a,l))},bm.prototype._expand=function(t,n){if("string"==typeof n&&(n=this._elementRegistry.get(n)),this._rules.allowed("element.autoResize",{elements:t,target:n})){var s=this._getOptimalBounds(t,n);if(function Jat(t,n){return t.x!==n.x||t.y!==n.y||t.width!==n.width||t.height!==n.height}(s,n)){var o=function elt(t,n){var i="";return t=En(t),n=En(n),t.top>n.top&&(i=i.concat("n")),t.right<n.right&&(i=i.concat("w")),t.bottom<n.bottom&&(i=i.concat("s")),t.left>n.left&&(i=i.concat("e")),i}(td(n,["x","y","width","height"]),s);this.resize(n,s,{autoResize:o});var a=n.parent;a&&this._expand([n],a)}}},bm.prototype.getOffset=function(t){return{top:60,bottom:60,left:100,right:100}},bm.prototype.getPadding=function(t){return{top:2,bottom:2,left:15,right:15}},bm.prototype.resize=function(t,n,i){this._modeling.resizeShape(t,n,null,i)},qA.$inject=["injector"],Jt(qA,bm),qA.prototype.resize=function(t,n,i){D(t,"bpmn:Participant")?this._modeling.resizeLane(t,n,null,i):this._modeling.resizeShape(t,n,null,i)},I6.$inject=["eventBus"],Jt(I6,Hc),I6.prototype.canResize=function(t,n){return!1},Jt(WA,I6),WA.$inject=["eventBus","modeling"],WA.prototype.canResize=function(t,n){if(D(n.di,"bpmndi:BPMNPlane")||!D(n,"bpmn:Participant")&&!D(n,"bpmn:Lane")&&!D(n,"bpmn:SubProcess"))return!1;var i=!0;return fe(t,function(s){(D(s,"bpmn:Lane")||ui(s))&&(i=!1)}),i};const tlt={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",qA],bpmnAutoResizeProvider:["type",WA]};function l1e(t,n,i){var l,c,s=this,o=i.get("dragging",!1);o&&n.on("drag.start",function(l){n.once("drag.move",1500,function(c){!function a(l){if(!l.hover){var c=l.originalEvent,u=s._findTargetGfx(c),d=u&&t.get(u);u&&d&&(l.stopPropagation(),o.hover({element:d,gfx:u}),o.move(c))}}(c)})}),n.on("element.hover",function(u){l=u.gfx,c=u.element}),n.on("element.hover",1500,function(u){c&&n.fire("element.out",{element:c,gfx:l})}),n.on("element.out",function(){l=null,c=null}),this._findTargetGfx=function(l){var c;if(l instanceof MouseEvent)return c=Pb(l),function nlt(t){return Vc(t,"svg, .djs-element",!0)}(document.elementFromPoint(c.x,c.y))}}l1e.$inject=["elementRegistry","eventBus","injector"];const rlt={__init__:["hoverFix"],hoverFix:["type",l1e]};var f3=Math.round,c1e="djs-drag-active";function Wb(t){t.preventDefault()}function u1e(t,n,i,s){var a,o={threshold:5,trapClick:!0};function l(w){var g=n.viewbox(),x=n._container.getBoundingClientRect();return{x:g.x+(w.x-x.left)/g.scale,y:g.y+(w.y-x.top)/g.scale}}function c(w,g){var x=t.createEvent(Ce({},(g=g||a).payload,g.data,{isTouch:g.isTouch}));return!1!==t.fire("drag."+w,x)&&t.fire(g.prefix+"."+w,x)}function d(w,g){var x=a.payload,T=a.displacement,I=a.globalStart,A=Pb(w),$=uf(A,I),z=a.localStart,K=l(A),U=uf(K,z);if(!a.active&&(g||function slt(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}($)>a.threshold)){if(Ce(x,{x:f3(z.x+T.x),y:f3(z.y+T.y),dx:0,dy:0},{originalEvent:w}),!1===c("start"))return _();a.active=!0,a.keepSelection||(x.previousSelection=i.get(),i.select(null)),a.cursor&&rA(a.cursor),n.addMarker(n.getRootElement(),c1e)}WH(w),a.active&&(Ce(x,{x:f3(K.x+T.x),y:f3(K.y+T.y),dx:f3(U.x),dy:f3(U.y)},{originalEvent:w}),c("move"))}function p(w){var x=!0;a.active&&(w&&(a.payload.originalEvent=w,WH(w)),x=c("end")),!1===x&&c("rejected"),c("ended",S(!0!==x))}function f(w){Ba("Escape",w)&&(Wb(w),_())}function h(w){var g;a.active&&(g=Fhe(t),setTimeout(g,400),Wb(w)),p(w)}function m(w){d(w)}function y(w){var g=a.payload;g.hoverGfx=w.gfx,g.hover=w.element,c("hover")}function E(w){c("out");var g=a.payload;g.hoverGfx=null,g.hover=null}function _(w){var g;if(a){var x=a.active;x&&c("cancel"),g=S(w),x&&c("canceled",g)}}function S(w){var g,x;c("cleanup"),Lhe(),x=a.trapClick?h:p,mn.unbind(document,"mousemove",d),mn.unbind(document,"dragstart",Wb),mn.unbind(document,"selectstart",Wb),mn.unbind(document,"mousedown",x,!0),mn.unbind(document,"mouseup",x,!0),mn.unbind(document,"keyup",f),mn.unbind(document,"touchstart",m,!0),mn.unbind(document,"touchcancel",_,!0),mn.unbind(document,"touchmove",d,!0),mn.unbind(document,"touchend",p,!0),t.off("element.hover",y),t.off("element.out",E),n.removeMarker(n.getRootElement(),c1e);var T=a.payload.previousSelection;return!1!==w&&T&&!i.get().length&&function u(w){var g=w.filter(function(x){return s.get(x.id)});g.length&&i.select(g)}(T),g=a,a=null,g}t.on("diagram.destroy",_),this.init=function v(w,g,x,T){a&&_(!1),"string"==typeof g&&(T=x,x=g,g=null);var A,$,z,K,U,I=(T=Ce({},o,T||{})).data||{};K=T.trapClick?h:p,w?(A=Hx(w)||w,$=Pb(w),WH(w),"dragstart"===A.type&&Wb(A)):(A=null,$={x:0,y:0}),z=l($),g||(g=z),U=function ilt(t){return typeof TouchEvent<"u"&&t instanceof TouchEvent}(A),a=Ce({prefix:x,data:I,payload:{},globalStart:$,displacement:uf(g,z),localStart:z,isTouch:U},T),T.manual||(U?(mn.bind(document,"touchstart",m,!0),mn.bind(document,"touchcancel",_,!0),mn.bind(document,"touchmove",d,!0),mn.bind(document,"touchend",p,!0)):(mn.bind(document,"mousemove",d),mn.bind(document,"dragstart",Wb),mn.bind(document,"selectstart",Wb),mn.bind(document,"mousedown",K,!0),mn.bind(document,"mouseup",K,!0)),mn.bind(document,"keyup",f),t.on("element.hover",y),t.on("element.out",E)),c("init"),T.autoActivate&&d(w,!0)},this.move=d,this.hover=y,this.out=E,this.end=p,this.cancel=_,this.context=function(){return a},this.setOptions=function(w){Ce(o,w)}}u1e.$inject=["eventBus","canvas","selection","elementRegistry"];const _m={__depends__:[rlt,jc],dragging:["type",u1e]};function h3(t,n,i){this._canvas=i,this._opts=Ce({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},t);var s=this;n.on("drag.move",function(o){var a=s._toBorderPoint(o);s.startScroll(a)}),n.on(["drag.cleanup"],function(){s.stopScroll()})}function olt(t,n,i){return n<t&&t<i}h3.$inject=["config.autoScroll","eventBus","canvas"],h3.prototype.startScroll=function(t){var n=this._canvas,i=this._opts,s=this,o=n.getContainer().getBoundingClientRect(),a=[t.x,t.y,o.width-t.x,o.height-t.y];this.stopScroll();for(var l=0,c=0,u=0;u<4;u++)olt(a[u],i.scrollThresholdOut[u],i.scrollThresholdIn[u])&&(0===u?l=i.scrollStep:1==u?c=i.scrollStep:2==u?l=-i.scrollStep:3==u&&(c=-i.scrollStep));(0!==l||0!==c)&&(n.scroll({dx:l,dy:c}),this._scrolling=setTimeout(function(){s.startScroll(t)},i.scrollRepeatTimeout))},h3.prototype.stopScroll=function(){clearTimeout(this._scrolling)},h3.prototype.setOptions=function(t){this._opts=Ce({},this._opts,t)},h3.prototype._toBorderPoint=function(t){var n=this._canvas._container.getBoundingClientRect(),i=Pb(t.originalEvent);return{x:i.x-n.left,y:i.y-n.top}};const d1e={__depends__:[_m],__init__:["autoScroll"],autoScroll:["type",h3]};function Eq(t){this._commandStack=t.get("commandStack",!1)}Eq.$inject=["injector"],Eq.prototype.allowed=function(t,n){var i=!0,s=this._commandStack;return s&&(i=s.canExecute(t,n)),void 0===i||i};const ep={__init__:["rules"],rules:["type",Eq]};var GA=Math.round,alt=Math.max;function xq(t,n){return function ult(t,n){var i,s;for(i=0;s=t[i];i++)if(WS(s,n)<=10)return{point:t[i],bendpoint:!0,index:i};return null}(t,n)||function dlt(t,n){var a,i=gfe(function llt(t,n){return[["M",t.x,t.y],["m",0,-n],["a",n,n,0,1,1,0,2*n],["a",n,n,0,1,1,0,-2*n],["z"]]}(n,10),function clt(t){var n=[];return t.forEach(function(i,s){n.push([0===s?"M":"L",i.x,i.y])}),n}(t)),s=i[0],o=i[i.length-1];return s?s!==o?s.segment2!==o.segment2?{point:t[a=alt(s.segment2,o.segment2)-1],bendpoint:!0,index:a}:{point:{x:GA(s.x+o.x)/2,y:GA(s.y+o.y)/2},index:s.segment2}:{point:{x:GA(s.x),y:GA(s.y)},index:s.segment2}:null}(t,n)}function f1e(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function h1e(t){return Math.atan((t[1].y-t[0].y)/(t[1].x-t[0].x))}function wq(t,n){var i=n[0],s=n[1],o={x:s.x-i.x,y:s.y-i.y},a=function flt(t,n,i){var s=[{n:t[0]-i[0],lambda:n[0]},{n:t[1]-i[1],lambda:n[1]}];return-(s[0].n*n[0]+s[1].n*n[1])/(s[0].lambda*n[0]+s[1].lambda*n[1])}([i.x,i.y],[o.x,o.y],[t.x,t.y]);return{x:i.x+a*o.x,y:i.y+a*o.y}}function m1e(t,n){var i=wq(t,n);return f1e({x:i.x-t.x,y:i.y-t.y})}function KA(t,n){return f1e({x:t.x-n.x,y:t.y-n.y})}var g1e="djs-bendpoint",y1e="djs-segment-dragger";function Cq(t,n,i){var s=function hlt(t,n){var o,i=Pb(n),s=t._container.getBoundingClientRect();o={x:s.left,y:s.top};var a=t.viewbox();return{x:a.x+(i.x-o.x)/a.scale,y:a.y+(i.y-o.y)/a.scale}}(t,i);return xq(n,s)}function Sq(t,n){var i=an("g");di(i).add(g1e),On(t,i);var s=an("circle");Wt(s,{cx:0,cy:0,r:4}),di(s).add("djs-visual"),On(i,s);var o=an("circle");return Wt(o,{cx:0,cy:0,r:10}),di(o).add("djs-hit"),On(i,o),n&&di(i).add(n),i}function v1e(t,n,i){var s=an("g"),o=jH(n,i),a=em(n,i);return On(t,s),function mlt(t,n,i,s){var o=an("g");On(t,o);var u=function ylt(t,n,i){return Oq("h"===i?n.x-t.x:n.y-t.y)}(n,i,s),p=an("rect");Wt(p,{x:-9,y:-3,width:18,height:6}),di(p).add("djs-visual"),On(o,p);var f=an("rect");return Wt(f,{x:-u/2,y:-8.5,width:u,height:17}),di(f).add("djs-hit"),On(o,f),sfe(o,"v"===s?90:0),o}(s,n,i,a),di(s).add(y1e),di(s).add("h"===a?"horizontal":"vertical"),tl(s,o.x,o.y),s}function Oq(t){return Math.abs(Math.round(2*t/3))}function b1e(t,n,i,s,o){function u(w,g,x){mn.bind(w,g,function(T){i.triggerMouseEvent(g,T,x),T.stopPropagation()})}function d(w,g){var x=n.getLayer("overlays"),T=$n('.djs-bendpoints[data-element-id="'+Sb(w.id)+'"]',x);return!T&&g&&(Wt(T=an("g"),{"data-element-id":w.id}),di(T).add("djs-bendpoints"),On(x,T),u(T,"mousedown",w),u(T,"click",w),u(T,"dblclick",w)),T}function p(w,g){return $n('.djs-segment-dragger[data-segment-idx="'+w+'"]',g)}function f(w,g){g.waypoints.forEach(function(x,T){var I=Sq(w);On(w,I),tl(I,x.x,x.y)}),Sq(w,"floating")}function h(w,g){for(var T,I,A,x=g.waypoints,$=1;$<x.length;$++)em(T=x[$-1],I=x[$])&&(Wt(A=v1e(w,T,I),{"data-segment-idx":$}),u(A,"mousemove",g))}function E(w){var g=d(w);return g||(f(g=d(w,!0),w),h(g,w)),g}function _(w){var g=d(w);g&&(function y(w){fe(lf("."+y1e,w),function(g){Ro(g)})}(g),function m(w){fe(lf("."+g1e,w),function(g){Ro(g)})}(g),h(g,w),f(g,w))}t.on("connection.changed",function(w){_(w.element)}),t.on("connection.remove",function(w){var g=d(w.element);g&&Ro(g)}),t.on("element.marker.update",function(w){var x,g=w.element;g.waypoints&&(x=E(g),w.add?di(x).add(w.marker):di(x).remove(w.marker))}),t.on("element.mousemove",function(w){var T,I,g=w.element,x=g.waypoints;if(x){if(T=d(g,!0),!(I=Cq(n,x,w.originalEvent)))return;(function S(w,g){var x=$n(".floating",w),T=g.point;x&&tl(x,T.x,T.y)})(T,I),I.bendpoint||function v(w,g,x){var U,H,T=p(g.index,w),I=x[g.index-1],A=x[g.index],$=g.point,z=jH(I,A),K=em(I,A);T&&(U=function blt(t){return $n(".djs-visual",t)}(T),H={x:$.x-z.x,y:$.y-z.y},"v"===K&&(H={x:H.y,y:H.x}),tl(U,H.x,H.y))}(T,I,x)}}),t.on("element.mousedown",function(w){if(C1(w)){var x=w.element;if(x.waypoints)return function c(w,g){var I,x=g.waypoints,T=Cq(n,x,w);if(T)return I=function l(w,g){var T,I,x=w.waypoints;return g.index<=0||g.bendpoint||!(I=em((T={start:x[g.index-1],end:x[g.index]}).start,T.end))?null:Oq("h"===I?T.end.x-T.start.x:T.end.y-T.start.y)/2}(g,T),function a(w,g,x){var A,$,z,K,U,H,T=w.index,I=w.point;return!(T<=0||w.bendpoint)&&(z=jH(A=g[T-1],$=g[T]),K=em(A,$),U=Math.abs(I.x-z.x),H=Math.abs(I.y-z.y),K&&U<=x&&H<=x)}(T,x,I)?o.start(w,g,T.index):s.start(w,g,T.index,!T.bendpoint),!0}(w.originalEvent,x)}}),t.on("selection.changed",function(w){var x=w.newSelection[0];x&&x.waypoints&&E(x)}),t.on("element.hover",function(w){var g=w.element;g.waypoints&&(E(g),i.registerEvent(w.gfx,"mousemove","element.mousemove"))}),t.on("element.out",function(w){i.unregisterEvent(w.gfx,"mousemove","element.mousemove")}),t.on("element.updateId",function(w){var g=w.element,x=w.newId;if(g.waypoints){var T=d(g);T&&Wt(T,{"data-element-id":x})}}),this.addHandles=E,this.updateHandles=_,this.getBendpointsContainer=d,this.getSegmentDragger=p}b1e.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var _1e=Math.round,Gb="reconnectStart",Kb="reconnectEnd",R6="updateWaypoints";function Tq(t,n,i,s,o,a){this._injector=t,this.start=function(l,c,u,d){var y,p=i.getGraphics(c),f=c.source,h=c.target,E=(y=d||0!==u?d||u!==c.waypoints.length-1?R6:Kb:Gb)===R6?"connection.updateWaypoints":"connection.reconnect",_=o.allowed(E,{connection:c,source:f,target:h});!1===_&&(_=o.allowed(E,{connection:c,source:h,target:f})),!1!==_&&s.init(l,"bendpoint.move",{data:{connection:c,connectionGfx:p,context:{allowed:_,bendpointIndex:u,connection:c,source:f,target:h,insert:d,type:y}}})},n.on("bendpoint.move.hover",function(l){var m,c=l.context,u=c.connection,d=u.source,p=u.target,f=l.hover,h=c.type;if(c.hover=f,f){var y=h===R6?"connection.updateWaypoints":"connection.reconnect";if(m=c.allowed=o.allowed(y,{connection:u,source:h===Gb?f:d,target:h===Kb?f:p}))return c.source=h===Gb?f:d,void(c.target=h===Kb?f:p);!1===m&&(m=c.allowed=o.allowed(y,{connection:u,source:h===Kb?f:p,target:h===Gb?f:d})),m&&(c.source=h===Kb?f:p,c.target=h===Gb?f:d)}}),n.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(l){var c=l.context,u=c.type;c.hover=null,c.source=null,c.target=null,u!==R6&&(c.allowed=!1)}),n.on("bendpoint.move.end",function(l){var c=l.context,u=c.allowed,d=c.bendpointIndex,p=c.connection,f=c.insert,h=p.waypoints.slice(),m=c.source,y=c.target,E=c.type,_=c.hints||{},S={x:_1e(l.x),y:_1e(l.y)};if(!u)return!1;E===R6?(f?h.splice(d,0,S):h[d]=S,_.bendpointMove={insert:f,bendpointIndex:d},h=this.cropWaypoints(p,h),a.updateWaypoints(p,function hZe(t){t=t.slice();for(var i,s,o,n=0;t[n];)s=t[n-1],0===WS(i=t[n],o=t[n+1])||VH(s,o,i)?t.splice(n,1):n++;return t}(h),_)):(E===Gb?(_.docking="source",YA(c)&&(_.docking="target",_.newWaypoints=h.reverse())):E===Kb&&(_.docking="target",YA(c)&&(_.docking="source",_.newWaypoints=h.reverse())),a.reconnect(p,m,y,S,_))},this)}function YA(t){var n=t.hover,i=t.source,s=t.target,o=t.type;return o===Gb?n&&s&&n===s&&i!==s:o===Kb?n&&i&&n===i&&i!==s:void 0}Tq.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],Tq.prototype.cropWaypoints=function(t,n){var i=this._injector.get("connectionDocking",!1);if(!i)return n;var s=t.waypoints;return t.waypoints=n,t.waypoints=i.getCroppedWaypoints(t),n=t.waypoints,t.waypoints=s,n};var E1e="updateWaypoints",N6="connect-ok",XA="connect-not-ok",x1e="connect-hover",w1e="djs-updating",C1e="djs-dragging";function O1e(t,n,i,s){this._injector=n;var o=n.get("connectionPreview",!1);i.on("bendpoint.move.start",function(a){var l=a.context,c=l.bendpointIndex,u=l.connection,d=l.insert,p=u.waypoints,f=p.slice();l.waypoints=p,d&&f.splice(c,0,{x:a.x,y:a.y}),u.waypoints=f,di(l.draggerGfx=Sq(s.getLayer("overlays"))).add("djs-dragging"),s.addMarker(u,C1e),s.addMarker(u,w1e)}),i.on("bendpoint.move.hover",function(a){var l=a.context,c=l.allowed,u=l.hover,d=l.type;if(u){if(s.addMarker(u,x1e),d===E1e)return;c?(s.removeMarker(u,XA),s.addMarker(u,N6)):!1===c&&(s.removeMarker(u,N6),s.addMarker(u,XA))}}),i.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,function(a){var l=a.context,c=l.hover,u=l.target;c&&(s.removeMarker(c,x1e),s.removeMarker(c,u?N6:XA))}),i.on("bendpoint.move.move",function(a){var l=a.context,c=l.allowed,u=l.bendpointIndex,d=l.draggerGfx,p=l.hover,f=l.type,h=l.connection,m=h.source,y=h.target,E=h.waypoints.slice(),_={x:a.x,y:a.y},S=l.hints||{},v={};o&&(S.connectionStart&&(v.connectionStart=S.connectionStart),S.connectionEnd&&(v.connectionEnd=S.connectionEnd),"reconnectStart"===f?YA(l)?(v.connectionEnd=v.connectionEnd||_,v.source=y,v.target=p||m,E=E.reverse()):(v.connectionStart=v.connectionStart||_,v.source=p||m,v.target=y):"reconnectEnd"===f?YA(l)?(v.connectionStart=v.connectionStart||_,v.source=p||y,v.target=m,E=E.reverse()):(v.connectionEnd=v.connectionEnd||_,v.source=m,v.target=p||y):(v.noCropping=!0,v.noLayout=!0,E[u]=_),f===E1e&&(E=t.cropWaypoints(h,E)),v.waypoints=E,o.drawPreview(l,c,v)),tl(d,a.x,a.y)},this),i.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,function(a){var l=a.context,c=l.connection,u=l.draggerGfx,d=l.hover,p=l.target;c.waypoints=l.waypoints,Ro(u),s.removeMarker(c,w1e),s.removeMarker(c,C1e),d&&(s.removeMarker(d,N6),s.removeMarker(d,p?N6:XA)),o&&o.cleanUp(l)})}O1e.$inject=["bendpointMove","injector","eventBus","canvas"];var T1e="connect-hover",P1e="djs-updating";function D1e(t,n,i){return Pq(t,n,t[n]+i)}function Pq(t,n,i){return{x:"x"===n?i:t.x,y:"y"===n?i:t.y}}function k1e(t){return"x"===t?"y":"x"}function M1e(t,n,i){var s,o;return t.original?t.original:(s=An(n),Pq(t,o=k1e(i),s[o]))}function A1e(t,n,i,s,o,a){var l=t.get("connectionDocking",!1);function c(f,h){if(!l)return h;var y,m=f.waypoints;return f.waypoints=h,y=l.getCroppedWaypoints(f),f.waypoints=m,y}function u(f){o.update("connection",f.connection,f.connectionGfx)}this.start=function(f,h,m){var T,I,A,E=i.getGraphics(h),_=m-1,S=m,v=h.waypoints,w=v[_],g=v[S],x=Cq(i,v,f);(T=em(w,g))&&(I="v"===T?"x":"y",0===_&&(w=M1e(w,h.source,I)),S===v.length-1&&(g=M1e(g,h.target,I)),s.init(f,A=x?x.point:{x:(w.x+g.x)/2,y:(w.y+g.y)/2},"connectionSegment.move",{cursor:"x"===I?"resize-ew":"resize-ns",data:{connection:h,connectionGfx:E,context:{connection:h,segmentStartIndex:_,segmentEndIndex:S,segmentStart:w,segmentEnd:g,axis:I,dragPosition:A}}}))},n.on("connectionSegment.move.start",function(f){var h=f.context,m=f.connection,y=i.getLayer("overlays");h.originalWaypoints=m.waypoints.slice(),h.draggerGfx=v1e(y,h.segmentStart,h.segmentEnd),di(h.draggerGfx).add("djs-dragging"),i.addMarker(m,P1e)}),n.on("connectionSegment.move.move",function(f){var A,$,h=f.context,m=h.connection,y=h.segmentStartIndex,E=h.segmentEndIndex,_=h.segmentStart,S=h.segmentEnd,v=h.axis,w=h.originalWaypoints.slice(),g=D1e(_,v,f["d"+v]),x=D1e(S,v,f["d"+v]),T=w.length,I=0;w[y]=g,w[E]=x,y<2&&(A=Ws(m.source,g),1===y?"intersect"===A&&(w.shift(),w[0]=g,I--):"intersect"!==A&&(w.unshift(_),I++)),E>T-3&&($=Ws(m.target,x),E===T-2?"intersect"===$&&(w.pop(),w[w.length-1]=x):"intersect"!==$&&w.push(S)),h.newWaypoints=m.waypoints=c(m,w),function d(f,h,m){var y=f.newWaypoints,g=function xlt(t,n,i,s){var o=Math.max(n[s],i[s]),a=Math.min(n[s],i[s]);return Pq(n,s,Math.min(Math.max(a+20,t[s]),o-20))}(m,y[f.segmentStartIndex+h],y[f.segmentEndIndex+h],k1e(f.axis));tl(f.draggerGfx,g.x,g.y)}(h,I,f),h.newSegmentStartIndex=y+I,u(f)}),n.on("connectionSegment.move.hover",function(f){f.context.hover=f.hover,i.addMarker(f.hover,T1e)}),n.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(f){var h=f.context.hover;h&&i.removeMarker(h,T1e)}),n.on("connectionSegment.move.cleanup",function(f){var h=f.context,m=h.connection;h.draggerGfx&&Ro(h.draggerGfx),i.removeMarker(m,P1e)}),n.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(f){var h=f.context;h.connection.waypoints=h.originalWaypoints,u(f)}),n.on("connectionSegment.move.end",function(f){var h=f.context,m=h.connection,y=h.newWaypoints,E=h.newSegmentStartIndex,_=function p(f,h){var m=0;return{waypoints:f.filter(function(E,_){return!VH(f[_-1],f[_+1],E)||(m=_<=h?m-1:m,!1)}),segmentOffset:m}}(y=y.map(function(x){return{original:x.original,x:Math.round(x.x),y:Math.round(x.y)}}),E),v=c(m,_.waypoints);a.updateWaypoints(m,v,{segmentMove:{segmentStartIndex:h.segmentStartIndex,newSegmentStartIndex:E+_.segmentOffset}})})}A1e.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var wlt=Math.abs,I1e=Math.round;function R1e(t){return{x:t.x,y:t.y}}function N1e(t){return{x:t.x+t.width,y:t.y+t.height}}function tp(t,n){return!t||isNaN(t.x)||isNaN(t.y)?n:{x:I1e(t.x+t.width/2),y:I1e(t.y+t.height/2)}}function m3(t,n){var i=t.snapped;return!!i&&("string"==typeof n?i[n]:i.x&&i.y)}function Bo(t,n,i){if("string"!=typeof n)throw new Error("axis must be in [x, y]");if("number"!=typeof i&&!1!==i)throw new Error("value must be Number or false");var s,o=t[n],a=t.snapped=t.snapped||{};return!1===i?a[n]=!1:(a[n]=!0,t[n]+=s=i-o,t["d"+n]+=s),o}function L1e(t){return t.children||[]}var Slt=Math.abs,F1e=Math.round;function B1e(t){function n(a,l){if(Xt(a)){for(var c=a.length;c--;)if(Slt(a[c]-l)<=10)return a[c]}else{var u=l%(a=+a);if(u<10)return l-u;if(u>a-10)return l-u+a}return l}function i(a,l){return a.waypoints?function glt(t,n){var i=function vlt(t,n){for(var o,i=n.waypoints,s=1/0,a=0;a<i.length-1;a++){var u=m1e(t,[i[a],i[a+1]]);u<s&&(s=u,o=a)}return[i[o],i[o+1]]}(t,n);return wq(t,i)}(l,a):a.width?{x:F1e(a.width/2+a.x),y:F1e(a.height/2+a.y)}:void 0}t.on("connectionSegment.move.move",1500,function(a){var d,p,l=function s(a){var l=a.context,c=l.snapPoints,u=l.connection,d=u.waypoints,f=l.segmentStartIndex,m=l.segmentEndIndex,y=l.axis;if(c)return c;var E=[d[f-1],l.segmentStart,l.segmentEnd,d[m+1]];return f<2&&E.unshift(i(u.source,a)),m>d.length-3&&E.unshift(i(u.target,a)),l.snapPoints=c={horizontal:[],vertical:[]},fe(E,function(_){_&&(_=_.original||_,"y"===y&&c.horizontal.push(_.y),"x"===y&&c.vertical.push(_.x))}),c}(a),c=a.x,u=a.y;if(l){var f=c-(d=n(l.vertical,c)),h=u-(p=n(l.horizontal,u));Ce(a,{dx:a.dx-f,dy:a.dy-h,x:d,y:p}),(f||-1!==l.vertical.indexOf(c))&&Bo(a,"x",d),(h||-1!==l.horizontal.indexOf(u))&&Bo(a,"y",p)}}),t.on(["connect.hover","connect.move","connect.end"],1500,function(a){var c=a.context.hover,u=c&&i(c,a);!Zi(c)||!u||!u.x||!u.y||(Bo(a,"x",u.x),Bo(a,"y",u.y))}),t.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(a){var h,m,l=a.context,c=function o(a){var l=a.snapPoints,c=a.connection.waypoints,u=a.bendpointIndex;if(l)return l;var d=[c[u-1],c[u+1]];return a.snapPoints=l={horizontal:[],vertical:[]},fe(d,function(p){p&&(l.horizontal.push((p=p.original||p).y),l.vertical.push(p.x))}),l}(l),u=l.hover,d=u&&i(u,a),p=a.x,f=a.y;if(c){var y=p-(h=n(d?c.vertical.concat([d.x]):c.vertical,p)),E=f-(m=n(d?c.horizontal.concat([d.y]):c.horizontal,f));Ce(a,{dx:a.dx-y,dy:a.dy-E,x:a.x-y,y:a.y-E}),(y||-1!==c.vertical.indexOf(p))&&Bo(a,"x",h),(E||-1!==c.horizontal.indexOf(f))&&Bo(a,"y",m)}})}B1e.$inject=["eventBus"];const $1e={__depends__:[_m,ep],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",b1e],bendpointMove:["type",Tq],bendpointMovePreview:["type",O1e],connectionSegmentMove:["type",A1e],bendpointSnapping:["type",B1e]};function V1e(t,n,i,s){function o(l,c){return s.allowed("connection.create",{source:l,target:c})}t.on("connect.hover",function(l){var p,c=l.context,u=c.start,d=l.hover;if(c.hover=d,!Wd(p=c.canExecute=o(u,d))){if(!1!==p)return c.source=u,void(c.target=d);p=c.canExecute=function a(l,c){return o(c,l)}(u,d),!Wd(p)&&!1!==p&&(c.source=d,c.target=u)}}),t.on(["connect.out","connect.cleanup"],function(l){var c=l.context;c.hover=null,c.source=null,c.target=null,c.canExecute=!1}),t.on("connect.end",function(l){var c=l.context,u=c.canExecute,d=c.connectionStart,p={x:l.x,y:l.y},f=c.source,h=c.target;if(!u)return!1;var m=null,y={connectionStart:kq(c)?p:d,connectionEnd:kq(c)?d:p};si(u)&&(m=u),c.connection=i.connect(f,h,m,y)}),this.start=function(l,c,u,d){si(u)||(d=u,u=An(c)),n.init(l,"connect",{autoActivate:d,data:{shape:c,context:{start:c,connectionStart:u}}})}}function kq(t){var n=t.hover,i=t.source;return n&&i&&n===i&&i!==t.target}V1e.$inject=["eventBus","dragging","modeling","rules"];var j1e="connect-ok",z1e="connect-not-ok";function H1e(t,n,i){var s=t.get("connectionPreview",!1);s&&n.on("connect.move",function(o){var a=o.context,l=a.canExecute,c=a.hover,u=a.source,d=a.start,f=a.target,h=a.connectionStart||a.startPosition,m=a.connectionEnd||{x:o.x,y:o.y},y=h,E=m;kq(a)&&(y=m,E=h),s.drawPreview(a,l,{source:u||d,target:f||c,connectionStart:y,connectionEnd:E})}),n.on("connect.hover",900,function(o){var c=o.context.canExecute;null!==c&&i.addMarker(o.hover,c?j1e:z1e)}),n.on(["connect.out","connect.cleanup"],1100,function(o){var a=o.hover;a&&(i.removeMarker(a,j1e),i.removeMarker(a,z1e))}),s&&n.on("connect.cleanup",function(o){s.cleanUp(o.context)})}H1e.$inject=["injector","eventBus","canvas"];const QA={__depends__:[jc,ep,_m],__init__:["connectPreview"],connect:["type",V1e],connectPreview:["type",H1e]};function Em(t,n,i,s){this._canvas=n,this._graphicsFactory=i,this._elementFactory=s,this._connectionDocking=t.get("connectionDocking",!1),this._layouter=t.get("layouter",!1)}Em.$inject=["injector","canvas","graphicsFactory","elementFactory"],Em.prototype.drawPreview=function(t,n,i){var m,s=t.connectionPreviewGfx,o=t.getConnection,a=(i=i||{}).source,l=i.target,c=i.waypoints,u=i.connectionStart,d=i.connectionEnd,p=i.noLayout,f=i.noCropping,h=i.noNoop,y=this;s||(s=t.connectionPreviewGfx=this.createConnectionPreviewGfx()),Eb(s),o||(o=t.getConnection=function Dlt(t){var n={};return function(i){var s=JSON.stringify(i),o=n[s];return o||(o=n[s]=t.apply(null,arguments)),o}}(function(E,_,S){return y.getConnection(E,_,S)})),n&&(m=o(n,a,l)),m?(m.waypoints=c||[],this._layouter&&!p&&(m.waypoints=this._layouter.layoutConnection(m,{source:a,target:l,connectionStart:u,connectionEnd:d,waypoints:i.waypoints||m.waypoints})),(!m.waypoints||!m.waypoints.length)&&(m.waypoints=[a?An(a):u,l?An(l):d]),this._connectionDocking&&(a||l)&&!f&&(m.waypoints=this._connectionDocking.getCroppedWaypoints(m,a,l)),this._graphicsFactory.drawConnection(s,m,{stroke:"var(--element-dragger-color)"})):!h&&this.drawNoopPreview(s,i)},Em.prototype.drawNoopPreview=function(t,n){var i=n.source,s=n.target,o=n.connectionStart||An(i),a=n.connectionEnd||An(s),l=this.cropWaypoints(o,a,i,s);On(t,this.createNoopConnection(l[0],l[1]))},Em.prototype.cropWaypoints=function(t,n,i,s){var o=this._graphicsFactory,a=i&&o.getShapePath(i),l=s&&o.getShapePath(s),c=o.getConnectionPath({waypoints:[t,n]});return[t=i&&UH(a,c,!0)||t,n=s&&UH(l,c,!1)||n]},Em.prototype.cleanUp=function(t){t&&t.connectionPreviewGfx&&Ro(t.connectionPreviewGfx)},Em.prototype.getConnection=function(t){var n=function klt(t){return si(t)?t:{}}(t);return this._elementFactory.createConnection(n)},Em.prototype.createConnectionPreviewGfx=function(){var t=an("g");return Wt(t,{pointerEvents:"none"}),di(t).add("djs-dragger"),On(this._canvas.getActiveLayer(),t),t},Em.prototype.createNoopConnection=function(t,n){return zS([t,n],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};const U1e={__init__:["connectionPreview"],connectionPreview:["type",Em]},Mlt=new Vx("ps");var Alt=["marker-start","marker-mid","marker-end"],Ilt=["circle","ellipse","line","path","polygon","polyline","path","rect"];function B1(t,n,i,s){this._elementRegistry=t,this._canvas=i,this._styles=s}B1.$inject=["elementRegistry","eventBus","canvas","styles"],B1.prototype.cleanUp=function(){console.warn("PreviewSupport#cleanUp is deprecated and will be removed in future versions. You do not need to manually clean up previews anymore. cf. https://github.com/bpmn-io/diagram-js/pull/906")},B1.prototype.getGfx=function(t){return this._elementRegistry.getGraphics(t)},B1.prototype.addDragger=function(t,n,i,s="djs-dragger"){var o=DH(i=i||this.getGfx(t)),a=i.getBoundingClientRect();return this._cloneMarkers(O1(o),s),Wt(o,this._styles.cls(s,[],{x:a.top,y:a.left})),On(n,o),Wt(o,"data-preview-support-element-id",t.id),o},B1.prototype.addFrame=function(t,n){var i=an("rect",{class:"djs-resize-overlay",width:t.width,height:t.height,x:t.x,y:t.y});return On(n,i),Wt(i,"data-preview-support-element-id",t.id),i},B1.prototype._cloneMarkers=function(t,n="djs-dragger",i=t){var s=this;t.childNodes&&t.childNodes.forEach(o=>{s._cloneMarkers(o,n,i)}),function Flt(t){return-1!==Ilt.indexOf(t.nodeName)}(t)&&Alt.forEach(function(o){if(Wt(t,o)){var a=function Rlt(t,n,i){var s=function Nlt(t){return t.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}(Wt(t,n));return $n("marker#"+s,i||document)}(t,o,s._canvas.getContainer());a&&s._cloneMarker(i,t,a,o,n)}})},B1.prototype._cloneMarker=function(t,n,i,s,o="djs-dragger"){var a=[i.id,o,Mlt.next()].join("-"),l=$n("marker#"+i.id,t);t=t||this._canvas._svg;var c=l||DH(i);c.id=a,di(c).add(o);var u=$n(":scope > defs",t);u||On(t,u=an("defs")),On(u,c);var d=function Llt(t){return"url(#"+t+")"}(c.id);Wt(n,s,d)};const g3={__init__:["previewSupport"],previewSupport:["type",B1]},ZA="complex-preview",Vlt={__depends__:[g3],__init__:["complexPreview"],complexPreview:["type",(()=>{class t{constructor(i,s,o){this._canvas=i,this._graphicsFactory=s,this._previewSupport=o,this._markers=[]}create(i){this.cleanUp();const{created:s=[],moved:o=[],removed:a=[],resized:l=[]}=i,c=this._canvas.getLayer(ZA);s.filter(u=>!function $lt(t){return t.hidden}(u)).forEach(u=>{let d;Zi(u)?(d=this._graphicsFactory._createContainer("connection",an("g")),this._graphicsFactory.drawConnection(O1(d),u)):(d=this._graphicsFactory._createContainer("shape",an("g")),this._graphicsFactory.drawShape(O1(d),u),tl(d,u.x,u.y)),this._previewSupport.addDragger(u,c,d)}),o.forEach(({element:u,delta:d})=>{this._previewSupport.addDragger(u,c,void 0,"djs-dragging"),this._canvas.addMarker(u,"djs-element-hidden"),this._markers.push([u,"djs-element-hidden"]);const p=this._previewSupport.addDragger(u,c);Zi(u)?tl(p,d.x,d.y):tl(p,u.x+d.x,u.y+d.y)}),a.forEach(u=>{this._previewSupport.addDragger(u,c,void 0,"djs-dragging"),this._canvas.addMarker(u,"djs-element-hidden"),this._markers.push([u,"djs-element-hidden"])}),l.forEach(({shape:u,bounds:d})=>{this._canvas.addMarker(u,"djs-hidden"),this._markers.push([u,"djs-hidden"]),this._previewSupport.addDragger(u,c,void 0,"djs-dragging");const p=this._graphicsFactory._createContainer("shape",an("g"));this._graphicsFactory.drawShape(O1(p),u,{width:d.width,height:d.height}),tl(p,d.x,d.y),this._previewSupport.addDragger(u,c,p)})}cleanUp(){Eb(this._canvas.getLayer(ZA)),this._markers.forEach(([i,s])=>this._canvas.removeMarker(i,s)),this._markers=[]}show(){this._canvas.showLayer(ZA)}hide(){this._canvas.hideLayer(ZA)}}return t.$inject=["canvas","graphicsFactory","previewSupport"],t})()]};var Mq=["top","bottom","left","right"];function Aq(t,n){function i(o){if(E7(o)&&!Zi(o)){var a=function Hlt(t){var n=An(t.label),s=q1e(An(t),n);if(function Ult(t){return-1!==Mq.indexOf(t)}(s)){var o=function zlt(t){var n=An(t),i=[].concat(t.incoming.map(function(s){return s.waypoints[s.waypoints.length-2]}),t.outgoing.map(function(s){return s.waypoints[1]})).map(function(s){return q1e(n,s)});return i}(t);if(t.host){var a=function jlt(t){var o,n=t.host,s=Ws(An(t),n);o=s.indexOf("-")>=0?s.split("-"):[s];var a=Mq.filter(function(l){return-1===o.indexOf(l)});return a}(t);o=o.concat(a)}var l=Mq.filter(function(c){return-1===o.indexOf(c)});if(-1===l.indexOf(s))return l[0]}}(o);a&&function s(o,a){var l=An(o),c=o.label,u=An(c);if(c.parent){var p,d=En(o);switch(a){case"top":p={x:l.x,y:d.top-10-c.height/2};break;case"left":p={x:d.left-10-c.width/2,y:l.y};break;case"bottom":p={x:l.x,y:d.bottom+10+c.height/2};break;case"right":p={x:d.right+10+c.width/2,y:l.y}}var f=uf(p,u);n.moveShape(c,f)}}(o,a)}}pt.call(this,t),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(o){var a=o.context,l=a.connection,u=l.target;!1!==(a.hints||{}).createElementsBehavior&&(i(l.source),i(u))}),this.postExecuted(["label.create"],function(o){var a=o.context;!1!==(a.hints||{}).createElementsBehavior&&i(a.shape.labelTarget)}),this.postExecuted(["elements.create"],function(o){var a=o.context;!1!==(a.hints||{}).createElementsBehavior&&a.elements.forEach(function(u){i(u)})})}function q1e(t,n){return Ws(n,t,5)}function Iq(t){pt.call(this,t),this.preExecute("shape.append",function(n){var i=n.source,s=n.shape;n.position||(n.position=D(s,"bpmn:TextAnnotation")?{x:i.x+i.width/2+75,y:i.y-50-s.height/2}:{x:i.x+i.width+80+s.width/2,y:i.y+i.height/2})},!0)}function Rq(t,n){t.invoke(pt,this),this.postExecute("shape.move",function(i){var s=i.newParent,o=i.shape;fe(Bn(o.incoming.concat(o.outgoing),function(l){return D(l,"bpmn:Association")}),function(l){n.moveConnection(l,{x:0,y:0},s)})},!0)}function eI(t,n){n.invoke(pt,this),this._bpmnReplace=t;var i=this;this.postExecuted("elements.create",500,function(s){var o=s.elements;1===(o=o.filter(function(a){return G1e(a,a.host)})).length&&o.map(function(a){return o.indexOf(a)}).forEach(function(a){s.elements[a]=i._replaceShape(o[a],o[a])})},!0),this.preExecute("elements.move",500,function(s){var o=s.shapes,a=s.newHost;if(1===o.length){var l=o[0];G1e(l,a)&&(s.shapes=[i._replaceShape(l,a)])}},!0)}function G1e(t,n){return!ui(t)&&un(t,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!n}function Nq(t,n){function i(s){return Bn(s.attachers,function(o){return D(o,"bpmn:BoundaryEvent")})}pt.call(this,t),this.postExecute("connection.create",function(s){var o=s.context.source,a=s.context.target,l=i(a);D(o,"bpmn:EventBasedGateway")&&D(a,"bpmn:ReceiveTask")&&l.length>0&&n.removeElements(l)}),this.postExecute("connection.reconnect",function(s){var a=s.context.newSource;D(s.context.oldSource,"bpmn:Gateway")&&D(a,"bpmn:EventBasedGateway")&&fe(a.outgoing,function(l){var c=l.target,u=i(c);D(c,"bpmn:ReceiveTask")&&u.length>0&&n.removeElements(u)})})}function Lq(t,n,i){function d(_){n.updateProperties(_,{isForCompensation:!0})}function p(_){n.updateProperties(_,{isForCompensation:void 0})}pt.call(this,t),this.preExecute("shape.replace",function c(_){const{newData:S,oldShape:v}=_;if(y3(_.oldShape)&&"bpmn:CompensateEventDefinition"!==S.eventDefinitionType||"bpmn:BoundaryEvent"!==S.type){const w=v.outgoing.find(({target:g})=>L6(g));w&&w.target&&(_._connectionTarget=w.target)}else if(!y3(_.oldShape)&&"bpmn:CompensateEventDefinition"===S.eventDefinitionType&&"bpmn:BoundaryEvent"===S.type){const w=v.outgoing.find(({target:g})=>tI(g));w&&w.target&&(_._connectionTarget=w.target),function E(_){const S=_.outgoing.filter(v=>D(v,"bpmn:SequenceFlow"));n.removeElements(S)}(v)}},!0),this.postExecuted("shape.replace",function u(_){const{_connectionTarget:S,newShape:v}=_;S&&n.connect(v,S)},!0),this.preExecute("connection.create",function o(_){const S=_.connection,v=_.source,w=_.target;y3(v)&&tI(w)&&(d(w),function h(_,S){_.outgoing.filter(g=>D(g,"bpmn:Association")).filter(g=>L6(g.target)&&!S.includes(g)).forEach(g=>n.removeConnection(g))}(v,[S]))},!0),this.postExecuted("connection.delete",function s(_){const v=_.target;y3(_.source)&&L6(v)&&p(v)},!0),this.postExecuted("connection.reconnect",function a(_){const S=_.newTarget,w=_.oldTarget;if(w!==S){const g=_.oldSource;L6(w)&&p(w),y3(g)&&tI(S)&&d(S)}},!0),this.postExecuted("element.updateProperties",function l(_){const{element:S}=_;L6(S)?(function f(_){for(const S of _.incoming)i.canConnect(S.source,_)||n.removeConnection(S);for(const S of _.outgoing)i.canConnect(_,S.target)||n.removeConnection(S)}(S),function m(_){const S=_.attachers.slice();S.length&&n.removeElements(S)}(S)):tI(S)&&function y(_){const S=_.incoming.filter(v=>y3(v.source));n.removeElements(S)}(S)},!0)}function L6(t){const n=G(t);return n&&n.get("isForCompensation")}function y3(t){return t&&D(t,"bpmn:BoundaryEvent")&&Fx(t,"bpmn:CompensateEventDefinition")}function tI(t){return t&&D(t,"bpmn:Activity")&&!Ea(t)}function Fq(t){t.invoke(pt,this),this.preExecute("shape.create",1500,function(n){var i=n.context,s=i.parent,o=i.shape;D(s,"bpmn:Lane")&&!D(o,"bpmn:Lane")&&(i.parent=p3(s,"bpmn:Participant"))})}function Bq(t,n){pt.call(this,t),this.preExecute("shape.create",function(i){var o=i.context.shape;if(D(o,"bpmn:DataObjectReference")&&"label"!==o.type){var a=n.create("bpmn:DataObject");o.businessObject.dataObjectRef=a}})}function jq(t,n,i){function s(){var o=t.getRootElement();return D(o,"bpmn:Collaboration")?o:i.makeCollaboration()}pt.call(this,n),n.on(["create.start","shape.move.start"],2e3,function(o){var a=o.context,l=a.shape,c=t.getRootElement();if(D(l,"bpmn:Participant")&&D(c,"bpmn:Process")&&c.children.length){var u=c.children.filter(function(f){return!D(f,"bpmn:Group")&&!ui(f)&&!Zi(f)});if(u.length){var d=ea(u),p=function Wlt(t,n){n={width:n.width+40+30,height:n.height+40};var i=Math.max(t.width,n.width),s=Math.max(t.height,n.height);return{x:-i/2,y:-s/2,width:i,height:s}}(l,d);Ce(l,p),a.createConstraints=function Glt(t,n){return{bottom:(n=En(n)).top+t.height/2-20,left:n.right-t.width/2+20,top:n.bottom-t.height/2+20,right:n.left+t.width/2-20-30}}(l,d)}}}),n.on("create.start",2e3,function(o){var l=o.context.shape,c=t.getRootElement(),u=t.getGraphics(c);function d(p){p.element=c,p.gfx=u}D(l,"bpmn:Participant")&&D(c,"bpmn:Process")&&(n.on("element.hover",2e3,d),n.once("create.cleanup",function(){n.off("element.hover",d)}))}),this.preExecute("elements.create",2e3,function(o){var u,l=o.parent,c=function Klt(t){return Gt(t,function(n){return D(n,"bpmn:Participant")})}(o.elements);c&&D(l,"bpmn:Process")&&(o.parent=s(),(u=o.hints=o.hints||{}).participant=c,u.process=l,u.processRef=G(c).get("processRef"))},!0),this.preExecute("shape.create",function(o){var a=o.parent,l=o.shape;D(l,"bpmn:Participant")&&D(a,"bpmn:Process")&&(o.parent=s(),o.process=a,o.processRef=G(l).get("processRef"))},!0),this.execute("shape.create",function(o){var a=o.hints||{},l=o.process||a.process,c=o.shape,u=a.participant;l&&(!u||c===u)&&G(c).set("processRef",G(l))},!0),this.revert("shape.create",function(o){var a=o.hints||{},c=o.processRef||a.processRef,u=o.shape,d=a.participant;(o.process||a.process)&&(!d||u===d)&&G(u).set("processRef",c)},!0),this.postExecute("shape.create",function(o){var l=o.process||o.hints.process,c=o.shape,u=(o.hints||{}).participant;if(l){var d=l.children.slice();u?c===u&&i.moveElements(d,{x:0,y:0},u):i.moveElements(d,{x:0,y:0},c)}},!0)}Jt(Aq,pt),Aq.$inject=["eventBus","modeling"],Jt(Iq,pt),Iq.$inject=["eventBus"],Jt(Rq,pt),Rq.$inject=["injector","modeling"],eI.$inject=["bpmnReplace","injector"],Jt(eI,pt),eI.prototype._replaceShape=function(t,n){var i=function qlt(t){var i=G(t).eventDefinitions;return i&&i[0]}(t),s={type:"bpmn:BoundaryEvent",host:n};return i&&(s.eventDefinitionType=i.$type),this._bpmnReplace.replaceElement(t,s,{layoutConnection:!1})},Nq.$inject=["eventBus","modeling"],Jt(Nq,pt),Jt(Lq,pt),Lq.$inject=["eventBus","modeling","bpmnRules"],Fq.$inject=["injector"],Jt(Fq,pt),Bq.$inject=["eventBus","bpmnFactory"],Jt(Bq,pt),jq.$inject=["canvas","eventBus","modeling"],Jt(jq,pt);var Y1e="__targetRef_placeholder";function zq(t,n){function s(l,c){var u=l.get("properties"),d=Gt(u,function(p){return p.name===Y1e});return!d&&c&&So(u,d=n.create("bpmn:Property",{name:Y1e})),d}function o(l,c){var u=s(l);u&&(function i(l,c,u){return Gt(l.get("dataInputAssociations"),function(p){return p!==u&&p.targetRef===c})}(l,u,c)||go(l.get("properties"),u))}function a(l){var S,c=l.context,u=c.connection,d=u.businessObject,p=u.target,f=p&&p.businessObject,h=c.newTarget,m=h&&h.businessObject,y=c.oldTarget||c.target,E=y&&y.businessObject,_=u.businessObject;E&&E!==f&&o(E,d),m&&m!==f&&o(m,d),f?(S=s(f,!0),_.targetRef=S):_.targetRef=null}pt.call(this,t),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],X1e(a)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],X1e(a))}function X1e(t){return function(n){if(D(n.context.connection,"bpmn:DataInputAssociation"))return t(n)}}function rI(t){this._bpmnUpdater=t}function Hq(t,n,i,s){function a(c){return c.children.filter(function(u){return D(u,"bpmn:DataStoreReference")&&!u.labelTarget})}function l(c,u){var d=c.businessObject||c;if(u=u||function o(){return i.filter(function(c){return D(c,"bpmn:Participant")&&G(c).processRef})[0]}(),u){var p=u.businessObject||u;n.execute("dataStore.updateContainment",{dataStoreBo:d,dataStoreDi:pi(c),newSemanticParent:p.processRef||p,newDiParent:pi(u)})}}pt.call(this,s),n.registerHandler("dataStore.updateContainment",rI),this.preExecute("shape.create",function(c){var u=c.context,d=u.shape;D(d,"bpmn:DataStoreReference")&&"label"!==d.type&&(u.hints||(u.hints={}),u.hints.autoResize=!1)}),this.preExecute("elements.move",function(c){var u=c.context,d=u.shapes;d.filter(function(f){return D(f,"bpmn:DataStoreReference")}).length&&(u.hints||(u.hints={}),u.hints.autoResize=d.filter(function(f){return!D(f,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(c){var d=c.context.shape,p=d.parent;D(d,"bpmn:DataStoreReference")&&"label"!==d.type&&D(p,"bpmn:Collaboration")&&l(d)}),this.postExecute("shape.move",function(c){var u=c.context,d=u.shape,p=u.oldParent,f=d.parent;if(!D(p,"bpmn:Collaboration")&&D(d,"bpmn:DataStoreReference")&&"label"!==d.type&&D(f,"bpmn:Collaboration")){var h=D(p,"bpmn:Participant")?p:function Xlt(t,n){for(;t.parent;){if(D(t.parent,n))return t.parent;t=t.parent}}(p,"bpmn:Participant");l(d,h)}}),this.postExecute("shape.delete",function(c){var d=c.context.shape,p=t.getRootElement();un(d,["bpmn:Participant","bpmn:SubProcess"])&&D(p,"bpmn:Collaboration")&&a(p).filter(function(f){return function Ylt(t,n){for(var i=t.businessObject||t,s=n.businessObject||n;i.$parent;){if(i.$parent===s.processRef||s)return!0;i=i.$parent}return!1}(f,d)}).forEach(function(f){l(f)})}),this.postExecute("canvas.updateRoot",function(c){var u=c.context,p=u.newRoot;a(u.oldRoot).forEach(function(h){D(p,"bpmn:Process")&&l(h,p)})})}zq.$inject=["eventBus","bpmnFactory"],Jt(zq,pt),rI.$inject=["bpmnUpdater"],rI.prototype.execute=function(t){var n=t.dataStoreBo,i=t.dataStoreDi,s=t.newSemanticParent,o=t.newDiParent;return t.oldSemanticParent=n.$parent,t.oldDiParent=i.$parent,this._bpmnUpdater.updateSemanticParent(n,s),this._bpmnUpdater.updateDiParent(i,o),[]},rI.prototype.revert=function(t){var i=t.dataStoreDi,o=t.oldDiParent;return this._bpmnUpdater.updateSemanticParent(t.dataStoreBo,t.oldSemanticParent),this._bpmnUpdater.updateDiParent(i,o),[]},Hq.$inject=["canvas","commandStack","elementRegistry","eventBus"],Jt(Hq,pt);var iI=Math.max,sI=Math.min;function Q1e(t,n){return{top:t.top-n.top,right:t.right-n.right,bottom:t.bottom-n.bottom,left:t.left-n.left}}function Jlt(t,n){return{x:t.x+(n.left||0),y:t.y+(n.top||0),width:t.width-(n.left||0)+(n.right||0),height:t.height-(n.top||0)+(n.bottom||0)}}function oI(t,n,i){var s=n[t],o=i.min&&i.min[t],a=i.max&&i.max[t];return Ln(o)&&(s=(/top|left/.test(t)?sI:iI)(s,o)),Ln(a)&&(s=(/top|left/.test(t)?iI:sI)(s,a)),s}function F6(t,n){return typeof t<"u"?t:20}function rct(t){return!(t.waypoints||"label"===t.type)}function Z1e(t,n){var i;if((i=void 0===t.length?Bn(t.children,rct):t).length)return function nct(t,n){var i,s,o,a;return"object"==typeof n?(i=F6(n.left),s=F6(n.right),o=F6(n.top),a=F6(n.bottom)):i=s=o=a=F6(n),{x:t.x-i,y:t.y-o,width:t.width+i+s,height:t.height+o+a}}(ea(i),n)}var $1=Math.abs,sct=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"];function aI(t,n){return n=n||[],t.children.filter(function(i){D(i,"bpmn:Lane")&&(aI(i,n),n.push(i))}),n}function V1(t){return t.children.filter(function(n){return D(n,"bpmn:Lane")})}function rp(t){return p3(t,sct)||t}function Uq(t,n){pt.call(this,t),this.postExecuted("shape.delete",500,function(s){var o=s.context,a=o.hints,l=o.shape,c=o.oldParent;D(l,"bpmn:Lane")&&(a&&a.nested||function i(s,o){var f,h,m,y,E,a=_a(s),l=V1(o),c=[],u=[],d=[],p=[];Cb(l,function(_){return a?_.y>s.y?u.push(_):c.push(_):_.x>s.x?p.push(_):d.push(_),_.children}),l.length&&(f=a?u.length&&c.length?s.height/2:s.height:p.length&&d.length?s.width/2:s.width,c.length&&(h=n.calculateAdjustments(c,"y",f,s.y-10),n.makeSpace(h.movingShapes,h.resizingShapes,{x:0,y:f},"s")),u.length&&(m=n.calculateAdjustments(u,"y",-f,s.y+s.height+10),n.makeSpace(m.movingShapes,m.resizingShapes,{x:0,y:-f},"n")),d.length&&(y=n.calculateAdjustments(d,"x",f,s.x-10),n.makeSpace(y.movingShapes,y.resizingShapes,{x:f,y:0},"e")),p.length&&(E=n.calculateAdjustments(p,"x",-f,s.x+s.width+10),n.makeSpace(E.movingShapes,E.resizingShapes,{x:-f,y:0},"w")))}(l,c))})}function lI(t,n){n.invoke(pt,this),this._bpmnReplace=t;var i=this;this.postExecuted("elements.create",500,function(s){var o=s.elements;o.filter(function(a){return eye(a,a.host)}).map(function(a){return o.indexOf(a)}).forEach(function(a){s.elements[a]=i._replaceShape(o[a])})},!0),this.preExecute("elements.move",500,function(s){var o=s.shapes,a=s.newHost;o.forEach(function(l,c){var u=l.host;eye(l,function cct(t,n){return-1!==t.indexOf(n)}(o,u)?u:a)&&(o[c]=i._replaceShape(l))})},!0)}function eye(t,n){return!ui(t)&&D(t,"bpmn:BoundaryEvent")&&!n}function qq(t,n,i){function s(o,a,l){var u,d,p,h,m,y,S,c=a.waypoints,E=o.outgoing.slice(),_=o.incoming.slice(),v=xq(c,S=Ln(l.width)?An(l):l);if(v){if(u=c.slice(0,v.index),d=c.slice(v.index+(v.bendpoint?1:0)),!u.length||!d.length)return;p=v.bendpoint?c[v.index]:S,(1===u.length||!tye(o,u[u.length-1]))&&u.push(nye(p)),(1===d.length||!tye(o,d[0]))&&d.unshift(nye(p))}h=a.target,n.canConnect(a.source,o,a)&&(i.reconnectEnd(a,o,u||S),m=a),n.canConnect(o,h,a)&&(m?y=i.connect(o,h,{type:a.type,waypoints:d}):(i.reconnectStart(a,o,d||S),y=a));var w=[].concat(m&&Bn(_,function(g){return g.source===m.source})||[],y&&Bn(E,function(g){return g.target===y.target})||[]);w.length&&i.removeElements(w)}pt.call(this,t),this.preExecute("elements.move",function(o){var a=o.newParent,l=o.shapes,c=o.delta,u=l[0];if(u&&a){a&&a.waypoints&&(o.newParent=a=a.parent);var d=An(u),p={x:d.x+c.x,y:d.y+c.y},f=Gt(a.children,function(h){return n.canInsert(l,h)&&xq(h.waypoints,p)});f&&(o.targetFlow=f,o.position=p)}},!0),this.postExecuted("elements.move",function(o){var l=o.targetFlow;l&&s(o.shapes[0],l,o.position)},!0),this.preExecute("shape.create",function(o){var a=o.parent;n.canInsert(o.shape,a)&&(o.targetFlow=a,o.parent=a.parent)},!0),this.postExecuted("shape.create",function(o){var l=o.targetFlow;l&&s(o.shape,l,o.position)},!0)}function tye(t,n){var i=n.x,s=n.y;return i>=t.x&&i<=t.x+t.width&&s>=t.y&&s<=t.y+t.height}function nye(t){return Ce({},t)}function Wq(t,n){pt.call(this,t),this.preExecuted("connection.create",function(i){var s=i.context,o=s.connection,a=s.source,l=s.target,c=s.hints;c&&!1===c.createElementsBehavior||!v3(o)||(D(a,"bpmn:EventBasedGateway")?l.incoming.filter(d=>d!==o&&v3(d)):l.incoming.filter(d=>d!==o&&v3(d)&&D(d.source,"bpmn:EventBasedGateway"))).forEach(function(d){n.removeConnection(d)})}),this.preExecuted("shape.replace",function(i){var o=i.context.newShape;D(o,"bpmn:EventBasedGateway")&&o.outgoing.filter(v3).reduce(function(l,c){return l.includes(c.target)?l:l.concat(c.target)},[]).forEach(function(l){l.incoming.filter(v3).forEach(function(c){const u=l.incoming.filter(v3).filter(function(d){return d.source===o});(c.source!==o||u.length>1)&&n.removeConnection(c)})})})}function v3(t){return D(t,"bpmn:SequenceFlow")}function iye(t,n,i){n.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],1500,function(s){var a=s.context.shape||s.shape,l=s.hover;D(l,"bpmn:Lane")&&!un(a,["bpmn:Lane","bpmn:Participant"])&&(s.hover=rp(l),s.hoverGfx=t.getGraphics(s.hover));var c=i.getRootElement();l!==c&&(a.labelTarget||un(a,["bpmn:Group","bpmn:TextAnnotation"]))&&(s.hover=c,s.hoverGfx=t.getGraphics(s.hover))}),n.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],1500,function(s){var o=s.hover;D(o,"bpmn:Lane")&&(s.hover=rp(o)||o,s.hoverGfx=t.getGraphics(s.hover))}),n.on(["bendpoint.move.hover"],1500,function(s){var a=s.hover,l=s.context.type;D(a,"bpmn:Lane")&&/reconnect/.test(l)&&(s.hover=rp(a)||a,s.hoverGfx=t.getGraphics(s.hover))}),n.on(["connect.start"],1500,function(s){var o=s.context,a=o.start;D(a,"bpmn:Lane")&&(o.start=rp(a)||a)}),n.on("shape.move.start",2e3,function(s){var o=s.shape;D(o,"bpmn:Lane")&&(s.shape=rp(o)||o)}),n.on("spaceTool.move",2e3,function(s){var o=s.hover;o&&D(o,"bpmn:Lane")&&(s.hover=rp(o))})}function Gq(t,n,i,s,o,a){function d(y,E,_){var S=function l(){return i.filter(function(y){return D(y,"bpmn:Group")})}().filter(function(v){return v.businessObject!==_});E&&!function c(y,E){return y.some(function(_){var S=G(_);return(S.categoryValueRef&&S.categoryValueRef.$parent)===E})}(S,E)&&function hct(t){var n=t.$parent;n&&(go(n.get("rootElements"),t),t.$parent=null)}(E),y&&!function u(y,E){return y.some(function(_){return G(_).categoryValueRef===E})}(S,y)&&function fct(t){var n=t.$parent;n&&(go(n.get("categoryValue"),t),t.$parent=null)}(y)}function p(y,E){return function pct(t,n,i){return So(n.get("categoryValue"),t),t.$parent=n,So(i.get("rootElements"),n),n.$parent=i,t}(y,E,n.getDefinitions())}function f(y,E){var _=G(y),S=_.categoryValueRef;S||(S=_.categoryValueRef=E.categoryValue=E.categoryValue||function dct(t){return t.create("bpmn:CategoryValue")}(t));var v=S.$parent;v||(v=S.$parent=E.category=E.category||function uct(t){return t.create("bpmn:Category")}(t)),p(S,v,n.getDefinitions())}function h(y,E){var _=E.category,S=E.categoryValue,v=G(y);S?(v.categoryValueRef=null,d(S,_,v)):d(null,v.categoryValueRef.$parent,v)}function m(y,E){var _=t.create(y.$type);return a.copyElement(y,_,null,E)}o.invoke(pt,this),this.execute("label.create",function(y){var E=y.context,_=E.labelTarget;D(_,"bpmn:Group")&&f(_,E)}),this.revert("label.create",function(y){var E=y.context,_=E.labelTarget;D(_,"bpmn:Group")&&h(_,E)}),this.execute("shape.delete",function(y){var E=y.context,_=E.shape,S=G(_);if(D(_,"bpmn:Group")&&!_.labelTarget){var v=E.categoryValue=S.categoryValueRef;v&&(d(v,E.category=v.$parent,S),S.categoryValueRef=null)}}),this.reverted("shape.delete",function(y){var E=y.context,_=E.shape;if(D(_,"bpmn:Group")&&!_.labelTarget){var S=E.category,v=E.categoryValue,w=G(_);v&&(w.categoryValueRef=v,p(v,S))}}),this.execute("shape.create",function(y){var E=y.context,_=E.shape;!D(_,"bpmn:Group")||_.labelTarget||G(_).categoryValueRef&&f(_,E)}),this.reverted("shape.create",function(y){var E=y.context,_=E.shape;!D(_,"bpmn:Group")||_.labelTarget||G(_).categoryValueRef&&h(_,E)}),s.on("copyPaste.copyElement",770,function(y){var E=y.descriptor,_=y.element;if(D(_,"bpmn:Group")&&!_.labelTarget){var S=G(_);if(S.categoryValueRef){var v=S.categoryValueRef;E.categoryValue=m(v,!0),v.$parent&&(E.category=m(v.$parent,!0))}}}),s.on("copyPaste.pasteElement",770,function(y){var E=y.descriptor,S=E.categoryValue,v=E.category;S&&(S=E.businessObject.categoryValueRef=m(S)),v&&(S.$parent=m(v)),delete E.category,delete E.categoryValue})}function Kq(t,n,i,s){var o,c;return 0==(o=(s.y-i.y)*(n.x-t.x)-(s.x-i.x)*(n.y-t.y))?null:(c=((s.x-i.x)*(t.y-i.y)-(s.y-i.y)*(t.x-i.x))/o,{x:Math.round(t.x+c*(n.x-t.x)),y:Math.round(t.y+c*(n.y-t.y))})}function oye(t){function n(s,o,a){var p,c={x:a.x-50,y:a.y},u=Kq(s,o,a,{x:a.x,y:a.y-50}),d=Kq(s,o,a,c);p=u&&d?aye(u,a)>aye(d,a)?d:u:u||d,s.original=p}t.on("bpmnElement.added",function(s){var o=s.element;o.waypoints&&function i(s){var o=s.waypoints;n(o[0],o[1],An(s.source)),n(o[o.length-1],o[o.length-2],An(s.target))}(o)})}function aye(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Yq(t){pt.call(this,t);var n=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],function(i){var s=i.context.shape,o=G(s),a=pi(s);if(un(o,n)){var l=a.get("isHorizontal");void 0===l&&(l=!0),a.set("isHorizontal",l)}})}Uq.$inject=["eventBus","spaceTool"],Jt(Uq,pt),lI.$inject=["bpmnReplace","injector"],Jt(lI,pt),lI.prototype._replaceShape=function(t){var n=function lct(t){var i=G(t).eventDefinitions;return i&&i[0]}(t);return this._bpmnReplace.replaceElement(t,n?{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:n.$type}:{type:"bpmn:IntermediateThrowEvent"},{layoutConnection:!1})},Jt(qq,pt),qq.$inject=["eventBus","bpmnRules","modeling"],Wq.$inject=["eventBus","modeling"],Jt(Wq,pt),iye.$inject=["elementRegistry","eventBus","canvas"],Gq.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"],Jt(Gq,pt),oye.$inject=["eventBus"],Yq.$inject=["eventBus"],Jt(Yq,pt);var lye=Math.sqrt,cye=Math.min,mct=Math.max,uye=Math.abs;function dye(t){return Math.pow(t,2)}function B6(t,n){return lye(dye(t.x-n.x)+dye(t.y-n.y))}function yct(t,n,i,s){var o=n.x-t.x,a=n.y-t.y,l=i.x-t.x,c=i.y-t.y,u=o*o+a*a,f=(o*l+a*c)/u,m=f*f-(l*l+c*c-s*s)/u;if(m<0&&m>-1e-6&&(m=0),m<0)return[];var y=lye(m),E=-f+y,_=-f-y,S={x:t.x-o*E,y:t.y-a*E};return 0===m?[S]:[S,{x:t.x-o*_,y:t.y-a*_}].filter(function(w){return function vct(t,n,i){return pye(t.x,n.x,i.x)&&pye(t.y,n.y,i.y)}(w,t,n)})}function pye(t,n,i){return t>=cye(n,i)-uI&&t<=mct(n,i)+uI}function bct(t,n){return{x:(t.x+n.x)/2,y:(t.y+n.y)/2}}var uI=.1;function fye(t,n){return uye(t.x-n.x)<=uI&&uye(t.y-n.y)<=uI}function hye(t,n,i,s){var o=0,a=0,l={point:t,delta:{x:0,y:0}},c=function gct(t,n){var s,o,a,l,c,d,p,f,h,m,i=0;for(i=0;i<n.length-1;i++){if(fye(s=n[i],o=n[i+1])?d=[s]:(a=B6(t,s),l=B6(t,o),d=yct(s,o,t,cye(a,l))),d.length<1)throw new Error("expected between [1, 2] circle -> line intersections");1===d.length&&(p={type:"bendpoint",position:d[0],segmentIndex:i,bendpointIndex:fye(s,d[0])?i:i+1}),2===d.length&&(p={type:"segment",position:c=bct(d[0],d[1]),segmentIndex:i,relativeLocation:B6(s,c)/B6(s,o)}),f=B6(p.position,t),(!m||h>f)&&(m=p,h=f)}return m}(t,i),u=c.segmentIndex,d=function _ct(t,n,i,s){var o=i.segmentIndex,a=n.length-t.length;if(s.segmentMove){var c=s.segmentMove.newSegmentStartIndex;return o===s.segmentMove.segmentStartIndex?c:o>=c?o+a<c?c:o+a:o}if(s.bendpointMove){var p,u=s.bendpointMove.insert,d=s.bendpointMove.bendpointIndex;return 0===a?o:(o>=d&&(p=u?o+1:o-1),o<d&&(p=o,u&&"bendpoint"!==i.type&&d-1===o)&&mye(n,d)<i.relativeLocation&&p++,p)}return 0===a?o:s.connectionStart&&0===o?0:s.connectionEnd&&o===t.length-2?n.length-2:Math.floor((n.length-2)/2)}(i,n,c,s);if(d<0||d>n.length-2||null===d)return l;var p=gye(i,u),f=gye(n,d),h=c.position,m=function xct(t,n){var i=KA(t[0],t[1]),s=KA(t[0],n);return 0===i?0:s/i}(p,h),y=function Ect(t,n){var i=h1e(t);return h1e(n)-i}(p,f);if("bendpoint"===c.type){var E=n.length-i.length,_=c.bendpointIndex;if(-1!==n.indexOf(i[_]))return l;if(0===E){var v=n[_];return{delta:{x:o=v.x-c.position.x,y:a=v.y-c.position.y},point:{x:t.x+o,y:t.y+a}}}E<0&&0!==_&&_<i.length-1&&(m=mye(i,_))}var w={x:(f[1].x-f[0].x)*m+f[0].x,y:(f[1].y-f[0].y)*m+f[0].y},g=function plt(t,n){return n?{x:Math.cos(n)*t.x-Math.sin(n)*t.y,y:Math.sin(n)*t.x+Math.cos(n)*t.y}:t}({x:t.x-h.x,y:t.y-h.y},y);return o=w.x+g.x-t.x,a=w.y+g.y-t.y,{point:tm(w),delta:tm({x:o,y:a})}}function mye(t,n){var i=KA(t[n-1],t[n]);return i/(i+KA(t[n],t[n+1]))}function gye(t,n){return[t[n],t[n+1]]}function $6(t,n,i){var s=r6(n),o=r6(i),a=uf(t,s);return tm({x:o.x+a.x*(i.width/n.width),y:o.y+a.y*(i.height/n.height)})}function yye(t,n,i){var s=r6(t),o=r6(n),a=r6(i),l=uf(t,s),c=uf(s,o),u=function Cct(t,n,i){var s=En(n),o=En(i);if(function Sct(t,n){return function Oct(t,n){return t.right!==n.right&&t.left!==n.left}(t,n)||function Tct(t,n){return t.top!==n.top&&t.bottom!==n.bottom}(t,n)}(s,o))return null;var l,a=Ws(n,t);if("top"===a)l={x:0,y:o.bottom-s.bottom};else if("bottom"===a)l={x:0,y:o.top-s.top};else if("right"===a)l={x:o.left-s.left,y:0};else{if("left"!==a)return null;l={x:o.right-s.right,y:0}}return Ws(i,{x:t.x+l.x,y:t.y+l.y})!==a?null:l}(s,n,i);return u||tm({x:a.x+c.x*(i.width/n.width)+l.x-t.x,y:a.y+c.y*(i.height/n.height)+l.y-t.y})}function Xq(t,n,i,s){function o(l){var c=l.context,u=c.element,d=c.properties;if("name"in d&&n.updateLabel(u,d.name),"text"in d&&D(u,"bpmn:TextAnnotation")){var p=s.getTextAnnotationBounds({x:u.x,y:u.y,width:u.width,height:u.height},d.text||"");n.updateLabel(u,d.text,p)}}pt.call(this,t),this.postExecute("element.updateProperties",o),this.postExecute("element.updateModdleProperties",l=>{G(l.context.element)===l.context.moddleElement&&o(l)}),this.postExecute(["shape.create","connection.create"],function(l){var c=l.context;if(!1!==(c.hints||{}).createElementsBehavior){var d=c.shape||c.connection;ui(d)||!_b(d)||bu(d)&&n.updateLabel(d,bu(d))}}),this.postExecute("shape.delete",function(l){var c=l.context,u=c.labelTarget;u&&!1!==(c.hints||{}).unsetLabel&&n.updateLabel(u,null,null,{removeShape:!1})}),this.postExecute(["connection.layout","connection.updateWaypoints"],function(l){var c=l.context;if(!1!==(c.hints||{}).labelBehavior){var f,p=c.connection.label;!p||!p.parent||(f=function a(l){var c=l.context,u=c.connection,d=u.label,p=Ce({},c.hints),f=c.newWaypoints||u.waypoints,h=c.oldWaypoints;return typeof p.startChanged>"u"&&(p.startChanged=!!p.connectionStart),typeof p.endChanged>"u"&&(p.endChanged=!!p.connectionEnd),function wct(t,n,i,s){return hye(An(t),n,i,s).delta}(d,f,h,p)}(l),n.moveShape(p,f))}}),this.postExecute(["shape.replace"],function(l){var c=l.context,u=c.newShape,d=c.oldShape,p=G(u);p&&_b(p)&&d.label&&u.label&&(u.label.x=d.label.x,u.label.y=d.label.y)}),this.postExecute("shape.resize",function(l){var c=l.context,u=c.shape,d=c.newBounds,p=c.oldBounds;if(E7(u)){var f=u.label,h=An(f),m=function kct(t){return[[{x:t.x,y:t.y},{x:t.x+(t.width||0),y:t.y}],[{x:t.x+(t.width||0),y:t.y},{x:t.x+(t.width||0),y:t.y+(t.height||0)}],[{x:t.x,y:t.y+(t.height||0)},{x:t.x+(t.width||0),y:t.y+(t.height||0)}],[{x:t.x,y:t.y},{x:t.x,y:t.y+(t.height||0)}]]}(p),y=function Dct(t,n){if(n.length){var i=function Mct(t,n){var i=n.map(function(o){return{line:o,distance:m1e(t,o)}});return ba(i,"distance")[0].line}(t,n);return wq(t,i)}}(h,m),E=function Pct(t,n,i){return tm(uf($6(t,n,i),t))}(y,p,d);n.moveShape(f,E)}})}function Qq(t,n){function i(s,o){var a=s.context,l=a.connection,c=Ce({},a.hints),u=a.newWaypoints||l.waypoints,d=a.oldWaypoints;return typeof c.startChanged>"u"&&(c.startChanged=!!c.connectionStart),typeof c.endChanged>"u"&&(c.endChanged=!!c.connectionEnd),function Act(t,n,i,s){return hye(t,n,i,s).point}(o,u,d,c)}pt.call(this,t),this.postExecute(["connection.layout","connection.updateWaypoints"],function(s){var a=s.context.connection,l=a.outgoing;a.incoming.forEach(function(u){var p=i(s,u.waypoints[u.waypoints.length-1]),f=[].concat(u.waypoints.slice(0,-1),[p]);n.updateWaypoints(u,f)}),l.forEach(function(u){var p=i(s,u.waypoints[0]),f=[].concat([p],u.waypoints.slice(1));n.updateWaypoints(u,f)})}),this.postExecute(["connection.move"],function(s){var o=s.context,a=o.connection,l=a.outgoing,u=o.delta;a.incoming.forEach(function(d){var p=d.waypoints[d.waypoints.length-1],f={x:p.x+u.x,y:p.y+u.y},h=[].concat(d.waypoints.slice(0,-1),[f]);n.updateWaypoints(d,h)}),l.forEach(function(d){var p=d.waypoints[0],h=[].concat([{x:p.x+u.x,y:p.y+u.y}],d.waypoints.slice(1));n.updateWaypoints(d,h)})})}function dI(t,n,i){var s=fI(t),o=Eye(s,n),a=s[0];return o.length?o[o.length-1]:$6(a.original||a,i,n)}function pI(t,n,i){var s=fI(t),o=Eye(s,n),a=s[s.length-1];return o.length?o[0]:$6(a.original||a,i,n)}function Zq(t,n,i){var s=fI(t),o=_ye(n,i),a=s[0];return $6(a.original||a,o,n)}function Jq(t,n,i){var s=fI(t),o=_ye(n,i),a=s[s.length-1];return $6(a.original||a,o,n)}function _ye(t,n){return{x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}function fI(t){var n=t.waypoints;if(!n.length)throw new Error("connection#"+t.id+": no waypoints");return n}function Eye(t,n){return Bn(Ao(t,Rct),function(s){return function Ict(t,n){return"intersect"===Ws(n,t,1)}(s,n)})}function Rct(t){return t.original||t}function eW(t,n){pt.call(this,t),this.postExecute("shape.replace",function(i){var s=i.oldShape,o=i.newShape;if(function Nct(t,n){return D(t,"bpmn:Participant")&&Yr(t)&&D(n,"bpmn:Participant")&&!Yr(n)}(s,o)){var a=function Lct(t){var n=KS([t],!1),i=[],s=[];return n.forEach(function(o){o!==t&&(o.incoming.forEach(function(a){D(a,"bpmn:MessageFlow")&&i.push(a)}),o.outgoing.forEach(function(a){D(a,"bpmn:MessageFlow")&&s.push(a)}))},[]),{incoming:i,outgoing:s}}(s);a.incoming.forEach(function(l){var c=pI(l,o,s);n.reconnectEnd(l,o,c)}),a.outgoing.forEach(function(l){var c=dI(l,o,s);n.reconnectStart(l,o,c)})}},!0)}Jt(Xq,pt),Xq.$inject=["eventBus","modeling","bpmnFactory","textRenderer"],Jt(Qq,pt),Qq.$inject=["eventBus","modeling"],eW.$inject=["eventBus","modeling"],Jt(eW,pt);const Fct=["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:EscalationEventDefinition","bpmn:ConditionalEventDefinition","bpmn:SignalEventDefinition"];function xye(t){const n=G(t);if(!(D(n,"bpmn:BoundaryEvent")||D(n,"bpmn:StartEvent")&&Ea(n.$parent)))return!1;const i=n.get("eventDefinitions");return!(!i||!i.length)&&Fct.some(s=>D(i[0],s))}function wye(t){return D(t,"bpmn:BoundaryEvent")?"cancelActivity":"isInterrupting"}function tW(t,n){t.invoke(pt,this),this.postExecuted("shape.replace",function(i){const s=i.context.oldShape,o=i.context.newShape,a=i.context.hints;if(!xye(o))return;const l=wye(o);if(a.targetElement&&void 0!==a.targetElement[l])return;const u=G(s).get(l);u!==G(o).get(l)&&n.updateProperties(o,{[l]:u})})}function nW(t,n){pt.call(this,t),this.preExecute("shape.resize",function(i){var s=i.shape,o=pi(s),a=o&&o.get("label");a&&a.get("bounds")&&n.updateModdleProperties(s,a,{bounds:void 0})},!0)}function rW(t,n,i){pt.call(this,t),this.preExecute("shape.delete",function(s){var o=s.context.shape;if(1===o.incoming.length&&1===o.outgoing.length){var a=o.incoming[0],l=o.outgoing[0];if(D(a,"bpmn:SequenceFlow")&&D(l,"bpmn:SequenceFlow")&&n.canConnect(a.source,l.target,a)){var c=function Bct(t,n){var i=Kq(b3(t[t.length-2]),b3(t[t.length-1]),b3(n[1]),b3(n[0]));return i?[].concat(t.slice(0,t.length-1),[i],n.slice(1)):[b3(t[0]),b3(n[n.length-1])]}(a.waypoints,l.waypoints);i.reconnectEnd(a,l.target,c)}}})}function b3(t){return t.original||t}function iW(t,n){pt.call(this,t),this.preExecute("shape.delete",function(i){var s=i.shape,o=s.parent;D(s,"bpmn:Participant")&&(i.collaborationRoot=o)},!0),this.postExecute("shape.delete",function(i){var s=i.collaborationRoot;if(s&&!s.businessObject.participants.length){var o=n.makeProcess(),a=s.children.slice();n.moveElements(a,{x:0,y:0},o)}},!0)}function sW(t,n,i,s){pt.call(this,t);var o=s.get("dragging",!1);function a(u){var h,m,d=u.source,p=u.target;u.parent&&(D(u,"bpmn:SequenceFlow")&&(i.canConnectSequenceFlow(d,p)||(m=!0),i.canConnectMessageFlow(d,p)&&(h="bpmn:MessageFlow")),D(u,"bpmn:MessageFlow")&&(i.canConnectMessageFlow(d,p)||(m=!0),i.canConnectSequenceFlow(d,p)&&(h="bpmn:SequenceFlow")),m&&n.removeConnection(u),h&&n.connect(d,p,{type:h,waypoints:u.waypoints.slice()}))}this.postExecuted("elements.move",function(u){fe(u.closure.allConnections,a)},!0),this.preExecute("connection.reconnect",function l(u){var m,y,d=u.context,p=d.connection,f=d.newSource||p.source,h=d.newTarget||p.target;(m=i.canConnect(f,h))&&m.type!==p.type&&(y=n.connect(f,h,{type:m.type,associationDirection:m.associationDirection,waypoints:p.waypoints.slice()}),p.parent&&n.removeConnection(p),d.connection=y,o&&function c(u,d){var h,p=o.context(),f=p&&p.payload.previousSelection;!f||!f.length||-1!==(h=f.indexOf(u))&&f.splice(h,1,d)}(p,y))}),this.postExecuted("element.updateProperties",function(u){var m,d=u.context,p=d.properties,f=d.element,h=f.businessObject;p.default&&(m=Gt(f.outgoing,af({id:f.businessObject.default.id})))&&n.updateProperties(m,{conditionExpression:void 0}),p.conditionExpression&&h.sourceRef.default===h&&n.updateProperties(f.source,{default:void 0})})}function hI(t,n,i,s,o,a){s.invoke(pt,this),this._bpmnReplace=t,this._elementRegistry=i,this._selection=a,this.postExecuted(["elements.create"],500,function(l){var c=l.context,u=c.parent,d=c.elements,p=Ts(d,function(f,h){var m=n.canReplace([h],h.host||h.parent||u);return m?f.concat(m.replacements):f},[]);p.length&&this._replaceElements(d,p)},this),this.postExecuted(["elements.move"],500,function(l){var c=l.context,u=c.newParent,d=c.newHost,p=[];fe(c.closure.topLevel,function(h){p=Ea(h)?p.concat(h.children):p.concat(h)}),1===p.length&&d&&(u=d);var f=n.canReplace(p,u);f&&this._replaceElements(p,f.replacements,d)},this),this.postExecute(["shape.replace"],1500,function(l){var f,c=l.context,p=c.oldShape.attachers;p&&p.length&&(f=n.canReplace(p,c.newShape),this._replaceElements(p,f.replacements))},this),this.postExecuted(["shape.replace"],1500,function(l){var c=l.context,u=c.oldShape,d=c.newShape;o.unclaimId(u.businessObject.id,u.businessObject),o.updateProperties(d,{id:u.id})})}tW.$inject=["injector","modeling"],Jt(tW,pt),Jt(nW,pt),nW.$inject=["eventBus","modeling"],Jt(rW,pt),rW.$inject=["eventBus","bpmnRules","modeling"],iW.$inject=["eventBus","modeling"],Jt(iW,pt),Jt(sW,pt),sW.$inject=["eventBus","modeling","bpmnRules","injector"],Jt(hI,pt),hI.prototype._replaceElements=function(t,n){var i=this._elementRegistry,s=this._bpmnReplace,o=this._selection;fe(n,function(a){var l={type:a.newElementType},c=i.get(a.oldElementId),u=t.indexOf(c);t[u]=s.replaceElement(c,l,{select:!1})}),n&&o.select(t)},hI.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var Vct={width:140,height:120},oW={width:300,height:60},aW={width:60,height:300},mI={width:300,height:150},gI={width:150,height:300},Cye={width:140,height:120},Sye={width:50,height:30};function Oye(t){t.on("resize.start",1500,function(n){var i=n.context,s=i.shape,o=i.direction,a=i.balanced;(D(s,"bpmn:Lane")||D(s,"bpmn:Participant"))&&(i.resizeConstraints=function qct(t,n,i){var s=rp(t),o=!0,a=!0,l=aI(s,[s]),c=En(t),u={},d={},p=_a(t),f=p?oW:aW;/n/.test(n)?d.top=c.bottom-f.height:/e/.test(n)?d.right=c.left+f.width:/s/.test(n)?d.bottom=c.top+f.height:/w/.test(n)&&(d.left=c.right-f.width),l.forEach(function(y){var E=En(y);p?(E.top<c.top-10&&(o=!1),E.bottom>c.bottom+10&&(a=!1)):(E.left<c.left-10&&(o=!1),E.right>c.right+10&&(a=!1)),/n/.test(n)&&(i&&j1(c.top-E.bottom)<10&&E3(u,"top",E.top+f.height),j1(c.top-E.top)<5&&_3(d,"top",E.bottom-f.height)),/e/.test(n)&&(i&&j1(c.right-E.left)<10&&_3(u,"right",E.right-f.width),j1(c.right-E.right)<5&&E3(d,"right",E.left+f.width)),/s/.test(n)&&(i&&j1(c.bottom-E.top)<10&&_3(u,"bottom",E.bottom-f.height),j1(c.bottom-E.bottom)<5&&E3(d,"bottom",E.top+f.height)),/w/.test(n)&&(i&&j1(c.left-E.right)<10&&E3(u,"left",E.left+f.width),j1(c.left-E.left)<5&&_3(d,"left",E.right-f.width))});var h=s.children.filter(function(y){return!y.hidden&&!y.waypoints&&(D(y,"bpmn:FlowElement")||D(y,"bpmn:Artifact"))}),m=p?Hct:Uct;return h.forEach(function(y){var E=En(y);/n/.test(n)&&(!p||o)&&_3(d,"top",E.top-m.top),/e/.test(n)&&(p||a)&&E3(d,"right",E.right+m.right),/s/.test(n)&&(!p||a)&&E3(d,"bottom",E.bottom+m.bottom),/w/.test(n)&&(p||o)&&_3(d,"left",E.left-m.left)}),{min:d,max:u}}(s,o,a)),D(s,"bpmn:SubProcess")&&Yr(s)&&(i.minDimensions=Cye),D(s,"bpmn:TextAnnotation")&&(i.minDimensions=Sye)})}Oye.$inject=["eventBus"];var j1=Math.abs,jct=Math.min,zct=Math.max;function Tye(t,n,i,s){var o=t[n];t[n]=void 0===o?i:s(i,o)}function _3(t,n,i){return Tye(t,n,i,jct)}function E3(t,n,i){return Tye(t,n,i,zct)}var Hct={top:20,left:50,right:20,bottom:20},Uct={top:50,left:20,right:20,bottom:20};function Dye(t,n){t.on("resize.start",1501,function(i){var s=i.context,o=s.shape;(D(o,"bpmn:Lane")||D(o,"bpmn:Participant"))&&(s.balanced=!Ux(i))}),t.on("resize.end",1001,function(i){var s=i.context,o=s.shape,a=s.canExecute,l=s.newBounds;if(D(o,"bpmn:Lane")||D(o,"bpmn:Participant"))return a&&(l=Efe(l),n.resizeLane(o,l,s.balanced)),!1})}function lW(t,n,i,s,o){function a(p){return un(p,["bpmn:ReceiveTask","bpmn:SendTask"])||function Gct(t,n){return Xt(n)||(n=[n]),Gd(n,function(i){return Fx(t,i)})}(p,["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])}function l(p){return!!Gt(t.getDefinitions().get("rootElements"),af({id:p.id}))}function c(p){return D(p,"bpmn:ErrorEventDefinition")?"errorRef":D(p,"bpmn:EscalationEventDefinition")?"escalationRef":D(p,"bpmn:MessageEventDefinition")?"messageRef":D(p,"bpmn:SignalEventDefinition")?"signalRef":void 0}function u(p){if(un(p,["bpmn:ReceiveTask","bpmn:SendTask"]))return p.get("messageRef");var h=p.get("eventDefinitions")[0];return h.get(c(h))}i.invoke(pt,this),this.executed(["shape.create","element.updateProperties","element.updateModdleProperties"],function(p){var f=p.shape||p.element;if(a(f)){var m=u(G(f));m&&!l(m)&&(So(t.getDefinitions().get("rootElements"),m),p.addedRootElement=m)}},!0),this.reverted(["shape.create","element.updateProperties","element.updateModdleProperties"],function(p){var f=p.addedRootElement;f&&go(t.getDefinitions().get("rootElements"),f)},!0),n.on("copyPaste.copyElement",function(p){var f=p.descriptor,h=p.element;if(!h.labelTarget&&a(h)){var y=u(G(h));y&&(f.referencedRootElement=y)}}),n.on("copyPaste.pasteElement",500,function(p){var f=p.descriptor,h=f.businessObject,m=f.referencedRootElement;m&&(l(m)||(m=s.copyElement(m,o.create(m.$type))),function d(p,f){if(un(p,["bpmn:ReceiveTask","bpmn:SendTask"]))return p.set("messageRef",f);var m=p.get("eventDefinitions")[0];m.set(c(m),f)}(h,m),delete f.referencedRootElement)})}Dye.$inject=["eventBus","modeling"],lW.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"],Jt(lW,pt);var kye=Math.max;function Mye(t){t.on("spaceTool.getMinDimensions",function(n){var s=n.axis,o=n.start,a={};return fe(n.shapes,function(l){var c=l.id;D(l,"bpmn:Participant")&&(a[c]=function Yct(t,n,i){var s=_a(t);if(!function Zct(t){return!!V1(t).length}(t))return s?mI:gI;var o=function Kct(t){return"x"===t}(n);return o?s?mI:{width:Qct(t,i,o),height:gI.height}:s?{width:mI.width,height:Xct(t,i,o)}:gI}(l,s,o)),D(l,"bpmn:Lane")&&(a[c]=_a(l)?oW:aW),D(l,"bpmn:SubProcess")&&Yr(l)&&(a[c]=Cye),D(l,"bpmn:TextAnnotation")&&(a[c]=Sye),D(l,"bpmn:Group")&&(a[c]=Vct)}),a})}function Xct(t,n,i){var s;return s=function Jct(t,n,i){var o;return o=cW(V1(t),n,i),t.height-o.height+oW.height}(t,n,i),kye(mI.height,s)}function Qct(t,n,i){var s;return s=function eut(t,n,i){var o;return o=cW(V1(t),n,i),t.width-o.width+aW.width}(t,n,i),kye(gI.width,s)}function cW(t,n,i){var s,o,a;for(s=0;s<t.length;s++)if(o=t[s],!i&&n>=o.y&&n<=o.y+o.height||i&&n>=o.x&&n<=o.x+o.width)return(a=V1(o)).length?cW(a,n,i):o}Mye.$inject=["eventBus"];function z1(t,n,i,s,o,a,l){pt.call(this,n),this._canvas=t,this._eventBus=n,this._modeling=i,this._elementFactory=s,this._bpmnFactory=o,this._bpmnjs=a,this._elementRegistry=l;var c=this;function u(f){return D(f,"bpmn:SubProcess")&&!Yr(f)}function d(f){var m=f.newRootElement,y=G(f.shape);m=c._addDiagram(m||y),f.newRootElement=t.addRootElement(m)}function p(f){var m=G(f.shape);c._removeDiagram(m);var y=f.newRootElement=l.get(im(m));t.removeRootElement(y)}this.executed("shape.create",function(f){u(f.shape)&&d(f)},!0),this.postExecuted("shape.create",function(f){var h=f.shape,m=f.newRootElement;!m||!h.children||(c._showRecursively(h.children),c._moveChildrenToShape(h,m))},!0),this.reverted("shape.create",function(f){u(f.shape)&&p(f)},!0),this.preExecuted("shape.delete",function(f){var h=f.shape;if(u(h)){var m=l.get(im(h));m&&i.removeElements(m.children.slice())}},!0),this.executed("shape.delete",function(f){u(f.shape)&&p(f)},!0),this.reverted("shape.delete",function(f){u(f.shape)&&d(f)},!0),this.preExecuted("shape.replace",function(f){var h=f.oldShape,m=f.newShape;!u(h)||!u(m)||(f.oldRoot=t.removeRootElement(im(h)))},!0),this.postExecuted("shape.replace",function(f){var m=f.oldRoot,y=t.findRoot(im(f.newShape));m&&y&&i.moveElements(m.children,{x:0,y:0},y)},!0),this.executed("element.updateProperties",function(f){var h=f.element;if(D(h,"bpmn:SubProcess")){var E=f.oldProperties.id,_=f.properties.id;if(E!==_){if(zx(h))return l.updateId(h,Ob(_)),void l.updateId(E,_);l.get(Ob(E))&&l.updateId(Ob(E),Ob(_))}}},!0),this.reverted("element.updateProperties",function(f){var h=f.element;if(D(h,"bpmn:SubProcess")){var E=f.oldProperties.id,_=f.properties.id;if(E!==_){if(zx(h))return l.updateId(h,Ob(E)),void l.updateId(_,E);var S=l.get(Ob(_));S&&l.updateId(S,Ob(E))}}},!0),n.on("element.changed",function(f){var h=f.element;if(zx(h)){var m=h,y=l.get(V7(m));!y||y===m||n.fire("element.changed",{element:y})}}),this.executed("shape.toggleCollapse",400,function(f){var h=f.shape;D(h,"bpmn:SubProcess")&&(Yr(h)?p(f):(d(f),c._showRecursively(h.children)))},!0),this.reverted("shape.toggleCollapse",400,function(f){var h=f.shape;D(h,"bpmn:SubProcess")&&(Yr(h)?p(f):(d(f),c._showRecursively(h.children)))},!0),this.postExecuted("shape.toggleCollapse",600,function(f){var h=f.shape;if(D(h,"bpmn:SubProcess")){var m=f.newRootElement;m&&(Yr(h)?c._moveChildrenToShape(m,h):c._moveChildrenToShape(h,m))}},!0),n.on("copyPaste.createTree",function(f){var h=f.element,m=f.children;if(u(h)){var y=im(h),E=l.get(y);E&&m.push.apply(m,E.children)}}),n.on("copyPaste.copyElement",function(f){var h=f.descriptor,y=f.elements,E=f.element.parent;if(D(pi(E),"bpmndi:BPMNPlane")){var S=V7(E),v=Gt(y,function(w){return w.id===S});v&&(h.parent=v.id)}}),n.on("copyPaste.pasteElement",function(f){var h=f.descriptor;h.parent&&(u(h.parent)||h.parent.hidden)&&(h.hidden=!0)})}function uW(t,n){t.invoke(pt,this),this.postExecuted("shape.replace",function(i){var s=i.context.oldShape,o=i.context.newShape;if(D(o,"bpmn:SubProcess")&&!D(o,"bpmn:AdHocSubProcess")&&(D(s,"bpmn:Task")||D(s,"bpmn:CallActivity"))&&Yr(o)){var a=function nut(t){return{x:t.x+t.width/6,y:t.y+t.height/2}}(o);n.createShape({type:"bpmn:StartEvent"},a,o)}})}function dW(t){pt.call(this,t),this.preExecute("connection.create",function(n){const{target:i}=n;D(i,"bpmn:TextAnnotation")&&(n.parent=i.parent)},!0),this.preExecute(["shape.create","shape.resize","elements.move"],function(n){const i=n.shapes||[n.shape];1===i.length&&D(i[0],"bpmn:TextAnnotation")&&(n.hints=n.hints||{},n.hints.autoResize=!1)},!0)}function pW(t,n){pt.call(this,t),this.postExecuted("shape.toggleCollapse",1500,function(i){var s=i.shape;if(!Yr(s)){var o=KS(s);o.forEach(function(l){var c=l.incoming.slice(),u=l.outgoing.slice();fe(c,function(d){a(d,!0)}),fe(u,function(d){a(d,!1)})})}function a(l,c){-1!==o.indexOf(l.source)&&-1!==o.indexOf(l.target)||(c?n.reconnectEnd(l,s,An(s)):n.reconnectStart(l,s,An(s)))}},!0)}function hW(t,n,i){pt.call(this,t),this.executed(["shape.toggleCollapse"],500,function(l){var u=l.context.shape;D(u,"bpmn:SubProcess")&&(u.collapsed?pi(u).isExpanded=!1:(function s(l){l.length&&l.forEach(function(c){"label"===c.type&&!c.businessObject.name&&(c.hidden=!0)})}(u.children),pi(u).isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],500,function(l){var u=l.context.shape;pi(u).isExpanded=!u.collapsed}),this.postExecuted(["shape.toggleCollapse"],500,function(l){var d,c=l.context.shape,u=n.getDefaultSize(c);d=c.collapsed?function a(l,c){return{x:l.x+(l.width-c.width)/2,y:l.y+(l.height-c.height)/2,width:c.width,height:c.height}}(c,u):function o(l,c){var p,f,d=c;return p=function rut(t){return t.filter(function(n){return!n.hidden})}(l.children).concat([l]),(f=Z1e(p))?(d.width=Math.max(f.width,d.width),d.height=Math.max(f.height,d.height),d.x=f.x+(f.width-d.width)/2,d.y=f.y+(f.height-d.height)/2):(d.x=l.x+(l.width-d.width)/2,d.y=l.y+(l.height-d.height)/2),d}(c,u),i.resizeShape(c,d,null,{autoResize:!c.collapsed&&"nwse"})})}function mW(t,n,i,s){n.invoke(pt,this),this.preExecute("shape.delete",function(o){var l=o.context.shape,c=l.businessObject;ui(l)||(D(l,"bpmn:Participant")&&Yr(l)&&i.ids.unclaim(c.processRef.id),s.unclaimId(c.id,c))}),this.preExecute("connection.delete",function(o){var c=o.context.connection.businessObject;s.unclaimId(c.id,c)}),this.preExecute("canvas.updateRoot",function(){var o=t.getRootElement(),a=o.businessObject;D(o,"bpmn:Collaboration")&&i.ids.unclaim(a.id)})}function gW(t,n){pt.call(this,t),this.preExecute("connection.delete",function(i){var o=i.context.connection,a=o.source;(function iut(t,n){if(!D(t,"bpmn:SequenceFlow"))return!1;var i=G(n),s=G(t);return i.get("default")===s})(o,a)&&n.updateProperties(a,{default:null})})}function yW(t,n){var i;pt.call(this,t);var l=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(l,5e3,function(c){!function s(){(i=i||new aut).enter()}()}),this.postExecuted(l,500,function(c){!function a(){if(!i)throw new Error("out of bounds release");var c=i.leave();c&&(n.updateLaneRefs(i.flowNodes,i.lanes),i=null)}()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(c){var d=c.context.shape,p=function o(){if(!i)throw new Error("out of bounds release");return i}();d.labelTarget||(D(d,"bpmn:Lane")&&p.addLane(d),D(d,"bpmn:FlowNode")&&p.addFlowNode(d))})}function aut(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(t){this.lanes.push(t)},this.addFlowNode=function(t){this.flowNodes.push(t)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}function vW(t,n){pt.call(this,t),this.postExecuted("elements.create",function(i){const o=i.context.elements;for(const a of o)lut(a)&&!uut(a)&&n.updateProperties(a,{isForCompensation:void 0})})}function lut(t){const n=G(t);return n&&n.isForCompensation}function uut(t){return t.incoming.filter(i=>function cut(t){return t&&D(t,"bpmn:BoundaryEvent")&&Fx(t,"bpmn:CompensateEventDefinition")}(i.source)).length>0}Jt(z1,pt),z1.prototype._moveChildrenToShape=function(t,n){var o,i=this._modeling,s=t.children;if(s){var a=(s=s.concat(s.reduce(function(d,p){return p.label&&p.label.parent!==t?d.concat(p.label):d},[]))).filter(function(d){return!d.hidden});if(!a.length)return void i.moveElements(s,{x:0,y:0},n,{autoResize:!1});var l=ea(a);if(n.x){var c=An(n),u=An(l);o={x:c.x-u.x,y:c.y-u.y}}else o={x:180-l.x,y:160-l.y};i.moveElements(s,o,n,{autoResize:!1})}},z1.prototype._showRecursively=function(t,n){var i=this,s=[];return t.forEach(function(o){o.hidden=!!n,s=s.concat(o),o.children&&(s=s.concat(i._showRecursively(o.children,o.collapsed||n)))}),s},z1.prototype._addDiagram=function(t){var i=this._bpmnjs.getDefinitions().diagrams;return t.businessObject||(t=this._createNewDiagram(t)),i.push(t.di.$parent),t},z1.prototype._createNewDiagram=function(t){var n=this._bpmnFactory,i=this._elementFactory,s=n.create("bpmndi:BPMNPlane",{bpmnElement:t}),o=n.create("bpmndi:BPMNDiagram",{plane:s});return s.$parent=o,i.createRoot({id:im(t),type:t.$type,di:s,businessObject:t,collapsed:!0})},z1.prototype._removeDiagram=function(t){var i=this._bpmnjs.getDefinitions().diagrams,s=Gt(i,function(o){return o.plane.bpmnElement.id===t.id});return i.splice(i.indexOf(s),1),s},z1.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"],uW.$inject=["injector","modeling"],Jt(uW,pt),Jt(dW,pt),dW.$inject=["eventBus"],Jt(pW,pt),pW.$inject=["eventBus","modeling"],Jt(hW,pt),hW.$inject=["eventBus","elementFactory","modeling"],Jt(mW,pt),mW.$inject=["canvas","injector","moddle","modeling"],Jt(gW,pt),gW.$inject=["eventBus","modeling"],yW.$inject=["eventBus","modeling"],Jt(yW,pt),Jt(vW,pt),vW.$inject=["eventBus","modeling"];const dut={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","compensateBoundaryEventBehaviour","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","nonInterruptingBehavior","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","textAnnotationBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior","setCompensationActivityAfterPasteBehavior"],adaptiveLabelPositioningBehavior:["type",Aq],appendBehavior:["type",Iq],associationBehavior:["type",Rq],attachEventBehavior:["type",eI],boundaryEventBehavior:["type",Nq],compensateBoundaryEventBehaviour:["type",Lq],createBehavior:["type",Fq],createDataObjectBehavior:["type",Bq],createParticipantBehavior:["type",jq],dataInputAssociationBehavior:["type",zq],dataStoreBehavior:["type",Hq],deleteLaneBehavior:["type",Uq],detachEventBehavior:["type",lI],dropOnFlowBehavior:["type",qq],eventBasedGatewayBehavior:["type",Wq],fixHoverBehavior:["type",iye],groupBehavior:["type",Gq],importDockingFix:["type",oye],isHorizontalFix:["type",Yq],labelBehavior:["type",Xq],layoutConnectionBehavior:["type",Qq],messageFlowBehavior:["type",eW],nonInterruptingBehavior:["type",tW],removeElementBehavior:["type",rW],removeEmbeddedLabelBoundsBehavior:["type",nW],removeParticipantBehavior:["type",iW],replaceConnectionBehavior:["type",sW],replaceElementBehaviour:["type",hI],resizeBehavior:["type",Oye],resizeLaneBehavior:["type",Dye],rootElementReferenceBehavior:["type",lW],spaceToolBehavior:["type",Mye],subProcessPlaneBehavior:["type",z1],subProcessStartEventBehavior:["type",uW],textAnnotationBehavior:["type",dW],toggleCollapseConnectionBehaviour:["type",pW],toggleElementCollapseBehaviour:["type",hW],unclaimIdBehavior:["type",mW],unsetDefaultFlowBehavior:["type",gW],updateFlowNodeRefsBehavior:["type",yW],setCompensationActivityAfterPasteBehavior:["type",vW]};function Rye(t,n){var i=Ws(t,n,-15);return"intersect"!==i?i:null}function sl(t){Hc.call(this,t)}function bW(t){return!t||ui(t)}function Nye(t){do{if(D(t,"bpmn:Process"))return G(t);if(D(t,"bpmn:Participant"))return G(t).processRef||G(t)}while(t=t.parent)}function _W(t){return D(t,"bpmn:TextAnnotation")}function EW(t){return D(t,"bpmn:Group")&&!t.labelTarget}function Lye(t){return D(t,"bpmn:BoundaryEvent")&&kh(t,"bpmn:CompensateEventDefinition")}function yI(t){return G(t).isForCompensation}function Fye(t){for(var n=t;n=n.parent;){if(D(n,"bpmn:FlowElementsContainer"))return G(n);if(D(n,"bpmn:Participant"))return G(n).processRef}return null}function Bye(t,n){return Fye(t)===Fye(n)}function kh(t,n){return!!Gt(G(t).eventDefinitions||[],function(s){return D(s,n)})}function $ye(t,n){return(G(t).eventDefinitions||[]).every(function(s){return D(s,n)})}function xW(t,n){var i=function _ut(t){for(var n=[];t;)(t=t.parent)&&n.push(t);return n}(n);return-1!==i.indexOf(t)}function vI(t,n,i){if(bW(t)||bW(n))return null;if(!D(i,"bpmn:DataAssociation")){if(Kye(t,n))return{type:"bpmn:MessageFlow"};if(Yye(t,n))return{type:"bpmn:SequenceFlow"}}return CW(t,n)||(Gye(t,n)?{type:"bpmn:Association",associationDirection:"One"}:!!Wye(t,n)&&{type:"bpmn:Association",associationDirection:"None"})}function x3(t,n){return!(!ui(t)&&!EW(t))||!(D(n,"bpmn:Participant")&&!Yr(n))&&(D(t,"bpmn:Participant")?D(n,"bpmn:Process")||D(n,"bpmn:Collaboration"):un(t,["bpmn:DataInput","bpmn:DataOutput"])&&t.parent?n===t.parent:D(t,"bpmn:Lane")?D(n,"bpmn:Participant")||D(n,"bpmn:Lane"):!(D(t,"bpmn:BoundaryEvent")&&!function Eut(t){return G(t).cancelActivity&&(Vye(t)||jye(t))}(t))&&(D(t,"bpmn:FlowElement")&&!D(t,"bpmn:DataStoreReference")?D(n,"bpmn:FlowElementsContainer")?Yr(n):un(n,["bpmn:Participant","bpmn:Lane"]):D(t,"bpmn:DataStoreReference")&&D(n,"bpmn:Collaboration")?Gd(G(n).get("participants"),function(i){return!!i.get("processRef")}):un(t,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?un(n,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):!!D(t,"bpmn:MessageFlow")&&(D(n,"bpmn:Collaboration")||t.source.parent==n||t.target.parent==n)))}function wut(t){return D(t,"bpmn:Lane")}function Vye(t){var n=G(t);return n&&!(n.eventDefinitions&&n.eventDefinitions.length)}function jye(t){return zye(t,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function zye(t,n){return n.some(function(i){return kh(t,i)})}function V6(t,n,i,s){if(Array.isArray(t)||(t=[t]),1!==t.length)return!1;var o=t[0];return!(ui(o)||!function Cut(t){return!!(function xut(t){return!ui(t)&&D(t,"bpmn:BoundaryEvent")}(t)||D(t,"bpmn:IntermediateThrowEvent")&&Vye(t))||D(t,"bpmn:IntermediateCatchEvent")&&jye(t)}(o)||Ea(n)||!D(n,"bpmn:Activity")||yI(n)||s&&!Rye(s,n)||function Sut(t){return D(t,"bpmn:ReceiveTask")&&Gt(t.incoming,function(n){return D(n.source,"bpmn:EventBasedGateway")})}(n))&&"attach"}function Hye(t,n,i){if(!n)return!1;var s={replacements:[]};return fe(t,function(o){Ea(n)||D(o,"bpmn:StartEvent")&&"label"!==o.type&&x3(o,n)&&(Upe(o)||s.replacements.push({oldElementId:o.id,newElementType:"bpmn:StartEvent"}),(function AXe(t){return Fx(t,"bpmn:ErrorEventDefinition")}(o)||function IXe(t){return Fx(t,"bpmn:EscalationEventDefinition")}(o)||function RXe(t){return Fx(t,"bpmn:CompensateEventDefinition")}(o))&&s.replacements.push({oldElementId:o.id,newElementType:"bpmn:StartEvent"}),zye(o,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&D(n,"bpmn:SubProcess")&&s.replacements.push({oldElementId:o.id,newElementType:"bpmn:StartEvent"})),D(n,"bpmn:Transaction")||kh(o,"bpmn:CancelEventDefinition")&&"label"!==o.type&&(D(o,"bpmn:EndEvent")&&x3(o,n)&&s.replacements.push({oldElementId:o.id,newElementType:"bpmn:EndEvent"}),D(o,"bpmn:BoundaryEvent")&&V6(o,n,0,i)&&s.replacements.push({oldElementId:o.id,newElementType:"bpmn:BoundaryEvent"}))}),!!s.replacements.length&&s}function Uye(t,n){return!Gd(t,wut)&&(!n||t.every(function(i){return x3(i,n)}))}function wW(t,n,i,s){return!!n&&(!(!ui(t)&&!EW(t))||!(function fut(t,n){return t===n}(i,n)||i&&xW(i,n))&&(x3(t,n)||bI(t,n)))}function qye(t,n){return D(t,"bpmn:SubProcess")?Yr(t)&&(!n||n.width>=100&&n.height>=80):!!(D(t,"bpmn:Lane")||D(t,"bpmn:Participant")||_W(t)||EW(t))}function Wye(t,n){return!(xW(n,t)||xW(t,n)||!function Out(t,n){var i=_W(t),s=_W(n);return(i||s)&&i!==s}(t,n)&&!CW(t,n))}function Gye(t,n){return Bye(t,n)&&Lye(t)&&D(n,"bpmn:Activity")&&!function Put(t,n){return t.attachers.includes(n)}(n,t)&&!Ea(n)}function Kye(t,n){return!(Qye(t)&&!Qye(n))&&function mut(t){return D(t,"bpmn:InteractionNode")&&!D(t,"bpmn:BoundaryEvent")&&(!D(t,"bpmn:Event")||D(t,"bpmn:ThrowEvent")&&$ye(t,"bpmn:MessageEventDefinition"))}(t)&&function gut(t){return D(t,"bpmn:InteractionNode")&&!yI(t)&&(!D(t,"bpmn:Event")||D(t,"bpmn:CatchEvent")&&$ye(t,"bpmn:MessageEventDefinition"))&&!(D(t,"bpmn:BoundaryEvent")&&!kh(t,"bpmn:MessageEventDefinition"))}(n)&&!function hut(t,n){return Nye(t)===Nye(n)}(t,n)}function Yye(t,n){return function yut(t){return D(t,"bpmn:FlowNode")&&!D(t,"bpmn:EndEvent")&&!Ea(t)&&!(D(t,"bpmn:IntermediateThrowEvent")&&kh(t,"bpmn:LinkEventDefinition"))&&!Lye(t)&&!yI(t)}(t)&&function vut(t){return D(t,"bpmn:FlowNode")&&!D(t,"bpmn:StartEvent")&&!D(t,"bpmn:BoundaryEvent")&&!Ea(t)&&!(D(t,"bpmn:IntermediateCatchEvent")&&kh(t,"bpmn:LinkEventDefinition"))&&!yI(t)}(n)&&Bye(t,n)&&!(D(t,"bpmn:EventBasedGateway")&&!function but(t){return D(t,"bpmn:ReceiveTask")||D(t,"bpmn:IntermediateCatchEvent")&&(kh(t,"bpmn:MessageEventDefinition")||kh(t,"bpmn:TimerEventDefinition")||kh(t,"bpmn:ConditionalEventDefinition")||kh(t,"bpmn:SignalEventDefinition"))}(n))}function CW(t,n){return un(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&un(n,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:!(!un(n,["bpmn:DataObjectReference","bpmn:DataStoreReference"])||!un(t,["bpmn:Activity","bpmn:CatchEvent"]))&&{type:"bpmn:DataOutputAssociation"}}function bI(t,n,i){if(!n)return!1;if(Array.isArray(t)){if(1!==t.length)return!1;t=t[0]}return n.source!==t&&n.target!==t&&un(n,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!ui(n)&&D(t,"bpmn:FlowNode")&&!D(t,"bpmn:BoundaryEvent")&&x3(t,n.parent)}function Xye(t,n){return!!ui(n)||!(D(n,"bpmn:Lane")&&!function Tut(t,n){return t&&n&&-1!==t.indexOf(n)}(t,n.parent))}function Qye(t){return p3(t,"bpmn:Process")||p3(t,"bpmn:Collaboration")}Jt(sl,Hc),sl.$inject=["eventBus"],sl.prototype.init=function(){this.addRule("connection.start",function(t){return function put(t){return bW(t)?null:un(t,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}(t.source)}),this.addRule("connection.create",function(t){var n=t.source,i=t.target,s=t.hints||{},o=s.targetParent;if(s.targetAttach)return!1;o&&(i.parent=o);try{return vI(n,i)}finally{o&&(i.parent=null)}}),this.addRule("connection.reconnect",function(t){return vI(t.source,t.target,t.connection)}),this.addRule("connection.updateWaypoints",function(t){return{type:t.connection.type}}),this.addRule("shape.resize",function(t){return qye(t.shape,t.newBounds)}),this.addRule("elements.create",function(t){var n=t.elements,i=t.position,s=t.target;return!(Zi(s)&&!bI(n,s))&&yu(n,function(o){return Zi(o)?vI(o.source,o.target,o):o.host?V6(o,o.host,0,i):wW(o,s,null)})}),this.addRule("elements.move",function(t){var n=t.target,i=t.shapes,s=t.position;return V6(i,n,0,s)||Hye(i,n,s)||Uye(i,n)||bI(i,n)}),this.addRule("shape.create",function(t){return wW(t.shape,t.target,t.source)}),this.addRule("shape.attach",function(t){return V6(t.shape,t.target,0,t.position)}),this.addRule("element.copy",function(t){return Xye(t.elements,t.element)})},sl.prototype.canConnectMessageFlow=Kye,sl.prototype.canConnectSequenceFlow=Yye,sl.prototype.canConnectDataAssociation=CW,sl.prototype.canConnectAssociation=Wye,sl.prototype.canConnectCompensationAssociation=Gye,sl.prototype.canMove=Uye,sl.prototype.canAttach=V6,sl.prototype.canReplace=Hye,sl.prototype.canDrop=x3,sl.prototype.canInsert=bI,sl.prototype.canCreate=wW,sl.prototype.canConnect=vI,sl.prototype.canResize=qye,sl.prototype.canCopy=Xye;const Dut={__depends__:[ep],__init__:["bpmnRules"],bpmnRules:["type",sl]};function Zye(t,n){t.on("saveXML.start",2e3,function i(){fe(n.getRootElements(),function(o){var c,a=pi(o);c=Ao(Bn(KS([o],!1),function(u){return u!==o&&!u.labelTarget}),pi),a.set("planeElement",c)})})}Zye.$inject=["eventBus","canvas"];const Mut={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",Zye]};function _I(t){pt.call(this,t);var n=this;this.preExecute(["shape.create","connection.create"],function(i){var s=i.context,l=n.getOrdering(s.shape||s.connection,s.parent);l&&(void 0!==l.parent&&(s.parent=l.parent),s.parentIndex=l.index)}),this.preExecute(["shape.move","connection.move"],function(i){var s=i.context,o=s.shape||s.connection,l=n.getOrdering(o,s.newParent||o.parent);l&&(void 0!==l.parent&&(s.newParent=l.parent),s.newParentIndex=l.index)})}function SW(t,n){_I.call(this,t);var i=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:9,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:TextAnnotation",order:{level:9}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function o(l){var c=l.order;if(c||(l.order=c=function s(l){if(l.labelTarget)return{level:10};var c=Gt(i,function(u){return un(l,[u.type])});return c&&c.order||{level:1}}(l)),!c)throw new Error(`no order for <${l.id}>`);return c}this.getOrdering=function(l,c){if(l.labelTarget||D(l,"bpmn:TextAnnotation"))return{parent:n.findRoot(c)||n.getRootElement(),index:-1};var u=o(l);u.containers&&(c=function a(l,c,u){for(var d=c;d&&!un(d,u);)d=d.parent;if(!d)throw new Error(`no parent for <${l.id}> in <${c&&c.id}>`);return d}(l,c,u.containers));var d=c.children.indexOf(l),p=gu(c.children,function(f){return!(!l.labelTarget&&f.labelTarget)&&u.level<o(f).level});return-1!==p&&-1!==d&&d<p&&(p-=1),{index:p,parent:c}}}_I.prototype.getOrdering=function(t,n){return null},Jt(_I,pt),SW.$inject=["eventBus","canvas"],Jt(SW,_I);const Aut={__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",SW]};function j6(){}j6.prototype.get=function(){return this._data},j6.prototype.set=function(t){this._data=t},j6.prototype.clear=function(){var t=this._data;return delete this._data,t},j6.prototype.isEmpty=function(){return!this._data};const OW={clipboard:["type",j6]};var Iut="drop-ok",Jye="drop-not-ok",eve="attach-ok",tve="new-parent";function rve(t,n,i,s,o){function l(u,d){[eve,Iut,Jye,tve].forEach(function(p){p===d?t.addMarker(u,p):t.removeMarker(u,p)})}function c(){var u=n.context();u&&"create"===u.prefix&&n.cancel()}i.on(["create.move","create.hover"],function(u){var d=u.context,p=d.elements,f=u.hover,h=d.source,m=d.hints||{};if(!f)return d.canExecute=!1,void(d.target=null);ive(u);var E=d.canExecute=f&&function a(u,d,p,f,h){if(!d)return!1;var m=Gt(u=Bn(u,function(v){var w=v.labelTarget;return!(v.parent||ui(v)&&-1!==u.indexOf(w))}),function(v){return!Zi(v)}),y=!1,E=!1,_=!1;sve(u)&&(y=o.allowed("shape.attach",{position:p,shape:m,target:d})),y||(_=sve(u)?o.allowed("shape.create",{position:p,shape:m,source:f,target:d}):o.allowed("elements.create",{elements:u,position:p,target:d}));var S=h.connectionTarget;return _||y?(m&&f&&(E=o.allowed("connection.create",{source:S===f?m:f,target:S===f?f:m,hints:{targetParent:d,targetAttach:y}})),{attach:y,connect:E}):(null===_||null===y)&&null}(p,f,{x:u.x,y:u.y},h,m);f&&null!==E&&(d.target=f,l(f,E&&E.attach?eve:E?tve:Jye))}),i.on(["create.end","create.out","create.cleanup"],function(u){var d=u.hover;d&&l(d,null)}),i.on("create.end",function(u){var d=u.context,p=d.source,f=d.shape,h=d.elements,m=d.target,y=d.canExecute,E=y&&y.attach,_=y&&y.connect,S=d.hints||{};if(!1===y||!m)return!1;ive(u);var v={x:u.x,y:u.y};f=_?s.appendShape(p,f,v,m,{attach:E,connection:!0===_?{}:_,connectionTarget:S.connectionTarget}):Gt(h=s.createElements(h,v,m,Ce({},S,{attach:E})),function(w){return!Zi(w)}),Ce(d,{elements:h,shape:f}),Ce(u,{elements:h,shape:f})}),i.on("create.init",function(){i.on("elements.changed",c),i.once(["create.cancel","create.end"],2e3,function(){i.off("elements.changed",c)})}),this.start=function(u,d,p){Xt(d)||(d=[d]);var f=Gt(d,function(y){return!Zi(y)});if(f){p=Ce({elements:d,hints:{},shape:f},p||{}),fe(d,function(y){Ln(y.x)||(y.x=0),Ln(y.y)||(y.y=0)});var m=ea(Bn(d,function(y){return!y.hidden}));fe(d,function(y){Zi(y)&&(y.waypoints=Ao(y.waypoints,function(E){return{x:E.x-m.x-m.width/2,y:E.y-m.y-m.height/2}})),Ce(y,{x:y.x-m.x-m.width/2,y:y.y-m.y-m.height/2})}),n.init(u,"create",{cursor:"grabbing",autoActivate:!0,data:{shape:f,elements:d,context:p}})}}}function ive(t){var i=t.context.createConstraints;i&&(i.left&&(t.x=Math.max(t.x,i.left)),i.right&&(t.x=Math.min(t.x,i.right)),i.top&&(t.y=Math.max(t.y,i.top)),i.bottom&&(t.y=Math.min(t.y,i.bottom)))}function sve(t){return t&&1===t.length&&!Zi(t[0])}function ove(t,n,i,s,o){n.on("create.move",750,function(l){var c=l.hover,u=l.context,p=u.dragGroup;p||(p=u.dragGroup=function a(l){var c=an("g");Wt(c,o.cls("djs-drag-group",["no-events"]));var u=an("g");return l.forEach(function(d){var p;d.hidden||(d.waypoints?(p=i._createContainer("connection",u),i.drawConnection(O1(p),d)):(p=i._createContainer("shape",u),i.drawShape(O1(p),d),tl(p,d.x,d.y)),s.addDragger(d,c,p))}),c}(u.elements)),c?(p.parentNode||On(t.getActiveLayer(),p),tl(p,l.x,l.y)):Ro(p)}),n.on("create.cleanup",function(l){var u=l.context.dragGroup;u&&Ro(u)})}rve.$inject=["canvas","dragging","eventBus","modeling","rules"],ove.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const w3={__depends__:[_m,g3,ep,jc],__init__:["create","createPreview"],create:["type",rve],createPreview:["type",ove]};function TW(t){var n=this;function i(s){n._lastMoveEvent=s}this._lastMoveEvent=null,t.on("canvas.init",function(s){(n._svg=s.svg).addEventListener("mousemove",i)}),t.on("canvas.destroy",function(){n._lastMouseEvent=null,n._svg.removeEventListener("mousemove",i)})}TW.$inject=["eventBus"],TW.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||function Lut(t,n){var i=document.createEvent("MouseEvent");return i.initMouseEvent&&i.initMouseEvent("mousemove",!0,!0,window,0,t,n,t,n,!1,!1,!1,!1,0,null),i}(0,0)};const z6={__init__:["mouse"],mouse:["type",TW]};function pf(t,n,i,s,o,a,l,c){this._canvas=t,this._create=n,this._clipboard=i,this._elementFactory=s,this._eventBus=o,this._modeling=a,this._mouse=l,this._rules=c,o.on("copyPaste.copyElement",function(u){var d=u.descriptor,p=u.element,f=u.elements;d.priority=1,d.id=p.id,Gt(f,function(m){return m===p.parent})&&(d.parent=p.parent.id),function Fut(t){return!!t.host}(p)&&(d.priority=2,d.host=p.host.id),Zi(p)&&(d.priority=3,d.source=p.source.id,d.target=p.target.id,d.waypoints=function But(t){return Ao(t.waypoints,function(n){return(n=ave(n)).original&&(n.original=ave(n.original)),n})}(p)),ui(p)&&(d.priority=4,d.labelTarget=p.labelTarget.id),fe(["x","y","width","height"],function(m){Ln(p[m])&&(d[m]=p[m])}),d.hidden=p.hidden,d.collapsed=p.collapsed}),o.on("copyPaste.pasteElements",function(u){Ce(u.hints,{createElementsBehavior:!1})})}function ave(t){return Ce({},t)}function lve(t,n){var i=n.indexOf(t);return-1===i?n:n.splice(i,1)}pf.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],pf.prototype.copy=function(t){var n,i;return Xt(t)||(t=t?[t]:[]),i=!1===(n=this._eventBus.fire("copyPaste.canCopyElements",{elements:t}))?{}:this.createTree(Xt(n)?n:t),this._clipboard.set(i),this._eventBus.fire("copyPaste.elementsCopied",{elements:t,tree:i}),i},pf.prototype.paste=function(t){var n=this._clipboard.get();if(!this._clipboard.isEmpty()){var i=t&&t.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:i});var s=this._createElements(n);if(t&&t.element&&t.point)return this._paste(s,t.element,t.point,i);this._create.start(this._mouse.getLastMoveEvent(),s,{hints:i||{}})}},pf.prototype._paste=function(t,n,i,s){fe(t,function(a){Ln(a.x)||(a.x=0),Ln(a.y)||(a.y=0)});var o=ea(t);return fe(t,function(a){Zi(a)&&(a.waypoints=Ao(a.waypoints,function(l){return{x:l.x-o.x-o.width/2,y:l.y-o.y-o.height/2}})),Ce(a,{x:a.x-o.x-o.width/2,y:a.y-o.y-o.height/2})}),this._modeling.createElements(t,i,n,Ce({},s))},pf.prototype._createElements=function(t){var n=this,i=this._eventBus,s={},o=[];return fe(t,function(a,l){l=parseInt(l,10),fe(a=ba(a,"priority"),function(c){var d,u=Ce({},yh(c,["priority"]));return s[c.parent]?u.parent=s[c.parent]:delete u.parent,i.fire("copyPaste.pasteElement",{cache:s,descriptor:u}),Zi(u)?(u.source=s[c.source],u.target=s[c.target],d=s[c.id]=n.createConnection(u),void o.push(d)):ui(u)?(u.labelTarget=s[u.labelTarget],d=s[c.id]=n.createLabel(u),void o.push(d)):(u.host&&(u.host=s[u.host]),d=s[c.id]=n.createShape(u),void o.push(d))})}),o},pf.prototype.createConnection=function(t){return this._elementFactory.createConnection(yh(t,["id"]))},pf.prototype.createLabel=function(t){return this._elementFactory.createLabel(yh(t,["id"]))},pf.prototype.createShape=function(t){return this._elementFactory.createShape(yh(t,["id"]))},pf.prototype.hasRelations=function(t,n){var i,s,o;return!(Zi(t)&&(s=Gt(n,af({id:t.source.id})),o=Gt(n,af({id:t.target.id})),!s||!o)||ui(t)&&(i=Gt(n,af({id:t.labelTarget.id})),!i))},pf.prototype.createTree=function(t){var n=this._rules,i=this,s={},o=[];function c(d,p){var f=Gt(o,function(h){return d===h.element});f?f.depth<p&&(o=function u(d,p){var f=p.indexOf(d);return-1!==f&&p.splice(f,1),p}(f,o),o.push({element:f.element,depth:p})):o.push({element:d,depth:p})}return Cb(B7(t),function(d,p,f){if(!ui(d)){fe(d.labels,function(y){c(y,f)}),fe([d.attachers,d.incoming,d.outgoing],function h(y){y&&y.length&&fe(y,function(E){fe(E.labels,function(_){c(_,f)}),c(E,f)})}),c(d,f);var m=[];return d.children&&(m=d.children.slice()),i._eventBus.fire("copyPaste.createTree",{element:d,children:m}),m}}),t=Ao(o,function(d){return d.element}),o=ba(o=Ao(o,function(d){return d.descriptor={},i._eventBus.fire("copyPaste.copyElement",{descriptor:d.descriptor,element:d.element,elements:t}),d}),function(d){return d.descriptor.priority}),t=Ao(o,function(d){return d.element}),fe(o,function(d){var p=d.depth;i.hasRelations(d.element,t)&&function l(d,p){return n.allowed("element.copy",{element:d,elements:p})}(d.element,t)?(s[p]||(s[p]=[]),s[p].push(d.descriptor)):lve(d.element,t)}),s};const $ut={__depends__:[OW,w3,z6,ep],__init__:["copyPaste"],copyPaste:["type",pf]};function PW(t,n,i){Xt(i)||(i=[i]),fe(i,function(s){Di(t[s])||(n[s]=t[s])})}function cve(t,n,i){function s(u,d){var p=t.create(u.$type);return i.copyElement(u,p,null,d)}n.on("copyPaste.copyElement",750,function(u){var d=u.descriptor,p=u.element,f=G(p);if(ui(p))return d;var h=d.businessObject=s(f,!0),m=d.di=s(pi(p),!0);m.bpmnElement=h,PW(h,d,"name"),PW(m,d,"isExpanded"),f.default&&(d.default=f.default.id)});var o="-bpmn-js-refs";n.on("copyPaste.pasteElement",function(u){var d=u.cache,p=u.descriptor,f=p.businessObject,h=p.di;if(ui(p))return p.businessObject=G(d[p.labelTarget]),void(p.di=pi(d[p.labelTarget]));f=p.businessObject=s(f),(h=p.di=s(h)).bpmnElement=f,PW(p,f,["isExpanded","name"]),p.type=f.$type}),n.on("copyPaste.copyElement",750,function(u){var d=u.descriptor,p=u.element;if(D(p,"bpmn:Participant")){var f=G(p);f.processRef&&(d.processRef=s(f.processRef,!0))}}),n.on("copyPaste.pasteElement",function(u){var d=u.descriptor,p=d.processRef;p&&(d.processRef=s(p))}),n.on("copyPaste.pasteElement",750,function(u){var d=u.cache;!function l(u,d){u[o]=d}(d,function c(u,d,p){var f=G(u);return u.default&&(p[u.default]={element:f,property:"default"}),u.host&&(G(u).attachedToRef=G(d[u.host])),yh(p,Ts(p,function(h,m,y){return y===u.id&&(m.element.set(m.property,f),h.push(u.id)),h},[]))}(u.descriptor,d,function a(u){return u[o]=u[o]||{}}(d)))})}cve.$inject=["bpmnFactory","eventBus","moddleCopy"];var Vut=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing","categoryValue"];function H6(t,n,i){this._bpmnFactory=n,this._eventBus=t,this._moddle=i,t.on("moddleCopy.canCopyProperties",function(s){var o=s.propertyNames;if(o&&o.length)return ba(o,function(a){return"extensionElements"===a})}),t.on("moddleCopy.canCopyProperty",function(s){var o=s.parent,a=si(o)&&o.$descriptor,l=s.propertyName;if(l&&-1!==Vut.indexOf(l)||l&&a&&!Gt(a.properties,af({name:l})))return!1}),t.on("moddleCopy.canSetCopiedProperty",function(s){var o=s.property;if(function jut(t,n){return t&&Ar(t.$instanceOf)&&t.$instanceOf(n)}(o,"bpmn:ExtensionElements")&&(!o.values||!o.values.length))return!1})}function kW(t,n){return Ts(t.properties,function(i,s){return n&&s.default?i:i.concat(s.name)},[])}H6.$inject=["eventBus","bpmnFactory","moddle"],H6.prototype.copyElement=function(t,n,i,s=!1){var o=this;i&&!Xt(i)&&(i=[i]),i=i||kW(t.$descriptor);var a=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:i,sourceElement:t,targetElement:n,clone:s});return!1===a||(Xt(a)&&(i=a),fe(i,function(l){var c;Zo(t,l)&&(c=t.get(l));var u=o.copyProperty(c,n,l,s);Ki(u)&&!1!==o._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:n,property:u,propertyName:l})&&n.set(l,u)})),n},H6.prototype.copyProperty=function(t,n,i,s=!1){var o=this,a=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:n,property:t,propertyName:i,clone:s});if(!1!==a){if(a)return si(a)&&a.$type&&!a.$parent&&(a.$parent=n),a;var l=this._moddle.getPropertyDescriptor(n,i);if(!l.isReference)return l.isId?t&&this._copyId(t,n,s):Xt(t)?Ts(t,function(c,u){return(a=o.copyProperty(u,n,i,s))?c.concat(a):c},[]):si(t)&&t.$type?this._moddle.getElementDescriptor(t).isGeneric?void 0:((a=o._bpmnFactory.create(t.$type)).$parent=n,a=o.copyElement(t,a,null,s)):t}},H6.prototype._copyId=function(t,n,i=!1){return i?t:this._moddle.ids.assigned(t)?void 0:(this._moddle.ids.claim(t,n),t)};const uve={__depends__:[$ut],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",cve],moddleCopy:["type",H6]};var dve=Math.round;function MW(t,n){this._modeling=t,this._eventBus=n}function pve(t,n){n.on("replace.end",500,function(i){const{newElement:s,hints:o={}}=i;!1!==o.select&&t.select(s)})}MW.$inject=["modeling","eventBus"],MW.prototype.replaceElement=function(t,n,i){if(t.waypoints)return null;var s=this._modeling,o=this._eventBus;o.fire("replace.start",{element:t,attrs:n,hints:i});var a=n.width||t.width,l=n.height||t.height,u=n.y||t.y,d=dve((n.x||t.x)+a/2),p=dve(u+l/2),f=s.replaceShape(t,Ce({},n,{x:d,y:p,width:a,height:l}),i);return o.fire("replace.end",{element:t,newElement:f,hints:i}),f},pve.$inject=["selection","eventBus"];const fve={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",pve],replace:["type",MW]};var Hut=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function hve(t,n,i,s,o,a){this.replaceElement=function l(c,u,d){d=d||{};var p=u.type,f=c.businessObject;if(EI(f)&&("bpmn:SubProcess"===p||"bpmn:AdHocSubProcess"===p)&&function Uut(t,n){var i=t&&Zo(t,"collapsed")?t.collapsed:!Yr(t);return i!==(n&&(Zo(n,"collapsed")||Zo(n,"isExpanded"))?Zo(n,"collapsed")?n.collapsed:!n.isExpanded:i)}(c,u))return s.toggleCollapse(c),c;var h=t.create(p),m={type:p,businessObject:h,di:{}};"bpmn:ExclusiveGateway"===p&&(m.di.isMarkerVisible=!0),function zut(t,n,i){Xt(i)||(i=[i]),fe(i,function(s){Di(t[s])||(n[s]=t[s])})}(c.di,m.di,["fill","stroke","background-color","border-color","color"]);var _=function qut(t,n){return t.filter(function(i){return n.includes(i)})}(kW(f.$descriptor),kW(h.$descriptor,!0));Ce(h,td(u,Hut));var S=Bn(_,function(g){return"eventDefinitions"===g?mve(c,u.eventDefinitionType):"loopCharacteristics"===g?!Ea(h):!(Zo(h,g)||"processRef"===g&&!1===u.isExpanded||"triggeredByEvent"===g||"isForCompensation"===g&&Ea(h))});if(h=i.copyElement(f,h,S),u.eventDefinitionType&&(mve(h,u.eventDefinitionType)||(m.eventDefinitionType=u.eventDefinitionType,m.eventDefinitionAttrs=u.eventDefinitionAttrs)),D(f,"bpmn:Activity")){if(EI(f))m.isExpanded=Yr(c);else if(u&&Zo(u,"isExpanded")){m.isExpanded=u.isExpanded;var v=n.getDefaultSize(h,{isExpanded:m.isExpanded});m.width=v.width,m.height=v.height,m.x=c.x-(m.width-c.width)/2,m.y=c.y-(m.height-c.height)/2}Yr(c)&&!D(f,"bpmn:Task")&&m.isExpanded&&(m.width=c.width,m.height=c.height)}if(EI(f)&&!EI(h)&&(d.moveChildren=!1),D(f,"bpmn:Participant")){!0===u.isExpanded?h.processRef=t.create("bpmn:Process"):d.moveChildren=!1;var w=_a(c);pi(c).isHorizontal||(pi(m).isHorizontal=w),m.width=w?c.width:n.getDefaultSize(m).width,m.height=w?n.getDefaultSize(m).height:c.height}return a.allowed("shape.resize",{shape:h})||(m.height=n.getDefaultSize(m).height,m.width=n.getDefaultSize(m).width),h.name=f.name,un(f,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&un(h,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(h.default=f.default),u.host&&!D(f,"bpmn:BoundaryEvent")&&D(h,"bpmn:BoundaryEvent")&&(m.host=u.host),("bpmn:DataStoreReference"===m.type||"bpmn:DataObjectReference"===m.type)&&(m.x=c.x+(c.width-m.width)/2),o.replaceElement(c,m,{...d,targetElement:u})}}function EI(t){return D(t,"bpmn:SubProcess")}function mve(t,n){var i=G(t);return n&&i.get("eventDefinitions").some(function(s){return D(s,n)})}hve.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules"];const gve={__depends__:[uve,fve,jc],bpmnReplace:["type",hve]};function Yb(t){this._eventBus=t,this._tools=[],this._active=null}Yb.$inject=["eventBus"],Yb.prototype.registerTool=function(t,n){var i=this._tools;if(!n)throw new Error('A tool has to be registered with it\'s "events"');i.push(t),this.bindEvents(t,n)},Yb.prototype.isActive=function(t){return t&&this._active===t},Yb.prototype.length=function(t){return this._tools.length},Yb.prototype.setActive=function(t){var n=this._eventBus;this._active!==t&&(this._active=t,n.fire("tool-manager.update",{tool:t}))},Yb.prototype.bindEvents=function(t,n){var i=this._eventBus,s=[];i.on(n.tool+".init",function(o){o.context.reactivate||!this.isActive(t)?this.setActive(t):this.setActive(null)},this),fe(n,function(o){s.push(o+".ended"),s.push(o+".canceled")}),i.on(s,250,function(o){this._active&&(function Gut(t){var n=t.originalEvent&&t.originalEvent.target;return n&&Vc(n,'.group[data-group="tools"]')}(o)||this.setActive(null))},this)};const xI={__depends__:[_m],__init__:["toolManager"],toolManager:["type",Yb]};function U6(t,n){return-1!==t.indexOf(n)}var AW=Math.abs,Qut=Math.round,xm={x:"width",y:"height"},H1={n:"top",w:"left",s:"bottom",e:"right"},wI={n:"s",w:"e",s:"n",e:"w"};function ip(t,n,i,s,o,a,l){this._canvas=t,this._dragging=n,this._eventBus=i,this._modeling=s,this._rules=o,this._toolManager=a,this._mouse=l;var c=this;a.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),i.on("spaceTool.selection.end",function(u){i.once("spaceTool.selection.ended",function(){c.activateMakeSpace(u.originalEvent)})}),i.on("spaceTool.move",1500,function(u){var d=u.context,p=d.initialized;p||(p=d.initialized=c.init(u,d)),p&&bve(u)}),i.on("spaceTool.end",function(u){var d=u.context,p=d.axis,f=d.direction,h=d.movingShapes,m=d.resizingShapes,y=d.start;if(d.initialized){bve(u);var E={x:0,y:0};E[p]=Qut(u["d"+p]),c.makeSpace(h,m,E,f,y),i.once("spaceTool.ended",function(_){c.activateSelection(_.originalEvent,!0,!0)})}})}function vve(t){return{top:t.top-20,right:t.right+20,bottom:t.bottom+20,left:t.left-20}}function bve(t){var s,o,i=t.context.spaceToolConstraints;i&&(Ln(i.left)&&(s=Math.max(t.x,i.left),t.dx=t.dx+s-t.x,t.x=s),Ln(i.right)&&(s=Math.min(t.x,i.right),t.dx=t.dx+s-t.x,t.x=s),Ln(i.top)&&(o=Math.max(t.y,i.top),t.dy=t.dy+o-t.y,t.y=o),Ln(i.bottom)&&(o=Math.min(t.y,i.bottom),t.dy=t.dy+o-t.y,t.y=o))}function Xb(t,n){return-1!==t.indexOf(n)}ip.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"],ip.prototype.activateSelection=function(t,n,i){this._dragging.init(t,"spaceTool.selection",{autoActivate:n,cursor:"crosshair",data:{context:{reactivate:i}},trapClick:!1})},ip.prototype.activateMakeSpace=function(t){this._dragging.init(t,"spaceTool",{autoActivate:!0,cursor:"crosshair",data:{context:{}}})},ip.prototype.makeSpace=function(t,n,i,s,o){return this._modeling.createSpace(t,n,i,s,o)},ip.prototype.init=function(t,n){var i=AW(t.dx)>AW(t.dy)?"x":"y",s=t["d"+i],o=t[i]-s;if(AW(s)<5)return!1;s<0&&(s*=-1),Ux(t)&&(s*=-1);var a=function Kut(t,n){if("x"===t){if(n>0)return"e";if(n<0)return"w"}if("y"===t){if(n>0)return"s";if(n<0)return"n"}return null}(i,s),l=this._canvas.getRootElement();!z7(t)&&t.hover&&(l=t.hover);var c=[...KS(l,!0),...l.attachers||[]],u=this.calculateAdjustments(c,i,s,o),p=function Jut(t,n,i,s,o){var a=t.movingShapes,l=t.resizingShapes;if(l.length){var u,d,c={};return fe(l,function(p){var _,S,v,x,T,A,f=p.attachers,h=p.children,m=En(p),y=Bn(h,function(z){return!(Zi(z)||ui(z)||Xb(a,z)||Xb(l,z))}),E=Bn(h,function(z){return!Zi(z)&&!ui(z)&&Xb(a,z)}),w=[],g=[];y.length&&(S=vve(En(ea(y))),_=s-m[H1[i]]+S[H1[i]],"n"===i?c.bottom=d=Ln(d)?Math.min(d,_):_:"w"===i?c.right=d=Ln(d)?Math.min(d,_):_:"s"===i?c.top=u=Ln(u)?Math.max(u,_):_:"e"===i&&(c.left=u=Ln(u)?Math.max(u,_):_)),E.length&&(v=vve(En(ea(E))),_=s-v[H1[wI[i]]]+m[H1[wI[i]]],"n"===i?c.bottom=d=Ln(d)?Math.min(d,_):_:"w"===i?c.right=d=Ln(d)?Math.min(d,_):_:"s"===i?c.top=u=Ln(u)?Math.max(u,_):_:"e"===i&&(c.left=u=Ln(u)?Math.max(u,_):_)),f&&f.length&&(f.forEach(function(z){Xb(a,z)?w.push(z):g.push(z)}),w.length&&(x=En(ea(w.map(An))),T=m[H1[wI[i]]]-(x[H1[wI[i]]]-s)),g.length&&(A=En(ea(g.map(An)))[H1[i]]-(m[H1[i]]-s)),"n"===i?(_=Math.min(T||1/0,A||1/0),c.bottom=d=Ln(d)?Math.min(d,_):_):"w"===i?(_=Math.min(T||1/0,A||1/0),c.right=d=Ln(d)?Math.min(d,_):_):"s"===i?(_=Math.max(T||-1/0,A||-1/0),c.top=u=Ln(u)?Math.max(u,_):_):"e"===i&&(_=Math.max(T||-1/0,A||-1/0),c.left=u=Ln(u)?Math.max(u,_):_));var $=o&&o[p.id];$&&("n"===i?(_=s+p[xm[n]]-$[xm[n]],c.bottom=d=Ln(d)?Math.min(d,_):_):"w"===i?(_=s+p[xm[n]]-$[xm[n]],c.right=d=Ln(d)?Math.min(d,_):_):"s"===i?(_=s-p[xm[n]]+$[xm[n]],c.top=u=Ln(u)?Math.max(u,_):_):"e"===i&&(_=s-p[xm[n]]+$[xm[n]],c.left=u=Ln(u)?Math.max(u,_):_))}),c}}(u,i,a,o,this._eventBus.fire("spaceTool.getMinDimensions",{axis:i,direction:a,shapes:u.resizingShapes,start:o}));return Ce(n,u,{axis:i,direction:a,spaceToolConstraints:p,start:o}),rA("resize-"+("x"===i?"ew":"ns")),!0},ip.prototype.calculateAdjustments=function(t,n,i,s){var o=this._rules,a=[],l=[],c=[],u=[];function d(h){a.includes(h)||a.push(h);var m=h.label;m&&!a.includes(m)&&a.push(m)}fe(t,function(h){if(h.parent&&!ui(h)){if(Zi(h))return void u.push(h);var m=h[n],y=m+h[xm[n]];if(function edt(t){return!!t.host}(h)&&(i>0&&An(h)[n]>s||i<0&&An(h)[n]<s))return void c.push(h);if(i>0&&m>s||i<0&&y<s)return void d(h);if(m<s&&y>s&&o.allowed("shape.resize",{shape:h}))return void function p(h){l.includes(h)||l.push(h)}(h)}}),fe(a,function(h){var m=h.attachers;m&&fe(m,function(y){d(y)})});var f=a.concat(l);return fe(c,function(h){Xb(f,h.host)&&d(h)}),f=a.concat(l),fe(u,function(h){var y=h.target,E=h.label;Xb(f,h.source)&&Xb(f,y)&&E&&d(E)}),{movingShapes:a,resizingShapes:l}},ip.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateSelection(t,!!t)},ip.prototype.isActive=function(){var t=this._dragging.context();return!!t&&/^spaceTool/.test(t.prefix)};var IW="djs-dragging",_ve="djs-resizing",SI=Math.max;function Eve(t,n,i,s,o){function a(l,c){fe(l,function(u){o.addDragger(u,c),i.addMarker(u,IW)})}t.on("spaceTool.selection.start",function(l){var c=i.getLayer("space"),u=l.context,p=an("g");Wt(p,s.cls("djs-crosshair-group",["no-events"])),On(c,p);var f=an("path");Wt(f,"d","M 0,-10000 L 0,10000"),di(f).add("djs-crosshair"),On(p,f);var h=an("path");Wt(h,"d","M -10000,0 L 10000,0"),di(h).add("djs-crosshair"),On(p,h),u.crosshairGroup=p}),t.on("spaceTool.selection.move",function(l){tl(l.context.crosshairGroup,l.x,l.y)}),t.on("spaceTool.selection.cleanup",function(l){var u=l.context.crosshairGroup;u&&Ro(u)}),t.on("spaceTool.move",250,function(l){var c=l.context,u=c.line,d=c.axis,p=c.movingShapes,f=c.resizingShapes;if(c.initialized){if(!c.dragGroup){var h=i.getLayer("space");Wt(u=an("path"),"d","M0,0 L0,0"),di(u).add("djs-crosshair"),On(h,u),c.line=u;var m=an("g");Wt(m,s.cls("djs-drag-group",["no-events"])),On(i.getActiveLayer(),m),a(p,m),a(c.movingConnections=n.filter(function(g){var x=!1;fe(p,function($){fe($.outgoing,function(z){g===z&&(x=!0)})});var T=!1;fe(p,function($){fe($.incoming,function(z){g===z&&(T=!0)})});var I=!1;fe(f,function($){fe($.outgoing,function(z){g===z&&(I=!0)})});var A=!1;return fe(f,function($){fe($.incoming,function(z){g===z&&(A=!0)})}),Zi(g)&&(x||I)&&(T||A)}),m),c.dragGroup=m}if(!c.frameGroup){var E=an("g");Wt(E,s.cls("djs-frame-group",["no-events"])),On(i.getActiveLayer(),E);var _=[];fe(f,function(g){var x=o.addFrame(g,E),T=x.getBBox();_.push({element:x,initialBounds:T}),i.addMarker(g,_ve)}),c.frameGroup=E,c.frames=_}Wt(u,{d:{x:"M"+l.x+", -10000 L"+l.x+", 10000",y:"M -10000, "+l.y+" L 10000, "+l.y}[d]});var w={x:l.dx,y:l.dy};w[{x:"y",y:"x"}[c.axis]]=0,tl(c.dragGroup,w.x,w.y),fe(c.frames,function(g){var I,A,x=g.element,T=g.initialBounds;Wt(x,"e"===c.direction?{width:SI(T.width+w.x,5)}:{width:I=SI(T.width-w.x,5),x:T.x+T.width-I}),Wt(x,"s"===c.direction?{height:SI(T.height+w.y,5)}:{height:A=SI(T.height-w.y,5),y:T.y+T.height-A})})}}),t.on("spaceTool.cleanup",function(l){var c=l.context,d=c.movingConnections,p=c.resizingShapes,f=c.line,h=c.dragGroup,m=c.frameGroup;fe(c.movingShapes,function(y){i.removeMarker(y,IW)}),fe(d,function(y){i.removeMarker(y,IW)}),h&&(Ro(f),Ro(h)),fe(p,function(y){i.removeMarker(y,_ve)}),m&&Ro(m)})}Eve.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];const ndt={__init__:["spaceToolPreview"],__depends__:[_m,ep,xI,g3,z6],spaceTool:["type",ip],spaceToolPreview:["type",Eve]};function OI(t,n){t.invoke(ip,this),this._canvas=n}OI.$inject=["injector","canvas"],Jt(OI,ip),OI.prototype.calculateAdjustments=function(t,n,i,s){var o=this._canvas.getRootElement(),a=t[0]===o?null:t[0],l=[];a&&(l=bb(Ofe(o.children.filter(d=>D(d,"bpmn:Artifact")),ea(a))));const c=[...t,...l];var u=ip.prototype.calculateAdjustments.call(this,c,n,i,s);return u.resizingShapes=u.resizingShapes.filter(function(d){return!(D(d,"bpmn:TextAnnotation")||function rdt(t){return D(t,"bpmn:Participant")&&!G(t).processRef}(d)&&("y"===n&&_a(d)||"x"===n&&!_a(d)))}),u};const xve={__depends__:[ndt],spaceTool:["type",OI]};function ks(t,n){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=n,this._eventBus=t,this._uid=1,t.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}ks.$inject=["eventBus","injector"],ks.prototype.execute=function(t,n){if(!t)throw new Error("command required");this._currentExecution.trigger="execute";const i={command:t,context:n};this._pushAction(i),this._internalExecute(i),this._popAction()},ks.prototype.canExecute=function(t,n){const i={command:t,context:n},s=this._getHandler(t);let o=this._fire(t,"canExecute",i);if(void 0===o){if(!s)return!1;s.canExecute&&(o=s.canExecute(n))}return o},ks.prototype.clear=function(t){this._stack.length=0,this._stackIdx=-1,!1!==t&&this._fire("changed",{trigger:"clear"})},ks.prototype.undo=function(){let n,t=this._getUndoAction();if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),n=this._getUndoAction(),n&&n.id===t.id);)t=n;this._popAction()}},ks.prototype.redo=function(){let n,t=this._getRedoAction();if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),n=this._getRedoAction(),n&&n.id===t.id);)t=n;this._popAction()}},ks.prototype.register=function(t,n){this._setHandler(t,n)},ks.prototype.registerHandler=function(t,n){if(!t||!n)throw new Error("command and handlerCls must be defined");const i=this._injector.instantiate(n);this.register(t,i)},ks.prototype.canUndo=function(){return!!this._getUndoAction()},ks.prototype.canRedo=function(){return!!this._getRedoAction()},ks.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},ks.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},ks.prototype._internalUndo=function(t){const n=t.command,i=t.context,s=this._getHandler(n);this._atomicDo(()=>{this._fire(n,"revert",t),s.revert&&this._markDirty(s.revert(i)),this._revertedAction(t),this._fire(n,"reverted",t)})},ks.prototype._fire=function(t,n,i){arguments.length<3&&(i=n,n=null);const s=n?[t+"."+n,n]:[t];let o;i=this._eventBus.createEvent(i);for(const a of s)if(o=this._eventBus.fire("commandStack."+a,i),i.cancelBubble)break;return o},ks.prototype._createId=function(){return this._uid++},ks.prototype._atomicDo=function(t){const n=this._currentExecution;n.atomic=!0;try{t()}finally{n.atomic=!1}},ks.prototype._internalExecute=function(t,n){const i=t.command,s=t.context,o=this._getHandler(i);if(!o)throw new Error("no command handler registered for <"+i+">");this._pushAction(t),n||(this._fire(i,"preExecute",t),o.preExecute&&o.preExecute(s),this._fire(i,"preExecuted",t)),this._atomicDo(()=>{this._fire(i,"execute",t),o.execute&&this._markDirty(o.execute(s)),this._executedAction(t,n),this._fire(i,"executed",t)}),n||(this._fire(i,"postExecute",t),o.postExecute&&o.postExecute(s),this._fire(i,"postExecuted",t)),this._popAction()},ks.prototype._pushAction=function(t){const n=this._currentExecution,i=n.actions,s=i[0];if(n.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+t.command+")");t.id||(t.id=s&&s.id||this._createId()),i.push(t)},ks.prototype._popAction=function(){const t=this._currentExecution,n=t.trigger,i=t.actions,s=t.dirty;i.pop(),i.length||(this._eventBus.fire("elements.changed",{elements:b7("id",s.reverse())}),s.length=0,this._fire("changed",{trigger:n}),t.trigger=null)},ks.prototype._markDirty=function(t){const n=this._currentExecution;t&&(t=Xt(t)?t:[t],n.dirty=n.dirty.concat(t))},ks.prototype._executedAction=function(t,n){const i=++this._stackIdx;n||this._stack.splice(i,this._stack.length,t)},ks.prototype._revertedAction=function(t){this._stackIdx--},ks.prototype._getHandler=function(t){return this._handlerMap[t]},ks.prototype._setHandler=function(t,n){if(!t||!n)throw new Error("command and handler required");if(this._handlerMap[t])throw new Error("overriding handler for command <"+t+">");this._handlerMap[t]=n};const TI={commandStack:["type",ks]};function U1(t,n){if("function"!=typeof n)throw new Error("removeFn iterator must be a function");if(t){for(var i;i=t[0];)n(i);return t}}function RW(t,n,i){pt.call(this,n);var s=t.get("movePreview",!1);n.on("shape.move.start",1400,function(o){var a=o.context,c=a.validatedShapes;a.shapes=Cve(a.shapes),a.validatedShapes=Cve(c)}),s&&n.on("shape.move.start",250,function(o){var a=o.context,c=[];fe(a.shapes,function(u){fe(u.labels,function(d){!d.hidden&&-1===a.shapes.indexOf(d)&&c.push(d),u.labelTarget&&c.push(u)})}),fe(c,function(u){s.makeDraggable(a,u,!0)})}),this.preExecuted("elements.move",1400,function(o){var l=o.context.closure,c=l.enclosedElements,u=[];fe(c,function(d){fe(d.labels,function(p){c[p.id]||u.push(p)})}),l.addAll(u)}),this.preExecute(["connection.delete","shape.delete"],function(o){var a=o.context;U1((a.connection||a.shape).labels,function(c){i.removeShape(c,{nested:!0})})}),this.execute("shape.delete",function(o){var a=o.context,l=a.shape,c=l.labelTarget;c&&(a.labelTargetIndex=XH(c.labels,l),a.labelTarget=c,l.labelTarget=null)}),this.revert("shape.delete",function(o){var a=o.context,l=a.shape,c=a.labelTarget;c&&(So(c.labels,l,a.labelTargetIndex),l.labelTarget=c)})}function Cve(t){return Bn(t,function(n){return-1===t.indexOf(n.labelTarget)})}Jt(RW,pt),RW.$inject=["injector","eventBus","modeling"];const sdt={__init__:["labelSupport"],labelSupport:["type",RW]};function NW(t,n,i,s,o){pt.call(this,n);var a=t.get("movePreview",!1);n.on("shape.move.start",1401,function(l){var c=l.context,d=c.validatedShapes;c.shapes=function adt(t){var n=LW(t);return OXe("id",t,n)}(c.shapes),c.validatedShapes=function ldt(t){var n=of(t,"id");return Bn(t,function(i){for(;i;){if(i.host&&n[i.host.id])return!1;i=i.parent}return!0})}(d)}),a&&n.on("shape.move.start",251,function(l){var c=l.context;fe(LW(c.shapes),function(p){a.makeDraggable(c,p,!0),fe(p.labels,function(f){a.makeDraggable(c,f,!0)})})}),a&&n.on("shape.move.start",function(l){var u=l.context.shapes;if(1===u.length){var p=u[0].host;p&&(i.addMarker(p,"attach-ok"),n.once(["shape.move.out","shape.move.cleanup"],function(){i.removeMarker(p,"attach-ok")}))}}),this.preExecuted("elements.move",1401,function(l){var c=l.context,u=c.closure;fe(LW(c.shapes),function(f){u.add(f,u.topLevel[f.host.id])})}),this.postExecuted("elements.move",function(l){var p,c=l.context,u=c.shapes,d=c.newHost;d&&1!==u.length||(p=d?u:Bn(u,function(f){var h=f.host;return function cdt(t){return!!t.host}(f)&&!function udt(t,n){return-1!==t.indexOf(n)}(u,h)}),fe(p,function(f){o.updateAttachment(f,d)}))}),this.postExecuted("elements.move",function(l){fe(l.context.shapes,function(u){fe(u.attachers,function(d){fe(d.outgoing.slice(),function(p){s.allowed("connection.reconnect",{connection:p,source:p.source,target:p.target})||o.removeConnection(p)}),fe(d.incoming.slice(),function(p){s.allowed("connection.reconnect",{connection:p,source:p.source,target:p.target})||o.removeConnection(p)})})})}),this.postExecute("shape.create",function(l){var c=l.context,d=c.host;d&&o.updateAttachment(c.shape,d)}),this.postExecute("shape.replace",function(l){var c=l.context,u=c.oldShape,d=c.newShape;U1(u.attachers,function(p){"attach"===s.allowed("elements.move",{target:d,shapes:[p]})?o.updateAttachment(p,d):o.removeShape(p)}),d.attachers.length&&fe(d.attachers,function(p){var f=yye(p,u,d);o.moveShape(p,f,p.parent)})}),this.postExecute("shape.resize",function(l){var c=l.context,d=c.oldBounds,p=c.newBounds;!1!==(c.hints||{}).attachSupport&&fe(c.shape.attachers,function(m){var y=yye(m,d,p);o.moveShape(m,y,m.parent),fe(m.labels,function(E){o.moveShape(E,y,E.parent)})})}),this.preExecute("shape.delete",function(l){var c=l.context.shape;U1(c.attachers,function(u){o.removeShape(u)}),c.host&&o.updateAttachment(c,null)})}function LW(t){return FS(Ao(t,function(n){return n.attachers||[]}))}Jt(NW,pt),NW.$inject=["injector","eventBus","canvas","rules","modeling"];const ddt={__depends__:[ep],__init__:["attachSupport"],attachSupport:["type",NW]};function sp(t){this._model=t}function wu(t,n,i){pt.call(this,t),this._bpmnFactory=n;var s=this;function c(m){fe(m.context.oldRoot.children,function(S){D(S,"bpmn:BaseElement")&&s.updateParent(S)})}function u(m){var y=m.context.shape;D(y,"bpmn:BaseElement")&&s.updateBounds(y)}function d(m){s.updateConnection(m.context)}function p(m){s.updateConnectionWaypoints(m.context.connection)}function f(m){s.updateAttachment(m.context)}function h(m){const{element:y}=m.context,E=bu(y),_=pi(y),S=_&&_.get("label");_b(y)||zx(y)||(E&&!S?_.set("label",n.create("bpmndi:BPMNLabel")):!E&&S&&_.set("label",void 0))}this.executed(["connection.layout","connection.create"],function o(m){var _,y=m.context;!y.cropped&&!1!==(y.hints||{}).createElementsBehavior&&((_=y.connection).waypoints=i.getCroppedWaypoints(_),y.cropped=!0)}),this.reverted(["connection.layout"],function(m){delete m.context.cropped}),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Cu(function a(m){var y=m.context;s.updateParent(y.shape||y.connection,y.oldParent)})),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Cu(function l(m){var y=m.context;s.updateParent(y.shape||y.connection,y.parent||y.newParent)})),this.executed(["canvas.updateRoot"],c),this.reverted(["canvas.updateRoot"],c),this.executed(["shape.move","shape.create","shape.resize"],Cu(function(m){"label"!==m.context.shape.type&&u(m)})),this.reverted(["shape.move","shape.create","shape.resize"],Cu(function(m){"label"!==m.context.shape.type&&u(m)})),t.on("shape.changed",function(m){"label"===m.element.type&&u({context:{shape:m.element}})}),this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],Cu(d)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],Cu(d)),this.executed(["connection.layout","connection.move","connection.updateWaypoints"],Cu(p)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],Cu(p)),this.executed("connection.reconnect",Cu(function(m){var y=m.context,_=y.oldSource,S=y.newSource,v=G(y.connection),w=G(_),g=G(S);v.conditionExpression&&!un(g,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(y.oldConditionExpression=v.conditionExpression,delete v.conditionExpression),_!==S&&w.default===v&&(y.oldDefault=w.default,delete w.default)})),this.reverted("connection.reconnect",Cu(function(m){var y=m.context,_=y.oldSource,S=y.newSource,v=G(y.connection),w=G(_),g=G(S);y.oldConditionExpression&&(v.conditionExpression=y.oldConditionExpression),y.oldDefault&&(w.default=y.oldDefault,delete g.default)})),this.executed(["element.updateAttachment"],Cu(f)),this.reverted(["element.updateAttachment"],Cu(f)),this.executed("element.updateLabel",Cu(h)),this.reverted("element.updateLabel",Cu(h))}function Cu(t){return function(n){var i=n.context;D(i.shape||i.connection||i.element,"bpmn:BaseElement")&&t(n)}}function q1(t,n){Xd.call(this),this._bpmnFactory=t,this._moddle=n}function FW(t,n,i){return void 0===n[i]?n:(t[i]=n[i],yh(n,[i]))}function PI(t,n){this._modeling=t,this._canvas=n}function DI(t){this._modeling=t}function kI(t,n){this._canvas=t,this._layouter=n}sp.$inject=["moddle"],sp.prototype._needsId=function(t){return un(t,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])},sp.prototype._ensureId=function(t){var n;t.id?this._model.ids.claim(t.id,t):(n=D(t,"bpmn:Activity")?"Activity":D(t,"bpmn:Event")?"Event":D(t,"bpmn:Gateway")?"Gateway":un(t,["bpmn:SequenceFlow","bpmn:MessageFlow"])?"Flow":(t.$type||"").replace(/^[^:]*:/g,""),n+="_",!t.id&&this._needsId(t)&&(t.id=this._model.ids.nextPrefixed(n,t)))},sp.prototype.create=function(t,n){var i=this._model.create(t,n||{});return this._ensureId(i),i},sp.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})},sp.prototype.createDiShape=function(t,n){return this.create("bpmndi:BPMNShape",Ce({bpmnElement:t,bounds:this.createDiBounds()},n))},sp.prototype.createDiBounds=function(t){return this.create("dc:Bounds",t)},sp.prototype.createDiWaypoints=function(t){var n=this;return Ao(t,function(i){return n.createDiWaypoint(i)})},sp.prototype.createDiWaypoint=function(t){return this.create("dc:Point",td(t,["x","y"]))},sp.prototype.createDiEdge=function(t,n){return this.create("bpmndi:BPMNEdge",Ce({bpmnElement:t,waypoint:this.createDiWaypoints([])},n))},sp.prototype.createDiPlane=function(t,n){return this.create("bpmndi:BPMNPlane",Ce({bpmnElement:t},n))},Jt(wu,pt),wu.$inject=["eventBus","bpmnFactory","connectionDocking"],wu.prototype.updateAttachment=function(t){var n=t.shape,s=n.host;n.businessObject.attachedToRef=s&&s.businessObject},wu.prototype.updateParent=function(t,n){if(!(ui(t)||D(t,"bpmn:DataStoreReference")&&t.parent&&D(t.parent,"bpmn:Collaboration"))){var i=t.parent,s=t.businessObject,o=pi(t),a=i&&i.businessObject,l=pi(i);D(t,"bpmn:FlowNode")&&this.updateFlowNodeRefs(s,a,n&&n.businessObject),D(t,"bpmn:DataOutputAssociation")&&(a=t.source?t.source.businessObject:null),D(t,"bpmn:DataInputAssociation")&&(a=t.target?t.target.businessObject:null),this.updateSemanticParent(s,a),D(t,"bpmn:DataObjectReference")&&s.dataObjectRef&&this.updateSemanticParent(s.dataObjectRef,a),this.updateDiParent(o,l)}},wu.prototype.updateBounds=function(t){var n=pi(t),i=function fdt(t){if(D(t,"bpmn:Activity")){var n=pi(t);if(n){var i=n.get("label");if(i)return i.get("bounds")}}}(t);if(i){var s=uf(i,n.get("bounds"));Ce(i,{x:t.x+s.x,y:t.y+s.y})}var o=ui(t)?this._getLabel(n):n,a=o.bounds;a||(a=this._bpmnFactory.createDiBounds(),o.set("bounds",a)),Ce(a,{x:t.x,y:t.y,width:t.width,height:t.height})},wu.prototype.updateFlowNodeRefs=function(t,n,i){i!==n&&(D(i,"bpmn:Lane")&&go(i.get("flowNodeRef"),t),D(n,"bpmn:Lane")&&So(n.get("flowNodeRef"),t))},wu.prototype.updateDiConnection=function(t,n,i){var s=pi(t),o=pi(n),a=pi(i);s.sourceElement&&s.sourceElement.bpmnElement!==G(n)&&(s.sourceElement=n&&o),s.targetElement&&s.targetElement.bpmnElement!==G(i)&&(s.targetElement=i&&a)},wu.prototype.updateDiParent=function(t,n){if(n&&!D(n,"bpmndi:BPMNPlane")&&(n=n.$parent),t.$parent!==n){var i=(n||t.$parent).get("planeElement");n?(i.push(t),t.$parent=n):(go(i,t),t.$parent=null)}},wu.prototype.getLaneSet=function(t){var n,i;return D(t,"bpmn:Lane")?((n=t.childLaneSet)||(n=this._bpmnFactory.create("bpmn:LaneSet"),t.childLaneSet=n,n.$parent=t),n):(D(t,"bpmn:Participant")&&(t=t.processRef),(n=(i=t.get("laneSets"))[0])||((n=this._bpmnFactory.create("bpmn:LaneSet")).$parent=t,i.push(n)),n)},wu.prototype.updateSemanticParent=function(t,n,i){var s;if(t.$parent!==n&&(!D(t,"bpmn:DataInput")&&!D(t,"bpmn:DataOutput")||(D(n,"bpmn:Participant")&&"processRef"in n&&(n=n.processRef),!("ioSpecification"in n)||n.ioSpecification!==t.$parent))){if(D(t,"bpmn:Lane"))n&&(n=this.getLaneSet(n)),s="lanes";else if(D(t,"bpmn:FlowElement")){if(n)if(D(n,"bpmn:Participant"))n=n.processRef;else if(D(n,"bpmn:Lane"))do{n=n.$parent.$parent}while(D(n,"bpmn:Lane"));s="flowElements"}else if(D(t,"bpmn:Artifact")){for(;n&&!D(n,"bpmn:Process")&&!D(n,"bpmn:SubProcess")&&!D(n,"bpmn:Collaboration");){if(D(n,"bpmn:Participant")){n=n.processRef;break}n=n.$parent}s="artifacts"}else if(D(t,"bpmn:MessageFlow"))s="messageFlows";else if(D(t,"bpmn:Participant")){s="participants";var a,o=t.processRef;o&&(a=function pdt(t){for(;t&&!D(t,"bpmn:Definitions");)t=t.$parent;return t}(t.$parent||n),t.$parent&&(go(a.get("rootElements"),o),o.$parent=null),n&&(So(a.get("rootElements"),o),o.$parent=a))}else D(t,"bpmn:DataOutputAssociation")?s="dataOutputAssociations":D(t,"bpmn:DataInputAssociation")&&(s="dataInputAssociations");if(!s)throw new Error(`no parent for <${t.id}> in <${n.id}>`);var l;if(t.$parent&&go(l=t.$parent.get(s),t),n?((l=n.get(s)).push(t),t.$parent=n):t.$parent=null,i){var c=i.get(s);go(l,t),n&&(c||n.set(s,c=[]),c.push(t))}}},wu.prototype.updateConnectionWaypoints=function(t){pi(t).set("waypoint",this._bpmnFactory.createDiWaypoints(t.waypoints))},wu.prototype.updateConnection=function(t){var n=t.connection,i=G(n),s=n.source,o=G(s),a=n.target,l=G(n.target);if(D(i,"bpmn:DataAssociation"))D(i,"bpmn:DataInputAssociation")?(i.get("sourceRef")[0]=o,this.updateSemanticParent(i,l,t.parent||t.newParent||l)):D(i,"bpmn:DataOutputAssociation")&&(this.updateSemanticParent(i,o,t.parent||t.newParent||o),i.targetRef=l);else{var u=D(i,"bpmn:SequenceFlow");i.sourceRef!==o&&(u&&(go(i.sourceRef&&i.sourceRef.get("outgoing"),i),o&&o.get("outgoing")&&o.get("outgoing").push(i)),i.sourceRef=o),i.targetRef!==l&&(u&&(go(i.targetRef&&i.targetRef.get("incoming"),i),l&&l.get("incoming")&&l.get("incoming").push(i)),i.targetRef=l)}this.updateConnectionWaypoints(n),this.updateDiConnection(n,s,a)},wu.prototype._getLabel=function(t){return t.label||(t.label=this._bpmnFactory.createDiLabel()),t.label},Jt(q1,Xd),q1.$inject=["bpmnFactory","moddle"],q1.prototype._baseCreate=Xd.prototype.create,q1.prototype.create=function(t,n){if("label"===t){var i=n.di||this._bpmnFactory.createDiLabel();return this._baseCreate(t,Ce({type:"label",di:i},$S,n))}return this.createElement(t,n)},q1.prototype.createElement=function(t,n){var i,l,c,s=(n=Ce({},n||{})).businessObject,o=n.di;if(!s){if(!n.type)throw new Error("no shape type specified");The(s=this._bpmnFactory.create(n.type))}if(!function mdt(t){return un(t,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])}(o)){var a=Ce({},o||{},{id:s.id+"_di"});o="root"===t?this._bpmnFactory.createDiPlane(s,a):"connection"===t?this._bpmnFactory.createDiEdge(s,a):this._bpmnFactory.createDiShape(s,a)}return D(s,"bpmn:Group")&&(n=Ce({isFrame:!0},n)),n=function hdt(t,n,i){return fe(i,function(s){n=FW(t,n,s)}),n}(s,n,["processRef","isInterrupting","associationDirection","isForCompensation"]),n.isExpanded&&(n=FW(o,n,"isExpanded")),un(s,["bpmn:Lane","bpmn:Participant"])&&(n=FW(o,n,"isHorizontal")),D(s,"bpmn:SubProcess")&&(n.collapsed=!Yr(s,o)),D(s,"bpmn:ExclusiveGateway")&&(Zo(o,"isMarkerVisible")?void 0===o.isMarkerVisible&&(o.isMarkerVisible=!1):o.isMarkerVisible=!0),Ki(n.triggeredByEvent)&&(s.triggeredByEvent=n.triggeredByEvent,delete n.triggeredByEvent),Ki(n.cancelActivity)&&(s.cancelActivity=n.cancelActivity,delete n.cancelActivity),n.eventDefinitionType&&(l=s.get("eventDefinitions")||[],c=this._bpmnFactory.create(n.eventDefinitionType,n.eventDefinitionAttrs),"bpmn:ConditionalEventDefinition"===n.eventDefinitionType&&(c.condition=this._bpmnFactory.create("bpmn:FormalExpression")),l.push(c),c.$parent=s,s.eventDefinitions=l,delete n.eventDefinitionType),i=this.getDefaultSize(s,o),n=Ce({id:s.id},i,n,{businessObject:s,di:o}),this._baseCreate(t,n)},q1.prototype.getDefaultSize=function(t,n){var i=G(t);if(n=n||pi(t),D(i,"bpmn:SubProcess"))return Yr(i,n)?{width:350,height:200}:{width:100,height:80};if(D(i,"bpmn:Task"))return{width:100,height:80};if(D(i,"bpmn:Gateway"))return{width:50,height:50};if(D(i,"bpmn:Event"))return{width:36,height:36};if(D(i,"bpmn:Participant")){var s=void 0===n.isHorizontal||!0===n.isHorizontal;return Yr(i,n)?s?{width:600,height:250}:{width:250,height:600}:s?{width:400,height:60}:{width:60,height:400}}return D(i,"bpmn:Lane")?{width:400,height:100}:D(i,"bpmn:DataObjectReference")?{width:36,height:50}:D(i,"bpmn:DataStoreReference")?{width:50,height:50}:D(i,"bpmn:TextAnnotation")?{width:100,height:30}:D(i,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}},q1.prototype.createParticipantShape=function(t){return si(t)||(t={isExpanded:t}),!1!==(t=Ce({type:"bpmn:Participant"},t||{})).isExpanded&&(t.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(t)},PI.$inject=["modeling","canvas"],PI.prototype.preExecute=function(t){var n=this._modeling,s=t.alignment;fe(t.elements,function(o){var a={x:0,y:0};Ki(s.left)?a.x=s.left-o.x:Ki(s.right)?a.x=s.right-o.width-o.x:Ki(s.center)?a.x=s.center-Math.round(o.width/2)-o.x:Ki(s.top)?a.y=s.top-o.y:Ki(s.bottom)?a.y=s.bottom-o.height-o.y:Ki(s.middle)&&(a.y=s.middle-Math.round(o.height/2)-o.y),n.moveElements([o],a,o.parent)})},PI.prototype.postExecute=function(t){},DI.$inject=["modeling"],DI.prototype.preExecute=function(t){var n=t.source;if(!n)throw new Error("source required");var s=t.shape;s=t.shape=this._modeling.createShape(s,t.position,t.target||n.parent,{attach:(t.hints||{}).attach}),t.shape=s},DI.prototype.postExecute=function(t){var n=t.hints||{};(function gdt(t,n){return Gd(t.outgoing,function(i){return i.target===n})})(t.source,t.shape)||(n.connectionTarget===t.source?this._modeling.connect(t.shape,t.source,t.connection):this._modeling.connect(t.source,t.shape,t.connection))},kI.$inject=["canvas","layouter"],kI.prototype.execute=function(t){var n=t.connection,i=t.source,s=t.target,o=t.parent,a=t.parentIndex,l=t.hints;if(!i||!s)throw new Error("source and target required");if(!o)throw new Error("parent required");return n.source=i,n.target=s,n.waypoints||(n.waypoints=this._layouter.layoutConnection(n,l)),this._canvas.addConnection(n,o,a),n},kI.prototype.revert=function(t){var n=t.connection;return this._canvas.removeConnection(n),n.source=null,n.target=null,n};var MI=Math.round;function BW(t){this._modeling=t}BW.$inject=["modeling"],BW.prototype.preExecute=function(t){var n=t.elements,i=t.parent,s=t.parentIndex,o=t.position,a=t.hints,l=this._modeling;fe(n,function(f){Ln(f.x)||(f.x=0),Ln(f.y)||(f.y=0)});var u=ea(Bn(n,function(f){return!f.hidden}));fe(n,function(f){Zi(f)&&(f.waypoints=Ao(f.waypoints,function(h){return{x:MI(h.x-u.x-u.width/2+o.x),y:MI(h.y-u.y-u.height/2+o.y)}})),Ce(f,{x:MI(f.x-u.x-u.width/2+o.x),y:MI(f.y-u.y-u.height/2+o.y)})});var d=B7(n),p={};fe(n,function(f){if(Zi(f))p[f.id]=Ln(s)?l.createConnection(p[f.source.id],p[f.target.id],s,f,f.parent||i,a):l.createConnection(p[f.source.id],p[f.target.id],f,f.parent||i,a);else{var h=Ce({},a);-1===d.indexOf(f)&&(h.autoResize=!1),ui(f)&&(h=yh(h,["attach"])),p[f.id]=Ln(s)?l.createShape(f,td(f,["x","y","width","height"]),f.parent||i,s,h):l.createShape(f,td(f,["x","y","width","height"]),f.parent||i,h)}}),t.elements=bb(p)};var Tve=Math.round;function W1(t){this._canvas=t}function q6(t){W1.call(this,t)}W1.$inject=["canvas"],W1.prototype.execute=function(t){var n=t.shape,i=t.position,s=t.parent,o=t.parentIndex;if(!s)throw new Error("parent required");if(!i)throw new Error("position required");return Ce(n,void 0!==i.width?i:{x:i.x-Tve(n.width/2),y:i.y-Tve(n.height/2)}),this._canvas.addShape(n,s,o),n},W1.prototype.revert=function(t){var n=t.shape;return this._canvas.removeShape(n),n},Jt(q6,W1),q6.$inject=["canvas"];var ydt=W1.prototype.execute;q6.prototype.execute=function(t){var n=t.shape;return function bdt(t){["width","height"].forEach(function(n){typeof t[n]>"u"&&(t[n]=0)})}(n),n.labelTarget=t.labelTarget,ydt.call(this,t)};var vdt=W1.prototype.revert;function W6(t,n){this._canvas=t,this._modeling=n}function $W(t,n){this._modeling=t,this._elementRegistry=n}function G6(t,n){this._canvas=t,this._modeling=n}function AI(t){this._modeling=t}q6.prototype.revert=function(t){return t.shape.labelTarget=null,vdt.call(this,t)},W6.$inject=["canvas","modeling"],W6.prototype.preExecute=function(t){var n=this._modeling,i=t.connection;U1(i.incoming,function(s){n.removeConnection(s,{nested:!0})}),U1(i.outgoing,function(s){n.removeConnection(s,{nested:!0})})},W6.prototype.execute=function(t){var n=t.connection,i=n.parent;return t.parent=i,t.parentIndex=XH(i.children,n),t.source=n.source,t.target=n.target,this._canvas.removeConnection(n),n.source=null,n.target=null,n},W6.prototype.revert=function(t){var n=t.connection,i=t.parent,s=t.parentIndex;return n.source=t.source,n.target=t.target,So(i.children,n,s),this._canvas.addConnection(n,i),n},$W.$inject=["modeling","elementRegistry"],$W.prototype.postExecute=function(t){var n=this._modeling,i=this._elementRegistry;fe(t.elements,function(o){i.get(o.id)&&(o.waypoints?n.removeConnection(o):n.removeShape(o))})},G6.$inject=["canvas","modeling"],G6.prototype.preExecute=function(t){var n=this._modeling,i=t.shape;U1(i.incoming,function(s){n.removeConnection(s,{nested:!0})}),U1(i.outgoing,function(s){n.removeConnection(s,{nested:!0})}),U1(i.children,function(s){Zi(s)?n.removeConnection(s,{nested:!0}):n.removeShape(s,{nested:!0})})},G6.prototype.execute=function(t){var n=this._canvas,i=t.shape,s=i.parent;return t.oldParent=s,t.oldParentIndex=XH(s.children,i),n.removeShape(i),i},G6.prototype.revert=function(t){var n=this._canvas,i=t.shape,s=t.oldParent;return So(s.children,i,t.oldParentIndex),n.addShape(i,s),i},AI.$inject=["modeling"];var Pve={x:"y",y:"x"};function II(t,n){this._layouter=t,this._canvas=n}function VW(){}function jW(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function K6(t){this._modeling=t}function RI(t){this._helper=new K6(t)}function Qb(t){this._modeling=t,this._helper=new K6(t)}function Y6(t){this._modeling=t}function Dve(t){return t.original||t}function wm(t,n){this._modeling=t,this._rules=n}function X6(t){this._modeling=t}function G1(t){this._modeling=t}function kve(t){return Ce({},t)}function Mve(t){switch(t){case"n":case"s":return"y";case"w":case"e":return"x"}}function Ave(t,n,i){var s=Mve(i);return/e|s/.test(i)?t[s]>n:/n|w/.test(i)?t[s]<n:void 0}function K1(t,n){return-1!==t.indexOf(n)}function NI(t){this._modeling=t}function Ive(t){var n={};return fe(t,function(i){n[i.id]=i.hidden,i.children&&(n=Ce({},n,Ive(i.children)))}),n}function Rve(t,n){var i=[];return fe(t,function(s){s.hidden=n,i=i.concat(s),s.children&&(i=i.concat(Rve(s.children,s.collapsed||n)))}),i}function Nve(t,n){var i=[];return fe(t,function(s){s.hidden=n[s.id],i=i.concat(s),s.children&&(i=i.concat(Nve(s.children,n)))}),i}function LI(t){this._modeling=t}function Lve(t,n){return go(t&&t.attachers,n)}function Fve(t,n,i){if(t){var s=t.attachers;s||(t.attachers=s=[]),So(s,n,i)}}function zW(){}function $i(t,n,i){this._eventBus=t,this._elementFactory=n,this._commandStack=i;var s=this;t.on("diagram.init",function(){s.registerHandlers(i)})}function Q6(t){this._elementRegistry=t}function Bve(t,n){fe(n,function(i,s){t.set(s,i)})}AI.prototype.preExecute=function(t){var n=this._modeling,i=t.groups,s=t.axis,o=t.dimension;function a(_,S){_.range.min=Math.min(S[s],_.range.min),_.range.max=Math.max(S[s]+S[o],_.range.max)}function l(_){return _[s]+_[o]/2}function c(_){return _.length-1}function u(_){return _.max-_.min}var m,y,p=i[0],f=c(i),h=i[f],E=0;fe(i,function(_,S){var v,w,g;_.elements.length<2?S&&S!==i.length-1&&(a(_,_.elements[0]),E+=u(_.range)):(w=(v=ba(_.elements,s))[0],S===f&&(w=v[c(v)]),g=l(w),_.range=null,fe(v,function(x){(function d(_,S){var v={y:0};v[s]=_-l(S),v[s]&&(v[Pve[s]]=0,n.moveElements([S],v,S.parent))})(g,x),null!==_.range?a(_,x):_.range={min:x[s],max:x[s]+x[o]}}),S&&S!==i.length-1&&(E+=u(_.range)))}),y=Math.abs(h.range.min-p.range.max),!((m=Math.round((y-E)/(i.length-1)))<i.length-1)&&fe(i,function(_,S){var w,v={};_===p||_===h||(w=i[S-1],_.range.max=0,fe(_.elements,function(g,x){v[Pve[s]]=0,v[s]=w.range.max-g[s]+m,_.range.min!==g[s]&&(v[s]+=g[s]-_.range.min),v[s]&&n.moveElements([g],v,g.parent),_.range.max=Math.max(g[s]+g[o],x?_.range.max:0)}))})},AI.prototype.postExecute=function(t){},II.$inject=["layouter","canvas"],II.prototype.execute=function(t){var n=t.connection;return Ce(t,{oldWaypoints:n.waypoints}),n.waypoints=this._layouter.layoutConnection(n,t.hints),n},II.prototype.revert=function(t){var n=t.connection;return n.waypoints=t.oldWaypoints,n},VW.prototype.execute=function(t){var n=t.connection,i=t.delta,s=t.newParent||n.parent,o=t.newParentIndex,a=n.parent;return t.oldParent=a,t.oldParentIndex=go(a.children,n),So(s.children,n,o),n.parent=s,fe(n.waypoints,function(l){l.x+=i.x,l.y+=i.y,l.original&&(l.original.x+=i.x,l.original.y+=i.y)}),n},VW.prototype.revert=function(t){var n=t.connection,s=t.oldParent,o=t.oldParentIndex,a=t.delta;return go(n.parent.children,n),So(s.children,n,o),n.parent=s,fe(n.waypoints,function(l){l.x-=a.x,l.y-=a.y,l.original&&(l.original.x-=a.x,l.original.y-=a.y)}),n},jW.prototype.add=function(t,n){return this.addAll([t],n)},jW.prototype.addAll=function(t,n){var i=function _Ze(t,n,i){Di(n)&&(n=!0),si(n)&&(i=n,n=!0);var s=YS((i=i||{}).allShapes),o=YS(i.allConnections),a=YS(i.enclosedElements),l=YS(i.enclosedConnections),c=YS(i.topLevel,n&&of(t,function(p){return p.id}));function u(p){c[p.source.id]&&c[p.target.id]&&(c[p.id]=[p]),s[p.source.id]&&s[p.target.id]&&(l[p.id]=a[p.id]=p),o[p.id]=p}return Cb(t,function d(p){if(a[p.id]=p,!p.waypoints)return s[p.id]=p,fe(p.incoming,u),fe(p.outgoing,u),p.children;l[p.id]=o[p.id]=p}),{allShapes:s,allConnections:o,topLevel:c,enclosedConnections:l,enclosedElements:a}}(t,!!n,this);return Ce(this,i),this},K6.prototype.moveRecursive=function(t,n,i){return t?this.moveClosure(this.getClosure(t),n,i):[]},K6.prototype.moveClosure=function(t,n,i,s,o){var a=this._modeling,l=t.allShapes,c=t.allConnections,u=t.enclosedConnections,d=t.topLevel,p=!1;o&&o.parent===i&&(p=!0),fe(l,function(f){a.moveShape(f,n,d[f.id]&&!p&&i,{recurse:!1,layout:!1})}),fe(c,function(f){var h=!!l[f.source.id],m=!!l[f.target.id];u[f.id]&&h&&m?a.moveConnection(f,n,d[f.id]&&!p&&i):a.layoutConnection(f,{connectionStart:h&&Zq(f,f.source,n),connectionEnd:m&&Jq(f,f.target,n)})})},K6.prototype.getClosure=function(t){return(new jW).addAll(t,!0)},RI.$inject=["modeling"],RI.prototype.preExecute=function(t){t.closure=this._helper.getClosure(t.shapes)},RI.prototype.postExecute=function(t){var i,n=t.hints;n&&n.primaryShape&&(n.oldParent=(i=n.primaryShape).parent),this._helper.moveClosure(t.closure,t.delta,t.newParent,t.newHost,i)},Qb.$inject=["modeling"],Qb.prototype.execute=function(t){var n=t.shape,i=t.delta,s=t.newParent||n.parent,o=t.newParentIndex,a=n.parent;return t.oldBounds=td(n,["x","y","width","height"]),t.oldParent=a,t.oldParentIndex=go(a.children,n),So(s.children,n,o),Ce(n,{parent:s,x:n.x+i.x,y:n.y+i.y}),n},Qb.prototype.postExecute=function(t){var n=t.shape,i=t.delta,s=t.hints,o=this._modeling;!1!==s.layout&&(fe(n.incoming,function(a){o.layoutConnection(a,{connectionEnd:Jq(a,n,i)})}),fe(n.outgoing,function(a){o.layoutConnection(a,{connectionStart:Zq(a,n,i)})})),!1!==s.recurse&&this.moveChildren(t)},Qb.prototype.revert=function(t){var n=t.shape,i=t.oldParent,o=t.delta;return So(i.children,n,t.oldParentIndex),Ce(n,{parent:i,x:n.x-o.x,y:n.y-o.y}),n},Qb.prototype.moveChildren=function(t){this._helper.moveRecursive(t.shape.children,t.delta,null)},Qb.prototype.getNewParent=function(t){return t.newParent||t.shape.parent},Y6.$inject=["modeling"],Y6.prototype.execute=function(t){var n=t.newSource,i=t.newTarget,s=t.connection,o=t.dockingOrPoints;if(!n&&!i)throw new Error("newSource or newTarget required");return Xt(o)&&(t.oldWaypoints=s.waypoints,s.waypoints=o),n&&(t.oldSource=s.source,s.source=n),i&&(t.oldTarget=s.target,s.target=i),s},Y6.prototype.postExecute=function(t){var n=t.connection,i=t.newSource,s=t.newTarget,o=t.dockingOrPoints,a=t.hints||{},l={};a.connectionStart&&(l.connectionStart=a.connectionStart),a.connectionEnd&&(l.connectionEnd=a.connectionEnd),!1!==a.layoutConnection&&(i&&(!s||"source"===a.docking)&&(l.connectionStart=l.connectionStart||Dve(Xt(o)?o[0]:o)),s&&(!i||"target"===a.docking)&&(l.connectionEnd=l.connectionEnd||Dve(Xt(o)?o[o.length-1]:o)),a.newWaypoints&&(l.waypoints=a.newWaypoints),this._modeling.layoutConnection(n,l))},Y6.prototype.revert=function(t){var n=t.oldSource,i=t.oldTarget,s=t.oldWaypoints,o=t.connection;return n&&(o.source=n),i&&(o.target=i),s&&(o.waypoints=s),o},wm.$inject=["modeling","rules"],wm.prototype.preExecute=function(t){var c,n=this,i=this._modeling,s=this._rules,o=t.oldShape,a=t.newData,l=t.hints||{};function u(y,E,_){return s.allowed("connection.reconnect",{connection:_,source:y,target:E})}var f,p={x:o.x,y:o.y,width:o.width,height:o.height};c=t.newShape=t.newShape||n.createShape(a,{x:a.x,y:a.y},o.parent,l),o.host&&i.updateAttachment(c,o.host),!1!==l.moveChildren&&(f=o.children.slice(),i.moveElements(f,{x:0,y:0},c,l));var h=o.incoming.slice(),m=o.outgoing.slice();fe(h,function(y){u(y.source,c,y)&&n.reconnectEnd(y,c,pI(y,c,p),l)}),fe(m,function(y){u(c,y.target,y)&&n.reconnectStart(y,c,dI(y,c,p),l)})},wm.prototype.postExecute=function(t){this._modeling.removeShape(t.oldShape)},wm.prototype.execute=function(t){},wm.prototype.revert=function(t){},wm.prototype.createShape=function(t,n,i,s){return this._modeling.createShape(t,n,i,s)},wm.prototype.reconnectStart=function(t,n,i,s){this._modeling.reconnectStart(t,n,i,s)},wm.prototype.reconnectEnd=function(t,n,i,s){this._modeling.reconnectEnd(t,n,i,s)},X6.$inject=["modeling"],X6.prototype.execute=function(t){var n=t.shape,i=t.newBounds,s=t.minBounds;if(void 0===i.x||void 0===i.y||void 0===i.width||void 0===i.height)throw new Error("newBounds must have {x, y, width, height} properties");if(s&&(i.width<s.width||i.height<s.height))throw new Error("width and height cannot be less than minimum height and width");if(!s&&i.width<10||i.height<10)throw new Error("width and height cannot be less than 10px");return t.oldBounds={width:n.width,height:n.height,x:n.x,y:n.y},Ce(n,{width:i.width,height:i.height,x:i.x,y:i.y}),n},X6.prototype.postExecute=function(t){var n=this._modeling,i=t.shape,s=t.oldBounds;!1!==(t.hints||{}).layout&&(fe(i.incoming,function(a){n.layoutConnection(a,{connectionEnd:pI(a,i,s)})}),fe(i.outgoing,function(a){n.layoutConnection(a,{connectionStart:dI(a,i,s)})}))},X6.prototype.revert=function(t){var n=t.shape,i=t.oldBounds;return Ce(n,{width:i.width,height:i.height,x:i.x,y:i.y}),n},G1.$inject=["modeling"],G1.prototype.preExecute=function(t){var n=t.delta,i=t.direction,s=t.movingShapes,o=t.resizingShapes,a=t.start,l={};this.moveShapes(s,n),fe(o,function(c){l[c.id]=function Edt(t){return{x:t.x,y:t.y,height:t.height,width:t.width}}(c)}),this.resizeShapes(o,n,i),this.updateConnectionWaypoints(function Yut(t,n){var i=[];return fe(t.concat(n),function(s){fe(s.incoming.concat(s.outgoing),function(l){var c=l.source,u=l.target;(U6(t,c)||U6(t,u)||U6(n,c)||U6(n,u))&&(U6(i,l)||i.push(l))})}),i}(s,o),n,i,a,s,o,l)},G1.prototype.execute=function(){},G1.prototype.revert=function(){},G1.prototype.moveShapes=function(t,n){var i=this;fe(t,function(s){i._modeling.moveShape(s,n,null,{autoResize:!1,layout:!1,recurse:!1})})},G1.prototype.resizeShapes=function(t,n,i){var s=this;fe(t,function(o){var a=function Xut(t,n,i){var s=t.x,o=t.y,a=t.width,l=t.height,c=i.x,u=i.y;switch(n){case"n":return{x:s,y:o+u,width:a,height:l-u};case"s":return{x:s,y:o,width:a,height:l+u};case"w":return{x:s+c,y:o,width:a-c,height:l};case"e":return{x:s,y:o,width:a+c,height:l};default:throw new Error("unknown direction: "+n)}}(o,i,n);s._modeling.resizeShape(o,a,null,{attachSupport:!1,autoResize:!1,layout:!1})})},G1.prototype.updateConnectionWaypoints=function(t,n,i,s,o,a,l){var c=this,u=o.concat(a);fe(t,function(d){var p=d.source,f=d.target,h=function _dt(t){return Ao(t.waypoints,function(n){return(n=kve(n)).original&&(n.original=kve(n.original)),n})}(d),m=Mve(i),y={};K1(u,p)&&K1(u,f)?(h=Ao(h,function(E){return Ave(E,s,i)&&(E[m]=E[m]+n[m]),E.original&&Ave(E.original,s,i)&&(E.original[m]=E.original[m]+n[m]),E}),c._modeling.updateWaypoints(d,h,{labelBehavior:!1})):(K1(u,p)||K1(u,f))&&(K1(o,p)?y.connectionStart=Zq(d,p,n):K1(o,f)?y.connectionEnd=Jq(d,f,n):K1(a,p)?y.connectionStart=dI(d,p,l[p.id]):K1(a,f)&&(y.connectionEnd=pI(d,f,l[f.id])),c._modeling.layoutConnection(d,y))})},NI.$inject=["modeling"],NI.prototype.execute=function(t){var n=t.shape,i=n.children;t.oldChildrenVisibility=Ive(i),n.collapsed=!n.collapsed;var s=Rve(i,n.collapsed);return[n].concat(s)},NI.prototype.revert=function(t){var n=t.shape,o=Nve(n.children,t.oldChildrenVisibility);return n.collapsed=!n.collapsed,[n].concat(o)},LI.$inject=["modeling"],LI.prototype.execute=function(t){var n=t.shape,i=t.newHost,s=n.host;return t.oldHost=s,t.attacherIdx=Lve(s,n),Fve(i,n),n.host=i,n},LI.prototype.revert=function(t){var n=t.shape,i=t.newHost,s=t.oldHost,o=t.attacherIdx;return n.host=s,Lve(i,n),Fve(s,n,o),n},zW.prototype.execute=function(t){var n=t.connection,i=t.newWaypoints;return t.oldWaypoints=n.waypoints,n.waypoints=i,n},zW.prototype.revert=function(t){var n=t.connection;return n.waypoints=t.oldWaypoints,n},$i.$inject=["eventBus","elementFactory","commandStack"],$i.prototype.getHandlers=function(){return{"shape.append":DI,"shape.create":W1,"shape.delete":G6,"shape.move":Qb,"shape.resize":X6,"shape.replace":wm,"shape.toggleCollapse":NI,spaceTool:G1,"label.create":q6,"connection.create":kI,"connection.delete":W6,"connection.move":VW,"connection.layout":II,"connection.updateWaypoints":zW,"connection.reconnect":Y6,"elements.create":BW,"elements.move":RI,"elements.delete":$W,"elements.distribute":AI,"elements.align":PI,"element.updateAttachment":LI}},$i.prototype.registerHandlers=function(t){fe(this.getHandlers(),function(n,i){t.registerHandler(i,n)})},$i.prototype.moveShape=function(t,n,i,s,o){"object"==typeof s&&(o=s,s=null),this._commandStack.execute("shape.move",{shape:t,delta:n,newParent:i,newParentIndex:s,hints:o||{}})},$i.prototype.updateAttachment=function(t,n){this._commandStack.execute("element.updateAttachment",{shape:t,newHost:n})},$i.prototype.moveElements=function(t,n,i,s){var l,o=(s=s||{}).attach,a=i;!0===o?(l=i,a=i.parent):!1===o&&(l=null),this._commandStack.execute("elements.move",{shapes:t,delta:n,newParent:a,newHost:l,hints:s})},$i.prototype.moveConnection=function(t,n,i,s,o){"object"==typeof s&&(o=s,s=void 0),this._commandStack.execute("connection.move",{connection:t,delta:n,newParent:i,newParentIndex:s,hints:o||{}})},$i.prototype.layoutConnection=function(t,n){this._commandStack.execute("connection.layout",{connection:t,hints:n||{}})},$i.prototype.createConnection=function(t,n,i,s,o,a){"object"==typeof i&&(a=o,o=s,s=i,i=void 0);var l={source:t,target:n,parent:o,parentIndex:i,connection:s=this._create("connection",s),hints:a};return this._commandStack.execute("connection.create",l),l.connection},$i.prototype.createShape=function(t,n,i,s,o){"number"!=typeof s&&(o=s,s=void 0);var l,c,a=(o=o||{}).attach;t=this._create("shape",t),a?(l=i.parent,c=i):l=i;var u={position:n,shape:t,parent:l,parentIndex:s,host:c,hints:o};return this._commandStack.execute("shape.create",u),u.shape},$i.prototype.createElements=function(t,n,i,s,o){Xt(t)||(t=[t]),"number"!=typeof s&&(o=s,s=void 0);var a={position:n,elements:t,parent:i,parentIndex:s,hints:o=o||{}};return this._commandStack.execute("elements.create",a),a.elements},$i.prototype.createLabel=function(t,n,i,s){i=this._create("label",i);var o={labelTarget:t,position:n,parent:s||t.parent,shape:i};return this._commandStack.execute("label.create",o),o.shape},$i.prototype.appendShape=function(t,n,i,s,o){o=o||{};var a={source:t,position:i,target:s,shape:n=this._create("shape",n),connection:o.connection,connectionParent:o.connectionParent,hints:o};return this._commandStack.execute("shape.append",a),a.shape},$i.prototype.removeElements=function(t){this._commandStack.execute("elements.delete",{elements:t})},$i.prototype.distributeElements=function(t,n,i){this._commandStack.execute("elements.distribute",{groups:t,axis:n,dimension:i})},$i.prototype.removeShape=function(t,n){this._commandStack.execute("shape.delete",{shape:t,hints:n||{}})},$i.prototype.removeConnection=function(t,n){this._commandStack.execute("connection.delete",{connection:t,hints:n||{}})},$i.prototype.replaceShape=function(t,n,i){var s={oldShape:t,newData:n,hints:i||{}};return this._commandStack.execute("shape.replace",s),s.newShape},$i.prototype.alignElements=function(t,n){this._commandStack.execute("elements.align",{elements:t,alignment:n})},$i.prototype.resizeShape=function(t,n,i,s){this._commandStack.execute("shape.resize",{shape:t,newBounds:n,minBounds:i,hints:s})},$i.prototype.createSpace=function(t,n,i,s,o){this._commandStack.execute("spaceTool",{delta:i,direction:s,movingShapes:t,resizingShapes:n,start:o})},$i.prototype.updateWaypoints=function(t,n,i){this._commandStack.execute("connection.updateWaypoints",{connection:t,newWaypoints:n,hints:i||{}})},$i.prototype.reconnect=function(t,n,i,s,o){this._commandStack.execute("connection.reconnect",{connection:t,newSource:n,newTarget:i,dockingOrPoints:s,hints:o||{}})},$i.prototype.reconnectStart=function(t,n,i,s){s||(s={}),this.reconnect(t,n,t.target,i,Ce(s,{docking:"source"}))},$i.prototype.reconnectEnd=function(t,n,i,s){s||(s={}),this.reconnect(t,t.source,n,i,Ce(s,{docking:"target"}))},$i.prototype.connect=function(t,n,i,s){return this.createConnection(t,n,i||{},t.parent,s)},$i.prototype._create=function(t,n){return function sJe(t){return t instanceof Gx}(n)?n:this._elementFactory.create(t,n)},$i.prototype.toggleCollapse=function(t,n){this._commandStack.execute("shape.toggleCollapse",{shape:t,hints:n||{}})},Q6.$inject=["elementRegistry"],Q6.prototype.execute=function(t){var n=t.element,i=t.moddleElement,s=t.properties;if(!i)throw new Error("<moddleElement> required");var o=t.changed||this._getVisualReferences(i).concat(n),a=t.oldProperties||function xdt(t,n){return Ts(n,function(i,s){return i[s]=t.get(s),i},{})}(i,vu(s));return Bve(i,s),t.oldProperties=a,t.changed=o,o},Q6.prototype.revert=function(t){var s=t.changed;return Bve(t.moddleElement,t.oldProperties),s},Q6.prototype._getVisualReferences=function(t){var n=this._elementRegistry;return D(t,"bpmn:DataObject")?function wdt(t,n){return n.filter(function(i){return D(i,"bpmn:DataObjectReference")&&G(i).dataObjectRef===t})}(t,n):[]};var Z6="default",Cm="id",Cdt={width:0,height:0};function J6(t,n,i,s){this._elementRegistry=t,this._moddle=n,this._modeling=i,this._textRenderer=s}function Vve(t,n){return Cm in t&&t[Cm]!==n[Cm]}function jve(t,n){var i=t.businessObject,s=pi(t);fe(n,function(o,a){"di"!==a?i.set(a,o):s&&function Tdt(t,n){fe(n,function(i,s){t.set(s,i)})}(s,o)})}J6.$inject=["elementRegistry","moddle","modeling","textRenderer"],J6.prototype.execute=function(t){var n=t.element,i=[n];if(!n)throw new Error("element required");var s=this._elementRegistry,o=this._moddle.ids,a=n.businessObject,l=function Ddt(t){var n=Ce({},t);return Pdt.forEach(function(i){i in t&&(n[i]=G(n[i]))}),n}(t.properties),c=t.oldProperties||function Sdt(t,n){var i=vu(n),s=t.businessObject,o=pi(t);return Ts(i,function(a,l){return a[l]="di"!==l?s.get(l):function Odt(t,n){return Ts(n,function(i,s){return i[s]=t&&t.get(s),i},{})}(o,vu(n.di)),a},{})}(n,l);return Vve(l,a)&&(o.unclaim(a[Cm]),s.updateId(n,l[Cm]),o.claim(l[Cm],a)),Z6 in l&&(l[Z6]&&i.push(s.get(l[Z6].id)),a[Z6]&&i.push(s.get(a[Z6].id))),jve(n,l),t.oldProperties=c,t.changed=i,i},J6.prototype.postExecute=function(t){var i=t.element.label,s=i&&G(i).name;if(s){var o=this._textRenderer.getExternalLabelBounds(i,s);this._modeling.resizeShape(i,o,Cdt)}},J6.prototype.revert=function(t){var n=t.element,i=t.properties,s=t.oldProperties,o=n.businessObject,a=this._elementRegistry,l=this._moddle.ids;return jve(n,s),Vve(i,o)&&(l.unclaim(i[Cm]),a.updateId(n,s[Cm]),l.claim(s[Cm],o)),t.changed};var Pdt=["default"];function FI(t,n){this._canvas=t,this._modeling=n}function HW(t,n){this._modeling=t,this._spaceTool=n}function UW(t){this._modeling=t}function eO(t,n){this._modeling=t,this._spaceTool=n}FI.$inject=["canvas","modeling"],FI.prototype.execute=function(t){var n=this._canvas,i=t.newRoot,s=i.businessObject,o=n.getRootElement(),a=o.businessObject,l=a.$parent,c=pi(o);return n.setRootElement(i),n.removeRootElement(o),So(l.rootElements,s),s.$parent=l,go(l.rootElements,a),a.$parent=null,o.di=null,c.bpmnElement=s,i.di=c,t.oldRoot=o,[]},FI.prototype.revert=function(t){var n=this._canvas,i=t.newRoot,s=i.businessObject,o=t.oldRoot,a=o.businessObject,l=s.$parent,c=pi(i);return n.setRootElement(o),n.removeRootElement(i),go(l.rootElements,s),s.$parent=null,So(l.rootElements,a),a.$parent=l,i.di=null,c.bpmnElement=a,o.di=c,[]},HW.$inject=["modeling","spaceTool"],HW.prototype.preExecute=function(t){var n=this._spaceTool,i=this._modeling,s=t.shape,o=t.location,a=rp(s),l=a===s,c=l?s:s.parent,u=V1(c),d=_a(s);d?"left"===o?o="top":"right"===o&&(o="bottom"):"top"===o?o="left":"bottom"===o&&(o="right"),u.length||i.createShape({type:"bpmn:Lane",isHorizontal:d},d?{x:s.x+30,y:s.y,width:s.width-30,height:s.height}:{x:s.x,y:s.y+30,width:s.width,height:s.height-30},c);var h,m,y,E,_,f=[];Cb(a,function(g){return f.push(g),g.label&&f.push(g.label),g===s?[]:Bn(g.children,function(x){return x!==s})}),"top"===o?(h=-120,y=(m=s.y)+10,E="n",_="y"):"left"===o?(h=-120,y=(m=s.x)+10,E="w",_="x"):"bottom"===o?(h=120,y=(m=s.y+s.height)-10,E="s",_="y"):"right"===o&&(h=120,y=(m=s.x+s.width)-10,E="e",_="x");var S=n.calculateAdjustments(f,_,h,y);n.makeSpace(S.movingShapes,S.resizingShapes,d?{x:0,y:h}:{x:h,y:0},E,y),t.newLane=i.createShape({type:"bpmn:Lane",isHorizontal:d},d?{x:s.x+(l?30:0),y:m-("top"===o?120:0),width:s.width-(l?30:0),height:120}:{x:m-("left"===o?120:0),y:s.y+(l?30:0),width:120,height:s.height-(l?30:0)},c)},UW.$inject=["modeling"],UW.prototype.preExecute=function(t){var n=this._modeling,i=t.shape,s=t.count,o=V1(i),a=o.length;if(a>s)throw new Error(`more than <${s}> child lanes`);var d,p,h,l=_a(i),c=l?i.height:i.width,u=Math.round(c/s);for(h=0;h<s;h++)d=h===s-1?c-u*h:u,p=l?{x:i.x+30,y:i.y+h*u,width:i.width-30,height:d}:{x:i.x+h*u,y:i.y+30,width:d,height:i.height-30},h<a?n.resizeShape(o[h],p):n.createShape({type:"bpmn:Lane",isHorizontal:l},p,i)},eO.$inject=["modeling","spaceTool"],eO.prototype.preExecute=function(t){var n=t.shape,i=t.newBounds;!1!==t.balanced?this.resizeBalanced(n,i):this.resizeSpace(n,i)},eO.prototype.resizeBalanced=function(t,n){var i=this._modeling,s=function oct(t,n){var i=rp(t),o=aI(i,D(i,"bpmn:Process")?[]:[i]),a=En(t),l=En(n),c=function ict(t,n){return Q1e(En(n),En(t))}(t,n),u=[],d=_a(t);return o.forEach(function(p){if(p!==t){var f=d?0:c.top,h=d?c.right:0,m=d?0:c.bottom,y=d?c.left:0,E=En(p);c.top&&($1(E.bottom-a.top)<10&&(m=l.top-E.bottom),$1(E.top-a.top)<5&&(f=l.top-E.top)),c.left&&($1(E.right-a.left)<10&&(h=l.left-E.right),$1(E.left-a.left)<5&&(y=l.left-E.left)),c.bottom&&($1(E.top-a.bottom)<10&&(f=l.bottom-E.top),$1(E.bottom-a.bottom)<5&&(m=l.bottom-E.bottom)),c.right&&($1(E.left-a.right)<10&&(y=l.right-E.left),$1(E.right-a.right)<5&&(h=l.right-E.right)),(f||h||m||y)&&u.push({shape:p,newBounds:Jlt(p,{top:f,right:h,bottom:m,left:y})})}}),u}(t,n);i.resizeShape(t,n),s.forEach(function(o){i.resizeShape(o.shape,o.newBounds)})},eO.prototype.resizeSpace=function(t,n){var d,f,m,i=this._spaceTool,s=En(t),a=Q1e(En(n),s),l=rp(t),c=[],u=[];Cb(l,function(y){return c.push(y),(D(y,"bpmn:Lane")||D(y,"bpmn:Participant"))&&u.push(y),y.children}),(a.bottom||a.top)&&(d=a.bottom||a.top,f=a.bottom?"s":"n",m=i.calculateAdjustments(c,"y",a.top>0||a.bottom<0?-d:d,t.y+(a.bottom?t.height:0)+(a.bottom?-10:10)),i.makeSpace(m.movingShapes,m.resizingShapes,{x:0,y:d},f)),(a.left||a.right)&&(d=a.right||a.left,f=a.right?"e":"w",m=i.calculateAdjustments(u,"x",a.left>0||a.right<0?-d:d,t.x+(a.right?t.width:0)+(a.right?-10:100)),i.makeSpace(m.movingShapes,m.resizingShapes,{x:d,y:0},f))};var tO="flowNodeRef",qW="lanes";function nO(t){this._elementRegistry=t}function BI(t){this._moddle=t}nO.$inject=["elementRegistry"],nO.prototype._computeUpdates=function(t,n){var i=[],s=[],o={},a=[];function c(p){-1===i.indexOf(p)&&(a.push(p),i.push(p))}return n.forEach(function(p){var f=rp(p);f&&-1===i.indexOf(f)&&(f.children.filter(function(m){return D(m,"bpmn:FlowNode")}).forEach(c),i.push(f))}),t.forEach(c),a.forEach(function(p){var f=p.businessObject,m=f.get(qW).slice(),y=function d(p){if(!p.parent)return[];var f=function u(p){var f=rp(p);return o[f.id]||(o[f.id]=aI(f)),o[f.id]}(p);return f.filter(function(h){return function l(p,f){var h=En(f),m_x=p.x+p.width/2,m_y=p.y+p.height/2;return m_x>h.left&&m_x<h.right&&m_y>h.top&&m_y<h.bottom}(p,h)}).map(function(h){return h.businessObject})}(p);s.push({flowNode:f,remove:m,add:y})}),n.forEach(function(p){var f=p.businessObject;p.parent||f.get(tO).forEach(function(h){s.push({flowNode:h,remove:[f],add:[]})})}),s},nO.prototype.execute=function(t){var n=t.updates;return n||(n=t.updates=this._computeUpdates(t.flowNodeShapes,t.laneShapes)),n.forEach(function(i){var s=i.flowNode,o=s.get(qW);i.remove.forEach(function(a){go(o,a),go(a.get(tO),s)}),i.add.forEach(function(a){So(o,a),So(a.get(tO),s)})}),[]},nO.prototype.revert=function(t){return t.updates.forEach(function(i){var s=i.flowNode,o=s.get(qW);i.add.forEach(function(a){go(o,a),go(a.get(tO),s)}),i.remove.forEach(function(a){So(o,a),So(a.get(tO),s)})}),[]},BI.$inject=["moddle"],BI.prototype.execute=function(t){var n=this._moddle.ids,i=t.id;return t.claiming?n.claim(i,t.element):n.unclaim(i),[]},BI.prototype.revert=function(t){var n=this._moddle.ids,i=t.id,s=t.element;return t.claiming?n.unclaim(i):n.claim(i,s),[]};var kdt={fill:void 0,stroke:void 0};function WW(t){this._commandStack=t,this._normalizeColor=function(n){if(n){if(Or(n)){var i=function Mdt(t){var n=document.createElement("canvas").getContext("2d");return n.fillStyle="transparent",n.fillStyle=t,/^#[0-9a-fA-F]{6}$/.test(n.fillStyle)?n.fillStyle:null}(n);if(i)return i}throw new Error(`invalid color value: ${n}`)}}}WW.$inject=["commandStack"],WW.prototype.postExecute=function(t){var n=t.elements,i=t.colors||kdt,s=this,o={};"fill"in i&&Ce(o,{"background-color":this._normalizeColor(i.fill)}),"stroke"in i&&Ce(o,{"border-color":this._normalizeColor(i.stroke)}),fe(n,function(a){var l=Zi(a)?td(o,["border-color"]):o,c=pi(a);if(function Adt(t){"border-color"in t&&(t.stroke=t["border-color"]),"background-color"in t&&(t.fill=t["background-color"])}(l),ui(a))s._commandStack.execute("element.updateModdleProperties",{element:a,moddleElement:c.label,properties:{color:o["border-color"]}});else{if(!un(c,["bpmndi:BPMNEdge","bpmndi:BPMNShape"]))return;s._commandStack.execute("element.updateProperties",{element:a,properties:{di:l}})}})};var Idt={width:0,height:0};function zve(t,n,i){function s(u,d){var p=u.label||u,f=u.labelTarget||u;return OH(p,d),[p,f]}this.preExecute=function o(u){var d=u.element,p=d.businessObject,f=u.newLabel;if(!ui(d)&&_b(d)&&!E7(d)&&!Hve(f)){var m=SH(d);t.createLabel(d,m={x:m.x,y:m.y+7},{id:p.id+"_label",businessObject:p,di:d.di})}},this.execute=function a(u){return u.oldLabel=bu(u.element),s(u.element,u.newLabel)},this.revert=function l(u){return s(u.element,u.oldLabel)},this.postExecute=function c(u){var d=u.element,p=d.label||d,f=u.newLabel,h=u.newBounds,m=u.hints||{};if(ui(p)||D(p,"bpmn:TextAnnotation")){if(ui(p)&&Hve(f))return void(!1!==m.removeShape&&t.removeShape(p,{unsetLabel:!1}));var y=bu(d);typeof h>"u"&&(h=n.getExternalLabelBounds(p,y)),h&&t.resizeShape(p,h,Idt)}}}function Hve(t){return!t||!t.trim()}function Rl(t,n,i,s){$i.call(this,t,n,i),this._bpmnRules=s}function GW(){}zve.$inject=["modeling","textRenderer","bpmnFactory"],Jt(Rl,$i),Rl.$inject=["eventBus","elementFactory","commandStack","bpmnRules"],Rl.prototype.getHandlers=function(){var t=$i.prototype.getHandlers.call(this);return t["element.updateModdleProperties"]=Q6,t["element.updateProperties"]=J6,t["canvas.updateRoot"]=FI,t["lane.add"]=HW,t["lane.resize"]=eO,t["lane.split"]=UW,t["lane.updateRefs"]=nO,t["id.updateClaim"]=BI,t["element.setColor"]=WW,t["element.updateLabel"]=zve,t},Rl.prototype.updateLabel=function(t,n,i,s){this._commandStack.execute("element.updateLabel",{element:t,newLabel:n,newBounds:i,hints:s||{}})},Rl.prototype.connect=function(t,n,i,s){if(i||(i=this._bpmnRules.canConnect(t,n)),i)return this.createConnection(t,n,i,t.parent,s)},Rl.prototype.updateModdleProperties=function(t,n,i){this._commandStack.execute("element.updateModdleProperties",{element:t,moddleElement:n,properties:i})},Rl.prototype.updateProperties=function(t,n){this._commandStack.execute("element.updateProperties",{element:t,properties:n})},Rl.prototype.resizeLane=function(t,n,i){this._commandStack.execute("lane.resize",{shape:t,newBounds:n,balanced:i})},Rl.prototype.addLane=function(t,n){var i={shape:t,location:n};return this._commandStack.execute("lane.add",i),i.newLane},Rl.prototype.splitLane=function(t,n){this._commandStack.execute("lane.split",{shape:t,count:n})},Rl.prototype.makeCollaboration=function(){var t=this._create("root",{type:"bpmn:Collaboration"});return this._commandStack.execute("canvas.updateRoot",{newRoot:t}),t},Rl.prototype.makeProcess=function(){var t=this._create("root",{type:"bpmn:Process"});return this._commandStack.execute("canvas.updateRoot",{newRoot:t}),t},Rl.prototype.updateLaneRefs=function(t,n){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:t,laneShapes:n})},Rl.prototype.claimId=function(t,n){this._commandStack.execute("id.updateClaim",{id:t,element:n,claiming:!0})},Rl.prototype.unclaimId=function(t,n){this._commandStack.execute("id.updateClaim",{id:t,element:n})},Rl.prototype.setColor=function(t,n){t.length||(t=[t]),this._commandStack.execute("element.setColor",{elements:t,colors:n})},GW.prototype.layoutConnection=function(t,n){return[(n=n||{}).connectionStart||An(n.source||t.source),n.connectionEnd||An(n.target||t.target)]};var VI=Math.round,Ndt={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function qve(t,n,i){var c,u,s=Ws(n,t,5),o=i.split(":")[0],a=VI((n.x-t.x)/2+t.x),l=VI((n.y-t.y)/2+t.y),d=function Fdt(t,n){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[t].test(n)}(o,s),p=/h|r|l/.test(o),f=!1,h=!1;return d?(c=p?{x:a,y:t.y}:{x:t.x,y:l},u=p?"h:h":"v:v"):(f=function Ldt(t,n){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[n].test(t)}(s,o),u=p?"h:v":"v:h",f?p?(h=l===t.y,c={x:t.x+20*(/l/.test(o)?-1:1),y:h?l+20:l}):c={x:(h=a===t.x)?a+20:a,y:t.y+20*(/t/.test(o)?-1:1)}:c={x:a,y:l}),{waypoints:KW(t,c,u).concat(c),directions:u,turnNextDirections:h}}function Wve(t){return t.split(":").reverse().join(":")}function KW(t,n,i){if(!function Xdt(t){return t&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(t)}(i=i||"h:h"))throw new Error("unknown directions: <"+i+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(Kve(i)){var s=function Bdt(t,n,i){return qve(t,n,i)}(t,n,i),o=function $dt(t,n,i){var s=qve(n,t,Wve(i));return{waypoints:s.waypoints.slice().reverse(),directions:Wve(s.directions),turnNextDirections:s.turnNextDirections}}(t,n,i),a=function Vdt(t,n){var i=t.directions.split(":")[1],s=n.directions.split(":")[0];t.turnNextDirections&&(i="h"==i?"v":"h"),n.turnNextDirections&&(s="h"==s?"v":"h");var o=i+":"+s;return{waypoints:KW(t.waypoints[t.waypoints.length-1],n.waypoints[0],o),directions:o}}(s,o);return[].concat(s.waypoints,a.waypoints,o.waypoints)}return function jdt(t,n,i){var s=VI((n.x-t.x)/2+t.x),o=VI((n.y-t.y)/2+t.y);if("h:v"===i)return[{x:n.x,y:t.y}];if("v:h"===i)return[{x:t.x,y:n.y}];if("h:h"===i)return[{x:s,y:t.y},{x:s,y:n.y}];if("v:v"===i)return[{x:t.x,y:o},{x:n.x,y:o}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}(t,n,i)}function Udt(t,n,i,s,o,a){var u;return Xt(i)&&(o=i,a=s,i=An(t),s=An(n)),o=o||[],u=-1!==(a=Ce({preferredLayouts:[]},a)).preferredLayouts.indexOf("straight")&&function Wdt(t,n,i,s,o){var l,c,a={};return c=Ws(t,n),/^(top|bottom|left|right)$/.test(c)?(/top|bottom/.test(c)&&(l="x"),/left|right/.test(c)&&(l="y"),"target"===o.preserveDocking?Gve(l,s,t)?(a[l]=s[l],[{x:void 0!==a.x?a.x:i.x,y:void 0!==a.y?a.y:i.y,original:{x:void 0!==a.x?a.x:i.x,y:void 0!==a.y?a.y:i.y}},{x:s.x,y:s.y}]):null:Gve(l,i,n)?(a[l]=i[l],[{x:i.x,y:i.y},{x:void 0!==a.x?a.x:s.x,y:void 0!==a.y?a.y:s.y,original:{x:void 0!==a.x?a.x:s.x,y:void 0!==a.y?a.y:s.y}}]):null):null}(t,n,i,s,a),u||(u=a.connectionEnd&&function Kdt(t,n,i,s){var o=s.slice().reverse();return(o=YW(t,n,i,o))?o.reverse():null}(n,t,s,o),u)||(u=a.connectionStart&&function Gdt(t,n,i,s){return YW(t,n,i,s)}(t,n,i,o),u)?u:!a.connectionStart&&!a.connectionEnd&&o&&o.length?o:function Hdt(t,n,i,s,o){var l=ar(o&&o.preferredLayouts||[],"straight")[0]||"h:h",u=Ws(t,n,Ndt[l]||0),d=function Ydt(t,n){if(Kve(n))return n;switch(t){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return n}}(u,l);i=i||An(t),s=s||An(n);var p=d.split(":"),f=Yve(i,t,p[0],function Qdt(t){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[t]}(u));return function zdt(t,n,i){var s=KW(t,n,i);return s.unshift(t),s.push(n),Xve(s)}(f,Yve(s,n,p[1],u),d)}(t,n,i,s,a)}function Gve(t,n,i){return function qdt(t,n,i){return t>=n&&t<=i}(n[t],i[t],i[t]+i[{x:"width",y:"height"}[t]])}function YW(t,n,i,s){if(function o(p){return p.length<3||!(p.length>4)&&!!Gt(p,function(f,h){var m=p[h-1];return m&&WS(f,m)<3})}(s))return null;var d,c=s[0],u=s.slice();return u[0]=i,u[1]=function a(p,f,h){switch(em(f,p)){case"v":return{x:h.x,y:p.y};case"h":return{x:p.x,y:h.y}}return{x:p.x,y:p.y}}(u[1],c,i),(d=function l(p,f,h){var m;for(m=p.length-2;0!==m;m--)if(lfe(p[m],f,20)||lfe(p[m],h,20))return p.slice(m);return p}(u,t,n))!==u&&(u=YW(t,n,i,d)),u&&em(u)?null:u}function Kve(t){return t&&/t|r|b|l/.test(t)}function Yve(t,n,i,s){if("h"===i&&(i=/left/.test(s)?"l":"r"),"v"===i&&(i=/top/.test(s)?"t":"b"),"t"===i)return{original:t,x:t.x,y:n.y};if("r"===i)return{original:t,x:n.x+n.width,y:t.y};if("b"===i)return{original:t,x:t.x,y:n.y+n.height};if("l"===i)return{original:t,x:n.x,y:t.y};throw new Error("unexpected dockingDirection: <"+i+">")}function Xve(t){return t.reduce(function(n,i,s){return VH(n[n.length-1],t[s+1],i,0)||n.push(i),n},[])}var ept={default:["h:h"],fromGateway:["v:h"],toGateway:["h:v"],loop:{fromTop:["t:r"],fromRight:["r:b"],fromLeft:["l:t"],fromBottom:["b:l"]},boundaryLoop:{alternateHorizontalSide:"b",alternateVerticalSide:"l",default:"v"},messageFlow:["straight","v:v"],subProcess:["straight","h:h"],isHorizontal:!0},tpt={default:["v:v"],fromGateway:["h:v"],toGateway:["v:h"],loop:{fromTop:["t:l"],fromRight:["r:t"],fromLeft:["l:b"],fromBottom:["b:r"]},boundaryLoop:{alternateHorizontalSide:"t",alternateVerticalSide:"r",default:"h"},messageFlow:["straight","h:h"],subProcess:["straight","v:v"],isHorizontal:!1},XW={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},rO={top:"t",right:"r",bottom:"b",left:"l"};function jI(t){this._elementRegistry=t}function ipt(t,n){return D(n,"bpmn:Participant")?"source":D(t,"bpmn:Participant")?"target":iO(n)?"source":iO(t)||D(n,"bpmn:Event")?"target":D(t,"bpmn:Event")?"source":null}function spt(t){return iO(t)?"target":"source"}function Qve(t,n){return t?t.original||t:An(n)}function Zve(t,n){return D(n,"bpmn:Activity")&&D(t,"bpmn:BoundaryEvent")&&n.businessObject.isForCompensation}function iO(t){return D(t,"bpmn:SubProcess")&&Yr(t)}function Zb(t,n){return t===n}function C3(t){var n=/right|left/.exec(t);return n&&n[0]}function S3(t){var n=/top|bottom/.exec(t);return n&&n[0]}function Jve(t,n){return XW[t]===n}function ebe(t){return"right"===t||"left"===t}function cpt(t,n,i){var s=n.waypoints,o=s&&s.length&&Ws(s[0],t);return"top"===o?i.loop.fromTop:"right"===o?i.loop.fromRight:"left"===o?i.loop.fromLeft:i.loop.fromBottom}function upt(t,n,i,s){var c,u,o=An(t),a=An(n),l=function npt(t){var n=t.host;return Ws(An(t),n,-10)}(t),d=Zb(t.host,n),p=function opt(t,n){return-1!==n.indexOf(t)}(l,["top","right","bottom","left"]),f=Ws(a,o,{x:t.width/2+n.width/2,y:t.height/2+n.height/2});return d?function dpt(t,n,i,s,o,a){var l=n?t:a.isHorizontal?S3(t):C3(t);return[rO[l]+":"+(n?ebe(t)?tbe("y",i,s,o)?"h":a.boundaryLoop.alternateHorizontalSide:tbe("x",i,s,o)?"v":a.boundaryLoop.alternateVerticalSide:a.boundaryLoop.default)]}(l,p,t,n,i,s):(c=function ppt(t,n,i,s){if(i)return rO[t];var o=S3(t),a=C3(t),l=S3(n),c=C3(n);if(s){if(Zb(o,l)||Jve(a,c))return rO[o]}else if(Zb(a,c)||Jve(o,l))return rO[a];return rO[s?a:o]}(l,f,p,s.isHorizontal),u=function fpt(t,n,i,s){return i?ebe(t)?function apt(t,n){var i=C3(t);return-1!==n.indexOf(XW[i])}(t,n)||Zb(t,n)?"h":"v":function lpt(t,n){var i=S3(t);return-1!==n.indexOf(XW[i])}(t,n)||Zb(t,n)?"v":"h":s?Zb(S3(t),S3(n))?"h":"v":Zb(C3(t),C3(n))?"v":"h"}(l,f,p,s.isHorizontal),[c+":"+u])}function tbe(t,n,i,s){return!(QW(t,s,i,40)||QW(t,s,{x:i.x+i.width,y:i.y+i.height},40)||QW(t,s,An(n),40))}function QW(t,n,i,s){return Math.abs(n[t]-i[t])<s}function nbe(t){return Ce({original:t.point.original||t.point},t.actual)}function Sm(t,n){this._elementRegistry=t,this._graphicsFactory=n}Jt(jI,GW),jI.prototype.layoutConnection=function(t,n){n||(n={});var u,d,i=n.source||t.source,s=n.target||t.target,o=n.waypoints||t.waypoints,a=n.connectionStart,l=n.connectionEnd,c=this._elementRegistry;if(a||(a=Qve(o&&o[0],i)),l||(l=Qve(o&&o[o.length-1],s)),(D(t,"bpmn:Association")||D(t,"bpmn:DataAssociation"))&&o&&!Zve(i,s))return[].concat([a],o.slice(1,-1),[l]);var p=r1e(i,c)?ept:tpt;return D(t,"bpmn:MessageFlow")?u=function rpt(t,n,i){return{preferredLayouts:i.messageFlow,preserveDocking:ipt(t,n)}}(i,s,p):(D(t,"bpmn:SequenceFlow")||Zve(i,s))&&(u=i===s?{preferredLayouts:cpt(i,t,p)}:D(i,"bpmn:BoundaryEvent")?{preferredLayouts:upt(i,s,l,p)}:iO(i)||iO(s)?{preferredLayouts:p.subProcess,preserveDocking:spt(i)}:D(i,"bpmn:Gateway")?{preferredLayouts:p.fromGateway}:D(s,"bpmn:Gateway")?{preferredLayouts:p.toGateway}:{preferredLayouts:p.default}),u&&(d=Xve(Udt(i,s,a,l,o,u=Ce(u,n)))),d||[a,l]},jI.$inject=["elementRegistry"],Sm.$inject=["elementRegistry","graphicsFactory"],Sm.prototype.getCroppedWaypoints=function(t,n,i){i=i||t.target;var s=this.getDockingPoint(t,n=n||t.source,!0),o=this.getDockingPoint(t,i),a=t.waypoints.slice(s.idx+1,o.idx);return a.unshift(nbe(s)),a.push(nbe(o)),a},Sm.prototype.getDockingPoint=function(t,n,i){var o,a,s=t.waypoints;return{point:a=s[o=i?0:s.length-1],actual:this._getIntersection(n,t,i)||a,idx:o}},Sm.prototype._getIntersection=function(t,n,i){return UH(this._getShapePath(t),this._getConnectionPath(n),i)},Sm.prototype._getConnectionPath=function(t){return this._graphicsFactory.getConnectionPath(t)},Sm.prototype._getShapePath=function(t){return this._graphicsFactory.getShapePath(t)},Sm.prototype._getGfx=function(t){return this._elementRegistry.getGraphics(t)};const rbe={__init__:["modeling","bpmnUpdater"],__depends__:[dut,Dut,Mut,Aut,gve,TI,sdt,ddt,jc,XS,xve],bpmnFactory:["type",sp],bpmnUpdater:["type",wu],elementFactory:["type",q1],modeling:["type",Rl],layouter:["type",jI],connectionDocking:["type",Sm]},ibe=Math.round;function zI(t,n,i,s,o,a){this._complexPreview=t,this._connectionDocking=n,this._elementFactory=i,this._eventBus=s,this._layouter=o,this._rules=a}zI.prototype.create=function(t,n,i){const s=this._complexPreview,o=this._connectionDocking,a=this._elementFactory,l=this._eventBus,c=this._layouter,u=this._rules,d=a.createShape(Ce({type:n},i)),p=l.fire("autoPlace",{source:t,shape:d});if(!p)return;Ce(d,{x:p.x-ibe(d.width/2),y:p.y-ibe(d.height/2)});const f=u.allowed("connection.create",{source:t,target:d,hints:{targetParent:t.parent}});let h=null;f&&(h=a.createConnection(f),h.waypoints=c.layoutConnection(h,{source:t,target:d}),h.waypoints=o.getCroppedWaypoints(h,t,d)),s.create({created:[d,h].filter(m=>!Wd(m))})},zI.prototype.cleanUp=function(){this._complexPreview.cleanUp()},zI.$inject=["complexPreview","connectionDocking","elementFactory","eventBus","layouter","rules"];const hpt={__depends__:[_q,Vlt,rbe],__init__:["appendPreview"],appendPreview:["type",zI]};var sbe=Math.min,obe=Math.max;function ZW(t){t.preventDefault()}function sO(t){t.stopPropagation()}function ff(t){this.container=t.container,this.parent=Xr('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=$n("[contenteditable]",this.parent),this.keyHandler=t.keyHandler||function(){},this.resizeHandler=t.resizeHandler||function(){},this.autoResize=Io(this.autoResize,this),this.handlePaste=Io(this.handlePaste,this)}function op(t,n){this._eventBus=t,this._canvas=n,this._providers=[],this._textbox=new ff({container:n.getContainer(),keyHandler:Io(this._handleKey,this),resizeHandler:Io(this._handleResize,this)})}ff.prototype.create=function(t,n,i,s){var a=this.parent,l=this.content,c=this.container;s=this.options=s||{};var u=td(n=this.style=n||{},["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);Ce(a.style,{width:t.width+"px",height:t.height+"px",maxWidth:t.maxWidth+"px",maxHeight:t.maxHeight+"px",minWidth:t.minWidth+"px",minHeight:t.minHeight+"px",left:t.x+"px",top:t.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},u);var d=td(n,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return Ce(l.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},d),s.centerVertically&&Ce(l.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},d),l.innerText=i,mn.bind(l,"keydown",this.keyHandler),mn.bind(l,"mousedown",sO),mn.bind(l,"paste",this.handlePaste),s.autoResize&&mn.bind(l,"input",this.autoResize),s.resizable&&this.resizable(n),c.appendChild(a),this.setSelection(l.lastChild,l.lastChild&&l.lastChild.length),a},ff.prototype.handlePaste=function(t){var s,n=this.options,i=this.style;if(t.preventDefault(),s=t.clipboardData?t.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(s),n.autoResize){var o=this.autoResize(i);o&&this.resizeHandler(o)}},ff.prototype.insertText=function(t){t=function ypt(t){return t.replace(/\r\n|\r|\n/g,"\n")}(t),document.execCommand("insertText",!1,t)||this._insertTextIE(t)},ff.prototype._insertTextIE=function(t){var u,d,n=this.getSelection(),i=n.startContainer,s=n.endContainer,o=n.startOffset,a=n.endOffset,l=n.commonAncestorContainer,c=function gpt(t){return[].slice.call(t)}(l.childNodes);if(function mpt(t){return t.nodeType===Node.TEXT_NODE}(l)){var p=i.textContent;i.textContent=p.substring(0,o)+t+p.substring(a),u=i,d=o+t.length}else if(i===this.content&&s===this.content){var f=document.createTextNode(t);this.content.insertBefore(f,c[o]),u=f,d=f.textContent.length}else{var h=c.indexOf(i),m=c.indexOf(s);c.forEach(function(y,E){E===h?y.textContent=i.textContent.substring(0,o)+t+s.textContent.substring(a):E>h&&E<=m&&el(y)}),u=i,d=o+t.length}u&&void 0!==d&&setTimeout(function(){self.setSelection(u,d)})},ff.prototype.autoResize=function(){var t=this.parent,n=this.content,i=parseInt(this.style.fontSize)||12;if(n.scrollHeight>t.offsetHeight||n.scrollHeight<t.offsetHeight-i){var s=t.getBoundingClientRect(),o=n.scrollHeight;t.style.height=o+"px",this.resizeHandler({width:s.width,height:s.height,dx:0,dy:o-s.height})}},ff.prototype.resizable=function(){var t=this,n=this.parent,i=this.resizeHandle,s=parseInt(this.style.minWidth)||0,o=parseInt(this.style.minHeight)||0,a=parseInt(this.style.maxWidth)||1/0,l=parseInt(this.style.maxHeight)||1/0;if(!i){i=this.resizeHandle=Xr('<div class="djs-direct-editing-resize-handle"></div>');var c,u,d,p,h=function(y){ZW(y),sO(y);var E=sbe(obe(d+y.clientX-c,s),a),_=sbe(obe(p+y.clientY-u,o),l);n.style.width=E+"px",n.style.height=_+"px",t.resizeHandler({width:d,height:p,dx:y.clientX-c,dy:y.clientY-u})},m=function(y){ZW(y),sO(y),mn.unbind(document,"mousemove",h,!1),mn.unbind(document,"mouseup",m,!1)};mn.bind(i,"mousedown",function(y){ZW(y),sO(y),c=y.clientX,u=y.clientY;var E=n.getBoundingClientRect();d=E.width,p=E.height,mn.bind(document,"mousemove",h),mn.bind(document,"mouseup",m)})}Ce(i.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),n.appendChild(i)},ff.prototype.destroy=function(){var t=this.parent,n=this.content,i=this.resizeHandle;n.innerText="",t.removeAttribute("style"),n.removeAttribute("style"),mn.unbind(n,"keydown",this.keyHandler),mn.unbind(n,"mousedown",sO),mn.unbind(n,"input",this.autoResize),mn.unbind(n,"paste",this.handlePaste),i&&(i.removeAttribute("style"),el(i)),el(t)},ff.prototype.getValue=function(){return this.content.innerText.trim()},ff.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},ff.prototype.setSelection=function(t,n){var i=document.createRange();null===t?i.selectNodeContents(this.content):(i.setStart(t,n),i.setEnd(t,n));var s=window.getSelection();s.removeAllRanges(),s.addRange(i)},op.$inject=["eventBus","canvas"],op.prototype.registerProvider=function(t){this._providers.push(t)},op.prototype.isActive=function(t){return!(!this._active||t&&this._active.element!==t)},op.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},op.prototype._fire=function(t,n){this._eventBus.fire("directEditing."+t,n||{active:this._active})},op.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0,this._canvas.restoreFocus&&this._canvas.restoreFocus()},op.prototype.complete=function(){var t=this._active;if(t){var n,i=t.context.bounds,s=this.$textbox.getBoundingClientRect(),o=this.getValue();(o!==t.context.text||s.height!==i.height||s.width!==i.width)&&(n=this._textbox.container.getBoundingClientRect(),t.provider.update(t.element,o,t.context.text,{x:s.left-n.left,y:s.top-n.top,width:s.width,height:s.height})),this._fire("complete"),this.close()}},op.prototype.getValue=function(){return this._textbox.getValue()},op.prototype._handleKey=function(t){t.stopPropagation();var n=t.keyCode||t.charCode;return 27===n?(t.preventDefault(),this.cancel()):13!==n||t.shiftKey?void 0:(t.preventDefault(),this.complete())},op.prototype._handleResize=function(t){this._fire("resize",t)},op.prototype.activate=function(t){this.isActive()&&this.cancel();var n,i=Gt(this._providers,function(s){return(n=s.activate(t))?s:null});return n&&(this.$textbox=this._textbox.create(n.bounds,n.style,n.text,n.options),this._active={element:t,context:n,provider:i},n.options&&n.options.resizable&&(this.resizable=!0),this._fire("activate")),!!n};const JW={__depends__:[U7],__init__:["directEditing"],directEditing:["type",op]};var bpt=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],_pt=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],Ept=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link intermediate catch event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link intermediate throw event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],xpt=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel end event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate end event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],wpt=[{label:"Exclusive gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event-based gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],Cpt=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Ad-hoc sub-process",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],Spt=[{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Ad-hoc sub-process (collapsed)",actionName:"replace-with-collapsed-ad-hoc-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:AdHocSubProcess",isExpanded:!1}}],abe=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Ad-hoc sub-process",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],Opt=abe,lbe=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business rule task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub-process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Ad-hoc sub-process (collapsed)",actionName:"replace-with-collapsed-ad-hoc-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:AdHocSubProcess",isExpanded:!1}},{label:"Ad-hoc sub-process (expanded)",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}}],Tpt=[{label:"Data store reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],Ppt=[{label:"Data object reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],Dpt=[{label:"Message boundary event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!0}},{label:"Timer boundary event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!0}},{label:"Escalation boundary event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!0}},{label:"Conditional boundary event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!0}},{label:"Error boundary event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",cancelActivity:!0}},{label:"Cancel boundary event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition",cancelActivity:!0}},{label:"Signal boundary event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!0}},{label:"Compensation boundary event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",cancelActivity:!0}},{label:"Message boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],kpt=[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!0}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!0}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!0}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!0}},{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",isInterrupting:!0}},{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!0}},{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",isInterrupting:!0}},{label:"Message start event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer start event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional start event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal start event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation start event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],Mpt=[{label:"Sequence flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],Apt=[{label:"Expanded pool/participant",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(t){var n="Empty pool/participant";return t.children&&t.children.length&&(n+=" (removes content)"),n},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}],Ipt={"bpmn:MessageEventDefinition":[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}}],"bpmn:TimerEventDefinition":[{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}}],"bpmn:ConditionalEventDefinition":[{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}}],"bpmn:SignalEventDefinition":[{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],"bpmn:ErrorEventDefinition":[{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}}],"bpmn:EscalationEventDefinition":[{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}}],"bpmn:CompensateEventDefinition":[{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}}]};const cbe_start_event_non_interrupting='\n  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">\n    <g transform="translate(0 995.64)">\n      <path d="m1899 28.357c21.545 567.43-598.38 1023.5-1133.6 835.92-548.09-147.21-801.57-873.95-463.59-1330 302.62-480.3 1071.7-507.54 1407.6-49.847 122.14 153.12 190.07 348.07 189.59 543.91z" fill="none" stroke="currentColor" stroke-dasharray="418.310422, 361.2328165" stroke-linecap="round" stroke-width="100"/>\n    </g>\n  </svg>',cbe_intermediate_event_non_interrupting='\n  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">\n     <g transform="translate(0 995.64)" fill="none" stroke="currentColor" stroke-linecap="round">\n        <circle cx="1024" cy="28.357" r="875" stroke-dasharray="418.310422, 361.2328165" stroke-width="100"/>\n        <circle cx="1024" cy="28.357" r="685" stroke-dasharray="348.31044857,261.23283643" stroke-dashoffset="500" stroke-width="100"/>\n     </g>\n  </svg>';function ap(t,n,i,s,o,a,l,c){this._bpmnFactory=t,this._popupMenu=n,this._modeling=i,this._moddle=s,this._bpmnReplace=o,this._rules=a,this._translate=l,this._moddleCopy=c,this._register()}ap.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate","moddleCopy"],ap.prototype._register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},ap.prototype.getPopupMenuEntries=function(t){var o,n=t.businessObject,i=this._rules,s=[],a=[];if(Xt(t)||!i.allowed("shape.replace",{element:t}))return{};var l=function vpt(t){return function(n){var i=n.target,s=G(t),o=s.eventDefinitions&&s.eventDefinitions[0],a=s.$type===i.type,l=(o&&o.$type)===i.eventDefinitionType,c=!!i.triggeredByEvent==!!s.triggeredByEvent,u=void 0===i.isExpanded||i.isExpanded===Yr(t);return!(a&&l&&c&&u)}}(t);return D(n,"bpmn:DataObjectReference")?this._createEntries(t,Tpt):D(n,"bpmn:DataStoreReference")&&!D(t.parent,"bpmn:Collaboration")?this._createEntries(t,Ppt):(D(n,"bpmn:Event")&&!D(n,"bpmn:BoundaryEvent")&&(o=n.get("eventDefinitions")[0]?.$type,s=Ipt[o]||[],!Ea(n.$parent)&&D(n.$parent,"bpmn:SubProcess")&&(s=Bn(s,function(c){return"bpmn:StartEvent"!==c.target.type}))),D(n,"bpmn:StartEvent")&&!D(n.$parent,"bpmn:SubProcess")?(a=Bn(bpt.concat(s),l),this._createEntries(t,a)):D(n,"bpmn:Participant")?(a=Bn(Apt,function(c){return Yr(t)!==c.target.isExpanded}),this._createEntries(t,a)):D(n,"bpmn:StartEvent")&&Ea(n.$parent)?(a=Bn(kpt.concat(s),function(c){var p=n.isInterrupting===(!1!==c.target.isInterrupting);return l(c)||!l(c)&&!p}),this._createEntries(t,a)):D(n,"bpmn:StartEvent")&&!Ea(n.$parent)&&D(n.$parent,"bpmn:SubProcess")?(a=Bn(_pt.concat(s),l),this._createEntries(t,a)):D(n,"bpmn:EndEvent")?(a=Bn(xpt.concat(s),function(c){return!("bpmn:CancelEventDefinition"==c.target.eventDefinitionType&&!D(n.$parent,"bpmn:Transaction"))&&l(c)}),this._createEntries(t,a)):D(n,"bpmn:BoundaryEvent")?(a=Bn(Dpt,function(c){var u=c.target;if("bpmn:CancelEventDefinition"==u.eventDefinitionType&&!D(n.attachedToRef,"bpmn:Transaction"))return!1;var p=n.cancelActivity==(!1!==u.cancelActivity);return l(c)||!l(c)&&!p}),this._createEntries(t,a)):D(n,"bpmn:IntermediateCatchEvent")||D(n,"bpmn:IntermediateThrowEvent")?(a=Bn(Ept.concat(s),l),this._createEntries(t,a)):D(n,"bpmn:Gateway")?(a=Bn(wpt,l),this._createEntries(t,a)):D(n,"bpmn:Transaction")?(a=Bn(abe,l),this._createEntries(t,a)):Ea(n)&&Yr(t)?(a=Bn(Opt,l),this._createEntries(t,a)):D(n,"bpmn:AdHocSubProcess")&&Yr(t)?(a=Bn(Spt,l),this._createEntries(t,a)):D(n,"bpmn:SubProcess")&&Yr(t)?(a=Bn(Cpt,l),this._createEntries(t,a)):D(n,"bpmn:SubProcess")&&!Yr(t)?(a=Bn(lbe,function(c){return c.target.type===t.type==(!0===c.target.isExpanded)}),this._createEntries(t,a)):D(n,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(t,Mpt):D(n,"bpmn:FlowNode")?(a=Bn(lbe,l),this._createEntries(t,a)):{})},ap.prototype.getPopupMenuHeaderEntries=function(t){var n={};return D(t,"bpmn:Activity")&&!Ea(t)&&(n={...n,...this._getLoopCharacteristicsHeaderEntries(t)}),D(t,"bpmn:DataObjectReference")&&(n={...n,...this._getCollectionHeaderEntries(t)}),D(t,"bpmn:Participant")&&(n={...n,...this._getParticipantMultiplicityHeaderEntries(t)}),xye(t)&&(n={...n,...this._getNonInterruptingHeaderEntries(t)}),n},ap.prototype._createEntries=function(t,n){var i={},s=this;return fe(n,function(o){i[o.actionName]=s._createEntry(o,t)}),i},ap.prototype._createSequenceFlowEntries=function(t,n){var i=G(t),s={},o=this._modeling,a=this._moddle,l=this;return fe(n,function(c){switch(c.actionName){case"replace-with-default-flow":i.sourceRef.default!==i&&(D(i.sourceRef,"bpmn:ExclusiveGateway")||D(i.sourceRef,"bpmn:InclusiveGateway")||D(i.sourceRef,"bpmn:ComplexGateway")||D(i.sourceRef,"bpmn:Activity"))&&(s={...s,[c.actionName]:l._createEntry(c,t,function(){o.updateProperties(t.source,{default:i})})});break;case"replace-with-conditional-flow":!i.conditionExpression&&D(i.sourceRef,"bpmn:Activity")&&(s={...s,[c.actionName]:l._createEntry(c,t,function(){var u=a.create("bpmn:FormalExpression",{body:""});o.updateProperties(t,{conditionExpression:u})})});break;default:D(i.sourceRef,"bpmn:Activity")&&i.conditionExpression&&(s={...s,[c.actionName]:l._createEntry(c,t,function(){o.updateProperties(t,{conditionExpression:void 0})})}),(D(i.sourceRef,"bpmn:ExclusiveGateway")||D(i.sourceRef,"bpmn:InclusiveGateway")||D(i.sourceRef,"bpmn:ComplexGateway")||D(i.sourceRef,"bpmn:Activity"))&&i.sourceRef.default===i&&(s={...s,[c.actionName]:l._createEntry(c,t,function(){o.updateProperties(t.source,{default:void 0})})})}}),s},ap.prototype._createEntry=function(t,n,i){var s=this._translate,o=this._bpmnReplace.replaceElement,l=t.label;return l&&"function"==typeof l&&(l=l(n)),i=i||function(){return o(n,t.target)},{label:s(l),className:t.className,action:i}},ap.prototype._getLoopCharacteristicsHeaderEntries=function(t){var n=this,i=this._translate;function s(d,p){if(p.active)n._modeling.updateProperties(t,{loopCharacteristics:void 0});else{var f=t.businessObject.get("loopCharacteristics");f&&D(f,p.options.loopCharacteristics)?n._modeling.updateModdleProperties(t,f,{isSequential:p.options.isSequential}):(f=n._moddle.create(p.options.loopCharacteristics,{isSequential:p.options.isSequential}),n._modeling.updateProperties(t,{loopCharacteristics:f}))}}var l,c,u,a=G(t).loopCharacteristics;return a&&(l=a.isSequential,c=void 0===a.isSequential,u=void 0!==a.isSequential&&!a.isSequential),{"toggle-parallel-mi":{className:"bpmn-icon-parallel-mi-marker",title:i("Parallel multi-instance"),active:u,action:s,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},"toggle-sequential-mi":{className:"bpmn-icon-sequential-mi-marker",title:i("Sequential multi-instance"),active:l,action:s,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},"toggle-loop":{className:"bpmn-icon-loop-marker",title:i("Loop"),active:c,action:s,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}}},ap.prototype._getCollectionHeaderEntries=function(t){var n=this,s=t.businessObject.dataObjectRef;if(!s)return{};var a=s.isCollection;return{"toggle-is-collection":{className:"bpmn-icon-parallel-mi-marker",title:(0,this._translate)("Collection"),active:a,action:function o(l,c){n._modeling.updateModdleProperties(t,s,{isCollection:!c.active})}}}},ap.prototype._getParticipantMultiplicityHeaderEntries=function(t){var n=this,i=this._bpmnFactory,a=t.businessObject.participantMultiplicity;return{"toggle-participant-multiplicity":{className:"bpmn-icon-parallel-mi-marker",title:(0,this._translate)("Participant multiplicity"),active:!!a,action:function o(l,c){var d;c.active||(d=i.create("bpmn:ParticipantMultiplicity")),n._modeling.updateProperties(t,{participantMultiplicity:d})}}}},ap.prototype._getNonInterruptingHeaderEntries=function(t){const n=this._translate,i=G(t),s=this,o=wye(t),a=D(t,"bpmn:BoundaryEvent")?cbe_intermediate_event_non_interrupting:cbe_start_event_non_interrupting,l=!i[o];return{"toggle-non-interrupting":{imageHtml:a,title:n("Toggle non-interrupting"),active:l,action:function(){s._modeling.updateProperties(t,{[o]:!!l})}}}};const Rpt={__depends__:[zA,gve,_q],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",ap]};function oO(t,n,i,s,o,a,l,c,u,d,p,f,h){t=t||{},s.registerProvider(this),this._contextPad=s,this._modeling=o,this._elementFactory=a,this._connect=l,this._create=c,this._popupMenu=u,this._canvas=d,this._rules=p,this._translate=f,this._eventBus=i,this._appendPreview=h,!1!==t.autoPlace&&(this._autoPlace=n.get("autoPlace",!1)),i.on("create.end",250,function(m){var E=m.context.shape;if(Ux(m)&&s.isOpen(E)){var _=s.getEntries(E);_.replace&&_.replace.action.click(m,E)}}),i.on("contextPad.close",function(){h.cleanUp()})}function ube(t,n,i){var s=t.$instanceOf(n),o=!1;return fe(t.eventDefinitions||[],function(l){l.$type===i&&(o=!0)}),s&&o}oO.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate","appendPreview"],oO.prototype.getMultiElementContextPadEntries=function(t){var n=this._modeling,i={};return this._isDeleteAllowed(t)&&Ce(i,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Delete"),action:{click:function(s,o){n.removeElements(o.slice())}}}}),i},oO.prototype._isDeleteAllowed=function(t){var n=this._rules.allowed("elements.delete",{elements:t});return Xt(n)?yu(t,i=>n.includes(i)):n},oO.prototype.getContextPadEntries=function(t){var n=this._contextPad,i=this._modeling,s=this._elementFactory,o=this._connect,a=this._create,l=this._popupMenu,c=this._autoPlace,u=this._translate,d=this._appendPreview,p={};if("label"===t.type)return this._isDeleteAllowed([t])&&Ce(p,y()),p;var f=t.businessObject;function h(w,g){o.start(w,g)}function m(w,g){i.removeElements([g])}function y(){return{delete:{group:"edit",className:"bpmn-icon-trash",title:u("Delete"),action:{click:m}}}}function _(w,g,x,T){function I(z,K){var U=s.createShape(Ce({type:w},T));a.start(z,U,{source:K})}return{group:"model",className:g,title:x,action:{dragstart:I,click:c?function(z,K){var U=s.createShape(Ce({type:w},T));c.append(K,U)}:I,hover:c?function(z,K){return d.create(K,w,T),()=>{d.cleanUp()}}:null}}}function S(w){return function(g,x){i.splitLane(x,w),n.open(x,!0)}}if(un(f,["bpmn:Lane","bpmn:Participant"])&&Yr(t)){var v=V1(t);Ce(p,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:u("Add lane above"),action:{click:function(w,g){i.addLane(g,"top")}}}}),v.length<2&&((_a(t)?t.height>=120:t.width>=120)&&Ce(p,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:u("Divide into two lanes"),action:{click:S(2)}}}),(_a(t)?t.height>=180:t.width>=180)&&Ce(p,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:u("Divide into three lanes"),action:{click:S(3)}}})),Ce(p,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:u("Add lane below"),action:{click:function(w,g){i.addLane(g,"bottom")}}}})}return D(f,"bpmn:FlowNode")&&(D(f,"bpmn:EventBasedGateway")?Ce(p,{"append.receive-task":_("bpmn:ReceiveTask","bpmn-icon-receive-task",u("Append receive task")),"append.message-intermediate-event":_("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",u("Append message intermediate catch event"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":_("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",u("Append timer intermediate catch event"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":_("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",u("Append conditional intermediate catch event"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":_("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",u("Append signal intermediate catch event"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):ube(f,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?Ce(p,{"append.compensation-activity":_("bpmn:Task","bpmn-icon-task",u("Append compensation activity"),{isForCompensation:!0})}):!D(f,"bpmn:EndEvent")&&!f.isForCompensation&&!ube(f,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")&&!Ea(f)&&Ce(p,{"append.end-event":_("bpmn:EndEvent","bpmn-icon-end-event-none",u("Append end event")),"append.gateway":_("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",u("Append gateway")),"append.append-task":_("bpmn:Task","bpmn-icon-task",u("Append task")),"append.intermediate-event":_("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",u("Append intermediate/boundary event"))})),l.isEmpty(t,"bpmn-replace")||Ce(p,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:u("Change element"),action:{click:function(w,g){var x=Ce(function E(w){var T=n.getPad(w).html.getBoundingClientRect();return{x:T.left,y:T.bottom+5}}(g),{cursor:{x:w.x,y:w.y}});l.open(g,"bpmn-replace",x,{title:u("Change element"),width:300,search:!0})}}}}),D(f,"bpmn:SequenceFlow")&&Ce(p,{"append.text-annotation":_("bpmn:TextAnnotation","bpmn-icon-text-annotation",u("Add text annotation"))}),D(f,"bpmn:MessageFlow")&&Ce(p,{"append.text-annotation":_("bpmn:TextAnnotation","bpmn-icon-text-annotation",u("Add text annotation"))}),un(f,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Ce(p,{"append.text-annotation":_("bpmn:TextAnnotation","bpmn-icon-text-annotation",u("Add text annotation")),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:u("Connect to other element"),action:{click:h,dragstart:h}}}),D(f,"bpmn:TextAnnotation")&&Ce(p,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:u("Connect using association"),action:{click:h,dragstart:h}}}),un(f,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Ce(p,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:u("Connect using data input association"),action:{click:h,dragstart:h}}}),D(f,"bpmn:Group")&&Ce(p,{"append.text-annotation":_("bpmn:TextAnnotation","bpmn-icon-text-annotation",u("Add text annotation"))}),this._isDeleteAllowed([t])&&Ce(p,y()),p};const Npt={__depends__:[hpt,JW,lq,jc,QA,w3,Rpt],__init__:["contextPadProvider"],contextPadProvider:["type",oO]};var Lpt={horizontal:["x","width"],vertical:["y","height"]};function Om(t,n){this._modeling=t,this._filters=[],this.registerFilter(function(i){var s=n.allowed("elements.distribute",{elements:i});return Xt(s)?s:s?i:[]})}Om.$inject=["modeling","rules"],Om.prototype.registerFilter=function(t){if("function"!=typeof t)throw new Error("the filter has to be a function");this._filters.push(t)},Om.prototype.trigger=function(t,n){var s,o,i=this._modeling;if(!(t.length<3||(this._setOrientation(n),o=this._filterElements(t),s=this._createGroups(o),s.length<=2)))return i.distributeElements(s,this._axis,this._dimension),s},Om.prototype._filterElements=function(t){var n=this._filters,i=this._axis,s=this._dimension,o=[].concat(t);return n.length?(fe(n,function(a){o=a(o,i,s)}),o):t},Om.prototype._createGroups=function(t){var n=[],i=this,s=this._axis,o=this._dimension;if(!s)throw new Error('must have a defined "axis" and "dimension"');return fe(ba(t,s),function(l,c){var u=i._findRange(l,s,o),p=n[n.length-1];p&&i._hasIntersection(p.range,u)?n[n.length-1].elements.push(l):n.push({range:u,elements:[l]})}),n},Om.prototype._setOrientation=function(t){var n=Lpt[t];this._axis=n[0],this._dimension=n[1]},Om.prototype._hasIntersection=function(t,n){return Math.max(t.min,t.max)>=Math.min(n.min,n.max)&&Math.min(t.min,t.max)<=Math.max(n.min,n.max)},Om.prototype._findRange=function(t){var n=t[this._axis];return{min:n+5,max:n+t[this._dimension]-5}};const pbe={__init__:["distributeElements"],distributeElements:["type",Om]};function HI(t){Hc.call(this,t)}HI.$inject=["eventBus"],Jt(HI,Hc),HI.prototype.init=function(){this.addRule("elements.distribute",function(t){var n=t.elements;return!((n=B7(n=Bn(n,function(i){var s=un(i,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(i.labelTarget||s)}))).length<3)&&n})};const fbe_horizontal='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n                <polyline points="450 400 450 150 1350 150 1350 400" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>\n                <rect x="150" y="450" width="600" height="1200" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n                <rect x="1050" y="450" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n              </svg>',fbe_vertical='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n              <polyline points="400 1350 150 1350 150 450 400 450" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>\n              <rect x="450" y="150" width="1200" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n              <rect x="450" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n            </svg>';function aO(t,n,i,s){this._distributeElements=n,this._translate=i,this._popupMenu=t,this._rules=s,t.registerProvider("align-elements",900,this)}aO.$inject=["popupMenu","distributeElements","translate","rules"],aO.prototype.getPopupMenuEntries=function(t){var n={};return this._isAllowed(t)&&Ce(n,this._getEntries(t)),n},aO.prototype._isAllowed=function(t){return this._rules.allowed("elements.distribute",{elements:t})},aO.prototype._getEntries=function(t){var n=this._distributeElements,i=this._translate,s=this._popupMenu;return{"distribute-elements-horizontal":{group:"distribute",title:i("Distribute elements horizontally"),className:"bjs-align-elements-menu-entry",imageHtml:fbe_horizontal,action:function(a,l){n.trigger(t,"horizontal"),s.close()}},"distribute-elements-vertical":{group:"distribute",title:i("Distribute elements vertically"),imageHtml:fbe_vertical,action:function(a,l){n.trigger(t,"vertical"),s.close()}}}};const $pt={__depends__:[zA,pbe],__init__:["bpmnDistributeElements","distributeElementsMenuProvider"],bpmnDistributeElements:["type",HI],distributeElementsMenuProvider:["type",aO]};var hbe="is not a registered action";function Uc(t,n){this._actions={};var i=this;t.on("diagram.init",function(){i._registerDefaultActions(n),t.fire("editorActions.init",{editorActions:i})})}function eG(t,n){return new Error(t+" "+n)}Uc.$inject=["eventBus","injector"],Uc.prototype._registerDefaultActions=function(t){var n=t.get("commandStack",!1),i=t.get("modeling",!1),s=t.get("selection",!1),o=t.get("zoomScroll",!1),a=t.get("copyPaste",!1),l=t.get("canvas",!1),c=t.get("rules",!1),u=t.get("keyboardMove",!1),d=t.get("keyboardMoveSelection",!1);n&&(this.register("undo",function(){n.undo()}),this.register("redo",function(){n.redo()})),a&&s&&this.register("copy",function(){var p=s.get();if(p.length)return a.copy(p)}),a&&this.register("paste",function(){a.paste()}),o&&this.register("stepZoom",function(p){o.stepZoom(p.value)}),l&&this.register("zoom",function(p){l.zoom(p.value)}),i&&s&&c&&this.register("removeSelection",function(){var p=s.get();if(p.length){var h,f=c.allowed("elements.delete",{elements:p});!1!==f&&(h=Xt(f)?f:p).length&&i.removeElements(h.slice())}}),u&&this.register("moveCanvas",function(p){u.moveCanvas(p)}),d&&this.register("moveSelection",function(p){d.moveSelection(p.direction,p.accelerated)})},Uc.prototype.trigger=function(t,n){if(!this._actions[t])throw eG(t,hbe);return this._actions[t](n)},Uc.prototype.register=function(t,n){var i=this;if("string"==typeof t)return this._registerAction(t,n);fe(t,function(s,o){i._registerAction(o,s)})},Uc.prototype._registerAction=function(t,n){if(this.isRegistered(t))throw eG(t,"is already registered");this._actions[t]=n},Uc.prototype.unregister=function(t){if(!this.isRegistered(t))throw eG(t,hbe);this._actions[t]=void 0},Uc.prototype.getActions=function(){return Object.keys(this._actions)},Uc.prototype.isRegistered=function(t){return!!this._actions[t]};const mbe={__init__:["editorActions"],editorActions:["type",Uc]};function UI(t){t.invoke(Uc,this)}Jt(UI,Uc),UI.$inject=["injector"],UI.prototype._registerDefaultActions=function(t){Uc.prototype._registerDefaultActions.call(this,t);var n=t.get("canvas",!1),i=t.get("elementRegistry",!1),s=t.get("selection",!1),o=t.get("spaceTool",!1),a=t.get("lassoTool",!1),l=t.get("handTool",!1),c=t.get("globalConnect",!1),u=t.get("distributeElements",!1),d=t.get("alignElements",!1),p=t.get("directEditing",!1),f=t.get("searchPad",!1),h=t.get("modeling",!1),m=t.get("contextPad",!1);n&&i&&s&&this._registerAction("selectElements",function(){var y=n.getRootElement(),E=i.filter(function(_){return _!==y});return s.select(E),E}),o&&this._registerAction("spaceTool",function(){o.toggle()}),a&&this._registerAction("lassoTool",function(){a.toggle()}),l&&this._registerAction("handTool",function(){l.toggle()}),c&&this._registerAction("globalConnectTool",function(){c.toggle()}),s&&u&&this._registerAction("distributeElements",function(y){var E=s.get();E.length&&u.trigger(E,y.type)}),s&&d&&this._registerAction("alignElements",function(y){var E=s.get(),_=[],S=y.type;E.length&&(_=Bn(E,function(v){return!D(v,"bpmn:Lane")}),d.trigger(_,S))}),s&&h&&this._registerAction("setColor",function(y){var E=s.get();E.length&&h.setColor(E,y)}),s&&p&&this._registerAction("directEditing",function(){var y=s.get();y.length&&p.activate(y[0])}),f&&this._registerAction("find",function(){f.toggle()}),n&&h&&this._registerAction("moveToOrigin",function(){var E,_,y=n.getRootElement();E=ea(_=D(y,"bpmn:Collaboration")?i.filter(function(S){return D(S.parent,"bpmn:Collaboration")}):i.filter(function(S){return S!==y&&!D(S.parent,"bpmn:SubProcess")})),h.moveElements(_,{x:-E.x,y:-E.y},y)}),s&&m&&this._registerAction("replaceElement",function(y){m.triggerEntry("replace","click",y)})};const jpt={__depends__:[mbe],editorActions:["type",UI]};function gbe(t){t.on(["create.init","shape.move.init"],function(n){var i=n.context;un(n.shape,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(i.gridSnappingContext||(i.gridSnappingContext={}),i.gridSnappingContext.snapLocation="top-left")})}function lO(t,n,i){return i||(i="round"),Math[i](t/n)*n}function X1(t,n,i){var s=!i||!1!==i.active;this._eventBus=n;var o=this;n.on("diagram.init",800,function(){o.setActive(s)}),n.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],1200,function(a){var l=a.originalEvent;if(!(!o.active||l&&Zd(l))){var c=a.context,u=c.gridSnappingContext;u||(u=c.gridSnappingContext={}),["x","y"].forEach(function(d){var p={},f=function qpt(t,n,i){var o=t.shape,a=t.context.gridSnappingContext,l=a.snapLocation,c=a.snapOffset;return c&&Ln(c[n])||(c||(c=a.snapOffset={}),Ln(c[n])||(c[n]=0),!o)||(i.get(o.id)||(qI(n)?c[n]+=o[n]+o.width/2:c[n]+=o[n]+o.height/2),!l)||("x"===n?/left/.test(l)?c[n]-=o.width/2:/right/.test(l)&&(c[n]+=o.width/2):/top/.test(l)?c[n]-=o.height/2:/bottom/.test(l)&&(c[n]+=o.height/2)),c[n]}(a,d,t);f&&(p.offset=f);var h=function Upt(t,n){var i=t.context,s=i.createConstraints,o=i.resizeConstraints||{},a=i.gridSnappingContext,l=a.snapConstraints;if(l&&l[n])return l[n];l||(l=a.snapConstraints={}),l[n]||(l[n]={});var c=i.direction;s&&(qI(n)?(l.x.min=s.left,l.x.max=s.right):(l.y.min=s.top,l.y.max=s.bottom));var u=o.min,d=o.max;return u&&(qI(n)?vbe(c)?l.x.max=u.left:l.x.min=u.right:ybe(c)?l.y.max=u.top:l.y.min=u.bottom),d&&(qI(n)?vbe(c)?l.x.min=d.left:l.x.max=d.right:ybe(c)?l.y.min=d.top:l.y.max=d.bottom),l[n]}(a,d);h&&Ce(p,h),m3(a,d)||o.snapEvent(a,d,p)})}})}function qI(t){return"x"===t}function ybe(t){return-1!==t.indexOf("n")}function vbe(t){return-1!==t.indexOf("w")}function Jb(t,n){pt.call(this,t),this._gridSnapping=n;var i=this;this.preExecute("shape.resize",function(s){var o=s.context,l=(o.hints||{}).autoResize;if(l){var c=o.shape,u=o.newBounds;o.newBounds=Or(l)?i.snapComplex(u,l):i.snapSimple(c,u)}})}function bbe(t,n){t.on(["spaceTool.move","spaceTool.end"],2e3,function(i){var a,s=i.context;s.initialized&&("x"===s.axis?(a=n.snapValue(i.dx),i.x=i.x+a-i.dx,i.dx=a):(a=n.snapValue(i.dy),i.y=i.y+a-i.dy,i.dy=a))})}gbe.$inject=["eventBus"],X1.prototype.snapEvent=function(t,n,i){Bo(t,n,this.snapValue(t[n],i))},X1.prototype.getGridSpacing=function(){return 10},X1.prototype.snapValue=function(t,n){var s,o,i=0;return n&&n.offset&&(i=n.offset),t=lO(t+=i,10),n&&n.min&&Ln(s=n.min)&&(s=lO(s+i,10,"ceil"),t=Math.max(t,s)),n&&n.max&&Ln(o=n.max)&&(o=lO(o+i,10,"floor"),t=Math.min(t,o)),t-i},X1.prototype.isActive=function(){return this.active},X1.prototype.setActive=function(t){this.active=t,this._eventBus.fire("gridSnapping.toggle",{active:t})},X1.prototype.toggleActive=function(){this.setActive(!this.active)},X1.$inject=["elementRegistry","eventBus","config.gridSnapping"],Jb.$inject=["eventBus","gridSnapping","modeling"],Jt(Jb,pt),Jb.prototype.snapSimple=function(t,n){var i=this._gridSnapping;return n.width=i.snapValue(n.width,{min:n.width}),n.height=i.snapValue(n.height,{min:n.height}),n.x=t.x+t.width/2-n.width/2,n.y=t.y+t.height/2-n.height/2,n},Jb.prototype.snapComplex=function(t,n){return/w|e/.test(n)&&(t=this.snapHorizontally(t,n)),/n|s/.test(n)&&(t=this.snapVertically(t,n)),t},Jb.prototype.snapHorizontally=function(t,n){var i=this._gridSnapping,s=/w/.test(n),o=/e/.test(n),a={};return a.width=i.snapValue(t.width,{min:t.width}),o&&(s?(a.x=i.snapValue(t.x,{max:t.x}),a.width+=i.snapValue(t.x-a.x,{min:t.x-a.x})):t.x=t.x+t.width-a.width),Ce(t,a),t},Jb.prototype.snapVertically=function(t,n){var i=this._gridSnapping,s=/n/.test(n),o=/s/.test(n),a={};return a.height=i.snapValue(t.height,{min:t.height}),s&&(o?(a.y=i.snapValue(t.y,{max:t.y}),a.height+=i.snapValue(t.y-a.y,{min:t.y-a.y})):t.y=t.y+t.height-a.height),Ce(t,a),t},bbe.$inject=["eventBus","gridSnapping"];const _be={__depends__:[{__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",Jb],gridSnappingSpaceToolBehavior:["type",bbe]}],__init__:["gridSnapping"],gridSnapping:["type",X1]};function Ebe(t,n,i){t.on("autoPlace",2e3,function(s){var o=s.source,a=An(o),l=s.shape,c=i1e(o,l,i);return["x","y"].forEach(function(u){var d={};c[u]!==a[u]&&(c[u]>a[u]?d.min=c[u]:d.max=c[u],D(l,"bpmn:TextAnnotation")&&(d.offset=function Kpt(t){return"x"===t}(u)?-l.width/2:-l.height/2),c[u]=n.snapValue(c[u],d))}),c})}function xbe(t,n,i){n.on(["create.start","shape.move.start"],1750,function(s){var o=s.context,a=o.shape,l=t.getRootElement();D(a,"bpmn:Participant")&&D(l,"bpmn:Process")&&l.children.length&&o.createConstraints&&(a.width=i.snapValue(a.width,{min:a.width}),a.height=i.snapValue(a.height,{min:a.height}))})}function WI(t,n,i){pt.call(this,t),this._gridSnapping=n;var s=this;this.postExecuted(["connection.create","connection.layout"],3e3,function(o){var a=o.context,l=a.connection,c=a.hints||{},u=l.waypoints;c.connectionStart||c.connectionEnd||!1===c.createElementsBehavior||function Qpt(t){return t.length>3}(u)&&i.updateWaypoints(l,s.snapMiddleSegments(u))})}function eft(t,n,i){var s=em(n,i),o={};return function Zpt(t){return"h"===t}(s)&&(o.y=t.snapValue(n.y)),function Jpt(t){return"v"===t}(s)&&(o.x=t.snapValue(n.x)),("x"in o||"y"in o)&&(n=Ce({},n,o),i=Ce({},i,o)),[n,i]}Ebe.$inject=["eventBus","gridSnapping","elementRegistry"],xbe.$inject=["canvas","eventBus","gridSnapping"],WI.$inject=["eventBus","gridSnapping","modeling"],Jt(WI,pt),WI.prototype.snapMiddleSegments=function(t){var i,n=this._gridSnapping;t=t.slice();for(var s=1;s<t.length-2;s++)i=eft(n,t[s],t[s+1]),t[s]=i[0],t[s+1]=i[1];return t};const tft={__depends__:[_be,{__init__:["gridSnappingAutoPlaceBehavior","gridSnappingParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",Ebe],gridSnappingParticipantBehavior:["type",xbe],gridSnappingLayoutConnectionBehavior:["type",WI]}],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",gbe]};function cO(t,n){this._interactionEvents=n;var i=this;t.on(["interactionEvents.createHit","interactionEvents.updateHit"],function(s){var o=s.element,a=s.gfx;return D(o,"bpmn:Lane")?i._createParticipantHit(o,a):D(o,"bpmn:Participant")?Yr(o)?i._createParticipantHit(o,a):i._createDefaultHit(o,a):D(o,"bpmn:SubProcess")?Yr(o)?i._createSubProcessHit(o,a):i._createDefaultHit(o,a):void 0})}cO.$inject=["eventBus","interactionEvents"],cO.prototype._createDefaultHit=function(t,n){return this._interactionEvents.removeHits(n),this._interactionEvents.createDefaultHit(t,n),!0},cO.prototype._createParticipantHit=function(t,n){this._interactionEvents.removeHits(n),this._interactionEvents.createBoxHit(n,"no-move",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(n,"click-stroke",{width:t.width,height:t.height});var i=_a(t)?{width:30,height:t.height}:{width:t.width,height:30};return this._interactionEvents.createBoxHit(n,"all",i),!0},cO.prototype._createSubProcessHit=function(t,n){return this._interactionEvents.removeHits(n),this._interactionEvents.createBoxHit(n,"no-move",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(n,"click-stroke",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(n,"all",{width:t.width,height:30}),!0};const rft={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",cO]};function GI(t){t.invoke(om,this)}Jt(GI,om),GI.$inject=["injector"],GI.prototype.registerBindings=function(t,n){function i(s,o){n.isRegistered(s)&&t.addListener(o)}om.prototype.registerBindings.call(this,t,n),i("selectElements",function(s){var o=s.keyEvent;if(t.isKey(["a","A"],o)&&t.isCmd(o))return n.trigger("selectElements"),!0}),i("find",function(s){var o=s.keyEvent;if(t.isKey(["f","F"],o)&&t.isCmd(o))return n.trigger("find"),!0}),i("spaceTool",function(s){var o=s.keyEvent;if(!t.hasModifier(o)&&t.isKey(["s","S"],o))return n.trigger("spaceTool"),!0}),i("lassoTool",function(s){var o=s.keyEvent;if(!t.hasModifier(o)&&t.isKey(["l","L"],o))return n.trigger("lassoTool"),!0}),i("handTool",function(s){var o=s.keyEvent;if(!t.hasModifier(o)&&t.isKey(["h","H"],o))return n.trigger("handTool"),!0}),i("globalConnectTool",function(s){var o=s.keyEvent;if(!t.hasModifier(o)&&t.isKey(["c","C"],o))return n.trigger("globalConnectTool"),!0}),i("directEditing",function(s){var o=s.keyEvent;if(!t.hasModifier(o)&&t.isKey(["e","E"],o))return n.trigger("directEditing"),!0}),i("replaceElement",function(s){var o=s.keyEvent;if(!t.hasModifier(o)&&t.isKey(["r","R"],o))return n.trigger("replaceElement",o),!0})};const ift={__depends__:[n6],__init__:["keyboardBindings"],keyboardBindings:["type",GI]};var sft={moveSpeed:1,moveSpeedAccelerated:10},aft={ArrowLeft:"left",Left:"left",ArrowUp:"up",Up:"up",ArrowRight:"right",Right:"right",ArrowDown:"down",Down:"down"},lft={left:function(t){return{x:-t,y:0}},up:function(t){return{x:0,y:-t}},right:function(t){return{x:t,y:0}},down:function(t){return{x:0,y:t}}};function Pbe(t,n,i,s,o){var a=this;this._config=Ce({},sft,t||{}),n.addListener(1500,function(l){var c=l.keyEvent,u=aft[c.key];if(u&&!n.isCmd(c)){var d=n.isShift(c);return a.moveSelection(u,d),!0}}),this.moveSelection=function(l,c){var u=o.get();if(u.length){var p=lft[l](this._config[c?"moveSpeedAccelerated":"moveSpeed"]);s.allowed("elements.move",{shapes:u})&&i.moveElements(u,p)}}}Pbe.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];const Dbe={__depends__:[n6,jc],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",Pbe]};function uO(t,n,i,s){this._dragging=s,this._rules=n;var o=this;t.on("resize.start",function(u){!function l(u){var p=u.minBounds;void 0===u.resizeConstraints&&(void 0===p&&(p=o.computeMinResizeBox(u)),u.resizeConstraints={min:En(p)})}(u.context)}),t.on("resize.move",function(u){!function a(u,d){var m,p=u.shape,f=u.direction,h=u.resizeConstraints;u.delta=d,m=function Zlt(t,n,i){var s=i.x,o=i.y,a={x:t.x,y:t.y,width:t.width,height:t.height};return-1!==n.indexOf("n")?(a.y=t.y+o,a.height=t.height-o):-1!==n.indexOf("s")&&(a.height=t.height+o),-1!==n.indexOf("e")?a.width=t.width+s:-1!==n.indexOf("w")&&(a.x=t.x+s,a.width=t.width-s),a}(p,f,d),u.newBounds=function ect(t,n){if(!n)return t;var i=En(t);return L7({top:oI("top",i,n),right:oI("right",i,n),bottom:oI("bottom",i,n),left:oI("left",i,n)})}(m,h),u.canExecute=o.canResize(u)}(u.context,{x:u.dx,y:u.dy})}),t.on("resize.end",function(u){!function c(u){var d=u.shape,f=u.newBounds;if(u.canExecute){if(!function cft(t,n){return t.x!==n.x||t.y!==n.y||t.width!==n.width||t.height!==n.height}(d,f=Efe(f)))return;i.resizeShape(d,f)}}(u.context)})}function Mbe(t,n){var i=An(t),s=En(t),o={x:i.x,y:i.y};return-1!==n.indexOf("n")?o.y=s.top:-1!==n.indexOf("s")&&(o.y=s.bottom),-1!==n.indexOf("e")?o.x=s.right:-1!==n.indexOf("w")&&(o.x=s.left),o}function uft(t){var n="resize-";return"n"===t||"s"===t?n+"ns":"e"===t||"w"===t?n+"ew":"nw"===t||"se"===t?n+"nwse":n+"nesw"}uO.prototype.canResize=function(t){var n=this._rules,i=td(t,["newBounds","shape","delta","direction"]);return n.allowed("shape.resize",i)},uO.prototype.activate=function(t,n,i){var o,a,s=this._dragging;if("string"==typeof i&&(i={direction:i}),!(a=(o=Ce({shape:n},i)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");s.init(t,Mbe(n,a),"resize",{autoActivate:!0,cursor:uft(a),data:{shape:n,context:o}})},uO.prototype.computeMinResizeBox=function(t){var n=t.shape;return function tct(t,n,i,s){var o=En(n),a={top:/n/.test(t)?o.bottom-i.height:o.top,left:/w/.test(t)?o.right-i.width:o.left,bottom:/s/.test(t)?o.top+i.height:o.bottom,right:/e/.test(t)?o.left+i.width:o.right},l=s?En(s):a;return L7({top:sI(a.top,l.top),left:sI(a.left,l.left),bottom:iI(a.bottom,l.bottom),right:iI(a.right,l.right)})}(t.direction,n,t.minDimensions||{width:10,height:10},Z1e(n,t.childrenBoxPadding))},uO.$inject=["eventBus","rules","modeling","dragging"];var Abe="djs-resizing",Ibe="resize-not-ok";function Rbe(t,n,i){t.on("resize.move",500,function(a){!function s(a){var l=a.shape,c=a.newBounds,u=a.frame;u||(u=a.frame=i.addFrame(l,n.getActiveLayer()),n.addMarker(l,Abe)),c.width>5&&Wt(u,{x:c.x,width:c.width}),c.height>5&&Wt(u,{y:c.y,height:c.height}),a.canExecute?di(u).remove(Ibe):di(u).add(Ibe)}(a.context)}),t.on("resize.cleanup",function(a){!function o(a){var l=a.shape;a.frame&&Ro(a.frame),n.removeMarker(l,Abe)}(a.context)})}Rbe.$inject=["eventBus","canvas","previewSupport"];var dO="djs-resizer",pft=["n","w","s","e","nw","ne","se","sw"];function Q1(t,n,i,s){this._resize=s,this._canvas=n;var o=this;t.on("selection.changed",function(a){var l=a.newSelection;o.removeResizers(),1===l.length&&fe(l,Io(o.addResizer,o))}),t.on("shape.changed",function(a){var l=a.element;i.isSelected(l)&&(o.removeResizers(),o.addResizer(l))})}Q1.prototype.makeDraggable=function(t,n,i){var s=this._resize;function o(a){C1(a)&&s.activate(a,t,i)}mn.bind(n,"mousedown",o),mn.bind(n,"touchstart",o)},Q1.prototype._createResizer=function(t,n,i,s){var o=this._getResizersParent(),a=function fft(t){var n={x:0,y:0};return-1!==t.indexOf("e")?n.x=6:-1!==t.indexOf("w")&&(n.x=-6),-1!==t.indexOf("s")?n.y=6:-1!==t.indexOf("n")&&(n.y=-6),n}(s),l=an("g");di(l).add(dO),di(l).add(dO+"-"+t.id),di(l).add(dO+"-"+s),On(o,l);var c=an("rect");Wt(c,{x:-4+a.x,y:-4+a.y,width:8,height:8}),di(c).add(dO+"-visual"),On(l,c);var u=an("rect");return Wt(u,{x:-10+a.x,y:-10+a.y,width:20,height:20}),di(u).add(dO+"-hit"),On(l,u),D7(l,n,i),l},Q1.prototype.createResizer=function(t,n){var i=Mbe(t,n),s=this._createResizer(t,i.x,i.y,n);this.makeDraggable(t,s,n)},Q1.prototype.addResizer=function(t){var n=this;Zi(t)||!this._resize.canResize({shape:t})||fe(pft,function(i){n.createResizer(t,i)})},Q1.prototype.removeResizers=function(){Eb(this._getResizersParent())},Q1.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},Q1.$inject=["eventBus","canvas","selection","resize"];const tG={__depends__:[ep,_m,g3],__init__:["resize","resizePreview","resizeHandles"],resize:["type",uO],resizePreview:["type",Rbe],resizeHandles:["type",Q1]};function pO(t,n,i,s,o,a,l){function c(u,d){(d||un(u,["bpmn:Task","bpmn:TextAnnotation","bpmn:Participant"])||nG(u))&&s.activate(u)}this._bpmnFactory=n,this._canvas=i,this._modeling=o,this._textRenderer=l,s.registerProvider(this),t.on("element.dblclick",function(u){c(u.element,!0)}),t.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],function(){s.isActive()&&s.complete()}),t.on(["shape.remove","connection.remove"],2e3,function(u){s.isActive(u.element)&&s.cancel()}),t.on(["commandStack.changed"],function(u){s.isActive()&&s.cancel()}),t.on("directEditing.activate",function(u){a.removeResizers()}),t.on("create.end",500,function(u){var d=u.context;u.isTouch||u.context.canExecute&&(d.hints&&!1===d.hints.createElementsBehavior||c(d.shape))}),t.on("autoPlace.end",500,function(u){c(u.shape)})}function nG(t){return D(t,"bpmn:SubProcess")&&!Yr(t)}pO.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],pO.prototype.activate=function(t){var n=bu(t);if(void 0!==n){var i={text:n};Ce(i,this.getEditingBBox(t));var o={},a=i.style||{};return Ce(a,{backgroundColor:null,border:null}),(un(t,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||nG(t))&&Ce(o,{centerVertically:!0}),_b(t)&&(Ce(o,{autoResize:!0}),Ce(a,{backgroundColor:"#ffffff",border:"1px solid #ccc"})),D(t,"bpmn:TextAnnotation")&&(Ce(o,{resizable:!0,autoResize:!0}),Ce(a,{backgroundColor:"#ffffff",border:"1px solid #ccc"})),Ce(i,{options:o,style:a}),i}},pO.prototype.getEditingBBox=function(t){var n=this._canvas,i=t.label||t,s=n.getAbsoluteBBox(i),o_x=s.x+s.width/2,o_y=s.y+s.height/2,a={x:s.x,y:s.y},l=n.zoom(),c=this._textRenderer.getDefaultStyle(),u=this._textRenderer.getExternalStyle(),d=u.fontSize*l,p=u.lineHeight,f=c.fontSize*l,h=c.lineHeight,m={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};if(D(t,"bpmn:Lane")||function yft(t){return D(t,"bpmn:Participant")&&Yr(t)}(t)){var y=_a(t);Ce(a,y?{width:s.height,height:30*l,x:s.x-s.height/2+15*l,y:o_y-30*l/2}:{width:s.width,height:30*l}),Ce(m,{fontSize:f+"px",lineHeight:h,paddingTop:7*l+"px",paddingBottom:7*l+"px",paddingLeft:5*l+"px",paddingRight:5*l+"px",transform:y?"rotate(-90deg)":null})}if(function gft(t){return D(t,"bpmn:Participant")&&!Yr(t)}(t)){var _=_a(t);Ce(a,_?{width:s.width,height:s.height}:{width:s.height,height:s.width,x:o_x-s.height/2,y:o_y-s.width/2}),Ce(m,{fontSize:f+"px",lineHeight:h,paddingTop:7*l+"px",paddingBottom:7*l+"px",paddingLeft:5*l+"px",paddingRight:5*l+"px",transform:_?null:"rotate(-90deg)"})}(un(t,["bpmn:Task","bpmn:CallActivity"])||nG(t))&&(Ce(a,{width:s.width,height:s.height}),Ce(m,{fontSize:f+"px",lineHeight:h,paddingTop:7*l+"px",paddingBottom:7*l+"px",paddingLeft:5*l+"px",paddingRight:5*l+"px"})),function mft(t){return D(t,"bpmn:SubProcess")&&Yr(t)}(t)&&(Ce(a,{width:s.width,x:s.x}),Ce(m,{fontSize:f+"px",lineHeight:h,paddingTop:7*l+"px",paddingBottom:7*l+"px",paddingLeft:5*l+"px",paddingRight:5*l+"px"}));var v=90*l,w=7*l,g=4*l;if(i.labelTarget&&(Ce(a,{width:v,height:s.height+w+g,x:o_x-v/2,y:s.y-w}),Ce(m,{fontSize:d+"px",lineHeight:p,paddingTop:w+"px",paddingBottom:g+"px"})),_b(i)&&!E7(i)&&!ui(i)){var x=SH(t),T=n.getAbsoluteBBox({x:x.x,y:x.y,width:0,height:0}),I=d+w+g;Ce(a,{width:v,height:I,x:T.x-v/2,y:T.y-I/2}),Ce(m,{fontSize:d+"px",lineHeight:p,paddingTop:w+"px",paddingBottom:g+"px"})}return D(t,"bpmn:TextAnnotation")&&(Ce(a,{width:s.width,height:s.height,minWidth:30*l,minHeight:10*l}),Ce(m,{textAlign:"left",paddingTop:5*l+"px",paddingBottom:7*l+"px",paddingLeft:7*l+"px",paddingRight:5*l+"px",fontSize:f+"px",lineHeight:h})),{bounds:a,style:m}},pO.prototype.update=function(t,n,i,s){var o,a;D(t,"bpmn:TextAnnotation")&&(a=this._canvas.getAbsoluteBBox(t),o={x:t.x,y:t.y,width:t.width/a.width*s.width,height:t.height/a.height*s.height}),function vft(t){return!t||!t.trim()}(n)&&(n=null),this._modeling.updateLabel(t,n,o)};var Nbe="djs-element-hidden",Lbe="djs-label-hidden";function Fbe(t,n,i){var a,l,c,s=this,o=n.getDefaultLayer();t.on("directEditing.activate",function(u){var d=u.active;if(D(a=d.element.label||d.element,"bpmn:TextAnnotation")){l=n.getAbsoluteBBox(a),c=an("g");var p=i.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:a.width,containerHeight:a.height,position:{mx:0,my:0}}),f=s.path=an("path");Wt(f,{d:p,strokeWidth:2,stroke:bft(a)}),On(c,f),On(o,c),tl(c,a.x,a.y)}D(a,"bpmn:TextAnnotation")||a.labelTarget?n.addMarker(a,Nbe):(D(a,"bpmn:Task")||D(a,"bpmn:CallActivity")||D(a,"bpmn:SubProcess")||D(a,"bpmn:Participant")||D(a,"bpmn:Lane"))&&n.addMarker(a,Lbe)}),t.on("directEditing.resize",function(u){if(D(a,"bpmn:TextAnnotation")){var f=Math.max(a.height/l.height*(u.height+u.dy),0),h=i.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:a.width,containerHeight:f,position:{mx:0,my:0}});Wt(s.path,{d:h})}}),t.on(["directEditing.complete","directEditing.cancel"],function(u){var d=u.active;d&&(n.removeMarker(d.element.label||d.element,Nbe),n.removeMarker(a,Lbe)),a=void 0,l=void 0,c&&(Ro(c),c=void 0)})}function bft(t,n){return pi(t).get("stroke")||n||"black"}Fbe.$inject=["eventBus","canvas","pathMap"];const _ft={__depends__:[XS,tG,JW],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",pO],labelEditingPreview:["type",Fbe]};var Eft=new Vx("tt");function rG(t,n){t.style.display=!1===n?"none":""}var Bbe="djs-tooltip",iG="."+Bbe;function qc(t,n){this._eventBus=t,this._canvas=n,this._ids=Eft,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=function xft(t){var n=Xr('<div class="djs-tooltip-container" />');return Dl(n,{position:"absolute",width:"0",height:"0"}),t.insertBefore(n,t.firstChild),n}(n.getContainer());var i=this;kl_bind(this._tooltipRoot,iG,"mousedown",function(s){s.stopPropagation()}),kl_bind(this._tooltipRoot,iG,"mouseover",function(s){i.trigger("mouseover",s)}),kl_bind(this._tooltipRoot,iG,"mouseout",function(s){i.trigger("mouseout",s)}),this._init()}qc.$inject=["eventBus","canvas"],qc.prototype.add=function(t){if(!t.position)throw new Error("must specifiy tooltip position");if(!t.html)throw new Error("must specifiy tooltip html");var n=this._ids.next();return t=Ce({},this._tooltipDefaults,t,{id:n}),this._addTooltip(t),t.timeout&&this.setTimeout(t),n},qc.prototype.trigger=function(t,n){var s=this.get(xa(n.delegateTarget||n.target,"data-tooltip-id"));s&&("mouseover"===t&&s.timeout&&this.clearTimeout(s),"mouseout"===t&&s.timeout&&(s.timeout=1e3,this.setTimeout(s)))},qc.prototype.get=function(t){return"string"!=typeof t&&(t=t.id),this._tooltips[t]},qc.prototype.clearTimeout=function(t){if(t=this.get(t)){var n=t.removeTimer;n&&(clearTimeout(n),t.removeTimer=null)}},qc.prototype.setTimeout=function(t){if(t=this.get(t)){this.clearTimeout(t);var n=this;t.removeTimer=setTimeout(function(){n.remove(t)},t.timeout)}},qc.prototype.remove=function(t){var n=this.get(t);n&&(el(n.html),el(n.htmlContainer),delete n.htmlContainer,delete this._tooltips[n.id])},qc.prototype.show=function(){rG(this._tooltipRoot)},qc.prototype.hide=function(){rG(this._tooltipRoot,!1)},qc.prototype._updateRoot=function(t){var n=t.scale||1,i=t.scale||1,s="matrix("+n+",0,0,"+i+","+-1*t.x*n+","+-1*t.y*i+")";this._tooltipRoot.style.transform=s,this._tooltipRoot.style["-ms-transform"]=s},qc.prototype._addTooltip=function(t){var s,n=t.id,i=t.html,o=this._tooltipRoot;i.get&&i.constructor.prototype.jquery&&(i=i.get(0)),Or(i)&&(i=Xr(i)),Dl(s=Xr('<div data-tooltip-id="'+n+'" class="'+Bbe+'">'),{position:"absolute"}),s.appendChild(i),t.type&&br(s).add("djs-tooltip-"+t.type),t.className&&br(s).add(t.className),t.htmlContainer=s,o.appendChild(s),this._tooltips[n]=t,this._updateTooltip(t)},qc.prototype._updateTooltip=function(t){var n=t.position;!function wft(t,n,i){Dl(t,{left:n+"px",top:i+"px"})}(t.htmlContainer,n.x,n.y)},qc.prototype._updateTooltipVisibilty=function(t){fe(this._tooltips,function(n){var i=n.show,o=!0;i&&((i.minZoom>t.scale||i.maxZoom<t.scale)&&(o=!1),rG(n.htmlContainer,o))})},qc.prototype._init=function(){var t=this;this._eventBus.on("canvas.viewbox.changing",function(i){t.hide()}),this._eventBus.on("canvas.viewbox.changed",function(i){!function n(i){t._updateRoot(i),t._updateTooltipVisibilty(i),t.show()}(i.viewbox)})};const Cft={__init__:["tooltips"],tooltips:["type",qc]};function $be(t,n,i){function s(o,a,l){n.add({position:{x:o.x+5,y:o.y+5},type:"error",timeout:l||2e3,html:"<div>"+a+"</div>"})}t.on(["shape.move.rejected","create.rejected"],function(o){var a=o.context,l=a.shape;D(a.target,"bpmn:Collaboration")&&(D(l,"bpmn:FlowNode")?s(o,i("flow elements must be children of pools/participants")):D(l,"bpmn:DataObjectReference")&&s(o,i("Data object must be placed within a pool/participant.")))})}$be.$inject=["eventBus","tooltips","translate"];const Tft={__depends__:[Cft],__init__:["modelingFeedback"],modelingFeedback:["type",$be]};function e_(t,n){this._eventBus=t,this.offset=5;var i=n.cls("djs-outline",["no-fill"]),s=this;function o(a){var l=an("rect");return Wt(l,Ce({x:0,y:0,rx:4,width:100,height:100},i)),l}t.on(["shape.added","shape.changed"],500,function(a){var l=a.element,c=a.gfx,u=$n(".djs-outline",c);u||On(c,u=s.getOutline(l)||o()),s.updateShapeOutline(u,l)}),t.on(["connection.added","connection.changed"],function(a){var l=a.element,c=a.gfx,u=$n(".djs-outline",c);u||On(c,u=o()),s.updateConnectionOutline(u,l)})}function sG(t,n,i){this._canvas=n;var s=this;t.on("element.changed",function(o){i.isSelected(o.element)&&s._updateMultiSelectionOutline(i.get())}),t.on("selection.changed",function(o){s._updateMultiSelectionOutline(o.newSelection)})}e_.prototype.updateShapeOutline=function(t,n){var i=!1,s=this._getProviders();s.length&&fe(s,function(o){i=i||o.updateOutline(n,t)}),i||Wt(t,{x:-this.offset,y:-this.offset,width:n.width+2*this.offset,height:n.height+2*this.offset})},e_.prototype.updateConnectionOutline=function(t,n){var i=ea(n);Wt(t,{x:i.x-this.offset,y:i.y-this.offset,width:i.width+2*this.offset,height:i.height+2*this.offset})},e_.prototype.registerProvider=function(t,n){n||(n=t,t=1e3),this._eventBus.on("outline.getProviders",t,function(i){i.providers.push(n)})},e_.prototype._getProviders=function(){var t=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(t),t.providers},e_.prototype.getOutline=function(t){var n;return fe(this._getProviders(),function(s){Ar(s.getOutline)&&(n=n||s.getOutline(t))}),n},e_.$inject=["eventBus","styles","elementRegistry"],sG.prototype._updateMultiSelectionOutline=function(t){var n=this._canvas.getLayer("selectionOutline");Eb(n);var i=t.length>1;if(di(this._canvas.getContainer())[i?"add":"remove"]("djs-multi-select"),i){var o=function kft(t){return{x:t.x-6,y:t.y-6,width:t.width+12,height:t.height+12}}(ea(t)),a=an("rect");Wt(a,Ce({rx:3},o)),di(a).add("djs-selection-outline"),On(n,a)}},sG.$inject=["eventBus","canvas","selection"];const oG={__depends__:[jc],__init__:["outline","multiSelectionOutline"],outline:["type",e_],multiSelectionOutline:["type",sG]};var ZI=Math.round;function Vbe(t,n,i,s,o){function a(c,u,d,p){return o.allowed("elements.move",{shapes:c,delta:u,position:d,target:p})}function l(c,u,d,p){if(si(d)&&(p=d,d=!1),!u.waypoints&&u.parent&&!di(c.target).has("djs-hit-no-move")){var f=function Rft(t){return{x:t.x+ZI(t.width/2),y:t.y+ZI(t.height/2)}}(u);return n.init(c,f,"shape.move",{cursor:"grabbing",autoActivate:d,data:{shape:u,context:p||{}}}),!0}}t.on("shape.move.start",1500,function(c){var u=c.context,d=c.shape,p=s.get().slice();-1===p.indexOf(d)&&(p=[d]),p=function Nft(t){var n=of(t,"id");return Bn(t,function(i){for(;i=i.parent;)if(n[i.id])return!1;return!0})}(p),Ce(u,{shapes:p,validatedShapes:p,shape:d})}),t.on("shape.move.start",1250,function(c){var u=c.context;if(!(u.canExecute=a(u.validatedShapes)))return!1}),t.on("shape.move.move",500,function(c){var m,u=c.context,p=c.hover,f={x:c.dx,y:c.dy};m=a(u.validatedShapes,f,{x:c.x,y:c.y},p),u.delta=f,u.canExecute=m,u.target=null!==m?p:null}),t.on("shape.move.end",function(c){var u=c.context,d=u.delta,p=u.canExecute,f="attach"===p,h=u.shapes;if(!1===p)return!1;d.x=ZI(d.x),d.y=ZI(d.y),(0!==d.x||0!==d.y)&&i.moveElements(h,d,u.target,{primaryShape:u.shape,attach:f})}),t.on("element.mousedown",function(c){if(C1(c)){var u=Hx(c);if(!u)throw new Error("must supply DOM mousedown event");return l(u,c.element)}}),this.start=l}Vbe.$inject=["eventBus","dragging","modeling","selection","rules"];var aG="djs-dragging",zbe="drop-ok",Hbe="drop-not-ok",Ube="new-parent",qbe="attach-ok";function Wbe(t,n,i,s){function a(u){var d=KS(u,!0),p=d.flatMap(m=>(m.incoming||[]).concat(m.outgoing||[])),f=d.concat(p);return[...new Set(f)]}function l(u,d){[qbe,zbe,Hbe,Ube].forEach(function(p){p===d?n.addMarker(u,p):n.removeMarker(u,p)})}t.on("shape.move.start",499,function(u){var d=u.context,p=d.shapes,f=d.allDraggedElements,h=function o(u){var p=function Lft(t){var n=Bn(t,function(i){return!Zi(i)||Gt(t,af({id:i.source.id}))&&Gt(t,af({id:i.target.id}))});return n}(a(u));return p}(p);if(!d.dragGroup){var m=an("g");Wt(m,i.cls("djs-drag-group",["no-events"])),On(n.getActiveLayer(),m),d.dragGroup=m}h.forEach(function(E){s.addDragger(E,d.dragGroup)}),fe(f=f?FS([f,a(p)]):a(p),function(E){n.addMarker(E,aG)}),d.allDraggedElements=f,d.differentParents=function Fft(t){return 1!==function SXe(t){return vu(t).length}(of(t,function(n){return n.parent&&n.parent.id}))}(p)}),t.on("shape.move.move",499,function(u){var d=u.context,p=d.dragGroup,f=d.target,h=d.shape.parent;f&&l(f,"attach"===d.canExecute?qbe:d.canExecute&&h&&f.id!==h.id?Ube:d.canExecute?zbe:Hbe),tl(p,u.dx,u.dy)}),t.on(["shape.move.out","shape.move.cleanup"],function(u){var p=u.context.target;p&&l(p,null)}),t.on("shape.move.cleanup",function(u){var d=u.context,f=d.dragGroup;fe(d.allDraggedElements,function(h){n.removeMarker(h,aG)}),f&&Ro(f)}),this.makeDraggable=function c(u,d,p){s.addDragger(d,u.dragGroup),p&&n.addMarker(d,aG),u.allDraggedElements?u.allDraggedElements.push(d):u.allDraggedElements=[d]}}Wbe.$inject=["eventBus","canvas","styles","previewSupport"];const Gbe={__depends__:[U7,jc,oG,ep,_m,g3],__init__:["move","movePreview"],move:["type",Vbe],movePreview:["type",Wbe]};var Kbe=".djs-palette-toggle",Bft=Kbe+", .entry",lG="djs-palette-",cG="open",Xbe="two-column";function $o(t,n){this._eventBus=t,this._canvas=n;var i=this;t.on("tool-manager.update",function(s){i.updateToolHighlight(s.tool)}),t.on("i18n.changed",function(){i._update()}),t.on("diagram.init",function(){i._diagramInitialized=!0,i._rebuild()})}function zft(t,n){var i=n.getPaletteEntries();return Ar(i)?i(t):(fe(i,function(s,o){t[o]=s}),t)}$o.$inject=["eventBus","canvas"],$o.prototype.registerProvider=function(t,n){n||(n=t,t=1e3),this._eventBus.on("palette.getProviders",t,function(i){i.providers.push(n)}),this._rebuild()},$o.prototype.getEntries=function(){return this._getProviders().reduce(zft,{})},$o.prototype._rebuild=function(){this._diagramInitialized&&this._getProviders().length&&(this._container||this._init(),this._update())},$o.prototype._init=function(){var t=this,n=this._eventBus,i=this._getParentContainer(),s=this._container=Xr($o.HTML_MARKUP);i.appendChild(s),br(i).add(lG+"shown"),kl_bind(s,Bft,"click",function(o){if(P7(o.delegateTarget,Kbe))return t.toggle();t.trigger("click",o)}),mn.bind(s,"mousedown",function(o){o.stopPropagation()}),kl_bind(s,".entry","dragstart",function(o){t.trigger("dragstart",o)}),n.on("canvas.resized",this._layoutChanged,this),n.fire("palette.create",{container:s})},$o.prototype._getProviders=function(t){var n=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(n),n.providers},$o.prototype._toggleState=function(t){t=t||{};var o,n=this._getParentContainer(),s=this._eventBus,a=br(this._container),l=br(n);o="twoColumn"in t?t.twoColumn:this._needsCollapse(n.clientHeight,this._entries||{}),a.toggle(Xbe,o),l.toggle(lG+Xbe,o),"open"in t&&(a.toggle(cG,t.open),l.toggle(lG+cG,t.open)),s.fire("palette.changed",{twoColumn:o,open:this.isOpen()})},$o.prototype._update=function(){var t=$n(".djs-palette-entries",this._container),n=this._entries=this.getEntries();C7(t),fe(n,function(i,s){var o=i.group||"default",a=$n("[data-group="+Sb(o)+"]",t);a||(xa(a=Xr('<div class="group"></div>'),"data-group",o),t.appendChild(a));var c=Xr(i.html||(i.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'));if(a.appendChild(c),!i.separator&&(xa(c,"data-action",s),i.title&&xa(c,"title",i.title),i.className&&function jft(t,n){var i=br(t);(Xt(n)?n:n.split(/\s+/g)).forEach(function(o){i.add(o)})}(c,i.className),i.imageUrl)){var u=Xr("<img>");xa(u,"src",i.imageUrl),c.appendChild(u)}}),this.open()},$o.prototype.trigger=function(t,n,i){var s,a=n.delegateTarget||n.target;return a?(s=xa(a,"data-action"),this.triggerEntry(s,t,n.originalEvent||n,i)):n.preventDefault()},$o.prototype.triggerEntry=function(t,n,i,s){var a,l;if((a=this._entries[t])&&(l=a.action,!1!==this._eventBus.fire("palette.trigger",{entry:a,event:i}))){if(Ar(l)){if("click"===n)return l(i,s)}else if(l[n])return l[n](i,s);i.preventDefault()}},$o.prototype._layoutChanged=function(){this._toggleState({})},$o.prototype._needsCollapse=function(t,n){return t<46*Object.keys(n).length+50},$o.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},$o.prototype.open=function(){this._toggleState({open:!0})},$o.prototype.toggle=function(){this.isOpen()?this.close():this.open()},$o.prototype.isActiveTool=function(t){return t&&this._activeTool===t},$o.prototype.updateToolHighlight=function(t){var n;this._toolsContainer||(n=$n(".djs-palette-entries",this._container),this._toolsContainer=$n("[data-group=tools]",n)),fe(this._toolsContainer.children,function(s){var o=s.getAttribute("data-action");if(o){var a=br(s);o=o.replace("-tool",""),a.contains("entry")&&o===t?a.add("highlighted-entry"):a.remove("highlighted-entry")}})},$o.prototype.isOpen=function(){return br(this._container).has(cG)},$o.prototype._getParentContainer=function(){return this._canvas.getContainer()},$o.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';const Qbe={__init__:["palette"],palette:["type",$o]};function t_(t,n,i,s,o,a,l){this._selection=o,this._dragging=i,this._mouse=l;var c=this;a.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),t.on("lasso.selection.end",function(d){!d.hover&&!(d.originalEvent.target instanceof SVGElement)||t.once("lasso.selection.ended",function(){c.activateLasso(d.originalEvent,!0)})}),t.on("lasso.end",0,function(d){var p=d.context,f=uG(d),h=s.filter(function(y){return y}),m=z7(d);c.select(h,f,m?p.selection:[])}),t.on("lasso.start",function(d){var p=d.context;p.bbox=uG(d),function(d){var f,p=n.getActiveLayer();Wt(f=d.frame=an("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),On(p,f)}(p),p.selection=o.get()}),t.on("lasso.move",function(d){var p=d.context;p.bbox=uG(d),function(d){var f=d.bbox;Wt(d.frame,{x:f.x,y:f.y,width:f.width,height:f.height})}(p)}),t.on("lasso.cleanup",function(d){!function(d){d.frame&&Ro(d.frame)}(d.context)}),t.on("element.mousedown",1500,function(d){if(z7(d))return c.activateLasso(d.originalEvent),!0})}function uG(t){var n={x:t.x-t.dx,y:t.y-t.dy},i={x:t.x,y:t.y};return n.x<=i.x&&n.y<i.y||n.x<i.x&&n.y<=i.y?{x:n.x,y:n.y,width:i.x-n.x,height:i.y-n.y}:n.x>=i.x&&n.y<i.y||n.x>i.x&&n.y<=i.y?{x:i.x,y:n.y,width:n.x-i.x,height:i.y-n.y}:n.x<=i.x&&n.y>i.y||n.x<i.x&&n.y>=i.y?{x:n.x,y:i.y,width:i.x-n.x,height:n.y-i.y}:n.x>=i.x&&n.y>i.y||n.x>i.x&&n.y>=i.y?{x:i.x,y:i.y,width:n.x-i.x,height:n.y-i.y}:{x:i.x,y:i.y,width:0,height:0}}t_.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],t_.prototype.activateLasso=function(t,n){this._dragging.init(t,"lasso",{autoActivate:n,cursor:"crosshair",data:{context:{}}})},t_.prototype.activateSelection=function(t,n){this._dragging.init(t,"lasso.selection",{trapClick:!1,autoActivate:n,cursor:"crosshair",data:{context:{}},keepSelection:!0})},t_.prototype.select=function(t,n,i=[]){var s=Ofe(t,n);this._selection.select([...i,...bb(s)])},t_.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateSelection(t,!!t)},t_.prototype.isActive=function(){var t=this._dragging.context();return t&&/^lasso/.test(t.prefix)};const Jbe={__depends__:[xI,z6],__init__:["lassoTool"],lassoTool:["type",t_]};function O3(t,n,i,s,o,a){this._dragging=i,this._mouse=a;var l=this,c=s.get("keyboard",!1);o.registerTool("hand",{tool:"hand",dragging:"hand.move"}),t.on("element.mousedown",1500,function(u){if(Ux(u))return l.activateMove(u.originalEvent,!0),!1}),c&&c.addListener(1500,function(u){if(t_e(u.keyEvent)&&!l.isActive()){var d=l._mouse.getLastMoveEvent();l.activateMove(d,!!d)}},"keyboard.keydown"),c&&c.addListener(1500,function(u){!t_e(u.keyEvent)||!l.isActive()||l.toggle()},"keyboard.keyup"),t.on("hand.end",function(u){if(!(u.hover||u.originalEvent.target instanceof SVGElement))return!1;t.once("hand.ended",function(){l.activateMove(u.originalEvent,{reactivate:!0})})}),t.on("hand.move.move",function(u){var d=n.viewbox().scale;n.scroll({dx:u.dx*d,dy:u.dy*d})}),t.on("hand.move.end",function(u){var p=u.context.reactivate;return!Ux(u)&&p&&t.once("hand.move.ended",function(f){l.activateHand(f.originalEvent,!0,!0)}),!1})}function t_e(t){return Ba("Space",t)}O3.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],O3.prototype.activateMove=function(t,n,i){"object"==typeof n&&(i=n,n=!1),this._dragging.init(t,"hand.move",{autoActivate:n,cursor:"grab",data:{context:i||{}}})},O3.prototype.activateHand=function(t,n,i){this._dragging.init(t,"hand",{trapClick:!1,autoActivate:n,cursor:"grab",data:{context:{reactivate:i}}})},O3.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateHand(t,!!t)},O3.prototype.isActive=function(){var t=this._dragging.context();return!!t&&/^(hand|hand\.move)$/.test(t.prefix)};const n_e={__depends__:[xI,z6],__init__:["handTool"],handTool:["type",O3]};var r_e="connect-ok",i_e="connect-not-ok";function T3(t,n,i,s,o,a,l){var c=this;this._dragging=n,this._rules=a,this._mouse=l,o.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),t.on("global-connect.hover",function(u){var d=u.context,p=u.hover,f=d.canStartConnect=c.canStartConnect(p);null!==f&&(d.startTarget=p,s.addMarker(p,f?r_e:i_e))}),t.on(["global-connect.out","global-connect.cleanup"],function(u){var d=u.context.startTarget;d&&s.removeMarker(d,u.context.canStartConnect?r_e:i_e)}),t.on(["global-connect.ended"],function(u){var p=u.context.startTarget,f={x:u.x,y:u.y};if(c.canStartConnect(p))return t.once("element.out",function(){t.once(["connect.ended","connect.canceled"],function(){t.fire("global-connect.drag.ended")}),i.start(null,p,f)}),!1})}T3.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"],T3.prototype.start=function(t,n){this._dragging.init(t,"global-connect",{autoActivate:n,trapClick:!1,data:{context:{}}})},T3.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();return this.start(t,!!t)},T3.prototype.isActive=function(){var t=this._dragging.context();return t&&/^global-connect/.test(t.prefix)},T3.prototype.canStartConnect=function(t){return this._rules.allowed("connection.start",{source:t})};const Hft={__depends__:[QA,ep,_m,xI,z6],globalConnect:["type",T3]};function pG(t,n,i,s,o,a,l,c){this._palette=t,this._create=n,this._elementFactory=i,this._spaceTool=s,this._lassoTool=o,this._handTool=a,this._globalConnect=l,this._translate=c,t.registerProvider(this)}pG.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],pG.prototype.getPaletteEntries=function(){var t={},n=this._create,i=this._elementFactory,s=this._spaceTool,o=this._lassoTool,a=this._handTool,l=this._globalConnect,c=this._translate;function u(f,h,m,y,E){function _(S){var v=i.createShape(Ce({type:f},E));n.start(S,v)}return{group:h,className:m,title:y,action:{dragstart:_,click:_}}}function d(f){var h=i.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),m=i.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:h});n.start(f,[h,m],{hints:{autoSelect:[h]}})}function p(f){n.start(f,i.createParticipantShape())}return Ce(t,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:c("Activate hand tool"),action:{click:function(f){a.activateHand(f)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:c("Activate lasso tool"),action:{click:function(f){o.activateSelection(f)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:c("Activate create/remove space tool"),action:{click:function(f){s.activateSelection(f)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:c("Activate global connect tool"),action:{click:function(f){l.start(f)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":u("bpmn:StartEvent","event","bpmn-icon-start-event-none",c("Create start event")),"create.intermediate-event":u("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",c("Create intermediate/boundary event")),"create.end-event":u("bpmn:EndEvent","event","bpmn-icon-end-event-none",c("Create end event")),"create.exclusive-gateway":u("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",c("Create gateway")),"create.task":u("bpmn:Task","activity","bpmn-icon-task",c("Create task")),"create.data-object":u("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",c("Create data object reference")),"create.data-store":u("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",c("Create data store reference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:c("Create expanded sub-process"),action:{dragstart:d,click:d}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:c("Create pool/participant"),action:{dragstart:p,click:p}},"create.group":u("bpmn:Group","artifact","bpmn-icon-group",c("Create group"))}),t};const Uft={__depends__:[Qbe,w3,xve,Jbe,n_e,Hft,nl],__init__:["paletteProvider"],paletteProvider:["type",pG]};function fG(t,n,i,s,o){pt.call(this,t),t.on("shape.move.move",250,function(c){var u=c.context,d=u.canExecute;u.visualReplacements||(u.visualReplacements={}),d&&d.replacements?function a(c){fe(c.canExecute.replacements,function(d){var p=d.oldElementId,f={type:d.newElementType};if(!c.visualReplacements[p]){var h=n.get(p);Ce(f,{x:h.x,y:h.y});var m=i.createShape(f);s.addShape(m,h.parent);var y=$n('[data-element-id="'+Sb(h.id)+'"]',c.dragGroup);y&&Wt(y,{display:"none"});var E=o.addDragger(m,c.dragGroup);c.visualReplacements[p]=E,s.removeShape(m)}})}(u):function l(c){var u=c.visualReplacements;fe(u,function(d,p){var f=$n('[data-element-id="'+Sb(p)+'"]',c.dragGroup);f&&Wt(f,{display:"inline"}),d.remove(),u[p]&&delete u[p]})}(u)})}fG.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],Jt(fG,pt);const Wft={__depends__:[g3],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",fG]};var o_e=["x","y"],Xft=Math.abs;function a_e(t){t.on(["connect.hover","connect.move","connect.end"],1250,function(n){var i=n.context,s=i.canExecute,o=i.start,a=i.hover,l=i.source,c=i.target;n.originalEvent&&Zd(n.originalEvent)||(i.initialConnectionStart||(i.initialConnectionStart=i.connectionStart),s&&a&&function Qft(t,n,i){o_e.forEach(function(s){var o=u_e(s,n);t[s]<n[s]+i?Bo(t,s,n[s]+i):t[s]>n[s]+o-i&&Bo(t,s,n[s]+o-i)})}(n,a,function tht(t){return D(t,"bpmn:Task")?10:20}(a)),a&&function eht(t,n){return Gd(n,function(i){return c_e(t,i)})}(s,["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"])?(i.connectionStart=tp(o),un(a,["bpmn:Event","bpmn:Gateway"])&&l_e(n,tp(a)),un(a,["bpmn:Task","bpmn:SubProcess"])&&function Zft(t,n){var i=tp(n);o_e.forEach(function(s){(function nht(t,n,i){return t[i]>n[i]+20&&t[i]<n[i]+u_e(i,n)-20})(t,n,s)&&Bo(t,s,i[s])})}(n,a),D(l,"bpmn:BoundaryEvent")&&c===l.host&&function Jft(t){var n=t.context,i=n.source,s=n.target;if(!function rht(t){var n=t.hover,i=t.source;return n&&i&&n===i}(n)){var o=tp(i),a=Ws(o,s,-10),l=[];/top|bottom/.test(a)&&l.push("x"),/left|right/.test(a)&&l.push("y"),l.forEach(function(c){var u=t[c];Xft(u-o[c])<40&&Bo(t,c,u>o[c]?o[c]+40:o[c]-40)})}}(n)):c_e(s,"bpmn:MessageFlow")?(D(o,"bpmn:Event")&&(i.connectionStart=tp(o)),D(a,"bpmn:Event")&&l_e(n,tp(a))):i.connectionStart=i.initialConnectionStart)})}function l_e(t,n){Bo(t,"x",n.x),Bo(t,"y",n.y)}function c_e(t,n){return t&&t.type===n}function u_e(t,n){return"x"===t?n.width:n.height}function Z1(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function JI(){this._snapValues={}}function Mh(t,n,i){var s=this;this._elementRegistry=t,n.on(["create.start","shape.move.start"],function(o){s.initSnap(o)}),n.on(["create.move","create.end","shape.move.move","shape.move.end"],1250,function(o){var a=o.context,l=a.shape,c=a.snapContext,u=a.target;if((!o.originalEvent||!Zd(o.originalEvent))&&!m3(o)&&u){var d=c.pointsForTarget(u);d.initialized||((d=s.addSnapTargetPoints(d,l,u)).initialized=!0),i.snap(o,d)}}),n.on(["create.cleanup","shape.move.cleanup"],function(){i.hide()})}function P3(t,n){n.invoke(Mh,this),t.on(["create.move","create.end"],1500,cht),t.on(["create.move","create.end","shape.move.move","shape.move.end"],1500,function(i){var s=i.context,o=s.canExecute,a=s.target;o&&("attach"===o||o.attach)&&!m3(i)&&function oht(t,n){var l,i=En(n),s=Rye(t,n),a=t.context.shape;l=a.parent?{x:0,y:0}:An(a),/top/.test(s)?Bo(t,"y",i.top-l.y):/bottom/.test(s)&&Bo(t,"y",i.bottom-l.y),/left/.test(s)?Bo(t,"x",i.left-l.x):/right/.test(s)&&Bo(t,"x",i.right-l.x)}(i,a)})}function cht(t){var i=t.context.createConstraints;if(i){var s=i.top,o=i.right,a=i.bottom,l=i.left;(l&&l>=t.x||o&&o<=t.x)&&Bo(t,"x",t.x),(s&&s>=t.y||a&&a<=t.y)&&Bo(t,"y",t.y)}}function p_e(t,n){return-1!==t.indexOf(n)}function f_e(t,n,i){return n?{x:t.x-i.x,y:t.y-i.y}:{x:t.x,y:t.y}}function fO(t,n){var i=this;t.on(["resize.start"],function(s){i.initSnap(s)}),t.on(["resize.move","resize.end"],1250,function(s){var o=s.context,a=o.shape,l=a.parent,c=o.direction,u=o.snapContext;if(!(s.originalEvent&&Zd(s.originalEvent)||m3(s))){var d=u.pointsForTarget(l);d.initialized||((d=i.addSnapTargetPoints(d,a,l,c)).initialized=!0),function fht(t){return"n"===t||"s"===t}(c)&&Bo(s,"x",s.x),function hht(t){return"e"===t||"w"===t}(c)&&Bo(s,"y",s.y),n.snap(s,d)}}),t.on(["resize.cleanup"],function(){n.hide()})}function h_e(t,n){var i=An(t),s=En(t),o={x:i.x,y:i.y};return-1!==n.indexOf("n")?o.y=s.top:-1!==n.indexOf("s")&&(o.y=s.bottom),-1!==n.indexOf("e")?o.x=s.right:-1!==n.indexOf("w")&&(o.x=s.left),o}function J1(t){this._canvas=t,this._asyncHide=Lx(Io(this.hide,this),1e3)}a_e.$inject=["eventBus"],Z1.prototype.getSnapOrigin=function(t){return this._snapOrigins[t]},Z1.prototype.setSnapOrigin=function(t,n){this._snapOrigins[t]=n,-1===this._snapLocations.indexOf(t)&&this._snapLocations.push(t)},Z1.prototype.addDefaultSnap=function(t,n){var i=this._defaultSnaps[t];i||(i=this._defaultSnaps[t]=[]),i.push(n)},Z1.prototype.getSnapLocations=function(){return this._snapLocations},Z1.prototype.setSnapLocations=function(t){this._snapLocations=t},Z1.prototype.pointsForTarget=function(t){var n=t.id||t,i=this._targets[n];return i||(i=this._targets[n]=new JI).initDefaults(this._defaultSnaps),i},JI.prototype.add=function(t,n){var i=this._snapValues[t];i||(i=this._snapValues[t]={x:[],y:[]}),-1===i.x.indexOf(n.x)&&i.x.push(n.x),-1===i.y.indexOf(n.y)&&i.y.push(n.y)},JI.prototype.snap=function(t,n,i,s){var o=this._snapValues[n];return o&&function Clt(t,n,i){var s,o;for(i=void 0===i?10:i,s=0;s<n.length;s++)if(wlt((o=n[s])-t)<=i)return o}(t[i],o[i],s)},JI.prototype.initDefaults=function(t){var n=this;fe(t||{},function(i,s){fe(i,function(o){n.add(s,o)})})},Mh.$inject=["elementRegistry","eventBus","snapping"],Mh.prototype.initSnap=function(t){var a,n=this._elementRegistry,i=t.context,s=i.shape,o=i.snapContext;o||(o=i.snapContext=new Z1);var l_x=(a=n.get(s.id)?tp(s,t):{x:t.x+tp(s).x,y:t.y+tp(s).y}).x-s.width/2,l_y=a.y-s.height/2,c_x=a.x+s.width/2,c_y=a.y+s.height/2;return o.setSnapOrigin("mid",{x:a.x-t.x,y:a.y-t.y}),ui(s)||(o.setSnapOrigin("top-left",{x:l_x-t.x,y:l_y-t.y}),o.setSnapOrigin("bottom-right",{x:c_x-t.x,y:c_y-t.y})),o},Mh.prototype.addSnapTargetPoints=function(t,n,i){return fe(this.getSnapTargets(n,i),function(o){if(ui(o))ui(n)&&t.add("mid",tp(o));else if(Zi(o)){if(o.waypoints.length<3)return;fe(o.waypoints.slice(1,-1),function(l){t.add("mid",l)})}else t.add("mid",tp(o))}),!Ln(n.x)||!Ln(n.y)||this._elementRegistry.get(n.id)&&t.add("mid",tp(n)),t},Mh.prototype.getSnapTargets=function(t,n){return L1e(n).filter(function(i){return!function sht(t){return!!t.hidden}(i)})},Jt(P3,Mh),P3.$inject=["eventBus","injector"],P3.prototype.initSnap=function(t){var n=Mh.prototype.initSnap.call(this,t),i=t.shape,s=!!this._elementRegistry.get(i.id);return fe(i.outgoing,function(o){var a=o.waypoints[0];n.setSnapOrigin(o.id+"-docking",f_e(a=a.original||a,s,t))}),fe(i.incoming,function(o){var a=o.waypoints[o.waypoints.length-1];n.setSnapOrigin(o.id+"-docking",f_e(a=a.original||a,s,t))}),D(i,"bpmn:Participant")&&n.setSnapLocations(["top-left","bottom-right","mid"]),n},P3.prototype.addSnapTargetPoints=function(t,n,i){Mh.prototype.addSnapTargetPoints.call(this,t,n,i);var s=this.getSnapTargets(n,i);fe(s,function(a){(function lht(t){return!(!D(t,"bpmn:SubProcess")||!Yr(t))||D(t,"bpmn:Participant")}(a)||function aht(t,n){return t.every(function(i){return D(i,n)})}([n,a],"bpmn:TextAnnotation"))&&(t.add("top-left",R1e(a)),t.add("bottom-right",N1e(a)))});var o=this._elementRegistry;return fe(n.incoming,function(a){if(o.get(n.id)){p_e(s,a.source)||t.add("mid",An(a.source));var l=a.waypoints[0];t.add(a.id+"-docking",l.original||l)}}),fe(n.outgoing,function(a){if(o.get(n.id)){p_e(s,a.target)||t.add("mid",An(a.target));var l=a.waypoints[a.waypoints.length-1];t.add(a.id+"-docking",l.original||l)}}),D(i,"bpmn:SequenceFlow")&&(t=this.addSnapTargetPoints(t,n,i.parent)),t},P3.prototype.getSnapTargets=function(t,n){return Mh.prototype.getSnapTargets.call(this,t,n).filter(function(i){return!D(i,"bpmn:Lane")})},fO.prototype.initSnap=function(t){var n=t.context,i=n.shape,s=n.direction,o=n.snapContext;o||(o=n.snapContext=new Z1);var a=h_e(i,s);return o.setSnapOrigin("corner",{x:a.x-t.x,y:a.y-t.y}),o},fO.prototype.addSnapTargetPoints=function(t,n,i,s){return fe(this.getSnapTargets(n,i),function(a){t.add("corner",N1e(a)),t.add("corner",R1e(a))}),t.add("corner",h_e(n,s)),t},fO.$inject=["eventBus","snapping"],fO.prototype.getSnapTargets=function(t,n){return L1e(n).filter(function(i){return!(function dht(t,n){return t.host===n}(i,t)||Zi(i)||function pht(t){return!!t.hidden}(i)||ui(i))})},J1.$inject=["canvas"],J1.prototype.snap=function(t,n){var s=t.context.snapContext,o=s.getSnapLocations(),a={x:m3(t,"x"),y:m3(t,"y")};fe(o,function(l){var c=s.getSnapOrigin(l),u={x:t.x+c.x,y:t.y+c.y};if(fe(["x","y"],function(d){var p;a[d]||void 0!==(p=n.snap(u,l,d,7))&&(a[d]={value:p,originValue:p-c[d]})}),a.x&&a.y)return!1}),this.showSnapLine("vertical",a.x&&a.x.value),this.showSnapLine("horizontal",a.y&&a.y.value),fe(["x","y"],function(l){var c=a[l];si(c)&&Bo(t,l,c.originValue)})},J1.prototype._createLine=function(t){var n=this._canvas.getLayer("snap"),i=an("path");return Wt(i,{d:"M0,0 L0,0"}),di(i).add("djs-snap-line"),On(n,i),{update:function(s){Ln(s)?Wt(i,"horizontal"===t?{d:"M-100000,"+s+" L+100000,"+s,display:""}:{d:"M "+s+",-100000 L "+s+", +100000",display:""}):Wt(i,{display:"none"})}}},J1.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},J1.prototype.showSnapLine=function(t,n){var i=this.getSnapLine(t);i&&i.update(n),this._asyncHide()},J1.prototype.getSnapLine=function(t){return this._snapLines||this._createSnapLines(),this._snapLines[t]},J1.prototype.hide=function(){fe(this._snapLines,function(t){t.update()})};const m_e={__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",Mh],resizeSnapping:["type",fO],snapping:["type",J1]},yht={__depends__:[m_e],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",a_e],createMoveSnapping:["type",P3]};function Tr(t,n,i,s){this._open=!1,this._results={},this._eventMaps=[],this._cachedRootElement=null,this._cachedSelection=null,this._cachedViewbox=null,this._canvas=t,this._eventBus=n,this._selection=i,this._translate=s,this._container=this._getBoxHtml(),this._searchInput=$n(Tr.INPUT_SELECTOR,this._container),this._resultsContainer=$n(Tr.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),n.on(["canvas.destroy","diagram.destroy","drag.init","elements.changed"],this.close,this)}function y_e(t,n,i){var s=function vht(t){var n="";return t.forEach(function(i){var s=Afe(i.value||i.matched||i.normal);n+=i.match||i.matched?'<b class="'+Tr.RESULT_HIGHLIGHT_CLASS+'">'+s+"</b>":s}),""!==n?n:null}(n),o=Xr(i);o.innerHTML=s,t.appendChild(o)}Tr.$inject=["canvas","eventBus","selection","translate"],Tr.prototype._bindEvents=function(){var t=this;function n(i,s,o,a){t._eventMaps.push({el:i,type:o,listener:kl_bind(i,s,o,a)})}n(document,"html","click",function(i){t.close(!1)}),n(this._container,Tr.INPUT_SELECTOR,"click",function(i){i.stopPropagation(),i.delegateTarget.focus()}),n(this._container,Tr.RESULT_SELECTOR,"mouseover",function(i){i.stopPropagation(),t._scrollToNode(i.delegateTarget),t._preselect(i.delegateTarget)}),n(this._container,Tr.RESULT_SELECTOR,"click",function(i){i.stopPropagation(),t._select(i.delegateTarget)}),n(this._container,Tr.INPUT_SELECTOR,"keydown",function(i){Ba("ArrowUp",i)&&i.preventDefault(),Ba("ArrowDown",i)&&i.preventDefault()}),n(this._container,Tr.INPUT_SELECTOR,"keyup",function(i){if(Ba("Escape",i))return t.close();if(Ba("Enter",i)){var s=t._getCurrentResult();return s?t._select(s):t.close(!1)}return Ba("ArrowUp",i)?t._scrollToDirection(!0):Ba("ArrowDown",i)?t._scrollToDirection():void(Ba(["ArrowLeft","ArrowRight"],i)||t._search(i.delegateTarget.value))})},Tr.prototype._unbindEvents=function(){this._eventMaps.forEach(function(t){kl_unbind(t.el,t.type,t.listener)})},Tr.prototype._search=function(t){var n=this;if(this._clearResults(),t.trim()){var i=this._searchProvider.find(t);if(!(i=i.filter(function(o){return!n._canvas.getRootElements().includes(o.element)})).length)return void this._selection.select(null);i.forEach(function(o){var a=o.element.id,l=n._createResultNode(o,a);n._results[a]={element:o.element,node:l}});var s=$n(Tr.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(s),this._preselect(s)}},Tr.prototype._scrollToDirection=function(t){var n=this._getCurrentResult();if(n){var i=t?n.previousElementSibling:n.nextElementSibling;i&&(this._scrollToNode(i),this._preselect(i))}},Tr.prototype._scrollToNode=function(t){if(t&&t!==this._getCurrentResult()){var n=t.offsetTop,i=this._resultsContainer.scrollTop,s=n-this._resultsContainer.clientHeight+t.clientHeight;n<i?this._resultsContainer.scrollTop=n:i<s&&(this._resultsContainer.scrollTop=s)}},Tr.prototype._clearResults=function(){C7(this._resultsContainer),this._results={},this._eventBus.fire("searchPad.cleared")},Tr.prototype._getCurrentResult=function(){return $n(Tr.RESULT_SELECTED_SELECTOR,this._resultsContainer)},Tr.prototype._createResultNode=function(t,n){var i=Xr(Tr.RESULT_HTML);return t.primaryTokens.length>0&&y_e(i,t.primaryTokens,Tr.RESULT_PRIMARY_HTML),y_e(i,t.secondaryTokens,Tr.RESULT_SECONDARY_HTML),xa(i,Tr.RESULT_ID_ATTRIBUTE,n),this._resultsContainer.appendChild(i),i},Tr.prototype.registerProvider=function(t){this._searchProvider=t},Tr.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._cachedRootElement=this._canvas.getRootElement(),this._cachedSelection=this._selection.get(),this._cachedViewbox=this._canvas.viewbox(),this._selection.select(null),this._bindEvents(),this._open=!0,br(this._canvas.getContainer()).add("djs-search-open"),br(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},Tr.prototype.close=function(t=!0){this.isOpen()&&(t&&(this._cachedRootElement&&this._canvas.setRootElement(this._cachedRootElement),this._cachedSelection&&this._selection.select(this._cachedSelection),this._cachedViewbox&&this._canvas.viewbox(this._cachedViewbox),this._eventBus.fire("searchPad.restored")),this._cachedRootElement=null,this._cachedSelection=null,this._cachedViewbox=null,this._unbindEvents(),this._open=!1,br(this._canvas.getContainer()).remove("djs-search-open"),br(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._eventBus.fire("searchPad.closed"),this._canvas.restoreFocus())},Tr.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Tr.prototype.isOpen=function(){return this._open},Tr.prototype._preselect=function(t){var n=this._getCurrentResult();if(t!==n){n&&br(n).remove(Tr.RESULT_SELECTED_CLASS);var i=xa(t,Tr.RESULT_ID_ATTRIBUTE),s=this._results[i].element;br(t).add(Tr.RESULT_SELECTED_CLASS),this._canvas.scrollToElement(s,{top:300}),this._selection.select(s),this._eventBus.fire("searchPad.preselected",s)}},Tr.prototype._select=function(t){var n=xa(t,Tr.RESULT_ID_ATTRIBUTE),i=this._results[n].element;this._cachedSelection=null,this._cachedViewbox=null,this.close(!1),this._canvas.scrollToElement(i,{top:300}),this._selection.select(i),this._eventBus.fire("searchPad.selected",i)},Tr.prototype._getBoxHtml=function(){const t=Xr(Tr.BOX_HTML),n=$n(Tr.INPUT_SELECTOR,t);return n&&n.setAttribute("aria-label",this._translate("Search in diagram")),t},Tr.CONTAINER_SELECTOR=".djs-search-container",Tr.INPUT_SELECTOR=".djs-search-input input",Tr.RESULTS_CONTAINER_SELECTOR=".djs-search-results",Tr.RESULT_SELECTOR=".djs-search-result",Tr.RESULT_SELECTED_SELECTOR="."+(Tr.RESULT_SELECTED_CLASS="djs-search-result-selected"),Tr.RESULT_ID_ATTRIBUTE="data-result-id",Tr.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",Tr.BOX_HTML='<div class="djs-search-container djs-scrollable">\n  <div class="djs-search-input">\n    <svg class="djs-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>\n    </svg>\n    <input type="text" spellcheck="false" />\n  </div>\n  <div class="djs-search-results" />\n</div>',Tr.RESULT_HTML='<div class="djs-search-result"></div>',Tr.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',Tr.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';const v_e={__depends__:[nl,jx,jc],searchPad:["type",Tr]};function mG(t,n,i,s){this._elementRegistry=t,this._canvas=i,this._search=s,n.registerProvider(this)}function bht(t){const{item:{element:n},tokens:i}=t;return{element:n,primaryTokens:i.label,secondaryTokens:i.id}}mG.$inject=["elementRegistry","searchPad","canvas","search"],mG.prototype.find=function(t){var n=this._canvas.getRootElements(),i=this._elementRegistry.filter(function(s){return!ui(s)&&!n.includes(s)});return this._search(i.map(s=>({element:s,label:bu(s),id:s.id})),t,{keys:["label","id"]}).map(bht)};const _ht={__depends__:[v_e,Xge],__init__:["bpmnSearch"],bpmnSearch:["type",mG]},wht={width:36,height:50},Cht={width:50,height:50};function b_e(t,n,i){return an("path",{d:t,strokeWidth:2,transform:`translate(${n.x}, ${n.y})`,...i})}function eR(t,n){this._styles=n,t.registerProvider(this)}function __e(t,n){var i;return"bpmn:DataObjectReference"===n?i=wht:"bpmn:DataStoreReference"===n&&(i=Cht),t.width===i.width&&t.height===i.height}eR.$inject=["outline","styles"],eR.prototype.getOutline=function(t){const n=this._styles.cls("djs-outline",["no-fill"]);var i;if(!ui(t))return D(t,"bpmn:Gateway")?(Ce((i=an("rect")).style,{"transform-box":"fill-box",transform:"rotate(45deg)","transform-origin":"center"}),Wt(i,Ce({x:2,y:2,rx:4,width:t.width-4,height:t.height-4},n))):un(t,["bpmn:Task","bpmn:SubProcess","bpmn:Group","bpmn:CallActivity"])?Wt(i=an("rect"),Ce({x:-5,y:-5,rx:14,width:t.width+10,height:t.height+10},n)):D(t,"bpmn:EndEvent")?Wt(i=an("circle"),Ce({cx:t.width/2,cy:t.height/2,r:t.width/2+5+1},n)):D(t,"bpmn:Event")?Wt(i=an("circle"),Ce({cx:t.width/2,cy:t.height/2,r:t.width/2+5},n)):D(t,"bpmn:DataObjectReference")&&__e(t,"bpmn:DataObjectReference")?i=b_e("M44.7648 11.3263L36.9892 2.64074C36.0451 1.58628 34.5651 0.988708 33.1904 0.988708H5.98667C3.22688 0.988708 0.989624 3.34892 0.989624 6.26039V55.0235C0.989624 57.9349 3.22688 60.2952 5.98667 60.2952H40.966C43.7257 60.2952 45.963 57.9349 45.963 55.0235V14.9459C45.963 13.5998 45.6407 12.3048 44.7648 11.3263Z",{x:-6,y:-6},n):D(t,"bpmn:DataStoreReference")&&__e(t,"bpmn:DataStoreReference")&&(i=b_e("M1.03845 48.1347C1.03845 49.3511 1.07295 50.758 1.38342 52.064C1.69949 53.3938 2.32428 54.7154 3.56383 55.6428C6.02533 57.4841 10.1161 58.7685 14.8212 59.6067C19.5772 60.4538 25.1388 60.8738 30.6831 60.8738C36.2276 60.8738 41.7891 60.4538 46.545 59.6067C51.2504 58.7687 55.3412 57.4842 57.8028 55.6429C59.0424 54.7156 59.6673 53.3938 59.9834 52.064C60.2938 50.7579 60.3285 49.351 60.3285 48.1344V13.8415C60.3285 12.6249 60.2938 11.218 59.9834 9.91171C59.6673 8.58194 59.0423 7.2602 57.8027 6.33294C55.341 4.49168 51.2503 3.20723 46.545 2.36914C41.7891 1.522 36.2276 1.10204 30.6831 1.10205C25.1388 1.10206 19.5772 1.52206 14.8213 2.36923C10.1162 3.20734 6.02543 4.49183 3.5639 6.33314C2.32433 7.26038 1.69951 8.58206 1.38343 9.91181C1.07295 11.2179 1.03845 12.6247 1.03845 13.8411V48.1347Z",{x:-6,y:-6},n)),i},eR.prototype.updateOutline=function(t,n){if(!ui(t))return un(t,["bpmn:SubProcess","bpmn:Group"])?(Wt(n,{width:t.width+10,height:t.height+10}),!0):!!un(t,["bpmn:Event","bpmn:Gateway","bpmn:DataStoreReference","bpmn:DataObjectReference"])};const Sht={__depends__:[oG],__init__:["outlineProvider"],outlineProvider:["type",eR]};function ld(t){O6.call(this,t)}Jt(ld,O6),ld.Viewer=D1,ld.NavigatedViewer=Qx,ld.prototype.createDiagram=function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>')},ld.prototype._modules=[].concat(D1.prototype._modules,ld.prototype._interactionModules=[dU,pU,mU],ld.prototype._modelingModules=[Vat,_q,d1e,tlt,$1e,QA,U1e,Npt,uve,w3,$pt,jpt,tft,rft,ift,Dbe,_ft,rbe,Tft,Gbe,Uft,Wft,tG,yht,_ht,Sht]);var Tht=new Vx,E_e={min:.2,max:4};function ac(t,n,i,s,o){var a=this;function l(p){(!a._state._svgClientRect||rR(a._state._svgClientRect))&&(a._state._svgClientRect=a._svg.getBoundingClientRect()),gG(nR({x:p.x-a._state._svgClientRect.left,y:p.y-a._state._svgClientRect.top},a._svg,a._lastViewbox),a._canvas),a._update()}function c(p){return function(h){var m=yG(h);(!a._state._svgClientRect||rR(a._state._svgClientRect))&&(a._state._svgClientRect=a._svg.getBoundingClientRect()),p&&l(m);var y=nR({x:m.x-a._state._svgClientRect.left,y:m.y-a._state._svgClientRect.top},a._svg,a._lastViewbox),E=s.viewbox(),_=function Aht(t,n){return{x:t.x-(n.x+n.width/2),y:t.y-(n.y+n.height/2)}}(y,E),S=a._viewportDom.getBoundingClientRect();Ce(a._state,{cachedViewbox:E,initialDragPosition:{x:m.x,y:m.y},isDragging:!0,offsetViewport:_,offsetViewportDom:{x:m.x-S.left+1,y:m.y-S.top+1},viewportClientRect:a._viewport.getBoundingClientRect(),parentClientRect:a._parent.getBoundingClientRect()}),mn.bind(document,"mousemove",u),mn.bind(document,"mouseup",d)}}function u(p){var f=yG(p);if(a._state.isDragging){(!a._state._svgClientRect||rR(a._state._svgClientRect))&&(a._state._svgClientRect=a._svg.getBoundingClientRect());var h=a._state.offsetViewportDom,m=a._state.viewportClientRect,y=a._state.parentClientRect;Ce(a._viewportDom.style,{top:f.y-h.y-y.top+"px",left:f.x-h.x-y.left+"px"});var E=C_e(y,{top:f.y-h.y-y.top,left:f.x-h.x-y.left,width:m.width,height:m.height});Ce(a._overlay.style,{clipPath:E});var _=nR({x:f.x-a._state._svgClientRect.left,y:f.y-a._state._svgClientRect.top},a._svg,a._lastViewbox);gG({x:_.x-a._state.offsetViewport.x,y:_.y-a._state.offsetViewport.y},a._canvas)}}function d(p){var f=yG(p);a._state.isDragging&&(a._state.initialDragPosition.x===f.x&&a._state.initialDragPosition.y===f.y&&l(p),a._update(),Ce(a._state,{cachedViewbox:null,initialDragPosition:null,isDragging:!1,offsetViewport:null,offsetViewportDom:null}),mn.unbind(document,"mousemove",u),mn.unbind(document,"mouseup",d))}this._canvas=s,this._elementRegistry=o,this._eventBus=i,this._injector=n,this._state={isOpen:void 0,isDragging:!1,initialDragPosition:null,offsetViewport:null,cachedViewbox:null,dragger:null,svgClientRect:null,parentClientRect:null,zoomDelta:0},this._minimapId=Tht.next(),this._init(),this.toggle(t&&t.open||!1),mn.bind(this._viewportDom,"mousedown",c(!1)),mn.bind(this._svg,"mousedown",c(!0)),mn.bind(this._parent,"wheel",function(p){if(p.preventDefault(),p.stopPropagation(),p.ctrlKey&&((!a._state._svgClientRect||rR(a._state._svgClientRect))&&(a._state._svgClientRect=a._svg.getBoundingClientRect()),function Lht(t,n){return t.x>n.left&&t.x<n.left+n.width&&t.y>n.top&&t.y<n.top+n.height}(p,a._state._svgClientRect))){var f=0===p.deltaMode?.02:.32,h=Math.sqrt(Math.pow(p.deltaY,2)+Math.pow(p.deltaX,2))*Fht(p.deltaY)*-f;if(a._state.zoomDelta+=h,Math.abs(a._state.zoomDelta)>.1){var m=h>0?1:-1,y=Math.log(s.zoom())/Math.log(10),E=function Bht(t,n){var i=Math.log(t.min)/Math.log(10),s=Math.log(t.max)/Math.log(10);return(Math.abs(i)+Math.abs(s))/n}(E_e,20),_=Math.round(y/E)*E,S=Math.pow(10,_+=E*m);s.zoom(function $ht(t,n){return Math.max(t.min,Math.min(t.max,n))}(E_e,S),v),a._state.zoomDelta=0;var v=nR({x:p.clientX-a._state._svgClientRect.left,y:p.clientY-a._state._svgClientRect.top},a._svg,a._lastViewbox);gG(v,a._canvas),a._update()}}}),mn.bind(this._toggle,"click",function(p){p.preventDefault(),p.stopPropagation(),a.toggle()}),i.on(["shape.added","connection.added"],function(p){a._addElement(p.element),a._update()}),i.on(["shape.removed","connection.removed"],function(p){a._removeElement(p.element),a._update()}),i.on("elements.changed",250,function(p){p.elements.forEach(function(h){a._updateElement(h)}),a._update()}),i.on("element.updateId",function(p){a._updateElementId(p.element,p.newId)}),i.on("canvas.viewbox.changed",function(){a._state.isDragging||a._update()}),i.on("canvas.resized",function(){document.body.contains(a._parent)&&(a._state.isDragging||a._update(),a._state._svgClientRect=a._svg.getBoundingClientRect())}),i.on(["root.set","plane.set"],function(p){a._clear(),(p.element||p.plane.rootElement).children.forEach(function(h){a._addElement(h)}),a._update()})}function nR(t,n,i){var s=n.getBoundingClientRect(),o=function Iht(t,n){var i=t.width/t.height,s=Ce({},{x:t.x,y:t.y,width:t.width,height:t.height});if(i>n){var o=s.width*(1/n);Ce(s,{y:s.y-(o-s.height)/2,height:o})}else if(i<n){var l=s.height*n;Ce(s,{x:s.x-(l-s.width)/2,width:l})}return s}(i,s.width/s.height);return{x:x_e(t.x,0,s.width,o.x,o.x+o.width),y:x_e(t.y,0,s.height,o.y,o.y+o.height)}}function gG(t,n){var i=n.viewbox(),s=i.width,o=i.height;n.viewbox({x:t.x-s/2,y:t.y-o/2,width:s,height:o})}function x_e(t,n,i,s,o){return(t-n)*(o-s)/(i-n)+s}function rR(t){return 0===t.width&&0===t.height}ac.$inject=["config.minimap","injector","eventBus","canvas","elementRegistry"],ac.prototype._init=function(){var n=this._canvas.getContainer(),i=this._parent=document.createElement("div");br(i).add("djs-minimap"),n.appendChild(i);var s=this._toggle=document.createElement("div");br(s).add("toggle"),i.appendChild(s);var o=this._map=document.createElement("div");br(o).add("map"),i.appendChild(o);var a=this._svg=an("svg");Wt(a,{width:"100%",height:"100%"}),On(o,a),On(a,this._elementsGroup=an("g"));var c=this._viewportGroup=an("g");On(a,c);var u=this._viewport=an("rect");di(u).add("viewport"),On(c,u),mn.bind(i,"mousedown",function(f){f.stopPropagation()});var d=this._viewportDom=document.createElement("div");br(d).add("viewport-dom"),this._parent.appendChild(d);var p=this._overlay=document.createElement("div");br(p).add("overlay"),this._parent.appendChild(p)},ac.prototype._update=function(){var t=this._canvas.viewbox(),n=t.inner,i=t.outer;if(S_e(t)){var s,o,a,l,u=i.height-n.height;n.width<i.width?(s=n.x-(i.width-n.width)/2,a=i.width,n.x+n.width<i.width&&(s=Math.min(0,n.x))):(s=n.x,a=n.width),n.height<i.height?(o=n.y-u/2,l=i.height,n.y+n.height<i.height&&(o=Math.min(0,n.y))):(o=n.y,l=n.height),this._lastViewbox={x:s-=50,y:o-=50,width:a+=100,height:l+=100},Wt(this._svg,{viewBox:s+", "+o+", "+a+", "+l}),Wt(this._viewport,{x:t.x,y:t.y,width:t.width,height:t.height});var d=this._state._parentClientRect=this._parent.getBoundingClientRect(),p=this._viewport.getBoundingClientRect(),f={top:p.top-d.top,left:p.left-d.left,width:p.width,height:p.height};Ce(this._viewportDom.style,{top:f.top+"px",left:f.left+"px",width:f.width+"px",height:f.height+"px"});var h=C_e(d,f);Ce(this._overlay.style,{clipPath:h})}},ac.prototype.open=function(){Ce(this._state,{isOpen:!0}),br(this._parent).add("open");var t=this._injector.get("translate",!1)||function(n){return n};xa(this._toggle,"title",t("Close minimap")),this._update(),this._eventBus.fire("minimap.toggle",{open:!0})},ac.prototype.close=function(){Ce(this._state,{isOpen:!1}),br(this._parent).remove("open");var t=this._injector.get("translate",!1)||function(n){return n};xa(this._toggle,"title",t("Open minimap")),this._eventBus.fire("minimap.toggle",{open:!1})},ac.prototype.toggle=function(t){var n=this.isOpen();typeof t>"u"&&(t=!n),t!=n&&(t?this.open():this.close())},ac.prototype.isOpen=function(){return this._state.isOpen},ac.prototype._updateElement=function(t){try{null!=t.parent&&(this._removeElement(t),this._addElement(t))}catch(n){console.warn("Minimap#_updateElement errored",n)}},ac.prototype._updateElementId=function(t,n){try{var i=$n("#"+Sb(this._prefixId(t.id)),this._elementsGroup);i&&(i.id=this._prefixId(n))}catch(s){console.warn("Minimap#_updateElementId errored",s)}},ac.prototype.isOnActivePlane=function(t){var n=this._canvas;return n.findRoot?n.findRoot(t)===n.getRootElement():!n.findPlane||n.findPlane(t)===n.getActivePlane()},ac.prototype._addElement=function(t){var n=this;if(this._removeElement(t),this.isOnActivePlane(t)){var i,s,o,a=this._createElement(t),l=$n("#"+Sb(this._prefixId(t.parent.id)),this._elementsGroup);if(a){var d=function Rht(t,n){var i=$n(".djs-children",n.parentNode);if(i){var s=[].slice.call(i.childNodes),o=-1;return s.forEach(function(a,l){$n(".djs-element",a)===t&&(o=l)}),o}}(this._elementRegistry.getGraphics(t),this._elementRegistry.getGraphics(t.parent));return"undefined"!==d&&l?function w_e(t,n,i){var s=function Nht(t){var n=$n(".children",t);return n||On(t,n=an("g",{class:"children"})),n}(n),a=[].slice.call(s.childNodes)[i];a?n.insertBefore(t,a.nextSibling):n.appendChild(t)}(a,l,l.childNodes.length>d?d:l.childNodes.length-1):this._elementsGroup.appendChild(a),function Mht(t){return t.waypoints}(t)?(s=0,o=0,typeof(i=t.parent).x<"u"&&typeof i.y<"u"&&(s=-i.x,o=-i.y),Wt(a,{transform:"translate("+s+" "+o+")"})):(s=t.x,o=t.y,l&&(s-=(i=t.parent).x,o-=i.y),Wt(a,{transform:"translate("+s+" "+o+")"})),t.children&&t.children.length&&t.children.forEach(function(p){n._addElement(p)}),a}}},ac.prototype._removeElement=function(t){var n=this._svg.getElementById(this._prefixId(t.id));n&&Ro(n)},ac.prototype._createElement=function(t){var i,n=this._elementRegistry.getGraphics(t);if(n&&(i=O1(n))){var s=function Vht(t){return lf("[id]",t).forEach(function(n){n.remove()}),t}(DH(i));return Wt(s,{id:this._prefixId(t.id)}),s}},ac.prototype._clear=function(){Eb(this._elementsGroup)},ac.prototype._prefixId=function(t){return"djs-minimap-"+t+"-"+this._minimapId};var Fht=Math.sign||function(t){return t>=0?1:-1};function C_e(t,n){return"polygon("+[Ah(n.left,n.top),Ah(n.left+n.width,n.top),Ah(n.left+n.width,n.top+n.height),Ah(n.left,n.top+n.height),Ah(n.left,t.height),Ah(t.width,t.height),Ah(t.width,0),Ah(0,0),Ah(0,t.height),Ah(n.left,t.height)].join(", ")+")"}function Ah(t,n){return t+"px "+n+"px"}function S_e(t){return yu(t,function(n){return si(n)?S_e(n):Ln(n)&&isFinite(n)})}function yG(t){return t.center?t.center:{x:t.clientX,y:t.clientY}}var jht={__init__:["minimap"],minimap:["type",ac]};function n_(t,n){this._canvas=t;var i=this;n.on("diagram.init",function(){i._init(),i.toggle(!0)}),n.on("gridSnapping.toggle",function(s){i.toggle(s.active),i._centerGridAroundViewbox()}),n.on("canvas.viewbox.changed",function(s){i._centerGridAroundViewbox(s.viewbox)})}n_.prototype._init=function(){var t=$n("defs",this._canvas._svg);t||(t=an("defs"),On(this._canvas._svg,t));var n=this._pattern=an("pattern"),i="djs-grid-pattern-"+function Uht(){return Math.trunc(1e6*Math.random())}();Wt(n,{id:i,width:10,height:10,patternUnits:"userSpaceOnUse"});var s=this._circle=an("circle");Wt(s,{cx:.5,cy:.5,r:.5,fill:"#ccc"}),On(n,s),On(t,n),Wt(this._gfx=an("rect"),{x:-5e4,y:-5e4,width:1e5,height:1e5,fill:`url(#${i})`})},n_.prototype._centerGridAroundViewbox=function(t){t||(t=this._canvas.viewbox());var n=An(t);Wt(this._gfx,{x:-5e4+lO(n.x,10),y:-5e4+lO(n.y,10)})},n_.prototype.isVisible=function(){return this._visible},n_.prototype.toggle=function(t){if(typeof t>"u"&&(t=!this._visible),t!==this._visible){var n=this._getParent();t?On(n,this._gfx):Eb(n),this._visible=t}},n_.prototype._getParent=function(){return this._canvas.getLayer("djs-grid",-2)},n_.$inject=["canvas","eventBus"];var O_e={__init__:["grid"],grid:["type",n_]};function T_e(t,n){var p,m,i=(t=t||{}).borderColor||"rgba(0,0,0,0.1)",s=t.crossColor||"#CCC",c=-1;On(n.getLayer("djs-origin",-1),p=iR("g",{"pointer-events":"none"})),!1!==t.showBorder&&On(p,iR("path",{class:vG("border"),d:P_e(["M",-22,c,"H",-1e3,"M",22,c,"H",6e3,"M",c,-22,"V",-1e3,"M",c,22,"V",3e3]),fill:"none",stroke:i,"stroke-width":"2px","stroke-dasharray":"6, 6","shape-rendering":"crispedges"})),On(p,iR("path",{d:P_e(["M",-15,c,"H",15,"M",c,-15,"V",15]),class:vG("cross"),fill:"none",stroke:s,"stroke-width":"2px","stroke-linecap":"round"})),(m=iR("text",{x:-40,y:-10,fill:s,class:vG("label")})).textContent="(0, 0)",On(p,m)}function P_e(t){return t.join(" ")}function vG(t){return"djs-origin-"+t}function iR(t,n){var i=an(t);return Wt(i,n),i}T_e.$inject=["config.origin","canvas"];const D_e={__init__:[T_e]};var Ght={offset:{x:150,y:75},tolerance:50,alignOnSave:!0};function k_e(t,n,i,s,o,a){function c(f,h){var m=h.offset,y=h.tolerance,E={};return["x","y"].forEach(function(_){var S=-f[_]+m[_],v=n.get("gridSnapping",!1);v&&(S=function Yht(t,n,i){return i||(i="round"),Math[i](t/n)*n}(S,v.getGridSpacing())),E[_]=Math.abs(S)<y?0:S}),E}function u(){var f=o.viewbox().inner,h=o.getRootElement().children;if(h.length){var m=c(f,t);0===m.x&&0===m.y||s.execute("elements.alignToOrigin",{elements:h,delta:m})}}function p(f){return function(h){i.once("commandStack.changed",function(){var m=h.delta,y=o.viewbox().scale;o.scroll({dx:f*m.x*y,dy:f*m.y*y})})}}t=function l(f){var h=Ce({},Ght,f||{});return Ln(h.offset)&&(h.offset={x:h.offset,y:h.offset}),h}(t),s.register("elements.alignToOrigin",{preExecute:function(f){a.moveElements(f.elements,f.delta)},execute:p(-1),revert:p(1)}),t.alignOnSave&&function d(){var f=n.get("_parent",!1),h=i,m=f&&f._eventBus;(m||h).on("saveXML.start",1250,u),m&&h.on("diagram.destroy",function(){m.off("saveXML.start",u)})}(),this.align=u,this.computeAdjustment=c,this._config=t}k_e.$inject=["config.alignToOrigin","injector","eventBus","commandStack","canvas","modeling"];const M_e={__init__:["alignToOrigin"],alignToOrigin:["type",k_e]};function A_e(t){function n(i){if(!i.labelTarget){var s=G(i);D(s,"bpmn:Participant")&&(s=s.processRef),D(s,"bpmn:Process")&&(s.isExecutable=!!s.isExecutable)}}t.on(["shape.added","root.added"],function(i){n(i.element)}),t.on("elements.changed",function(i){i.elements.forEach(function(o){n(o)})})}A_e.$inject=["eventBus"];const Xht={__init__:[A_e]};var hO,tr,I_e,r_,R_e,N_e,bG,L_e,mO={},F_e=[],Zht=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,sR=Array.isArray;function Tm(t,n){for(var i in n)t[i]=n[i];return t}function B_e(t){var n=t.parentNode;n&&n.removeChild(t)}function Mi(t,n,i){var s,o,a,l={};for(a in n)"key"==a?s=n[a]:"ref"==a?o=n[a]:l[a]=n[a];if(arguments.length>2&&(l.children=arguments.length>3?hO.call(arguments,2):i),"function"==typeof t&&null!=t.defaultProps)for(a in t.defaultProps)void 0===l[a]&&(l[a]=t.defaultProps[a]);return gO(t,l,s,o,null)}function gO(t,n,i,s,o){var a={type:t,props:n,key:i,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++I_e,__i:-1,__u:0};return null==o&&null!=tr.vnode&&tr.vnode(a),a}function lp(t){return t.children}function hf(t,n){this.props=t,this.context=n}function k3(t,n){if(null==n)return t.__?k3(t.__,t.__i+1):null;for(var i;n<t.__k.length;n++)if(null!=(i=t.__k[n])&&null!=i.__e)return i.__e;return"function"==typeof t.type?k3(t):null}function $_e(t){var n,i;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(i=t.__k[n])&&null!=i.__e){t.__e=t.__c.base=i.__e;break}return $_e(t)}}function _G(t){(!t.__d&&(t.__d=!0)&&r_.push(t)&&!oR.__r++||R_e!==tr.debounceRendering)&&((R_e=tr.debounceRendering)||N_e)(oR)}function oR(){var t,n,i,s,o,a,l,c,u;for(r_.sort(bG);t=r_.shift();)t.__d&&(n=r_.length,s=void 0,a=(o=(i=t).__v).__e,c=[],u=[],(l=i.__P)&&((s=Tm({},o)).__v=o.__v+1,tr.vnode&&tr.vnode(s),EG(l,s,o,i.__n,void 0!==l.ownerSVGElement,32&o.__u?[a]:null,c,a??k3(o),!!(32&o.__u),u),s.__.__k[s.__i]=s,q_e(c,s,u),s.__e!=a&&$_e(s)),r_.length>n&&r_.sort(bG));oR.__r=0}function V_e(t,n,i,s,o,a,l,c,u,d,p){var f,h,m,y,E,_=s&&s.__k||F_e,S=n.length;for(i.__d=u,function e0t(t,n,i){var s,o,a,l,c,u=n.length,d=i.length,p=d,f=0;for(t.__k=[],s=0;s<u;s++)null!=(o=t.__k[s]=null==(o=n[s])||"boolean"==typeof o||"function"==typeof o?null:"string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?gO(null,o,null,null,o):sR(o)?gO(lp,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?gO(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)?(o.__=t,o.__b=t.__b+1,c=t0t(o,i,l=s+f,p),o.__i=c,a=null,-1!==c&&(p--,(a=i[c])&&(a.__u|=131072)),null==a||null===a.__v?(-1==c&&f--,"function"!=typeof o.type&&(o.__u|=65536)):c!==l&&(c===l+1?f++:c>l?p>u-l?f+=c-l:f--:f=c<l&&c==l-1?c-l:0,c!==s+f&&(o.__u|=65536))):(a=i[s])&&null==a.key&&a.__e&&(a.__e==t.__d&&(t.__d=k3(a)),wG(a,a,!1),i[s]=null,p--);if(p)for(s=0;s<d;s++)null!=(a=i[s])&&!(131072&a.__u)&&(a.__e==t.__d&&(t.__d=k3(a)),wG(a,a))}(i,n,_),u=i.__d,f=0;f<S;f++)null!=(m=i.__k[f])&&"boolean"!=typeof m&&"function"!=typeof m&&(h=-1===m.__i?mO:_[m.__i]||mO,m.__i=f,EG(t,m,h,o,a,l,c,u,d,p),y=m.__e,m.ref&&h.ref!=m.ref&&(h.ref&&xG(h.ref,null,m),p.push(m.ref,m.__c||y,m)),null==E&&null!=y&&(E=y),65536&m.__u||h.__k===m.__k?u=j_e(m,u,t):"function"==typeof m.type&&void 0!==m.__d?u=m.__d:y&&(u=y.nextSibling),m.__d=void 0,m.__u&=-196609);i.__d=u,i.__e=E}function j_e(t,n,i){var s,o;if("function"==typeof t.type){for(s=t.__k,o=0;s&&o<s.length;o++)s[o]&&(s[o].__=t,n=j_e(s[o],n,i));return n}return t.__e!=n&&(i.insertBefore(t.__e,n||null),n=t.__e),n&&n.nextSibling}function Pm(t,n){return n=n||[],null==t||"boolean"==typeof t||(sR(t)?t.some(function(i){Pm(i,n)}):n.push(t)),n}function t0t(t,n,i,s){var o=t.key,a=t.type,l=i-1,c=i+1,u=n[i];if(null===u||u&&o==u.key&&a===u.type)return i;if(s>(null==u||131072&u.__u?0:1))for(;l>=0||c<n.length;){if(l>=0){if((u=n[l])&&!(131072&u.__u)&&o==u.key&&a===u.type)return l;l--}if(c<n.length){if((u=n[c])&&!(131072&u.__u)&&o==u.key&&a===u.type)return c;c++}}return-1}function z_e(t,n,i){"-"===n[0]?t.setProperty(n,i??""):t[n]=null==i?"":"number"!=typeof i||Zht.test(n)?i:i+"px"}function aR(t,n,i,s,o){var a;e:if("style"===n)if("string"==typeof i)t.style.cssText=i;else{if("string"==typeof s&&(t.style.cssText=s=""),s)for(n in s)i&&n in i||z_e(t.style,n,"");if(i)for(n in i)s&&i[n]===s[n]||z_e(t.style,n,i[n])}else if("o"===n[0]&&"n"===n[1])a=n!==(n=n.replace(/(PointerCapture)$|Capture$/,"$1")),n=n.toLowerCase()in t?n.toLowerCase().slice(2):n.slice(2),t.l||(t.l={}),t.l[n+a]=i,i?s?i.u=s.u:(i.u=Date.now(),t.addEventListener(n,a?U_e:H_e,a)):t.removeEventListener(n,a?U_e:H_e,a);else{if(o)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==n&&"height"!==n&&"href"!==n&&"list"!==n&&"form"!==n&&"tabIndex"!==n&&"download"!==n&&"rowSpan"!==n&&"colSpan"!==n&&"role"!==n&&n in t)try{t[n]=i??"";break e}catch{}"function"==typeof i||(null==i||!1===i&&"-"!==n[4]?t.removeAttribute(n):t.setAttribute(n,i))}}function H_e(t){var n=this.l[t.type+!1];if(t.t){if(t.t<=n.u)return}else t.t=Date.now();return n(tr.event?tr.event(t):t)}function U_e(t){return this.l[t.type+!0](tr.event?tr.event(t):t)}function EG(t,n,i,s,o,a,l,c,u,d){var p,f,h,m,y,E,_,S,v,w,g,x,T,I,A,$=n.type;if(void 0!==n.constructor)return null;128&i.__u&&(u=!!(32&i.__u),a=[c=n.__e=i.__e]),(p=tr.__b)&&p(n);e:if("function"==typeof $)try{if(S=n.props,v=(p=$.contextType)&&s[p.__c],w=p?v?v.props.value:p.__:s,i.__c?_=(f=n.__c=i.__c).__=f.__E:("prototype"in $&&$.prototype.render?n.__c=f=new $(S,w):(n.__c=f=new hf(S,w),f.constructor=$,f.render=r0t),v&&v.sub(f),f.props=S,f.state||(f.state={}),f.context=w,f.__n=s,h=f.__d=!0,f.__h=[],f._sb=[]),null==f.__s&&(f.__s=f.state),null!=$.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=Tm({},f.__s)),Tm(f.__s,$.getDerivedStateFromProps(S,f.__s))),m=f.props,y=f.state,f.__v=n,h)null==$.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==$.getDerivedStateFromProps&&S!==m&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(S,w),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(S,f.__s,w)||n.__v===i.__v)){for(n.__v!==i.__v&&(f.props=S,f.state=f.__s,f.__d=!1),n.__e=i.__e,n.__k=i.__k,n.__k.forEach(function(z){z&&(z.__=n)}),g=0;g<f._sb.length;g++)f.__h.push(f._sb[g]);f._sb=[],f.__h.length&&l.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(S,f.__s,w),null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(m,y,E)})}if(f.context=w,f.props=S,f.__P=t,f.__e=!1,x=tr.__r,T=0,"prototype"in $&&$.prototype.render){for(f.state=f.__s,f.__d=!1,x&&x(n),p=f.render(f.props,f.state,f.context),I=0;I<f._sb.length;I++)f.__h.push(f._sb[I]);f._sb=[]}else do{f.__d=!1,x&&x(n),p=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++T<25);f.state=f.__s,null!=f.getChildContext&&(s=Tm(Tm({},s),f.getChildContext())),h||null==f.getSnapshotBeforeUpdate||(E=f.getSnapshotBeforeUpdate(m,y)),V_e(t,sR(A=null!=p&&p.type===lp&&null==p.key?p.props.children:p)?A:[A],n,i,s,o,a,l,c,u,d),f.base=n.__e,n.__u&=-161,f.__h.length&&l.push(f),_&&(f.__E=f.__=null)}catch(z){n.__v=null,u||null!=a?(n.__e=c,n.__u|=u?160:32,a[a.indexOf(c)]=null):(n.__e=i.__e,n.__k=i.__k),tr.__e(z,n,i)}else null==a&&n.__v===i.__v?(n.__k=i.__k,n.__e=i.__e):n.__e=function n0t(t,n,i,s,o,a,l,c,u){var d,p,f,h,m,y,E,_=i.props,S=n.props,v=n.type;if("svg"===v&&(o=!0),null!=a)for(d=0;d<a.length;d++)if((m=a[d])&&"setAttribute"in m==!!v&&(v?m.localName===v:3===m.nodeType)){t=m,a[d]=null;break}if(null==t){if(null===v)return document.createTextNode(S);t=o?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,S.is&&S),a=null,c=!1}if(null===v)_===S||c&&t.data===S||(t.data=S);else{if(a=a&&hO.call(t.childNodes),_=i.props||mO,!c&&null!=a)for(_={},d=0;d<t.attributes.length;d++)_[(m=t.attributes[d]).name]=m.value;for(d in _)m=_[d],"children"==d||("dangerouslySetInnerHTML"==d?f=m:"key"===d||d in S||aR(t,d,null,m,o));for(d in S)m=S[d],"children"==d?h=m:"dangerouslySetInnerHTML"==d?p=m:"value"==d?y=m:"checked"==d?E=m:"key"===d||c&&"function"!=typeof m||_[d]===m||aR(t,d,m,_[d],o);if(p)c||f&&(p.__html===f.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),n.__k=[];else if(f&&(t.innerHTML=""),V_e(t,sR(h)?h:[h],n,i,s,o&&"foreignObject"!==v,a,l,a?a[0]:i.__k&&k3(i,0),c,u),null!=a)for(d=a.length;d--;)null!=a[d]&&B_e(a[d]);c||(d="value",void 0!==y&&(y!==t[d]||"progress"===v&&!y||"option"===v&&y!==_[d])&&aR(t,d,y,_[d],!1),d="checked",void 0!==E&&E!==t[d]&&aR(t,d,E,_[d],!1))}return t}(i.__e,n,i,s,o,a,l,u,d);(p=tr.diffed)&&p(n)}function q_e(t,n,i){n.__d=void 0;for(var s=0;s<i.length;s++)xG(i[s],i[++s],i[++s]);tr.__c&&tr.__c(n,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(a){a.call(o)})}catch(a){tr.__e(a,o.__v)}})}function xG(t,n,i){try{"function"==typeof t?t(n):t.current=n}catch(s){tr.__e(s,i)}}function wG(t,n,i){var s,o;if(tr.unmount&&tr.unmount(t),(s=t.ref)&&(s.current&&s.current!==t.__e||xG(s,null,n)),null!=(s=t.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(a){tr.__e(a,n)}s.base=s.__P=null,t.__c=void 0}if(s=t.__k)for(o=0;o<s.length;o++)s[o]&&wG(s[o],n,i||"function"!=typeof t.type);i||null==t.__e||B_e(t.__e),t.__=t.__e=t.__d=void 0}function r0t(t,n,i){return this.constructor(t,i)}function Dm(t,n,i){var s,o,a,l;tr.__&&tr.__(t,n),o=(s="function"==typeof i)?null:i&&i.__k||n.__k,a=[],l=[],EG(n,t=(!s&&i||n).__k=Mi(lp,null,[t]),o||mO,mO,void 0!==n.ownerSVGElement,!s&&i?[i]:o?null:n.firstChild?hO.call(n.childNodes):null,a,!s&&i?i:o?o.__e:n.firstChild,s,l),q_e(a,t,l)}function km(t,n){var i={__c:n="__cC"+L_e++,__:t,Consumer:function(s,o){return s.children(o)},Provider:function(s){var o,a;return this.getChildContext||(o=[],(a={})[n]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&o.some(function(c){c.__e=!0,_G(c)})},this.sub=function(l){o.push(l);var c=l.componentWillUnmount;l.componentWillUnmount=function(){o.splice(o.indexOf(l),1),c&&c.call(l)}}),s.children}};return i.Provider.__=i.Consumer.contextType=i}hO=F_e.slice,tr={__e:function(t,n,i,s){for(var o,a,l;n=n.__;)if((o=n.__c)&&!o.__)try{if((a=o.constructor)&&null!=a.getDerivedStateFromError&&(o.setState(a.getDerivedStateFromError(t)),l=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(t,s||{}),l=o.__d),l)return o.__E=o}catch(c){t=c}throw t}},I_e=0,hf.prototype.setState=function(t,n){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Tm({},this.state),"function"==typeof t&&(t=t(Tm({},i),this.props)),t&&Tm(i,t),null!=t&&this.__v&&(n&&this._sb.push(n),_G(this))},hf.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),_G(this))},hf.prototype.render=lp,r_=[],N_e="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,bG=function(t,n){return t.__v.__b-n.__v.__b},oR.__r=0,L_e=0;var Mm,Ms,CG,G_e,M3=0,K_e=[],lR=[],Y_e=tr.__b,X_e=tr.__r,Q_e=tr.diffed,Z_e=tr.__c,J_e=tr.unmount;function i_(t,n){tr.__h&&tr.__h(Ms,t,M3||n),M3=0;var i=Ms.__H||(Ms.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:lR}),i.__[t]}function Ir(t){return M3=1,function e2e(t,n,i){var s=i_(Mm++,2);if(s.t=t,!s.__c&&(s.__=[i?i(n):n2e(void 0,n),function(c){var u=s.__N?s.__N[0]:s.__[0],d=s.t(u,c);u!==d&&(s.__N=[d,s.__[1]],s.__c.setState({}))}],s.__c=Ms,!Ms.u)){var o=function(c,u,d){if(!s.__c.__H)return!0;var p=s.__c.__H.__.filter(function(h){return h.__c});if(p.every(function(h){return!h.__N}))return!a||a.call(this,c,u,d);var f=!1;return p.forEach(function(h){if(h.__N){var m=h.__[0];h.__=h.__N,h.__N=void 0,m!==h.__[0]&&(f=!0)}}),!(!f&&s.__c.props===c)&&(!a||a.call(this,c,u,d))};Ms.u=!0;var a=Ms.shouldComponentUpdate,l=Ms.componentWillUpdate;Ms.componentWillUpdate=function(c,u,d){if(this.__e){var p=a;a=void 0,o(c,u,d),a=p}l&&l.call(this,c,u,d)},Ms.shouldComponentUpdate=o}return s.__N||s.__}(n2e,t)}function Yn(t,n){var i=i_(Mm++,3);!tr.__s&&OG(i.__H,n)&&(i.__=t,i.i=n,Ms.__H.__h.push(i))}function ty(t,n){var i=i_(Mm++,4);!tr.__s&&OG(i.__H,n)&&(i.__=t,i.i=n,Ms.__h.push(i))}function ss(t){return M3=5,ol(function(){return{current:t}},[])}function ol(t,n){var i=i_(Mm++,7);return OG(i.__H,n)?(i.__V=t(),i.i=n,i.__h=t,i.__V):i.__}function Cs(t,n){return M3=8,ol(function(){return t},n)}function lc(t){var n=Ms.context[t.__c],i=i_(Mm++,9);return i.c=t,n?(null==i.__&&(i.__=!0,n.sub(Ms)),n.props.value):t.__}function l0t(){for(var t;t=K_e.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(cR),t.__H.__h.forEach(SG),t.__H.__h=[]}catch(n){t.__H.__h=[],tr.__e(n,t.__v)}}tr.__b=function(t){Ms=null,Y_e&&Y_e(t)},tr.__r=function(t){X_e&&X_e(t),Mm=0;var n=(Ms=t.__c).__H;n&&(CG===Ms?(n.__h=[],Ms.__h=[],n.__.forEach(function(i){i.__N&&(i.__=i.__N),i.__V=lR,i.__N=i.i=void 0})):(n.__h.forEach(cR),n.__h.forEach(SG),n.__h=[],Mm=0)),CG=Ms},tr.diffed=function(t){Q_e&&Q_e(t);var n=t.__c;n&&n.__H&&(n.__H.__h.length&&(1!==K_e.push(n)&&G_e===tr.requestAnimationFrame||((G_e=tr.requestAnimationFrame)||c0t)(l0t)),n.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.__V!==lR&&(i.__=i.__V),i.i=void 0,i.__V=lR})),CG=Ms=null},tr.__c=function(t,n){n.some(function(i){try{i.__h.forEach(cR),i.__h=i.__h.filter(function(s){return!s.__||SG(s)})}catch(s){n.some(function(o){o.__h&&(o.__h=[])}),n=[],tr.__e(s,i.__v)}}),Z_e&&Z_e(t,n)},tr.unmount=function(t){J_e&&J_e(t);var n,i=t.__c;i&&i.__H&&(i.__H.__.forEach(function(s){try{cR(s)}catch(o){n=o}}),i.__H=void 0,n&&tr.__e(n,i.__v))};var t2e="function"==typeof requestAnimationFrame;function c0t(t){var n,i=function(){clearTimeout(s),t2e&&cancelAnimationFrame(n),setTimeout(t)},s=setTimeout(i,100);t2e&&(n=requestAnimationFrame(i))}function cR(t){var n=Ms,i=t.__c;"function"==typeof i&&(t.__c=void 0,i()),Ms=n}function SG(t){var n=Ms;t.__c=t.__(),Ms=n}function OG(t,n){return!t||t.length!==n.length||n.some(function(i,s){return i!==t[s]})}function n2e(t,n){return"function"==typeof n?n(t):n}function r2e(t,n){for(var i in n)t[i]=n[i];return t}function TG(t,n){for(var i in t)if("__source"!==i&&!(i in n))return!0;for(var s in n)if("__source"!==s&&t[s]!==n[s])return!0;return!1}function PG(t){this.props=t}(PG.prototype=new hf).isPureReactComponent=!0,PG.prototype.shouldComponentUpdate=function(t,n){return TG(this.props,t)||TG(this.state,n)};var i2e=tr.__b;tr.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),i2e&&i2e(t)};var d0t=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Am(t){function n(i){var s=r2e({},i);return delete s.ref,t(s,i.ref||null)}return n.$$typeof=d0t,n.render=n,n.prototype.isReactComponent=n.__f=!0,n.displayName="ForwardRef("+(t.displayName||t.name)+")",n}var f0t=tr.__e;tr.__e=function(t,n,i,s){if(t.then)for(var o,a=n;a=a.__;)if((o=a.__c)&&o.__c)return null==n.__e&&(n.__e=i.__e,n.__k=i.__k),o.__c(t,n);f0t(t,n,i,s)};var o2e=tr.unmount;function a2e(t,n,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(s){"function"==typeof s.__c&&s.__c()}),t.__c.__H=null),null!=(t=r2e({},t)).__c&&(t.__c.__P===i&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map(function(s){return a2e(s,n,i)})),t}function l2e(t,n,i){return t&&i&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(s){return l2e(s,n,i)}),t.__c&&t.__c.__P===n&&(t.__e&&i.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=i)),t}function uR(){this.__u=0,this.t=null,this.__b=null}function c2e(t){var n=t.__.__c;return n&&n.__a&&n.__a(t)}function yO(){this.u=null,this.o=null}tr.unmount=function(t){var n=t.__c;n&&n.__R&&n.__R(),n&&32&t.__u&&(t.type=null),o2e&&o2e(t)},(uR.prototype=new hf).__c=function(t,n){var i=n.__c,s=this;null==s.t&&(s.t=[]),s.t.push(i);var o=c2e(s.__v),a=!1,l=function(){a||(a=!0,i.__R=null,o?o(c):c())};i.__R=l;var c=function(){if(! --s.__u){if(s.state.__a){var u=s.state.__a;s.__v.__k[0]=l2e(u,u.__c.__P,u.__c.__O)}var d;for(s.setState({__a:s.__b=null});d=s.t.pop();)d.forceUpdate()}};s.__u++||32&n.__u||s.setState({__a:s.__b=s.__v.__k[0]}),t.then(l,l)},uR.prototype.componentWillUnmount=function(){this.t=[]},uR.prototype.render=function(t,n){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=a2e(this.__b,i,s.__O=s.__P)}this.__b=null}var o=n.__a&&Mi(lp,null,t.fallback);return o&&(o.__u&=-33),[Mi(lp,null,n.__a?null:t.children),o]};var u2e=function(t,n,i){if(++i[1]===i[0]&&t.o.delete(n),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(i=t.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;t.u=i=i[2]}};function m0t(t){return this.getChildContext=function(){return t.context},t.children}function g0t(t){var n=this,i=t.i;n.componentWillUnmount=function(){Dm(null,n.l),n.l=null,n.i=null},n.i&&n.i!==i&&n.componentWillUnmount(),n.l||(n.i=i,n.l={nodeType:1,parentNode:i,childNodes:[],appendChild:function(s){this.childNodes.push(s),n.i.appendChild(s)},insertBefore:function(s,o){this.childNodes.push(s),n.i.appendChild(s)},removeChild:function(s){this.childNodes.splice(this.childNodes.indexOf(s)>>>1,1),n.i.removeChild(s)}}),Dm(Mi(m0t,{context:n.context},t.__v),n.l)}function DG(t,n){var i=Mi(g0t,{__v:t,i:n});return i.containerInfo=n,i}(yO.prototype=new hf).__a=function(t){var n=this,i=c2e(n.__v),s=n.o.get(t);return s[0]++,function(o){var a=function(){n.props.revealOrder?(s.push(o),u2e(n,t,s)):o()};i?i(a):a()}},yO.prototype.render=function(t){this.u=null,this.o=new Map;var n=Pm(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&n.reverse();for(var i=n.length;i--;)this.o.set(n[i],this.u=[1,0,this.u]);return t.children},yO.prototype.componentDidUpdate=yO.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(n,i){u2e(t,i,n)})};var d2e=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,y0t=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,v0t=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,b0t=/[A-Z0-9]/g,_0t=typeof document<"u",E0t=function(t){return(typeof Symbol<"u"&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(t)};hf.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(hf.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var p2e=tr.event;function C0t(){}function S0t(){return this.cancelBubble}function O0t(){return this.defaultPrevented}tr.event=function(t){return p2e&&(t=p2e(t)),t.persist=C0t,t.isPropagationStopped=S0t,t.isDefaultPrevented=O0t,t.nativeEvent=t};var T0t={enumerable:!1,configurable:!0,get:function(){return this.class}},f2e=tr.vnode;tr.vnode=function(t){"string"==typeof t.type&&function(n){var i=n.props,s=n.type,o={};for(var a in i){var l=i[a];if(!("value"===a&&"defaultValue"in i&&null==l||_0t&&"children"===a&&"noscript"===s||"class"===a||"className"===a)){var c=a.toLowerCase();"defaultValue"===a&&"value"in i&&null==i.value?a="value":"download"===a&&!0===l?l="":"ondoubleclick"===c?a="ondblclick":"onchange"!==c||"input"!==s&&"textarea"!==s||E0t(i.type)?"onfocus"===c?a="onfocusin":"onblur"===c?a="onfocusout":v0t.test(a)?a=c:-1===s.indexOf("-")&&y0t.test(a)?a=a.replace(b0t,"-$&").toLowerCase():null===l&&(l=void 0):c=a="oninput","oninput"===c&&o[a=c]&&(a="oninputCapture"),o[a]=l}}"select"==s&&o.multiple&&Array.isArray(o.value)&&(o.value=Pm(i.children).forEach(function(u){u.props.selected=-1!=o.value.indexOf(u.props.value)})),"select"==s&&null!=o.defaultValue&&(o.value=Pm(i.children).forEach(function(u){u.props.selected=o.multiple?-1!=o.defaultValue.indexOf(u.props.value):o.defaultValue==u.props.value})),i.class&&!i.className?(o.class=i.class,Object.defineProperty(o,"className",T0t)):(i.className&&!i.class||i.class&&i.className)&&(o.class=o.className=i.className),n.props=o}(t),t.$$typeof=d2e,f2e&&f2e(t)};var h2e=tr.__r;tr.__r=function(t){h2e&&h2e(t)};var m2e=tr.diffed;tr.diffed=function(t){m2e&&m2e(t);var n=t.props,i=t.__e;null!=i&&"textarea"===t.type&&"value"in n&&n.value!==i.value&&(i.value=null==n.value?"":n.value)};var He_createElement=Mi,U0t=0;function L(t,n,i,s,o,a){var l,c,u={};for(c in n)"ref"==c?l=n[c]:u[c]=n[c];var d={type:t,props:u,key:i,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--U0t,__i:-1,__u:0,__source:o,__self:a};if("function"==typeof t&&(l=t.defaultProps))for(c in l)void 0===u[c]&&(u[c]=l[c]);return tr.vnode&&tr.vnode(d),d}var K0t=V(8709),rr=V.n(K0t);const b2e=1024;let Y0t=0;class cp{constructor(n,i){this.from=n,this.to=i}}class Br{constructor(n={}){this.id=Y0t++,this.perNode=!!n.perNode,this.deserialize=n.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(n){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof n&&(n=Ca.match(n)),i=>{let s=n(i);return void 0===s?null:[this,s]}}}Br.closedBy=new Br({deserialize:t=>t.split(" ")}),Br.openedBy=new Br({deserialize:t=>t.split(" ")}),Br.group=new Br({deserialize:t=>t.split(" ")}),Br.isolate=new Br({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),Br.contextHash=new Br({perNode:!0}),Br.lookAhead=new Br({perNode:!0}),Br.mounted=new Br({perNode:!0});class vO{constructor(n,i,s){this.tree=n,this.overlay=i,this.parser=s}static get(n){return n&&n.props&&n.props[Br.mounted.id]}}const X0t=Object.create(null);class Ca{constructor(n,i,s,o=0){this.name=n,this.props=i,this.id=s,this.flags=o}static define(n){let i=n.props&&n.props.length?Object.create(null):X0t,o=new Ca(n.name||"",i,n.id,(n.top?1:0)|(n.skipped?2:0)|(n.error?4:0)|(null==n.name?8:0));if(n.props)for(let a of n.props)if(Array.isArray(a)||(a=a(o)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");i[a[0].id]=a[1]}return o}prop(n){return this.props[n.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(n){if("string"==typeof n){if(this.name==n)return!0;let i=this.prop(Br.group);return!!i&&i.indexOf(n)>-1}return this.id==n}static match(n){let i=Object.create(null);for(let s in n)for(let o of s.split(" "))i[o]=n[s];return s=>{for(let o=s.prop(Br.group),a=-1;a<(o?o.length:0);a++){let l=i[a<0?s.name:o[a]];if(l)return l}}}}Ca.none=new Ca("",Object.create(null),0,8);class A3{constructor(n){this.types=n;for(let i=0;i<n.length;i++)if(n[i].id!=i)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...n){let i=[];for(let s of this.types){let o=null;for(let a of n){let l=a(s);l&&(o||(o=Object.assign({},s.props)),o[l[0].id]=l[1])}i.push(o?new Ca(s.name,o,s.id,s.flags):s)}return new A3(i)}}const pR=new WeakMap,_2e=new WeakMap;var Oo=function(t){return t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t}(Oo||{});class Si{constructor(n,i,s,o,a){if(this.type=n,this.children=i,this.positions=s,this.length=o,this.props=null,a&&a.length){this.props=Object.create(null);for(let[l,c]of a)this.props["number"==typeof l?l:l.id]=c}}toString(){let n=vO.get(this);if(n&&!n.overlay)return n.tree.toString();let i="";for(let s of this.children){let o=s.toString();o&&(i&&(i+=","),i+=o)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(i.length?"("+i+")":""):i}cursor(n=0){return new fR(this.topNode,n)}cursorAt(n,i=0,s=0){let o=pR.get(this)||this.topNode,a=new fR(o);return a.moveTo(n,i),pR.set(this,a._tree),a}get topNode(){return new cc(this,0,0,null)}resolve(n,i=0){let s=bO(pR.get(this)||this.topNode,n,i,!1);return pR.set(this,s),s}resolveInner(n,i=0){let s=bO(_2e.get(this)||this.topNode,n,i,!0);return _2e.set(this,s),s}resolveStack(n,i=0){return function J0t(t,n,i){let s=t.resolveInner(n,i),o=null;for(let a=s instanceof cc?s:s.context.parent;a;a=a.parent)if(a.index<0){let l=a.parent;(o||(o=[s])).push(l.resolve(n,i)),a=l}else{let l=vO.get(a.tree);if(l&&l.overlay&&l.overlay[0].from<=n&&l.overlay[l.overlay.length-1].to>=n){let c=new cc(l.tree,l.overlay[0].from+a.from,-1,a);(o||(o=[s])).push(bO(c,n,i,!1))}}return o?C2e(o):s}(this,n,i)}iterate(n){let{enter:i,leave:s,from:o=0,to:a=this.length}=n,l=n.mode||0,c=(l&Oo.IncludeAnonymous)>0;for(let u=this.cursor(l|Oo.IncludeAnonymous);;){let d=!1;if(u.from<=a&&u.to>=o&&(!c&&u.type.isAnonymous||!1!==i(u))){if(u.firstChild())continue;d=!0}for(;d&&s&&(c||!u.type.isAnonymous)&&s(u),!u.nextSibling();){if(!u.parent())return;d=!0}}}prop(n){return n.perNode?this.props?this.props[n.id]:void 0:this.type.prop(n)}get propValues(){let n=[];if(this.props)for(let i in this.props)n.push([+i,this.props[i]]);return n}balance(n={}){return this.children.length<=8?this:NG(Ca.none,this.children,this.positions,0,this.children.length,0,this.length,(i,s,o)=>new Si(this.type,i,s,o,this.propValues),n.makeTree||((i,s,o)=>new Si(Ca.none,i,s,o)))}static build(n){return function emt(t){var n;let{buffer:i,nodeSet:s,maxBufferLength:o=b2e,reused:a=[],minRepeatType:l=s.types.length}=t,c=Array.isArray(i)?new AG(i,i.length):i,u=s.types,d=0,p=0;function f(x,T,I,A,$,z){let{id:K,start:U,end:H,size:me}=c,Re=p,De=d;for(;me<0;){if(c.next(),-1==me)return I.push(a[K]),void A.push(U-x);if(-3==me)return void(d=K);if(-4==me)return void(p=K);throw new RangeError(`Unrecognized record size: ${me}`)}let at,_e,ye=u[K],be=U-x;if(H-U<=o&&(_e=function _(x,T){let I=c.fork(),A=0,$=0,z=0,K=I.end-o,U={size:0,start:0,skip:0};e:for(let H=I.pos-x;I.pos>H;){let me=I.size;if(I.id==T&&me>=0){U.size=A,U.start=$,U.skip=z,z+=4,A+=4,I.next();continue}let Re=I.pos-me;if(me<0||Re<H||I.start<K)break;let De=I.id>=l?4:0,ye=I.start;for(I.next();I.pos>Re;){if(I.size<0){if(-3!=I.size)break e;De+=4}else I.id>=l&&(De+=4);I.next()}$=ye,A+=me,z+=De}return(T<0||A==x)&&(U.size=A,U.start=$,U.skip=z),U.size>4?U:void 0}(c.pos-T,$))){let ke=new Uint16Array(_e.size-_e.skip),Pe=c.pos-_e.size,Y=ke.length;for(;c.pos>Pe;)Y=S(_e.start,ke,Y);at=new ny(ke,H-_e.start,s),be=_e.start-x}else{let ke=c.pos-me;c.next();let Pe=[],Y=[],ie=K>=l?K:-1,se=0,$e=H;for(;c.pos>ke;)ie>=0&&c.id==ie&&c.size>=0?(c.end<=$e-o&&(y(Pe,Y,U,se,c.end,$e,ie,Re,De),se=Pe.length,$e=c.end),c.next()):z>2500?h(U,ke,Pe,Y):f(U,ke,Pe,Y,ie,z+1);if(ie>=0&&se>0&&se<Pe.length&&y(Pe,Y,U,se,U,$e,ie,Re,De),Pe.reverse(),Y.reverse(),ie>-1&&se>0){let j=function m(x,T){return(I,A,$)=>{let U,H,z=0,K=I.length-1;if(K>=0&&(U=I[K])instanceof Si){if(!K&&U.type==x&&U.length==$)return U;(H=U.prop(Br.lookAhead))&&(z=A[K]+U.length+H)}return E(x,I,A,$,z,T)}}(ye,De);at=NG(ye,Pe,Y,0,Pe.length,0,H-U,j,j)}else at=E(ye,Pe,Y,H-U,Re-H,De)}I.push(at),A.push(be)}function h(x,T,I,A){let $=[],z=0,K=-1;for(;c.pos>T;){let{id:U,start:H,end:me,size:Re}=c;if(Re>4)c.next();else{if(K>-1&&H<K)break;K<0&&(K=me-o),$.push(U,H,me),z++,c.next()}}if(z){let U=new Uint16Array(4*z),H=$[$.length-2];for(let me=$.length-3,Re=0;me>=0;me-=3)U[Re++]=$[me],U[Re++]=$[me+1]-H,U[Re++]=$[me+2]-H,U[Re++]=Re;I.push(new ny(U,$[2]-H,s)),A.push(H-x)}}function y(x,T,I,A,$,z,K,U,H){let me=[],Re=[];for(;x.length>A;)me.push(x.pop()),Re.push(T.pop()+I-$);x.push(E(s.types[K],me,Re,z-$,U-z,H)),T.push($-I)}function E(x,T,I,A,$,z,K){if(z){let U=[Br.contextHash,z];K=K?[U].concat(K):[U]}if($>25){let U=[Br.lookAhead,$];K=K?[U].concat(K):[U]}return new Si(x,T,I,A,K)}function S(x,T,I){let{id:A,start:$,end:z,size:K}=c;if(c.next(),K>=0&&A<l){let U=I;if(K>4){let H=c.pos-(K-4);for(;c.pos>H;)I=S(x,T,I)}T[--I]=U,T[--I]=z-x,T[--I]=$-x,T[--I]=A}else-3==K?d=A:-4==K&&(p=A);return I}let v=[],w=[];for(;c.pos>0;)f(t.start||0,t.bufferStart||0,v,w,-1,0);let g=null!==(n=t.length)&&void 0!==n?n:v.length?w[0]+v[0].length:0;return new Si(u[t.topID],v.reverse(),w.reverse(),g)}(n)}}Si.empty=new Si(Ca.none,[],[],0);class AG{constructor(n,i){this.buffer=n,this.index=i}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new AG(this.buffer,this.index)}}class ny{constructor(n,i,s){this.buffer=n,this.length=i,this.set=s}get type(){return Ca.none}toString(){let n=[];for(let i=0;i<this.buffer.length;)n.push(this.childString(i)),i=this.buffer[i+3];return n.join(",")}childString(n){let s=this.buffer[n+3],o=this.set.types[this.buffer[n]],a=o.name;if(/\W/.test(a)&&!o.isError&&(a=JSON.stringify(a)),s==(n+=4))return a;let l=[];for(;n<s;)l.push(this.childString(n)),n=this.buffer[n+3];return a+"("+l.join(",")+")"}findChild(n,i,s,o,a){let{buffer:l}=this,c=-1;for(let u=n;u!=i&&!(E2e(a,o,l[u+1],l[u+2])&&(c=u,s>0));u=l[u+3]);return c}slice(n,i,s){let o=this.buffer,a=new Uint16Array(i-n),l=0;for(let c=n,u=0;c<i;){a[u++]=o[c++],a[u++]=o[c++]-s;let d=a[u++]=o[c++]-s;a[u++]=o[c++]-n,l=Math.max(l,d)}return new ny(a,l,this.set)}}function E2e(t,n,i,s){switch(t){case-2:return i<n;case-1:return s>=n&&i<n;case 0:return i<n&&s>n;case 1:return i<=n&&s>n;case 2:return s>n;case 4:return!0}}function bO(t,n,i,s){for(var o;t.from==t.to||(i<1?t.from>=n:t.from>n)||(i>-1?t.to<=n:t.to<n);){let l=!s&&t instanceof cc&&t.index<0?null:t.parent;if(!l)return t;t=l}let a=s?0:Oo.IgnoreOverlays;if(s)for(let l=t,c=l.parent;c;l=c,c=l.parent)l instanceof cc&&l.index<0&&(null===(o=c.enter(n,i,a))||void 0===o?void 0:o.from)!=l.from&&(t=c);for(;;){let l=t.enter(n,i,a);if(!l)return t;t=l}}class x2e{cursor(n=0){return new fR(this,n)}getChild(n,i=null,s=null){let o=w2e(this,n,i,s);return o.length?o[0]:null}getChildren(n,i=null,s=null){return w2e(this,n,i,s)}resolve(n,i=0){return bO(this,n,i,!1)}resolveInner(n,i=0){return bO(this,n,i,!0)}matchContext(n){return IG(this.parent,n)}enterUnfinishedNodesBefore(n){let i=this.childBefore(n),s=this;for(;i;){let o=i.lastChild;if(!o||o.to!=i.to)break;o.type.isError&&o.from==o.to?(s=i,i=o.prevSibling):i=o}return s}get node(){return this}get next(){return this.parent}}class cc extends x2e{constructor(n,i,s,o){super(),this._tree=n,this.from=i,this.index=s,this._parent=o}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(n,i,s,o,a=0){for(let l=this;;){for(let{children:c,positions:u}=l._tree,d=i>0?c.length:-1;n!=d;n+=i){let p=c[n],f=u[n]+l.from;if(E2e(o,s,f,f+p.length))if(p instanceof ny){if(a&Oo.ExcludeBuffers)continue;let h=p.findChild(0,p.buffer.length,i,s-f,o);if(h>-1)return new Ih(new Q0t(l,p,n,f),null,h)}else if(a&Oo.IncludeAnonymous||!p.type.isAnonymous||RG(p)){let h;if(!(a&Oo.IgnoreMounts)&&(h=vO.get(p))&&!h.overlay)return new cc(h.tree,f,n,l);let m=new cc(p,f,n,l);return a&Oo.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(i<0?p.children.length-1:0,i,s,o)}}if(a&Oo.IncludeAnonymous||!l.type.isAnonymous||(n=l.index>=0?l.index+i:i<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(n){return this.nextChild(0,1,n,2)}childBefore(n){return this.nextChild(this._tree.children.length-1,-1,n,-2)}enter(n,i,s=0){let o;if(!(s&Oo.IgnoreOverlays)&&(o=vO.get(this._tree))&&o.overlay){let a=n-this.from;for(let{from:l,to:c}of o.overlay)if((i>0?l<=a:l<a)&&(i<0?c>=a:c>a))return new cc(o.tree,o.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,n,i,s)}nextSignificantParent(){let n=this;for(;n.type.isAnonymous&&n._parent;)n=n._parent;return n}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function w2e(t,n,i,s){let o=t.cursor(),a=[];if(!o.firstChild())return a;if(null!=i)for(let l=!1;!l;)if(l=o.type.is(i),!o.nextSibling())return a;for(;;){if(null!=s&&o.type.is(s))return a;if(o.type.is(n)&&a.push(o.node),!o.nextSibling())return null==s?a:[]}}function IG(t,n,i=n.length-1){for(let s=t;i>=0;s=s.parent){if(!s)return!1;if(!s.type.isAnonymous){if(n[i]&&n[i]!=s.name)return!1;i--}}return!0}class Q0t{constructor(n,i,s,o){this.parent=n,this.buffer=i,this.index=s,this.start=o}}class Ih extends x2e{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(n,i,s){super(),this.context=n,this._parent=i,this.index=s,this.type=n.buffer.set.types[n.buffer.buffer[s]]}child(n,i,s){let{buffer:o}=this.context,a=o.findChild(this.index+4,o.buffer[this.index+3],n,i-this.context.start,s);return a<0?null:new Ih(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(n){return this.child(1,n,2)}childBefore(n){return this.child(-1,n,-2)}enter(n,i,s=0){if(s&Oo.ExcludeBuffers)return null;let{buffer:o}=this.context,a=o.findChild(this.index+4,o.buffer[this.index+3],i>0?1:-1,n-this.context.start,i);return a<0?null:new Ih(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(n){return this._parent?null:this.context.parent.nextChild(this.context.index+n,n,0,4)}get nextSibling(){let{buffer:n}=this.context,i=n.buffer[this.index+3];return i<(this._parent?n.buffer[this._parent.index+3]:n.buffer.length)?new Ih(this.context,this._parent,i):this.externalSibling(1)}get prevSibling(){let{buffer:n}=this.context,i=this._parent?this._parent.index+4:0;return this.index==i?this.externalSibling(-1):new Ih(this.context,this._parent,n.findChild(i,this.index,-1,0,4))}get tree(){return null}toTree(){let n=[],i=[],{buffer:s}=this.context,o=this.index+4,a=s.buffer[this.index+3];return a>o&&(n.push(s.slice(o,a,s.buffer[this.index+1])),i.push(0)),new Si(this.type,n,i,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function C2e(t){if(!t.length)return null;let n=0,i=t[0];for(let a=1;a<t.length;a++){let l=t[a];(l.from>i.from||l.to<i.to)&&(i=l,n=a)}let s=i instanceof cc&&i.index<0?null:i.parent,o=t.slice();return s?o[n]=s:o.splice(n,1),new Z0t(o,i)}class Z0t{constructor(n,i){this.heads=n,this.node=i}get next(){return C2e(this.heads)}}class fR{get name(){return this.type.name}constructor(n,i=0){if(this.mode=i,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,n instanceof cc)this.yieldNode(n);else{this._tree=n.context.parent,this.buffer=n.context;for(let s=n._parent;s;s=s._parent)this.stack.unshift(s.index);this.bufferNode=n,this.yieldBuf(n.index)}}yieldNode(n){return!!n&&(this._tree=n,this.type=n.type,this.from=n.from,this.to=n.to,!0)}yieldBuf(n,i){this.index=n;let{start:s,buffer:o}=this.buffer;return this.type=i||o.set.types[o.buffer[n]],this.from=s+o.buffer[n+1],this.to=s+o.buffer[n+2],!0}yield(n){return!!n&&(n instanceof cc?(this.buffer=null,this.yieldNode(n)):(this.buffer=n.context,this.yieldBuf(n.index,n.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(n,i,s){if(!this.buffer)return this.yield(this._tree.nextChild(n<0?this._tree._tree.children.length-1:0,n,i,s,this.mode));let{buffer:o}=this.buffer,a=o.findChild(this.index+4,o.buffer[this.index+3],n,i-this.buffer.start,s);return!(a<0)&&(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(n){return this.enterChild(1,n,2)}childBefore(n){return this.enterChild(-1,n,-2)}enter(n,i,s=this.mode){return this.buffer?!(s&Oo.ExcludeBuffers)&&this.enterChild(1,n,i):this.yield(this._tree.enter(n,i,s))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Oo.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let n=this.mode&Oo.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(n)}sibling(n){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+n,n,0,4,this.mode));let{buffer:i}=this.buffer,s=this.stack.length-1;if(n<0){let o=s<0?0:this.stack[s]+4;if(this.index!=o)return this.yieldBuf(i.findChild(o,this.index,-1,0,4))}else{let o=i.buffer[this.index+3];if(o<(s<0?i.buffer.length:i.buffer[this.stack[s]+3]))return this.yieldBuf(o)}return s<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+n,n,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(n){let i,s,{buffer:o}=this;if(o){if(n>0){if(this.index<o.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(o.buffer.buffer[a+3]<this.index)return!1;({index:i,parent:s}=o)}else({index:i,_parent:s}=this._tree);for(;s;({index:i,_parent:s}=s))if(i>-1)for(let a=i+n,l=n<0?-1:s._tree.children.length;a!=l;a+=n){let c=s._tree.children[a];if(this.mode&Oo.IncludeAnonymous||c instanceof ny||!c.type.isAnonymous||RG(c))return!1}return!0}move(n,i){if(i&&this.enterChild(n,0,4))return!0;for(;;){if(this.sibling(n))return!0;if(this.atLastNode(n)||!this.parent())return!1}}next(n=!0){return this.move(1,n)}prev(n=!0){return this.move(-1,n)}moveTo(n,i=0){for(;(this.from==this.to||(i<1?this.from>=n:this.from>n)||(i>-1?this.to<=n:this.to<n))&&this.parent(););for(;this.enterChild(1,n,i););return this}get node(){if(!this.buffer)return this._tree;let n=this.bufferNode,i=null,s=0;if(n&&n.context==this.buffer)e:for(let o=this.index,a=this.stack.length;a>=0;){for(let l=n;l;l=l._parent)if(l.index==o){if(o==this.index)return l;i=l,s=a+1;break e}o=this.stack[--a]}for(let o=s;o<this.stack.length;o++)i=new Ih(this.buffer,i,this.stack[o]);return this.bufferNode=new Ih(this.buffer,i,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(n,i){for(let s=0;;){let o=!1;if(this.type.isAnonymous||!1!==n(this)){if(this.firstChild()){s++;continue}this.type.isAnonymous||(o=!0)}for(;;){if(o&&i&&i(this),o=this.type.isAnonymous,!s)return;if(this.nextSibling())break;this.parent(),s--,o=!0}}}matchContext(n){if(!this.buffer)return IG(this.node.parent,n);let{buffer:i}=this.buffer,{types:s}=i.set;for(let o=n.length-1,a=this.stack.length-1;o>=0;a--){if(a<0)return IG(this._tree,n,o);let l=s[i.buffer[this.stack[a]]];if(!l.isAnonymous){if(n[o]&&n[o]!=l.name)return!1;o--}}return!0}}function RG(t){return t.children.some(n=>n instanceof ny||!n.type.isAnonymous||RG(n))}const S2e=new WeakMap;function hR(t,n){if(!t.isAnonymous||n instanceof ny||n.type!=t)return 1;let i=S2e.get(n);if(null==i){i=1;for(let s of n.children){if(s.type!=t||!(s instanceof Si)){i=1;break}i+=hR(t,s)}S2e.set(n,i)}return i}function NG(t,n,i,s,o,a,l,c,u){let d=0;for(let y=s;y<o;y++)d+=hR(t,n[y]);let p=Math.ceil(1.5*d/8),f=[],h=[];return function m(y,E,_,S,v){for(let w=_;w<S;){let g=w,x=E[w],T=hR(t,y[w]);for(w++;w<S;w++){let I=hR(t,y[w]);if(T+I>=p)break;T+=I}if(w==g+1){if(T>p){let I=y[g];m(I.children,I.positions,0,I.children.length,E[g]+v);continue}f.push(y[g])}else f.push(NG(t,y,E,g,w,x,E[w-1]+y[w-1].length-x,null,u));h.push(x+v-a)}}(n,i,s,o,0),(c||u)(f,h,l)}class Im{constructor(n,i,s,o,a=!1,l=!1){this.from=n,this.to=i,this.tree=s,this.offset=o,this.open=(a?1:0)|(l?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(n,i=[],s=!1){let o=[new Im(0,n.length,n,0,!1,s)];for(let a of i)a.to>n.length&&o.push(a);return o}static applyChanges(n,i,s=128){if(!i.length)return n;let o=[],a=1,l=n.length?n[0]:null;for(let c=0,u=0,d=0;;c++){let p=c<i.length?i[c]:null,f=p?p.fromA:1e9;if(f-u>=s)for(;l&&l.from<f;){let h=l;if(u>=h.from||f<=h.to||d){let m=Math.max(h.from,u)-d,y=Math.min(h.to,f)-d;h=m>=y?null:new Im(m,y,h.tree,h.offset+d,c>0,!!p)}if(h&&o.push(h),l.to>f)break;l=a<n.length?n[a++]:null}if(!p)break;u=p.toA,d=p.toA-p.toB}return o}}class mR{startParse(n,i,s){return"string"==typeof n&&(n=new tmt(n)),s=s?s.length?s.map(o=>new cp(o.from,o.to)):[new cp(0,0)]:[new cp(0,n.length)],this.createParse(n,i||[],s)}parse(n,i,s){let o=this.startParse(n,i,s);for(;;){let a=o.advance();if(a)return a}}}class tmt{constructor(n){this.string=n}get length(){return this.string.length}chunk(n){return this.string.slice(n)}get lineChunks(){return!1}read(n,i){return this.string.slice(n,i)}}function nmt(t){return(n,i,s,o)=>new imt(n,t,i,s,o)}class O2e{constructor(n,i,s,o,a){this.parser=n,this.parse=i,this.overlay=s,this.target=o,this.from=a}}function T2e(t){if(!t.length||t.some(n=>n.from>=n.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class rmt{constructor(n,i,s,o,a,l,c){this.parser=n,this.predicate=i,this.mounts=s,this.index=o,this.start=a,this.target=l,this.prev=c,this.depth=0,this.ranges=[]}}const LG=new Br({perNode:!0});class imt{constructor(n,i,s,o,a){this.nest=i,this.input=s,this.fragments=o,this.ranges=a,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=n}advance(){if(this.baseParse){let s=this.baseParse.advance();if(!s)return null;if(this.baseParse=null,this.baseTree=s,this.startInner(),null!=this.stoppedAt)for(let o of this.inner)o.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let s=this.baseTree;return null!=this.stoppedAt&&(s=new Si(s.type,s.children,s.positions,s.length,s.propValues.concat([[LG,this.stoppedAt]]))),s}let n=this.inner[this.innerDone],i=n.parse.advance();if(i){this.innerDone++;let s=Object.assign(Object.create(null),n.target.props);s[Br.mounted.id]=new vO(i,n.overlay,n.parser),n.target.props=s}return null}get parsedPos(){if(this.baseParse)return 0;let n=this.input.length;for(let i=this.innerDone;i<this.inner.length;i++)this.inner[i].from<n&&(n=Math.min(n,this.inner[i].parse.parsedPos));return n}stopAt(n){if(this.stoppedAt=n,this.baseParse)this.baseParse.stopAt(n);else for(let i=this.innerDone;i<this.inner.length;i++)this.inner[i].parse.stopAt(n)}startInner(){let n=new amt(this.fragments),i=null,s=null,o=new fR(new cc(this.baseTree,this.ranges[0].from,0,null),Oo.IncludeAnonymous|Oo.IgnoreMounts);e:for(let a,l;;){let u,c=!0;if(null!=this.stoppedAt&&o.from>=this.stoppedAt)c=!1;else if(n.hasNode(o)){if(i){let d=i.mounts.find(p=>p.frag.from<=o.from&&p.frag.to>=o.to&&p.mount.overlay);if(d)for(let p of d.mount.overlay){let f=p.from+d.pos,h=p.to+d.pos;f>=o.from&&h<=o.to&&!i.ranges.some(m=>m.from<h&&m.to>f)&&i.ranges.push({from:f,to:h})}}c=!1}else if(s&&(l=smt(s.ranges,o.from,o.to)))c=2!=l;else if(!o.type.isAnonymous&&(a=this.nest(o,this.input))&&(o.from<o.to||!a.overlay)){o.tree||omt(o);let d=n.findMounts(o.from,a.parser);if("function"==typeof a.overlay)i=new rmt(a.parser,a.overlay,d,this.inner.length,o.from,o.tree,i);else{let p=k2e(this.ranges,a.overlay||(o.from<o.to?[new cp(o.from,o.to)]:[]));p.length&&T2e(p),(p.length||!a.overlay)&&this.inner.push(new O2e(a.parser,p.length?a.parser.startParse(this.input,M2e(d,p),p):a.parser.startParse(""),a.overlay?a.overlay.map(f=>new cp(f.from-o.from,f.to-o.from)):null,o.tree,p.length?p[0].from:o.from)),a.overlay?p.length&&(s={ranges:p,depth:0,prev:s}):c=!1}}else if(i&&(u=i.predicate(o))&&(!0===u&&(u=new cp(o.from,o.to)),u.from<u.to)){let d=i.ranges.length-1;d>=0&&i.ranges[d].to==u.from?i.ranges[d]={from:i.ranges[d].from,to:u.to}:i.ranges.push(u)}if(c&&o.firstChild())i&&i.depth++,s&&s.depth++;else for(;!o.nextSibling();){if(!o.parent())break e;if(i&&! --i.depth){let d=k2e(this.ranges,i.ranges);d.length&&(T2e(d),this.inner.splice(i.index,0,new O2e(i.parser,i.parser.startParse(this.input,M2e(i.mounts,d),d),i.ranges.map(p=>new cp(p.from-i.start,p.to-i.start)),i.target,d[0].from))),i=i.prev}s&&! --s.depth&&(s=s.prev)}}}}function smt(t,n,i){for(let s of t){if(s.from>=i)break;if(s.to>n)return s.from<=n&&s.to>=i?2:1}return 0}function P2e(t,n,i,s,o,a){if(n<i){let l=t.buffer[n+1];s.push(t.slice(n,i,l)),o.push(l-a)}}function omt(t){let{node:n}=t,i=[],s=n.context.buffer;do{i.push(t.index),t.parent()}while(!t.tree);let o=t.tree,a=o.children.indexOf(s),l=o.children[a],c=l.buffer,u=[a];o.children[a]=function d(p,f,h,m,y,E){let _=i[E],S=[],v=[];P2e(l,p,_,S,v,m);let w=c[_+1],g=c[_+2];u.push(S.length);let x=E?d(_+4,c[_+3],l.set.types[c[_]],w,g-w,E-1):n.toTree();return S.push(x),v.push(w-m),P2e(l,c[_+3],f,S,v,m),new Si(h,S,v,y)}(0,c.length,Ca.none,0,l.length,i.length-1);for(let p of u)t.yield(new cc(t.tree.children[p],t.tree.positions[p]+t.from,p,t._tree))}class D2e{constructor(n,i){this.offset=i,this.done=!1,this.cursor=n.cursor(Oo.IncludeAnonymous|Oo.IgnoreMounts)}moveTo(n){let{cursor:i}=this,s=n-this.offset;for(;!this.done&&i.from<s;)i.to>=n&&i.enter(s,1,Oo.IgnoreOverlays|Oo.ExcludeBuffers)||i.next(!1)||(this.done=!0)}hasNode(n){if(this.moveTo(n.from),!this.done&&this.cursor.from+this.offset==n.from&&this.cursor.tree)for(let i=this.cursor.tree;;){if(i==n.tree)return!0;if(!(i.children.length&&0==i.positions[0]&&i.children[0]instanceof Si))break;i=i.children[0]}return!1}}class amt{constructor(n){var i;if(this.fragments=n,this.curTo=0,this.fragI=0,n.length){let s=this.curFrag=n[0];this.curTo=null!==(i=s.tree.prop(LG))&&void 0!==i?i:s.to,this.inner=new D2e(s.tree,-s.offset)}else this.curFrag=this.inner=null}hasNode(n){for(;this.curFrag&&n.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=n.from&&this.curTo>=n.to&&this.inner.hasNode(n)}nextFrag(){var n;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let i=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(n=i.tree.prop(LG))&&void 0!==n?n:i.to,this.inner=new D2e(i.tree,-i.offset)}}findMounts(n,i){var s;let o=[];if(this.inner){this.inner.cursor.moveTo(n,1);for(let a=this.inner.cursor.node;a;a=a.parent){let l=null===(s=a.tree)||void 0===s?void 0:s.prop(Br.mounted);if(l&&l.parser==i)for(let c=this.fragI;c<this.fragments.length;c++){let u=this.fragments[c];if(u.from>=a.to)break;u.tree==this.curFrag.tree&&o.push({frag:u,pos:a.from-u.offset,mount:l})}}}return o}}function k2e(t,n){let i=null,s=n;for(let o=1,a=0;o<t.length;o++){let l=t[o-1].to,c=t[o].from;for(;a<s.length;a++){let u=s[a];if(u.from>=c)break;u.to<=l||(i||(s=i=n.slice()),u.from<l?(i[a]=new cp(u.from,l),u.to>c&&i.splice(a+1,0,new cp(c,u.to))):u.to>c?i[a--]=new cp(c,u.to):i.splice(a--,1))}}return s}function lmt(t,n,i,s){let o=0,a=0,l=!1,c=!1,u=-1e9,d=[];for(;;){let p=o==t.length?1e9:l?t[o].to:t[o].from,f=a==n.length?1e9:c?n[a].to:n[a].from;if(l!=c){let h=Math.max(u,i),m=Math.min(p,f,s);h<m&&d.push(new cp(h,m))}if(u=Math.min(p,f),1e9==u)break;p==u&&(l?(l=!1,o++):l=!0),f==u&&(c?(c=!1,a++):c=!0)}return d}function M2e(t,n){let i=[];for(let{pos:s,mount:o,frag:a}of t){let l=s+(o.overlay?o.overlay[0].from:0),c=l+o.tree.length,u=Math.max(a.from,l),d=Math.min(a.to,c);if(o.overlay){let f=lmt(n,o.overlay.map(h=>new cp(h.from+s,h.to+s)),u,d);for(let h=0,m=u;;h++){let y=h==f.length,E=y?d:f[h].from;if(E>m&&i.push(new Im(m,E,o.tree,-l,a.from>=m||a.openStart,a.to<=E||a.openEnd)),y)break;m=f[h].to}}else i.push(new Im(u,d,o.tree,-l,a.from>=l||a.openStart,a.to<=c||a.openEnd))}return i}class gR{constructor(n,i,s,o,a,l,c,u,d,p=0,f){this.p=n,this.stack=i,this.state=s,this.reducePos=o,this.pos=a,this.score=l,this.buffer=c,this.bufferBase=u,this.curContext=d,this.lookAhead=p,this.parent=f}toString(){return`[${this.stack.filter((n,i)=>i%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(n,i,s=0){let o=n.parser.context;return new gR(n,[],i,s,s,0,[],0,o?new A2e(o,o.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(n,i){this.stack.push(this.state,i,this.bufferBase+this.buffer.length),this.state=n}reduce(n){var i;let s=n>>19,o=65535&n,{parser:a}=this.p,l=this.reducePos<this.pos-25;l&&this.setLookAhead(this.pos);let c=a.dynamicPrecedence(o);if(c&&(this.score+=c),0==s)return this.pushState(a.getGoto(this.state,o,!0),this.reducePos),o<a.minRepeatTerm&&this.storeNode(o,this.reducePos,this.reducePos,l?8:4,!0),void this.reduceContext(o,this.reducePos);let u=this.stack.length-3*(s-1)-(262144&n?6:0),d=u?this.stack[u-2]:this.p.ranges[0].from,p=this.reducePos-d;p>=2e3&&(null===(i=this.p.parser.nodeSet.types[o])||void 0===i||!i.isAnonymous)&&(d==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=p):this.p.lastBigReductionSize<p&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=d,this.p.lastBigReductionSize=p));let h=this.bufferBase+this.buffer.length-(u?this.stack[u-1]:0);if(o<a.minRepeatTerm||131072&n){let m=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(o,d,m,h+4,!0)}for(this.state=262144&n?this.stack[u]:a.getGoto(this.stack[u-3],o,!0);this.stack.length>u;)this.stack.pop();this.reduceContext(o,d)}storeNode(n,i,s,o=4,a=!1){if(0==n&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,c=this.buffer.length;if(0==c&&l.parent&&(c=l.bufferBase-l.parent.bufferBase,l=l.parent),c>0&&0==l.buffer[c-4]&&l.buffer[c-1]>-1){if(i==s)return;if(l.buffer[c-2]>=i)return void(l.buffer[c-2]=s)}}if(a&&this.pos!=s){let l=this.buffer.length;if(l>0&&0!=this.buffer[l-4]){let c=!1;for(let u=l;u>0&&this.buffer[u-2]>s;u-=4)if(this.buffer[u-1]>=0){c=!0;break}if(c)for(;l>0&&this.buffer[l-2]>s;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,o>4&&(o-=4)}this.buffer[l]=n,this.buffer[l+1]=i,this.buffer[l+2]=s,this.buffer[l+3]=o}else this.buffer.push(n,i,s,o)}shift(n,i,s,o){if(131072&n)this.pushState(65535&n,this.pos);else if(262144&n)this.pos=o,this.shiftContext(i,s),i<=this.p.parser.maxNode&&this.buffer.push(i,s,o,4);else{let a=n,{parser:l}=this.p;(o>this.pos||i<=l.maxNode)&&(this.pos=o,l.stateFlag(a,1)||(this.reducePos=o)),this.pushState(a,s),this.shiftContext(i,s),i<=l.maxNode&&this.buffer.push(i,s,o,4)}}apply(n,i,s,o){65536&n?this.reduce(n):this.shift(n,i,s,o)}useNode(n,i){let s=this.p.reused.length-1;(s<0||this.p.reused[s]!=n)&&(this.p.reused.push(n),s++);let o=this.pos;this.reducePos=this.pos=o+n.length,this.pushState(i,o),this.buffer.push(s,o,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,n,this,this.p.stream.reset(this.pos-n.length)))}split(){let n=this,i=n.buffer.length;for(;i>0&&n.buffer[i-2]>n.reducePos;)i-=4;let s=n.buffer.slice(i),o=n.bufferBase+i;for(;n&&o==n.bufferBase;)n=n.parent;return new gR(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,s,o,this.curContext,this.lookAhead,n)}recoverByDelete(n,i){let s=n<=this.p.parser.maxNode;s&&this.storeNode(n,this.pos,i,4),this.storeNode(0,this.pos,i,s?8:4),this.pos=this.reducePos=i,this.score-=190}canShift(n){for(let i=new cmt(this);;){let s=this.p.parser.stateSlot(i.state,4)||this.p.parser.hasAction(i.state,n);if(0==s)return!1;if(!(65536&s))return!0;i.reduce(s)}}recoverByInsert(n){if(this.stack.length>=300)return[];let i=this.p.parser.nextStates(this.state);if(i.length>8||this.stack.length>=120){let o=[];for(let l,a=0;a<i.length;a+=2)(l=i[a+1])!=this.state&&this.p.parser.hasAction(l,n)&&o.push(i[a],l);if(this.stack.length<120)for(let a=0;o.length<8&&a<i.length;a+=2){let l=i[a+1];o.some((c,u)=>1&u&&c==l)||o.push(i[a],l)}i=o}let s=[];for(let o=0;o<i.length&&s.length<4;o+=2){let a=i[o+1];if(a==this.state)continue;let l=this.split();l.pushState(a,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(i[o],this.pos),l.reducePos=this.pos,l.score-=200,s.push(l)}return s}forceReduce(){let{parser:n}=this.p,i=n.stateSlot(this.state,5);if(!(65536&i))return!1;if(!n.validAction(this.state,i)){let a=this.stack.length-3*(i>>19);if(a<0||n.getGoto(this.stack[a],65535&i,!1)<0){let l=this.findForcedReduction();if(null==l)return!1;i=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(i),!0}findForcedReduction(){let{parser:n}=this.p,i=[],s=(o,a)=>{if(!i.includes(o))return i.push(o),n.allActions(o,l=>{if(!(393216&l))if(65536&l){let c=(l>>19)-a;if(c>1){let u=65535&l,d=this.stack.length-3*c;if(d>=0&&n.getGoto(this.stack[d],u,!1)>=0)return c<<19|65536|u}}else{let c=s(l,a+1);if(null!=c)return c}})};return s(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:n}=this.p;return 65535==n.data[n.stateSlot(this.state,1)]&&!n.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(n){if(this.state!=n.state||this.stack.length!=n.stack.length)return!1;for(let i=0;i<this.stack.length;i+=3)if(this.stack[i]!=n.stack[i])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(n){return this.p.parser.dialect.flags[n]}shiftContext(n,i){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,n,this,this.p.stream.reset(i)))}reduceContext(n,i){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,n,this,this.p.stream.reset(i)))}emitContext(){let n=this.buffer.length-1;(n<0||-3!=this.buffer[n])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let n=this.buffer.length-1;(n<0||-4!=this.buffer[n])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(n){if(n!=this.curContext.context){let i=new A2e(this.curContext.tracker,n);i.hash!=this.curContext.hash&&this.emitContext(),this.curContext=i}}setLookAhead(n){n>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=n)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class A2e{constructor(n,i){this.tracker=n,this.context=i,this.hash=n.strict?n.hash(i):0}}class cmt{constructor(n){this.start=n,this.state=n.state,this.stack=n.stack,this.base=this.stack.length}reduce(n){let i=65535&n,s=n>>19;0==s?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(s-1);let o=this.start.p.parser.getGoto(this.stack[this.base-3],i,!0);this.state=o}}class yR{constructor(n,i,s){this.stack=n,this.pos=i,this.index=s,this.buffer=n.buffer,0==this.index&&this.maybeNext()}static create(n,i=n.bufferBase+n.buffer.length){return new yR(n,i,i-n.bufferBase)}maybeNext(){let n=this.stack.parent;null!=n&&(this.index=this.stack.bufferBase-n.bufferBase,this.stack=n,this.buffer=n.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new yR(this.stack,this.pos,this.index)}}function _O(t,n=Uint16Array){if("string"!=typeof t)return t;let i=null;for(let s=0,o=0;s<t.length;){let a=0;for(;;){let l=t.charCodeAt(s++),c=!1;if(126==l){a=65535;break}l>=92&&l--,l>=34&&l--;let u=l-32;if(u>=46&&(u-=46,c=!0),a+=u,c)break;a*=46}i?i[o++]=a:i=new n(a)}return i}class vR{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const I2e=new vR;class umt{constructor(n,i){this.input=n,this.ranges=i,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=I2e,this.rangeIndex=0,this.pos=this.chunkPos=i[0].from,this.range=i[0],this.end=i[i.length-1].to,this.readNext()}resolveOffset(n,i){let s=this.range,o=this.rangeIndex,a=this.pos+n;for(;a<s.from;){if(!o)return null;let l=this.ranges[--o];a-=s.from-l.to,s=l}for(;i<0?a>s.to:a>=s.to;){if(o==this.ranges.length-1)return null;let l=this.ranges[++o];a+=l.from-s.to,s=l}return a}clipPos(n){if(n>=this.range.from&&n<this.range.to)return n;for(let i of this.ranges)if(i.to>n)return Math.max(n,i.from);return this.end}peek(n){let s,o,i=this.chunkOff+n;if(i>=0&&i<this.chunk.length)s=this.pos+n,o=this.chunk.charCodeAt(i);else{let a=this.resolveOffset(n,1);if(null==a)return-1;if(s=a,s>=this.chunk2Pos&&s<this.chunk2Pos+this.chunk2.length)o=this.chunk2.charCodeAt(s-this.chunk2Pos);else{let l=this.rangeIndex,c=this.range;for(;c.to<=s;)c=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=s),s+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-s)),o=this.chunk2.charCodeAt(0)}}return s>=this.token.lookAhead&&(this.token.lookAhead=s+1),o}acceptToken(n,i=0){let s=i?this.resolveOffset(i,-1):this.pos;if(null==s||s<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=n,this.token.end=s}acceptTokenTo(n,i){this.token.value=n,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:n,chunkPos:i}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=n,this.chunk2Pos=i,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let n=this.input.chunk(this.pos);this.chunk=this.pos+n.length>this.range.to?n.slice(0,this.range.to-this.pos):n,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.next=this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?-1:this.chunk.charCodeAt(this.chunkOff)}advance(n=1){for(this.chunkOff+=n;this.pos+n>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();n-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=n,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(n,i){if(i?(this.token=i,i.start=n,i.lookAhead=n+1,i.value=i.extended=-1):this.token=I2e,this.pos!=n){if(this.pos=n,n==this.end)return this.setDone(),this;for(;n<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;n>=this.range.to;)this.range=this.ranges[++this.rangeIndex];n>=this.chunkPos&&n<this.chunkPos+this.chunk.length?this.chunkOff=n-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(n,i){if(n>=this.chunkPos&&i<=this.chunkPos+this.chunk.length)return this.chunk.slice(n-this.chunkPos,i-this.chunkPos);if(n>=this.chunk2Pos&&i<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(n-this.chunk2Pos,i-this.chunk2Pos);if(n>=this.range.from&&i<=this.range.to)return this.input.read(n,i);let s="";for(let o of this.ranges){if(o.from>=i)break;o.to>n&&(s+=this.input.read(Math.max(o.from,n),Math.min(o.to,i)))}return s}}class I3{constructor(n,i){this.data=n,this.id=i}token(n,i){let{parser:s}=i.p;!function R2e(t,n,i,s,o,a){let l=0,c=1<<s,{dialect:u}=i.p.parser;e:for(;c&t[l];){let d=t[l+1];for(let m=l+3;m<d;m+=2)if((t[m+1]&c)>0){let y=t[m];if(u.allows(y)&&(-1==n.token.value||n.token.value==y||pmt(y,n.token.value,o,a))){n.acceptToken(y);break}}let p=n.next,f=0,h=t[l+2];if(!(n.next<0&&h>f&&65535==t[d+3*h-3])){for(;f<h;){let m=f+h>>1,y=d+m+(m<<1);if(p<t[y])h=m;else{if(!(p>=(t[y+1]||65536))){l=t[y+2],n.advance();continue e}f=m+1}}break}l=t[d+3*h-1]}}(this.data,n,i,this.id,s.data,s.tokenPrecTable)}}I3.prototype.contextual=I3.prototype.fallback=I3.prototype.extend=!1,I3.prototype.fallback=I3.prototype.extend=!1;class ry{constructor(n,i={}){this.token=n,this.contextual=!!i.contextual,this.fallback=!!i.fallback,this.extend=!!i.extend}}function N2e(t,n,i){for(let o,s=n;65535!=(o=t[s]);s++)if(o==i)return s-n;return-1}function pmt(t,n,i,s){let o=N2e(i,s,n);return o<0||N2e(i,s,t)<o}const cd=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG);let FG=null;function L2e(t,n,i){let s=t.cursor(Oo.IncludeAnonymous);for(s.moveTo(n);;)if(!(i<0?s.childBefore(n):s.childAfter(n)))for(;;){if((i<0?s.to<n:s.from>n)&&!s.type.isError)return i<0?Math.max(0,Math.min(s.to-1,n-25)):Math.min(t.length,Math.max(s.from+1,n+25));if(i<0?s.prevSibling():s.nextSibling())break;if(!s.parent())return i<0?0:t.length}}class fmt{constructor(n,i){this.fragments=n,this.nodeSet=i,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let n=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(n){for(this.safeFrom=n.openStart?L2e(n.tree,n.from+n.offset,1)-n.offset:n.from,this.safeTo=n.openEnd?L2e(n.tree,n.to+n.offset,-1)-n.offset:n.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(n.tree),this.start.push(-n.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(n){if(n<this.nextStart)return null;for(;this.fragment&&this.safeTo<=n;)this.nextFragment();if(!this.fragment)return null;for(;;){let i=this.trees.length-1;if(i<0)return this.nextFragment(),null;let s=this.trees[i],o=this.index[i];if(o==s.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=s.children[o],l=this.start[i]+s.positions[o];if(l>n)return this.nextStart=l,null;if(a instanceof Si){if(l==n){if(l<this.safeFrom)return null;let c=l+a.length;if(c<=this.safeTo){let u=a.prop(Br.lookAhead);if(!u||c+u<this.fragment.to)return a}}this.index[i]++,l+a.length>=Math.max(this.safeFrom,n)&&(this.trees.push(a),this.start.push(l),this.index.push(0))}else this.index[i]++,this.nextStart=l+a.length}}}class hmt{constructor(n,i){this.stream=i,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=n.tokenizers.map(s=>new vR)}getActions(n){let i=0,s=null,{parser:o}=n.p,{tokenizers:a}=o,l=o.stateSlot(n.state,3),c=n.curContext?n.curContext.hash:0,u=0;for(let d=0;d<a.length;d++){if(!(1<<d&l))continue;let p=a[d],f=this.tokens[d];if((!s||p.fallback)&&((p.contextual||f.start!=n.pos||f.mask!=l||f.context!=c)&&(this.updateCachedToken(f,p,n),f.mask=l,f.context=c),f.lookAhead>f.end+25&&(u=Math.max(f.lookAhead,u)),0!=f.value)){let h=i;if(f.extended>-1&&(i=this.addActions(n,f.extended,f.end,i)),i=this.addActions(n,f.value,f.end,i),!p.extend&&(s=f,i>h))break}}for(;this.actions.length>i;)this.actions.pop();return u&&n.setLookAhead(u),!s&&n.pos==this.stream.end&&(s=new vR,s.value=n.p.parser.eofTerm,s.start=s.end=n.pos,i=this.addActions(n,s.value,s.end,i)),this.mainToken=s,this.actions}getMainToken(n){if(this.mainToken)return this.mainToken;let i=new vR,{pos:s,p:o}=n;return i.start=s,i.end=Math.min(s+1,o.stream.end),i.value=s==o.stream.end?o.parser.eofTerm:0,i}updateCachedToken(n,i,s){let o=this.stream.clipPos(s.pos);if(i.token(this.stream.reset(o,n),s),n.value>-1){let{parser:a}=s.p;for(let l=0;l<a.specialized.length;l++)if(a.specialized[l]==n.value){let c=a.specializers[l](this.stream.read(n.start,n.end),s);if(c>=0&&s.p.parser.dialect.allows(c>>1)){1&c?n.extended=c>>1:n.value=c>>1;break}}}else n.value=0,n.end=this.stream.clipPos(o+1)}putAction(n,i,s,o){for(let a=0;a<o;a+=3)if(this.actions[a]==n)return o;return this.actions[o++]=n,this.actions[o++]=i,this.actions[o++]=s,o}addActions(n,i,s,o){let{state:a}=n,{parser:l}=n.p,{data:c}=l;for(let u=0;u<2;u++)for(let d=l.stateSlot(a,u?2:1);;d+=3){if(65535==c[d]){if(1!=c[d+1]){0==o&&2==c[d+1]&&(o=this.putAction(Rm(c,d+2),i,s,o));break}d=Rm(c,d+2)}c[d]==i&&(o=this.putAction(Rm(c,d+1),i,s,o))}return o}}class mmt{constructor(n,i,s,o){this.parser=n,this.input=i,this.ranges=o,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new umt(i,o),this.tokens=new hmt(n,this.stream),this.topTerm=n.top[1];let{from:a}=o[0];this.stacks=[gR.start(this,n.top[0],a)],this.fragments=s.length&&this.stream.end-a>4*n.bufferLength?new fmt(s,n.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let o,a,n=this.stacks,i=this.minStackPos,s=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){let[l]=n;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<n.length;l++){let c=n[l];for(;;){if(this.tokens.mainToken=null,c.pos>i)s.push(c);else{if(this.advanceStack(c,s,n))continue;{o||(o=[],a=[]),o.push(c);let u=this.tokens.getMainToken(c);a.push(u.value,u.end)}}break}}if(!s.length){let l=o&&function ymt(t){let n=null;for(let i of t){let s=i.p.stoppedAt;(i.pos==i.p.stream.end||null!=s&&i.pos>s)&&i.p.parser.stateFlag(i.state,2)&&(!n||n.score<i.score)&&(n=i)}return n}(o);if(l)return cd&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw cd&&o&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&o){let l=null!=this.stoppedAt&&o[0].pos>this.stoppedAt?o[0]:this.runRecovery(o,a,s);if(l)return cd&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=1==this.recovering?1:3*this.recovering;if(s.length>l)for(s.sort((c,u)=>u.score-c.score);s.length>l;)s.pop();s.some(c=>c.reducePos>i)&&this.recovering--}else if(s.length>1){e:for(let l=0;l<s.length-1;l++){let c=s[l];for(let u=l+1;u<s.length;u++){let d=s[u];if(c.sameState(d)||c.buffer.length>500&&d.buffer.length>500){if(!((c.score-d.score||c.buffer.length-d.buffer.length)>0)){s.splice(l--,1);continue e}s.splice(u--,1)}}}s.length>12&&s.splice(12,s.length-12)}this.minStackPos=s[0].pos;for(let l=1;l<s.length;l++)s[l].pos<this.minStackPos&&(this.minStackPos=s[l].pos);return null}stopAt(n){if(null!=this.stoppedAt&&this.stoppedAt<n)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=n}advanceStack(n,i,s){let o=n.pos,{parser:a}=this,l=cd?this.stackID(n)+" -> ":"";if(null!=this.stoppedAt&&o>this.stoppedAt)return n.forceReduce()?n:null;if(this.fragments){let d=n.curContext&&n.curContext.tracker.strict,p=d?n.curContext.hash:0;for(let f=this.fragments.nodeAt(o);f;){let h=this.parser.nodeSet.types[f.type.id]==f.type?a.getGoto(n.state,f.type.id):-1;if(h>-1&&f.length&&(!d||(f.prop(Br.contextHash)||0)==p))return n.useNode(f,h),cd&&console.log(l+this.stackID(n)+` (via reuse of ${a.getName(f.type.id)})`),!0;if(!(f instanceof Si)||0==f.children.length||f.positions[0]>0)break;let m=f.children[0];if(!(m instanceof Si&&0==f.positions[0]))break;f=m}}let c=a.stateSlot(n.state,4);if(c>0)return n.reduce(c),cd&&console.log(l+this.stackID(n)+` (via always-reduce ${a.getName(65535&c)})`),!0;if(n.stack.length>=8400)for(;n.stack.length>6e3&&n.forceReduce(););let u=this.tokens.getActions(n);for(let d=0;d<u.length;){let p=u[d++],f=u[d++],h=u[d++],m=d==u.length||!s,y=m?n:n.split(),E=this.tokens.mainToken;if(y.apply(p,f,E?E.start:y.pos,h),cd&&console.log(l+this.stackID(y)+` (via ${65536&p?`reduce of ${a.getName(65535&p)}`:"shift"} for ${a.getName(f)} @ ${o}${y==n?"":", split"})`),m)return!0;y.pos>o?i.push(y):s.push(y)}return!1}advanceFully(n,i){let s=n.pos;for(;;){if(!this.advanceStack(n,null,null))return!1;if(n.pos>s)return F2e(n,i),!0}}runRecovery(n,i,s){let o=null,a=!1;for(let l=0;l<n.length;l++){let c=n[l],u=i[l<<1],d=i[1+(l<<1)],p=cd?this.stackID(c)+" -> ":"";if(c.deadEnd&&(a||(a=!0,c.restart(),cd&&console.log(p+this.stackID(c)+" (restarted)"),this.advanceFully(c,s))))continue;let f=c.split(),h=p;for(let m=0;f.forceReduce()&&m<10&&(cd&&console.log(h+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,s));m++)cd&&(h=this.stackID(f)+" -> ");for(let m of c.recoverByInsert(u))cd&&console.log(p+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,s);this.stream.end>c.pos?(d==c.pos&&(d++,u=0),c.recoverByDelete(u,d),cd&&console.log(p+this.stackID(c)+` (via recover-delete ${this.parser.getName(u)})`),F2e(c,s)):(!o||o.score<c.score)&&(o=c)}return o}stackToTree(n){return n.close(),Si.build({buffer:yR.create(n),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:n.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(n){let i=(FG||(FG=new WeakMap)).get(n);return i||FG.set(n,i=String.fromCodePoint(this.nextStackID++)),i+n}}function F2e(t,n){for(let i=0;i<n.length;i++){let s=n[i];if(s.pos==t.pos&&s.sameState(t))return void(n[i].score<t.score&&(n[i]=t))}n.push(t)}class gmt{constructor(n,i,s){this.source=n,this.flags=i,this.disabled=s}allows(n){return!this.disabled||0==this.disabled[n]}}const BG=t=>t;class $G{constructor(n){this.start=n.start,this.shift=n.shift||BG,this.reduce=n.reduce||BG,this.reuse=n.reuse||BG,this.hash=n.hash||(()=>0),this.strict=!1!==n.strict}}class s_ extends mR{constructor(n){if(super(),this.wrappers=[],14!=n.version)throw new RangeError(`Parser version (${n.version}) doesn't match runtime version (14)`);let i=n.nodeNames.split(" ");this.minRepeatTerm=i.length;for(let c=0;c<n.repeatNodeCount;c++)i.push("");let s=Object.keys(n.topRules).map(c=>n.topRules[c][1]),o=[];for(let c=0;c<i.length;c++)o.push([]);function a(c,u,d){o[c].push([u,u.deserialize(String(d))])}if(n.nodeProps)for(let c of n.nodeProps){let u=c[0];"string"==typeof u&&(u=Br[u]);for(let d=1;d<c.length;){let p=c[d++];if(p>=0)a(p,u,c[d++]);else{let f=c[d+-p];for(let h=-p;h>0;h--)a(c[d++],u,f);d++}}}this.nodeSet=new A3(i.map((c,u)=>Ca.define({name:u>=this.minRepeatTerm?void 0:c,id:u,props:o[u],top:s.indexOf(u)>-1,error:0==u,skipped:n.skippedNodes&&n.skippedNodes.indexOf(u)>-1}))),n.propSources&&(this.nodeSet=this.nodeSet.extend(...n.propSources)),this.strict=!1,this.bufferLength=b2e;let l=_O(n.tokenData);this.context=n.context,this.specializerSpecs=n.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(B2e),this.states=_O(n.states,Uint32Array),this.data=_O(n.stateData),this.goto=_O(n.goto),this.maxTerm=n.maxTerm,this.tokenizers=n.tokenizers.map(c=>"number"==typeof c?new I3(l,c):c),this.topRules=n.topRules,this.dialects=n.dialects||{},this.dynamicPrecedences=n.dynamicPrecedences||null,this.tokenPrecTable=n.tokenPrec,this.termNames=n.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(n,i,s){let o=new mmt(this,n,i,s);for(let a of this.wrappers)o=a(o,n,i,s);return o}getGoto(n,i,s=!1){let o=this.goto;if(i>=o[0])return-1;for(let a=o[i+1];;){let l=o[a++],c=1&l,u=o[a++];if(c&&s)return u;for(let d=a+(l>>1);a<d;a++)if(o[a]==n)return u;if(c)return-1}}hasAction(n,i){let s=this.data;for(let o=0;o<2;o++)for(let l,a=this.stateSlot(n,o?2:1);;a+=3){if(65535==(l=s[a])){if(1!=s[a+1]){if(2==s[a+1])return Rm(s,a+2);break}l=s[a=Rm(s,a+2)]}if(l==i||0==l)return Rm(s,a+1)}return 0}stateSlot(n,i){return this.states[6*n+i]}stateFlag(n,i){return(this.stateSlot(n,0)&i)>0}validAction(n,i){return!!this.allActions(n,s=>s==i||null)}allActions(n,i){let s=this.stateSlot(n,4),o=s?i(s):void 0;for(let a=this.stateSlot(n,1);null==o;a+=3){if(65535==this.data[a]){if(1!=this.data[a+1])break;a=Rm(this.data,a+2)}o=i(Rm(this.data,a+1))}return o}nextStates(n){let i=[];for(let s=this.stateSlot(n,1);;s+=3){if(65535==this.data[s]){if(1!=this.data[s+1])break;s=Rm(this.data,s+2)}if(!(1&this.data[s+2])){let o=this.data[s+1];i.some((a,l)=>1&l&&a==o)||i.push(this.data[s],o)}}return i}configure(n){let i=Object.assign(Object.create(s_.prototype),this);if(n.props&&(i.nodeSet=this.nodeSet.extend(...n.props)),n.top){let s=this.topRules[n.top];if(!s)throw new RangeError(`Invalid top rule name ${n.top}`);i.top=s}return n.tokenizers&&(i.tokenizers=this.tokenizers.map(s=>{let o=n.tokenizers.find(a=>a.from==s);return o?o.to:s})),n.specializers&&(i.specializers=this.specializers.slice(),i.specializerSpecs=this.specializerSpecs.map((s,o)=>{let a=n.specializers.find(c=>c.from==s.external);if(!a)return s;let l=Object.assign(Object.assign({},s),{external:a.to});return i.specializers[o]=B2e(l),l})),n.contextTracker&&(i.context=n.contextTracker),n.dialect&&(i.dialect=this.parseDialect(n.dialect)),null!=n.strict&&(i.strict=n.strict),n.wrap&&(i.wrappers=i.wrappers.concat(n.wrap)),null!=n.bufferLength&&(i.bufferLength=n.bufferLength),i}hasWrappers(){return this.wrappers.length>0}getName(n){return this.termNames?this.termNames[n]:String(n<=this.maxNode&&this.nodeSet.types[n].name||n)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(n){let i=this.dynamicPrecedences;return null==i?0:i[n]||0}parseDialect(n){let i=Object.keys(this.dialects),s=i.map(()=>!1);if(n)for(let a of n.split(" ")){let l=i.indexOf(a);l>=0&&(s[l]=!0)}let o=null;for(let a=0;a<i.length;a++)if(!s[a])for(let c,l=this.dialects[i[a]];65535!=(c=this.data[l++]);)(o||(o=new Uint8Array(this.maxTerm+1)))[c]=1;return new gmt(n,s,o)}static deserialize(n){return new s_(n)}}function Rm(t,n){return t[n]|t[n+1]<<16}function B2e(t){if(t.external){let n=t.extend?1:0;return(i,s)=>t.external(i,s)<<1|n}return t.get}let vmt=0;class ud{constructor(n,i,s,o){this.name=n,this.set=i,this.base=s,this.modified=o,this.id=vmt++}toString(){let{name:n}=this;for(let i of this.modified)i.name&&(n=`${i.name}(${n})`);return n}static define(n,i){let s="string"==typeof n?n:"?";if(n instanceof ud&&(i=n),i?.base)throw new Error("Can not derive from a modified tag");let o=new ud(s,[],null,[]);if(o.set.push(o),i)for(let a of i.set)o.set.push(a);return o}static defineModifier(n){let i=new bR(n);return s=>s.modified.indexOf(i)>-1?s:bR.get(s.base||s,s.modified.concat(i).sort((o,a)=>o.id-a.id))}}let bmt=0;class bR{constructor(n){this.name=n,this.instances=[],this.id=bmt++}static get(n,i){if(!i.length)return n;let s=i[0].instances.find(c=>c.base==n&&function _mt(t,n){return t.length==n.length&&t.every((i,s)=>i==n[s])}(i,c.modified));if(s)return s;let o=[],a=new ud(n.name,o,n,i);for(let c of i)c.instances.push(a);let l=function Emt(t){let n=[[]];for(let i=0;i<t.length;i++)for(let s=0,o=n.length;s<o;s++)n.push(n[s].concat(t[i]));return n.sort((i,s)=>s.length-i.length)}(i);for(let c of n.set)if(!c.modified.length)for(let u of l)o.push(bR.get(c,u));return a}}function o_(t){let n=Object.create(null);for(let i in t){let s=t[i];Array.isArray(s)||(s=[s]);for(let o of i.split(" "))if(o){let a=[],l=2,c=o;for(let f=0;;){if("..."==c&&f>0&&f+3==o.length){l=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!h)throw new RangeError("Invalid path: "+o);if(a.push("*"==h[0]?"":'"'==h[0][0]?JSON.parse(h[0]):h[0]),f+=h[0].length,f==o.length)break;let m=o[f++];if(f==o.length&&"!"==m){l=0;break}if("/"!=m)throw new RangeError("Invalid path: "+o);c=o.slice(f)}let u=a.length-1,d=a[u];if(!d)throw new RangeError("Invalid path: "+o);let p=new _R(s,l,u>0?a.slice(0,u):null);n[d]=p.sort(n[d])}}return $2e.add(n)}const $2e=new Br;class _R{constructor(n,i,s,o){this.tags=n,this.mode=i,this.context=s,this.next=o}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(n){return!n||n.depth<this.depth?(this.next=n,this):(n.next=this.sort(n.next),n)}get depth(){return this.context?this.context.length:0}}function V2e(t,n){let i=Object.create(null);for(let a of t)if(Array.isArray(a.tag))for(let l of a.tag)i[l.id]=a.class;else i[a.tag.id]=a.class;let{scope:s,all:o=null}=n||{};return{style:a=>{let l=o;for(let c of a)for(let u of c.set){let d=i[u.id];if(d){l=l?l+" "+d:d;break}}return l},scope:s}}function j2e(t,n,i,s=0,o=t.length){let a=new wmt(s,Array.isArray(n)?n:[n],i);a.highlightRange(t.cursor(),s,o,"",a.highlighters),a.flush(o)}_R.empty=new _R([],2,null);class wmt{constructor(n,i,s){this.at=n,this.highlighters=i,this.span=s,this.class=""}startSpan(n,i){i!=this.class&&(this.flush(n),n>this.at&&(this.at=n),this.class=i)}flush(n){n>this.at&&this.class&&this.span(this.at,n,this.class)}highlightRange(n,i,s,o,a){let{type:l,from:c,to:u}=n;if(c>=s||u<=i)return;l.isTop&&(a=this.highlighters.filter(m=>!m.scope||m.scope(l)));let d=o,p=function Cmt(t){let n=t.type.prop($2e);for(;n&&n.context&&!t.matchContext(n.context);)n=n.next;return n||null}(n)||_R.empty,f=function xmt(t,n){let i=null;for(let s of t){let o=s.style(n);o&&(i=i?i+" "+o:o)}return i}(a,p.tags);if(f&&(d&&(d+=" "),d+=f,1==p.mode&&(o+=(o?" ":"")+f)),this.startSpan(Math.max(i,c),d),p.opaque)return;let h=n.tree&&n.tree.prop(Br.mounted);if(h&&h.overlay){let m=n.node.enter(h.overlay[0].from+c,1),y=this.highlighters.filter(_=>!_.scope||_.scope(h.tree.type)),E=n.firstChild();for(let _=0,S=c;;_++){let v=_<h.overlay.length?h.overlay[_]:null,w=v?v.from+c:u,g=Math.max(i,S),x=Math.min(s,w);if(g<x&&E)for(;n.from<x&&(this.highlightRange(n,g,x,o,a),this.startSpan(Math.min(x,n.to),d),!(n.to>=w)&&n.nextSibling()););if(!v||w>s)break;S=v.to+c,S>i&&(this.highlightRange(m.cursor(),Math.max(i,v.from+c),Math.min(s,S),"",y),this.startSpan(Math.min(s,S),d))}E&&n.parent()}else if(n.firstChild()){h&&(o="");do{if(!(n.to<=i)){if(n.from>=s)break;this.highlightRange(n,i,s,o,a),this.startSpan(Math.min(s,n.to),d)}}while(n.nextSibling());n.parent()}}}const gn=ud.define,ER=gn(),iy=gn(),z2e=gn(iy),H2e=gn(iy),sy=gn(),xR=gn(sy),VG=gn(sy),Rh=gn(),a_=gn(Rh),Nh=gn(),Lh=gn(),jG=gn(),EO=gn(jG),wR=gn(),he={comment:ER,lineComment:gn(ER),blockComment:gn(ER),docComment:gn(ER),name:iy,variableName:gn(iy),typeName:z2e,tagName:gn(z2e),propertyName:H2e,attributeName:gn(H2e),className:gn(iy),labelName:gn(iy),namespace:gn(iy),macroName:gn(iy),literal:sy,string:xR,docString:gn(xR),character:gn(xR),attributeValue:gn(xR),number:VG,integer:gn(VG),float:gn(VG),bool:gn(sy),regexp:gn(sy),escape:gn(sy),color:gn(sy),url:gn(sy),keyword:Nh,self:gn(Nh),null:gn(Nh),atom:gn(Nh),unit:gn(Nh),modifier:gn(Nh),operatorKeyword:gn(Nh),controlKeyword:gn(Nh),definitionKeyword:gn(Nh),moduleKeyword:gn(Nh),operator:Lh,derefOperator:gn(Lh),arithmeticOperator:gn(Lh),logicOperator:gn(Lh),bitwiseOperator:gn(Lh),compareOperator:gn(Lh),updateOperator:gn(Lh),definitionOperator:gn(Lh),typeOperator:gn(Lh),controlOperator:gn(Lh),punctuation:jG,separator:gn(jG),bracket:EO,angleBracket:gn(EO),squareBracket:gn(EO),paren:gn(EO),brace:gn(EO),content:Rh,heading:a_,heading1:gn(a_),heading2:gn(a_),heading3:gn(a_),heading4:gn(a_),heading5:gn(a_),heading6:gn(a_),contentSeparator:gn(Rh),list:gn(Rh),quote:gn(Rh),emphasis:gn(Rh),strong:gn(Rh),link:gn(Rh),monospace:gn(Rh),strikethrough:gn(Rh),inserted:gn(),deleted:gn(),changed:gn(),invalid:gn(),meta:wR,documentMeta:gn(wR),annotation:gn(wR),processingInstruction:gn(wR),definition:ud.defineModifier("definition"),constant:ud.defineModifier("constant"),function:ud.defineModifier("function"),standard:ud.defineModifier("standard"),local:ud.defineModifier("local"),special:ud.defineModifier("special")};for(let t in he){let n=he[t];n instanceof ud&&(n.name=t)}V2e([{tag:he.link,class:"tok-link"},{tag:he.heading,class:"tok-heading"},{tag:he.emphasis,class:"tok-emphasis"},{tag:he.strong,class:"tok-strong"},{tag:he.keyword,class:"tok-keyword"},{tag:he.atom,class:"tok-atom"},{tag:he.bool,class:"tok-bool"},{tag:he.url,class:"tok-url"},{tag:he.labelName,class:"tok-labelName"},{tag:he.inserted,class:"tok-inserted"},{tag:he.deleted,class:"tok-deleted"},{tag:he.literal,class:"tok-literal"},{tag:he.string,class:"tok-string"},{tag:he.number,class:"tok-number"},{tag:[he.regexp,he.escape,he.special(he.string)],class:"tok-string2"},{tag:he.variableName,class:"tok-variableName"},{tag:he.local(he.variableName),class:"tok-variableName tok-local"},{tag:he.definition(he.variableName),class:"tok-variableName tok-definition"},{tag:he.special(he.variableName),class:"tok-variableName2"},{tag:he.definition(he.propertyName),class:"tok-propertyName tok-definition"},{tag:he.typeName,class:"tok-typeName"},{tag:he.namespace,class:"tok-namespace"},{tag:he.className,class:"tok-className"},{tag:he.macroName,class:"tok-macroName"},{tag:he.propertyName,class:"tok-propertyName"},{tag:he.operator,class:"tok-operator"},{tag:he.comment,class:"tok-comment"},{tag:he.meta,class:"tok-meta"},{tag:he.invalid,class:"tok-invalid"},{tag:he.punctuation,class:"tok-punctuation"}]);class l_ extends Error{}class Smt extends l_{constructor(n){super(`Invalid DateTime: ${n.toMessage()}`)}}class Omt extends l_{constructor(n){super(`Invalid Interval: ${n.toMessage()}`)}}class Tmt extends l_{constructor(n){super(`Invalid Duration: ${n.toMessage()}`)}}class R3 extends l_{}class U2e extends l_{constructor(n){super(`Invalid unit ${n}`)}}class uc extends l_{}class oy extends l_{constructor(){super("Zone is an abstract class")}}const Sn="numeric",mf="short",dd="long",CR={year:Sn,month:Sn,day:Sn},q2e={year:Sn,month:mf,day:Sn},Pmt={year:Sn,month:mf,day:Sn,weekday:mf},W2e={year:Sn,month:dd,day:Sn},G2e={year:Sn,month:dd,day:Sn,weekday:dd},K2e={hour:Sn,minute:Sn},Y2e={hour:Sn,minute:Sn,second:Sn},X2e={hour:Sn,minute:Sn,second:Sn,timeZoneName:mf},Q2e={hour:Sn,minute:Sn,second:Sn,timeZoneName:dd},Z2e={hour:Sn,minute:Sn,hourCycle:"h23"},J2e={hour:Sn,minute:Sn,second:Sn,hourCycle:"h23"},eEe={hour:Sn,minute:Sn,second:Sn,hourCycle:"h23",timeZoneName:mf},tEe={hour:Sn,minute:Sn,second:Sn,hourCycle:"h23",timeZoneName:dd},nEe={year:Sn,month:Sn,day:Sn,hour:Sn,minute:Sn},rEe={year:Sn,month:Sn,day:Sn,hour:Sn,minute:Sn,second:Sn},iEe={year:Sn,month:mf,day:Sn,hour:Sn,minute:Sn},sEe={year:Sn,month:mf,day:Sn,hour:Sn,minute:Sn,second:Sn},Dmt={year:Sn,month:mf,day:Sn,weekday:mf,hour:Sn,minute:Sn},oEe={year:Sn,month:dd,day:Sn,hour:Sn,minute:Sn,timeZoneName:mf},aEe={year:Sn,month:dd,day:Sn,hour:Sn,minute:Sn,second:Sn,timeZoneName:mf},lEe={year:Sn,month:dd,day:Sn,weekday:dd,hour:Sn,minute:Sn,timeZoneName:dd},cEe={year:Sn,month:dd,day:Sn,weekday:dd,hour:Sn,minute:Sn,second:Sn,timeZoneName:dd};class xO{get type(){throw new oy}get name(){throw new oy}get ianaName(){return this.name}get isUniversal(){throw new oy}offsetName(n,i){throw new oy}formatOffset(n,i){throw new oy}offset(n){throw new oy}equals(n){throw new oy}get isValid(){throw new oy}}let zG=null;class Su extends xO{static get instance(){return null===zG&&(zG=new Su),zG}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(n,{format:i,locale:s}){return NEe(n,i,s)}formatOffset(n,i){return OO(this.offset(n),i)}offset(n){return-new Date(n).getTimezoneOffset()}equals(n){return"system"===n.type}get isValid(){return!0}}const HG=new Map,Mmt={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6},UG=new Map;class Nm extends xO{static create(n){let i=UG.get(n);return void 0===i&&UG.set(n,i=new Nm(n)),i}static resetCache(){UG.clear(),HG.clear()}static isValidSpecifier(n){return this.isValidZone(n)}static isValidZone(n){if(!n)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:n}).format(),!0}catch{return!1}}constructor(n){super(),this.zoneName=n,this.valid=Nm.isValidZone(n)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(n,{format:i,locale:s}){return NEe(n,i,s,this.name)}formatOffset(n,i){return OO(this.offset(n),i)}offset(n){if(!this.valid)return NaN;const i=new Date(n);if(isNaN(i))return NaN;const s=function kmt(t){let n=HG.get(t);return void 0===n&&(n=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),HG.set(t,n)),n}(this.name);let[o,a,l,c,u,d,p]=s.formatToParts?function Imt(t,n){const i=t.formatToParts(n),s=[];for(let o=0;o<i.length;o++){const{type:a,value:l}=i[o],c=Mmt[a];"era"===a?s[c]=l:Hr(c)||(s[c]=parseInt(l,10))}return s}(s,i):function Amt(t,n){const i=t.format(n).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,o,a,l,c,u,d,p]=s;return[l,o,a,c,u,d,p]}(s,i);"BC"===c&&(o=1-Math.abs(o));let m=+i;const y=m%1e3;return m-=y>=0?y:1e3+y,(DR({year:o,month:a,day:l,hour:24===u?0:u,minute:d,second:p,millisecond:0})-m)/6e4}equals(n){return"iana"===n.type&&n.name===this.name}get isValid(){return this.valid}}let uEe={};const qG=new Map;function WG(t,n={}){const i=JSON.stringify([t,n]);let s=qG.get(i);return void 0===s&&(s=new Intl.DateTimeFormat(t,n),qG.set(i,s)),s}const GG=new Map,KG=new Map;let wO=null;const YG=new Map;function dEe(t){let n=YG.get(t);return void 0===n&&(n=new Intl.DateTimeFormat(t).resolvedOptions(),YG.set(t,n)),n}const XG=new Map;function SR(t,n,i,s){const o=t.listingMode();return"error"===o?null:"en"===o?i(n):s(n)}class Umt{constructor(n,i,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:o,floor:a,...l}=s;if(!i||Object.keys(l).length>0){const c={useGrouping:!1,...s};s.padTo>0&&(c.minimumIntegerDigits=s.padTo),this.inf=function Nmt(t,n={}){const i=JSON.stringify([t,n]);let s=GG.get(i);return void 0===s&&(s=new Intl.NumberFormat(t,n),GG.set(i,s)),s}(n,c)}}format(n){if(this.inf){const i=this.floor?Math.floor(n):n;return this.inf.format(i)}return Sa(this.floor?Math.floor(n):sK(n,3),this.padTo)}}class qmt{constructor(n,i,s){let o;if(this.opts=s,this.originalZone=void 0,this.opts.timeZone)this.dt=n;else if("fixed"===n.zone.type){const l=n.offset/60*-1,c=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;0!==n.offset&&Nm.create(c).valid?(o=c,this.dt=n):(o="UTC",this.dt=0===n.offset?n:n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone)}else"system"===n.zone.type?this.dt=n:"iana"===n.zone.type?(this.dt=n,o=n.zone.name):(o="UTC",this.dt=n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone);const a={...this.opts};a.timeZone=a.timeZone||o,this.dtf=WG(i,a)}format(){return this.originalZone?this.formatToParts().map(({value:n})=>n).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const n=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?n.map(i=>{if("timeZoneName"===i.type){const s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:s}}return i}):n}resolvedOptions(){return this.dtf.resolvedOptions()}}class Wmt{constructor(n,i,s){this.opts={style:"long",...s},!i&&MEe()&&(this.rtf=function Lmt(t,n={}){const{base:i,...s}=n,o=JSON.stringify([t,s]);let a=KG.get(o);return void 0===a&&(a=new Intl.RelativeTimeFormat(t,n),KG.set(o,a)),a}(n,s))}format(n,i){return this.rtf?this.rtf.format(n,i):function hgt(t,n,i="always",s=!1){const o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=-1===["hours","minutes","seconds"].indexOf(t);if("auto"===i&&a){const f="days"===t;switch(n){case 1:return f?"tomorrow":`next ${o[t][0]}`;case-1:return f?"yesterday":`last ${o[t][0]}`;case 0:return f?"today":`this ${o[t][0]}`}}const l=Object.is(n,-0)||n<0,c=Math.abs(n),u=1===c,d=o[t],p=s?u?d[1]:d[2]||d[1]:u?o[t][0]:t;return l?`${c} ${p} ago`:`in ${c} ${p}`}(i,n,this.opts.numeric,"long"!==this.opts.style)}formatToParts(n,i){return this.rtf?this.rtf.formatToParts(n,i):[]}}const pEe={firstDay:1,minimalDays:4,weekend:[6,7]};class os{static fromOpts(n){return os.create(n.locale,n.numberingSystem,n.outputCalendar,n.weekSettings,n.defaultToEN)}static create(n,i,s,o,a=!1){const l=n||Vo.defaultLocale,c=l||(a?"en-US":function Fmt(){return wO||(wO=(new Intl.DateTimeFormat).resolvedOptions().locale,wO)}()),u=i||Vo.defaultNumberingSystem,d=s||Vo.defaultOutputCalendar,p=rK(o)||Vo.defaultWeekSettings;return new os(c,u,d,p,l)}static resetCache(){wO=null,qG.clear(),GG.clear(),KG.clear(),YG.clear(),XG.clear()}static fromObject({locale:n,numberingSystem:i,outputCalendar:s,weekSettings:o}={}){return os.create(n,i,s,o)}constructor(n,i,s,o,a){const[l,c,u]=function $mt(t){const n=t.indexOf("-x-");-1!==n&&(t=t.substring(0,n));const i=t.indexOf("-u-");if(-1===i)return[t];{let s,o;try{s=WG(t).resolvedOptions(),o=t}catch{const u=t.substring(0,i);s=WG(u).resolvedOptions(),o=u}const{numberingSystem:a,calendar:l}=s;return[o,a,l]}}(n);this.locale=l,this.numberingSystem=i||c||null,this.outputCalendar=s||u||null,this.weekSettings=o,this.intl=function Vmt(t,n,i){return(i||n)&&(t.includes("-u-")||(t+="-u"),i&&(t+=`-ca-${i}`),n&&(t+=`-nu-${n}`)),t}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Hmt(t){return(!t.numberingSystem||"latn"===t.numberingSystem)&&("latn"===t.numberingSystem||!t.locale||t.locale.startsWith("en")||"latn"===dEe(t.locale).numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(n){return n&&0!==Object.getOwnPropertyNames(n).length?os.create(n.locale||this.specifiedLocale,n.numberingSystem||this.numberingSystem,n.outputCalendar||this.outputCalendar,rK(n.weekSettings)||this.weekSettings,n.defaultToEN||!1):this}redefaultToEN(n={}){return this.clone({...n,defaultToEN:!0})}redefaultToSystem(n={}){return this.clone({...n,defaultToEN:!1})}months(n,i=!1){return SR(this,n,BEe,()=>{const s=i?{month:n,day:"numeric"}:{month:n},o=i?"format":"standalone";return this.monthsCache[o][n]||(this.monthsCache[o][n]=function jmt(t){const n=[];for(let i=1;i<=12;i++){const s=Er.utc(2009,i,1);n.push(t(s))}return n}(a=>this.extract(a,s,"month"))),this.monthsCache[o][n]})}weekdays(n,i=!1){return SR(this,n,jEe,()=>{const s=i?{weekday:n,year:"numeric",month:"long",day:"numeric"}:{weekday:n},o=i?"format":"standalone";return this.weekdaysCache[o][n]||(this.weekdaysCache[o][n]=function zmt(t){const n=[];for(let i=1;i<=7;i++){const s=Er.utc(2016,11,13+i);n.push(t(s))}return n}(a=>this.extract(a,s,"weekday"))),this.weekdaysCache[o][n]})}meridiems(){return SR(this,void 0,()=>zEe,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Er.utc(2016,11,13,9),Er.utc(2016,11,13,19)].map(i=>this.extract(i,n,"dayperiod"))}return this.meridiemCache})}eras(n){return SR(this,n,HEe,()=>{const i={era:n};return this.eraCache[n]||(this.eraCache[n]=[Er.utc(-40,1,1),Er.utc(2017,1,1)].map(s=>this.extract(s,i,"era"))),this.eraCache[n]})}extract(n,i,s){const l=this.dtFormatter(n,i).formatToParts().find(c=>c.type.toLowerCase()===s);return l?l.value:null}numberFormatter(n={}){return new Umt(this.intl,n.forceSimple||this.fastNumbers,n)}dtFormatter(n,i={}){return new qmt(n,this.intl,i)}relFormatter(n={}){return new Wmt(this.intl,this.isEnglish(),n)}listFormatter(n={}){return function Rmt(t,n={}){const i=JSON.stringify([t,n]);let s=uEe[i];return s||(s=new Intl.ListFormat(t,n),uEe[i]=s),s}(this.intl,n)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||dEe(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:AEe()?function Bmt(t){let n=XG.get(t);if(!n){const i=new Intl.Locale(t);n="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,"minimalDays"in n||(n={...pEe,...n}),XG.set(t,n)}return n}(this.locale):pEe}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(n){return this.locale===n.locale&&this.numberingSystem===n.numberingSystem&&this.outputCalendar===n.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let QG=null;class Va extends xO{static get utcInstance(){return null===QG&&(QG=new Va(0)),QG}static instance(n){return 0===n?Va.utcInstance:new Va(n)}static parseSpecifier(n){if(n){const i=n.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new Va(kR(i[1],i[2]))}return null}constructor(n){super(),this.fixed=n}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${OO(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${OO(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(n,i){return OO(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(n){return"fixed"===n.type&&n.fixed===this.fixed}get isValid(){return!0}}class Gmt extends xO{constructor(n){super(),this.zoneName=n}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ay(t,n){if(Hr(t)||null===t)return n;if(t instanceof xO)return t;if(function Jmt(t){return"string"==typeof t}(t)){const s=t.toLowerCase();return"default"===s?n:"local"===s||"system"===s?Su.instance:"utc"===s||"gmt"===s?Va.utcInstance:Va.parseSpecifier(s)||Nm.create(t)}return ly(t)?Va.instance(t):"object"==typeof t&&"offset"in t&&"function"==typeof t.offset?t:new Gmt(t)}const ZG={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},fEe={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Kmt=ZG.hanidec.replace(/[\[|\]]/g,"").split(""),JG=new Map;function gf({numberingSystem:t},n=""){const i=t||"latn";let s=JG.get(i);void 0===s&&(s=new Map,JG.set(i,s));let o=s.get(n);return void 0===o&&(o=new RegExp(`${ZG[i]}${n}`),s.set(n,o)),o}let _Ee,hEe=()=>Date.now(),mEe="system",gEe=null,yEe=null,vEe=null,bEe=60,EEe=null;class Vo{static get now(){return hEe}static set now(n){hEe=n}static set defaultZone(n){mEe=n}static get defaultZone(){return ay(mEe,Su.instance)}static get defaultLocale(){return gEe}static set defaultLocale(n){gEe=n}static get defaultNumberingSystem(){return yEe}static set defaultNumberingSystem(n){yEe=n}static get defaultOutputCalendar(){return vEe}static set defaultOutputCalendar(n){vEe=n}static get defaultWeekSettings(){return EEe}static set defaultWeekSettings(n){EEe=rK(n)}static get twoDigitCutoffYear(){return bEe}static set twoDigitCutoffYear(n){bEe=n%100}static get throwOnInvalid(){return _Ee}static set throwOnInvalid(n){_Ee=n}static resetCaches(){os.resetCache(),Nm.resetCache(),Er.resetCache(),function Xmt(){JG.clear()}()}}class yf{constructor(n,i){this.reason=n,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const xEe=[0,31,59,90,120,151,181,212,243,273,304,334],wEe=[0,31,60,91,121,152,182,213,244,274,305,335];function up(t,n){return new yf("unit out of range",`you specified ${n} (of type ${typeof n}) as a ${t}, which is invalid`)}function eK(t,n,i){const s=new Date(Date.UTC(t,n-1,i));t<100&&t>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const o=s.getUTCDay();return 0===o?7:o}function CEe(t,n,i){return i+(CO(t)?wEe:xEe)[n-1]}function SEe(t,n){const i=CO(t)?wEe:xEe,s=i.findIndex(a=>a<n);return{month:s+1,day:n-i[s]}}function tK(t,n){return(t-n+7)%7+1}function OR(t,n=4,i=1){const{year:s,month:o,day:a}=t,l=CEe(s,o,a),c=tK(eK(s,o,a),i);let d,u=Math.floor((l-c+14-n)/7);return u<1?(d=s-1,u=SO(d,n,i)):u>SO(s,n,i)?(d=s+1,u=1):d=s,{weekYear:d,weekNumber:u,weekday:c,...AR(t)}}function OEe(t,n=4,i=1){const{weekYear:s,weekNumber:o,weekday:a}=t,l=tK(eK(s,1,n),i),c=L3(s);let d,u=7*o+a-l-7+n;u<1?(d=s-1,u+=L3(d)):u>c?(d=s+1,u-=L3(s)):d=s;const{month:p,day:f}=SEe(d,u);return{year:d,month:p,day:f,...AR(t)}}function nK(t){const{year:n,month:i,day:s}=t;return{year:n,ordinal:CEe(n,i,s),...AR(t)}}function TEe(t){const{year:n,ordinal:i}=t,{month:s,day:o}=SEe(n,i);return{year:n,month:s,day:o,...AR(t)}}function PEe(t,n){if(Hr(t.localWeekday)&&Hr(t.localWeekNumber)&&Hr(t.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!Hr(t.weekday)||!Hr(t.weekNumber)||!Hr(t.weekYear))throw new R3("Cannot mix locale-based week fields with ISO-based week fields");return Hr(t.localWeekday)||(t.weekday=t.localWeekday),Hr(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Hr(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:n.getMinDaysInFirstWeek(),startOfWeek:n.getStartOfWeek()}}function DEe(t){const n=TR(t.year),i=dp(t.month,1,12),s=dp(t.day,1,PR(t.year,t.month));return n?i?!s&&up("day",t.day):up("month",t.month):up("year",t.year)}function kEe(t){const{hour:n,minute:i,second:s,millisecond:o}=t,a=dp(n,0,23)||24===n&&0===i&&0===s&&0===o,l=dp(i,0,59),c=dp(s,0,59),u=dp(o,0,999);return a?l?c?!u&&up("millisecond",o):up("second",s):up("minute",i):up("hour",n)}function Hr(t){return typeof t>"u"}function ly(t){return"number"==typeof t}function TR(t){return"number"==typeof t&&t%1==0}function MEe(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function AEe(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function IEe(t,n,i){if(0!==t.length)return t.reduce((s,o)=>{const a=[n(o),o];return s&&i(s[0],a[0])===s[0]?s:a},null)[1]}function N3(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function rK(t){if(null==t)return null;if("object"!=typeof t)throw new uc("Week settings must be an object");if(!dp(t.firstDay,1,7)||!dp(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(n=>!dp(n,1,7)))throw new uc("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function dp(t,n,i){return TR(t)&&t>=n&&t<=i}function Sa(t,n=2){let s;return s=t<0?"-"+(""+-t).padStart(n,"0"):(""+t).padStart(n,"0"),s}function cy(t){if(!Hr(t)&&null!==t&&""!==t)return parseInt(t,10)}function c_(t){if(!Hr(t)&&null!==t&&""!==t)return parseFloat(t)}function iK(t){if(!Hr(t)&&null!==t&&""!==t){const n=1e3*parseFloat("0."+t);return Math.floor(n)}}function sK(t,n,i=!1){const s=10**n;return(i?Math.trunc:Math.round)(t*s)/s}function CO(t){return t%4==0&&(t%100!=0||t%400==0)}function L3(t){return CO(t)?366:365}function PR(t,n){const i=function rgt(t,n){return t-n*Math.floor(t/n)}(n-1,12)+1;return 2===i?CO(t+(n-i)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function DR(t){let n=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(n=new Date(n),n.setUTCFullYear(t.year,t.month-1,t.day)),+n}function REe(t,n,i){return-tK(eK(t,1,n),i)+n-1}function SO(t,n=4,i=1){const s=REe(t,n,i),o=REe(t+1,n,i);return(L3(t)-s+o)/7}function oK(t){return t>99?t:t>Vo.twoDigitCutoffYear?1900+t:2e3+t}function NEe(t,n,i,s=null){const o=new Date(t),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(a.timeZone=s);const l={timeZoneName:n,...a},c=new Intl.DateTimeFormat(i,l).formatToParts(o).find(u=>"timezonename"===u.type.toLowerCase());return c?c.value:null}function kR(t,n){let i=parseInt(t,10);Number.isNaN(i)&&(i=0);const s=parseInt(n,10)||0;return 60*i+(i<0||Object.is(i,-0)?-s:s)}function LEe(t){const n=Number(t);if("boolean"==typeof t||""===t||Number.isNaN(n))throw new uc(`Invalid unit value ${t}`);return n}function MR(t,n){const i={};for(const s in t)if(N3(t,s)){const o=t[s];if(null==o)continue;i[n(s)]=LEe(o)}return i}function OO(t,n){const i=Math.trunc(Math.abs(t/60)),s=Math.trunc(Math.abs(t%60)),o=t>=0?"+":"-";switch(n){case"short":return`${o}${Sa(i,2)}:${Sa(s,2)}`;case"narrow":return`${o}${i}${s>0?`:${s}`:""}`;case"techie":return`${o}${Sa(i,2)}${Sa(s,2)}`;default:throw new RangeError(`Value format ${n} is out of range for property format`)}}function AR(t){return function ngt(t,n){return n.reduce((i,s)=>(i[s]=t[s],i),{})}(t,["hour","minute","second","millisecond"])}const igt=["January","February","March","April","May","June","July","August","September","October","November","December"],FEe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],sgt=["J","F","M","A","M","J","J","A","S","O","N","D"];function BEe(t){switch(t){case"narrow":return[...sgt];case"short":return[...FEe];case"long":return[...igt];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const $Ee=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],VEe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ogt=["M","T","W","T","F","S","S"];function jEe(t){switch(t){case"narrow":return[...ogt];case"short":return[...VEe];case"long":return[...$Ee];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const zEe=["AM","PM"],agt=["Before Christ","Anno Domini"],lgt=["BC","AD"],cgt=["B","A"];function HEe(t){switch(t){case"narrow":return[...cgt];case"short":return[...lgt];case"long":return[...agt];default:return null}}function UEe(t,n){let i="";for(const s of t)i+=s.literal?s.val:n(s.val);return i}const mgt={D:CR,DD:q2e,DDD:W2e,DDDD:G2e,t:K2e,tt:Y2e,ttt:X2e,tttt:Q2e,T:Z2e,TT:J2e,TTT:eEe,TTTT:tEe,f:nEe,ff:iEe,fff:oEe,ffff:lEe,F:rEe,FF:sEe,FFF:aEe,FFFF:cEe};class dc{static create(n,i={}){return new dc(n,i)}static parseFormat(n){let i=null,s="",o=!1;const a=[];for(let l=0;l<n.length;l++){const c=n.charAt(l);"'"===c?(s.length>0&&a.push({literal:o||/^\s+$/.test(s),val:s}),i=null,s="",o=!o):o||c===i?s+=c:(s.length>0&&a.push({literal:/^\s+$/.test(s),val:s}),s=c,i=c)}return s.length>0&&a.push({literal:o||/^\s+$/.test(s),val:s}),a}static macroTokenToFormatOpts(n){return mgt[n]}constructor(n,i){this.opts=i,this.loc=n,this.systemLoc=null}formatWithSystemDefault(n,i){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(n,{...this.opts,...i}).format()}dtFormatter(n,i={}){return this.loc.dtFormatter(n,{...this.opts,...i})}formatDateTime(n,i){return this.dtFormatter(n,i).format()}formatDateTimeParts(n,i){return this.dtFormatter(n,i).formatToParts()}formatInterval(n,i){return this.dtFormatter(n.start,i).dtf.formatRange(n.start.toJSDate(),n.end.toJSDate())}resolvedOptions(n,i){return this.dtFormatter(n,i).resolvedOptions()}num(n,i=0){if(this.opts.forceSimple)return Sa(n,i);const s={...this.opts};return i>0&&(s.padTo=i),this.loc.numberFormatter(s).format(n)}formatDateTimeFromString(n,i){const s="en"===this.loc.listingMode(),o=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,a=(m,y)=>this.loc.extract(n,m,y),l=m=>n.isOffsetFixed&&0===n.offset&&m.allowZ?"Z":n.isValid?n.zone.formatOffset(n.ts,m.format):"",u=(m,y)=>s?function pgt(t,n){return BEe(n)[t.month-1]}(n,m):a(y?{month:m}:{month:m,day:"numeric"},"month"),d=(m,y)=>s?function dgt(t,n){return jEe(n)[t.weekday-1]}(n,m):a(y?{weekday:m}:{weekday:m,month:"long",day:"numeric"},"weekday"),p=m=>{const y=dc.macroTokenToFormatOpts(m);return y?this.formatWithSystemDefault(n,y):m},f=m=>s?function fgt(t,n){return HEe(n)[t.year<0?0:1]}(n,m):a({era:m},"era");return UEe(dc.parseFormat(i),m=>{switch(m){case"S":return this.num(n.millisecond);case"u":case"SSS":return this.num(n.millisecond,3);case"s":return this.num(n.second);case"ss":return this.num(n.second,2);case"uu":return this.num(Math.floor(n.millisecond/10),2);case"uuu":return this.num(Math.floor(n.millisecond/100));case"m":return this.num(n.minute);case"mm":return this.num(n.minute,2);case"h":return this.num(n.hour%12==0?12:n.hour%12);case"hh":return this.num(n.hour%12==0?12:n.hour%12,2);case"H":return this.num(n.hour);case"HH":return this.num(n.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return n.zone.offsetName(n.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return n.zone.offsetName(n.ts,{format:"long",locale:this.loc.locale});case"z":return n.zoneName;case"a":return s?function ugt(t){return zEe[t.hour<12?0:1]}(n):a({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return o?a({day:"numeric"},"day"):this.num(n.day);case"dd":return o?a({day:"2-digit"},"day"):this.num(n.day,2);case"c":case"E":return this.num(n.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return o?a({month:"numeric",day:"numeric"},"month"):this.num(n.month);case"LL":return o?a({month:"2-digit",day:"numeric"},"month"):this.num(n.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return o?a({month:"numeric"},"month"):this.num(n.month);case"MM":return o?a({month:"2-digit"},"month"):this.num(n.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return o?a({year:"numeric"},"year"):this.num(n.year);case"yy":return o?a({year:"2-digit"},"year"):this.num(n.year.toString().slice(-2),2);case"yyyy":return o?a({year:"numeric"},"year"):this.num(n.year,4);case"yyyyyy":return o?a({year:"numeric"},"year"):this.num(n.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(n.weekYear.toString().slice(-2),2);case"kkkk":return this.num(n.weekYear,4);case"W":return this.num(n.weekNumber);case"WW":return this.num(n.weekNumber,2);case"n":return this.num(n.localWeekNumber);case"nn":return this.num(n.localWeekNumber,2);case"ii":return this.num(n.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(n.localWeekYear,4);case"o":return this.num(n.ordinal);case"ooo":return this.num(n.ordinal,3);case"q":return this.num(n.quarter);case"qq":return this.num(n.quarter,2);case"X":return this.num(Math.floor(n.ts/1e3));case"x":return this.num(n.ts);default:return p(m)}})}formatDurationFromString(n,i){const s=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},a=dc.parseFormat(i),l=a.reduce((u,{literal:d,val:p})=>d?u:u.concat(p),[]);return UEe(a,(u=>d=>{const p=s(d);return p?this.num(u.get(p),d.length):d})(n.shiftTo(...l.map(s).filter(u=>u))))}}const qEe=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function F3(...t){const n=t.reduce((i,s)=>i+s.source,"");return RegExp(`^${n}$`)}function B3(...t){return n=>t.reduce(([i,s,o],a)=>{const[l,c,u]=a(n,o);return[{...i,...l},c||s,u]},[{},null,1]).slice(0,2)}function $3(t,...n){if(null==t)return[null,null];for(const[i,s]of n){const o=i.exec(t);if(o)return s(o)}return[null,null]}function WEe(...t){return(n,i)=>{const s={};let o;for(o=0;o<t.length;o++)s[t[o]]=cy(n[i+o]);return[s,null,i+o]}}const GEe=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,aK=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,KEe=RegExp(`${aK.source}(?:${GEe.source}?(?:\\[(${qEe.source})\\])?)?`),lK=RegExp(`(?:T${KEe.source})?`),_gt=WEe("weekYear","weekNumber","weekDay"),Egt=WEe("year","ordinal"),YEe=RegExp(`${aK.source} ?(?:${GEe.source}|(${qEe.source}))?`),wgt=RegExp(`(?: ${YEe.source})?`);function V3(t,n,i){const s=t[n];return Hr(s)?i:cy(s)}function j3(t,n){return[{hours:V3(t,n,0),minutes:V3(t,n+1,0),seconds:V3(t,n+2,0),milliseconds:iK(t[n+3])},null,n+4]}function TO(t,n){const i=!t[n]&&!t[n+1],s=kR(t[n+1],t[n+2]);return[{},i?null:Va.instance(s),n+3]}function PO(t,n){return[{},t[n]?Nm.create(t[n]):null,n+1]}const Sgt=RegExp(`^T?${aK.source}$`),Ogt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Tgt(t){const[n,i,s,o,a,l,c,u,d]=t,p="-"===n[0],f=u&&"-"===u[0],h=(m,y=!1)=>void 0!==m&&(y||m&&p)?-m:m;return[{years:h(c_(i)),months:h(c_(s)),weeks:h(c_(o)),days:h(c_(a)),hours:h(c_(l)),minutes:h(c_(c)),seconds:h(c_(u),"-0"===u),milliseconds:h(iK(d),f)}]}const Pgt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function cK(t,n,i,s,o,a,l){const c={year:2===n.length?oK(cy(n)):cy(n),month:FEe.indexOf(i)+1,day:cy(s),hour:cy(o),minute:cy(a)};return l&&(c.second=cy(l)),t&&(c.weekday=t.length>3?$Ee.indexOf(t)+1:VEe.indexOf(t)+1),c}const Dgt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function kgt(t){const[,n,i,s,o,a,l,c,u,d,p,f]=t,h=cK(n,o,s,i,a,l,c);let m;return m=u?Pgt[u]:d?0:kR(p,f),[h,new Va(m)]}const Agt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Igt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Rgt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function XEe(t){const[,n,i,s,o,a,l,c]=t;return[cK(n,o,s,i,a,l,c),Va.utcInstance]}function Ngt(t){const[,n,i,s,o,a,l,c]=t;return[cK(n,c,i,s,o,a,l),Va.utcInstance]}const Lgt=F3(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,lK),Fgt=F3(/(\d{4})-?W(\d\d)(?:-?(\d))?/,lK),Bgt=F3(/(\d{4})-?(\d{3})/,lK),$gt=F3(KEe),QEe=B3(function Cgt(t,n){return[{year:V3(t,n),month:V3(t,n+1,1),day:V3(t,n+2,1)},null,n+3]},j3,TO,PO),Vgt=B3(_gt,j3,TO,PO),jgt=B3(Egt,j3,TO,PO),zgt=B3(j3,TO,PO),Ggt=B3(j3),Ygt=F3(/(\d{4})-(\d\d)-(\d\d)/,wgt),Xgt=F3(YEe),Qgt=B3(j3,TO,PO),ZEe="Invalid Duration",JEe={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Jgt={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...JEe},pp=365.2425,z3=30.436875,e1t={years:{quarters:4,months:12,weeks:pp/7,days:pp,hours:24*pp,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:pp/28,days:pp/4,hours:24*pp/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:z3/7,days:z3,hours:24*z3,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...JEe},u_=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],t1t=u_.slice(0).reverse();function uy(t,n,i=!1){const s={values:i?n.values:{...t.values,...n.values||{}},loc:t.loc.clone(n.loc),conversionAccuracy:n.conversionAccuracy||t.conversionAccuracy,matrix:n.matrix||t.matrix};return new ai(s)}function exe(t,n){let i=n.milliseconds??0;for(const s of t1t.slice(1))n[s]&&(i+=n[s]*t[s].milliseconds);return i}function txe(t,n){const i=exe(t,n)<0?-1:1;u_.reduceRight((s,o)=>{if(Hr(n[o]))return s;if(s){const l=t[o][s],c=Math.floor(n[s]*i/l);n[o]+=c*i,n[s]-=c*l*i}return o},null),u_.reduce((s,o)=>{if(Hr(n[o]))return s;if(s){const a=n[s]%1;n[s]-=a,n[o]+=a*t[s][o]}return o},null)}class ai{constructor(n){const i="longterm"===n.conversionAccuracy||!1;let s=i?e1t:Jgt;n.matrix&&(s=n.matrix),this.values=n.values,this.loc=n.loc||os.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=n.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(n,i){return ai.fromObject({milliseconds:n},i)}static fromObject(n,i={}){if(null==n||"object"!=typeof n)throw new uc("Duration.fromObject: argument expected to be an object, got "+(null===n?"null":typeof n));return new ai({values:MR(n,ai.normalizeUnit),loc:os.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(n){if(ly(n))return ai.fromMillis(n);if(ai.isDuration(n))return n;if("object"==typeof n)return ai.fromObject(n);throw new uc(`Unknown duration argument ${n} of type ${typeof n}`)}static fromISO(n,i){const[s]=function Wgt(t){return $3(t,[Ogt,Tgt])}(n);return s?ai.fromObject(s,i):ai.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static fromISOTime(n,i){const[s]=function Kgt(t){return $3(t,[Sgt,Ggt])}(n);return s?ai.fromObject(s,i):ai.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static invalid(n,i=null){if(!n)throw new uc("need to specify a reason the Duration is invalid");const s=n instanceof yf?n:new yf(n,i);if(Vo.throwOnInvalid)throw new Tmt(s);return new ai({invalid:s})}static normalizeUnit(n){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[n&&n.toLowerCase()];if(!i)throw new U2e(n);return i}static isDuration(n){return n&&n.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(n,i={}){const s={...i,floor:!1!==i.round&&!1!==i.floor};return this.isValid?dc.create(this.loc,s).formatDurationFromString(this,n):ZEe}toHuman(n={}){if(!this.isValid)return ZEe;const i=u_.map(s=>{const o=this.values[s];return Hr(o)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...n,unit:s.slice(0,-1)}).format(o)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:n.listStyle||"narrow",...n}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let n="P";return 0!==this.years&&(n+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(n+=this.months+3*this.quarters+"M"),0!==this.weeks&&(n+=this.weeks+"W"),0!==this.days&&(n+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(n+="T"),0!==this.hours&&(n+=this.hours+"H"),0!==this.minutes&&(n+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(n+=sK(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===n&&(n+="T0S"),n}toISOTime(n={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(n={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...n,includeOffset:!1},Er.fromMillis(i,{zone:"UTC"}).toISOTime(n))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?exe(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(n){if(!this.isValid)return this;const i=ai.fromDurationLike(n),s={};for(const o of u_)(N3(i.values,o)||N3(this.values,o))&&(s[o]=i.get(o)+this.get(o));return uy(this,{values:s},!0)}minus(n){if(!this.isValid)return this;const i=ai.fromDurationLike(n);return this.plus(i.negate())}mapUnits(n){if(!this.isValid)return this;const i={};for(const s of Object.keys(this.values))i[s]=LEe(n(this.values[s],s));return uy(this,{values:i},!0)}get(n){return this[ai.normalizeUnit(n)]}set(n){return this.isValid?uy(this,{values:{...this.values,...MR(n,ai.normalizeUnit)}}):this}reconfigure({locale:n,numberingSystem:i,conversionAccuracy:s,matrix:o}={}){return uy(this,{loc:this.loc.clone({locale:n,numberingSystem:i}),matrix:o,conversionAccuracy:s})}as(n){return this.isValid?this.shiftTo(n).get(n):NaN}normalize(){if(!this.isValid)return this;const n=this.toObject();return txe(this.matrix,n),uy(this,{values:n},!0)}rescale(){return this.isValid?uy(this,{values:function n1t(t){const n={};for(const[i,s]of Object.entries(t))0!==s&&(n[i]=s);return n}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...n){if(!this.isValid)return this;if(0===n.length)return this;n=n.map(l=>ai.normalizeUnit(l));const i={},s={},o=this.toObject();let a;for(const l of u_)if(n.indexOf(l)>=0){a=l;let c=0;for(const d in s)c+=this.matrix[d][l]*s[d],s[d]=0;ly(o[l])&&(c+=o[l]);const u=Math.trunc(c);i[l]=u,s[l]=(1e3*c-1e3*u)/1e3}else ly(o[l])&&(s[l]=o[l]);for(const l in s)0!==s[l]&&(i[a]+=l===a?s[l]:s[l]/this.matrix[a][l]);return txe(this.matrix,i),uy(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const n={};for(const i of Object.keys(this.values))n[i]=0===this.values[i]?0:-this.values[i];return uy(this,{values:n},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(n){if(!this.isValid||!n.isValid||!this.loc.equals(n.loc))return!1;function i(s,o){return void 0===s||0===s?void 0===o||0===o:s===o}for(const s of u_)if(!i(this.values[s],n.values[s]))return!1;return!0}}const H3="Invalid Interval";class jo{constructor(n){this.s=n.start,this.e=n.end,this.invalid=n.invalid||null,this.isLuxonInterval=!0}static invalid(n,i=null){if(!n)throw new uc("need to specify a reason the Interval is invalid");const s=n instanceof yf?n:new yf(n,i);if(Vo.throwOnInvalid)throw new Omt(s);return new jo({invalid:s})}static fromDateTimes(n,i){const s=MO(n),o=MO(i),a=function r1t(t,n){return t&&t.isValid?n&&n.isValid?n<t?jo.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${n.toISO()}`):null:jo.invalid("missing or invalid end"):jo.invalid("missing or invalid start")}(s,o);return a??new jo({start:s,end:o})}static after(n,i){const s=ai.fromDurationLike(i),o=MO(n);return jo.fromDateTimes(o,o.plus(s))}static before(n,i){const s=ai.fromDurationLike(i),o=MO(n);return jo.fromDateTimes(o.minus(s),o)}static fromISO(n,i){const[s,o]=(n||"").split("/",2);if(s&&o){let a,l,c,u;try{a=Er.fromISO(s,i),l=a.isValid}catch{l=!1}try{c=Er.fromISO(o,i),u=c.isValid}catch{u=!1}if(l&&u)return jo.fromDateTimes(a,c);if(l){const d=ai.fromISO(o,i);if(d.isValid)return jo.after(a,d)}else if(u){const d=ai.fromISO(s,i);if(d.isValid)return jo.before(c,d)}}return jo.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static isInterval(n){return n&&n.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(n="milliseconds"){return this.isValid?this.toDuration(n).get(n):NaN}count(n="milliseconds",i){if(!this.isValid)return NaN;const s=this.start.startOf(n,i);let o;return o=i?.useLocaleWeeks?this.end.reconfigure({locale:s.locale}):this.end,o=o.startOf(n,i),Math.floor(o.diff(s,n).get(n))+(o.valueOf()!==this.end.valueOf())}hasSame(n){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,n))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(n){return!!this.isValid&&this.s>n}isBefore(n){return!!this.isValid&&this.e<=n}contains(n){return!!this.isValid&&this.s<=n&&this.e>n}set({start:n,end:i}={}){return this.isValid?jo.fromDateTimes(n||this.s,i||this.e):this}splitAt(...n){if(!this.isValid)return[];const i=n.map(MO).filter(l=>this.contains(l)).sort((l,c)=>l.toMillis()-c.toMillis()),s=[];let{s:o}=this,a=0;for(;o<this.e;){const l=i[a]||this.e,c=+l>+this.e?this.e:l;s.push(jo.fromDateTimes(o,c)),o=c,a+=1}return s}splitBy(n){const i=ai.fromDurationLike(n);if(!this.isValid||!i.isValid||0===i.as("milliseconds"))return[];let a,{s}=this,o=1;const l=[];for(;s<this.e;){const c=this.start.plus(i.mapUnits(u=>u*o));a=+c>+this.e?this.e:c,l.push(jo.fromDateTimes(s,a)),s=a,o+=1}return l}divideEqually(n){return this.isValid?this.splitBy(this.length()/n).slice(0,n):[]}overlaps(n){return this.e>n.s&&this.s<n.e}abutsStart(n){return!!this.isValid&&+this.e==+n.s}abutsEnd(n){return!!this.isValid&&+n.e==+this.s}engulfs(n){return!!this.isValid&&this.s<=n.s&&this.e>=n.e}equals(n){return!(!this.isValid||!n.isValid)&&this.s.equals(n.s)&&this.e.equals(n.e)}intersection(n){if(!this.isValid)return this;const i=this.s>n.s?this.s:n.s,s=this.e<n.e?this.e:n.e;return i>=s?null:jo.fromDateTimes(i,s)}union(n){return this.isValid?jo.fromDateTimes(this.s<n.s?this.s:n.s,this.e>n.e?this.e:n.e):this}static merge(n){const[i,s]=n.sort((o,a)=>o.s-a.s).reduce(([o,a],l)=>a?a.overlaps(l)||a.abutsStart(l)?[o,a.union(l)]:[o.concat([a]),l]:[o,l],[[],null]);return s&&i.push(s),i}static xor(n){let i=null,s=0;const o=[],a=n.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),c=Array.prototype.concat(...a).sort((u,d)=>u.time-d.time);for(const u of c)s+="s"===u.type?1:-1,1===s?i=u.time:(i&&+i!=+u.time&&o.push(jo.fromDateTimes(i,u.time)),i=null);return jo.merge(o)}difference(...n){return jo.xor([this].concat(n)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:H3}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(n=CR,i={}){return this.isValid?dc.create(this.s.loc.clone(i),n).formatInterval(this):H3}toISO(n){return this.isValid?`${this.s.toISO(n)}/${this.e.toISO(n)}`:H3}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:H3}toISOTime(n){return this.isValid?`${this.s.toISOTime(n)}/${this.e.toISOTime(n)}`:H3}toFormat(n,{separator:i=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(n)}${i}${this.e.toFormat(n)}`:H3}toDuration(n,i){return this.isValid?this.e.diff(this.s,n,i):ai.invalid(this.invalidReason)}mapEndpoints(n){return jo.fromDateTimes(n(this.s),n(this.e))}}class U3{static hasDST(n=Vo.defaultZone){const i=Er.now().setZone(n).set({month:12});return!n.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(n){return Nm.isValidZone(n)}static normalizeZone(n){return ay(n,Vo.defaultZone)}static getStartOfWeek({locale:n=null,locObj:i=null}={}){return(i||os.create(n)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:n=null,locObj:i=null}={}){return(i||os.create(n)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:n=null,locObj:i=null}={}){return(i||os.create(n)).getWeekendDays().slice()}static months(n="long",{locale:i=null,numberingSystem:s=null,locObj:o=null,outputCalendar:a="gregory"}={}){return(o||os.create(i,s,a)).months(n)}static monthsFormat(n="long",{locale:i=null,numberingSystem:s=null,locObj:o=null,outputCalendar:a="gregory"}={}){return(o||os.create(i,s,a)).months(n,!0)}static weekdays(n="long",{locale:i=null,numberingSystem:s=null,locObj:o=null}={}){return(o||os.create(i,s,null)).weekdays(n)}static weekdaysFormat(n="long",{locale:i=null,numberingSystem:s=null,locObj:o=null}={}){return(o||os.create(i,s,null)).weekdays(n,!0)}static meridiems({locale:n=null}={}){return os.create(n).meridiems()}static eras(n="short",{locale:i=null}={}){return os.create(i,null,"gregory").eras(n)}static features(){return{relative:MEe(),localeWeek:AEe()}}}function nxe(t,n){const i=o=>o.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=i(n)-i(t);return Math.floor(ai.fromMillis(s).as("days"))}function Ji(t,n=i=>i){return{regex:t,deser:([i])=>n(function Ymt(t){let n=parseInt(t,10);if(isNaN(n)){n="";for(let i=0;i<t.length;i++){const s=t.charCodeAt(i);if(-1!==t[i].search(ZG.hanidec))n+=Kmt.indexOf(t[i]);else for(const o in fEe){const[a,l]=fEe[o];s>=a&&s<=l&&(n+=s-a)}}return parseInt(n,10)}return n}(i))}}const ixe=new RegExp("[ \xa0]","g");function a1t(t){return t.replace(/\./g,"\\.?").replace(ixe,"[ \xa0]")}function sxe(t){return t.replace(/\./g,"").replace(ixe," ").toLowerCase()}function vf(t,n){return null===t?null:{regex:RegExp(t.map(a1t).join("|")),deser:([i])=>t.findIndex(s=>sxe(i)===sxe(s))+n}}function oxe(t,n){return{regex:t,deser:([,i,s])=>kR(i,s),groups:n}}function IR(t){return{regex:t,deser:([n])=>n}}function l1t(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const u1t={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let uK=null;function axe(t,n){return Array.prototype.concat(...t.map(i=>function g1t(t,n){if(t.literal)return t;const s=uxe(dc.macroTokenToFormatOpts(t.val),n);return null==s||s.includes(void 0)?t:s}(i,n)))}class lxe{constructor(n,i){if(this.locale=n,this.format=i,this.tokens=axe(dc.parseFormat(i),n),this.units=this.tokens.map(s=>function c1t(t,n){const i=gf(n),s=gf(n,"{2}"),o=gf(n,"{3}"),a=gf(n,"{4}"),l=gf(n,"{6}"),c=gf(n,"{1,2}"),u=gf(n,"{1,3}"),d=gf(n,"{1,6}"),p=gf(n,"{1,9}"),f=gf(n,"{2,4}"),h=gf(n,"{4,6}"),m=_=>({regex:RegExp(l1t(_.val)),deser:([S])=>S,literal:!0}),E=(_=>{if(t.literal)return m(_);switch(_.val){case"G":return vf(n.eras("short"),0);case"GG":return vf(n.eras("long"),0);case"y":return Ji(d);case"yy":case"kk":return Ji(f,oK);case"yyyy":case"kkkk":return Ji(a);case"yyyyy":return Ji(h);case"yyyyyy":return Ji(l);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Ji(c);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Ji(s);case"MMM":return vf(n.months("short",!0),1);case"MMMM":return vf(n.months("long",!0),1);case"LLL":return vf(n.months("short",!1),1);case"LLLL":return vf(n.months("long",!1),1);case"o":case"S":return Ji(u);case"ooo":case"SSS":return Ji(o);case"u":return IR(p);case"uu":return IR(c);case"uuu":case"E":case"c":return Ji(i);case"a":return vf(n.meridiems(),0);case"EEE":return vf(n.weekdays("short",!1),1);case"EEEE":return vf(n.weekdays("long",!1),1);case"ccc":return vf(n.weekdays("short",!0),1);case"cccc":return vf(n.weekdays("long",!0),1);case"Z":case"ZZ":return oxe(new RegExp(`([+-]${c.source})(?::(${s.source}))?`),2);case"ZZZ":return oxe(new RegExp(`([+-]${c.source})(${s.source})?`),2);case"z":return IR(/[a-z_+-/]{1,256}?/i);case" ":return IR(/[^\S\n\r]/);default:return m(_)}})(t)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return E.token=t,E}(s,n)),this.disqualifyingUnit=this.units.find(s=>s.invalidReason),!this.disqualifyingUnit){const[s,o]=function p1t(t){return[`^${t.map(i=>i.regex).reduce((i,s)=>`${i}(${s.source})`,"")}$`,t]}(this.units);this.regex=RegExp(s,"i"),this.handlers=o}}explainFromTokens(n){if(this.isValid){const[i,s]=function f1t(t,n,i){const s=t.match(n);if(s){const o={};let a=1;for(const l in i)if(N3(i,l)){const c=i[l],u=c.groups?c.groups+1:1;!c.literal&&c.token&&(o[c.token.val[0]]=c.deser(s.slice(a,a+u))),a+=u}return[s,o]}return[s,{}]}(n,this.regex,this.handlers),[o,a,l]=s?function h1t(t){let s,i=null;return Hr(t.z)||(i=Nm.create(t.z)),Hr(t.Z)||(i||(i=new Va(t.Z)),s=t.Z),Hr(t.q)||(t.M=3*(t.q-1)+1),Hr(t.h)||(t.h<12&&1===t.a?t.h+=12:12===t.h&&0===t.a&&(t.h=0)),0===t.G&&t.y&&(t.y=-t.y),Hr(t.u)||(t.S=iK(t.u)),[Object.keys(t).reduce((a,l)=>{const c=(a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(l);return c&&(a[c]=t[l]),a},{}),i,s]}(s):[null,null,void 0];if(N3(s,"a")&&N3(s,"H"))throw new R3("Can't include meridiem when specifying 24-hour format");return{input:n,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:s,result:o,zone:a,specificOffset:l}}return{input:n,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function cxe(t,n,i){return new lxe(t,i).explainFromTokens(n)}function uxe(t,n){if(!t)return null;const s=dc.create(n,t).dtFormatter(function m1t(){return uK||(uK=Er.fromMillis(1555555555555)),uK}()),o=s.formatToParts(),a=s.resolvedOptions();return o.map(l=>function d1t(t,n,i){const{type:s,value:o}=t;if("literal"===s){const u=/^\s+$/.test(o);return{literal:!u,val:u?" ":o}}let l=s;"hour"===s&&(l=null!=n.hour12?n.hour12?"hour12":"hour24":null!=n.hourCycle?"h11"===n.hourCycle||"h12"===n.hourCycle?"hour12":"hour24":i.hour12?"hour12":"hour24");let c=u1t[l];if("object"==typeof c&&(c=c[n[s]]),c)return{literal:!1,val:c}}(l,t,a))}const dK="Invalid DateTime",dxe=864e13;function DO(t){return new yf("unsupported zone",`the zone "${t.name}" is not supported`)}function pK(t){return null===t.weekData&&(t.weekData=OR(t.c)),t.weekData}function fK(t){return null===t.localWeekData&&(t.localWeekData=OR(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function d_(t,n){const i={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Er({...i,...n,old:i})}function pxe(t,n,i){let s=t-60*n*1e3;const o=i.offset(s);if(n===o)return[s,n];s-=60*(o-n)*1e3;const a=i.offset(s);return o===a?[s,o]:[t-60*Math.min(o,a)*1e3,Math.max(o,a)]}function RR(t,n){const i=new Date(t+=60*n*1e3);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function NR(t,n,i){return pxe(DR(t),n,i)}function fxe(t,n){const i=t.o,s=t.c.year+Math.trunc(n.years),o=t.c.month+Math.trunc(n.months)+3*Math.trunc(n.quarters),a={...t.c,year:s,month:o,day:Math.min(t.c.day,PR(s,o))+Math.trunc(n.days)+7*Math.trunc(n.weeks)},l=ai.fromObject({years:n.years-Math.trunc(n.years),quarters:n.quarters-Math.trunc(n.quarters),months:n.months-Math.trunc(n.months),weeks:n.weeks-Math.trunc(n.weeks),days:n.days-Math.trunc(n.days),hours:n.hours,minutes:n.minutes,seconds:n.seconds,milliseconds:n.milliseconds}).as("milliseconds"),c=DR(a);let[u,d]=pxe(c,i,t.zone);return 0!==l&&(u+=l,d=t.zone.offset(u)),{ts:u,o:d}}function q3(t,n,i,s,o,a){const{setZone:l,zone:c}=i;if(t&&0!==Object.keys(t).length||n){const u=n||c,d=Er.fromObject(t,{...i,zone:u,specificOffset:a});return l?d:d.setZone(c)}return Er.invalid(new yf("unparsable",`the input "${o}" can't be parsed as ${s}`))}function LR(t,n,i=!0){return t.isValid?dc.create(os.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(t,n):null}function hK(t,n){const i=t.c.year>9999||t.c.year<0;let s="";return i&&t.c.year>=0&&(s+="+"),s+=Sa(t.c.year,i?6:4),n?(s+="-",s+=Sa(t.c.month),s+="-",s+=Sa(t.c.day)):(s+=Sa(t.c.month),s+=Sa(t.c.day)),s}function hxe(t,n,i,s,o,a){let l=Sa(t.c.hour);return n?(l+=":",l+=Sa(t.c.minute),(0!==t.c.millisecond||0!==t.c.second||!i)&&(l+=":")):l+=Sa(t.c.minute),(0!==t.c.millisecond||0!==t.c.second||!i)&&(l+=Sa(t.c.second),(0!==t.c.millisecond||!s)&&(l+=".",l+=Sa(t.c.millisecond,3))),o&&(t.isOffsetFixed&&0===t.offset&&!a?l+="Z":t.o<0?(l+="-",l+=Sa(Math.trunc(-t.o/60)),l+=":",l+=Sa(Math.trunc(-t.o%60))):(l+="+",l+=Sa(Math.trunc(t.o/60)),l+=":",l+=Sa(Math.trunc(t.o%60)))),a&&(l+="["+t.zone.ianaName+"]"),l}const mxe={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},v1t={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},b1t={ordinal:1,hour:0,minute:0,second:0,millisecond:0},gxe=["year","month","day","hour","minute","second","millisecond"],_1t=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],E1t=["year","ordinal","hour","minute","second","millisecond"];function yxe(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function x1t(t){const n={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!n)throw new U2e(t);return n}(t)}}function vxe(t,n){const i=ay(n.zone,Vo.defaultZone);if(!i.isValid)return Er.invalid(DO(i));const s=os.fromObject(n);let o,a;if(Hr(t.year))o=Vo.now();else{for(const u of gxe)Hr(t[u])&&(t[u]=mxe[u]);const l=DEe(t)||kEe(t);if(l)return Er.invalid(l);const c=function w1t(t){if(void 0===kO&&(kO=Vo.now()),"iana"!==t.type)return t.offset(kO);const n=t.name;let i=mK.get(n);return void 0===i&&(i=t.offset(kO),mK.set(n,i)),i}(i);[o,a]=NR(t,c,i)}return new Er({ts:o,zone:i,loc:s,o:a})}function bxe(t,n,i){const s=!!Hr(i.round)||i.round,o=(l,c)=>(l=sK(l,s||i.calendary?0:2,!0),n.loc.clone(i).relFormatter(i).format(l,c)),a=l=>i.calendary?n.hasSame(t,l)?0:n.startOf(l).diff(t.startOf(l),l).get(l):n.diff(t,l).get(l);if(i.unit)return o(a(i.unit),i.unit);for(const l of i.units){const c=a(l);if(Math.abs(c)>=1)return o(c,l)}return o(t>n?-0:0,i.units[i.units.length-1])}function _xe(t){let i,n={};return t.length>0&&"object"==typeof t[t.length-1]?(n=t[t.length-1],i=Array.from(t).slice(0,t.length-1)):i=Array.from(t),[n,i]}let kO;const mK=new Map;class Er{constructor(n){const i=n.zone||Vo.defaultZone;let s=n.invalid||(Number.isNaN(n.ts)?new yf("invalid input"):null)||(i.isValid?null:DO(i));this.ts=Hr(n.ts)?Vo.now():n.ts;let o=null,a=null;if(!s)if(n.old&&n.old.ts===this.ts&&n.old.zone.equals(i))[o,a]=[n.old.c,n.old.o];else{const c=ly(n.o)&&!n.old?n.o:i.offset(this.ts);o=RR(this.ts,c),s=Number.isNaN(o.year)?new yf("invalid input"):null,o=s?null:o,a=s?null:c}this._zone=i,this.loc=n.loc||os.create(),this.invalid=s,this.weekData=null,this.localWeekData=null,this.c=o,this.o=a,this.isLuxonDateTime=!0}static now(){return new Er({})}static local(){const[n,i]=_xe(arguments),[s,o,a,l,c,u,d]=i;return vxe({year:s,month:o,day:a,hour:l,minute:c,second:u,millisecond:d},n)}static utc(){const[n,i]=_xe(arguments),[s,o,a,l,c,u,d]=i;return n.zone=Va.utcInstance,vxe({year:s,month:o,day:a,hour:l,minute:c,second:u,millisecond:d},n)}static fromJSDate(n,i={}){const s=function egt(t){return"[object Date]"===Object.prototype.toString.call(t)}(n)?n.valueOf():NaN;if(Number.isNaN(s))return Er.invalid("invalid input");const o=ay(i.zone,Vo.defaultZone);return o.isValid?new Er({ts:s,zone:o,loc:os.fromObject(i)}):Er.invalid(DO(o))}static fromMillis(n,i={}){if(ly(n))return n<-dxe||n>dxe?Er.invalid("Timestamp out of range"):new Er({ts:n,zone:ay(i.zone,Vo.defaultZone),loc:os.fromObject(i)});throw new uc(`fromMillis requires a numerical input, but received a ${typeof n} with value ${n}`)}static fromSeconds(n,i={}){if(ly(n))return new Er({ts:1e3*n,zone:ay(i.zone,Vo.defaultZone),loc:os.fromObject(i)});throw new uc("fromSeconds requires a numerical input")}static fromObject(n,i={}){n=n||{};const s=ay(i.zone,Vo.defaultZone);if(!s.isValid)return Er.invalid(DO(s));const o=os.fromObject(i),a=MR(n,yxe),{minDaysInFirstWeek:l,startOfWeek:c}=PEe(a,o),u=Vo.now(),d=Hr(i.specificOffset)?s.offset(u):i.specificOffset,p=!Hr(a.ordinal),f=!Hr(a.year),h=!Hr(a.month)||!Hr(a.day),m=f||h,y=a.weekYear||a.weekNumber;if((m||p)&&y)throw new R3("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&p)throw new R3("Can't mix ordinal dates with month/day");const E=y||a.weekday&&!m;let _,S,v=RR(u,d);E?(_=_1t,S=v1t,v=OR(v,l,c)):p?(_=E1t,S=b1t,v=nK(v)):(_=gxe,S=mxe);let w=!1;for(const z of _)Hr(a[z])?a[z]=w?S[z]:v[z]:w=!0;const g=E?function Qmt(t,n=4,i=1){const s=TR(t.weekYear),o=dp(t.weekNumber,1,SO(t.weekYear,n,i)),a=dp(t.weekday,1,7);return s?o?!a&&up("weekday",t.weekday):up("week",t.weekNumber):up("weekYear",t.weekYear)}(a,l,c):p?function Zmt(t){const n=TR(t.year),i=dp(t.ordinal,1,L3(t.year));return n?!i&&up("ordinal",t.ordinal):up("year",t.year)}(a):DEe(a),x=g||kEe(a);if(x)return Er.invalid(x);const T=E?OEe(a,l,c):p?TEe(a):a,[I,A]=NR(T,d,s),$=new Er({ts:I,zone:s,o:A,loc:o});return a.weekday&&m&&n.weekday!==$.weekday?Er.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${$.toISO()}`):$.isValid?$:Er.invalid($.invalid)}static fromISO(n,i={}){const[s,o]=function Hgt(t){return $3(t,[Lgt,QEe],[Fgt,Vgt],[Bgt,jgt],[$gt,zgt])}(n);return q3(s,o,i,"ISO 8601",n)}static fromRFC2822(n,i={}){const[s,o]=function Ugt(t){return $3(function Mgt(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(t),[Dgt,kgt])}(n);return q3(s,o,i,"RFC 2822",n)}static fromHTTP(n,i={}){const[s,o]=function qgt(t){return $3(t,[Agt,XEe],[Igt,XEe],[Rgt,Ngt])}(n);return q3(s,o,i,"HTTP",i)}static fromFormat(n,i,s={}){if(Hr(n)||Hr(i))throw new uc("fromFormat requires an input string and a format");const{locale:o=null,numberingSystem:a=null}=s,l=os.fromOpts({locale:o,numberingSystem:a,defaultToEN:!0}),[c,u,d,p]=function y1t(t,n,i){const{result:s,zone:o,specificOffset:a,invalidReason:l}=cxe(t,n,i);return[s,o,a,l]}(l,n,i);return p?Er.invalid(p):q3(c,u,s,`format ${i}`,n,d)}static fromString(n,i,s={}){return Er.fromFormat(n,i,s)}static fromSQL(n,i={}){const[s,o]=function Zgt(t){return $3(t,[Ygt,QEe],[Xgt,Qgt])}(n);return q3(s,o,i,"SQL",n)}static invalid(n,i=null){if(!n)throw new uc("need to specify a reason the DateTime is invalid");const s=n instanceof yf?n:new yf(n,i);if(Vo.throwOnInvalid)throw new Smt(s);return new Er({invalid:s})}static isDateTime(n){return n&&n.isLuxonDateTime||!1}static parseFormatForOpts(n,i={}){const s=uxe(n,os.fromObject(i));return s?s.map(o=>o?o.val:null).join(""):null}static expandFormat(n,i={}){return axe(dc.parseFormat(n),os.fromObject(i)).map(o=>o.val).join("")}static resetCache(){kO=void 0,mK.clear()}get(n){return this[n]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?pK(this).weekYear:NaN}get weekNumber(){return this.isValid?pK(this).weekNumber:NaN}get weekday(){return this.isValid?pK(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?fK(this).weekday:NaN}get localWeekNumber(){return this.isValid?fK(this).weekNumber:NaN}get localWeekYear(){return this.isValid?fK(this).weekYear:NaN}get ordinal(){return this.isValid?nK(this.c).ordinal:NaN}get monthShort(){return this.isValid?U3.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?U3.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?U3.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?U3.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const n=864e5,i=6e4,s=DR(this.c),o=this.zone.offset(s-n),a=this.zone.offset(s+n),l=this.zone.offset(s-o*i),c=this.zone.offset(s-a*i);if(l===c)return[this];const u=s-l*i,d=s-c*i,p=RR(u,l),f=RR(d,c);return p.hour===f.hour&&p.minute===f.minute&&p.second===f.second&&p.millisecond===f.millisecond?[d_(this,{ts:u}),d_(this,{ts:d})]:[this]}get isInLeapYear(){return CO(this.year)}get daysInMonth(){return PR(this.year,this.month)}get daysInYear(){return this.isValid?L3(this.year):NaN}get weeksInWeekYear(){return this.isValid?SO(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?SO(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(n={}){const{locale:i,numberingSystem:s,calendar:o}=dc.create(this.loc.clone(n),n).resolvedOptions(this);return{locale:i,numberingSystem:s,outputCalendar:o}}toUTC(n=0,i={}){return this.setZone(Va.instance(n),i)}toLocal(){return this.setZone(Vo.defaultZone)}setZone(n,{keepLocalTime:i=!1,keepCalendarTime:s=!1}={}){if((n=ay(n,Vo.defaultZone)).equals(this.zone))return this;if(n.isValid){let o=this.ts;if(i||s){const a=n.offset(this.ts),l=this.toObject();[o]=NR(l,a,n)}return d_(this,{ts:o,zone:n})}return Er.invalid(DO(n))}reconfigure({locale:n,numberingSystem:i,outputCalendar:s}={}){return d_(this,{loc:this.loc.clone({locale:n,numberingSystem:i,outputCalendar:s})})}setLocale(n){return this.reconfigure({locale:n})}set(n){if(!this.isValid)return this;const i=MR(n,yxe),{minDaysInFirstWeek:s,startOfWeek:o}=PEe(i,this.loc),a=!Hr(i.weekYear)||!Hr(i.weekNumber)||!Hr(i.weekday),l=!Hr(i.ordinal),c=!Hr(i.year),u=!Hr(i.month)||!Hr(i.day);if((c||u||l)&&(i.weekYear||i.weekNumber))throw new R3("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&l)throw new R3("Can't mix ordinal dates with month/day");let f;a?f=OEe({...OR(this.c,s,o),...i},s,o):Hr(i.ordinal)?(f={...this.toObject(),...i},Hr(i.day)&&(f.day=Math.min(PR(f.year,f.month),f.day))):f=TEe({...nK(this.c),...i});const[h,m]=NR(f,this.o,this.zone);return d_(this,{ts:h,o:m})}plus(n){return this.isValid?d_(this,fxe(this,ai.fromDurationLike(n))):this}minus(n){return this.isValid?d_(this,fxe(this,ai.fromDurationLike(n).negate())):this}startOf(n,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const s={},o=ai.normalizeUnit(n);switch(o){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0}if("weeks"===o)if(i){const a=this.loc.getStartOfWeek(),{weekday:l}=this;l<a&&(s.weekNumber=this.weekNumber-1),s.weekday=a}else s.weekday=1;if("quarters"===o){const a=Math.ceil(this.month/3);s.month=3*(a-1)+1}return this.set(s)}endOf(n,i){return this.isValid?this.plus({[n]:1}).startOf(n,i).minus(1):this}toFormat(n,i={}){return this.isValid?dc.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,n):dK}toLocaleString(n=CR,i={}){return this.isValid?dc.create(this.loc.clone(i),n).formatDateTime(this):dK}toLocaleParts(n={}){return this.isValid?dc.create(this.loc.clone(n),n).formatDateTimeParts(this):[]}toISO({format:n="extended",suppressSeconds:i=!1,suppressMilliseconds:s=!1,includeOffset:o=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;const l="extended"===n;let c=hK(this,l);return c+="T",c+=hxe(this,l,i,s,o,a),c}toISODate({format:n="extended"}={}){return this.isValid?hK(this,"extended"===n):null}toISOWeekDate(){return LR(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:n=!1,suppressSeconds:i=!1,includeOffset:s=!0,includePrefix:o=!1,extendedZone:a=!1,format:l="extended"}={}){return this.isValid?(o?"T":"")+hxe(this,"extended"===l,i,n,s,a):null}toRFC2822(){return LR(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return LR(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?hK(this,!0):null}toSQLTime({includeOffset:n=!0,includeZone:i=!1,includeOffsetSpace:s=!0}={}){let o="HH:mm:ss.SSS";return(i||n)&&(s&&(o+=" "),i?o+="z":n&&(o+="ZZ")),LR(this,o,!0)}toSQL(n={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(n)}`:null}toString(){return this.isValid?this.toISO():dK}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(n={}){if(!this.isValid)return{};const i={...this.c};return n.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(n,i="milliseconds",s={}){if(!this.isValid||!n.isValid)return ai.invalid("created by diffing an invalid DateTime");const o={locale:this.locale,numberingSystem:this.numberingSystem,...s},a=function tgt(t){return Array.isArray(t)?t:[t]}(i).map(ai.normalizeUnit),l=n.valueOf()>this.valueOf(),d=function s1t(t,n,i,s){let[o,a,l,c]=function i1t(t,n,i){const s=[["years",(u,d)=>d.year-u.year],["quarters",(u,d)=>d.quarter-u.quarter+4*(d.year-u.year)],["months",(u,d)=>d.month-u.month+12*(d.year-u.year)],["weeks",(u,d)=>{const p=nxe(u,d);return(p-p%7)/7}],["days",nxe]],o={},a=t;let l,c;for(const[u,d]of s)i.indexOf(u)>=0&&(l=u,o[u]=d(t,n),c=a.plus(o),c>n?(o[u]--,(t=a.plus(o))>n&&(c=t,o[u]--,t=a.plus(o))):t=c);return[t,o,c,l]}(t,n,i);const u=n-o,d=i.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);0===d.length&&(l<n&&(l=o.plus({[c]:1})),l!==o&&(a[c]=(a[c]||0)+u/(l-o)));const p=ai.fromObject(a,s);return d.length>0?ai.fromMillis(u,s).shiftTo(...d).plus(p):p}(l?this:n,l?n:this,a,o);return l?d.negate():d}diffNow(n="milliseconds",i={}){return this.diff(Er.now(),n,i)}until(n){return this.isValid?jo.fromDateTimes(this,n):this}hasSame(n,i,s){if(!this.isValid)return!1;const o=n.valueOf(),a=this.setZone(n.zone,{keepLocalTime:!0});return a.startOf(i,s)<=o&&o<=a.endOf(i,s)}equals(n){return this.isValid&&n.isValid&&this.valueOf()===n.valueOf()&&this.zone.equals(n.zone)&&this.loc.equals(n.loc)}toRelative(n={}){if(!this.isValid)return null;const i=n.base||Er.fromObject({},{zone:this.zone}),s=n.padding?this<i?-n.padding:n.padding:0;let o=["years","months","days","hours","minutes","seconds"],a=n.unit;return Array.isArray(n.unit)&&(o=n.unit,a=void 0),bxe(i,this.plus(s),{...n,numeric:"always",units:o,unit:a})}toRelativeCalendar(n={}){return this.isValid?bxe(n.base||Er.fromObject({},{zone:this.zone}),this,{...n,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...n){if(!n.every(Er.isDateTime))throw new uc("min requires all arguments be DateTimes");return IEe(n,i=>i.valueOf(),Math.min)}static max(...n){if(!n.every(Er.isDateTime))throw new uc("max requires all arguments be DateTimes");return IEe(n,i=>i.valueOf(),Math.max)}static fromFormatExplain(n,i,s={}){const{locale:o=null,numberingSystem:a=null}=s;return cxe(os.fromOpts({locale:o,numberingSystem:a,defaultToEN:!0}),n,i)}static fromStringExplain(n,i,s={}){return Er.fromFormatExplain(n,i,s)}static buildFormatParser(n,i={}){const{locale:s=null,numberingSystem:o=null}=i,a=os.fromOpts({locale:s,numberingSystem:o,defaultToEN:!0});return new lxe(a,n)}static fromFormatParser(n,i,s={}){if(Hr(n)||Hr(i))throw new uc("fromFormatParser requires an input string and a format parser");const{locale:o=null,numberingSystem:a=null}=s,l=os.fromOpts({locale:o,numberingSystem:a,defaultToEN:!0});if(!l.equals(i.locale))throw new uc(`fromFormatParser called with a locale of ${l}, but the format parser was created for ${i.locale}`);const{result:c,zone:u,specificOffset:d,invalidReason:p}=i.explainFromTokens(n);return p?Er.invalid(p):q3(c,u,s,`format ${i.format}`,n,d)}static get DATE_SHORT(){return CR}static get DATE_MED(){return q2e}static get DATE_MED_WITH_WEEKDAY(){return Pmt}static get DATE_FULL(){return W2e}static get DATE_HUGE(){return G2e}static get TIME_SIMPLE(){return K2e}static get TIME_WITH_SECONDS(){return Y2e}static get TIME_WITH_SHORT_OFFSET(){return X2e}static get TIME_WITH_LONG_OFFSET(){return Q2e}static get TIME_24_SIMPLE(){return Z2e}static get TIME_24_WITH_SECONDS(){return J2e}static get TIME_24_WITH_SHORT_OFFSET(){return eEe}static get TIME_24_WITH_LONG_OFFSET(){return tEe}static get DATETIME_SHORT(){return nEe}static get DATETIME_SHORT_WITH_SECONDS(){return rEe}static get DATETIME_MED(){return iEe}static get DATETIME_MED_WITH_SECONDS(){return sEe}static get DATETIME_MED_WITH_WEEKDAY(){return Dmt}static get DATETIME_FULL(){return oEe}static get DATETIME_FULL_WITH_SECONDS(){return aEe}static get DATETIME_HUGE(){return lEe}static get DATETIME_HUGE_WITH_SECONDS(){return cEe}}function MO(t){if(Er.isDateTime(t))return t;if(t&&t.valueOf&&ly(t.valueOf()))return Er.fromJSDate(t);if(t&&"object"==typeof t)return Er.fromObject(t);throw new uc(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const gK=122,Exe=123,O1t=4,T1t=131,wxe=19,I1t=140,R1t=23,N1t=141,B1t=41,U1t=68,Cxe=154,Sxe=70,Oxe=155,Txe=72,q1t=156,Q1t=167,Pxe=89,Z1t=90,J1t=169,eyt=97,tyt=171,yK=typeof process<"u"&&process.env&&/\bfparse(:dbg)?\b/.test(process.env.LOG),vK=typeof process<"u"&&process.env&&/\bfparse:dbg\b/.test(process.env.LOG),Lm=typeof process<"u"&&process.env&&/\bcontext\b/.test(process.env.LOG),Dxe=[9,11,12,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],syt=Mxe("\n\r"),oyt=Mxe("'./-+*^");function Mxe(t){return Array.from(t).map(n=>n.charCodeAt(0))}function ayt(t){return 63===t||t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=55296&&t<=56319||t>=56320&&t<=57343}function cyt(t){return t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}function uyt(t){return Dxe.includes(t)}function Axe(t,n){return n.concat(t.split(/\n/g).join("\n"+n))}function dyt(t,n=0){const i=t.peek(n);return 42===i&&42===t.peek(n+1)?{offset:2,token:"**"}:function lyt(t){return oyt.includes(t)}(i)?{offset:1,token:String.fromCharCode(i)}:null}function FR(t,n=0,i=!1){for(let s=!1,o=[],a=0;;a++){const l=t.peek(n+a);if(!(ayt(l)||(s||i)&&cyt(l)))return o.length?{token:String.fromCharCode(...o),offset:a}:null;s||(s=!0),o.push(l)}}function Ixe(t,n){for(let i=!1,s=0;;s++){if(!uyt(t.peek(n+s)))return i?{token:" ",offset:s}:null;i||(i=!0)}}const fyt={[gK]:"identifier",[Exe]:"nameIdentifier"},hyt=new ry((t,n)=>{vK&&console.log("%s: T <identifier | nameIdentifier>",t.pos);const i=function pyt(t,n){const i=n.contextKeys(),s=n.tokens;for(let o=0,a=[],l=null;;){const c=s.length+a.length>0,u=a.length>0,d=FR(t,o,c)||c&&dyt(t,o)||u&&Ixe(t,o);if(!d)return l;const{token:p,offset:f}=d;if(o+=f," "===p)continue;a=[...a,p];const h=[...s,...a].join(" ");if(i.some(m=>m===h)){const m=a[0];l={token:m,offset:m.length,term:123}}if(!i.some(m=>m.startsWith(h))){if(Rxe.some(m=>m===h)){const m=a[0];l={token:m,offset:m.length,term:122}}if(!Rxe.some(m=>m.startsWith(h)))return l}}}(t,n.context),o=i||FR(t,0,n.context.tokens.length>0);o&&(t.advance(o.offset),t.acceptToken(i?i.term:122),yK&&console.log("%s: MATCH <%s> <%s>",t.pos,i?fyt[i.term]:"identifier",o.token))},{contextual:!0}),myt=new ry((t,n)=>{vK&&console.log("%s: T <propertyIdentifier>",t.pos);const s=FR(t,0,n.context.tokens.length>0);s&&(t.advance(s.offset),t.acceptToken(121),yK&&console.log("%s: MATCH <propertyIdentifier> <%s>",t.pos,s.token))}),gyt=new ry((t,n)=>{vK&&console.log("%s: T <insertSemi>",t.pos);let i,s=!1;for(i=0;;i++){const o=t.peek(i);if(!Dxe.includes(o)){syt.includes(o)&&(s=!0);break}}if(s){const o=FR(t,i+1);if(Ixe(t,i+1)||o&&/^(then|else|return|satisfies)$/.test(o.token))return;yK&&console.log("%s: MATCH <insertSemi>",t.pos),t.acceptToken(124)}}),yyt={[q1t]:"FunctionInvocation",[Oxe]:"FilterExpression",[Cxe]:"PathExpression"},vyt={[tyt]:"Context",[J1t]:"FunctionDefinition",[T1t]:"ForExpression",[Q1t]:"List",[I1t]:"IfExpression",[N1t]:"QuantifiedExpression"},byt={[eyt]:"Context",[Z1t]:"FunctionDefinition",[O1t]:"ForExpression",[Pxe]:"List",[wxe]:"IfExpression",[R1t]:"QuantifiedExpression",[U1t]:"PathExpression",[Txe]:"FunctionInvocation",[Sxe]:"FilterExpression",[B1t]:"ArithmeticExpression"};class W3{constructor(n){this.fn=n}get(n){return this.fn(n)}static of(n){return new W3(n)}}const Rxe=Object.keys({"date and time":1,date:1,time:1,duration:1});class Nxe{constructor(n={}){this.value=n}getKeys(){return Object.keys(this.value)}get(n){const i=this.value[n],s=this.constructor;return s.isAtomic(i)?i:s.of(i)}set(n,i){return this.constructor.of({...this.value,[n]:i})}merge(n){const i=this.constructor;return new i(i.__merge(this.value,n))}static isAtomic(n){return!n||n instanceof this||n instanceof W3||"object"!=typeof n}static of(...n){return n.reduce((i,s)=>i.merge(s),new this({}))}static __unwrap(n){return n?n instanceof this?n.value:"object"!=typeof n?{}:{...n}:{}}static __merge(n,i){return Ts(this.__unwrap(i),(s,o,a)=>o instanceof W3?{...s,[a]:o}:(o=this.__unwrap(o),Zo(s,a)&&(o=this.__merge(this.__unwrap(s[a]),o)),{...s,[a]:o}),this.__unwrap(n))}}class AO{constructor({name:n="Expressions",tokens:i=[],children:s=[],parent:o=null,context:a,value:l,raw:c}){this.name=n,this.tokens=i,this.children=s,this.parent=o,this.context=a,this.value=l,this.raw=c}enterScope(n){const i=this.of({name:n,parent:this});return Lm&&console.log("[%s] enter",i.path,i.context),i}exitScope(n){return this.parent?(Lm&&console.log("[%s] exit %o\n%s",this.path,this.context,Axe(n,"  ")),this.parent.pushChild(this)):(Lm&&console.log("[%s] NO exit %o\n%s",this.path,this.context,Axe(n,"  ")),this)}token(n){return Lm&&console.log("[%s] token <%s> + <%s>",this.path,this.tokens.join(" "),n),this.assign({tokens:[...this.tokens,n]})}literal(n){return Lm&&console.log("[%s] literal %o",this.path,n),this.pushChild(this.of({name:"Literal",value:n}))}computedValue(){for(let n=this;;n=G3(n.children)){if(!n)return null;if(n.value)return n.value}}contextKeys(){return this.context.getKeys().map(dy)}get path(){return this.parent?.path?.concat(" > ",this.name)||this.name}get(n){const i=[n,n&&dy(n)],s=this.context.getKeys().find(a=>i.includes(dy(a)));if(typeof s>"u")return;const o=this.context.get(s);return o instanceof W3?o.get(this):o}resolveName(){const n=this.tokens.join(" "),s=this.assign({tokens:[]}),o=this.of({name:"VariableName",parent:s,value:this.get(n),raw:n});return Lm&&console.log("[%s] resolve name <%s=%s>",o.path,n,this.get(n)),s.pushChild(o)}pushChild(n){if(!n)return this;const i=this.assign({children:[...this.children,n]});return n.parent=i,i}pushChildren(n){let i=this;for(const s of n)i=i.pushChild(s);return i}declareName(){if(0===this.tokens.length)throw Error("no tokens to declare name");const n=this.tokens.join(" ");return Lm&&console.log("[%s] declareName <%s>",this.path,n),this.assign({tokens:[]}).pushChild(this.of({name:"Name",value:n}))}define(n,i){if("string"!=typeof n)return Lm&&console.log("[%s] no define <%s=%s>",this.path,n,i),this;Lm&&console.log("[%s] define <%s=%s>",this.path,n,i);const s=this.context.set(n,i);return this.assign({context:s})}assign(n={}){return AO.of({...this,...n})}of(n={}){return AO.of({context:this.context,parent:this.parent,...n})}static of(n){const{name:i,tokens:s=[],children:o=[],parent:a=null,context:l,value:c,raw:u}=n;if(!l)throw new Error("must provide <context>");return new AO({name:i,tokens:[...s],children:[...o],context:l,parent:a,value:c,raw:u})}}function dy(t){return t.replace(/\s*([./\-'+]|\*\*?)\s*/g," $1 ").replace(/\s{2,}/g," ").trim()}function Lxe(t,n,i){const s=t.children.filter(d=>d.name!==n),o=t.children.filter(d=>d.name===n),a=s[0],l=s[Math.max(1,s.length-1)],c=a?.computedValue(),u=l?.computedValue()||null;return t.assign({children:o}).enterScope(n).pushChildren(s).exitScope(i).define(c,u)}function p_(t={},n=Nxe){const i=AO.of({context:n.of(t)});return new $G({start:i,reduce(s,o,a,l){if(19===o){const[f,h]=s.children.slice(-2);s=s.assign({value:n.of(f?.computedValue(),h?.computedValue())})}if(89===o&&(s=s.assign({value:n.of(...s.children.map(f=>f?.computedValue()))})),70===o){const[f,h]=s.children.slice(-2);s=s.assign({value:f?.computedValue()})}if(72===o){const[f,...h]=s.children;"get value"===f?.raw&&(s=function Eyt(t,n){if(!n.length)return t.assign({value:null});if("Name"===n[0].name&&(n=function xyt(t,n){const i={};for(let s=0;s<t.length;s+=2){const[o,a]=t.slice(s,s+2);i[o.value]=a}return n.map(s=>i[s])}(n,["m","key"])),2!==n.length)return t.assign({value:null});const[i,s]=n,o=s?.computedValue(),a=i?.computedValue();return t.assign(a&&"object"==typeof a&&"string"==typeof o?{value:[dy(o),o].reduce((l,c)=>a.get(c)||l,null)}:{value:null})}(s,h))}const c=vyt[o];if(c)return s.enterScope(c);const u=yyt[o];if(u){const{children:f,context:h}=s,m=f.slice(0,-1),y=G3(f);let E=null;return 154===o&&(E=n.of(y?.computedValue())),155===o&&(E=n.of(h,y?.computedValue()).set("item",y?.computedValue())),s.assign({children:m}).enterScope(u).pushChild(y).assign({context:E||h})}const d=l.read(l.pos,a.pos);if(byt[o])return s.exitScope(d);if(98===o){const f=s.children.filter(y=>"ContextEntry"!==y.name),h=f[0],m=G3(f);return Lxe(s,"ContextEntry",d).assign({value:n.of(s.value).set(h?.computedValue(),m?.computedValue())})}if(7===o||27===o)return Lxe(s,"InExpression",d);if(139===o)return s.define("partial",W3.of(f=>G3(f.children)?.computedValue()));if(76===o){const f=G3(s.children).computedValue();return s.define(f,1)}if(145===o||146===o||147===o){const f=s.children.slice(0,-1),h=G3(s.children);return s.assign({children:f}).enterScope("ArithmeticExpression").pushChild(h)}if(148===o)return s.enterScope("ArithmeticExpression");if(9===o||10===o||101===o)return s.token(d);if(80===o)return s.literal(d.replace(/^"|"$/g,""));if(81===o)return s.literal("true"===d);if(79===o)return s.literal(parseFloat(d));if(161===o)return s.literal(null);if(47===o)return s.resolveName();if(8===o||100===o)return s.declareName();if((128===o||37===o)&&s.tokens.length>0)throw new Error("uncleared name");if(128===o){let f=s;for(;f.parent;)f=f.exitScope(d);return f}return s}})}const _yt=p_({});function G3(t){return t[t.length-1]}const wyt=o_({StringLiteral:he.string,NumericLiteral:he.number,BooleanLiteral:he.bool,"AtLiteral!":he.special(he.string),CompareOp:he.compareOperator,ArithOp:he.arithmeticOperator,"for if then else some every satisfies between return":he.controlKeyword,"in instance of and or":he.operatorKeyword,function:he.definitionKeyword,as:he.keyword,"Type/...":he.typeName,Wildcard:he.special(he.variableName),null:he.null,LineComment:he.lineComment,BlockComment:he.blockComment,'VariableName! "?"':he.variableName,"DateTimeConstructor! SpecialFunctionName!":he.function(he.special(he.variableName)),"List Interval":he.list,Context:he.definition(he.literal),"Name!":he.definition(he.variableName),"Key/Name! ContextEntryType/Name!":he.definition(he.propertyName),"PathExpression/VariableName!":he.function(he.propertyName),"FormalParameter/ParameterName!":he.function(he.definition(he.variableName)),"( )":he.paren,"[ ]":he.squareBracket,"{ }":he.brace,".":he.derefOperator,", ;":he.separator,"..":he.punctuation}),Cyt={__proto__:null,for:10,in:32,return:36,if:40,then:42,else:44,some:48,every:50,satisfies:56,or:60,and:64,between:72,instance:86,of:89,days:101,time:103,duration:105,years:107,months:109,date:111,list:117,context:123,function:130,null:156,true:330,false:330,"?":170,external:186,not:211},f_=s_.deserialize({version:14,states:"C|O`QYOOO`QYOOO$sQYOOOOQU'#Ce'#CeO$}QYO'#C`O&WQYO'#FQOOQQ'#Ff'#FfO&bQYO'#FfO`QYO'#DVOOQU'#En'#EnO(UQ^O'#D]OOQU'#D^'#D^OOQU'#D]'#D]OOQO'#Fn'#FnO*RQWO'#DvOOQQ'#D}'#D}OOQQ'#EO'#EOOOQQ'#EP'#EPO*WOWO'#ESO*RQWO'#EQOOQQ'#EQ'#EQOOQQ'#Ft'#FtOOQQ'#Fr'#FrOOQQ'#Fy'#FyOOQQ'#EU'#EUO`QYO'#EWOOQQ'#FS'#FSO*]Q^O'#FSO,SQYO'#EXO,ZQWO'#EYOOQP'#F}'#F}O,`QXO'#EaOOQQ'#Fz'#FzOOQQ'#FR'#FRQOQWOOOOQQ'#FT'#FTOOQQ'#F^'#F^O`QYO'#CoOOQQ'#F_'#F_O$}QYO'#CsO,kQYO'#DwOOQQ'#Fs'#FsO,pQYO'#EROOQO'#ER'#ERO`QYO'#EVO`QYO'#EUOOQO'#F{'#F{Q,xQWOOO,}QYO'#DRO-tQWO'#FbOOQO'#DT'#DTO.PQYO'#FfO.WQWOOO.}QYO'#CdO/[QYO'#FVOOQQ'#Cc'#CcO/aQYO'#FUOOQQ'#Cb'#CbO/iQYO,58zO`QYO,59iOOQQ'#Fc'#FcOOQQ'#Fd'#FdOOQQ'#Fe'#FeO`QYO,59qO`QYO,59qO`QYO,59qOOQQ'#Fl'#FlO/nQYO,5:^OOQQ'#Fm'#FmO`QYO,5:`O`QYO,59eO`QYO,59gO`QYO,59iO1jQYO,59iO1qQYO,59rOOQQ,5:i,5:iO1vQYO,59qOOQU-E8l-E8lO3jQYO'#FoOOQQ,5:b,5:bOOQQ,5:n,5:nOOQQ,5:l,5:lO3qQYO,5:rOOQQ,5;n,5;nO3{QYO,5:qO4YQWO,5:sO4_QYO,5:tOOQP'#Ee'#EeO5UQXO'#EdOOQO'#Ec'#EcO5]QWO'#EbO5bQWO'#GOO5jQWO,5:{O5oQYO,59ZO/[QYO'#FaOOQQ'#Cw'#CwO5vQYO'#F`OOQQ'#Cv'#CvO6OQYO,59_O6TQYO,5:cO6YQYO,5:mO3tQYO,5:qO6_QYO,5:pO`QYO'#EwQ,xQWOOO`QYO'#EmO7UQWO,5;|O`QYOOOOQR'#Cf'#CfOOQQ'#Ej'#EjO8OQYO,59OO`QYO,5;qOOQQ'#FY'#FYO$}QYO'#EkO8`QYO,5;pO`QYO1G.fOOQQ'#F]'#F]O9VQYO1G/TO;|QYO1G/]O<WQYO1G/]O<bQYO1G/]OOQQ1G/x1G/xO>UQYO1G/zO>]QYO1G/PO?fQYO1G/RO@oQYO1G/TO`QYO1G/TOOQQ1G/T1G/TOAVQYO1G/^OAtQ^O'#CdOCWQYO'#FqOOQO'#Dz'#DzOCbQWO'#DyOCgQWO'#FpOOQO'#Dx'#DxOOQO'#D{'#D{OCoQWO,5<ZOOQQ1G0^1G0^O`QYO1G0]O`QYO'#EsOCtQWO,5<]OOQQ1G0_1G0_ODPQWO'#E[OD[QWO'#F|OOQO'#EZ'#EZODdQWO1G0`OOQP'#Eu'#EuODiQXO,5;OO`QYO,5:|ODpQXO'#EvODxQWO,5<jOOQQ1G0g1G0gO`QYO1G.uO`QYO,5;{O$}QYO'#ElOEQQYO,5;zO`QYO1G.yOEYQYO1G/}OOQO1G0X1G0XOOQO,5;c,5;cOOQO-E8u-E8uOOQO,5;X,5;XOOQO-E8k-E8kOE_QWOOOOQQ-E8h-E8hOEdQYO'#CmOOQQ1G1]1G1]OOQQ,5;V,5;VOOQQ-E8i-E8iOEqQYO7+$QOOQQ7+%f7+%fO`QYO7+$oOFhQYO,5:rOFuQWO7+$oOFzQYO'#D[OOQQ'#DZ'#DZOHnQYO'#D_OHsQYO'#D_OHxQYO'#D_OH}Q`O'#DgOISQ`O'#DjOIXQ`O'#DnOOQQ7+$x7+$xO`QYO,5:eO$}QYO'#ErOI^QWO,5<[OOQQ1G1u1G1uOJdQYO7+%wOJqQYO,5;_OOQO-E8q-E8qOAVQYO,5:vO$}QYO'#EtOKOQWO,5<hOKWQYO7+%zOOQP-E8s-E8sOK_QYO1G0hOOQO,5;b,5;bOOQO-E8t-E8tOKiQYO7+$aOKpQYO1G1gOOQQ,5;W,5;WOOQQ-E8j-E8jOKzQYO7+$eOOQO7+%i7+%iO`QYO,59XOLqQYO<<HZOOQQ<<HZ<<HZO/nQYO'#EoOMzQYO,59vO! nQYO,59yO! sQYO,59yO! xQYO,59yO! }QYO,5:RO$}QYO,5:UO!!lQbO,5:YO!!sQYO1G0POOQO,5;^,5;^OOQO-E8p-E8pO!!}QYO<<IcOOQQ<<Ic<<IcOOQO1G0b1G0bOOQO,5;`,5;`OOQO-E8r-E8rO!%|QYO'#E^OOQQ<<If<<IfO`QYO<<IfO`QYO<<G{O!&sQYO1G.sOOQQ,5;Z,5;ZOOQQ-E8m-E8mO!&}QYO1G/eOOQQ1G/e1G/eO!'SQbO'#D]O!'eQ`O'#D[O!'pQ`O1G/mO!'uQWO'#DmO!'zQ`O'#FhOOQO'#Dl'#DlO!(SQ`O1G/pOOQO'#Dq'#DqO!(XQ`O'#FjOOQO'#Dp'#DpO!(aQ`O1G/tOOQQAN?QAN?QO!(fQYOAN=gOOQQ7+%P7+%PO!)]Q`O,59vOOQQ7+%X7+%XO! }QYO,5:XO$}QYO'#EpO!)hQ`O,5<SOOQQ7+%[7+%[O! }QYO'#EqO!)pQ`O,5<UO!)xQ`O7+%`OOQO1G/s1G/sOOQO,5;[,5;[OOQO-E8n-E8nOOQO,5;],5;]OOQO-E8o-E8oOAVQYO<<HzOOQQAN>fAN>fO/nQYO'#EoO! }QYO<<HzO!)}Q`O7+%`O!*SQ`O1G/tO!!lQbO,5:YO!*XQ`O'#Dn",stateData:"!*h~O#rOS#sOSPOSQOS~OTsOZVO[UOdtOhvOivOr}Os}OviO!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~OTsO[UOdtOhvOivOr}Os}OviO!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~OZ!TO#]!UO~P#SO#nRO#oRO~OZ!^O[!^O]!_O^!_O_!`O`!kOn!hOp!iOr!]Os!]Ot!jO{!lO!i!fO#z!dOv$bX~O#l#tX$s#tX~P%VO$i!mOT$YXZ$YX[$YXd$YXh$YXi$YXr$YXs$YXv$YX!T$YX!U$YX!V$YX!X$YX!c$YX!g$YX!i$YX!p$YX!w$YX#S$YX#n$YX#o$YX$Z$YX$j$YX$k$YX$l$YX~O#nRO#oROZ!PX[!PX]!PX^!PX_!PX`!PXn!PXp!PXr!PXs!PXt!PXv!PX{!PX!i!PX#l!PX#p!PX#z!PX$s!PX$O!PXx!PX#}!PX!g!PXe!PXb!PX#R!PXf!PXl!PX~Ov!pO~O$j`O~O#p!uOZ#vX[#vX]#vX^#vX_#vX`#vXn#vXp#vXr#vXs#vXt#vXv#vX{#vX!i#vX#l#vX#z#vX$s#vX$O#vXx#vX#}#vX!g#vXe#vXb#vX#R#vXf#vXl#vX~O!g$eP~P`Ov!xO~O#m!yO$j`O#R$rP~Op#VO~Op#WOv!uX~O$s#ZO~O#luX$OuX$suXxuX#}uX!guXeuXbuX#RuXfuXluX~P%VO$O#]O#l$UXx$UX~O#l#[X~P&bOv#_O~OZ#`O[#`O]#`O^#`O_#`O#nRO#oRO#z#`O#{#`O$]WX~O`WXxWX$OWX~P.]O`#dO~O$O#eOb#xX~Ob#hO~O#nRO#oRO$ZZO~OTsOZVO[UOdtOhvOivOr}Os}O!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~Ov#rO~P/yO|#tO~O{!lO!i!fO#z!dOZya[ya]ya^ya_ya`yanyapyaryasyatyav$bX#lya$sya$Oyaxya#}ya!gyaeyabya#Ryafyalya~Ox$eP~P`Ox#}O#}$OO~P%VO#}$OO$O$PO!g$eX~P%VO!g$RO~O#nRO#oROx$pP~OZ#`O[#`O]#`O^#`O_#`O#m!yO#z#`O#{#`O~O$]#WX~P4jO$]$YO~O$O$ZO#R$rX~O#R$]O~Oe$^O~P%VO$O$`Ol$SX~Ol$bO~O!W$cO~O!T$dO~O#l!xa$s!xa$O!xax!xa#}!xa!g!xae!xab!xa#R!xaf!xal!xa~P%VO$O#]O#l$Uax$Ua~OZ#`O[#`O]#`O^#`O_#`O#nRO#oRO#z#`O#{#`O~O`Wa$]WaxWa$OWa~P7aO$O#eOb#xa~OZ!^O[!^O]!_O^!_O_!`O{!lO!i!fO#z!dOv$bX~O`qinqipqirqisqitqi#lqi$sqi$Oqixqi#}qi!gqieqibqi#Rqifqilqi~P8hO_!`O{!lO!i!fO#z!dOZyi[yi`yinyipyiryisyityiv$bX#lyi$syi$Oyixyi#}yi!gyieyibyi#Ryifyilyi~O]!_O^!_O~P:`O]yi^yi~P:`O{!lO!i!fO#z!dOZyi[yi]yi^yi_yi`yinyipyiryisyityiv$bX#lyi$syi$Oyixyi#}yi!gyieyibyi#Ryifyilyi~O!g$pO~P%VO`!kOp!iOr!]Os!]Ot!jOnmi#lmi$smi$Omixmi#}mi!gmiemibmi#Rmifmilmi~P8hO`!kOr!]Os!]Ot!jOnoipoi#loi$soi$Ooixoi#}oi!goieoiboi#Roifoiloi~P8hO`!kOn!hOp$qOr!]Os!]Ot!jO~P8hO!S$vO!V$wO!X$xO![$yO!_$zO!c${O#nRO#oRO$ZZO~OZ#bX[#bX]#bX^#bX_#bX`#bXn#bXp#bXr#bXs#bXt#bXv#bXx#bX{#bX!i#bX#n#bX#o#bX#p#bX#z#bX$O#bX~P.]O$O$POx$eX~P%VO$]$}O~O$O%OOx$dX~Ox%QO~O$O$PO!g$eax$ea~O$]%UOx#OX$O#OX~O$O%VOx$pX~Ox%XO~O$]#Wa~P4jO#m!yO$j`O~O$O$ZO#R$ra~O$O$`Ol$Sa~O!U%cO~OxrO~O#}%dObaX$OaX~P%VO#lSq$sSq$OSqxSq#}Sq!gSqeSqbSq#RSqfSqlSq~P%VOx#}O#}$OO$OuX~P%VOx%fO~O#z%gOZ!OX[!OX]!OX^!OX_!OX`!OXn!OXp!OXr!OXs!OXt!OXv!OX{!OX!i!OX#l!OX$s!OX$O!OXx!OX#}!OX!g!OXe!OXb!OX#R!OXf!OXl!OX~Op%iO~Op%jO~Op%kO~O!]%lO~O!]%mO~O!]%nO~O$O%OOx$da~OZ!^O[!^O]!_O^!_O_!`O`!kOn!hOp!iOr!]Os!]Ot!jO{!lO#z!dOv$bX~Ox%sO!g%sO!i%rO~PIfO!g#ga$O#gax#ga~P%VO$O%VOx$pa~O#P%yO~P`O#R#Ui$O#Ui~P%VOf%zO~P%VOl$Ti$O$Ti~P%VO#lgq$sgq$Ogqxgq#}gq!ggqegqbgq#Rgqfgqlgq~P%VO`qynqypqyrqysqytqy#lqy$sqy$Oqyxqy#}qy!gqyeqybqy#Rqyfqylqy~P8hO#z%gOZ!Oa[!Oa]!Oa^!Oa_!Oa`!Oan!Oap!Oar!Oas!Oat!Oav!Oa{!Oa!i!Oa#l!Oa$s!Oa$O!Oax!Oa#}!Oa!g!Oae!Oab!Oa#R!Oaf!Oal!Oa~O!T&OO~O!W&OO~O!T&PO~O!S$vO!V$wO!X$xO![$yO!_$zO!c&uO#nRO#oRO$ZZO~O!Y$^P~P! }Ox!mi$O!mi~P%VOT$aXZ$aX[$aX]!yy^!yy_!yy`!yyd$aXh$aXi$aXn!yyp!yyr$aXs$aXt!yyv$aX{!yy!T$aX!U$aX!V$aX!X$aX!c$aX!g$aX!i$aX!p$aX!w$aX#S$aX#l!yy#n$aX#o$aX#z!yy$Z$aX$i$aX$j$aX$k$aX$l$aX$s!yy$O!yyx!yy#}!yye!yyb!yy#R!yyf!yyl!yy~O#l#QX$s#QX$O#QXx#QX#}#QX!g#QXe#QXb#QX#R#QXf#QXl#QX~P%VObai$Oai~P%VO!U&_O~O#nRO#oRO!Y!PX#z!PX$O!PX~O#z&pO!Y!OX$O!OX~O!Y&aO~O$]&bO~O$O&cO!Y$[X~O!Y&eO~O$O&fO!Y$^X~O!Y&hO~O#lc!R$sc!R$Oc!Rxc!R#}c!R!gc!Rec!Rbc!R#Rc!Rfc!Rlc!R~P%VO#z&pO!Y!Oa$O!Oa~O$O&cO!Y$[a~O$O&fO!Y$^a~O$_&nO~O$_&qO~O!Y&rO~O!]&tO~O$Z~QP_^$i]#z~",goto:"E|$sPPPP$tP%m%p%v&Y'sPPPPPP'|P$tPPP$tPP(P(SP$tP$tP$tPPP(YP(eP$t$tPP(n)T)`*m)TPPPPPPP)TPP)TP+r+u)TP+{,R$tP$tP$t,Y-R-U-[-RP-d.]-d-d/]0UP$t0}$t1v1v2o2rP2xPP1v3O3U/X3YPP3bP3e3l3r3x4O5Z5e5k5q5w6O6U6[6bPPPPPPPP6h6q8x9q:j:mPP:qPP:w:z;s<l<o<s<x=g>V>vP?oP?rP?v@iA[BTBZB^$tBdBdPPPPC]8xDUD}EQEy!mjOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR![SQ!YSR$m#eS!WS#eS#Qw$`W#w!p!x%O%VT&T%m&c#WXOPQWYilu|}!]!a!b!c!e!g!h!i!j!k#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%l%n%y%z&Q&b&f&n&p&q&tb!VSw!x#e$`%O%V%m&cU#a!V#b#uR#u!pU#a!V#b#uT$W!z$XR$l#cR#UwQ#SwR%`$`U!RQ#_#rQ#s!kR$g#]QrQQ$i#_R$s#rQ$|#tQ%t%UQ&S%lU&X%n&f&tQ&i&bT&o&n&qc$u#t%U%l%n&b&f&n&q&t!lkOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ#m!eU$t#t%U&nS%|%g&p]&R%l%n&b&f&q&t#V[OPQWilu|}!]!a!b!c!e!g!h!i!j!k!p#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%l%n%y%z&b&f&n&p&q&tR&W%mQ&U%mR&j&cQ&[%nR&s&tS&Y%n&tR&l&f!m]OPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#|!pQ#y!pR%p%OS#x!p%OT$S!x%V!meOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!leOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ!rbT!{o$Z!mcOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mdOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mhOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mpOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR$V!xQ$T!xR%u%VQ%x%XR&]%yQ!}oR%[$ZT!|o$ZS!zo$ZT$W!z$XRrQS#b!V#uR$j#bQ#f!YR$n#fQ$a#SR%a$aQ#^!RR$h#^!vYOPQWilu|}!]!a!b!c!e!g!h!i!j!k!p#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%y%z&nS!oY&Q_&Q%l%n&b&f&p&q&tQ%h$tS%}%h&`R&`&RQ&d&UR&k&dQ&g&YR&m&gQ%P#yR%q%PS$Q!v#vR%T$QQ%W$TR%v%WQ$X!zR%Y$XQ$[!}R%]$[Q#[!PR$f#[QrOQ!PPR$e#ZUTOP#ZW!QQ!k#]#_Q!nWQ!tiQ!vlQ#PuQ#X|Q#Y}Q#i!]Q#j!aQ#k!bQ#l!cQ#n!gQ#o!hQ#p!iQ#q!jQ#v!pQ$k#cQ$o#gQ$r#rQ%R$OQ%S$PQ%Z$YQ%^$^Q%_$_Q%b$bQ%e$qQ%o$}S%w%X%yQ%{%dR&^%z!mqOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mSOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR!ZST!XS#eQ#c!WR$_#QR#g![!muOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mwOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#TwT#Rw$`V!SQ#_#r!X!aT!Q!t!v#P#X#Y#i#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!Z!bT!Q!t!v#P#X#Y#i#j#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!]!cT!Q!t!v#P#X#Y#i#j#k#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!mWOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR&V%mT&Z%n&t!a!eT!Q!n!t!v#P#X#Y#i#j#k#l#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!a!gT!Q!n!t!v#P#X#Y#i#j#k#l#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!m^OPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ!q^R!scR#z!pQ!wlR#{!p!mfOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mlOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mmOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR$U!x!moOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#Oo",nodeNames:"\u26a0 LineComment BlockComment Expression ForExpression for InExpressions InExpression Name Identifier Identifier ArithOp ArithOp ArithOp ArithOp ArithOp in IterationContext return IfExpression if then else QuantifiedExpression some every InExpressions InExpression satisfies Disjunction or Conjunction and Comparison CompareOp CompareOp between PositiveUnaryTest ( PositiveUnaryTests ) ArithmeticExpression InstanceOfExpression instance of Type QualifiedName VariableName BacktickIdentifier SpecialType days time duration years months date > ListType list < ContextType context ContextEntryTypes ContextEntryType FunctionType function ArgumentTypes ArgumentType PathExpression ] FilterExpression [ FunctionInvocation SpecialFunctionName NamedParameters NamedParameter ParameterName PositionalParameters null NumericLiteral StringLiteral BooleanLiteral DateTimeLiteral DateTimeConstructor AtLiteral ? SimplePositiveUnaryTest Interval ParenthesizedExpression List FunctionDefinition FormalParameters FormalParameter external FunctionBody } { Context ContextEntry Key Name Identifier Expressions UnaryTests Wildcard not",maxTerm:173,context:_yt,nodeProps:[["group",-17,4,19,23,29,31,33,41,42,68,70,72,85,86,88,89,90,97,"Expr",47,"Expr Expr",-5,78,79,80,81,82,"Expr Literal"],["closedBy",38,")",71,"]",96,"}"],["openedBy",40,"(",69,"[",95,"{"]],propSources:[wyt],skippedNodes:[0,1,2],repeatNodeCount:14,tokenData:".Z~RvXY#iYZ$^Z[#i]^$^pq#iqr$crs$nwx&fxy&kyz&pz{&u{|'S|}'X}!O'^!O!P'k!P!Q(u!Q![*p![!]+X!]!^+^!^!_+c!_!`$i!`!a+r!b!c+|!}#O,R#P#Q,W#Q#R&}#S#T,]#o#p.P#q#r.U$f$g#i#BY#BZ#i$IS$I_#i$I|$I}$^$I}$JO$^$JT$JU#i$KV$KW#i&FU&FV#i?HT?HU#i~#nY#r~XY#iZ[#ipq#i$f$g#i#BY#BZ#i$IS$I_#i$JT$JU#i$KV$KW#i&FU&FV#i?HT?HU#i~$cO#s~~$fP!_!`$i~$nOr~~$sW$j~OY$nZr$nrs%]s#O$n#O#P%b#P;'S$n;'S;=`&`<%lO$n~%bO$j~~%eRO;'S$n;'S;=`%n;=`O$n~%sX$j~OY$nZr$nrs%]s#O$n#O#P%b#P;'S$n;'S;=`&`;=`<%l$n<%lO$n~&cP;=`<%l$n~&kO#{~~&pOv~~&uOx~~&zP^~z{&}~'SO_~~'XO[~~'^O$O~R'cPZP!`!a'fQ'kO$_Q~'pQ#z~!O!P'v!Q!['{~'{O#}~~(QR$i~!Q!['{!g!h(Z#X#Y(Z~(^R{|(g}!O(g!Q![(m~(jP!Q![(m~(rP$i~!Q![(m~(zQ]~z{)Q!P!Q*X~)TTOz)Qz{)d{;'S)Q;'S;=`*R<%lO)Q~)gVOz)Qz{)d{!P)Q!P!Q)|!Q;'S)Q;'S;=`*R<%lO)Q~*ROQ~~*UP;=`<%l)Q~*^SP~OY*XZ;'S*X;'S;=`*j<%lO*X~*mP;=`<%l*X~*uS$i~!O!P+R!Q![*p!g!h(Z#X#Y(Z~+UP!Q!['{~+^O$]~~+cO$s~R+jP!]QsP!_!`+mP+rOsPR+yP!YQsP!_!`+m~,RO$l~~,WO!i~~,]O!g~~,`WOY,]Z#O,]#O#P,x#P#S,]#S#T-t#T;'S,];'S;=`-y<%lO,]~,{RO;'S,];'S;=`-U;=`O,]~-XXOY,]Z#O,]#O#P,x#P#S,]#S#T-t#T;'S,];'S;=`-y;=`<%l,]<%lO,]~-yO$Z~~-|P;=`<%l,]~.UO#S~~.ZO#R~",tokenizers:[myt,hyt,gyt,0,1],topRules:{Expression:[0,3],Expressions:[1,102],UnaryTests:[2,103]},dialects:{camunda:2544},dynamicPrecedences:{31:-1,68:1,72:-1,74:-1},specialized:[{term:122,get:t=>Cyt[t]||-1}],tokenPrec:2546});function pd(t){return Er.isDateTime(t)}function bf(t){return ai.isDuration(t)}function fp(t){return Array.isArray(t)}function Oa(t){return null==t?"nil":function Oyt(t){return"boolean"==typeof t}(t)?"boolean":IO(t)?"number":h_(t)?"string":function Syt(t){return Object.getPrototypeOf(t)===Object.prototype}(t)?"context":fp(t)?"list":bf(t)?"duration":pd(t)?1900===t.year&&1===t.month&&1===t.day?"time":0===t.hour&&0===t.minute&&0===t.second&&0===t.millisecond&&t.zone===Va.utcInstance?"date":"date time":t instanceof fd?"range":t instanceof BR?"function":"literal"}function bK(t,n){return Oa(t)===n}class fd{constructor(n){Object.assign(this,n)}}function IO(t){return"number"==typeof t}function h_(t){return"string"==typeof t}function py(t,n,i=!1){if(null===t&&null!==n||null!==t&&null===n)return!1;fp(t)&&t.length<2&&(t=t[0]),fp(n)&&n.length<2&&(n=n[0]);const s=Oa(t),o=Oa(n),a=["date time","time","date"];if(a.includes(s))return!a.includes(o)||"time"===s&&"time"!==o||"time"===o&&"time"!==s?null:i||t.zone===Su.instance||n.zone===Su.instance?t.equals(n):t.toUTC().valueOf()===n.toUTC().valueOf();if(s!==o)return null;if("nil"===s)return!0;if("list"===s)return t.length===n.length&&t.every((l,c)=>py(l,n[c]));if("duration"===s)return Math.abs(t.as("days"))>180?0===Math.trunc(t.minus(n).as("months")):0===Math.trunc(t.minus(n).as("seconds"));if("context"===s){const l=Object.entries(t),c=Object.entries(n);return l.length===c.length&&l.every(([u,d])=>u in n&&py(d,n[u]))}return"range"===s?[[t.start,n.start],[t.end,n.end],[t["start included"],n["start included"]],[t["end included"],n["end included"]]].every(([l,c])=>l===c):t==n||s!==o&&null}class BR{constructor(n,i){this.fn=n,this.parameterNames=i}invoke(n){let i;if(fp(n)){if(i=n,i.length>this.parameterNames.length){const s=this.parameterNames[this.parameterNames.length-1];if(!s||!s.startsWith("..."))return null}}else{if(Object.keys(n).some(s=>!this.parameterNames.includes(s)&&!this.parameterNames.includes(`...${s}`)))return null;i=this.parameterNames.reduce((s,o)=>{if(o.startsWith("...")){o=o.slice(3);const a=n[o];return a?[...s,...fp(a)?a:[a]]:s}return[...s,n[o]]},[])}return this.fn.call(null,...i)}}function _K(t){if(Array.isArray(t.$args))return t.$args;const n=t.toString(),i=/^(?:[^(]*\s*)?\(([^)]+)?\)/.exec(n);if(!i)throw new Error("failed to parse params: "+n);const[s,o]=i;return o?o.split(",").map(a=>a.trim()):[]}function al(t){return new Error(`not implemented: ${t}`)}function $R(t,n){if(["nil","boolean","number","string"].includes(Oa(n)))return;if(t in n)return n[t];const i=dy(t);if(i in n)return n[i];const s=Object.entries(n).find(([o])=>i===dy(o));return s?s[1]:void 0}function Fxe(t){return"number"==typeof t?ai.fromMillis(t):ai.fromISO(t)}function hp(t=null,n=null,i=null){if(n){if(t)throw new Error("<str> and <time> provided");return hp(`1900-01-01T${n}`,null)}if("string"==typeof t){if(t.startsWith("-"))throw al("negative date");if(!t.includes("T"))return hp(t+"T00:00:00",null,i||Va.utcInstance);if(t.includes("@")){if(i)throw new Error("<zone> already provided");const[s,o]=t.split("@");return hp(s,null,U3.normalizeZone(o))}return Er.fromISO(t.toUpperCase(),{setZone:!0,zone:i})}return Er.now()}const Pyt={number:Tn(function(t,n,i){if(3!==arguments.length)return null;n&&(t=t.split(n).join("")),i&&"."!==i&&(t=t.split(".").join("#").split(i).join("."));const s=+t;return isNaN(s)?null:s},["string","string?","string?"],["from","grouping separator","decimal separator"]),string:Tn(function(t){return null===t?null:xK(t)},["any"]),date:Tn(function(t,n,i,s){let o;return!s&&!IO(t)&&(s=t,t=null),h_(s)&&(o=hp(s)),pd(s)&&(o=s),t&&(o=hp().setZone("utc").set({year:t,month:n,day:i})),o&&K3(o.setZone("utc").startOf("day"))||null},["any?","number?","number?","any?"]),"date and time":Tn(function(t,n,i){let s;if(pd(t)&&pd(n)){const o=t.toLocal();s=n.set({year:o.year,month:o.month,day:o.day})}return h_(t)&&(i=t,t=null),h_(i)&&(s=hp(i,null,i.includes("@")?null:Su.instance)),s&&K3(s)||null},["any?","time?","string?"],["date","time","from"]),time:Tn(function(t,n,i,s,o){let a;if(s)throw al("time(..., offset)");return(h_(t)||pd(t))&&(o=t,t=null),h_(o)&&(a=hp(null,o)),pd(o)&&(a=o.set({year:1900,month:1,day:1})),IO(t)&&(a=hp().set({hour:t,minute:n,second:i}).set({year:1900,month:1,day:1,millisecond:0})),a&&K3(a)||null},["any?","number?","number?","any?","any?"]),duration:Tn(function(t){return K3(Fxe(t))},["string"]),"years and months duration":Tn(function(t,n){return K3(n.diff(t,["years","months"]))},["date","date"]),"@":Tn(function(t){let n;return n=/^-?P/.test(t)?Fxe(t):/^[\d]{1,2}:[\d]{1,2}:[\d]{1,2}/.test(t)?hp(null,t):hp(t),n&&K3(n)||null},["string"]),now:Tn(function(){return hp()},[]),today:Tn(function(){return hp().startOf("day")},[]),not:Tn(function(t){return bK(t,"boolean")?!t:null},["any"]),substring:Tn(function(t,n,i){const s=n<0?t.length+n:n-1,o=Array.from(t);return(typeof i<"u"?o.slice(s,s+i):o.slice(s)).join("")},["string","number","number?"],["string","start position","length"]),"string length":Tn(function(t){return function Ayt(t){return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}(t)},["string"]),"upper case":Tn(function(t){return t.toUpperCase()},["string"]),"lower case":Tn(function(t){return t.toLowerCase()},["string"]),"substring before":Tn(function(t,n){const i=t.indexOf(n);return-1===i?"":t.substring(0,i)},["string","string"]),"substring after":Tn(function(t,n){const i=t.indexOf(n);return-1===i?"":t.substring(i+n.length)},["string","string"]),replace:Tn(function(t,n,i,s){return t.replace(new RegExp(n,"ug"+(s||"").replace(/[x]/g,"")),i.replace(/\$0/g,"$$&"))},["string","string","string","string?"]),contains:Tn(function(t,n){return t.includes(n)},["string","string"]),matches:Tn(function(t,n,i){throw al("matches")},["string","string","string?"]),"starts with":Tn(function(t,n){return t.startsWith(n)},["string","string"]),"ends with":Tn(function(t,n){return t.endsWith(n)},["string","string"]),split:Tn(function(t,n){return t.split(new RegExp(n,"u"))},["string","string"]),"string join":Tn(function(t,n){return t.some(i=>!h_(i)&&null!==i)?null:t.filter(i=>null!==i).join(n||"")},["list","string?"]),"list contains":Tn(function(t,n){return t.some(i=>$xe(i,n))},["list","any?"]),"list replace":Tn(function(t,n,i,s){return["number","function"].includes(Oa(n||s))?function Ryt(t,n,i){return IO(n)?[...t.slice(0,n-1),i,...t.slice(n)]:t.map((s,o)=>n.invoke([s,i])?i:s)}(t,n||s,i):null},["list","any?","any","function?"]),count:Tn(function(t){return t.length},["list"]),min:hd(function(...t){return t.reduce((n,i)=>null===n?i:Math.min(n,i),null)},"number"),max:hd(function(...t){return t.reduce((n,i)=>null===n?i:Math.max(n,i),null)},"number"),sum:hd(function(...t){return zxe(t)},"number"),mean:hd(function(...t){const n=zxe(t);return null===n?n:n/t.length},"number"),all:hd(function(...t){let n=!1;for(const i of t){if(!1===i)return!1;"boolean"!=typeof i&&(n=!0)}return!n||null},"any?"),any:hd(function(...t){let n=!1;for(const i of t){if(!0===i)return!0;"boolean"!=typeof i&&(n=!0)}return!!n&&null},"any?"),sublist:Tn(function(t,n,i){const s=n<0?t.length+n:n-1;return typeof i<"u"?t.slice(s,s+i):t.slice(s)},["list","number","number?"]),append:Tn(function(t,...n){return t.concat(n)},["list","any?"]),concatenate:Tn(function(...t){return t.reduce((n,i)=>n.concat(i),[])},["any"]),"insert before":Tn(function(t,n,i){return t.slice(0,n-1).concat([i],t.slice(n-1))},["list","number","any?"]),remove:Tn(function(t,n){return t.slice(0,n-1).concat(t.slice(n))},["list","number"]),reverse:Tn(function(t){return t.slice().reverse()},["list"]),"index of":Tn(function(t,n){return t.reduce(function(i,s,o){return $xe(s,n)&&i.push(o+1),i},[])},["list","any"]),union:hd(function(...t){return t.reduce((n,i)=>i.reduce((s,o)=>(s.some(a=>py(o,a))||s.push(o),s),n),[])},"list"),"distinct values":Tn(function(t){return t.reduce((n,i)=>(n.some(s=>py(i,s))||n.push(i),n),[])},["list"]),flatten:Tn(function(t){return EK(t)},["list"]),product:hd(function(...t){return 0===t.length?null:t.reduce((n,i)=>n*i,1)},"number"),median:hd(function(...t){return 0===t.length?null:function Nyt(t){const n=t.length,i=t.slice().sort(),s=n/2-1,o=Math.ceil(s);return s===o?(i[o]+i[o+1])/2:i[o]}(t)},"number"),stddev:hd(function(...t){return t.length<2?null:function Iyt(t){const n=t.length,i=t.reduce((s,o)=>s+o)/n;return Math.sqrt(t.map(s=>Math.pow(s-i,2)).reduce((s,o)=>s+o)/(n-1))}(t)},"number"),mode:hd(function(...t){return function Lyt(t){if(t.length<2)return t;const n={};for(const s of t)n[s]=(n[s]||0)+1;const i=Object.entries(n).sort((s,o)=>o[1]-s[1]);return i.filter(s=>s[1]===i[0][1]).map(s=>+s[0])}(t)},"number"),decimal:Tn(function(t,n){if(!n)return Uxe(t);const i=Math.pow(10,n);return Uxe(t*i)/i},["number","number"]),floor:Tn(function(t,n=0){if(null===n)return null;const i=Math.pow(10,n);return Math.floor(t*i)/i},["number","number?"]),ceiling:Tn(function(t,n=0){if(null===n)return null;const i=Math.pow(10,n);return Math.ceil(t*i)/i},["number","number?"]),abs:Tn(function(t){return"number"!=typeof t?null:Math.abs(t)},["number"]),"round up":Tn(function(t,n){throw al("round up")},["number","number"]),"round down":Tn(function(t,n){throw al("round down")},["number","number"]),"round half up":Tn(function(t,n){throw al("round half up")},["number","number"]),"round half down":Tn(function(t,n){throw al("round half down")},["number","number"]),modulo:Tn(function(t,n){if(!n)return null;const i=1e9;return Math.round((t%n+n)%n*i)/i},["number","number"]),sqrt:Tn(function(t){return t<0?null:Math.sqrt(t)},["number"]),log:Tn(function(t){return t<=0?null:Math.log(t)},["number"]),exp:Tn(function(t){return Math.exp(t)},["number"]),odd:Tn(function(t){return Math.abs(t)%2==1},["number"]),even:Tn(function(t){return Math.abs(t)%2==0},["number"]),is:Tn(function(t,n){return!(typeof t>"u"||typeof n>"u")&&py(t,n,!0)},["any?","any?"]),before:Tn(function(t,n){return VR(t,n)},["any","any"]),after:Tn(function(t,n){return VR(n,t)},["any","any"]),meets:Tn(function(t,n){return jxe(t,n)},["range","range"]),"met by":Tn(function(t,n){return jxe(n,t)},["range","range"]),overlaps:Tn(function(t,n){return!VR(t,n)&&!VR(n,t)},["range","range"]),"overlaps before":Tn(function(){throw al("overlaps before")},["any?"]),"overlaps after":Tn(function(){throw al("overlaps after")},["any?"]),finishes:Tn(function(){throw al("finishes")},["any?"]),"finished by":Tn(function(){throw al("finished by")},["any?"]),includes:Tn(function(){throw al("includes")},["any?"]),during:Tn(function(){throw al("during")},["any?"]),starts:Tn(function(){throw al("starts")},["any?"]),"started by":Tn(function(){throw al("started by")},["any?"]),coincides:Tn(function(){throw al("coincides")},["any?"]),"day of year":Tn(function(t){return t.ordinal},["date time"]),"day of week":Tn(function(t){return t.weekdayLong},["date time"]),"month of year":Tn(function(t){return t.monthLong},["date time"]),"week of year":Tn(function(t){return t.weekNumber},["date time"]),sort:Tn(function(t,n){return Array.from(t).sort((i,s)=>n.invoke([i,s])?-1:1)},["list","function"]),"get value":Tn(function(t,n){return $R(n,t)??null},["context","string"]),"get entries":Tn(function(t){return 1!==arguments.length||Array.isArray(t)?null:Object.entries(t).map(([n,i])=>({key:n,value:i}))},["context"]),context:hd(function(...t){const n=t.reduce((i,s)=>{if(i===_f||!["key","value"].every(a=>a in s))return _f;const o=s.key;return null===o||o in i?_f:Object.assign(Object.assign({},i),{[s.key]:s.value})},{});return n===_f?null:n},"context"),"context merge":hd(function(...t){return Object.assign({},...t)},"context"),"context put":Tn(function(t,n,i,s){return typeof n>"u"&&typeof s>"u"?null:Bxe(t,n||[s],i)},["context","list?","any","string?"],["context","keys","value","key"])};function Bxe(t,n,i){const[s,...o]=n;return"string"!==Oa(s)||"nil"===Oa(t)||o.length&&null===(i=Bxe(t[s],o,i))?null:Object.assign(Object.assign({},t),{[s]:i})}function $xe(t,n){return t===n}const _f={};function Vxe(t){const n=t.endsWith("?"),i=n?t.substring(0,t.length-1):t;return function(s){const o=Array.isArray(s);if("list"===i)return o||n&&typeof s>"u"?s:null===s?_f:[s];"any"!==i&&o&&1===s.length&&(s=s[0]);const a=Oa(s);return"any"===i||i===a?n||typeof s<"u"?s:_f:"nil"===a?n?s:_f:function Tyt(t,n){if(pd(t)){if("time"===n)return t.set({year:1900,month:1,day:1});if("date"===n)return t.setZone("utc",{keepLocalTime:!0}).startOf("day");if("date time"===n)return t}return null}(s,i)||_f}}function hd(t,n,i=null){const s=Vxe(n),o=function(...a){return 0!==a.length&&(Array.isArray(a[0])&&1===a.length&&(a=a[0]),a.every(l=>s(l)!==_f))?t(...a):null};return o.$args=i||_K(t),o}function Tn(t,n,i=null){const s=function Dyt(t){const n=t.map(Vxe);return function(i){for(;i.length<t.length;)i.push(void 0);return i.reduce((s,o,a)=>{if(!1===s)return s;const l=n[a],c=l?l(o):o;return c!==_f&&(s.push(c),s)},[])}}(n);i=i||_K(t);const o=function(...a){const l=s(a);return l?t(...l):null};return o.$args=i,o}function jxe(t,n){return[t.end===n.start,!0===t["end included"],!0===n["start included"]].every(i=>i)}function VR(t,n){return t instanceof fd&&n instanceof fd?t.end<n.start||(!t["end included"]||!n["start included"])&&t.end==n.start:t instanceof fd?t.end<n||!t["end included"]&&t.end===n:n instanceof fd?n.start>t||!n["start included"]&&n.start===t:t<n}function zxe(t){return t.reduce((n,i)=>null===n?i:n+i,null)}function EK([t,...n]){return void 0!==t?[...Array.isArray(t)?EK(t):[t],...EK(n)]:[]}function Hxe(t){return xK(t,!0)}function xK(t,n=!1){var i,s,o,a;const l=Oa(t);if("nil"===l)return"null";if("string"===l)return n?`"${function Myt(t){return t.replace(/("|\\)/g,"\\$1")}(t)}"`:t;if("boolean"===l||"number"===l)return String(t);if("list"===l)return"["+t.map(Hxe).join(", ")+"]";if("context"===l)return"{"+Object.entries(t).map(([c,u])=>function kyt(t){return"string"==typeof t&&/\W/.test(t)?xK(t,!0):t}(c)+": "+Hxe(u)).join(", ")+"}";if("duration"===l)return t.shiftTo("years","months","days","hours","minutes","seconds").normalize().toISO();if("date time"===l)return t.zone===Su.instance?t.toISO({suppressMilliseconds:!0,includeOffset:!1}):null!==(i=t.zone)&&void 0!==i&&i.zoneName?t.toISO({suppressMilliseconds:!0,includeOffset:!1})+"@"+(null===(s=t.zone)||void 0===s?void 0:s.zoneName):t.toISO({suppressMilliseconds:!0});if("date"===l)return t.toISODate();if("range"===l)return"<range>";if("time"===l)return t.zone===Su.instance?t.toISOTime({suppressMilliseconds:!0,includeOffset:!1}):null!==(o=t.zone)&&void 0!==o&&o.zoneName?t.toISOTime({suppressMilliseconds:!0,includeOffset:!1})+"@"+(null===(a=t.zone)||void 0===a?void 0:a.zoneName):t.toISOTime({suppressMilliseconds:!0});if("function"===l)return"<function>";throw al("string("+l+")")}function Uxe(t){const n=Math.floor(t);return t-n==.5?n%2==0?n:n+1:Math.round(t)}function K3(t){return t.isValid?t:null}class $yt extends Error{constructor(n,i){super(n),Object.assign(this,i)}}const qxe=new class Vyt{_buildExecutionTree(n,i){const s={args:[],nodeInput:i},o=[s];return n.iterate({enter(a){const{isError:l,isSkipped:c}=a.type,{from:u,to:d}=a;if(l){const{from:f,to:h,message:m}=function evt(t){const n=t.node,i=n.parent;if(n.from!==n.to)return{from:n.from,to:n.to,message:`Unrecognized token in <${i.name}>`};const s=function tvt(t){let i,s=t.node;do{if(i=s.nextSibling,i)return i;s=s.parent}while(s);return null}(n);if(s)return{from:n.from,to:s.to,message:`Unrecognized token <${s.name}> in <${i.name}>`};{const o=i.enterUnfinishedNodesBefore(t.to);return{from:n.from,to:n.to,message:`Incomplete <${(o||i).name}>`}}}(a);throw new $yt(m,{input:i.slice(f,h),position:{from:f,to:h}})}if(c)return!1;const p=i.slice(u,d);o.push({nodeInput:p,args:[]})},leave(a){if(a.type.isSkipped)return;const{nodeInput:l,args:c}=o.pop(),u=o[o.length-1],d=function jyt(t,n,i){switch(t.name){case"ArithOp":return s=>{const o=(a,l=["number"])=>(c,u)=>{const d=c(s),p=u(s);if(fp(d)||fp(p))return null;const f=Oa(d),h=Oa(p),m=["date","time","date time","duration"];if(m.includes(f)){if(!m.includes(h))return null}else if(f!==h||!l.includes(f))return null;return a(d,p)};switch(n){case"+":return o((a,l)=>{if(bf(a)&&!bf(l)){const c=a;a=l,l=c}return bK(a,"time")&&bf(l)?a.plus(l).set({year:1900,month:1,day:1}):pd(a)&&pd(l)?null:pd(a)&&bf(l)||bf(a)&&bf(l)?a.plus(l):a+l},["string","number","date","time","duration","date time"]);case"-":return o((a,l)=>bK(a,"time")&&bf(l)?a.minus(l).set({year:1900,month:1,day:1}):pd(a)&&pd(l)?a.diff(l):pd(a)&&bf(l)||bf(a)&&bf(l)?a.minus(l):a-l,["number","date","time","duration","date time"]);case"*":return o((a,l)=>a*l);case"/":return o((a,l)=>l?a/l:null);case"**":case"^":return o((a,l)=>Math.pow(a,l))}};case"CompareOp":return Ou(()=>{switch(n){case">":return s=>m_(s,null,!1,!1);case">=":return s=>m_(s,null,!0,!1);case"<":return s=>m_(null,s,!1,!1);case"<=":return s=>m_(null,s,!1,!0);case"=":return s=>o=>py(o,s);case"!=":return s=>o=>!py(o,s)}},g_("boolean"));case"BacktickIdentifier":return n.replace(/`/g,"");case"Wildcard":return s=>!0;case"null":return s=>null;case"Disjunction":return Ou(s=>{const o=i[0](s),a=i[2](s),c="boolean"==typeof o?o:null,u="boolean"==typeof a?a:null;return[[!0,!0,!0],[!0,!1,!0],[!0,null,!0],[!1,!0,!0],[!1,!1,!1],[!1,null,null],[null,!0,!0],[null,!1,null],[null,null,null]].find(d=>d[0]===c&&d[1]===u)[2]},g_("boolean"));case"Conjunction":return Ou(s=>{const o=i[0](s),a=i[2](s),c="boolean"==typeof o?o:null,u="boolean"==typeof a?a:null;return[[!0,!0,!0],[!0,!1,!1],[!0,null,null],[!1,!0,!1],[!1,!1,!1],[!1,null,!1],[null,!0,null],[null,!1,!1],[null,null,null]].find(d=>d[0]===c&&d[1]===u)[2]},g_("boolean"));case"Context":return s=>i.slice(1,-1).reduce((o,a)=>{const[l,c]=a(Object.assign(Object.assign({},s),o));return Object.assign(Object.assign({},o),{[l]:c})},{});case"FunctionBody":case"FormalParameter":case"Key":case"Type":case"PositiveUnaryTest":return i[0];case"FormalParameters":return i;case"ParameterName":return i.join(" ");case"FunctionDefinition":return s=>{const o=i[2],a=i[4];return WR((...l)=>{const c=o.reduce((u,d,p)=>(u[d]=l[p],u),Object.assign({},s));return a(c)},o)};case"ContextEntry":return s=>["function"==typeof i[0]?i[0](s):i[0],i[1](s)];case"Identifier":return n;case"SpecialFunctionName":case"DateTimeConstructor":return s=>zR(n);case"Name":return n.replace(/\s{2,}/g," ");case"VariableName":return s=>{const o=i.join(" "),a=$R(o,s);return typeof a<"u"?a:zR(o)||null};case"QualifiedName":return s=>i.reduce((o,a)=>a(o),s);case"?":return s=>$R("?",s);case"IterationContext":return s=>{const o=i[0](s),a=i[1]&&i[1](s);return a?m_(o,a):o};case"InExpressions":return s=>{const o=i.map(a=>a(s));return o.some(a=>"list"!==Oa(a))?null:function Qyt(t){if(t.some(s=>"nil"===Oa(s)))return null;const i=(s,o,...a)=>o?i(((s,o)=>[].concat(...s.map(a=>o.map(l=>[].concat(a,l)))))(s,o),...a):s||[];return i(...t)}(o).map(a=>(fp(a)||(a=[a]),Object.assign({},s,...a)))};case"InExpression":return s=>function zyt(t,n,i){const s=i(t);return["list","range"].includes(Oa(s))?s.map(o=>({[n]:o})):null}(s,i[0],i[2]);case"SpecialType":throw al("SpecialType");case"InstanceOfExpression":return Ou(s=>i[0](s)instanceof i[3](s),g_("boolean"));case"every":return Ou(s=>(o,a)=>{const l=o(s);return"list"!==Oa(l)?l:l.every(c=>qR(a(c)))},g_("boolean"));case"some":return Ou(s=>(o,a)=>{const l=o(s);return"list"!==Oa(l)?l:l.some(c=>qR(a(c)))},g_("boolean"));case"NumericLiteral":return Ou(s=>n.includes(".")?parseFloat(n):parseInt(n),"number");case"BooleanLiteral":return Ou(s=>"true"===n,"boolean");case"StringLiteral":return Ou(s=>function Jyt(t){return t.startsWith('"')&&(t=t.slice(1)),t.endsWith('"')&&(t=t.slice(0,-1)),t.replace(/(\\")|(\\\\)|(\\u[a-fA-F0-9]{5,6})|((?:\\u[a-fA-F0-9]{1,4})+)/gi,function(n,...i){const[s,o,a,l]=i;if(s)return'"';if(o)return"\\";const c=/\\u([a-fA-F0-9]+)/gi;if(a){const u=c.exec(a);return String.fromCodePoint(parseInt(u[1],16))}if(l){const u=[];let d;for(;null!==(d=c.exec(n));)u.push(parseInt(d[1],16));return String.fromCharCode(...u)}throw new Error("illegal match")})}(n),"string");case"PositionalParameters":case"PositiveUnaryTests":case"Expressions":return s=>i.map(o=>o(s));case"NamedParameter":return s=>[i[0],i[1](s)];case"NamedParameters":return s=>i.reduce((o,a)=>{const[l,c]=a(s);return o[l]=c,o},{});case"DateTimeLiteral":return s=>{if(1===i.length)return i[0](s);{const o=WR(i[0](s));if(!o)return null;const a=i[2](s);return o.invoke(a)}};case"AtLiteral":return s=>{const o=WR(zR("@"));return o?o.invoke([i[0](s)]):null};case"FunctionInvocation":return s=>{const o=WR(i[0](s));if(!o)return null;const a=i[2](s);return o.invoke(a)};case"IfExpression":return function(){const s=i[1],o=i[3],a=i[5];return Ou(c=>qR(s(c))?o(c):a?a(c):null,Wxe(o,a))}();case"Parameters":return 3===i.length?i[1]:s=>[];case"Comparison":return s=>{const o=i[1];if("in"===o)return function Hyt(t,n){if(!fp(n)){if("nil"===Oa(n))return null;n=[n]}return n.some(i=>wK(i,t))}(i[0](s),(i[3]||i[2])(s));if("between"===o){const u=i[2](s),d=i[4](s);return null===u||null===d?null:m_(u,d).includes(i[0](s))}const a=i[0](s),l=i[2](s);return wK(o()(l),a)};case"QuantifiedExpression":return s=>i[0](s)(i[1],i[3]);case"ForExpression":return s=>{const o=i[i.length-1],a=i[1](s);if("list"!==Oa(a))return a;const l=[];for(const c of a)l.push(o(Object.assign(Object.assign({},c),{partial:l})));return l};case"ArithmeticExpression":return function(){if(3===i.length){const[s,o,a]=i;return Ou(l=>o(l)(s,a),Wxe(s,a))}if(2===i.length){const[s,o]=i;return Ou(a=>s(a)(()=>0,o),o.type)}}();case"ParenthesizedExpression":return i[1];case"PathExpression":return s=>{const o=i[0](s),a=i[1];return fp(o)?o.map(a):a(o)};case"FilterExpression":return s=>{const o=i[0](s),a=i[2],l=fp(o)?o:[o];if(null===o)return null;if(typeof a.type>"u")try{IO(a(s))&&(a.type="number")}catch{}if("number"===a.type){const c=a(s),u=l[c<0?l.length+c:c-1];return typeof u>"u"?null:u}if("boolean"===a.type)return a(s)?l:[];if("string"===a.type){const c=a(s);return l.filter(u=>u===c)}return l.map(c=>{const u=Object.assign(Object.assign(Object.assign({},s),{item:c}),c);let d=a(u);return"function"==typeof d&&(d=d(c)),d instanceof fd&&(d=d.includes(c)),!0===d?c:d}).filter(qR)};case"SimplePositiveUnaryTest":return Ou(s=>1===i.length?i[0](s):i[0](s)(i[1](s)),"test");case"List":return s=>i.slice(1,-1).map(o=>o(s));case"Interval":return Ou(s=>{const o=i[1](s),a=i[2](s);return m_(o,a,null!==o&&"["===i[0],null!==a&&"]"===i[3])},g_("boolean"));case"Expression":return s=>i[0](s);case"UnaryTests":return s=>(o=null)=>{const a="not"===i[0],c=(a?i.slice(2,-1):i).map(u=>u(s)).flat(1).map(u=>fp(u)?u.includes(o):null===u?null:"boolean"==typeof u?u:wK(u,o)).reduce(Zyt,void 0);return null===c?null:a?!c:c};default:return t.name}}(a,l,c);u.args.push(d)}}),s.args[s.args.length-1]}evaluate(n,i={},s){const o=function Fyt(t,n={},i){return f_.configure({top:"Expression",contextTracker:p_(n),dialect:i}).parse(t)}(n,i,s);return{parseTree:o,root:this._buildExecutionTree(o,n)}}unaryTest(n,i={},s){const o=function Byt(t,n={},i){return f_.configure({top:"UnaryTests",contextTracker:p_(n),dialect:i}).parse(t)}(n,i,s);return{parseTree:o,root:this._buildExecutionTree(o,n)}}};function jR(t,n={},i){const{root:s}=qxe.evaluate(t,n,i);return s(n)}function zR(t,n){return $R(t,Pyt)}function wK(t,n){return"function"==typeof t?t(n):t instanceof fd?t.includes(n):py(t,n)}const RO=Array.from("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");function Y3(t,n){return n.some(i=>Oa(i)===t)&&n.every(i=>null===i||Oa(i)===t)}const Uyt=new fd({start:null,end:null,"start included":!1,"end included":!1,map:()=>[],includes:()=>null});function m_(t,n,i=!0,s=!0){if(Y3("string",[t,n]))return function Kyt(t,n,i=!0,s=!0){if(null!==t&&!RO.includes(t))throw new Error("illegal range start: "+t);if(null!==n&&!RO.includes(n))throw new Error("illegal range end: "+n);let o;if(null!==t&&null!==n){let c=RO.indexOf(t),u=RO.indexOf(n);const d=c>u?-1:1;!1===i&&(c+=d),!1===s&&(u-=d),o=RO.slice(c,u+1)}const a=o?function qyt(t){return n=>t.map(n)}(o):HR(),l=o?function Wyt(t){return n=>t.includes(n)}(o):UR(t,n,i,s);return new fd({start:t,end:n,"start included":i,"end included":s,map:a,includes:l})}(t,n,i,s);if(Y3("number",[t,n]))return function Yyt(t,n,i,s){const o=null!==t&&null!==n?function Gyt(t,n,i,s){const o=t>n?-1:1;return a=>{const l=[];for(let c=t;0===c&&!i||(c!==n||s)&&(l.push(a(c)),c!==n);c+=o);return l}}(t,n,i,s):HR(),a=UR(t,n,i,s);return new fd({start:t,end:n,"start included":i,"end included":s,map:o,includes:a})}(t,n,i,s);if(Y3("duration",[t,n]))return function Xyt(t,n,i,s){const o=c=>c?ai.fromDurationLike(c).toMillis():null,a=HR(),l=UR(o(t),o(n),i,s,o);return new fd({start:t,end:n,"start included":i,"end included":s,map:a,includes:l})}(t,n,i,s);if(Y3("time",[t,n])||Y3("date time",[t,n])||Y3("date",[t,n]))return function OK(t,n,i,s){const o=HR(),a=UR(t,n,i,s);return new fd({start:t,end:n,"start included":i,"end included":s,map:o,includes:a})}(t,n,i,s);if(null===t&&null===n)return Uyt;throw new Error(`unsupported range: ${t}..${n}`)}function HR(){return()=>{throw new Error("unsupported range operation: map")}}function CK(t,n){return n?i=>t<=i:i=>t<i}function SK(t,n){return n?i=>t>=i:i=>t>i}function UR(t,n,i,s,o=a=>a){let a=[];return null===t&&null===n?()=>null:(null!==t&&null!==n?a=t>n?[CK(n,s),SK(t,i)]:[CK(t,i),SK(n,s)]:null!==n?a=[SK(n,s)]:null!==t&&(a=[CK(t,i)]),l=>null===l?null:a.every(c=>c(o(l))))}function Wxe(t,n){return n&&t.type!==n.type?"any":t.type}function Ou(t,n){return Object.assign(t,{type:n,toString:()=>`TaggedFunction[${n}] ${Function.prototype.toString.call(t)}`})}function Zyt(t,n){return t||n}function qR(t){return!1!==t&&null!==t}function g_(t){return`Test<${t}>`}function WR(t,n=null){return t?t instanceof BR?t:t instanceof fd?new BR(i=>t.includes(i),["value"]):"function"!=typeof t?null:new BR(t,n||_K(t)):null}let NO=[],TK=[];function nvt(t){if(t<768)return!1;for(let n=0,i=NO.length;;){let s=n+i>>1;if(t<NO[s])i=s;else{if(!(t>=TK[s]))return!0;n=s+1}if(n==i)return!1}}function Gxe(t){return t>=127462&&t<=127487}function rvt(t,n,i=!0,s=!0){return(i?Yxe:ivt)(t,n,s)}function Yxe(t,n,i){if(n==t.length)return n;n&&Xxe(t.charCodeAt(n))&&Qxe(t.charCodeAt(n-1))&&n--;let s=PK(t,n);for(n+=Zxe(s);n<t.length;){let o=PK(t,n);if(8205==s||8205==o||i&&nvt(o))n+=Zxe(o),s=o;else{if(!Gxe(o))break;{let a=0,l=n-2;for(;l>=0&&Gxe(PK(t,l));)a++,l-=2;if(a%2==0)break;n+=2}}}return n}function ivt(t,n,i){for(;n>0;){let s=Yxe(t,n-2,i);if(s<n)return s;n--}return 0}function PK(t,n){let i=t.charCodeAt(n);if(!Qxe(i)||n+1==t.length)return i;let s=t.charCodeAt(n+1);return Xxe(s)?s-56320+(i-55296<<10)+65536:i}function Xxe(t){return t>=56320&&t<57344}function Qxe(t){return t>=55296&&t<56320}function Zxe(t){return t<65536?1:2}(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=0,i=0;n<t.length;n++)(n%2?TK:NO).push(i+=t[n])})();class Vi{lineAt(n){if(n<0||n>this.length)throw new RangeError(`Invalid position ${n} in document of length ${this.length}`);return this.lineInner(n,!1,1,0)}line(n){if(n<1||n>this.lines)throw new RangeError(`Invalid line number ${n} in ${this.lines}-line document`);return this.lineInner(n,!0,1,0)}replace(n,i,s){[n,i]=X3(this,n,i);let o=[];return this.decompose(0,n,o,2),s.length&&s.decompose(0,s.length,o,3),this.decompose(i,this.length,o,1),Fh.from(o,this.length-(i-n)+s.length)}append(n){return this.replace(this.length,this.length,n)}slice(n,i=this.length){[n,i]=X3(this,n,i);let s=[];return this.decompose(n,i,s,0),Fh.from(s,i-n)}eq(n){if(n==this)return!0;if(n.length!=this.length||n.lines!=this.lines)return!1;let i=this.scanIdentical(n,1),s=this.length-this.scanIdentical(n,-1),o=new LO(this),a=new LO(n);for(let l=i,c=i;;){if(o.next(l),a.next(l),l=0,o.lineBreak!=a.lineBreak||o.done!=a.done||o.value!=a.value)return!1;if(c+=o.value.length,o.done||c>=s)return!0}}iter(n=1){return new LO(this,n)}iterRange(n,i=this.length){return new e3e(this,n,i)}iterLines(n,i){let s;if(null==n)s=this.iter();else{null==i&&(i=this.lines+1);let o=this.line(n).from;s=this.iterRange(o,Math.max(o,i==this.lines+1?this.length:i<=1?0:this.line(i-1).to))}return new t3e(s)}toString(){return this.sliceString(0)}toJSON(){let n=[];return this.flatten(n),n}constructor(){}static of(n){if(0==n.length)throw new RangeError("A document must have at least one line");return 1!=n.length||n[0]?n.length<=32?new na(n):Fh.from(na.split(n,[])):Vi.empty}}class na extends Vi{constructor(n,i=function svt(t){let n=-1;for(let i of t)n+=i.length+1;return n}(n)){super(),this.text=n,this.length=i}get lines(){return this.text.length}get children(){return null}lineInner(n,i,s,o){for(let a=0;;a++){let l=this.text[a],c=o+l.length;if((i?s:c)>=n)return new ovt(o,c,s,l);o=c+1,s++}}decompose(n,i,s,o){let a=n<=0&&i>=this.length?this:new na(Jxe(this.text,n,i),Math.min(i,this.length)-Math.max(0,n));if(1&o){let l=s.pop(),c=GR(a.text,l.text.slice(),0,a.length);if(c.length<=32)s.push(new na(c,l.length+a.length));else{let u=c.length>>1;s.push(new na(c.slice(0,u)),new na(c.slice(u)))}}else s.push(a)}replace(n,i,s){if(!(s instanceof na))return super.replace(n,i,s);[n,i]=X3(this,n,i);let o=GR(this.text,GR(s.text,Jxe(this.text,0,n)),i),a=this.length+s.length-(i-n);return o.length<=32?new na(o,a):Fh.from(na.split(o,[]),a)}sliceString(n,i=this.length,s="\n"){[n,i]=X3(this,n,i);let o="";for(let a=0,l=0;a<=i&&l<this.text.length;l++){let c=this.text[l],u=a+c.length;a>n&&l&&(o+=s),n<u&&i>a&&(o+=c.slice(Math.max(0,n-a),i-a)),a=u+1}return o}flatten(n){for(let i of this.text)n.push(i)}scanIdentical(){return 0}static split(n,i){let s=[],o=-1;for(let a of n)s.push(a),o+=a.length+1,32==s.length&&(i.push(new na(s,o)),s=[],o=-1);return o>-1&&i.push(new na(s,o)),i}}class Fh extends Vi{constructor(n,i){super(),this.children=n,this.length=i,this.lines=0;for(let s of n)this.lines+=s.lines}lineInner(n,i,s,o){for(let a=0;;a++){let l=this.children[a],c=o+l.length,u=s+l.lines-1;if((i?u:c)>=n)return l.lineInner(n,i,s,o);o=c+1,s=u+1}}decompose(n,i,s,o){for(let a=0,l=0;l<=i&&a<this.children.length;a++){let c=this.children[a],u=l+c.length;if(n<=u&&i>=l){let d=o&((l<=n?1:0)|(u>=i?2:0));l>=n&&u<=i&&!d?s.push(c):c.decompose(n-l,i-l,s,d)}l=u+1}}replace(n,i,s){if([n,i]=X3(this,n,i),s.lines<this.lines)for(let o=0,a=0;o<this.children.length;o++){let l=this.children[o],c=a+l.length;if(n>=a&&i<=c){let u=l.replace(n-a,i-a,s),d=this.lines-l.lines+u.lines;if(u.lines<d>>4&&u.lines>d>>6){let p=this.children.slice();return p[o]=u,new Fh(p,this.length-(i-n)+s.length)}return super.replace(a,c,u)}a=c+1}return super.replace(n,i,s)}sliceString(n,i=this.length,s="\n"){[n,i]=X3(this,n,i);let o="";for(let a=0,l=0;a<this.children.length&&l<=i;a++){let c=this.children[a],u=l+c.length;l>n&&a&&(o+=s),n<u&&i>l&&(o+=c.sliceString(n-l,i-l,s)),l=u+1}return o}flatten(n){for(let i of this.children)i.flatten(n)}scanIdentical(n,i){if(!(n instanceof Fh))return 0;let s=0,[o,a,l,c]=i>0?[0,0,this.children.length,n.children.length]:[this.children.length-1,n.children.length-1,-1,-1];for(;;o+=i,a+=i){if(o==l||a==c)return s;let u=this.children[o],d=n.children[a];if(u!=d)return s+u.scanIdentical(d,i);s+=u.length+1}}static from(n,i=n.reduce((s,o)=>s+o.length+1,-1)){let s=0;for(let m of n)s+=m.lines;if(s<32){let m=[];for(let y of n)y.flatten(m);return new na(m,i)}let o=Math.max(32,s>>5),a=o<<1,l=o>>1,c=[],u=0,d=-1,p=[];function f(m){let y;if(m.lines>a&&m instanceof Fh)for(let E of m.children)f(E);else m.lines>l&&(u>l||!u)?(h(),c.push(m)):m instanceof na&&u&&(y=p[p.length-1])instanceof na&&m.lines+y.lines<=32?(u+=m.lines,d+=m.length+1,p[p.length-1]=new na(y.text.concat(m.text),y.length+1+m.length)):(u+m.lines>o&&h(),u+=m.lines,d+=m.length+1,p.push(m))}function h(){0!=u&&(c.push(1==p.length?p[0]:Fh.from(p,d)),d=-1,u=p.length=0)}for(let m of n)f(m);return h(),1==c.length?c[0]:new Fh(c,i)}}function GR(t,n,i=0,s=1e9){for(let o=0,a=0,l=!0;a<t.length&&o<=s;a++){let c=t[a],u=o+c.length;u>=i&&(u>s&&(c=c.slice(0,s-o)),o<i&&(c=c.slice(i-o)),l?(n[n.length-1]+=c,l=!1):n.push(c)),o=u+1}return n}function Jxe(t,n,i){return GR(t,[""],n,i)}Vi.empty=new na([""],0);class LO{constructor(n,i=1){this.dir=i,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[n],this.offsets=[i>0?1:(n instanceof na?n.text.length:n.children.length)<<1]}nextInner(n,i){for(this.done=this.lineBreak=!1;;){let s=this.nodes.length-1,o=this.nodes[s],a=this.offsets[s],l=a>>1;if(l==(i>0?o instanceof na?o.text.length:o.children.length:0)){if(0==s)return this.done=!0,this.value="",this;i>0&&this.offsets[s-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&a)==(i>0?0:1)){if(this.offsets[s]+=i,0==n)return this.lineBreak=!0,this.value="\n",this;n--}else if(o instanceof na){let u=o.text[l+(i<0?-1:0)];if(this.offsets[s]+=i,u.length>Math.max(0,n))return this.value=0==n?u:i>0?u.slice(n):u.slice(0,u.length-n),this;n-=u.length}else{let u=o.children[l+(i<0?-1:0)];n>u.length?(n-=u.length,this.offsets[s]+=i):(i<0&&this.offsets[s]--,this.nodes.push(u),this.offsets.push(i>0?1:(u instanceof na?u.text.length:u.children.length)<<1))}}}next(n=0){return n<0&&(this.nextInner(-n,-this.dir),n=this.value.length),this.nextInner(n,this.dir)}}class e3e{constructor(n,i,s){this.value="",this.done=!1,this.cursor=new LO(n,i>s?-1:1),this.pos=i>s?n.length:0,this.from=Math.min(i,s),this.to=Math.max(i,s)}nextInner(n,i){if(i<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;n+=Math.max(0,i<0?this.pos-this.to:this.from-this.pos);let s=i<0?this.pos-this.from:this.to-this.pos;n>s&&(n=s),s-=n;let{value:o}=this.cursor.next(n);return this.pos+=(o.length+n)*i,this.value=o.length<=s?o:i<0?o.slice(o.length-s):o.slice(0,s),this.done=!this.value,this}next(n=0){return n<0?n=Math.max(n,this.from-this.pos):n>0&&(n=Math.min(n,this.to-this.pos)),this.nextInner(n,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class t3e{constructor(n){this.inner=n,this.afterBreak=!0,this.value="",this.done=!1}next(n=0){let{done:i,lineBreak:s,value:o}=this.inner.next(n);return i&&this.afterBreak?(this.value="",this.afterBreak=!1):i?(this.done=!0,this.value=""):s?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=o,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Vi.prototype[Symbol.iterator]=function(){return this.iter()},LO.prototype[Symbol.iterator]=e3e.prototype[Symbol.iterator]=t3e.prototype[Symbol.iterator]=function(){return this});class ovt{constructor(n,i,s,o){this.from=n,this.to=i,this.number=s,this.text=o}get length(){return this.to-this.from}}function X3(t,n,i){return[n=Math.max(0,Math.min(t.length,n)),Math.max(n,Math.min(t.length,i))]}function Nl(t,n,i=!0,s=!0){return rvt(t,n,i,s)}function Tu(t,n){let i=t.charCodeAt(n);if(!function lvt(t){return t>=55296&&t<56320}(i)||n+1==t.length)return i;let s=t.charCodeAt(n+1);return function avt(t){return t>=56320&&t<57344}(s)?s-56320+(i-55296<<10)+65536:i}function DK(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function Bh(t){return t<65536?1:2}const kK=/\r\n?|\n/;var Ll=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Ll||(Ll={}));class $h{constructor(n){this.sections=n}get length(){let n=0;for(let i=0;i<this.sections.length;i+=2)n+=this.sections[i];return n}get newLength(){let n=0;for(let i=0;i<this.sections.length;i+=2){let s=this.sections[i+1];n+=s<0?this.sections[i]:s}return n}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(n){for(let i=0,s=0,o=0;i<this.sections.length;){let a=this.sections[i++],l=this.sections[i++];l<0?(n(s,o,a),o+=a):o+=l,s+=a}}iterChangedRanges(n,i=!1){MK(this,n,i)}get invertedDesc(){let n=[];for(let i=0;i<this.sections.length;){let s=this.sections[i++],o=this.sections[i++];o<0?n.push(s,o):n.push(o,s)}return new $h(n)}composeDesc(n){return this.empty?n:n.empty?this:n3e(this,n)}mapDesc(n,i=!1){return n.empty?this:AK(this,n,i)}mapPos(n,i=-1,s=Ll.Simple){let o=0,a=0;for(let l=0;l<this.sections.length;){let c=this.sections[l++],u=this.sections[l++],d=o+c;if(u<0){if(d>n)return a+(n-o);a+=c}else{if(s!=Ll.Simple&&d>=n&&(s==Ll.TrackDel&&o<n&&d>n||s==Ll.TrackBefore&&o<n||s==Ll.TrackAfter&&d>n))return null;if(d>n||d==n&&i<0&&!c)return n==o||i<0?a:a+u;a+=u}o=d}if(n>o)throw new RangeError(`Position ${n} is out of range for changeset of length ${o}`);return a}touchesRange(n,i=n){for(let s=0,o=0;s<this.sections.length&&o<=i;){let c=o+this.sections[s++];if(this.sections[s++]>=0&&o<=i&&c>=n)return!(o<n&&c>i)||"cover";o=c}return!1}toString(){let n="";for(let i=0;i<this.sections.length;){let s=this.sections[i++],o=this.sections[i++];n+=(n?" ":"")+s+(o>=0?":"+o:"")}return n}toJSON(){return this.sections}static fromJSON(n){if(!Array.isArray(n)||n.length%2||n.some(i=>"number"!=typeof i))throw new RangeError("Invalid JSON representation of ChangeDesc");return new $h(n)}static create(n){return new $h(n)}}class ja extends $h{constructor(n,i){super(n),this.inserted=i}apply(n){if(this.length!=n.length)throw new RangeError("Applying change set to a document with the wrong length");return MK(this,(i,s,o,a,l)=>n=n.replace(o,o+(s-i),l),!1),n}mapDesc(n,i=!1){return AK(this,n,i,!0)}invert(n){let i=this.sections.slice(),s=[];for(let o=0,a=0;o<i.length;o+=2){let l=i[o],c=i[o+1];if(c>=0){i[o]=c,i[o+1]=l;let u=o>>1;for(;s.length<u;)s.push(Vi.empty);s.push(l?n.slice(a,a+l):Vi.empty)}a+=l}return new ja(i,s)}compose(n){return this.empty?n:n.empty?this:n3e(this,n,!0)}map(n,i=!1){return n.empty?this:AK(this,n,i,!0)}iterChanges(n,i=!1){MK(this,n,i)}get desc(){return $h.create(this.sections)}filter(n){let i=[],s=[],o=[],a=new FO(this);e:for(let l=0,c=0;;){let u=l==n.length?1e9:n[l++];for(;c<u||c==u&&0==a.len;){if(a.done)break e;let p=Math.min(a.len,u-c);pc(o,p,-1);let f=-1==a.ins?-1:0==a.off?a.ins:0;pc(i,p,f),f>0&&fy(s,i,a.text),a.forward(p),c+=p}let d=n[l++];for(;c<d;){if(a.done)break e;let p=Math.min(a.len,d-c);pc(i,p,-1),pc(o,p,-1==a.ins?-1:0==a.off?a.ins:0),a.forward(p),c+=p}}return{changes:new ja(i,s),filtered:$h.create(o)}}toJSON(){let n=[];for(let i=0;i<this.sections.length;i+=2){let s=this.sections[i],o=this.sections[i+1];n.push(o<0?s:0==o?[s]:[s].concat(this.inserted[i>>1].toJSON()))}return n}static of(n,i,s){let o=[],a=[],l=0,c=null;function u(p=!1){if(!p&&!o.length)return;l<i&&pc(o,i-l,-1);let f=new ja(o,a);c=c?c.compose(f.map(c)):f,o=[],a=[],l=0}return function d(p){if(Array.isArray(p))for(let f of p)d(f);else if(p instanceof ja){if(p.length!=i)throw new RangeError(`Mismatched change set length (got ${p.length}, expected ${i})`);u(),c=c?c.compose(p.map(c)):p}else{let{from:f,to:h=f,insert:m}=p;if(f>h||f<0||h>i)throw new RangeError(`Invalid change range ${f} to ${h} (in doc of length ${i})`);let y=m?"string"==typeof m?Vi.of(m.split(s||kK)):m:Vi.empty,E=y.length;if(f==h&&0==E)return;f<l&&u(),f>l&&pc(o,f-l,-1),pc(o,h-f,E),fy(a,o,y),l=h}}(n),u(!c),c}static empty(n){return new ja(n?[n,-1]:[],[])}static fromJSON(n){if(!Array.isArray(n))throw new RangeError("Invalid JSON representation of ChangeSet");let i=[],s=[];for(let o=0;o<n.length;o++){let a=n[o];if("number"==typeof a)i.push(a,-1);else{if(!Array.isArray(a)||"number"!=typeof a[0]||a.some((l,c)=>c&&"string"!=typeof l))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==a.length)i.push(a[0],0);else{for(;s.length<o;)s.push(Vi.empty);s[o]=Vi.of(a.slice(1)),i.push(a[0],s[o].length)}}}return new ja(i,s)}static createSet(n,i){return new ja(n,i)}}function pc(t,n,i,s=!1){if(0==n&&i<=0)return;let o=t.length-2;o>=0&&i<=0&&i==t[o+1]?t[o]+=n:o>=0&&0==n&&0==t[o]?t[o+1]+=i:s?(t[o]+=n,t[o+1]+=i):t.push(n,i)}function fy(t,n,i){if(0==i.length)return;let s=n.length-2>>1;if(s<t.length)t[t.length-1]=t[t.length-1].append(i);else{for(;t.length<s;)t.push(Vi.empty);t.push(i)}}function MK(t,n,i){let s=t.inserted;for(let o=0,a=0,l=0;l<t.sections.length;){let c=t.sections[l++],u=t.sections[l++];if(u<0)o+=c,a+=c;else{let d=o,p=a,f=Vi.empty;for(;d+=c,p+=u,u&&s&&(f=f.append(s[l-2>>1])),!(i||l==t.sections.length||t.sections[l+1]<0);)c=t.sections[l++],u=t.sections[l++];n(o,d,a,p,f),o=d,a=p}}}function AK(t,n,i,s=!1){let o=[],a=s?[]:null,l=new FO(t),c=new FO(n);for(let u=-1;;){if(l.done&&c.len||c.done&&l.len)throw new Error("Mismatched change set lengths");if(-1==l.ins&&-1==c.ins){let d=Math.min(l.len,c.len);pc(o,d,-1),l.forward(d),c.forward(d)}else if(c.ins>=0&&(l.ins<0||u==l.i||0==l.off&&(c.len<l.len||c.len==l.len&&!i))){let d=c.len;for(pc(o,c.ins,-1);d;){let p=Math.min(l.len,d);l.ins>=0&&u<l.i&&l.len<=p&&(pc(o,0,l.ins),a&&fy(a,o,l.text),u=l.i),l.forward(p),d-=p}c.next()}else{if(!(l.ins>=0)){if(l.done&&c.done)return a?ja.createSet(o,a):$h.create(o);throw new Error("Mismatched change set lengths")}{let d=0,p=l.len;for(;p;)if(-1==c.ins){let f=Math.min(p,c.len);d+=f,p-=f,c.forward(f)}else{if(!(0==c.ins&&c.len<p))break;p-=c.len,c.next()}pc(o,d,u<l.i?l.ins:0),a&&u<l.i&&fy(a,o,l.text),u=l.i,l.forward(l.len-p)}}}}function n3e(t,n,i=!1){let s=[],o=i?[]:null,a=new FO(t),l=new FO(n);for(let c=!1;;){if(a.done&&l.done)return o?ja.createSet(s,o):$h.create(s);if(0==a.ins)pc(s,a.len,0,c),a.next();else if(0!=l.len||l.done){if(a.done||l.done)throw new Error("Mismatched change set lengths");{let u=Math.min(a.len2,l.len),d=s.length;if(-1==a.ins){let p=-1==l.ins?-1:l.off?0:l.ins;pc(s,u,p,c),o&&p&&fy(o,s,l.text)}else-1==l.ins?(pc(s,a.off?0:a.len,u,c),o&&fy(o,s,a.textBit(u))):(pc(s,a.off?0:a.len,l.off?0:l.ins,c),o&&!l.off&&fy(o,s,l.text));c=(a.ins>u||l.ins>=0&&l.len>u)&&(c||s.length>d),a.forward2(u),l.forward(u)}}else pc(s,0,l.ins,c),o&&fy(o,s,l.text),l.next()}}class FO{constructor(n){this.set=n,this.i=0,this.next()}next(){let{sections:n}=this.set;this.i<n.length?(this.len=n[this.i++],this.ins=n[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:n}=this.set,i=this.i-2>>1;return i>=n.length?Vi.empty:n[i]}textBit(n){let{inserted:i}=this.set,s=this.i-2>>1;return s>=i.length&&!n?Vi.empty:i[s].slice(this.off,null==n?void 0:this.off+n)}forward(n){n==this.len?this.next():(this.len-=n,this.off+=n)}forward2(n){-1==this.ins?this.forward(n):n==this.ins?this.next():(this.ins-=n,this.off+=n)}}class y_{constructor(n,i,s){this.from=n,this.to=i,this.flags=s}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let n=7&this.flags;return 7==n?null:n}get goalColumn(){let n=this.flags>>6;return 16777215==n?void 0:n}map(n,i=-1){let s,o;return this.empty?s=o=n.mapPos(this.from,i):(s=n.mapPos(this.from,1),o=n.mapPos(this.to,-1)),s==this.from&&o==this.to?this:new y_(s,o,this.flags)}extend(n,i=n){if(n<=this.anchor&&i>=this.anchor)return Rt.range(n,i);let s=Math.abs(n-this.anchor)>Math.abs(i-this.anchor)?n:i;return Rt.range(this.anchor,s)}eq(n,i=!1){return!(this.anchor!=n.anchor||this.head!=n.head||i&&this.empty&&this.assoc!=n.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(n){if(!n||"number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid JSON representation for SelectionRange");return Rt.range(n.anchor,n.head)}static create(n,i,s){return new y_(n,i,s)}}class Rt{constructor(n,i){this.ranges=n,this.mainIndex=i}map(n,i=-1){return n.empty?this:Rt.create(this.ranges.map(s=>s.map(n,i)),this.mainIndex)}eq(n,i=!1){if(this.ranges.length!=n.ranges.length||this.mainIndex!=n.mainIndex)return!1;for(let s=0;s<this.ranges.length;s++)if(!this.ranges[s].eq(n.ranges[s],i))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new Rt([this.main],0)}addRange(n,i=!0){return Rt.create([n].concat(this.ranges),i?0:this.mainIndex+1)}replaceRange(n,i=this.mainIndex){let s=this.ranges.slice();return s[i]=n,Rt.create(s,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(n=>n.toJSON()),main:this.mainIndex}}static fromJSON(n){if(!n||!Array.isArray(n.ranges)||"number"!=typeof n.main||n.main>=n.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Rt(n.ranges.map(i=>y_.fromJSON(i)),n.main)}static single(n,i=n){return new Rt([Rt.range(n,i)],0)}static create(n,i=0){if(0==n.length)throw new RangeError("A selection needs at least one range");for(let s=0,o=0;o<n.length;o++){let a=n[o];if(a.empty?a.from<=s:a.from<s)return Rt.normalized(n.slice(),i);s=a.to}return new Rt(n,i)}static cursor(n,i=0,s,o){return y_.create(n,n,(0==i?0:i<0?8:16)|(null==s?7:Math.min(6,s))|(o??16777215)<<6)}static range(n,i,s,o){let a=(s??16777215)<<6|(null==o?7:Math.min(6,o));return i<n?y_.create(i,n,48|a):y_.create(n,i,(i>n?8:0)|a)}static normalized(n,i=0){let s=n[i];n.sort((o,a)=>o.from-a.from),i=n.indexOf(s);for(let o=1;o<n.length;o++){let a=n[o],l=n[o-1];if(a.empty?a.from<=l.to:a.from<l.to){let c=l.from,u=Math.max(a.to,l.to);o<=i&&i--,n.splice(--o,2,a.anchor>a.head?Rt.range(u,c):Rt.range(c,u))}}return new Rt(n,i)}}function r3e(t,n){for(let i of t.ranges)if(i.to>n)throw new RangeError("Selection points outside of document")}let IK=0;class xn{constructor(n,i,s,o,a){this.combine=n,this.compareInput=i,this.compare=s,this.isStatic=o,this.id=IK++,this.default=n([]),this.extensions="function"==typeof a?a(this):a}get reader(){return this}static define(n={}){return new xn(n.combine||(i=>i),n.compareInput||((i,s)=>i===s),n.compare||(n.combine?(i,s)=>i===s:RK),!!n.static,n.enables)}of(n){return new KR([],this,0,n)}compute(n,i){if(this.isStatic)throw new Error("Can't compute a static facet");return new KR(n,this,1,i)}computeN(n,i){if(this.isStatic)throw new Error("Can't compute a static facet");return new KR(n,this,2,i)}from(n,i){return i||(i=s=>s),this.compute([n],s=>i(s.field(n)))}}function RK(t,n){return t==n||t.length==n.length&&t.every((i,s)=>i===n[s])}class KR{constructor(n,i,s,o){this.dependencies=n,this.facet=i,this.type=s,this.value=o,this.id=IK++}dynamicSlot(n){var i;let s=this.value,o=this.facet.compareInput,a=this.id,l=n[a]>>1,c=2==this.type,u=!1,d=!1,p=[];for(let f of this.dependencies)"doc"==f?u=!0:"selection"==f?d=!0:!(1&(null!==(i=n[f.id])&&void 0!==i?i:1))&&p.push(n[f.id]);return{create:f=>(f.values[l]=s(f),1),update(f,h){if(u&&h.docChanged||d&&(h.docChanged||h.selection)||NK(f,p)){let m=s(f);if(c?!i3e(m,f.values[l],o):!o(m,f.values[l]))return f.values[l]=m,1}return 0},reconfigure:(f,h)=>{let m,y=h.config.address[a];if(null!=y){let E=QR(h,y);if(this.dependencies.every(_=>_ instanceof xn?h.facet(_)===f.facet(_):!(_ instanceof Ta)||h.field(_,!1)==f.field(_,!1))||(c?i3e(m=s(f),E,o):o(m=s(f),E)))return f.values[l]=E,0}else m=s(f);return f.values[l]=m,1}}}}function i3e(t,n,i){if(t.length!=n.length)return!1;for(let s=0;s<t.length;s++)if(!i(t[s],n[s]))return!1;return!0}function NK(t,n){let i=!1;for(let s of n)1&$O(t,s)&&(i=!0);return i}function cvt(t,n,i){let s=i.map(u=>t[u.id]),o=i.map(u=>u.type),a=s.filter(u=>!(1&u)),l=t[n.id]>>1;function c(u){let d=[];for(let p=0;p<s.length;p++){let f=QR(u,s[p]);if(2==o[p])for(let h of f)d.push(h);else d.push(f)}return n.combine(d)}return{create(u){for(let d of s)$O(u,d);return u.values[l]=c(u),1},update(u,d){if(!NK(u,a))return 0;let p=c(u);return n.compare(p,u.values[l])?0:(u.values[l]=p,1)},reconfigure(u,d){let p=NK(u,s),f=d.config.facets[n.id],h=d.facet(n);if(f&&!p&&RK(i,f))return u.values[l]=h,0;let m=c(u);return n.compare(m,h)?(u.values[l]=h,0):(u.values[l]=m,1)}}}const YR=xn.define({static:!0});class Ta{constructor(n,i,s,o,a){this.id=n,this.createF=i,this.updateF=s,this.compareF=o,this.spec=a,this.provides=void 0}static define(n){let i=new Ta(IK++,n.create,n.update,n.compare||((s,o)=>s===o),n);return n.provide&&(i.provides=n.provide(i)),i}create(n){let i=n.facet(YR).find(s=>s.field==this);return(i?.create||this.createF)(n)}slot(n){let i=n[this.id]>>1;return{create:s=>(s.values[i]=this.create(s),1),update:(s,o)=>{let a=s.values[i],l=this.updateF(a,o);return this.compareF(a,l)?0:(s.values[i]=l,1)},reconfigure:(s,o)=>{let c,a=s.facet(YR),l=o.facet(YR);return(c=a.find(u=>u.field==this))&&c!=l.find(u=>u.field==this)?(s.values[i]=c.create(s),1):null!=o.config.address[this.id]?(s.values[i]=o.field(this),0):(s.values[i]=this.create(s),1)}}}init(n){return[this,YR.of({field:this,create:n})]}get extension(){return this}}function BO(t){return n=>new s3e(n,t)}const Fm={highest:BO(0),high:BO(1),default:BO(2),low:BO(3),lowest:BO(4)};class s3e{constructor(n,i){this.inner=n,this.prec=i}}class Q3{of(n){return new LK(this,n)}reconfigure(n){return Q3.reconfigure.of({compartment:this,extension:n})}get(n){return n.config.compartments.get(this)}}class LK{constructor(n,i){this.compartment=n,this.inner=i}}class XR{constructor(n,i,s,o,a,l){for(this.base=n,this.compartments=i,this.dynamicSlots=s,this.address=o,this.staticValues=a,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<s.length;)this.statusTemplate.push(0)}staticFacet(n){let i=this.address[n.id];return null==i?n.default:this.staticValues[i>>1]}static resolve(n,i,s){let o=[],a=Object.create(null),l=new Map;for(let h of function uvt(t,n,i){let s=[[],[],[],[],[]],o=new Map;return function a(l,c){let u=o.get(l);if(null!=u){if(u<=c)return;let d=s[u].indexOf(l);d>-1&&s[u].splice(d,1),l instanceof LK&&i.delete(l.compartment)}if(o.set(l,c),Array.isArray(l))for(let d of l)a(d,c);else if(l instanceof LK){if(i.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let d=n.get(l.compartment)||l.inner;i.set(l.compartment,d),a(d,c)}else if(l instanceof s3e)a(l.inner,l.prec);else if(l instanceof Ta)s[c].push(l),l.provides&&a(l.provides,c);else if(l instanceof KR)s[c].push(l),l.facet.extensions&&a(l.facet.extensions,2);else{let d=l.extension;if(!d)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(d,c)}}(t,2),s.reduce((l,c)=>l.concat(c))}(n,i,l))h instanceof Ta?o.push(h):(a[h.facet.id]||(a[h.facet.id]=[])).push(h);let c=Object.create(null),u=[],d=[];for(let h of o)c[h.id]=d.length<<1,d.push(m=>h.slot(m));let p=s?.config.facets;for(let h in a){let m=a[h],y=m[0].facet,E=p&&p[h]||[];if(m.every(_=>0==_.type))if(c[y.id]=u.length<<1|1,RK(E,m))u.push(s.facet(y));else{let _=y.combine(m.map(S=>S.value));u.push(s&&y.compare(_,s.facet(y))?s.facet(y):_)}else{for(let _ of m)0==_.type?(c[_.id]=u.length<<1|1,u.push(_.value)):(c[_.id]=d.length<<1,d.push(S=>_.dynamicSlot(S)));c[y.id]=d.length<<1,d.push(_=>cvt(_,y,m))}}let f=d.map(h=>h(c));return new XR(n,l,f,c,u,a)}}function $O(t,n){if(1&n)return 2;let i=n>>1,s=t.status[i];if(4==s)throw new Error("Cyclic dependency between fields and/or facets");if(2&s)return s;t.status[i]=4;let o=t.computeSlot(t,t.config.dynamicSlots[i]);return t.status[i]=2|o}function QR(t,n){return 1&n?t.config.staticValues[n>>1]:t.values[n>>1]}const o3e=xn.define(),FK=xn.define({combine:t=>t.some(n=>n),static:!0}),a3e=xn.define({combine:t=>t.length?t[0]:void 0,static:!0}),l3e=xn.define(),c3e=xn.define(),u3e=xn.define(),d3e=xn.define({combine:t=>!!t.length&&t[0]});class Bm{constructor(n,i){this.type=n,this.value=i}static define(){return new dvt}}class dvt{of(n){return new Bm(this,n)}}class pvt{constructor(n){this.map=n}of(n){return new hi(this,n)}}let hi=(()=>{class t{constructor(i,s){this.type=i,this.value=s}map(i){let s=this.type.map(this.value,i);return void 0===s?void 0:s==this.value?this:new t(this.type,s)}is(i){return this.type==i}static define(i={}){return new pvt(i.map||(s=>s))}static mapEffects(i,s){if(!i.length)return i;let o=[];for(let a of i){let l=a.map(s);l&&o.push(l)}return o}}return t.reconfigure=t.define(),t.appendConfig=t.define(),t})(),Ef=(()=>{class t{constructor(i,s,o,a,l,c){this.startState=i,this.changes=s,this.selection=o,this.effects=a,this.annotations=l,this.scrollIntoView=c,this._doc=null,this._state=null,o&&r3e(o,s.newLength),l.some(u=>u.type==t.time)||(this.annotations=l.concat(t.time.of(Date.now())))}static create(i,s,o,a,l,c){return new t(i,s,o,a,l,c)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(i){for(let s of this.annotations)if(s.type==i)return s.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(i){let s=this.annotation(t.userEvent);return!(!s||!(s==i||s.length>i.length&&s.slice(0,i.length)==i&&"."==s[i.length]))}}return t.time=Bm.define(),t.userEvent=Bm.define(),t.addToHistory=Bm.define(),t.remote=Bm.define(),t})();function fvt(t,n){let i=[];for(let s=0,o=0;;){let a,l;if(s<t.length&&(o==n.length||n[o]>=t[s]))a=t[s++],l=t[s++];else{if(!(o<n.length))return i;a=n[o++],l=n[o++]}!i.length||i[i.length-1]<a?i.push(a,l):i[i.length-1]<l&&(i[i.length-1]=l)}}function p3e(t,n,i){var s;let o,a,l;return i?(o=n.changes,a=ja.empty(n.changes.length),l=t.changes.compose(n.changes)):(o=n.changes.map(t.changes),a=t.changes.mapDesc(n.changes,!0),l=t.changes.compose(o)),{changes:l,selection:n.selection?n.selection.map(a):null===(s=t.selection)||void 0===s?void 0:s.map(o),effects:hi.mapEffects(t.effects,o).concat(hi.mapEffects(n.effects,a)),annotations:t.annotations.length?t.annotations.concat(n.annotations):n.annotations,scrollIntoView:t.scrollIntoView||n.scrollIntoView}}function BK(t,n,i){let s=n.selection,o=Z3(n.annotations);return n.userEvent&&(o=o.concat(Ef.userEvent.of(n.userEvent))),{changes:n.changes instanceof ja?n.changes:ja.of(n.changes||[],i,t.facet(a3e)),selection:s&&(s instanceof Rt?s:Rt.single(s.anchor,s.head)),effects:Z3(n.effects),annotations:o,scrollIntoView:!!n.scrollIntoView}}function f3e(t,n,i){let s=BK(t,n.length?n[0]:{},t.doc.length);n.length&&!1===n[0].filter&&(i=!1);for(let a=1;a<n.length;a++){!1===n[a].filter&&(i=!1);let l=!!n[a].sequential;s=p3e(s,BK(t,n[a],l?s.changes.newLength:t.doc.length),l)}let o=Ef.create(t,s.changes,s.selection,s.effects,s.annotations,s.scrollIntoView);return function mvt(t){let n=t.startState,i=n.facet(u3e),s=t;for(let o=i.length-1;o>=0;o--){let a=i[o](t);a&&Object.keys(a).length&&(s=p3e(s,BK(n,a,t.changes.newLength),!0))}return s==t?t:Ef.create(n,t.changes,t.selection,s.effects,s.annotations,s.scrollIntoView)}(i?function hvt(t){let n=t.startState,i=!0;for(let o of n.facet(l3e)){let a=o(t);if(!1===a){i=!1;break}Array.isArray(a)&&(i=!0===i?a:fvt(i,a))}if(!0!==i){let o,a;if(!1===i)a=t.changes.invertedDesc,o=ja.empty(n.doc.length);else{let l=t.changes.filter(i);o=l.changes,a=l.filtered.mapDesc(l.changes).invertedDesc}t=Ef.create(n,o,t.selection&&t.selection.map(a),hi.mapEffects(t.effects,a),t.annotations,t.scrollIntoView)}let s=n.facet(c3e);for(let o=s.length-1;o>=0;o--){let a=s[o](t);t=a instanceof Ef?a:Array.isArray(a)&&1==a.length&&a[0]instanceof Ef?a[0]:f3e(n,Z3(a),!1)}return t}(o):o)}const gvt=[];function Z3(t){return null==t?gvt:Array.isArray(t)?t:[t]}var bo=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(bo||(bo={}));const yvt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let $K;try{$K=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}let Wc=(()=>{class t{constructor(i,s,o,a,l,c){this.config=i,this.doc=s,this.selection=o,this.values=a,this.status=i.statusTemplate.slice(),this.computeSlot=l,c&&(c._state=this);for(let u=0;u<this.config.dynamicSlots.length;u++)$O(this,u<<1);this.computeSlot=null}field(i,s=!0){let o=this.config.address[i.id];if(null!=o)return $O(this,o),QR(this,o);if(s)throw new RangeError("Field is not present in this state")}update(...i){return f3e(this,i,!0)}applyTransaction(i){let l,s=this.config,{base:o,compartments:a}=s;for(let u of i.effects)u.is(Q3.reconfigure)?(s&&(a=new Map,s.compartments.forEach((d,p)=>a.set(p,d)),s=null),a.set(u.value.compartment,u.value.extension)):u.is(hi.reconfigure)?(s=null,o=u.value):u.is(hi.appendConfig)&&(s=null,o=Z3(o).concat(u.value));s?l=i.startState.values.slice():(s=XR.resolve(o,a,this),l=new t(s,this.doc,this.selection,s.dynamicSlots.map(()=>null),(d,p)=>p.reconfigure(d,this),null).values);let c=i.startState.facet(FK)?i.newSelection:i.newSelection.asSingle();new t(s,i.newDoc,c,l,(u,d)=>d.update(u,i),i)}replaceSelection(i){return"string"==typeof i&&(i=this.toText(i)),this.changeByRange(s=>({changes:{from:s.from,to:s.to,insert:i},range:Rt.cursor(s.from+i.length)}))}changeByRange(i){let s=this.selection,o=i(s.ranges[0]),a=this.changes(o.changes),l=[o.range],c=Z3(o.effects);for(let u=1;u<s.ranges.length;u++){let d=i(s.ranges[u]),p=this.changes(d.changes),f=p.map(a);for(let m=0;m<u;m++)l[m]=l[m].map(f);let h=a.mapDesc(p,!0);l.push(d.range.map(h)),a=a.compose(f),c=hi.mapEffects(c,f).concat(hi.mapEffects(Z3(d.effects),h))}return{changes:a,selection:Rt.create(l,s.mainIndex),effects:c}}changes(i=[]){return i instanceof ja?i:ja.of(i,this.doc.length,this.facet(t.lineSeparator))}toText(i){return Vi.of(i.split(this.facet(t.lineSeparator)||kK))}sliceDoc(i=0,s=this.doc.length){return this.doc.sliceString(i,s,this.lineBreak)}facet(i){let s=this.config.address[i.id];return null==s?i.default:($O(this,s),QR(this,s))}toJSON(i){let s={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(i)for(let o in i){let a=i[o];a instanceof Ta&&null!=this.config.address[a.id]&&(s[o]=a.spec.toJSON(this.field(i[o]),this))}return s}static fromJSON(i,s={},o){if(!i||"string"!=typeof i.doc)throw new RangeError("Invalid JSON representation for EditorState");let a=[];if(o)for(let l in o)if(Object.prototype.hasOwnProperty.call(i,l)){let c=o[l],u=i[l];a.push(c.init(d=>c.spec.fromJSON(u,d)))}return t.create({doc:i.doc,selection:Rt.fromJSON(i.selection),extensions:s.extensions?a.concat([s.extensions]):a})}static create(i={}){let s=XR.resolve(i.extensions||[],new Map),o=i.doc instanceof Vi?i.doc:Vi.of((i.doc||"").split(s.staticFacet(t.lineSeparator)||kK)),a=i.selection?i.selection instanceof Rt?i.selection:Rt.single(i.selection.anchor,i.selection.head):Rt.single(0);return r3e(a,o.length),s.staticFacet(FK)||(a=a.asSingle()),new t(s,o,a,s.dynamicSlots.map(()=>null),(l,c)=>c.create(l),null)}get tabSize(){return this.facet(t.tabSize)}get lineBreak(){return this.facet(t.lineSeparator)||"\n"}get readOnly(){return this.facet(d3e)}phrase(i,...s){for(let o of this.facet(t.phrases))if(Object.prototype.hasOwnProperty.call(o,i)){i=o[i];break}return s.length&&(i=i.replace(/\$(\$|\d*)/g,(o,a)=>{if("$"==a)return"$";let l=+(a||1);return!l||l>s.length?o:s[l-1]})),i}languageDataAt(i,s,o=-1){let a=[];for(let l of this.facet(o3e))for(let c of l(this,s,o))Object.prototype.hasOwnProperty.call(c,i)&&a.push(c[i]);return a}charCategorizer(i){return function bvt(t){return n=>{if(!/\S/.test(n))return bo.Space;if(function vvt(t){if($K)return $K.test(t);for(let n=0;n<t.length;n++){let i=t[n];if(/\w/.test(i)||i>"\x80"&&(i.toUpperCase()!=i.toLowerCase()||yvt.test(i)))return!0}return!1}(n))return bo.Word;for(let i=0;i<t.length;i++)if(n.indexOf(t[i])>-1)return bo.Word;return bo.Other}}(this.languageDataAt("wordChars",i).join(""))}wordAt(i){let{text:s,from:o,length:a}=this.doc.lineAt(i),l=this.charCategorizer(i),c=i-o,u=i-o;for(;c>0;){let d=Nl(s,c,!1);if(l(s.slice(d,c))!=bo.Word)break;c=d}for(;u<a;){let d=Nl(s,u);if(l(s.slice(u,d))!=bo.Word)break;u=d}return c==u?null:Rt.range(c+o,u+o)}}return t.allowMultipleSelections=FK,t.tabSize=xn.define({combine:n=>n.length?n[0]:4}),t.lineSeparator=a3e,t.readOnly=d3e,t.phrases=xn.define({compare(n,i){let s=Object.keys(n),o=Object.keys(i);return s.length==o.length&&s.every(a=>n[a]==i[a])}}),t.languageData=o3e,t.changeFilter=l3e,t.transactionFilter=c3e,t.transactionExtender=u3e,t})();function xf(t,n,i={}){let s={};for(let o of t)for(let a of Object.keys(o)){let l=o[a],c=s[a];if(void 0===c)s[a]=l;else if(c!==l&&void 0!==l){if(!Object.hasOwnProperty.call(i,a))throw new Error("Config merge conflict for field "+a);s[a]=i[a](c,l)}}for(let o in n)void 0===s[o]&&(s[o]=n[o]);return s}Q3.reconfigure=hi.define();class b_{eq(n){return this==n}range(n,i=n){return VO.create(n,i,this)}}b_.prototype.startSide=b_.prototype.endSide=0,b_.prototype.point=!1,b_.prototype.mapMode=Ll.TrackDel;class VO{constructor(n,i,s){this.from=n,this.to=i,this.value=s}static create(n,i,s){return new VO(n,i,s)}}function VK(t,n){return t.from-n.from||t.value.startSide-n.value.startSide}class jK{constructor(n,i,s,o){this.from=n,this.to=i,this.value=s,this.maxPoint=o}get length(){return this.to[this.to.length-1]}findIndex(n,i,s,o=0){let a=s?this.to:this.from;for(let l=o,c=a.length;;){if(l==c)return l;let u=l+c>>1,d=a[u]-n||(s?this.value[u].endSide:this.value[u].startSide)-i;if(u==l)return d>=0?l:c;d>=0?c=u:l=u+1}}between(n,i,s,o){for(let a=this.findIndex(i,-1e9,!0),l=this.findIndex(s,1e9,!1,a);a<l;a++)if(!1===o(this.from[a]+n,this.to[a]+n,this.value[a]))return!1}map(n,i){let s=[],o=[],a=[],l=-1,c=-1;for(let u=0;u<this.value.length;u++){let h,m,d=this.value[u],p=this.from[u]+n,f=this.to[u]+n;if(p==f){let y=i.mapPos(p,d.startSide,d.mapMode);if(null==y||(h=m=y,d.startSide!=d.endSide&&(m=i.mapPos(p,d.endSide),m<h)))continue}else if(h=i.mapPos(p,d.startSide),m=i.mapPos(f,d.endSide),h>m||h==m&&d.startSide>0&&d.endSide<=0)continue;(m-h||d.endSide-d.startSide)<0||(l<0&&(l=h),d.point&&(c=Math.max(c,m-h)),s.push(d),o.push(h-l),a.push(m-l))}return{mapped:s.length?new jK(o,a,s,c):null,pos:l}}}let _o=(()=>{class t{constructor(i,s,o,a){this.chunkPos=i,this.chunk=s,this.nextLayer=o,this.maxPoint=a}static create(i,s,o,a){return new t(i,s,o,a)}get length(){let i=this.chunk.length-1;return i<0?0:Math.max(this.chunkEnd(i),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let i=this.nextLayer.size;for(let s of this.chunk)i+=s.value.length;return i}chunkEnd(i){return this.chunkPos[i]+this.chunk[i].length}update(i){let{add:s=[],sort:o=!1,filterFrom:a=0,filterTo:l=this.length}=i,c=i.filter;if(0==s.length&&!c)return this;if(o&&(s=s.slice().sort(VK)),this.isEmpty)return s.length?t.of(s):this;let u=new m3e(this,null,-1).goto(0),d=0,p=[],f=new Vh;for(;u.value||d<s.length;)if(d<s.length&&(u.from-s[d].from||u.startSide-s[d].value.startSide)>=0){let h=s[d++];f.addInner(h.from,h.to,h.value)||p.push(h)}else 1==u.rangeIndex&&u.chunkIndex<this.chunk.length&&(d==s.length||this.chunkEnd(u.chunkIndex)<s[d].from)&&(!c||a>this.chunkEnd(u.chunkIndex)||l<this.chunkPos[u.chunkIndex])&&f.addChunk(this.chunkPos[u.chunkIndex],this.chunk[u.chunkIndex])?u.nextChunk():((!c||a>u.to||l<u.from||c(u.from,u.to,u.value))&&(f.addInner(u.from,u.to,u.value)||p.push(VO.create(u.from,u.to,u.value))),u.next());return f.finishInner(this.nextLayer.isEmpty&&!p.length?t.empty:this.nextLayer.update({add:p,filter:c,filterFrom:a,filterTo:l}))}map(i){if(i.empty||this.isEmpty)return this;let s=[],o=[],a=-1;for(let c=0;c<this.chunk.length;c++){let u=this.chunkPos[c],d=this.chunk[c],p=i.touchesRange(u,u+d.length);if(!1===p)a=Math.max(a,d.maxPoint),s.push(d),o.push(i.mapPos(u));else if(!0===p){let{mapped:f,pos:h}=d.map(u,i);f&&(a=Math.max(a,f.maxPoint),s.push(f),o.push(h))}}let l=this.nextLayer.map(i);return 0==s.length?l:new t(o,s,l||t.empty,a)}between(i,s,o){if(!this.isEmpty){for(let a=0;a<this.chunk.length;a++){let l=this.chunkPos[a],c=this.chunk[a];if(s>=l&&i<=l+c.length&&!1===c.between(l,i-l,s-l,o))return}this.nextLayer.between(i,s,o)}}iter(i=0){return jO.from([this]).goto(i)}get isEmpty(){return this.nextLayer==this}static iter(i,s=0){return jO.from(i).goto(s)}static compare(i,s,o,a,l=-1){let c=i.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=l),u=s.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=l),d=h3e(c,u,o),p=new zO(c,d,l),f=new zO(u,d,l);o.iterGaps((h,m,y)=>g3e(p,h,f,m,y,a)),o.empty&&0==o.length&&g3e(p,0,f,0,0,a)}static eq(i,s,o=0,a){null==a&&(a=999999999);let l=i.filter(f=>!f.isEmpty&&s.indexOf(f)<0),c=s.filter(f=>!f.isEmpty&&i.indexOf(f)<0);if(l.length!=c.length)return!1;if(!l.length)return!0;let u=h3e(l,c),d=new zO(l,u,0).goto(o),p=new zO(c,u,0).goto(o);for(;;){if(d.to!=p.to||!HK(d.active,p.active)||d.point&&(!p.point||!d.point.eq(p.point)))return!1;if(d.to>a)return!0;d.next(),p.next()}}static spans(i,s,o,a,l=-1){let c=new zO(i,null,l).goto(s),u=s,d=c.openStart;for(;;){let p=Math.min(c.to,o);if(c.point){let f=c.activeForPoint(c.to),h=c.pointFrom<s?f.length+1:c.point.startSide<0?f.length:Math.min(f.length,d);a.point(u,p,c.point,f,h,c.pointRank),d=Math.min(c.openEnd(p),f.length)}else p>u&&(a.span(u,p,c.active,d),d=c.openEnd(p));if(c.to>o)return d+(c.point&&c.to>o?1:0);u=c.to,c.next()}}static of(i,s=!1){let o=new Vh;for(let a of i instanceof VO?[i]:s?function _vt(t){if(t.length>1)for(let n=t[0],i=1;i<t.length;i++){let s=t[i];if(VK(n,s)>0)return t.slice().sort(VK);n=s}return t}(i):i)o.add(a.from,a.to,a.value);return o.finish()}static join(i){if(!i.length)return t.empty;let s=i[i.length-1];for(let o=i.length-2;o>=0;o--)for(let a=i[o];a!=t.empty;a=a.nextLayer)s=new t(a.chunkPos,a.chunk,s,Math.max(a.maxPoint,s.maxPoint));return s}}return t.empty=new t([],[],null,-1),t})();_o.empty.nextLayer=_o.empty;class Vh{finishChunk(n){this.chunks.push(new jK(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,n&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(n,i,s){this.addInner(n,i,s)||(this.nextLayer||(this.nextLayer=new Vh)).add(n,i,s)}addInner(n,i,s){let o=n-this.lastTo||s.startSide-this.last.endSide;if(o<=0&&(n-this.lastFrom||s.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(o<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=n),this.from.push(n-this.chunkStart),this.to.push(i-this.chunkStart),this.last=s,this.lastFrom=n,this.lastTo=i,this.value.push(s),s.point&&(this.maxPoint=Math.max(this.maxPoint,i-n)),0))}addChunk(n,i){if((n-this.lastTo||i.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,i.maxPoint),this.chunks.push(i),this.chunkPos.push(n);let s=i.value.length-1;return this.last=i.value[s],this.lastFrom=i.from[s]+n,this.lastTo=i.to[s]+n,!0}finish(){return this.finishInner(_o.empty)}finishInner(n){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return n;let i=_o.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(n):n,this.setMaxPoint);return this.from=null,i}}function h3e(t,n,i){let s=new Map;for(let a of t)for(let l=0;l<a.chunk.length;l++)a.chunk[l].maxPoint<=0&&s.set(a.chunk[l],a.chunkPos[l]);let o=new Set;for(let a of n)for(let l=0;l<a.chunk.length;l++){let c=s.get(a.chunk[l]);null!=c&&(i?i.mapPos(c):c)==a.chunkPos[l]&&!i?.touchesRange(c,c+a.chunk[l].length)&&o.add(a.chunk[l])}return o}class m3e{constructor(n,i,s,o=0){this.layer=n,this.skip=i,this.minPoint=s,this.rank=o}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(n,i=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(n,i,!1),this}gotoInner(n,i,s){for(;this.chunkIndex<this.layer.chunk.length;){let o=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(o)||this.layer.chunkEnd(this.chunkIndex)<n||o.maxPoint<this.minPoint))break;this.chunkIndex++,s=!1}if(this.chunkIndex<this.layer.chunk.length){let o=this.layer.chunk[this.chunkIndex].findIndex(n-this.layer.chunkPos[this.chunkIndex],i,!0);(!s||this.rangeIndex<o)&&this.setRangeIndex(o)}this.next()}forward(n,i){(this.to-n||this.endSide-i)<0&&this.gotoInner(n,i,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let n=this.layer.chunkPos[this.chunkIndex],i=this.layer.chunk[this.chunkIndex];if(this.from=n+i.from[this.rangeIndex],this.to=n+i.to[this.rangeIndex],this.value=i.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(n){if(n==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=n}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(n){return this.from-n.from||this.startSide-n.startSide||this.rank-n.rank||this.to-n.to||this.endSide-n.endSide}}class jO{constructor(n){this.heap=n}static from(n,i=null,s=-1){let o=[];for(let a=0;a<n.length;a++)for(let l=n[a];!l.isEmpty;l=l.nextLayer)l.maxPoint>=s&&o.push(new m3e(l,i,s,a));return 1==o.length?o[0]:new jO(o)}get startSide(){return this.value?this.value.startSide:0}goto(n,i=-1e9){for(let s of this.heap)s.goto(n,i);for(let s=this.heap.length>>1;s>=0;s--)zK(this.heap,s);return this.next(),this}forward(n,i){for(let s of this.heap)s.forward(n,i);for(let s=this.heap.length>>1;s>=0;s--)zK(this.heap,s);(this.to-n||this.value.endSide-i)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let n=this.heap[0];this.from=n.from,this.to=n.to,this.value=n.value,this.rank=n.rank,n.value&&n.next(),zK(this.heap,0)}}}function zK(t,n){for(let i=t[n];;){let s=1+(n<<1);if(s>=t.length)break;let o=t[s];if(s+1<t.length&&o.compare(t[s+1])>=0&&(o=t[s+1],s++),i.compare(o)<0)break;t[s]=i,t[n]=o,n=s}}class zO{constructor(n,i,s){this.minPoint=s,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=jO.from(n,i,s)}goto(n,i=-1e9){return this.cursor.goto(n,i),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=n,this.endSide=i,this.openStart=-1,this.next(),this}forward(n,i){for(;this.minActive>-1&&(this.activeTo[this.minActive]-n||this.active[this.minActive].endSide-i)<0;)this.removeActive(this.minActive);this.cursor.forward(n,i)}removeActive(n){ZR(this.active,n),ZR(this.activeTo,n),ZR(this.activeRank,n),this.minActive=y3e(this.active,this.activeTo)}addActive(n){let i=0,{value:s,to:o,rank:a}=this.cursor;for(;i<this.activeRank.length&&(a-this.activeRank[i]||o-this.activeTo[i])>0;)i++;JR(this.active,i,s),JR(this.activeTo,i,o),JR(this.activeRank,i,a),n&&JR(n,i,this.cursor.from),this.minActive=y3e(this.active,this.activeTo)}next(){let n=this.to,i=this.point;this.point=null;let s=this.openStart<0?[]:null;for(;;){let o=this.minActive;if(o>-1&&(this.activeTo[o]-this.cursor.from||this.active[o].endSide-this.cursor.startSide)<0){if(this.activeTo[o]>n){this.to=this.activeTo[o],this.endSide=this.active[o].endSide;break}this.removeActive(o),s&&ZR(s,o)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>n){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let a=this.cursor.value;if(a.point){if(!(i&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(s),this.cursor.next()}}}if(s){this.openStart=0;for(let o=s.length-1;o>=0&&s[o]<n;o--)this.openStart++}}activeForPoint(n){if(!this.active.length)return this.active;let i=[];for(let s=this.active.length-1;s>=0&&!(this.activeRank[s]<this.pointRank);s--)(this.activeTo[s]>n||this.activeTo[s]==n&&this.active[s].endSide>=this.point.endSide)&&i.push(this.active[s]);return i.reverse()}openEnd(n){let i=0;for(let s=this.activeTo.length-1;s>=0&&this.activeTo[s]>n;s--)i++;return i}}function g3e(t,n,i,s,o,a){t.goto(n),i.goto(s);let l=s+o,c=s,u=s-n;for(;;){let d=t.to+u-i.to,p=d||t.endSide-i.endSide,f=p<0?t.to+u:i.to,h=Math.min(f,l);if(t.point||i.point?t.point&&i.point&&(t.point==i.point||t.point.eq(i.point))&&HK(t.activeForPoint(t.to),i.activeForPoint(i.to))||a.comparePoint(c,h,t.point,i.point):h>c&&!HK(t.active,i.active)&&a.compareRange(c,h,t.active,i.active),f>l)break;(d||t.openEnd!=i.openEnd)&&a.boundChange&&a.boundChange(f),c=f,p<=0&&t.next(),p>=0&&i.next()}}function HK(t,n){if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!=n[i]&&!t[i].eq(n[i]))return!1;return!0}function ZR(t,n){for(let i=n,s=t.length-1;i<s;i++)t[i]=t[i+1];t.pop()}function JR(t,n,i){for(let s=t.length-1;s>=n;s--)t[s+1]=t[s];t[n]=i}function y3e(t,n){let i=-1,s=1e9;for(let o=0;o<n.length;o++)(n[o]-s||t[o].endSide-t[i].endSide)<0&&(i=o,s=n[o]);return i}function J3(t,n,i=t.length){let s=0;for(let o=0;o<i&&o<t.length;)9==t.charCodeAt(o)?(s+=n-s%n,o++):(s++,o=Nl(t,o));return s}function UK(t,n,i,s){for(let o=0,a=0;;){if(a>=n)return o;if(o==t.length)break;a+=9==t.charCodeAt(o)?i-a%i:1,o=Nl(t,o)}return!0===s?-1:t.length}const v3e=typeof Symbol>"u"?"__\u037c":Symbol.for("\u037c"),WK=typeof Symbol>"u"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),b3e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class hy{constructor(n,i){this.rules=[];let{finish:s}=i||{};function o(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function a(l,c,u,d){let p=[],f=/^@(\w+)\b/.exec(l[0]),h=f&&"keyframes"==f[1];if(f&&null==c)return u.push(l[0]+";");for(let m in c){let y=c[m];if(/&/.test(m))a(m.split(/,\s*/).map(E=>l.map(_=>E.replace(/&/,_))).reduce((E,_)=>E.concat(_)),y,u);else if(y&&"object"==typeof y){if(!f)throw new RangeError("The value of a property ("+m+") should be a primitive value.");a(o(m),y,p,h)}else null!=y&&p.push(m.replace(/_.*/,"").replace(/[A-Z]/g,E=>"-"+E.toLowerCase())+": "+y+";")}(p.length||h)&&u.push((!s||f||d?l:l.map(s)).join(", ")+" {"+p.join(" ")+"}")}for(let l in n)a(o(l),n[l],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let n=b3e[v3e]||1;return b3e[v3e]=n+1,"\u037c"+n.toString(36)}static mount(n,i,s){let o=n[WK],a=s&&s.nonce;o?a&&o.setNonce(a):o=new Evt(n,a),o.mount(Array.isArray(i)?i:[i],n)}}let _3e=new Map;class Evt{constructor(n,i){let s=n.ownerDocument||n,o=s.defaultView;if(!n.head&&n.adoptedStyleSheets&&o.CSSStyleSheet){let a=_3e.get(s);if(a)return n[WK]=a;this.sheet=new o.CSSStyleSheet,_3e.set(s,this)}else this.styleTag=s.createElement("style"),i&&this.styleTag.setAttribute("nonce",i);this.modules=[],n[WK]=this}mount(n,i){let s=this.sheet,o=0,a=0;for(let l=0;l<n.length;l++){let c=n[l],u=this.modules.indexOf(c);if(u<a&&u>-1&&(this.modules.splice(u,1),a--,u=-1),-1==u){if(this.modules.splice(a++,0,c),s)for(let d=0;d<c.rules.length;d++)s.insertRule(c.rules[d],o++)}else{for(;a<u;)o+=this.modules[a++].rules.length;o+=c.rules.length,a++}}if(s)i.adoptedStyleSheets.indexOf(this.sheet)<0&&(i.adoptedStyleSheets=[this.sheet,...i.adoptedStyleSheets]);else{let l="";for(let u=0;u<this.modules.length;u++)l+=this.modules[u].getRules()+"\n";this.styleTag.textContent=l;let c=i.head||i;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(n){this.styleTag&&this.styleTag.getAttribute("nonce")!=n&&this.styleTag.setAttribute("nonce",n)}}for(var my={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},HO={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},xvt=typeof navigator<"u"&&/Mac/.test(navigator.platform),wvt=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Fl=0;Fl<10;Fl++)my[48+Fl]=my[96+Fl]=String(Fl);for(Fl=1;Fl<=24;Fl++)my[Fl+111]="F"+Fl;for(Fl=65;Fl<=90;Fl++)my[Fl]=String.fromCharCode(Fl+32),HO[Fl]=String.fromCharCode(Fl);for(var GK in my)HO.hasOwnProperty(GK)||(HO[GK]=my[GK]);function UO(t){let n;return n=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,n.getSelection()}function KK(t,n){return!!n&&(t==n||t.contains(1!=n.nodeType?n.parentNode:n))}function e9(t,n){if(!n.anchorNode)return!1;try{return KK(t,n.anchorNode)}catch{return!1}}function ew(t){return 3==t.nodeType?E_(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function qO(t,n,i,s){return!!i&&(E3e(t,n,i,s,-1)||E3e(t,n,i,s,1))}function __(t){for(var n=0;;n++)if(!(t=t.previousSibling))return n}function t9(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function E3e(t,n,i,s,o){for(;;){if(t==i&&n==s)return!0;if(n==(o<0?0:jh(t))){if("DIV"==t.nodeName)return!1;let a=t.parentNode;if(!a||1!=a.nodeType)return!1;n=__(t)+(o<0?0:1),t=a}else{if(1!=t.nodeType)return!1;if(1==(t=t.childNodes[n+(o<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;n=o<0?jh(t):0}}}function jh(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function WO(t,n){let i=n?t.left:t.right;return{left:i,right:i,top:t.top,bottom:t.bottom}}function Svt(t){let n=t.visualViewport;return n?{left:0,right:n.width,top:0,bottom:n.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function x3e(t,n){let i=n.width/t.offsetWidth,s=n.height/t.offsetHeight;return(i>.995&&i<1.005||!isFinite(i)||Math.abs(n.width-t.offsetWidth)<1)&&(i=1),(s>.995&&s<1.005||!isFinite(s)||Math.abs(n.height-t.offsetHeight)<1)&&(s=1),{scaleX:i,scaleY:s}}class Pvt{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(n){return this.anchorNode==n.anchorNode&&this.anchorOffset==n.anchorOffset&&this.focusNode==n.focusNode&&this.focusOffset==n.focusOffset}setRange(n){let{anchorNode:i,focusNode:s}=n;this.set(i,Math.min(n.anchorOffset,i?jh(i):0),s,Math.min(n.focusOffset,s?jh(s):0))}set(n,i,s,o){this.anchorNode=n,this.anchorOffset=i,this.focusNode=s,this.focusOffset=o}}let C3e,tw=null;function w3e(t){if(t.setActive)return t.setActive();if(tw)return t.focus(tw);let n=[];for(let i=t;i&&(n.push(i,i.scrollTop,i.scrollLeft),i!=i.ownerDocument);i=i.parentNode);if(t.focus(null==tw?{get preventScroll(){return tw={preventScroll:!0},!0}}:void 0),!tw){tw=!1;for(let i=0;i<n.length;){let s=n[i++],o=n[i++],a=n[i++];s.scrollTop!=o&&(s.scrollTop=o),s.scrollLeft!=a&&(s.scrollLeft=a)}}}function E_(t,n,i=n){let s=C3e||(C3e=document.createRange());return s.setEnd(t,i),s.setStart(t,n),s}function nw(t,n,i,s){let o={key:n,code:n,keyCode:i,which:i,cancelable:!0};s&&({altKey:o.altKey,ctrlKey:o.ctrlKey,shiftKey:o.shiftKey,metaKey:o.metaKey}=s);let a=new KeyboardEvent("keydown",o);a.synthetic=!0,t.dispatchEvent(a);let l=new KeyboardEvent("keyup",o);return l.synthetic=!0,t.dispatchEvent(l),a.defaultPrevented||l.defaultPrevented}function S3e(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function O3e(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function T3e(t,n){for(let i=t,s=n;;){if(3==i.nodeType&&s>0)return{node:i,offset:s};if(1==i.nodeType&&s>0){if("false"==i.contentEditable)return null;i=i.childNodes[s-1],s=jh(i)}else{if(!i.parentNode||t9(i))return null;s=__(i),i=i.parentNode}}}function P3e(t,n){for(let i=t,s=n;;){if(3==i.nodeType&&s<i.nodeValue.length)return{node:i,offset:s};if(1==i.nodeType&&s<i.childNodes.length){if("false"==i.contentEditable)return null;i=i.childNodes[s],s=0}else{if(!i.parentNode||t9(i))return null;s=__(i)+1,i=i.parentNode}}}class fc{constructor(n,i,s=!0){this.node=n,this.offset=i,this.precise=s}static before(n,i){return new fc(n.parentNode,__(n),i)}static after(n,i){return new fc(n.parentNode,__(n)+1,i)}}const YK=[];class As{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(n){let i=this.posAtStart;for(let s of this.children){if(s==n)return i;i+=s.length+s.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(n){return this.posBefore(n)+n.length}sync(n,i){if(2&this.flags){let a,s=this.dom,o=null;for(let l of this.children){if(7&l.flags){if(!l.dom&&(a=o?o.nextSibling:s.firstChild)){let c=As.get(a);(!c||!c.parent&&c.canReuseDOM(l))&&l.reuseDOM(a)}l.sync(n,i),l.flags&=-8}if(a=o?o.nextSibling:s.firstChild,i&&!i.written&&i.node==s&&a!=l.dom&&(i.written=!0),l.dom.parentNode==s)for(;a&&a!=l.dom;)a=D3e(a);else s.insertBefore(l.dom,a);o=l.dom}for(a=o?o.nextSibling:s.firstChild,a&&i&&i.node==s&&(i.written=!0);a;)a=D3e(a)}else if(1&this.flags)for(let s of this.children)7&s.flags&&(s.sync(n,i),s.flags&=-8)}reuseDOM(n){}localPosFromDOM(n,i){let s;if(n==this.dom)s=this.dom.childNodes[i];else{let o=0==jh(n)?0:0==i?-1:1;for(;;){let a=n.parentNode;if(a==this.dom)break;0==o&&a.firstChild!=a.lastChild&&(o=n==a.firstChild?-1:1),n=a}s=o<0?n:n.nextSibling}if(s==this.dom.firstChild)return 0;for(;s&&!As.get(s);)s=s.nextSibling;if(!s)return this.length;for(let o=0,a=0;;o++){let l=this.children[o];if(l.dom==s)return a;a+=l.length+l.breakAfter}}domBoundsAround(n,i,s=0){let o=-1,a=-1,l=-1,c=-1;for(let u=0,d=s,p=s;u<this.children.length;u++){let f=this.children[u],h=d+f.length;if(d<n&&h>i)return f.domBoundsAround(n,i,d);if(h>=n&&-1==o&&(o=u,a=d),d>i&&f.dom.parentNode==this.dom){l=u,c=p;break}p=h,d=h+f.breakAfter}return{from:a,to:c<0?s+this.length:c,startDOM:(o?this.children[o-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:l<this.children.length&&l>=0?this.children[l].dom:null}}markDirty(n=!1){this.flags|=2,this.markParentsDirty(n)}markParentsDirty(n){for(let i=this.parent;i;i=i.parent){if(n&&(i.flags|=2),1&i.flags)return;i.flags|=1,n=!1}}setParent(n){this.parent!=n&&(this.parent=n,7&this.flags&&this.markParentsDirty(!0))}setDOM(n){this.dom!=n&&(this.dom&&(this.dom.cmView=null),this.dom=n,n.cmView=this)}get rootView(){for(let n=this;;){let i=n.parent;if(!i)return n;n=i}}replaceChildren(n,i,s=YK){this.markDirty();for(let o=n;o<i;o++){let a=this.children[o];a.parent==this&&s.indexOf(a)<0&&a.destroy()}s.length<250?this.children.splice(n,i-n,...s):this.children=[].concat(this.children.slice(0,n),s,this.children.slice(i));for(let o=0;o<s.length;o++)s[o].setParent(this)}ignoreMutation(n){return!1}ignoreEvent(n){return!1}childCursor(n=this.length){return new k3e(this.children,n,this.children.length)}childPos(n,i=1){return this.childCursor().findPos(n,i)}toString(){let n=this.constructor.name.replace("View","");return n+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==n?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(n){return n.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(n,i,s,o,a,l){return!1}become(n){return!1}canReuseDOM(n){return n.constructor==this.constructor&&!(8&(this.flags|n.flags))}getSide(){return 0}destroy(){for(let n of this.children)n.parent==this&&n.destroy();this.parent=null}}function D3e(t){let n=t.nextSibling;return t.parentNode.removeChild(t),n}As.prototype.breakAfter=0;class k3e{constructor(n,i,s){this.children=n,this.pos=i,this.i=s,this.off=0}findPos(n,i=1){for(;;){if(n>this.pos||n==this.pos&&(i>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=n-this.pos,this;let s=this.children[--this.i];this.pos-=s.length+s.breakAfter}}}function M3e(t,n,i,s,o,a,l,c,u){let{children:d}=t,p=d.length?d[n]:null,f=a.length?a[a.length-1]:null,h=f?f.breakAfter:l;if(!(n==s&&p&&!l&&!h&&a.length<2&&p.merge(i,o,a.length?f:null,0==i,c,u))){if(s<d.length){let m=d[s];m&&(o<m.length||m.breakAfter&&f?.breakAfter)?(n==s&&(m=m.split(o),o=0),!h&&f&&m.merge(0,o,f,!0,0,u)?a[a.length-1]=m:((o||m.children.length&&!m.children[0].length)&&m.merge(0,o,null,!1,0,u),a.push(m))):m?.breakAfter&&(f?f.breakAfter=1:l=1),s++}for(p&&(p.breakAfter=l,i>0&&(!l&&a.length&&p.merge(i,p.length,a[0],!1,c,0)?p.breakAfter=a.shift().breakAfter:(i<p.length||p.children.length&&0==p.children[p.children.length-1].length)&&p.merge(i,p.length,null,!1,c,0),n++));n<s&&a.length;)if(d[s-1].become(a[a.length-1]))s--,a.pop(),u=a.length?0:c;else{if(!d[n].become(a[0]))break;n++,a.shift(),c=a.length?0:u}!a.length&&n&&s<d.length&&!d[n-1].breakAfter&&d[s].merge(0,0,d[n-1],!1,c,u)&&n--,(n<s||a.length)&&t.replaceChildren(n,s,a)}}function A3e(t,n,i,s,o,a){let l=t.childCursor(),{i:c,off:u}=l.findPos(i,1),{i:d,off:p}=l.findPos(n,-1),f=n-i;for(let h of s)f+=h.length;t.length+=f,M3e(t,d,p,c,u,s,0,o,a)}let Pu=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},XK=typeof document<"u"?document:{documentElement:{style:{}}};const QK=/Edge\/(\d+)/.exec(Pu.userAgent),I3e=/MSIE \d/.test(Pu.userAgent),ZK=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Pu.userAgent),n9=!!(I3e||ZK||QK),R3e=!n9&&/gecko\/(\d+)/i.test(Pu.userAgent),JK=!n9&&/Chrome\/(\d+)/.exec(Pu.userAgent),N3e="webkitFontSmoothing"in XK.documentElement.style,L3e=!n9&&/Apple Computer/.test(Pu.vendor),F3e=L3e&&(/Mobile\/\w+/.test(Pu.userAgent)||Pu.maxTouchPoints>2);var jn={mac:F3e||/Mac/.test(Pu.platform),windows:/Win/.test(Pu.platform),linux:/Linux|X11/.test(Pu.platform),ie:n9,ie_version:I3e?XK.documentMode||6:ZK?+ZK[1]:QK?+QK[1]:0,gecko:R3e,gecko_version:R3e?+(/Firefox\/(\d+)/.exec(Pu.userAgent)||[0,0])[1]:0,chrome:!!JK,chrome_version:JK?+JK[1]:0,ios:F3e,android:/Android\b/.test(Pu.userAgent),webkit:N3e,safari:L3e,webkit_version:N3e?+(/\bAppleWebKit\/(\d+)/.exec(Pu.userAgent)||[0,0])[1]:0,tabSize:null!=XK.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class wf extends As{constructor(n){super(),this.text=n}get length(){return this.text.length}createDOM(n){this.setDOM(n||document.createTextNode(this.text))}sync(n,i){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(i&&i.node==this.dom&&(i.written=!0),this.dom.nodeValue=this.text)}reuseDOM(n){3==n.nodeType&&this.createDOM(n)}merge(n,i,s){return!(8&this.flags||s&&(!(s instanceof wf)||this.length-(i-n)+s.length>256||8&s.flags)||(this.text=this.text.slice(0,n)+(s?s.text:"")+this.text.slice(i),this.markDirty(),0))}split(n){let i=new wf(this.text.slice(n));return this.text=this.text.slice(0,n),this.markDirty(),i.flags|=8&this.flags,i}localPosFromDOM(n,i){return n==this.dom?i:i?this.text.length:0}domAtPos(n){return new fc(this.dom,n)}domBoundsAround(n,i,s){return{from:s,to:s+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(n,i){return function Avt(t,n,i){let s=t.nodeValue.length;n>s&&(n=s);let o=n,a=n,l=0;0==n&&i<0||n==s&&i>=0?jn.chrome||jn.gecko||(n?(o--,l=1):a<s&&(a++,l=-1)):i<0?o--:a<s&&a++;let c=E_(t,o,a).getClientRects();if(!c.length)return null;let u=c[(l?l<0:i>=0)?0:c.length-1];return jn.safari&&!l&&0==u.width&&(u=Array.prototype.find.call(c,d=>d.width)||u),l?WO(u,l<0):u||null}(this.dom,n,i)}}class $m extends As{constructor(n,i=[],s=0){super(),this.mark=n,this.children=i,this.length=s;for(let o of i)o.setParent(this)}setAttrs(n){if(S3e(n),this.mark.class&&(n.className=this.mark.class),this.mark.attrs)for(let i in this.mark.attrs)n.setAttribute(i,this.mark.attrs[i]);return n}canReuseDOM(n){return super.canReuseDOM(n)&&!(8&(this.flags|n.flags))}reuseDOM(n){n.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(n),this.flags|=6)}sync(n,i){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(n,i)}merge(n,i,s,o,a,l){return!(s&&(!(s instanceof $m&&s.mark.eq(this.mark))||n&&a<=0||i<this.length&&l<=0)||(A3e(this,n,i,s?s.children.slice():[],a-1,l-1),this.markDirty(),0))}split(n){let i=[],s=0,o=-1,a=0;for(let c of this.children){let u=s+c.length;u>n&&i.push(s<n?c.split(n-s):c),o<0&&s>=n&&(o=a),s=u,a++}let l=this.length-n;return this.length=n,o>-1&&(this.children.length=o,this.markDirty()),new $m(this.mark,i,l)}domAtPos(n){return B3e(this,n)}coordsAt(n,i){return V3e(this,n,i)}}class gy extends As{static create(n,i,s){return new gy(n,i,s)}constructor(n,i,s){super(),this.widget=n,this.length=i,this.side=s,this.prevWidget=null}split(n){let i=gy.create(this.widget,this.length-n,this.side);return this.length-=n,i}sync(n){(!this.dom||!this.widget.updateDOM(this.dom,n))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(n)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(n,i,s,o,a,l){return!(s&&(!(s instanceof gy&&this.widget.compare(s.widget))||n>0&&a<=0||i<this.length&&l<=0)||(this.length=n+(s?s.length:0)+(this.length-i),0))}become(n){return n instanceof gy&&n.side==this.side&&this.widget.constructor==n.widget.constructor&&(this.widget.compare(n.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=n.widget,this.length=n.length,!0)}ignoreMutation(){return!0}ignoreEvent(n){return this.widget.ignoreEvent(n)}get overrideDOMText(){if(0==this.length)return Vi.empty;let n=this;for(;n.parent;)n=n.parent;let{view:i}=n,s=i&&i.state.doc,o=this.posAtStart;return s?s.slice(o,o+this.length):Vi.empty}domAtPos(n){return(this.length?0==n:this.side>0)?fc.before(this.dom):fc.after(this.dom,n==this.length)}domBoundsAround(){return null}coordsAt(n,i){let s=this.widget.coordsAt(this.dom,n,i);if(s)return s;let o=this.dom.getClientRects(),a=null;if(!o.length)return null;let l=this.side?this.side<0:n>0;for(let c=l?o.length-1:0;a=o[c],!(n>0?0==c:c==o.length-1||a.top<a.bottom);c+=l?-1:1);return WO(a,!l)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class rw extends As{constructor(n){super(),this.side=n}get length(){return 0}merge(){return!1}become(n){return n instanceof rw&&n.side==this.side}split(){return new rw(this.side)}sync(){if(!this.dom){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),this.setDOM(n)}}getSide(){return this.side}domAtPos(n){return this.side>0?fc.before(this.dom):fc.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(n){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Vi.empty}get isHidden(){return!0}}function B3e(t,n){let i=t.dom,{children:s}=t,o=0;for(let a=0;o<s.length;o++){let l=s[o],c=a+l.length;if(!(c==a&&l.getSide()<=0)){if(n>a&&n<c&&l.dom.parentNode==i)return l.domAtPos(n-a);if(n<=a)break;a=c}}for(let a=o;a>0;a--){let l=s[a-1];if(l.dom.parentNode==i)return l.domAtPos(l.length)}for(let a=o;a<s.length;a++){let l=s[a];if(l.dom.parentNode==i)return l.domAtPos(0)}return new fc(i,0)}function $3e(t,n,i){let s,{children:o}=t;i>0&&n instanceof $m&&o.length&&(s=o[o.length-1])instanceof $m&&s.mark.eq(n.mark)?$3e(s,n.children[0],i-1):(o.push(n),n.setParent(t)),t.length+=n.length}function V3e(t,n,i){let s=null,o=-1,a=null,l=-1;!function c(d,p){for(let f=0,h=0;f<d.children.length&&h<=p;f++){let m=d.children[f],y=h+m.length;y>=p&&(m.children.length?c(m,p-h):(!a||a.isHidden&&(i>0||Rvt(a,m)))&&(y>p||h==y&&m.getSide()>0)?(a=m,l=p-h):(h<p||h==y&&m.getSide()<0&&!m.isHidden)&&(s=m,o=p-h)),h=y}}(t,n);let u=(i<0?s:a)||s||a;return u?u.coordsAt(Math.max(0,u==s?o:l),i):function Ivt(t){let n=t.dom.lastChild;if(!n)return t.dom.getBoundingClientRect();let i=ew(n);return i[i.length-1]||null}(t)}function Rvt(t,n){let i=t.coordsAt(0,1),s=n.coordsAt(0,1);return i&&s&&s.top<i.bottom}function eY(t,n){for(let i in t)"class"==i&&n.class?n.class+=" "+t.class:"style"==i&&n.style?n.style+=";"+t.style:n[i]=t[i];return n}wf.prototype.children=gy.prototype.children=rw.prototype.children=YK;const j3e=Object.create(null);function r9(t,n,i){if(t==n)return!0;t||(t=j3e),n||(n=j3e);let s=Object.keys(t),o=Object.keys(n);if(s.length-(i&&s.indexOf(i)>-1?1:0)!=o.length-(i&&o.indexOf(i)>-1?1:0))return!1;for(let a of s)if(a!=i&&(-1==o.indexOf(a)||t[a]!==n[a]))return!1;return!0}function tY(t,n,i){let s=!1;if(n)for(let o in n)i&&o in i||(s=!0,"style"==o?t.style.cssText="":t.removeAttribute(o));if(i)for(let o in i)n&&n[o]==i[o]||(s=!0,"style"==o?t.style.cssText=i[o]:t.setAttribute(o,i[o]));return s}function Nvt(t){let n=Object.create(null);for(let i=0;i<t.attributes.length;i++){let s=t.attributes[i];n[s.name]=s.value}return n}class zh{eq(n){return!1}updateDOM(n,i){return!1}compare(n){return this==n||this.constructor==n.constructor&&this.eq(n)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(n){return!0}coordsAt(n,i,s){return null}get isHidden(){return!1}get editable(){return!1}destroy(n){}}var Gc=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Gc||(Gc={}));class Xn extends b_{constructor(n,i,s,o){super(),this.startSide=n,this.endSide=i,this.widget=s,this.spec=o}get heightRelevant(){return!1}static mark(n){return new GO(n)}static widget(n){let i=Math.max(-1e4,Math.min(1e4,n.side||0)),s=!!n.block;return i+=s&&!n.inlineOrder?i>0?3e8:-4e8:i>0?1e8:-1e8,new yy(n,i,i,s,n.widget||null,!1)}static replace(n){let s,o,i=!!n.block;if(n.isBlockGap)s=-5e8,o=4e8;else{let{start:a,end:l}=z3e(n,i);s=(a?i?-3e8:-1:5e8)-1,o=1+(l?i?2e8:1:-6e8)}return new yy(n,s,o,i,n.widget||null,!0)}static line(n){return new KO(n)}static set(n,i=!1){return _o.of(n,i)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}Xn.none=_o.empty;class GO extends Xn{constructor(n){let{start:i,end:s}=z3e(n);super(i?-1:5e8,s?1:-6e8,null,n),this.tagName=n.tagName||"span",this.class=n.class||"",this.attrs=n.attributes||null}eq(n){var i,s;return this==n||n instanceof GO&&this.tagName==n.tagName&&(this.class||(null===(i=this.attrs)||void 0===i?void 0:i.class))==(n.class||(null===(s=n.attrs)||void 0===s?void 0:s.class))&&r9(this.attrs,n.attrs,"class")}range(n,i=n){if(n>=i)throw new RangeError("Mark decorations may not be empty");return super.range(n,i)}}GO.prototype.point=!1;class KO extends Xn{constructor(n){super(-2e8,-2e8,null,n)}eq(n){return n instanceof KO&&this.spec.class==n.spec.class&&r9(this.spec.attributes,n.spec.attributes)}range(n,i=n){if(i!=n)throw new RangeError("Line decoration ranges must be zero-length");return super.range(n,i)}}KO.prototype.mapMode=Ll.TrackBefore,KO.prototype.point=!0;class yy extends Xn{constructor(n,i,s,o,a,l){super(i,s,a,n),this.block=o,this.isReplace=l,this.mapMode=o?i<=0?Ll.TrackBefore:Ll.TrackAfter:Ll.TrackDel}get type(){return this.startSide!=this.endSide?Gc.WidgetRange:this.startSide<=0?Gc.WidgetBefore:Gc.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(n){return n instanceof yy&&function Lvt(t,n){return t==n||!!(t&&n&&t.compare(n))}(this.widget,n.widget)&&this.block==n.block&&this.startSide==n.startSide&&this.endSide==n.endSide}range(n,i=n){if(this.isReplace&&(n>i||n==i&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&i!=n)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(n,i)}}function z3e(t,n=!1){let{inclusiveStart:i,inclusiveEnd:s}=t;return null==i&&(i=t.inclusive),null==s&&(s=t.inclusive),{start:i??n,end:s??n}}function i9(t,n,i,s=0){let o=i.length-1;o>=0&&i[o]+s>=t?i[o]=Math.max(i[o],n):i.push(t,n)}yy.prototype.point=!0;class Pa extends As{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(n,i,s,o,a,l){if(s){if(!(s instanceof Pa))return!1;this.dom||s.transferDOM(this)}return o&&this.setDeco(s?s.attrs:null),A3e(this,n,i,s?s.children.slice():[],a,l),!0}split(n){let i=new Pa;if(i.breakAfter=this.breakAfter,0==this.length)return i;let{i:s,off:o}=this.childPos(n);o&&(i.append(this.children[s].split(o),0),this.children[s].merge(o,this.children[s].length,null,!1,0,0),s++);for(let a=s;a<this.children.length;a++)i.append(this.children[a],0);for(;s>0&&0==this.children[s-1].length;)this.children[--s].destroy();return this.children.length=s,this.markDirty(),this.length=n,i}transferDOM(n){this.dom&&(this.markDirty(),n.setDOM(this.dom),n.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(n){r9(this.attrs,n)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=n)}append(n,i){$3e(this,n,i)}addLineDeco(n){let i=n.spec.attributes,s=n.spec.class;i&&(this.attrs=eY(i,this.attrs||{})),s&&(this.attrs=eY({class:s},this.attrs||{}))}domAtPos(n){return B3e(this,n)}reuseDOM(n){"DIV"==n.nodeName&&(this.setDOM(n),this.flags|=6)}sync(n,i){var s;this.dom?4&this.flags&&(S3e(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(tY(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(n,i);let o=this.dom.lastChild;for(;o&&As.get(o)instanceof $m;)o=o.lastChild;if(!(o&&this.length&&("BR"==o.nodeName||0!=(null===(s=As.get(o))||void 0===s?void 0:s.isEditable)||jn.ios&&this.children.some(a=>a instanceof wf)))){let a=document.createElement("BR");a.cmIgnore=!0,this.dom.appendChild(a)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let i,n=0;for(let s of this.children){if(!(s instanceof wf)||/[^ -~]/.test(s.text))return null;let o=ew(s.dom);if(1!=o.length)return null;n+=o[0].width,i=o[0].height}return n?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:n/this.length,textHeight:i}:null}coordsAt(n,i){let s=V3e(this,n,i);if(!this.children.length&&s&&this.parent){let{heightOracle:o}=this.parent.view.viewState,a=s.bottom-s.top;if(Math.abs(a-o.lineHeight)<2&&o.textHeight<a){let l=(a-o.textHeight)/2;return{top:s.top+l,bottom:s.bottom-l,left:s.left,right:s.left}}}return s}become(n){return n instanceof Pa&&0==this.children.length&&0==n.children.length&&r9(this.attrs,n.attrs)&&this.breakAfter==n.breakAfter}covers(){return!0}static find(n,i){for(let s=0,o=0;s<n.children.length;s++){let a=n.children[s],l=o+a.length;if(l>=i){if(a instanceof Pa)return a;if(l>i)break}o=l+a.breakAfter}return null}}class Vm extends As{constructor(n,i,s){super(),this.widget=n,this.length=i,this.deco=s,this.breakAfter=0,this.prevWidget=null}merge(n,i,s,o,a,l){return!(s&&(!(s instanceof Vm&&this.widget.compare(s.widget))||n>0&&a<=0||i<this.length&&l<=0)||(this.length=n+(s?s.length:0)+(this.length-i),0))}domAtPos(n){return 0==n?fc.before(this.dom):fc.after(this.dom,n==this.length)}split(n){let i=this.length-n;this.length=n;let s=new Vm(this.widget,i,this.deco);return s.breakAfter=this.breakAfter,s}get children(){return YK}sync(n){(!this.dom||!this.widget.updateDOM(this.dom,n))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(n)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Vi.empty}domBoundsAround(){return null}become(n){return n instanceof Vm&&n.widget.constructor==this.widget.constructor&&(n.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=n.widget,this.length=n.length,this.deco=n.deco,this.breakAfter=n.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(n){return this.widget.ignoreEvent(n)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(n,i){return this.widget.coordsAt(this.dom,n,i)||(this.widget instanceof nY?null:WO(this.dom.getBoundingClientRect(),this.length?0==n:i<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(n){let{startSide:i,endSide:s}=this.deco;return i!=s&&(n<0?i<0:s>0)}}class nY extends zh{constructor(n){super(),this.height=n}toDOM(){let n=document.createElement("div");return n.className="cm-gap",this.updateDOM(n),n}eq(n){return n.height==this.height}updateDOM(n){return n.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class YO{constructor(n,i,s,o){this.doc=n,this.pos=i,this.end=s,this.disallowBlockEffectsFor=o,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=n.iter(),this.skip=i}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let n=this.content[this.content.length-1];return!(n.breakAfter||n instanceof Vm&&n.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Pa),this.atCursorPos=!0),this.curLine}flushBuffer(n=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(s9(new rw(-1),n),n.length),this.pendingBuffer=0)}addBlockWidget(n){this.flushBuffer(),this.curLine=null,this.content.push(n)}finish(n){this.pendingBuffer&&n<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(n&&this.content.length&&this.content[this.content.length-1]instanceof Vm)&&this.getLine()}buildText(n,i,s){for(;n>0;){if(this.textOff==this.text.length){let{value:a,lineBreak:l,done:c}=this.cursor.next(this.skip);if(this.skip=0,c)throw new Error("Ran out of text content when drawing inline views");if(l){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,n--;continue}this.text=a,this.textOff=0}let o=Math.min(this.text.length-this.textOff,n,512);this.flushBuffer(i.slice(i.length-s)),this.getLine().append(s9(new wf(this.text.slice(this.textOff,this.textOff+o)),i),s),this.atCursorPos=!0,this.textOff+=o,n-=o,s=0}}span(n,i,s,o){this.buildText(i-n,s,o),this.pos=i,this.openStart<0&&(this.openStart=o)}point(n,i,s,o,a,l){if(this.disallowBlockEffectsFor[l]&&s instanceof yy){if(s.block)throw new RangeError("Block decorations may not be specified via plugins");if(i>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=i-n;if(s instanceof yy)if(s.block)s.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Vm(s.widget||H3e.block,c,s));else{let u=gy.create(s.widget||H3e.inline,c,c?0:s.startSide),d=this.atCursorPos&&!u.isEditable&&a<=o.length&&(n<i||s.startSide>0),p=!u.isEditable&&(n<i||a>o.length||s.startSide<=0),f=this.getLine();2==this.pendingBuffer&&!d&&!u.isEditable&&(this.pendingBuffer=0),this.flushBuffer(o),d&&(f.append(s9(new rw(1),o),a),a=o.length+Math.max(0,a-o.length)),f.append(s9(u,o),a),this.atCursorPos=p,this.pendingBuffer=p?n<i||a>o.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=o.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(s);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=i),this.openStart<0&&(this.openStart=a)}static build(n,i,s,o,a){let l=new YO(n,i,s,a);return l.openEnd=_o.spans(o,i,s,l),l.openStart<0&&(l.openStart=l.openEnd),l.finish(l.openEnd),l}}function s9(t,n){for(let i of n)t=new $m(i,[t],t.length);return t}let H3e=(()=>{class t extends zh{constructor(i){super(),this.tag=i}eq(i){return i.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(i){return i.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}return t.inline=new t("span"),t.block=new t("div"),t})();var Is=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Is||(Is={}));const x_=Is.LTR,rY=Is.RTL;function U3e(t){let n=[];for(let i=0;i<t.length;i++)n.push(1<<+t[i]);return n}const Fvt=U3e("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Bvt=U3e("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),iY=Object.create(null),Hh=[];for(let t of["()","[]","{}"]){let n=t.charCodeAt(0),i=t.charCodeAt(1);iY[n]=i,iY[i]=-n}function q3e(t){return t<=247?Fvt[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Bvt[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const $vt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class vy{get dir(){return this.level%2?rY:x_}constructor(n,i,s){this.from=n,this.to=i,this.level=s}side(n,i){return this.dir==i==n?this.to:this.from}forward(n,i){return n==(this.dir==i)}static find(n,i,s,o){let a=-1;for(let l=0;l<n.length;l++){let c=n[l];if(c.from<=i&&c.to>=i){if(c.level==s)return l;(a<0||(0!=o?o<0?c.from<i:c.to>i:n[a].level>c.level))&&(a=l)}}if(a<0)throw new RangeError("Index out of range");return a}}function W3e(t,n){if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++){let s=t[i],o=n[i];if(s.from!=o.from||s.to!=o.to||s.direction!=o.direction||!W3e(s.inner,o.inner))return!1}return!0}const Rs=[];function sY(t,n,i,s,o,a,l){let c=s%2?2:1;if(s%2==o%2)for(let u=n,d=0;u<i;){let p=!0,f=!1;if(d==a.length||u<a[d].from){let E=Rs[u];E!=c&&(p=!1,f=16==E)}let h=p||1!=c?null:[],m=p?s:s+1,y=u;e:for(;;)if(d<a.length&&y==a[d].from){if(f)break e;let E=a[d];if(!p)for(let _=E.to,S=d+1;;){if(_==i)break e;if(!(S<a.length&&a[S].from==_)){if(Rs[_]==c)break e;break}_=a[S++].to}d++,h?h.push(E):(E.from>u&&l.push(new vy(u,E.from,m)),oY(t,E.direction==x_!=!(m%2)?s+1:s,o,E.inner,E.from,E.to,l),u=E.to),y=E.to}else{if(y==i||(p?Rs[y]!=c:Rs[y]==c))break;y++}h?sY(t,u,y,s+1,o,h,l):u<y&&l.push(new vy(u,y,m)),u=y}else for(let u=i,d=a.length;u>n;){let p=!0,f=!1;if(!d||u>a[d-1].to){let E=Rs[u-1];E!=c&&(p=!1,f=16==E)}let h=p||1!=c?null:[],m=p?s:s+1,y=u;e:for(;;)if(d&&y==a[d-1].to){if(f)break e;let E=a[--d];if(!p)for(let _=E.from,S=d;;){if(_==n)break e;if(!S||a[S-1].to!=_){if(Rs[_-1]==c)break e;break}_=a[--S].from}h?h.push(E):(E.to<u&&l.push(new vy(E.to,u,m)),oY(t,E.direction==x_!=!(m%2)?s+1:s,o,E.inner,E.from,E.to,l),u=E.from),y=E.from}else{if(y==n||(p?Rs[y-1]!=c:Rs[y-1]==c))break;y--}h?sY(t,y,u,s+1,o,h,l):y<u&&l.push(new vy(y,u,m)),u=y}}function oY(t,n,i,s,o,a,l){let c=n%2?2:1;(function Vvt(t,n,i,s,o){for(let a=0;a<=s.length;a++){let l=a?s[a-1].to:n,c=a<s.length?s[a].from:i,u=a?256:o;for(let d=l,p=u,f=u;d<c;d++){let h=q3e(t.charCodeAt(d));512==h?h=p:8==h&&4==f&&(h=16),Rs[d]=4==h?2:h,7&h&&(f=h),p=h}for(let d=l,p=u,f=u;d<c;d++){let h=Rs[d];if(128==h)d<c-1&&p==Rs[d+1]&&24&p?h=Rs[d]=p:Rs[d]=256;else if(64==h){let m=d+1;for(;m<c&&64==Rs[m];)m++;let y=d&&8==p||m<i&&8==Rs[m]?1==f?1:8:256;for(let E=d;E<m;E++)Rs[E]=y;d=m-1}else 8==h&&1==f&&(Rs[d]=1);p=h,7&h&&(f=h)}}})(t,o,a,s,c),function jvt(t,n,i,s,o){let a=1==o?2:1;for(let l=0,c=0,u=0;l<=s.length;l++){let p=l<s.length?s[l].from:i;for(let h,m,y,f=l?s[l-1].to:n;f<p;f++)if(m=iY[h=t.charCodeAt(f)])if(m<0){for(let E=c-3;E>=0;E-=3)if(Hh[E+1]==-m){let _=Hh[E+2],S=2&_?o:4&_?1&_?a:o:0;S&&(Rs[f]=Rs[Hh[E]]=S),c=E;break}}else{if(189==Hh.length)break;Hh[c++]=f,Hh[c++]=h,Hh[c++]=u}else if(2==(y=Rs[f])||1==y){let E=y==o;u=E?0:1;for(let _=c-3;_>=0;_-=3){let S=Hh[_+2];if(2&S)break;if(E)Hh[_+2]|=2;else{if(4&S)break;Hh[_+2]|=4}}}}}(t,o,a,s,c),function zvt(t,n,i,s){for(let o=0,a=s;o<=i.length;o++){let c=o<i.length?i[o].from:n;for(let u=o?i[o-1].to:t;u<c;){let d=Rs[u];if(256==d){let p=u+1;for(;;)if(p==c){if(o==i.length)break;p=i[o++].to,c=o<i.length?i[o].from:n}else{if(256!=Rs[p])break;p++}let f=1==a,m=f==(1==(p<n?Rs[p]:s))?f?1:2:s;for(let y=p,E=o,_=E?i[E-1].to:t;y>u;)y==_&&(y=i[--E].from,_=E?i[E-1].to:t),Rs[--y]=m;u=p}else a=d,u++}}}(o,a,s,c),sY(t,o,a,n,i,s,l)}function K3e(t){return[new vy(0,t,0)]}let Y3e="";function X3e(t,n,i,s,o){var a;let l=s.head-t.from,c=vy.find(n,l,null!==(a=s.bidiLevel)&&void 0!==a?a:-1,s.assoc),u=n[c],d=u.side(o,i);if(l==d){let h=c+=o?1:-1;if(h<0||h>=n.length)return null;u=n[c=h],l=u.side(!o,i),d=u.side(o,i)}let p=Nl(t.text,l,u.forward(o,i));(p<u.from||p>u.to)&&(p=d),Y3e=t.text.slice(Math.min(l,p),Math.max(l,p));let f=c==(o?n.length-1:0)?null:n[c+(o?1:-1)];return f&&p==d&&f.level+(o?0:1)<u.level?Rt.cursor(f.side(!o,i)+t.from,f.forward(o,i)?1:-1,f.level):Rt.cursor(p+t.from,u.forward(o,i)?-1:1,u.level)}function Hvt(t,n,i){for(let s=n;s<i;s++){let o=q3e(t.charCodeAt(s));if(1==o)return x_;if(2==o||4==o)return rY}return x_}const Q3e=xn.define(),Z3e=xn.define(),J3e=xn.define(),ewe=xn.define(),aY=xn.define(),twe=xn.define(),nwe=xn.define(),lY=xn.define(),cY=xn.define(),rwe=xn.define({combine:t=>t.some(n=>n)}),iwe=xn.define({combine:t=>t.some(n=>n)}),swe=xn.define();class iw{constructor(n,i="nearest",s="nearest",o=5,a=5,l=!1){this.range=n,this.y=i,this.x=s,this.yMargin=o,this.xMargin=a,this.isSnapshot=l}map(n){return n.empty?this:new iw(this.range.map(n),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(n){return this.range.to<=n.doc.length?this:new iw(Rt.cursor(n.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const o9=hi.define({map:(t,n)=>t.map(n)}),owe=hi.define();function Kc(t,n,i){let s=t.facet(ewe);s.length?s[0](n):window.onerror?window.onerror(String(n),i,void 0,void 0,n):i?console.error(i+":",n):console.error(n)}const jm=xn.define({combine:t=>!t.length||t[0]});let Uvt=0;const XO=xn.define();class Eo{constructor(n,i,s,o,a){this.id=n,this.create=i,this.domEventHandlers=s,this.domEventObservers=o,this.extension=a(this)}static define(n,i){const{eventHandlers:s,eventObservers:o,provide:a,decorations:l}=i||{};return new Eo(Uvt++,n,s,o,c=>{let u=[XO.of(c)];return l&&u.push(QO.of(d=>{let p=d.plugin(c);return p?l(p):Xn.none})),a&&u.push(a(c)),u})}static fromClass(n,i){return Eo.define(s=>new n(s),i)}}class uY{constructor(n){this.spec=n,this.mustUpdate=null,this.value=null}update(n){if(this.value){if(this.mustUpdate){let i=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(i)}catch(s){if(Kc(i.state,s,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(n)}catch(i){Kc(n.state,i,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(n){var i;if(null!==(i=this.value)&&void 0!==i&&i.destroy)try{this.value.destroy()}catch(s){Kc(n.state,s,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const awe=xn.define(),a9=xn.define(),QO=xn.define(),lwe=xn.define(),dY=xn.define(),cwe=xn.define();function uwe(t,n){let i=t.state.facet(cwe);if(!i.length)return i;let s=i.map(a=>a instanceof Function?a(t):a),o=[];return _o.spans(s,n.from,n.to,{point(){},span(a,l,c,u){let d=a-n.from,p=l-n.from,f=o;for(let h=c.length-1;h>=0;h--,u--){let y,m=c[h].spec.bidiIsolate;if(null==m&&(m=Hvt(n.text,d,p)),u>0&&f.length&&(y=f[f.length-1]).to==d&&y.direction==m)y.to=p,f=y.inner;else{let E={from:d,to:p,direction:m,inner:[]};f.push(E),f=E.inner}}}}),o}const dwe=xn.define();function pY(t){let n=0,i=0,s=0,o=0;for(let a of t.state.facet(dwe)){let l=a(t);l&&(null!=l.left&&(n=Math.max(n,l.left)),null!=l.right&&(i=Math.max(i,l.right)),null!=l.top&&(s=Math.max(s,l.top)),null!=l.bottom&&(o=Math.max(o,l.bottom)))}return{left:n,right:i,top:s,bottom:o}}const ZO=xn.define();class md{constructor(n,i,s,o){this.fromA=n,this.toA=i,this.fromB=s,this.toB=o}join(n){return new md(Math.min(this.fromA,n.fromA),Math.max(this.toA,n.toA),Math.min(this.fromB,n.fromB),Math.max(this.toB,n.toB))}addToSet(n){let i=n.length,s=this;for(;i>0;i--){let o=n[i-1];if(!(o.fromA>s.toA)){if(o.toA<s.fromA)break;s=s.join(o),n.splice(i-1,1)}}return n.splice(i,0,s),n}static extendWithRanges(n,i){if(0==i.length)return n;let s=[];for(let o=0,a=0,l=0,c=0;;o++){let u=o==n.length?null:n[o],d=l-c,p=u?u.fromB:1e9;for(;a<i.length&&i[a]<p;){let h=i[a+1],m=Math.max(c,i[a]),y=Math.min(p,h);if(m<=y&&new md(m+d,y+d,m,y).addToSet(s),h>p)break;a+=2}if(!u)return s;new md(u.fromA,u.toA,u.fromB,u.toB).addToSet(s),l=u.toA,c=u.toB}}}class l9{constructor(n,i,s){this.view=n,this.state=i,this.transactions=s,this.flags=0,this.startState=n.state,this.changes=ja.empty(this.startState.doc.length);for(let a of s)this.changes=this.changes.compose(a.changes);let o=[];this.changes.iterChangedRanges((a,l,c,u)=>o.push(new md(a,l,c,u))),this.changedRanges=o}static create(n,i,s){return new l9(n,i,s)}get viewportChanged(){return(4&this.flags)>0}get viewportMoved(){return(8&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(n=>n.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}class pwe extends As{get length(){return this.view.state.doc.length}constructor(n){super(),this.view=n,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Xn.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(n.contentDOM),this.children=[new Pa],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new md(0,0,0,n.state.doc.length)],0,null)}update(n){var i;let s=n.changedRanges;this.minWidth>0&&s.length&&(s.every(({fromA:d,toA:p})=>p<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=n.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=n.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(n);let o=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(null!==(i=this.domChanged)&&void 0!==i&&i.newSel?o=this.domChanged.newSel.head:!function Qvt(t,n){let i=!1;return n&&t.iterChangedRanges((s,o)=>{s<n.to&&o>n.from&&(i=!0)}),i}(n.changes,this.hasComposition)&&!n.selectionSet&&(o=n.state.selection.main.head));let a=o>-1?function Wvt(t,n,i){let s=fwe(t,i);if(!s)return null;let{node:o,from:a,to:l}=s,c=o.nodeValue;if(/[\n\r]/.test(c)||t.state.doc.sliceString(s.from,s.to)!=c)return null;let u=n.invertedDesc,d=new md(u.mapPos(a),u.mapPos(l),a,l),p=[];for(let f=o.parentNode;;f=f.parentNode){let h=As.get(f);if(h instanceof $m)p.push({node:f,deco:h.mark});else{if(h instanceof Pa||"DIV"==f.nodeName&&f.parentNode==t.contentDOM)return{range:d,text:o,marks:p,line:f};if(f==t.contentDOM)return null;p.push({node:f,deco:new GO({inclusive:!0,attributes:Nvt(f),tagName:f.tagName.toLowerCase()})})}}}(this.view,n.changes,o):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:d,to:p}=this.hasComposition;s=new md(d,p,n.changes.mapPos(d,-1),n.changes.mapPos(p,1)).addToSet(s.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(jn.ie||jn.chrome)&&!a&&n&&n.state.doc.lines!=n.startState.doc.lines&&(this.forceSelection=!0);let u=function Yvt(t,n,i){let s=new Kvt;return _o.compare(t,n,i,s),s.changes}(this.decorations,this.updateDeco(),n.changes);return s=md.extendWithRanges(s,u),!!(7&this.flags||0!=s.length)&&(this.updateInner(s,n.startState.doc.length,a),n.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(n,i,s){this.view.viewState.mustMeasureContent=!0,this.updateChildren(n,i,s);let{observer:o}=this.view;o.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let l=jn.chrome||jn.ios?{node:o.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,l),this.flags&=-8,l&&(l.written||o.selectionRange.focusNode!=l.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(l=>l.flags&=-9);let a=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let l of this.children)l instanceof Vm&&l.widget instanceof nY&&a.push(l.dom);o.updateGaps(a)}updateChildren(n,i,s){let o=s?s.range.addToSet(n.slice()):n,a=this.childCursor(i);for(let l=o.length-1;;l--){let c=l>=0?o[l]:null;if(!c)break;let h,m,y,E,{fromA:u,toA:d,fromB:p,toB:f}=c;if(s&&s.range.fromB<f&&s.range.toB>p){let g=YO.build(this.view.state.doc,p,s.range.fromB,this.decorations,this.dynamicDecorationMap),x=YO.build(this.view.state.doc,s.range.toB,f,this.decorations,this.dynamicDecorationMap);m=g.breakAtStart,y=g.openStart,E=x.openEnd;let T=this.compositionView(s);x.breakAtStart?T.breakAfter=1:x.content.length&&T.merge(T.length,T.length,x.content[0],!1,x.openStart,0)&&(T.breakAfter=x.content[0].breakAfter,x.content.shift()),g.content.length&&T.merge(0,0,g.content[g.content.length-1],!0,0,g.openEnd)&&g.content.pop(),h=g.content.concat(T).concat(x.content)}else({content:h,breakAtStart:m,openStart:y,openEnd:E}=YO.build(this.view.state.doc,p,f,this.decorations,this.dynamicDecorationMap));let{i:_,off:S}=a.findPos(d,1),{i:v,off:w}=a.findPos(u,-1);M3e(this,v,w,_,S,h,m,y,E)}s&&this.fixCompositionDOM(s)}updateEditContextFormatting(n){this.editContextFormatting=this.editContextFormatting.map(n.changes);for(let i of n.transactions)for(let s of i.effects)s.is(owe)&&(this.editContextFormatting=s.value)}compositionView(n){let i=new wf(n.text.nodeValue);i.flags|=8;for(let{deco:o}of n.marks)i=new $m(o,[i],i.length);let s=new Pa;return s.append(i,0),s}fixCompositionDOM(n){let i=(a,l)=>{l.flags|=8|(l.children.some(u=>7&u.flags)?1:0),this.markedForComposition.add(l);let c=As.get(a);c&&c!=l&&(c.dom=null),l.setDOM(a)},s=this.childPos(n.range.fromB,1),o=this.children[s.i];i(n.line,o);for(let a=n.marks.length-1;a>=-1;a--)s=o.childPos(s.off,1),o=o.children[s.i],i(a>=0?n.marks[a].node:n.text,o)}updateSelection(n=!1,i=!1){(n||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let s=this.view.root.activeElement,o=s==this.dom,a=!o&&!(this.view.state.facet(jm)||this.dom.tabIndex>-1)&&e9(this.dom,this.view.observer.selectionRange)&&!(s&&this.dom.contains(s));if(!(o||i||a))return;let l=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,u=this.moveToLine(this.domAtPos(c.anchor)),d=c.empty?u:this.moveToLine(this.domAtPos(c.head));if(jn.gecko&&c.empty&&!this.hasComposition&&function qvt(t){return 1==t.node.nodeType&&t.node.firstChild&&(0==t.offset||"false"==t.node.childNodes[t.offset-1].contentEditable)&&(t.offset==t.node.childNodes.length||"false"==t.node.childNodes[t.offset].contentEditable)}(u)){let f=document.createTextNode("");this.view.observer.ignore(()=>u.node.insertBefore(f,u.node.childNodes[u.offset]||null)),u=d=new fc(f,0),l=!0}let p=this.view.observer.selectionRange;(l||!p.focusNode||(!qO(u.node,u.offset,p.anchorNode,p.anchorOffset)||!qO(d.node,d.offset,p.focusNode,p.focusOffset))&&!this.suppressWidgetCursorChange(p,c))&&(this.view.observer.ignore(()=>{jn.android&&jn.chrome&&this.dom.contains(p.focusNode)&&function Xvt(t,n){for(let i=t;i&&i!=n;i=i.assignedSlot||i.parentNode)if(1==i.nodeType&&"false"==i.contentEditable)return!0;return!1}(p.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=UO(this.view.root);if(f)if(c.empty){if(jn.gecko){let h=function Gvt(t,n){return 1!=t.nodeType?0:(n&&"false"==t.childNodes[n-1].contentEditable?1:0)|(n<t.childNodes.length&&"false"==t.childNodes[n].contentEditable?2:0)}(u.node,u.offset);if(h&&3!=h){let m=(1==h?T3e:P3e)(u.node,u.offset);m&&(u=new fc(m.node,m.offset))}}f.collapse(u.node,u.offset),null!=c.bidiLevel&&void 0!==f.caretBidiLevel&&(f.caretBidiLevel=c.bidiLevel)}else if(f.extend){f.collapse(u.node,u.offset);try{f.extend(d.node,d.offset)}catch{}}else{let h=document.createRange();c.anchor>c.head&&([u,d]=[d,u]),h.setEnd(d.node,d.offset),h.setStart(u.node,u.offset),f.removeAllRanges(),f.addRange(h)}a&&this.view.root.activeElement==this.dom&&(this.dom.blur(),s&&s.focus())}),this.view.observer.setSelectionRange(u,d)),this.impreciseAnchor=u.precise?null:new fc(p.anchorNode,p.anchorOffset),this.impreciseHead=d.precise?null:new fc(p.focusNode,p.focusOffset)}suppressWidgetCursorChange(n,i){return this.hasComposition&&i.empty&&qO(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)&&this.posFromDOM(n.focusNode,n.focusOffset)==i.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:n}=this,i=n.state.selection.main,s=UO(n.root),{anchorNode:o,anchorOffset:a}=n.observer.selectionRange;if(!(s&&i.empty&&i.assoc&&s.modify))return;let l=Pa.find(this,i.head);if(!l)return;let c=l.posAtStart;if(i.head==c||i.head==c+l.length)return;let u=this.coordsAt(i.head,-1),d=this.coordsAt(i.head,1);if(!u||!d||u.bottom>d.top)return;let p=this.domAtPos(i.head+i.assoc);s.collapse(p.node,p.offset),s.modify("move",i.assoc<0?"forward":"backward","lineboundary"),n.observer.readSelectionRange();let f=n.observer.selectionRange;n.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=i.from&&s.collapse(o,a)}moveToLine(n){let s,i=this.dom;if(n.node!=i)return n;for(let o=n.offset;!s&&o<i.childNodes.length;o++){let a=As.get(i.childNodes[o]);a instanceof Pa&&(s=a.domAtPos(0))}for(let o=n.offset-1;!s&&o>=0;o--){let a=As.get(i.childNodes[o]);a instanceof Pa&&(s=a.domAtPos(a.length))}return s?new fc(s.node,s.offset,!0):n}nearest(n){for(let i=n;i;){let s=As.get(i);if(s&&s.rootView==this)return s;i=i.parentNode}return null}posFromDOM(n,i){let s=this.nearest(n);if(!s)throw new RangeError("Trying to find position for a DOM position outside of the document");return s.localPosFromDOM(n,i)+s.posAtStart}domAtPos(n){let{i,off:s}=this.childCursor().findPos(n,-1);for(;i<this.children.length-1;){let o=this.children[i];if(s<o.length||o instanceof Pa)break;i++,s=0}return this.children[i].domAtPos(s)}coordsAt(n,i){let s=null,o=0;for(let a=this.length,l=this.children.length-1;l>=0;l--){let c=this.children[l],u=a-c.breakAfter,d=u-c.length;if(u<n)break;if(d<=n&&(d<n||c.covers(-1))&&(u>n||c.covers(1))&&(!s||c instanceof Pa&&!(s instanceof Pa&&i>=0)))s=c,o=d;else if(s&&d==n&&u==n&&c instanceof Vm&&Math.abs(i)<2){if(c.deco.startSide<0)break;l&&(s=null)}a=d}return s?s.coordsAt(n-o,i):null}coordsForChar(n){let{i,off:s}=this.childPos(n,1),o=this.children[i];if(!(o instanceof Pa))return null;for(;o.children.length;){let{i:c,off:u}=o.childPos(s,1);for(;;c++){if(c==o.children.length)return null;if((o=o.children[c]).length)break}s=u}if(!(o instanceof wf))return null;let a=Nl(o.text,s);if(a==s)return null;let l=E_(o.dom,s,a).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(c==l.length-1||u.top<u.bottom&&u.left<u.right)return u}return null}measureVisibleLineHeights(n){let i=[],{from:s,to:o}=n,a=this.view.contentDOM.clientWidth,l=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,u=this.view.textDirection==Is.LTR;for(let d=0,p=0;p<this.children.length;p++){let f=this.children[p],h=d+f.length;if(h>o)break;if(d>=s){let m=f.dom.getBoundingClientRect();if(i.push(m.height),l){let y=f.dom.lastChild,E=y?ew(y):[];if(E.length){let _=E[E.length-1],S=u?_.right-m.left:m.right-_.left;S>c&&(c=S,this.minWidth=a,this.minWidthFrom=d,this.minWidthTo=h)}}}d=h+f.breakAfter}return i}textDirectionAt(n){let{i}=this.childPos(n,1);return"rtl"==getComputedStyle(this.children[i].dom).direction?Is.RTL:Is.LTR}measureTextSize(){for(let a of this.children)if(a instanceof Pa){let l=a.measureTextSize();if(l)return l}let i,s,o,n=document.createElement("div");return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(n);let a=ew(n.firstChild)[0];i=n.getBoundingClientRect().height,s=a?a.width/27:7,o=a?a.height:i,n.remove()}),{lineHeight:i,charWidth:s,textHeight:o}}childCursor(n=this.length){let i=this.children.length;return i&&(n-=this.children[--i].length),new k3e(this.children,n,i)}computeBlockGapDeco(){let n=[],i=this.view.viewState;for(let s=0,o=0;;o++){let a=o==i.viewports.length?null:i.viewports[o],l=a?a.from-1:this.length;if(l>s){let c=(i.lineBlockAt(l).bottom-i.lineBlockAt(s).top)/this.view.scaleY;n.push(Xn.replace({widget:new nY(c),block:!0,inclusive:!0,isBlockGap:!0}).range(s,l))}if(!a)break;s=a.to+1}return Xn.set(n)}updateDeco(){let n=1,i=this.view.state.facet(QO).map(a=>(this.dynamicDecorationMap[n++]="function"==typeof a)?a(this.view):a),s=!1,o=this.view.state.facet(lwe).map((a,l)=>{let c="function"==typeof a;return c&&(s=!0),c?a(this.view):a});for(o.length&&(this.dynamicDecorationMap[n++]=s,i.push(_o.join(o))),this.decorations=[this.editContextFormatting,...i,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];n<this.decorations.length;)this.dynamicDecorationMap[n++]=!1;return this.decorations}scrollIntoView(n){if(n.isSnapshot){let d=this.view.viewState.lineBlockAt(n.range.head);return this.view.scrollDOM.scrollTop=d.top-n.yMargin,void(this.view.scrollDOM.scrollLeft=n.xMargin)}for(let d of this.view.state.facet(swe))try{if(d(this.view,n.range,n))return!0}catch(p){Kc(this.view.state,p,"scroll handler")}let o,{range:i}=n,s=this.coordsAt(i.head,i.empty?i.assoc:i.head>i.anchor?-1:1);if(!s)return;!i.empty&&(o=this.coordsAt(i.anchor,i.anchor>i.head?-1:1))&&(s={left:Math.min(s.left,o.left),top:Math.min(s.top,o.top),right:Math.max(s.right,o.right),bottom:Math.max(s.bottom,o.bottom)});let a=pY(this.view),l={left:s.left-a.left,top:s.top-a.top,right:s.right+a.right,bottom:s.bottom+a.bottom},{offsetWidth:c,offsetHeight:u}=this.view.scrollDOM;!function Ovt(t,n,i,s,o,a,l,c){let u=t.ownerDocument,d=u.defaultView||window;for(let p=t,f=!1;p&&!f;)if(1==p.nodeType){let h,m=p==u.body,y=1,E=1;if(m)h=Svt(d);else{if(/^(fixed|sticky)$/.test(getComputedStyle(p).position)&&(f=!0),p.scrollHeight<=p.clientHeight&&p.scrollWidth<=p.clientWidth){p=p.assignedSlot||p.parentNode;continue}let v=p.getBoundingClientRect();({scaleX:y,scaleY:E}=x3e(p,v)),h={left:v.left,right:v.left+p.clientWidth*y,top:v.top,bottom:v.top+p.clientHeight*E}}let _=0,S=0;if("nearest"==o)n.top<h.top?(S=n.top-(h.top+l),i>0&&n.bottom>h.bottom+S&&(S=n.bottom-h.bottom+l)):n.bottom>h.bottom&&(S=n.bottom-h.bottom+l,i<0&&n.top-S<h.top&&(S=n.top-(h.top+l)));else{let v=n.bottom-n.top,w=h.bottom-h.top;S=("center"==o&&v<=w?n.top+v/2-w/2:"start"==o||"center"==o&&i<0?n.top-l:n.bottom-w+l)-h.top}if("nearest"==s?n.left<h.left?(_=n.left-(h.left+a),i>0&&n.right>h.right+_&&(_=n.right-h.right+a)):n.right>h.right&&(_=n.right-h.right+a,i<0&&n.left<h.left+_&&(_=n.left-(h.left+a))):_=("center"==s?n.left+(n.right-n.left)/2-(h.right-h.left)/2:"start"==s==c?n.left-a:n.right-(h.right-h.left)+a)-h.left,_||S)if(m)d.scrollBy(_,S);else{let v=0,w=0;if(S){let g=p.scrollTop;p.scrollTop+=S/E,w=(p.scrollTop-g)*E}if(_){let g=p.scrollLeft;p.scrollLeft+=_/y,v=(p.scrollLeft-g)*y}n={left:n.left-v,top:n.top-w,right:n.right-v,bottom:n.bottom-w},v&&Math.abs(v-_)<1&&(s="nearest"),w&&Math.abs(w-S)<1&&(o="nearest")}if(m)break;(n.top<h.top||n.bottom>h.bottom||n.left<h.left||n.right>h.right)&&(n={left:Math.max(n.left,h.left),right:Math.min(n.right,h.right),top:Math.max(n.top,h.top),bottom:Math.min(n.bottom,h.bottom)}),p=p.assignedSlot||p.parentNode}else{if(11!=p.nodeType)break;p=p.host}}(this.view.scrollDOM,l,i.head<i.anchor?-1:1,n.x,n.y,Math.max(Math.min(n.xMargin,c),-c),Math.max(Math.min(n.yMargin,u),-u),this.view.textDirection==Is.LTR)}}function fwe(t,n){let i=t.observer.selectionRange;if(!i.focusNode)return null;let s=T3e(i.focusNode,i.focusOffset),o=P3e(i.focusNode,i.focusOffset),a=s||o;if(o&&s&&o.node!=s.node){let c=As.get(o.node);if(!c||c instanceof wf&&c.text!=o.node.nodeValue)a=o;else if(t.docView.lastCompositionAfterCursor){let u=As.get(s.node);!u||u instanceof wf&&u.text!=s.node.nodeValue||(a=o)}}if(t.docView.lastCompositionAfterCursor=a!=s,!a)return null;let l=n-a.offset;return{from:l,to:l+a.node.nodeValue.length,node:a.node}}let Kvt=class{constructor(){this.changes=[]}compareRange(n,i){i9(n,i,this.changes)}comparePoint(n,i){i9(n,i,this.changes)}boundChange(n){i9(n,n,this.changes)}};function Jvt(t,n){return n.left>t?n.left-t:Math.max(0,t-n.right)}function ebt(t,n){return n.top>t?n.top-t:Math.max(0,t-n.bottom)}function fY(t,n){return t.top<n.bottom-1&&t.bottom>n.top+1}function hwe(t,n){return n<t.top?{top:n,left:t.left,right:t.right,bottom:t.bottom}:t}function mwe(t,n){return n>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:n}:t}function hY(t,n,i){let s,o,a,l,u,d,p,f,c=!1;for(let y=t.firstChild;y;y=y.nextSibling){let E=ew(y);for(let _=0;_<E.length;_++){let S=E[_];o&&fY(o,S)&&(S=hwe(mwe(S,o.bottom),o.top));let v=Jvt(n,S),w=ebt(i,S);if(0==v&&0==w)return 3==y.nodeType?gwe(y,n,i):hY(y,n,i);if(!s||l>w||l==w&&a>v){s=y,o=S,a=v,l=w;let g=w?i<S.top?-1:1:v?n<S.left?-1:1:0;c=!g||(g>0?_<E.length-1:_>0)}0==v?i>S.bottom&&(!p||p.bottom<S.bottom)?(u=y,p=S):i<S.top&&(!f||f.top>S.top)&&(d=y,f=S):p&&fY(p,S)?p=mwe(p,S.bottom):f&&fY(f,S)&&(f=hwe(f,S.top))}}if(p&&p.bottom>=i?(s=u,o=p):f&&f.top<=i&&(s=d,o=f),!s)return{node:t,offset:0};let h=Math.max(o.left,Math.min(o.right,n));return 3==s.nodeType?gwe(s,h,i):c&&"false"!=s.contentEditable?hY(s,h,i):{node:t,offset:Array.prototype.indexOf.call(t.childNodes,s)+(n>=(o.left+o.right)/2?1:0)}}function gwe(t,n,i){let s=t.nodeValue.length,o=-1,a=1e9,l=0;for(let c=0;c<s;c++){let u=E_(t,c,c+1).getClientRects();for(let d=0;d<u.length;d++){let p=u[d];if(p.top==p.bottom)continue;l||(l=n-p.left);let f=(p.top>i?p.top-i:i-p.bottom)-1;if(p.left-1<=n&&p.right+1>=n&&f<a){let h=n>=(p.left+p.right)/2,m=h;if((jn.chrome||jn.gecko)&&E_(t,c).getBoundingClientRect().left==p.right&&(m=!h),f<=0)return{node:t,offset:c+(m?1:0)};o=c+(m?1:0),a=f}}}return{node:t,offset:o>-1?o:l>0?t.nodeValue.length:0}}function ywe(t,n,i,s=-1){var o,a;let u,l=t.contentDOM.getBoundingClientRect(),c=l.top+t.viewState.paddingTop,{docHeight:d}=t.viewState,{x:p,y:f}=n,h=f-c;if(h<0)return 0;if(h>d)return t.state.doc.length;for(let g=t.viewState.heightOracle.textHeight/2,x=!1;u=t.elementAtHeight(h),u.type!=Gc.Text;)for(;h=s>0?u.bottom+g:u.top-g,!(h>=0&&h<=d);){if(x)return i?null:0;x=!0,s=-s}f=c+h;let m=u.from;if(m<t.viewport.from)return 0==t.viewport.from?0:i?null:vwe(t,l,u,p,f);if(m>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:i?null:vwe(t,l,u,p,f);let y=t.dom.ownerDocument,E=t.root.elementFromPoint?t.root:y,_=E.elementFromPoint(p,f);_&&!t.contentDOM.contains(_)&&(_=null),_||(p=Math.max(l.left+1,Math.min(l.right-1,p)),_=E.elementFromPoint(p,f),_&&!t.contentDOM.contains(_)&&(_=null));let S,v=-1;if(_&&0!=(null===(o=t.docView.nearest(_))||void 0===o?void 0:o.isEditable)){if(y.caretPositionFromPoint){let g=y.caretPositionFromPoint(p,f);g&&({offsetNode:S,offset:v}=g)}else if(y.caretRangeFromPoint){let g=y.caretRangeFromPoint(p,f);g&&(({startContainer:S,startOffset:v}=g),(!t.contentDOM.contains(S)||jn.safari&&function tbt(t,n,i){let s;if(3!=t.nodeType||n!=(s=t.nodeValue.length))return!1;for(let o=t.nextSibling;o;o=o.nextSibling)if(1!=o.nodeType||"BR"!=o.nodeName)return!1;return E_(t,s-1,s).getBoundingClientRect().left>i}(S,v,p)||jn.chrome&&function nbt(t,n,i){if(0!=n)return!1;for(let o=t;;){let a=o.parentNode;if(!a||1!=a.nodeType||a.firstChild!=o)return!1;if(a.classList.contains("cm-line"))break;o=a}return i-(1==t.nodeType?t.getBoundingClientRect():E_(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect()).left>5}(S,v,p))&&(S=void 0))}S&&(v=Math.min(jh(S),v))}if(!S||!t.docView.dom.contains(S)){let g=Pa.find(t.docView,m);if(!g)return h>u.top+u.height/2?u.to:u.from;({node:S,offset:v}=hY(g.dom,p,f))}let w=t.docView.nearest(S);if(!w)return null;if(w.isWidget&&1==(null===(a=w.dom)||void 0===a?void 0:a.nodeType)){let g=w.dom.getBoundingClientRect();return n.y<g.top||n.y<=g.bottom&&n.x<=(g.left+g.right)/2?w.posAtStart:w.posAtEnd}return w.localPosFromDOM(S,v)+w.posAtStart}function vwe(t,n,i,s,o){let a=Math.round((s-n.left)*t.defaultCharacterWidth);if(t.lineWrapping&&i.height>1.5*t.defaultLineHeight){let c=t.viewState.heightOracle.textHeight;a+=Math.floor((o-i.top-.5*(t.defaultLineHeight-c))/c)*t.viewState.heightOracle.lineLength}let l=t.state.sliceDoc(i.from,i.to);return i.from+UK(l,a,t.state.tabSize)}function mY(t,n){let i=t.lineBlockAt(n);if(Array.isArray(i.type))for(let s of i.type)if(s.to>n||s.to==n&&(s.to==i.to||s.type==Gc.Text))return s;return i}function bwe(t,n,i,s){let o=t.state.doc.lineAt(n.head),a=t.bidiSpans(o),l=t.textDirectionAt(o.from);for(let c=n,u=null;;){let d=X3e(o,a,l,c,i),p=Y3e;if(!d){if(o.number==(i?t.state.doc.lines:1))return c;p="\n",o=t.state.doc.line(o.number+(i?1:-1)),a=t.bidiSpans(o),d=t.visualLineSide(o,!i)}if(u){if(!u(p))return c}else{if(!s)return d;u=s(p)}c=d}}function c9(t,n,i){for(;;){let s=0;for(let o of t)o.between(n-1,n+1,(a,l,c)=>{if(n>a&&n<l){let u=s||i||(n-a<l-n?-1:1);n=u<0?a:l,s=u}});if(!s)return n}}function gY(t,n,i){let s=c9(t.state.facet(dY).map(o=>o(t)),i.from,n.head>i.from?-1:1);return s==i.from?i:Rt.cursor(s,s<i.from?1:-1)}class obt{constructor(n,i){this.points=n,this.text="",this.lineSeparator=i.facet(Wc.lineSeparator)}append(n){this.text+=n}lineBreak(){this.text+="\uffff"}readRange(n,i){if(!n)return this;let s=n.parentNode;for(let o=n;;){this.findPointBefore(s,o);let a=this.text.length;this.readNode(o);let l=o.nextSibling;if(l==i)break;let c=As.get(o),u=As.get(l);(c&&u?c.breakAfter:(c?c.breakAfter:t9(o))||t9(l)&&("BR"!=o.nodeName||o.cmIgnore)&&this.text.length>a)&&this.lineBreak(),o=l}return this.findPointBefore(s,i),this}readTextNode(n){let i=n.nodeValue;for(let s of this.points)s.node==n&&(s.pos=this.text.length+Math.min(s.offset,i.length));for(let s=0,o=this.lineSeparator?null:/\r\n?|\n/g;;){let c,a=-1,l=1;if(this.lineSeparator?(a=i.indexOf(this.lineSeparator,s),l=this.lineSeparator.length):(c=o.exec(i))&&(a=c.index,l=c[0].length),this.append(i.slice(s,a<0?i.length:a)),a<0)break;if(this.lineBreak(),l>1)for(let u of this.points)u.node==n&&u.pos>this.text.length&&(u.pos-=l-1);s=a+l}}readNode(n){if(n.cmIgnore)return;let i=As.get(n),s=i&&i.overrideDOMText;if(null!=s){this.findPointInside(n,s.length);for(let o=s.iter();!o.next().done;)o.lineBreak?this.lineBreak():this.append(o.value)}else 3==n.nodeType?this.readTextNode(n):"BR"==n.nodeName?n.nextSibling&&this.lineBreak():1==n.nodeType&&this.readRange(n.firstChild,null)}findPointBefore(n,i){for(let s of this.points)s.node==n&&n.childNodes[s.offset]==i&&(s.pos=this.text.length)}findPointInside(n,i){for(let s of this.points)(3==n.nodeType?s.node==n:n.contains(s.node))&&(s.pos=this.text.length+(abt(n,s.node,s.offset)?i:0))}}function abt(t,n,i){for(;;){if(!n||i<jh(n))return!1;if(n==t)return!0;i=__(n)+1,n=n.parentNode}}class _we{constructor(n,i){this.node=n,this.offset=i,this.pos=-1}}class lbt{constructor(n,i,s,o){this.typeOver=o,this.bounds=null,this.text="",this.domChanged=i>-1;let{impreciseHead:a,impreciseAnchor:l}=n.docView;if(n.state.readOnly&&i>-1)this.newSel=null;else if(i>-1&&(this.bounds=n.docView.domBoundsAround(i,s,0))){let c=a||l?[]:function dbt(t){let n=[];if(t.root.activeElement!=t.contentDOM)return n;let{anchorNode:i,anchorOffset:s,focusNode:o,focusOffset:a}=t.observer.selectionRange;return i&&(n.push(new _we(i,s)),(o!=i||a!=s)&&n.push(new _we(o,a))),n}(n),u=new obt(c,n.state);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=function pbt(t,n){if(0==t.length)return null;let i=t[0].pos,s=2==t.length?t[1].pos:i;return i>-1&&s>-1?Rt.single(i+n,s+n):null}(c,this.bounds.from)}else{let c=n.observer.selectionRange,u=a&&a.node==c.focusNode&&a.offset==c.focusOffset||!KK(n.contentDOM,c.focusNode)?n.state.selection.main.head:n.docView.posFromDOM(c.focusNode,c.focusOffset),d=l&&l.node==c.anchorNode&&l.offset==c.anchorOffset||!KK(n.contentDOM,c.anchorNode)?n.state.selection.main.anchor:n.docView.posFromDOM(c.anchorNode,c.anchorOffset),p=n.viewport;if((jn.ios||jn.chrome)&&n.state.selection.main.empty&&u!=d&&(p.from>0||p.to<n.state.doc.length)){let f=Math.min(u,d),h=Math.max(u,d),m=p.from-f,y=p.to-h;(0==m||1==m||0==f)&&(0==y||-1==y||h==n.state.doc.length)&&(u=0,d=n.state.doc.length)}this.newSel=Rt.single(d,u)}}}function Ewe(t,n){let i,{newSel:s}=n,o=t.state.selection.main,a=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(n.bounds){let{from:l,to:c}=n.bounds,u=o.from,d=null;(8===a||jn.android&&n.text.length<c-l)&&(u=o.to,d="end");let p=function ubt(t,n,i,s){let o=Math.min(t.length,n.length),a=0;for(;a<o&&t.charCodeAt(a)==n.charCodeAt(a);)a++;if(a==o&&t.length==n.length)return null;let l=t.length,c=n.length;for(;l>0&&c>0&&t.charCodeAt(l-1)==n.charCodeAt(c-1);)l--,c--;return"end"==s&&(i-=l+Math.max(0,a-Math.min(l,c))-a),l<a&&t.length<n.length?(a-=i<=a&&i>=l?a-i:0,c=a+(c-l),l=a):c<a&&(a-=i<=a&&i>=c?a-i:0,l=a+(l-c),c=a),{from:a,toA:l,toB:c}}(t.state.doc.sliceString(l,c,"\uffff"),n.text,u-l,d);p&&(jn.chrome&&13==a&&p.toB==p.from+2&&"\uffff\uffff"==n.text.slice(p.from,p.toB)&&p.toB--,i={from:l+p.from,to:l+p.toA,insert:Vi.of(n.text.slice(p.from,p.toB).split("\uffff"))})}else s&&(!t.hasFocus&&t.state.facet(jm)||s.main.eq(o))&&(s=null);if(!i&&!s)return!1;if(!i&&n.typeOver&&!o.empty&&s&&s.main.empty?i={from:o.from,to:o.to,insert:t.state.doc.slice(o.from,o.to)}:(jn.mac||jn.android)&&i&&i.from==i.to&&i.from==o.head-1&&/^\. ?$/.test(i.insert.toString())&&"off"==t.contentDOM.getAttribute("autocorrect")?(s&&2==i.insert.length&&(s=Rt.single(s.main.anchor-1,s.main.head-1)),i={from:i.from,to:i.to,insert:Vi.of([i.insert.toString().replace("."," ")])}):i&&i.from>=o.from&&i.to<=o.to&&(i.from!=o.from||i.to!=o.to)&&o.to-o.from-(i.to-i.from)<=4?i={from:o.from,to:o.to,insert:t.state.doc.slice(o.from,i.from).append(i.insert).append(t.state.doc.slice(i.to,o.to))}:jn.chrome&&i&&i.from==i.to&&i.from==o.head&&"\n "==i.insert.toString()&&t.lineWrapping&&(s&&(s=Rt.single(s.main.anchor-1,s.main.head-1)),i={from:o.from,to:o.to,insert:Vi.of([" "])}),i)return yY(t,i,s,a);if(s&&!s.main.eq(o)){let l=!1,c="select";return t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(l=!0),c=t.inputState.lastSelectionOrigin),t.dispatch({selection:s,scrollIntoView:l,userEvent:c}),!0}return!1}function yY(t,n,i,s=-1){if(jn.ios&&t.inputState.flushIOSKey(n))return!0;let o=t.state.selection.main;if(jn.android&&(n.to==o.to&&(n.from==o.from||n.from==o.from-1&&" "==t.state.sliceDoc(n.from,o.from))&&1==n.insert.length&&2==n.insert.lines&&nw(t.contentDOM,"Enter",13)||(n.from==o.from-1&&n.to==o.to&&0==n.insert.length||8==s&&n.insert.length<n.to-n.from&&n.to>o.head)&&nw(t.contentDOM,"Backspace",8)||n.from==o.from&&n.to==o.to+1&&0==n.insert.length&&nw(t.contentDOM,"Delete",46)))return!0;let a=n.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let l,c=()=>l||(l=function cbt(t,n,i){let s,o=t.state,a=o.selection.main;if(n.from>=a.from&&n.to<=a.to&&n.to-n.from>=(a.to-a.from)/3&&(!i||i.main.empty&&i.main.from==n.from+n.insert.length)&&t.inputState.composing<0){let c=a.from<n.from?o.sliceDoc(a.from,n.from):"",u=a.to>n.to?o.sliceDoc(n.to,a.to):"";s=o.replaceSelection(t.state.toText(c+n.insert.sliceString(0,void 0,t.state.lineBreak)+u))}else{let c=o.changes(n),u=i&&i.main.to<=c.newLength?i.main:void 0;if(o.selection.ranges.length>1&&t.inputState.composing>=0&&n.to<=a.to&&n.to>=a.to-10){let p,d=t.state.sliceDoc(n.from,n.to),f=i&&fwe(t,i.main.head);p=f?{from:f.from,to:f.to-(n.insert.length-(n.to-n.from))}:t.state.doc.lineAt(a.head);let h=a.to-n.to,m=a.to-a.from;s=o.changeByRange(y=>{if(y.from==a.from&&y.to==a.to)return{changes:c,range:u||y.map(c)};let E=y.to-h,_=E-d.length;if(y.to-y.from!=m||t.state.sliceDoc(_,E)!=d||y.to>=p.from&&y.from<=p.to)return{range:y};let S=o.changes({from:_,to:E,insert:n.insert}),v=y.to-a.to;return{changes:S,range:u?Rt.range(Math.max(0,u.anchor+v),Math.max(0,u.head+v)):y.map(S)}})}else s={changes:c,selection:u&&o.selection.replaceRange(u)}}let l="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,l+=".compose",t.inputState.compositionFirstChange&&(l+=".start",t.inputState.compositionFirstChange=!1)),o.update(s,{userEvent:l,scrollIntoView:!0})}(t,n,i));return t.state.facet(twe).some(u=>u(t,n.from,n.to,a,c))||t.dispatch(c()),!0}class fbt{setSelectionOrigin(n){this.lastSelectionOrigin=n,this.lastSelectionTime=Date.now()}constructor(n){this.view=n,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=n.hasFocus,jn.safari&&n.contentDOM.addEventListener("input",()=>null),jn.gecko&&function Dbt(t){Bwe.has(t)||(Bwe.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}(n.contentDOM.ownerDocument)}handleEvent(n){!function Ebt(t,n){if(!n.bubbles)return!0;if(n.defaultPrevented)return!1;for(let s,i=n.target;i!=t.contentDOM;i=i.parentNode)if(!i||11==i.nodeType||(s=As.get(i))&&s.ignoreEvent(n))return!1;return!0}(this.view,n)||this.ignoreDuringComposition(n)||"keydown"==n.type&&this.keydown(n)||(0!=this.view.updateState?Promise.resolve().then(()=>this.runHandlers(n.type,n)):this.runHandlers(n.type,n))}runHandlers(n,i){let s=this.handlers[n];if(s){for(let o of s.observers)o(this.view,i);for(let o of s.handlers){if(i.defaultPrevented)break;if(o(this.view,i)){i.preventDefault();break}}}}ensureHandlers(n){let i=function hbt(t){let n=Object.create(null);function i(s){return n[s]||(n[s]={observers:[],handlers:[]})}for(let s of t){let o=s.spec;if(o&&o.domEventHandlers)for(let a in o.domEventHandlers){let l=o.domEventHandlers[a];l&&i(a).handlers.push(xwe(s.value,l))}if(o&&o.domEventObservers)for(let a in o.domEventObservers){let l=o.domEventObservers[a];l&&i(a).observers.push(xwe(s.value,l))}}for(let s in Cf)i(s).handlers.push(Cf[s]);for(let s in mp)i(s).observers.push(mp[s]);return n}(n),s=this.handlers,o=this.view.contentDOM;for(let a in i)if("scroll"!=a){let l=!i[a].handlers.length,c=s[a];c&&l!=!c.handlers.length&&(o.removeEventListener(a,this.handleEvent),c=null),c||o.addEventListener(a,this.handleEvent,{passive:l})}for(let a in s)"scroll"!=a&&!i[a]&&o.removeEventListener(a,this.handleEvent);this.handlers=i}keydown(n){if(this.lastKeyCode=n.keyCode,this.lastKeyTime=Date.now(),9==n.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=n.keyCode&&Cwe.indexOf(n.keyCode)<0&&(this.tabFocusMode=-1),jn.android&&jn.chrome&&!n.synthetic&&(13==n.keyCode||8==n.keyCode))return this.view.observer.delayAndroidKey(n.key,n.keyCode),!0;let i;return!jn.ios||n.synthetic||n.altKey||n.metaKey||!((i=wwe.find(s=>s.keyCode==n.keyCode))&&!n.ctrlKey||mbt.indexOf(n.key)>-1&&n.ctrlKey&&!n.shiftKey)?(229!=n.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=i||n,setTimeout(()=>this.flushIOSKey(),250),!0)}flushIOSKey(n){let i=this.pendingIOSKey;return!(!i||"Enter"==i.key&&n&&n.from<n.to&&/^\S+$/.test(n.insert.toString()))&&(this.pendingIOSKey=void 0,nw(this.view.contentDOM,i.key,i.keyCode,i instanceof KeyboardEvent?i:void 0))}ignoreDuringComposition(n){return!!/^key/.test(n.type)&&(this.composing>0||!!(jn.safari&&!jn.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(n){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=n}update(n){this.view.observer.update(n),this.mouseSelection&&this.mouseSelection.update(n),this.draggedContent&&n.docChanged&&(this.draggedContent=this.draggedContent.map(n.changes)),n.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function xwe(t,n){return(i,s)=>{try{return n.call(t,s,i)}catch(o){Kc(i.state,o)}}}const wwe=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],mbt="dthko",Cwe=[16,17,18,20,91,92,224,225];function d9(t){return.7*Math.max(0,t)+8}class ybt{constructor(n,i,s,o){this.view=n,this.startEvent=i,this.style=s,this.mustSelect=o,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=i,this.scrollParents=function Tvt(t){let i,s,n=t.ownerDocument;for(let o=t.parentNode;o&&!(o==n.body||i&&s);)if(1==o.nodeType)!s&&o.scrollHeight>o.clientHeight&&(s=o),!i&&o.scrollWidth>o.clientWidth&&(i=o),o=o.assignedSlot||o.parentNode;else{if(11!=o.nodeType)break;o=o.host}return{x:i,y:s}}(n.contentDOM),this.atoms=n.state.facet(dY).map(l=>l(n));let a=n.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=i.shiftKey,this.multiple=n.state.facet(Wc.allowMultipleSelections)&&function vbt(t,n){let i=t.state.facet(Q3e);return i.length?i[0](n):jn.mac?n.metaKey:n.ctrlKey}(n,i),this.dragging=!(!function _bt(t,n){let{main:i}=t.state.selection;if(i.empty)return!1;let s=UO(t.root);if(!s||0==s.rangeCount)return!0;let o=s.getRangeAt(0).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(l.left<=n.clientX&&l.right>=n.clientX&&l.top<=n.clientY&&l.bottom>=n.clientY)return!0}return!1}(n,i)||1!=Iwe(i))&&null}start(n){!1===this.dragging&&this.select(n)}move(n){if(0==n.buttons)return this.destroy();if(this.dragging||null==this.dragging&&function gbt(t,n){return Math.max(Math.abs(t.clientX-n.clientX),Math.abs(t.clientY-n.clientY))}(this.startEvent,n)<10)return;this.select(this.lastEvent=n);let i=0,s=0,o=0,a=0,l=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:o,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:c}=this.scrollParents.y.getBoundingClientRect());let u=pY(this.view);n.clientX-u.left<=o+6?i=-d9(o-n.clientX):n.clientX+u.right>=l-6&&(i=d9(n.clientX-l)),n.clientY-u.top<=a+6?s=-d9(a-n.clientY):n.clientY+u.bottom>=c-6&&(s=d9(n.clientY-c)),this.setScrollSpeed(i,s)}up(n){null==this.dragging&&this.select(this.lastEvent),this.dragging||n.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let n=this.view.contentDOM.ownerDocument;n.removeEventListener("mousemove",this.move),n.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(n,i){this.scrollSpeed={x:n,y:i},n||i?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:n,y:i}=this.scrollSpeed;n&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=n,n=0),i&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=i,i=0),(n||i)&&this.view.win.scrollBy(n,i),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(n){let i=null;for(let s=0;s<n.ranges.length;s++){let o=n.ranges[s],a=null;if(o.empty){let l=c9(this.atoms,o.from,0);l!=o.from&&(a=Rt.cursor(l,-1))}else{let l=c9(this.atoms,o.from,-1),c=c9(this.atoms,o.to,1);(l!=o.from||c!=o.to)&&(a=Rt.range(o.from==o.anchor?l:c,o.from==o.head?l:c))}a&&(i||(i=n.ranges.slice()),i[s]=a)}return i?Rt.create(i,n.mainIndex):n}select(n){let{view:i}=this,s=this.skipAtoms(this.style.get(n,this.extend,this.multiple));(this.mustSelect||!s.eq(i.state.selection,!1===this.dragging))&&this.view.dispatch({selection:s,userEvent:"select.pointer"}),this.mustSelect=!1}update(n){n.transactions.some(i=>i.isUserEvent("input.type"))?this.destroy():this.style.update(n)&&setTimeout(()=>this.select(this.lastEvent),20)}}const Cf=Object.create(null),mp=Object.create(null),Swe=jn.ie&&jn.ie_version<15||jn.ios&&jn.webkit_version<604;function p9(t,n,i){for(let s of t.facet(n))i=s(i,t);return i}function Owe(t,n){n=p9(t.state,lY,n);let s,{state:i}=t,o=1,a=i.toText(n),l=a.lines==i.selection.ranges.length;if(null!=vY&&i.selection.ranges.every(u=>u.empty)&&vY==a.toString()){let u=-1;s=i.changeByRange(d=>{let p=i.doc.lineAt(d.from);if(p.from==u)return{range:d};u=p.from;let f=i.toText((l?a.line(o++).text:n)+i.lineBreak);return{changes:{from:p.from,insert:f},range:Rt.cursor(d.from+f.length)}})}else s=l?i.changeByRange(u=>{let d=a.line(o++);return{changes:{from:u.from,to:u.to,insert:d.text},range:Rt.cursor(u.from+d.length)}}):i.replaceSelection(a);t.dispatch(s,{userEvent:"input.paste",scrollIntoView:!0})}function Twe(t,n,i,s){if(1==s)return Rt.cursor(n,i);if(2==s)return function Zvt(t,n,i=1){let s=t.charCategorizer(n),o=t.doc.lineAt(n),a=n-o.from;if(0==o.length)return Rt.cursor(n);0==a?i=1:a==o.length&&(i=-1);let l=a,c=a;i<0?l=Nl(o.text,a,!1):c=Nl(o.text,a);let u=s(o.text.slice(l,c));for(;l>0;){let d=Nl(o.text,l,!1);if(s(o.text.slice(d,l))!=u)break;l=d}for(;c<o.length;){let d=Nl(o.text,c);if(s(o.text.slice(c,d))!=u)break;c=d}return Rt.range(l+o.from,c+o.from)}(t.state,n,i);{let o=Pa.find(t.docView,n),a=t.state.doc.lineAt(o?o.posAtEnd:n),c=o?o.posAtEnd:a.to;return c<t.state.doc.length&&c==a.to&&c++,Rt.range(o?o.posAtStart:a.from,c)}}mp.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft},Cf.keydown=(t,n)=>(t.inputState.setSelectionOrigin("select"),27==n.keyCode&&0!=t.inputState.tabFocusMode&&(t.inputState.tabFocusMode=Date.now()+2e3),!1),mp.touchstart=(t,n)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},mp.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},Cf.mousedown=(t,n)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let i=null;for(let s of t.state.facet(J3e))if(i=s(t,n),i)break;if(!i&&0==n.button&&(i=function Sbt(t,n){let i=Dwe(t,n),s=Iwe(n),o=t.state.selection;return{update(a){a.docChanged&&(i.pos=a.changes.mapPos(i.pos),o=o.map(a.changes))},get(a,l,c){let d,u=Dwe(t,a),p=Twe(t,u.pos,u.bias,s);if(i.pos!=u.pos&&!l){let f=Twe(t,i.pos,i.bias,s),h=Math.min(f.from,p.from),m=Math.max(f.to,p.to);p=h<p.from?Rt.range(h,m):Rt.range(m,h)}return l?o.replaceRange(o.main.extend(p.from,p.to)):c&&1==s&&o.ranges.length>1&&(d=function Obt(t,n){for(let i=0;i<t.ranges.length;i++){let{from:s,to:o}=t.ranges[i];if(s<=n&&o>=n)return Rt.create(t.ranges.slice(0,i).concat(t.ranges.slice(i+1)),t.mainIndex==i?0:t.mainIndex-(t.mainIndex>i?1:0))}return null}(o,u.pos))?d:c?o.addRange(p):Rt.create([p])}}}(t,n)),i){let s=!t.hasFocus;t.inputState.startMouseSelection(new ybt(t,n,i,s)),s&&t.observer.ignore(()=>{w3e(t.contentDOM);let a=t.root.activeElement;a&&!a.contains(t.contentDOM)&&a.blur()});let o=t.inputState.mouseSelection;if(o)return o.start(n),!1===o.dragging}return!1};let Pwe=(t,n,i)=>n>=i.top&&n<=i.bottom&&t>=i.left&&t<=i.right;function wbt(t,n,i,s){let o=Pa.find(t.docView,n);if(!o)return 1;let a=n-o.posAtStart;if(0==a)return 1;if(a==o.length)return-1;let l=o.coordsAt(a,-1);if(l&&Pwe(i,s,l))return-1;let c=o.coordsAt(a,1);return c&&Pwe(i,s,c)?1:l&&l.bottom>=s?-1:1}function Dwe(t,n){let i=t.posAtCoords({x:n.clientX,y:n.clientY},!1);return{pos:i,bias:wbt(t,i,n.clientX,n.clientY)}}const Cbt=jn.ie&&jn.ie_version<=11;let kwe=null,Mwe=0,Awe=0;function Iwe(t){if(!Cbt)return t.detail;let n=kwe,i=Awe;return kwe=t,Awe=Date.now(),Mwe=!n||i>Date.now()-400&&Math.abs(n.clientX-t.clientX)<2&&Math.abs(n.clientY-t.clientY)<2?(Mwe+1)%3:1}function Rwe(t,n,i,s){if(!(i=p9(t.state,lY,i)))return;let o=t.posAtCoords({x:n.clientX,y:n.clientY},!1),{draggedContent:a}=t.inputState,l=s&&a&&function bbt(t,n){let i=t.state.facet(Z3e);return i.length?i[0](n):jn.mac?!n.altKey:!n.ctrlKey}(t,n)?{from:a.from,to:a.to}:null,c={from:o,insert:i},u=t.state.changes(l?[l,c]:c);t.focus(),t.dispatch({changes:u,selection:{anchor:u.mapPos(o,-1),head:u.mapPos(o,1)},userEvent:l?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Cf.dragstart=(t,n)=>{let{selection:{main:i}}=t.state;if(n.target.draggable){let o=t.docView.nearest(n.target);if(o&&o.isWidget){let a=o.posAtStart,l=a+o.length;(a>=i.to||l<=i.from)&&(i=Rt.range(a,l))}}let{inputState:s}=t;return s.mouseSelection&&(s.mouseSelection.dragging=!0),s.draggedContent=i,n.dataTransfer&&(n.dataTransfer.setData("Text",p9(t.state,cY,t.state.sliceDoc(i.from,i.to))),n.dataTransfer.effectAllowed="copyMove"),!1},Cf.dragend=t=>(t.inputState.draggedContent=null,!1),Cf.drop=(t,n)=>{if(!n.dataTransfer)return!1;if(t.state.readOnly)return!0;let i=n.dataTransfer.files;if(i&&i.length){let s=Array(i.length),o=0,a=()=>{++o==i.length&&Rwe(t,n,s.filter(l=>null!=l).join(t.state.lineBreak),!1)};for(let l=0;l<i.length;l++){let c=new FileReader;c.onerror=a,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(s[l]=c.result),a()},c.readAsText(i[l])}return!0}{let s=n.dataTransfer.getData("Text");if(s)return Rwe(t,n,s,!0),!0}return!1},Cf.paste=(t,n)=>{if(t.state.readOnly)return!0;t.observer.flush();let i=Swe?null:n.clipboardData;return i?(Owe(t,i.getData("text/plain")||i.getData("text/uri-list")),!0):(function xbt(t){let n=t.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout(()=>{t.focus(),i.remove(),Owe(t,i.value)},50)}(t),!1)};let vY=null;Cf.copy=Cf.cut=(t,n)=>{let{text:i,ranges:s,linewise:o}=function Pbt(t){let n=[],i=[],s=!1;for(let o of t.selection.ranges)o.empty||(n.push(t.sliceDoc(o.from,o.to)),i.push(o));if(!n.length){let o=-1;for(let{from:a}of t.selection.ranges){let l=t.doc.lineAt(a);l.number>o&&(n.push(l.text),i.push({from:l.from,to:Math.min(t.doc.length,l.to+1)})),o=l.number}s=!0}return{text:p9(t,cY,n.join(t.lineBreak)),ranges:i,linewise:s}}(t.state);if(!i&&!o)return!1;vY=o?i:null,"cut"==n.type&&!t.state.readOnly&&t.dispatch({changes:s,scrollIntoView:!0,userEvent:"delete.cut"});let a=Swe?null:n.clipboardData;return a?(a.clearData(),a.setData("text/plain",i),!0):(function Tbt(t,n){let i=t.dom.parentNode;if(!i)return;let s=i.appendChild(document.createElement("textarea"));s.style.cssText="position: fixed; left: -10000px; top: 10px",s.value=n,s.focus(),s.selectionEnd=n.length,s.selectionStart=0,setTimeout(()=>{s.remove(),t.focus()},50)}(t,i),!1)};const Nwe=Bm.define();function Lwe(t,n){let i=[];for(let s of t.facet(nwe)){let o=s(t,n);o&&i.push(o)}return i?t.update({effects:i,annotations:Nwe.of(!0)}):null}function Fwe(t){setTimeout(()=>{let n=t.hasFocus;if(n!=t.inputState.notifiedFocused){let i=Lwe(t.state,n);i?t.dispatch(i):t.update([])}},10)}mp.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),Fwe(t)},mp.blur=t=>{t.observer.clearSelectionRange(),Fwe(t)},mp.compositionstart=mp.compositionupdate=t=>{t.observer.editContext||(null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))},mp.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,jn.chrome&&jn.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))},mp.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},Cf.beforeinput=(t,n)=>{var i,s;if("insertReplacementText"==n.inputType&&t.observer.editContext){let a=null===(i=n.dataTransfer)||void 0===i?void 0:i.getData("text/plain"),l=n.getTargetRanges();if(a&&l.length){let c=l[0],u=t.posAtDOM(c.startContainer,c.startOffset),d=t.posAtDOM(c.endContainer,c.endOffset);return yY(t,{from:u,to:d,insert:t.state.toText(a)},null),!0}}let o;if(jn.chrome&&jn.android&&(o=wwe.find(a=>a.inputType==n.inputType))&&(t.observer.delayAndroidKey(o.key,o.keyCode),"Backspace"==o.key||"Delete"==o.key)){let a=(null===(s=window.visualViewport)||void 0===s?void 0:s.height)||0;setTimeout(()=>{var l;((null===(l=window.visualViewport)||void 0===l?void 0:l.height)||0)>a+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return jn.ios&&"deleteContentForward"==n.inputType&&t.observer.flushSoon(),jn.safari&&"insertText"==n.inputType&&t.inputState.composing>=0&&setTimeout(()=>mp.compositionend(t,n),20),!1};const Bwe=new Set,$we=["pre-wrap","normal","pre-line","break-spaces"];let w_=!1;function bY(){w_=!1}class Vwe{constructor(n){this.lineWrapping=n,this.doc=Vi.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(n,i){let s=this.doc.lineAt(i).number-this.doc.lineAt(n).number+1;return this.lineWrapping&&(s+=Math.max(0,Math.ceil((i-n-s*this.lineLength*.5)/this.lineLength))),this.lineHeight*s}heightForLine(n){return this.lineWrapping?(1+Math.max(0,Math.ceil((n-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(n){return this.doc=n,this}mustRefreshForWrapping(n){return $we.indexOf(n)>-1!=this.lineWrapping}mustRefreshForHeights(n){let i=!1;for(let s=0;s<n.length;s++){let o=n[s];o<0?s++:this.heightSamples[Math.floor(10*o)]||(i=!0,this.heightSamples[Math.floor(10*o)]=!0)}return i}refresh(n,i,s,o,a,l){let c=$we.indexOf(n)>-1,u=Math.round(i)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=i,this.charWidth=s,this.textHeight=o,this.lineLength=a,u){this.heightSamples={};for(let d=0;d<l.length;d++){let p=l[d];p<0?d++:this.heightSamples[Math.floor(10*p)]=!0}}return u}}class jwe{constructor(n,i){this.from=n,this.heights=i,this.index=0}get more(){return this.index<this.heights.length}}class Uh{constructor(n,i,s,o,a){this.from=n,this.length=i,this.top=s,this.height=o,this._content=a}get type(){return"number"==typeof this._content?Gc.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof yy?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(n){let i=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(n._content)?n._content:[n]);return new Uh(this.from,this.length+n.length,this.top,this.height+n.height,i)}}var Ys=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Ys||(Ys={}));const f9=.001;class hc{constructor(n,i,s=2){this.length=n,this.height=i,this.flags=s}get outdated(){return(2&this.flags)>0}set outdated(n){this.flags=(n?2:0)|-3&this.flags}setHeight(n){this.height!=n&&(Math.abs(this.height-n)>f9&&(w_=!0),this.height=n)}replace(n,i,s){return hc.of(s)}decomposeLeft(n,i){i.push(this)}decomposeRight(n,i){i.push(this)}applyChanges(n,i,s,o){let a=this,l=s.doc;for(let c=o.length-1;c>=0;c--){let{fromA:u,toA:d,fromB:p,toB:f}=o[c],h=a.lineAt(u,Ys.ByPosNoHeight,s.setDoc(i),0,0),m=h.to>=d?h:a.lineAt(d,Ys.ByPosNoHeight,s,0,0);for(f+=m.to-d,d=m.to;c>0&&h.from<=o[c-1].toA;)u=o[c-1].fromA,p=o[c-1].fromB,c--,u<h.from&&(h=a.lineAt(u,Ys.ByPosNoHeight,s,0,0));p+=h.from-u,u=h.from;let y=_Y.build(s.setDoc(l),n,p,f);a=h9(a,a.replace(u,d,y))}return a.updateHeight(s,0)}static empty(){return new gd(0,0)}static of(n){if(1==n.length)return n[0];let i=0,s=n.length,o=0,a=0;for(;;)if(i==s)if(o>2*a){let c=n[i-1];c.break?n.splice(--i,1,c.left,null,c.right):n.splice(--i,1,c.left,c.right),s+=1+c.break,o-=c.size}else{if(!(a>2*o))break;{let c=n[s];c.break?n.splice(s,1,c.left,null,c.right):n.splice(s,1,c.left,c.right),s+=2+c.break,a-=c.size}}else if(o<a){let c=n[i++];c&&(o+=c.size)}else{let c=n[--s];c&&(a+=c.size)}let l=0;return null==n[i-1]?(l=1,i--):null==n[i]&&(l=1,s++),new kbt(hc.of(n.slice(0,i)),l,hc.of(n.slice(s)))}}function h9(t,n){return t==n?t:(t.constructor!=n.constructor&&(w_=!0),n)}hc.prototype.size=1;class zwe extends hc{constructor(n,i,s){super(n,i),this.deco=s}blockAt(n,i,s,o){return new Uh(o,this.length,s,this.height,this.deco||0)}lineAt(n,i,s,o,a){return this.blockAt(0,s,o,a)}forEachLine(n,i,s,o,a,l){n<=a+this.length&&i>=a&&l(this.blockAt(0,s,o,a))}updateHeight(n,i=0,s=!1,o){return o&&o.from<=i&&o.more&&this.setHeight(o.heights[o.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class gd extends zwe{constructor(n,i){super(n,i,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(n,i,s,o){return new Uh(o,this.length,s,this.height,this.breaks)}replace(n,i,s){let o=s[0];return 1==s.length&&(o instanceof gd||o instanceof Bl&&4&o.flags)&&Math.abs(this.length-o.length)<10?(o instanceof Bl?o=new gd(o.length,this.height):o.height=this.height,this.outdated||(o.outdated=!1),o):hc.of(s)}updateHeight(n,i=0,s=!1,o){return o&&o.from<=i&&o.more?this.setHeight(o.heights[o.index++]):(s||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,n.heightForLine(this.length-this.collapsed))+this.breaks*n.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Bl extends hc{constructor(n){super(n,0)}heightMetrics(n,i){let l,s=n.doc.lineAt(i).number,o=n.doc.lineAt(i+this.length).number,a=o-s+1,c=0;if(n.lineWrapping){let u=Math.min(this.height,n.lineHeight*a);l=u/a,this.length>a+1&&(c=(this.height-u)/(this.length-a-1))}else l=this.height/a;return{firstLine:s,lastLine:o,perLine:l,perChar:c}}blockAt(n,i,s,o){let{firstLine:a,lastLine:l,perLine:c,perChar:u}=this.heightMetrics(i,o);if(i.lineWrapping){let d=o+(n<i.lineHeight?0:Math.round(Math.max(0,Math.min(1,(n-s)/this.height))*this.length)),p=i.doc.lineAt(d),f=c+p.length*u,h=Math.max(s,n-f/2);return new Uh(p.from,p.length,h,f,0)}{let d=Math.max(0,Math.min(l-a,Math.floor((n-s)/c))),{from:p,length:f}=i.doc.line(a+d);return new Uh(p,f,s+c*d,c,0)}}lineAt(n,i,s,o,a){if(i==Ys.ByHeight)return this.blockAt(n,s,o,a);if(i==Ys.ByPosNoHeight){let{from:m,to:y}=s.doc.lineAt(n);return new Uh(m,y-m,0,0,0)}let{firstLine:l,perLine:c,perChar:u}=this.heightMetrics(s,a),d=s.doc.lineAt(n),p=c+d.length*u,f=d.number-l;return new Uh(d.from,d.length,Math.max(o,Math.min(o+c*f+u*(d.from-a-f),o+this.height-p)),p,0)}forEachLine(n,i,s,o,a,l){n=Math.max(n,a),i=Math.min(i,a+this.length);let{firstLine:c,perLine:u,perChar:d}=this.heightMetrics(s,a);for(let p=n,f=o;p<=i;){let h=s.doc.lineAt(p);if(p==n){let y=h.number-c;f+=u*y+d*(n-a-y)}let m=u+d*h.length;l(new Uh(h.from,h.length,f,m,0)),f+=m,p=h.to+1}}replace(n,i,s){let o=this.length-i;if(o>0){let a=s[s.length-1];a instanceof Bl?s[s.length-1]=new Bl(a.length+o):s.push(null,new Bl(o-1))}if(n>0){let a=s[0];a instanceof Bl?s[0]=new Bl(n+a.length):s.unshift(new Bl(n-1),null)}return hc.of(s)}decomposeLeft(n,i){i.push(new Bl(n-1),null)}decomposeRight(n,i){i.push(null,new Bl(this.length-n-1))}updateHeight(n,i=0,s=!1,o){let a=i+this.length;if(o&&o.from<=i+this.length&&o.more){let l=[],c=Math.max(i,o.from),u=-1;for(o.from>i&&l.push(new Bl(o.from-i-1).updateHeight(n,i));c<=a&&o.more;){let p=n.doc.lineAt(c).length;l.length&&l.push(null);let f=o.heights[o.index++];-1==u?u=f:Math.abs(f-u)>=f9&&(u=-2);let h=new gd(p,f);h.outdated=!1,l.push(h),c+=p+1}c<=a&&l.push(null,new Bl(a-c).updateHeight(n,c));let d=hc.of(l);return(u<0||Math.abs(d.height-this.height)>=f9||Math.abs(u-this.heightMetrics(n,i).perLine)>=f9)&&(w_=!0),h9(this,d)}return(s||this.outdated)&&(this.setHeight(n.heightForGap(i,i+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class kbt extends hc{constructor(n,i,s){super(n.length+i+s.length,n.height+s.height,i|(n.outdated||s.outdated?2:0)),this.left=n,this.right=s,this.size=n.size+s.size}get break(){return 1&this.flags}blockAt(n,i,s,o){let a=s+this.left.height;return n<a?this.left.blockAt(n,i,s,o):this.right.blockAt(n,i,a,o+this.left.length+this.break)}lineAt(n,i,s,o,a){let l=o+this.left.height,c=a+this.left.length+this.break,u=i==Ys.ByHeight?n<l:n<c,d=u?this.left.lineAt(n,i,s,o,a):this.right.lineAt(n,i,s,l,c);if(this.break||(u?d.to<c:d.from>c))return d;let p=i==Ys.ByPosNoHeight?Ys.ByPosNoHeight:Ys.ByPos;return u?d.join(this.right.lineAt(c,p,s,l,c)):this.left.lineAt(c,p,s,o,a).join(d)}forEachLine(n,i,s,o,a,l){let c=o+this.left.height,u=a+this.left.length+this.break;if(this.break)n<u&&this.left.forEachLine(n,i,s,o,a,l),i>=u&&this.right.forEachLine(n,i,s,c,u,l);else{let d=this.lineAt(u,Ys.ByPos,s,o,a);n<d.from&&this.left.forEachLine(n,d.from-1,s,o,a,l),d.to>=n&&d.from<=i&&l(d),i>d.to&&this.right.forEachLine(d.to+1,i,s,c,u,l)}}replace(n,i,s){let o=this.left.length+this.break;if(i<o)return this.balanced(this.left.replace(n,i,s),this.right);if(n>this.left.length)return this.balanced(this.left,this.right.replace(n-o,i-o,s));let a=[];n>0&&this.decomposeLeft(n,a);let l=a.length;for(let c of s)a.push(c);if(n>0&&Hwe(a,l-1),i<this.length){let c=a.length;this.decomposeRight(i,a),Hwe(a,c)}return hc.of(a)}decomposeLeft(n,i){let s=this.left.length;if(n<=s)return this.left.decomposeLeft(n,i);i.push(this.left),this.break&&(s++,n>=s&&i.push(null)),n>s&&this.right.decomposeLeft(n-s,i)}decomposeRight(n,i){let s=this.left.length,o=s+this.break;if(n>=o)return this.right.decomposeRight(n-o,i);n<s&&this.left.decomposeRight(n,i),this.break&&n<o&&i.push(null),i.push(this.right)}balanced(n,i){return n.size>2*i.size||i.size>2*n.size?hc.of(this.break?[n,null,i]:[n,i]):(this.left=h9(this.left,n),this.right=h9(this.right,i),this.setHeight(n.height+i.height),this.outdated=n.outdated||i.outdated,this.size=n.size+i.size,this.length=n.length+this.break+i.length,this)}updateHeight(n,i=0,s=!1,o){let{left:a,right:l}=this,c=i+a.length+this.break,u=null;return o&&o.from<=i+a.length&&o.more?u=a=a.updateHeight(n,i,s,o):a.updateHeight(n,i,s),o&&o.from<=c+l.length&&o.more?u=l=l.updateHeight(n,c,s,o):l.updateHeight(n,c,s),u?this.balanced(a,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Hwe(t,n){let i,s;null==t[n]&&(i=t[n-1])instanceof Bl&&(s=t[n+1])instanceof Bl&&t.splice(n-1,3,new Bl(i.length+1+s.length))}class _Y{constructor(n,i){this.pos=n,this.oracle=i,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=n}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(n,i){if(this.lineStart>-1){let s=Math.min(i,this.lineEnd),o=this.nodes[this.nodes.length-1];o instanceof gd?o.length+=s-this.pos:(s>this.pos||!this.isCovered)&&this.nodes.push(new gd(s-this.pos,-1)),this.writtenTo=s,i>s&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=i}point(n,i,s){if(n<i||s.heightRelevant){let o=s.widget?s.widget.estimatedHeight:0,a=s.widget?s.widget.lineBreaks:0;o<0&&(o=this.oracle.lineHeight);let l=i-n;s.block?this.addBlock(new zwe(l,o,s)):(l||a||o>=5)&&this.addLineDeco(o,a,l)}else i>n&&this.span(n,i);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:n,to:i}=this.oracle.doc.lineAt(this.pos);this.lineStart=n,this.lineEnd=i,this.writtenTo<n&&((this.writtenTo<n-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,n-1)),this.nodes.push(null)),this.pos>n&&this.nodes.push(new gd(this.pos-n,-1)),this.writtenTo=this.pos}blankContent(n,i){let s=new Bl(i-n);return this.oracle.doc.lineAt(n).to==i&&(s.flags|=4),s}ensureLine(){this.enterLine();let n=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(n instanceof gd)return n;let i=new gd(0,-1);return this.nodes.push(i),i}addBlock(n){this.enterLine();let i=n.deco;i&&i.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(n),this.writtenTo=this.pos=this.pos+n.length,i&&i.endSide>0&&(this.covering=n)}addLineDeco(n,i,s){let o=this.ensureLine();o.length+=s,o.collapsed+=s,o.widgetHeight=Math.max(o.widgetHeight,n),o.breaks+=i,this.writtenTo=this.pos=this.pos+s}finish(n){let i=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||i instanceof gd||this.isCovered?(this.writtenTo<this.pos||null==i)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new gd(0,-1));let s=n;for(let o of this.nodes)o instanceof gd&&o.updateHeight(this.oracle,s),s+=o?o.length:1;return this.nodes}static build(n,i,s,o){let a=new _Y(s,n);return _o.spans(i,s,o,a,0),a.finish(s)}}class Ibt{constructor(){this.changes=[]}compareRange(){}comparePoint(n,i,s,o){(n<i||s&&s.heightRelevant||o&&o.heightRelevant)&&i9(n,i,this.changes,5)}}function Rbt(t,n){let i=t.getBoundingClientRect(),s=t.ownerDocument,o=s.defaultView||window,a=Math.max(0,i.left),l=Math.min(o.innerWidth,i.right),c=Math.max(0,i.top),u=Math.min(o.innerHeight,i.bottom);for(let d=t.parentNode;d&&d!=s.body;)if(1==d.nodeType){let p=d,f=window.getComputedStyle(p);if((p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth)&&"visible"!=f.overflow){let h=p.getBoundingClientRect();a=Math.max(a,h.left),l=Math.min(l,h.right),c=Math.max(c,h.top),u=Math.min(d==t.parentNode?o.innerHeight:u,h.bottom)}d="absolute"==f.position||"fixed"==f.position?p.offsetParent:p.parentNode}else{if(11!=d.nodeType)break;d=d.host}return{left:a-i.left,right:Math.max(a,l)-i.left,top:c-(i.top+n),bottom:Math.max(c,u)-(i.top+n)}}function Lbt(t,n){let i=t.getBoundingClientRect();return{left:0,right:i.right-i.left,top:n,bottom:i.bottom-(i.top+n)}}class EY{constructor(n,i,s,o){this.from=n,this.to=i,this.size=s,this.displaySize=o}static same(n,i){if(n.length!=i.length)return!1;for(let s=0;s<n.length;s++){let o=n[s],a=i[s];if(o.from!=a.from||o.to!=a.to||o.size!=a.size)return!1}return!0}draw(n,i){return Xn.replace({widget:new Fbt(this.displaySize*(i?n.scaleY:n.scaleX),i)}).range(this.from,this.to)}}class Fbt extends zh{constructor(n,i){super(),this.size=n,this.vertical=i}eq(n){return n.size==this.size&&n.vertical==this.vertical}toDOM(){let n=document.createElement("div");return this.vertical?n.style.height=this.size+"px":(n.style.width=this.size+"px",n.style.height="2px",n.style.display="inline-block"),n}get estimatedHeight(){return this.vertical?this.size:-1}}class Uwe{constructor(n){this.state=n,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=qwe,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Is.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let i=n.facet(a9).some(s=>"function"!=typeof s&&"cm-lineWrapping"==s.class);this.heightOracle=new Vwe(i),this.stateDeco=n.facet(QO).filter(s=>"function"!=typeof s),this.heightMap=hc.empty().applyChanges(this.stateDeco,Vi.empty,this.heightOracle.setDoc(n.doc),[new md(0,0,0,n.doc.length)]);for(let s=0;s<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());s++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Xn.set(this.lineGaps.map(s=>s.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let n=[this.viewport],{main:i}=this.state.selection;for(let s=0;s<=1;s++){let o=s?i.head:i.anchor;if(!n.some(({from:a,to:l})=>o>=a&&o<=l)){let{from:a,to:l}=this.lineBlockAt(o);n.push(new m9(a,l))}}return this.viewports=n.sort((s,o)=>s.from-o.from),this.updateScaler()}updateScaler(){let n=this.scaler;return this.scaler=this.heightMap.height<=7e6?qwe:new xY(this.heightOracle,this.heightMap,this.viewports),n.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,n=>{this.viewportLines.push(eT(n,this.scaler))})}update(n,i=null){this.state=n.state;let s=this.stateDeco;this.stateDeco=this.state.facet(QO).filter(p=>"function"!=typeof p);let a=md.extendWithRanges(n.changedRanges,function Abt(t,n,i){let s=new Ibt;return _o.compare(t,n,i,s,0),s.changes}(s,this.stateDeco,n?n.changes:ja.empty(this.state.doc.length))),l=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);bY(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,n.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=l||w_)&&(n.flags|=2),c?(this.scrollAnchorPos=n.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let u=a.length?this.mapViewport(this.viewport,n.changes):this.viewport;(i&&(i.range.head<u.from||i.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,i));let d=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,n.flags|=this.updateForViewport(),(d||!n.changes.empty||2&n.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,n.changes))),n.flags|=this.computeVisibleRanges(n.changes),i&&(this.scrollTarget=i),!this.mustEnforceCursorAssoc&&n.selectionSet&&n.view.lineWrapping&&n.state.selection.main.empty&&n.state.selection.main.assoc&&!n.state.facet(iwe)&&(this.mustEnforceCursorAssoc=!0)}measure(n){let i=n.contentDOM,s=window.getComputedStyle(i),o=this.heightOracle,a=s.whiteSpace;this.defaultTextDirection="rtl"==s.direction?Is.RTL:Is.LTR;let l=this.heightOracle.mustRefreshForWrapping(a),c=i.getBoundingClientRect(),u=l||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let d=0,p=0;if(c.width&&c.height){let{scaleX:g,scaleY:x}=x3e(i,c);(g>.005&&Math.abs(this.scaleX-g)>.005||x>.005&&Math.abs(this.scaleY-x)>.005)&&(this.scaleX=g,this.scaleY=x,d|=16,l=u=!0)}let f=(parseInt(s.paddingTop)||0)*this.scaleY,h=(parseInt(s.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=h)&&(this.paddingTop=f,this.paddingBottom=h,d|=18),this.editorWidth!=n.scrollDOM.clientWidth&&(o.lineWrapping&&(u=!0),this.editorWidth=n.scrollDOM.clientWidth,d|=16);let m=n.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=m&&(this.scrollAnchorHeight=-1,this.scrollTop=m),this.scrolledToBottom=O3e(n.scrollDOM);let y=(this.printing?Lbt:Rbt)(i,this.paddingTop),E=y.top-this.pixelViewport.top,_=y.bottom-this.pixelViewport.bottom;this.pixelViewport=y;let S=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(S!=this.inView&&(this.inView=S,S&&(u=!0)),!this.inView&&!this.scrollTarget&&!function Nbt(t){let n=t.getBoundingClientRect(),i=t.ownerDocument.defaultView||window;return n.left<i.innerWidth&&n.right>0&&n.top<i.innerHeight&&n.bottom>0}(n.dom))return 0;let v=c.width;if((this.contentDOMWidth!=v||this.editorHeight!=n.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=n.scrollDOM.clientHeight,d|=16),u){let g=n.docView.measureVisibleLineHeights(this.viewport);if(o.mustRefreshForHeights(g)&&(l=!0),l||o.lineWrapping&&Math.abs(v-this.contentDOMWidth)>o.charWidth){let{lineHeight:x,charWidth:T,textHeight:I}=n.docView.measureTextSize();l=x>0&&o.refresh(a,x,T,I,v/T,g),l&&(n.docView.minWidth=0,d|=16)}E>0&&_>0?p=Math.max(E,_):E<0&&_<0&&(p=Math.min(E,_)),bY();for(let x of this.viewports){let T=x.from==this.viewport.from?g:n.docView.measureVisibleLineHeights(x);this.heightMap=(l?hc.empty().applyChanges(this.stateDeco,Vi.empty,this.heightOracle,[new md(0,0,0,n.state.doc.length)]):this.heightMap).updateHeight(o,0,l,new jwe(x.from,T))}w_&&(d|=2)}let w=!this.viewportIsAppropriate(this.viewport,p)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return w&&(2&d&&(d|=this.updateScaler()),this.viewport=this.getViewport(p,this.scrollTarget),d|=this.updateForViewport()),(2&d||w)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,n)),d|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,n.docView.enforceCursorAssoc()),d}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(n,i){let s=.5-Math.max(-.5,Math.min(.5,n/1e3/2)),o=this.heightMap,a=this.heightOracle,{visibleTop:l,visibleBottom:c}=this,u=new m9(o.lineAt(l-1e3*s,Ys.ByHeight,a,0,0).from,o.lineAt(c+1e3*(1-s),Ys.ByHeight,a,0,0).to);if(i){let{head:d}=i.range;if(d<u.from||d>u.to){let h,p=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=o.lineAt(d,Ys.ByPos,a,0,0);h="center"==i.y?(f.top+f.bottom)/2-p/2:"start"==i.y||"nearest"==i.y&&d<u.from?f.top:f.bottom-p,u=new m9(o.lineAt(h-500,Ys.ByHeight,a,0,0).from,o.lineAt(h+p+500,Ys.ByHeight,a,0,0).to)}}return u}mapViewport(n,i){let s=i.mapPos(n.from,-1),o=i.mapPos(n.to,1);return new m9(this.heightMap.lineAt(s,Ys.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(o,Ys.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:n,to:i},s=0){if(!this.inView)return!0;let{top:o}=this.heightMap.lineAt(n,Ys.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(i,Ys.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:c}=this;return(0==n||o<=l-Math.max(10,Math.min(-s,250)))&&(i==this.state.doc.length||a>=c+Math.max(10,Math.min(s,250)))&&o>l-2e3&&a<c+2e3}mapLineGaps(n,i){if(!n.length||i.empty)return n;let s=[];for(let o of n)i.touchesRange(o.from,o.to)||s.push(new EY(i.mapPos(o.from),i.mapPos(o.to),o.size,o.displaySize));return s}ensureLineGaps(n,i){let s=this.heightOracle.lineWrapping,o=s?1e4:2e3,a=o>>1,l=o<<1;if(this.defaultTextDirection!=Is.LTR&&!s)return[];let c=[],u=(p,f,h,m)=>{if(f-p<a)return;let y=this.state.selection.main,E=[y.from];y.empty||E.push(y.to);for(let S of E)if(S>p&&S<f)return u(p,S-10,h,m),void u(S+10,f,h,m);let _=function $bt(t,n){for(let i of t)if(n(i))return i}(n,S=>S.from>=h.from&&S.to<=h.to&&Math.abs(S.from-p)<a&&Math.abs(S.to-f)<a&&!E.some(v=>S.from<v&&S.to>v));if(!_){if(f<h.to&&i&&s&&i.visibleRanges.some(w=>w.from<=f&&w.to>=f)){let w=i.moveToLineBoundary(Rt.cursor(f),!1,!0).head;w>p&&(f=w)}let S=this.gapSize(h,p,f,m);_=new EY(p,f,S,s||S<2e6?S:2e6)}c.push(_)},d=p=>{if(p.length<l||p.type!=Gc.Text)return;let f=function Bbt(t,n,i){let s=[],o=t,a=0;return _o.spans(i,t,n,{span(){},point(l,c){l>o&&(s.push({from:o,to:l}),a+=l-o),o=c}},20),o<n&&(s.push({from:o,to:n}),a+=n-o),{total:a,ranges:s}}(p.from,p.to,this.stateDeco);if(f.total<l)return;let m,y,h=this.scrollTarget?this.scrollTarget.range.head:null;if(s){let _,S,E=o/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=h){let v=y9(f,h),w=((this.visibleBottom-this.visibleTop)/2+E)/p.height;_=v-w,S=v+w}else _=(this.visibleTop-p.top-E)/p.height,S=(this.visibleBottom-p.top+E)/p.height;m=g9(f,_),y=g9(f,S)}else{let E=f.total*this.heightOracle.charWidth,_=o*this.heightOracle.charWidth,S=0;if(E>2e6)for(let T of n)T.from>=p.from&&T.from<p.to&&T.size!=T.displaySize&&T.from*this.heightOracle.charWidth+S<this.pixelViewport.left&&(S=T.size-T.displaySize);let g,x,v=this.pixelViewport.left+S,w=this.pixelViewport.right+S;if(null!=h){let T=y9(f,h),I=((w-v)/2+_)/E;g=T-I,x=T+I}else g=(v-_)/E,x=(w+_)/E;m=g9(f,g),y=g9(f,x)}m>p.from&&u(p.from,m,p,f),y<p.to&&u(y,p.to,p,f)};for(let p of this.viewportLines)Array.isArray(p.type)?p.type.forEach(d):d(p);return c}gapSize(n,i,s,o){let a=y9(o,s)-y9(o,i);return this.heightOracle.lineWrapping?n.height*a:o.total*this.heightOracle.charWidth*a}updateLineGaps(n){EY.same(n,this.lineGaps)||(this.lineGaps=n,this.lineGapDeco=Xn.set(n.map(i=>i.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(n){let i=this.stateDeco;this.lineGaps.length&&(i=i.concat(this.lineGapDeco));let s=[];_o.spans(i,this.viewport.from,this.viewport.to,{span(a,l){s.push({from:a,to:l})},point(){}},20);let o=0;if(s.length!=this.visibleRanges.length)o=12;else for(let a=0;a<s.length&&!(8&o);a++){let l=this.visibleRanges[a],c=s[a];(l.from!=c.from||l.to!=c.to)&&(o|=4,n&&n.mapPos(l.from,-1)==c.from&&n.mapPos(l.to,1)==c.to||(o|=8))}return this.visibleRanges=s,o}lineBlockAt(n){return n>=this.viewport.from&&n<=this.viewport.to&&this.viewportLines.find(i=>i.from<=n&&i.to>=n)||eT(this.heightMap.lineAt(n,Ys.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(n){return n>=this.viewportLines[0].top&&n<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(i=>i.top<=n&&i.bottom>=n)||eT(this.heightMap.lineAt(this.scaler.fromDOM(n),Ys.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(n){let i=this.lineBlockAtHeight(n+8);return i.from>=this.viewport.from||this.viewportLines[0].top-n>200?i:this.viewportLines[0]}elementAtHeight(n){return eT(this.heightMap.blockAt(this.scaler.fromDOM(n),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class m9{constructor(n,i){this.from=n,this.to=i}}function g9({total:t,ranges:n},i){if(i<=0)return n[0].from;if(i>=1)return n[n.length-1].to;let s=Math.floor(t*i);for(let o=0;;o++){let{from:a,to:l}=n[o],c=l-a;if(s<=c)return a+s;s-=c}}function y9(t,n){let i=0;for(let{from:s,to:o}of t.ranges){if(n<=o){i+=n-s;break}i+=o-s}return i/t.total}const qwe={toDOM:t=>t,fromDOM:t=>t,scale:1,eq(t){return t==this}};class xY{constructor(n,i,s){let o=0,a=0,l=0;this.viewports=s.map(({from:c,to:u})=>{let d=i.lineAt(c,Ys.ByPos,n,0,0).top,p=i.lineAt(u,Ys.ByPos,n,0,0).bottom;return o+=p-d,{from:c,to:u,top:d,bottom:p,domTop:0,domBottom:0}}),this.scale=(7e6-o)/(i.height-o);for(let c of this.viewports)c.domTop=l+(c.top-a)*this.scale,l=c.domBottom=c.domTop+(c.bottom-c.top),a=c.bottom}toDOM(n){for(let i=0,s=0,o=0;;i++){let a=i<this.viewports.length?this.viewports[i]:null;if(!a||n<a.top)return o+(n-s)*this.scale;if(n<=a.bottom)return a.domTop+(n-a.top);s=a.bottom,o=a.domBottom}}fromDOM(n){for(let i=0,s=0,o=0;;i++){let a=i<this.viewports.length?this.viewports[i]:null;if(!a||n<a.domTop)return s+(n-o)/this.scale;if(n<=a.domBottom)return a.top+(n-a.domTop);s=a.bottom,o=a.domBottom}}eq(n){return n instanceof xY&&this.scale==n.scale&&this.viewports.length==n.viewports.length&&this.viewports.every((i,s)=>i.from==n.viewports[s].from&&i.to==n.viewports[s].to)}}function eT(t,n){if(1==n.scale)return t;let i=n.toDOM(t.top),s=n.toDOM(t.bottom);return new Uh(t.from,t.length,i,s-i,Array.isArray(t._content)?t._content.map(o=>eT(o,n)):t._content)}const v9=xn.define({combine:t=>t.join(" ")}),wY=xn.define({combine:t=>t.indexOf(!0)>-1}),CY=hy.newName(),Wwe=hy.newName(),Gwe=hy.newName(),Kwe={"&light":"."+Wwe,"&dark":"."+Gwe};function SY(t,n,i){return new hy(n,{finish:s=>/&/.test(s)?s.replace(/&\w*/,o=>{if("&"==o)return t;if(!i||!i[o])throw new RangeError(`Unsupported selector: ${o}`);return i[o]}):t+" "+s})}const Vbt=SY("."+CY,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Kwe),jbt={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},OY=jn.ie&&jn.ie_version<=11;class zbt{constructor(n){this.view=n,this.active=!1,this.editContext=null,this.selectionRange=new Pvt,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=n.contentDOM,this.observer=new MutationObserver(i=>{for(let s of i)this.queue.push(s);(jn.ie&&jn.ie_version<=11||jn.ios&&n.composing)&&i.some(s=>"childList"==s.type&&s.removedNodes.length||"characterData"==s.type&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&!1!==n.constructor.EDIT_CONTEXT&&!(jn.chrome&&jn.chrome_version<126)&&(this.editContext=new Ubt(n),n.state.facet(jm)&&(n.contentDOM.editContext=this.editContext.editContext)),OY&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver(()=>{var i;(null===(i=this.view.docView)||void 0===i?void 0:i.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(n.scrollDOM)),this.addWindowListeners(this.win=n.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(i=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),i.length>0&&i[i.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(i=>{i.length>0&&i[i.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(n){this.view.inputState.runHandlers("scroll",n),this.intersecting&&this.view.measure()}onScroll(n){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(n)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(n){("change"==n.type||!n.type)&&!n.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(n){if(this.gapIntersection&&(n.length!=this.gaps.length||this.gaps.some((i,s)=>i!=n[s]))){this.gapIntersection.disconnect();for(let i of n)this.gapIntersection.observe(i);this.gaps=n}}onSelectionChange(n){let i=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:s}=this,o=this.selectionRange;if(s.state.facet(jm)?s.root.activeElement!=this.dom:!e9(this.dom,o))return;let a=o.anchorNode&&s.docView.nearest(o.anchorNode);a&&a.ignoreEvent(n)?i||(this.selectionChanged=!1):(jn.ie&&jn.ie_version<=11||jn.android&&jn.chrome)&&!s.state.selection.main.empty&&o.focusNode&&qO(o.focusNode,o.focusOffset,o.anchorNode,o.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:n}=this,i=UO(n.root);if(!i)return!1;let s=jn.safari&&11==n.root.nodeType&&n.root.activeElement==this.dom&&function Hbt(t,n){if(n.getComposedRanges){let o=n.getComposedRanges(t.root)[0];if(o)return Xwe(t,o)}let i=null;function s(o){o.preventDefault(),o.stopImmediatePropagation(),i=o.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",s,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",s,!0),i?Xwe(t,i):null}(this.view,i)||i;if(!s||this.selectionRange.eq(s))return!1;let o=e9(this.dom,s);return o&&!this.selectionChanged&&n.inputState.lastFocusTime>Date.now()-200&&n.inputState.lastTouchTime<Date.now()-300&&function kvt(t,n){let i=n.focusNode,s=n.focusOffset;if(!i||n.anchorNode!=i||n.anchorOffset!=s)return!1;for(s=Math.min(s,jh(i));;)if(s){if(1!=i.nodeType)return!1;let o=i.childNodes[s-1];"false"==o.contentEditable?s--:(i=o,s=jh(i))}else{if(i==t)return!0;s=__(i),i=i.parentNode}}(this.dom,s)?(this.view.inputState.lastFocusTime=0,n.docView.updateSelection(),!1):(this.selectionRange.setRange(s),o&&(this.selectionChanged=!0),!0)}setSelectionRange(n,i){this.selectionRange.set(n.node,n.offset,i.node,i.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let n=0,i=null;for(let s=this.dom;s;)if(1==s.nodeType)!i&&n<this.scrollTargets.length&&this.scrollTargets[n]==s?n++:i||(i=this.scrollTargets.slice(0,n)),i&&i.push(s),s=s.assignedSlot||s.parentNode;else{if(11!=s.nodeType)break;s=s.host}if(n<this.scrollTargets.length&&!i&&(i=this.scrollTargets.slice(0,n)),i){for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);for(let s of this.scrollTargets=i)s.addEventListener("scroll",this.onScroll)}}ignore(n){if(!this.active)return n();try{return this.stop(),n()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,jbt),OY&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),OY&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(n,i){var s;this.delayedAndroidKey||(this.flushingAndroidKey=this.view.win.requestAnimationFrame(()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&nw(this.dom,a.key,a.keyCode))})),(!this.delayedAndroidKey||"Enter"==n)&&(this.delayedAndroidKey={key:n,keyCode:i,force:this.lastChange<Date.now()-50||!(null===(s=this.delayedAndroidKey)||void 0===s||!s.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let n of this.observer.takeRecords())this.queue.push(n);return this.queue}processRecords(){let n=this.pendingRecords();n.length&&(this.queue=[]);let i=-1,s=-1,o=!1;for(let a of n){let l=this.readMutation(a);l&&(l.typeOver&&(o=!0),-1==i?({from:i,to:s}=l):(i=Math.min(l.from,i),s=Math.max(l.to,s)))}return{from:i,to:s,typeOver:o}}readChange(){let{from:n,to:i,typeOver:s}=this.processRecords(),o=this.selectionChanged&&e9(this.dom,this.selectionRange);if(n<0&&!o)return null;n>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new lbt(this.view,n,i,s);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(n=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;n&&this.readSelectionRange();let i=this.readChange();if(!i)return this.view.requestMeasure(),!1;let s=this.view.state,o=Ewe(this.view,i);return this.view.state==s&&(i.domChanged||i.newSel&&!i.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),o}readMutation(n){let i=this.view.docView.nearest(n.target);if(!i||i.ignoreMutation(n))return null;if(i.markDirty("attributes"==n.type),"attributes"==n.type&&(i.flags|=4),"childList"==n.type){let s=Ywe(i,n.previousSibling||n.target.previousSibling,-1),o=Ywe(i,n.nextSibling||n.target.nextSibling,1);return{from:s?i.posAfter(s):i.posAtStart,to:o?i.posBefore(o):i.posAtEnd,typeOver:!1}}return"characterData"==n.type?{from:i.posAtStart,to:i.posAtEnd,typeOver:n.target.nodeValue==n.oldValue}:null}setWindow(n){n!=this.win&&(this.removeWindowListeners(this.win),this.win=n,this.addWindowListeners(this.win))}addWindowListeners(n){n.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):n.addEventListener("beforeprint",this.onPrint),n.addEventListener("scroll",this.onScroll),n.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(n){n.removeEventListener("scroll",this.onScroll),n.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):n.removeEventListener("beforeprint",this.onPrint),n.document.removeEventListener("selectionchange",this.onSelectionChange)}update(n){this.editContext&&(this.editContext.update(n),n.startState.facet(jm)!=n.state.facet(jm)&&(n.view.contentDOM.editContext=n.state.facet(jm)?this.editContext.editContext:null))}destroy(){var n,i,s;this.stop(),null===(n=this.intersection)||void 0===n||n.disconnect(),null===(i=this.gapIntersection)||void 0===i||i.disconnect(),null===(s=this.resizeScroll)||void 0===s||s.disconnect();for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Ywe(t,n,i){for(;n;){let s=As.get(n);if(s&&s.parent==t)return s;let o=n.parentNode;n=o!=t.dom?o:i>0?n.nextSibling:n.previousSibling}return null}function Xwe(t,n){let i=n.startContainer,s=n.startOffset,o=n.endContainer,a=n.endOffset,l=t.docView.domAtPos(t.state.selection.main.anchor);return qO(l.node,l.offset,o,a)&&([i,s,o,a]=[o,a,i,s]),{anchorNode:i,anchorOffset:s,focusNode:o,focusOffset:a}}class Ubt{constructor(n){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(n.state);let i=this.editContext=new window.EditContext({text:n.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,n.state.selection.main.anchor))),selectionEnd:this.toContextPos(n.state.selection.main.head)});this.handlers.textupdate=s=>{let o=n.state.selection.main,{anchor:a,head:l}=o,c=this.toEditorPos(s.updateRangeStart),u=this.toEditorPos(s.updateRangeEnd);n.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:s.updateRangeStart,editorBase:c,drifted:!1});let d={from:c,to:u,insert:Vi.of(s.text.split("\n"))};if(d.from==this.from&&a<this.from?d.from=a:d.to==this.to&&a>this.to&&(d.to=a),d.from!=d.to||d.insert.length){if((jn.mac||jn.android)&&d.from==l-1&&/^\. ?$/.test(s.text)&&"off"==n.contentDOM.getAttribute("autocorrect")&&(d={from:c,to:u,insert:Vi.of([s.text.replace("."," ")])}),this.pendingContextChange=d,!n.state.readOnly){let p=this.to-this.from+(d.to-d.from+d.insert.length);yY(n,d,Rt.single(this.toEditorPos(s.selectionStart,p),this.toEditorPos(s.selectionEnd,p)))}this.pendingContextChange&&(this.revertPending(n.state),this.setSelection(n.state))}else{let p=Rt.single(this.toEditorPos(s.selectionStart),this.toEditorPos(s.selectionEnd));p.main.eq(o)||n.dispatch({selection:p,userEvent:"select"})}},this.handlers.characterboundsupdate=s=>{let o=[],a=null;for(let l=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);l<c;l++){let u=n.coordsForChar(l);a=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||a||new DOMRect,o.push(a)}i.updateCharacterBounds(s.rangeStart,o)},this.handlers.textformatupdate=s=>{let o=[];for(let a of s.getTextFormats()){let l=a.underlineStyle,c=a.underlineThickness;if("None"!=l&&"None"!=c){let u=this.toEditorPos(a.rangeStart),d=this.toEditorPos(a.rangeEnd);u<d&&o.push(Xn.mark({attributes:{style:`text-decoration: underline ${"Dashed"==l?"dashed ":"Squiggle"==l?"wavy ":""}${"Thin"==c?1:2}px`}}).range(u,d))}}n.dispatch({effects:owe.of(Xn.set(o))})},this.handlers.compositionstart=()=>{n.inputState.composing<0&&(n.inputState.composing=0,n.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(n.inputState.composing=-1,n.inputState.compositionFirstChange=null,this.composing){let{drifted:s}=this.composing;this.composing=null,s&&this.reset(n.state)}};for(let s in this.handlers)i.addEventListener(s,this.handlers[s]);this.measureReq={read:s=>{this.editContext.updateControlBounds(s.contentDOM.getBoundingClientRect());let o=UO(s.root);o&&o.rangeCount&&this.editContext.updateSelectionBounds(o.getRangeAt(0).getBoundingClientRect())}}}applyEdits(n){let i=0,s=!1,o=this.pendingContextChange;return n.changes.iterChanges((a,l,c,u,d)=>{if(s)return;let p=d.length-(l-a);if(o&&l>=o.to){if(o.from==a&&o.to==l&&o.insert.eq(d))return o=this.pendingContextChange=null,i+=p,void(this.to+=p);o=null,this.revertPending(n.state)}if(a+=i,(l+=i)<=this.from)this.from+=p,this.to+=p;else if(a<this.to){if(a<this.from||l>this.to||this.to-this.from+d.length>3e4)return void(s=!0);this.editContext.updateText(this.toContextPos(a),this.toContextPos(l),d.toString()),this.to+=p}i+=p}),o&&!s&&this.revertPending(n.state),!s}update(n){let i=this.pendingContextChange,s=n.startState.selection.main;this.composing&&(this.composing.drifted||!n.changes.touchesRange(s.from,s.to)&&n.transactions.some(o=>!o.isUserEvent("input.type")&&o.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=n.changes.mapPos(this.composing.editorBase)):this.applyEdits(n)&&this.rangeIsValid(n.state)?(n.docChanged||n.selectionSet||i)&&this.setSelection(n.state):(this.pendingContextChange=null,this.reset(n.state)),(n.geometryChanged||n.docChanged||n.selectionSet)&&n.view.requestMeasure(this.measureReq)}resetRange(n){let{head:i}=n.selection.main;this.from=Math.max(0,i-1e4),this.to=Math.min(n.doc.length,i+1e4)}reset(n){this.resetRange(n),this.editContext.updateText(0,this.editContext.text.length,n.doc.sliceString(this.from,this.to)),this.setSelection(n)}revertPending(n){let i=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(i.from),this.toContextPos(i.from+i.insert.length),n.doc.sliceString(i.from,i.to))}setSelection(n){let{main:i}=n.selection,s=this.toContextPos(Math.max(this.from,Math.min(this.to,i.anchor))),o=this.toContextPos(i.head);(this.editContext.selectionStart!=s||this.editContext.selectionEnd!=o)&&this.editContext.updateSelection(s,o)}rangeIsValid(n){let{head:i}=n.selection.main;return!(this.from>0&&i-this.from<500||this.to<n.doc.length&&this.to-i<500||this.to-this.from>3e4)}toEditorPos(n,i=this.to-this.from){n=Math.min(n,i);let s=this.composing;return s&&s.drifted?s.editorBase+(n-s.contextBase):n+this.from}toContextPos(n){let i=this.composing;return i&&i.drifted?i.contextBase+(n-i.editorBase):n-this.from}destroy(){for(let n in this.handlers)this.editContext.removeEventListener(n,this.handlers[n])}}let kn=(()=>{class t{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(i={}){var s;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),i.parent&&i.parent.appendChild(this.dom);let{dispatch:o}=i;this.dispatchTransactions=i.dispatchTransactions||o&&(a=>a.forEach(l=>o(l,this)))||(a=>this.update(a)),this.dispatch=this.dispatch.bind(this),this._root=i.root||function Dvt(t){for(;t;){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}(i.parent)||document,this.viewState=new Uwe(i.state||Wc.create(i)),i.scrollTo&&i.scrollTo.is(o9)&&(this.viewState.scrollTarget=i.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(XO).map(a=>new uY(a));for(let a of this.plugins)a.update(this);this.observer=new zbt(this),this.inputState=new fbt(this),this.inputState.ensureHandlers(this.plugins),this.docView=new pwe(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),null!==(s=document.fonts)&&void 0!==s&&s.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...i){let s=1==i.length&&i[0]instanceof Ef?i:1==i.length&&Array.isArray(i[0])?i[0]:[this.state.update(...i)];this.dispatchTransactions(s,this)}update(i){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let a,s=!1,o=!1,l=this.state;for(let m of i){if(m.startState!=l)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");l=m.state}if(this.destroyed)return void(this.viewState.state=l);let c=this.hasFocus,u=0,d=null;i.some(m=>m.annotation(Nwe))?(this.inputState.notifiedFocused=c,u=1):c!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=c,d=Lwe(l,c),d||(u=1));let p=this.observer.delayedAndroidKey,f=null;if(p?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(l.doc)||!this.state.selection.eq(l.selection))&&(f=null)):this.observer.clear(),l.facet(Wc.phrases)!=this.state.facet(Wc.phrases))return this.setState(l);a=l9.create(this,l,i),a.flags|=u;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let m of i){if(h&&(h=h.map(m.changes)),m.scrollIntoView){let{main:y}=m.state.selection;h=new iw(y.empty?y:Rt.cursor(y.head,y.head>y.anchor?-1:1))}for(let y of m.effects)y.is(o9)&&(h=y.value.clip(this.state))}this.viewState.update(a,h),this.bidiCache=b9.update(this.bidiCache,a.changes),a.empty||(this.updatePlugins(a),this.inputState.update(a)),s=this.docView.update(a),this.state.facet(ZO)!=this.styleModules&&this.mountStyles(),o=this.updateAttrs(),this.showAnnouncements(i),this.docView.updateSelection(s,i.some(m=>m.isUserEvent("select.pointer")))}finally{this.updateState=0}if(a.startState.facet(v9)!=a.state.facet(v9)&&(this.viewState.mustMeasureContent=!0),(s||o||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),s&&this.docViewUpdate(),!a.empty)for(let m of this.state.facet(aY))try{m(a)}catch(y){Kc(this.state,y,"update listener")}(d||f)&&Promise.resolve().then(()=>{d&&this.state==d.startState&&this.dispatch(d),f&&!Ewe(this,f)&&p.force&&nw(this.contentDOM,p.key,p.keyCode)})}setState(i){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=i);this.updateState=2;let s=this.hasFocus;try{for(let o of this.plugins)o.destroy(this);this.viewState=new Uwe(i),this.plugins=i.facet(XO).map(o=>new uY(o)),this.pluginMap.clear();for(let o of this.plugins)o.update(this);this.docView.destroy(),this.docView=new pwe(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}s&&this.focus(),this.requestMeasure()}updatePlugins(i){let s=i.startState.facet(XO),o=i.state.facet(XO);if(s!=o){let a=[];for(let l of o){let c=s.indexOf(l);if(c<0)a.push(new uY(l));else{let u=this.plugins[c];u.mustUpdate=i,a.push(u)}}for(let l of this.plugins)l.mustUpdate!=i&&l.destroy(this);this.plugins=a,this.pluginMap.clear()}else for(let a of this.plugins)a.mustUpdate=i;for(let a=0;a<this.plugins.length;a++)this.plugins[a].update(this);s!=o&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let i of this.plugins){let s=i.value;if(s&&s.docViewUpdate)try{s.docViewUpdate(this)}catch(o){Kc(this.state,o,"doc view update listener")}}}measure(i=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,i&&this.observer.forceFlush();let s=null,o=this.scrollDOM,a=o.scrollTop*this.scaleY,{scrollAnchorPos:l,scrollAnchorHeight:c}=this.viewState;Math.abs(a-this.viewState.scrollTop)>1&&(c=-1),this.viewState.scrollAnchorHeight=-1;try{for(let u=0;;u++){if(c<0)if(O3e(o))l=-1,c=this.viewState.heightMap.height;else{let y=this.viewState.scrollAnchorAt(a);l=y.from,c=y.top}this.updateState=1;let d=this.viewState.measure(this);if(!d&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(u>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let p=[];4&d||([this.measureRequests,p]=[p,this.measureRequests]);let f=p.map(y=>{try{return y.read(this)}catch(E){return Kc(this.state,E),Qwe}}),h=l9.create(this,this.state,[]),m=!1;h.flags|=d,s?s.flags|=d:s=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),m=this.docView.update(h),m&&this.docViewUpdate());for(let y=0;y<p.length;y++)if(f[y]!=Qwe)try{let E=p[y];E.write&&E.write(f[y],this)}catch(E){Kc(this.state,E)}if(m&&this.docView.updateSelection(!0),!h.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,c=-1;continue}{let E=(l<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(l).top)-c;if(E>1||E<-1){a+=E,o.scrollTop=a/this.scaleY,c=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(s&&!s.empty)for(let u of this.state.facet(aY))u(s)}get themeClasses(){return CY+" "+(this.state.facet(wY)?Gwe:Wwe)+" "+this.state.facet(v9)}updateAttrs(){let i=Zwe(this,awe,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),s={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(jm)?"true":"false",class:"cm-content",style:`${jn.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(s["aria-readonly"]="true"),Zwe(this,a9,s);let o=this.observer.ignore(()=>{let a=tY(this.contentDOM,this.contentAttrs,s),l=tY(this.dom,this.editorAttrs,i);return a||l});return this.editorAttrs=i,this.contentAttrs=s,o}showAnnouncements(i){let s=!0;for(let o of i)for(let a of o.effects)a.is(t.announce)&&(s&&(this.announceDOM.textContent=""),s=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=a.value)}mountStyles(){this.styleModules=this.state.facet(ZO);let i=this.state.facet(t.cspNonce);hy.mount(this.root,this.styleModules.concat(Vbt).reverse(),i?{nonce:i}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(i){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),i){if(this.measureRequests.indexOf(i)>-1)return;if(null!=i.key)for(let s=0;s<this.measureRequests.length;s++)if(this.measureRequests[s].key===i.key)return void(this.measureRequests[s]=i);this.measureRequests.push(i)}}plugin(i){let s=this.pluginMap.get(i);return(void 0===s||s&&s.spec!=i)&&this.pluginMap.set(i,s=this.plugins.find(o=>o.spec==i)||null),s&&s.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(i){return this.readMeasured(),this.viewState.elementAtHeight(i)}lineBlockAtHeight(i){return this.readMeasured(),this.viewState.lineBlockAtHeight(i)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(i){return this.viewState.lineBlockAt(i)}get contentHeight(){return this.viewState.contentHeight}moveByChar(i,s,o){return gY(this,i,bwe(this,i,s,o))}moveByGroup(i,s){return gY(this,i,bwe(this,i,s,o=>function ibt(t,n,i){let s=t.state.charCategorizer(n),o=s(i);return a=>{let l=s(a);return o==bo.Space&&(o=l),o==l}}(this,i.head,o)))}visualLineSide(i,s){let o=this.bidiSpans(i),a=this.textDirectionAt(i.from),l=o[s?o.length-1:0];return Rt.cursor(l.side(s,a)+i.from,l.forward(!s,a)?1:-1)}moveToLineBoundary(i,s,o=!0){return function rbt(t,n,i,s){let o=mY(t,n.head),a=s&&o.type==Gc.Text&&(t.lineWrapping||o.widgetLineBreaks)?t.coordsAtPos(n.assoc<0&&n.head>o.from?n.head-1:n.head):null;if(a){let l=t.dom.getBoundingClientRect(),c=t.textDirectionAt(o.from),u=t.posAtCoords({x:i==(c==Is.LTR)?l.right-1:l.left+1,y:(a.top+a.bottom)/2});if(null!=u)return Rt.cursor(u,i?-1:1)}return Rt.cursor(i?o.to:o.from,i?-1:1)}(this,i,s,o)}moveVertically(i,s,o){return gY(this,i,function sbt(t,n,i,s){let o=n.head,a=i?1:-1;if(o==(i?t.state.doc.length:0))return Rt.cursor(o,n.assoc);let c,l=n.goalColumn,u=t.contentDOM.getBoundingClientRect(),d=t.coordsAtPos(o,n.assoc||-1),p=t.documentTop;if(d)null==l&&(l=d.left-u.left),c=a<0?d.top:d.bottom;else{let m=t.viewState.lineBlockAt(o);null==l&&(l=Math.min(u.right-u.left,t.defaultCharacterWidth*(o-m.from))),c=(a<0?m.top:m.bottom)+p}let f=u.left+l,h=s??t.viewState.heightOracle.textHeight>>1;for(let m=0;;m+=10){let y=c+(h+m)*a,E=ywe(t,{x:f,y},!1,a);if(y<u.top||y>u.bottom||(a<0?E<o:E>o)){let _=t.docView.coordsForChar(E);return Rt.cursor(E,!_||y<_.top?-1:1,void 0,l)}}}(this,i,s,o))}domAtPos(i){return this.docView.domAtPos(i)}posAtDOM(i,s=0){return this.docView.posFromDOM(i,s)}posAtCoords(i,s=!0){return this.readMeasured(),ywe(this,i,s)}coordsAtPos(i,s=1){this.readMeasured();let o=this.docView.coordsAt(i,s);if(!o||o.left==o.right)return o;let a=this.state.doc.lineAt(i),l=this.bidiSpans(a);return WO(o,l[vy.find(l,i-a.from,-1,s)].dir==Is.LTR==s>0)}coordsForChar(i){return this.readMeasured(),this.docView.coordsForChar(i)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(i){return!this.state.facet(rwe)||i<this.viewport.from||i>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(i))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(i){if(i.length>qbt)return K3e(i.length);let o,s=this.textDirectionAt(i.from);for(let l of this.bidiCache)if(l.from==i.from&&l.dir==s&&(l.fresh||W3e(l.isolates,o=uwe(this,i))))return l.order;o||(o=uwe(this,i));let a=function G3e(t,n,i){if(!t)return[new vy(0,0,n==rY?1:0)];if(n==x_&&!i.length&&!$vt.test(t))return K3e(t.length);if(i.length)for(;t.length>Rs.length;)Rs[Rs.length]=256;let s=[],o=n==x_?0:1;return oY(t,o,o,i,0,t.length,s),s}(i.text,s,o);return this.bidiCache.push(new b9(i.from,i.to,s,o,!0,a)),a}get hasFocus(){var i;return(this.dom.ownerDocument.hasFocus()||jn.safari&&(null===(i=this.inputState)||void 0===i?void 0:i.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{w3e(this.contentDOM),this.docView.updateSelection()})}setRoot(i){this._root!=i&&(this._root=i,this.observer.setWindow((9==i.nodeType?i:i.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let i of this.plugins)i.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(i,s={}){return o9.of(new iw("number"==typeof i?Rt.cursor(i):i,s.y,s.x,s.yMargin,s.xMargin))}scrollSnapshot(){let{scrollTop:i,scrollLeft:s}=this.scrollDOM,o=this.viewState.scrollAnchorAt(i);return o9.of(new iw(Rt.cursor(o.from),"start","start",o.top-i,s,!0))}setTabFocusMode(i){null==i?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof i?this.inputState.tabFocusMode=i?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+i)}static domEventHandlers(i){return Eo.define(()=>({}),{eventHandlers:i})}static domEventObservers(i){return Eo.define(()=>({}),{eventObservers:i})}static theme(i,s){let o=hy.newName(),a=[v9.of(o),ZO.of(SY(`.${o}`,i))];return s&&s.dark&&a.push(wY.of(!0)),a}static baseTheme(i){return Fm.lowest(ZO.of(SY("."+CY,i,Kwe)))}static findFromDOM(i){var s;let o=i.querySelector(".cm-content"),a=o&&As.get(o)||As.get(i);return(null===(s=a?.rootView)||void 0===s?void 0:s.view)||null}}return t.styleModule=ZO,t.inputHandler=twe,t.clipboardInputFilter=lY,t.clipboardOutputFilter=cY,t.scrollHandler=swe,t.focusChangeEffect=nwe,t.perLineTextDirection=rwe,t.exceptionSink=ewe,t.updateListener=aY,t.editable=jm,t.mouseSelectionStyle=J3e,t.dragMovesSelection=Z3e,t.clickAddsSelectionRange=Q3e,t.decorations=QO,t.outerDecorations=lwe,t.atomicRanges=dY,t.bidiIsolatedRanges=cwe,t.scrollMargins=dwe,t.darkTheme=wY,t.cspNonce=xn.define({combine:n=>n.length?n[0]:""}),t.contentAttributes=a9,t.editorAttributes=awe,t.lineWrapping=t.contentAttributes.of({class:"cm-lineWrapping"}),t.announce=hi.define(),t})();const qbt=4096,Qwe={};class b9{constructor(n,i,s,o,a,l){this.from=n,this.to=i,this.dir=s,this.isolates=o,this.fresh=a,this.order=l}static update(n,i){if(i.empty&&!n.some(a=>a.fresh))return n;let s=[],o=n.length?n[n.length-1].dir:Is.LTR;for(let a=Math.max(0,n.length-10);a<n.length;a++){let l=n[a];l.dir==o&&!i.touchesRange(l.from,l.to)&&s.push(new b9(i.mapPos(l.from,1),i.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return s}}function Zwe(t,n,i){for(let s=t.state.facet(n),o=s.length-1;o>=0;o--){let a=s[o],l="function"==typeof a?a(t):a;l&&eY(l,i)}return i}const Wbt=jn.mac?"mac":jn.windows?"win":jn.linux?"linux":"key";function _9(t,n,i){return n.altKey&&(t="Alt-"+t),n.ctrlKey&&(t="Ctrl-"+t),n.metaKey&&(t="Meta-"+t),!1!==i&&n.shiftKey&&(t="Shift-"+t),t}const sw=xn.define({enables:Fm.default(kn.domEventHandlers({keydown:(t,n)=>t5e(e5e(n.state),t,n,"editor")}))}),Jwe=new WeakMap;function e5e(t){let n=t.facet(sw),i=Jwe.get(n);return i||Jwe.set(n,i=function Qbt(t,n=Wbt){let i=Object.create(null),s=Object.create(null),o=(l,c)=>{let u=s[l];if(null==u)s[l]=c;else if(u!=c)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},a=(l,c,u,d,p)=>{var f,h;let m=i[l]||(i[l]=Object.create(null)),y=c.split(/ (?!$)/).map(S=>function Gbt(t,n){const i=t.split(/-(?!$)/);let o,a,l,c,s=i[i.length-1];"Space"==s&&(s=" ");for(let u=0;u<i.length-1;++u){const d=i[u];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))o=!0;else if(/^(c|ctrl|control)$/i.test(d))a=!0;else if(/^s(hift)?$/i.test(d))l=!0;else{if(!/^mod$/i.test(d))throw new Error("Unrecognized modifier name: "+d);"mac"==n?c=!0:a=!0}}return o&&(s="Alt-"+s),a&&(s="Ctrl-"+s),c&&(s="Meta-"+s),l&&(s="Shift-"+s),s}(S,n));for(let S=1;S<y.length;S++){let v=y.slice(0,S).join(" ");o(v,!0),m[v]||(m[v]={preventDefault:!0,stopPropagation:!1,run:[w=>{let g=by={view:w,prefix:v,scope:l};return setTimeout(()=>{by==g&&(by=null)},Xbt),!0}]})}let E=y.join(" ");o(E,!1);let _=m[E]||(m[E]={preventDefault:!1,stopPropagation:!1,run:(null===(h=null===(f=m._any)||void 0===f?void 0:f.run)||void 0===h?void 0:h.slice())||[]});u&&_.run.push(u),d&&(_.preventDefault=!0),p&&(_.stopPropagation=!0)};for(let l of t){let c=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let d of c){let p=i[d]||(i[d]=Object.create(null));p._any||(p._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:f}=l;for(let h in p)p[h].run.push(m=>f(m,TY))}let u=l[n]||l.key;if(u)for(let d of c)a(d,u,l.run,l.preventDefault,l.stopPropagation),l.shift&&a(d,"Shift-"+u,l.shift,l.preventDefault,l.stopPropagation)}return i}(n.reduce((s,o)=>s.concat(o),[]))),i}let by=null;const Xbt=4e3;let TY=null;function t5e(t,n,i,s){TY=n;let o=function Cvt(t){var i=!(xvt&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||wvt&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?HO:my)[t.keyCode]||t.key||"Unidentified";return"Esc"==i&&(i="Escape"),"Del"==i&&(i="Delete"),"Left"==i&&(i="ArrowLeft"),"Up"==i&&(i="ArrowUp"),"Right"==i&&(i="ArrowRight"),"Down"==i&&(i="ArrowDown"),i}(n),l=Bh(Tu(o,0))==o.length&&" "!=o,c="",u=!1,d=!1,p=!1;by&&by.view==i&&by.scope==s&&(c=by.prefix+" ",Cwe.indexOf(n.keyCode)<0&&(d=!0,by=null));let y,E,f=new Set,h=_=>{if(_){for(let S of _.run)if(!f.has(S)&&(f.add(S),S(i)))return _.stopPropagation&&(p=!0),!0;_.preventDefault&&(_.stopPropagation&&(p=!0),d=!0)}return!1},m=t[s];return m&&(h(m[c+_9(o,n,!l)])?u=!0:l&&(n.altKey||n.metaKey||n.ctrlKey)&&!(jn.windows&&n.ctrlKey&&n.altKey)&&(y=my[n.keyCode])&&y!=o?(h(m[c+_9(y,n,!0)])||n.shiftKey&&(E=HO[n.keyCode])!=o&&E!=y&&h(m[c+_9(E,n,!1)]))&&(u=!0):l&&n.shiftKey&&h(m[c+_9(o,n,!0)])&&(u=!0),!u&&h(m._any)&&(u=!0)),d&&(u=!0),u&&p&&n.stopPropagation(),TY=null,u}class tT{constructor(n,i,s,o,a){this.className=n,this.left=i,this.top=s,this.width=o,this.height=a}draw(){let n=document.createElement("div");return n.className=this.className,this.adjust(n),n}update(n,i){return i.className==this.className&&(this.adjust(n),!0)}adjust(n){n.style.left=this.left+"px",n.style.top=this.top+"px",null!=this.width&&(n.style.width=this.width+"px"),n.style.height=this.height+"px"}eq(n){return this.left==n.left&&this.top==n.top&&this.width==n.width&&this.height==n.height&&this.className==n.className}static forRange(n,i,s){if(s.empty){let o=n.coordsAtPos(s.head,s.assoc||1);if(!o)return[];let a=n5e(n);return[new tT(i,o.left-a.left,o.top-a.top,null,o.bottom-o.top)]}return function Zbt(t,n,i){if(i.to<=t.viewport.from||i.from>=t.viewport.to)return[];let s=Math.max(i.from,t.viewport.from),o=Math.min(i.to,t.viewport.to),a=t.textDirection==Is.LTR,l=t.contentDOM,c=l.getBoundingClientRect(),u=n5e(t),d=l.querySelector(".cm-line"),p=d&&window.getComputedStyle(d),f=c.left+(p?parseInt(p.paddingLeft)+Math.min(0,parseInt(p.textIndent)):0),h=c.right-(p?parseInt(p.paddingRight):0),m=mY(t,s),y=mY(t,o),E=m.type==Gc.Text?m:null,_=y.type==Gc.Text?y:null;if(E&&(t.lineWrapping||m.widgetLineBreaks)&&(E=r5e(t,s,1,E)),_&&(t.lineWrapping||y.widgetLineBreaks)&&(_=r5e(t,o,-1,_)),E&&_&&E.from==_.from&&E.to==_.to)return v(w(i.from,i.to,E));{let x=E?w(i.from,null,E):g(m,!1),T=_?w(null,i.to,_):g(y,!0),I=[];return(E||m).to<(_||y).from-(E&&_?1:0)||m.widgetLineBreaks>1&&x.bottom+t.defaultLineHeight/2<T.top?I.push(S(f,x.bottom,h,T.top)):x.bottom<T.top&&t.elementAtHeight((x.bottom+T.top)/2).type==Gc.Text&&(x.bottom=T.top=(x.bottom+T.top)/2),v(x).concat(I).concat(v(T))}function S(x,T,I,A){return new tT(n,x-u.left,T-u.top,I-x,A-T)}function v({top:x,bottom:T,horizontal:I}){let A=[];for(let $=0;$<I.length;$+=2)A.push(S(I[$],x,I[$+1],T));return A}function w(x,T,I){let A=1e9,$=-1e9,z=[];function K(me,Re,De,ye,at){let _e=t.coordsAtPos(me,me==I.to?-2:2),be=t.coordsAtPos(De,De==I.from?2:-2);!_e||!be||(A=Math.min(_e.top,be.top,A),$=Math.max(_e.bottom,be.bottom,$),at==Is.LTR?z.push(a&&Re?f:_e.left,a&&ye?h:be.right):z.push(!a&&ye?f:be.left,!a&&Re?h:_e.right))}let U=x??I.from,H=T??I.to;for(let me of t.visibleRanges)if(me.to>U&&me.from<H)for(let Re=Math.max(me.from,U),De=Math.min(me.to,H);;){let ye=t.state.doc.lineAt(Re);for(let at of t.bidiSpans(ye)){let _e=at.from+ye.from,be=at.to+ye.from;if(_e>=De)break;be>Re&&K(Math.max(_e,Re),null==x&&_e<=U,Math.min(be,De),null==T&&be>=H,at.dir)}if(Re=ye.to+1,Re>=De)break}return 0==z.length&&K(U,null==x,H,null==T,t.textDirection),{top:A,bottom:$,horizontal:z}}function g(x,T){let I=c.top+(T?x.top:x.bottom);return{top:I,bottom:I,horizontal:[]}}}(n,i,s)}}function n5e(t){let n=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Is.LTR?n.left:n.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:n.top-t.scrollDOM.scrollTop*t.scaleY}}function r5e(t,n,i,s){let o=t.coordsAtPos(n,2*i);if(!o)return s;let a=t.dom.getBoundingClientRect(),l=(o.top+o.bottom)/2,c=t.posAtCoords({x:a.left+1,y:l}),u=t.posAtCoords({x:a.right-1,y:l});return null==c||null==u?s:{from:Math.max(s.from,Math.min(c,u)),to:Math.min(s.to,Math.max(c,u))}}class e_t{constructor(n,i){this.view=n,this.layer=i,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=n.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),i.above&&this.dom.classList.add("cm-layer-above"),i.class&&this.dom.classList.add(i.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(n.state),n.requestMeasure(this.measureReq),i.mount&&i.mount(this.dom,n)}update(n){n.startState.facet(E9)!=n.state.facet(E9)&&this.setOrder(n.state),(this.layer.update(n,this.dom)||n.geometryChanged)&&(this.scale(),n.view.requestMeasure(this.measureReq))}docViewUpdate(n){!1!==this.layer.updateOnDocViewUpdate&&n.requestMeasure(this.measureReq)}setOrder(n){let i=0,s=n.facet(E9);for(;i<s.length&&s[i]!=this.layer;)i++;this.dom.style.zIndex=String((this.layer.above?150:-1)-i)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:n,scaleY:i}=this.view;(n!=this.scaleX||i!=this.scaleY)&&(this.scaleX=n,this.scaleY=i,this.dom.style.transform=`scale(${1/n}, ${1/i})`)}draw(n){if(n.length!=this.drawn.length||n.some((i,s)=>!function Jbt(t,n){return t.constructor==n.constructor&&t.eq(n)}(i,this.drawn[s]))){let i=this.dom.firstChild,s=0;for(let o of n)o.update&&i&&o.constructor&&this.drawn[s].constructor&&o.update(i,this.drawn[s])?(i=i.nextSibling,s++):this.dom.insertBefore(o.draw(),i);for(;i;){let o=i.nextSibling;i.remove(),i=o}this.drawn=n}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const E9=xn.define();function i5e(t){return[Eo.define(n=>new e_t(n,t)),E9.of(t)]}const ow=xn.define({combine:t=>xf(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(n,i)=>Math.min(n,i),drawRangeCursor:(n,i)=>n||i})});function s5e(t){return t.startState.facet(ow)!=t.state.facet(ow)}const n_t=i5e({above:!0,markers(t){let{state:n}=t,i=n.facet(ow),s=[];for(let o of n.selection.ranges)if(o.empty||i.drawRangeCursor){let l=o==n.selection.main?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=o.empty?o:Rt.cursor(o.head,o.head>o.anchor?-1:1);for(let u of tT.forRange(t,l,c))s.push(u)}return s},update(t,n){t.transactions.some(s=>s.selection)&&(n.style.animationName="cm-blink"==n.style.animationName?"cm-blink2":"cm-blink");let i=s5e(t);return i&&o5e(t.state,n),t.docChanged||t.selectionSet||i},mount(t,n){o5e(n.state,t)},class:"cm-cursorLayer"});function o5e(t,n){n.style.animationDuration=t.facet(ow).cursorBlinkRate+"ms"}const r_t=i5e({above:!1,markers:t=>t.state.selection.ranges.map(n=>n.empty?[]:tT.forRange(t,"cm-selectionBackground",n)).reduce((n,i)=>n.concat(i)),update:(t,n)=>t.docChanged||t.selectionSet||t.viewportChanged||s5e(t),class:"cm-selectionLayer"}),i_t=Fm.highest(kn.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),a5e=hi.define({map:(t,n)=>null==t?null:n.mapPos(t)}),nT=Ta.define({create:()=>null,update:(t,n)=>(null!=t&&(t=n.changes.mapPos(t)),n.effects.reduce((i,s)=>s.is(a5e)?s.value:i,t))}),s_t=Eo.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var n;let i=t.state.field(nT);null==i?null!=this.cursor&&(null===(n=this.cursor)||void 0===n||n.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(nT)!=i||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,n=t.state.field(nT),i=null!=n&&t.coordsAtPos(n);if(!i)return null;let s=t.scrollDOM.getBoundingClientRect();return{left:i.left-s.left+t.scrollDOM.scrollLeft*t.scaleX,top:i.top-s.top+t.scrollDOM.scrollTop*t.scaleY,height:i.bottom-i.top}}drawCursor(t){if(this.cursor){let{scaleX:n,scaleY:i}=this.view;t?(this.cursor.style.left=t.left/n+"px",this.cursor.style.top=t.top/i+"px",this.cursor.style.height=t.height/i+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(nT)!=t&&this.view.dispatch({effects:a5e.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function l5e(t,n,i,s,o){n.lastIndex=0;for(let c,a=t.iterRange(i,s),l=i;!a.next().done;l+=a.value.length)if(!a.lineBreak)for(;c=n.exec(a.value);)o(l+c.index,c)}class PY{constructor(n){const{regexp:i,decoration:s,decorate:o,boundary:a,maxLength:l=1e3}=n;if(!i.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=i,o)this.addMatch=(c,u,d,p)=>o(p,d,d+c[0].length,c,u);else if("function"==typeof s)this.addMatch=(c,u,d,p)=>{let f=s(c,u,d);f&&p(d,d+c[0].length,f)};else{if(!s)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(c,u,d,p)=>p(d,d+c[0].length,s)}this.boundary=a,this.maxLength=l}createDeco(n){let i=new Vh,s=i.add.bind(i);for(let{from:o,to:a}of function a_t(t,n){let i=t.visibleRanges;if(1==i.length&&i[0].from==t.viewport.from&&i[0].to==t.viewport.to)return i;let s=[];for(let{from:o,to:a}of i)o=Math.max(t.state.doc.lineAt(o).from,o-n),a=Math.min(t.state.doc.lineAt(a).to,a+n),s.length&&s[s.length-1].to>=o?s[s.length-1].to=a:s.push({from:o,to:a});return s}(n,this.maxLength))l5e(n.state.doc,this.regexp,o,a,(l,c)=>this.addMatch(c,n,l,s));return i.finish()}updateDeco(n,i){let s=1e9,o=-1;return n.docChanged&&n.changes.iterChanges((a,l,c,u)=>{u>=n.view.viewport.from&&c<=n.view.viewport.to&&(s=Math.min(c,s),o=Math.max(u,o))}),n.viewportMoved||o-s>1e3?this.createDeco(n.view):o>-1?this.updateRange(n.view,i.map(n.changes),s,o):i}updateRange(n,i,s,o){for(let a of n.visibleRanges){let l=Math.max(a.from,s),c=Math.min(a.to,o);if(c>l){let u=n.state.doc.lineAt(l),d=u.to<c?n.state.doc.lineAt(c):u,p=Math.max(a.from,u.from),f=Math.min(a.to,d.to);if(this.boundary){for(;l>u.from;l--)if(this.boundary.test(u.text[l-1-u.from])){p=l;break}for(;c<d.to;c++)if(this.boundary.test(d.text[c-d.from])){f=c;break}}let m,h=[],y=(E,_,S)=>h.push(S.range(E,_));if(u==d)for(this.regexp.lastIndex=p-u.from;(m=this.regexp.exec(u.text))&&m.index<f-u.from;)this.addMatch(m,n,m.index+u.from,y);else l5e(n.state.doc,this.regexp,p,f,(E,_)=>this.addMatch(_,n,E,y));i=i.update({filterFrom:p,filterTo:f,filter:(E,_)=>E<p||_>f,add:h})}}return i}}const DY=null!=/x/.unicode?"gu":"g",l_t=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]",DY),c_t={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let kY=null;const x9=xn.define({combine(t){let n=xf(t,{render:null,specialChars:l_t,addSpecialChars:null});return(n.replaceTabs=!function u_t(){var t;if(null==kY&&typeof document<"u"&&document.body){let n=document.body.style;kY=null!=(null!==(t=n.tabSize)&&void 0!==t?t:n.MozTabSize)}return kY||!1}())&&(n.specialChars=new RegExp("\t|"+n.specialChars.source,DY)),n.addSpecialChars&&(n.specialChars=new RegExp(n.specialChars.source+"|"+n.addSpecialChars.source,DY)),n}});let c5e=null;class m_t extends zh{constructor(n,i){super(),this.options=n,this.code=i}eq(n){return n.code==this.code}toDOM(n){let i=function h_t(t){return t>=32?"\u2022":10==t?"\u2424":String.fromCharCode(9216+t)}(this.code),s=n.state.phrase("Control character")+" "+(c_t[this.code]||"0x"+this.code.toString(16)),o=this.options.render&&this.options.render(this.code,s,i);if(o)return o;let a=document.createElement("span");return a.textContent=i,a.title=s,a.setAttribute("aria-label",s),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class g_t extends zh{constructor(n){super(),this.width=n}eq(n){return n.width==this.width}toDOM(){let n=document.createElement("span");return n.textContent="\t",n.className="cm-tab",n.style.width=this.width+"px",n}ignoreEvent(){return!1}}const v_t=Xn.line({class:"cm-activeLine"}),b_t=Eo.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let n=-1,i=[];for(let s of t.state.selection.ranges){let o=t.lineBlockAt(s.head);o.from>n&&(i.push(v_t.range(o.from)),n=o.from)}return Xn.set(i)}},{decorations:t=>t.decorations});class __t extends zh{constructor(n){super(),this.content=n}toDOM(n){let i=document.createElement("span");return i.className="cm-placeholder",i.style.pointerEvents="none",i.appendChild("string"==typeof this.content?document.createTextNode(this.content):"function"==typeof this.content?this.content(n):this.content.cloneNode(!0)),"string"==typeof this.content?i.setAttribute("aria-label","placeholder "+this.content):i.setAttribute("aria-hidden","true"),i}coordsAt(n){let i=n.firstChild?ew(n.firstChild):[];if(!i.length)return null;let s=window.getComputedStyle(n.parentNode),o=WO(i[0],"rtl"!=s.direction),a=parseInt(s.lineHeight);return o.bottom-o.top>1.5*a?{left:o.left,right:o.right,top:o.top,bottom:o.top+a}:o}ignoreEvent(){return!1}}function d5e(t){return Eo.fromClass(class{constructor(n){this.view=n,this.placeholder=t?Xn.set([Xn.widget({widget:new __t(t),side:1}).range(0)]):Xn.none}get decorations(){return this.view.state.doc.length?Xn.none:this.placeholder}},{decorations:n=>n.decorations})}function p5e(t,n){let i=t.posAtCoords({x:n.clientX,y:n.clientY},!1),s=t.state.doc.lineAt(i),o=i-s.from,a=o>2e3?-1:o==s.length?function x_t(t,n){let i=t.coordsAtPos(t.viewport.from);return i?Math.round(Math.abs((i.left-n)/t.defaultCharacterWidth)):-1}(t,n.clientX):J3(s.text,t.state.tabSize,i-s.from);return{line:s.number,col:a,off:o}}const S_t={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},O_t={style:"cursor: crosshair"},rT="-10000px";class f5e{constructor(n,i,s,o){this.facet=i,this.createTooltipView=s,this.removeTooltipView=o,this.input=n.state.facet(i),this.tooltips=this.input.filter(l=>l);let a=null;this.tooltipViews=this.tooltips.map(l=>a=s(l,a))}update(n,i){var s;let o=n.state.facet(this.facet),a=o.filter(u=>u);if(o===this.input){for(let u of this.tooltipViews)u.update&&u.update(n);return!1}let l=[],c=i?[]:null;for(let u=0;u<a.length;u++){let d=a[u],p=-1;if(d){for(let f=0;f<this.tooltips.length;f++){let h=this.tooltips[f];h&&h.create==d.create&&(p=f)}if(p<0)l[u]=this.createTooltipView(d,u?l[u-1]:null),c&&(c[u]=!!d.above);else{let f=l[u]=this.tooltipViews[p];c&&(c[u]=i[p]),f.update&&f.update(n)}}}for(let u of this.tooltipViews)l.indexOf(u)<0&&(this.removeTooltipView(u),null===(s=u.destroy)||void 0===s||s.call(u));return i&&(c.forEach((u,d)=>i[d]=u),i.length=c.length),this.input=o,this.tooltips=a,this.tooltipViews=l,!0}}function h5e(t={}){return w9.of(t)}function P_t(t){let n=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:n.clientHeight,right:n.clientWidth}}const w9=xn.define({combine:t=>{var n,i,s;return{position:jn.ios?"absolute":(null===(n=t.find(o=>o.position))||void 0===n?void 0:n.position)||"fixed",parent:(null===(i=t.find(o=>o.parent))||void 0===i?void 0:i.parent)||null,tooltipSpace:(null===(s=t.find(o=>o.tooltipSpace))||void 0===s?void 0:s.tooltipSpace)||P_t}}}),m5e=new WeakMap,C9=Eo.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let n=t.state.facet(w9);this.position=n.position,this.parent=n.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new f5e(t,S9,(i,s)=>this.createTooltip(i,s),i=>{this.resizeObserver&&this.resizeObserver.unobserve(i.dom),i.dom.remove()}),this.above=this.manager.tooltips.map(i=>!!i.above),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(i=>{Date.now()>this.lastTransaction-50&&i.length>0&&i[i.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let n=this.manager.update(t,this.above);n&&this.observeIntersection();let i=n||t.geometryChanged,s=t.state.facet(w9);if(s.position!=this.position&&!this.madeAbsolute){this.position=s.position;for(let o of this.manager.tooltipViews)o.dom.style.position=this.position;i=!0}if(s.parent!=this.parent){this.parent&&this.container.remove(),this.parent=s.parent,this.createContainer();for(let o of this.manager.tooltipViews)this.container.appendChild(o.dom);i=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);i&&this.maybeMeasure()}createTooltip(t,n){let i=t.create(this.view),s=n?n.dom:null;if(i.dom.classList.add("cm-tooltip"),t.arrow&&!i.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let o=document.createElement("div");o.className="cm-tooltip-arrow",i.dom.appendChild(o)}return i.dom.style.position=this.position,i.dom.style.top=rT,i.dom.style.left="0px",this.container.insertBefore(i.dom,s),i.mount&&i.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(i.dom),i}destroy(){var t,n,i;this.view.win.removeEventListener("resize",this.measureSoon);for(let s of this.manager.tooltipViews)s.dom.remove(),null===(t=s.destroy)||void 0===t||t.call(s);this.parent&&this.container.remove(),null===(n=this.resizeObserver)||void 0===n||n.disconnect(),null===(i=this.intersectionObserver)||void 0===i||i.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,n=1,i=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:a}=this.manager.tooltipViews[0];if(jn.gecko)i=a.offsetParent!=this.container.ownerDocument.body;else if(a.style.top==rT&&"0px"==a.style.left){let l=a.getBoundingClientRect();i=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}}if(i||"absolute"==this.position)if(this.parent){let a=this.parent.getBoundingClientRect();a.width&&a.height&&(t=a.width/this.parent.offsetWidth,n=a.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:n}=this.view.viewState);let s=this.view.scrollDOM.getBoundingClientRect(),o=pY(this.view);return{visible:{left:s.left+o.left,top:s.top+o.top,right:s.right-o.right,bottom:s.bottom-o.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((a,l)=>{let c=this.manager.tooltipViews[l];return c.getCoords?c.getCoords(a.pos):this.view.coordsAtPos(a.pos)}),size:this.manager.tooltipViews.map(({dom:a})=>a.getBoundingClientRect()),space:this.view.state.facet(w9).tooltipSpace(this.view),scaleX:t,scaleY:n,makeAbsolute:i}}writeMeasure(t){var n;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let c of this.manager.tooltipViews)c.dom.style.position="absolute"}let{visible:i,space:s,scaleX:o,scaleY:a}=t,l=[];for(let c=0;c<this.manager.tooltips.length;c++){let u=this.manager.tooltips[c],d=this.manager.tooltipViews[c],{dom:p}=d,f=t.pos[c],h=t.size[c];if(!f||!1!==u.clip&&(f.bottom<=Math.max(i.top,s.top)||f.top>=Math.min(i.bottom,s.bottom)||f.right<Math.max(i.left,s.left)-.1||f.left>Math.min(i.right,s.right)+.1)){p.style.top=rT;continue}let m=u.arrow?d.dom.querySelector(".cm-tooltip-arrow"):null,y=m?7:0,E=h.right-h.left,_=null!==(n=m5e.get(d))&&void 0!==n?n:h.bottom-h.top,S=d.offset||k_t,v=this.view.textDirection==Is.LTR,w=h.width>s.right-s.left?v?s.left:s.right-h.width:v?Math.max(s.left,Math.min(f.left-(m?14:0)+S.x,s.right-E)):Math.min(Math.max(s.left,f.left-E+(m?14:0)-S.x),s.right-E),g=this.above[c];!u.strictSide&&(g?f.top-_-y-S.y<s.top:f.bottom+_+y+S.y>s.bottom)&&g==s.bottom-f.bottom>f.top-s.top&&(g=this.above[c]=!g);let x=(g?f.top-s.top:s.bottom-f.bottom)-y;if(x<_&&!1!==d.resize){if(x<this.view.defaultLineHeight){p.style.top=rT;continue}m5e.set(d,_),p.style.height=(_=x)/a+"px"}else p.style.height&&(p.style.height="");let T=g?f.top-_-y-S.y:f.bottom+y+S.y,I=w+E;if(!0!==d.overlap)for(let A of l)A.left<I&&A.right>w&&A.top<T+_&&A.bottom>T&&(T=g?A.top-_-2-y:A.bottom+y+2);"absolute"==this.position?(p.style.top=(T-t.parent.top)/a+"px",g5e(p,(w-t.parent.left)/o)):(p.style.top=T/a+"px",g5e(p,w/o)),m&&(m.style.left=(f.left+(v?S.x:-S.x)-(w+14-7))/o+"px"),!0!==d.overlap&&l.push({left:w,top:T,right:I,bottom:T+_}),p.classList.toggle("cm-tooltip-above",g),p.classList.toggle("cm-tooltip-below",!g),d.positioned&&d.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=rT}},{eventObservers:{scroll(){this.maybeMeasure()}}});function g5e(t,n){let i=parseInt(t.style.left,10);(isNaN(i)||Math.abs(n-i)>1)&&(t.style.left=n+"px")}const k_t={x:0,y:0},S9=xn.define({enables:[C9,kn.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}})]}),iT=xn.define({combine:t=>t.reduce((n,i)=>n.concat(i),[])});class O9{static create(n){return new O9(n)}constructor(n){this.view=n,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new f5e(n,iT,(i,s)=>this.createHostedView(i,s),i=>i.dom.remove())}createHostedView(n,i){let s=n.create(this.view);return s.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(s.dom,i?i.dom.nextSibling:this.dom.firstChild),this.mounted&&s.mount&&s.mount(this.view),s}mount(n){for(let i of this.manager.tooltipViews)i.mount&&i.mount(n);this.mounted=!0}positioned(n){for(let i of this.manager.tooltipViews)i.positioned&&i.positioned(n)}update(n){this.manager.update(n)}destroy(){var n;for(let i of this.manager.tooltipViews)null===(n=i.destroy)||void 0===n||n.call(i)}passProp(n){let i;for(let s of this.manager.tooltipViews){let o=s[n];if(void 0!==o)if(void 0===i)i=o;else if(i!==o)return}return i}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const M_t=S9.compute([iT],t=>{let n=t.facet(iT);return 0===n.length?null:{pos:Math.min(...n.map(i=>i.pos)),end:Math.max(...n.map(i=>{var s;return null!==(s=i.end)&&void 0!==s?s:i.pos})),create:O9.create,above:n[0].above,arrow:n.some(i=>i.arrow)}});class A_t{constructor(n,i,s,o,a){this.view=n,this.source=i,this.field=s,this.setHover=o,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:n.dom,time:0},this.checkHover=this.checkHover.bind(this),n.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),n.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let n=Date.now()-this.lastMove.time;n<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-n):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:n,lastMove:i}=this,s=n.docView.nearest(i.target);if(!s)return;let o,a=1;if(s instanceof gy)o=s.posAtStart;else{if(o=n.posAtCoords(i),null==o)return;let c=n.coordsAtPos(o);if(!c||i.y<c.top||i.y>c.bottom||i.x<c.left-n.defaultCharacterWidth||i.x>c.right+n.defaultCharacterWidth)return;let u=n.bidiSpans(n.state.doc.lineAt(o)).find(p=>p.from<=o&&p.to>=o),d=u&&u.dir==Is.RTL?-1:1;a=i.x<c.left?-d:d}let l=this.source(n,o,a);if(l?.then){let c=this.pending={pos:o};l.then(u=>{this.pending==c&&(this.pending=null,u&&(!Array.isArray(u)||u.length)&&n.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])}))},u=>Kc(n.state,u,"hover tooltip"))}else l&&(!Array.isArray(l)||l.length)&&n.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let n=this.view.plugin(C9),i=n?n.manager.tooltips.findIndex(s=>s.create==O9.create):-1;return i>-1?n.manager.tooltipViews[i]:null}mousemove(n){var i,s;this.lastMove={x:n.clientX,y:n.clientY,target:n.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:o,tooltip:a}=this;if(o.length&&a&&!function I_t(t,n){let l,{left:i,right:s,top:o,bottom:a}=t.getBoundingClientRect();if(l=t.querySelector(".cm-tooltip-arrow")){let c=l.getBoundingClientRect();o=Math.min(c.top,o),a=Math.max(c.bottom,a)}return n.clientX>=i-T9&&n.clientX<=s+T9&&n.clientY>=o-T9&&n.clientY<=a+T9}(a.dom,n)||this.pending){let{pos:l}=o[0]||this.pending,c=null!==(s=null===(i=o[0])||void 0===i?void 0:i.end)&&void 0!==s?s:l;(l==c?this.view.posAtCoords(this.lastMove)!=l:!function R_t(t,n,i,s,o){let l=t.scrollDOM.getBoundingClientRect();if(l.left>s||l.right<s||l.top>o||Math.min(l.bottom,t.documentTop+t.documentPadding.top+t.contentHeight)<o)return!1;let u=t.posAtCoords({x:s,y:o},!1);return u>=n&&u<=i}(this.view,l,c,n.clientX,n.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(n){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:i}=this;if(i.length){let{tooltip:s}=this;s&&s.dom.contains(n.relatedTarget)?this.watchTooltipLeave(s.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(n){let i=s=>{n.removeEventListener("mouseleave",i),this.active.length&&!this.view.dom.contains(s.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};n.addEventListener("mouseleave",i)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const T9=4;function N_t(t,n={}){let i=hi.define(),s=Ta.define({create:()=>[],update(o,a){if(o.length&&(n.hideOnChange&&(a.docChanged||a.selection)?o=[]:n.hideOn&&(o=o.filter(l=>!n.hideOn(a,l))),a.docChanged)){let l=[];for(let c of o){let u=a.changes.mapPos(c.pos,-1,Ll.TrackDel);if(null!=u){let d=Object.assign(Object.create(null),c);d.pos=u,null!=d.end&&(d.end=a.changes.mapPos(d.end)),l.push(d)}}o=l}for(let l of a.effects)l.is(i)&&(o=l.value),l.is(L_t)&&(o=[]);return o},provide:o=>iT.from(o)});return{active:s,extension:[s,Eo.define(o=>new A_t(o,t,s,i,n.hoverTime||300)),M_t]}}function y5e(t,n){let i=t.plugin(C9);if(!i)return null;let s=i.manager.tooltips.indexOf(n);return s<0?null:i.manager.tooltipViews[s]}const L_t=hi.define(),AY=xn.define({combine(t){let n,i;for(let s of t)n=n||s.topContainer,i=i||s.bottomContainer;return{topContainer:n,bottomContainer:i}}});function sT(t,n){let i=t.plugin(v5e),s=i?i.specs.indexOf(n):-1;return s>-1?i.panels[s]:null}const v5e=Eo.fromClass(class{constructor(t){this.input=t.state.facet(oT),this.specs=this.input.filter(i=>i),this.panels=this.specs.map(i=>i(t));let n=t.state.facet(AY);this.top=new P9(t,!0,n.topContainer),this.bottom=new P9(t,!1,n.bottomContainer),this.top.sync(this.panels.filter(i=>i.top)),this.bottom.sync(this.panels.filter(i=>!i.top));for(let i of this.panels)i.dom.classList.add("cm-panel"),i.mount&&i.mount()}update(t){let n=t.state.facet(AY);this.top.container!=n.topContainer&&(this.top.sync([]),this.top=new P9(t.view,!0,n.topContainer)),this.bottom.container!=n.bottomContainer&&(this.bottom.sync([]),this.bottom=new P9(t.view,!1,n.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let i=t.state.facet(oT);if(i!=this.input){let s=i.filter(u=>u),o=[],a=[],l=[],c=[];for(let u of s){let p,d=this.specs.indexOf(u);d<0?(p=u(t.view),c.push(p)):(p=this.panels[d],p.update&&p.update(t)),o.push(p),(p.top?a:l).push(p)}this.specs=s,this.panels=o,this.top.sync(a),this.bottom.sync(l);for(let u of c)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let s of this.panels)s.update&&s.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>kn.scrollMargins.of(n=>{let i=n.plugin(t);return i&&{top:i.top.scrollMargin(),bottom:i.bottom.scrollMargin()}})});class P9{constructor(n,i,s){this.view=n,this.top=i,this.container=s,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(n){for(let i of this.panels)i.destroy&&n.indexOf(i)<0&&i.destroy();this.panels=n,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let i=this.container||this.view.dom;i.insertBefore(this.dom,this.top?i.firstChild:null)}let n=this.dom.firstChild;for(let i of this.panels)if(i.dom.parentNode==this.dom){for(;n!=i.dom;)n=b5e(n);n=n.nextSibling}else this.dom.insertBefore(i.dom,n);for(;n;)n=b5e(n)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let n of this.classes.split(" "))n&&this.container.classList.remove(n);for(let n of(this.classes=this.view.themeClasses).split(" "))n&&this.container.classList.add(n)}}}function b5e(t){let n=t.nextSibling;return t.remove(),n}const oT=xn.define({enables:v5e});class qh extends b_{compare(n){return this==n||this.constructor==n.constructor&&this.eq(n)}eq(n){return!1}destroy(n){}}qh.prototype.elementClass="",qh.prototype.toDOM=void 0,qh.prototype.mapMode=Ll.TrackBefore,qh.prototype.startSide=qh.prototype.endSide=-1,qh.prototype.point=!0;const D9=xn.define(),F_t=xn.define(),B_t={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>_o.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},aT=xn.define();function _5e(t){return[E5e(),aT.of(Object.assign(Object.assign({},B_t),t))]}const IY=xn.define({combine:t=>t.some(n=>n)});function E5e(t){let n=[$_t];return t&&!1===t.fixed&&n.push(IY.of(!0)),n}const $_t=Eo.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(aT).map(n=>new w5e(t,n));for(let n of this.gutters)this.dom.appendChild(n.dom);this.fixed=!t.state.facet(IY),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let n=this.prevViewport,i=t.view.viewport,s=Math.min(n.to,i.to)-Math.max(n.from,i.from);this.syncGutters(s<.8*(i.to-i.from))}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(IY)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let n=this.dom.nextSibling;t&&this.dom.remove();let i=_o.iter(this.view.state.facet(D9),this.view.viewport.from),s=[],o=this.gutters.map(a=>new V_t(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(s.length&&(s=[]),Array.isArray(a.type)){let l=!0;for(let c of a.type)if(c.type==Gc.Text&&l){RY(i,s,c.from);for(let u of o)u.line(this.view,c,s);l=!1}else if(c.widget)for(let u of o)u.widget(this.view,c)}else if(a.type==Gc.Text){RY(i,s,a.from);for(let l of o)l.line(this.view,a,s)}else if(a.widget)for(let l of o)l.widget(this.view,a);for(let a of o)a.finish();t&&this.view.scrollDOM.insertBefore(this.dom,n)}updateGutters(t){let n=t.startState.facet(aT),i=t.state.facet(aT),s=t.docChanged||t.heightChanged||t.viewportChanged||!_o.eq(t.startState.facet(D9),t.state.facet(D9),t.view.viewport.from,t.view.viewport.to);if(n==i)for(let o of this.gutters)o.update(t)&&(s=!0);else{s=!0;let o=[];for(let a of i){let l=n.indexOf(a);l<0?o.push(new w5e(this.view,a)):(this.gutters[l].update(t),o.push(this.gutters[l]))}for(let a of this.gutters)a.dom.remove(),o.indexOf(a)<0&&a.destroy();for(let a of o)this.dom.appendChild(a.dom);this.gutters=o}return s}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>kn.scrollMargins.of(n=>{let i=n.plugin(t);return i&&0!=i.gutters.length&&i.fixed?n.textDirection==Is.LTR?{left:i.dom.offsetWidth*n.scaleX}:{right:i.dom.offsetWidth*n.scaleX}:null})});function x5e(t){return Array.isArray(t)?t:[t]}function RY(t,n,i){for(;t.value&&t.from<=i;)t.from==i&&n.push(t.value),t.next()}class V_t{constructor(n,i,s){this.gutter=n,this.height=s,this.i=0,this.cursor=_o.iter(n.markers,i.from)}addElement(n,i,s){let{gutter:o}=this,a=(i.top-this.height)/n.scaleY,l=i.height/n.scaleY;if(this.i==o.elements.length){let c=new C5e(n,l,a,s);o.elements.push(c),o.dom.appendChild(c.dom)}else o.elements[this.i].update(n,l,a,s);this.height=i.bottom,this.i++}line(n,i,s){let o=[];RY(this.cursor,o,i.from),s.length&&(o=o.concat(s));let a=this.gutter.config.lineMarker(n,i,o);a&&o.unshift(a),0==o.length&&!this.gutter.config.renderEmptyElements||this.addElement(n,i,o)}widget(n,i){let s=this.gutter.config.widgetMarker(n,i.widget,i),o=s?[s]:null;for(let a of n.state.facet(F_t)){let l=a(n,i.widget,i);l&&(o||(o=[])).push(l)}o&&this.addElement(n,i,o)}finish(){let n=this.gutter;for(;n.elements.length>this.i;){let i=n.elements.pop();n.dom.removeChild(i.dom),i.destroy()}}}class w5e{constructor(n,i){this.view=n,this.config=i,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let s in i.domEventHandlers)this.dom.addEventListener(s,o=>{let l,a=o.target;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let u=a.getBoundingClientRect();l=(u.top+u.bottom)/2}else l=o.clientY;let c=n.lineBlockAtHeight(l-n.documentTop);i.domEventHandlers[s](n,c,o)&&o.preventDefault()});this.markers=x5e(i.markers(n)),i.initialSpacer&&(this.spacer=new C5e(n,0,0,[i.initialSpacer(n)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(n){let i=this.markers;if(this.markers=x5e(this.config.markers(n.view)),this.spacer&&this.config.updateSpacer){let o=this.config.updateSpacer(this.spacer.markers[0],n);o!=this.spacer.markers[0]&&this.spacer.update(n.view,0,0,[o])}let s=n.view.viewport;return!_o.eq(this.markers,i,s.from,s.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(n)}destroy(){for(let n of this.elements)n.destroy()}}class C5e{constructor(n,i,s,o){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(n,i,s,o)}update(n,i,s,o){this.height!=i&&(this.height=i,this.dom.style.height=i+"px"),this.above!=s&&(this.dom.style.marginTop=(this.above=s)?s+"px":""),function j_t(t,n){if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].compare(n[i]))return!1;return!0}(this.markers,o)||this.setMarkers(n,o)}setMarkers(n,i){let s="cm-gutterElement",o=this.dom.firstChild;for(let a=0,l=0;;){let c=l,u=a<i.length?i[a++]:null,d=!1;if(u){let p=u.elementClass;p&&(s+=" "+p);for(let f=l;f<this.markers.length;f++)if(this.markers[f].compare(u)){c=f,d=!0;break}}else c=this.markers.length;for(;l<c;){let p=this.markers[l++];if(p.toDOM){p.destroy(o);let f=o.nextSibling;o.remove(),o=f}}if(!u)break;u.toDOM&&(d?o=o.nextSibling:this.dom.insertBefore(u.toDOM(n),o)),d&&l++}this.dom.className=s,this.markers=i}destroy(){this.setMarkers(null,[])}}const z_t=xn.define(),H_t=xn.define(),aw=xn.define({combine:t=>xf(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(n,i){let s=Object.assign({},n);for(let o in i){let a=s[o],l=i[o];s[o]=a?(c,u,d)=>a(c,u,d)||l(c,u,d):l}return s}})});class NY extends qh{constructor(n){super(),this.number=n}eq(n){return this.number==n.number}toDOM(){return document.createTextNode(this.number)}}function LY(t,n){return t.state.facet(aw).formatNumber(n,t.state)}const U_t=aT.compute([aw],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:n=>n.state.facet(z_t),lineMarker:(n,i,s)=>s.some(o=>o.toDOM)?null:new NY(LY(n,n.state.doc.lineAt(i.from).number)),widgetMarker:(n,i,s)=>{for(let o of n.state.facet(H_t)){let a=o(n,i,s);if(a)return a}return null},lineMarkerChange:n=>n.startState.facet(aw)!=n.state.facet(aw),initialSpacer:n=>new NY(LY(n,S5e(n.state.doc.lines))),updateSpacer(n,i){let s=LY(i.view,S5e(i.view.state.doc.lines));return s==n.number?n:new NY(s)},domEventHandlers:t.facet(aw).domEventHandlers}));function FY(t={}){return[aw.of(t),E5e(),U_t]}function S5e(t){let n=9;for(;n<t;)n=10*n+9;return n}const q_t=new class extends qh{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},W_t=D9.compute(["selection"],t=>{let n=[],i=-1;for(let s of t.selection.ranges){let o=t.doc.lineAt(s.head).from;o>i&&(i=o,n.push(q_t.range(o)))}return _o.of(n)});var BY;const C_=new Br;const Z_t=new Br;let yd=(()=>{class t{constructor(i,s,o=[],a=""){this.data=i,this.name=a,Wc.prototype.hasOwnProperty("tree")||Object.defineProperty(Wc.prototype,"tree",{get(){return Ns(this)}}),this.parser=s,this.extension=[_y.of(this),Wc.languageData.of((l,c,u)=>{let d=P5e(l,c,u),p=d.type.prop(C_);if(!p)return[];let f=l.facet(p),h=d.type.prop(Z_t);if(h){let m=d.resolve(c-d.from,u);for(let y of h)if(y.test(m,l)){let E=l.facet(y.facet);return"replace"==y.type?E:E.concat(f)}}return f})].concat(o)}isActiveAt(i,s,o=-1){return P5e(i,s,o).type.prop(C_)==this.data}findRegions(i){let s=i.facet(_y);if(s?.data==this.data)return[{from:0,to:i.doc.length}];if(!s||!s.allowsNesting)return[];let o=[],a=(l,c)=>{if(l.prop(C_)==this.data)return void o.push({from:c,to:c+l.length});let u=l.prop(Br.mounted);if(u){if(u.tree.prop(C_)==this.data){if(u.overlay)for(let d of u.overlay)o.push({from:d.from+c,to:d.to+c});else o.push({from:c,to:c+l.length});return}if(u.overlay){let d=o.length;if(a(u.tree,u.overlay[0].from+c),o.length>d)return}}for(let d=0;d<l.children.length;d++){let p=l.children[d];p instanceof Si&&a(p,l.positions[d]+c)}};return a(Ns(i),0),o}get allowsNesting(){return!0}}return t.setState=hi.define(),t})();function P5e(t,n,i){let s=t.facet(_y),o=Ns(t).topNode;if(!s||s.allowsNesting)for(let a=o;a;a=a.enter(n,i,Oo.ExcludeBuffers))a.type.isTop&&(o=a);return o}class S_ extends yd{constructor(n,i,s){super(n,i,[],s),this.parser=i}static define(n){let i=function T5e(t){return xn.define({combine:t?n=>n.concat(t):void 0})}(n.languageData);return new S_(i,n.parser.configure({props:[C_.add(s=>s.isTop?i:void 0)]}),n.name)}configure(n,i){return new S_(this.data,this.parser.configure(n),i||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Ns(t){let n=t.field(yd.state,!1);return n?n.tree:Si.empty}class e2t{constructor(n){this.doc=n,this.cursorPos=0,this.string="",this.cursor=n.iter()}get length(){return this.doc.length}syncTo(n){return this.string=this.cursor.next(n-this.cursorPos).value,this.cursorPos=n+this.string.length,this.cursorPos-this.string.length}chunk(n){return this.syncTo(n),this.string}get lineChunks(){return!0}read(n,i){let s=this.cursorPos-this.string.length;return n<s||i>=this.cursorPos?this.doc.sliceString(n,i):this.string.slice(n-s,i-s)}}let lT=null;class lw{constructor(n,i,s=[],o,a,l,c,u){this.parser=n,this.state=i,this.fragments=s,this.tree=o,this.treeLen=a,this.viewport=l,this.skipped=c,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(n,i,s){return new lw(n,i,[],Si.empty,0,s,[],null)}startParse(){return this.parser.startParse(new e2t(this.state.doc),this.fragments)}work(n,i){return null!=i&&i>=this.state.doc.length&&(i=void 0),this.tree!=Si.empty&&this.isDone(i??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var s;if("number"==typeof n){let o=Date.now()+n;n=()=>Date.now()>o}for(this.parse||(this.parse=this.startParse()),null!=i&&(null==this.parse.stoppedAt||this.parse.stoppedAt>i)&&i<this.state.doc.length&&this.parse.stopAt(i);;){let o=this.parse.advance();if(o){if(this.fragments=this.withoutTempSkipped(Im.addTree(o,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(s=this.parse.stoppedAt)&&void 0!==s?s:this.state.doc.length,this.tree=o,this.parse=null,!(this.treeLen<(i??this.state.doc.length)))return!0;this.parse=this.startParse()}if(n())return!1}})}takeTree(){let n,i;this.parse&&(n=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>n)&&this.parse.stopAt(n),this.withContext(()=>{for(;!(i=this.parse.advance()););}),this.treeLen=n,this.tree=i,this.fragments=this.withoutTempSkipped(Im.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(n){let i=lT;lT=this;try{return n()}finally{lT=i}}withoutTempSkipped(n){for(let i;i=this.tempSkipped.pop();)n=D5e(n,i.from,i.to);return n}changes(n,i){let{fragments:s,tree:o,treeLen:a,viewport:l,skipped:c}=this;if(this.takeTree(),!n.empty){let u=[];if(n.iterChangedRanges((d,p,f,h)=>u.push({fromA:d,toA:p,fromB:f,toB:h})),s=Im.applyChanges(s,u),o=Si.empty,a=0,l={from:n.mapPos(l.from,-1),to:n.mapPos(l.to,1)},this.skipped.length){c=[];for(let d of this.skipped){let p=n.mapPos(d.from,1),f=n.mapPos(d.to,-1);p<f&&c.push({from:p,to:f})}}}return new lw(this.parser,i,s,o,a,l,c,this.scheduleOn)}updateViewport(n){if(this.viewport.from==n.from&&this.viewport.to==n.to)return!1;this.viewport=n;let i=this.skipped.length;for(let s=0;s<this.skipped.length;s++){let{from:o,to:a}=this.skipped[s];o<n.to&&a>n.from&&(this.fragments=D5e(this.fragments,o,a),this.skipped.splice(s--,1))}return!(this.skipped.length>=i||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(n,i){this.skipped.push({from:n,to:i})}static getSkippingParser(n){return new class extends mR{createParse(i,s,o){let a=o[0].from,l=o[o.length-1].to;return{parsedPos:a,advance(){let u=lT;if(u){for(let d of o)u.tempSkipped.push(d);n&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,n]):n)}return this.parsedPos=l,new Si(Ca.none,[],[],l-a)},stoppedAt:null,stopAt(){}}}}}isDone(n){n=Math.min(n,this.state.doc.length);let i=this.fragments;return this.treeLen>=n&&i.length&&0==i[0].from&&i[0].to>=n}static get(){return lT}}function D5e(t,n,i){return Im.applyChanges(t,[{fromA:n,toA:i,fromB:n,toB:i}])}class cw{constructor(n){this.context=n,this.tree=n.tree}apply(n){if(!n.docChanged&&this.tree==this.context.tree)return this;let i=this.context.changes(n.changes,n.state),s=this.context.treeLen==n.startState.doc.length?void 0:Math.max(n.changes.mapPos(this.context.treeLen),i.viewport.to);return i.work(20,s)||i.takeTree(),new cw(i)}static init(n){let i=Math.min(3e3,n.doc.length),s=lw.create(n.facet(_y).parser,n,{from:0,to:i});return s.work(20,i)||s.takeTree(),new cw(s)}}yd.state=Ta.define({create:cw.init,update(t,n){for(let i of n.effects)if(i.is(yd.setState))return i.value;return n.startState.facet(_y)!=n.state.facet(_y)?cw.init(n.state):t.apply(n)}});let k5e=t=>{let n=setTimeout(()=>t(),500);return()=>clearTimeout(n)};typeof requestIdleCallback<"u"&&(k5e=t=>{let n=-1,i=setTimeout(()=>{n=requestIdleCallback(t,{timeout:400})},100);return()=>n<0?clearTimeout(i):cancelIdleCallback(n)});const $Y=typeof navigator<"u"&&null!==(BY=navigator.scheduling)&&void 0!==BY&&BY.isInputPending?()=>navigator.scheduling.isInputPending():null,M5e=Eo.fromClass(class{constructor(n){this.view=n,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(n){let i=this.view.state.field(yd.state).context;(i.updateViewport(n.view.viewport)||this.view.viewport.to>i.treeLen)&&this.scheduleWork(),(n.docChanged||n.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(i)}scheduleWork(){if(this.working)return;let{state:n}=this.view,i=n.field(yd.state);(i.tree!=i.context.tree||!i.context.isDone(n.doc.length))&&(this.working=k5e(this.work))}work(n){this.working=null;let i=Date.now();if(this.chunkEnd<i&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=i+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:s,viewport:{to:o}}=this.view,a=s.field(yd.state);if(a.tree==a.context.tree&&a.context.isDone(o+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,n&&!$Y?Math.max(25,n.timeRemaining()-5):1e9),c=a.context.treeLen<o&&s.doc.length>o+1e3,u=a.context.work(()=>$Y&&$Y()||Date.now()>l,o+(c?0:1e5));this.chunkBudget-=Date.now()-i,(u||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:yd.setState.of(new cw(a.context))})),this.chunkBudget>0&&!(u&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(n){n.scheduleOn&&(this.workScheduled++,n.scheduleOn.then(()=>this.scheduleWork()).catch(i=>Kc(this.view.state,i)).then(()=>this.workScheduled--),n.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),_y=xn.define({combine:t=>t.length?t[0]:null,enables:t=>[yd.state,M5e,kn.contentAttributes.compute([t],n=>{let i=n.facet(t);return i&&i.name?{"data-language":i.name}:{}})]});class k9{constructor(n,i=[]){this.language=n,this.support=i,this.extension=[n,i]}}const t2t=xn.define(),M9=xn.define({combine:t=>{if(!t.length)return"  ";let n=t[0];if(!n||/\S/.test(n)||Array.from(n).some(i=>i!=n[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return n}});function O_(t){let n=t.facet(M9);return 9==n.charCodeAt(0)?t.tabSize*n.length:n.length}function uw(t,n){let i="",s=t.tabSize,o=t.facet(M9)[0];if("\t"==o){for(;n>=s;)i+="\t",n-=s;o=" "}for(let a=0;a<n;a++)i+=o;return i}function A9(t,n){t instanceof Wc&&(t=new cT(t));for(let s of t.state.facet(t2t)){let o=s(t,n);if(void 0!==o)return o}let i=Ns(t.state);return i.length>=n?function n2t(t,n,i){let s=n.resolveStack(i),o=n.resolveInner(i,-1).resolve(i,0).enterUnfinishedNodesBefore(i);if(o!=s.node){let a=[];for(let l=o;l&&(l.from!=s.node.from||l.type!=s.node.type);l=l.parent)a.push(l);for(let l=a.length-1;l>=0;l--)s={node:a[l],next:s}}return I5e(s,t,i)}(t,i,n):null}class cT{constructor(n,i={}){this.state=n,this.options=i,this.unit=O_(n)}lineAt(n,i=1){let s=this.state.doc.lineAt(n),{simulateBreak:o,simulateDoubleBreak:a}=this.options;return null!=o&&o>=s.from&&o<=s.to?a&&o==n?{text:"",from:n}:(i<0?o<n:o<=n)?{text:s.text.slice(o-s.from),from:o}:{text:s.text.slice(0,o-s.from),from:s.from}:s}textAfterPos(n,i=1){if(this.options.simulateDoubleBreak&&n==this.options.simulateBreak)return"";let{text:s,from:o}=this.lineAt(n,i);return s.slice(n-o,Math.min(s.length,n+100-o))}column(n,i=1){let{text:s,from:o}=this.lineAt(n,i),a=this.countColumn(s,n-o),l=this.options.overrideIndentation?this.options.overrideIndentation(o):-1;return l>-1&&(a+=l-this.countColumn(s,s.search(/\S|$/))),a}countColumn(n,i=n.length){return J3(n,this.state.tabSize,i)}lineIndent(n,i=1){let{text:s,from:o}=this.lineAt(n,i),a=this.options.overrideIndentation;if(a){let l=a(o);if(l>-1)return l}return this.countColumn(s,s.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const uT=new Br;function I5e(t,n,i){for(let s=t;s;s=s.next){let o=i2t(s.node);if(o)return o(VY.create(n,i,s))}return 0}function i2t(t){let n=t.type.prop(uT);if(n)return n;let s,i=t.firstChild;if(i&&(s=i.type.prop(Br.closedBy))){let o=t.lastChild,a=o&&s.indexOf(o.name)>-1;return l=>N5e(l,!0,1,void 0,a&&!function r2t(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}(l)?o.from:void 0)}return null==t.parent?s2t:null}function s2t(){return 0}class VY extends cT{constructor(n,i,s){super(n.state,n.options),this.base=n,this.pos=i,this.context=s}get node(){return this.context.node}static create(n,i,s){return new VY(n,i,s)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(n){let i=this.state.doc.lineAt(n.from);for(;;){let s=n.resolve(i.from);for(;s.parent&&s.parent.from==s.from;)s=s.parent;if(o2t(s,n))break;i=this.state.doc.lineAt(s.from)}return this.lineIndent(i.from)}continue(){return I5e(this.context.next,this.base,this.pos)}}function o2t(t,n){for(let i=n;i;i=i.parent)if(t==i)return!0;return!1}function R5e({closing:t,align:n=!0,units:i=1}){return s=>N5e(s,n,i,t)}function N5e(t,n,i,s,o){let a=t.textAfter,l=a.match(/^\s*/)[0].length,c=s&&a.slice(l,l+s.length)==s||o==t.pos+l,u=n?function a2t(t){let n=t.node,i=n.childAfter(n.from),s=n.lastChild;if(!i)return null;let o=t.options.simulateBreak,a=t.state.doc.lineAt(i.from),l=null==o||o<=a.from?a.to:Math.min(a.to,o);for(let c=i.to;;){let u=n.childAfter(c);if(!u||u==s)return null;if(!u.type.isSkipped){if(u.from>=l)return null;let d=/^ */.exec(a.text.slice(i.to-a.from))[0].length;return{from:i.from,to:i.to+d}}c=u.to}}(t):null;return u?t.column(c?u.from:u.to):t.baseIndent+(c?0:t.unit*i)}function dT({except:t,units:n=1}={}){return i=>{let s=t&&t.test(i.textAfter);return i.baseIndent+(s?0:n*i.unit)}}function jY(){return Wc.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let n=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!n.length)return t;let i=t.newDoc,{head:s}=t.newSelection.main,o=i.lineAt(s);if(s>o.from+200)return t;let a=i.sliceString(o.from,s);if(!n.some(d=>d.test(a)))return t;let{state:l}=t,c=-1,u=[];for(let{head:d}of l.selection.ranges){let p=l.doc.lineAt(d);if(p.from==c)continue;c=p.from;let f=A9(l,p.from);if(null==f)continue;let h=/^\s*/.exec(p.text)[0],m=uw(l,f);h!=m&&u.push({from:p.from,to:p.from+h.length,insert:m})}return u.length?[t,{changes:u,sequential:!0}]:t})}const c2t=xn.define(),pT=new Br;function dw(t){let n=t.firstChild,i=t.lastChild;return n&&n.to<i.from?{from:n.to,to:i.type.isError?t.to:i.from}:null}function d2t(t){let n=t.lastChild;return n&&n.to==t.to&&n.type.isError}function fT(t,n,i){for(let s of t.facet(c2t)){let o=s(t,n,i);if(o)return o}return function u2t(t,n,i){let s=Ns(t);if(s.length<i)return null;let a=null;for(let l=s.resolveStack(i,1);l;l=l.next){let c=l.node;if(c.to<=i||c.from>i)continue;if(a&&c.from<n)break;let u=c.type.prop(pT);if(u&&(c.to<s.length-50||s.length==t.doc.length||!d2t(c))){let d=u(c,t);d&&d.from<=i&&d.from>=n&&d.to>i&&(a=d)}}return a}(t,n,i)}function L5e(t,n){let i=n.mapPos(t.from,1),s=n.mapPos(t.to,-1);return i>=s?void 0:{from:i,to:s}}const hT=hi.define({map:L5e}),pw=hi.define({map:L5e});function zY(t){let n=[];for(let{head:i}of t.state.selection.ranges)n.some(s=>s.from<=i&&s.to>=i)||n.push(t.lineBlockAt(i));return n}const Ey=Ta.define({create:()=>Xn.none,update(t,n){t=t.map(n.changes);for(let i of n.effects)if(i.is(hT)&&!p2t(t,i.value.from,i.value.to)){let{preparePlaceholder:s}=n.state.facet(UY),o=s?Xn.replace({widget:new _2t(s(n.state,i.value))}):$5e;t=t.update({add:[o.range(i.value.from,i.value.to)]})}else i.is(pw)&&(t=t.update({filter:(s,o)=>i.value.from!=s||i.value.to!=o,filterFrom:i.value.from,filterTo:i.value.to}));if(n.selection){let i=!1,{head:s}=n.selection.main;t.between(s,s,(o,a)=>{o<s&&a>s&&(i=!0)}),i&&(t=t.update({filterFrom:s,filterTo:s,filter:(o,a)=>a<=s||o>=s}))}return t},provide:t=>kn.decorations.from(t),toJSON(t,n){let i=[];return t.between(0,n.doc.length,(s,o)=>{i.push(s,o)}),i},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let n=[];for(let i=0;i<t.length;){let s=t[i++],o=t[i++];if("number"!=typeof s||"number"!=typeof o)throw new RangeError("Invalid JSON for fold state");n.push($5e.range(s,o))}return Xn.set(n,!0)}});function mT(t,n,i){var s;let o=null;return null===(s=t.field(Ey,!1))||void 0===s||s.between(n,i,(a,l)=>{(!o||o.from>a)&&(o={from:a,to:l})}),o}function p2t(t,n,i){let s=!1;return t.between(n,n,(o,a)=>{o==n&&a==i&&(s=!0)}),s}function HY(t,n){return t.field(Ey,!1)?n:n.concat(hi.appendConfig.of(F5e()))}function I9(t,n,i=!0){let s=t.state.doc.lineAt(n.from).number,o=t.state.doc.lineAt(n.to).number;return kn.announce.of(`${t.state.phrase(i?"Folded lines":"Unfolded lines")} ${s} ${t.state.phrase("to")} ${o}.`)}const v2t=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:t=>{for(let n of zY(t)){let i=fT(t.state,n.from,n.to);if(i)return t.dispatch({effects:HY(t.state,[hT.of(i),I9(t,i)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:t=>{if(!t.state.field(Ey,!1))return!1;let n=[];for(let i of zY(t)){let s=mT(t.state,i.from,i.to);s&&n.push(pw.of(s),I9(t,s,!1))}return n.length&&t.dispatch({effects:n}),n.length>0}},{key:"Ctrl-Alt-[",run:t=>{let{state:n}=t,i=[];for(let s=0;s<n.doc.length;){let o=t.lineBlockAt(s),a=fT(n,o.from,o.to);a&&i.push(hT.of(a)),s=(a?t.lineBlockAt(a.to):o).to+1}return i.length&&t.dispatch({effects:HY(t.state,i)}),!!i.length}},{key:"Ctrl-Alt-]",run:t=>{let n=t.state.field(Ey,!1);if(!n||!n.size)return!1;let i=[];return n.between(0,t.state.doc.length,(s,o)=>{i.push(pw.of({from:s,to:o}))}),t.dispatch({effects:i}),!0}}],b2t={placeholderDOM:null,preparePlaceholder:null,placeholderText:"\u2026"},UY=xn.define({combine:t=>xf(t,b2t)});function F5e(t){let n=[Ey,w2t];return t&&n.push(UY.of(t)),n}function B5e(t,n){let{state:i}=t,s=i.facet(UY),o=l=>{let c=t.lineBlockAt(t.posAtDOM(l.target)),u=mT(t.state,c.from,c.to);u&&t.dispatch({effects:pw.of(u)}),l.preventDefault()};if(s.placeholderDOM)return s.placeholderDOM(t,o,n);let a=document.createElement("span");return a.textContent=s.placeholderText,a.setAttribute("aria-label",i.phrase("folded code")),a.title=i.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=o,a}const $5e=Xn.replace({widget:new class extends zh{toDOM(t){return B5e(t,null)}}});class _2t extends zh{constructor(n){super(),this.value=n}eq(n){return this.value==n.value}toDOM(n){return B5e(n,this.value)}}const E2t={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class qY extends qh{constructor(n,i){super(),this.config=n,this.open=i}eq(n){return this.config==n.config&&this.open==n.open}toDOM(n){if(this.config.markerDOM)return this.config.markerDOM(this.open);let i=document.createElement("span");return i.textContent=this.open?this.config.openText:this.config.closedText,i.title=n.state.phrase(this.open?"Fold line":"Unfold line"),i}}const w2t=kn.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class xy{constructor(n,i){let s;function o(c){let u=hy.newName();return(s||(s=Object.create(null)))["."+u]=c,u}this.specs=n;const a="string"==typeof i.all?i.all:i.all?o(i.all):void 0,l=i.scope;this.scope=l instanceof yd?c=>c.prop(C_)==l.data:l?c=>c==l:void 0,this.style=V2e(n.map(c=>({tag:c.tag,class:c.class||o(Object.assign({},c,{tag:null}))})),{all:a}).style,this.module=s?new hy(s):null,this.themeType=i.themeType}static define(n,i){return new xy(n,i||{})}}const WY=xn.define(),V5e=xn.define({combine:t=>t.length?[t[0]]:null});function R9(t){let n=t.facet(WY);return n.length?n:t.facet(V5e)}function gT(t,n){let s,i=[S2t];return t instanceof xy&&(t.module&&i.push(kn.styleModule.of(t.module)),s=t.themeType),i.push(n?.fallback?V5e.of(t):s?WY.computeN([kn.darkTheme],o=>o.facet(kn.darkTheme)==("dark"==s)?[t]:[]):WY.of(t)),i}class C2t{constructor(n){this.markCache=Object.create(null),this.tree=Ns(n.state),this.decorations=this.buildDeco(n,R9(n.state)),this.decoratedTo=n.viewport.to}update(n){let i=Ns(n.state),s=R9(n.state),o=s!=R9(n.startState),{viewport:a}=n.view,l=n.changes.mapPos(this.decoratedTo,1);i.length<a.to&&!o&&i.type==this.tree.type&&l>=a.to?(this.decorations=this.decorations.map(n.changes),this.decoratedTo=l):(i!=this.tree||n.viewportChanged||o)&&(this.tree=i,this.decorations=this.buildDeco(n.view,s),this.decoratedTo=a.to)}buildDeco(n,i){if(!i||!this.tree.length)return Xn.none;let s=new Vh;for(let{from:o,to:a}of n.visibleRanges)j2e(this.tree,i,(l,c,u)=>{s.add(l,c,this.markCache[u]||(this.markCache[u]=Xn.mark({class:u})))},o,a);return s.finish()}}const S2t=Fm.high(Eo.fromClass(C2t,{decorations:t=>t.decorations})),O2t=xy.define([{tag:he.meta,color:"#404740"},{tag:he.link,textDecoration:"underline"},{tag:he.heading,textDecoration:"underline",fontWeight:"bold"},{tag:he.emphasis,fontStyle:"italic"},{tag:he.strong,fontWeight:"bold"},{tag:he.strikethrough,textDecoration:"line-through"},{tag:he.keyword,color:"#708"},{tag:[he.atom,he.bool,he.url,he.contentSeparator,he.labelName],color:"#219"},{tag:[he.literal,he.inserted],color:"#164"},{tag:[he.string,he.deleted],color:"#a11"},{tag:[he.regexp,he.escape,he.special(he.string)],color:"#e40"},{tag:he.definition(he.variableName),color:"#00f"},{tag:he.local(he.variableName),color:"#30a"},{tag:[he.typeName,he.namespace],color:"#085"},{tag:he.className,color:"#167"},{tag:[he.special(he.variableName),he.macroName],color:"#256"},{tag:he.definition(he.propertyName),color:"#00c"},{tag:he.comment,color:"#940"},{tag:he.invalid,color:"#f00"}]),T2t=kn.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),H5e=xn.define({combine:t=>xf(t,{afterCursor:!0,brackets:"()[]{}",maxScanDistance:1e4,renderMatch:k2t})}),P2t=Xn.mark({class:"cm-matchingBracket"}),D2t=Xn.mark({class:"cm-nonmatchingBracket"});function k2t(t){let n=[],i=t.matched?P2t:D2t;return n.push(i.range(t.start.from,t.start.to)),t.end&&n.push(i.range(t.end.from,t.end.to)),n}const M2t=[Ta.define({create:()=>Xn.none,update(t,n){if(!n.docChanged&&!n.selection)return t;let i=[],s=n.state.facet(H5e);for(let o of n.state.selection.ranges){if(!o.empty)continue;let a=Wh(n.state,o.head,-1,s)||o.head>0&&Wh(n.state,o.head-1,1,s)||s.afterCursor&&(Wh(n.state,o.head,1,s)||o.head<n.state.doc.length&&Wh(n.state,o.head+1,-1,s));a&&(i=i.concat(s.renderMatch(a,n.state)))}return Xn.set(i,!0)},provide:t=>kn.decorations.from(t)}),T2t];function GY(t={}){return[H5e.of(t),M2t]}const U5e=new Br;function KY(t,n,i){let s=t.prop(n<0?Br.openedBy:Br.closedBy);if(s)return s;if(1==t.name.length){let o=i.indexOf(t.name);if(o>-1&&o%2==(n<0?1:0))return[i[o+n]]}return null}function YY(t){let n=t.type.prop(U5e);return n?n(t.node):t}function Wh(t,n,i,s={}){let o=s.maxScanDistance||1e4,a=s.brackets||"()[]{}",l=Ns(t),c=l.resolveInner(n,i);for(let u=c;u;u=u.parent){let d=KY(u.type,i,a);if(d&&u.from<u.to){let p=YY(u);if(p&&(i>0?n>=p.from&&n<p.to:n>p.from&&n<=p.to))return A2t(0,0,i,u,p,d,a)}}return function I2t(t,n,i,s,o,a,l){let c=i<0?t.sliceDoc(n-1,n):t.sliceDoc(n,n+1),u=l.indexOf(c);if(u<0||u%2==0!=i>0)return null;let d={from:i<0?n-1:n,to:i>0?n+1:n},p=t.doc.iterRange(n,i>0?t.doc.length:0),f=0;for(let h=0;!p.next().done&&h<=a;){let m=p.value;i<0&&(h+=m.length);let y=n+h*i;for(let E=i>0?0:m.length-1,_=i>0?m.length:-1;E!=_;E+=i){let S=l.indexOf(m[E]);if(!(S<0||s.resolveInner(y+E,1).type!=o))if(S%2==0==i>0)f++;else{if(1==f)return{start:d,end:{from:y+E,to:y+E+1},matched:S>>1==u>>1};f--}}i>0&&(h+=m.length)}return p.done?{start:d,matched:!1}:null}(t,n,i,l,c.type,o,a)}function A2t(t,n,i,s,o,a,l){let c=s.parent,u={from:o.from,to:o.to},d=0,p=c?.cursor();if(p&&(i<0?p.childBefore(s.from):p.childAfter(s.to)))do{if(i<0?p.to<=s.from:p.from>=s.to){if(0==d&&a.indexOf(p.type.name)>-1&&p.from<p.to){let f=YY(p);return{start:u,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}if(KY(p.type,i,l))d++;else if(KY(p.type,-i,l)){if(0==d){let f=YY(p);return{start:u,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}d--}}}while(i<0?p.prevSibling():p.nextSibling());return{start:u,matched:!1}}const QY=Object.create(null),yT=[Ca.none],Q5e=[],Z5e=Object.create(null),J5e=Object.create(null);for(let[t,n]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])J5e[t]=t4e(QY,n);function ZY(t,n){Q5e.indexOf(t)>-1||(Q5e.push(t),console.warn(n))}function t4e(t,n){let i=[];for(let c of n.split(" ")){let u=[];for(let d of c.split(".")){let p=t[d]||he[d];p?"function"==typeof p?u.length?u=u.map(p):ZY(d,`Modifier ${d} used at start of tag`):u.length?ZY(d,`Tag ${d} used as modifier`):u=Array.isArray(p)?p:[p]:ZY(d,`Unknown highlighting tag ${d}`)}for(let d of u)i.push(d)}if(!i.length)return 0;let s=n.replace(/ /g,"_"),o=s+" "+i.map(c=>c.id),a=Z5e[o];if(a)return a.id;let l=Z5e[o]=Ca.define({id:yT.length,name:s,props:[o_({[s]:i})]});return yT.push(l),l.id}class s4e{constructor(n,i,s,o){this.state=n,this.pos=i,this.explicit=s,this.view=o,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(n){let i=Ns(this.state).resolveInner(this.pos,-1);for(;i&&n.indexOf(i.name)<0;)i=i.parent;return i?{from:i.from,to:this.pos,text:this.state.sliceDoc(i.from,this.pos),type:i.type}:null}matchBefore(n){let i=this.state.doc.lineAt(this.pos),s=Math.max(i.from,this.pos-250),o=i.text.slice(s-i.from,this.pos-i.from),a=o.search(l4e(n,!1));return a<0?null:{from:s+a,to:this.pos,text:o.slice(a)}}get aborted(){return null==this.abortListeners}addEventListener(n,i,s){"abort"==n&&this.abortListeners&&(this.abortListeners.push(i),s&&s.onDocChange&&(this.abortOnDocChange=!0))}}function o4e(t){let n=Object.keys(t).join(""),i=/\w/.test(n);return i&&(n=n.replace(/\w/g,"")),`[${i?"\\w":""}${n.replace(/[^\w\s]/g,"\\$&")}]`}function eX(t){let n=t.map(o=>"string"==typeof o?{label:o}:o),[i,s]=n.every(o=>/^\w+$/.test(o.label))?[/\w*$/,/\w+$/]:function q2t(t){let n=Object.create(null),i=Object.create(null);for(let{label:o}of t){n[o[0]]=!0;for(let a=1;a<o.length;a++)i[o[a]]=!0}let s=o4e(n)+o4e(i)+"*$";return[new RegExp("^"+s),new RegExp(s)]}(n);return o=>{let a=o.matchBefore(s);return a||o.explicit?{from:a?a.from:o.pos,options:n,validFor:i}:null}}class a4e{constructor(n,i,s,o){this.completion=n,this.source=i,this.match=s,this.score=o}}function T_(t){return t.selection.main.from}function l4e(t,n){var i;let{source:s}=t,o=n&&"^"!=s[0],a="$"!=s[s.length-1];return o||a?new RegExp(`${o?"^":""}(?:${s})${a?"$":""}`,null!==(i=t.flags)&&void 0!==i?i:t.ignoreCase?"i":""):t}const tX=Bm.define(),c4e=new WeakMap;function G2t(t){if(!Array.isArray(t))return t;let n=c4e.get(t);return n||c4e.set(t,n=eX(t)),n}const N9=hi.define(),vT=hi.define();class K2t{constructor(n){this.pattern=n,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let i=0;i<n.length;){let s=Tu(n,i),o=Bh(s);this.chars.push(s);let a=n.slice(i,i+o),l=a.toUpperCase();this.folded.push(Tu(l==a?a.toLowerCase():l,0)),i+=o}this.astral=n.length!=this.chars.length}ret(n,i){return this.score=n,this.matched=i,this}match(n){if(0==this.pattern.length)return this.ret(-100,[]);if(n.length<this.pattern.length)return null;let{chars:i,folded:s,any:o,precise:a,byWord:l}=this;if(1==i.length){let v=Tu(n,0),w=Bh(v),g=w==n.length?0:-100;if(v!=i[0]){if(v!=s[0])return null;g+=-200}return this.ret(g,[0,w])}let c=n.indexOf(this.pattern);if(0==c)return this.ret(n.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=i.length,d=0;if(c<0){for(let v=0,w=Math.min(n.length,200);v<w&&d<u;){let g=Tu(n,v);(g==i[d]||g==s[d])&&(o[d++]=v),v+=Bh(g)}if(d<u)return null}let p=0,f=0,h=!1,m=0,y=-1,E=-1,_=/[a-z]/.test(n),S=!0;for(let v=0,w=Math.min(n.length,200),g=0;v<w&&f<u;){let x=Tu(n,v);c<0&&(p<u&&x==i[p]&&(a[p++]=v),m<u&&(x==i[m]||x==s[m]?(0==m&&(y=v),E=v+1,m++):m=0));let T,I=x<255?x>=48&&x<=57||x>=97&&x<=122?2:x>=65&&x<=90?1:0:(T=DK(x))!=T.toLowerCase()?1:T!=T.toUpperCase()?2:0;(!v||1==I&&_||0==g&&0!=I)&&(i[f]==x||s[f]==x&&(h=!0)?l[f++]=v:l.length&&(S=!1)),g=I,v+=Bh(x)}return f==u&&0==l[0]&&S?this.result((h?-200:0)-100,l,n):m==u&&0==y?this.ret(-200-n.length+(E==n.length?0:-100),[0,E]):c>-1?this.ret(-700-n.length,[c,c+this.pattern.length]):m==u?this.ret(-900-n.length,[y,E]):f==u?this.result((h?-200:0)-100-700+(S?0:-1100),l,n):2==i.length?null:this.result((o[0]?-700:0)-200-1100,o,n)}result(n,i,s){let o=[],a=0;for(let l of i){let c=l+(this.astral?Bh(Tu(s,l)):1);a&&o[a-1]==l?o[a-1]=c:(o[a++]=l,o[a++]=c)}return this.ret(n-s.length,o)}}class Y2t{constructor(n){this.pattern=n,this.matched=[],this.score=0,this.folded=n.toLowerCase()}match(n){if(n.length<this.pattern.length)return null;let i=n.slice(0,this.pattern.length),s=i==this.pattern?0:i.toLowerCase()==this.folded?-200:null;return null==s?null:(this.matched=[0,i.length],this.score=s+(n.length==this.pattern.length?0:-100),this)}}const ll=xn.define({combine:t=>xf(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:X2t,filterStrict:!1,compareCompletions:(n,i)=>n.label.localeCompare(i.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(n,i)=>n&&i,closeOnBlur:(n,i)=>n&&i,icons:(n,i)=>n&&i,tooltipClass:(n,i)=>s=>u4e(n(s),i(s)),optionClass:(n,i)=>s=>u4e(n(s),i(s)),addToOptions:(n,i)=>n.concat(i),filterStrict:(n,i)=>n||i})});function u4e(t,n){return t?n?t+" "+n:t:n}function X2t(t,n,i,s,o,a){let p,f,l=t.textDirection==Is.RTL,c=l,u=!1,d="top",h=n.left-o.left,m=o.right-n.right,y=s.right-s.left,E=s.bottom-s.top;if(c&&h<Math.min(y,m)?c=!1:!c&&m<Math.min(y,h)&&(c=!0),y<=(c?h:m))p=Math.max(o.top,Math.min(i.top,o.bottom-E))-n.top,f=Math.min(400,c?h:m);else{u=!0,f=Math.min(400,(l?n.right:o.right-n.left)-30);let v=o.bottom-n.bottom;v>=E||v>n.top?p=i.bottom-n.top:(d="bottom",p=n.bottom-i.top)}return{style:`${d}: ${p/((n.bottom-n.top)/a.offsetHeight)}px; max-width: ${f/((n.right-n.left)/a.offsetWidth)}px`,class:"cm-completionInfo-"+(u?l?"left-narrow":"right-narrow":c?"left":"right")}}function nX(t,n,i){if(t<=i)return{from:0,to:t};if(n<0&&(n=0),n<=t>>1){let o=Math.floor(n/i);return{from:o*i,to:(o+1)*i}}let s=Math.floor((t-n)/i);return{from:t-(s+1)*i,to:t-s*i}}class Z2t{constructor(n,i,s){this.view=n,this.stateField=i,this.applyCompletion=s,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let o=n.state.field(i),{options:a,selected:l}=o.open,c=n.state.facet(ll);this.optionContent=function Q2t(t){let n=t.addToOptions.slice();return t.icons&&n.push({render(i){let s=document.createElement("div");return s.classList.add("cm-completionIcon"),i.type&&s.classList.add(...i.type.split(/\s+/g).map(o=>"cm-completionIcon-"+o)),s.setAttribute("aria-hidden","true"),s},position:20}),n.push({render(i,s,o,a){let l=document.createElement("span");l.className="cm-completionLabel";let c=i.displayLabel||i.label,u=0;for(let d=0;d<a.length;){let p=a[d++],f=a[d++];p>u&&l.appendChild(document.createTextNode(c.slice(u,p)));let h=l.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(c.slice(p,f))),h.className="cm-completionMatchedText",u=f}return u<c.length&&l.appendChild(document.createTextNode(c.slice(u))),l},position:50},{render(i){if(!i.detail)return null;let s=document.createElement("span");return s.className="cm-completionDetail",s.textContent=i.detail,s},position:80}),n.sort((i,s)=>i.position-s.position).map(i=>i.render)}(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=nX(a.length,l,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(n.state),this.dom.addEventListener("mousedown",u=>{let{options:d}=n.state.field(i).open;for(let f,p=u.target;p&&p!=this.dom;p=p.parentNode)if("LI"==p.nodeName&&(f=/-(\d+)$/.exec(p.id))&&+f[1]<d.length)return this.applyCompletion(n,d[+f[1]]),void u.preventDefault()}),this.dom.addEventListener("focusout",u=>{let d=n.state.field(this.stateField,!1);d&&d.tooltip&&n.state.facet(ll).closeOnBlur&&u.relatedTarget!=n.contentDOM&&n.dispatch({effects:vT.of(null)})}),this.showOptions(a,o.id)}mount(){this.updateSel()}showOptions(n,i){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(n,i,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(n){var i;let s=n.state.field(this.stateField),o=n.startState.field(this.stateField);if(this.updateTooltipClass(n.state),s!=o){let{options:a,selected:l,disabled:c}=s.open;(!o.open||o.open.options!=a)&&(this.range=nX(a.length,l,n.state.facet(ll).maxRenderedOptions),this.showOptions(a,s.id)),this.updateSel(),c!=(null===(i=o.open)||void 0===i?void 0:i.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!c)}}updateTooltipClass(n){let i=this.tooltipClass(n);if(i!=this.currentClass){for(let s of this.currentClass.split(" "))s&&this.dom.classList.remove(s);for(let s of i.split(" "))s&&this.dom.classList.add(s);this.currentClass=i}}positioned(n){this.space=n,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let n=this.view.state.field(this.stateField),i=n.open;if((i.selected>-1&&i.selected<this.range.from||i.selected>=this.range.to)&&(this.range=nX(i.options.length,i.selected,this.view.state.facet(ll).maxRenderedOptions),this.showOptions(i.options,n.id)),this.updateSelectedOption(i.selected)){this.destroyInfo();let{completion:s}=i.options[i.selected],{info:o}=s;if(!o)return;let a="string"==typeof o?document.createTextNode(o):o(s);if(!a)return;"then"in a?a.then(l=>{l&&this.view.state.field(this.stateField,!1)==n&&this.addInfoPane(l,s)}).catch(l=>Kc(this.view.state,l,"completion info")):this.addInfoPane(a,s)}}addInfoPane(n,i){this.destroyInfo();let s=this.info=document.createElement("div");if(s.className="cm-tooltip cm-completionInfo",null!=n.nodeType)s.appendChild(n),this.infoDestroy=null;else{let{dom:o,destroy:a}=n;s.appendChild(o),this.infoDestroy=a||null}this.dom.appendChild(s),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(n){let i=null;for(let s=this.list.firstChild,o=this.range.from;s;s=s.nextSibling,o++)"LI"==s.nodeName&&s.id?o==n?s.hasAttribute("aria-selected")||(s.setAttribute("aria-selected","true"),i=s):s.hasAttribute("aria-selected")&&s.removeAttribute("aria-selected"):o--;return i&&function eEt(t,n){let i=t.getBoundingClientRect(),s=n.getBoundingClientRect(),o=i.height/t.offsetHeight;s.top<i.top?t.scrollTop-=(i.top-s.top)/o:s.bottom>i.bottom&&(t.scrollTop+=(s.bottom-i.bottom)/o)}(this.list,i),i}measureInfo(){let n=this.dom.querySelector("[aria-selected]");if(!n||!this.info)return null;let i=this.dom.getBoundingClientRect(),s=this.info.getBoundingClientRect(),o=n.getBoundingClientRect(),a=this.space;if(!a){let l=this.dom.ownerDocument.documentElement;a={left:0,top:0,right:l.clientWidth,bottom:l.clientHeight}}return o.top>Math.min(a.bottom,i.bottom)-10||o.bottom<Math.max(a.top,i.top)+10?null:this.view.state.facet(ll).positionInfo(this.view,i,o,s,a,this.dom)}placeInfo(n){this.info&&(n?(n.style&&(this.info.style.cssText=n.style),this.info.className="cm-tooltip cm-completionInfo "+(n.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(n,i,s){const o=document.createElement("ul");o.id=i,o.setAttribute("role","listbox"),o.setAttribute("aria-expanded","true"),o.setAttribute("aria-label",this.view.state.phrase("Completions")),o.addEventListener("mousedown",l=>{l.target==o&&l.preventDefault()});let a=null;for(let l=s.from;l<s.to;l++){let{completion:c,match:u}=n[l],{section:d}=c;if(d){let h="string"==typeof d?d:d.name;h!=a&&(l>s.from||0==s.from)&&(a=h,"string"!=typeof d&&d.header?o.appendChild(d.header(d)):o.appendChild(document.createElement("completion-section")).textContent=h)}const p=o.appendChild(document.createElement("li"));p.id=i+"-"+l,p.setAttribute("role","option");let f=this.optionClass(c);f&&(p.className=f);for(let h of this.optionContent){let m=h(c,this.view.state,this.view,u);m&&p.appendChild(m)}}return s.from&&o.classList.add("cm-completionListIncompleteTop"),s.to<n.length&&o.classList.add("cm-completionListIncompleteBottom"),o}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function J2t(t,n){return i=>new Z2t(i,t,n)}function d4e(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}class fw{constructor(n,i,s,o,a,l){this.options=n,this.attrs=i,this.tooltip=s,this.timestamp=o,this.selected=a,this.disabled=l}setSelected(n,i){return n==this.selected||n>=this.options.length?this:new fw(this.options,p4e(i,n),this.tooltip,this.timestamp,n,this.disabled)}static build(n,i,s,o,a,l){if(o&&!l&&n.some(d=>d.isPending))return o.setDisabled();let c=function tEt(t,n){let i=[],s=null,o=d=>{i.push(d);let{section:p}=d.completion;if(p){s||(s=[]);let f="string"==typeof p?p:p.name;s.some(h=>h.name==f)||s.push("string"==typeof p?{name:f}:p)}},a=n.facet(ll);for(let d of t)if(d.hasResult()){let p=d.result.getMatch;if(!1===d.result.filter)for(let f of d.result.options)o(new a4e(f,d.source,p?p(f):[],1e9-i.length));else{let h,f=n.sliceDoc(d.from,d.to),m=a.filterStrict?new Y2t(f):new K2t(f);for(let y of d.result.options)if(h=m.match(y.label)){let E=y.displayLabel?p?p(y,h.matched):[]:h.matched;o(new a4e(y,d.source,E,h.score+(y.boost||0)))}}}if(s){let d=Object.create(null),p=0,f=(h,m)=>{var y,E;return(null!==(y=h.rank)&&void 0!==y?y:1e9)-(null!==(E=m.rank)&&void 0!==E?E:1e9)||(h.name<m.name?-1:1)};for(let h of s.sort(f))p-=1e5,d[h.name]=p;for(let h of i){let{section:m}=h.completion;m&&(h.score+=d["string"==typeof m?m:m.name])}}let l=[],c=null,u=a.compareCompletions;for(let d of i.sort((p,f)=>f.score-p.score||u(p.completion,f.completion))){let p=d.completion;!c||c.label!=p.label||c.detail!=p.detail||null!=c.type&&null!=p.type&&c.type!=p.type||c.apply!=p.apply||c.boost!=p.boost?l.push(d):d4e(d.completion)>d4e(c)&&(l[l.length-1]=d),c=d.completion}return l}(n,i);if(!c.length)return o&&n.some(d=>d.isPending)?o.setDisabled():null;let u=i.facet(ll).selectOnOpen?0:-1;if(o&&o.selected!=u&&-1!=o.selected){let d=o.options[o.selected].completion;for(let p=0;p<c.length;p++)if(c[p].completion==d){u=p;break}}return new fw(c,p4e(s,u),{pos:n.reduce((d,p)=>p.hasResult()?Math.min(d,p.from):d,1e8),create:aEt,above:a.aboveCursor},o?o.timestamp:Date.now(),u,!1)}map(n){return new fw(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:n.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new fw(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class L9{constructor(n,i,s){this.active=n,this.id=i,this.open=s}static start(){return new L9(sEt,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(n){let{state:i}=n,s=i.facet(ll),a=(s.override||i.languageDataAt("autocomplete",T_(i)).map(G2t)).map(u=>(this.active.find(p=>p.source==u)||new gp(u,this.active.some(p=>0!=p.state)?1:0)).update(n,s));a.length==this.active.length&&a.every((u,d)=>u==this.active[d])&&(a=this.active);let l=this.open,c=n.effects.some(u=>u.is(rX));l&&n.docChanged&&(l=l.map(n.changes)),n.selection||a.some(u=>u.hasResult()&&n.changes.touchesRange(u.from,u.to))||!function nEt(t,n){if(t==n)return!0;for(let i=0,s=0;;){for(;i<t.length&&!t[i].hasResult();)i++;for(;s<n.length&&!n[s].hasResult();)s++;let o=i==t.length,a=s==n.length;if(o||a)return o==a;if(t[i++].result!=n[s++].result)return!1}}(a,this.active)||c?l=fw.build(a,i,this.id,l,s,c):l&&l.disabled&&!a.some(u=>u.isPending)&&(l=null),!l&&a.every(u=>!u.isPending)&&a.some(u=>u.hasResult())&&(a=a.map(u=>u.hasResult()?new gp(u.source,0):u));for(let u of n.effects)u.is(iX)&&(l=l&&l.setSelected(u.value,this.id));return a==this.active&&l==this.open?this:new L9(a,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?rEt:iEt}}const rEt={"aria-autocomplete":"list"},iEt={};function p4e(t,n){let i={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return n>-1&&(i["aria-activedescendant"]=t+"-"+n),i}const sEt=[];function f4e(t,n){if(t.isUserEvent("input.complete")){let s=t.annotation(tX);if(s&&n.activateOnCompletion(s))return 12}let i=t.isUserEvent("input.type");return i&&n.activateOnTyping?5:i?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class gp{constructor(n,i,s=!1){this.source=n,this.state=i,this.explicit=s}hasResult(){return!1}get isPending(){return 1==this.state}update(n,i){let s=f4e(n,i),o=this;(8&s||16&s&&this.touches(n))&&(o=new gp(o.source,0)),4&s&&0==o.state&&(o=new gp(this.source,1)),o=o.updateFor(n,s);for(let a of n.effects)if(a.is(N9))o=new gp(o.source,1,a.value);else if(a.is(vT))o=new gp(o.source,0);else if(a.is(rX))for(let l of a.value)l.source==o.source&&(o=l);return o}updateFor(n,i){return this.map(n.changes)}map(n){return this}touches(n){return n.changes.touchesRange(T_(n.state))}}class hw extends gp{constructor(n,i,s,o,a,l){super(n,3,i),this.limit=s,this.result=o,this.from=a,this.to=l}hasResult(){return!0}updateFor(n,i){var s;if(!(3&i))return this.map(n.changes);let o=this.result;o.map&&!n.changes.empty&&(o=o.map(o,n.changes));let a=n.changes.mapPos(this.from),l=n.changes.mapPos(this.to,1),c=T_(n.state);if(c>l||!o||2&i&&(T_(n.startState)==this.from||c<this.limit))return new gp(this.source,4&i?1:0);let u=n.changes.mapPos(this.limit);return function oEt(t,n,i,s){if(!t)return!1;let o=n.sliceDoc(i,s);return"function"==typeof t?t(o,i,s,n):l4e(t,!0).test(o)}(o.validFor,n.state,a,l)?new hw(this.source,this.explicit,u,o,a,l):o.update&&(o=o.update(o,a,l,new s4e(n.state,c,!1)))?new hw(this.source,this.explicit,u,o,o.from,null!==(s=o.to)&&void 0!==s?s:T_(n.state)):new gp(this.source,1,this.explicit)}map(n){return n.empty?this:(this.result.map?this.result.map(this.result,n):this.result)?new hw(this.source,this.explicit,n.mapPos(this.limit),this.result,n.mapPos(this.from),n.mapPos(this.to,1)):new gp(this.source,0)}touches(n){return n.changes.touchesRange(this.from,this.to)}}const rX=hi.define({map:(t,n)=>t.map(i=>i.map(n))}),iX=hi.define(),cl=Ta.define({create:()=>L9.start(),update:(t,n)=>t.update(n),provide:t=>[S9.from(t,n=>n.tooltip),kn.contentAttributes.from(t,n=>n.attrs)]});function sX(t,n){const i=n.completion.apply||n.completion.label;let s=t.state.field(cl).active.find(o=>o.source==n.source);return s instanceof hw&&("string"==typeof i?t.dispatch(Object.assign(Object.assign({},function W2t(t,n,i,s){let{main:o}=t.selection,a=i-o.from,l=s-o.from;return Object.assign(Object.assign({},t.changeByRange(c=>{if(c!=o&&i!=s&&t.sliceDoc(c.from+a,c.from+l)!=t.sliceDoc(i,s))return{range:c};let u=t.toText(n);return{changes:{from:c.from+a,to:s==o.from?c.to:c.from+l,insert:u},range:Rt.cursor(c.from+a+u.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}(t.state,i,s.from,s.to)),{annotations:tX.of(n.completion)})):i(t,n.completion,s.from,s.to),!0)}const aEt=J2t(cl,sX);function F9(t,n="option"){return i=>{let s=i.state.field(cl,!1);if(!s||!s.open||s.open.disabled||Date.now()-s.open.timestamp<i.state.facet(ll).interactionDelay)return!1;let a,o=1;"page"==n&&(a=y5e(i,s.open.tooltip))&&(o=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:l}=s.open.options,c=s.open.selected>-1?s.open.selected+o*(t?1:-1):t?0:l-1;return c<0?c="page"==n?0:l-1:c>=l&&(c="page"==n?l-1:0),i.dispatch({effects:iX.of(c)}),!0}}const h4e=t=>!!t.state.field(cl,!1)&&(t.dispatch({effects:N9.of(!0)}),!0);class uEt{constructor(n,i){this.active=n,this.context=i,this.time=Date.now(),this.updates=[],this.done=void 0}}const fEt=Eo.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let n of t.state.field(cl).active)n.isPending&&this.startQuery(n)}update(t){let n=t.state.field(cl),i=t.state.facet(ll);if(!t.selectionSet&&!t.docChanged&&t.startState.field(cl)==n)return;let s=t.transactions.some(a=>{let l=f4e(a,i);return 8&l||(a.selection||a.docChanged)&&!(3&l)});for(let a=0;a<this.running.length;a++){let l=this.running[a];if(s||l.context.abortOnDocChange&&t.docChanged||l.updates.length+t.transactions.length>50&&Date.now()-l.time>1e3){for(let c of l.context.abortListeners)try{c()}catch(u){Kc(this.view.state,u)}l.context.abortListeners=null,this.running.splice(a--,1)}else l.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(a=>a.effects.some(l=>l.is(N9)))&&(this.pendingStart=!0);let o=this.pendingStart?50:i.activateOnTypingDelay;if(this.debounceUpdate=n.active.some(a=>a.isPending&&!this.running.some(l=>l.active.source==a.source))?setTimeout(()=>this.startUpdate(),o):-1,0!=this.composing)for(let a of t.transactions)a.isUserEvent("input.type")?this.composing=2:2==this.composing&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,n=t.field(cl);for(let i of n.active)i.isPending&&!this.running.some(s=>s.active.source==i.source)&&this.startQuery(i);this.running.length&&n.open&&n.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ll).updateSyncTime))}startQuery(t){let{state:n}=this.view,i=T_(n),s=new s4e(n,i,t.explicit,this.view),o=new uEt(t,s);this.running.push(o),Promise.resolve(t.source(s)).then(a=>{o.context.aborted||(o.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:vT.of(null)}),Kc(this.view.state,a)})}scheduleAccept(){this.running.every(t=>void 0!==t.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ll).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let n=[],i=this.view.state.facet(ll),s=this.view.state.field(cl);for(let o=0;o<this.running.length;o++){let a=this.running[o];if(void 0===a.done)continue;if(this.running.splice(o--,1),a.done){let c=T_(a.updates.length?a.updates[0].startState:this.view.state),u=Math.min(c,a.done.from+(a.active.explicit?0:1)),d=new hw(a.active.source,a.active.explicit,u,a.done,a.done.from,null!==(t=a.done.to)&&void 0!==t?t:c);for(let p of a.updates)d=d.update(p,i);if(d.hasResult()){n.push(d);continue}}let l=s.active.find(c=>c.source==a.active.source);if(l&&l.isPending)if(null==a.done){let c=new gp(a.active.source,0);for(let u of a.updates)c=c.update(u,i);c.isPending||n.push(c)}else this.startQuery(l)}(n.length||s.open&&s.open.disabled)&&this.view.dispatch({effects:rX.of(n)})}},{eventHandlers:{blur(t){let n=this.view.state.field(cl,!1);if(n&&n.tooltip&&this.view.state.facet(ll).closeOnBlur){let i=n.open&&y5e(this.view,n.open.tooltip);(!i||!i.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:vT.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:N9.of(!1)}),20),this.composing=0}}}),hEt="object"==typeof navigator&&/Win/.test(navigator.platform),mEt=Fm.highest(kn.domEventHandlers({keydown(t,n){let i=n.state.field(cl,!1);if(!i||!i.open||i.open.disabled||i.open.selected<0||t.key.length>1||t.ctrlKey&&(!hEt||!t.altKey)||t.metaKey)return!1;let s=i.open.options[i.open.selected],o=i.active.find(l=>l.source==s.source),a=s.completion.commitCharacters||o.result.commitCharacters;return a&&a.indexOf(t.key)>-1&&sX(n,s),!1}})),m4e=kn.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1d465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1d436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1d461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1f511}\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class gEt{constructor(n,i,s,o){this.field=n,this.line=i,this.from=s,this.to=o}}class oX{constructor(n,i,s){this.field=n,this.from=i,this.to=s}map(n){let i=n.mapPos(this.from,-1,Ll.TrackDel),s=n.mapPos(this.to,1,Ll.TrackDel);return null==i||null==s?null:new oX(this.field,i,s)}}class aX{constructor(n,i){this.lines=n,this.fieldPositions=i}instantiate(n,i){let s=[],o=[i],a=n.doc.lineAt(i),l=/^\s*/.exec(a.text)[0];for(let u of this.lines){if(s.length){let d=l,p=/^\t*/.exec(u)[0].length;for(let f=0;f<p;f++)d+=n.facet(M9);o.push(i+d.length-p),u=d+u.slice(p)}s.push(u),i+=u.length+1}return{text:s,ranges:this.fieldPositions.map(u=>new oX(u.field,o[u.line]+u.from,o[u.line]+u.to))}}static parse(n){let a,i=[],s=[],o=[];for(let l of n.split(/\r\n?|\n/)){for(;a=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(l);){let c=a[1]?+a[1]:null,u=a[2]||a[3]||"",d=-1,p=u.replace(/\\[{}]/g,f=>f[1]);for(let f=0;f<i.length;f++)(null!=c?i[f].seq==c:p&&i[f].name==p)&&(d=f);if(d<0){let f=0;for(;f<i.length&&(null==c||null!=i[f].seq&&i[f].seq<c);)f++;i.splice(f,0,{seq:c,name:p}),d=f;for(let h of o)h.field>=d&&h.field++}o.push(new gEt(d,s.length,a.index,a.index+p.length)),l=l.slice(0,a.index)+u+l.slice(a.index+a[0].length)}l=l.replace(/\\([{}])/g,(c,u,d)=>{for(let p of o)p.line==s.length&&p.from>d&&(p.from--,p.to--);return u}),s.push(l)}return new aX(s,o)}}let yEt=Xn.widget({widget:new class extends zh{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),vEt=Xn.mark({class:"cm-snippetField"});class mw{constructor(n,i){this.ranges=n,this.active=i,this.deco=Xn.set(n.map(s=>(s.from==s.to?yEt:vEt).range(s.from,s.to)))}map(n){let i=[];for(let s of this.ranges){let o=s.map(n);if(!o)return null;i.push(o)}return new mw(i,this.active)}selectionInsideField(n){return n.ranges.every(i=>this.ranges.some(s=>s.field==this.active&&s.from<=i.from&&s.to>=i.to))}}const bT=hi.define({map:(t,n)=>t&&t.map(n)}),bEt=hi.define(),P_=Ta.define({create:()=>null,update(t,n){for(let i of n.effects){if(i.is(bT))return i.value;if(i.is(bEt)&&t)return new mw(t.ranges,i.value)}return t&&n.docChanged&&(t=t.map(n.changes)),t&&n.selection&&!t.selectionInsideField(n.selection)&&(t=null),t},provide:t=>kn.decorations.from(t,n=>n?n.deco:Xn.none)});function lX(t,n){return Rt.create(t.filter(i=>i.field==n).map(i=>Rt.range(i.from,i.to)))}function _Et(t){let n=aX.parse(t);return(i,s,o,a)=>{let{text:l,ranges:c}=n.instantiate(i.state,o),{main:u}=i.state.selection,d={changes:{from:o,to:a==u.from?u.to:a,insert:Vi.of(l)},scrollIntoView:!0,annotations:s?[tX.of(s),Ef.userEvent.of("input.complete")]:void 0};if(c.length&&(d.selection=lX(c,0)),c.some(p=>p.field>0)){let p=new mw(c,0),f=d.effects=[bT.of(p)];void 0===i.state.field(P_,!1)&&f.push(hi.appendConfig.of([P_,SEt,OEt,m4e]))}i.dispatch(i.state.update(d))}}function g4e(t){return({state:n,dispatch:i})=>{let s=n.field(P_,!1);if(!s||t<0&&0==s.active)return!1;let o=s.active+t,a=t>0&&!s.ranges.some(l=>l.field==o+t);return i(n.update({selection:lX(s.ranges,o),effects:bT.of(a?null:new mw(s.ranges,o)),scrollIntoView:!0})),!0}}const CEt=[{key:"Tab",run:g4e(1),shift:g4e(-1)},{key:"Escape",run:({state:t,dispatch:n})=>!!t.field(P_,!1)&&(n(t.update({effects:bT.of(null)})),!0)}],y4e=xn.define({combine:t=>t.length?t[0]:CEt}),SEt=Fm.highest(sw.compute([y4e],t=>t.facet(y4e)));function Gh(t,n){return Object.assign(Object.assign({},n),{apply:_Et(t)})}const OEt=kn.domEventHandlers({mousedown(t,n){let s,i=n.state.field(P_,!1);if(!i||null==(s=n.posAtCoords({x:t.clientX,y:t.clientY})))return!1;let o=i.ranges.find(a=>a.from<=s&&a.to>=s);return!(!o||o.field==i.active||(n.dispatch({selection:lX(i.ranges,o.field),effects:bT.of(i.ranges.some(a=>a.field>o.field)?new mw(i.ranges,o.field):null),scrollIntoView:!0}),0))}}),_T={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},D_=hi.define({map:(t,n)=>n.mapPos(t,-1,Ll.TrackAfter)??void 0}),cX=new class extends b_{};cX.startSide=1,cX.endSide=-1;const x4e=Ta.define({create:()=>_o.empty,update(t,n){if(t=t.map(n.changes),n.selection){let i=n.state.doc.lineAt(n.selection.main.head);t=t.update({filter:s=>s>=i.from&&s<=i.to})}for(let i of n.effects)i.is(D_)&&(t=t.update({add:[cX.range(i.value,i.value+1)]}));return t}});function uX(){return[kEt,x4e]}const dX="()[]{}<>\xab\xbb\xbb\xab\uff3b\uff3d\uff5b\uff5d";function w4e(t){for(let n=0;n<16;n+=2)if(dX.charCodeAt(n)==t)return dX.charAt(n+1);return DK(t<128?t:t+1)}function C4e(t,n){return t.languageDataAt("closeBrackets",n)[0]||_T}const DEt="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),kEt=kn.inputHandler.of((t,n,i,s)=>{if((DEt?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let o=t.state.selection.main;if(s.length>2||2==s.length&&1==Bh(Tu(s,0))||n!=o.from||i!=o.to)return!1;let a=function AEt(t,n){let i=C4e(t,t.selection.main.head),s=i.brackets||_T.brackets;for(let o of s){let a=w4e(Tu(o,0));if(n==o)return a==o?LEt(t,o,s.indexOf(o+o+o)>-1,i):REt(t,o,a,i.before||_T.before);if(n==a&&S4e(t,t.selection.main.from))return NEt(t,0,a)}return null}(t.state,s);return!!a&&(t.dispatch(a),!0)}),MEt=[{key:"Backspace",run:({state:t,dispatch:n})=>{if(t.readOnly)return!1;let s=C4e(t,t.selection.main.head).brackets||_T.brackets,o=null,a=t.changeByRange(l=>{if(l.empty){let c=function IEt(t,n){let i=t.sliceString(n-2,n);return Bh(Tu(i,0))==i.length?i:i.slice(1)}(t.doc,l.head);for(let u of s)if(u==c&&B9(t.doc,l.head)==w4e(Tu(u,0)))return{changes:{from:l.head-u.length,to:l.head+u.length},range:Rt.cursor(l.head-u.length)}}return{range:o=l}});return o||n(t.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!o}}];function S4e(t,n){let i=!1;return t.field(x4e).between(0,t.doc.length,s=>{s==n&&(i=!0)}),i}function B9(t,n){let i=t.sliceString(n,n+2);return i.slice(0,Bh(Tu(i,0)))}function REt(t,n,i,s){let o=null,a=t.changeByRange(l=>{if(!l.empty)return{changes:[{insert:n,from:l.from},{insert:i,from:l.to}],effects:D_.of(l.to+n.length),range:Rt.range(l.anchor+n.length,l.head+n.length)};let c=B9(t.doc,l.head);return!c||/\s/.test(c)||s.indexOf(c)>-1?{changes:{insert:n+i,from:l.head},effects:D_.of(l.head+n.length),range:Rt.cursor(l.head+n.length)}:{range:o=l}});return o?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function NEt(t,n,i){let s=null,o=t.changeByRange(a=>a.empty&&B9(t.doc,a.head)==i?{changes:{from:a.head,to:a.head+i.length,insert:i},range:Rt.cursor(a.head+i.length)}:s={range:a});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function LEt(t,n,i,s){let o=s.stringPrefixes||_T.stringPrefixes,a=null,l=t.changeByRange(c=>{if(!c.empty)return{changes:[{insert:n,from:c.from},{insert:n,from:c.to}],effects:D_.of(c.to+n.length),range:Rt.range(c.anchor+n.length,c.head+n.length)};let p,u=c.head,d=B9(t.doc,u);if(d==n){if(O4e(t,u))return{changes:{insert:n+n,from:u},effects:D_.of(u+n.length),range:Rt.cursor(u+n.length)};if(S4e(t,u)){let h=i&&t.sliceDoc(u,u+3*n.length)==n+n+n?n+n+n:n;return{changes:{from:u,to:u+h.length,insert:h},range:Rt.cursor(u+h.length)}}}else{if(i&&t.sliceDoc(u-2*n.length,u)==n+n&&(p=T4e(t,u-2*n.length,o))>-1&&O4e(t,p))return{changes:{insert:n+n+n+n,from:u},effects:D_.of(u+n.length),range:Rt.cursor(u+n.length)};if(t.charCategorizer(u)(d)!=bo.Word&&T4e(t,u,o)>-1&&!function FEt(t,n,i,s){let o=Ns(t).resolveInner(n,-1),a=s.reduce((l,c)=>Math.max(l,c.length),0);for(let l=0;l<5;l++){let c=t.sliceDoc(o.from,Math.min(o.to,o.from+i.length+a)),u=c.indexOf(i);if(!u||u>-1&&s.indexOf(c.slice(0,u))>-1){let p=o.firstChild;for(;p&&p.from==o.from&&p.to-p.from>i.length+u;){if(t.sliceDoc(p.to-i.length,p.to)==i)return!1;p=p.firstChild}return!0}let d=o.to==n&&o.parent;if(!d)break;o=d}return!1}(t,u,n,o))return{changes:{insert:n+n,from:u},effects:D_.of(u+n.length),range:Rt.cursor(u+n.length)}}return{range:a=c}});return a?null:t.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function O4e(t,n){let i=Ns(t).resolveInner(n+1);return i.parent&&i.from==n}function T4e(t,n,i){let s=t.charCategorizer(n);if(s(t.sliceDoc(n-1,n))!=bo.Word)return n;for(let o of i){let a=n-o.length;if(t.sliceDoc(a,n)==o&&s(t.sliceDoc(a-1,a))!=bo.Word)return a}return-1}function P4e(t={}){return[mEt,cl,ll.of(t),fEt,BEt,m4e]}const D4e=[{key:"Ctrl-Space",run:h4e},{mac:"Alt-`",run:h4e},{key:"Escape",run:t=>{let n=t.state.field(cl,!1);return!(!n||!n.active.some(i=>0!=i.state)||(t.dispatch({effects:vT.of(null)}),0))}},{key:"ArrowDown",run:F9(!0)},{key:"ArrowUp",run:F9(!1)},{key:"PageDown",run:F9(!0,"page")},{key:"PageUp",run:F9(!1,"page")},{key:"Enter",run:t=>{let n=t.state.field(cl,!1);return!(t.state.readOnly||!n||!n.open||n.open.selected<0||n.open.disabled||Date.now()-n.open.timestamp<t.state.facet(ll).interactionDelay)&&sX(t,n.open.options[n.open.selected])}}],BEt=Fm.highest(sw.computeN([ll],t=>t.facet(ll).defaultKeymap?[D4e]:[]));function pX(t,n){return({state:i,dispatch:s})=>{if(i.readOnly)return!1;let o=t(n,i);return!!o&&(s(i.update(o)),!0)}}const VEt=pX(qEt,0),jEt=pX(M4e,0),zEt=pX((t,n)=>M4e(t,n,function UEt(t){let n=[];for(let i of t.selection.ranges){let s=t.doc.lineAt(i.from),o=i.to<=s.to?s:t.doc.lineAt(i.to);o.from>s.from&&o.from==i.to&&(o=i.to==s.to+1?s:t.doc.lineAt(i.to-1));let a=n.length-1;a>=0&&n[a].to>s.from?n[a].to=o.to:n.push({from:s.from+/^\s*/.exec(s.text)[0].length,to:o.to})}return n}(n)),0);function fX(t,n){let i=t.languageDataAt("commentTokens",n,1);return i.length?i[0]:{}}const ET=50;function M4e(t,n,i=n.selection.ranges){let s=i.map(a=>fX(n,a.from).block);if(!s.every(a=>a))return null;let o=i.map((a,l)=>function HEt(t,{open:n,close:i},s,o){let p,f,a=t.sliceDoc(s-ET,s),l=t.sliceDoc(o,o+ET),c=/\s*$/.exec(a)[0].length,u=/^\s*/.exec(l)[0].length,d=a.length-c;if(a.slice(d-n.length,d)==n&&l.slice(u,u+i.length)==i)return{open:{pos:s-c,margin:c&&1},close:{pos:o+u,margin:u&&1}};o-s<=2*ET?p=f=t.sliceDoc(s,o):(p=t.sliceDoc(s,s+ET),f=t.sliceDoc(o-ET,o));let h=/^\s*/.exec(p)[0].length,m=/\s*$/.exec(f)[0].length,y=f.length-m-i.length;return p.slice(h,h+n.length)==n&&f.slice(y,y+i.length)==i?{open:{pos:s+h+n.length,margin:/\s/.test(p.charAt(h+n.length))?1:0},close:{pos:o-m-i.length,margin:/\s/.test(f.charAt(y-1))?1:0}}:null}(n,s[l],a.from,a.to));if(2!=t&&!o.every(a=>a))return{changes:n.changes(i.map((a,l)=>o[l]?[]:[{from:a.from,insert:s[l].open+" "},{from:a.to,insert:" "+s[l].close}]))};if(1!=t&&o.some(a=>a)){let a=[];for(let c,l=0;l<o.length;l++)if(c=o[l]){let u=s[l],{open:d,close:p}=c;a.push({from:d.pos-u.open.length,to:d.pos+d.margin},{from:p.pos-p.margin,to:p.pos+u.close.length})}return{changes:a}}return null}function qEt(t,n,i=n.selection.ranges){let s=[],o=-1;for(let{from:a,to:l}of i){let c=s.length,u=1e9,d=fX(n,a).line;if(d){for(let p=a;p<=l;){let f=n.doc.lineAt(p);if(f.from>o&&(a==l||l>f.from)){o=f.from;let h=/^\s*/.exec(f.text)[0].length,m=h==f.length,y=f.text.slice(h,h+d.length)==d?h:-1;h<f.text.length&&h<u&&(u=h),s.push({line:f,comment:y,token:d,indent:h,empty:m,single:!1})}p=f.to+1}if(u<1e9)for(let p=c;p<s.length;p++)s[p].indent<s[p].line.text.length&&(s[p].indent=u);s.length==c+1&&(s[c].single=!0)}}if(2!=t&&s.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:c,token:u,indent:d,empty:p,single:f}of s)(f||!p)&&a.push({from:c.from+d,insert:u+" "});let l=n.changes(a);return{changes:l,selection:n.selection.map(l,1)}}if(1!=t&&s.some(a=>a.comment>=0)){let a=[];for(let{line:l,comment:c,token:u}of s)if(c>=0){let d=l.from+c,p=d+u.length;" "==l.text[p-l.from]&&p++,a.push({from:d,to:p})}return{changes:a}}return null}const hX=Bm.define(),WEt=Bm.define(),GEt=xn.define(),A4e=xn.define({combine:t=>xf(t,{minDepth:100,newGroupDelay:500,joinToEvent:(n,i)=>i},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(n,i)=>(s,o)=>n(s,o)||i(s,o)})}),mX=Ta.define({create:()=>vX.empty,update(t,n){let i=n.state.facet(A4e),s=n.annotation(hX);if(s){let u=Du.fromTransaction(n,s.selection),d=s.side,p=0==d?t.undone:t.done;return p=u?V9(p,p.length,i.minDepth,u):N4e(p,n.startState.selection),new vX(0==d?s.rest:p,0==d?p:s.rest)}let o=n.annotation(WEt);if(("full"==o||"before"==o)&&(t=t.isolate()),!1===n.annotation(Ef.addToHistory))return n.changes.empty?t:t.addMapping(n.changes.desc);let a=Du.fromTransaction(n),l=n.annotation(Ef.time),c=n.annotation(Ef.userEvent);return a?t=t.addChanges(a,l,c,i,n):n.selection&&(t=t.addSelection(n.startState.selection,l,c,i.newGroupDelay)),("full"==o||"after"==o)&&(t=t.isolate()),t},toJSON:t=>({done:t.done.map(n=>n.toJSON()),undone:t.undone.map(n=>n.toJSON())}),fromJSON:t=>new vX(t.done.map(Du.fromJSON),t.undone.map(Du.fromJSON))});function $9(t,n){return function({state:i,dispatch:s}){if(!n&&i.readOnly)return!1;let o=i.field(mX,!1);if(!o)return!1;let a=o.pop(t,i,n);return!!a&&(s(a),!0)}}const I4e=$9(0,!1),gX=$9(1,!1),YEt=$9(0,!0),XEt=$9(1,!0);class Du{constructor(n,i,s,o,a){this.changes=n,this.effects=i,this.mapped=s,this.startSelection=o,this.selectionsAfter=a}setSelAfter(n){return new Du(this.changes,this.effects,this.mapped,this.startSelection,n)}toJSON(){var n,i,s;return{changes:null===(n=this.changes)||void 0===n?void 0:n.toJSON(),mapped:null===(i=this.mapped)||void 0===i?void 0:i.toJSON(),startSelection:null===(s=this.startSelection)||void 0===s?void 0:s.toJSON(),selectionsAfter:this.selectionsAfter.map(o=>o.toJSON())}}static fromJSON(n){return new Du(n.changes&&ja.fromJSON(n.changes),[],n.mapped&&$h.fromJSON(n.mapped),n.startSelection&&Rt.fromJSON(n.startSelection),n.selectionsAfter.map(Rt.fromJSON))}static fromTransaction(n,i){let s=yp;for(let o of n.startState.facet(GEt)){let a=o(n);a.length&&(s=s.concat(a))}return!s.length&&n.changes.empty?null:new Du(n.changes.invert(n.startState.doc),s,void 0,i||n.startState.selection,yp)}static selection(n){return new Du(void 0,yp,void 0,void 0,n)}}function V9(t,n,i,s){let a=t.slice(n+1>i+20?n-i-1:0,n);return a.push(s),a}function R4e(t,n){return t.length?n.length?t.concat(n):t:n}const yp=[],JEt=200;function N4e(t,n){if(t.length){let i=t[t.length-1],s=i.selectionsAfter.slice(Math.max(0,i.selectionsAfter.length-JEt));return s.length&&s[s.length-1].eq(n)?t:(s.push(n),V9(t,t.length-1,1e9,i.setSelAfter(s)))}return[Du.selection([n])]}function ext(t){let n=t[t.length-1],i=t.slice();return i[t.length-1]=n.setSelAfter(n.selectionsAfter.slice(0,n.selectionsAfter.length-1)),i}function yX(t,n){if(!t.length)return t;let i=t.length,s=yp;for(;i;){let o=txt(t[i-1],n,s);if(o.changes&&!o.changes.empty||o.effects.length){let a=t.slice(0,i);return a[i-1]=o,a}n=o.mapped,i--,s=o.selectionsAfter}return s.length?[Du.selection(s)]:yp}function txt(t,n,i){let s=R4e(t.selectionsAfter.length?t.selectionsAfter.map(c=>c.map(n)):yp,i);if(!t.changes)return Du.selection(s);let o=t.changes.map(n),a=n.mapDesc(t.changes,!0),l=t.mapped?t.mapped.composeDesc(a):a;return new Du(o,hi.mapEffects(t.effects,n),l,t.startSelection.map(a),s)}const nxt=/^(input\.type|delete)($|\.)/;let vX=(()=>{class t{constructor(i,s,o=0,a=void 0){this.done=i,this.undone=s,this.prevTime=o,this.prevUserEvent=a}isolate(){return this.prevTime?new t(this.done,this.undone):this}addChanges(i,s,o,a,l){let c=this.done,u=c[c.length-1];return c=u&&u.changes&&!u.changes.empty&&i.changes&&(!o||nxt.test(o))&&(!u.selectionsAfter.length&&s-this.prevTime<a.newGroupDelay&&a.joinToEvent(l,function QEt(t,n){let i=[],s=!1;return t.iterChangedRanges((o,a)=>i.push(o,a)),n.iterChangedRanges((o,a,l,c)=>{for(let u=0;u<i.length;){let d=i[u++],p=i[u++];c>=d&&l<=p&&(s=!0)}}),s}(u.changes,i.changes))||"input.type.compose"==o)?V9(c,c.length-1,a.minDepth,new Du(i.changes.compose(u.changes),R4e(hi.mapEffects(i.effects,u.changes),u.effects),u.mapped,u.startSelection,yp)):V9(c,c.length,a.minDepth,i),new t(c,yp,s,o)}addSelection(i,s,o,a){let l=this.done.length?this.done[this.done.length-1].selectionsAfter:yp;return l.length>0&&s-this.prevTime<a&&o==this.prevUserEvent&&o&&/^select($|\.)/.test(o)&&function ZEt(t,n){return t.ranges.length==n.ranges.length&&0===t.ranges.filter((i,s)=>i.empty!=n.ranges[s].empty).length}(l[l.length-1],i)?this:new t(N4e(this.done,i),this.undone,s,o)}addMapping(i){return new t(yX(this.done,i),yX(this.undone,i),this.prevTime,this.prevUserEvent)}pop(i,s,o){let a=0==i?this.done:this.undone;if(0==a.length)return null;let l=a[a.length-1],c=l.selectionsAfter[0]||s.selection;if(o&&l.selectionsAfter.length)return s.update({selection:l.selectionsAfter[l.selectionsAfter.length-1],annotations:hX.of({side:i,rest:ext(a),selection:c}),userEvent:0==i?"select.undo":"select.redo",scrollIntoView:!0});if(l.changes){let u=1==a.length?yp:a.slice(0,a.length-1);return l.mapped&&(u=yX(u,l.mapped)),s.update({changes:l.changes,selection:l.startSelection,effects:l.effects,annotations:hX.of({side:i,rest:u,selection:c}),filter:!1,userEvent:0==i?"undo":"redo",scrollIntoView:!0})}return null}}return t.empty=new t(yp,yp),t})();const rxt=[{key:"Mod-z",run:I4e,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:gX,preventDefault:!0},{linux:"Ctrl-Shift-z",run:gX,preventDefault:!0},{key:"Mod-u",run:YEt,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:XEt,preventDefault:!0}];function gw(t,n){return Rt.create(t.ranges.map(n),t.mainIndex)}function Kh(t,n){return t.update({selection:n,scrollIntoView:!0,userEvent:"select"})}function ku({state:t,dispatch:n},i){let s=gw(t.selection,i);return!s.eq(t.selection,!0)&&(n(Kh(t,s)),!0)}function k_(t,n){return Rt.cursor(n?t.to:t.from)}function j9(t,n){return ku(t,i=>i.empty?t.moveByChar(i,n):k_(i,n))}function mc(t){return t.textDirectionAt(t.state.selection.main.head)==Is.LTR}const L4e=t=>j9(t,!mc(t)),F4e=t=>j9(t,mc(t));function z9(t,n){return ku(t,i=>i.empty?t.moveByGroup(i,n):k_(i,n))}function oxt(t,n,i){if(n.type.prop(i))return!0;let s=n.to-n.from;return s&&(s>2||/[^\s,.;:]/.test(t.sliceDoc(n.from,n.to)))||n.firstChild}function H9(t,n,i){let l,c,s=Ns(t).resolveInner(n.head),o=i?Br.closedBy:Br.openedBy;for(let u=n.head;;){let d=i?s.childAfter(u):s.childBefore(u);if(!d)break;oxt(t,d,o)?s=d:u=i?d.to:d.from}return c=s.type.prop(o)&&(l=i?Wh(t,s.from,1):Wh(t,s.to,-1))&&l.matched?i?l.end.to:l.end.from:i?s.to:s.from,Rt.cursor(c,i?-1:1)}function H4e(t,n){return ku(t,i=>{if(!i.empty)return k_(i,n);let s=t.moveVertically(i,n);return s.head!=i.head?s:t.moveToLineBoundary(i,n)})}typeof Intl<"u"&&Intl;const U4e=t=>H4e(t,!1),q4e=t=>H4e(t,!0);function W4e(t){let o,n=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,i=0,s=0;if(n){for(let a of t.state.facet(kn.scrollMargins)){let l=a(t);l?.top&&(i=Math.max(l?.top,i)),l?.bottom&&(s=Math.max(l?.bottom,s))}o=t.scrollDOM.clientHeight-i-s}else o=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:i,marginBottom:s,selfScroll:n,height:Math.max(t.defaultLineHeight,o-5)}}function G4e(t,n){let a,i=W4e(t),{state:s}=t,o=gw(s.selection,l=>l.empty?t.moveVertically(l,n,i.height):k_(l,n));if(o.eq(s.selection))return!1;if(i.selfScroll){let l=t.coordsAtPos(s.selection.main.head),c=t.scrollDOM.getBoundingClientRect(),u=c.top+i.marginTop;l&&l.top>u&&l.bottom<c.bottom-i.marginBottom&&(a=kn.scrollIntoView(o.main.head,{y:"start",yMargin:l.top-u}))}return t.dispatch(Kh(s,o),{effects:a}),!0}const K4e=t=>G4e(t,!1),_X=t=>G4e(t,!0);function wy(t,n,i){let s=t.lineBlockAt(n.head),o=t.moveToLineBoundary(n,i);if(o.head==n.head&&o.head!=(i?s.to:s.from)&&(o=t.moveToLineBoundary(n,i,!1)),!i&&o.head==s.from&&s.length){let a=/^\s*/.exec(t.state.sliceDoc(s.from,Math.min(s.from+100,s.to)))[0].length;a&&n.head!=s.from+a&&(o=Rt.cursor(s.from+a))}return o}function gc(t,n){let i=gw(t.state.selection,s=>{let o=n(s);return Rt.range(s.anchor,o.head,o.goalColumn,o.bidiLevel||void 0)});return!i.eq(t.state.selection)&&(t.dispatch(Kh(t.state,i)),!0)}function U9(t,n){return gc(t,i=>t.moveByChar(i,n))}const X4e=t=>U9(t,!mc(t)),Q4e=t=>U9(t,mc(t));function q9(t,n){return gc(t,i=>t.moveByGroup(i,n))}function J4e(t,n){return gc(t,i=>t.moveVertically(i,n))}const eCe=t=>J4e(t,!1),tCe=t=>J4e(t,!0);function nCe(t,n){return gc(t,i=>t.moveVertically(i,n,W4e(t).height))}const rCe=t=>nCe(t,!1),iCe=t=>nCe(t,!0),sCe=({state:t,dispatch:n})=>(n(Kh(t,{anchor:0})),!0),oCe=({state:t,dispatch:n})=>(n(Kh(t,{anchor:t.doc.length})),!0),aCe=({state:t,dispatch:n})=>(n(Kh(t,{anchor:t.selection.main.anchor,head:0})),!0),lCe=({state:t,dispatch:n})=>(n(Kh(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0);function yw(t,n){if(t.state.readOnly)return!1;let i="delete.selection",{state:s}=t,o=s.changeByRange(a=>{let{from:l,to:c}=a;if(l==c){let u=n(a);u<l?(i="delete.backward",u=W9(t,u,!1)):u>l&&(i="delete.forward",u=W9(t,u,!0)),l=Math.min(l,u),c=Math.max(c,u)}else l=W9(t,l,!1),c=W9(t,c,!0);return l==c?{range:a}:{changes:{from:l,to:c},range:Rt.cursor(l,l<a.head?-1:1)}});return!o.changes.empty&&(t.dispatch(s.update(o,{scrollIntoView:!0,userEvent:i,effects:"delete.selection"==i?kn.announce.of(s.phrase("Selection deleted")):void 0})),!0)}function W9(t,n,i){if(t instanceof kn)for(let s of t.state.facet(kn.atomicRanges).map(o=>o(t)))s.between(n,n,(o,a)=>{o<n&&a>n&&(n=i?a:o)});return n}const EX=(t,n,i)=>yw(t,s=>{let c,u,o=s.from,{state:a}=t,l=a.doc.lineAt(o);if(i&&!n&&o>l.from&&o<l.from+200&&!/[^ \t]/.test(c=l.text.slice(0,o-l.from))){if("\t"==c[c.length-1])return o-1;let p=J3(c,a.tabSize)%O_(a)||O_(a);for(let f=0;f<p&&" "==c[c.length-1-f];f++)o--;u=o}else u=Nl(l.text,o-l.from,n,n)+l.from,u==o&&l.number!=(n?a.doc.lines:1)?u+=n?1:-1:!n&&/[\ufe00-\ufe0f]/.test(l.text.slice(u-l.from,o-l.from))&&(u=Nl(l.text,u-l.from,!1,!1)+l.from);return u}),xX=t=>EX(t,!1,!0),cCe=t=>EX(t,!0,!1),uCe=(t,n)=>yw(t,i=>{let s=i.head,{state:o}=t,a=o.doc.lineAt(s),l=o.charCategorizer(s);for(let c=null;;){if(s==(n?a.to:a.from)){s==i.head&&a.number!=(n?o.doc.lines:1)&&(s+=n?1:-1);break}let u=Nl(a.text,s-a.from,n)+a.from,d=a.text.slice(Math.min(s,u)-a.from,Math.max(s,u)-a.from),p=l(d);if(null!=c&&p!=c)break;(" "!=d||s!=i.head)&&(c=p),s=u}return s}),dCe=t=>uCe(t,!1);function G9(t){let n=[],i=-1;for(let s of t.selection.ranges){let o=t.doc.lineAt(s.from),a=t.doc.lineAt(s.to);if(!s.empty&&s.to==a.from&&(a=t.doc.lineAt(s.to-1)),i>=o.number){let l=n[n.length-1];l.to=a.to,l.ranges.push(s)}else n.push({from:o.from,to:a.to,ranges:[s]});i=a.number+1}return n}function pCe(t,n,i){if(t.readOnly)return!1;let s=[],o=[];for(let a of G9(t)){if(i?a.to==t.doc.length:0==a.from)continue;let l=t.doc.lineAt(i?a.to+1:a.from-1),c=l.length+1;if(i){s.push({from:a.to,to:l.to},{from:a.from,insert:l.text+t.lineBreak});for(let u of a.ranges)o.push(Rt.range(Math.min(t.doc.length,u.anchor+c),Math.min(t.doc.length,u.head+c)))}else{s.push({from:l.from,to:a.from},{from:a.to,insert:t.lineBreak+l.text});for(let u of a.ranges)o.push(Rt.range(u.anchor-c,u.head-c))}}return!!s.length&&(n(t.update({changes:s,scrollIntoView:!0,selection:Rt.create(o,t.selection.mainIndex),userEvent:"move.line"})),!0)}function fCe(t,n,i){if(t.readOnly)return!1;let s=[];for(let o of G9(t))s.push(i?{from:o.from,insert:t.doc.slice(o.from,o.to)+t.lineBreak}:{from:o.to,insert:t.lineBreak+t.doc.slice(o.from,o.to)});return n(t.update({changes:s,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const hCe=mCe(!1);function mCe(t){return({state:n,dispatch:i})=>{if(n.readOnly)return!1;let s=n.changeByRange(o=>{let{from:a,to:l}=o,c=n.doc.lineAt(a),u=!t&&a==l&&function jxt(t,n){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(n-1,n+1)))return{from:n,to:n};let a,i=Ns(t).resolveInner(n),s=i.childBefore(n),o=i.childAfter(n);return s&&o&&s.to<=n&&o.from>=n&&(a=s.type.prop(Br.closedBy))&&a.indexOf(o.name)>-1&&t.doc.lineAt(s.to).from==t.doc.lineAt(o.from).from&&!/\S/.test(t.sliceDoc(s.to,o.from))?{from:s.to,to:o.from}:null}(n,a);t&&(a=l=(l<=c.to?c:n.doc.lineAt(l)).to);let d=new cT(n,{simulateBreak:a,simulateDoubleBreak:!!u}),p=A9(d,a);for(null==p&&(p=J3(/^\s*/.exec(n.doc.lineAt(a).text)[0],n.tabSize));l<c.to&&/\s/.test(c.text[l-c.from]);)l++;u?({from:a,to:l}=u):a>c.from&&a<c.from+100&&!/\S/.test(c.text.slice(0,a))&&(a=c.from);let f=["",uw(n,p)];return u&&f.push(uw(n,d.lineIndent(c.from,-1))),{changes:{from:a,to:l,insert:Vi.of(f)},range:Rt.cursor(a+1+f[1].length)}});return i(n.update(s,{scrollIntoView:!0,userEvent:"input"})),!0}}function wX(t,n){let i=-1;return t.changeByRange(s=>{let o=[];for(let l=s.from;l<=s.to;){let c=t.doc.lineAt(l);c.number>i&&(s.empty||s.to>c.from)&&(n(c,o,s),i=c.number),l=c.to+1}let a=t.changes(o);return{changes:o,range:Rt.range(a.mapPos(s.anchor,1),a.mapPos(s.head,1))}})}const SX=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>ku(t,n=>H9(t.state,n,!mc(t))),shift:t=>gc(t,n=>H9(t.state,n,!mc(t)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>ku(t,n=>H9(t.state,n,mc(t))),shift:t=>gc(t,n=>H9(t.state,n,mc(t)))},{key:"Alt-ArrowUp",run:({state:t,dispatch:n})=>pCe(t,n,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:n})=>fCe(t,n,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:n})=>pCe(t,n,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:n})=>fCe(t,n,!0)},{key:"Escape",run:({state:t,dispatch:n})=>{let i=t.selection,s=null;return i.ranges.length>1?s=Rt.create([i.main]):i.main.empty||(s=Rt.create([Rt.cursor(i.main.head)])),!!s&&(n(Kh(t,s)),!0)}},{key:"Mod-Enter",run:mCe(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:t,dispatch:n})=>{let i=G9(t).map(({from:s,to:o})=>Rt.range(s,Math.min(o+1,t.doc.length)));return n(t.update({selection:Rt.create(i),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:t,dispatch:n})=>{let i=gw(t.selection,s=>{let o=Ns(t),a=o.resolveStack(s.from,1);if(s.empty){let l=o.resolveStack(s.from,-1);l.node.from>=a.node.from&&l.node.to<=a.node.to&&(a=l)}for(let l=a;l;l=l.next){let{node:c}=l;if((c.from<s.from&&c.to>=s.to||c.to>s.to&&c.from<=s.from)&&l.next)return Rt.range(c.to,c.from)}return s});return!i.eq(t.selection)&&(n(Kh(t,i)),!0)},preventDefault:!0},{key:"Mod-[",run:({state:t,dispatch:n})=>!t.readOnly&&(n(t.update(wX(t,(i,s)=>{let o=/^\s*/.exec(i.text)[0];if(!o)return;let a=J3(o,t.tabSize),l=0,c=uw(t,Math.max(0,a-O_(t)));for(;l<o.length&&l<c.length&&o.charCodeAt(l)==c.charCodeAt(l);)l++;s.push({from:i.from+l,to:i.from+o.length,insert:c.slice(l)})}),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:t,dispatch:n})=>!t.readOnly&&(n(t.update(wX(t,(i,s)=>{s.push({from:i.from,insert:t.facet(M9)})}),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=Object.create(null),s=new cT(t,{overrideIndentation:a=>i[a]??-1}),o=wX(t,(a,l,c)=>{let u=A9(s,a.from);if(null==u)return;/\S/.test(a.text)||(u=0);let d=/^\s*/.exec(a.text)[0],p=uw(t,u);(d!=p||c.from<a.from+d.length)&&(i[a.from]=u,l.push({from:a.from,to:a.from+d.length,insert:p}))});return o.changes.empty||n(t.update(o,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{if(t.state.readOnly)return!1;let{state:n}=t,i=n.changes(G9(n).map(({from:o,to:a})=>(o>0?o--:a<n.doc.length&&a++,{from:o,to:a}))),s=gw(n.selection,o=>{let a;if(t.lineWrapping){let l=t.lineBlockAt(o.head),c=t.coordsAtPos(o.head,o.assoc||1);c&&(a=l.bottom+t.documentTop-c.bottom+t.defaultLineHeight/2)}return t.moveVertically(o,!0,a)}).map(i);return t.dispatch({changes:i,selection:s,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:n})=>function Y4e(t,n,i){let s=!1,o=gw(t.selection,a=>{let l=Wh(t,a.head,-1)||Wh(t,a.head,1)||a.head>0&&Wh(t,a.head-1,1)||a.head<t.doc.length&&Wh(t,a.head+1,-1);if(!l||!l.end)return a;s=!0;let c=l.start.from==a.head?l.end.to:l.end.from;return i?Rt.range(a.anchor,c):Rt.cursor(c)});return!!s&&(n(Kh(t,o)),!0)}(t,n,!1)},{key:"Mod-/",run:t=>{let{state:n}=t,i=n.doc.lineAt(n.selection.main.from),s=fX(t.state,i.from);return s.line?VEt(t):!!s.block&&zEt(t)}},{key:"Alt-A",run:jEt},{key:"Ctrl-m",mac:"Shift-Alt-m",run:t=>(t.setTabFocusMode(),!0)}].concat([{key:"ArrowLeft",run:L4e,shift:X4e,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>z9(t,!mc(t)),shift:t=>q9(t,!mc(t)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:t=>ku(t,n=>wy(t,n,!mc(t))),shift:t=>gc(t,n=>wy(t,n,!mc(t))),preventDefault:!0},{key:"ArrowRight",run:F4e,shift:Q4e,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>z9(t,mc(t)),shift:t=>q9(t,mc(t)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:t=>ku(t,n=>wy(t,n,mc(t))),shift:t=>gc(t,n=>wy(t,n,mc(t))),preventDefault:!0},{key:"ArrowUp",run:U4e,shift:eCe,preventDefault:!0},{mac:"Cmd-ArrowUp",run:sCe,shift:aCe},{mac:"Ctrl-ArrowUp",run:K4e,shift:rCe},{key:"ArrowDown",run:q4e,shift:tCe,preventDefault:!0},{mac:"Cmd-ArrowDown",run:oCe,shift:lCe},{mac:"Ctrl-ArrowDown",run:_X,shift:iCe},{key:"PageUp",run:K4e,shift:rCe},{key:"PageDown",run:_X,shift:iCe},{key:"Home",run:t=>ku(t,n=>wy(t,n,!1)),shift:t=>gc(t,n=>wy(t,n,!1)),preventDefault:!0},{key:"Mod-Home",run:sCe,shift:aCe},{key:"End",run:t=>ku(t,n=>wy(t,n,!0)),shift:t=>gc(t,n=>wy(t,n,!0)),preventDefault:!0},{key:"Mod-End",run:oCe,shift:lCe},{key:"Enter",run:hCe,shift:hCe},{key:"Mod-a",run:({state:t,dispatch:n})=>(n(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:xX,shift:xX},{key:"Delete",run:cCe},{key:"Mod-Backspace",mac:"Alt-Backspace",run:dCe},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>uCe(t,!0)},{mac:"Mod-Backspace",run:t=>yw(t,n=>{let i=t.moveToLineBoundary(n,!1).head;return n.head>i?i:Math.max(0,n.head-1)})},{mac:"Mod-Delete",run:t=>yw(t,n=>{let i=t.moveToLineBoundary(n,!0).head;return n.head<i?i:Math.min(t.state.doc.length,n.head+1)})}].concat([{key:"Ctrl-b",run:L4e,shift:X4e,preventDefault:!0},{key:"Ctrl-f",run:F4e,shift:Q4e},{key:"Ctrl-p",run:U4e,shift:eCe},{key:"Ctrl-n",run:q4e,shift:tCe},{key:"Ctrl-a",run:t=>ku(t,n=>Rt.cursor(t.lineBlockAt(n.head).from,1)),shift:t=>gc(t,n=>Rt.cursor(t.lineBlockAt(n.head).from))},{key:"Ctrl-e",run:t=>ku(t,n=>Rt.cursor(t.lineBlockAt(n.head).to,-1)),shift:t=>gc(t,n=>Rt.cursor(t.lineBlockAt(n.head).to))},{key:"Ctrl-d",run:cCe},{key:"Ctrl-h",run:xX},{key:"Ctrl-k",run:t=>yw(t,n=>{let i=t.lineBlockAt(n.head).to;return n.head<i?i:Math.min(t.state.doc.length,n.head+1)})},{key:"Ctrl-Alt-h",run:dCe},{key:"Ctrl-o",run:({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=t.changeByRange(s=>({changes:{from:s.from,to:s.to,insert:Vi.of(["",""])},range:Rt.cursor(s.from)}));return n(t.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=t.changeByRange(s=>{if(!s.empty||0==s.from||s.from==t.doc.length)return{range:s};let o=s.from,a=t.doc.lineAt(o),l=o==a.from?o-1:Nl(a.text,o-a.from,!1)+a.from,c=o==a.to?o+1:Nl(a.text,o-a.from,!0)+a.from;return{changes:{from:l,to:c,insert:t.doc.slice(o,c).append(t.doc.slice(l,o))},range:Rt.cursor(c)}});return!i.changes.empty&&(n(t.update(i,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:_X}].map(t=>({mac:t.key,run:t.run,shift:t.shift}))));function Ls(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var n=1,i=arguments[1];if(i&&"object"==typeof i&&null==i.nodeType&&!Array.isArray(i)){for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){var o=i[s];"string"==typeof o?t.setAttribute(s,o):null!=o&&(t[s]=o)}n++}for(;n<arguments.length;n++)yCe(t,arguments[n]);return t}function yCe(t,n){if("string"==typeof n)t.appendChild(document.createTextNode(n));else if(null!=n)if(null!=n.nodeType)t.appendChild(n);else{if(!Array.isArray(n))throw new RangeError("Unsupported child node: "+n);for(var i=0;i<n.length;i++)yCe(t,n[i])}}class vCe{constructor(n,i,s){this.from=n,this.to=i,this.diagnostic=s}}class M_{constructor(n,i,s){this.diagnostics=n,this.panel=i,this.selected=s}static init(n,i,s){let o=s.facet(Yh).markerFilter;o&&(n=o(n,s));let a=n.slice().sort((p,f)=>p.from-f.from||p.to-f.to),l=new Vh,c=[],u=0;for(let p=0;;){let h,m,f=p==a.length?null:a[p];if(!f&&!c.length)break;for(c.length?(h=u,m=c.reduce((E,_)=>Math.min(E,_.to),f&&f.from>h?f.from:1e8)):(h=f.from,m=f.to,c.push(f),p++);p<a.length;){let E=a[p];if(E.from!=h||!(E.to>E.from||E.to==h)){m=Math.min(E.from,m);break}c.push(E),p++,m=Math.min(E.to,m)}let y=DCe(c);if(c.some(E=>E.from==E.to||E.from==E.to-1&&s.doc.lineAt(E.from).to==E.from))l.add(h,h,Xn.widget({widget:new e3t(y),diagnostics:c.slice()}));else{let E=c.reduce((_,S)=>S.markClass?_+" "+S.markClass:_,"");l.add(h,m,Xn.mark({class:"cm-lintRange cm-lintRange-"+y+E,diagnostics:c.slice(),inclusiveEnd:c.some(_=>_.to>m)}))}u=m;for(let E=0;E<c.length;E++)c[E].to<=u&&c.splice(E--,1)}let d=l.finish();return new M_(d,i,vw(d))}}function vw(t,n=null,i=0){let s=null;return t.between(i,1e9,(o,a,{spec:l})=>{if(!(n&&l.diagnostics.indexOf(n)<0))if(s){if(l.diagnostics.indexOf(s.diagnostic)<0)return!1;s=new vCe(s.from,a,s.diagnostic)}else s=new vCe(o,a,n||l.diagnostics[0])}),s}function _Ce(t,n){return t.field(yc,!1)?n:n.concat(hi.appendConfig.of(ACe))}const bw=hi.define(),OX=hi.define(),ECe=hi.define(),yc=Ta.define({create:()=>new M_(Xn.none,null,null),update(t,n){if(n.docChanged&&t.diagnostics.size){let i=t.diagnostics.map(n.changes),s=null,o=t.panel;if(t.selected){let a=n.changes.mapPos(t.selected.from,1);s=vw(i,t.selected.diagnostic,a)||vw(i,null,a)}!i.size&&o&&n.state.facet(Yh).autoPanel&&(o=null),t=new M_(i,o,s)}for(let i of n.effects)if(i.is(bw)){let s=n.state.facet(Yh).autoPanel?i.value.length?xT.open:null:t.panel;t=M_.init(i.value,s,n.state)}else i.is(OX)?t=new M_(t.diagnostics,i.value?xT.open:null,t.selected):i.is(ECe)&&(t=new M_(t.diagnostics,t.panel,i.value));return t},provide:t=>[oT.from(t,n=>n.panel),kn.decorations.from(t,n=>n.diagnostics)]}),Kxt=Xn.mark({class:"cm-lintRange cm-lintRange-active"});function Yxt(t,n,i){let o,{diagnostics:s}=t.state.field(yc),a=-1,l=-1;s.between(n-(i<0?1:0),n+(i>0?1:0),(u,d,{spec:p})=>{if(n>=u&&n<=d&&(u==d||(n>u||i>0)&&(n<d||i<0)))return o=p.diagnostics,a=u,l=d,!1});let c=t.state.facet(Yh).tooltipFilter;return o&&c&&(o=c(o,t.state)),o?{pos:a,end:l,above:t.state.doc.lineAt(a).to<l,create:()=>({dom:xCe(t,o)})}:null}function xCe(t,n){return Ls("ul",{class:"cm-tooltip-lint"},n.map(i=>TCe(t,i,!1)))}const wCe=t=>{let n=t.state.field(yc,!1);return!(!n||!n.panel||(t.dispatch({effects:OX.of(!1)}),0))},Zxt=[{key:"Mod-Shift-m",run:t=>{let n=t.state.field(yc,!1);(!n||!n.panel)&&t.dispatch({effects:_Ce(t.state,[OX.of(!0)])});let i=sT(t,xT.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:t=>{let n=t.state.field(yc,!1);if(!n)return!1;let i=t.state.selection.main,s=n.diagnostics.iter(i.to+1);return!(!s.value&&(s=n.diagnostics.iter(0),!s.value||s.from==i.from&&s.to==i.to)||(t.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0}),0))}}],CCe=Eo.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:n}=t.state.facet(Yh);this.lintTime=Date.now()+n,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,n)}run(){clearTimeout(this.timeout);let t=Date.now();if(t<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:n}=this.view,{sources:i}=n.facet(Yh);i.length&&function Jxt(t,n,i){let s=[],o=-1;for(let a of t)a.then(l=>{s.push(l),clearTimeout(o),s.length==t.length?n(s):o=setTimeout(()=>n(s),200)},i)}(i.map(s=>Promise.resolve(s(this.view))),s=>{this.view.state.doc==n.doc&&this.view.dispatch(function Gxt(t,n){return{effects:_Ce(t,[bw.of(n)])}}(this.view.state,s.reduce((o,a)=>o.concat(a))))},s=>{Kc(this.view.state,s)})}}update(t){let n=t.state.facet(Yh);(t.docChanged||n!=t.startState.facet(Yh)||n.needsRefresh&&n.needsRefresh(t))&&(this.lintTime=Date.now()+n.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,n.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),Yh=xn.define({combine:t=>Object.assign({sources:t.map(n=>n.source).filter(n=>null!=n)},xf(t.map(n=>n.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(n,i)=>n?i?s=>n(s)||i(s):n:i}))});function SCe(t,n={}){return[Yh.of({source:t,config:n}),CCe,ACe]}function OCe(t){let n=[];if(t)e:for(let{name:i}of t){for(let s=0;s<i.length;s++){let o=i[s];if(/[a-zA-Z]/.test(o)&&!n.some(a=>a.toLowerCase()==o.toLowerCase())){n.push(o);continue e}}n.push("")}return n}function TCe(t,n,i){var s;let o=i?OCe(n.actions):[];return Ls("li",{class:"cm-diagnostic cm-diagnostic-"+n.severity},Ls("span",{class:"cm-diagnosticText"},n.renderMessage?n.renderMessage(t):n.message),null===(s=n.actions)||void 0===s?void 0:s.map((a,l)=>{let c=!1,u=h=>{if(h.preventDefault(),c)return;c=!0;let m=vw(t.state.field(yc).diagnostics,n);m&&a.apply(t,m.from,m.to)},{name:d}=a,p=o[l]?d.indexOf(o[l]):-1,f=p<0?d:[d.slice(0,p),Ls("u",d.slice(p,p+1)),d.slice(p+1)];return Ls("button",{type:"button",class:"cm-diagnosticAction",onclick:u,onmousedown:u,"aria-label":` Action: ${d}${p<0?"":` (access key "${o[l]})"`}.`},f)}),n.source&&Ls("div",{class:"cm-diagnosticSource"},n.source))}class e3t extends zh{constructor(n){super(),this.sev=n}eq(n){return n.sev==this.sev}toDOM(){return Ls("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class PCe{constructor(n,i){this.diagnostic=i,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=TCe(n,i,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class xT{constructor(n){this.view=n,this.items=[],this.list=Ls("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:o=>{if(27==o.keyCode)wCe(this.view),this.view.focus();else if(38==o.keyCode||33==o.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==o.keyCode||34==o.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==o.keyCode)this.moveSelection(0);else if(35==o.keyCode)this.moveSelection(this.items.length-1);else if(13==o.keyCode)this.view.focus();else{if(!(o.keyCode>=65&&o.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:a}=this.items[this.selectedIndex],l=OCe(a.actions);for(let c=0;c<l.length;c++)if(l[c].toUpperCase().charCodeAt(0)==o.keyCode){let u=vw(this.view.state.field(yc).diagnostics,a);u&&a.actions[c].apply(n,u.from,u.to)}}}o.preventDefault()},onclick:o=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(o.target)&&this.moveSelection(a)}}),this.dom=Ls("div",{class:"cm-panel-lint"},this.list,Ls("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>wCe(this.view)},"\xd7")),this.update()}get selectedIndex(){let n=this.view.state.field(yc).selected;if(!n)return-1;for(let i=0;i<this.items.length;i++)if(this.items[i].diagnostic==n.diagnostic)return i;return-1}update(){let{diagnostics:n,selected:i}=this.view.state.field(yc),s=0,o=!1,a=null,l=new Set;for(n.between(0,this.view.state.doc.length,(c,u,{spec:d})=>{for(let p of d.diagnostics){if(l.has(p))continue;l.add(p);let h,f=-1;for(let m=s;m<this.items.length;m++)if(this.items[m].diagnostic==p){f=m;break}f<0?(h=new PCe(this.view,p),this.items.splice(s,0,h),o=!0):(h=this.items[f],f>s&&(this.items.splice(s,f-s),o=!0)),i&&h.diagnostic==i.diagnostic?h.dom.hasAttribute("aria-selected")||(h.dom.setAttribute("aria-selected","true"),a=h):h.dom.hasAttribute("aria-selected")&&h.dom.removeAttribute("aria-selected"),s++}});s<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)o=!0,this.items.pop();0==this.items.length&&(this.items.push(new PCe(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),o=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:c,panel:u})=>{let d=u.height/this.list.offsetHeight;c.top<u.top?this.list.scrollTop-=(u.top-c.top)/d:c.bottom>u.bottom&&(this.list.scrollTop+=(c.bottom-u.bottom)/d)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),o&&this.sync()}sync(){let n=this.list.firstChild;function i(){let s=n;n=s.nextSibling,s.remove()}for(let s of this.items)if(s.dom.parentNode==this.list){for(;n!=s.dom;)i();n=s.dom.nextSibling}else this.list.insertBefore(s.dom,n);for(;n;)i()}moveSelection(n){if(this.selectedIndex<0)return;let s=vw(this.view.state.field(yc).diagnostics,this.items[n].diagnostic);s&&this.view.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0,effects:ECe.of(s)})}static open(n){return new xT(n)}}function Y9(t){return function K9(t,n='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${n}>${encodeURIComponent(t)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const t3t=kn.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Y9("#d11")},".cm-lintRange-warning":{backgroundImage:Y9("orange")},".cm-lintRange-info":{backgroundImage:Y9("#999")},".cm-lintRange-hint":{backgroundImage:Y9("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function n3t(t){return"error"==t?4:"warning"==t?3:"info"==t?2:1}function DCe(t){let n="hint",i=1;for(let s of t){let o=n3t(s.severity);o>i&&(i=o,n=s.severity)}return n}const ACe=[yc,kn.decorations.compute([yc],t=>{let{selected:n,panel:i}=t.field(yc);return n&&i&&n.from!=n.to?Xn.set([Kxt.range(n.from,n.to)]):Xn.none}),N_t(Yxt,{hideOn:function bCe(t,n){let i=n.pos,s=n.end||i,o=t.state.facet(Yh).hideOn(t,i,s);if(null!=o)return o;let a=t.startState.doc.lineAt(n.pos);return!(!t.effects.some(l=>l.is(bw))&&!t.changes.touchesRange(a.from,Math.max(a.to,s)))}}),t3t];class Q9{static create(n,i,s,o,a){return new Q9(n,i,s,o+(o<<8)+n+(i<<4)|0,a,[],[])}constructor(n,i,s,o,a,l,c){this.type=n,this.value=i,this.from=s,this.hash=o,this.end=a,this.children=l,this.positions=c,this.hashProp=[[Br.contextHash,o]]}addChild(n,i){n.prop(Br.contextHash)!=this.hash&&(n=new Si(n.type,n.children,n.positions,n.length,this.hashProp)),this.children.push(n),this.positions.push(i)}toTree(n,i=this.end){let s=this.children.length-1;return s>=0&&(i=Math.max(i,this.positions[s]+this.children[s].length+this.from)),new Si(n.types[this.type],this.children,this.positions,i-this.from).balance({makeTree:(o,a,l)=>new Si(Ca.none,o,a,l,this.hashProp)})}}var ln=function(t){return t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.Autolink=33]="Autolink",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel",t[t.URL=44]="URL",t}(ln||{});class l3t{constructor(n,i){this.start=n,this.content=i,this.marks=[],this.parsers=[]}}class c3t{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let n=this.skipSpace(this.basePos);this.indent=this.countIndent(n,this.pos,this.indent),this.pos=n,this.next=n==this.text.length?-1:this.text.charCodeAt(n)}skipSpace(n){return wT(this.text,n)}reset(n){for(this.text=n,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(n){this.basePos=n,this.baseIndent=this.countIndent(n,this.pos,this.indent)}moveBaseColumn(n){this.baseIndent=n,this.basePos=this.findColumn(n)}addMarker(n){this.markers.push(n)}countIndent(n,i=0,s=0){for(let o=i;o<n;o++)s+=9==this.text.charCodeAt(o)?4-s%4:1;return s}findColumn(n){let i=0;for(let s=0;i<this.text.length&&s<n;i++)s+=9==this.text.charCodeAt(i)?4-s%4:1;return i}scrub(){if(!this.baseIndent)return this.text;let n="";for(let i=0;i<this.basePos;i++)n+=" ";return n+this.text.slice(this.basePos)}}function ICe(t,n,i){if(i.pos==i.text.length||t!=n.block&&i.indent>=n.stack[i.depth+1].value+i.baseIndent)return!0;if(i.indent>=i.baseIndent+4)return!1;let s=(t.type==ln.OrderedList?MX:kX)(i,n,!1);return s>0&&(t.type!=ln.BulletList||DX(i,n,!1)<0)&&i.text.charCodeAt(i.pos+s-1)==t.value}const RCe={[ln.Blockquote]:(t,n,i)=>62==i.next&&(i.markers.push(ji(ln.QuoteMark,n.lineStart+i.pos,n.lineStart+i.pos+1)),i.moveBase(i.pos+(vp(i.text.charCodeAt(i.pos+1))?2:1)),t.end=n.lineStart+i.text.length,!0),[ln.ListItem]:(t,n,i)=>!(i.indent<i.baseIndent+t.value&&i.next>-1||(i.moveBaseColumn(i.baseIndent+t.value),0)),[ln.OrderedList]:ICe,[ln.BulletList]:ICe,[ln.Document]:()=>!0};function vp(t){return 32==t||9==t||10==t||13==t}function wT(t,n=0){for(;n<t.length&&vp(t.charCodeAt(n));)n++;return n}function NCe(t,n,i){for(;n>i&&vp(t.charCodeAt(n-1));)n--;return n}function LCe(t){if(96!=t.next&&126!=t.next)return-1;let n=t.pos+1;for(;n<t.text.length&&t.text.charCodeAt(n)==t.next;)n++;if(n<t.pos+3)return-1;if(96==t.next)for(let i=n;i<t.text.length;i++)if(96==t.text.charCodeAt(i))return-1;return n}function FCe(t){return 62!=t.next?-1:32==t.text.charCodeAt(t.pos+1)?2:1}function DX(t,n,i){if(42!=t.next&&45!=t.next&&95!=t.next)return-1;let s=1;for(let o=t.pos+1;o<t.text.length;o++){let a=t.text.charCodeAt(o);if(a==t.next)s++;else if(!vp(a))return-1}return i&&45==t.next&&VCe(t)>-1&&t.depth==n.stack.length&&n.parser.leafBlockParsers.indexOf(qCe.SetextHeading)>-1||s<3?-1:1}function BCe(t,n){for(let i=t.stack.length-1;i>=0;i--)if(t.stack[i].type==n)return!0;return!1}function kX(t,n,i){return 45!=t.next&&43!=t.next&&42!=t.next||t.pos!=t.text.length-1&&!vp(t.text.charCodeAt(t.pos+1))||!(!i||BCe(n,ln.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?-1:1}function MX(t,n,i){let s=t.pos,o=t.next;for(;o>=48&&o<=57;){if(s++,s==t.text.length)return-1;o=t.text.charCodeAt(s)}return s==t.pos||s>t.pos+9||46!=o&&41!=o||s<t.text.length-1&&!vp(t.text.charCodeAt(s+1))||i&&!BCe(n,ln.OrderedList)&&(t.skipSpace(s+1)==t.text.length||s>t.pos+1||49!=t.next)?-1:s+1-t.pos}function $Ce(t){if(35!=t.next)return-1;let n=t.pos+1;for(;n<t.text.length&&35==t.text.charCodeAt(n);)n++;if(n<t.text.length&&32!=t.text.charCodeAt(n))return-1;let i=n-t.pos;return i>6?-1:i}function VCe(t){if(45!=t.next&&61!=t.next||t.indent>=t.baseIndent+4)return-1;let n=t.pos+1;for(;n<t.text.length&&t.text.charCodeAt(n)==t.next;)n++;let i=n;for(;n<t.text.length&&vp(t.text.charCodeAt(n));)n++;return n==t.text.length?i:-1}const AX=/^[ \t]*$/,jCe=/-->/,zCe=/\?>/,IX=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,jCe],[/^\s*<\?/,zCe],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,AX],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,AX]];function HCe(t,n,i){if(60!=t.next)return-1;let s=t.text.slice(t.pos);for(let o=0,a=IX.length-(i?1:0);o<a;o++)if(IX[o][0].test(s))return o;return-1}function UCe(t,n){let i=t.countIndent(n,t.pos,t.indent),s=t.countIndent(t.skipSpace(n),n,i);return s>=i+5?i+1:s}function A_(t,n,i){let s=t.length-1;s>=0&&t[s].to==n&&t[s].type==ln.CodeText?t[s].to=i:t.push(ji(ln.CodeText,n,i))}const Z9={LinkReference:void 0,IndentedCode(t,n){let i=n.baseIndent+4;if(n.indent<i)return!1;let s=n.findColumn(i),o=t.lineStart+s,a=t.lineStart+n.text.length,l=[],c=[];for(A_(l,o,a);t.nextLine()&&n.depth>=t.stack.length;)if(n.pos==n.text.length){A_(c,t.lineStart-1,t.lineStart);for(let u of n.markers)c.push(u)}else{if(n.indent<i)break;{if(c.length){for(let d of c)d.type==ln.CodeText?A_(l,d.from,d.to):l.push(d);c=[]}A_(l,t.lineStart-1,t.lineStart);for(let d of n.markers)l.push(d);a=t.lineStart+n.text.length;let u=t.lineStart+n.findColumn(n.baseIndent+4);u<a&&A_(l,u,a)}}return c.length&&(c=c.filter(u=>u.type!=ln.CodeText),c.length&&(n.markers=c.concat(n.markers))),t.addNode(t.buffer.writeElements(l,-o).finish(ln.CodeBlock,a-o),o),!0},FencedCode(t,n){let i=LCe(n);if(i<0)return!1;let s=t.lineStart+n.pos,o=n.next,a=i-n.pos,l=n.skipSpace(i),c=NCe(n.text,n.text.length,l),u=[ji(ln.CodeMark,s,s+a)];l<c&&u.push(ji(ln.CodeInfo,t.lineStart+l,t.lineStart+c));for(let d=!0;t.nextLine()&&n.depth>=t.stack.length;d=!1){let p=n.pos;if(n.indent-n.baseIndent<4)for(;p<n.text.length&&n.text.charCodeAt(p)==o;)p++;if(p-n.pos>=a&&n.skipSpace(p)==n.text.length){for(let f of n.markers)u.push(f);u.push(ji(ln.CodeMark,t.lineStart+n.pos,t.lineStart+p)),t.nextLine();break}{d||A_(u,t.lineStart-1,t.lineStart);for(let m of n.markers)u.push(m);let f=t.lineStart+n.basePos,h=t.lineStart+n.text.length;f<h&&A_(u,f,h)}}return t.addNode(t.buffer.writeElements(u,-s).finish(ln.FencedCode,t.prevLineEnd()-s),s),!0},Blockquote(t,n){let i=FCe(n);return!(i<0)&&(t.startContext(ln.Blockquote,n.pos),t.addNode(ln.QuoteMark,t.lineStart+n.pos,t.lineStart+n.pos+1),n.moveBase(n.pos+i),null)},HorizontalRule(t,n){if(DX(n,t,!1)<0)return!1;let i=t.lineStart+n.pos;return t.nextLine(),t.addNode(ln.HorizontalRule,i),!0},BulletList(t,n){let i=kX(n,t,!1);if(i<0)return!1;t.block.type!=ln.BulletList&&t.startContext(ln.BulletList,n.basePos,n.next);let s=UCe(n,n.pos+1);return t.startContext(ln.ListItem,n.basePos,s-n.baseIndent),t.addNode(ln.ListMark,t.lineStart+n.pos,t.lineStart+n.pos+i),n.moveBaseColumn(s),null},OrderedList(t,n){let i=MX(n,t,!1);if(i<0)return!1;t.block.type!=ln.OrderedList&&t.startContext(ln.OrderedList,n.basePos,n.text.charCodeAt(n.pos+i-1));let s=UCe(n,n.pos+i);return t.startContext(ln.ListItem,n.basePos,s-n.baseIndent),t.addNode(ln.ListMark,t.lineStart+n.pos,t.lineStart+n.pos+i),n.moveBaseColumn(s),null},ATXHeading(t,n){let i=$Ce(n);if(i<0)return!1;let s=n.pos,o=t.lineStart+s,a=NCe(n.text,n.text.length,s),l=a;for(;l>s&&n.text.charCodeAt(l-1)==n.next;)l--;(l==a||l==s||!vp(n.text.charCodeAt(l-1)))&&(l=n.text.length);let c=t.buffer.write(ln.HeaderMark,0,i).writeElements(t.parser.parseInline(n.text.slice(s+i+1,l),o+i+1),-o);l<n.text.length&&c.write(ln.HeaderMark,l-s,a-s);let u=c.finish(ln.ATXHeading1-1+i,n.text.length-s);return t.nextLine(),t.addNode(u,o),!0},HTMLBlock(t,n){let i=HCe(n,0,!1);if(i<0)return!1;let s=t.lineStart+n.pos,o=IX[i][1],a=[],l=o!=AX;for(;!o.test(n.text)&&t.nextLine();){if(n.depth<t.stack.length){l=!1;break}for(let d of n.markers)a.push(d)}l&&t.nextLine();let c=o==jCe?ln.CommentBlock:o==zCe?ln.ProcessingInstructionBlock:ln.HTMLBlock,u=t.prevLineEnd();return t.addNode(t.buffer.writeElements(a,-s).finish(c,u-s),s),!0},SetextHeading:void 0};class u3t{constructor(n){this.stage=0,this.elts=[],this.pos=0,this.start=n.start,this.advance(n.content)}nextLine(n,i,s){if(-1==this.stage)return!1;let o=s.content+"\n"+i.scrub(),a=this.advance(o);return a>-1&&a<o.length&&this.complete(n,s,a)}finish(n,i){return(2==this.stage||3==this.stage)&&wT(i.content,this.pos)==i.content.length&&this.complete(n,i,i.content.length)}complete(n,i,s){return n.addLeafElement(i,ji(ln.LinkReference,this.start,this.start+s,this.elts)),!0}nextStage(n){return n?(this.pos=n.to-this.start,this.elts.push(n),this.stage++,!0):(!1===n&&(this.stage=-1),!1)}advance(n){for(;;){if(-1==this.stage)return-1;if(0==this.stage){if(!this.nextStage(tSe(n,this.pos,this.start,!0)))return-1;if(58!=n.charCodeAt(this.pos))return this.stage=-1;this.elts.push(ji(ln.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else{if(1!=this.stage){if(2==this.stage){let i=wT(n,this.pos),s=0;if(i>this.pos){let o=eSe(n,i,this.start);if(o){let a=RX(n,o.to-this.start);a>0&&(this.nextStage(o),s=a)}}return s||(s=RX(n,this.pos)),s>0&&s<n.length?s:-1}return RX(n,this.pos)}if(!this.nextStage(JCe(n,wT(n,this.pos),this.start)))return-1}}}}function RX(t,n){for(;n<t.length;n++){let i=t.charCodeAt(n);if(10==i)break;if(!vp(i))return-1}return n}class d3t{nextLine(n,i,s){let o=i.depth<n.stack.length?-1:VCe(i),a=i.next;if(o<0)return!1;let l=ji(ln.HeaderMark,n.lineStart+i.pos,n.lineStart+o);return n.nextLine(),n.addLeafElement(s,ji(61==a?ln.SetextHeading1:ln.SetextHeading2,s.start,n.prevLineEnd(),[...n.parser.parseInline(s.content,s.start),l])),!0}finish(){return!1}}const qCe={LinkReference:(t,n)=>91==n.content.charCodeAt(0)?new u3t(n):null,SetextHeading:()=>new d3t},p3t=[(t,n)=>$Ce(n)>=0,(t,n)=>LCe(n)>=0,(t,n)=>FCe(n)>=0,(t,n)=>kX(n,t,!0)>=0,(t,n)=>MX(n,t,!0)>=0,(t,n)=>DX(n,t,!0)>=0,(t,n)=>HCe(n,0,!0)>=0],f3t={text:"",end:0};class h3t{constructor(n,i,s,o){this.parser=n,this.input=i,this.ranges=o,this.line=new c3t,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=o[o.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=o[0].from,this.block=Q9.create(ln.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=s.length?new v3t(s,i):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(null!=this.stoppedAt&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:n}=this;for(;;){for(let s=0;;){let o=n.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;s<n.markers.length&&(!o||n.markers[s].from<o.end);){let a=n.markers[s++];this.addNode(a.type,a.from,a.to)}if(!o)break;this.finishContext()}if(n.pos<n.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(n.basePos))return null;e:for(;;){for(let s of this.parser.blockParsers)if(s){let o=s(this,n);if(0!=o){if(1==o)return null;n.forward();continue e}}break}let i=new l3t(this.lineStart+n.pos,n.text.slice(n.pos));for(let s of this.parser.leafBlockParsers)if(s){let o=s(this,i);o&&i.parsers.push(o)}e:for(;this.nextLine()&&n.pos!=n.text.length;){if(n.indent<n.baseIndent+4)for(let s of this.parser.endLeafBlock)if(s(this,n,i))break e;for(let s of i.parsers)if(s.nextLine(this,n,i))return null;i.content+="\n"+n.scrub();for(let s of n.markers)i.marks.push(s)}return this.finishLeaf(i),null}stopAt(n){if(null!=this.stoppedAt&&this.stoppedAt<n)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=n}reuseFragment(n){if(!this.fragments.moveTo(this.absoluteLineStart+n,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let i=this.fragments.takeNodes(this);return!!i&&(this.absoluteLineStart+=i,this.lineStart=nSe(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0)}get depth(){return this.stack.length}parentType(n=this.depth-1){return this.parser.nodeSet.types[this.stack[n].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(n){let i=f3t;if(i.end=n,n>=this.to)i.text="";else if(i.text=this.lineChunkAt(n),i.end+=i.text.length,this.ranges.length>1){let s=this.absoluteLineStart,o=this.rangeI;for(;this.ranges[o].to<i.end;){o++;let a=this.ranges[o].from,l=this.lineChunkAt(a);i.end=a+l.length,i.text=i.text.slice(0,this.ranges[o-1].to-s)+l,s=i.end-i.text.length}}return i}readLine(){let{line:n}=this,{text:i,end:s}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=s,n.reset(i);n.depth<this.stack.length;n.depth++){let o=this.stack[n.depth],a=this.parser.skipContextMarkup[o.type];if(!a)throw new Error("Unhandled block context "+ln[o.type]);if(!a(o,this,n))break;n.forward()}}lineChunkAt(n){let s,i=this.input.chunk(n);if(this.input.lineChunks)s="\n"==i?"":i;else{let o=i.indexOf("\n");s=o<0?i:i.slice(0,o)}return n+s.length>this.to?s.slice(0,this.to-n):s}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(n,i,s=0){this.block=Q9.create(n,s,this.lineStart+i,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(n,i,s=0){this.startContext(this.parser.getNodeType(n),i,s)}addNode(n,i,s){"number"==typeof n&&(n=new Si(this.parser.nodeSet.types[n],_w,_w,(s??this.prevLineEnd())-i)),this.block.addChild(n,i-this.block.from)}addElement(n){this.block.addChild(n.toTree(this.parser.nodeSet),n.from-this.block.from)}addLeafElement(n,i){this.addNode(this.buffer.writeElements($X(i.children,n.marks),-i.from).finish(i.type,i.to-i.from),i.from)}finishContext(){let n=this.stack.pop(),i=this.stack[this.stack.length-1];i.addChild(n.toTree(this.parser.nodeSet),n.from-i.from),this.block=i}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(n){return this.ranges.length>1?WCe(this.ranges,0,n.topNode,this.ranges[0].from,this.reusePlaceholders):n}finishLeaf(n){for(let s of n.parsers)if(s.finish(this,n))return;let i=$X(this.parser.parseInline(n.content,n.start),n.marks);this.addNode(this.buffer.writeElements(i,-n.start).finish(ln.Paragraph,n.content.length),n.start)}elt(n,i,s,o){return"string"==typeof n?ji(this.parser.getNodeType(n),i,s,o):new YCe(n,i)}get buffer(){return new KCe(this.parser.nodeSet)}}function WCe(t,n,i,s,o){let a=t[n].to,l=[],c=[],u=i.from+s;function d(p,f){for(;f?p>=a:p>a;){let h=t[n+1].from-a;s+=h,p+=h,n++,a=t[n].to}}for(let p=i.firstChild;p;p=p.nextSibling){d(p.from+s,!0);let h,f=p.from+s,m=o.get(p.tree);m?h=m:p.to+s>a?(h=WCe(t,n,p,s,o),d(p.to+s,!1)):h=p.toTree(),l.push(h),c.push(f-u)}return d(i.to+s,!1),new Si(i.type,l,c,i.to+s-u,i.tree?i.tree.propValues:void 0)}class NX extends mR{constructor(n,i,s,o,a,l,c,u,d){super(),this.nodeSet=n,this.blockParsers=i,this.leafBlockParsers=s,this.blockNames=o,this.endLeafBlock=a,this.skipContextMarkup=l,this.inlineParsers=c,this.inlineNames=u,this.wrappers=d,this.nodeTypes=Object.create(null);for(let p of n.types)this.nodeTypes[p.name]=p.id}createParse(n,i,s){let o=new h3t(this,n,i,s);for(let a of this.wrappers)o=a(o,n,i,s);return o}configure(n){let i=LX(n);if(!i)return this;let{nodeSet:s,skipContextMarkup:o}=this,a=this.blockParsers.slice(),l=this.leafBlockParsers.slice(),c=this.blockNames.slice(),u=this.inlineParsers.slice(),d=this.inlineNames.slice(),p=this.endLeafBlock.slice(),f=this.wrappers;if(CT(i.defineNodes)){o=Object.assign({},o);let m,h=s.types.slice();for(let y of i.defineNodes){let{name:E,block:_,composite:S,style:v}="string"==typeof y?{name:y}:y;if(h.some(x=>x.name==E))continue;S&&(o[h.length]=(x,T,I)=>S(T,I,x.value));let w=h.length,g=S?["Block","BlockContext"]:_?w>=ln.ATXHeading1&&w<=ln.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;h.push(Ca.define({id:w,name:E,props:g&&[[Br.group,g]]})),v&&(m||(m={}),Array.isArray(v)||v instanceof ud?m[E]=v:Object.assign(m,v))}s=new A3(h),m&&(s=s.extend(o_(m)))}if(CT(i.props)&&(s=s.extend(...i.props)),CT(i.remove))for(let h of i.remove){let m=this.blockNames.indexOf(h),y=this.inlineNames.indexOf(h);m>-1&&(a[m]=l[m]=void 0),y>-1&&(u[y]=void 0)}if(CT(i.parseBlock))for(let h of i.parseBlock){let m=c.indexOf(h.name);if(m>-1)a[m]=h.parse,l[m]=h.leaf;else{let y=h.before?J9(c,h.before):h.after?J9(c,h.after)+1:c.length-1;a.splice(y,0,h.parse),l.splice(y,0,h.leaf),c.splice(y,0,h.name)}h.endLeaf&&p.push(h.endLeaf)}if(CT(i.parseInline))for(let h of i.parseInline){let m=d.indexOf(h.name);if(m>-1)u[m]=h.parse;else{let y=h.before?J9(d,h.before):h.after?J9(d,h.after)+1:d.length-1;u.splice(y,0,h.parse),d.splice(y,0,h.name)}}return i.wrap&&(f=f.concat(i.wrap)),new NX(s,a,l,c,p,o,u,d,f)}getNodeType(n){let i=this.nodeTypes[n];if(null==i)throw new RangeError(`Unknown node type '${n}'`);return i}parseInline(n,i){let s=new g3t(this,n,i);e:for(let o=i;o<s.end;){let a=s.char(o);for(let l of this.inlineParsers)if(l){let c=l(s,a,o);if(c>=0){o=c;continue e}}o++}return s.resolveMarkers(0)}}function CT(t){return null!=t&&t.length>0}function LX(t){if(!Array.isArray(t))return t;if(0==t.length)return null;let n=LX(t[0]);if(1==t.length)return n;let i=LX(t.slice(1));if(!i||!n)return n||i;let s=(l,c)=>(l||_w).concat(c||_w),o=n.wrap,a=i.wrap;return{props:s(n.props,i.props),defineNodes:s(n.defineNodes,i.defineNodes),parseBlock:s(n.parseBlock,i.parseBlock),parseInline:s(n.parseInline,i.parseInline),remove:s(n.remove,i.remove),wrap:o?a?(l,c,u,d)=>o(a(l,c,u,d),c,u,d):o:a}}function J9(t,n){let i=t.indexOf(n);if(i<0)throw new RangeError(`Position specified relative to unknown parser ${n}`);return i}let GCe=[Ca.none];for(let n,t=1;n=ln[t];t++)GCe[t]=Ca.define({id:t,name:n,props:t>=ln.Escape?[]:[[Br.group,t in RCe?["Block","BlockContext"]:["Block","LeafBlock"]]],top:"Document"==n});const _w=[];class KCe{constructor(n){this.nodeSet=n,this.content=[],this.nodes=[]}write(n,i,s,o=0){return this.content.push(n,i,s,4+4*o),this}writeElements(n,i=0){for(let s of n)s.writeTo(this,i);return this}finish(n,i){return Si.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:n,length:i})}}class ST{constructor(n,i,s,o=_w){this.type=n,this.from=i,this.to=s,this.children=o}writeTo(n,i){let s=n.content.length;n.writeElements(this.children,i),n.content.push(this.type,this.from+i,this.to+i,n.content.length+4-s)}toTree(n){return new KCe(n).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}}class YCe{constructor(n,i){this.tree=n,this.from=i}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return _w}writeTo(n,i){n.nodes.push(this.tree),n.content.push(n.nodes.length-1,this.from+i,this.to+i,-1)}toTree(){return this.tree}}function ji(t,n,i,s){return new ST(t,n,i,s)}const XCe={resolve:"Emphasis",mark:"EmphasisMark"},QCe={resolve:"Emphasis",mark:"EmphasisMark"},Ew={},FX={};class bp{constructor(n,i,s,o){this.type=n,this.from=i,this.to=s,this.side=o}}let OT=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{OT=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const BX={Escape(t,n,i){if(92!=n||i==t.end-1)return-1;let s=t.char(i+1);for(let o=0;o<32;o++)if("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~".charCodeAt(o)==s)return t.append(ji(ln.Escape,i,i+2));return-1},Entity(t,n,i){if(38!=n)return-1;let s=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(i+1,i+31));return s?t.append(ji(ln.Entity,i,i+1+s[0].length)):-1},InlineCode(t,n,i){if(96!=n||i&&96==t.char(i-1))return-1;let s=i+1;for(;s<t.end&&96==t.char(s);)s++;let o=s-i,a=0;for(;s<t.end;s++)if(96==t.char(s)){if(a++,a==o&&96!=t.char(s+1))return t.append(ji(ln.InlineCode,i,s+1,[ji(ln.CodeMark,i,i+o),ji(ln.CodeMark,s+1-o,s+1)]))}else a=0;return-1},HTMLTag(t,n,i){if(60!=n||i==t.end-1)return-1;let s=t.slice(i+1,t.end),o=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(s);if(o)return t.append(ji(ln.Autolink,i,i+1+o[0].length,[ji(ln.LinkMark,i,i+1),ji(ln.URL,i+1,i+o[0].length),ji(ln.LinkMark,i+o[0].length,i+1+o[0].length)]));let a=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(s);if(a)return t.append(ji(ln.Comment,i,i+1+a[0].length));let l=/^\?[^]*?\?>/.exec(s);if(l)return t.append(ji(ln.ProcessingInstruction,i,i+1+l[0].length));let c=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(s);return c?t.append(ji(ln.HTMLTag,i,i+1+c[0].length)):-1},Emphasis(t,n,i){if(95!=n&&42!=n)return-1;let s=i+1;for(;t.char(s)==n;)s++;let o=t.slice(i-1,i),a=t.slice(s,s+1),l=OT.test(o),c=OT.test(a),u=/\s|^$/.test(o),d=/\s|^$/.test(a),p=!d&&(!c||u||l),f=!u&&(!l||d||c);return t.append(new bp(95==n?XCe:QCe,i,s,(!p||42!=n&&f&&!l?0:1)|(!f||42!=n&&p&&!c?0:2)))},HardBreak(t,n,i){if(92==n&&10==t.char(i+1))return t.append(ji(ln.HardBreak,i,i+2));if(32==n){let s=i+1;for(;32==t.char(s);)s++;if(10==t.char(s)&&s>=i+2)return t.append(ji(ln.HardBreak,i,s+1))}return-1},Link:(t,n,i)=>91==n?t.append(new bp(Ew,i,i+1,1)):-1,Image:(t,n,i)=>33==n&&91==t.char(i+1)?t.append(new bp(FX,i,i+2,1)):-1,LinkEnd(t,n,i){if(93!=n)return-1;for(let s=t.parts.length-1;s>=0;s--){let o=t.parts[s];if(o instanceof bp&&(o.type==Ew||o.type==FX)){if(!o.side||t.skipSpace(o.to)==i&&!/[(\[]/.test(t.slice(i+1,i+2)))return t.parts[s]=null,-1;let a=t.takeContent(s),l=t.parts[s]=m3t(t,a,o.type==Ew?ln.Link:ln.Image,o.from,i+1);if(o.type==Ew)for(let c=0;c<s;c++){let u=t.parts[c];u instanceof bp&&u.type==Ew&&(u.side=0)}return l.to}}return-1}};function m3t(t,n,i,s,o){let{text:a}=t,l=t.char(o),c=o;if(n.unshift(ji(ln.LinkMark,s,s+(i==ln.Image?2:1))),n.push(ji(ln.LinkMark,o-1,o)),40==l){let p,u=t.skipSpace(o+1),d=JCe(a,u-t.offset,t.offset);d&&(u=t.skipSpace(d.to),u!=d.to&&(p=eSe(a,u-t.offset,t.offset),p&&(u=t.skipSpace(p.to)))),41==t.char(u)&&(n.push(ji(ln.LinkMark,o,o+1)),c=u+1,d&&n.push(d),p&&n.push(p),n.push(ji(ln.LinkMark,u,c)))}else if(91==l){let u=tSe(a,o-t.offset,t.offset,!1);u&&(n.push(u),c=u.to)}return ji(i,s,c,n)}function JCe(t,n,i){if(60==t.charCodeAt(n)){for(let o=n+1;o<t.length;o++){let a=t.charCodeAt(o);if(62==a)return ji(ln.URL,n+i,o+1+i);if(60==a||10==a)return!1}return null}{let o=0,a=n;for(let l=!1;a<t.length;a++){let c=t.charCodeAt(a);if(vp(c))break;if(l)l=!1;else if(40==c)o++;else if(41==c){if(!o)break;o--}else 92==c&&(l=!0)}return a>n?ji(ln.URL,n+i,a+i):a==t.length&&null}}function eSe(t,n,i){let s=t.charCodeAt(n);if(39!=s&&34!=s&&40!=s)return!1;let o=40==s?41:s;for(let a=n+1,l=!1;a<t.length;a++){let c=t.charCodeAt(a);if(l)l=!1;else{if(c==o)return ji(ln.LinkTitle,n+i,a+1+i);92==c&&(l=!0)}}return null}function tSe(t,n,i,s){for(let o=!1,a=n+1,l=Math.min(t.length,a+999);a<l;a++){let c=t.charCodeAt(a);if(o)o=!1;else{if(93==c)return!s&&ji(ln.LinkLabel,n+i,a+1+i);if(s&&!vp(c)&&(s=!1),91==c)return!1;92==c&&(o=!0)}}return null}class g3t{constructor(n,i,s){this.parser=n,this.text=i,this.offset=s,this.parts=[]}char(n){return n>=this.end?-1:this.text.charCodeAt(n-this.offset)}get end(){return this.offset+this.text.length}slice(n,i){return this.text.slice(n-this.offset,i-this.offset)}append(n){return this.parts.push(n),n.to}addDelimiter(n,i,s,o,a){return this.append(new bp(n,i,s,(o?1:0)|(a?2:0)))}get hasOpenLink(){for(let n=this.parts.length-1;n>=0;n--){let i=this.parts[n];if(i instanceof bp&&(i.type==Ew||i.type==FX))return!0}return!1}addElement(n){return this.append(n)}resolveMarkers(n){for(let s=n;s<this.parts.length;s++){let o=this.parts[s];if(!(o instanceof bp&&o.type.resolve&&2&o.side))continue;let c,a=o.type==XCe||o.type==QCe,l=o.to-o.from,u=s-1;for(;u>=n;u--){let E=this.parts[u];if(E instanceof bp&&1&E.side&&E.type==o.type&&!(a&&(1&o.side||2&E.side)&&(E.to-E.from+l)%3==0&&((E.to-E.from)%3||l%3))){c=E;break}}if(!c)continue;let d=o.type.resolve,p=[],f=c.from,h=o.to;if(a){let E=Math.min(2,c.to-c.from,l);f=c.to-E,h=o.from+E,d=1==E?"Emphasis":"StrongEmphasis"}c.type.mark&&p.push(this.elt(c.type.mark,f,c.to));for(let E=u+1;E<s;E++)this.parts[E]instanceof ST&&p.push(this.parts[E]),this.parts[E]=null;o.type.mark&&p.push(this.elt(o.type.mark,o.from,h));let m=this.elt(d,f,h,p);this.parts[u]=a&&c.from!=f?new bp(c.type,c.from,f,c.side):null,(this.parts[s]=a&&o.to!=h?new bp(o.type,h,o.to,o.side):null)?this.parts.splice(s,0,m):this.parts[s]=m}let i=[];for(let s=n;s<this.parts.length;s++){let o=this.parts[s];o instanceof ST&&i.push(o)}return i}findOpeningDelimiter(n){for(let i=this.parts.length-1;i>=0;i--){let s=this.parts[i];if(s instanceof bp&&s.type==n)return i}return null}takeContent(n){let i=this.resolveMarkers(n);return this.parts.length=n,i}skipSpace(n){return wT(this.text,n-this.offset)+this.offset}elt(n,i,s,o){return"string"==typeof n?ji(this.parser.getNodeType(n),i,s,o):new YCe(n,i)}}function $X(t,n){if(!n.length)return t;if(!t.length)return n;let i=t.slice(),s=0;for(let o of n){for(;s<i.length&&i[s].to<o.to;)s++;if(s<i.length&&i[s].from<o.from){let a=i[s];a instanceof ST&&(i[s]=new ST(a.type,a.from,a.to,$X(a.children,[o])))}else i.splice(s++,0,o)}return i}const y3t=[ln.CodeBlock,ln.ListItem,ln.OrderedList,ln.BulletList];class v3t{constructor(n,i){this.fragments=n,this.input=i,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,n.length&&(this.fragment=n[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(n,i){for(;this.fragment&&this.fragment.to<=n;)this.nextFragment();if(!this.fragment||this.fragment.from>(n?n-1:0))return!1;if(this.fragmentEnd<0){let a=this.fragment.to;for(;a>0&&"\n"!=this.input.read(a-1,a);)a--;this.fragmentEnd=a?a-1:0}let s=this.cursor;s||(s=this.cursor=this.fragment.tree.cursor(),s.firstChild());let o=n+this.fragment.offset;for(;s.to<=o;)if(!s.parent())return!1;for(;;){if(s.from>=o)return this.fragment.from<=i;if(!s.childAfter(o))return!1}}matches(n){let i=this.cursor.tree;return i&&i.prop(Br.contextHash)==n}takeNodes(n){let i=this.cursor,s=this.fragment.offset,o=this.fragmentEnd-(this.fragment.openEnd?1:0),a=n.absoluteLineStart,l=a,c=n.block.children.length,u=l,d=c;for(;;){if(i.to-s>o){if(i.type.isAnonymous&&i.firstChild())continue;break}let p=nSe(i.from-s,n.ranges);if(i.to-s<=n.ranges[n.rangeI].to)n.addNode(i.tree,p);else{let f=new Si(n.parser.nodeSet.types[ln.Paragraph],[],[],0,n.block.hashProp);n.reusePlaceholders.set(f,i.tree),n.addNode(f,p)}if(i.type.is("Block")&&(y3t.indexOf(i.type.id)<0?(l=i.to-s,c=n.block.children.length):(l=u,c=d,u=i.to-s,d=n.block.children.length)),!i.nextSibling())break}for(;n.block.children.length>c;)n.block.children.pop(),n.block.positions.pop();return l-a}}function nSe(t,n){let i=t;for(let s=1;s<n.length;s++){let o=n[s-1].to;o<t&&(i-=n[s].from-o)}return i}const b3t=o_({"Blockquote/...":he.quote,HorizontalRule:he.contentSeparator,"ATXHeading1/... SetextHeading1/...":he.heading1,"ATXHeading2/... SetextHeading2/...":he.heading2,"ATXHeading3/...":he.heading3,"ATXHeading4/...":he.heading4,"ATXHeading5/...":he.heading5,"ATXHeading6/...":he.heading6,"Comment CommentBlock":he.comment,Escape:he.escape,Entity:he.character,"Emphasis/...":he.emphasis,"StrongEmphasis/...":he.strong,"Link/... Image/...":he.link,"OrderedList/... BulletList/...":he.list,"BlockQuote/...":he.quote,"InlineCode CodeText":he.monospace,"URL Autolink":he.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":he.processingInstruction,"CodeInfo LinkLabel":he.labelName,LinkTitle:he.string,Paragraph:he.content}),_3t=new NX(new A3(GCe).extend(b3t),Object.keys(Z9).map(t=>Z9[t]),Object.keys(Z9).map(t=>qCe[t]),Object.keys(Z9),p3t,RCe,Object.keys(BX).map(t=>BX[t]),Object.keys(BX),[]);function pSe(t,n,i){return(s,o,a)=>{if(o!=t||s.char(a+1)==t)return-1;let l=[s.elt(i,a,a+1)];for(let c=a+1;c<s.end;c++){let u=s.char(c);if(u==t)return s.addElement(s.elt(n,a,c+1,l.concat(s.elt(i,c,c+1))));if(92==u&&l.push(s.elt("Escape",c,2+c++)),vp(u))break}return-1}}function D3t(t){const n=[];return t.iterate({enter:i=>{const s=i.node;if(!s.type.isError)return;const o=s.parent,a=fSe(s),l={from:s.from,to:s.to,severity:"error",type:"Syntax Error"};if(s.from!==s.to)l.message=`Unrecognized token in <${o.name}>`;else if(a)l.message=`Unrecognized token <${a.name}> in <${o.name}>`,l.to=a.to;else{const c=o.enterUnfinishedNodesBefore(s.to);l.message=`Incomplete <${(c||o).name}>`}n.push(l)}}),n}function fSe(t){return t?t.nextSibling||fSe(t.parent):null}he.special(he.content),pSe(94,"Superscript","SuperscriptMark"),he.special(he.content),pSe(126,"Subscript","SubscriptMark");const A3t=[{create:t=>({enter(n){if("FilterExpression"!==n.name)return;const i=t.readContent(n.from,n.to);if(/\[\s*0\s*\]$/.test(i)){const{from:s,to:o}=n;t.report({from:s,to:o,message:"First item is accessed via [1]",severity:"warning",type:"first-item",actions:[{name:"fix",apply(a,l=s,c=o){t.updateContent(l,c,i.replace(/\[\s*0\s*\]$/,"[1]"))}}]})}}})}];function I3t(t){const{readContent:n,syntaxTree:i,updateContent:s}=t,o=[],a={readContent:n,report:c=>{o.push(c)},updateContent:s},l=A3t.map(c=>c.create(a));return i.iterate({enter:c=>{for(const u of l)u.enter&&u.enter(c)},leave:c=>{for(const u of l)u.leave&&u.leave(c)}}),o}const gSe=()=>t=>0===t.state.doc.length?[]:function mSe(t){return[...D3t(t.syntaxTree),...I3t(t)]}({syntaxTree:Ns(t.state),readContent:(s,o)=>t.state.sliceDoc(s,o),updateContent:(s,o,a)=>t.dispatch({changes:{from:s,to:o,insert:a}})}).map(s=>({...s,source:s.type})),R3t=gT(xy.define([{tag:he.strong,fontWeight:"bold"},{tag:he.emphasis,fontStyle:"italic"}]));var ySe=[kn.theme({"& .cm-lintRange":{position:"relative"},"& .cm-lintRange::after":{content:'""',width:"100%",position:"absolute",left:"0px",bottom:"-2px",height:"3px",backgroundRepeat:"repeat-x"},"& .cm-lintRange.cm-lintRange-warning, & .cm-lintRange.cm-lintRange-error":{backgroundImage:"none"},"& .cm-lintPoint::after":{bottom:"-2px"}}),R3t];const vSe=t=>`%23${t.slice(1)}`,ei={black:"#1f2b36",darkGrey:"#2f3d58",grey:"#404a5c",midGrey:"#576071",lightGrey:"#c5d1e5",offWhite:"#d9e0f5",snowWhite:"#eaf1ff",white:"#ffffff",mossGreen:"#7ab6aa",iceBlue:"#6cbfd8",waterBlue:"#065aaa",brightBlue:"#0a56b9",deepBlue:"#355472",red:"#9f1c15",orangeBrown:"#b4502f",yellow:"#debd71",lila:"#9a4890",purple:"#5b2c83"},za={lightBackground:ei.white,darkBackground:ei.snowWhite,selection:ei.snowWhite,tooltipBackground:ei.offWhite,error:ei.red,warning:ei.yellow,invalid:"#b40000"};var F3t=[kn.theme({"&":{color:ei.black,backgroundColor:za.lightBackground},".cm-content":{caretColor:ei.darkGrey},".cm-cursor, .cm-dropCursor":{borderLeftColor:ei.darkGrey},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:za.selection},".cm-panels":{backgroundColor:za.darkBackground,color:ei.grey},".cm-panels.cm-panels-top":{borderBottom:`2px solid ${ei.black}`},".cm-panels.cm-panels-bottom":{borderTop:`2px solid ${ei.black}`},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:`1px solid ${ei.midGrey}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:ei.offWhite},".cm-activeLine":{backgroundColor:za.selection},".cm-selectionMatch":{backgroundColor:ei.offWhite},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${ei.grey}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:ei.snowWhite},".cm-gutters":{backgroundColor:"#f3f7fe",color:"#52668d",border:"none",padding:"0 5px"},".cm-activeLineGutter":{backgroundColor:za.selection},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:za.tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:za.tooltipBackground,borderBottomColor:za.tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:za.darkBackground,color:ei.midGrey}},"& .cm-lintRange.cm-lintRange-warning::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${vSe(za.warning)}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-lintRange.cm-lintRange-error::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${vSe(za.error)}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-diagnostic-warning":{border:`1px solid ${za.warning}`,borderLeft:`5px solid ${za.warning}`,background:za.lightBackground},"& .cm-diagnostic-error":{border:`1px solid ${za.error}`,borderLeft:`5px solid ${za.error}`,background:za.lightBackground},"& .cm-diagnostic":{padding:"3px 8px"}},{dark:!1}),gT(xy.define([{tag:[he.macroName,he.variableName],color:ei.waterBlue},{tag:[he.special(he.bracket)],color:ei.waterBlue,fontWeight:"bold"},{tag:[he.color,he.name,he.definition(he.name),he.constant(he.name),he.standard(he.name),he.propertyName],color:ei.deepBlue},{tag:[he.definition(he.variableName),he.function(he.variableName),he.function(he.propertyName)],color:ei.brightBlue},{tag:[he.labelName],color:ei.orangeBrown},{tag:[he.annotation],color:za.invalid},{tag:[he.number,he.changed,he.annotation,he.modifier,he.self,he.namespace,he.atom,he.bool,he.special(he.variableName)],color:ei.red},{tag:[he.typeName,he.className,he.attributeName],color:ei.lila},{tag:[he.operator,he.operatorKeyword,he.tagName,he.keyword],color:ei.purple},{tag:[he.angleBracket,he.squareBracket,he.brace,he.separator,he.punctuation],color:ei.midGrey},{tag:[he.regexp],color:ei.deepBlue},{tag:[he.quote],color:ei.darkGrey},{tag:[he.string,he.character,he.deleted],color:ei.orangeBrown},{tag:he.link,color:ei.mossGreen,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[he.url,he.escape,he.special(he.string)],color:ei.red},{tag:[he.meta],color:ei.iceBlue},{tag:[he.comment],color:ei.midGrey,fontStyle:"italic"},{tag:he.strong,fontWeight:"bold",color:ei.deepBlue},{tag:he.emphasis,fontStyle:"italic",color:ei.deepBlue},{tag:he.strikethrough,textDecoration:"line-through"},{tag:he.heading,fontWeight:"bold",color:ei.midGray},{tag:he.special(he.heading1),fontWeight:"bold",color:ei.darkGrey},{tag:[he.heading1,he.heading2,he.heading3,he.heading4],fontWeight:"bold",color:ei.midGrey},{tag:[he.heading5,he.heading6,he.processingInstruction,he.inserted],color:ei.grey},{tag:[he.contentSeparator],color:ei.yellow},{tag:he.invalid,color:ei.midGrey,borderBottom:`1px dotted ${za.invalid}`}]))];const VX="#f07178",xw="#fffce1",jX="#ec9e6f",zX="rgba(0, 0, 0, 0.5)",HX="#353a42";var G3t=[kn.theme({"&":{color:"#ffffff",backgroundColor:"#292d3e"},".cm-content":{caretColor:"#ffcc00"},"&.cm-focused .cm-cursor":{borderLeftColor:"#ffcc00"},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"rgba(128, 203, 196, 0.2)"},".cm-panels":{backgroundColor:"#21252b",color:"#ffffff"},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:zX},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{background:"#292d3e",color:"#676e95",border:"none",padding:"0 5px"},".cm-activeLineGutter":{backgroundColor:zX},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:HX},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:HX,borderBottomColor:HX},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:zX,color:"#abb2bf"}},"& .cm-lintRange.cm-lintRange-warning::after":{backgroundImage:"url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='%23fff890' fill='none' stroke-width='1.2'/></svg>\")"},"& .cm-lintRange.cm-lintRange-error::after":{backgroundImage:"url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='red' fill='none' stroke-width='1.2'/></svg>\")"},"& .cm-diagnostic-warning":{borderLeft:"5px solid #fff890",background:"#281e16"},"& .cm-diagnostic-error":{borderLeft:"5px solid red",background:"#281616"},"& .cm-diagnostic":{borderRadius:"2px",padding:"3px 8px"}},{dark:!0}),gT(xy.define([{tag:he.heading1,color:xw},{tag:he.heading2,color:xw},{tag:he.heading3,color:xw},{tag:he.heading4,color:xw},{tag:he.heading5,color:xw},{tag:he.heading6,color:xw},{tag:he.special(he.bracket),color:jX,fontWeight:"bold"},{tag:he.keyword,color:"#c792ea"},{tag:he.operator,color:"#89ddff"},{tag:he.special(he.variableName),color:"#eeffff"},{tag:he.typeName,color:"#f07178"},{tag:he.atom,color:"#f78c6c"},{tag:he.number,color:"#ff5370"},{tag:he.bool,color:"#ff5370"},{tag:he.definition(he.variableName),color:"#82aaff"},{tag:he.string,color:"#c3e88d"},{tag:he.comment,color:"#7d8799"},{tag:he.tagName,color:"#ff5370"},{tag:he.bracket,color:"#a2a1a4"},{tag:he.meta,color:"#ffcb6b"},{tag:he.special(he.string),color:VX},{tag:he.propertyName,color:jX},{tag:he.variableName,color:jX},{tag:he.attributeName,color:VX},{tag:he.className,color:VX},{tag:he.invalid,color:"#ffffff"}]))];const K3t=[...ySe,...F3t],Y3t=[...ySe,...G3t],J3t=(t,n=0)=>{const i=125===t.peek(n),s=125===t.peek(n+1);return i&&s||-1===t.peek(n)},ewt=new ry((t,n)=>{let i=0;for(;!J3t(t,i);)i++;i>0&&(t.advance(i),t.acceptToken(2))}),twt=(t,n=0)=>{const i=123===t.peek(n),s=123===t.peek(n+1);return i&&s||-1===t.peek(n)},nwt=new ry((t,n)=>{let i=0;for(;!twt(t,i);)i++;i>0&&(t.advance(i),t.acceptToken(3))}),rwt=new ry((t,n)=>{let i=0;for(;-1!==t.peek(i);)i++;i>0&&(t.advance(i),t.acceptToken(1))}),iwt=o_({ConditionalSpanner:he.special(he.bracket),ConditionalSpannerClose:he.special(he.bracket),ConditionalSpannerCloseNl:he.special(he.bracket),LoopSpanner:he.special(he.bracket),LoopSpannerClose:he.special(he.bracket),LoopSpannerCloseNl:he.special(he.bracket),EmptyInsert:he.special(he.bracket),Insert:he.special(he.bracket)}),UX=s_.deserialize({version:14,states:"$bOQOaOOOfOXO'#CbOOO`'#Cm'#CmOqOWO'#CcOvOWO'#CfOOO`'#Cp'#CpOOO`'#Ci'#CiO{OaO'#ClO!jOSOOQOOOOOO!oOPO,58{O!tOXO,58|OOO`,58|,58|O!|OQO,58}O#ROQO,59QOOO`-E6g-E6gOOO`1G.g1G.gO#WOPO1G.gOOO`1G.h1G.hO#]OaO1G.iO#qOaO1G.lOOO`7+$R7+$RO$VOPO7+$TO$_OPO7+$WOOO`<<Go<<GoOOO`<<Gr<<Gr",stateData:"$g~ORUO_WObPOeROgSO^`P~OQYO_ZOc[O~OQ]O~OQ^O~ORUObPOeROgSO^`XW`XX`XZ`X[`X~OPXO~Oc`O~OQaOcbO~OfcO~OfdO~OceO~ORUObPOeROgSOW`PX`P~ORUObPOeROgSOZ`P[`P~OWhOXhO~OZiO[iO~O",goto:"!ZePPPPPfflPPlPPrPPz!TPP!TXQOVcdXTOVcdUVOcdR_VQXOQfcRgdXUOVcd",nodeNames:"\u26a0 Feel FeelBlock SimpleTextBlock Feelers Insert EmptyInsert ConditionalSpanner ConditionalSpannerClose ConditionalSpannerCloseNl LoopSpanner LoopSpannerClose LoopSpannerCloseNl",maxTerm:23,propSources:[iwt],skippedNodes:[0],repeatNodeCount:1,tokenData:"%X~RR!_!`[#o#pa#q#r$r~aO_~~dP#o#pg~lQb~str!P!Q!{~uQ#]#^{#`#a!^~!OP#Y#Z!R~!UPpq!X~!^Oe~~!aP#c#d!d~!gP#c#d!j~!mP#d#e!p~!sPpq!v~!{Og~~#OQ#]#^#U#`#a#u~#XP#Y#Z#[~#_P#q#r#b~#eP#q#r#h~#mPW~YZ#p~#uOX~~#xP#c#d#{~$OP#c#d$R~$UP#d#e$X~$[P#q#r$_~$bP#q#r$e~$jPZ~YZ$m~$rO[~R$uP#q#r$xR%PPcPfQYZ%SQ%XOfQ",tokenizers:[0,1,rwt,ewt,nwt],topRules:{Feelers:[0,4]},tokenPrec:0});function xSe(t,n){const i=[{children:[]}];return t.iterate({enter:(o,a,l)=>{const c={name:o.type.name,children:[]};(o=>["SimpleTextBlock","Feel","FeelBlock"].includes(o.type.name))(o)&&(c.content=n.slice(o.from,o.to)),i.push(c)},leave:(o,a,l)=>{const c=i.pop(),u=i[i.length-1];c.parent=u,u.children.push(c)}}),i[0].children[0]}const wSe=(t,n)=>"object"==typeof t?{this:t,parent:n,...t,_this_:t,_parent_:n}:{this:t,parent:n,_this_:t,_parent_:n},awt={ConditionalSpanner:dw,LoopSpanner:dw};function uwt(t){const n=[];return t.iterate({enter:i=>{"EmptyInsert"===i.type.name&&n.push({from:i.from,to:i.to,severity:"warning",message:"this insert is empty and will be ignored",type:"emptyInsert"})}}),n}var fwt=SCe(function pwt(){const t=gSe();return n=>{const i=t(n);if(0===n.state.doc.length)return[];const o=function dwt(t){return[...uwt(t)]}(Ns(n.state));return[...i,...o.map(a=>({...a,source:"feelers linter"}))]}}());function tN({container:t,tooltipContainer:n,hostLanguage:i,hostLanguageParser:s,onChange:o=()=>{},onKeyDown:a=()=>{},onLint:l=()=>{},contentAttributes:c={},readOnly:u=!1,value:d="",enableGutters:p=!1,singleLine:f=!1,lineWrap:h=!1,darkMode:m=!1}){const y=kn.updateListener.of(T=>{T.docChanged&&o(T.state.doc.toString())}),E=kn.updateListener.of(T=>{const I=T.transactions.flatMap($=>$.effects).filter($=>$.is(bw));if(!I.length)return;const A=I.flatMap($=>$.value);l(A)}),_=kn.contentAttributes.of(c),S=kn.domEventHandlers({keydown:a});"string"==typeof n&&(n=document.querySelector(n));const v=n?h5e({tooltipSpace:function(){return n.getBoundingClientRect()}}):[],g=(t=>new k9(function lwt(t=null){const n=UX.configure({wrap:nmt(i=>"Feel"==i.name||"FeelBlock"==i.name?{parser:f_}:t&&"SimpleTextBlock"==i.name?{parser:t}:null),props:[pT.add(awt)]});return S_.define({parser:n})}(t),[]))(s||i&&("markdown"===i?_3t:null)),x=[GY(),y,_,uX(),jY(),S,sw.of([...SX]),g,fwt,E,v,m?Y3t:K3t,...p?[FY()]:[],...f?[Wc.transactionFilter.of(T=>T.newDoc.lines>1?[]:T)]:[],...h?[kn.lineWrapping]:[]];return u&&x.push(kn.editable.of(!1)),f&&d&&(d=d.toString().split("\n")[0]),this._cmEditor=new kn({state:Wc.create({doc:d,extensions:x}),parent:t}),this}tN.prototype.setValue=function(t){this._cmEditor.dispatch({changes:{from:0,to:this._cmEditor.state.doc.length,insert:t}})},tN.prototype.focus=function(t){const n=this._cmEditor;if(n.contentDOM.focus(),n.focus(),"number"==typeof t){const i=n.state.doc.length;n.dispatch({selection:{anchor:t<=i?t:i}})}},tN.prototype.getSelection=function(){return this._cmEditor.state.selection};const CSe=[Gh("function(${params}) ${body}",{label:"function",detail:"definition",type:"keyword"}),Gh("for ${var} in ${collection} return ${value}",{label:"for",detail:"expression",type:"keyword"}),Gh("every ${var} in ${collection} satisfies ${condition}",{label:"every",detail:"quantified expression",type:"keyword"}),Gh("some ${var} in ${collection} satisfies ${condition}",{label:"some",detail:"quantified expression",type:"keyword"}),Gh("if ${condition} then ${value} else ${other value}",{label:"if",detail:"block",type:"keyword"}),Gh("{ ${key}: ${value} }",{label:"context",detail:"block",type:"keyword"}),Gh("null",{label:"null",detail:"literal",type:"keyword"}),Gh("true",{label:"true",detail:"literal",type:"keyword"}),Gh("false",{label:"false",detail:"literal",type:"keyword"})];function qX(){return qX=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},qX.apply(this,arguments)}function PT(t){const{context:n,after:i,before:s,keyword:o}=t;return function ywt(t,n){const{nodes:i,before:s,after:o,keyword:a}=t;return l=>{const{state:c,pos:u}=l,d=kSe(Ns(c).resolveInner(u,-1),i);if(!d)return null;const[p]=d;return PSe(p,u,[a,s])||function gwt(t,n,i){return DSe(t,n,i,1)}(p,u,[a,o])||o&&!PSe(p,u,[o])?null:n(l)}}({nodes:n,before:s,after:i,keyword:o},eX([{label:o,type:"keyword",boost:10}]))}const SSe=[PT({context:"InExpression",keyword:"in"}),PT({context:"IfExpression",keyword:"then",after:"if",before:"else"}),PT({context:"IfExpression",keyword:"else",after:"then"}),PT({context:"QuantifiedExpression",keyword:"satisfies"}),PT({context:"ForExpression",after:"InExpressions",keyword:"return"})],OSe=["StringLiteral","Identifier","LineComment","BlockComment","PathExpression","Context","Key","ParameterName"],hwt=["Expr","ContextEntry"];function TSe(t){return function mwt(t){const n=[...OSe,...hwt];return i=>{const{state:s,pos:o}=i,a=kSe(Ns(s).resolveInner(o,-1),n);if(a){const[l,c]=a;if(OSe.includes(c))return null}return t(i)}}(eX(t.map(n=>qX({},n,{type:"text"}))))}function PSe(t,n,i){return DSe(t,n,i,-1)}function DSe(t,n,i,s){let o=t[s>0?"childAfter":"childBefore"](n);for(;o;){if(i.includes(o.name))return o;if(o.type.isError&&o.firstChild&&i.includes(o.firstChild.name))return o.firstChild;o=o[s>0?"nextSibling":"prevSibling"]}return null}function kSe(t,n){for(Array.isArray(n)||(n=[n]);t;t=t.parent){const i=t.type,s=n.find(o=>o&&i.is(o));if(s)return[t,s];if(i.isTop)break}return null}const MSe=S_.define({parser:f_.configure({props:[uT.add({Context:R5e({closing:"}"}),"List FilterExpression":R5e({closing:"]"}),"ParenthesizedExpression FunctionInvocation":dT({except:/^\s*\)/}),"ForExpression QuantifiedExpression IfExpression":dT({except:/^\s*(then|else|return|satisfies)\b/}),FunctionDefinition:dT({except:/^\s*(\(|\))/})}),pT.add({Context:dw,List:dw,ParenthesizedExpression:dw,FunctionDefinition(t){const n=t.getChild(")");return n?{from:n.to,to:t.to}:null}})]}),languageData:{indentOnInput:/^\s*(\)|\}|\]|then|else|return|satisfies)$/,commentTokens:{line:"//",block:{open:"/*",close:"*/"}}}}),vwt=MSe.configure({top:"UnaryTests"},"FEEL unary tests"),bwt=MSe.configure({top:"Expression"},"FEEL expression");var Ewt=[SCe(gSe())],Swt=[kn.theme({"& .cm-content":{padding:"0px"},"& .cm-line":{padding:"0px"},"&.cm-editor.cm-focused":{outline:"none"},"& .cm-completionInfo":{whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis"},"&.cm-editor":{height:"100%"},"& .cm-completionInfo > *":{whiteSpace:"normal"},"& .cm-completionInfo ul":{margin:0,paddingLeft:"15px"},"& .cm-completionInfo pre":{marginBottom:0,whiteSpace:"pre-wrap"},"& .cm-completionInfo p":{marginTop:0},"& .cm-completionInfo p:not(:last-of-type)":{marginBottom:0}}),kn.baseTheme({"& .variableName":{color:"#10f"},"& .number":{color:"#164"},"& .string":{color:"#a11"},"& .bool":{color:"#219"},"& .function":{color:"#aa3731",fontWeight:"bold"},"& .control":{color:"#708"}}),gT(xy.define([{tag:he.variableName,class:"variableName"},{tag:he.name,class:"variableName"},{tag:he.number,class:"number"},{tag:he.string,class:"string"},{tag:he.bool,class:"bool"},{tag:he.function(he.variableName),class:"function"},{tag:he.function(he.special(he.variableName)),class:"function"},{tag:he.controlKeyword,class:"control"},{tag:he.operatorKeyword,class:"control"}]))];function ASe(t){return t&&t.from===t.to}function WX(t){return!!t&&("PathExpression"===t.name||WX(t.parent))}function Pwt({variables:t}){return n=>{const i=Ns(n.state).resolve(n.pos,-1);if(!WX(i))return;const s=function Dwt(t){for(;t;){if("PathExpression"===t.name)return t;t=t.parent}}(i),o=i===s?n.pos:i.from,a=GX(s,n);let l=t;for(var c=0;c<a.length-1;c++){var u=l.find(p=>p.name===a[c].name);if(!u)return null;if("optional"!==u.isList&&!!u.isList!==a[c].isList)return;l=u.entries}return l?(l=l.map(p=>({label:p.name,type:"variable",info:p.info,detail:p.detail})),{from:o,options:l}):void 0}}function GX(t,n){let i=[];for(let s=t.firstChild;s;s=s.nextSibling)"PathExpression"===s.name?i.push(...GX(s,n)):"FilterExpression"===s.name?i.push(...kwt(s,n)):i.push({name:ISe(s,n),isList:!1});return i}function kwt(t,n){const i=t.firstChild;if("PathExpression"===i.name){const s=GX(i,n);return s[s.length-1].isList=!0,s}return[{name:ISe(i,n),isList:!0}]}function ISe(t,n){return n.state.sliceDoc(t.from,t.to)}function Mwt({variables:t=[],builtins:n=[]}){const i=function Awt(t,n){return[].concat(t.map(i=>RSe(i)),n.map(i=>RSe(i)))}(t,n);return i.length?s=>{const{pos:o,state:a}=s,l=Ns(a).resolve(o,-1);return function Owt(t,n){const i=t.nextSibling;return ASe(t)||i&&i.from===n&&ASe(i)}(l,o)?s.explicit?{from:o,options:i}:null:!function Twt(t){return t&&t.parent&&"VariableName"===t.parent.name}(l)||WX(l)?null:{from:l.from,options:i}}:s=>null}function RSe(t,n){return"function"===t.type?function Iwt(t,n){const{name:i,info:s,detail:o,params:a=[]}=t,l=a.map(({name:p,type:f},h)=>({name:p||`param ${h+1}`,type:f}));return Gh(`${i}(${l.map(p=>"${"+p.name+"}").join(", ")})`,{label:`${i}(${l.map(({name:p,type:f})=>f?`${p}: ${f}`:p).join(", ")})`,type:"function",info:s,detail:o,boost:n})}(t,n):{label:t.name,type:"variable",info:t.info,detail:t.detail,boost:n}}function Rwt({variables:t=[],builtins:n=[]}){return[Pwt({variables:t}),Mwt({variables:t,builtins:n}),TSe(CSe.map(i=>({...i,boost:-1}))),...SSe]}function Nwt(t){return function _wt(t={}){const n="unaryTests"===t.dialect?vwt:bwt,i=t.parserDialect,s=p_(t.context),o=n.configure({contextTracker:s,dialect:i}),a=t.completions||[TSe(CSe),SSe].flat();return new k9(o,[...a.map(l=>o.data.of({autocomplete:l}))])}(t)}const NSe=xn.define(),LSe=xn.define(),FSe=xn.define(),BSe=xn.define();function $Se({dialect:t="expression",parserDialect:n,variables:i=[],builtins:s=[],completions:o=Rwt({builtins:s,variables:i})}){const a=function Lwt(t){return t.slice().reverse().reduce((n,i)=>(n[i.name]=()=>{},n),{})}([...i,...s]);return[FSe.of(t),NSe.of(s),LSe.of(i),BSe.of(n),Nwt({dialect:t,parserDialect:n,context:a,completions:o})]}function Vwt(t){const{name:n,description:i}=t,s=n.match(/^([\w\s]+)\((.*)\)$/),a=s[2];return{name:s[1],type:"function",params:a?a.split(", ").map(c=>({name:c})):[],info:()=>Xr(`<div class="description">${i}<div>`),boost:0}}const jwt=function $wt(t){return t.map(Vwt)}([{name:"not(negand)",description:'<p>Returns the logical negation of the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">not(negand: boolean): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">not(true)\n// false\n\nnot(null)\n// null\n</code></pre>\n'},{name:"is defined(value)",description:'<p><em>Camunda Extension</em></p>\n<p>Checks if a given value is not <code>null</code>. If the value is <code>null</code> then the function returns <code>false</code>.\nOtherwise, the function returns <code>true</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">is defined(value: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">is defined(1)\n// true\n\nis defined(null)\n// false\n\nis defined(x)\n// false - if no variable &quot;x&quot; exists\n\nis defined(x.y)\n// false - if no variable &quot;x&quot; exists or it doesn&#39;t have a property &quot;y&quot;\n</code></pre>\n<p>:::caution Breaking change</p>\n<p>This function worked differently in previous versions. It returned <code>true</code> if the value was <code>null</code>.\nSince this version, the function returns <code>false</code> if the value is <code>null</code>.</p>\n<p>:::</p>\n'},{name:"get or else(value, default)",description:'<p><em>Camunda Extension</em></p>\n<p>Return the provided value parameter if not <code>null</code>, otherwise return the default parameter</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">get or else(value: Any, default: Any): Any\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">get or else(&quot;this&quot;, &quot;default&quot;)\n// &quot;this&quot;\n\nget or else(null, &quot;default&quot;)\n// &quot;default&quot;\n\nget or else(null, null)\n// null\n</code></pre>\n'},{name:"assert(value, condition)",description:'<p><em>Camunda Extension</em></p>\n<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.\nOtherwise, the evaluation fails with an error.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">assert(value: Any, condition: Any)\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">assert(x, x != null)\n// &quot;value&quot; - if x is &quot;value&quot;\n// error - if x is null or doesn&#39;t exist\n\nassert(x, x &gt;= 0)\n// 4 - if x is 4\n// error - if x is less than zero\n</code></pre>\n'},{name:"assert(value, condition, cause)",description:'<p><em>Camunda Extension</em></p>\n<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.\nOtherwise, the evaluation fails with an error containing the given message.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">assert(value: Any, condition: Any, cause: String)\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">assert(x, x != null, &quot;&#39;x&#39; should not be null&quot;)\n// &quot;value&quot; - if x is &quot;value&quot;\n// error(&#39;x&#39; should not be null) - if x is null or doesn&#39;t exist\n\nassert(x, x &gt;= 0, &quot;&#39;x&#39; should be positive&quot;)\n// 4 - if x is 4\n// error(&#39;x&#39; should be positive) - if x is less than zero\n</code></pre>\n'},{name:"get value(context, key)",description:'<p>Returns the value of the context entry with the given key.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">get value(context: context, key: string): Any\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">get value({foo: 123}, &quot;foo&quot;)\n// 123\n\nget value({a: 1}, &quot;b&quot;)\n// null\n</code></pre>\n'},{name:"get value(context, keys)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns the value of the context entry for a context path defined by the given keys.</p>\n<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it returns the value at the nested entry <code>k1.k2</code> of the context.</p>\n<p>If <code>keys</code> are empty or the nested entry defined by the keys doesn&#39;t exist in the context, it returns <code>null</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">get value(context: context, keys: list&lt;string&gt;): Any\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">get value({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;])\n// 0\n\nget value({x: {y: {z:0}}}, [&quot;x&quot;, &quot;y&quot;])\n// {z:0}\n\nget value({a: {b: 3}}, [&quot;b&quot;])\n// null\n</code></pre>\n'},{name:"get entries(context)",description:'<p>Returns the entries of the context as a list of key-value-pairs.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">get entries(context: context): list&lt;context&gt;\n</code></pre>\n<p>The return value is a list of contexts. Each context contains two entries for &quot;key&quot; and &quot;value&quot;.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">get entries({foo: 123})\n// [{key: &quot;foo&quot;, value: 123}]\n</code></pre>\n'},{name:"context put(context, key, value)",description:'<p>Adds a new entry with the given key and value to the context. Returns a new context that includes the entry.</p>\n<p>If an entry for the same key already exists in the context, it overrides the value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">context put(context: context, key: string, value: Any): context\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">context put({x:1}, &quot;y&quot;, 2)\n// {x:1, y:2}\n</code></pre>\n<p>:::info\nThe function <code>context put()</code> replaced the previous function <code>put()</code> (Camunda Extension). The\nprevious function is deprecated and should not be used anymore.\n:::</p>\n'},{name:"context put(context, keys, value)",description:'<p>Adds a new entry with the given value to the context. The path of the entry is defined by the keys. Returns a new context that includes the entry.</p>\n<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it adds the nested entry <code>k1.k2 = value</code> to the context.</p>\n<p>If an entry for the same keys already exists in the context, it overrides the value.</p>\n<p>If <code>keys</code> are empty, it returns <code>null</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">context put(context: context, keys: list&lt;string&gt;, value: Any): context\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">context put({x:1}, [&quot;y&quot;], 2)\n// {x:1, y:2}\n\ncontext put({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;], 2)\n// {x:1, y: {z:2}}\n\ncontext put({x:1}, [&quot;y&quot;, &quot;z&quot;], 2)\n// {x:1, y: {z:2}}\n</code></pre>\n'},{name:"context merge(contexts)",description:'<p>Union the given contexts. Returns a new context that includes all entries of the given contexts.</p>\n<p>If an entry for the same key already exists in a context, it overrides the value. The entries are overridden in the same order as in the list of contexts.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">context merge(contexts: list&lt;context&gt;): context\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">context merge([{x:1}, {y:2}])\n// {x:1, y:2}\n\ncontext merge([{x:1, y: 0}, {y:2}])\n// {x:1, y:2}\n</code></pre>\n<p>:::info\nThe function <code>context merge()</code> replaced the previous function <code>put all()</code> (Camunda Extension). The\nprevious function is deprecated and should not be used anymore.\n:::</p>\n'},{name:"string(from)",description:'<p>Returns the given value as a string representation.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string(from: Any): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string(1.1)\n// &quot;1.1&quot;\n\nstring(date(&quot;2012-12-25&quot;))\n// &quot;2012-12-25&quot;\n</code></pre>\n'},{name:"number(from)",description:'<p>Parses the given string to a number.</p>\n<p>Returns <code>null</code> if the string is not a number.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">number(from: string): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">number(&quot;1500.5&quot;)\n// 1500.5\n</code></pre>\n'},{name:"context(entries)",description:'<p>Constructs a context of the given list of key-value pairs. It is the reverse function to <a href="feel-built-in-functions-context.md#get-entriescontext">get entries()</a>.</p>\n<p>Each key-value pair must be a context with two entries: <code>key</code> and <code>value</code>. The entry with name <code>key</code> must have a value of the type <code>string</code>.</p>\n<p>It might override context entries if the keys are equal. The entries are overridden in the same order as the contexts in the given list.</p>\n<p>Returns <code>null</code> if one of the entries is not a context or if a context doesn&#39;t contain the required entries.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">context(entries: list&lt;context&gt;): context\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">context([{&quot;key&quot;:&quot;a&quot;, &quot;value&quot;:1}, {&quot;key&quot;:&quot;b&quot;, &quot;value&quot;:2}])\n// {a:1, b:2}\n</code></pre>\n'},{name:"date(from)",description:'<p>Returns a date from the given value.</p>\n<p>Returns <code>null</code> if the string is not a valid calendar date. For example, <code>&quot;2024-06-31&quot;</code> is invalid because June has\nonly 30 days.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date(from: string): date\n</code></pre>\n<p>Parses the given string into a date.</p>\n<pre><code class="language-feel">date(from: date and time): date\n</code></pre>\n<p>Extracts the date component from the given date and time.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date(&quot;2018-04-29&quot;)\n// date(&quot;2018-04-29&quot;)\n\ndate(date and time(&quot;2012-12-25T11:00:00&quot;))\n// date(&quot;2012-12-25&quot;)\n</code></pre>\n'},{name:"date(year, month, day)",description:'<p>Returns a date from the given components.</p>\n<p>Returns <code>null</code> if the components don&#39;t represent a valid calendar date. For example, <code>2024,6,31</code> is invalid because\nJune has only 30 days.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date(year: number, month: number, day: number): date\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date(2012, 12, 25)\n// date(&quot;2012-12-25&quot;)\n</code></pre>\n'},{name:"time(from)",description:'<p>Returns a time from the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">time(from: string): time\n</code></pre>\n<p>Parses the given string into a time.</p>\n<pre><code class="language-feel">time(from: date and time): time\n</code></pre>\n<p>Extracts the time component from the given date and time.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">time(&quot;12:00:00&quot;)\n// time(&quot;12:00:00&quot;)\n\ntime(date and time(&quot;2012-12-25T11:00:00&quot;))\n// time(&quot;11:00:00&quot;)\n</code></pre>\n'},{name:"time(hour, minute, second)",description:'<p>Returns a time from the given components.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">time(hour: number, minute: number, second: number): time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">time(23, 59, 0)\n// time(&quot;23:59:00&quot;)\n</code></pre>\n'},{name:"time(hour, minute, second, offset)",description:'<p>Returns a time from the given components, including a timezone offset.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">time(hour: number, minute: number, second: number, offset: days and time duration): time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">time(14, 30, 0, duration(&quot;PT1H&quot;))\n// time(&quot;14:30:00+01:00&quot;)\n</code></pre>\n'},{name:"date and time(from)",description:'<p>Parses the given string into a date and time.</p>\n<p>Returns <code>null</code> if the string is not a valid calendar date. For example, <code>&quot;2024-06-31T10:00:00&quot;</code> is invalid because\nJune has only 30 days.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date and time(from: string): date and time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date and time(&quot;2018-04-29T09:30:00&quot;)\n// date and time(&quot;2018-04-29T09:30:00&quot;)\n</code></pre>\n'},{name:"date and time(date, time)",description:'<p>Returns a date and time from the given components.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date and time(date: date, time: time): date and time\n</code></pre>\n<pre><code class="language-feel">date and time(date: date and time, time: time): date and time\n</code></pre>\n<p>Returns a date and time value that consists of the date component of <code>date</code> combined with <code>time</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date and time(date(&quot;2012-12-24&quot;),time(&quot;T23:59:00&quot;))\n// date and time(&quot;2012-12-24T23:59:00&quot;)\n\ndate and time(date and time(&quot;2012-12-25T11:00:00&quot;),time(&quot;T23:59:00&quot;))\n// date and time(&quot;2012-12-25T23:59:00&quot;)\n</code></pre>\n'},{name:"date and time(date, timezone)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns the given date and time value at the given timezone.</p>\n<p>If <code>date</code> has a different timezone than <code>timezone</code> then it adjusts the time to match the local time of <code>timezone</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date and time(date: date and time, timezone: string): date and time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date and time(@&quot;2020-07-31T14:27:30@Europe/Berlin&quot;, &quot;America/Los_Angeles&quot;)\n// date and time(&quot;2020-07-31T05:27:30@America/Los_Angeles&quot;)\n\ndate and time(@&quot;2020-07-31T14:27:30&quot;, &quot;Z&quot;)\n// date and time(&quot;2020-07-31T12:27:30Z&quot;)\n</code></pre>\n'},{name:"duration(from)",description:'<p>Parses the given string into a duration. The duration is either a days and time duration or a years and months duration.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">duration(from: string): days and time duration\n</code></pre>\n<pre><code class="language-feel">duration(from: string): years and months duration\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">duration(&quot;P5D&quot;)\n// duration(&quot;P5D&quot;)\n\nduration(&quot;P32Y&quot;)\n// duration(&quot;P32Y&quot;)\n</code></pre>\n'},{name:"years and months duration(from, to)",description:'<p>Returns the years and months duration between <code>from</code> and <code>to</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">years and months duration(from: date, to: date): years and months duration\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">years and months duration(date(&quot;2011-12-22&quot;), date(&quot;2013-08-24&quot;))\n// duration(&quot;P1Y8M&quot;)\n</code></pre>\n'},{name:"list contains(list, element)",description:'<p>Returns <code>true</code> if the given list contains the element. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">list contains(list: list, element: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">list contains([1,2,3], 2)\n// true\n</code></pre>\n'},{name:"count(list)",description:'<p>Returns the number of elements of the given list.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">count(list: list): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">count([1,2,3])\n// 3\n</code></pre>\n'},{name:"min(list)",description:'<p>Returns the minimum of the given list.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">min(list: list): Any\n</code></pre>\n<p>All elements in <code>list</code> should have the same type and be comparable.</p>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">min([1,2,3])\n// 1\n\nmin(1,2,3)\n// 1\n</code></pre>\n'},{name:"max(list)",description:'<p>Returns the maximum of the given list.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">max(list: list): Any\n</code></pre>\n<p>All elements in <code>list</code> should have the same type and be comparable.</p>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">max([1,2,3])\n// 3\n\nmax(1,2,3)\n// 3\n</code></pre>\n'},{name:"sum(list)",description:'<p>Returns the sum of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sum(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sum([1,2,3])\n// 6\n\nsum(1,2,3)\n// 6\n</code></pre>\n'},{name:"product(list)",description:'<p>Returns the product of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">product(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">product([2, 3, 4])\n// 24\n\nproduct(2, 3, 4)\n// 24\n</code></pre>\n'},{name:"mean(list)",description:'<p>Returns the arithmetic mean (i.e. average) of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">mean(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">mean([1,2,3])\n// 2\n\nmean(1,2,3)\n// 2\n</code></pre>\n'},{name:"median(list)",description:'<p>Returns the median element of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">median(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">median(8, 2, 5, 3, 4)\n// 4\n\nmedian([6, 1, 2, 3])\n// 2.5\n</code></pre>\n'},{name:"stddev(list)",description:'<p>Returns the standard deviation of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">stddev(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">stddev(2, 4, 7, 5)\n// 2.0816659994661326\n\nstddev([2, 4, 7, 5])\n// 2.0816659994661326\n</code></pre>\n'},{name:"mode(list)",description:'<p>Returns the mode of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">mode(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">mode(6, 3, 9, 6, 6)\n// [6]\n\nmode([6, 1, 9, 6, 1])\n// [1, 6]\n</code></pre>\n'},{name:"all(list)",description:'<p>Returns <code>false</code> if any element of the given list is <code>false</code>. Otherwise, returns <code>true</code>.</p>\n<p>If the given list is empty, it returns <code>true</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">all(list: list&lt;boolean&gt;): boolean\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">all([true,false])\n// false\n\nall(false,null,true)\n// false\n</code></pre>\n<p>:::info\nThe function <code>all()</code> replaced the previous function <code>and()</code>. The previous function is deprecated and\nshould not be used anymore.\n:::</p>\n'},{name:"any(list)",description:'<p>Returns <code>true</code> if any element of the given list is <code>true</code>. Otherwise, returns <code>false</code>.</p>\n<p>If the given list is empty, it returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">any(list: list&lt;boolean&gt;): boolean\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">any([false,true])\n// true\n\nany(false,null,true)\n// true\n</code></pre>\n<p>:::info\nThe function <code>any()</code> replaced the previous function <code>or()</code>. The previous function is deprecated and\nshould not be used anymore.\n:::</p>\n'},{name:"sublist(list, start position)",description:'<p>Returns a partial list of the given value starting at <code>start position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sublist(list: list, start position: number): list\n</code></pre>\n<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sublist([1,2,3], 2)\n// [2,3]\n</code></pre>\n'},{name:"sublist(list, start position, length)",description:'<p>Returns a partial list of the given value starting at <code>start position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sublist(list: list, start position: number, length: number): list\n</code></pre>\n<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sublist([1,2,3], 1, 2)\n// [1,2]\n</code></pre>\n'},{name:"append(list, items)",description:'<p>Returns the given list with all <code>items</code> appended.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">append(list: list, items: Any): list\n</code></pre>\n<p>The parameter <code>items</code> can be a single element or a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">append([1], 2, 3)\n// [1,2,3]\n</code></pre>\n'},{name:"concatenate(lists)",description:'<p>Returns a list that includes all elements of the given lists.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">concatenate(lists: list): list\n</code></pre>\n<p>The parameter <code>lists</code> is a sequence of lists.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">concatenate([1,2],[3])\n// [1,2,3]\n\nconcatenate([1],[2],[3])\n// [1,2,3]\n</code></pre>\n'},{name:"insert before(list, position, newItem)",description:'<p>Returns the given list with <code>newItem</code> inserted at <code>position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">insert before(list: list, position: number, newItem: Any): list\n</code></pre>\n<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">insert before([1,3],1,2)\n// [2,1,3]\n</code></pre>\n'},{name:"remove(list, position)",description:'<p>Returns the given list without the element at <code>position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">remove(list: list, position: number): list\n</code></pre>\n<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">remove([1,2,3], 2)\n// [1,3]\n</code></pre>\n'},{name:"reverse(list)",description:'<p>Returns the given list in revered order.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">reverse(list: list): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">reverse([1,2,3])\n// [3,2,1]\n</code></pre>\n'},{name:"index of(list, match)",description:'<p>Returns an ascending list of positions containing <code>match</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">index of(list: list, match: Any): list&lt;number&gt;\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">index of([1,2,3,2],2)\n// [2,4]\n</code></pre>\n'},{name:"union(list)",description:'<p>Returns a list that includes all elements of the given lists without duplicates.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">union(list: list): list\n</code></pre>\n<p>The parameter <code>list</code> is a sequence of lists.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">union([1,2],[2,3])\n// [1,2,3]\n</code></pre>\n'},{name:"distinct values(list)",description:'<p>Returns the given list without duplicates.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">distinct values(list: list): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">distinct values([1,2,3,2,1])\n// [1,2,3]\n</code></pre>\n'},{name:"duplicate values(list)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns all duplicate values of the given list.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">duplicate values(list: list): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">duplicate values([1,2,3,2,1])\n// [1,2]\n</code></pre>\n'},{name:"flatten(list)",description:'<p>Returns a list that includes all elements of the given list without nested lists.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">flatten(list: list): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">flatten([[1,2],[[3]], 4])\n// [1,2,3,4]\n</code></pre>\n'},{name:"sort(list, precedes)",description:'<p>Returns the given list sorted by the <code>precedes</code> function.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sort(list: list, precedes: function&lt;(Any, Any) -&gt; boolean&gt;): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sort(list: [3,1,4,5,2], precedes: function(x,y) x &lt; y)\n// [1,2,3,4,5]\n</code></pre>\n'},{name:"string join(list)",description:'<p>Joins a list of strings into a single string. This is similar to\nJava&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>\nfunction.</p>\n<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is\nneither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string join(list: list&lt;string&gt;): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;])\n// &quot;abc&quot;\n\nstring join([&quot;a&quot;,null,&quot;c&quot;])\n// &quot;ac&quot;\n\nstring join([])\n// &quot;&quot;\n</code></pre>\n'},{name:"string join(list, delimiter)",description:'<p>Joins a list of strings into a single string. This is similar to\nJava&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>\nfunction.</p>\n<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is\nneither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>\n<p>The resulting string contains a <code>delimiter</code> between each element.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string join([&quot;a&quot;], &quot;X&quot;)\n// &quot;a&quot;\n\nstring join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;)\n// &quot;a, b, c&quot;\n</code></pre>\n'},{name:"string join(list, delimiter, prefix, suffix)",description:'<p><em>Camunda Extension</em></p>\n<p>Joins a list of strings into a single string. This is similar to\nJava&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>\nfunction.</p>\n<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is\nneither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>\n<p>The resulting string starts with <code>prefix</code>, contains a <code>delimiter</code> between each element, and ends\nwith <code>suffix</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string, prefix: string, suffix: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;, &quot;[&quot;, &quot;]&quot;)\n// &quot;[a, b, c]&quot;\n</code></pre>\n'},{name:"is empty(list)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns <code>true</code> if the given list is empty. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">is empty(list: list): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">is empty([])\n// true\n\nis empty([1,2,3])\n// false\n</code></pre>\n'},{name:"partition(list\uff0c size)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns consecutive sublists of a list, each of the same size (the final list may be smaller).</p>\n<p>If <code>size</code> is less than <code>0</code>, it returns <code>null</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">partition(list: list, size: number): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">partition([1,2,3,4,5], 2)\n// [[1,2], [3,4], [5]]\n\npartition([], 2)\n// []\n\npartition([1,2], 0)\n// null\n</code></pre>\n'},{name:"decimal(n, scale)",description:'<p>Rounds the given value at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">decimal(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">decimal(1/3, 2)\n// .33\n\ndecimal(1.5, 0)\n// 2\n</code></pre>\n'},{name:"floor(n)",description:'<p>Rounds the given value with rounding mode flooring.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">floor(n: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">floor(1.5)\n// 1\n\nfloor(-1.5)\n// -2\n</code></pre>\n'},{name:"floor(n, scale)",description:'<p>Rounds the given value with rounding mode flooring at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">floor(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">floor(-1.56, 1)\n// -1.6\n</code></pre>\n'},{name:"ceiling(n)",description:'<p>Rounds the given value with rounding mode ceiling.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">ceiling(n: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">ceiling(1.5)\n// 2\n\nceiling(-1.5)\n// -1\n</code></pre>\n'},{name:"ceiling(n, scale)",description:'<p>Rounds the given value with rounding mode ceiling at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">ceiling(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">ceiling(-1.56, 1)\n// -1.5\n</code></pre>\n'},{name:"round up(n, scale)",description:'<p>Rounds the given value with the rounding mode round-up at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">round up(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">round up(5.5)\n// 6\n\nround up(-5.5)\n// -6\n\nround up(1.121, 2)\n// 1.13\n\nround up(-1.126, 2)\n// -1.13\n</code></pre>\n'},{name:"round down(n, scale)",description:'<p>Rounds the given value with the rounding mode round-down at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">round down(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">round down(5.5, 0)\n// 5\n\nround down (-5.5, 0)\n// -5\n\nround down (1.121, 2)\n// 1.12\n\nround down (-1.126, 2)\n// -1.12\n</code></pre>\n'},{name:"round half up(n, scale)",description:'<p>Rounds the given value with the rounding mode round-half-up at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">round half up(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">round half up(5.5, 0)\n// 6\n\nround half up(-5.5, 0)\n// -6\n\nround half up(1.121, 2)\n// 1.12\n\nround half up(-1.126, 2)\n// -1.13\n</code></pre>\n'},{name:"round half down(n, scale)",description:'<p>Rounds the given value with the rounding mode round-half-down at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">round half down(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">round half down (5.5, 0)\n// 5\n\nround half down (-5.5, 0)\n// -5\n\nround half down (1.121, 2)\n// 1.12\n\nround half down (-1.126, 2)\n// -1.13\n</code></pre>\n'},{name:"abs(number)",description:'<p>Returns the absolute value of the given numeric value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">abs(number: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">abs(10)\n// 10\n\nabs(-10)\n// 10\n</code></pre>\n'},{name:"modulo(dividend, divisor)",description:'<p>Returns the remainder of the division of dividend by divisor.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">modulo(dividend: number, divisor: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">modulo(12, 5)\n// 2\n</code></pre>\n'},{name:"sqrt(number)",description:'<p>Returns the square root of the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sqrt(number: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sqrt(16)\n// 4\n</code></pre>\n'},{name:"log(number)",description:'<p>Returns the natural logarithm (base e) of the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">log(number: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">log(10)\n// 2.302585092994046\n</code></pre>\n'},{name:"exp(number)",description:'<p>Returns the Euler\u2019s number e raised to the power of the given number .</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">exp(number: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">exp(5)\n// 148.4131591025766\n</code></pre>\n'},{name:"odd(number)",description:'<p>Returns <code>true</code> if the given value is odd. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">odd(number: number): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">odd(5)\n// true\n\nodd(2)\n// false\n</code></pre>\n'},{name:"even(number)",description:'<p>Returns <code>true</code> if the given is even. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">even(number: number): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">even(5)\n// false\n\neven(2)\n// true\n</code></pre>\n'},{name:"random number()",description:'<p><em>Camunda Extension</em></p>\n<p>Returns a random number between <code>0</code> and <code>1</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">random number(): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">random number()\n// 0.9701618132579795\n</code></pre>\n'},{name:"before(point1, point2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">before(point1: Any, point2: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">before(1, 10)\n// true\n\nbefore(10, 1)\n// false\n</code></pre>\n'},{name:"before(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">before(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">before([1..5], 10)\n// true\n</code></pre>\n'},{name:"before(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">before(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">before(1, [2..5])\n// true\n</code></pre>\n'},{name:"before(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">before(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">before([1..5], [6..10])\n// true\n\nbefore([1..5),[5..10])\n// true\n</code></pre>\n'},{name:"after(point1, point2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">after(point1: Any, point2: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">after(10, 1)\n// true\n\nafter(1, 10)\n// false\n</code></pre>\n'},{name:"after(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">after(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">after([1..5], 10)\n// false\n</code></pre>\n'},{name:"after(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">after(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">after(12, [2..5])\n// true\n</code></pre>\n'},{name:"after(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">after(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">after([6..10], [1..5])\n// true\n\nafter([5..10], [1..5))\n// true\n</code></pre>\n'},{name:"meets(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">meets(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">meets([1..5], [5..10])\n// true\n\nmeets([1..3], [4..6])\n// false\n\nmeets([1..3], [3..5])\n// true\n\nmeets([1..5], (5..8])\n// false\n</code></pre>\n'},{name:"met by(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">met by(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">met by([5..10], [1..5])\n// true\n\nmet by([3..4], [1..2])\n// false\n\nmet by([3..5], [1..3])\n// true\n\nmet by((5..8], [1..5))\n// false\n\nmet by([5..10], [1..5))\n// false\n</code></pre>\n'},{name:"overlaps(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">overlaps(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">overlaps([5..10], [1..6])\n// true\n\noverlaps((3..7], [1..4])\n// true\n\noverlaps([1..3], (3..6])\n// false\n\noverlaps((5..8], [1..5))\n// false\n\noverlaps([4..10], [1..5))\n// true\n</code></pre>\n'},{name:"overlaps before(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">overlaps before(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">overlaps before([1..5], [4..10])\n// true\n\noverlaps before([3..4], [1..2])\n// false\n\noverlaps before([1..3], (3..5])\n// false\n\noverlaps before([1..5), (3..8])\n// true\n\noverlaps before([1..5), [5..10])\n// false\n</code></pre>\n'},{name:"overlaps after(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">overlaps after(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">overlaps after([4..10], [1..5])\n// true\n\noverlaps after([3..4], [1..2])\n// false\n\noverlaps after([3..5], [1..3))\n// false\n\noverlaps after((5..8], [1..5))\n// false\n\noverlaps after([4..10], [1..5))\n// true\n</code></pre>\n'},{name:"finishes(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">finishes(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">finishes(5, [1..5])\n// true\n\nfinishes(10, [1..7])\n// false\n</code></pre>\n'},{name:"finishes(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">finishes(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">finishes([3..5], [1..5])\n// true\n\nfinishes((1..5], [1..5))\n// false\n\nfinishes([5..10], [1..10))\n// false\n</code></pre>\n'},{name:"finished by(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">finished by(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">finished by([5..10], 10)\n// true\n\nfinished by([3..4], 2)\n// false\n</code></pre>\n'},{name:"finished by(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">finished by(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">finished by([1..5], [3..5])\n// true\n\nfinished by((5..8], [1..5))\n// false\n\nfinished by([5..10], (1..10))\n// false\n</code></pre>\n'},{name:"includes(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">includes(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">includes([5..10], 6)\n// true\n\nincludes([3..4], 5)\n// false\n</code></pre>\n'},{name:"includes(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">includes(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">includes([1..10], [4..6])\n// true\n\nincludes((5..8], [1..5))\n// false\n\nincludes([1..10], [1..5))\n// true\n</code></pre>\n'},{name:"during(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">during(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">during(5, [1..10])\n// true\n\nduring(12, [1..10])\n// false\n\nduring(1, (1..10])\n// false\n</code></pre>\n'},{name:"during(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">during(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">during([4..6], [1..10))\n// true\n\nduring((1..5], (1..10])\n// true\n</code></pre>\n'},{name:"starts(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">starts(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">starts(1, [1..5])\n// true\n\nstarts(1, (1..8])\n// false\n</code></pre>\n'},{name:"starts(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">starts(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">starts((1..5], [1..5])\n// false\n\nstarts([1..10], [1..5])\n// false\n\nstarts((1..5), (1..10))\n// true\n</code></pre>\n'},{name:"started by(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">started by(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">started by([1..10], 1)\n// true\n\nstarted by((1..10], 1)\n// false\n</code></pre>\n'},{name:"started by(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">started by(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">started by([1..10], [1..5])\n// true\n\nstarted by((1..10], [1..5))\n// false\n\nstarted by([1..10], [1..10))\n// true\n</code></pre>\n'},{name:"coincides(point1, point2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">coincides(point1: Any, point2: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">coincides(5, 5)\n// true\n\ncoincides(3, 4)\n// false\n</code></pre>\n'},{name:"coincides(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">coincides(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">coincides([1..5], [1..5])\n// true\n\ncoincides((1..5], [1..5))\n// false\n\ncoincides([1..5], [2..6])\n// false\n</code></pre>\n'},{name:"substring(string, start position)",description:'<p>Returns a substring of the given value starting at <code>start position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">substring(string: string, start position: number): string\n</code></pre>\n<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">substring(&quot;foobar&quot;, 3)\n// &quot;obar&quot;\n\nsubstring(&quot;foobar&quot;, -2)\n// &quot;ar&quot;\n</code></pre>\n'},{name:"substring(string, start position, length)",description:'<p>Returns a substring of the given value, starting at <code>start position</code> with the given <code>length</code>. If <code>length</code> is greater than\nthe remaining characters of the value, it returns all characters from <code>start position</code> until the end.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">substring(string: string, start position: number, length: number): string\n</code></pre>\n<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">substring(&quot;foobar&quot;, 3, 3)\n// &quot;oba&quot;\n\nsubstring(&quot;foobar&quot;, -3, 2)\n// &quot;ba&quot;\n\nsubstring(&quot;foobar&quot;, 3, 10)\n// &quot;obar&quot;\n</code></pre>\n'},{name:"string length(string)",description:'<p>Returns the number of characters in the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string length(string: string): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string length(&quot;foo&quot;)\n// 3\n</code></pre>\n'},{name:"upper case(string)",description:'<p>Returns the given value with all characters are uppercase.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">upper case(string: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">upper case(&quot;aBc4&quot;)\n// &quot;ABC4&quot;\n</code></pre>\n'},{name:"lower case(string)",description:'<p>Returns the given value with all characters are lowercase.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">lower case(string: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">lower case(&quot;aBc4&quot;)\n// &quot;abc4&quot;\n</code></pre>\n'},{name:"substring before(string, match)",description:'<p>Returns a substring of the given value that contains all characters before <code>match</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">substring before(string: string, match: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">substring before(&quot;foobar&quot;, &quot;bar&quot;)\n// &quot;foo&quot;\n</code></pre>\n'},{name:"substring after(string, match)",description:'<p>Returns a substring of the given value that contains all characters after <code>match</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">substring after(string: string, match: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">substring after(&quot;foobar&quot;, &quot;ob&quot;)\n// &quot;ar&quot;\n</code></pre>\n'},{name:"contains(string, match)",description:'<p>Returns <code>true</code> if the given value contains the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">contains(string: string, match: string): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">contains(&quot;foobar&quot;, &quot;of&quot;)\n// false\n</code></pre>\n'},{name:"starts with(string, match)",description:'<p>Returns <code>true</code> if the given value starts with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">starts with(string: string, match: string): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">starts with(&quot;foobar&quot;, &quot;fo&quot;)\n// true\n</code></pre>\n'},{name:"ends with(string, match)",description:'<p>Returns <code>true</code> if the given value ends with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">ends with(string: string, match: string): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">ends with(&quot;foobar&quot;, &quot;r&quot;)\n// true\n</code></pre>\n'},{name:"matches(input, pattern)",description:'<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">matches(input: string, pattern: string): boolean\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">matches(&quot;foobar&quot;, &quot;^fo*bar&quot;)\n// true\n</code></pre>\n'},{name:"matches(input, pattern, flags)",description:'<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">matches(input: string, pattern: string, flags: string): boolean\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p>The <code>flags</code> can contain one or more of the following characters:</p>\n<ul>\n<li><code>s</code> (dot-all)</li>\n<li><code>m</code> (multi-line)</li>\n<li><code>i</code> (case insensitive)</li>\n<li><code>x</code> (comments)</li>\n</ul>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">matches(&quot;FooBar&quot;, &quot;foo&quot;, &quot;i&quot;)\n// true\n</code></pre>\n'},{name:"replace(input, pattern, replacement)",description:'<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string): string\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,\n<code>$1</code> to access the first group.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">replace(&quot;abcd&quot;, &quot;(ab)|(a)&quot;, &quot;[1=$1][2=$2]&quot;)\n// &quot;[1=ab][2=]cd&quot;\n\nreplace(&quot;0123456789&quot;, &quot;(\\d{3})(\\d{3})(\\d{4})&quot;, &quot;($1) $2-$3&quot;)\n// &quot;(012) 345-6789&quot;\n</code></pre>\n'},{name:"replace(input, pattern, replacement, flags)",description:'<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string, flags: string): string\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,\n<code>$1</code> to access the first group.</p>\n<p>The <code>flags</code> can contain one or more of the following characters:</p>\n<ul>\n<li><code>s</code> (dot-all)</li>\n<li><code>m</code> (multi-line)</li>\n<li><code>i</code> (case insensitive)</li>\n<li><code>x</code> (comments)</li>\n</ul>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">replace(&quot;How do you feel?&quot;, &quot;Feel&quot;, &quot;FEEL&quot;, &quot;i&quot;)\n// &quot;How do you FEEL?&quot;\n</code></pre>\n'},{name:"split(string, delimiter)",description:'<p>Splits the given value into a list of substrings, breaking at each occurrence of the <code>delimiter</code> pattern.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">split(string: string, delimiter: string): list&lt;string&gt;\n</code></pre>\n<p>The <code>delimiter</code> is a string that contains a regular expression.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">split(&quot;John Doe&quot;, &quot;\\s&quot; )\n// [&quot;John&quot;, &quot;Doe&quot;]\n\nsplit(&quot;a;b;c;;&quot;, &quot;;&quot;)\n// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;&quot;, &quot;&quot;]\n</code></pre>\n'},{name:"extract(string, pattern)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns all matches of the pattern in the given string. Returns an empty list if the pattern doesn&#39;t\nmatch.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">extract(string: string, pattern: string): list&lt;string&gt;\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">extract(&quot;references are 1234, 1256, 1378&quot;, &quot;12[0-9]*&quot;)\n// [&quot;1234&quot;,&quot;1256&quot;]\n</code></pre>\n'},{name:"trim(string)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns the given string without leading and trailing spaces.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">trim(string: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">trim(&quot;  hello world  &quot;)\n// &quot;hello world&quot;\n\ntrim(&quot;hello   world &quot;)\n// &quot;hello   world&quot;\n</code></pre>\n'},{name:"uuid()",description:'<p><em>Camunda Extension</em></p>\n<p>Returns a UUID (Universally Unique Identifier) with 36 characters.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">uuid(): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">uuid()\n// &quot;7793aab1-d761-4d38-916b-b7270e309894&quot;\n</code></pre>\n'},{name:"to base64(value)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns the given string encoded in Base64 format.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">to base64(value: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">to base64(&quot;FEEL&quot;)\n// &quot;RkVFTA==&quot;\n</code></pre>\n'},{name:"is blank(string)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns <code>true</code> if the given string is blank (empty or contains only whitespaces).</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">is blank(string: string): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">is blank(&quot;&quot;)\n// true\n\nis blank(&quot; &quot;)\n// true\n\nis blank(&quot;hello world&quot;)\n// false\n</code></pre>\n'},{name:"now()",description:'<p>Returns the current date and time including the timezone.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">now(): date and time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">now()\n// date and time(&quot;2020-07-31T14:27:30@Europe/Berlin&quot;)\n</code></pre>\n'},{name:"today()",description:'<p>Returns the current date.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">today(): date\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">today()\n// date(&quot;2020-07-31&quot;)\n</code></pre>\n'},{name:"day of week(date)",description:'<p>Returns the day of the week according to the Gregorian calendar. Note that it always returns the English name of the day.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">day of week(date: date): string\n</code></pre>\n<pre><code class="language-feel">day of week(date: date and time): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">day of week(date(&quot;2019-09-17&quot;))\n// &quot;Tuesday&quot;\n\nday of week(date and time(&quot;2019-09-17T12:00:00&quot;))\n// &quot;Tuesday&quot;\n</code></pre>\n'},{name:"day of year(date)",description:'<p>Returns the Gregorian number of the day within the year.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">day of year(date: date): number\n</code></pre>\n<pre><code class="language-feel">day of year(date: date and time): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">day of year(date(&quot;2019-09-17&quot;))\n// 260\n\nday of year(date and time(&quot;2019-09-17T12:00:00&quot;))\n// 260\n</code></pre>\n'},{name:"week of year(date)",description:'<p>Returns the Gregorian number of the week within the year, according to ISO 8601.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">week of year(date: date): number\n</code></pre>\n<pre><code class="language-feel">week of year(date: date and time): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">week of year(date(&quot;2019-09-17&quot;))\n// 38\n\nweek of year(date and time(&quot;2019-09-17T12:00:00&quot;))\n// 38\n</code></pre>\n'},{name:"month of year(date)",description:'<p>Returns the month of the year according to the Gregorian calendar. Note that it always returns the English name of the month.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">month of year(date: date): string\n</code></pre>\n<pre><code class="language-feel">month of year(date: date and time): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">month of year(date(&quot;2019-09-17&quot;))\n// &quot;September&quot;\n\nmonth of year(date and time(&quot;2019-09-17T12:00:00&quot;))\n// &quot;September&quot;\n</code></pre>\n'},{name:"abs(n)",description:'<p>Returns the absolute value of a given duration.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">abs(n: days and time duration): days and time duration\n</code></pre>\n<pre><code class="language-feel">abs(n: years and months duration): years and months duration\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">abs(duration(&quot;-PT5H&quot;))\n// &quot;duration(&quot;PT5H&quot;)&quot;\n\nabs(duration(&quot;PT5H&quot;))\n// &quot;duration(&quot;PT5H&quot;)&quot;\n\nabs(duration(&quot;-P2M&quot;))\n// duration(&quot;P2M&quot;)\n</code></pre>\n'},{name:"last day of month(date)",description:'<p><em>Camunda Extension</em></p>\n<p>Takes the month of the given date or date-time value and returns the last day of this month.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">last day of month(date: date): date\n</code></pre>\n<pre><code class="language-feel">last day of month(date: date and time): date\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">last day of month(date(&quot;2022-10-01&quot;))\n// date(&quot;2022-10-31&quot;))\n\nlast day of month(date and time(&quot;2022-10-16T12:00:00&quot;))\n// date(&quot;2022-10-31&quot;))\n</code></pre>\n'}]),VSe=new Q3,jSe=new Q3;function I_({extensions:t=[],dialect:n="expression",parserDialect:i,container:s,contentAttributes:o={},tooltipContainer:a,onChange:l=()=>{},onKeyDown:c=()=>{},onLint:u=()=>{},placeholder:d="",readOnly:p=!1,value:f="",builtins:h=jwt,variables:m=[]}){const y=kn.updateListener.of(w=>{w.docChanged&&l(w.state.doc.toString())}),E=kn.updateListener.of(w=>{const g=w.transactions.flatMap(T=>T.effects).filter(T=>T.is(bw));if(!g.length)return;const x=g.flatMap(T=>T.value);u(x)}),_=kn.domEventHandlers({keydown:c});"string"==typeof a&&(a=document.querySelector(a));const S=a?h5e({tooltipSpace:function(){return a.getBoundingClientRect()}}):[],v=[P4e(),VSe.of($Se({dialect:n,builtins:h,variables:m,parserDialect:i})),GY(),jY(),uX(),kn.contentAttributes.of(o),y,_,sw.of([...SX]),Ewt,E,S,jSe.of(d5e(d)),Swt,...t];return p&&v.push(kn.editable.of(!1)),this._cmEditor=new kn({state:Wc.create({doc:f,extensions:v}),parent:s}),this}I_.prototype.setValue=function(t){this._cmEditor.dispatch({changes:{from:0,to:this._cmEditor.state.doc.length,insert:t}})},I_.prototype.focus=function(t){const n=this._cmEditor;if(n.contentDOM.focus(),n.focus(),"number"==typeof t){const i=n.state.doc.length;n.dispatch({selection:{anchor:t<=i?t:i}})}},I_.prototype.getSelection=function(){return this._cmEditor.state.selection},I_.prototype.setVariables=function(t){const n=function Fwt(t){return{builtins:t.facet(NSe)[0],variables:t.facet(LSe)[0],dialect:t.facet(FSe)[0],parserDialect:t.facet(BSe)[0]}}(this._cmEditor.state);this._cmEditor.dispatch({effects:[VSe.reconfigure($Se({...n,variables:t}))]})},I_.prototype.setPlaceholder=function(t){this._cmEditor.dispatch({effects:jSe.reconfigure(d5e(t))})};var zSe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],nN=zSe.join(","),HSe=typeof Element>"u",R_=HSe?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,rN=!HSe&&Element.prototype.getRootNode?function(t){var n;return null==t||null===(n=t.getRootNode)||void 0===n?void 0:n.call(t)}:function(t){return t?.ownerDocument},iN=function t(n,i){var s;void 0===i&&(i=!0);var o=null==n||null===(s=n.getAttribute)||void 0===s?void 0:s.call(n,"inert");return""===o||"true"===o||i&&n&&t(n.parentNode)},USe=function(n,i,s){if(iN(n))return[];var o=Array.prototype.slice.apply(n.querySelectorAll(nN));return i&&R_.call(n,nN)&&o.unshift(n),o.filter(s)},qSe=function t(n,i,s){for(var o=[],a=Array.from(n);a.length;){var l=a.shift();if(!iN(l,!1))if("SLOT"===l.tagName){var c=l.assignedElements(),d=t(c.length?c:l.children,!0,s);s.flatten?o.push.apply(o,d):o.push({scopeParent:l,candidates:d})}else{R_.call(l,nN)&&s.filter(l)&&(i||!n.includes(l))&&o.push(l);var f=l.shadowRoot||"function"==typeof s.getShadowRoot&&s.getShadowRoot(l),h=!iN(f,!1)&&(!s.shadowRootFilter||s.shadowRootFilter(l));if(f&&h){var m=t(!0===f?l.children:f.children,!0,s);s.flatten?o.push.apply(o,m):o.push({scopeParent:l,candidates:m})}else a.unshift.apply(a,l.children)}}return o},WSe=function(n){return!isNaN(parseInt(n.getAttribute("tabindex"),10))},N_=function(n){if(!n)throw new Error("No node provided");return n.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(n.tagName)||function(n){var i,s=null==n||null===(i=n.getAttribute)||void 0===i?void 0:i.call(n,"contenteditable");return""===s||"true"===s}(n))&&!WSe(n)?0:n.tabIndex},Uwt=function(n,i){return n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex},GSe=function(n){return"INPUT"===n.tagName},KSe=function(n){var i=n.getBoundingClientRect();return 0===i.width&&0===i.height},sN=function(n,i){return!(i.disabled||iN(i)||function(n){return GSe(n)&&"hidden"===n.type}(i)||function(n,i){var s=i.displayCheck,o=i.getShadowRoot;if("hidden"===getComputedStyle(n).visibility)return!0;var a=R_.call(n,"details>summary:first-of-type");if(R_.call(a?n.parentElement:n,"details:not([open]) *"))return!0;if(s&&"full"!==s&&"legacy-full"!==s){if("non-zero-area"===s)return KSe(n)}else{if("function"==typeof o){for(var c=n;n;){var u=n.parentElement,d=rN(n);if(u&&!u.shadowRoot&&!0===o(u))return KSe(n);n=n.assignedSlot?n.assignedSlot:u||d===n.ownerDocument?u:d.host}n=c}if(function(n){var i,l,c,u,s=n&&rN(n),o=null===(i=s)||void 0===i?void 0:i.host,a=!1;if(s&&s!==n)for(a=!!(null!==(l=o)&&void 0!==l&&null!==(c=l.ownerDocument)&&void 0!==c&&c.contains(o)||null!=n&&null!==(u=n.ownerDocument)&&void 0!==u&&u.contains(n));!a&&o;){var d,p,f;a=!(null===(p=o=null===(d=s=rN(o))||void 0===d?void 0:d.host)||void 0===p||null===(f=p.ownerDocument)||void 0===f||!f.contains(o))}return a}(n))return!n.getClientRects().length;if("legacy-full"!==s)return!0}return!1}(i,n)||function(n){return"DETAILS"===n.tagName&&Array.prototype.slice.apply(n.children).some(function(s){return"SUMMARY"===s.tagName})}(i)||function(n){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(n.tagName))for(var i=n.parentElement;i;){if("FIELDSET"===i.tagName&&i.disabled){for(var s=0;s<i.children.length;s++){var o=i.children.item(s);if("LEGEND"===o.tagName)return!!R_.call(i,"fieldset[disabled] *")||!o.contains(n)}return!0}i=i.parentElement}return!1}(i))},KX=function(n,i){return!(function(n){return function(n){return GSe(n)&&"radio"===n.type}(n)&&!function(n){if(!n.name)return!0;var o,i=n.form||rN(n),s=function(c){return i.querySelectorAll('input[type="radio"][name="'+c+'"]')};if(typeof window<"u"&&typeof window.CSS<"u"&&"function"==typeof window.CSS.escape)o=s(window.CSS.escape(n.name));else try{o=s(n.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var a=function(n,i){for(var s=0;s<n.length;s++)if(n[s].checked&&n[s].form===i)return n[s]}(o,n.form);return!a||a===n}(n)}(i)||N_(i)<0||!sN(n,i))},e5t=function(n){var i=parseInt(n.getAttribute("tabindex"),10);return!!(isNaN(i)||i>=0)},t5t=function t(n){var i=[],s=[];return n.forEach(function(o,a){var l=!!o.scopeParent,c=l?o.scopeParent:o,u=function(n,i){var s=N_(n);return s<0&&i&&!WSe(n)?0:s}(c,l),d=l?t(o.candidates):c;0===u?l?i.push.apply(i,d):i.push(c):s.push({documentOrder:a,tabIndex:u,item:o,isScope:l,content:d})}),s.sort(Uwt).reduce(function(o,a){return a.isScope?o.push.apply(o,a.content):o.push(a.content),o},[]).concat(i)},ww=function(n,i){if(i=i||{},!n)throw new Error("No node provided");return!1!==R_.call(n,nN)&&KX(i,n)},i5t=zSe.concat("iframe").join(","),YX=function(n,i){if(i=i||{},!n)throw new Error("No node provided");return!1!==R_.call(n,i5t)&&sN(i,n)};function XX(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,s=Array(n);i<n;i++)s[i]=t[i];return s}function o5t(t,n,i){return(n=function d5t(t){var n=function u5t(t,n){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,n||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==typeof n?n:n+""}(n))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function YSe(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,s)}return i}function XSe(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?YSe(Object(i),!0).forEach(function(s){o5t(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):YSe(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}var DT=function(n){return"Tab"===n?.key||9===n?.keyCode},m5t=function(n){return DT(n)&&!n.shiftKey},g5t=function(n){return DT(n)&&n.shiftKey},ZSe=function(n){return setTimeout(n,0)},kT=function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return"function"==typeof n?n.apply(void 0,s):n},oN=function(n){return n.target.shadowRoot&&"function"==typeof n.composedPath?n.composedPath()[0]:n.target},y5t=[],v5t=function(n,i){var c,s=i?.document||document,o=i?.trapStack||y5t,a=XSe({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:m5t,isKeyBackward:g5t},i),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},u=function(H,me,Re){return H&&void 0!==H[me]?H[me]:a[Re||me]},d=function(H,me){var Re="function"==typeof me?.composedPath?me.composedPath():void 0;return l.containerGroups.findIndex(function(De){var ye=De.container,at=De.tabbableNodes;return ye.contains(H)||Re?.includes(ye)||at.find(function(_e){return _e===H})})},p=function(H){var me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Re=me.hasFallback,De=void 0!==Re&&Re,ye=me.params,_e=a[H];if("function"==typeof _e&&(_e=_e.apply(void 0,function c5t(t){return function s5t(t){if(Array.isArray(t))return XX(t)}(t)||function a5t(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function p5t(t,n){if(t){if("string"==typeof t)return XX(t,n);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?XX(t,n):void 0}}(t)||function l5t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(void 0===ye?[]:ye))),!0===_e&&(_e=void 0),!_e){if(void 0===_e||!1===_e)return _e;throw new Error("`".concat(H,"` was specified but was not a node, or did not return a node"))}var be=_e;if("string"==typeof _e){try{be=s.querySelector(_e)}catch(ke){throw new Error("`".concat(H,'` appears to be an invalid selector; error="').concat(ke.message,'"'))}if(!be&&!De)throw new Error("`".concat(H,"` as selector refers to no known node"))}return be},f=function(){var H=p("initialFocus",{hasFallback:!0});if(!1===H)return!1;if(void 0===H||H&&!YX(H,a.tabbableOptions))if(d(s.activeElement)>=0)H=s.activeElement;else{var me=l.tabbableGroups[0];H=me&&me.firstTabbableNode||p("fallbackFocus")}else null===H&&(H=p("fallbackFocus"));if(!H)throw new Error("Your focus-trap needs to have at least one focusable element");return H},h=function(){if(l.containerGroups=l.containers.map(function(H){var me=function(n,i){var s;return s=(i=i||{}).getShadowRoot?qSe([n],i.includeContainer,{filter:KX.bind(null,i),flatten:!1,getShadowRoot:i.getShadowRoot,shadowRootFilter:e5t}):USe(n,i.includeContainer,KX.bind(null,i)),t5t(s)}(H,a.tabbableOptions),Re=function(n,i){return(i=i||{}).getShadowRoot?qSe([n],i.includeContainer,{filter:sN.bind(null,i),flatten:!0,getShadowRoot:i.getShadowRoot}):USe(n,i.includeContainer,sN.bind(null,i))}(H,a.tabbableOptions),De=me.length>0?me[0]:void 0,ye=me.length>0?me[me.length-1]:void 0,at=Re.find(function(ke){return ww(ke)}),_e=Re.slice().reverse().find(function(ke){return ww(ke)}),be=!!me.find(function(ke){return N_(ke)>0});return{container:H,tabbableNodes:me,focusableNodes:Re,posTabIndexesFound:be,firstTabbableNode:De,lastTabbableNode:ye,firstDomTabbableNode:at,lastDomTabbableNode:_e,nextTabbableNode:function(Pe){var Y=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],ie=me.indexOf(Pe);return ie<0?Y?Re.slice(Re.indexOf(Pe)+1).find(function(se){return ww(se)}):Re.slice(0,Re.indexOf(Pe)).reverse().find(function(se){return ww(se)}):me[ie+(Y?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(H){return H.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!p("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(H){return H.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function(H){var me=H.activeElement;if(me)return me.shadowRoot&&null!==me.shadowRoot.activeElement?m(me.shadowRoot):me},y=function(H){if(!1!==H&&H!==m(document)){if(!H||!H.focus)return void y(f());H.focus({preventScroll:!!a.preventScroll}),l.mostRecentlyFocusedNode=H,function(n){return n.tagName&&"input"===n.tagName.toLowerCase()&&"function"==typeof n.select}(H)&&H.select()}},E=function(H){var me=p("setReturnFocus",{params:[H]});return me||!1!==me&&H},_=function(H){var me=H.target,Re=H.event,De=H.isBackward,ye=void 0!==De&&De;me=me||oN(Re),h();var at=null;if(l.tabbableGroups.length>0){var _e=d(me,Re),be=_e>=0?l.containerGroups[_e]:void 0;if(_e<0)at=ye?l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:l.tabbableGroups[0].firstTabbableNode;else if(ye){var ke=l.tabbableGroups.findIndex(function(j){return me===j.firstTabbableNode});if(ke<0&&(be.container===me||YX(me,a.tabbableOptions)&&!ww(me,a.tabbableOptions)&&!be.nextTabbableNode(me,!1))&&(ke=_e),ke>=0){var Y=l.tabbableGroups[0===ke?l.tabbableGroups.length-1:ke-1];at=N_(me)>=0?Y.lastTabbableNode:Y.lastDomTabbableNode}else DT(Re)||(at=be.nextTabbableNode(me,!1))}else{var ie=l.tabbableGroups.findIndex(function(j){return me===j.lastTabbableNode});if(ie<0&&(be.container===me||YX(me,a.tabbableOptions)&&!ww(me,a.tabbableOptions)&&!be.nextTabbableNode(me))&&(ie=_e),ie>=0){var $e=l.tabbableGroups[ie===l.tabbableGroups.length-1?0:ie+1];at=N_(me)>=0?$e.firstTabbableNode:$e.firstDomTabbableNode}else DT(Re)||(at=be.nextTabbableNode(me))}}else at=p("fallbackFocus");return at},S=function(H){var me=oN(H);if(!(d(me,H)>=0)){if(kT(a.clickOutsideDeactivates,H))return void c.deactivate({returnFocus:a.returnFocusOnDeactivate});kT(a.allowOutsideClick,H)||H.preventDefault()}},v=function(H){var me=oN(H),Re=d(me,H)>=0;if(Re||me instanceof Document)Re&&(l.mostRecentlyFocusedNode=me);else{H.stopImmediatePropagation();var De,ye=!0;if(l.mostRecentlyFocusedNode)if(N_(l.mostRecentlyFocusedNode)>0){var at=d(l.mostRecentlyFocusedNode),_e=l.containerGroups[at].tabbableNodes;if(_e.length>0){var be=_e.findIndex(function(ke){return ke===l.mostRecentlyFocusedNode});be>=0&&(a.isKeyForward(l.recentNavEvent)?be+1<_e.length&&(De=_e[be+1],ye=!1):be-1>=0&&(De=_e[be-1],ye=!1))}}else l.containerGroups.some(function(ke){return ke.tabbableNodes.some(function(Pe){return N_(Pe)>0})})||(ye=!1);else ye=!1;ye&&(De=_({target:l.mostRecentlyFocusedNode,isBackward:a.isKeyBackward(l.recentNavEvent)})),y(De||l.mostRecentlyFocusedNode||f())}l.recentNavEvent=void 0},g=function(H){(a.isKeyForward(H)||a.isKeyBackward(H))&&function(H){var me=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l.recentNavEvent=H;var Re=_({event:H,isBackward:me});Re&&(DT(H)&&H.preventDefault(),y(Re))}(H,a.isKeyBackward(H))},x=function(H){(function(n){return"Escape"===n?.key||"Esc"===n?.key||27===n?.keyCode})(H)&&!1!==kT(a.escapeDeactivates,H)&&(H.preventDefault(),c.deactivate())},T=function(H){var me=oN(H);d(me,H)>=0||kT(a.clickOutsideDeactivates,H)||kT(a.allowOutsideClick,H)||(H.preventDefault(),H.stopImmediatePropagation())},I=function(){if(l.active)return function(n,i){if(n.length>0){var s=n[n.length-1];s!==i&&s._setPausedState(!0)}var o=n.indexOf(i);-1===o||n.splice(o,1),n.push(i)}(o,c),l.delayInitialFocusTimer=a.delayInitialFocus?ZSe(function(){y(f())}):y(f()),s.addEventListener("focusin",v,!0),s.addEventListener("mousedown",S,{capture:!0,passive:!1}),s.addEventListener("touchstart",S,{capture:!0,passive:!1}),s.addEventListener("click",T,{capture:!0,passive:!1}),s.addEventListener("keydown",g,{capture:!0,passive:!1}),s.addEventListener("keydown",x),c},A=function(){if(l.active)return s.removeEventListener("focusin",v,!0),s.removeEventListener("mousedown",S,!0),s.removeEventListener("touchstart",S,!0),s.removeEventListener("click",T,!0),s.removeEventListener("keydown",g,!0),s.removeEventListener("keydown",x),c},z=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(function(H){H.some(function(Re){return Array.from(Re.removedNodes).some(function(ye){return ye===l.mostRecentlyFocusedNode})})&&y(f())}):void 0,K=function(){z&&(z.disconnect(),l.active&&!l.paused&&l.containers.map(function(H){z.observe(H,{subtree:!0,childList:!0})}))};return c={get active(){return l.active},get paused(){return l.paused},activate:function(H){if(l.active)return this;var me=u(H,"onActivate"),Re=u(H,"onPostActivate"),De=u(H,"checkCanFocusTrap");De||h(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=s.activeElement,me?.();var ye=function(){De&&h(),I(),K(),Re?.()};return De?(De(l.containers.concat()).then(ye,ye),this):(ye(),this)},deactivate:function(H){if(!l.active)return this;var me=XSe({onDeactivate:a.onDeactivate,onPostDeactivate:a.onPostDeactivate,checkCanReturnFocus:a.checkCanReturnFocus},H);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,A(),l.active=!1,l.paused=!1,K(),function(n,i){var s=n.indexOf(i);-1!==s&&n.splice(s,1),n.length>0&&!n[n.length-1]._isManuallyPaused()&&n[n.length-1]._setPausedState(!1)}(o,c);var Re=u(me,"onDeactivate"),De=u(me,"onPostDeactivate"),ye=u(me,"checkCanReturnFocus"),at=u(me,"returnFocus","returnFocusOnDeactivate");Re?.();var _e=function(){ZSe(function(){at&&y(E(l.nodeFocusedBeforeActivation)),De?.()})};return at&&ye?(ye(E(l.nodeFocusedBeforeActivation)).then(_e,_e),this):(_e(),this)},pause:function(H){return l.active?(l.manuallyPaused=!0,this._setPausedState(!0,H)):this},unpause:function(H){return l.active?(l.manuallyPaused=!1,o[o.length-1]!==this?this:this._setPausedState(!1,H)):this},updateContainerElements:function(H){var me=[].concat(H).filter(Boolean);return l.containers=me.map(function(Re){return"string"==typeof Re?s.querySelector(Re):Re}),l.active&&h(),K(),this}},Object.defineProperties(c,{_isManuallyPaused:{value:function(){return l.manuallyPaused}},_setPausedState:{value:function(H,me){if(l.paused===H)return this;if(l.paused=H,H){var Re=u(me,"onPause"),De=u(me,"onPostPause");Re?.(),A(),K(),De?.()}else{var ye=u(me,"onUnpause"),at=u(me,"onPostUnpause");ye?.(),h(),I(),K(),at?.()}return this}}}),c.updateContainerElements(n),c},Sf=function(n){return L("svg",{...n,children:L("path",{fillRule:"evenodd",d:"m11.657 8-4.95 4.95a1 1 0 0 1-1.414-1.414L8.828 8 5.293 4.464A1 1 0 1 1 6.707 3.05L11.657 8Z"})})};Sf.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var JSe=function(n){return L("svg",{...n,children:L("path",{fillRule:"evenodd",d:"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8 12 4.7Z",fill:"currentColor"})})};JSe.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var aN=function(n){return L("svg",{...n,children:L("path",{fillRule:"evenodd",d:"M9 13V9h4a1 1 0 0 0 0-2H9V3a1 1 0 1 0-2 0v4H3a1 1 0 1 0 0 2h4v4a1 1 0 0 0 2 0Z"})})};aN.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var QX=function(n){return L("svg",{...n,children:L("path",{fillRule:"evenodd",d:"M12 6v7c0 1.1-.4 1.55-1.5 1.55h-5C4.4 14.55 4 14.1 4 13V6h8Zm-1.5 1.5h-5v4.3c0 .66.5 1.2 1.111 1.2H9.39c.611 0 1.111-.54 1.111-1.2V7.5ZM13 3h-2l-1-1H6L5 3H3v1.5h10V3Z"})})};QX.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var e6e=function(n){return L("svg",{...n,children:[L("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),L("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),L("path",{d:"M7 3H5v2h2V3zm4 0H9v2h2V3zM7 7H5v2h2V7zm4 0H9v2h2V7zm-4 4H5v2h2v-2zm4 0H9v2h2v-2z",fill:"#161616"})]})};e6e.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var t6e=function(n){return L("svg",{...n,children:L("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.637 12.637v-4.72h1.362v4.721c0 .36-.137.676-.411.95-.275.275-.591.412-.95.412H3.362c-.38 0-.703-.132-.967-.396A1.315 1.315 0 0 1 2 12.638V3.362c0-.38.132-.703.396-.967S2.982 2 3.363 2h4.553v1.363H3.363v9.274h9.274ZM14 2H9.28l-.001 1.362h2.408L5.065 9.984l.95.95 6.622-6.622v2.409H14V2Z",fill:"currentcolor"})})};t6e.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var n6e=function(n){return L("svg",{...n,children:L("path",{d:"M3.617 11.99c-.137.684-.392 1.19-.765 1.518-.362.328-.882.492-1.558.492H0l.309-1.579h1.264l1.515-7.64h-.912l.309-1.579h.911l.236-1.191c.137-.685.387-1.192.75-1.52C4.753.164 5.277 0 5.953 0h1.294L6.94 1.579H5.675l-.323 1.623h1.264l-.309 1.579H5.043l-1.426 7.208ZM5.605 11.021l3.029-4.155L7.28 3.202h2.073l.706 2.547h.176l1.691-2.547H14l-3.014 4.051 1.338 3.768H10.25l-.706-2.606H9.37L7.678 11.02H5.605Z",fill:"currentcolor"})})};n6e.defaultProps={width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var r6e=function(n){return L("svg",{...n,children:[L("path",{d:"M26 28H6a2.003 2.003 0 0 1-2-2V6a2.003 2.003 0 0 1 2-2h10v2H6v20h20V16h2v10a2.003 2.003 0 0 1-2 2Z"}),L("path",{d:"M20 2v2h6.586L18 12.586 19.414 14 28 5.414V12h2V2H20z"})]})};r6e.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"};var ZX=function(n){return L("svg",{...n,children:[L("path",{fill:"currentColor",d:"M28 4H10a2.006 2.006 0 0 0-2 2v14a2.006 2.006 0 0 0 2 2h18a2.006 2.006 0 0 0 2-2V6a2.006 2.006 0 0 0-2-2Zm0 16H10V6h18Z"}),L("path",{fill:"currentColor",d:"M18 26H4V16h2v-2H4a2.006 2.006 0 0 0-2 2v10a2.006 2.006 0 0 0 2 2h14a2.006 2.006 0 0 0 2-2v-2h-2Z"})]})};function b5t(t){const{element:n,headerProvider:i}=t,{getElementIcon:s,getDocumentationRef:o,getElementLabel:a,getTypeLabel:l}=i,c=a(n),u=l(n),d=o&&o(n),p=s(n);return L("div",{class:"bio-properties-panel-header",children:[L("div",{class:"bio-properties-panel-header-icon",children:p&&L(p,{width:"32",height:"32",viewBox:"0 0 32 32"})}),L("div",{class:"bio-properties-panel-header-labels",children:[L("div",{title:u,class:"bio-properties-panel-header-type",children:u}),c?L("div",{title:c,class:"bio-properties-panel-header-label",children:c}):null]}),L("div",{class:"bio-properties-panel-header-actions",children:d?L("a",{rel:"noreferrer",class:"bio-properties-panel-header-link",href:d,title:"Open documentation",target:"_blank",children:L(t6e,{})}):null})]})}ZX.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"};const i6e=km({description:{},getDescriptionForId:()=>{}}),JX=km({errors:{}}),s6e=km({eventBus:null}),Of=km({layout:{},setLayout:()=>{},getLayoutForKey:()=>{},setLayoutForKey:()=>{}}),o6e=km({tooltip:{},getTooltipForId:()=>{}});function Cy(t){const{forId:n,element:i}=t,s=function _5t(t,n){const{getTooltipForId:i}=lc(o6e);return i(t,n)}(n,i),o=t.value||s;return o?L(E5t,{...t,value:o,forId:`bio-properties-panel-${n}`}):t.children}function E5t(t){const{forId:n,value:i,parent:s,direction:o="right",position:a}=t,[l,c]=Ir(!1);let d=null;const p=ss(null),f=ss(null),h=(v,w)=>{l||(w?d=setTimeout(()=>{c(!0)},200):c(!0))},m=()=>{clearTimeout(d),c(!1)},y=({relatedTarget:v})=>{v===p.current||v===f.current||v?.parentElement===f.current||m()},S=()=>L("div",{class:`bio-properties-panel-tooltip ${o}`,role:"tooltip",id:"bio-properties-panel-tooltip","aria-labelledby":n,style:a||x5t(p.current),ref:f,onClick:v=>v.stopPropagation(),onMouseLeave:y,children:[L("div",{class:"bio-properties-panel-tooltip-content",children:i}),L("div",{class:"bio-properties-panel-tooltip-arrow"})]});return L("div",{class:"bio-properties-panel-tooltip-wrapper",tabIndex:"0",ref:p,onMouseEnter:v=>h(0,!0),onMouseLeave:y,onFocus:h,onBlur:v=>{const{target:w}=v,g=w.matches(":hover")||f.current?.matches(":hover");w===p.current&&g?v.stopPropagation():m()},onKeyDown:v=>{"Escape"===v.code&&m()},children:[t.children,l?s?DG(S(),s.current):S():null]})}function x5t(t){const n=t.getBoundingClientRect();return`right: calc(100% - ${n.x}px); top: ${n.top-10+"px"};`}function L_(t){const{errors:n}=lc(JX);return n[t]}function a6e(){const{errors:t}=lc(JX);return t}function MT(t,n,i){const s=lc(s6e);i||({eventBus:i}=s);const o=ss(!1);i&&!o.current&&i.on(t,n),Yn(()=>(i&&o.current&&i.on(t,n),o.current=!0,()=>{i&&i.off(t,n)}),[n,t,i])}function eQ(t,n){const{getLayoutForKey:i,setLayoutForKey:s}=lc(Of);return[i(t,n),Cs(l=>{s(t,l)},[s])]}function Cw(t){const n=ss();return Yn(()=>{n.current=t}),n.current}function Sw(t){const{onShow:n}=lc(Of),i=ss(),s=ss(!1),o=Cs(a=>{a.id===t&&(n(),s.current||(s.current=!0))},[t]);return Yn(()=>{s.current&&i.current&&(Ar(i.current.focus)&&i.current.focus(),Ar(i.current.select)&&i.current.select(),s.current=!1)}),MT("propertiesPanel.showEntry",o),i}function l6e(t,n,i){const[s,o]=Ir($n(n)),a=Cs(()=>{const l=$n(n);l!==s&&o(l)},[n,s]);Yn(()=>{a()},[a]),MT("propertiesPanel.attach",a),MT("propertiesPanel.detach",a),Yn(()=>{const l=IntersectionObserver;if(!l||!t.current||!s)return;const c=new l(u=>{0!==s.scrollHeight&&u.forEach(d=>{d.intersectionRatio<1?i(!0):1===d.intersectionRatio&&i(!1)})},{root:s,rootMargin:"0px 0px 999999% 0px",threshold:[1]});return c.observe(t.current),()=>{c.unobserve(t.current)}},[t.current,s,i])}function Sy(t){const n=ss(t);return n.current=t,Cs((...i)=>n.current(...i),[])}function $r(t){const{element:n,entries:i=[],id:s,label:o,shouldOpen:a=!1}=t,l=ss(null),[c,u]=eQ(["groups",s,"open"],a),d=Cs(()=>u(!0),[u]),[f,h]=Ir(!1),[m,y]=Ir(!1);Yn(()=>{const v=requestAnimationFrame(()=>{const w=i.find(g=>{const{id:x,isEdited:T}=g,I=$n(`[data-entry-id="${x}"]`);return!(!Ar(T)||!I)&&T($n(".bio-properties-panel-input",I))});h(w)});return()=>cancelAnimationFrame(v)},[i,h]);const E=a6e(),_=i.some(v=>E[v.id]);l6e(l,"div.bio-properties-panel-scroll-container",y);const S={...lc(Of),onShow:d};return L("div",{class:"bio-properties-panel-group","data-group-id":"group-"+s,ref:l,children:[L("div",{class:rr()("bio-properties-panel-group-header",f?"":"empty",c?"open":"",m&&c?"sticky":""),onClick:()=>u(!c),children:[L("div",{title:t.tooltip?null:o,"data-title":o,class:"bio-properties-panel-group-header-title",children:L(Cy,{value:t.tooltip,forId:"group-"+s,element:n,parent:l,children:o})}),L("div",{class:"bio-properties-panel-group-header-buttons",children:[L(T5t,{edited:f,hasErrors:_}),L("button",{type:"button",title:"Toggle section",class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:L(Sf,{class:c?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})})]})]}),L("div",{class:rr()("bio-properties-panel-group-entries",c?"open":""),children:L(Of.Provider,{value:S,children:i.map(v=>{const{component:w,id:g}=v;return Mi(w,{...v,element:n,key:g})})})})]})}function T5t(t){const{edited:n,hasErrors:i}=t;return i?L("div",{title:"Section contains an error",class:"bio-properties-panel-dot bio-properties-panel-dot--error"}):n?L("div",{title:"Section contains data",class:"bio-properties-panel-dot"}):null}function c6e(t){const{text:n,icon:i}=t;return L("div",{class:"bio-properties-panel open",children:L("section",{class:"bio-properties-panel-placeholder",children:[i&&L(i,{class:"bio-properties-panel-placeholder-icon"}),L("p",{class:"bio-properties-panel-placeholder-text",children:n})]})})}function Oy(t){const{element:n,forId:i,value:s}=t,o=function w5t(t,n){const{getDescriptionForId:i}=lc(i6e);return i(t,n)}(i,n),a=s||o;if(a)return L("div",{class:"bio-properties-panel-description",children:a})}const u6e=()=>{},tQ=Am((t,n)=>{const{onInput:i,disabled:s,tooltipContainer:o,enableGutters:a,value:l,onLint:c=u6e,onPopupOpen:u=u6e,popupOpen:d,contentAttributes:p={},hostLanguage:f=null,singleLine:h=!1}=t,m=ss(),[y,E]=Ir(),[_,S]=Ir(l||"");!function(t,n){const[i,s]=Ir(void 0);n.current=ol(()=>({focus:o=>{t?t.focus(o):(typeof o>"u"&&(o=1/0),s(o))}}),[t]),Yn(()=>{typeof i<"u"&&t&&(t.focus(i),s(!1))},[t,i])}(y,n);const v=Sy(g=>{i(g),S(g)});return Yn(()=>{let g;return g=new tN({container:m.current,onChange:v,value:_,onLint:c,contentAttributes:p,tooltipContainer:o,enableGutters:a,hostLanguage:f,singleLine:h,lineWrap:!0}),E(g),()=>{c([]),m.current.innerHTML="",E(null)}},[]),Yn(()=>{y&&l!==_&&(y.setValue(l),S(l))},[l]),L("div",{class:rr()("bio-properties-panel-feelers-editor-container",d?"popupOpen":null),children:[L("div",{class:"bio-properties-panel-feelers-editor__open-popup-placeholder",children:"Opened in editor"}),L("div",{name:t.name,class:rr()("bio-properties-panel-feelers-editor bio-properties-panel-input",_?"edited":null,s?"disabled":null),ref:m,onClick:()=>{n.current.focus()}}),L("button",{type:"button",title:"Open pop-up editor",class:"bio-properties-panel-open-feel-popup",onClick:()=>u("feelers"),children:L(ZX,{})})]})}),nQ=()=>{},d6e=Am((t,n)=>{const{contentAttributes:i,enableGutters:s,value:o,onInput:a,onFeelToggle:l=nQ,onLint:c=nQ,onPopupOpen:u=nQ,placeholder:d,popupOpen:p,disabled:f,tooltipContainer:h,variables:m}=t,y=ss(),[E,_]=Ir(),[S,v]=Ir(o||"");!function(t,n){const[i,s]=Ir(void 0);n.current=ol(()=>({focus:o=>{t?t.focus(o):(typeof o>"u"&&(o=1/0),s(o))}}),[t]),Yn(()=>{typeof i<"u"&&t&&(t.focus(i),s(!1))},[t,i])}(E,n);const w=Sy(x=>{a(x),v(x)});return Yn(()=>{let x;return x=new I_({container:y.current,onChange:w,onKeyDown:I=>{if("Backspace"!==I.key||!x)return;const A=x.getSelection(),$=A.ranges[A.mainIndex];0===$.from&&0===$.to&&l()},onLint:c,placeholder:d,tooltipContainer:h,value:S,variables:m,extensions:[...s?[FY()]:[],kn.lineWrapping],contentAttributes:i}),_(x),()=>{c([]),y.current.innerHTML="",_(null)}},[]),Yn(()=>{E&&o!==S&&(E.setValue(o),v(o))},[o]),Yn(()=>{E&&E.setVariables(m)},[m]),Yn(()=>{E&&E.setPlaceholder(d)},[d]),L("div",{class:rr()("bio-properties-panel-feel-editor-container",f?"disabled":null,p?"popupOpen":null),children:[L("div",{class:"bio-properties-panel-feel-editor__open-popup-placeholder",children:"Opened in editor"}),L("div",{name:t.name,class:rr()("bio-properties-panel-input",S?"edited":null),ref:y,onClick:()=>{n.current.focus()}}),L("button",{type:"button",title:"Open pop-up editor",class:"bio-properties-panel-open-feel-popup",onClick:()=>u(),children:L(ZX,{})})]})});function k5t(t){const{active:n}=t;return n?L("span",{class:"bio-properties-panel-feel-indicator",children:"="}):null}const M5t=()=>{};function A5t(t){const{feel:n=!1,active:i,disabled:s=!1,onClick:o=M5t}=t,l=`Click to ${i?"remove":"set a"} dynamic value with FEEL expression`;return L("button",{type:"button",class:rr()("bio-properties-panel-feel-icon",i?"active":null,"required"===n?"required":"optional"),onClick:u=>{o(u),u.pointerType||u.stopPropagation()},disabled:"required"===n||s,title:"required"===n?"FEEL expression is mandatory":l,children:L(n6e,{})})}const rQ=km({open:()=>{},close:()=>{},source:null});function lN(t){t.preventDefault(),t.stopPropagation()}const p6e=()=>{},Ow=Am(function N5t(t,n){const{container:i,className:s,delayInitialFocus:o,position:a,width:l,height:c,onClose:u,onPostActivate:d=p6e,onPostDeactivate:p=p6e,returnFocus:f=!0,closeOnEscape:h=!0,title:m}=t,y=ss(null),E=ss(null),_=n||E,S=ol(()=>function V5t(t){return"string"==typeof t?$n(t):t}(i),[i]),w=()=>{y.current&&y.current.activate()};let g={};return a&&(g={...g,top:a.top+"px",left:a.left+"px"}),l&&(g.width=l+"px"),c&&(g.height=c+"px"),Yn(()=>(_.current&&_.current.addEventListener("focusin",w),()=>{_.current.removeEventListener("focusin",w)}),[_]),Yn(()=>(_.current&&(y.current=v5t(_.current,{clickOutsideDeactivates:!0,delayInitialFocus:o,fallbackFocus:_.current,onPostActivate:d,onPostDeactivate:p,returnFocusOnDeactivate:f}),y.current.activate()),()=>y.current&&y.current.deactivate()),[_]),MT("propertiesPanel.detach",u),DG(L("div",{"aria-label":m,tabIndex:-1,ref:_,onKeyDown:x=>{x.stopPropagation(),h&&"Escape"===x.key&&u()},role:"dialog",class:rr()("bio-properties-panel-popup",s),style:g,children:t.children}),S||document.body)});function f6e(t){return t.closest(".bio-properties-panel-popup")}function z5t(t){const{element:n,eventBus:i={fire(){},on(){},off(){}},popupContainer:s,getPopupLinks:o=()=>[]}=t,a=Cw(n),[l,c]=Ir({}),[u,d]=Ir(!1),[p,f]=Ir(null),[h,m]=Ir(null),y=(w,g)=>{i.fire("feelPopup."+w,g)},E=Cs(()=>!!u,[u]);!function q5t(t,n){const i=ss(!1);Yn(()=>{if(i.current)return t();i.current=!0},n)}(()=>{u||y("closed")},[u]);const _=(w,g,x)=>{f(w),c(g),d(!0),m(x),y("open")},S=(w={})=>{const{id:g}=w;g&&g!==p||(d(!1),f(null))},v={open:_,close:S,source:p};return Yn(()=>{n&&a&&n!==a&&S()},[n]),Yn(()=>{const g=()=>E();return i.on("feelPopup._close",S),i.on("feelPopup._open",x=>{const{entryId:T,popupConfig:I,sourceElement:A}=x;_(T,I,A)}),i.on("feelPopup._isOpen",g),()=>{i.off("feelPopup._close",S),i.off("feelPopup._open",_),i.off("feelPopup._isOpen",g)}},[i,E]),L(rQ.Provider,{value:v,children:[u&&L(H5t,{onClose:S,container:s,getLinks:o,sourceElement:h,emit:y,...l}),t.children]})}function H5t(t){const{container:n,getLinks:i,id:s,hostLanguage:o,onInput:a,onClose:l,position:c,singleLine:u,sourceElement:d,title:p,tooltipContainer:f,type:h,value:m,variables:y,emit:E}=t,_=ss(),S=ss(),v=ss(!1);return Yn(()=>(E("opened",{domNode:S.current}),()=>E("close",{domNode:S.current})),[]),Yn(()=>{_.current&&_.current.focus()},[_]),L(Ow,{container:n,className:"bio-properties-panel-feel-popup",emit:E,position:c,title:p,onClose:l,returnFocus:!1,closeOnEscape:!1,delayInitialFocus:!1,onPostDeactivate:()=>{d&&d.focus()},height:250,width:700,ref:S,children:[L(Ow.Title,{title:p,emit:E,showCloseButton:!0,closeButtonTooltip:"Save and close",onClose:l,draggable:!0,children:L(lp,{children:i(h).map((T,I)=>L("a",{rel:"noreferrer",href:T.href,target:"_blank",class:"bio-properties-panel-feel-popup__title-link",children:[T.title,L(r6e,{})]},I))})}),L(Ow.Body,{children:L("div",{onKeyDownCapture:T=>{"Escape"===T.key&&(v.current=function U5t(t){return t.closest(".cm-editor").querySelector(".cm-tooltip-autocomplete")}(T.target))},onKeyDown:T=>{"Escape"===T.key&&(v.current||(l(),v.current=!1))},class:"bio-properties-panel-feel-popup__body",children:["feel"===h&&L(d6e,{enableGutters:!0,id:m6e(s),name:s,onInput:a,value:m,variables:y,ref:_,tooltipContainer:f}),"feelers"===h&&L(tQ,{id:m6e(s),contentAttributes:{"aria-label":p},enableGutters:!0,hostLanguage:o,name:s,onInput:a,value:m,ref:_,singleLine:u,tooltipContainer:f})]})})]})}function m6e(t){return`bio-properties-panel-${t}`}function g6e(t){const{id:n,label:i,onInput:s,value:o,switcherLabel:a,inline:l,onFocus:c,onBlur:u,inputRef:d,tooltip:p}=t,[f,h]=Ir(o),m=function(){var E=N(function*(){s(!o)});return function(){return E.apply(this,arguments)}}();return Yn(()=>{o!==f&&h(o)},[o]),L("div",{class:rr()("bio-properties-panel-toggle-switch",{inline:l}),children:[L("label",{class:"bio-properties-panel-label",for:v6e(n),children:L(Cy,{value:p,forId:n,element:t.element,children:i})}),L("div",{class:"bio-properties-panel-field-wrapper",children:[L("label",{class:"bio-properties-panel-toggle-switch__switcher",children:[L("input",{ref:d,id:v6e(n),class:"bio-properties-panel-input",type:"checkbox",onFocus:c,onBlur:u,name:n,onInput:E=>{m(),h(E.target.value)},checked:!!f}),L("span",{class:"bio-properties-panel-toggle-switch__slider"})]}),a&&L("p",{class:"bio-properties-panel-toggle-switch__label",children:a})]})]})}function cN(t){const{element:n,id:i,description:s,label:o,switcherLabel:a,inline:l,getValue:c,setValue:u,onFocus:d,onBlur:p,tooltip:f}=t;return L("div",{class:"bio-properties-panel-entry bio-properties-panel-toggle-switch-entry","data-entry-id":i,children:[L(g6e,{id:i,label:o,value:c(n),onInput:u,onFocus:d,onBlur:p,switcherLabel:a,inline:l,tooltip:f,element:n}),L(Oy,{forId:i,element:n,value:s})]})}function y6e(t){return t&&!!t.checked}function v6e(t){return`bio-properties-panel-${t}`}function b6e(t){const{debounce:n,disabled:i,displayLabel:s=!0,id:o,inputRef:a,label:l,max:c,min:u,onInput:d,step:p,value:f="",onFocus:h,onBlur:m}=t,[y,E]=Ir(f),_=ol(()=>n(v=>{v.validity.valid&&d(v.value?parseFloat(v.value):void 0)}),[d,n]);return Yn(()=>{f!==y&&E(f)},[f]),L("div",{class:"bio-properties-panel-numberfield",children:[s&&L("label",{for:_6e(o),class:"bio-properties-panel-label",children:l}),L("input",{id:_6e(o),ref:a,type:"number",name:o,spellCheck:"false",autoComplete:"off",disabled:i,class:"bio-properties-panel-input",max:c,min:u,onInput:v=>{_(v.target),E(v.target.value)},onFocus:h,onBlur:m,step:p,value:y})]})}function W5t(t){const{debounce:n,description:i,disabled:s,element:o,getValue:a,id:l,label:c,max:u,min:d,setValue:p,step:f,onFocus:h,onBlur:m,validate:y}=t,E=L_(l),[_,S]=Ir(null);let v=a(o);Yn(()=>{if(Ar(y)){const x=y(v)||null;S(x)}},[v,y]);const g=E||_;return L("div",{class:rr()("bio-properties-panel-entry",g?"has-error":""),"data-entry-id":l,children:[L(b6e,{debounce:n,disabled:s,id:l,label:c,onFocus:h,onBlur:m,onInput:x=>{let T=null;Ar(y)&&(T=y(x)||null),p(x,T),S(T)},max:u,min:d,step:f,value:v},o),g&&L("div",{class:"bio-properties-panel-error",children:g}),L(Oy,{forId:l,element:o,value:i})]})}function G5t(t){return t&&!!t.value}function _6e(t){return`bio-properties-panel-${t}`}Ow.Title=function L5t(t){const{children:n,className:i,draggable:s,emit:o=()=>{},title:a,showCloseButton:l=!1,closeButtonTooltip:c="Close popup",onClose:u,...d}=t,p=ss({startPosition:null,newPosition:null}),f=ss(),h=ss(),m=(_,S)=>{!function $5t(t){t.preventDefault(),t.stopPropagation()}(_);const{x:v,y:w}=S,g={x:p.current.startPosition.x+v,y:p.current.startPosition.y+w},x=f6e(h.current);x.style.top=g.y+"px",x.style.left=g.x+"px",o("dragover",{newPosition:g,delta:S})};return L("div",{class:rr()("bio-properties-panel-popup__header",s&&"draggable",i),ref:h,draggable:s,onDragStart:_=>{(function I5t(t,n){let i,s,o;function l(u){return t.call(i,u,{x:u.clientX-s,y:u.clientY-o})}function c(){document.removeEventListener("dragover",l,!0),document.removeEventListener("dragenter",lN,!0),document.removeEventListener("dragend",c),document.removeEventListener("drop",lN)}return function a(u){i=this,s=u.clientX,o=u.clientY,u.dataTransfer&&u.dataTransfer.setDragImage(n||function R5t(){return Xr('<canvas width="0" height="0" />')}(),0,0),document.addEventListener("dragover",l,!0),document.addEventListener("dragenter",lN,!0),document.addEventListener("dragend",c),document.addEventListener("drop",lN)}})(m,f.current)(_),_.stopPropagation();const w=f6e(h.current).getBoundingClientRect();p.current.startPosition={x:w.left,y:w.top},o("dragstart")},onDragEnd:()=>{p.current.newPosition=null,o("dragend")},...d,children:[s&&L(lp,{children:[L("div",{ref:f,class:"bio-properties-panel-popup__drag-preview"}),L("div",{class:"bio-properties-panel-popup__drag-handle",children:L(e6e,{})})]}),L("div",{class:"bio-properties-panel-popup__title",children:a}),n,l&&L("button",{title:c,class:"bio-properties-panel-popup__close",onClick:u,children:L(JSe,{})})]})},Ow.Body=function F5t(t){const{children:n,className:i,...s}=t;return L("div",{class:rr()("bio-properties-panel-popup__body",i),...s,children:n})},Ow.Footer=function B5t(t){const{children:n,className:i,...s}=t;return L("div",{class:rr()("bio-properties-panel-popup__footer",i),...s,children:t.children})};const K5t=()=>{},X5t=function a4t(t){return function(n){const{id:i}=n,{close:s}=lc(rQ),o=Sy(s);return Yn(()=>()=>{o({id:i})},[]),L(t,{...n})}}(function Y5t(t){const{debounce:n,id:i,element:s,label:o,hostLanguage:a,onInput:l,onError:c,placeholder:u,feel:d,value:p="",disabled:f=!1,variables:h,singleLine:m,tooltipContainer:y,OptionalComponent:E=Q5t,tooltip:_}=t,[S,v]=Ir(p),w=Sw(i),g=ss(),x=Or(S)&&S.startsWith("=")||"required"===d,T=Or(S)&&S.startsWith("=")?S.substring(1):S,[I,A]=Ir(void 0),{open:$,source:z}=lc(rQ),K=z===i,U=(_e=0)=>{const ke=g.current.contains(document.activeElement)?document.activeElement.selectionStart:1/0;A(ke+_e)},H=ol(()=>n(_e=>{l(_e)}),[l,n]),me=_e=>{v(_e),H(typeof _e>"u"||""===_e||"="===_e?void 0:_e)},Re=Sy(()=>{"required"!==d&&me(x?T:"="+S)}),De=_e=>{x&&(_e="="+_e),_e!==S&&(me(_e),!x&&Or(_e)&&_e.startsWith("=")&&U(-1))},ye=Sy((_e=[])=>{const be=_e.some(ke=>"Syntax Error"===ke.type);c(be?"Unparsable FEEL expression.":void 0)}),at=(_e="feel")=>{const be={id:i,hostLanguage:a,onInput:De,position:s4t(g.current),singleLine:m,title:o4t(s,o),tooltipContainer:y,type:_e,value:T,variables:h};$(i,be,w.current)};return Yn(()=>{typeof I<"u"&&(w.current.focus(I),A(void 0))},[I]),Yn(()=>{if(p!==S){if(!p)return void me(x?"=":"");me(p)}},[p]),Yn(()=>{const _e=ke=>{x&&ke.clipboardData.setData("application/FEEL",ke.clipboardData.getData("text"))},be=ke=>{x||K||ke.clipboardData.getData("application/FEEL")&&setTimeout(()=>{Re(),U()})};return g.current.addEventListener("copy",_e),g.current.addEventListener("cut",_e),g.current.addEventListener("paste",be),()=>{g.current.removeEventListener("copy",_e),g.current.removeEventListener("cut",_e),g.current.removeEventListener("paste",be)}},[g,x,Re,U]),L("div",{class:rr()("bio-properties-panel-feel-entry",{"feel-active":x}),children:[L("label",{for:Tw(i),class:"bio-properties-panel-label",onClick:()=>U(),children:[L(Cy,{value:_,forId:i,element:t.element,children:o}),L(A5t,{label:o,feel:d,onClick:Re,active:x})]}),L("div",{class:"bio-properties-panel-feel-container",ref:g,children:[L(k5t,{active:x,disabled:"optional"!==d||f,onClick:Re}),x?L(d6e,{name:i,onInput:De,contentAttributes:{id:Tw(i),"aria-label":o},disabled:f,popupOpen:K,onFeelToggle:()=>{Re(),U(!0)},onLint:ye,onPopupOpen:at,placeholder:u,value:T,variables:h,ref:w,tooltipContainer:y}):L(E,{...t,popupOpen:K,onInput:De,contentAttributes:{id:Tw(i),"aria-label":o},value:S,ref:w,onPopupOpen:at,containerRef:g})]})]})}),Q5t=Am((t,n)=>{const{id:i,disabled:s,onInput:o,value:a,onFocus:l,onBlur:c,placeholder:u}=t,d=ss();return n.current={focus:p=>{const f=d.current;f&&(f.focus(),"number"==typeof p&&(p>a.length&&(p=a.length),f.setSelectionRange(p,p)))}},L("input",{id:Tw(i),type:"text",ref:d,name:i,spellCheck:"false",autoComplete:"off",disabled:s,class:"bio-properties-panel-input",onInput:p=>o(p.target.value),onFocus:l,onBlur:c,placeholder:u,value:a||""})}),Z5t=Am((t,n)=>{const{id:i,debounce:s,disabled:o,onInput:a,value:l,min:c,max:u,step:d,onFocus:p,onBlur:f}=t,h=ss();return n.current={focus:m=>{const y=h.current;y&&(y.focus(),"number"==typeof m&&m!==1/0&&(m>l.length&&(m=l.length),y.setSelectionRange(m,m)))}},L(b6e,{id:i,debounce:s,disabled:o,displayLabel:!1,inputRef:h,max:u,min:c,onInput:a,step:d,value:l,onFocus:p,onBlur:f})}),J5t=Am((t,n)=>{const{id:i,disabled:s,onInput:o,value:a,onFocus:l,onBlur:c,placeholder:u}=t,d=ss();return n.current={focus:()=>{const p=d.current;p&&(p.focus(),p.setSelectionRange(0,0))}},L("textarea",{id:Tw(i),type:"text",ref:d,name:i,spellCheck:"false",autoComplete:"off",disabled:s,class:"bio-properties-panel-input",onInput:p=>o(p.target.value),onFocus:l,onBlur:c,placeholder:u,value:a||"","data-gramm":"false"})}),t4t=(Am((t,n)=>{const{id:i,onInput:s,value:o,onFocus:a,onBlur:l,switcherLabel:c}=t,u=ss();return n.current={focus:()=>{const d=u.current;d&&d.focus()}},L(g6e,{id:i,value:o,inputRef:u,onInput:s,onFocus:a,onBlur:l,switcherLabel:c})}),Am((t,n)=>{const{id:i,disabled:s,onInput:o,value:a,onFocus:l,onBlur:c}=t,u=ss();return n.current={focus:()=>{const p=u.current;p&&p.focus()}},L("input",{ref:u,id:Tw(i),name:i,onFocus:l,onBlur:c,type:"checkbox",class:"bio-properties-panel-input",onChange:({target:p})=>{o(p.checked)},checked:a,disabled:s})}));function F_(t){const{element:n,id:i,description:s,debounce:o,disabled:a,feel:l,label:c,getValue:u,setValue:d,tooltipContainer:p,hostLanguage:f,singleLine:h,validate:m,show:y=K5t,example:E,variables:_,onFocus:S,onBlur:v,placeholder:w,tooltip:g}=t,[x,T]=Ir(null),[I,A]=Ir(null);let $=u(n);Yn(()=>{if(Ar(m)){const me=m($)||null;T(me)}},[$,m]);const z=Sy(me=>{let Re=null;Ar(m)&&(Re=m(me)||null),me!==$&&d(me,Re),T(Re)}),K=Cs(me=>{A(me)},[]),H=L_(i)||I||x;return L("div",{class:rr()(t.class,"bio-properties-panel-entry",H?"has-error":""),"data-entry-id":i,children:[Mi(X5t,{...t,debounce:o,disabled:a,feel:l,id:i,key:n,label:c,onInput:z,onError:K,onFocus:S,onBlur:v,placeholder:w,example:E,hostLanguage:f,singleLine:h,show:y,value:$,variables:_,tooltipContainer:p,OptionalComponent:t.OptionalComponent,tooltip:g}),H&&L("div",{class:"bio-properties-panel-error",children:H}),L(Oy,{forId:i,element:n,value:s})]})}function n4t(t){return L(F_,{class:"bio-properties-panel-feel-number",OptionalComponent:Z5t,...t})}function i4t(t){return L(F_,{class:"bio-properties-panel-feel-checkbox",OptionalComponent:t4t,...t})}function Fs(t){return!!t&&("checkbox"===t.type?!!t.checked||t.classList.contains("edited"):!!t.value||t.classList.contains("edited"))}function Tw(t){return`bio-properties-panel-${t}`}function s4t(t){const{top:n,left:i}=t.getBoundingClientRect();return{left:i-700-20,top:n}}function o4t(t,n){let i="";return t&&t.type&&(i=`${t.type} / `),`${i}${n}`}const l4t={},c4t={},u4t={};function E6e(t){const{element:n,headerProvider:i,placeholderProvider:s,groups:o,layoutConfig:a,layoutChanged:l,descriptionConfig:c,descriptionLoaded:u,tooltipConfig:d,tooltipLoaded:p,feelPopupContainer:f,getFeelPopupLinks:h,eventBus:m}=t,[y,E]=Ir(x6e(a));(function f4t(t,n){const i=ss(!1);ty(()=>{if(i.current)return t();i.current=!0},n)})(()=>{const Re=x6e(a);E(Re)},[a]),Yn(()=>{"function"==typeof l&&l(y)},[y,l]);const v={layout:y,setLayout:E,getLayoutForKey:(Re,De)=>Ja(y,Re,De),setLayoutForKey:(Re,De)=>{const ye=Ce({},y);gh(ye,Re,De),E(ye)}},w=ol(()=>function d4t(t={}){return{...c4t,...t}}(c),[c]);Yn(()=>{"function"==typeof u&&u(w)},[w,u]);const x={description:w,getDescriptionForId:(Re,De)=>w[Re]&&w[Re](De)},T=ol(()=>function p4t(t={}){return{...u4t,...t}}(d),[d]);Yn(()=>{"function"==typeof p&&p(T)},[T,p]);const A={tooltip:T,getTooltipForId:(Re,De)=>T[Re]&&T[Re](De)},[$,z]=Ir({});MT("propertiesPanel.setErrors",({errors:Re})=>z(Re),m);const U={errors:$},H={eventBus:m},me={element:n};return s&&!n?L(c6e,{...s.getEmpty()}):s&&Xt(n)?L(c6e,{...s.getMultiple()}):L(Of.Provider,{value:me,children:L(JX.Provider,{value:U,children:L(i6e.Provider,{value:x,children:L(o6e.Provider,{value:A,children:L(Of.Provider,{value:v,children:L(s6e.Provider,{value:H,children:L(z5t,{element:n,eventBus:m,popupContainer:f,getPopupLinks:h,children:L("div",{class:"bio-properties-panel",children:[L(b5t,{element:n,headerProvider:i}),L("div",{class:"bio-properties-panel-scroll-container",children:o.map(Re=>{const{component:De=$r,id:ye}=Re;return Mi(De,{...Re,key:ye,element:n})})})]})})})})})})})})}function x6e(t={},n=l4t){return{...n,...t}}function AT(t){const{class:n,children:i,menuItems:s=[]}=t,o=ss(null),a=ss(null),[l,c]=Ir(!1),u=()=>c(!1);function p(f,h){f.stopPropagation(),u(),h()}return function m4t(t,n){Yn(()=>{function i(s){t.some(o=>o&&o.contains(s.target))||n()}return document.addEventListener("click",i,{capture:!0}),()=>document.removeEventListener("click",i,{capture:!0})},[...t,n])}([o.current],()=>u()),L("div",{class:rr()("bio-properties-panel-dropdown-button",{open:l},n),onClick:function d(f){a.current&&a.current.contains(f.target)||(f.stopPropagation(),c(h=>!h))},ref:o,children:[i,L("div",{class:"bio-properties-panel-dropdown-button__menu",ref:a,children:s.map((f,h)=>L(h4t,{onClick:p,item:f},h))})]})}function h4t({item:t,onClick:n}){return t.separator?L("div",{class:"bio-properties-panel-dropdown-button__menu-item bio-properties-panel-dropdown-button__menu-item--separator"}):t.action?L("button",{type:"button",class:"bio-properties-panel-dropdown-button__menu-item bio-properties-panel-dropdown-button__menu-item--actionable",onClick:i=>n(i,t.action),children:t.entry}):L("div",{class:"bio-properties-panel-dropdown-button__menu-item",children:t.entry})}function B_(t){const{children:n=null,class:i,onClick:s=()=>{},...o}=t;return L("button",{type:"button",...o,onClick:s,class:rr()("bio-properties-panel-group-header-button",i),children:n})}function iQ(t,n){return n=n||{},t.replace(/{([^}]+)}/g,function(i,s){return n[s]||"{"+s+"}"})}function Pw(t){const{element:n,entries:i=[],id:s,label:o,open:a,remove:l,translate:c=iQ}=t,[u,d]=Ir(a),{onShow:f}=lc(Of),h={...lc(Of),onShow:Cs(()=>{d(!0),Ar(f)&&f()},[f,d])},m=c("<empty>");return L("div",{"data-entry-id":s,class:rr()("bio-properties-panel-collapsible-entry",u?"open":""),children:[L("div",{class:"bio-properties-panel-collapsible-entry-header",onClick:()=>d(!u),children:[L("div",{title:o||m,class:rr()("bio-properties-panel-collapsible-entry-header-title",!o&&"empty"),children:o||m}),L("button",{type:"button",title:c("Toggle list item"),class:"bio-properties-panel-arrow  bio-properties-panel-collapsible-entry-arrow",children:L(Sf,{class:u?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})}),l?L("button",{type:"button",title:c("Delete item"),class:"bio-properties-panel-remove-entry",onClick:l,children:L(QX,{})}):null]}),L("div",{class:rr()("bio-properties-panel-collapsible-entry-entries",u?"open":""),children:L(Of.Provider,{value:h,children:i.map(y=>{const{component:E,id:_}=y;return Mi(E,{...y,element:n,key:_})})})})]})}function g4t(t){const{autoFocusEntry:n,autoOpen:i,translate:s=iQ}=t;return Yn(()=>{if(i&&n){const o=$n(`[data-entry-id="${n}"]`),a=$n(".bio-properties-panel-input",o);a&&(Ar(a.select)?a.select():Ar(a.focus)&&a.focus(),a.scrollIntoView())}},[i,n]),L("div",{class:"bio-properties-panel-list-item",children:L(Pw,{...t,open:i,translate:s})})}const y4t=()=>{};function zo(t){const{add:n,element:i,id:s,items:o,label:a,shouldOpen:l=!1,translate:c=iQ}=t;Yn(()=>{null!=t.shouldSort&&console.warn("the property 'shouldSort' is no longer supported")},[t.shouldSort]);const u=ss(null),[d,p]=eQ(["groups",s,"open"],l),[f,h]=Ir(!1),m=Cs(()=>p(!0),[p]),[y,E]=Ir([]),[_,S]=Ir(!1),v=Cw(i),w=Cs(()=>p(!d),[d]),g=i===v&&d&&_?function v4t(t,n){const i=t.map(o=>o.id),s=n.map(o=>o.id);return i.filter(o=>!s.includes(o))}(o,y):[];Yn(()=>{E(o),S(!1)},[o]),l6e(u,"div.bio-properties-panel-scroll-container",h);const x=!!o.length,T={...lc(Of),onShow:m},A=a6e(),$=o.some(z=>!!A[z.id]||(z.entries?z.entries.some(K=>A[K.id]):void 0));return L("div",{class:"bio-properties-panel-group","data-group-id":"group-"+s,ref:u,children:[L("div",{class:rr()("bio-properties-panel-group-header",x?"":"empty",x&&d?"open":"",f&&d?"sticky":""),onClick:x?w:y4t,children:[L("div",{title:t.tooltip?null:a,"data-title":a,class:"bio-properties-panel-group-header-title",children:L(Cy,{value:t.tooltip,forId:"group-"+s,element:i,parent:u,children:a})}),L("div",{class:"bio-properties-panel-group-header-buttons",children:[n?L("button",{type:"button",title:c("Create new list item"),class:"bio-properties-panel-group-header-button bio-properties-panel-add-entry",onClick:z=>{S(!0),p(!0),n(z)},children:[L(aN,{}),x?null:L("span",{class:"bio-properties-panel-add-entry-label",children:c("Create")})]}):null,x?L("div",{title:c("List contains {numOfItems} item"+(1!=o.length?"s":""),{numOfItems:o.length}),class:rr()("bio-properties-panel-list-badge",$?"bio-properties-panel-list-badge--error":""),children:o.length}):null,x?L("button",{type:"button",title:c("Toggle section"),class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:L(Sf,{class:d?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})}):null]})]}),L("div",{class:rr()("bio-properties-panel-list",d&&x?"open":""),children:L(Of.Provider,{value:T,children:o.map((z,K)=>{if(!z)return;const{id:U}=z,H=g.includes(z.id);return Mi(g4t,{...z,autoOpen:H,element:i,index:K,key:U,translate:c})})})})]})}function b4t(t){const{id:n,label:i,onChange:s,disabled:o,value:a=!1,onFocus:l,onBlur:c,tooltip:u}=t,[d,p]=Ir(a);return Yn(()=>{a!==d&&p(a)},[a]),L("div",{class:"bio-properties-panel-checkbox",children:[L("input",{ref:Sw(n),id:w6e(n),name:n,onFocus:l,onBlur:c,type:"checkbox",class:"bio-properties-panel-input",onChange:y=>{(({target:y})=>{s(y.checked)})(y),p(y.target.value)},checked:d,disabled:o}),L("label",{for:w6e(n),class:"bio-properties-panel-label",children:L(Cy,{value:u,forId:n,element:t.element,children:i})})]})}function ul(t){const{element:n,id:i,description:s,label:o,getValue:a,setValue:l,disabled:c,onFocus:u,onBlur:d,tooltip:p}=t,f=a(n),h=L_(i);return L("div",{class:"bio-properties-panel-entry bio-properties-panel-checkbox-entry","data-entry-id":i,children:[L(b4t,{disabled:c,id:i,label:o,onChange:l,onFocus:u,onBlur:d,value:f,tooltip:p,element:n},n),h&&L("div",{class:"bio-properties-panel-error",children:h}),L(Oy,{forId:i,element:n,value:s})]})}function vd(t){return t&&!!t.checked}function w6e(t){return`bio-properties-panel-${t}`}function C4t(t){const{id:n,label:i,onChange:s,options:o=[],value:a="",disabled:l,onFocus:c,onBlur:u,tooltip:d}=t,p=Sw(n),[f,h]=Ir(a);return Yn(()=>{a!==f&&h(a)},[a]),L("div",{class:"bio-properties-panel-select",children:[L("label",{for:S6e(n),class:"bio-properties-panel-label",children:L(Cy,{value:d,forId:n,element:t.element,children:i})}),L("select",{ref:p,id:S6e(n),name:n,class:"bio-properties-panel-input",onInput:E=>{(({target:E})=>{s(E.value)})(E),h(E.target.value)},onFocus:c,onBlur:u,value:f,disabled:l,children:o.map((E,_)=>E.children?L("optgroup",{label:E.label,children:E.children.map((S,v)=>L("option",{value:S.value,disabled:S.disabled,children:S.label},v))},_):L("option",{value:E.value,disabled:E.disabled,children:E.label},_))})]})}function Yi(t){const{element:n,id:i,description:s,label:o,getValue:a,setValue:l,getOptions:c,disabled:u,onFocus:d,onBlur:p,validate:f,tooltip:h}=t,m=c(n),y=L_(i),[E,_]=Ir(null);let S=a(n);Yn(()=>{if(Ar(f)){const g=f(S)||null;_(g)}},[S,f]);const w=y||E;return L("div",{class:rr()("bio-properties-panel-entry",w?"has-error":""),"data-entry-id":i,children:[L(C4t,{id:i,label:o,value:S,onChange:g=>{let x=null;Ar(f)&&(x=f(g)||null),l(g,x),_(x)},onFocus:d,onBlur:p,options:m,disabled:u,tooltip:h,element:n},n),w&&L("div",{class:"bio-properties-panel-error",children:w}),L(Oy,{forId:i,element:n,value:s})]})}function ms(t){return t&&!!t.value}function S6e(t){return`bio-properties-panel-${t}`}function sQ(t){t.style.height="auto",t.style.height=`${t.scrollHeight+2}px`}function T4t(t){const{id:n,label:i,debounce:s,onInput:o,value:a="",disabled:l,monospace:c,onFocus:u,onBlur:d,autoResize:p=!0,placeholder:f,rows:h=(p?1:2),tooltip:m}=t,[y,E]=Ir(a),_=Sw(n),S=function O5t(t){const[n,i]=Ir(!!t&&!!t.clientHeight);return ty(()=>{if(!t)return;const s=new ResizeObserver(([o])=>{requestAnimationFrame(()=>{const a=!!o.contentRect.height;a!==n&&i(a)})});return s.observe(t),()=>s.disconnect()},[t,n]),n}(_.current),v=ol(()=>s(g=>o(g.value.length?g.value:void 0)),[o,s]);return ty(()=>{p&&sQ(_.current)},[]),ty(()=>{S&&p&&sQ(_.current)},[S]),Yn(()=>{a!==y&&E(a)},[a]),L("div",{class:"bio-properties-panel-textarea",children:[L("label",{for:O6e(n),class:"bio-properties-panel-label",children:L(Cy,{value:m,forId:n,element:t.element,children:i})}),L("textarea",{ref:_,id:O6e(n),name:n,spellCheck:"false",class:rr()("bio-properties-panel-input",c?"bio-properties-panel-input-monospace":"",p?"auto-resize":""),onInput:g=>{v(g.target),p&&sQ(g.target),E(g.target.value)},onFocus:u,onBlur:d,placeholder:f,rows:h,value:y,disabled:l,"data-gramm":"false"})]})}function vc(t){const{element:n,id:i,description:s,debounce:o,label:a,getValue:l,setValue:c,rows:u,monospace:d,disabled:p,validate:f,onFocus:h,onBlur:m,placeholder:y,autoResize:E,tooltip:_}=t,S=L_(i),[v,w]=Ir(null);let g=l(n);Yn(()=>{if(Ar(f)){const I=f(g)||null;w(I)}},[g,f]);const T=S||v;return L("div",{class:rr()("bio-properties-panel-entry",T?"has-error":""),"data-entry-id":i,children:[L(T4t,{id:i,label:a,value:g,onInput:I=>{let A=null;Ar(f)&&(A=f(I)||null),c(I,A),w(A)},onFocus:h,onBlur:m,rows:u,debounce:o,monospace:d,disabled:p,placeholder:y,autoResize:E,tooltip:_,element:n},n),T&&L("div",{class:"bio-properties-panel-error",children:T}),L(Oy,{forId:i,element:n,value:s})]})}function Mu(t){return t&&!!t.value}function O6e(t){return`bio-properties-panel-${t}`}function P4t(t){const{debounce:n,disabled:i=!1,id:s,label:o,onInput:a,onFocus:l,onBlur:c,placeholder:u,value:d="",tooltip:p}=t,[f,h]=Ir(d||""),m=Sw(s),y=ol(()=>n(_=>a(_.value.length?_.value:void 0)),[a,n]);return Yn(()=>{d!==f&&h(d)},[d]),L("div",{class:"bio-properties-panel-textfield",children:[L("label",{for:T6e(s),class:"bio-properties-panel-label",children:L(Cy,{value:p,forId:s,element:t.element,children:o})}),L("input",{ref:m,id:T6e(s),type:"text",name:s,spellCheck:"false",autoComplete:"off",disabled:i,class:"bio-properties-panel-input",onInput:_=>{y(_.target),h(_.target.value)},onFocus:l,onBlur:c,placeholder:u,value:f})]})}function Ft(t){const{element:n,id:i,description:s,debounce:o,disabled:a,label:l,getValue:c,setValue:u,validate:d,onFocus:p,onBlur:f,placeholder:h,tooltip:m}=t,y=L_(i),[E,_]=Ir(null);let S=c(n);Yn(()=>{if(Ar(d)){const g=d(S)||null;_(g)}},[S,d]);const w=y||E;return L("div",{class:rr()("bio-properties-panel-entry",w?"has-error":""),"data-entry-id":i,children:[L(P4t,{debounce:o,disabled:a,id:i,label:l,onInput:g=>{let x=null;Ar(d)&&(x=d(g)||null),u(g,x),_(x)},onFocus:p,onBlur:f,placeholder:h,value:S,tooltip:m,element:n},n),w&&L("div",{class:"bio-properties-panel-error",children:w}),L(Oy,{forId:i,element:n,value:s})]})}function en(t){return t&&!!t.value}function T6e(t){return`bio-properties-panel-${t}`}function P6e(t){return function(i){return!1!==t?Lx(i,Ln(t)?t:300):i}}P6e.$inject=["config.debounceInput"];var D6e={debounceInput:["factory",P6e]},k6e={feelPopup:["type",(()=>{class t{constructor(i){this._eventBus=i}isOpen(){return this._eventBus.fire("feelPopup._isOpen")}open(i,s,o){return this._eventBus.fire("feelPopup._open",{entryId:i,popupConfig:s,sourceElement:o})}close(){return this._eventBus.fire("feelPopup._close")}}return t.$inject=["eventBus"],t})()]};function oQ(t){return(IT(t,"zeebe:IoMapping")||[])[0]}function IT(t,n,i){var s=function B4t(t,n){var i=[],s=t.get("extensionElements");if(typeof s<"u"){var o=s.get("values");typeof o<"u"&&(i=Bn(o,function(a){return function $4t(t,n){return t&&"function"==typeof t.$instanceOf&&t.$instanceOf(n)}(a,n)}))}return i}(t,n);return i?(s[0]||{})[i]||[]:s}function M6e(t){for(var n=[],i=t;i.$parent;)n.push(i.$parent),i=i.$parent;return n}function A6e(t,n,i){i=i||0,Xt(t)||(t=[t]),fe(t,function(s,o){var a=n(s,o,i);Xt(a)&&a.length&&A6e(a,n,i+1)})}function I6e(t,n,i){var s=!i||-1===t.indexOf(n);return s&&t.push(n),s}function V4t(t,n,i){var s=[],o=[];return A6e(t,function(a,l,c){I6e(s,a,n);var u=a.flowElements;if((-1===i||c<i)&&u&&I6e(o,u,n))return u}),s}function R6e(t,n){return V4t(t,!n,-1)}function RT(t,n){var i=gu(t,function(s){return s.name===n.name&&s.scope===n.scope});i>=0?t[i].origin=function q4t(t,n){return t.concat(n)}(t[i].origin,n.origin):t.push(n)}function NT(t,n,i){var s=function z4t(t,n,i){var o=Gt(M6e(t),function(a){return function H4t(t,n){return t&&"function"==typeof t.$instanceOf&&t.$instanceOf(n)}(a,"bpmn:SubProcess")&&function U4t(t,n){return Gt(function k4t(t){return function F4t(t,n){var i=oQ(t);return i&&i.get(n)||[]}(t,"inputParameters")}(t),function(i){return i.target===n})}(a,i)});return o||n}(t,i,n);return{name:n,origin:[t],scope:s}}var Q4t=[function W4t(t){var n=t.elements,i=t.processVariables;return Xt(n)||(n=[n]),fe(n,function(s){var o=function A4t(t){return(oQ(t)||{}).inputParameters}(s);fe(o,function(a){var l=NT(s,a.target,s);RT(i,l)})}),i},function G4t(t){var n=t.elements,i=t.processVariables;return Xt(n)||(n=[n]),fe(n,function(s){var o=s.loopCharacteristics,a=o&&function I4t(t){const n=IT(t,"zeebe:LoopCharacteristics")[0];return n&&n.inputElement}(o);if(a){var l=NT(s,a,s);RT(i,l)}}),i},function K4t(t){var n=t.elements,i=t.containerElement,s=t.processVariables;return Xt(n)||(n=[n]),fe(n,function(o){var a=function M4t(t){return(oQ(t)||{}).outputParameters}(o);fe(a,function(l){var c=NT(o,l.target,i);RT(s,c)})}),s},function Y4t(t){var n=t.elements,i=t.containerElement,s=t.processVariables;return Xt(n)||(n=[n]),fe(n,function(o){var a=o.loopCharacteristics,l=a&&function R4t(t){const n=IT(t,"zeebe:LoopCharacteristics")[0];return n&&n.outputCollection}(a);if(l){var c=NT(o,l,i);RT(s,c)}}),s},function X4t(t){var n=t.elements,i=t.containerElement,s=t.processVariables;return Xt(n)||(n=[n]),fe(n,function(o){var a=function N4t(t){return(IT(t,"zeebe:CalledDecision")||[])[0]}(o)||function L4t(t){return(IT(t,"zeebe:Script")||[])[0]}(o);if(a){var l=a.resultVariable;if(s.some(u=>u.origin[0]===o&&u.scope===i)&&(i=o,s.some(u=>u.name===l)))return s;if(l){var c=NT(o,l,i);RT(s,c)}}}),s}];function N6e(t,n=[]){var i=[],s=R6e([t],!1);const o=[];return fe([...Q4t,...n],function(a){o.push(a({elements:s,containerElement:t,processVariables:i}))}),Promise.all(o).then(()=>i)}function aQ(){return(aQ=N(function*(t,n,i=[]){var s=yield N6e(n,i),o=function j4t(t,n){return Gt(R6e(n),function(s){return s.id===t})}(t,n),a=Bn(s,function(u){return u.scope.id===o.id}),l=M6e(o);return function tCt(t,n){return t.concat(n)}(a,Bn(s,function(u){return Gt(l,function(d){return d.id===u.scope.id})}))})).apply(this,arguments)}function L6e(t,n=[]){return function Z4t(t,n){return aQ.apply(this,arguments)}(function J4t(t){const n=lQ(t);return uN(t,"bpmn:Participant")?n.processRef.id:n.id}(t),function eCt(t){const n=lQ(t);if(uN(n,"bpmn:Participant"))return n.processRef;if(uN(n,"bpmn:Process"))return n;let i=n;for(;i.$parent&&!uN(i,"bpmn:Process");)i=i.$parent;return i}(t),n)}function lQ(t){return t&&t.businessObject||t}function uN(t,n){var i=lQ(t);return i&&"function"==typeof i.$instanceOf&&i.$instanceOf(n)}const q6e=km({selectedElement:null,injector:null,getService:()=>null});function P(t,n){const{getService:i}=lc(q6e);return i(t,n)}function dQ(){return dQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},dQ.apply(null,arguments)}function pQ(){return pQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},pQ.apply(null,arguments)}function fQ(){return fQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},fQ.apply(null,arguments)}function hQ(){return hQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},hQ.apply(null,arguments)}function mQ(){return mQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},mQ.apply(null,arguments)}function gQ(){return gQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},gQ.apply(null,arguments)}function yQ(){return yQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},yQ.apply(null,arguments)}var W6e=({styles:t={},...n})=>He_createElement("svg",yQ({width:"32",height:"32",xmlns:"http://www.w3.org/2000/svg"},n),He_createElement("path",{stroke:"#000",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"1.1,4.3",d:"M1.5 30.5L27 5"}),He_createElement("path",{d:"M31.803.197L26.5 16.107l-1.52-1.52 3.783-11.35-11.35 3.783-1.52-1.52z"}));function vQ(){return vQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},vQ.apply(null,arguments)}function bQ(){return bQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},bQ.apply(null,arguments)}function _Q(){return _Q=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},_Q.apply(null,arguments)}function EQ(){return EQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},EQ.apply(null,arguments)}function xQ(){return xQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},xQ.apply(null,arguments)}function wQ(){return wQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},wQ.apply(null,arguments)}function CQ(){return CQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},CQ.apply(null,arguments)}function SQ(){return SQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},SQ.apply(null,arguments)}function OQ(){return OQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},OQ.apply(null,arguments)}function TQ(){return TQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},TQ.apply(null,arguments)}function PQ(){return PQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},PQ.apply(null,arguments)}function DQ(){return DQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},DQ.apply(null,arguments)}function kQ(){return kQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},kQ.apply(null,arguments)}function MQ(){return MQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},MQ.apply(null,arguments)}function AQ(){return AQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},AQ.apply(null,arguments)}function IQ(){return IQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},IQ.apply(null,arguments)}function RQ(){return RQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},RQ.apply(null,arguments)}function NQ(){return NQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},NQ.apply(null,arguments)}function LQ(){return LQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},LQ.apply(null,arguments)}function FQ(){return FQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},FQ.apply(null,arguments)}function BQ(){return BQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},BQ.apply(null,arguments)}function $Q(){return $Q=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},$Q.apply(null,arguments)}function VQ(){return VQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},VQ.apply(null,arguments)}function jQ(){return jQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},jQ.apply(null,arguments)}var G6e=({styles:t={},...n})=>He_createElement("svg",jQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.975.049C8.195-.111.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.454 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.215-2.282-2.022-5.3-3.217-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.082 11.082 0 0116 5.021zm-3.956 3.946l-3.096 3.097 3.985 3.985-3.913 3.913 3.047 3.048 3.913-3.913 3.988 3.987 3.097-3.096L19.076 16l3.914-3.913-3.048-3.048-3.913 3.913-3.986-3.985zm-.002 1.222l3.988 3.987 3.913-3.913 1.826 1.826-3.913 3.913 3.985 3.986-1.873 1.873-3.985-3.985-3.913 3.913-1.827-1.827 3.914-3.913-3.988-3.987 1.873-1.873z"}));function zQ(){return zQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},zQ.apply(null,arguments)}var K6e=({styles:t={},...n})=>He_createElement("svg",zQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm-.56 5.772l-7.408 5.231 7.409 5.234v-5.057c2.385 1.687 4.771 3.371 7.157 5.057V10.793l-7.157 5.055v-5.055zm-.865 1.665v7.125l-5.048-3.562 5.048-3.563zm7.161 0v7.132l-5.048-3.566 5.048-3.566z"}));function HQ(){return HQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},HQ.apply(null,arguments)}var Y6e=({styles:t={},...n})=>He_createElement("svg",HQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.97.04h-.127C8.713-.018 2.003 5.334.437 12.286c-1.51 6.123.98 13.005 6.136 16.665 5.125 3.788 12.546 4.105 17.912.623 5.272-3.276 8.33-9.766 7.325-15.916-.904-6.241-5.79-11.7-11.95-13.143A16.082 16.082 0 0015.97.04zm-.181 1.724c.115 0 .23 0 .347.003 6.625-.066 12.823 5.149 13.89 11.69 1.13 5.91-1.908 12.349-7.262 15.138-5.473 3.013-12.866 1.884-17.116-2.726C1.291 21.372.444 13.914 3.802 8.602c2.493-4.112 7.169-6.819 11.987-6.838zm.283 1.554c-.117 0-.234.002-.351.005-6.1 0-11.691 5.049-12.346 11.114-.78 5.684 2.795 11.612 8.218 13.52 5.139 1.943 11.416.101 14.624-4.38 3.461-4.583 3.262-11.538-.596-15.831-2.36-2.747-5.924-4.423-9.549-4.428zm-.078 1.695c.078 0 .156 0 .234.003 5.4 0 10.321 4.556 10.734 9.942.563 5.13-2.958 10.364-7.971 11.678-4.832 1.41-10.457-.935-12.746-5.446-2.463-4.559-1.2-10.795 3.014-13.883a11.072 11.072 0 016.735-2.294zm-5.352 4.266V22.761h10.716V9.279H10.642zm.863.866h8.987v11.75h-8.987v-11.75zm.927 1.323v.862h7.133v-.862h-7.133zm0 2.602v.866h7.133v-.866h-7.133zm0 3.008v.862h7.133v-.862h-7.133zm0 2.717v.863h7.133v-.863h-7.133z"}));function UQ(){return UQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},UQ.apply(null,arguments)}var X6e=({styles:t={},...n})=>He_createElement("svg",UQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm6.132 4.194c-1.21 2.455-2.422 4.91-3.633 7.364l-4.516-5.875-4.103 12.133 4.6-5.912c1.58 1.81 3.162 3.619 4.744 5.429L22.13 9.215zM14.383 13.1l4.295 5.445 1.073-2.387-1.027 4.131-4.384-5.157-1.778 2.75 1.821-4.782z"}));function qQ(){return qQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},qQ.apply(null,arguments)}var Q6e=({styles:t={},...n})=>He_createElement("svg",qQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.927c-1.672 4.654-2.734 9.502-4.406 14.155 1.534-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.496-4.71-2.91-9.446-4.406-14.156zm.032 2.929c.822 2.586 1.598 5.186 2.42 7.771l-2.42-2.612c-.682.597-2.452 2.884-2.338 2.388.87-2.487 1.447-5.067 2.338-7.547z"}));function WQ(){return WQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},WQ.apply(null,arguments)}var Z6e=({styles:t={},...n})=>He_createElement("svg",WQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm1.78 4.093v3.555H9.785v6.714h7.994v3.554l5.829-6.911-5.83-6.912zm.974 2.584l3.61 4.295-3.61 4.294v-1.933h-7.88v-4.688h7.88v-1.968z"}));function GQ(){return GQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},GQ.apply(null,arguments)}var J6e=({styles:t={},...n})=>He_createElement("svg",GQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm-7.245 5.475v11.06h14.502v-11.06H8.754zm3.222 1.728h8.057c-1.427.878-2.854 2.806-4.281 3.016l-3.776-3.016zm9.554 1.017v6.587H10.48V13.24l5.524 4.414 5.526-4.414z"}));function KQ(){return KQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},KQ.apply(null,arguments)}var eOe=({styles:t={},...n})=>He_createElement("svg",KQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.073l-7.62 5.531 2.91 8.95h9.42l2.91-8.95-7.62-5.53zm0 1.067l6.604 4.794-2.523 7.757h-8.162l-2.522-7.757 6.603-4.794z"}));function YQ(){return YQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},YQ.apply(null,arguments)}var tOe=({styles:t={},...n})=>He_createElement("svg",YQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M10.638 9.563V23.056h10.724V9.563H10.638zm.863.866h8.995v11.76H11.5V10.43zm.928 1.324v.862h7.139v-.862h-7.14zm0 2.605v.866h7.139v-.866h-7.14zm0 3.01v.863h7.139v-.863h-7.14zm0 2.72v.863h7.139v-.864h-7.14zM15.999.308h-.004l-.188.001h-.011l-.188.004h-.011L15.41.32h-.011l-.187.008h-.005L15.2.33l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.37h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003.178-.001h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 1.023l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.62h-.005l-.005-.002-.182-.035h-.006L18.938.58l-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.43 17.783.41l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.37h-.005L17.38.368l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.328h-.011L16.6.32h-.011l-.187-.006h-.011L16.204.31h-.011L16.005.31H16zm9.016 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zm-18.381.344l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003L4.682 5l-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.595h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01L16.32 3.6h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 13.135l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187V16.7l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zm-30.21.572l-.161.001-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158-.074-.155-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178-.001-.177v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057-.159-.028zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14v-.005l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 23.019l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 27.127l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z"}));function XQ(){return XQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},XQ.apply(null,arguments)}var nOe=({styles:t={},...n})=>He_createElement("svg",XQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M16.012 9.222c-1.673 4.657-2.735 9.508-4.409 14.164 1.536-1.526 2.874-3.236 4.41-4.762l4.408 4.762c-1.497-4.712-2.911-9.451-4.409-14.164zm.032 2.93c.823 2.588 1.599 5.19 2.421 7.777l-2.42-2.614c-.683.598-2.454 2.886-2.34 2.39.871-2.489 1.448-5.07 2.34-7.552zM16.012.312c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}));function QQ(){return QQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},QQ.apply(null,arguments)}var rOe=({styles:t={},...n})=>He_createElement("svg",QQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M8.742 10.464v11.072h14.516V10.464H8.742zm3.224 1.73h8.066a69569 69569 0 00-4.034 3.22l-4.032-3.22zm9.565 1.018v6.594H10.469v-6.593L16 17.63l5.532-4.419zM16 0h-.005l-.188.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06h-.005L17.38.06l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0H16zm9.015 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zM6.634 3.28l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.286h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 12.826l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zM.938 15L.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 22.71l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 26.818l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z"}));function ZQ(){return ZQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},ZQ.apply(null,arguments)}var iOe=({styles:t={},...n})=>He_createElement("svg",ZQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M23.637 13.902l-7.625-5.535-7.624 5.535 2.912 8.956h9.425l2.912-8.956zm-1.017.33l-2.524 7.762H11.93l-2.524-7.762 6.607-4.796 6.608 4.796zM16.012.311c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}));function JQ(){return JQ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},JQ.apply(null,arguments)}var sOe=({styles:t={},...n})=>He_createElement("svg",JQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M13.51 9.081v4.428H9.08v4.982h4.428v4.428h4.982V18.49h4.428v-4.982H18.49V9.081h-4.982zm.83.83h3.32v4.428h4.429v3.322H17.66v4.428h-3.32v-4.454H9.91v-3.296h4.428V9.911zM16 0h-.005l-.188.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06h-.005L17.38.06l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0H16zm9.015 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zM6.634 3.28l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.286h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 12.826l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zM.938 15L.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 22.71l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 26.818l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z",opacity:".98"}));function eZ(){return eZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},eZ.apply(null,arguments)}var oOe=({styles:t={},...n})=>He_createElement("svg",eZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M16.012 8.816L9.21 21.026h13.606l-6.803-12.21zm0 1.776l5.332 9.57H10.681l5.331-9.57zm0-10.281c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}));function tZ(){return tZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},tZ.apply(null,arguments)}var aOe=({styles:t={},...n})=>He_createElement("svg",tZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.998 8.406c-3.018-.041-5.92 1.926-7.031 4.727-1.138 2.695-.51 6.012 1.537 8.103 1.99 2.141 5.268 2.93 8.014 1.927 2.878-.98 4.992-3.827 5.068-6.87.153-2.957-1.624-5.88-4.3-7.137a7.552 7.552 0 00-3.288-.75zm0 1.384c2.759-.052 5.373 1.973 6.015 4.655.704 2.578-.482 5.517-2.791 6.867-2.358 1.48-5.682 1.086-7.618-.918-2.043-1.971-2.407-5.381-.84-7.745 1.11-1.763 3.15-2.88 5.234-2.86zm1.962 1.765l-2.074 3.762c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.182l1.993-3.615c-.252-.14-.505-.278-.757-.417zm-1.965-8.268h-.158l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.048.12.047.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.138-.107-.121-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.005-.002-.006-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.141-.031-.006-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.001-.143-.026-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.01l-.148-.001h-.01zM10.357 4.66l-.156.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.004.003-.005.004-.11.096-.004.004-.004.003-.109.098-.004.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.003.004-.004.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.005-.086.117-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.029.15-.058.138-.085.119-.108.082-.106.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022-.16.008zm13.91 2.116l-.158.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.026.159.054.152.082.139.086.102.09.09.094.098.093.099.092.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.115.068.117.067.115.065.118.064.117.062.118.061.12.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.049.127.046.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.086.137.109.119.129.096.145.07.155.043.16.013.161-.017.155-.046.143-.074.126-.1.106-.122.082-.138.055-.152.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.059-.132-.002-.005-.002-.004-.061-.132-.003-.004-.002-.005-.062-.13-.003-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.073-.125-.003-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.08-.12-.004-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.117-.003-.005-.003-.004-.088-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.093-.113-.004-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.109-.004-.004-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023-.16.008zM4.288 12.828l-.158.032-.15.06-.135.088-.117.11-.095.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.006-.019.144v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.006l-.001.005-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.006.033.14v.006l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.103.102-.126.076-.142.049-.153.02-.16-.01-.161-.032-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.132-.024-.134-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.132.01-.139.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029-.16.002zm23.286 4.202l-.156.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.134-.026.132-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.062.119-.063.116-.067.119-.066.116-.068.115-.07.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.108-.085.109-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.082-.12.003-.005.002-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.004.003-.005.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.003-.005.002-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.002-.006.04-.138.002-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.141.001-.006.001-.005.031-.141.002-.006v-.005l.03-.142.001-.005.001-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022-.16.007zM6.681 22.734l-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.11.04.047.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.106.004.003.004.004.103.105.004.004.004.004.105.103.004.004.003.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.005.004.004.003.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.003.126.072.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.068.005.002.004.002.13.066.004.003.005.002.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.003.133.056.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.161-.015.155-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.158-.061-.15-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.079-.11-.08-.109-.082-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006-.16.024zm15.063 2.691l-.156.044-.12.057-.06.034-.12.066-.116.064-.119.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.036-.13.035-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021h.005l.006-.002.143-.022h.006l.005-.002.143-.024h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.036.005-.002.005-.001.14-.038.005-.001.005-.002.14-.04h.005l.005-.002.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.056.005-.003.005-.002.132-.057.005-.002.005-.003.132-.059.005-.002.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.002.005-.003.129-.066.004-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.002.065-.038.132-.093.112-.115.089-.135.062-.149.034-.157.004-.161-.027-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.045-.16-.017-.161.014zM15.994 0l-.187.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.01L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.184.027h-.006l-.005.001-.184.029h-.005l-.005.001-.183.031-.005.001-.006.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.177.027.17.03.173.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.088-.135.06-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.144-.073-.129-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.005-.001-.184-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06 17.385.06h-.005l-.187-.015h-.005l-.005-.001-.187-.013h-.01L16.799.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0h-.01zm8.86 2.939l-.157.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.127.125.123.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.085.152.083.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.161-.016.155-.046.143-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.002-.005-.003-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.002-.005-.102-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.004-.003-.005-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.003-.004-.004-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.003-.004-.133-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027-.16.004zm-18.381.348l-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.005-.003.004-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.005-.003.004-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023-.161.008zm24.514 11.15l-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.024.175-.027.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.161-.061.164-.063.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.078.158-.081.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.12.13.096.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.004.002-.005.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.17.002-.006.001-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.18.001-.006.001-.005.038-.182v-.005l.002-.005.035-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02-.161.009zM.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.005.074.169.002.005.002.004.076.169.002.005.002.004.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.156-.07-.162-.068-.16-.067-.164-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15 .777 15zM6.17 26.842l-.152.052-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.005.003.004.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.003.162.088.005.002.004.002.164.087.005.002.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.169.076.004.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.061.005.002.005.001.175.06.005.001.005.002.176.057.005.001.005.002.177.055.005.001.005.002.177.052.005.002.005.001.178.051.005.001.005.002.178.048.006.002h.005l.179.047.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.169-.044-.17-.045-.166-.048-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006-.16.024zm19.214.073l-.156.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.157.073-.158.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.048-.17.045-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.008.133-.017.115-.024h.005l.005-.002.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002h.005l.18-.047.004-.001.005-.002.179-.048.005-.002.005-.001.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.005-.002.004-.002.172-.068.005-.001.005-.002.171-.07.005-.002.005-.002.17-.072.005-.002.005-.002.169-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.002.167-.08.004-.003.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.002.163-.087.005-.002.005-.002.162-.088.005-.003.005-.003.161-.09.005-.002.004-.003.16-.092.005-.002.005-.003.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.002.155-.102.005-.003.004-.003.154-.104.004-.003.005-.003.152-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.111.004-.004.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02-.16.009z"}));function nZ(){return nZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},nZ.apply(null,arguments)}var lOe=({styles:t={},...n})=>He_createElement("svg",nZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.975.003C8.195-.157.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.408 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.215-2.282-2.022-5.3-3.217-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.082 11.082 0 0116 4.975zm-2.15 3.281v5.534H8.213v4.38h5.636v5.534h4.31V18.17h5.639v-4.38h-5.64V8.256h-4.31zm.865.865h2.583v5.534h5.635v2.65h-5.635v5.533h-2.583v-5.534h-5.64v-2.649h5.64V9.121z"}));function rZ(){return rZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},rZ.apply(null,arguments)}var cOe=({styles:t={},...n})=>He_createElement("svg",rZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.521L9.206 20.745h13.598L16.005 8.542zm0 1.775l5.329 9.564H10.677l5.328-9.564z"}));function iZ(){return iZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},iZ.apply(null,arguments)}var uOe=({styles:t={},...n})=>He_createElement("svg",iZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.97.04h-.127C8.713-.018 2.003 5.334.437 12.286c-1.51 6.123.98 13.005 6.136 16.665 5.125 3.788 12.546 4.105 17.912.623 5.272-3.276 8.33-9.766 7.325-15.916-.904-6.241-5.79-11.7-11.95-13.143A16.082 16.082 0 0015.97.04zm-.181 1.724c.115 0 .23 0 .347.003 6.625-.066 12.823 5.149 13.89 11.69 1.13 5.91-1.908 12.349-7.262 15.138-5.473 3.013-12.866 1.884-17.116-2.726C1.291 21.372.444 13.914 3.802 8.602c2.493-4.112 7.169-6.819 11.987-6.838zm.283 1.554c-.117 0-.234.002-.351.005-6.1 0-11.691 5.049-12.346 11.114-.78 5.684 2.795 11.612 8.218 13.52 5.139 1.943 11.416.101 14.624-4.38 3.461-4.583 3.262-11.538-.596-15.831-2.36-2.747-5.924-4.423-9.549-4.428zm-.078 1.695c.078 0 .156 0 .234.003 5.4 0 10.321 4.556 10.734 9.942.563 5.13-2.958 10.364-7.971 11.678-4.832 1.41-10.457-.935-12.746-5.446-2.463-4.559-1.2-10.795 3.014-13.883a11.072 11.072 0 016.735-2.294zm-.137 3.42c-2.965.02-5.792 1.968-6.884 4.722-1.137 2.693-.509 6.007 1.536 8.096 1.988 2.14 5.263 2.929 8.007 1.926 2.875-.98 4.987-3.824 5.063-6.865.154-2.954-1.622-5.875-4.295-7.13a7.545 7.545 0 00-3.427-.75zm.27 1.381c2.708.013 5.249 2.014 5.88 4.652.704 2.576-.481 5.512-2.788 6.862-2.356 1.478-5.677 1.084-7.611-.918-2.042-1.97-2.405-5.376-.839-7.738 1.11-1.762 3.146-2.877 5.229-2.857h.13zm1.831 1.764l-2.072 3.76c-.64.068-.792 1.039-.202 1.298.39.27.696-.18 1.051-.164h3.168v-.864h-3.18l1.992-3.612-.757-.418z"}));function sZ(){return sZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},sZ.apply(null,arguments)}var dOe=({styles:t={},...n})=>He_createElement("svg",sZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.848.001C8.113-.093.931 6.281.125 13.983c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.207C29.105 4.938 23.55.48 17.367.06A16.448 16.448 0 0015.848 0v.001zm.293 1.727c7.113-.099 13.662 5.97 14.077 13.08.56 6.299-3.516 12.735-9.582 14.679-5.798 2.004-12.806-.12-16.283-5.237C.717 19.159.874 11.638 5.016 6.876 7.722 3.638 11.902 1.63 16.14 1.728zm-.415 1.555C9.157 3.258 3.256 9.156 3.278 15.729c-.16 5.965 4.365 11.725 10.293 12.737 5.409 1.065 11.37-1.744 13.775-6.753 2.534-4.986 1.386-11.627-2.953-15.251-2.364-2.077-5.512-3.27-8.667-3.18zm.507 1.692c5.82-.026 11.013 5.318 10.79 11.143-.024 5.3-4.313 10.267-9.636 10.803-5.075.667-10.426-2.588-11.885-7.553-1.535-4.744.494-10.46 4.925-12.885a11.072 11.072 0 015.806-1.508z"}));function oZ(){return oZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},oZ.apply(null,arguments)}function aZ(){return aZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},aZ.apply(null,arguments)}function lZ(){return lZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},lZ.apply(null,arguments)}function cZ(){return cZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},cZ.apply(null,arguments)}function uZ(){return uZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},uZ.apply(null,arguments)}function dZ(){return dZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},dZ.apply(null,arguments)}function pZ(){return pZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},pZ.apply(null,arguments)}function fZ(){return fZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},fZ.apply(null,arguments)}function hZ(){return hZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},hZ.apply(null,arguments)}function mZ(){return mZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},mZ.apply(null,arguments)}function gZ(){return gZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},gZ.apply(null,arguments)}function yZ(){return yZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},yZ.apply(null,arguments)}function vZ(){return vZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},vZ.apply(null,arguments)}function bZ(){return bZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},bZ.apply(null,arguments)}function _Z(){return _Z=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},_Z.apply(null,arguments)}function EZ(){return EZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},EZ.apply(null,arguments)}function xZ(){return xZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},xZ.apply(null,arguments)}function wZ(){return wZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},wZ.apply(null,arguments)}function CZ(){return CZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},CZ.apply(null,arguments)}function SZ(){return SZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},SZ.apply(null,arguments)}function OZ(){return OZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},OZ.apply(null,arguments)}function TZ(){return TZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},TZ.apply(null,arguments)}function PZ(){return PZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},PZ.apply(null,arguments)}function DZ(){return DZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},DZ.apply(null,arguments)}function kZ(){return kZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},kZ.apply(null,arguments)}function MZ(){return MZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},MZ.apply(null,arguments)}function AZ(){return AZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},AZ.apply(null,arguments)}function IZ(){return IZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},IZ.apply(null,arguments)}function RZ(){return RZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},RZ.apply(null,arguments)}function NZ(){return NZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},NZ.apply(null,arguments)}function LZ(){return LZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},LZ.apply(null,arguments)}function FZ(){return FZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},FZ.apply(null,arguments)}function BZ(){return BZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},BZ.apply(null,arguments)}var pOe=({styles:t={},...n})=>He_createElement("svg",BZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M5.637 3A5.644 5.644 0 000 8.637v15.417a5.644 5.644 0 005.637 5.637h20.726A5.644 5.644 0 0032 24.054V8.637A5.644 5.644 0 0026.363 3H5.637zm0 1.778h20.726a3.83 3.83 0 013.859 3.859v15.417a3.83 3.83 0 01-3.859 3.858h-4.201V16.695H9.838v11.217H5.637a3.83 3.83 0 01-3.859-3.858V8.637a3.83 3.83 0 013.859-3.859zm5.33 13.046h10.066v10.065H10.967V17.824zm4.189 1.431V22.06H12.35v1.689h2.804V26.554h1.69V23.749h2.804V22.06h-2.804V19.255h-1.69z"}));function $Z(){return $Z=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},$Z.apply(null,arguments)}var fOe=({styles:t={},...n})=>He_createElement("svg",$Z({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M5.636 3A5.642 5.642 0 000 8.636v15.418a5.643 5.643 0 005.636 5.636h20.728A5.643 5.643 0 0032 24.054V8.636A5.642 5.642 0 0026.364 3H5.636zm0 1.778h20.728a3.83 3.83 0 013.858 3.858v15.418a3.83 3.83 0 01-3.858 3.858h-4.203V16.723H9.84v11.189H5.636a3.83 3.83 0 01-3.858-3.858V8.636a3.83 3.83 0 013.858-3.858zm5.331 13.074h10.066v10.06H10.967v-10.06zm1.336 3.996v1.711h7.394v-1.71h-7.394z"}));function VZ(){return VZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},VZ.apply(null,arguments)}function jZ(){return jZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},jZ.apply(null,arguments)}function zZ(){return zZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},zZ.apply(null,arguments)}function HZ(){return HZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},HZ.apply(null,arguments)}var $St={Association:({styles:t={},...n})=>He_createElement("svg",dQ({width:"32",height:"32",xmlns:"http://www.w3.org/2000/svg"},n),He_createElement("path",{stroke:"#000",strokeWidth:"2",fill:"none",strokeDasharray:"3.3,6",strokeLinecap:"square",d:"M1.5 30.5l29-29"})),BusinessRuleTask:({styles:t={},...n})=>He_createElement("svg",pQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zM5.296 7.398v12.665h16.87V7.398H5.296zm.718 4.386h15.433v3.44H9.985v-3.432h-.719v3.431H6.014v-3.44zm0 4.158h3.252v3.403H6.014v-3.403zm3.97 0h11.463v3.403H9.985v-3.403z"}),He_createElement("path",{d:"M6.079 8.209v3.587H21.44V8.209z"})),CallActivity:({styles:t={},...n})=>He_createElement("svg",fQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M24.978 3c3.761 0 6.89 2.979 7.018 6.695l.004.238V22.4c0 3.747-3.05 6.804-6.783 6.93l-.24.003H7.023c-3.761 0-6.89-2.978-7.018-6.695L0 22.4V9.933C0 6.187 3.05 3.13 6.783 3.004L7.023 3h17.955zm0 3.667H7.022c-1.842 0-3.255 1.344-3.35 3.079l-.005.187V22.4c0 1.761 1.35 3.167 3.16 3.262l.195.005L10 25.666V15h12v10.666h2.978c1.842 0 3.255-1.344 3.35-3.079l.005-.187V9.933c0-1.761-1.35-3.166-3.16-3.261l-.195-.005zm-3.732 9.087H10.754v9.912h10.491v-9.912zm-4.475 1.817v2.658h2.658v1.542H16.77v2.658H15.23V21.77H12.57V20.23h2.658V17.57h1.542z"})),Collaboration:({styles:t={},...n})=>He_createElement("svg",hQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("g",{fillRule:"evenodd"},He_createElement("path",{fillRule:"nonzero",d:"M0 0v8.62h32V0H0zm1.655 7.054v-5.37h28.62v5.37H1.656zM0 23.38V32h32v-8.62H0zm1.655 7.054v-5.37h28.62v5.37H1.656z"}),He_createElement("path",{d:"M24 8l4 7h-8l4-7zm0 2l-2.28 4h4.56L24 10zM23.5 21h1v3h-1zM23.5 15h1v3h-1zM8 24l-4-7h8l-4 7zm0-2l2.28-4H5.72L8 22zM7.5 8h1v3h-1zM7.5 14h1v3h-1z"}))),ConditionalFlow:({styles:t={},...n})=>He_createElement("svg",mQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M32 .041S20.42 5.95 14.537 8.713c1.26 1.15 2.432 2.392 3.648 3.588-5.703 5.78-3.15 3.303-8.087 8.316l-8.472 1.377L0 32l10.006-1.626.098-.598 1.279-7.873c4.975-5.052 2.403-2.555 8.118-8.346 1.218 1.214 2.43 2.435 3.648 3.648C26.29 11.018 32 .041 32 .041zM9.603 22.397L8.54 28.91 2.03 29.97l1.061-6.515 6.512-1.058z"})),SequenceFlow:({styles:t={},...n})=>He_createElement("svg",gQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M32 .06S20.33 6.014 14.403 8.798c1.27 1.16 2.451 2.41 3.676 3.616L0 30.734 1.325 32l18.08-18.32c1.227 1.223 2.448 2.453 3.676 3.676C26.247 11.12 32 .06 32 .06z"})),DataInput:({styles:t={},...n})=>He_createElement("svg",vQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M20.833 0H3.488v32H28V7.36L20.833 0zm-2.105 1.818v7.507h7.454v20.857H5.306V1.818h13.422zm1.818.493l5.06 5.196h-5.06V2.311zm-9.182.86v3.744H7.081v3.222h4.283v3.743l5.7-5.354-5.7-5.354zm.808 1.868l3.711 3.487-3.71 3.487V9.329H7.888V7.723h4.283V5.039z"})),DataInputAssociation:W6e,DataOutput:({styles:t={},...n})=>He_createElement("svg",_Q({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M20.833 0H3.488v32H28V7.36L20.833 0zm-2.105 1.818v7.507h7.454v20.857H5.306V1.818h13.422zm1.818.493l5.06 5.196h-5.06V2.311zm-9.182.86v3.744H7.081v3.222h4.283v3.743l5.7-5.354-5.7-5.354z"})),DataOutputAssociation:W6e,DataObjectReference:({styles:t={},...n})=>He_createElement("svg",bQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M21.345 0H4v32h24.512V7.36L21.345 0zM19.24 1.818v7.507h7.454v20.857H5.818V1.818H19.24zm1.818.493l5.06 5.196h-5.06V2.311z"})),DataStoreReference:({styles:t={},...n})=>He_createElement("svg",EQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M16.008 1c-3.712 0-7.417.306-10.319.939-1.45.316-2.7.71-3.68 1.226C1.065 3.662.297 4.304.061 5.23a.823.823 0 00-.035.15L0 5.502l.017.084c-.012 7.41 0 14.46 0 22.08l.017.082c.203.985.995 1.656 1.975 2.172.98.517 2.23.91 3.68 1.226 2.902.633 6.607.94 10.319.94 3.711 0 7.416-.307 10.318-.94 1.451-.316 2.701-.71 3.68-1.226.98-.516 1.772-1.187 1.975-2.172l.017-.082V5.541a.825.825 0 000-.106v-.016l-.002-.013a.823.823 0 00-.046-.197c-.244-.916-1.007-1.55-1.943-2.044-.98-.516-2.23-.91-3.68-1.226C23.423 1.306 19.718 1 16.006 1zm0 1.646c3.62 0 7.245.308 9.968.901 1.36.297 2.497.67 3.263 1.074.612.323.932.643 1.063.882-.131.24-.451.56-1.063.882-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.901-1.361-.297-2.497-.67-3.264-1.074-.611-.322-.931-.642-1.062-.882.13-.24.451-.56 1.062-.882.767-.403 1.903-.777 3.264-1.074 2.723-.593 6.348-.9 9.968-.9zM1.664 7.647c.112.067.227.132.345.194.98.517 2.23.91 3.68 1.226 2.902.633 6.607.94 10.319.94 3.711 0 7.416-.307 10.318-.94 1.451-.316 2.701-.71 3.68-1.226.119-.062.234-.127.346-.194v1.93c-.08.245-.398.619-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.9-1.361-.298-2.497-.671-3.264-1.075-.714-.376-1.032-.75-1.112-.995v-1.93zm0 4.187c.112.067.227.132.345.195.98.516 2.23.91 3.68 1.226 2.902.632 6.607.938 10.319.938 3.711 0 7.416-.306 10.318-.938 1.451-.317 2.701-.71 3.68-1.226.119-.063.234-.128.346-.195v1.93c-.08.245-.398.619-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.9-1.361-.298-2.497-.67-3.264-1.075-.714-.376-1.032-.75-1.112-.995v-1.93zm0 4.188c.112.067.227.131.345.194.98.516 2.23.91 3.68 1.226 2.902.633 6.607.939 10.319.939 3.711 0 7.416-.306 10.318-.94 1.451-.316 2.701-.709 3.68-1.225.119-.063.234-.127.346-.194V27.47c-.08.245-.398.618-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.9-9.968.9-3.62 0-7.245-.306-9.968-.9-1.361-.297-2.497-.67-3.264-1.074-.714-.377-1.032-.75-1.112-.995V16.022z"})),DefaultFlow:({styles:t={},...n})=>He_createElement("svg",xQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M32 .06S20.33 6.014 14.403 8.798c1.27 1.16 2.451 2.41 3.676 3.616L6.84 23.804H.046v1.755h5.063L0 30.735 1.325 32l6.357-6.441h7.145v-1.756H9.414l9.99-10.123c1.228 1.223 2.45 2.453 3.677 3.676C26.247 11.12 32 .06 32 .06z"})),CancelEndEvent:({styles:t={},...n})=>He_createElement("svg",wQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-3.955 3.918L8.94 12.072l3.985 3.985-3.913 3.913 3.048 3.047 3.913-3.913 3.987 3.987 3.096-3.096-3.987-3.987 3.913-3.913-3.047-3.048-3.913 3.913-3.985-3.985z"})),CompensateEndEvent:({styles:t={},...n})=>He_createElement("svg",CQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-.56 5.744l-7.407 5.23 7.408 5.234v-5.057c2.384 1.687 4.771 3.371 7.157 5.057V10.801l-7.157 5.054v-5.054z"})),ErrorEndEvent:({styles:t={},...n})=>He_createElement("svg",SQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm6.132 4.166l-3.633 7.363-4.516-5.874-4.102 12.131 4.599-5.91 4.743 5.427 2.909-13.137z"})),EscalationEndEvent:({styles:t={},...n})=>He_createElement("svg",OQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 3.9c-1.672 4.653-2.733 9.5-4.406 14.153 1.535-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.497-4.71-2.91-9.445-4.406-14.155z"})),LinkEndEvent:({styles:t={},...n})=>He_createElement("svg",TQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.532 18.532 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm1.78 4.065v3.555H9.779v6.713h7.994v3.554l5.828-6.91-5.828-6.912z"})),MessageEndEvent:({styles:t={},...n})=>He_createElement("svg",PQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.532 18.532 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-5.91 5.448l6.041 4.9 6.04-4.9H10.084zm-1.34 1.137v9.92h14.513v-9.718l-7.132 5.786-7.381-5.988z"})),MultipleEndEvent:({styles:t={},...n})=>He_createElement("svg",DQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.529 18.529 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.011 3.039l-7.619 5.53 2.91 8.95h9.418l2.91-8.95-7.619-5.53z"})),EndEvent:({styles:t={},...n})=>He_createElement("svg",kQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.84.042C8.654-.01 1.913 5.437.4 12.454-1.057 18.62 1.554 25.495 6.784 29.09c5.076 3.636 12.31 3.92 17.59.544 5.309-3.251 8.435-9.744 7.445-15.921C30.91 7.307 25.795 1.738 19.442.422a16.064 16.064 0 00-3.602-.38zm.382 5.01c5.28-.017 10.13 4.353 10.669 9.61.687 5.025-2.552 10.281-7.423 11.792-4.754 1.617-10.486-.447-12.962-4.856-2.74-4.575-1.574-11.094 2.768-14.27a11.05 11.05 0 016.948-2.276z"})),SignalEndEvent:({styles:t={},...n})=>He_createElement("svg",MQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 3.492c-2.261 4.07-4.532 8.136-6.797 12.204h13.595L15.999 8.55z"})),TerminateEndEvent:({styles:t={},...n})=>He_createElement("svg",AQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 2.859c-5.264-.2-9.495 5.551-7.755 10.516 1.366 5.085 8.108 7.436 12.339 4.301 4.455-2.807 4.708-9.943.462-13.058A8.128 8.128 0 0016 7.915z"})),EventSubProcess:({styles:t={},...n})=>He_createElement("svg",IQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M7.295 4.78h1.779V3.003h-1.78V4.78zm3.558 0h1.779V3.003h-1.78V4.78zm3.557 0h1.78V3.003h-1.78V4.78zm3.558 0h1.78V3.003h-1.78V4.78zm3.558 0h1.779V3.003h-1.779V4.78zm3.558 0c.55.014 1.106-.034 1.654.045l.245-1.762c-.629-.096-1.266-.05-1.9-.061V4.78zM5.732 3.004a5.933 5.933 0 00-.915.093c.111.582.226 1.164.315 1.75.358-.101.947.098.746-.483-.096-.382.164-1.208-.146-1.36zm22.372 2.281c.427.234.812.547 1.13.915.42-.4 1.002-.777 1.33-1.18a5.863 5.863 0 00-1.593-1.289l-.867 1.554zm-25.27-1.44c-.587.354-1.11.811-1.539 1.345.47.333.96.86 1.417 1.077.299-.362.66-.673 1.065-.913-.328-.493-.55-1.055-.944-1.509zM30.515 7.26c-.563.046-.557.342-.378.784.154.25-.097.862.25.85.525-.023 1.14.043 1.612-.032a5.891 5.891 0 00-.362-2.027l-1.122.425zM.268 7.114A6.042 6.042 0 000 9.052h1.78c-.013-.5.047-1.003.208-1.478L.296 7.027l-.026.079-.002.008zM30.22 12.45H32v-1.779h-1.779v1.779zm-30.22.16h1.78v-1.779H0v1.78zm30.22 3.398H32v-1.78h-1.779v1.78zm-30.22.16h1.78v-1.779H0v1.779zm30.22 3.398H32v-1.78h-1.779v1.78zm-30.22.16h1.78v-1.78H0v1.78zm30.22 3.397H32v-1.779h-1.779v1.78zm-30.22.16h1.78v-1.778H0v1.778zm30.137 1.47a4.059 4.059 0 01-.522 1.32c.506.283 1.046.715 1.53.908a5.836 5.836 0 00.744-1.918c-.576-.094-1.209-.264-1.752-.31zm-29.984.51c.157.676.435 1.325.82 1.904l1.486-.977a4.065 4.065 0 01-.577-1.347l-1.73.42zm28.427 1.943c-.371.277-.79.49-1.234.627l.548 1.693a5.84 5.84 0 001.835-.96l-1.082-1.412-.066.05-.001.002zm-26.164 1.47c.567.413 1.21.722 1.886.907.14-.569.343-1.175.444-1.722a4.062 4.062 0 01-1.283-.624l-1.047 1.438zm3.88 1.119h1.779v-1.78h-1.78v1.78zm3.55 0h1.787v-1.78H9.846v1.78zm3.565 0h1.78v-1.78h-1.78v1.78zm3.558 0h1.78v-1.78h-1.78v1.78zm3.451 0h1.743v-1.78h-1.743v1.78zm3.665 0h1.779v-1.78h-1.78v1.78zm-1.922-.545V16.776H9.846V29.25h12.318zM10.967 17.905h10.068V27.97H10.967V17.905zm1.336 3.998v1.711h7.396v-1.711h-7.396z",opacity:".97"})),ComplexGateway:({styles:t={},...n})=>He_createElement("svg",RQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm-.327 6.79v.007l-.145.027-.118.08-.083.123-.028.145v4.954L11.793 10.8l-.125-.08-.14-.029-.144.027-.122.082-.46.46-.085.125-.026.142.028.14.08.125 3.505 3.505H9.347l-.001-.002-.145.032-.118.08-.083.122-.028.146v.652l.029.147.082.119.12.08.144.032h4.956L10.8 20.207v-.001l-.084.124-.026.142.028.14.08.124.46.461.126.082.14.029.143-.027.124-.084L15.3 17.69v4.964-.001l.028.147.082.12.12.08.144.031h.652l.148-.03.118-.08.083-.12.028-.146v-4.962l3.505 3.505.126.082.14.027.142-.027.124-.084.461-.46.083-.123s.028-.144.027-.146l-.028-.14-.082-.126-3.496-3.496h4.948l.148-.03.119-.08.082-.12.028-.147v-.652l-.028-.145-.083-.122-.119-.08s-.147-.033-.147-.031h-4.964l3.512-3.512.082-.122.029-.144-.028-.14-.084-.124-.46-.461-.123-.082-.14-.027-.145.027-.122.082-3.507 3.507V9.348l-.028-.146-.082-.122-.12-.08-.147-.029h-.652z"})),EventBasedGateway:({styles:t={},...n})=>He_createElement("svg",NQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M16 0a1.29 1.29 0 00-.918.373L.371 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.915.372A1.294 1.294 0 0016 0zm-.002 2.181l13.821 13.821-13.821 13.821-13.821-13.82L15.998 2.18zm0 5.876l-.254.185-7.377 5.355 2.915 8.964h9.433l2.915-8.964-7.631-5.54zm0 1.07l6.614 4.8-2.526 7.769h-8.175l-2.526-7.768 6.614-4.802z"})),ExclusiveGateway:({styles:t={},...n})=>He_createElement("svg",$Q({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M16 0a1.29 1.29 0 00-.918.373L.371 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.915.372A1.294 1.294 0 0016 0zm-.002 2.181l13.821 13.821-13.821 13.821-13.821-13.82L15.998 2.18zm-5.162 7.69l-.166.032-.141.096-.532.532s-.097.142-.097.144l-.03.164.032.162.093.144 4.857 4.858-4.855 4.855v-.001L9.9 21l-.03.164.032.162s.093.142.093.144l.531.532.146.095.162.032.164-.03.144-.097 4.855-4.856 4.857 4.857.145.095.162.032.164-.03.144-.097.531-.532.095-.14.033-.168-.033-.162-.095-.146L17.144 16 22 11.144l.095-.14.033-.166-.033-.163-.097-.144-.532-.532-.14-.095-.163-.032-.166.032-.141.095L16 14.855l-4.858-4.858v-.002l-.144-.092-.162-.032z"})),Gateway:({styles:t={},...n})=>He_createElement("svg",LQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.373a1.313 1.313 0 00-1.833 0L.373 15.084zm1.806.918L16 2.182l13.821 13.82L16 29.823 2.179 16.003z"})),InclusiveGateway:({styles:t={},...n})=>He_createElement("svg",FQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm0 6.379a7.447 7.447 0 00-7.44 7.441A7.447 7.447 0 0016 23.443 7.447 7.447 0 0023.443 16a7.447 7.447 0 00-7.441-7.441zm0 .825a6.61 6.61 0 016.617 6.616A6.61 6.61 0 0116 22.618 6.61 6.61 0 019.385 16 6.61 6.61 0 0116 9.385z"})),ParallelGateway:({styles:t={},...n})=>He_createElement("svg",BQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm-.377 5.708l-.168.032-.136.092-.096.14-.032.168v6.868h-6.87l-.002-.002-.166.037-.137.092v-.002l-.095.141-.033.167v.753s.032.169.034.17l.094.138.138.092.167.036h6.87v6.867l-.001-.001.033.17.095.138.138.092s.166.035.167.037h.752l.17-.036.137-.092.095-.137.033-.17v-6.867h6.868l.17-.035.137-.092.095-.137.033-.17v-.753s-.033-.165-.032-.167l-.096-.14-.138-.093s-.17-.037-.17-.035H16.81V8.323l-.033-.168-.094-.14-.138-.092-.17-.034h-.752z"})),Group:({styles:t={},...n})=>He_createElement("svg",VQ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M6.34.016c-2.333.025-4.684 1.77-5.29 4.17C.608 5.848.88 7.608.804 9.314v2.922h2.041c.038-2.332-.076-4.673.062-7C3.14 3.355 4.869 1.938 6.643 2.04h8.956V.009c-3.086 0-6.173-.02-9.258 0v.007zm13.094 2.023h1.92V.009h-1.92v2.03zm5.756 0c1.265-.069 2.66.045 3.602 1.055 1.036.983 1.201 2.523 1.122 3.91v6.313h2.078c-.03-2.677.062-5.36-.047-8.032-.17-2.743-2.62-5.111-5.215-5.236-.511-.064-1.027-.02-1.54-.033v2.023zM.803 18.319h2.041v-2.026H.804v2.026zm29.11 1.084h2.08v-2.03h-2.08v2.03zM.804 26.148c.004 2.218 1.393 4.366 3.313 5.28 1.728.853 3.681.448 5.521.544.43-.112 1.29.231 1.435-.183v-1.847c-1.788-.043-3.584.094-5.365-.082-1.67-.354-2.919-2.048-2.863-3.844v-3.644H.804v3.777zm29.11-.068c.04 1.961-1.508 3.787-3.381 3.842-1.954.06-3.914.02-5.87.026v2.03c2.118-.042 4.242.08 6.355-.063 2.524-.264 4.818-2.644 4.94-5.323.08-1.039.014-2.085.035-3.126h-2.078v2.613zm-15.006 5.898h1.92v-2.03h-1.92v2.03z"})),CancelIntermediateCatchEvent:G6e,CompensateIntermediateCatchEvent:K6e,ConditionalIntermediateCatchEvent:Y6e,ErrorIntermediateCatchEvent:X6e,EscalationIntermediateCatchEvent:Q6e,LinkIntermediateCatchEvent:Z6e,MessageIntermediateCatchEvent:J6e,MultipleIntermediateCatchEvent:eOe,ConditionalIntermediateCatchEventNonInterrupting:tOe,EscalationIntermediateCatchEventNonInterrupting:nOe,MessageIntermediateCatchEventNonInterrupting:rOe,MultipleIntermediateCatchEventNonInterrupting:iOe,ParallelIntermediateCatchEventNonInterrupting:sOe,SignalIntermediateCatchEventNonInterrupting:oOe,TimerIntermediateCatchEventNonInterrupting:aOe,ParallelMultipleIntermediateCatchEvent:lOe,SignalIntermediateCatchEvent:cOe,TimerIntermediateCatchEvent:uOe,IntermediateThrowEvent:dOe,CompensateIntermediateThrowEvent:({styles:t={},...n})=>He_createElement("svg",oZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm-.56 5.772l-7.408 5.231 7.409 5.234v-5.057c2.385 1.687 4.771 3.371 7.157 5.057V10.747l-7.157 5.055v-5.055z"})),EscalationIntermediateThrowEvent:({styles:t={},...n})=>He_createElement("svg",aZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.927c-1.672 4.654-2.734 9.502-4.406 14.155 1.534-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.496-4.71-2.91-9.446-4.406-14.156z"})),LinkIntermediateThrowEvent:({styles:t={},...n})=>He_createElement("svg",lZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm1.78 4.093v3.555H9.785v6.714h7.994v3.554l5.829-6.911-5.83-6.912z"})),MessageIntermediateThrowEvent:({styles:t={},...n})=>He_createElement("svg",cZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm-5.91 5.475l6.04 4.901 6.042-4.9H10.088zm-1.341 1.138v9.921h14.514V11.79l-7.132 5.787-7.382-5.99z"})),MultipleIntermediateThrowEvent:({styles:t={},...n})=>He_createElement("svg",uZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.073l-7.62 5.532 2.91 8.95h9.42l2.91-8.95-7.62-5.532z"})),SignalIntermediateThrowEvent:({styles:t={},...n})=>He_createElement("svg",dZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.52c-2.261 4.07-4.533 8.136-6.798 12.205h13.596L16.005 8.495z"})),Lane:({styles:t={},...n})=>He_createElement("svg",pZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M0 7v18.62h32V7H0zm1.655 17.056V8.684h28.62v15.372H1.656z"})),ManualTask:({styles:t={},...n})=>He_createElement("svg",fZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm4.43 1.328c-.222.005-.43.09-.606.203-.985.638-4.356 2.977-5.096 3.486-.67.46-1.12 1.153-1.38 1.974-.27.858-.235 1.793-.232 2.576.002.59.016 1.104.17 1.727.22.908.634 1.63 1.23 2.118.597.49 1.363.732 2.23.734 3.038.012 6.078.016 9.119 0 .327-.002.645-.127.848-.37.204-.241.287-.56.291-.914a1.732 1.732 0 00-.097-.625h.327c.335 0 .641-.11.852-.316.21-.206.317-.475.374-.754a1.783 1.783 0 00-.126-1.143 1.18 1.18 0 00.877-.521c.196-.306.257-.666.258-1.025.001-.375-.088-.738-.293-1.033a1.179 1.179 0 00-.958-.512h-.478c.108-.237.156-.505.155-.782-.003-.373-.098-.721-.316-.99a1.21 1.21 0 00-.943-.43c-2.273-.004-4.236.018-6.412.012l-.19-.001c.102-.104.202-.205.312-.314.337-.336.662-.652.83-.869.4-.516.46-1.215.123-1.729-.178-.272-.439-.456-.72-.494a.93.93 0 00-.148-.008zm.029.728l.022.001c.055.008.115.027.209.172.132.201.126.606-.09.884-.079.102-.431.465-.767.8-.337.334-.657.643-.815.836-.153.186-.096.338-.056.435.04.096.085.212.298.263.063.014.066.01.086.012l.066.003c2.429.027 4.986-.004 7.223-.003.194 0 .293.056.379.162.086.105.151.286.153.533 0 .257-.065.467-.155.59-.09.124-.183.182-.37.183-1.706-.001-3.411-.005-5.117-.009v.731c2.23.004 4.461.01 6.692.012.17 0 .265.06.361.2.096.138.164.364.163.615 0 .268-.058.501-.143.634-.085.132-.162.193-.385.195-2.32-.001-4.554-.006-6.688-.003v.73c1.905 0 3.809.003 5.713.001.194.005.316.09.416.26.102.173.151.442.093.728-.04.193-.102.313-.17.38-.067.065-.148.108-.343.108h-5.71l.002.734c1.445 0 2.89-.01 4.334-.001.162 0 .232.041.297.123.064.081.123.238.12.488-.003.244-.061.385-.12.455-.06.07-.127.11-.296.11-3.037.016-6.076.012-9.113 0-.735-.002-1.316-.196-1.77-.568-.454-.372-.793-.935-.986-1.728-.134-.546-.146-.978-.148-1.558-.003-.796-.018-1.664.199-2.354.222-.705.582-1.24 1.096-1.593.75-.515 4.14-2.866 5.079-3.474a.504.504 0 01.241-.087z"})),MessageFlow:({styles:t={},...n})=>He_createElement("svg",hZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M4.073 26.607l1.295 1.296L1.325 32l-.662-.633L0 30.735l4.073-4.128zm6.953-7.046l1.296 1.296L1.325 32l7.555-7.656-1.295-1.296 1.455-1.474 1.986-2.013zM32 .06s-2.699 5.189-5.417 10.462l-.326.633c-1.14 2.214-2.265 4.407-3.176 6.2-1.228-1.222-2.449-2.452-3.676-3.675l-3.57 3.618-1.297-1.296 3.541-3.588c-.98-.964-1.932-1.958-2.923-2.91l-.753-.706c2.68-1.258 6.533-3.165 9.95-4.876l.617-.309C28.838 1.673 32 .06 32 .06zm-4.126 4.06l-.015.007-.115.057-.048.024-.115.057L17.7 9.172l5.017 4.948 5.157-10z"})),Participant:({styles:t={},...n})=>He_createElement("svg",mZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M0 5v22.069h32V5H0zm30.276 1.684v18.82H6.62V6.684h23.655zm-28.62 0h3.31v18.82h-3.31V6.684z"})),Process:({styles:t={},...n})=>He_createElement("svg",gZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{fillRule:"evenodd",d:"M16.177 0l.137.002c.452.009.9.037 1.342.082.346.036.62.303.68.646l.437 2.536c.055.319.296.57.608.655.986.269 1.923.653 2.796 1.14.28.155.624.145.885-.039l2.083-1.47a.775.775 0 01.937.022c.86.699 1.645 1.484 2.343 2.343.22.27.223.653.023.937l-1.439 2.038a.833.833 0 00-.031.896c.512.889.92 1.846 1.204 2.855a.833.833 0 00.653.601l2.435.42c.342.059.61.333.645.679a15.928 15.928 0 01.08 2.064l-.003.114c-.012.382-.038.76-.077 1.134a.775.775 0 01-.645.68l-2.396.412a.835.835 0 00-.656.61 12.511 12.511 0 01-1.2 2.917.832.832 0 00.034.892l1.396 1.978c.2.284.196.667-.023.936a16.104 16.104 0 01-2.343 2.343.775.775 0 01-.937.023l-1.99-1.404a.833.833 0 00-.88-.026c-.907.516-1.886.922-2.916 1.2a.833.833 0 00-.61.656l-.414 2.396a.775.775 0 01-.679.646 16.096 16.096 0 01-3.312 0 .775.775 0 01-.679-.646l-.423-2.452a.834.834 0 00-.598-.636 12.474 12.474 0 01-1.468-.514 12.49 12.49 0 01-1.417-.68.833.833 0 00-.878.03l-2.026 1.43a.775.775 0 01-.937-.023 16.069 16.069 0 01-2.342-2.342.774.774 0 01-.024-.936l1.402-1.986a.833.833 0 00.032-.896 12.507 12.507 0 01-1.214-2.911.833.833 0 00-.655-.606l-2.386-.412a.775.775 0 01-.646-.678 16.097 16.097 0 010-3.314.775.775 0 01.646-.678l2.386-.412a.833.833 0 00.655-.606 12.507 12.507 0 011.214-2.911.833.833 0 00-.032-.896L3.552 6.853a.774.774 0 01.023-.936 16.091 16.091 0 012.343-2.343.775.775 0 01.937-.023l2.03 1.433c.26.177.6.182.874.028.915-.512 1.88-.9 2.87-1.167a.833.833 0 00.612-.656l.424-2.46a.775.775 0 01.679-.645C14.845.032 15.348.004 15.85 0h.326zM16 6.4c-5.302 0-9.6 4.297-9.6 9.599 0 5.302 4.298 9.6 9.6 9.6s9.6-4.298 9.6-9.6-4.298-9.6-9.6-9.6zm-3 4.283c0-1.425 1.637-2.203 2.715-1.29l5.69 4.815c.794.672.794 1.91 0 2.583l-5.69 4.815c-1.078.913-2.715.134-2.715-1.29z"})),ReceiveTask:({styles:t={},...n})=>He_createElement("svg",yZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zM5.23 7.764v11.577h17.55V7.764H5.23zm1.816.758h13.917l-6.959 4.577-6.958-4.577zm-1.06.21l8.018 5.274 8.018-5.275v9.853H5.987V8.73z"})),ScriptTask:({styles:t={},...n})=>He_createElement("svg",vZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm2.99 3.077l-.077.045-.026.015c-1.09.646-1.84 1.239-2.336 1.818-.496.579-.735 1.162-.742 1.725-.014 1.119.812 1.958 1.544 2.708.732.75 1.385 1.456 1.446 2.041.032.298-.039.598-.364 1.008-.324.408-.911.897-1.85 1.445l-1.388.808h8.56l.101-.059c.996-.58 1.667-1.116 2.094-1.655.429-.54.603-1.107.547-1.638-.11-1.052-.967-1.818-1.688-2.556-.721-.739-1.306-1.436-1.298-2.092.004-.331.132-.7.535-1.171.402-.47 1.08-1.02 2.119-1.636l1.362-.806h-8.54zm.241.867h5.271a6.83 6.83 0 00-1.113 1.01c-.496.58-.736 1.163-.743 1.726-.014 1.119.812 1.958 1.544 2.708.732.75 1.385 1.456 1.446 2.041.032.298-.039.598-.364 1.008-.312.393-.872.862-1.753 1.386H8.728c.367-.286.658-.566.88-.847.43-.54.604-1.107.548-1.638-.11-1.052-.968-1.818-1.688-2.556-.721-.739-1.306-1.435-1.298-2.092.004-.331.132-.7.534-1.171.389-.454 1.04-.984 2.021-1.575zm-1.233 1.48v.4h4.12v-.4h-4.12zm-.154 2.158v.4H12.6v-.4H8.34zm1.931 2.158v.4h4.126v-.4H10.27zm.59 2.158v.4h4.276v-.4h-4.276z"})),SendTask:({styles:t={},...n})=>He_createElement("svg",bZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm-1.38 3.16l8.332 4.717L21.78 8.16H5.114zm.021 1.745v9.309H21.8V9.905l-8.353 4.655-8.31-4.655z"})),ServiceTask:({styles:t={},...n})=>He_createElement("svg",_Z({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm1.22 1.681V7.84c-.329.093-.63.223-.914.382l-.83-.82-1.554 1.561.83.82c-.16.288-.285.594-.372.911l-1.177.002v2.2l1.189-.004c.109.431.345.819.58 1.165v-1.898l-1.038.004v-.737l1.034-.002.058-.294c.084-.429.252-.838.493-1.203l.165-.25-.727-.718.523-.526.728.719.247-.165c.379-.25.793-.417 1.206-.505l.291-.06-.002-1.01h.75L9.19 8.417H11.16c-.185-.221-.951-.508-1.237-.588L9.93 6.68H7.713zm2.078 2.105l.003 1.158a4.19 4.19 0 00-.915.383l-.83-.821-1.553 1.562.83.82c-.16.288-.286.593-.373.91l-1.176.003v2.2l1.188-.004c.094.326.224.624.383.905l-.85.847 1.57 1.543.847-.843c.29.161.599.286.919.373v1.198c.756.006 1.56.003 2.206.003V17.81a4.19 4.19 0 00.915-.383l.847.835 1.554-1.56-.848-.836c.16-.288.286-.594.373-.912l1.152-.007V12.75l-1.165.007a4.09 4.09 0 00-.382-.905l.805-.807-1.57-1.546-.804.806a4.16 4.16 0 00-.915-.372l.007-1.147H9.792zm.732.73h.751l-.006 1.005.297.058c.43.085.844.252 1.21.492l.25.162.701-.704.528.52-.702.704.169.25c.248.374.412.779.505 1.196l.061.292 1.016-.006v.737l-1.01.006-.058.292c-.085.43-.252.838-.494 1.205l-.165.25.744.733-.523.525-.743-.734-.248.165c-.378.247-.789.418-1.203.503l-.294.058v1.067h-.745v-1.059l-.295-.057a3.395 3.395 0 01-1.21-.492l-.248-.162-.747.743-.528-.52.747-.744-.17-.25a3.546 3.546 0 01-.506-1.196l-.06-.291-1.04.004v-.738l1.034-.002.058-.294c.085-.428.252-.837.493-1.203l.165-.25-.726-.718.522-.526.728.72.248-.166a3.546 3.546 0 011.205-.504l.292-.06-.003-1.01zm.388 2.685a1.65 1.65 0 00-1.645 1.645c0 .904.74 1.645 1.645 1.645a1.65 1.65 0 001.645-1.645 1.65 1.65 0 00-1.645-1.645zm0 .73a.91.91 0 01.915.915.91.91 0 01-.915.914.91.91 0 01-.915-.914.91.91 0 01.915-.915z"})),CompensateStartEvent:({styles:t={},...n})=>He_createElement("svg",EZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm-.566 9.03l-7.415 5.235 7.415 5.238v-5.062c2.386 1.689 4.775 3.375 7.163 5.062V10.761l-7.163 5.058v-5.058zm-.866 1.666v7.13L9.51 15.993l5.052-3.565zm7.166 0v7.137l-5.052-3.568 5.052-3.569z"})),ConditionalStartEvent:({styles:t={},...n})=>He_createElement("svg",xZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M16 0C7.174 0 0 7.174 0 16s7.174 16 16 16 16-7.174 16-16S24.826 0 16 0zm0 1.73c7.892 0 14.27 6.378 14.27 14.27 0 7.891-6.379 14.27-14.27 14.27S1.73 23.891 1.73 16C1.73 8.108 8.108 1.73 16 1.73zm-5.362 7.523v13.493h10.724V9.253H10.638zm.863.866h8.995V21.88H11.501V10.12zm.928 1.324v.863h7.139v-.863h-7.139zm0 2.605v.867h7.139v-.867h-7.139zm0 3.01v.864h7.139v-.863h-7.139zm0 2.72v.863h7.139v-.863h-7.139z"})),ErrorStartEvent:({styles:t={},...n})=>He_createElement("svg",wZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.995.005C9.705-.08 3.643 3.968 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994.005zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626-4.814-3.838-6.538-10.939-4.067-16.57 2.14-5.205 7.515-8.774 13.147-8.708zm6.13 7.45l-3.635 7.37-4.52-5.88c-1.37 4.048-2.738 8.095-4.106 12.143l4.603-5.917 4.748 5.433 2.91-13.149zm-7.754 3.889l4.299 5.449 1.073-2.39-1.028 4.135-4.387-5.16-1.78 2.75 1.823-4.784z"})),EscalationStartEvent:({styles:t={},...n})=>He_createElement("svg",CZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm0 7.183c-1.674 4.658-2.736 9.509-4.41 14.166 1.535-1.526 2.874-3.236 4.41-4.763l4.41 4.763c-1.499-4.713-2.913-9.453-4.41-14.166zm.032 2.931c.822 2.588 1.598 5.19 2.42 7.778l-2.42-2.615c-.683.598-2.455 2.887-2.34 2.39.871-2.489 1.448-5.07 2.34-7.553z"})),MessageStartEvent:({styles:t={},...n})=>He_createElement("svg",SZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm-7.257 8.732v11.069h14.513v-11.07H8.738zm3.224 1.73h8.064c-1.428.878-2.857 2.807-4.285 3.018l-3.779-3.019zm9.562 1.017v6.593H10.465V13.21l5.528 4.417 5.53-4.418z"})),MultipleStartEvent:({styles:t={},...n})=>He_createElement("svg",OZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm0 6.328l-7.626 5.536c.97 2.986 1.942 5.971 2.913 8.957h9.426l2.912-8.957-7.625-5.536zm0 1.068l6.609 4.798-2.525 7.763H11.91l-2.524-7.763 6.609-4.798z"})),ConditionalStartEventNonInterrupting:({styles:t={},...n})=>He_createElement("svg",TZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M10.632 9.189V22.68h10.723V9.189H10.632zm.862.865h8.994v11.76H11.494v-11.76zm.928 1.324v.863h7.138v-.863h-7.138zm0 2.605v.866h7.138v-.866h-7.138zm0 3.01v.863h7.138v-.863h-7.138zm0 2.72v.862h7.138v-.863h-7.138zM16.12 0h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136-.109-.118-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006l-.216-.042-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006l-.006-.001-.22-.017-.005-.001h-.006L17.06.03h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012L16.132 0h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zM6.377 3.21l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1v.003l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114v-.008l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V15.95l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z"})),EscalationStartEventNonInterrupting:({styles:t={},...n})=>He_createElement("svg",PZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M16 9.209c-1.674 4.655-2.735 9.504-4.408 14.16 1.534-1.526 2.873-3.235 4.407-4.761l4.408 4.76c-1.497-4.71-2.91-9.448-4.408-14.16zm.031 2.93c.822 2.586 1.598 5.187 2.42 7.774l-2.42-2.614c-.682.598-2.453 2.886-2.34 2.389.873-2.488 1.45-5.068 2.34-7.55zM16.132.364c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.564c-.734.078-1.196.762-1.735 1.206C3.552 6.02 2.55 7.511 1.681 9.053c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786A15.932 15.932 0 011.728 16a.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"})),MessageStartEventNonInterrupting:({styles:t={},...n})=>He_createElement("svg",DZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M8.746 10.393v11.064h14.506V10.393H8.746zm3.223 1.728h8.06c-1.428.879-2.856 2.807-4.283 3.018l-3.777-3.018zm9.557 1.018v6.59H10.473v-6.59l5.525 4.416 5.528-4.416zM16.132 0c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.2c-.734.078-1.196.762-1.735 1.206C3.552 5.656 2.55 7.147 1.681 8.69c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786a15.932 15.932 0 01-1.672-6.874.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"})),MultipleStartEventNonInterrupting:({styles:t={},...n})=>He_createElement("svg",kZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M23.621 13.524L16 7.99l-7.622 5.534 2.911 8.952h9.422l2.911-8.952zm-1.016.33l-2.523 7.759h-8.165l-2.524-7.76L16 9.059l6.606 4.796zM16.132 0c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.2c-.734.078-1.196.762-1.735 1.206C3.552 5.656 2.55 7.147 1.681 8.69c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786a15.932 15.932 0 01-1.672-6.874.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"})),ParallelMultipleStartEventNonInterrupting:({styles:t={},...n})=>He_createElement("svg",MZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M13.503 9.016v4.428H9.075v4.98h4.428v4.428h4.98v-4.427h4.428v-4.981h-4.427V9.016h-4.981zm.83.83h3.32v4.428h4.428v3.32h-4.428v4.428h-3.32v-4.454H9.905v-3.294h4.428V9.846zM16.12 0h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136-.109-.118-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006l-.216-.042-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006l-.006-.001-.22-.017-.005-.001h-.006L17.06.03h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012L16.132 0h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zM6.377 3.21l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1v.003l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114v-.008l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V15.95l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z",opacity:".98"})),SignalStartEventNonInterrupting:({styles:t={},...n})=>He_createElement("svg",AZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M16.007 8.82L9.21 21.022h13.596L16.007 8.82zm0 1.775l5.328 9.563H10.68l5.327-9.563zM16.14.386c-1.571.236-4.195-.284-4.9 1.381.619 1.703 2.745.069 4.085.365 1.421-.13 2.84.2 4.235.259C21.27.784 18.19.344 17 .413a20.456 20.456 0 00-.86-.027zM25 3.162c-2.19.694.401 2.26 1.181 3.094 1.083 1.152 1.954 2.484 2.715 3.864 1.48 1.005 1.845-1.26.81-2.03-1.158-1.897-2.613-3.704-4.513-4.89l-.192-.038zm-18.438.423c-1.793.712-2.909 2.548-4.01 4.061-.773.814-2.211 3.653.005 3.211 1.123-1.469 1.87-3.306 3.267-4.614.664-.7 2.73-2.013.738-2.658zm24.57 11.072c-1.659.435-.468 2.667-.99 3.895a13.427 13.427 0 01-1.497 4.435c-.23 1.659 1.991 1.165 2.018-.199a14.277 14.277 0 001.254-7.552.865.865 0 00-.785-.579zm-30.18.666c-1.677.386-.633 2.667-.608 3.876.371 1.623.792 3.35 1.79 4.696 2.382.321.571-2.338.292-3.492a15.92 15.92 0 01-.684-4.39.877.877 0 00-.79-.69zm24.558 11.81c-1.755.865-3.303 2.266-5.274 2.765-1.162-.016-3.074 1.271-1.331 2.102 2.66-.447 5.163-1.733 7.236-3.445.472-.506.06-1.432-.631-1.421zm-19.151.043c-2.004.786.416 2.405 1.43 2.913 1.608.904 3.379 1.636 5.208 1.877 1.77-.804-.228-2.094-1.357-2.073-1.75-.537-3.403-1.396-4.798-2.586l-.227-.104-.256-.027z"})),TimerStartEventNonInterrupting:({styles:t={},...n})=>He_createElement("svg",IZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.991 8.7c-3.018-.042-5.92 1.925-7.03 4.725-1.138 2.695-.509 6.011 1.537 8.102 1.99 2.142 5.267 2.93 8.013 1.927 2.877-.98 4.99-3.826 5.067-6.87.153-2.956-1.624-5.88-4.299-7.135a7.551 7.551 0 00-3.288-.75zm0 1.383c2.758-.052 5.372 1.972 6.014 4.654.704 2.578-.482 5.516-2.79 6.867-2.358 1.48-5.682 1.085-7.617-.919-2.043-1.97-2.407-5.38-.84-7.743 1.11-1.764 3.149-2.88 5.233-2.86zm1.962 1.764l-2.074 3.762c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.182l1.993-3.614-.757-.418zM16.12.358h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136L19.823.9l-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006L19.135.64l-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006L17.512.42l-.22-.017-.005-.001h-.006l-.22-.015h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012l-.221-.003h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zm-18.458.426l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1V9.5l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114V16.5l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V16.308l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z"})),CancelBoundaryEvent:G6e,CompensateBoundaryEvent:K6e,ConditionalBoundaryEvent:Y6e,ErrorBoundaryEvent:X6e,EscalationBoundaryEvent:Q6e,LinkBoundaryEvent:Z6e,MessageBoundaryEvent:J6e,MultipleBoundaryEvent:eOe,BoundaryEvent:dOe,ConditionalBoundaryEventNonInterrupting:tOe,EscalationBoundaryEventNonInterrupting:nOe,MessageBoundaryEventNonInterrupting:rOe,MultipleBoundaryEventNonInterrupting:iOe,ParallelBoundaryEventNonInterrupting:sOe,SignalBoundaryEventNonInterrupting:oOe,TimerBoundaryEventNonInterrupting:aOe,ParallelMultipleBoundaryEvent:lOe,SignalBoundaryEvent:cOe,TimerBoundaryEvent:uOe,StartEvent:({styles:t={},...n})=>He_createElement("svg",RZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.847.004C9.61-.016 3.624 4.014 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.101 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.268.403-6.228-3.26-12.441-8.87-15.154A15.924 15.924 0 0015.846.004zm.439 1.729c6.105.033 11.856 4.45 13.435 10.359 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.625-4.814-3.84-6.538-10.94-4.067-16.57 2.14-5.206 7.515-8.775 13.147-8.71.097-.001.194-.002.29-.001z"})),ParallelMultipleStartEvent:({styles:t={},...n})=>He_createElement("svg",NZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.847 0C9.61-.02 3.624 4.01 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.101 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.268.403-6.228-3.26-12.441-8.87-15.154A15.924 15.924 0 0015.846 0zm.439 1.729c6.105.033 11.856 4.45 13.435 10.359 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.625C2.101 23.17.377 16.07 2.848 10.44c2.134-5.2 7.522-8.78 13.147-8.71.097-.001.194-.002.29-.001zM13.504 9.08v4.427H9.077v4.98h4.427v4.427h4.98v-4.427h4.428v-4.98h-4.427V9.08h-4.98zm.83.83h3.32v4.427h4.428v3.32h-4.427v4.427h-3.32v-4.453H9.906v-3.294h4.427V9.91z"})),SignalStartEvent:({styles:t={},...n})=>He_createElement("svg",LZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M15.995.005C9.705-.08 3.643 3.968 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994.005zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626-4.814-3.838-6.538-10.939-4.067-16.57 2.14-5.205 7.515-8.774 13.147-8.708zm0 6.776L9.19 20.724H22.8L15.995 8.511zm0 1.777l5.332 9.572H10.662l5.333-9.572z"})),TimerStartEvent:({styles:t={},...n})=>He_createElement("svg",FZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M16 0C7.174 0 0 7.174 0 16s7.174 16 16 16 16-7.174 16-16S24.826 0 16 0zm0 1.73c7.892 0 14.27 6.378 14.27 14.27 0 7.891-6.379 14.27-14.27 14.27S1.73 23.891 1.73 16C1.73 8.108 8.108 1.73 16 1.73zm-.143 6.676c-2.967.02-5.797 1.97-6.89 4.727-1.138 2.695-.51 6.012 1.537 8.102 1.99 2.142 5.268 2.932 8.014 1.928 2.878-.98 4.992-3.827 5.068-6.87.153-2.957-1.624-5.881-4.3-7.137a7.552 7.552 0 00-3.43-.75zm.27 1.383c2.71.012 5.254 2.015 5.886 4.656.704 2.577-.482 5.517-2.791 6.867-2.358 1.48-5.682 1.085-7.618-.918-2.043-1.971-2.407-5.381-.84-7.745 1.11-1.763 3.15-2.88 5.234-2.86h.13zm1.833 1.765l-2.074 3.763c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.181l1.992-3.615-.757-.418z"})),CollapsedSubProcess:pOe,CollapsedAdHocSubProcess:pOe,ExpandedSubProcess:fOe,ExpandedAdHocSubProcess:fOe,Task:({styles:t={},...n})=>He_createElement("svg",VZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M6.494 2.667C2.916 2.667 0 5.57 0 9.142v13.383C0 26.097 2.916 29 6.494 29h19.012C29.084 29 32 26.097 32 22.525V9.142c0-3.572-2.916-6.475-6.494-6.475H6.494zm0 2h19.012c2.509 0 4.494 1.98 4.494 4.475v13.383C30 25.02 28.015 27 25.506 27H6.494C3.985 27 2 25.02 2 22.525V9.142c0-2.495 1.985-4.475 4.494-4.475z"})),TextAnnotation:({styles:t={},...n})=>He_createElement("svg",jZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M22.087 0v31.647H32v-1.788h-8.125V1.788H32V0h-9.913zm-2.924 13.999l-2.737 2.167 2.167 2.738 2.738-2.167-2.168-2.738zm-5.475 4.335L10.95 20.5l2.168 2.738 2.737-2.168-2.167-2.737zm-5.475 4.335l-2.738 2.167 2.168 2.738 2.737-2.168-2.167-2.737zm-5.476 4.335L0 29.17l2.167 2.738 2.738-2.168-2.168-2.737z"})),Transaction:({styles:t={},...n})=>He_createElement("svg",zZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{d:"M5.422 3A5.424 5.424 0 000 8.422v15.822a5.424 5.424 0 005.422 5.423h21.156A5.424 5.424 0 0032 24.244V8.422A5.424 5.424 0 0026.578 3H5.422zm0 1.244h21.156a4.155 4.155 0 014.178 4.178v15.822a4.155 4.155 0 01-4.178 4.178H5.422a4.155 4.155 0 01-4.178-4.178V8.422a4.155 4.155 0 014.178-4.178zm1.056 1.778a3.373 3.373 0 00-3.367 3.366v13.89a3.373 3.373 0 003.367 3.366h19.044a3.373 3.373 0 003.367-3.366V9.388a3.373 3.373 0 00-3.367-3.366H6.478zm0 1.245h19.044c1.187 0 2.122.935 2.122 2.121v13.89a2.104 2.104 0 01-2.122 2.122H6.478a2.104 2.104 0 01-2.122-2.122V9.388c0-1.186.935-2.121 2.122-2.121z"})),UserTask:({styles:t={},...n})=>He_createElement("svg",HZ({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},n),He_createElement("path",{fillRule:"evenodd",d:"M10.263 7.468c-1.698 0-2.912 1.305-2.915 2.791v.001c0 .45.121.924.311 1.352.138.309.308.593.516.82-1.235.423-2.683 1.119-3.414 2.49l-.04.075v4.44h11.083v-4.44l-.04-.074c-.72-1.352-2.136-2.047-3.36-2.471.597-.608.774-1.392.774-2.192-.004-1.487-1.218-2.792-2.915-2.792zm-1.16 1.583c.08 0 .165.003.26.008.757.045 1.012.181 1.207.31.196.13.334.252.851.268.404-.016.598-.087.737-.169.056-.033.103-.067.152-.1.128.275.197.578.198.893 0 .894-.154 1.52-.975 2.034l.08.604c.171.052.348.11.527.171.025.105.054.242.073.387.02.153.029.311.016.43a.422.422 0 01-.056.19c-.417.417-1.157.66-1.908.66-.75 0-1.49-.243-1.908-.66a.422.422 0 01-.056-.19 1.949 1.949 0 01.016-.43c.02-.146.049-.284.074-.388.177-.062.352-.118.521-.17l.048-.648a.616.616 0 00-.126-.118c-.183-.138-.405-.44-.562-.793-.157-.353-.254-.757-.254-1.08 0-.387.105-.758.297-1.079l.11-.04c.143-.046.339-.09.679-.09zm-1.448 4.304l-.002.014c-.025.185-.04.387-.018.589.021.202.074.42.248.593.595.594 1.494.857 2.382.857.889 0 1.788-.263 2.382-.857.174-.174.227-.391.249-.593a2.496 2.496 0 00-.018-.59l-.002-.01c.903.396 1.776.963 2.258 1.81v3.599H13.53v-2.538h-.67v2.538H7.651v-2.538h-.67v2.538H5.39v-3.599c.483-.849 1.359-1.416 2.264-1.813zM6.495 3C2.914 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.01C28.016 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5z"}))};function hOe(t){const{type:n}=t;let i=mOe(n);const s=function zSt(t){const i=G(t).eventDefinitions;return i&&i[0]}(t);return s?(i=`${function HSt(t){return mOe(t.$type).replace("EventDefinition","")}(s)}${i}`,(D(t,"bpmn:StartEvent")&&!Upe(t)||D(t,"bpmn:BoundaryEvent")&&!function jSt(t){const n=G(t);return n&&!1!==n.cancelActivity}(t))&&(i=`${i}NonInterrupting`),i):(D(t,"bpmn:SubProcess")&&!D(t,"bpmn:Transaction")&&(i=Ea(t)?`Event${i}`:`${Yr(t)&&!function WSt(t){return D(t&&(t.di||G(t).di),"bpmndi:BPMNPlane")}(t)?"Expanded":"Collapsed"}${i}`),function USt(t){const n=G(t),i=G(t.source);return!(!D(t,"bpmn:SequenceFlow")||!i)&&i.default&&i.default===n&&(D(i,"bpmn:Gateway")||D(i,"bpmn:Activity"))}(t)&&(i="DefaultFlow"),function qSt(t){const n=G(t),i=G(t.source);return!(!D(t,"bpmn:SequenceFlow")||!i)&&n.conditionExpression&&D(i,"bpmn:Activity")}(t)&&(i="ConditionalFlow"),i)}const VSt=t=>(t||(t=n=>n),{getDocumentationRef:n=>{const i=gOe();if(i)return function GSt(t,n){const i=yOe(t,n);return i&&i.documentationRef}(n,i)},getElementLabel:n=>D(n,"bpmn:Process")?G(n).name:bu(n),getElementIcon:n=>{const i=hOe(n),s=P("config.elementTemplateIconRenderer",!1),{iconProperty:o="zeebe:modelerTemplateIcon"}=s||{},a=G(n).get(o);return a?()=>L("img",{class:"bio-properties-panel-header-template-icon",width:"32",height:"32",src:a}):$St[i]},getTypeLabel:n=>{const i=gOe();if(i){const o=yOe(n,i);if(o&&o.name)return t(o.name)}const s=hOe(n);return t(s.replace(/(\B[A-Z])/g," $1").replace(/(\bNon Interrupting)/g,"($1)"))}});function mOe(t){return t.split(":")[1]}function gOe(){return P("elementTemplates",!1)}function yOe(t,n){return n.get(t)}function UZ(){return UZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},UZ.apply(null,arguments)}var KSt=({styles:t={},...n})=>He_createElement("svg",UZ({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"64",height:"64"},n),He_createElement("defs",null,He_createElement("rect",{id:"a",width:"57",height:"47",x:"3",y:"8",rx:"7"}),He_createElement("mask",{id:"b",width:"57",height:"47",x:"0",y:"0",fill:"#fff",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox"},He_createElement("use",{xlinkHref:"#a"}))),He_createElement("g",{fill:"none",fillRule:"evenodd"},He_createElement("path",{fill:"#818798",d:"M52 11a5 5 0 015 5v31a5 5 0 01-5 5H11a5 5 0 01-5-5V16a5 5 0 015-5h41zm0 2H11a3 3 0 00-2.995 2.824L8 16v31a3 3 0 002.824 2.995L11 50h41a3 3 0 002.995-2.824L55 47V16a3 3 0 00-2.824-2.995L52 13z"}),He_createElement("path",{fill:"#D5D7DD",d:"M16 24h31v6H16zM21 33h21v6H21z"}),He_createElement("use",{stroke:"#B9BCC6",strokeDasharray:"5 2",strokeWidth:"2",mask:"url(#b)",xlinkHref:"#a"})));function qZ(){return qZ=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},qZ.apply(null,arguments)}var YSt=({styles:t={},...n})=>He_createElement("svg",qZ({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"128",height:"64"},n),He_createElement("defs",null,He_createElement("path",{id:"a",d:"M9 9h110v47H9z"}),He_createElement("mask",{id:"b",width:"110",height:"47",x:"0",y:"0",fill:"#fff",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox"},He_createElement("use",{xlinkHref:"#a"}))),He_createElement("g",{fill:"none",fillRule:"evenodd"},He_createElement("path",{fill:"#818798",d:"M25 20.272L37.728 33 25 45.728 12.272 33 25 20.272zm0 2.829L15.1 33l9.9 9.9 9.9-9.9-9.9-9.9z"}),He_createElement("path",{fill:"#D5D7DD",d:"M17 47h16v6H17z"}),He_createElement("path",{fill:"#818798",d:"M35 32h27v2H35z"}),He_createElement("path",{fill:"#818798",d:"M60 30v6l6-3z"}),He_createElement("path",{fill:"#D5D7DD",d:"M80 34h21v6H80z"}),He_createElement("g",null,He_createElement("path",{fill:"#818798",d:"M111 12a5 5 0 015 5v31a5 5 0 01-5 5H70a5 5 0 01-5-5V17a5 5 0 015-5h41zm0 2H70a3 3 0 00-3 3v31a3 3 0 003 3h41a3 3 0 003-3V17a3 3 0 00-3-3z"}),He_createElement("path",{fill:"#D5D7DD",d:"M75 25h31v6H75z"})),He_createElement("use",{stroke:"#B9BCC6",strokeDasharray:"5 2",strokeWidth:"2",mask:"url(#b)",xlinkHref:"#a"})));const XSt=t=>(t||(t=n=>n),{getEmpty:()=>({text:t("Select an element to edit its properties."),icon:KSt}),getMultiple:()=>({text:t("Multiple elements are selected. Select a single element to edit its properties."),icon:YSt})});function QSt(t){const{element:n,injector:i,getProviders:s,layoutConfig:o,descriptionConfig:a,tooltipConfig:l,feelPopupContainer:c,getFeelPopupLinks:u}=t,d=i.get("canvas"),p=i.get("elementRegistry"),f=i.get("eventBus"),h=i.get("translate"),[m,y]=Ir({selectedElement:n}),E=m.selectedElement,_=$=>{if(!$)return;let z=$;z&&"label"===z.type&&(z=z.labelTarget),y({...m,selectedElement:z}),f.fire("propertiesPanel.updated",{element:z})};Yn(()=>{const $=z=>{const{newSelection:K=[]}=z;if(K.length>1)return _(K);const U=K[0],H=d.getRootElement();(function ZSt(t){return t&&t.isImplicit})(H)||_(U||H)};return f.on("selection.changed",$),()=>{f.off("selection.changed",$)}},[]),Yn(()=>{const $=z=>{const U=function JSt(t,n){return Gt(t,i=>i===n)}(z.elements,E);U&&function e6t(t,n){return t&&n.get(t.id)}(U,p)&&_(U)};return f.on("elements.changed",$),()=>{f.off("elements.changed",$)}},[E]),Yn(()=>{const $=z=>{_(z.element)};return f.on("root.added",$),()=>{f.off("root.added",$)}},[E]),Yn(()=>{const $=()=>{_(E)};return f.on("propertiesPanel.providersChanged",$),()=>{f.off("propertiesPanel.providersChanged",$)}},[E]),Yn(()=>{const $=()=>{_(E)};return f.on("elementTemplates.changed",$),()=>{f.off("elementTemplates.changed",$)}},[E]);const S={selectedElement:E,injector:i,getService:($,z)=>i.get($,z)},v=s(E),w=ol(()=>Ts(v,function($,z){return Xt(E)?[]:z.getGroups(E)($)},[]),[v,E]),[g,x]=Ir(o||{}),T=Cs($=>{f.fire("propertiesPanel.layoutChanged",{layout:$})},[f]);return Yn(()=>{const $=z=>{const{layout:K}=z;x(K)};return f.on("propertiesPanel.setLayout",$),()=>f.off("propertiesPanel.setLayout",$)},[f,x]),L(q6e.Provider,{value:S,children:L(E6e,{element:E,headerProvider:VSt(h),placeholderProvider:XSt(h),groups:w,layoutConfig:g,layoutChanged:T,descriptionConfig:a,descriptionLoaded:$=>{f.fire("propertiesPanel.descriptionLoaded",{description:$})},tooltipConfig:l,tooltipLoaded:$=>{f.fire("propertiesPanel.tooltipLoaded",{tooltip:$})},feelPopupContainer:c,getFeelPopupLinks:u,eventBus:f})})}let n6t=(()=>{class t{constructor(i,s,o){const{parent:a,layout:l,description:c,tooltip:u,feelPopupContainer:d,getFeelPopupLinks:p}=i||{};this._eventBus=o,this._injector=s,this._layoutConfig=l,this._descriptionConfig=c,this._tooltipConfig=u,this._feelPopupContainer=d,this._getFeelPopupLinks=p,this._container=Xr('<div style="height: 100%" tabindex="-1" class="bio-properties-panel-container"></div>');var f=s.get("commandStack",!1);f&&function i6t(t,n,i){function s(a){a.preventDefault(),a.stopPropagation()}function o(a){return eA(a)?(i.undo(),s(a)):tA(a)?(i.redo(),s(a)):void 0}n.on("keyboard.bind",function(){mn.bind(t,"keydown",o)}),n.on("keyboard.unbind",function(){mn.unbind(t,"keydown",o)})}(this._container,o,f),o.on("diagram.init",()=>{a&&this.attachTo(a)}),o.on("diagram.destroy",()=>{this.detach()}),o.on("root.added",h=>{const{element:m}=h;this._render(m)})}attachTo(i){if(!i)throw new Error("container required");i.get&&i.constructor.prototype.jquery&&(i=i.get(0)),"string"==typeof i&&(i=$n(i)),this.detach(),i.appendChild(this._container),this._eventBus.fire("propertiesPanel.attach")}detach(){const i=this._container.parentNode;i&&(i.removeChild(this._container),this._eventBus.fire("propertiesPanel.detach"))}registerProvider(i,s){s||(s=i,i=1e3),"function"==typeof s.getGroups?(this._eventBus.on("propertiesPanel.getProviders",i,function(o){o.providers.push(s)}),this._eventBus.fire("propertiesPanel.providersChanged")):console.error("Properties provider does not implement #getGroups(element) API")}setLayout(i){this._eventBus.fire("propertiesPanel.setLayout",{layout:i})}_getProviders(){const i=this._eventBus.createEvent({type:"propertiesPanel.getProviders",providers:[]});return this._eventBus.fire(i),i.providers}_render(i){const s=this._injector.get("canvas");i||(i=s.getRootElement()),!function r6t(t){return t&&t.isImplicit}(i)&&(Dm(L(QSt,{element:i,injector:this._injector,getProviders:this._getProviders.bind(this),layoutConfig:this._layoutConfig,descriptionConfig:this._descriptionConfig,tooltipConfig:this._tooltipConfig,feelPopupContainer:this._feelPopupContainer,getFeelPopupLinks:this._getFeelPopupLinks}),this._container),this._eventBus.fire("propertiesPanel.rendered"))}_destroy(){this._container&&(Dm(null,this._container),this._eventBus.fire("propertiesPanel.destroyed"))}}return t.$inject=["config.propertiesPanel","injector","eventBus"],t})();const s6t={"properties-panel.multi-command-executor":(()=>{class t{constructor(i){this._commandStack=i}preExecute(i){const s=this._commandStack;fe(i,function(o){s.execute(o.cmd,o.context)})}}return t.$inject=["commandStack"],t})()};function vOe(t,n){t.on("diagram.init",function(){fe(s6t,function(i,s){n.registerHandler(s,i)})})}vOe.$inject=["eventBus","commandStack"];var a6t={__depends__:[{__init__:[vOe]},D6e,k6e],__init__:["propertiesPanel"],propertiesPanel:["type",n6t]};function Vt(t,n,i,s){const o=s.create(t,n);return i&&(o.$parent=i),o}function zm(t){return new Yd([32,32,1]).nextPrefixed(t)}function kw(t){let n=t;for(;n.$parent;)n=n.$parent;return n}function Mw(t,n){return function l6t(t,n){return(t||[]).filter(s=>D(s,n))}(kw(t).get("rootElements"),n)}function BT(t,n,i){return Mw(t,n).find(o=>o.id===i)}function $T(t,n,i,s,o,a){return a.execute("element.updateModdleProperties",function c6t(t,n,i,s,o){const a={};if(!s)return a[i]=void 0,{element:t,moddleElement:n,properties:a};const l=n.get(i);return l?{element:t,moddleElement:l,properties:{body:s}}:(a[i]=Vt("bpmn:FormalExpression",{body:s},n,o),{element:t,moddleElement:n,properties:a})}(t,n,i,s,o))}function u6t(t){const{element:n}=t;return D(n,"bpmn:AdHocSubProcess")?[{id:"completionCondition",component:d6t,isEdited:en},{id:"cancelRemainingInstances",component:p6t,isEdited:i=>i&&!i.checked}]:[]}function d6t(t){const{element:n}=t,i=P("bpmnFactory"),s=P("debounceInput"),o=P("commandStack"),a=P("translate");return Ft({element:n,id:"completionCondition",label:a("Completion condition"),getValue:()=>{const u=G(n).get("completionCondition");return u&&u.get("body")},setValue:u=>$T(n,G(n),"completionCondition",u,i,o),debounce:s})}function p6t(t){const{element:n}=t,i=P("commandStack"),s=P("translate"),o=G(n);return ul({element:n,id:"cancelRemainingInstances",label:s("Cancel remaining instances"),getValue:()=>o.get("cancelRemainingInstances"),setValue:c=>{i.execute("element.updateModdleProperties",{element:n,moddleElement:o,properties:{cancelRemainingInstances:c}})}})}function Aw(t){const{autoFocusEntry:n,element:i,getOptions:s}=t,o=s(i),a=Cw(o);return Yn(()=>{if(n&&a&&o.length>a.length){const l=$n(`[data-entry-id="${n}"]`),c=$n(".bio-properties-panel-input",l);c&&c.select()}},[o]),L(Yi,{...t})}function Iw(t){return Xh(t,"bpmn:ErrorEventDefinition")}function Ty(t){const n=Iw(t);return n&&n.get("errorRef")}function Xh(t,n){return Gt(G(t).get("eventDefinitions")||[],function(o){return D(o,n)})}function $_(t){return D(t,"bpmn:ReceiveTask")?G(t):Xh(t,"bpmn:MessageEventDefinition")}function V_(t){const n=$_(t);return n&&n.get("messageRef")}function EOe(t){return Xh(t,"bpmn:LinkEventDefinition")}function Tf(t){return Xh(t,"bpmn:SignalEventDefinition")}function WZ(t){const n=Tf(t);return n&&n.get("signalRef")}function dN(t){return Xh(t,"bpmn:EscalationEventDefinition")}function Rw(t){const n=dN(t);return n&&n.get("escalationRef")}function VT(t){return Xh(t,"bpmn:CompensateEventDefinition")}function v6t(t){const{element:n}=t;return function g6t(t){return un(t,["bpmn:EndEvent","bpmn:IntermediateThrowEvent"])&&!!VT(t)}(n)?[{id:"waitForCompletion",component:b6t,isEdited:vd},{id:"activityRef",component:_6t,isEdited:ms}]:[]}function b6t(t){const{element:n}=t,i=P("commandStack"),s=P("translate"),o=VT(n);return ul({element:n,id:"waitForCompletion",label:s("Wait for completion"),getValue:()=>o.get("waitForCompletion"),setValue:c=>{i.execute("element.updateModdleProperties",{element:n,moddleElement:o,properties:{waitForCompletion:c}})}})}function _6t(t){const{element:n}=t,i=P("commandStack"),s=P("elementRegistry"),o=P("translate"),a=VT(n);return Aw({element:n,id:"activityRef",label:o("Activity reference"),getValue:()=>{const d=function y6t(t){const n=VT(t);return n&&n.get("activityRef")}(n);return d&&d.get("id")},setValue:d=>{const p=d?G(s.get(d)):void 0;i.execute("element.updateModdleProperties",{element:n,moddleElement:a,properties:{activityRef:p}})},getOptions:()=>{let d=[{value:"",label:o("<none>")}];const p=function S6t(t){let i=G(t).$parent,s=COe(i);return D(i,"bpmn:SubProcess")&&i.triggeredByEvent&&(i=i.$parent,i&&(s=[...s,...COe(i)])),s}(n);return function T6t(t){return ba(t,n=>(n.name||"").toLowerCase())}(p).forEach(function(f){d.push({value:f.id,label:O6t(f)})}),d}})}function wOe(t,n){const{flowElements:i}=t;return i.filter(function(s){return D(s,n)})}function COe(t){const n=function E6t(t){return wOe(t,"bpmn:Activity")}(t),i=function x6t(t){return wOe(t,"bpmn:BoundaryEvent")}(t);return n.filter(function(s){return function C6t(t,n){return D(t,"bpmn:CallActivity")||D(t,"bpmn:SubProcess")&&!t.triggeredByEvent&&!t.isForCompensation||function w6t(t,n){const{id:i}=t;return!!Gt(n,function(s){const{attachedToRef:o}=s,a=VT(s);return o&&a&&o.id===i})}(t,n)}(s,i)})}function O6t(t){const{id:n,name:i}=t;return`${i?i+" ":""}(id=${n})`}const SOe="text/plain";function P6t(t){const{element:n}=t,i=[{id:"documentation",component:D6t,isEdited:Mu}];return function M6t(t){return D(t,"bpmn:Participant")&&t.businessObject.get("processRef")}(n)&&i.push({id:"processDocumentation",component:k6t,isEdited:Mu}),i}function D6t(t){const{element:n}=t,i=P("bpmnFactory"),s=P("commandStack"),o=P("translate"),a=P("debounceInput"),l=TOe(G(n)),c=POe(n,G(n),i,s);return vc({element:n,id:"documentation",label:o("Element documentation"),getValue:l,setValue:c,debounce:a})}function k6t(t){const{element:n}=t,i=P("bpmnFactory"),s=P("commandStack"),o=P("translate"),a=P("debounceInput"),l=G(n).processRef,c=TOe(l),u=POe(n,l,i,s);return vc({element:n,id:"processDocumentation",label:o("Process documentation"),getValue:c,setValue:u,debounce:a})}function OOe(t){return t.find(function(n){return(n.textFormat||SOe)===SOe})}function TOe(t){return function(){const n=OOe(t&&t.get("documentation"));return n&&n.text}}function POe(t,n,i,s){return function(o){let a=OOe(n&&n.get("documentation"));return a?s.execute("element.updateModdleProperties",o?{element:t,moddleElement:a,properties:{text:o}}:{element:t,moddleElement:n,properties:{documentation:ar(n.get("documentation"),a)}}):o?(a=i.create("bpmn:Documentation",{text:o}),s.execute("element.updateModdleProperties",{element:t,moddleElement:n,properties:{documentation:[...n.get("documentation"),a]}})):void 0}}const kOe="create-new";function A6t(t){const{element:n}=t;if(!function bOe(t){return un(t,["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:EndEvent"])&&!!Iw(t)}(n))return[];let s=[{id:"errorRef",component:I6t,isEdited:ms}];return Ty(n)&&(s=[...s,{id:"errorName",component:R6t,isEdited:en},{id:"errorCode",component:N6t,isEdited:en}]),s}function I6t(t){const{element:n}=t,i=P("bpmnFactory"),s=P("commandStack"),o=P("translate"),a=Iw(n);return Aw({element:n,id:"errorRef",label:o("Global error reference"),autoFocusEntry:"errorName",getValue:()=>{const d=Ty(n);return d?d.get("id"):""},setValue:d=>{const p=kw(a),f=[];let h;return d===kOe&&(h=Vt("bpmn:Error",{name:zm("Error_")},p,i),d=h.get("id"),f.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:p,properties:{rootElements:[...p.get("rootElements"),h]}}})),h=h||BT(a,"bpmn:Error",d),f.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:a,properties:{errorRef:h}}}),s.execute("properties-panel.multi-command-executor",f)},getOptions:()=>{let d=[{value:"",label:o("<none>")},{value:kOe,label:o("Create new ...")}];return function L6t(t){return ba(t,n=>(n.name||"").toLowerCase())}(Mw(G(n),"bpmn:Error")).forEach(f=>{d.push({value:f.get("id"),label:f.get("name")})}),d}})}function R6t(t){const{element:n}=t,i=P("commandStack"),s=P("translate"),o=P("debounceInput"),a=Ty(n);return Ft({element:n,id:"errorName",label:s("Name"),getValue:()=>a.get("name"),setValue:u=>i.execute("element.updateModdleProperties",{element:n,moddleElement:a,properties:{name:u}}),debounce:o})}function N6t(t){const{element:n}=t,i=P("commandStack"),s=P("translate"),o=P("debounceInput"),a=Ty(n);return Ft({element:n,id:"errorCode",label:s("Code"),getValue:()=>a.get("errorCode"),setValue:u=>i.execute("element.updateModdleProperties",{element:n,moddleElement:a,properties:{errorCode:u}}),debounce:o})}const MOe="create-new";function F6t(t){const{element:n}=t;if(!function xOe(t){return D(t,"bpmn:Event")&&!!dN(t)}(n))return[];let s=[{id:"escalationRef",component:B6t,isEdited:ms}];return Rw(n)&&(s=[...s,{id:"escalationName",component:$6t,isEdited:en},{id:"escalationCode",component:V6t,isEdited:en}]),s}function B6t(t){const{element:n}=t,i=P("bpmnFactory"),s=P("commandStack"),o=P("translate"),a=dN(n);return Aw({element:n,id:"escalationRef",label:o("Global escalation reference"),autoFocusEntry:"escalationName",getValue:()=>{const d=Rw(n);return d&&d.get("id")},setValue:d=>{const p=kw(a),f=[];let h;if(d===MOe){const m=zm("Escalation_");h=Vt("bpmn:Escalation",{id:m,name:m},p,i),d=h.get("id"),f.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:p,properties:{rootElements:[...p.get("rootElements"),h]}}})}return h=h||BT(a,"bpmn:Escalation",d),f.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:a,properties:{escalationRef:h}}}),s.execute("properties-panel.multi-command-executor",f)},getOptions:()=>{let d=[{value:"",label:o("<none>")},{value:MOe,label:o("Create new ...")}];return function j6t(t){return ba(t,n=>(n.name||"").toLowerCase())}(Mw(G(n),"bpmn:Escalation")).forEach(f=>{d.push({value:f.get("id"),label:f.get("name")})}),d}})}function $6t(t){const{element:n}=t,i=P("commandStack"),s=P("translate"),o=P("debounceInput"),a=Rw(n);return Ft({element:n,id:"escalationName",label:s("Name"),getValue:()=>a.get("name"),setValue:u=>i.execute("element.updateModdleProperties",{element:n,moddleElement:a,properties:{name:u}}),debounce:o})}function V6t(t){const{element:n}=t,i=P("commandStack"),s=P("translate"),o=P("debounceInput"),a=Rw(n);return Ft({element:n,id:"escalationCode",label:s("Code"),getValue:()=>a.get("escalationCode"),setValue:u=>i.execute("element.updateModdleProperties",{element:n,moddleElement:a,properties:{escalationCode:u}}),debounce:o})}function z6t(t){const{element:n}=t;return D(n,"bpmn:Process")||function U6t(t){return D(t,"bpmn:Participant")&&t.businessObject.get("processRef")}(n)?[{id:"isExecutable",component:H6t,isEdited:vd}]:[]}function H6t(t){const{element:n}=t,i=P("modeling"),s=P("commandStack"),o=P("translate");let a,l;if(l=c=>{i.updateProperties(n,{isExecutable:c})},a=c=>c.businessObject.isExecutable,D(n,"bpmn:Participant")){const c=n.businessObject.get("processRef");l=u=>{s.execute("element.updateModdleProperties",{element:n,moddleElement:c,properties:{isExecutable:u}})},a=()=>c.get("isExecutable")}return ul({element:n,id:"isExecutable",label:o("Executable"),getValue:a,setValue:l})}const q6t=/\s/,W6t=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,G6t=/^[a-z_][\w-.]*$/i;function pN(t,n,i){const s=t.$model.ids.assigned(n);return n?s&&s!==t?i("ID must be unique."):function K6t(t,n){return function Y6t(t){return q6t.test(t)}(t)?n("ID must not contain spaces."):G6t.test(t)?void 0:W6t.test(t)?n("ID must not contain prefix."):n("ID must be a valid QName.")}(n,i):i("ID must not be empty.")}function Q6t(t){const{element:n}=t,i=P("modeling"),s=P("debounceInput"),o=P("translate"),l=Cs(u=>G(u).id,[n]),c=Cs(u=>pN(G(n),u,o),[n,o]);return Ft({element:n,id:"id",label:o(D(n,"bpmn:Participant")?"Participant ID":"ID"),getValue:l,setValue:(u,d)=>{d||i.updateProperties(n,{id:u})},debounce:s,validate:c})}function Z6t(t){const{element:n}=t;return function h6t(t){return un(t,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!EOe(t)}(n)?[{id:"linkName",component:J6t,isEdited:en}]:[]}function J6t(t){const{element:n}=t,i=P("commandStack"),s=P("translate"),o=P("debounceInput"),a=EOe(n);return Ft({element:n,id:"linkName",label:s("Name"),getValue:()=>a.get("name"),setValue:u=>{i.execute("element.updateModdleProperties",{element:n,moddleElement:a,properties:{name:u}})},debounce:o})}const IOe="create-new";function eOt(t){const{element:n}=t;if(!function f6t(t){return D(t,"bpmn:ReceiveTask")||un(t,["bpmn:StartEvent","bpmn:EndEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"])&&!!$_(t)}(n))return[];let s=[{id:"messageRef",component:tOt,isEdited:ms}];return V_(n)&&(s=[...s,{id:"messageName",component:nOt,isEdited:en}]),s}function tOt(t){const{element:n}=t,i=P("bpmnFactory"),s=P("commandStack"),o=P("translate"),a=$_(n);return Aw({element:n,id:"messageRef",label:o("Global message reference"),autoFocusEntry:"messageName",getValue:()=>{const d=V_(n);return d?d.get("id"):""},setValue:d=>{const p=kw(a),f=[];let h;if(d===IOe){const m=zm("Message_");h=Vt("bpmn:Message",{id:m,name:m},p,i),d=h.get("id"),f.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:p,properties:{rootElements:[...p.get("rootElements"),h]}}})}return h=h||BT(a,"bpmn:Message",d),f.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:a,properties:{messageRef:h}}}),s.execute("properties-panel.multi-command-executor",f)},getOptions:()=>{let d=[{value:"",label:o("<none>")},{value:IOe,label:o("Create new ...")}];return function rOt(t){return ba(t,n=>(n.name||"").toLowerCase())}(Mw(G(n),"bpmn:Message")).forEach(f=>{d.push({value:f.get("id"),label:f.get("name")})}),d}})}function nOt(t){const{element:n}=t,i=P("commandStack"),s=P("translate"),o=P("debounceInput"),a=V_(n);return Ft({element:n,id:"messageName",label:s("Name"),getValue:()=>a.get("name"),setValue:u=>i.execute("element.updateModdleProperties",{element:n,moddleElement:a,properties:{name:u}}),debounce:o})}function iOt(t){const{element:n}=t;return function aOt(t){const n=fN(t);return!!n&&D(n,"bpmn:MultiInstanceLoopCharacteristics")}(n)?[{id:"loopCardinality",component:sOt,isEdited:en},{id:"completionCondition",component:oOt,isEdited:en}]:[]}function sOt(t){const{element:n}=t,i=P("bpmnFactory"),s=P("debounceInput"),o=P("commandStack"),a=P("translate");return Ft({element:n,id:"loopCardinality",label:a("Loop cardinality"),getValue:()=>function cOt(t){const n=function lOt(t){return NOe(t,"loopCardinality")}(t);return ROe(n)}(n),setValue:u=>$T(n,fN(n),"loopCardinality",u,i,o),debounce:s})}function oOt(t){const{element:n}=t,i=P("bpmnFactory"),s=P("debounceInput"),o=P("commandStack"),a=P("translate");return Ft({element:n,id:"completionCondition",label:a("Completion condition"),getValue:()=>function dOt(t){const n=function uOt(t){return NOe(t,"completionCondition")}(t);return ROe(n)}(n),setValue:u=>$T(n,fN(n),"completionCondition",u,i,o),debounce:s})}function ROe(t){return t&&t.get("body")}function NOe(t,n){const i=fN(t);return i&&i.get(n)}function fN(t){return G(t).loopCharacteristics}function pOt(t){const{element:n}=t;return un(n,["bpmn:Collaboration","bpmn:DataAssociation","bpmn:Association"])?[]:[{id:"name",component:fOt,isEdited:Mu}]}function fOt(t){const{element:n}=t,i=P("modeling"),s=P("debounceInput"),o=P("canvas"),a=P("bpmnFactory"),l=P("translate");let c={element:n,id:"name",label:l("Name"),debounce:s,setValue:u=>{i.updateProperties(n,{name:u})},getValue:u=>u.businessObject.name,autoResize:!0};return D(n,"bpmn:TextAnnotation")?c={...c,setValue:u=>{i.updateProperties(n,{text:u})},getValue:u=>u.businessObject.text}:D(n,"bpmn:Group")?c={...c,setValue:u=>{const d=G(n);d.categoryValueRef||function hOt(t,n,i){const o=function mOt(t,n){const i=n.create("bpmn:CategoryValue"),s=n.create("bpmn:Category",{categoryValue:[i]});return So(t.get("rootElements"),s),G(s).$parent=t,G(i).$parent=s,i}(G(n).$parent,i);t.categoryValueRef=o}(d,o.getRootElement(),a),i.updateLabel(n,u)},getValue:u=>{const p=G(u).categoryValueRef;return p&&p.value}}:D(n,"bpmn:Participant")&&(c.label=l("Participant Name")),vc(c)}function gOt(t){const{element:n}=t;return function bOt(t){return D(t,"bpmn:Participant")&&t.businessObject.get("processRef")}(n)?[{id:"processId",component:vOt,isEdited:en},{id:"processName",component:yOt,isEdited:en}]:[]}function yOt(t){const{element:n}=t,i=P("commandStack"),s=P("translate"),o=P("debounceInput"),a=n.businessObject.get("processRef");return Ft({element:n,id:"processName",label:s("Process name"),getValue:()=>a.get("name"),setValue:u=>{i.execute("element.updateModdleProperties",{element:n,moddleElement:a,properties:{name:u}})},debounce:o})}function vOt(t){const{element:n}=t,i=P("commandStack"),s=P("translate"),o=P("debounceInput"),a=n.businessObject.get("processRef"),u=Cs(d=>pN(a,d,s),[a,s]);return Ft({element:n,id:"processId",label:s("Process ID"),getValue:()=>a.get("id"),setValue:(d,p)=>{p||i.execute("element.updateModdleProperties",{element:n,moddleElement:a,properties:{id:d}})},debounce:o,validate:u})}const FOe="create-new";function _Ot(t){const{element:n}=t;if(!function m6t(t){return D(t,"bpmn:Event")&&!!Tf(t)}(n))return[];let s=[{id:"signalRef",component:EOt,isEdited:ms}];return WZ(n)&&(s=[...s,{id:"signalName",component:xOt,isEdited:en}]),s}function EOt(t){const{element:n}=t,i=P("bpmnFactory"),s=P("commandStack"),o=P("translate"),a=Tf(n);return Aw({element:n,id:"signalRef",label:o("Global signal reference"),autoFocusEntry:"signalName",getValue:()=>{const d=WZ(n);return d?d.get("id"):""},setValue:d=>{const p=kw(a),f=[];let h;if(d===FOe){const m=zm("Signal_");h=Vt("bpmn:Signal",{id:m,name:m},p,i),d=h.get("id"),f.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:p,properties:{rootElements:[...p.get("rootElements"),h]}}})}return h=h||BT(a,"bpmn:Signal",d),f.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:a,properties:{signalRef:h}}}),s.execute("properties-panel.multi-command-executor",f)},getOptions:()=>{let d=[{value:"",label:o("<none>")},{value:FOe,label:o("Create new ...")}];return function wOt(t){return ba(t,n=>(n.name||"").toLowerCase())}(Mw(G(n),"bpmn:Signal")).forEach(f=>{d.push({value:f.get("id"),label:f.get("name")})}),d}})}function xOt(t){const{element:n}=t,i=P("commandStack"),s=P("translate"),o=P("debounceInput"),a=WZ(n);return Ft({element:n,id:"signalName",label:s("Name"),getValue:()=>a.get("name"),setValue:u=>i.execute("element.updateModdleProperties",{element:n,moddleElement:a,properties:{name:u}}),debounce:o})}function GZ(t){return un(t,["bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:BoundaryEvent"])&&!!j_(t)}function hN(t){if(t)return typeof t.get("timeDate")<"u"?"timeDate":typeof t.get("timeCycle")<"u"?"timeCycle":typeof t.get("timeDuration")<"u"?"timeDuration":void 0}function j_(t){return mN(t,"bpmn:TimerEventDefinition")}function mN(t,n){return Gt(G(t).get("eventDefinitions")||[],function(o){return D(o,n)})}function BOe(t){return mN(t,"bpmn:SignalEventDefinition")}function $Oe(t){const n=BOe(t);return n&&n.get("signalRef")}function TOt(t){const{element:n,idPrefix:i}=t;let{timerEventDefinition:s}=t;s||(s=j_(G(n)));const o=hN(s);if(!GZ(n))return[];const a=[];return a.push({id:VOe(i,"timerEventDefinitionType"),component:POt,isEdited:ms,timerEventDefinition:s,timerEventDefinitionType:o}),o&&a.push({id:VOe(i,"timerEventDefinitionValue"),component:DOt,isEdited:en,timerEventDefinition:s,timerEventDefinitionType:o}),a}function POt(t){const{element:n,timerEventDefinition:i,timerEventDefinitionType:s}=t,o=P("commandStack"),a=P("bpmnFactory"),l=P("translate");return Yi({element:n,id:"timerEventDefinitionType",label:l("Type"),getValue:()=>s||"",setValue:p=>{if(p===s)return;const f=a.create("bpmn:FormalExpression",{body:void 0});f.$parent=i;const h={timeDuration:void 0,timeDate:void 0,timeCycle:void 0};""!==p&&(h[p]=f),o.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:h})},getOptions:p=>[{value:"",label:l("<none>")},{value:"timeDate",label:l("Date")},{value:"timeDuration",label:l("Duration")},{value:"timeCycle",label:l("Cycle")}]})}function DOt(t){const{element:n,timerEventDefinition:i,timerEventDefinitionType:s}=t,o=P("commandStack"),a=P("translate"),l=P("debounceInput"),c=i.get(s);return Ft({element:n,id:"timerEventDefinitionValue",label:a("Value"),getValue:()=>c&&c.get("body"),setValue:p=>{o.execute("element.updateModdleProperties",{element:n,moddleElement:c,properties:{body:p}})},debounce:l,tooltip:kOt(s,a)})}function kOt(t,n){switch(t){case"timeDate":return L("div",{children:[L("p",{children:n("A specific point in time defined as ISO 8601 combined date and time representation.")}),L("ul",{children:[L("li",{children:[L("code",{children:"2019-10-01T12:00:00Z"})," - ",n("UTC time")]}),L("li",{children:[L("code",{children:"2019-10-02T08:09:40+02:00"})," - ",n("UTC plus 2 hours zone offset")]})]}),L("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-date",target:"_blank",rel:"noopener noreferrer",children:n("Documentation: Timer events")})]});case"timeCycle":return L("div",{children:[L("p",{children:n("A cycle defined as ISO 8601 repeating intervals format.")}),L("ul",{children:[L("li",{children:[L("code",{children:"R5/PT10S"})," - ",n("every 10 seconds, up to 5 times")]}),L("li",{children:[L("code",{children:"R/P1D"})," - ",n("every day, infinitely")]})]}),L("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-cycle",target:"_blank",rel:"noopener noreferrer",children:n("Documentation: Timer events")})]});case"timeDuration":return L("div",{children:[L("p",{children:n("A time duration defined as ISO 8601 durations format.")}),L("ul",{children:[L("li",{children:[L("code",{children:"PT15S"})," - ",n("15 seconds")]}),L("li",{children:[L("code",{children:"PT1H30M"})," - ",n("1 hour and 30 minutes")]}),L("li",{children:[L("code",{children:"P14D"})," - ",n("14 days")]})]}),L("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-duration",target:"_blank",rel:"noopener noreferrer",children:n("Documentation: Timer events")})]})}}function VOe(t,n){return t?t+n:n}function MOt(t,n){const i=n.get("translate"),s=[...pOt({element:t}),{id:"id",component:Q6t,isEdited:en},...gOt({element:t}),...z6t({element:t})];return{id:"general",label:i("General"),entries:s,component:$r}}function AOt(t,n){const s={label:n.get("translate")("Compensation"),id:"compensation",component:$r,entries:[...v6t({element:t})]};return s.entries.length?s:null}function IOt(t,n){const i=n.get("translate"),s=[...P6t({element:t})];return{id:"documentation",label:i("Documentation"),entries:s,component:$r}}function ROt(t,n){const s={id:"error",label:n.get("translate")("Error"),component:$r,entries:[...A6t({element:t})]};return s.entries.length?s:null}function NOt(t,n){const s={id:"message",label:n.get("translate")("Message"),component:$r,entries:[...eOt({element:t})]};return s.entries.length?s:null}function LOt(t,n){const s={id:"signal",label:n.get("translate")("Signal"),component:$r,entries:[..._Ot({element:t})]};return s.entries.length?s:null}function FOt(t,n){const s={label:n.get("translate")("Link"),id:"link",component:$r,entries:[...Z6t({element:t})]};return s.entries.length?s:null}function BOt(t,n){const s={id:"escalation",label:n.get("translate")("Escalation"),component:$r,entries:[...F6t({element:t})]};return s.entries.length?s:null}function $Ot(t,n){const s={label:n.get("translate")("Timer"),id:"timer",component:$r,entries:[...TOt({element:t})]};return s.entries.length?s:null}function VOt(t,n){const s={label:n.get("translate")("Multi-instance"),id:"multiInstance",component:$r,entries:[...iOt({element:t})]};return s.entries.length?s:null}function jOt(t,n){const s={label:n.get("translate")("Completion"),id:"adHocCompletion",component:$r,entries:[...u6t({element:t})]};return s.entries.length?s:null}var HOt={__init__:["bpmnPropertiesProvider"],bpmnPropertiesProvider:["type",(()=>{class t{constructor(i,s){i.registerProvider(this),this._injector=s}getGroups(i){return s=>(s=s.concat(function zOt(t,n){return[MOt(t,n),IOt(t,n),AOt(t,n),ROt(t,n),FOt(t,n),NOt(t,n),VOt(t,n),jOt(t,n),LOt(t,n),BOt(t,n),$Ot(t,n)].filter(s=>null!==s)}(i,this._injector)),s)}}return t.$inject=["propertiesPanel","injector"],t})()]};function Nw(t,n){return i=>L(t,{...i,...n})}const UOt={getVariablesForElement:t=>L6e(t)},Bs=function qOt(t){return n=>{const{bpmnElement:i,element:s}=n,o=(i||s).businessObject,[a,l]=Ir([]),c=P("eventBus"),u=function WOt(t,n){return P(t,!1)||n}("variableResolver",UOt);return Yn(()=>{const d=function(){var f=N(function*(){const h=yield u.getVariablesForElement(o,s);l(h.map(m=>({...m,info:m.info||m.origin&&"Written in "+m.origin.map(y=>y.name||y.id).join(", ")})))});return function(){return f.apply(this,arguments)}}(),p=()=>{d()};return c.on("commandStack.changed",p),p(),()=>{c.off("commandStack.changed",p)}},[o]),L(t,{...n,variables:a})}}(function GOt(t){return n=>{const i=ol(()=>{const s=P("config");return s&&s.propertiesPanel&&s.propertiesPanel.feelTooltipContainer},[]);return L(t,{...n,tooltipContainer:i})}}(F_));function xr(t,n=void 0){const i=t.get("extensionElements");if(!i)return[];const s=i.get("values");return s&&s.length?n?s.filter(o=>D(o,n)):s:[]}function Qh(t,n,i,s,o){const a=[];let l=n.get("extensionElements");l||(l=Vt("bpmn:ExtensionElements",{values:[]},n,s),a.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:n,properties:{extensionElements:l}}})),i.$parent=l,a.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:l,properties:{values:[...l.get("values"),i]}}}),o.execute("properties-panel.multi-command-executor",a)}function _p(t,n,i,s){Xt(i)||(i=[i]);const o=n.get("extensionElements"),a=o.get("values").filter(l=>!i.includes(l));s.execute("element.updateModdleProperties",{element:t,moddleElement:o,properties:{values:a}})}function YOt(t){const{element:n}=t;return D(n,"bpmn:AdHocSubProcess")?[{id:"activeElementsCollection",component:XOt,isEdited:Fs}]:[]}function XOt(t){const{element:n}=t,i=P("commandStack"),s=P("bpmnFactory"),o=P("translate"),a=P("debounceInput");return Bs({element:n,id:"activeElements-activeElementsCollection",label:o("Active elements collection"),feel:"required",getValue:()=>function QOt(t){const n=jOe(t);return n&&n.get("activeElementsCollection")}(n),setValue:u=>function ZOt(t,n,i,s){const o=jOe(t);if(o)i.execute("element.updateModdleProperties",{element:t,moddleElement:o,properties:{activeElementsCollection:n}});else{const a=Vt("zeebe:AdHoc",{activeElementsCollection:n},void 0,s);Qh(t,G(t),a,s,i)}}(n,u,i,s),debounce:a})}function jOe(t){return xr(G(t),"zeebe:AdHoc")[0]}function eTt(t){const{element:n}=t,i=P("bpmnFactory"),s=P("debounceInput"),o=P("commandStack"),a=P("translate");return Bs({element:n,id:"completionCondition",label:a("Completion condition"),feel:"required",getValue:()=>{const u=G(n).get("completionCondition");return u&&u.get("body")},setValue:u=>$T(n,G(n),"completionCondition",u,i,o),debounce:s})}function tTt(t){const{element:n}=t;return D(n,"bpmn:UserTask")?[{id:"assignmentDefinitionAssignee",component:nTt,isEdited:Fs},{id:"assignmentDefinitionCandidateGroups",component:rTt,isEdited:Fs},{id:"assignmentDefinitionCandidateUsers",component:iTt,isEdited:Fs}]:[]}function nTt(t){const{element:n}=t,i=P("commandStack"),s=P("bpmnFactory"),o=P("translate"),a=P("debounceInput");return Bs({element:n,id:"assignmentDefinitionAssignee",label:o("Assignee"),feel:"optional",getValue:()=>(Lw(n)||{}).assignee,setValue:u=>{const d=[],p=G(n);let f=p.get("extensionElements");f||(f=Vt("bpmn:ExtensionElements",{values:[]},p,s),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:p,properties:{extensionElements:f}}}));let h=Lw(n);h||(h=Vt("zeebe:AssignmentDefinition",{},f,s),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{assignee:u}}}),i.execute("properties-panel.multi-command-executor",d)},debounce:a})}function rTt(t){const{element:n}=t,i=P("commandStack"),s=P("bpmnFactory"),o=P("translate"),a=P("debounceInput");return Bs({element:n,id:"assignmentDefinitionCandidateGroups",label:o("Candidate groups"),feel:"optional",getValue:()=>(Lw(n)||{}).candidateGroups,setValue:u=>{let d=[];const p=G(n);let f=p.get("extensionElements");f||(f=Vt("bpmn:ExtensionElements",{values:[]},p,s),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:p,properties:{extensionElements:f}}}));let h=Lw(n);h||(h=Vt("zeebe:AssignmentDefinition",{},f,s),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{candidateGroups:u}}}),i.execute("properties-panel.multi-command-executor",d)},debounce:a})}function iTt(t){const{element:n}=t,i=P("commandStack"),s=P("bpmnFactory"),o=P("translate"),a=P("debounceInput");return Bs({element:n,id:"assignmentDefinitionCandidateUsers",label:o("Candidate users"),feel:"optional",getValue:()=>(Lw(n)||{}).candidateUsers,setValue:u=>{let d=[];const p=G(n);let f=p.get("extensionElements");f||(f=Vt("bpmn:ExtensionElements",{values:[]},p,s),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:p,properties:{extensionElements:f}}}));let h=Lw(n);h||(h=Vt("zeebe:AssignmentDefinition",{},f,s),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{candidateUsers:u}}}),i.execute("properties-panel.multi-command-executor",d)},debounce:a})}function Lw(t){return xr(G(t),"zeebe:AssignmentDefinition")[0]}function KZ(t){return!(!D(t,"zeebe:ZeebeServiceTask")||(D(t,"bpmn:EndEvent")||D(t,"bpmn:IntermediateThrowEvent")?!$_(t):un(t,["bpmn:BusinessRuleTask","bpmn:ScriptTask"])&&!function aTt(t){return xr(G(t),"zeebe:TaskDefinition")[0]}(t)))}function gN(t){return xr(G(t),"zeebe:TaskHeaders")[0]}const XZ="jobWorker";function uTt(t){const{element:n}=t;return D(n,"bpmn:BusinessRuleTask")?[{id:"businessRuleImplementation",component:dTt,isEdited:()=>function pTt(t){return jT(t)||zT(t)}(n)}]:[]}function dTt(t){const{element:n,id:i}=t,s=P("commandStack"),o=P("bpmnFactory"),a=P("translate");return Yi({element:n,id:i,label:a("Implementation"),getValue:()=>zT(n)?"dmn":jT(n)?XZ:"",setValue:d=>{let p,f;"dmn"===d?(p=zT(n),f="zeebe:CalledDecision"):d===XZ?(p=jT(n),f="zeebe:TaskDefinition"):function fTt(t,n){_p(t,G(t),[jT(t),gN(t),zT(t)].filter(Boolean),n)}(n,s),!p&&f&&(p=Vt(f,{},null,o),function hTt(t,n,i,s){const o=G(t),a=[];let c,l=o.get("extensionElements");l||(l=Vt("bpmn:ExtensionElements",{values:[]},o,i),a.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:o,properties:{extensionElements:l}}})),n.$parent=l,D(n,"zeebe:TaskDefinition")?c=ar(l.get("values"),zT(t)):D(n,"zeebe:CalledDecision")&&(c=ar(l.get("values"),jT(t))),a.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:l,properties:{values:[...c,n]}}}),s.execute("properties-panel.multi-command-executor",a)}(n,p,o,s))},getOptions:()=>[{value:"",label:a("<none>")},{value:"dmn",label:a("DMN decision")},{value:XZ,label:a("Job worker")}]})}function jT(t){return xr(G(t),"zeebe:TaskDefinition")[0]}function zT(t){return xr(G(t),"zeebe:CalledDecision")[0]}function QZ(t){const{element:n,type:i}=t,s=P("bpmnFactory"),o=P("commandStack"),a=P("translate");return L(Yi,{element:n,id:"bindingType",label:a("Binding"),getValue:()=>yN(n,i),setValue:d=>{const p=[],f=G(n);let h=f.get("extensionElements");h||(h=Vt("bpmn:ExtensionElements",{values:[]},f,s),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{extensionElements:h}}}));let m=xr(f,i)[0];m||(m=Vt(i,{},h,s),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:m,properties:{bindingType:d}}}),o.execute("properties-panel.multi-command-executor",p)},getOptions:()=>[{value:"latest",label:a("latest")},{value:"deployment",label:a("deployment")},{value:"versionTag",label:a("version tag")}]})}function yN(t,n){const s=xr(G(t),n)[0];return s?s.get("bindingType"):"latest"}function ZZ(t){const{element:n,type:i}=t,s=P("bpmnFactory"),o=P("commandStack"),a=P("debounceInput"),l=P("translate");return Ft({element:n,id:"versionTag",label:l("Version tag"),getValue:()=>function mTt(t,n){const s=xr(G(t),n)[0];return s&&s.get("versionTag")||""}(n,i),setValue:d=>{const p=[],f=G(n);let h=f.get("extensionElements");h||(h=Vt("bpmn:ExtensionElements",{values:[]},f,s),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{extensionElements:h}}}));let m=xr(f,i)[0];m||(m=Vt(i,{},h,s),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:m,properties:{versionTag:d}}}),o.execute("properties-panel.multi-command-executor",p)},debounce:a})}const gTt=Nw(QZ,{type:"zeebe:CalledDecision"}),yTt=Nw(ZZ,{type:"zeebe:CalledDecision"});function vTt(t){const{element:n}=t;if(!D(n,"bpmn:BusinessRuleTask")||!HT(n))return[];const i=[{id:"decisionId",component:bTt,isEdited:Fs},{id:"bindingType",component:gTt,isEdited:ms}];return"versionTag"===yN(n,"zeebe:CalledDecision")&&i.push({id:"versionTag",component:yTt,isEdited:en}),i.push({id:"resultVariable",component:_Tt,isEdited:en}),i}function bTt(t){const{element:n,id:i}=t,s=P("commandStack"),o=P("bpmnFactory"),a=P("translate"),l=P("debounceInput");return Bs({element:n,id:i,label:a("Decision ID"),feel:"optional",getValue:()=>(HT(n)||{}).decisionId,setValue:d=>{const p=[],f=G(n);let h=f.get("extensionElements");h||(h=Vt("bpmn:ExtensionElements",{values:[]},f,o),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{extensionElements:h}}}));let m=HT(n);m||(m=Vt("zeebe:CalledDecision",{},h,o),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:m,properties:{decisionId:d}}}),s.execute("properties-panel.multi-command-executor",p)},debounce:l})}function _Tt(t){const{element:n,id:i}=t,s=P("commandStack"),o=P("bpmnFactory"),a=P("translate"),l=P("debounceInput");return Ft({element:n,id:i,label:a("Result variable"),getValue:()=>(HT(n)||{}).resultVariable,setValue:d=>{const p=[],f=G(n);let h=f.get("extensionElements");h||(h=Vt("bpmn:ExtensionElements",{values:[]},f,o),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{extensionElements:h}}}));let m=HT(n);m||(m=Vt("zeebe:CalledDecision",{},h,o),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:m,properties:{resultVariable:d}}}),s.execute("properties-panel.multi-command-executor",p)},debounce:l})}function HT(t){return xr(G(t),"zeebe:CalledDecision")[0]}function ETt(t){const{element:n}=t;if(!D(n,"bpmn:SequenceFlow"))return[];const i=[];return function CTt(t){return un(t,wTt)}(n.source)&&i.push({id:"conditionExpression",component:xTt,isEdited:Fs}),i}function xTt(t){const{element:n}=t,i=P("commandStack"),s=P("bpmnFactory"),o=P("translate"),a=P("debounceInput");return Bs({element:n,id:"conditionExpression",label:o("Condition expression"),feel:"required",getValue:()=>function STt(t){const i=G(t).conditionExpression;if(i)return i.get("body")}(n),setValue:u=>{const d=[],p=G(n),f=n.source;f.businessObject.default===p&&d.push({cmd:"element.updateProperties",context:{element:f,properties:{default:void 0}}});const h=u&&""!=u?Vt("bpmn:FormalExpression",{body:u},p,s):void 0;d.push({cmd:"element.updateProperties",context:{element:n,properties:{conditionExpression:h}}}),i.execute("properties-panel.multi-command-executor",d)},debounce:a})}const wTt=["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"];function TTt(t){const{element:n}=t,i=P("commandStack"),s=P("translate"),o=P("debounceInput"),a=Ty(n);return Bs({element:n,id:"errorCode",label:s("Code"),feel:"optional",getValue:()=>a.get("errorCode"),setValue:u=>i.execute("element.updateModdleProperties",{element:n,moddleElement:a,properties:{errorCode:u}}),debounce:o})}function DTt(t){const{element:n}=t,i=P("commandStack"),s=P("translate"),o=P("debounceInput"),a=Rw(n);return Bs({element:n,id:"escalationCode",label:s("Code"),feel:"optional",getValue:()=>a.get("escalationCode"),setValue:u=>i.execute("element.updateModdleProperties",{element:n,moddleElement:a,properties:{escalationCode:u}}),debounce:o})}function HOe(t){const{idPrefix:n,element:i,listener:s}=t,o=P("modeling"),a=P("translate"),l=P("debounceInput");return Bs({element:i,id:n+"-listenerType",label:a("Listener type"),getValue:()=>s.get("type"),setValue:d=>{o.updateModdleProperties(i,s,{type:d})},debounce:l,feel:"optional"})}function UOe(t){const{idPrefix:n,element:i,listener:s}=t,o=P("modeling"),a=P("translate"),l=P("debounceInput");return Bs({element:i,id:n+"-retries",label:a("Retries"),getValue:()=>s.get("retries"),setValue:d=>{o.updateModdleProperties(i,s,{retries:d})},debounce:l,feel:"optional"})}const qOe={start:"Start",end:"End"};function kTt(t){const{element:n,idPrefix:i,listener:s}=t,o=WOe(n),a=o.length>1?[{id:i+"-eventType",component:MTt,idPrefix:i,listener:s,eventTypes:o}]:[];return a.push({id:i+"-listenerType",component:HOe,idPrefix:i,listener:s},{id:i+"-retries",component:UOe,idPrefix:i,listener:s}),a}function MTt(t){const{idPrefix:n,element:i,listener:s,eventTypes:o}=t,a=P("modeling"),l=P("translate");return Yi({element:i,id:n+"-eventType",label:l("Event type"),getValue:()=>s.get("eventType"),setValue:p=>{a.updateModdleProperties(i,s,{eventType:p})},getOptions:()=>o.map(p=>({value:p,label:l(qOe[p])}))})}function WOe(t){return un(t,["bpmn:BoundaryEvent","bpmn:StartEvent"])?["end"]:D(t,"bpmn:EndEvent")&&function COt(t){return mN(t,"bpmn:ErrorEventDefinition")}(t)||D(t,"bpmn:Gateway")?["start"]:["start","end"]}function ATt({element:t,injector:n}){let i=JZ(t);if(!i)return;if(!function LTt(t,n){return!(!un(t,n.getTypeDescriptor("zeebe:ExecutionListeners").meta.allowedIn)||function FTt(t){return D(t,"bpmn:BoundaryEvent")&&function OOt(t){return mN(t,"bpmn:CompensateEventDefinition")}(t)}(t))}(i,n.get("moddle")))return;const o=function NTt(t){const n=eJ(t);return n&&n.get("listeners")}(i)||[],a=n.get("bpmnFactory"),l=n.get("commandStack"),c=n.get("modeling"),u=n.get("translate");return{items:o.map((p,f)=>{const h=t.id+"-executionListener-"+f,m=p.get("type")||"<no type>";return{id:h,label:u(`${qOe[p.get("eventType")]}: {type}`,{type:m}),entries:kTt({idPrefix:h,element:t,listener:p}),autoFocusEntry:h+"-eventType",remove:ITt({modeling:c,element:t,listener:p})}}),add:RTt({bpmnFactory:a,commandStack:l,element:t})}}function ITt({modeling:t,element:n,listener:i}){return function(s){s.stopPropagation();const a=eJ(JZ(n));if(!a)return;const l=ar(a.get("listeners"),i);t.updateModdleProperties(n,a,{listeners:l})}}function RTt({bpmnFactory:t,commandStack:n,element:i}){return function(s){s.stopPropagation();let o=[];const a=JZ(i);let l=a.get("extensionElements");l||(l=Vt("bpmn:ExtensionElements",{values:[]},a,t),o.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:a,properties:{extensionElements:l}}}));let c=eJ(a);c||(c=Vt("zeebe:ExecutionListeners",{listeners:[]},l,t),o.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:l,properties:{values:[...l.get("values"),c]}}}));const u=Vt("zeebe:ExecutionListener",function BTt(t){return{eventType:WOe(t)[0]}}(i),c,t);o.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:c,properties:{listeners:[...c.get("listeners"),u]}}}),n.execute("properties-panel.multi-command-executor",o)}}function JZ(t){let n=G(t);return D(t,"bpmn:Participant")?n.get("processRef"):n}function eJ(t){const n=xr(t,"zeebe:ExecutionListeners");return n&&n[0]}function Py(t){return xr(G(t),"zeebe:FormDefinition")[0]}function tJ(t,n){n=n||KOe(t);const i=Py(t);if(!i)return;const s=i.get("formKey");return xr(n,"zeebe:UserTaskForm").find(a=>GOe(a.get("id"))===s)}function GOe(t){return`camunda-forms:bpmn:${t}`}function KOe(t){let i=G(t);for(;i.$parent&&!D(i,"bpmn:Process");)i=i.$parent;return i}function YOe(t){const n=Py(t);if(!n)return;const i=n.get("formId"),s=n.get("formKey"),o=n.get("externalReference");return Ki(i)?"camunda-form-linked":Ki(o)?"external-reference":Ki(s)?tJ(t)?"camunda-form-embedded":"custom-form":void 0}function nJ(t){return xr(G(t),"zeebe:UserTask").length>0}const zTt=Nw(QZ,{type:"zeebe:FormDefinition"}),HTt=Nw(ZZ,{type:"zeebe:FormDefinition"}),vN="none";function UTt(t){const{element:n}=t;if(!D(n,"bpmn:UserTask"))return[];const i=[{id:"formType",component:qTt,isEdited:o=>o.value!==vN}],s=YOe(n);return"camunda-form-embedded"===s?i.push({id:"formConfiguration",component:KTt,isEdited:Mu}):"camunda-form-linked"===s?i.push({id:"formId",component:YTt,isEdited:en}):"custom-form"===s?i.push({id:"customFormKey",component:XTt,isEdited:en}):"external-reference"===s&&i.push({id:"externalReference",component:QTt,isEdited:Fs}),"camunda-form-linked"===s&&(i.push({id:"bindingType",component:zTt,isEdited:ms}),"versionTag"===yN(n,"zeebe:FormDefinition")&&i.push({id:"versionTag",component:HTt,isEdited:en})),i}function qTt(t){const{element:n}=t,i=P("injector"),s=P("translate");return Yi({element:n,id:"formType",label:s("Type"),getValue:()=>YOe(n)||vN,setValue:c=>{!function WTt(t,n,i){"camunda-form-embedded"===i?eTe(t,n,""):"camunda-form-linked"===i?QOe(t,n,""):"custom-form"===i?ZOe(t,n,""):"external-reference"===i?JOe(t,n,""):function JTt(t,n){const i=Py(n),s=t.get("modeling");if(i){const a=G(n).get("extensionElements");s.updateModdleProperties(n,a,{values:ar(a.get("values"),i)})}}(t,n)}(i,n,c)},getOptions:()=>function GTt(t,n){return nJ(n)?[{value:vN,label:t("<none>")},{value:"camunda-form-linked",label:t("Camunda Form")},{value:"external-reference",label:t("External form reference")}]:[{value:vN,label:t("<none>")},{value:"camunda-form-linked",label:t("Camunda Form (linked)")},{value:"camunda-form-embedded",label:t("Camunda Form (embedded)")},{value:"custom-form",label:t("Custom form key")}]}(s,n)})}function KTt(t){const{element:n}=t,i=P("debounceInput"),s=P("injector"),o=P("translate");return vc({element:n,id:"formConfiguration",label:o("Form JSON configuration"),rows:4,getValue:()=>tJ(n).get("body"),setValue:c=>{eTe(s,n,Di(c)?"":c)},debounce:i})}function YTt(t){const{element:n}=t,i=P("debounceInput"),s=P("injector"),o=P("translate");return Ft({element:n,id:"formId",label:o("Form ID"),getValue:()=>Py(n).get("formId"),setValue:c=>{QOe(s,n,Di(c)?"":c)},debounce:i})}function XTt(t){const{element:n}=t,i=P("debounceInput"),s=P("injector"),o=P("translate");return Ft({element:n,id:"customFormKey",label:o("Custom form key"),getValue:()=>Py(n).get("formKey"),setValue:c=>{ZOe(s,n,Di(c)?"":c)},debounce:i})}function QTt(t){const{element:n}=t,i=P("debounceInput"),s=P("injector"),o=P("translate");return Bs({element:n,id:"externalReference",label:o("External form reference"),feel:"optional",getValue:()=>Py(n).get("externalReference"),setValue:c=>{JOe(s,n,Di(c)?"":c)},debounce:i})}function XOe(t,n,i){const s=i||G(n);let o=s.get("extensionElements");return o?{commands:[],extensionElements:o}:(o=Vt("bpmn:ExtensionElements",{values:[]},s,t.get("bpmnFactory")),{commands:[Dy(n,s,{extensionElements:o})],extensionElements:o})}function bN(t,n){let i=Py(n);if(i)return{commands:[],formDefinition:i};const{extensionElements:s,commands:o}=XOe(t,n);return i=function ePt(t,n,i){return Vt("zeebe:FormDefinition",n,i,t.get("bpmnFactory"))}(t,{},s),{commands:[...o,Dy(n,s,{values:[...s.get("values"),i]})],formDefinition:i}}function QOe(t,n,i){let{commands:s,formDefinition:o}=bN(t,n);t.get("commandStack").execute("properties-panel.multi-command-executor",[...s,Dy(n,o,{formId:i})])}function ZOe(t,n,i){let{commands:s,formDefinition:o}=bN(t,n);t.get("commandStack").execute("properties-panel.multi-command-executor",[...s,Dy(n,o,{formKey:i})])}function JOe(t,n,i){let{commands:s,formDefinition:o}=bN(t,n);t.get("commandStack").execute("properties-panel.multi-command-executor",[...s,Dy(n,o,{externalReference:i})])}function eTe(t,n,i){let{commands:s,userTaskForm:o}=function ZTt(t,n){let i=tJ(n);if(i)return{commands:[],formDefinition:Py(n),userTaskForm:i};const s=KOe(n),{extensionElements:o,commands:a}=XOe(t,n,s),{formDefinition:l,commands:c}=bN(t,n),u=function jTt(){return zm("UserTaskForm_")}();return i=function tPt(t,n,i){return Vt("zeebe:UserTaskForm",n,i,t.get("bpmnFactory"))}(t,{id:u},o),{commands:[...a,...c,Dy(n,o,{values:[...o.get("values"),i]}),Dy(n,l,{formKey:GOe(u)})],formDefinition:l,userTaskForm:i}}(t,n);t.get("commandStack").execute("properties-panel.multi-command-executor",[...s,Dy(n,o,{body:i})])}function Dy(t,n,i){return{cmd:"element.updateModdleProperties",context:{element:t,moddleElement:n,properties:i}}}function nPt(t){const{idPrefix:n,header:i}=t;return[{id:n+"-key",component:rPt,header:i,idPrefix:n},{id:n+"-value",component:iPt,header:i,idPrefix:n}]}function rPt(t){const{idPrefix:n,element:i,header:s}=t,o=P("commandStack"),a=P("translate"),l=P("debounceInput");return Ft({element:s,id:n+"-key",label:a("Key"),getValue:d=>d.key,setValue:d=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:s,properties:{key:d}})},debounce:l})}function iPt(t){const{idPrefix:n,element:i,header:s}=t,o=P("commandStack"),a=P("translate"),l=P("debounceInput");return vc({element:s,id:n+"-value",label:a("Value"),getValue:d=>d.value,setValue:d=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:s,properties:{value:d}})},debounce:l,autoResize:!0})}function sPt({element:t,injector:n}){if(!function lTt(t){return D(t,"bpmn:UserTask")||KZ(t)}(t))return null;const i=function cTt(t){const n=gN(t);return n?n.get("values"):[]}(t)||[],s=n.get("bpmnFactory"),o=n.get("commandStack");return{items:i.map((l,c)=>{const u=t.id+"-header-"+c;return{id:u,label:l.get("key")||"",entries:nPt({idPrefix:u,element:t,header:l}),autoFocusEntry:u+"-key",remove:oPt({commandStack:o,element:t,header:l})}}),add:aPt({bpmnFactory:s,commandStack:o,element:t})}}function oPt({commandStack:t,element:n,header:i}){return function(s){s.stopPropagation();let o=[];const a=gN(n);if(!a)return;const l=ar(a.get("values"),i);if(o.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:a,properties:{values:l}}}),!l.length){const u=G(n).get("extensionElements");o.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:u,properties:{values:ar(u.get("values"),a)}}})}t.execute("properties-panel.multi-command-executor",o)}}function aPt({bpmnFactory:t,commandStack:n,element:i}){return function(s){s.stopPropagation();let o=[];const a=G(i);let l=a.get("extensionElements");l||(l=Vt("bpmn:ExtensionElements",{values:[]},a,t),o.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:a,properties:{extensionElements:l}}}));let c=gN(i);c||(c=Vt("zeebe:TaskHeaders",{values:[]},l,t),o.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:l,properties:{values:[...l.get("values"),c]}}}));const u=Vt("zeebe:Header",{},c,t);o.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:c,properties:{values:[...c.get("values"),u]}}}),n.execute("properties-panel.multi-command-executor",o)}}function Fw(t){return function cPt(t){return xr(G(t),"zeebe:CalledElement")}(t)[0]}function uPt(t){const{element:n}=t;return D(n,"bpmn:CallActivity")?[{id:"propagateAllParentVariables",component:dPt,isEdited:y6e}]:[]}function dPt(t){const{element:n}=t,i=P("commandStack"),s=P("bpmnFactory"),o=P("translate"),a=function pPt(t){if(!D(t,"bpmn:CallActivity"))return;const i=Fw(G(t));return!i||!Zo(i,"propagateAllParentVariables")||i.get("propagateAllParentVariables")}(n);return cN({id:"propagateAllParentVariables",label:o("Propagate all parent process variables"),switcherLabel:o(a?"On":"Off"),tooltip:L("div",{children:[L("p",{children:o("If turned on, all variables from the parent process instance will be propagated to the child process instance.")}),L("p",{children:o("Otherwise, only variables defined via input mappings will be propagated.")})]}),getValue:()=>a,setValue:u=>{const d=[],p=G(n);let f=p.get("extensionElements");f||(f=Vt("bpmn:ExtensionElements",{values:[]},p,s),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:p,properties:{extensionElements:f}}}));let h=Fw(p);h||(h=Vt("zeebe:CalledElement",{},f,s),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{propagateAllParentVariables:u}}}),i.execute("properties-panel.multi-command-executor",d)}})}function tTe(t){const{idPrefix:n,parameter:i}=t;return[{id:n+"-target",component:fPt,idPrefix:n,parameter:i},{id:n+"-source",component:hPt,idPrefix:n,parameter:i}]}function fPt(t){const{idPrefix:n,element:i,parameter:s}=t,o=P("commandStack"),a=P("translate"),l=P("debounceInput");return Ft({element:s,id:n+"-target",label:a(D(s,"zeebe:Input")?"Local variable name":"Process variable name"),getValue:d=>d.target,setValue:d=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:s,properties:{target:d}})},debounce:l})}function hPt(t){const{idPrefix:n,element:i,parameter:s}=t,o=P("commandStack"),a=P("translate"),l=P("debounceInput");return Bs({bpmnElement:i,element:s,id:n+"-source",label:a("Variable assignment value"),feel:"required",getValue:d=>d.source,setValue:d=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:s,properties:{source:d}})},debounce:l})}function nTe(t,n){const i=UT(t);return i&&i.get(n)||[]}function UT(t){return(function mPt(t,n,i){const s=xr(t,n);return i?(s[0]||{})[i]||[]:s}(G(t),"zeebe:IoMapping")||[])[0]}function rTe(t){return nTe.apply(this,[t,"outputParameters"])}function iTe(t,n,i){return Vt("zeebe:IoMapping",t,n,i)}function EPt({element:t,injector:n}){if(!function yPt(t){return un(t,["bpmn:UserTask","bpmn:SubProcess","bpmn:CallActivity","bpmn:BusinessRuleTask","bpmn:ScriptTask"])||KZ(t)||function _Pt(t){return!!un(t,["bpmn:EndEvent","bpmn:IntermediateThrowEvent"])&&!!Xh(t,"bpmn:SignalEventDefinition")}(t)}(t))return null;const i=function gPt(t){return nTe.apply(this,[t,"inputParameters"])}(t)||[],s=n.get("bpmnFactory"),o=n.get("commandStack");return{items:i.map((l,c)=>{const u=t.id+"-input-"+c;return{id:u,label:l.get("target")||"",entries:tTe({idPrefix:u,element:t,parameter:l}),autoFocusEntry:u+"-target",remove:xPt({commandStack:o,element:t,parameter:l})}}),add:wPt({element:t,bpmnFactory:s,commandStack:o})}}function xPt({commandStack:t,element:n,parameter:i}){return function(s){s.stopPropagation();const o=[],a=UT(n);if(!a)return;const l=ar(a.get("inputParameters"),i);o.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:a,properties:{inputParameters:l}}});const u=G(n).get("extensionElements"),d=ar(u.get("values"),a);!l.length&&!a.get("outputParameters").length&&o.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:u,properties:{values:d}}}),t.execute("properties-panel.multi-command-executor",o)}}function wPt({element:t,bpmnFactory:n,commandStack:i}){return function(s){s.stopPropagation();const o=[],a=G(t);let l=a.get("extensionElements");l||(l=Vt("bpmn:ExtensionElements",{values:[]},a,n),o.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:a,properties:{extensionElements:l}}}));let c=UT(t);c||(c=iTe({inputParameters:[],outputParameters:[]},l,n),o.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:l,properties:{values:[...l.get("values"),c]}}}));const u=Vt("zeebe:Input",{target:zm("InputVariable_")},c,n);o.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:c,properties:{inputParameters:[...c.get("inputParameters"),u]}}}),i.execute("properties-panel.multi-command-executor",o)}}function SPt(t){const{element:n}=t,i=P("commandStack"),s=P("translate"),o=P("debounceInput"),a=V_(n);return Bs({element:n,id:"messageName",label:s("Name"),feel:"optional",getValue:()=>a.get("name"),setValue:u=>i.execute("element.updateModdleProperties",{element:n,moddleElement:a,properties:{name:u}}),debounce:o})}function OPt(t){const{element:n}=t,i=P("bpmnFactory"),s=P("commandStack"),o=P("translate"),a=P("debounceInput");return Bs({element:n,id:"messageSubscriptionCorrelationKey",label:o("Subscription correlation key"),feel:"required",getValue:()=>function PPt(t){const n=sTe(t);return n?n.get("correlationKey"):""}(n),setValue:u=>{const d=[],p={correlationKey:u},f=V_(n);let h=f.get("extensionElements");h||(h=Vt("bpmn:ExtensionElements",{values:[]},f,i),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{extensionElements:h}}}));let m=sTe(n);m?d.push({cmd:"element.updateModdleProperties",context:{element:n,properties:p,moddleElement:m}}):(m=Vt("zeebe:Subscription",p,h,i),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),s.execute("properties-panel.multi-command-executor",d)},debounce:a})}function sTe(t){return function DPt(t){return xr(t,"zeebe:Subscription")}(V_(t))[0]}function kPt(t){const{element:n}=t;return function LPt(t){return!!qT(t)}(n)?[{id:"multiInstance-inputCollection",component:MPt,isEdited:Fs},{id:"multiInstance-inputElement",component:APt,isEdited:en},{id:"multiInstance-outputCollection",component:IPt,isEdited:en},{id:"multiInstance-outputElement",component:RPt,isEdited:Fs},{id:"multiInstance-completionCondition",component:NPt,isEdited:Fs}]:[]}function MPt(t){const{element:n}=t,i=P("commandStack"),s=P("bpmnFactory"),o=P("translate"),a=P("debounceInput");return Bs({element:n,id:"multiInstance-inputCollection",label:o("Input collection"),feel:"required",getValue:()=>_N(n,"inputCollection"),setValue:u=>EN(n,"inputCollection",u,i,s),debounce:a})}function APt(t){const{element:n}=t,i=P("commandStack"),s=P("bpmnFactory"),o=P("translate"),a=P("debounceInput");return Ft({element:n,id:"multiInstance-inputElement",label:o("Input element"),getValue:()=>_N(n,"inputElement"),setValue:u=>EN(n,"inputElement",u,i,s),debounce:a})}function IPt(t){const{element:n}=t,i=P("commandStack"),s=P("bpmnFactory"),o=P("translate"),a=P("debounceInput");return Ft({element:n,id:"multiInstance-outputCollection",label:o("Output collection"),getValue:()=>_N(n,"outputCollection"),setValue:u=>EN(n,"outputCollection",u,i,s),debounce:a})}function RPt(t){const{element:n}=t,i=P("commandStack"),s=P("bpmnFactory"),o=P("translate"),a=P("debounceInput");return Bs({element:n,id:"multiInstance-outputElement",label:o("Output element"),feel:"required",getValue:()=>_N(n,"outputElement"),setValue:u=>EN(n,"outputElement",u,i,s),debounce:a})}function NPt(t){const{element:n}=t,i=P("commandStack"),s=P("bpmnFactory"),o=P("translate"),a=P("debounceInput");return Bs({element:n,id:"multiInstance-completionCondition",label:o("Completion condition"),feel:"required",getValue:()=>{const u=function FPt(t){return qT(t).get("completionCondition")}(n);return u&&u.get("body")},setValue:u=>$T(n,qT(n),"completionCondition",u,s,i),debounce:a})}function qT(t){return G(t).get("loopCharacteristics")}function oTe(t){const n=xr(t,"zeebe:LoopCharacteristics");return n&&n[0]}function _N(t,n){const s=oTe(qT(t));return s&&s.get(n)}function EN(t,n,i,s,o){const a=qT(t),l=[];let c=a.get("extensionElements");c||(c=Vt("bpmn:ExtensionElements",{values:[]},a,o),l.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:a,properties:{extensionElements:c}}}));let u=oTe(a);u||(u=Vt("zeebe:LoopCharacteristics",{},c,o),l.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:c,properties:{values:[...c.get("values"),u]}}})),l.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:u,properties:{[n]:i}}}),s.execute("properties-panel.multi-command-executor",l)}function BPt(t){const{element:n}=t;return D(n,"bpmn:CallActivity")?[{id:"propagateAllChildVariables",component:$Pt,isEdited:y6e}]:[]}function $Pt(t){const{element:n}=t,i=P("commandStack"),s=P("bpmnFactory"),o=P("translate"),a=function jPt(t){if(!D(t,"bpmn:CallActivity"))return;const i=Fw(G(t));return i&&Zo(i,"propagateAllChildVariables")?i.get("propagateAllChildVariables"):function VPt(t){const n=rTe(t);if(n)return!(n.length>0)}(t)}(n);return cN({id:"propagateAllChildVariables",label:o("Propagate all child process variables"),switcherLabel:o(a?"On":"Off"),tooltip:L("div",{children:[L("p",{children:o("If turned on, all variables from the child process instance will be propagated to the parent process instance.")}),L("p",{children:o("Otherwise, only variables defined via output mappings will be propagated.")})]}),getValue:()=>a,setValue:u=>{const d=[],p=G(n);let f=p.get("extensionElements");f||(f=Vt("bpmn:ExtensionElements",{values:[]},p,s),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:p,properties:{extensionElements:f}}}));let h=Fw(p);h||(h=Vt("zeebe:CalledElement",{},f,s),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{propagateAllChildVariables:u}}}),i.execute("properties-panel.multi-command-executor",d)}})}function zPt({element:t,injector:n}){if(!function vPt(t){return(!D(t,"bpmn:EndEvent")||!Iw(t)&&!function bPt(t){return Xh(t,"bpmn:TerminateEventDefinition")}(t))&&un(t,["zeebe:ZeebeServiceTask","bpmn:UserTask","bpmn:SubProcess","bpmn:ReceiveTask","bpmn:CallActivity","bpmn:Event","bpmn:BusinessRuleTask"])}(t))return null;const i=rTe(t)||[],s=n.get("bpmnFactory"),o=n.get("commandStack");return{items:i.map((l,c)=>{const u=t.id+"-output-"+c;return{id:u,label:l.get("target")||"",entries:tTe({idPrefix:u,element:t,parameter:l}),autoFocusEntry:u+"-target",remove:HPt({commandStack:o,element:t,parameter:l})}}),add:UPt({element:t,bpmnFactory:s,commandStack:o})}}function HPt({commandStack:t,element:n,parameter:i}){return function(s){s.stopPropagation();let o=[];const a=UT(n);if(!a)return;const l=ar(a.get("outputParameters"),i);if(o.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:a,properties:{outputParameters:l}}}),!a.get("inputParameters").length&&!l.length){const u=G(n).get("extensionElements"),d=ar(u.get("values"),a);o.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:u,properties:{values:d}}})}t.execute("properties-panel.multi-command-executor",o)}}function UPt({element:t,bpmnFactory:n,commandStack:i}){return function(s){s.stopPropagation();let o=[];const a=G(t);let l=a.get("extensionElements");l||(l=Vt("bpmn:ExtensionElements",{values:[]},a,n),o.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:a,properties:{extensionElements:l}}}));let c=UT(t);c||(c=iTe({inputParameters:[],outputParameters:[]},l,n),o.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:l,properties:{values:[...l.get("values"),c]}}}));const u=Vt("zeebe:Output",{target:zm("OutputVariable_")},c,n);o.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:c,properties:{outputParameters:[...c.get("outputParameters"),u]}}}),i.execute("properties-panel.multi-command-executor",o)}}function qPt(t){const{element:n}=t;return function GPt(t){const n=G(t);return D(t,"bpmn:UserTask")&&!!xr(n,"zeebe:UserTask")[0]}(n)?[{id:"priorityDefinitionPriority",component:WPt,isEdited:Fs}]:[]}function WPt(t){const{element:n}=t,i=P("commandStack"),s=P("bpmnFactory"),o=P("translate"),a=P("debounceInput");return Bs({element:n,id:"priorityDefinitionPriority",label:o("Priority"),feel:"optional",getValue:()=>(aTe(n)||{}).priority,setValue:u=>{const d=[];let f=G(n).get("extensionElements"),h=aTe(n);const m=null===u||""===u||void 0===u;h&&m?d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{values:f.get("values").filter(y=>y!==h)}}}):h&&!m?d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{priority:u}}}):!h&&!m&&(h=Vt("zeebe:PriorityDefinition",{priority:u},f,s),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),i.execute("properties-panel.multi-command-executor",d)},debounce:a})}function aTe(t){return xr(G(t),"zeebe:PriorityDefinition")[0]}const rJ="script",iJ="jobWorker";function KPt(t){const{element:n}=t;return D(n,"bpmn:ScriptTask")?[{id:"scriptImplementation",component:YPt,isEdited:()=>function QPt(t){return xN(t)||WT(t)}(n)}]:[]}function YPt(t){const{element:n,id:i}=t,s=P("commandStack"),o=P("bpmnFactory"),a=P("translate");return Yi({element:n,id:i,label:a("Implementation"),getValue:()=>WT(n)?rJ:xN(n)?iJ:"",setValue:d=>{let p,f;d===rJ?(p=WT(n),f="zeebe:Script"):d===iJ?(p=xN(n),f="zeebe:TaskDefinition"):function ZPt(t,n){const i=G(t),s=xN(t),o=function XPt(t){return xr(G(t),"zeebe:TaskHeaders")}(t),a=WT(t);s?_p(t,i,[s,o].filter(Boolean),n):a&&_p(t,i,a,n)}(n,s),!p&&f&&(p=Vt(f,{},null,o),function JPt(t,n,i,s){const o=G(t),a=[];let c,l=o.get("extensionElements");if(l||(l=Vt("bpmn:ExtensionElements",{values:[]},o,i),a.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:o,properties:{extensionElements:l}}})),n.$parent=l,D(n,"zeebe:TaskDefinition"))c=ar(l.get("values"),WT(t));else if(D(n,"zeebe:Script")){const u=d=>un(d,["zeebe:TaskDefinition","zeebe:TaskHeaders"]);c=ar(l.get("values"),u)}a.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:l,properties:{values:[...c,n]}}}),s.execute("properties-panel.multi-command-executor",a)}(n,p,o,s))},getOptions:()=>[{value:"",label:a("<none>")},{value:rJ,label:a("FEEL expression")},{value:iJ,label:a("Job worker")}]})}function xN(t){return xr(G(t),"zeebe:TaskDefinition")[0]}function WT(t){return xr(G(t),"zeebe:Script")[0]}function eDt(t){const{element:n}=t;return D(n,"bpmn:ScriptTask")&&GT(n)?[{id:"resultVariable",component:nDt,isEdited:en},{id:"scriptExpression",component:tDt,isEdited:Fs}]:[]}function tDt(t){const{element:n,id:i}=t,s=P("commandStack"),o=P("bpmnFactory"),a=P("translate"),l=P("debounceInput");return Bs({element:n,id:i,label:a("FEEL expression"),feel:"required",getValue:()=>(GT(n)||{}).get("expression"),setValue:d=>{const p=[],f=G(n);let h=f.get("extensionElements");h||(h=Vt("bpmn:ExtensionElements",{values:[]},f,o),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{extensionElements:h}}}));let m=GT(n);m||(m=Vt("zeebe:Script",{},h,o),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:m,properties:{expression:d}}}),s.execute("properties-panel.multi-command-executor",p)},debounce:l})}function nDt(t){const{element:n,id:i}=t,s=P("commandStack"),o=P("bpmnFactory"),a=P("translate"),l=P("debounceInput");return Ft({element:n,id:i,label:a("Result variable"),getValue:()=>(GT(n)||{}).resultVariable,setValue:d=>{const p=[],f=G(n);let h=f.get("extensionElements");h||(h=Vt("bpmn:ExtensionElements",{values:[]},f,o),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{extensionElements:h}}}));let m=GT(n);m||(m=Vt("zeebe:Script",{},h,o),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:m,properties:{resultVariable:d}}}),s.execute("properties-panel.multi-command-executor",p)},debounce:l})}function GT(t){return xr(G(t),"zeebe:Script")[0]}function iDt(t){const{element:n}=t,i=P("commandStack"),s=P("translate"),o=P("debounceInput"),a=$Oe(n);return Bs({element:n,id:"signalName",label:s("Name"),feel:"optional",getValue:()=>a.get("name"),setValue:u=>i.execute("element.updateModdleProperties",{element:n,moddleElement:a,properties:{name:u}}),debounce:o})}const sDt=Nw(QZ,{type:"zeebe:CalledElement"}),oDt=Nw(ZZ,{type:"zeebe:CalledElement"});function aDt(t){const{element:n}=t;if(!D(n,"bpmn:CallActivity"))return[];const i=[{id:"targetProcessId",component:lDt,isEdited:Fs},{id:"bindingType",component:sDt,isEdited:ms}];return"versionTag"===yN(n,"zeebe:CalledElement")&&i.push({id:"versionTag",component:oDt,isEdited:en}),i}function lDt(t){const{element:n,id:i}=t,s=P("commandStack"),o=P("bpmnFactory"),a=P("translate"),l=P("debounceInput");return Bs({element:n,id:i,label:a("Process ID"),feel:"optional",getValue:()=>function lPt(t){const n=Fw(t);return n?n.get("processId"):""}(n),setValue:d=>{const p=[],f=G(n);let h=f.get("extensionElements");h||(h=Vt("bpmn:ExtensionElements",{values:[]},f,o),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{extensionElements:h}}}));let m=Fw(f);m||(m=Vt("zeebe:CalledElement",{},h,o),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:m,properties:{processId:d}}}),s.execute("properties-panel.multi-command-executor",p)},debounce:l})}function cDt(t){const{element:n}=t;return KZ(n)?[{id:"taskDefinitionType",component:uDt,isEdited:Fs},{id:"taskDefinitionRetries",component:dDt,isEdited:Fs}]:[]}function uDt(t){const{element:n,id:i}=t,s=P("commandStack"),o=P("bpmnFactory"),a=P("translate"),l=P("debounceInput");return Bs({element:n,id:i,label:a("Job type"),feel:"optional",getValue:()=>(wN(n)||{}).type,setValue:d=>{const p=[],f=G(n);let h=f.get("extensionElements");h||(h=Vt("bpmn:ExtensionElements",{values:[]},f,o),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{extensionElements:h}}}));let m=wN(n);m||(m=Vt("zeebe:TaskDefinition",{},h,o),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:m,properties:{type:d}}}),s.execute("properties-panel.multi-command-executor",p)},debounce:l})}function dDt(t){const{element:n,id:i}=t,s=P("commandStack"),o=P("bpmnFactory"),a=P("translate"),l=P("debounceInput");return Bs({element:n,id:i,label:a("Retries"),feel:"optional",getValue:()=>(wN(n)||{}).retries,setValue:d=>{let p=[];const f=G(n);let h=f.get("extensionElements");h||(h=Vt("bpmn:ExtensionElements",{values:[]},f,o),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{extensionElements:h}}}));let m=wN(n);m||(m=Vt("zeebe:TaskDefinition",{},h,o),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),p.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:m,properties:{retries:d}}}),s.execute("properties-panel.multi-command-executor",p)},debounce:l})}function wN(t){return xr(G(t),"zeebe:TaskDefinition")[0]}const cTe=["assigning","updating","completing"],uTe={assigning:"Assigning",updating:"Updating",completing:"Completing"};function pDt(t){const{idPrefix:n,listener:i}=t;return[{id:n+"-eventType",component:fDt,idPrefix:n,listener:i,eventTypes:cTe},{id:n+"-listenerType",component:HOe,idPrefix:n,listener:i},{id:n+"-retries",component:UOe,idPrefix:n,listener:i}]}function fDt(t){const{idPrefix:n,element:i,listener:s,eventTypes:o}=t,a=P("modeling"),l=P("translate");return Yi({element:i,id:n+"-eventType",label:l("Event type"),getValue:()=>s.get("eventType"),setValue:p=>{a.updateModdleProperties(i,s,{eventType:p})},getOptions:()=>o.map(p=>({value:p,label:l(uTe[p])}))})}function hDt({element:t,injector:n}){let i=sJ(t);if(!i||!nJ(t))return;if(!function vDt(t,n){return un(t,n.getTypeDescriptor("zeebe:TaskListeners").meta.allowedIn)}(i,n.get("moddle")))return;const o=function yDt(t){const n=oJ(t);return n&&n.get("listeners")}(i)||[],a=n.get("bpmnFactory"),l=n.get("commandStack"),c=n.get("modeling"),u=n.get("translate");return{items:o.map((p,f)=>{const h=t.id+"-taskListener-"+f,m=p.get("type")||"<no type>",y=p.get("eventType");return{id:h,label:u("{eventType}: {type}",{eventType:uTe[y]||y,type:m}),entries:pDt({idPrefix:h,listener:p}),autoFocusEntry:h+"-eventType",remove:mDt({modeling:c,element:t,listener:p})}}),add:gDt({bpmnFactory:a,commandStack:l,element:t})}}function mDt({modeling:t,element:n,listener:i}){return function(s){s.stopPropagation();const a=oJ(sJ(n));if(!a)return;const l=ar(a.get("listeners"),i);t.updateModdleProperties(n,a,{listeners:l})}}function gDt({bpmnFactory:t,commandStack:n,element:i}){return function(s){s.stopPropagation();let o=[];const a=sJ(i);let l=a.get("extensionElements");l||(l=Vt("bpmn:ExtensionElements",{values:[]},a,t),o.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:a,properties:{extensionElements:l}}}));let c=oJ(a);c||(c=Vt("zeebe:TaskListeners",{listeners:[]},l,t),o.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:l,properties:{values:[...l.get("values"),c]}}}));const u=Vt("zeebe:TaskListener",function bDt(){return{eventType:cTe[0]}}(),c,t);o.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:c,properties:{listeners:[...c.get("listeners"),u]}}}),n.execute("properties-panel.multi-command-executor",o)}}function sJ(t){let n=G(t);return D(t,"bpmn:Participant")?n.get("processRef"):n}function oJ(t){const n=xr(t,"zeebe:TaskListeners");return n&&n[0]}function _Dt(t){const{element:n}=t;return D(n,"bpmn:UserTask")?[{id:"taskScheduleDueDate",component:EDt,isEdited:Fs},{id:"taskScheduleFollowUpDate",component:xDt,isEdited:Fs}]:[]}function EDt(t){const{element:n}=t,i=P("commandStack"),s=P("bpmnFactory"),o=P("translate"),a=P("debounceInput");return Bs({element:n,id:"taskScheduleDueDate",label:o("Due date"),feel:"optional",getValue:()=>{const u=CN(n);if(u)return u.get("dueDate")},setValue:u=>{let d=[];const p=G(n);let f=p.get("extensionElements");f||(f=Vt("bpmn:ExtensionElements",{values:[]},p,s),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:p,properties:{extensionElements:f}}}));let h=CN(n);h||(h=Vt("zeebe:TaskSchedule",{},f,s),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{dueDate:u}}}),i.execute("properties-panel.multi-command-executor",d)},debounce:a})}function xDt(t){const{element:n}=t,i=P("commandStack"),s=P("bpmnFactory"),o=P("translate"),a=P("debounceInput");return Bs({element:n,id:"taskScheduleFollowUpDate",label:o("Follow up date"),feel:"optional",getValue:()=>{const u=CN(n);if(u)return u.get("followUpDate")},setValue:u=>{let d=[];const p=G(n);let f=p.get("extensionElements");f||(f=Vt("bpmn:ExtensionElements",{values:[]},p,s),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:p,properties:{extensionElements:f}}}));let h=CN(n);h||(h=Vt("zeebe:TaskSchedule",{},f,s),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{followUpDate:u}}}),i.execute("properties-panel.multi-command-executor",d)},debounce:a})}function CN(t){return xr(G(t),"zeebe:TaskSchedule")[0]}function aJ(t,n){const i=G(n);switch(t){case"timeDate":return un(n,["bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent","bpmn:StartEvent"]);case"timeCycle":return!!(D(n,"bpmn:StartEvent")&&!pTe(i)||!dTe(i)||D(n,"bpmn:BoundaryEvent")&&!dTe(i));case"timeDuration":return!!(un(n,["bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"])||D(n,"bpmn:StartEvent")&&pTe(i));default:return!1}}function dTe(t){return D(t,"bpmn:BoundaryEvent")?!1!==t.get("cancelActivity"):!1!==t.get("isInterrupting")}function pTe(t){const n=t.$parent;return n&&D(n,"bpmn:SubProcess")&&n.get("triggeredByEvent")}function wDt(t){const{element:n,injector:i}=t,s=i.get("translate"),l=hN(j_(G(n)));if(!GZ(n))return[];const c=function CDt(t,n){const i=[];return aJ("timeDate",t)&&i.push({value:"timeDate",label:n("Date")}),aJ("timeDuration",t)&&i.push({value:"timeDuration",label:n("Duration")}),aJ("timeCycle",t)&&i.push({value:"timeCycle",label:n("Cycle")}),i}(n,s),u=[];return u.push({id:"timerEventDefinitionType",component:SDt,isEdited:ms,options:c}),l&&u.push({id:"timerEventDefinitionValue",component:ODt,isEdited:Fs,timerEventDefinitionType:l||c[0].value}),u}function SDt(t){const{element:n,options:i}=t,s=P("commandStack"),o=P("bpmnFactory"),a=P("translate"),c=j_(G(n)),u=hN(c);return Yi({element:n,id:"timerEventDefinitionType",label:a("Type"),getValue:()=>u||"",setValue:h=>{if(h===u)return;const m=fTe(o,c),y={timeDuration:void 0,timeDate:void 0,timeCycle:void 0};""!==h&&(y[h]=m),s.execute("element.updateModdleProperties",{element:n,moddleElement:c,properties:y})},getOptions:h=>[{value:"",label:a("<none>")},...i]})}function ODt(t){const{element:n,label:i,timerEventDefinitionType:s}=t,o=P("commandStack"),a=P("translate"),l=P("debounceInput"),c=P("bpmnFactory"),d=j_(G(n)),p=d.get(s);return Bs({element:n,id:"timerEventDefinitionValue",label:i||a("Value"),feel:"optional",getValue:()=>p&&p.get("body"),setValue:m=>{if(!p){const y=fTe(c,d);return y.set("body",m),void o.execute("element.updateModdleProperties",{element:n,moddleElement:d,properties:{[s]:y}})}o.execute("element.updateModdleProperties",{element:n,moddleElement:p,properties:{body:m}})},debounce:l,tooltip:TDt(s,a)})}function fTe(t,n){const i=t.create("bpmn:FormalExpression",{body:void 0});return i.$parent=n,i}function TDt(t,n){switch(t){case"timeDate":return L("div",{children:[L("p",{children:n("A specific point in time defined as ISO 8601 combined date and time representation.")}),L("ul",{children:[L("li",{children:[L("code",{children:"2019-10-01T12:00:00Z"})," - ",n("UTC time")]}),L("li",{children:[L("code",{children:"2019-10-02T08:09:40+02:00"})," - ",n("UTC plus 2 hours zone offset")]})]}),L("a",{href:"https://docs.camunda.io/docs/reference/bpmn-processes/timer-events/timer-events#time-date",target:"_blank",rel:"noopener noreferrer",title:n("Timer documentation"),children:n("How to configure a timer")})]});case"timeCycle":return L("div",{children:[L("p",{children:n("A cycle defined as ISO 8601 repeating intervals format, or a cron expression.")}),L("ul",{children:[L("li",{children:[L("code",{children:"R5/PT10S"})," - ",n("every 10 seconds, up to 5 times")]}),L("li",{children:[L("code",{children:"R/P1D"})," - ",n("every day, infinitely")]}),L("li",{children:[L("code",{children:"0 0 9-17 * * MON-FRI"})," - ",n("every hour on the hour from 9-5 p.m. UTC Monday-Friday")]})]}),L("a",{href:"https://docs.camunda.io/docs/reference/bpmn-processes/timer-events/timer-events#time-cycle",target:"_blank",rel:"noopener noreferrer",title:n("Timer documentation"),children:n("How to configure a timer")})]});case"timeDuration":return L("div",{children:[L("p",{children:n("A time duration defined as ISO 8601 durations format.")}),L("ul",{children:[L("li",{children:[L("code",{children:"PT15S"})," - ",n("15 seconds")]}),L("li",{children:[L("code",{children:"PT1H30M"})," - ",n("1 hour and 30 minutes")]}),L("li",{children:[L("code",{children:"P14D"})," - ",n("14 days")]})]}),L("a",{href:"https://docs.camunda.io/docs/reference/bpmn-processes/timer-events/timer-events#time-duration",target:"_blank",rel:"noopener noreferrer",title:n("Timer documentation"),children:n("How to configure a timer")})]})}}const lJ="zeebeUserTask",cJ="jobWorker";function PDt(t){const{element:n}=t;return D(n,"bpmn:UserTask")?[{id:"userTaskImplementation",component:DDt,isEdited:()=>function ADt(t){return uJ(t)}(n)}]:[]}function DDt(t){const{element:n,id:i}=t,s=P("commandStack"),o=P("bpmnFactory"),a=P("translate");return Yi({element:n,id:i,label:a("Type"),getValue:()=>uJ(n)?lJ:cJ,setValue:d=>{d===lJ?function kDt(t,n,i){const s=G(t);Qh(t,s,Vt("zeebe:UserTask",{},s,n),n,i)}(n,o,s):d===cJ&&function MDt(t,n){const i=uJ(t);_p(t,G(t),i,n)}(n,s)},getOptions:()=>[{value:lJ,label:a("Camunda user task")},{value:cJ,label:a("Job worker")}]})}function uJ(t){return xr(G(t),"zeebe:UserTask")[0]}function RDt(t){const{element:n}=t,i=P("bpmnFactory"),s=P("commandStack"),o=P("debounceInput"),a=P("translate");return Ft({element:n,id:"versionTag",label:a("Version tag"),getValue:()=>{const u=mTe(n);if(u)return u.get("value")},setValue:u=>{let d=[];const p=hTe(n);let f=p.get("extensionElements");f||(f=Vt("bpmn:ExtensionElements",{values:[]},p,i),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:p,properties:{extensionElements:f}}}));let h=mTe(n);h||(h=Vt("zeebe:VersionTag",{},f,i),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{value:u}}}),s.execute("properties-panel.multi-command-executor",d)},debounce:o})}function hTe(t){return D(t,"bpmn:Process")?G(t):G(t).get("processRef")}function mTe(t){return xr(hTe(t),"zeebe:VersionTag")[0]}function NDt(t){const{idPrefix:n,property:i}=t;return[{id:n+"-name",component:LDt,idPrefix:n,property:i},{id:n+"-value",component:FDt,idPrefix:n,property:i}]}function LDt(t){const{idPrefix:n,element:i,property:s}=t,o=P("commandStack"),a=P("translate"),l=P("debounceInput");return Ft({element:s,id:n+"-name",label:a("Name"),getValue:()=>s.name,setValue:d=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:s,properties:{name:d}})},debounce:l})}function FDt(t){const{idPrefix:n,element:i,property:s}=t,o=P("commandStack"),a=P("translate"),l=P("debounceInput");return Ft({element:s,id:n+"-value",label:a("Value"),getValue:()=>s.value,setValue:d=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:s,properties:{value:d}})},debounce:l})}function gTe({element:t,injector:n,namespace:i="camunda"}){let s=KT(t);if(!s)return;const o=function VDt(t,n="camunda"){const s=pJ(KT(t),n);return s&&s.get(dJ(n))}(s,i)||[],a=n.get("bpmnFactory"),l=n.get("commandStack");return{items:o.map((u,d)=>{const p=t.id+"-extensionProperty-"+d;return{id:p,label:u.get("name")||"",entries:NDt({idPrefix:p,element:t,property:u}),autoFocusEntry:p+"-name",remove:BDt({commandStack:l,element:t,property:u,namespace:i})}}),add:$Dt({bpmnFactory:a,commandStack:l,element:t,namespace:i})}}function BDt({commandStack:t,element:n,property:i,namespace:s}){return function(o){o.stopPropagation();const a=[],l=KT(n),c=l.get("extensionElements"),u=pJ(l,s);if(!u)return;const d=dJ(s),p=ar(u.get(d),i);a.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:u,properties:{[d]:p}}}),p.length||a.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:c,properties:{values:ar(c.get("values"),u)}}}),t.execute("properties-panel.multi-command-executor",a)}}function $Dt({bpmnFactory:t,commandStack:n,element:i,namespace:s}){return function(o){o.stopPropagation();let a=[];const l=KT(i);let c=l.get("extensionElements");c||(c=Vt("bpmn:ExtensionElements",{values:[]},l,t),a.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:l,properties:{extensionElements:c}}}));const u=dJ(s);let d=pJ(l,s);if(!d){const f=c;d=Vt(`${s}:Properties`,{[u]:[]},f,t),a.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:c,properties:{values:[...c.get("values"),d]}}})}const p=Vt(`${s}:Property`,{},d,t);a.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:d,properties:{[u]:[...d.get(u),p]}}}),n.execute("properties-panel.multi-command-executor",a)}}function KT(t){let n=G(t);return D(t,"bpmn:Participant")?n.get("processRef"):n}function dJ(t="camunda"){return"zeebe"===t?"properties":"values"}function pJ(t,n="camunda"){return xr(KT(t),`${n}:Properties`)[0]}const zDt=[function tkt(t,n){const s={id:"businessRuleImplementation",label:n.get("translate")("Implementation"),entries:[...uTt({element:t})],component:$r};return s.entries.length?s:null},function UDt(t,n){const s={id:"calledDecision",label:n.get("translate")("Called decision"),entries:[...vTt({element:t})],component:$r};return s.entries.length?s:null},function nkt(t,n){const s={id:"scriptImplementation",label:n.get("translate")("Implementation"),entries:[...KPt({element:t})],component:$r};return s.entries.length?s:null},function qDt(t,n){const s={id:"script",label:n.get("translate")("Script"),entries:[...eDt({element:t})],component:$r};return s.entries.length?s:null},function rkt(t,n){const s={id:"userTaskImplementation",label:n.get("translate")("Implementation"),entries:[...PDt({element:t})],component:$r};return s.entries.length?s:null},function WDt(t,n){const s={id:"taskDefinition",label:n.get("translate")("Task definition"),entries:[...cDt({element:t})],component:$r};return s.entries.length?s:null},function ikt(t,n){const s={id:"assignmentDefinition",label:n.get("translate")("Assignment"),entries:[...tTt({element:t}),..._Dt({element:t}),...qPt({element:t})],component:$r};return s.entries.length?s:null},function skt(t,n){const s={id:"activeElements",label:n.get("translate")("Active elements"),entries:[...YOt({element:t})],component:$r};return s.entries.length?s:null},function XDt(t,n){const s={id:"form",label:n.get("translate")("Form"),entries:[...UTt({element:t,injector:n})],component:$r};return s.entries.length?s:null},function YDt(t,n){const s={id:"condition",label:n.get("translate")("Condition"),entries:[...ETt({element:t})],component:$r};return s.entries.length?s:null},function QDt(t,n){const s={id:"calledElement",label:n.get("translate")("Called element"),entries:[...aDt({element:t})],component:$r};return s.entries.length?s:null},function ekt(t,n){const s={id:"inputPropagation",label:n.get("translate")("Input propagation"),entries:[...uPt({element:t})],component:$r};return s.entries.length?s:null},function GDt(t,n){const s={id:"inputs",label:n.get("translate")("Inputs"),component:zo,...EPt({element:t,injector:n})};return s.items?s:null},function JDt(t,n){const s={id:"outputPropagation",label:n.get("translate")("Output propagation"),entries:[...BPt({element:t})],component:$r};return s.entries.length?s:null},function KDt(t,n){const s={id:"outputs",label:n.get("translate")("Outputs"),component:zo,...zPt({element:t,injector:n})};return s.items?s:null},function ZDt(t,n){const s={id:"headers",label:n.get("translate")("Headers"),component:zo,...sPt({element:t,injector:n})};return s.items?s:null},function akt(t,n){const s={label:n.get("translate")("Task listeners"),id:"Zeebe__TaskListeners",component:zo,...hDt({element:t,injector:n})};return s.items?s:null},function okt(t,n){const s={label:n.get("translate")("Execution listeners"),id:"Zeebe__ExecutionListeners",component:zo,...ATt({element:t,injector:n})};return s.items?s:null},function lkt(t,n){const s={label:n.get("translate")("Extension properties"),id:"Zeebe__ExtensionProperties",component:zo,...gTe({element:t,injector:n,namespace:"zeebe"})};return s.items?s:null}];function Zh(t,n){return t.find(i=>i.id===n)}function SN(t,n){return[...t.filter(s=>!n.find(o=>o.id===s.id)),...n]}function yTe(t){return t.reduce((n,i,s)=>(n[i.id]=s,n),{})}var _kt={__init__:["zeebePropertiesProvider"],zeebePropertiesProvider:["type",(()=>{class t{constructor(i,s){i.registerProvider(500,this),this._injector=s}getGroups(i){return s=>(function ckt(t,n){const i=Zh(t,"general");if(!i)return;const{entries:s}=i,o=gu(s,l=>"isExecutable"===l.id);s.splice(o>=0?o:s.length,0,...function IDt(t){const{element:n}=t,i=G(n);return D(n,"bpmn:Process")||D(n,"bpmn:Participant")&&i.get("processRef")?[{id:"versionTag",component:RDt,isEdited:en}]:[]}({element:n}))}(s=s.concat(this._getGroups(i)),i),function ukt(t,n){const i=Zh(t,"error");i&&(i.entries=SN(i.entries,function OTt(t){const{element:n}=t,s=[];return Ty(n)&&D(n,"bpmn:ThrowEvent")&&s.push({id:"errorCode",component:TTt,isEdited:Fs}),s}({element:n})))}(s,i),function dkt(t,n){const i=Zh(t,"escalation");i&&(i.entries=SN(i.entries,function PTt(t){const{element:n}=t;if(!D(n,"bpmn:ThrowEvent"))return[];const s=[];return Rw(n)&&s.push({id:"escalationCode",component:DTt,isEdited:Fs}),s}({element:n})))}(s,i),function fkt(t,n){const i=Zh(t,"message");i&&(i.entries=SN(i.entries,function CPt(t){const{element:n}=t,i=V_(n),s=[];return i&&s.push({id:"messageName",component:SPt,isEdited:Fs}),i&&function TPt(t){return!!(D(t,"bpmn:ReceiveTask")||!D(t,"bpmn:StartEvent")||D(t,"bpmn:StartEvent")&&Ea(t.parent))}(n)&&s.push({id:"messageSubscriptionCorrelationKey",component:OPt,isEdited:Fs}),s}({element:n})))}(s,i),function pkt(t,n){const i=Zh(t,"signal");i&&(i.entries=SN(i.entries,function rDt(t){const{element:n}=t;if(!function SOt(t){return D(t,"bpmn:Event")&&!!BOe(t)}(n))return[];let s=[];return $Oe(n)&&(s=[...s,{id:"signalName",component:iDt,isEdited:Fs}]),s}({element:n})))}(s,i),function hkt(t,n,i){const s=Zh(t,"timer");s&&(s.entries=[...wDt({element:n,injector:i})])}(s,i,this._injector),function mkt(t,n){const i=Zh(t,"multiInstance");i&&(i.entries=[...kPt({element:n})])}(s,i),function gkt(t,n){const i=Zh(t,"adHocCompletion");if(!i)return;i.entries=function bkt(t,n){const i=yTe(n),s=yTe(t),o=[];return t.forEach(a=>{const l=i[a.id];o.push(void 0!==l?n[l]:a)}),n.forEach(a=>{void 0===s[a.id]&&o.push(a)}),o}(i.entries,function JOt(t){const{element:n}=t;return D(n,"bpmn:AdHocSubProcess")?[{id:"completionCondition",component:eTt,isEdited:Fs}]:[]}({element:n}));const s=Zh(t,"activeElements");s&&function vkt(t,n,i){const s=t.indexOf(n),o=t.indexOf(i);-1===s||-1===o||s<=o||(t[s]=i,t[o]=n)}(t,s,i)}(s,i),s=function ykt(t,n){const i=Zh(t,"message");return(function sTt(t){return D(t,"bpmn:EndEvent")&&!!$_(t)}(n)||function oTt(t){return D(t,"bpmn:IntermediateThrowEvent")&&!!$_(t)}(n))&&(t=t.filter(s=>s!=i)),t}(s,i),s)}_getGroups(i){return zDt.map(o=>o(i,this._injector)).filter(o=>null!==o)}}return t.$inject=["propertiesPanel","injector"],t})()]};const fRt={"group-assignmentDefinition":t=>{const n=P("translate");return L("div",{children:[n("Define who the task is assigned to. One or all of the following attributes can be specified simultaneously. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/user-tasks/#assignments",target:"_blank",rel:"noopener noreferrer",title:n("User task documentation"),children:n("Learn more.")})]})},"group-condition":t=>{const n=P("translate");return L("div",{children:[n("Define a boolean condition expression that defines when this flow is taken. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/exclusive-gateways/#conditions",target:"_blank",rel:"noopener noreferrer",title:n("Conditions documentation"),children:n("Learn how to define conditions.")})]})},"group-businessRuleImplementation":t=>{const n=P("translate");return L("div",{children:[n("Evaluate a business rule, for example a DMN decision. To add a custom implementation, use a job worker. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/business-rule-tasks/#defining-a-task",target:"_blank",rel:"noopener noreferrer",title:n("Business rule task documentation"),children:n("Learn more.")})]})},"group-scriptImplementation":t=>{const n=P("translate");return L("div",{children:[n("Implement a script task using an inline FEEL expression. To add a custom implementation, use a job worker. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/script-tasks/#defining-a-script-task",target:"_blank",rel:"noopener noreferrer",title:n("Script task documentation"),children:n("Learn more.")})]})},"group-userTaskImplementation":t=>{const n=P("translate");return L("div",{children:[n("Implement a user task managed by Camunda. To add a custom implementation, use a job worker. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/user-tasks/#define-a-user-task",target:"_blank",rel:"noopener noreferrer",title:n("User task documentation"),children:n("Learn more.")})]})},"group-form":t=>{const n=P("translate");return nJ(t)?L("div",{children:[n("Link a form created with the Camunda Forms editor. To associate a custom form, application, or URL to the user task, specify an external reference. "),L("a",{href:"https://docs.camunda.io/docs/guides/utilizing-forms/#link-your-form-to-a-bpmn-diagram",target:"_blank",rel:"noopener noreferrer",title:n("User task form documentation"),children:n("Learn more.")})]}):L("div",{children:[n("Link or embed a form created with the Camunda Forms editor. To associate a custom form, application, or URL to the user task, specify a form key. "),L("a",{href:"https://docs.camunda.io/docs/guides/utilizing-forms/#link-your-form-to-a-bpmn-diagram",target:"_blank",rel:"noopener noreferrer",title:n("User task form documentation"),children:n("Learn more.")})]})},"group-calledDecision":t=>{const n=P("translate");return L("div",{children:[n("Define the decision to evaluate and how to map back the evaluation result. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/business-rule-tasks/#defining-a-called-decision",target:"_blank",rel:"noopener noreferrer",title:n("Send task documentation"),children:n("Learn more.")})]})},"group-message":t=>{const n=P("translate");return D(t,"bpmn:ReceiveTask")?L("div",{children:[n("Define the name of the message (e.g. "),L("code",{children:"Money collected"}),n(") and the "),L("code",{children:"correlationKey"}),n(" expression (e.g. "),L("code",{children:"= orderId"}),n(")"),n(" to subscribe to. "),n("Learn more how to "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/send-tasks",target:"_blank",rel:"noopener noreferrer",title:n("Send task documentation"),children:n("send ")}),n("and "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/receive-tasks",target:"_blank",rel:"noopener noreferrer",title:n("Receive task documentation"),children:n("receive messages. ")})]}):L("div",{children:[n("Define the name of the message (e.g. "),L("code",{children:"Money collected"}),n(") and the "),L("code",{children:"correlationKey"}),n(" expression (e.g. "),L("code",{children:"= orderId"}),n(")"),n(" to subscribe to. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/message-events/#messages",target:"_blank",rel:"noopener noreferrer",title:n("Message event documentation"),children:n("Learn more.")})]})},"group-calledElement":t=>{const n=P("translate");return L("div",{children:[n("Define the ID of the process to call (e.g. ")," ",L("code",{children:"shipping-process"}),n(" or "),L("code",{children:'= "shipping-" + tenantId'})," ",n("). "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/call-activities/",target:"_blank",rel:"noopener noreferrer",title:n("Call activity documentation"),children:n("Learn more.")})]})},"group-taskDefinition":t=>{const n=P("translate");return D(t,"bpmn:ServiceTask")?L("div",{children:[n("Specify which job workers handle the task work to execute a service (e.g. "),L("code",{children:"order-items"}),n("). "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/service-tasks",target:"_blank",rel:"noopener noreferrer",title:n("Service task documentation"),children:n("Learn more.")})]}):D(t,"bpmn:BusinessRuleTask")?L("div",{children:[n("Specify which job workers handle the task work to evaluate business rules. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/business-rule-tasks/#job-worker-implementation",target:"_blank",rel:"noopener noreferrer",title:n("Business rule task documentation"),children:n("Learn more.")})]}):D(t,"bpmn:ScriptTask")?L("div",{children:[n("Specify which job workers handle the task work to execute a script. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/script-tasks/#defining-a-task",target:"_blank",rel:"noopener noreferrer",title:n("Script task documentation"),children:n("Learn more.")})]}):D(t,"bpmn:SendTask")?L("div",{children:[n("Specify which job workers handle the task work to send a message (e.g. "),L("code",{children:"kafka"}),n(" or "),L("code",{children:"mail"}),n("). "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/send-tasks/#defining-a-task",target:"_blank",rel:"noopener noreferrer",title:n("Send task documentation"),children:n("Learn more.")})]}):D(t,"bpmn:ThrowEvent")?L("div",{children:[n("Specify which job workers handle the event work. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/message-events/#message-throw-events",target:"_blank",rel:"noopener noreferrer",title:n("Message throw event documentation"),children:n("Learn more.")})]}):void 0},"group-multiInstance":t=>{const n=P("translate");return L("div",{children:[n("Execute this task for each element of a given collection. "),L("br",{}),n("Define an input collection expression that defines the collection to iterate over (e.g. "),L("code",{children:"= items"}),n("). "),n("To collect the output define the output collection and the output element expressions. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/multi-instance/#defining-the-collection-to-iterate-over",target:"_blank",rel:"noopener noreferrer",title:n("Multi instance documentation"),children:n("Learn more.")})]})},"group-error":t=>{const n=P("translate");return L("div",{children:[n("Define an error code (e.g. "),L("code",{children:"order-not-found"}),n("). "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/error-events/#defining-the-error",target:"_blank",rel:"noopener noreferrer",title:n("Error event documentation"),children:n("Learn more.")})]})},"group-inputs":t=>{const n=P("translate");return L("div",{children:[n("Add input mappings to control what is passed to the activity as local variables. "),L("a",{href:"https://docs.camunda.io/docs/components/concepts/variables/#input-mappings",target:"_blank",rel:"noopener noreferrer",title:n("Input mappings documentation"),children:n("Learn more.")})]})},"group-outputs":t=>{const n=P("translate");return L("div",{children:[n("Add output mappings to control which variables are merged back into the process scope. "),L("a",{href:"https://docs.camunda.io/docs/components/concepts/variables/#output-mappings",target:"_blank",rel:"noopener noreferrer",title:n("Output mappings documentation"),children:n("Learn more.")})]})},taskDefinitionRetries:t=>{const n=P("translate");return L("div",{children:L("p",{children:[n("The number of times the engine tries executing this activity if a worker signals a failure. The default is three.")," "," ",L("a",{href:"https://docs.camunda.io/docs/next/components/best-practices/development/dealing-with-problems-and-exceptions/#leveraging-retries",target:"_blank",rel:"noopener noreferrer",children:n("Learn more.")})]})})},bindingType:t=>{const n=P("translate");return L("div",{children:[L("p",{children:[L("h1",{children:n("Latest binding")}),n("Uses the most recent deployed resource.")]}),L("p",{children:[L("h1",{children:n("Deployment binding")}),n("Uses the resource found in the same deployment.")]}),L("p",{children:[L("h1",{children:n("Version tag binding")}),n("Uses the most recent deployed resource with the given version tag.")]})]})},versionTag:t=>{const n=P("translate");return un(t,["bpmn:Process","bpmn:Participant"])?L("div",{children:L("p",{children:n("Version tag by which this process can be referenced.")})}):D(t,"bpmn:CallActivity")?L("div",{children:L("p",{children:n("Version tag by which the called process will be referenced.")})}):D(t,"bpmn:BusinessRuleTask")?L("div",{children:L("p",{children:n("Version tag by which the called decision will be referenced.")})}):D(t,"bpmn:UserTask")?L("div",{children:L("p",{children:n("Version tag by which the linked form will be referenced.")})}):void 0},priorityDefinitionPriority:t=>{const n=P("translate");return L("div",{children:[L("p",{children:n("An integer value that can range from 0 to 100, where a higher value indicates a higher priority.")}),L("p",{children:n("If unset, the default value is 50.")})]})},"group-adHocCompletion":t=>{const n=P("translate");return L("div",{children:[n("Define the completion behavior of an ad-hoc subprocess. If no completion condition is set, it will be completed after all active elements have been completed. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/ad-hoc#completion",target:"_blank",rel:"noopener noreferrer",title:n("Ad-hoc subprocess documentation"),children:n("Learn more.")})]})},"group-activeElements":t=>{const n=P("translate");return L("div",{children:[n("Define a collection of elements which will be activated when the ad-hoc subprocess is reached. "),L("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/ad-hoc/#activate-an-element",target:"_blank",rel:"noopener noreferrer",title:n("Ad-hoc subprocess documentation"),children:n("Learn more.")})]})},messageSubscriptionCorrelationKey:t=>{const n=P("translate");return L("div",{children:L("p",{children:[n("Identifier computed from the process context that is used to correlate an incoming message (e.g. "),L("code",{children:"= orderId"}),n("). "),L("a",{href:"https://docs.camunda.io/docs/8.7/components/modeler/bpmn/message-events/#messages",target:"_blank",rel:"noopener noreferrer",title:n("Subscription correlation key documentation"),children:n("Learn more.")}),"        "]})})}};function My(t={}){ld.call(this,t)}function Ep(t,n=void 0){const s=G(t).get("extensionElements");if(!s)return[];const o=s.get("values");return o&&o.length?n?o.filter(a=>D(a,n)):o:[]}function MN(t,n,i,s){Xt(i)||(i=[i]);const o=n.get("extensionElements"),a=o.get("values").filter(l=>!i.includes(l));s.execute("element.updateModdleProperties",{element:t,moddleElement:o,properties:{values:a}})}Jt(My,ld),My.prototype.getModules=function(t={}){return[...ld.prototype.getModules.call(this,t),t.disableAdjustOrigin?D_e:M_e,t.disableGrid?{}:O_e]},My.prototype._modules=[].concat(ld.prototype._modules,My.prototype._extensionModules=[jht,Xht,a6t,HOt]);let hRt=(()=>{class t extends pt{constructor(i,s){super(s),this.preExecute("element.updateModdleProperties",5e3,function(o){const{element:a,moddleElement:l,properties:c}=o;if(!D(a,"bpmn:BusinessRuleTask")||!D(l,"bpmn:ExtensionElements")||!c.values)return;const u=NPe(a),d=LPe(a);u&&!d&&c.values.find(p=>D(p,"zeebe:CalledDecision"))&&c.values.find(p=>D(p,"zeebe:TaskDefinition"))&&(c.values=ar(c.values,u))},!0),this.preExecute("element.updateModdleProperties",5e3,function(o){const{element:a,moddleElement:l,properties:c}=o;if(!D(a,"bpmn:BusinessRuleTask")||!D(l,"bpmn:ExtensionElements")||!c.values)return;const u=NPe(a),d=LPe(a),p=function mRt(t){return Ep(G(t),"zeebe:TaskHeaders")[0]}(a);!u&&(d||p)&&c.values.find(f=>D(f,"zeebe:CalledDecision"))&&c.values.find(f=>D(f,"zeebe:TaskDefinition")||D(f,"zeebe:TaskHeaders"))&&(c.values=ar(c.values,f=>f===d||f===p))},!0)}}return t.$inject=["commandStack","eventBus"],t})();function NPe(t){return Ep(G(t),"zeebe:CalledDecision")[0]}function LPe(t){return Ep(G(t),"zeebe:TaskDefinition")[0]}let gRt=(()=>{class t extends pt{constructor(i,s){super(i),this.postExecuted("shape.replace",function(o){const{context:a}=o,{newShape:l}=a;if(!D(l,"bpmn:EndEvent")||!function yRt(t){return Gt(G(t).get("eventDefinitions")||[],function(s){return D(s,"bpmn:ErrorEventDefinition")})}(l))return;const c=function vRt(t){const i=G(t).get("extensionElements");if(!i)return null;const s=i.get("values");return s?Gt(s,o=>D(o,"zeebe:IoMapping")):null}(l);if(!c)return;const d=G(l).get("extensionElements"),p=ar(d.get("values"),c);s.updateModdleProperties(l,d,{values:p})})}}return t.$inject=["eventBus","modeling"],t})();const bRt=["bpmn:StartEvent","bpmn:BoundaryEvent"];let _Rt=(()=>{class t extends pt{constructor(i,s){super(i),this.postExecuted("shape.replace",function(o){const a=o.context.newShape,l=function TRt(t){return Ep(t,"zeebe:ExecutionListeners")[0]}(a);if(!l)return;const c=l.get("listeners"),u=function ERt(t,n){return n=function xRt(t,n){return un(t,bRt)?n.filter(i=>"start"!==i.eventType):n}(t,n),n=function wRt(t,n){return function CRt(t){if(D(t,"bpmn:BoundaryEvent")&&function SRt(t){return Gt(FPe(t),function(i){return D(i,"bpmn:CompensateEventDefinition")})}(t)||D(t,"bpmn:EndEvent")&&function ORt(t){return Gt(FPe(t),function(i){return D(i,"bpmn:ErrorEventDefinition")})}(t)||D(t,"bpmn:Gateway"))return!0}(t)?n.filter(i=>"end"!==i.eventType):n}(t,n),n}(a,c);u.length!==c.length&&s.updateModdleProperties(a,l,{listeners:u})}),this.postExecuted("element.updateModdleProperties",function(o){const{element:a,moddleElement:l}=o.context;if(!D(l,"zeebe:ExecutionListeners")||l.get("listeners").length)return;const u=l.$parent;s.updateModdleProperties(a,u,{values:ar(u.get("values"),l)})})}}return t.$inject=["eventBus","modeling"],t})();function FPe(t){return G(t).get("eventDefinitions")||[]}let PRt=(()=>{class t extends pt{constructor(i,s){super(i),this.postExecuted("shape.replace",function(o){BPe(o.context.newShape,s)}),this.postExecuted("element.updateModdleProperties",function(o){const a=o.context.element;D(a,"bpmn:UserTask")&&BPe(a,s)}),this.postExecuted("element.updateModdleProperties",function(o){const{element:a,moddleElement:l}=o.context;if(!D(l,"zeebe:TaskListeners")||l.get("listeners").length)return;const u=l.$parent;s.updateModdleProperties(a,u,{values:ar(u.get("values"),l)})})}}return t.$inject=["eventBus","modeling"],t})();function BPe(t,n){const i=function kRt(t){return Ep(t,"zeebe:TaskListeners")[0]}(t);if(!i)return;const s=i.get("listeners"),o=function DRt(t,n){return n.filter(i=>!(!D(t,"bpmn:UserTask")||!function MRt(t){return Ep(t,"zeebe:UserTask").length>0}(t)))}(t,s);o.length!==s.length&&n.updateModdleProperties(t,i,{listeners:o})}let ARt=(()=>{class t extends pt{constructor(i,s){super(i),this.postExecuted(["element.updateProperties","element.updateModdleProperties"],o=>{const a=o.shape||o.newShape||o.element;if(a.labelTarget||!D(a,"bpmn:Event"))return;const l=function IRt(t){return G(t).get("eventDefinitions").find(i=>D(i,"bpmn:MessageEventDefinition"))}(a);if(!l)return;const c=l.get("messageRef");if(!c)return;const u=function RRt(t){return Ep(t,"zeebe:Subscription")[0]}(c);u&&function NRt(t){return t.$descriptor.properties.every(i=>void 0===t.get(i.name))}(u)&&MN(a,c,u,s)},!0)}}return t.$inject=["eventBus","commandStack"],t})();function $Pe(t,n){const i=G(n);switch(t){case"timeDate":return un(n,["bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent","bpmn:StartEvent"]);case"timeCycle":return!!(D(n,"bpmn:StartEvent")&&!jPe(i)||!VPe(i)||D(n,"bpmn:BoundaryEvent")&&!VPe(i));case"timeDuration":return!!(un(n,["bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"])||D(n,"bpmn:StartEvent")&&jPe(i));default:return!1}}function VPe(t){return D(t,"bpmn:BoundaryEvent")?!1!==t.get("cancelActivity"):!1!==t.get("isInterrupting")}function jPe(t){const n=t.$parent;return n&&D(n,"bpmn:SubProcess")&&n.get("triggeredByEvent")}let FRt=(()=>{class t extends pt{constructor(i,s){super(i),this.postExecuted(["shape.move","shape.replace","element.updateProperties","element.updateModdleProperties"],o=>{const a=o.shape||o.newShape||o.element;if(a.labelTarget||!D(a,"bpmn:Event"))return;const l=function LRt(t){return G(t).get("eventDefinitions").find(i=>D(i,"bpmn:TimerEventDefinition"))}(a);if(!l)return;const c={};["timeCycle","timeDate","timeDuration"].forEach(u=>{l.get(u)&&!$Pe(u,a)&&(c[u]=void 0)}),Object.keys(c).length&&s.updateModdleProperties(a,l,c)},!0)}}return t.$inject=["eventBus","modeling"],t})();const $Rt=["timeCycle","timeDate","timeDuration"],VRt=["zeebe:Input","zeebe:LoopCharacteristics","zeebe:TaskDefinition","zeebe:TaskHeaders","zeebe:Subscription"];let jRt=(()=>{class t{constructor(i){i.on("moddleCopy.canCopyProperty",s=>{const{parent:o,property:a,propertyName:l}=s;return this.canCopyProperty(a,o,l)})}canCopyProperty(i,s,o){if(si(i)&&!function zRt(t,n){const i=t.$type&&t.$model.getTypeDescriptor(t.$type),s=i&&i.meta&&i.meta.allowedIn;return!(s&&!function HRt(t){return-1!==t.indexOf("*")}(s))||Gd(s,function(o){return AN(n,o)})}(i,s)||!this.canHostServiceTaskLikeProperties(i,s)||!this.canHostTimerExpression(i,s,o))return!1}canHostServiceTaskLikeProperties(i,s){if(function qRt(t){return VRt.some(n=>D(t,n))}(i)){const o=AN(s,"bpmn:IntermediateThrowEvent")||AN(s,"bpmn:EndEvent");if(o)return function URt(t){return t.get("eventDefinitions").some(i=>D(i,"bpmn:MessageEventDefinition"))}(o)}return!0}canHostTimerExpression(i,s,o){return!D(s,"bpmn:TimerEventDefinition")||!$Rt.includes(o)||$Pe(o,s.$parent)}}return t.$inject=["eventBus"],t})();function AN(t,n){return n?D(t,n)?t:t.$parent?AN(t.$parent,n):void 0:t.$parent}function Bw(t,n,i,s){var o=s.create(t,n);return o.$parent=i,o}let YRt=(()=>{class t extends pt{constructor(i,s,o){super(s),this.postExecuted("shape.create",5e3,function(a){const{shape:l}=a;if(!D(l,"bpmn:CallActivity"))return;const c=G(l);let u=function zPe(t){return function GRt(t){return Ep(G(t),"zeebe:CalledElement")}(t)[0]}(c);if(u)Zo(u,"propagateAllChildVariables")||o.updateModdleProperties(l,u,{propagateAllChildVariables:!1});else{let d=c.get("extensionElements");d||(d=Bw("bpmn:ExtensionElements",{values:[]},c,i),o.updateProperties(l,{extensionElements:d})),u=Bw("zeebe:CalledElement",{propagateAllChildVariables:!1},d,i),o.updateModdleProperties(l,d,{values:[...d.values||[],u]})}},!0)}}return t.$inject=["bpmnFactory","eventBus","modeling"],t})(),QRt=(()=>{class t extends pt{constructor(i,s,o){super(s),this.postExecuted(["shape.create","shape.replace"],5e3,function(a){const l=a.shape||a.newShape,c=a.hints&&!1===a.hints.createElementsBehavior;if(!D(l,"bpmn:UserTask")||c)return;let u=function ZRt(t){return Ep(G(t),"zeebe:UserTask")[0]||null}(l);if(u)return;const d=G(l);let p=d.get("extensionElements");p||(p=Bw("bpmn:ExtensionElements",{values:[]},d,i),o.updateProperties(l,{extensionElements:p})),u=Bw("zeebe:UserTask",{},p,i),o.updateModdleProperties(l,p,{values:[...p.values||[],u]})},!0)}}return t.$inject=["bpmnFactory","eventBus","modeling"],t})(),e9t=(()=>{class t extends pt{constructor(i,s,o){super(i),this.postExecuted("shape.delete",250,function(a){const{collaborationRoot:l,shape:c}=a,u=s.getRootElement();if(D(c,"bpmn:Participant")&&l&&!l.businessObject.get("participants").length&&D(u,"bpmn:Process")){const d=c.businessObject.get("processRef");if(!d)return;o.updateProperties(u,{isExecutable:d.get("isExecutable")})}},!0)}}return t.$inject=["eventBus","canvas","modeling"],t})();const t9t=new Yd([32,32,1]),SJ="camunda-forms:bpmn:";function XT(t){return Ep(G(t),"zeebe:FormDefinition")[0]}function IN(t,n={}){let{formKey:i,rootElement:s}=n;if(s=s||QT(t),!i){const a=XT(t);if(!a)return;i=a.get("formKey")}return Ep(s,"zeebe:UserTaskForm").find(a=>HPe(a.get("id"))===i)}function HPe(t){return`${SJ}${t}`}function UPe(t){return t&&t.startsWith(SJ)}function QT(t){let i=G(t);for(;i.$parent&&!D(i,"bpmn:Process");)i=i.$parent;return i}function qPe(t){return Ep(t,"zeebe:UserTask").length}const h9t={__init__:["cleanUpBusinessRuleTaskBehavior","cleanUpEndEventBehavior","cleanUpExecutionListenersBehavior","cleanUpTaskListenersBehavior","cleanUpSubscriptionBehavior","cleanUpTimerExpressionBehavior","copyPasteBehavior","createZeebeCallActivityBehavior","createZeebeUserTaskBehavior","deleteParticipantBehaviour","formsBehavior","removeAssignmentDefinitionBehavior","removeTaskScheduleBehavior","versionTagBehavior"],cleanUpBusinessRuleTaskBehavior:["type",hRt],cleanUpEndEventBehavior:["type",gRt],cleanUpExecutionListenersBehavior:["type",_Rt],cleanUpTaskListenersBehavior:["type",PRt],cleanUpSubscriptionBehavior:["type",ARt],cleanUpTimerExpressionBehavior:["type",FRt],copyPasteBehavior:["type",jRt],createZeebeCallActivityBehavior:["type",YRt],createZeebeUserTaskBehavior:["type",QRt],deleteParticipantBehaviour:["type",e9t],formsBehavior:["type",(()=>{class t extends pt{constructor(i,s,o,a){function l(c,u,d){const p=u.get("extensionElements"),f=ar(p.get("values"),d);a.updateModdleProperties(c,p,{values:f}),f.length||a.updateModdleProperties(c,u,{extensionElements:void 0})}super(o),this._modeling=a,this.postExecute("shape.delete",function(c){const{oldParent:u,shape:d}=c,p=QT(u),f=IN(d,{rootElement:p});!D(d,"bpmn:UserTask")||!f||l(d,p,f)},!0),this.postExecute("shape.create",function(c){const{shape:u}=c;if(!D(u,"bpmn:UserTask"))return;const d=XT(u);if(!d)return;const p=IN(u);if(!p||!s.filter(_=>{if(_===u)return!1;const S=XT(_);return S&&S.get("formKey")&&function i9t(t){return t.replace(SJ,"")}(S.get("formKey"))===p.get("id")}).length)return;const h=QT(u);let m=h.get("extensionElements");m||(m=Bw("bpmn:ExtensionElements",{values:[]},h,i),a.updateModdleProperties(u,h,{extensionElements:m}));const y=function s9t(){return function n9t(t){return t9t.nextPrefixed(t)}("UserTaskForm_")}(),E=Bw("zeebe:UserTaskForm",{id:y,body:p.get("body")},m,i);a.updateModdleProperties(u,m,{values:[...m.get("values")||[],E]}),a.updateModdleProperties(u,d,{formKey:HPe(y)})},!0),this.preExecute("element.updateModdleProperties",function(c){const{moddleElement:u,properties:d}=c;D(u,"zeebe:FormDefinition")&&("formId"in d?(d.formKey=void 0,d.externalReference=void 0):"formKey"in d?(d.formId=void 0,d.externalReference=void 0,d.bindingType=void 0):"externalReference"in d&&(d.formId=void 0,d.formKey=void 0,d.bindingType=void 0),"bindingType"in d&&!("formId"in d)&&!u.get("formId")&&(d.externalReference=void 0,d.formId="",d.formKey=void 0))},!0),this.postExecute("element.updateModdleProperties",function(c){const{element:u,moddleElement:d,oldProperties:p}=c;if(D(d,"zeebe:FormDefinition")){const f=d.get("formKey");if(!f||!UPe(f)){const h=IN(u,{formKey:p.formKey});h&&l(u,QT(u),h)}}else if(function a9t(t,n){const{moddleElement:i,oldProperties:s,properties:o}=t;return D(i,"bpmn:ExtensionElements")&&"values"in s&&"values"in o&&s.values.find(a=>D(a,n))&&!o.values.find(a=>D(a,n))}(c,"zeebe:FormDefinition")){const h=IN(u,{formKey:p.values.find(m=>D(m,"zeebe:FormDefinition")).get("formKey")});h&&l(u,QT(u),h),d.get("values").length||a.updateProperties(u,{extensionElements:void 0})}},!0),this._registerZeebeUserTaskSupport()}_registerZeebeUserTaskSupport(){this.postExecute("element.updateModdleProperties",({element:i})=>{if(!D(i,"bpmn:UserTask")||!qPe(i))return;const s=XT(i);if(!s)return;const o=s.get("formKey");Di(o)||(UPe(o)?this._modeling.updateModdleProperties(i,s,{formKey:void 0}):this._modeling.updateModdleProperties(i,s,{externalReference:o}))},!0),this.postExecute("element.updateModdleProperties",({element:i})=>{if(!D(i,"bpmn:UserTask")||qPe(i))return;const s=XT(i);if(!s)return;const o=s.get("externalReference");Di(o)||this._modeling.updateModdleProperties(i,s,{externalReference:void 0,formKey:o})},!0)}}return t.$inject=["bpmnFactory","elementRegistry","eventBus","modeling"],t})()],removeAssignmentDefinitionBehavior:["type",(()=>{class t extends pt{constructor(i,s){super(s),this.postExecuted("element.updateModdleProperties",5e3,function(o){const{element:a,moddleElement:l}=o;if(!D(l,"zeebe:AssignmentDefinition"))return;const c=l;D(a,"bpmn:UserTask")&&Di(c.get("zeebe:assignee"))&&Di(c.get("zeebe:candidateGroups"))&&Di(c.get("zeebe:candidateUsers"))&&MN(a,G(a),c,i)},!0)}}return t.$inject=["commandStack","eventBus"],t})()],removeTaskScheduleBehavior:["type",(()=>{class t extends pt{constructor(i,s){super(s),this.postExecuted("element.updateModdleProperties",5e3,function(o){const{element:a,moddleElement:l}=o;if(!D(l,"zeebe:TaskSchedule"))return;const c=l;D(a,"bpmn:UserTask")&&Di(c.get("zeebe:dueDate"))&&Di(c.get("zeebe:followUpDate"))&&MN(a,G(a),c,i)},!0)}}return t.$inject=["commandStack","eventBus"],t})()],versionTagBehavior:["type",(()=>{class t extends pt{constructor(i,s){super(i),this.preExecute("element.updateModdleProperties",function(o){const{moddleElement:a,properties:l}=o;un(a,["zeebe:CalledDecision","zeebe:CalledElement","zeebe:FormDefinition"])&&("bindingType"in l&&"versionTag"!==l.bindingType&&Ki(a.get("versionTag"))&&(l.versionTag=void 0),"versionTag"in l&&"versionTag"!==a.get("bindingType")&&(l.bindingType="versionTag"))},!0),this.postExecuted("element.updateModdleProperties",function(o){const{element:a,moddleElement:l}=o;D(l,"zeebe:VersionTag")&&function f9t(t){return null==t||""===t}(l.get("value"))&&MN(a,G(a),l,s)},!0)}}return t.$inject=["eventBus","commandStack"],t})()]},WPe={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let OJ;const m9t=new Uint8Array(16),Vl=[];for(let t=0;t<256;++t)Vl.push((t+256).toString(16).slice(1));const v9t=function y9t(t,n,i){if(WPe.randomUUID&&!n&&!t)return WPe.randomUUID();const s=(t=t||{}).random??t.rng?.()??function g9t(){if(!OJ){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");OJ=crypto.getRandomValues.bind(crypto)}return OJ(m9t)}();if(s.length<16)throw new Error("Random bytes length must be >= 16");if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,n){if((i=i||0)<0||i+16>n.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);for(let o=0;o<16;++o)n[i+o]=s[o];return n}return function GPe(t,n=0){return(Vl[t[n+0]]+Vl[t[n+1]]+Vl[t[n+2]]+Vl[t[n+3]]+"-"+Vl[t[n+4]]+Vl[t[n+5]]+"-"+Vl[t[n+6]]+Vl[t[n+7]]+"-"+Vl[t[n+8]]+Vl[t[n+9]]+"-"+Vl[t[n+10]]+Vl[t[n+11]]+Vl[t[n+12]]+Vl[t[n+13]]+Vl[t[n+14]]+Vl[t[n+15]]).toLowerCase()}(s)};var ZT=V(5748),b9t=V(8822),KPe=V.n(b9t);function TJ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PJ,YPe,XPe,ZPe,RN={exports:{}},NN={};function QPe(){if(XPe)return NN;XPe=1,Object.defineProperty(NN,"__esModule",{value:!0});const t=function x9t(){return YPe||(YPe=1,PJ=function t(n,i){if(n===i)return!0;if(n&&i&&"object"==typeof n&&"object"==typeof i){if(n.constructor!==i.constructor)return!1;var s,o,a;if(Array.isArray(n)){if((s=n.length)!=i.length)return!1;for(o=s;0!=o--;)if(!t(n[o],i[o]))return!1;return!0}if(n.constructor===RegExp)return n.source===i.source&&n.flags===i.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===i.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===i.toString();if((s=(a=Object.keys(n)).length)!==Object.keys(i).length)return!1;for(o=s;0!=o--;)if(!Object.prototype.hasOwnProperty.call(i,a[o]))return!1;for(o=s;0!=o--;){var l=a[o];if(!t(n[l],i[l]))return!1}return!0}return n!=n&&i!=i}),PJ}();return t.code='require("ajv/dist/runtime/equal").default',NN.default=t,NN}var JPe,S9t=TJ(function w9t(){if(ZPe)return RN.exports;ZPe=1,RN.exports=y,RN.exports.default=y;const t={type:"object",allOf:[{required:["name","id","appliesTo","properties"],properties:{name:{$id:"#/name",type:"string",description:"The name of the element template."},id:{$id:"#/id",type:"string",description:"The identifier of the element template."},description:{$id:"#/description",type:"string",description:"The description of the element template."},version:{$id:"#/version",type:"integer",description:"Optional version of the template. If you add a version to a template it will be considered unique based on its ID and version. Two templates can have the same ID if their version is different."},isDefault:{$id:"#/isDefault",type:"boolean",description:"Indicates whether the element template is a default template."},deprecated:{$id:"#/deprecated",type:["boolean","object"],description:"Indicates whether the element template is deprecated.",properties:{message:{$id:"#/deprecated/message",type:"string",description:"Optional message to describe migration path."},documentationRef:{$id:"#/deprecated/documentationRef",type:"string",pattern:"^(https|http)://.*",description:"Optional link to migration documentation."}}},appliesTo:{$id:"#/appliesTo",type:"array",description:"List of BPMN types the template can be applied to.",default:[],items:{$id:"#/appliesTo/items",type:"string",pattern:"^[\\w\\d]+:[\\w\\d]+$",allOf:[{examples:["bpmn:Task","bpmn:ServiceTask","bpmn:SequenceFlow","bpmn:Process","bpmn:StartEvent","bpmn:Gateway"]}],errorMessage:{pattern:'invalid item for "appliesTo", should contain namespaced property, example: "bpmn:Task"'}}},elementType:{$id:"#/elementType",type:"object",description:"The BPMN type the element will be transformed into.",default:{},required:["value"],properties:{value:{$id:"#/elementType/value",type:"string",pattern:"^[\\w\\d]+:[\\w\\d]+$",allOf:[{examples:["bpmn:ServiceTask","bpmn:UserTask","bpmn:StartEvent","bpmn:ExclusiveGateway","bpmn:ParallelGateway"]}],errorMessage:{pattern:'invalid item for "elementType", should contain namespaced property, example: "bpmn:Task"'}}},errorMessage:{required:{value:"missing elementType value"}}},metadata:{$id:"#/metadata",type:"object",description:"Some custom properties for further configuration.",default:{}},entriesVisible:{$id:"#/entriesVisible",type:"boolean",description:"Select whether non-template entries are visible in the properties panel."},groups:{$id:"#/groups",type:"array",description:"Custom fields can be ordered together via groups.",allOf:[{examples:[[{id:"group-1",label:"My Group"}]]}],items:{$id:"#/groups/group",type:"object",default:{},required:["id","label"],properties:{id:{$id:"#/groups/group/id",type:"string",description:"The id of the custom group"},label:{$id:"#/groups/group/label",type:"string",description:"The label of the custom group"}},errorMessage:{required:{id:'missing id for group "${0#}"',label:'missing label for group "${0#}"'}}}},documentationRef:{$id:"#/documentationRef",type:"string",pattern:"^(https|http)://.*",errorMessage:{pattern:'Malformed documentation URL, must match "^(https|http)://.*"'}}},errorMessage:{required:{name:"missing template name",id:"missing template id",appliesTo:"missing appliesTo=[]",properties:"missing properties=[]"}}}],properties:{properties:{$ref:"#/definitions/properties",$id:"#/properties"},scopes:{$id:"#/scopes",type:"array",description:"Special scoped bindings that allow you to configure nested elements.",allOf:[{examples:[[{type:"bpmn:Error",id:"Error_1",properties:[{value:"error-code",binding:{type:"property",name:"errorCode"}},{value:"error-message",binding:{type:"property",name:"camunda:errorMessage"}},{value:"error-name",binding:{type:"property",name:"name"}}]}]]}],items:{$id:"#/scopes/item",type:"object",default:{},properties:{type:{$id:"#scopes/item/type",type:"string",description:"The type of a scope.",enum:["camunda:Connector","bpmn:Error"],errorMessage:"invalid scope type ${0}; must be any of { camunda:Connector, bpmn:Error }"},properties:{$id:"#/scopes/properties",description:"List of properties of a scope.",default:[],allOf:[{$ref:"#/definitions/properties/allOf/0"},{$ref:"#/definitions/properties/allOf/1"}]}},required:["type","properties"],allOf:[{if:{properties:{type:{enum:["bpmn:Error"]}},required:["type"]},then:{required:["id"],errorMessage:"invalid scope ${0/type}, missing id"}}],errorMessage:{required:{type:"invalid scope, missing type",properties:"invalid scope ${0/type}, missing properties=[]"}}}}}},n={$schema:"http://json-schema.org/draft-07/schema",type:"array",description:"List of properties of the element template.",items:{type:"object",default:{},required:["binding"],allOf:[{if:{properties:{binding:{properties:{type:{const:"property"}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown","Boolean"],errorMessage:'invalid property type ${0} for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean }'}}}},{if:{properties:{binding:{properties:{type:{const:"camunda:executionListener"}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["Hidden"],errorMessage:'invalid property type ${1/type} for binding type "camunda:executionListener"; must be "Hidden"'},binding:{properties:{implementationType:{enum:["class","delegateExpression","expression","script"]}},oneOf:[{not:{properties:{implementationType:{const:"script"}}}},{required:["scriptFormat"]},{allOf:[{not:{required:["implementationType"]}},{not:{required:["scriptFormat"]}}]}]}}}},{if:{properties:{binding:{properties:{type:{enum:["camunda:property","camunda:outputParameter","camunda:in","camunda:in:businessKey","camunda:out","camunda:errorEventDefinition"]}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Hidden","Dropdown"],errorMessage:"invalid property type ${0} for binding type ${1/binding/type}; must be any of { String, Hidden, Dropdown }"}}}},{if:{properties:{binding:{properties:{type:{enum:["camunda:inputParameter","camunda:field"]}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown"],errorMessage:"invalid property type ${0} for binding type ${1/binding/type}; must be any of { String, Text, Hidden, Dropdown }"}}}}],properties:{binding:{$id:"#/properties/property/binding",type:"object",description:"Specifying how the property is mapped to BPMN or Camunda extension elements and attributes.",required:["type"],allOf:[{if:{properties:{type:{enum:["property","camunda:property","camunda:inputParameter","camunda:field"]}},required:["type"]},then:{required:["name"],errorMessage:"property.binding ${0/type} requires name"}},{if:{properties:{type:{const:"camunda:outputParameter"}},required:["type"]},then:{required:["source"],errorMessage:"property.binding ${0/type} requires source"}},{if:{properties:{type:{const:"camunda:in"}},required:["type"]},then:{anyOf:[{required:["variables"]},{required:["target"]}],errorMessage:"property.binding ${0/type} requires variables, target, or both"}},{if:{properties:{type:{const:"camunda:out"}},required:["type"]},then:{oneOf:[{required:["variables"],not:{anyOf:[{required:["source"]},{required:["sourceExpression"]}]}},{required:["source"],not:{anyOf:[{required:["variables"]},{required:["sourceExpression"]}]}},{required:["sourceExpression"],not:{anyOf:[{required:["variables"]},{required:["source"]}]}},{required:["variables","sourceExpression"],not:{required:["source"]}},{required:["variables","source"],not:{required:["sourceExpression"]}}],errorMessage:"property.binding ${0/type} requires one of the following: variables, sourceExpression, source, (sourceExpression and variables), or (source and variables)"}},{if:{properties:{type:{const:"camunda:errorEventDefinition"}},required:["type"]},then:{oneOf:[{required:["errorRef"]}],errorMessage:"property.binding ${0/type} requires errorRef"}},{examples:[{type:"property",name:"name"},{type:"camunda:property",name:"property"},{type:"camunda:inputParameter",name:"input"},{type:"camunda:outputParameter",source:"output"},{type:"camunda:in",target:"target"},{type:"camunda:in:businessKey"},{type:"camunda:out",source:"output"},{type:"camunda:executionListener",event:"start"},{type:"camunda:field",name:"field"},{type:"camunda:errorEventDefinition",errorRef:"error"},{type:"camunda:errorEventDefinition",errorRef:"error"}]}],properties:{type:{$id:"#/properties/property/binding/type",type:"string",enum:["property","camunda:property","camunda:inputParameter","camunda:outputParameter","camunda:in","camunda:out","camunda:in:businessKey","camunda:executionListener","camunda:field","camunda:errorEventDefinition"],description:"The type of a property binding.",errorMessage:"invalid property.binding type ${0}; must be any of { property, camunda:property, camunda:inputParameter, camunda:outputParameter, camunda:in, camunda:out, camunda:in:businessKey, camunda:executionListener, camunda:field, camunda:errorEventDefinition }"},name:{$id:"#/properties/property/binding/name",type:"string",description:"The name of a property binding."},event:{$id:"#/properties/property/binding/event",type:"string",description:"The event type of a property binding (camunda:executionListener)."},scriptFormat:{$id:"#/properties/property/binding/scriptFormat",type:"string",description:"The script format of a property binding (camunda:outputParameter, camunda:inputParameter)."},source:{$id:"#/properties/property/binding/source",type:"string",description:"The source value of a property binding (camunda:outputParameter, camunda:out)."},target:{$id:"#/properties/property/binding/target",type:"string",description:"The target value of a property binding (camunda:in)."},expression:{$id:"#/properties/property/binding/expression",type:"boolean",description:"Indicates whether the control field value is an expression (camunda:in, camunda:field)."},variables:{$id:"#/properties/property/binding/variables",type:"string",enum:["all","local"],description:"The variable mapping of a property binding (camunda:in)."},sourceExpression:{$id:"#/properties/property/binding/sourceExpression",type:"string",description:"The string containing the expression for the source attribute (camunda:out)."}}}},errorMessage:{required:'missing binding for property "${0#}"'}}},i=new RegExp("^(https|http)://.*","u"),s=new RegExp("^[\\w\\d]+:[\\w\\d]+$","u"),o={required:"missingProperty",dependencies:"property",dependentRequired:"property"},a={allOf:[{type:"array",description:"List of properties of the element template.",allOf:[{examples:[[{label:"Name",type:"String",binding:{type:"property",name:"name"}}]]}],items:{type:"object",default:{},allOf:[{if:{properties:{type:{const:"Dropdown"}},required:["type"]},then:{required:["choices"],errorMessage:'must provide choices=[] with "Dropdown" type'}},{definitions:{condition:{type:"object",required:["property"],properties:{type:{$id:"#/condition/type",const:"simple",description:"The type of the condition.",default:"simple"},property:{$id:"#/condition/property",type:"string",description:"The id of the property to check."}},oneOf:[{properties:{equals:{type:["string","number","boolean"]}},required:["equals"]},{properties:{oneOf:{type:"array",items:{type:["string","number"]}}},required:["oneOf"]},{properties:{isActive:{type:"boolean",description:"For `true`, activates the property when given property is active"}},required:["isActive"]}],errorMessage:{required:{property:"missing property name for condition"}}},conditionDependingOnId:{required:["property"],properties:{property:{const:{$data:"2/id"}}}}},allOf:[{$comment:"property#condition should not depend on property#id",if:{required:["id","condition"],properties:{condition:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/conditionDependingOnId"}}},then:{not:{required:["condition"]},errorMessage:"Invalid condition.property, must be different than property.id"}},{then:{errorMessage:"Invalid condition.property, must be different than property.id"}}],properties:{id:{type:"string",description:"Unique identifier of the property."},condition:{type:"object",description:"Condition(s) to activate the binding.",allOf:[{examples:[{type:"simple",property:"httpMethod",equals:"GET"},{type:"simple",property:"httpMethod",oneOf:["POST","PUT","DELETE"]},{allMatch:[{type:"simple",property:"authType",equals:"Basic"},{type:"simple",property:"httpMethod",oneOf:["POST","PUT","DELETE"]}]}]}],oneOf:[{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition"},{properties:{allMatch:{$id:"#/allMatch",type:"array",items:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition"},minItems:1}},required:["allMatch"]}]}}},{if:{properties:{type:{not:{const:"Number"}}},required:["type"]},then:{properties:{value:{type:["string","boolean"]}}}},{if:{oneOf:[{properties:{type:{enum:["String","Text"]}},required:["type"]},{not:{required:["type"]}}]},then:{properties:{placeholder:{type:"string"}}},else:{not:{required:["placeholder"]}}}],properties:{value:{$id:"#/properties/property/value",type:["string","number","boolean"],description:"The value of a control field."},description:{$id:"#/properties/property/description",type:"string",description:"The description of a control field."},label:{$id:"#/properties/property/label",type:"string",description:"The label of a control field."},type:{$id:"#/properties/property/type",type:"string",description:"The type of a control field."},editable:{$id:"#/properties/property/editable",type:"boolean",description:"Indicates whether a control field is editable or not."},choices:{$id:"#/properties/property/choices",type:"array",description:"The choices for dropdown fields.",default:[],items:{$id:"#/properties/property/choices/item",type:"object",default:{},properties:{name:{$id:"#/properties/property/choices/item/name",type:"string",description:"The name of a choice."},value:{$id:"#/properties/property/choices/item/value",type:"string",description:"The value of a choice."},condition:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/properties/condition"}},required:["value","name"],errorMessage:{required:'{ name, value } must be specified for "Dropdown" choices'}}},constraints:{$id:"#/properties/property/constraints",type:"object",description:"The validation constraints of a control field.",allOf:[{examples:[{notEmpty:!0}]}],properties:{notEmpty:{$id:"#/properties/property/constraints/notEmpty",type:"boolean",description:"The control field must not be empty."},minLength:{$id:"#/properties/property/constraints/minLength",type:"number",description:"The minimal length of a control field value."},maxLength:{$id:"#/properties/property/constraints/maxLength",type:"number",description:"The maximal length for a control field value."},pattern:{$id:"#/properties/property/constraints/pattern",description:"A regular expression pattern for a constraint.",oneOf:[{type:"object",default:{},properties:{value:{$id:"#/properties/property/constraints/pattern/value",type:"string",description:"The regular expression of a pattern."},message:{$id:"#/properties/property/constraints/pattern/message",type:"string",description:"The validation message of a pattern."}}},{type:"string"}]}}},group:{$id:"#/properties/property/group",type:"string",description:"The custom group of a control field."}}}},{$schema:"http://json-schema.org/draft-07/schema",type:"array",description:"List of properties of the element template.",items:{type:"object",default:{},required:["binding"],allOf:[{if:{properties:{binding:{properties:{type:{const:"property"}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown","Boolean"],errorMessage:'invalid property type ${0} for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean }'}}}},{if:{properties:{binding:{properties:{type:{const:"camunda:executionListener"}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["Hidden"],errorMessage:'invalid property type ${1/type} for binding type "camunda:executionListener"; must be "Hidden"'},binding:{properties:{implementationType:{enum:["class","delegateExpression","expression","script"]}},oneOf:[{not:{properties:{implementationType:{const:"script"}}}},{required:["scriptFormat"]},{allOf:[{not:{required:["implementationType"]}},{not:{required:["scriptFormat"]}}]}]}}}},{if:{properties:{binding:{properties:{type:{enum:["camunda:property","camunda:outputParameter","camunda:in","camunda:in:businessKey","camunda:out","camunda:errorEventDefinition"]}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Hidden","Dropdown"],errorMessage:"invalid property type ${0} for binding type ${1/binding/type}; must be any of { String, Hidden, Dropdown }"}}}},{if:{properties:{binding:{properties:{type:{enum:["camunda:inputParameter","camunda:field"]}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown"],errorMessage:"invalid property type ${0} for binding type ${1/binding/type}; must be any of { String, Text, Hidden, Dropdown }"}}}}],properties:{binding:{$id:"#/properties/property/binding",type:"object",description:"Specifying how the property is mapped to BPMN or Camunda extension elements and attributes.",required:["type"],allOf:[{if:{properties:{type:{enum:["property","camunda:property","camunda:inputParameter","camunda:field"]}},required:["type"]},then:{required:["name"],errorMessage:"property.binding ${0/type} requires name"}},{if:{properties:{type:{const:"camunda:outputParameter"}},required:["type"]},then:{required:["source"],errorMessage:"property.binding ${0/type} requires source"}},{if:{properties:{type:{const:"camunda:in"}},required:["type"]},then:{anyOf:[{required:["variables"]},{required:["target"]}],errorMessage:"property.binding ${0/type} requires variables, target, or both"}},{if:{properties:{type:{const:"camunda:out"}},required:["type"]},then:{oneOf:[{required:["variables"],not:{anyOf:[{required:["source"]},{required:["sourceExpression"]}]}},{required:["source"],not:{anyOf:[{required:["variables"]},{required:["sourceExpression"]}]}},{required:["sourceExpression"],not:{anyOf:[{required:["variables"]},{required:["source"]}]}},{required:["variables","sourceExpression"],not:{required:["source"]}},{required:["variables","source"],not:{required:["sourceExpression"]}}],errorMessage:"property.binding ${0/type} requires one of the following: variables, sourceExpression, source, (sourceExpression and variables), or (source and variables)"}},{if:{properties:{type:{const:"camunda:errorEventDefinition"}},required:["type"]},then:{oneOf:[{required:["errorRef"]}],errorMessage:"property.binding ${0/type} requires errorRef"}},{examples:[{type:"property",name:"name"},{type:"camunda:property",name:"property"},{type:"camunda:inputParameter",name:"input"},{type:"camunda:outputParameter",source:"output"},{type:"camunda:in",target:"target"},{type:"camunda:in:businessKey"},{type:"camunda:out",source:"output"},{type:"camunda:executionListener",event:"start"},{type:"camunda:field",name:"field"},{type:"camunda:errorEventDefinition",errorRef:"error"},{type:"camunda:errorEventDefinition",errorRef:"error"}]}],properties:{type:{$id:"#/properties/property/binding/type",type:"string",enum:["property","camunda:property","camunda:inputParameter","camunda:outputParameter","camunda:in","camunda:out","camunda:in:businessKey","camunda:executionListener","camunda:field","camunda:errorEventDefinition"],description:"The type of a property binding.",errorMessage:"invalid property.binding type ${0}; must be any of { property, camunda:property, camunda:inputParameter, camunda:outputParameter, camunda:in, camunda:out, camunda:in:businessKey, camunda:executionListener, camunda:field, camunda:errorEventDefinition }"},name:{$id:"#/properties/property/binding/name",type:"string",description:"The name of a property binding."},event:{$id:"#/properties/property/binding/event",type:"string",description:"The event type of a property binding (camunda:executionListener)."},scriptFormat:{$id:"#/properties/property/binding/scriptFormat",type:"string",description:"The script format of a property binding (camunda:outputParameter, camunda:inputParameter)."},source:{$id:"#/properties/property/binding/source",type:"string",description:"The source value of a property binding (camunda:outputParameter, camunda:out)."},target:{$id:"#/properties/property/binding/target",type:"string",description:"The target value of a property binding (camunda:in)."},expression:{$id:"#/properties/property/binding/expression",type:"boolean",description:"Indicates whether the control field value is an expression (camunda:in, camunda:field)."},variables:{$id:"#/properties/property/binding/variables",type:"string",enum:["all","local"],description:"The variable mapping of a property binding (camunda:in)."},sourceExpression:{$id:"#/properties/property/binding/sourceExpression",type:"string",description:"The string containing the expression for the source attribute (camunda:out)."}}}},errorMessage:{required:'missing binding for property "${0#}"'}}}]},l={required:["property"],properties:{property:{const:{$data:"2/id"}}}},c={type:"object",required:["property"],properties:{type:{$id:"#/condition/type",const:"simple",description:"The type of the condition.",default:"simple"},property:{$id:"#/condition/property",type:"string",description:"The id of the property to check."}},oneOf:[{properties:{equals:{type:["string","number","boolean"]}},required:["equals"]},{properties:{oneOf:{type:"array",items:{type:["string","number"]}}},required:["oneOf"]},{properties:{isActive:{type:"boolean",description:"For `true`, activates the property when given property is active"}},required:["isActive"]}],errorMessage:{required:{property:"missing property name for condition"}}},u=QPe().default;function d(E,{instancePath:_="",rootData:w=E}={}){let g=null,x=0;if(!E||"object"!=typeof E||Array.isArray(E)){const _e={instancePath:_,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[_e]:g.push(_e),x++}const T=x;let I=!1,A=null;const $=x,z=x;let K=!1,U=null;const H=x;if(E&&"object"==typeof E&&!Array.isArray(E)){if(void 0===E.equals){const _e={instancePath:_,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===g?g=[_e]:g.push(_e),x++}if(void 0!==E.equals){let _e=E.equals;if("string"!=typeof _e&&"number"!=typeof _e&&"boolean"!=typeof _e){const be={instancePath:_+"/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:c.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===g?g=[be]:g.push(be),x++}}}(Re=H===x)&&(K=!0,U=0);const me=x;if(E&&"object"==typeof E&&!Array.isArray(E)){if(void 0===E.oneOf){const _e={instancePath:_,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===g?g=[_e]:g.push(_e),x++}if(void 0!==E.oneOf){let _e=E.oneOf;if(Array.isArray(_e)){const be=_e.length;for(let ke=0;ke<be;ke++){let Pe=_e[ke];if("string"!=typeof Pe&&"number"!=typeof Pe){const Y={instancePath:_+"/oneOf/"+ke,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:c.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===g?g=[Y]:g.push(Y),x++}}}else{const be={instancePath:_+"/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[be]:g.push(be),x++}}}if((Re=me===x)&&K)K=!1,U=[U,1];else{Re&&(K=!0,U=1);const _e=x;if(E&&"object"==typeof E&&!Array.isArray(E)){if(void 0===E.isActive){const ke={instancePath:_,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===g?g=[ke]:g.push(ke),x++}if(void 0!==E.isActive&&"boolean"!=typeof E.isActive){const ke={instancePath:_+"/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===g?g=[ke]:g.push(ke),x++}}var Re;(Re=_e===x)&&K?(K=!1,U=[U,2]):Re&&(K=!0,U=2)}if(K)x=z,null!==g&&(z?g.length=z:g=null);else{const _e={instancePath:_,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:U},message:"must match exactly one schema in oneOf"};null===g?g=[_e]:g.push(_e),x++}if(E&&"object"==typeof E&&!Array.isArray(E)){if(void 0===E.property){const _e={instancePath:_,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===g?g=[_e]:g.push(_e),x++}if(void 0!==E.type&&"simple"!==E.type){const _e={instancePath:_+"/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===g?g=[_e]:g.push(_e),x++}if(void 0!==E.property&&"string"!=typeof E.property){const _e={instancePath:_+"/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[_e]:g.push(_e),x++}}else{const _e={instancePath:_,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[_e]:g.push(_e),x++}if(x>0){const _e={required:{property:[]}},be={required:{}};let ke,Pe;for(const ie of g)"errorMessage"!==ie.keyword&&!ie.emUsed&&ie.instancePath===_&&ie.keyword in _e&&0===ie.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(ie.schemaPath.slice(68))&&(ke=o[ie.keyword],Pe=_e[ie.keyword][ie.params[ke]],Pe&&(Pe.push(ie),ie.emUsed=!0));for(const ie in _e)for(const se in _e[ie])if(Pe=_e[ie][se],Pe.length){const $e=be[ie]&&be[ie][se],j={instancePath:_,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:Pe},message:$e?$e():c.errorMessage[ie][se]};null===g?g=[j]:g.push(j),x++}const Y=[];for(const ie of g)ie.emUsed||Y.push(ie);g=Y,x=Y.length}$===x&&(I=!0,A=0);const De=x;if(E&&"object"==typeof E&&!Array.isArray(E)){if(void 0===E.allMatch){const _e={instancePath:_,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"allMatch"},message:"must have required property 'allMatch'"};null===g?g=[_e]:g.push(_e),x++}if(void 0!==E.allMatch){let _e=E.allMatch;if(Array.isArray(_e)){if(_e.length<1){const ke={instancePath:_+"/allMatch",schemaPath:"#/oneOf/1/properties/allMatch/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===g?g=[ke]:g.push(ke),x++}const be=_e.length;for(let ke=0;ke<be;ke++){let Pe=_e[ke];const Y=x;let ie=!1,se=null;const $e=x;if(Pe&&"object"==typeof Pe&&!Array.isArray(Pe)){if(void 0===Pe.equals){const M={instancePath:_+"/allMatch/"+ke,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===g?g=[M]:g.push(M),x++}if(void 0!==Pe.equals){let M=Pe.equals;if("string"!=typeof M&&"number"!=typeof M&&"boolean"!=typeof M){const k={instancePath:_+"/allMatch/"+ke+"/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:c.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===g?g=[k]:g.push(k),x++}}}(ye=$e===x)&&(ie=!0,se=0);const j=x;if(Pe&&"object"==typeof Pe&&!Array.isArray(Pe)){if(void 0===Pe.oneOf){const M={instancePath:_+"/allMatch/"+ke,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===g?g=[M]:g.push(M),x++}if(void 0!==Pe.oneOf){let M=Pe.oneOf;if(Array.isArray(M)){const k=M.length;for(let ne=0;ne<k;ne++){let re=M[ne];if("string"!=typeof re&&"number"!=typeof re){const Se={instancePath:_+"/allMatch/"+ke+"/oneOf/"+ne,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:c.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===g?g=[Se]:g.push(Se),x++}}}else{const k={instancePath:_+"/allMatch/"+ke+"/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[k]:g.push(k),x++}}}if((ye=j===x)&&ie)ie=!1,se=[se,1];else{ye&&(ie=!0,se=1);const M=x;if(Pe&&"object"==typeof Pe&&!Array.isArray(Pe)){if(void 0===Pe.isActive){const ne={instancePath:_+"/allMatch/"+ke,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===g?g=[ne]:g.push(ne),x++}if(void 0!==Pe.isActive&&"boolean"!=typeof Pe.isActive){const ne={instancePath:_+"/allMatch/"+ke+"/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===g?g=[ne]:g.push(ne),x++}}var ye;(ye=M===x)&&ie?(ie=!1,se=[se,2]):ye&&(ie=!0,se=2)}if(ie)x=Y,null!==g&&(Y?g.length=Y:g=null);else{const M={instancePath:_+"/allMatch/"+ke,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:se},message:"must match exactly one schema in oneOf"};null===g?g=[M]:g.push(M),x++}if(Pe&&"object"==typeof Pe&&!Array.isArray(Pe)){if(void 0===Pe.property){const M={instancePath:_+"/allMatch/"+ke,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===g?g=[M]:g.push(M),x++}if(void 0!==Pe.type&&"simple"!==Pe.type){const M={instancePath:_+"/allMatch/"+ke+"/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===g?g=[M]:g.push(M),x++}if(void 0!==Pe.property&&"string"!=typeof Pe.property){const M={instancePath:_+"/allMatch/"+ke+"/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[M]:g.push(M),x++}}else{const M={instancePath:_+"/allMatch/"+ke,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[M]:g.push(M),x++}if(x>0){const M={required:{property:[]}},k={required:{}};let ne,re;for(const te of g)"errorMessage"!==te.keyword&&!te.emUsed&&te.instancePath===_+"/allMatch/"+ke&&te.keyword in M&&0===te.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(te.schemaPath.slice(68))&&(ne=o[te.keyword],re=M[te.keyword][te.params[ne]],re&&(re.push(te),te.emUsed=!0));for(const te in M)for(const Ke in M[te])if(re=M[te][Ke],re.length){const rt=k[te]&&k[te][Ke],Bt={instancePath:_+"/allMatch/"+ke,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:re},message:rt?rt():c.errorMessage[te][Ke]};null===g?g=[Bt]:g.push(Bt),x++}const Se=[];for(const te of g)te.emUsed||Se.push(te);g=Se,x=Se.length}}}else{const be={instancePath:_+"/allMatch",schemaPath:"#/oneOf/1/properties/allMatch/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[be]:g.push(be),x++}}}var at;if((at=De===x)&&I?(I=!1,A=[A,1]):at&&(I=!0,A=1),I)x=T,null!==g&&(T?g.length=T:g=null);else{const _e={instancePath:_,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:A},message:"must match exactly one schema in oneOf"};null===g?g=[_e]:g.push(_e),x++}return d.errors=g,0===x}function p(E,{instancePath:_="",rootData:w=E}={}){let g=null,x=0;if(Array.isArray(E)){const yt=E.length;for(let X=0;X<yt;X++){let le=E[X];const li=x;let Rr=!0;const Qn=x;if(le&&"object"==typeof le&&!Array.isArray(le))if(void 0===le.type){const F={};null===g?g=[F]:g.push(F),x++}else if(void 0!==le.type&&"Dropdown"!==le.type){const F={};null===g?g=[F]:g.push(F),x++}var T=Qn===x;if(x=li,null!==g&&(li?g.length=li:g=null),T){const F=x;if(le&&"object"==typeof le&&!Array.isArray(le)&&void 0===le.choices){const Fe={instancePath:_+"/"+X,schemaPath:"#/allOf/0/items/allOf/0/then/required",keyword:"required",params:{missingProperty:"choices"},message:"must have required property 'choices'"};null===g?g=[Fe]:g.push(Fe),x++}if(x>0){const Fe=[];for(const nt of g)"errorMessage"!==nt.keyword&&!nt.emUsed&&(nt.instancePath===_+"/"+X||0===nt.instancePath.indexOf(_+"/"+X)&&"/"===nt.instancePath[_+"/"+X.length])&&0===nt.schemaPath.indexOf("#/allOf/0/items/allOf/0/then")&&"/"===nt.schemaPath[28]&&(Fe.push(nt),nt.emUsed=!0);if(Fe.length){const nt={instancePath:_+"/"+X,schemaPath:"#/allOf/0/items/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:Fe},message:'must provide choices=[] with "Dropdown" type'};null===g?g=[nt]:g.push(nt),x++}const qe=[];for(const nt of g)nt.emUsed||qe.push(nt);g=qe,x=qe.length}Rr=T=F===x}if(!Rr){const F={instancePath:_+"/"+X,schemaPath:"#/allOf/0/items/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[F]:g.push(F),x++}const $s=x;let Ua=!0;const qo=x;if(le&&"object"==typeof le&&!Array.isArray(le))if(void 0===le.id||void 0===le.condition){const F={};null===g?g=[F]:g.push(F),x++}else if(void 0!==le.condition){let F=le.condition;if(F&&"object"==typeof F&&!Array.isArray(F))if(void 0===F.property){const xe={};null===g?g=[xe]:g.push(xe),x++}else if(void 0!==F.property&&!u(F.property,l.properties.property.const)){const xe={};null===g?g=[xe]:g.push(xe),x++}}var I=qo===x;if(x=$s,null!==g&&($s?g.length=$s:g=null),I){const F=x,xe=x,Fe=x;if(le&&"object"==typeof le&&!Array.isArray(le)&&void 0===le.condition){const nt={};null===g?g=[nt]:g.push(nt),x++}if(Fe===x){const nt={instancePath:_+"/"+X,schemaPath:"#/allOf/0/items/allOf/1/allOf/0/then/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[nt]:g.push(nt),x++}else x=xe,null!==g&&(xe?g.length=xe:g=null);if(x>0){const nt=[];for(const ht of g)"errorMessage"!==ht.keyword&&!ht.emUsed&&(ht.instancePath===_+"/"+X||0===ht.instancePath.indexOf(_+"/"+X)&&"/"===ht.instancePath[_+"/"+X.length])&&0===ht.schemaPath.indexOf("#/allOf/0/items/allOf/1/allOf/0/then")&&"/"===ht.schemaPath[36]&&(nt.push(ht),ht.emUsed=!0);if(nt.length){const ht={instancePath:_+"/"+X,schemaPath:"#/allOf/0/items/allOf/1/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:nt},message:"Invalid condition.property, must be different than property.id"};null===g?g=[ht]:g.push(ht),x++}const Qe=[];for(const ht of g)ht.emUsed||Qe.push(ht);g=Qe,x=Qe.length}Ua=I=F===x}if(!Ua){const F={instancePath:_+"/"+X,schemaPath:"#/allOf/0/items/allOf/1/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[F]:g.push(F),x++}if(le&&"object"==typeof le&&!Array.isArray(le)){if(void 0!==le.id&&"string"!=typeof le.id){const F={instancePath:_+"/"+X+"/id",schemaPath:"#/allOf/0/items/allOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[F]:g.push(F),x++}if(void 0!==le.condition){let F=le.condition;if(!F||"object"!=typeof F||Array.isArray(F)){const mt={instancePath:_+"/"+X+"/condition",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[mt]:g.push(mt),x++}const xe=x;let Fe=!1,qe=null;const nt=x,Qe=x;let ht=!1,We=null;const dt=x;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.equals){const mt={instancePath:_+"/"+X+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===g?g=[mt]:g.push(mt),x++}if(void 0!==F.equals){let mt=F.equals;if("string"!=typeof mt&&"number"!=typeof mt&&"boolean"!=typeof mt){const gt={instancePath:_+"/"+X+"/condition/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:c.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===g?g=[gt]:g.push(gt),x++}}}($=dt===x)&&(ht=!0,We=0);const Ne=x;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.oneOf){const mt={instancePath:_+"/"+X+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===g?g=[mt]:g.push(mt),x++}if(void 0!==F.oneOf){let mt=F.oneOf;if(Array.isArray(mt)){const gt=mt.length;for(let Z=0;Z<gt;Z++){let lt=mt[Z];if("string"!=typeof lt&&"number"!=typeof lt){const bt={instancePath:_+"/"+X+"/condition/oneOf/"+Z,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:c.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===g?g=[bt]:g.push(bt),x++}}}else{const gt={instancePath:_+"/"+X+"/condition/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[gt]:g.push(gt),x++}}}if(($=Ne===x)&&ht)ht=!1,We=[We,1];else{$&&(ht=!0,We=1);const mt=x;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.isActive){const Z={instancePath:_+"/"+X+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===g?g=[Z]:g.push(Z),x++}if(void 0!==F.isActive&&"boolean"!=typeof F.isActive){const Z={instancePath:_+"/"+X+"/condition/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===g?g=[Z]:g.push(Z),x++}}var $;($=mt===x)&&ht?(ht=!1,We=[We,2]):$&&(ht=!0,We=2)}if(ht)x=Qe,null!==g&&(Qe?g.length=Qe:g=null);else{const mt={instancePath:_+"/"+X+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:We},message:"must match exactly one schema in oneOf"};null===g?g=[mt]:g.push(mt),x++}if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.property){const mt={instancePath:_+"/"+X+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===g?g=[mt]:g.push(mt),x++}if(void 0!==F.type&&"simple"!==F.type){const mt={instancePath:_+"/"+X+"/condition/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===g?g=[mt]:g.push(mt),x++}if(void 0!==F.property&&"string"!=typeof F.property){const mt={instancePath:_+"/"+X+"/condition/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[mt]:g.push(mt),x++}}else{const mt={instancePath:_+"/"+X+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[mt]:g.push(mt),x++}if(x>0){const mt={required:{property:[]}},gt={required:{}};let Z,lt;for(const Ye of g)"errorMessage"!==Ye.keyword&&!Ye.emUsed&&Ye.instancePath===_+"/"+X+"/condition"&&Ye.keyword in mt&&0===Ye.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(Ye.schemaPath.slice(68))&&(Z=o[Ye.keyword],lt=mt[Ye.keyword][Ye.params[Z]],lt&&(lt.push(Ye),Ye.emUsed=!0));for(const Ye in mt)for(const kt in mt[Ye])if(lt=mt[Ye][kt],lt.length){const Ct=gt[Ye]&&gt[Ye][kt],qn={instancePath:_+"/"+X+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:lt},message:Ct?Ct():c.errorMessage[Ye][kt]};null===g?g=[qn]:g.push(qn),x++}const bt=[];for(const Ye of g)Ye.emUsed||bt.push(Ye);g=bt,x=bt.length}nt===x&&(Fe=!0,qe=0);const Tt=x;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.allMatch){const mt={instancePath:_+"/"+X+"/condition",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"allMatch"},message:"must have required property 'allMatch'"};null===g?g=[mt]:g.push(mt),x++}if(void 0!==F.allMatch){let mt=F.allMatch;if(Array.isArray(mt)){if(mt.length<1){const Z={instancePath:_+"/"+X+"/condition/allMatch",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/oneOf/1/properties/allMatch/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===g?g=[Z]:g.push(Z),x++}const gt=mt.length;for(let Z=0;Z<gt;Z++){let lt=mt[Z];const bt=x;let Ye=!1,kt=null;const Ct=x;if(lt&&"object"==typeof lt&&!Array.isArray(lt)){if(void 0===lt.equals){const Lt={instancePath:_+"/"+X+"/condition/allMatch/"+Z,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===g?g=[Lt]:g.push(Lt),x++}if(void 0!==lt.equals){let Lt=lt.equals;if("string"!=typeof Lt&&"number"!=typeof Lt&&"boolean"!=typeof Lt){const Le={instancePath:_+"/"+X+"/condition/allMatch/"+Z+"/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:c.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===g?g=[Le]:g.push(Le),x++}}}(z=Ct===x)&&(Ye=!0,kt=0);const qn=x;if(lt&&"object"==typeof lt&&!Array.isArray(lt)){if(void 0===lt.oneOf){const Lt={instancePath:_+"/"+X+"/condition/allMatch/"+Z,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===g?g=[Lt]:g.push(Lt),x++}if(void 0!==lt.oneOf){let Lt=lt.oneOf;if(Array.isArray(Lt)){const Le=Lt.length;for(let it=0;it<Le;it++){let Zt=Lt[it];if("string"!=typeof Zt&&"number"!=typeof Zt){const Wn={instancePath:_+"/"+X+"/condition/allMatch/"+Z+"/oneOf/"+it,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:c.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===g?g=[Wn]:g.push(Wn),x++}}}else{const Le={instancePath:_+"/"+X+"/condition/allMatch/"+Z+"/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[Le]:g.push(Le),x++}}}if((z=qn===x)&&Ye)Ye=!1,kt=[kt,1];else{z&&(Ye=!0,kt=1);const Lt=x;if(lt&&"object"==typeof lt&&!Array.isArray(lt)){if(void 0===lt.isActive){const it={instancePath:_+"/"+X+"/condition/allMatch/"+Z,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===g?g=[it]:g.push(it),x++}if(void 0!==lt.isActive&&"boolean"!=typeof lt.isActive){const it={instancePath:_+"/"+X+"/condition/allMatch/"+Z+"/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===g?g=[it]:g.push(it),x++}}var z;(z=Lt===x)&&Ye?(Ye=!1,kt=[kt,2]):z&&(Ye=!0,kt=2)}if(Ye)x=bt,null!==g&&(bt?g.length=bt:g=null);else{const Lt={instancePath:_+"/"+X+"/condition/allMatch/"+Z,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:kt},message:"must match exactly one schema in oneOf"};null===g?g=[Lt]:g.push(Lt),x++}if(lt&&"object"==typeof lt&&!Array.isArray(lt)){if(void 0===lt.property){const Lt={instancePath:_+"/"+X+"/condition/allMatch/"+Z,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===g?g=[Lt]:g.push(Lt),x++}if(void 0!==lt.type&&"simple"!==lt.type){const Lt={instancePath:_+"/"+X+"/condition/allMatch/"+Z+"/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===g?g=[Lt]:g.push(Lt),x++}if(void 0!==lt.property&&"string"!=typeof lt.property){const Lt={instancePath:_+"/"+X+"/condition/allMatch/"+Z+"/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Lt]:g.push(Lt),x++}}else{const Lt={instancePath:_+"/"+X+"/condition/allMatch/"+Z,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[Lt]:g.push(Lt),x++}if(x>0){const Lt={required:{property:[]}},Le={required:{}};let it,Zt;for(const Qr of g)"errorMessage"!==Qr.keyword&&!Qr.emUsed&&Qr.instancePath===_+"/"+X+"/condition/allMatch/"+Z&&Qr.keyword in Lt&&0===Qr.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(Qr.schemaPath.slice(68))&&(it=o[Qr.keyword],Zt=Lt[Qr.keyword][Qr.params[it]],Zt&&(Zt.push(Qr),Qr.emUsed=!0));for(const Qr in Lt)for(const Vn in Lt[Qr])if(Zt=Lt[Qr][Vn],Zt.length){const ls=Le[Qr]&&Le[Qr][Vn],mi={instancePath:_+"/"+X+"/condition/allMatch/"+Z,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:Zt},message:ls?ls():c.errorMessage[Qr][Vn]};null===g?g=[mi]:g.push(mi),x++}const Wn=[];for(const Qr of g)Qr.emUsed||Wn.push(Qr);g=Wn,x=Wn.length}}}else{const gt={instancePath:_+"/"+X+"/condition/allMatch",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/oneOf/1/properties/allMatch/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[gt]:g.push(gt),x++}}}var K;if((K=Tt===x)&&Fe?(Fe=!1,qe=[qe,1]):K&&(Fe=!0,qe=1),Fe)x=xe,null!==g&&(xe?g.length=xe:g=null);else{const mt={instancePath:_+"/"+X+"/condition",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/oneOf",keyword:"oneOf",params:{passingSchemas:qe},message:"must match exactly one schema in oneOf"};null===g?g=[mt]:g.push(mt),x++}}}const wn=x;let Hi=!0;const Oe=x;if(le&&"object"==typeof le&&!Array.isArray(le))if(void 0===le.type){const F={};null===g?g=[F]:g.push(F),x++}else if(void 0!==le.type){const F=x,xe=x;if("Number"!==le.type){const Fe={};null===g?g=[Fe]:g.push(Fe),x++}if(xe===x){const Fe={};null===g?g=[Fe]:g.push(Fe),x++}else x=F,null!==g&&(F?g.length=F:g=null)}var H=Oe===x;if(x=wn,null!==g&&(wn?g.length=wn:g=null),H){const F=x;if(le&&"object"==typeof le&&!Array.isArray(le)&&void 0!==le.value){let Fe=le.value;if("string"!=typeof Fe&&"boolean"!=typeof Fe){const qe={instancePath:_+"/"+X+"/value",schemaPath:"#/allOf/0/items/allOf/2/then/properties/value/type",keyword:"type",params:{type:a.allOf[0].items.allOf[2].then.properties.value.type},message:"must be string,boolean"};null===g?g=[qe]:g.push(qe),x++}}Hi=H=F===x}if(!Hi){const F={instancePath:_+"/"+X,schemaPath:"#/allOf/0/items/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[F]:g.push(F),x++}const Pt=x;let nn=!0;const Yt=x,we=x;let Dt=!1;const sn=x;if(le&&"object"==typeof le&&!Array.isArray(le))if(void 0===le.type){const F={};null===g?g=[F]:g.push(F),x++}else if(void 0!==le.type){let F=le.type;if("String"!==F&&"Text"!==F){const xe={};null===g?g=[xe]:g.push(xe),x++}}sn===x&&(Dt=!0);const Ae=x,wt=x,vt=x;if(le&&"object"==typeof le&&!Array.isArray(le)&&void 0===le.type){const F={};null===g?g=[F]:g.push(F),x++}var Re;if(vt===x){const F={};null===g?g=[F]:g.push(F),x++}else x=wt,null!==g&&(wt?g.length=wt:g=null);if((Re=Ae===x)&&Dt?Dt=!1:Re&&(Dt=!0),Dt)x=we,null!==g&&(we?g.length=we:g=null);else{const F={};null===g?g=[F]:g.push(F),x++}var De=Yt===x;let Q;if(x=Pt,null!==g&&(Pt?g.length=Pt:g=null),De){const F=x;if(le&&"object"==typeof le&&!Array.isArray(le)&&void 0!==le.placeholder&&"string"!=typeof le.placeholder){const Fe={instancePath:_+"/"+X+"/placeholder",schemaPath:"#/allOf/0/items/allOf/3/then/properties/placeholder/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Fe]:g.push(Fe),x++}nn=De=F===x,Q="then"}else{const F=x,xe=x,Fe=x;if(le&&"object"==typeof le&&!Array.isArray(le)&&void 0===le.placeholder){const nt={};null===g?g=[nt]:g.push(nt),x++}if(Fe===x){const nt={instancePath:_+"/"+X,schemaPath:"#/allOf/0/items/allOf/3/else/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[nt]:g.push(nt),x++}else x=xe,null!==g&&(xe?g.length=xe:g=null);nn=De=F===x,Q="else"}if(!nn){const F={instancePath:_+"/"+X,schemaPath:"#/allOf/0/items/allOf/3/if",keyword:"if",params:{failingKeyword:Q},message:'must match "'+Q+'" schema'};null===g?g=[F]:g.push(F),x++}if(le&&"object"==typeof le&&!Array.isArray(le)){if(void 0!==le.value){let F=le.value;if("string"!=typeof F&&"number"!=typeof F&&"boolean"!=typeof F){const xe={instancePath:_+"/"+X+"/value",schemaPath:"#/allOf/0/items/properties/value/type",keyword:"type",params:{type:a.allOf[0].items.properties.value.type},message:"must be string,number,boolean"};null===g?g=[xe]:g.push(xe),x++}}if(void 0!==le.description&&"string"!=typeof le.description){const F={instancePath:_+"/"+X+"/description",schemaPath:"#/allOf/0/items/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[F]:g.push(F),x++}if(void 0!==le.label&&"string"!=typeof le.label){const F={instancePath:_+"/"+X+"/label",schemaPath:"#/allOf/0/items/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[F]:g.push(F),x++}if(void 0!==le.type&&"string"!=typeof le.type){const F={instancePath:_+"/"+X+"/type",schemaPath:"#/allOf/0/items/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[F]:g.push(F),x++}if(void 0!==le.editable&&"boolean"!=typeof le.editable){const F={instancePath:_+"/"+X+"/editable",schemaPath:"#/allOf/0/items/properties/editable/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===g?g=[F]:g.push(F),x++}if(void 0!==le.choices){let F=le.choices;if(Array.isArray(F)){const xe=F.length;for(let Fe=0;Fe<xe;Fe++){let qe=F[Fe];if(qe&&"object"==typeof qe&&!Array.isArray(qe)){if(void 0===qe.value){const nt={instancePath:_+"/"+X+"/choices/"+Fe,schemaPath:"#/allOf/0/items/properties/choices/items/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===g?g=[nt]:g.push(nt),x++}if(void 0===qe.name){const nt={instancePath:_+"/"+X+"/choices/"+Fe,schemaPath:"#/allOf/0/items/properties/choices/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===g?g=[nt]:g.push(nt),x++}if(void 0!==qe.name&&"string"!=typeof qe.name){const nt={instancePath:_+"/"+X+"/choices/"+Fe+"/name",schemaPath:"#/allOf/0/items/properties/choices/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[nt]:g.push(nt),x++}if(void 0!==qe.value&&"string"!=typeof qe.value){const nt={instancePath:_+"/"+X+"/choices/"+Fe+"/value",schemaPath:"#/allOf/0/items/properties/choices/items/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[nt]:g.push(nt),x++}void 0!==qe.condition&&(d(qe.condition,{instancePath:_+"/"+X+"/choices/"+Fe+"/condition",parentData:qe,parentDataProperty:"condition",rootData:w})||(g=null===g?d.errors:g.concat(d.errors),x=g.length))}else{const nt={instancePath:_+"/"+X+"/choices/"+Fe,schemaPath:"#/allOf/0/items/properties/choices/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[nt]:g.push(nt),x++}if(x>0){const nt={required:[]},Qe={};for(const We of g)"errorMessage"!==We.keyword&&!We.emUsed&&We.instancePath===_+"/"+X+"/choices/"+Fe&&We.keyword in nt&&0===We.schemaPath.indexOf("#/allOf/0/items/properties/choices/items")&&/^\/[^\/]*$/.test(We.schemaPath.slice(40))&&(nt[We.keyword].push(We),We.emUsed=!0);for(const We in nt)if(nt[We].length){const dt={instancePath:_+"/"+X+"/choices/"+Fe,schemaPath:"#/allOf/0/items/properties/choices/items/errorMessage",keyword:"errorMessage",params:{errors:nt[We]},message:We in Qe?Qe[We]():a.allOf[0].items.properties.choices.items.errorMessage[We]};null===g?g=[dt]:g.push(dt),x++}const ht=[];for(const We of g)We.emUsed||ht.push(We);g=ht,x=ht.length}}}else{const xe={instancePath:_+"/"+X+"/choices",schemaPath:"#/allOf/0/items/properties/choices/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[xe]:g.push(xe),x++}}if(void 0!==le.constraints){let F=le.constraints;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0!==F.notEmpty&&"boolean"!=typeof F.notEmpty){const xe={instancePath:_+"/"+X+"/constraints/notEmpty",schemaPath:"#/allOf/0/items/properties/constraints/properties/notEmpty/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===g?g=[xe]:g.push(xe),x++}if(void 0!==F.minLength&&"number"!=typeof F.minLength){const xe={instancePath:_+"/"+X+"/constraints/minLength",schemaPath:"#/allOf/0/items/properties/constraints/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===g?g=[xe]:g.push(xe),x++}if(void 0!==F.maxLength&&"number"!=typeof F.maxLength){const xe={instancePath:_+"/"+X+"/constraints/maxLength",schemaPath:"#/allOf/0/items/properties/constraints/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===g?g=[xe]:g.push(xe),x++}if(void 0!==F.pattern){let xe=F.pattern;const Fe=x;let qe=!1,nt=null;const Qe=x;if(xe&&"object"==typeof xe&&!Array.isArray(xe)){if(void 0!==xe.value&&"string"!=typeof xe.value){const We={instancePath:_+"/"+X+"/constraints/pattern/value",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[We]:g.push(We),x++}if(void 0!==xe.message&&"string"!=typeof xe.message){const We={instancePath:_+"/"+X+"/constraints/pattern/message",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/properties/message/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[We]:g.push(We),x++}}else{const We={instancePath:_+"/"+X+"/constraints/pattern",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[We]:g.push(We),x++}Qe===x&&(qe=!0,nt=0);const ht=x;if("string"!=typeof xe){const We={instancePath:_+"/"+X+"/constraints/pattern",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[We]:g.push(We),x++}var at;if((at=ht===x)&&qe?(qe=!1,nt=[nt,1]):at&&(qe=!0,nt=1),qe)x=Fe,null!==g&&(Fe?g.length=Fe:g=null);else{const We={instancePath:_+"/"+X+"/constraints/pattern",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf",keyword:"oneOf",params:{passingSchemas:nt},message:"must match exactly one schema in oneOf"};null===g?g=[We]:g.push(We),x++}}}else{const xe={instancePath:_+"/"+X+"/constraints",schemaPath:"#/allOf/0/items/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[xe]:g.push(xe),x++}}if(void 0!==le.group&&"string"!=typeof le.group){const F={instancePath:_+"/"+X+"/group",schemaPath:"#/allOf/0/items/properties/group/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[F]:g.push(F),x++}}else{const F={instancePath:_+"/"+X,schemaPath:"#/allOf/0/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[F]:g.push(F),x++}}}else{const yt={instancePath:_,schemaPath:"#/allOf/0/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[yt]:g.push(yt),x++}if(Array.isArray(E)){const yt=E.length;for(let X=0;X<yt;X++){let le=E[X];const li=x;let Rr=!0;const Qn=x;if(le&&"object"==typeof le&&!Array.isArray(le))if(void 0===le.binding){const we={};null===g?g=[we]:g.push(we),x++}else if(void 0!==le.binding){let we=le.binding;if(we&&"object"==typeof we&&!Array.isArray(we))if(void 0===we.type){const Dt={};null===g?g=[Dt]:g.push(Dt),x++}else if(void 0!==we.type&&"property"!==we.type){const Dt={};null===g?g=[Dt]:g.push(Dt),x++}}var _e=Qn===x;if(x=li,null!==g&&(li?g.length=li:g=null),_e){const we=x;if(le&&"object"==typeof le&&!Array.isArray(le)&&void 0!==le.type){let sn=le.type;if("String"!==sn&&"Text"!==sn&&"Hidden"!==sn&&"Dropdown"!==sn&&"Boolean"!==sn){const Ae={instancePath:_+"/"+X+"/type",schemaPath:"#/allOf/1/items/allOf/0/then/properties/type/enum",keyword:"enum",params:{allowedValues:a.allOf[1].items.allOf[0].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===g?g=[Ae]:g.push(Ae),x++}if(x>0){const Ae=[];for(const vt of g)"errorMessage"!==vt.keyword&&!vt.emUsed&&(vt.instancePath===_+"/"+X+"/type"||0===vt.instancePath.indexOf(_+"/"+X+"/type")&&"/"===vt.instancePath[_+"/"+X+5])&&0===vt.schemaPath.indexOf("#/allOf/1/items/allOf/0/then/properties/type")&&"/"===vt.schemaPath[44]&&(Ae.push(vt),vt.emUsed=!0);if(Ae.length){const vt={instancePath:_+"/"+X+"/type",schemaPath:"#/allOf/1/items/allOf/0/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Ae},message:"invalid property type "+JSON.stringify(sn)+' for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean }'};null===g?g=[vt]:g.push(vt),x++}const wt=[];for(const vt of g)vt.emUsed||wt.push(vt);g=wt,x=wt.length}}Rr=_e=we===x}if(!Rr){const we={instancePath:_+"/"+X,schemaPath:"#/allOf/1/items/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[we]:g.push(we),x++}const $s=x;let Ua=!0;const qo=x;if(le&&"object"==typeof le&&!Array.isArray(le))if(void 0===le.binding){const we={};null===g?g=[we]:g.push(we),x++}else if(void 0!==le.binding){let we=le.binding;if(we&&"object"==typeof we&&!Array.isArray(we))if(void 0===we.type){const Dt={};null===g?g=[Dt]:g.push(Dt),x++}else if(void 0!==we.type&&"camunda:executionListener"!==we.type){const Dt={};null===g?g=[Dt]:g.push(Dt),x++}}var be=qo===x;if(x=$s,null!==g&&($s?g.length=$s:g=null),be){const we=x;if(le&&"object"==typeof le&&!Array.isArray(le)){if(void 0!==le.type){if("Hidden"!==le.type){const sn={instancePath:_+"/"+X+"/type",schemaPath:"#/allOf/1/items/allOf/1/then/properties/type/enum",keyword:"enum",params:{allowedValues:a.allOf[1].items.allOf[1].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===g?g=[sn]:g.push(sn),x++}if(x>0){const sn=[];for(const wt of g)"errorMessage"!==wt.keyword&&!wt.emUsed&&(wt.instancePath===_+"/"+X+"/type"||0===wt.instancePath.indexOf(_+"/"+X+"/type")&&"/"===wt.instancePath[_+"/"+X+5])&&0===wt.schemaPath.indexOf("#/allOf/1/items/allOf/1/then/properties/type")&&"/"===wt.schemaPath[44]&&(sn.push(wt),wt.emUsed=!0);if(sn.length){const wt={instancePath:_+"/"+X+"/type",schemaPath:"#/allOf/1/items/allOf/1/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:sn},message:"invalid property type "+JSON.stringify(le&&le.type)+' for binding type "camunda:executionListener"; must be "Hidden"'};null===g?g=[wt]:g.push(wt),x++}const Ae=[];for(const wt of g)wt.emUsed||Ae.push(wt);g=Ae,x=Ae.length}}if(void 0!==le.binding){let sn=le.binding;const Ae=x;let wt=!1,vt=null;const Q=x,F=x,xe=x;if(sn&&"object"==typeof sn&&!Array.isArray(sn)&&void 0!==sn.implementationType&&"script"!==sn.implementationType){const qe={};null===g?g=[qe]:g.push(qe),x++}if(xe===x){const qe={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/allOf/1/then/properties/binding/oneOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[qe]:g.push(qe),x++}else x=F,null!==g&&(F?g.length=F:g=null);(Pe=Q===x)&&(wt=!0,vt=0);const Fe=x;if(sn&&"object"==typeof sn&&!Array.isArray(sn)&&void 0===sn.scriptFormat){const qe={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/allOf/1/then/properties/binding/oneOf/1/required",keyword:"required",params:{missingProperty:"scriptFormat"},message:"must have required property 'scriptFormat'"};null===g?g=[qe]:g.push(qe),x++}if((Pe=Fe===x)&&wt)wt=!1,vt=[vt,1];else{Pe&&(wt=!0,vt=1);const qe=x,nt=x,Qe=x;if(sn&&"object"==typeof sn&&!Array.isArray(sn)&&void 0===sn.implementationType){const Ne={};null===g?g=[Ne]:g.push(Ne),x++}if(Qe===x){const Ne={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/allOf/1/then/properties/binding/oneOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[Ne]:g.push(Ne),x++}else x=nt,null!==g&&(nt?g.length=nt:g=null);const ht=x,We=x;if(sn&&"object"==typeof sn&&!Array.isArray(sn)&&void 0===sn.scriptFormat){const Ne={};null===g?g=[Ne]:g.push(Ne),x++}var Pe;if(We===x){const Ne={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/allOf/1/then/properties/binding/oneOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[Ne]:g.push(Ne),x++}else x=ht,null!==g&&(ht?g.length=ht:g=null);(Pe=qe===x)&&wt?(wt=!1,vt=[vt,2]):Pe&&(wt=!0,vt=2)}if(wt)x=Ae,null!==g&&(Ae?g.length=Ae:g=null);else{const qe={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/allOf/1/then/properties/binding/oneOf",keyword:"oneOf",params:{passingSchemas:vt},message:"must match exactly one schema in oneOf"};null===g?g=[qe]:g.push(qe),x++}if(sn&&"object"==typeof sn&&!Array.isArray(sn)&&void 0!==sn.implementationType){let qe=sn.implementationType;if("class"!==qe&&"delegateExpression"!==qe&&"expression"!==qe&&"script"!==qe){const nt={instancePath:_+"/"+X+"/binding/implementationType",schemaPath:"#/allOf/1/items/allOf/1/then/properties/binding/properties/implementationType/enum",keyword:"enum",params:{allowedValues:a.allOf[1].items.allOf[1].then.properties.binding.properties.implementationType.enum},message:"must be equal to one of the allowed values"};null===g?g=[nt]:g.push(nt),x++}}}}Ua=be=we===x}if(!Ua){const we={instancePath:_+"/"+X,schemaPath:"#/allOf/1/items/allOf/1/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[we]:g.push(we),x++}const wn=x;let Hi=!0;const Oe=x;if(le&&"object"==typeof le&&!Array.isArray(le))if(void 0===le.binding){const we={};null===g?g=[we]:g.push(we),x++}else if(void 0!==le.binding){let we=le.binding;if(we&&"object"==typeof we&&!Array.isArray(we))if(void 0===we.type){const Dt={};null===g?g=[Dt]:g.push(Dt),x++}else if(void 0!==we.type){let Dt=we.type;if("camunda:property"!==Dt&&"camunda:outputParameter"!==Dt&&"camunda:in"!==Dt&&"camunda:in:businessKey"!==Dt&&"camunda:out"!==Dt&&"camunda:errorEventDefinition"!==Dt){const sn={};null===g?g=[sn]:g.push(sn),x++}}}var se=Oe===x;if(x=wn,null!==g&&(wn?g.length=wn:g=null),se){const we=x;if(le&&"object"==typeof le&&!Array.isArray(le)&&void 0!==le.type){let sn=le.type;if("String"!==sn&&"Hidden"!==sn&&"Dropdown"!==sn){const Ae={instancePath:_+"/"+X+"/type",schemaPath:"#/allOf/1/items/allOf/2/then/properties/type/enum",keyword:"enum",params:{allowedValues:a.allOf[1].items.allOf[2].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===g?g=[Ae]:g.push(Ae),x++}if(x>0){const Ae=[];for(const vt of g)"errorMessage"!==vt.keyword&&!vt.emUsed&&(vt.instancePath===_+"/"+X+"/type"||0===vt.instancePath.indexOf(_+"/"+X+"/type")&&"/"===vt.instancePath[_+"/"+X+5])&&0===vt.schemaPath.indexOf("#/allOf/1/items/allOf/2/then/properties/type")&&"/"===vt.schemaPath[44]&&(Ae.push(vt),vt.emUsed=!0);if(Ae.length){const vt={instancePath:_+"/"+X+"/type",schemaPath:"#/allOf/1/items/allOf/2/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Ae},message:"invalid property type "+JSON.stringify(sn)+" for binding type "+JSON.stringify(le&&le.binding&&le.binding.type)+"; must be any of { String, Hidden, Dropdown }"};null===g?g=[vt]:g.push(vt),x++}const wt=[];for(const vt of g)vt.emUsed||wt.push(vt);g=wt,x=wt.length}}Hi=se=we===x}if(!Hi){const we={instancePath:_+"/"+X,schemaPath:"#/allOf/1/items/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[we]:g.push(we),x++}const Pt=x;let nn=!0;const Yt=x;if(le&&"object"==typeof le&&!Array.isArray(le))if(void 0===le.binding){const we={};null===g?g=[we]:g.push(we),x++}else if(void 0!==le.binding){let we=le.binding;if(we&&"object"==typeof we&&!Array.isArray(we))if(void 0===we.type){const Dt={};null===g?g=[Dt]:g.push(Dt),x++}else if(void 0!==we.type){let Dt=we.type;if("camunda:inputParameter"!==Dt&&"camunda:field"!==Dt){const sn={};null===g?g=[sn]:g.push(sn),x++}}}var $e=Yt===x;if(x=Pt,null!==g&&(Pt?g.length=Pt:g=null),$e){const we=x;if(le&&"object"==typeof le&&!Array.isArray(le)&&void 0!==le.type){let sn=le.type;if("String"!==sn&&"Text"!==sn&&"Hidden"!==sn&&"Dropdown"!==sn){const Ae={instancePath:_+"/"+X+"/type",schemaPath:"#/allOf/1/items/allOf/3/then/properties/type/enum",keyword:"enum",params:{allowedValues:a.allOf[1].items.allOf[3].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===g?g=[Ae]:g.push(Ae),x++}if(x>0){const Ae=[];for(const vt of g)"errorMessage"!==vt.keyword&&!vt.emUsed&&(vt.instancePath===_+"/"+X+"/type"||0===vt.instancePath.indexOf(_+"/"+X+"/type")&&"/"===vt.instancePath[_+"/"+X+5])&&0===vt.schemaPath.indexOf("#/allOf/1/items/allOf/3/then/properties/type")&&"/"===vt.schemaPath[44]&&(Ae.push(vt),vt.emUsed=!0);if(Ae.length){const vt={instancePath:_+"/"+X+"/type",schemaPath:"#/allOf/1/items/allOf/3/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Ae},message:"invalid property type "+JSON.stringify(sn)+" for binding type "+JSON.stringify(le&&le.binding&&le.binding.type)+"; must be any of { String, Text, Hidden, Dropdown }"};null===g?g=[vt]:g.push(vt),x++}const wt=[];for(const vt of g)vt.emUsed||wt.push(vt);g=wt,x=wt.length}}nn=$e=we===x}if(!nn){const we={instancePath:_+"/"+X,schemaPath:"#/allOf/1/items/allOf/3/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[we]:g.push(we),x++}if(le&&"object"==typeof le&&!Array.isArray(le)){if(void 0===le.binding){const we={instancePath:_+"/"+X,schemaPath:"#/allOf/1/items/required",keyword:"required",params:{missingProperty:"binding"},message:"must have required property 'binding'"};null===g?g=[we]:g.push(we),x++}if(void 0!==le.binding){let we=le.binding;const Dt=x;let sn=!0;const Ae=x;if(we&&"object"==typeof we&&!Array.isArray(we))if(void 0===we.type){const Ne={};null===g?g=[Ne]:g.push(Ne),x++}else if(void 0!==we.type){let Ne=we.type;if("property"!==Ne&&"camunda:property"!==Ne&&"camunda:inputParameter"!==Ne&&"camunda:field"!==Ne){const Tt={};null===g?g=[Tt]:g.push(Tt),x++}}var j=Ae===x;if(x=Dt,null!==g&&(Dt?g.length=Dt:g=null),j){const Ne=x;if(we&&"object"==typeof we&&!Array.isArray(we)&&void 0===we.name){const mt={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/0/then/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===g?g=[mt]:g.push(mt),x++}if(x>0){const mt=[];for(const Z of g)"errorMessage"!==Z.keyword&&!Z.emUsed&&(Z.instancePath===_+"/"+X+"/binding"||0===Z.instancePath.indexOf(_+"/"+X+"/binding")&&"/"===Z.instancePath[_+"/"+X+8])&&0===Z.schemaPath.indexOf("#/allOf/1/items/properties/binding/allOf/0/then")&&"/"===Z.schemaPath[47]&&(mt.push(Z),Z.emUsed=!0);if(mt.length){const Z={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:mt},message:"property.binding "+JSON.stringify(we&&we.type)+" requires name"};null===g?g=[Z]:g.push(Z),x++}const gt=[];for(const Z of g)Z.emUsed||gt.push(Z);g=gt,x=gt.length}sn=j=Ne===x}if(!sn){const Ne={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[Ne]:g.push(Ne),x++}const wt=x;let vt=!0;const Q=x;if(we&&"object"==typeof we&&!Array.isArray(we))if(void 0===we.type){const Ne={};null===g?g=[Ne]:g.push(Ne),x++}else if(void 0!==we.type&&"camunda:outputParameter"!==we.type){const Ne={};null===g?g=[Ne]:g.push(Ne),x++}var M=Q===x;if(x=wt,null!==g&&(wt?g.length=wt:g=null),M){const Ne=x;if(we&&"object"==typeof we&&!Array.isArray(we)&&void 0===we.source){const mt={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/1/then/required",keyword:"required",params:{missingProperty:"source"},message:"must have required property 'source'"};null===g?g=[mt]:g.push(mt),x++}if(x>0){const mt=[];for(const Z of g)"errorMessage"!==Z.keyword&&!Z.emUsed&&(Z.instancePath===_+"/"+X+"/binding"||0===Z.instancePath.indexOf(_+"/"+X+"/binding")&&"/"===Z.instancePath[_+"/"+X+8])&&0===Z.schemaPath.indexOf("#/allOf/1/items/properties/binding/allOf/1/then")&&"/"===Z.schemaPath[47]&&(mt.push(Z),Z.emUsed=!0);if(mt.length){const Z={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/1/then/errorMessage",keyword:"errorMessage",params:{errors:mt},message:"property.binding "+JSON.stringify(we&&we.type)+" requires source"};null===g?g=[Z]:g.push(Z),x++}const gt=[];for(const Z of g)Z.emUsed||gt.push(Z);g=gt,x=gt.length}vt=M=Ne===x}if(!vt){const Ne={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/1/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[Ne]:g.push(Ne),x++}const F=x;let xe=!0;const Fe=x;if(we&&"object"==typeof we&&!Array.isArray(we))if(void 0===we.type){const Ne={};null===g?g=[Ne]:g.push(Ne),x++}else if(void 0!==we.type&&"camunda:in"!==we.type){const Ne={};null===g?g=[Ne]:g.push(Ne),x++}var k=Fe===x;if(x=F,null!==g&&(F?g.length=F:g=null),k){const Ne=x,Tt=x;let mt=!1;const gt=x;if(we&&"object"==typeof we&&!Array.isArray(we)&&void 0===we.variables){const lt={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/2/then/anyOf/0/required",keyword:"required",params:{missingProperty:"variables"},message:"must have required property 'variables'"};null===g?g=[lt]:g.push(lt),x++}var ne=gt===x;if(mt=mt||ne,!mt){const lt=x;if(we&&"object"==typeof we&&!Array.isArray(we)&&void 0===we.target){const Ye={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/2/then/anyOf/1/required",keyword:"required",params:{missingProperty:"target"},message:"must have required property 'target'"};null===g?g=[Ye]:g.push(Ye),x++}ne=lt===x,mt=mt||ne}if(mt)x=Tt,null!==g&&(Tt?g.length=Tt:g=null);else{const lt={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/2/then/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};null===g?g=[lt]:g.push(lt),x++}if(x>0){const lt=[];for(const Ye of g)"errorMessage"!==Ye.keyword&&!Ye.emUsed&&(Ye.instancePath===_+"/"+X+"/binding"||0===Ye.instancePath.indexOf(_+"/"+X+"/binding")&&"/"===Ye.instancePath[_+"/"+X+8])&&0===Ye.schemaPath.indexOf("#/allOf/1/items/properties/binding/allOf/2/then")&&"/"===Ye.schemaPath[47]&&(lt.push(Ye),Ye.emUsed=!0);if(lt.length){const Ye={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/2/then/errorMessage",keyword:"errorMessage",params:{errors:lt},message:"property.binding "+JSON.stringify(we&&we.type)+" requires variables, target, or both"};null===g?g=[Ye]:g.push(Ye),x++}const bt=[];for(const Ye of g)Ye.emUsed||bt.push(Ye);g=bt,x=bt.length}xe=k=Ne===x}if(!xe){const Ne={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[Ne]:g.push(Ne),x++}const qe=x;let nt=!0;const Qe=x;if(we&&"object"==typeof we&&!Array.isArray(we))if(void 0===we.type){const Ne={};null===g?g=[Ne]:g.push(Ne),x++}else if(void 0!==we.type&&"camunda:out"!==we.type){const Ne={};null===g?g=[Ne]:g.push(Ne),x++}var re=Qe===x;if(x=qe,null!==g&&(qe?g.length=qe:g=null),re){const Ne=x,Tt=x;let mt=!1,gt=null;const Z=x,lt=x,bt=x,Ye=x;let kt=!1;const Ct=x;if(we&&"object"==typeof we&&!Array.isArray(we)&&void 0===we.source){const Vn={};null===g?g=[Vn]:g.push(Vn),x++}var Se=Ct===x;if(kt=kt||Se,!kt){const Vn=x;if(we&&"object"==typeof we&&!Array.isArray(we)&&void 0===we.sourceExpression){const mi={};null===g?g=[mi]:g.push(mi),x++}Se=Vn===x,kt=kt||Se}if(kt)x=Ye,null!==g&&(Ye?g.length=Ye:g=null);else{const Vn={};null===g?g=[Vn]:g.push(Vn),x++}if(bt===x){const Vn={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[Vn]:g.push(Vn),x++}else x=lt,null!==g&&(lt?g.length=lt:g=null);if(we&&"object"==typeof we&&!Array.isArray(we)&&void 0===we.variables){const Vn={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/0/required",keyword:"required",params:{missingProperty:"variables"},message:"must have required property 'variables'"};null===g?g=[Vn]:g.push(Vn),x++}(Bt=Z===x)&&(mt=!0,gt=0);const qn=x,Lt=x,Le=x,it=x;let Zt=!1;const Wn=x;if(we&&"object"==typeof we&&!Array.isArray(we)&&void 0===we.variables){const Vn={};null===g?g=[Vn]:g.push(Vn),x++}var Ke=Wn===x;if(Zt=Zt||Ke,!Zt){const Vn=x;if(we&&"object"==typeof we&&!Array.isArray(we)&&void 0===we.sourceExpression){const mi={};null===g?g=[mi]:g.push(mi),x++}Ke=Vn===x,Zt=Zt||Ke}if(Zt)x=it,null!==g&&(it?g.length=it:g=null);else{const Vn={};null===g?g=[Vn]:g.push(Vn),x++}if(Le===x){const Vn={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[Vn]:g.push(Vn),x++}else x=Lt,null!==g&&(Lt?g.length=Lt:g=null);if(we&&"object"==typeof we&&!Array.isArray(we)&&void 0===we.source){const Vn={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/1/required",keyword:"required",params:{missingProperty:"source"},message:"must have required property 'source'"};null===g?g=[Vn]:g.push(Vn),x++}if((Bt=qn===x)&&mt)mt=!1,gt=[gt,1];else{Bt&&(mt=!0,gt=1);const Vn=x,ls=x,mi=x,It=x;let gi=!1;const Ur=x;if(we&&"object"==typeof we&&!Array.isArray(we)&&void 0===we.variables){const vn={};null===g?g=[vn]:g.push(vn),x++}var Kt=Ur===x;if(gi=gi||Kt,!gi){const vn=x;if(we&&"object"==typeof we&&!Array.isArray(we)&&void 0===we.source){const K5={};null===g?g=[K5]:g.push(K5),x++}Kt=vn===x,gi=gi||Kt}if(gi)x=It,null!==g&&(It?g.length=It:g=null);else{const vn={};null===g?g=[vn]:g.push(vn),x++}if(mi===x){const vn={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/2/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[vn]:g.push(vn),x++}else x=ls,null!==g&&(ls?g.length=ls:g=null);if(we&&"object"==typeof we&&!Array.isArray(we)&&void 0===we.sourceExpression){const vn={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/2/required",keyword:"required",params:{missingProperty:"sourceExpression"},message:"must have required property 'sourceExpression'"};null===g?g=[vn]:g.push(vn),x++}if((Bt=Vn===x)&&mt)mt=!1,gt=[gt,2];else{Bt&&(mt=!0,gt=2);const vn=x,O2=x,K5=x;if(we&&"object"==typeof we&&!Array.isArray(we)&&void 0===we.source){const uo={};null===g?g=[uo]:g.push(uo),x++}if(K5===x){const uo={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[uo]:g.push(uo),x++}else x=O2,null!==g&&(O2?g.length=O2:g=null);if(we&&"object"==typeof we&&!Array.isArray(we)){if(void 0===we.variables){const uo={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/required",keyword:"required",params:{missingProperty:"variables"},message:"must have required property 'variables'"};null===g?g=[uo]:g.push(uo),x++}if(void 0===we.sourceExpression){const uo={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/required",keyword:"required",params:{missingProperty:"sourceExpression"},message:"must have required property 'sourceExpression'"};null===g?g=[uo]:g.push(uo),x++}}if((Bt=vn===x)&&mt)mt=!1,gt=[gt,3];else{Bt&&(mt=!0,gt=3);const uo=x,Mie=x,bdn=x;if(we&&"object"==typeof we&&!Array.isArray(we)&&void 0===we.sourceExpression){const Lf={};null===g?g=[Lf]:g.push(Lf),x++}var Bt;if(bdn===x){const Lf={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[Lf]:g.push(Lf),x++}else x=Mie,null!==g&&(Mie?g.length=Mie:g=null);if(we&&"object"==typeof we&&!Array.isArray(we)){if(void 0===we.variables){const Lf={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/required",keyword:"required",params:{missingProperty:"variables"},message:"must have required property 'variables'"};null===g?g=[Lf]:g.push(Lf),x++}if(void 0===we.source){const Lf={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/required",keyword:"required",params:{missingProperty:"source"},message:"must have required property 'source'"};null===g?g=[Lf]:g.push(Lf),x++}}(Bt=uo===x)&&mt?(mt=!1,gt=[gt,4]):Bt&&(mt=!0,gt=4)}}}if(mt)x=Tt,null!==g&&(Tt?g.length=Tt:g=null);else{const Vn={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/oneOf",keyword:"oneOf",params:{passingSchemas:gt},message:"must match exactly one schema in oneOf"};null===g?g=[Vn]:g.push(Vn),x++}if(x>0){const Vn=[];for(const mi of g)"errorMessage"!==mi.keyword&&!mi.emUsed&&(mi.instancePath===_+"/"+X+"/binding"||0===mi.instancePath.indexOf(_+"/"+X+"/binding")&&"/"===mi.instancePath[_+"/"+X+8])&&0===mi.schemaPath.indexOf("#/allOf/1/items/properties/binding/allOf/3/then")&&"/"===mi.schemaPath[47]&&(Vn.push(mi),mi.emUsed=!0);if(Vn.length){const mi={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/errorMessage",keyword:"errorMessage",params:{errors:Vn},message:"property.binding "+JSON.stringify(we&&we.type)+" requires one of the following: variables, sourceExpression, source, (sourceExpression and variables), or (source and variables)"};null===g?g=[mi]:g.push(mi),x++}const ls=[];for(const mi of g)mi.emUsed||ls.push(mi);g=ls,x=ls.length}nt=re=Ne===x}if(!nt){const Ne={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[Ne]:g.push(Ne),x++}const ht=x;let We=!0;const dt=x;if(we&&"object"==typeof we&&!Array.isArray(we))if(void 0===we.type){const Ne={};null===g?g=[Ne]:g.push(Ne),x++}else if(void 0!==we.type&&"camunda:errorEventDefinition"!==we.type){const Ne={};null===g?g=[Ne]:g.push(Ne),x++}var B=dt===x;if(x=ht,null!==g&&(ht?g.length=ht:g=null),B){const Ne=x,Tt=x;let mt=!1,gt=null;const Z=x;if(we&&"object"==typeof we&&!Array.isArray(we)&&void 0===we.errorRef){const bt={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/4/then/oneOf/0/required",keyword:"required",params:{missingProperty:"errorRef"},message:"must have required property 'errorRef'"};null===g?g=[bt]:g.push(bt),x++}if(Z===x&&(mt=!0,gt=0),mt)x=Tt,null!==g&&(Tt?g.length=Tt:g=null);else{const bt={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/4/then/oneOf",keyword:"oneOf",params:{passingSchemas:gt},message:"must match exactly one schema in oneOf"};null===g?g=[bt]:g.push(bt),x++}if(x>0){const bt=[];for(const kt of g)"errorMessage"!==kt.keyword&&!kt.emUsed&&(kt.instancePath===_+"/"+X+"/binding"||0===kt.instancePath.indexOf(_+"/"+X+"/binding")&&"/"===kt.instancePath[_+"/"+X+8])&&0===kt.schemaPath.indexOf("#/allOf/1/items/properties/binding/allOf/4/then")&&"/"===kt.schemaPath[47]&&(bt.push(kt),kt.emUsed=!0);if(bt.length){const kt={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/4/then/errorMessage",keyword:"errorMessage",params:{errors:bt},message:"property.binding "+JSON.stringify(we&&we.type)+" requires errorRef"};null===g?g=[kt]:g.push(kt),x++}const Ye=[];for(const kt of g)kt.emUsed||Ye.push(kt);g=Ye,x=Ye.length}We=B=Ne===x}if(!We){const Ne={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/4/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[Ne]:g.push(Ne),x++}if(we&&"object"==typeof we&&!Array.isArray(we)){if(void 0===we.type){const Ne={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===g?g=[Ne]:g.push(Ne),x++}if(void 0!==we.type){let Ne=we.type;if("string"!=typeof Ne){const Tt={instancePath:_+"/"+X+"/binding/type",schemaPath:"#/allOf/1/items/properties/binding/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Tt]:g.push(Tt),x++}if("property"!==Ne&&"camunda:property"!==Ne&&"camunda:inputParameter"!==Ne&&"camunda:outputParameter"!==Ne&&"camunda:in"!==Ne&&"camunda:out"!==Ne&&"camunda:in:businessKey"!==Ne&&"camunda:executionListener"!==Ne&&"camunda:field"!==Ne&&"camunda:errorEventDefinition"!==Ne){const Tt={instancePath:_+"/"+X+"/binding/type",schemaPath:"#/allOf/1/items/properties/binding/properties/type/enum",keyword:"enum",params:{allowedValues:a.allOf[1].items.properties.binding.properties.type.enum},message:"must be equal to one of the allowed values"};null===g?g=[Tt]:g.push(Tt),x++}if(x>0){const Tt=[];for(const gt of g)"errorMessage"!==gt.keyword&&!gt.emUsed&&(gt.instancePath===_+"/"+X+"/binding/type"||0===gt.instancePath.indexOf(_+"/"+X+"/binding/type")&&"/"===gt.instancePath[_+"/"+X+13])&&0===gt.schemaPath.indexOf("#/allOf/1/items/properties/binding/properties/type")&&"/"===gt.schemaPath[50]&&(Tt.push(gt),gt.emUsed=!0);if(Tt.length){const gt={instancePath:_+"/"+X+"/binding/type",schemaPath:"#/allOf/1/items/properties/binding/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Tt},message:"invalid property.binding type "+JSON.stringify(Ne)+"; must be any of { property, camunda:property, camunda:inputParameter, camunda:outputParameter, camunda:in, camunda:out, camunda:in:businessKey, camunda:executionListener, camunda:field, camunda:errorEventDefinition }"};null===g?g=[gt]:g.push(gt),x++}const mt=[];for(const gt of g)gt.emUsed||mt.push(gt);g=mt,x=mt.length}}if(void 0!==we.name&&"string"!=typeof we.name){const Ne={instancePath:_+"/"+X+"/binding/name",schemaPath:"#/allOf/1/items/properties/binding/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Ne]:g.push(Ne),x++}if(void 0!==we.event&&"string"!=typeof we.event){const Ne={instancePath:_+"/"+X+"/binding/event",schemaPath:"#/allOf/1/items/properties/binding/properties/event/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Ne]:g.push(Ne),x++}if(void 0!==we.scriptFormat&&"string"!=typeof we.scriptFormat){const Ne={instancePath:_+"/"+X+"/binding/scriptFormat",schemaPath:"#/allOf/1/items/properties/binding/properties/scriptFormat/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Ne]:g.push(Ne),x++}if(void 0!==we.source&&"string"!=typeof we.source){const Ne={instancePath:_+"/"+X+"/binding/source",schemaPath:"#/allOf/1/items/properties/binding/properties/source/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Ne]:g.push(Ne),x++}if(void 0!==we.target&&"string"!=typeof we.target){const Ne={instancePath:_+"/"+X+"/binding/target",schemaPath:"#/allOf/1/items/properties/binding/properties/target/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Ne]:g.push(Ne),x++}if(void 0!==we.expression&&"boolean"!=typeof we.expression){const Ne={instancePath:_+"/"+X+"/binding/expression",schemaPath:"#/allOf/1/items/properties/binding/properties/expression/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===g?g=[Ne]:g.push(Ne),x++}if(void 0!==we.variables){let Ne=we.variables;if("string"!=typeof Ne){const Tt={instancePath:_+"/"+X+"/binding/variables",schemaPath:"#/allOf/1/items/properties/binding/properties/variables/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Tt]:g.push(Tt),x++}if("all"!==Ne&&"local"!==Ne){const Tt={instancePath:_+"/"+X+"/binding/variables",schemaPath:"#/allOf/1/items/properties/binding/properties/variables/enum",keyword:"enum",params:{allowedValues:a.allOf[1].items.properties.binding.properties.variables.enum},message:"must be equal to one of the allowed values"};null===g?g=[Tt]:g.push(Tt),x++}}if(void 0!==we.sourceExpression&&"string"!=typeof we.sourceExpression){const Ne={instancePath:_+"/"+X+"/binding/sourceExpression",schemaPath:"#/allOf/1/items/properties/binding/properties/sourceExpression/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Ne]:g.push(Ne),x++}}else{const Ne={instancePath:_+"/"+X+"/binding",schemaPath:"#/allOf/1/items/properties/binding/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[Ne]:g.push(Ne),x++}}}else{const we={instancePath:_+"/"+X,schemaPath:"#/allOf/1/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[we]:g.push(we),x++}if(x>0){const we={required:[]},Dt={required:function(){return'missing binding for property "'+JSON.stringify(X)+'"'}};for(const Ae of g)"errorMessage"!==Ae.keyword&&!Ae.emUsed&&Ae.instancePath===_+"/"+X&&Ae.keyword in we&&0===Ae.schemaPath.indexOf("#/allOf/1/items")&&/^\/[^\/]*$/.test(Ae.schemaPath.slice(15))&&(we[Ae.keyword].push(Ae),Ae.emUsed=!0);for(const Ae in we)if(we[Ae].length){const wt={instancePath:_+"/"+X,schemaPath:"#/allOf/1/items/errorMessage",keyword:"errorMessage",params:{errors:we[Ae]},message:Ae in Dt?Dt[Ae]():a.allOf[1].items.errorMessage[Ae]};null===g?g=[wt]:g.push(wt),x++}const sn=[];for(const Ae of g)Ae.emUsed||sn.push(Ae);g=sn,x=sn.length}}}else{const yt={instancePath:_,schemaPath:"#/allOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[yt]:g.push(yt),x++}return p.errors=g,0===x}const f={type:"array",description:"List of properties of the element template.",allOf:[{examples:[[{label:"Name",type:"String",binding:{type:"property",name:"name"}}]]}],items:{type:"object",default:{},allOf:[{if:{properties:{type:{const:"Dropdown"}},required:["type"]},then:{required:["choices"],errorMessage:'must provide choices=[] with "Dropdown" type'}},{definitions:{condition:{type:"object",required:["property"],properties:{type:{$id:"#/condition/type",const:"simple",description:"The type of the condition.",default:"simple"},property:{$id:"#/condition/property",type:"string",description:"The id of the property to check."}},oneOf:[{properties:{equals:{type:["string","number","boolean"]}},required:["equals"]},{properties:{oneOf:{type:"array",items:{type:["string","number"]}}},required:["oneOf"]},{properties:{isActive:{type:"boolean",description:"For `true`, activates the property when given property is active"}},required:["isActive"]}],errorMessage:{required:{property:"missing property name for condition"}}},conditionDependingOnId:{required:["property"],properties:{property:{const:{$data:"2/id"}}}}},allOf:[{$comment:"property#condition should not depend on property#id",if:{required:["id","condition"],properties:{condition:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/conditionDependingOnId"}}},then:{not:{required:["condition"]},errorMessage:"Invalid condition.property, must be different than property.id"}},{then:{errorMessage:"Invalid condition.property, must be different than property.id"}}],properties:{id:{type:"string",description:"Unique identifier of the property."},condition:{type:"object",description:"Condition(s) to activate the binding.",allOf:[{examples:[{type:"simple",property:"httpMethod",equals:"GET"},{type:"simple",property:"httpMethod",oneOf:["POST","PUT","DELETE"]},{allMatch:[{type:"simple",property:"authType",equals:"Basic"},{type:"simple",property:"httpMethod",oneOf:["POST","PUT","DELETE"]}]}]}],oneOf:[{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition"},{properties:{allMatch:{$id:"#/allMatch",type:"array",items:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition"},minItems:1}},required:["allMatch"]}]}}},{if:{properties:{type:{not:{const:"Number"}}},required:["type"]},then:{properties:{value:{type:["string","boolean"]}}}},{if:{oneOf:[{properties:{type:{enum:["String","Text"]}},required:["type"]},{not:{required:["type"]}}]},then:{properties:{placeholder:{type:"string"}}},else:{not:{required:["placeholder"]}}}],properties:{value:{$id:"#/properties/property/value",type:["string","number","boolean"],description:"The value of a control field."},description:{$id:"#/properties/property/description",type:"string",description:"The description of a control field."},label:{$id:"#/properties/property/label",type:"string",description:"The label of a control field."},type:{$id:"#/properties/property/type",type:"string",description:"The type of a control field."},editable:{$id:"#/properties/property/editable",type:"boolean",description:"Indicates whether a control field is editable or not."},choices:{$id:"#/properties/property/choices",type:"array",description:"The choices for dropdown fields.",default:[],items:{$id:"#/properties/property/choices/item",type:"object",default:{},properties:{name:{$id:"#/properties/property/choices/item/name",type:"string",description:"The name of a choice."},value:{$id:"#/properties/property/choices/item/value",type:"string",description:"The value of a choice."},condition:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/properties/condition"}},required:["value","name"],errorMessage:{required:'{ name, value } must be specified for "Dropdown" choices'}}},constraints:{$id:"#/properties/property/constraints",type:"object",description:"The validation constraints of a control field.",allOf:[{examples:[{notEmpty:!0}]}],properties:{notEmpty:{$id:"#/properties/property/constraints/notEmpty",type:"boolean",description:"The control field must not be empty."},minLength:{$id:"#/properties/property/constraints/minLength",type:"number",description:"The minimal length of a control field value."},maxLength:{$id:"#/properties/property/constraints/maxLength",type:"number",description:"The maximal length for a control field value."},pattern:{$id:"#/properties/property/constraints/pattern",description:"A regular expression pattern for a constraint.",oneOf:[{type:"object",default:{},properties:{value:{$id:"#/properties/property/constraints/pattern/value",type:"string",description:"The regular expression of a pattern."},message:{$id:"#/properties/property/constraints/pattern/message",type:"string",description:"The validation message of a pattern."}}},{type:"string"}]}}},group:{$id:"#/properties/property/group",type:"string",description:"The custom group of a control field."}}}};function h(E,{instancePath:_="",rootData:w=E}={}){let g=null,x=0;if(Array.isArray(E)){const _e=E.length;for(let be=0;be<_e;be++){let ke=E[be];const Pe=x;let Y=!0;const ie=x;if(ke&&"object"==typeof ke&&!Array.isArray(ke))if(void 0===ke.type){const B={};null===g?g=[B]:g.push(B),x++}else if(void 0!==ke.type&&"Dropdown"!==ke.type){const B={};null===g?g=[B]:g.push(B),x++}var T=ie===x;if(x=Pe,null!==g&&(Pe?g.length=Pe:g=null),T){const B=x;if(ke&&"object"==typeof ke&&!Array.isArray(ke)&&void 0===ke.choices){const yt={instancePath:_+"/"+be,schemaPath:"#/items/allOf/0/then/required",keyword:"required",params:{missingProperty:"choices"},message:"must have required property 'choices'"};null===g?g=[yt]:g.push(yt),x++}if(x>0){const yt=[];for(const le of g)"errorMessage"!==le.keyword&&!le.emUsed&&(le.instancePath===_+"/"+be||0===le.instancePath.indexOf(_+"/"+be)&&"/"===le.instancePath[_+"/"+be.length])&&0===le.schemaPath.indexOf("#/items/allOf/0/then")&&"/"===le.schemaPath[20]&&(yt.push(le),le.emUsed=!0);if(yt.length){const le={instancePath:_+"/"+be,schemaPath:"#/items/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:yt},message:'must provide choices=[] with "Dropdown" type'};null===g?g=[le]:g.push(le),x++}const X=[];for(const le of g)le.emUsed||X.push(le);g=X,x=X.length}Y=T=B===x}if(!Y){const B={instancePath:_+"/"+be,schemaPath:"#/items/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[B]:g.push(B),x++}const se=x;let $e=!0;const j=x;if(ke&&"object"==typeof ke&&!Array.isArray(ke))if(void 0===ke.id||void 0===ke.condition){const B={};null===g?g=[B]:g.push(B),x++}else if(void 0!==ke.condition){let B=ke.condition;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.property){const zt={};null===g?g=[zt]:g.push(zt),x++}else if(void 0!==B.property&&!u(B.property,l.properties.property.const)){const zt={};null===g?g=[zt]:g.push(zt),x++}}var I=j===x;if(x=se,null!==g&&(se?g.length=se:g=null),I){const B=x,zt=x,yt=x;if(ke&&"object"==typeof ke&&!Array.isArray(ke)&&void 0===ke.condition){const le={};null===g?g=[le]:g.push(le),x++}if(yt===x){const le={instancePath:_+"/"+be,schemaPath:"#/items/allOf/1/allOf/0/then/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[le]:g.push(le),x++}else x=zt,null!==g&&(zt?g.length=zt:g=null);if(x>0){const le=[];for(const Rr of g)"errorMessage"!==Rr.keyword&&!Rr.emUsed&&(Rr.instancePath===_+"/"+be||0===Rr.instancePath.indexOf(_+"/"+be)&&"/"===Rr.instancePath[_+"/"+be.length])&&0===Rr.schemaPath.indexOf("#/items/allOf/1/allOf/0/then")&&"/"===Rr.schemaPath[28]&&(le.push(Rr),Rr.emUsed=!0);if(le.length){const Rr={instancePath:_+"/"+be,schemaPath:"#/items/allOf/1/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:le},message:"Invalid condition.property, must be different than property.id"};null===g?g=[Rr]:g.push(Rr),x++}const li=[];for(const Rr of g)Rr.emUsed||li.push(Rr);g=li,x=li.length}$e=I=B===x}if(!$e){const B={instancePath:_+"/"+be,schemaPath:"#/items/allOf/1/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[B]:g.push(B),x++}if(ke&&"object"==typeof ke&&!Array.isArray(ke)){if(void 0!==ke.id&&"string"!=typeof ke.id){const B={instancePath:_+"/"+be+"/id",schemaPath:"#/items/allOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[B]:g.push(B),x++}if(void 0!==ke.condition){let B=ke.condition;if(!B||"object"!=typeof B||Array.isArray(B)){const wn={instancePath:_+"/"+be+"/condition",schemaPath:"#/items/allOf/1/properties/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[wn]:g.push(wn),x++}const zt=x;let yt=!1,X=null;const le=x,li=x;let Rr=!1,Qn=null;const $s=x;if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0===B.equals){const wn={instancePath:_+"/"+be+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===g?g=[wn]:g.push(wn),x++}if(void 0!==B.equals){let wn=B.equals;if("string"!=typeof wn&&"number"!=typeof wn&&"boolean"!=typeof wn){const Hi={instancePath:_+"/"+be+"/condition/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:c.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===g?g=[Hi]:g.push(Hi),x++}}}($=$s===x)&&(Rr=!0,Qn=0);const Ua=x;if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0===B.oneOf){const wn={instancePath:_+"/"+be+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===g?g=[wn]:g.push(wn),x++}if(void 0!==B.oneOf){let wn=B.oneOf;if(Array.isArray(wn)){const Hi=wn.length;for(let Oe=0;Oe<Hi;Oe++){let Pt=wn[Oe];if("string"!=typeof Pt&&"number"!=typeof Pt){const nn={instancePath:_+"/"+be+"/condition/oneOf/"+Oe,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:c.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===g?g=[nn]:g.push(nn),x++}}}else{const Hi={instancePath:_+"/"+be+"/condition/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[Hi]:g.push(Hi),x++}}}if(($=Ua===x)&&Rr)Rr=!1,Qn=[Qn,1];else{$&&(Rr=!0,Qn=1);const wn=x;if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0===B.isActive){const Oe={instancePath:_+"/"+be+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===g?g=[Oe]:g.push(Oe),x++}if(void 0!==B.isActive&&"boolean"!=typeof B.isActive){const Oe={instancePath:_+"/"+be+"/condition/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===g?g=[Oe]:g.push(Oe),x++}}var $;($=wn===x)&&Rr?(Rr=!1,Qn=[Qn,2]):$&&(Rr=!0,Qn=2)}if(Rr)x=li,null!==g&&(li?g.length=li:g=null);else{const wn={instancePath:_+"/"+be+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:Qn},message:"must match exactly one schema in oneOf"};null===g?g=[wn]:g.push(wn),x++}if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0===B.property){const wn={instancePath:_+"/"+be+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===g?g=[wn]:g.push(wn),x++}if(void 0!==B.type&&"simple"!==B.type){const wn={instancePath:_+"/"+be+"/condition/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===g?g=[wn]:g.push(wn),x++}if(void 0!==B.property&&"string"!=typeof B.property){const wn={instancePath:_+"/"+be+"/condition/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[wn]:g.push(wn),x++}}else{const wn={instancePath:_+"/"+be+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[wn]:g.push(wn),x++}if(x>0){const wn={required:{property:[]}},Hi={required:{}};let Oe,Pt;for(const Yt of g)"errorMessage"!==Yt.keyword&&!Yt.emUsed&&Yt.instancePath===_+"/"+be+"/condition"&&Yt.keyword in wn&&0===Yt.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(Yt.schemaPath.slice(68))&&(Oe=o[Yt.keyword],Pt=wn[Yt.keyword][Yt.params[Oe]],Pt&&(Pt.push(Yt),Yt.emUsed=!0));for(const Yt in wn)for(const we in wn[Yt])if(Pt=wn[Yt][we],Pt.length){const Dt=Hi[Yt]&&Hi[Yt][we],sn={instancePath:_+"/"+be+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:Pt},message:Dt?Dt():c.errorMessage[Yt][we]};null===g?g=[sn]:g.push(sn),x++}const nn=[];for(const Yt of g)Yt.emUsed||nn.push(Yt);g=nn,x=nn.length}le===x&&(yt=!0,X=0);const qo=x;if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0===B.allMatch){const wn={instancePath:_+"/"+be+"/condition",schemaPath:"#/items/allOf/1/properties/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"allMatch"},message:"must have required property 'allMatch'"};null===g?g=[wn]:g.push(wn),x++}if(void 0!==B.allMatch){let wn=B.allMatch;if(Array.isArray(wn)){if(wn.length<1){const Oe={instancePath:_+"/"+be+"/condition/allMatch",schemaPath:"#/items/allOf/1/properties/condition/oneOf/1/properties/allMatch/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===g?g=[Oe]:g.push(Oe),x++}const Hi=wn.length;for(let Oe=0;Oe<Hi;Oe++){let Pt=wn[Oe];const nn=x;let Yt=!1,we=null;const Dt=x;if(Pt&&"object"==typeof Pt&&!Array.isArray(Pt)){if(void 0===Pt.equals){const Ae={instancePath:_+"/"+be+"/condition/allMatch/"+Oe,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===g?g=[Ae]:g.push(Ae),x++}if(void 0!==Pt.equals){let Ae=Pt.equals;if("string"!=typeof Ae&&"number"!=typeof Ae&&"boolean"!=typeof Ae){const wt={instancePath:_+"/"+be+"/condition/allMatch/"+Oe+"/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:c.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===g?g=[wt]:g.push(wt),x++}}}(z=Dt===x)&&(Yt=!0,we=0);const sn=x;if(Pt&&"object"==typeof Pt&&!Array.isArray(Pt)){if(void 0===Pt.oneOf){const Ae={instancePath:_+"/"+be+"/condition/allMatch/"+Oe,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===g?g=[Ae]:g.push(Ae),x++}if(void 0!==Pt.oneOf){let Ae=Pt.oneOf;if(Array.isArray(Ae)){const wt=Ae.length;for(let vt=0;vt<wt;vt++){let Q=Ae[vt];if("string"!=typeof Q&&"number"!=typeof Q){const F={instancePath:_+"/"+be+"/condition/allMatch/"+Oe+"/oneOf/"+vt,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:c.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===g?g=[F]:g.push(F),x++}}}else{const wt={instancePath:_+"/"+be+"/condition/allMatch/"+Oe+"/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[wt]:g.push(wt),x++}}}if((z=sn===x)&&Yt)Yt=!1,we=[we,1];else{z&&(Yt=!0,we=1);const Ae=x;if(Pt&&"object"==typeof Pt&&!Array.isArray(Pt)){if(void 0===Pt.isActive){const vt={instancePath:_+"/"+be+"/condition/allMatch/"+Oe,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===g?g=[vt]:g.push(vt),x++}if(void 0!==Pt.isActive&&"boolean"!=typeof Pt.isActive){const vt={instancePath:_+"/"+be+"/condition/allMatch/"+Oe+"/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===g?g=[vt]:g.push(vt),x++}}var z;(z=Ae===x)&&Yt?(Yt=!1,we=[we,2]):z&&(Yt=!0,we=2)}if(Yt)x=nn,null!==g&&(nn?g.length=nn:g=null);else{const Ae={instancePath:_+"/"+be+"/condition/allMatch/"+Oe,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:we},message:"must match exactly one schema in oneOf"};null===g?g=[Ae]:g.push(Ae),x++}if(Pt&&"object"==typeof Pt&&!Array.isArray(Pt)){if(void 0===Pt.property){const Ae={instancePath:_+"/"+be+"/condition/allMatch/"+Oe,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===g?g=[Ae]:g.push(Ae),x++}if(void 0!==Pt.type&&"simple"!==Pt.type){const Ae={instancePath:_+"/"+be+"/condition/allMatch/"+Oe+"/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===g?g=[Ae]:g.push(Ae),x++}if(void 0!==Pt.property&&"string"!=typeof Pt.property){const Ae={instancePath:_+"/"+be+"/condition/allMatch/"+Oe+"/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Ae]:g.push(Ae),x++}}else{const Ae={instancePath:_+"/"+be+"/condition/allMatch/"+Oe,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[Ae]:g.push(Ae),x++}if(x>0){const Ae={required:{property:[]}},wt={required:{}};let vt,Q;for(const xe of g)"errorMessage"!==xe.keyword&&!xe.emUsed&&xe.instancePath===_+"/"+be+"/condition/allMatch/"+Oe&&xe.keyword in Ae&&0===xe.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(xe.schemaPath.slice(68))&&(vt=o[xe.keyword],Q=Ae[xe.keyword][xe.params[vt]],Q&&(Q.push(xe),xe.emUsed=!0));for(const xe in Ae)for(const Fe in Ae[xe])if(Q=Ae[xe][Fe],Q.length){const qe=wt[xe]&&wt[xe][Fe],nt={instancePath:_+"/"+be+"/condition/allMatch/"+Oe,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:Q},message:qe?qe():c.errorMessage[xe][Fe]};null===g?g=[nt]:g.push(nt),x++}const F=[];for(const xe of g)xe.emUsed||F.push(xe);g=F,x=F.length}}}else{const Hi={instancePath:_+"/"+be+"/condition/allMatch",schemaPath:"#/items/allOf/1/properties/condition/oneOf/1/properties/allMatch/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[Hi]:g.push(Hi),x++}}}var K;if((K=qo===x)&&yt?(yt=!1,X=[X,1]):K&&(yt=!0,X=1),yt)x=zt,null!==g&&(zt?g.length=zt:g=null);else{const wn={instancePath:_+"/"+be+"/condition",schemaPath:"#/items/allOf/1/properties/condition/oneOf",keyword:"oneOf",params:{passingSchemas:X},message:"must match exactly one schema in oneOf"};null===g?g=[wn]:g.push(wn),x++}}}const M=x;let k=!0;const ne=x;if(ke&&"object"==typeof ke&&!Array.isArray(ke))if(void 0===ke.type){const B={};null===g?g=[B]:g.push(B),x++}else if(void 0!==ke.type){const B=x,zt=x;if("Number"!==ke.type){const yt={};null===g?g=[yt]:g.push(yt),x++}if(zt===x){const yt={};null===g?g=[yt]:g.push(yt),x++}else x=B,null!==g&&(B?g.length=B:g=null)}var H=ne===x;if(x=M,null!==g&&(M?g.length=M:g=null),H){const B=x;if(ke&&"object"==typeof ke&&!Array.isArray(ke)&&void 0!==ke.value){let yt=ke.value;if("string"!=typeof yt&&"boolean"!=typeof yt){const X={instancePath:_+"/"+be+"/value",schemaPath:"#/items/allOf/2/then/properties/value/type",keyword:"type",params:{type:f.items.allOf[2].then.properties.value.type},message:"must be string,boolean"};null===g?g=[X]:g.push(X),x++}}k=H=B===x}if(!k){const B={instancePath:_+"/"+be,schemaPath:"#/items/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[B]:g.push(B),x++}const re=x;let Se=!0;const te=x,Ke=x;let rt=!1;const Bt=x;if(ke&&"object"==typeof ke&&!Array.isArray(ke))if(void 0===ke.type){const B={};null===g?g=[B]:g.push(B),x++}else if(void 0!==ke.type){let B=ke.type;if("String"!==B&&"Text"!==B){const zt={};null===g?g=[zt]:g.push(zt),x++}}Bt===x&&(rt=!0);const Kt=x,ft=x,rn=x;if(ke&&"object"==typeof ke&&!Array.isArray(ke)&&void 0===ke.type){const B={};null===g?g=[B]:g.push(B),x++}var Re;if(rn===x){const B={};null===g?g=[B]:g.push(B),x++}else x=ft,null!==g&&(ft?g.length=ft:g=null);if((Re=Kt===x)&&rt?rt=!1:Re&&(rt=!0),rt)x=Ke,null!==g&&(Ke?g.length=Ke:g=null);else{const B={};null===g?g=[B]:g.push(B),x++}var De=te===x;let q;if(x=re,null!==g&&(re?g.length=re:g=null),De){const B=x;if(ke&&"object"==typeof ke&&!Array.isArray(ke)&&void 0!==ke.placeholder&&"string"!=typeof ke.placeholder){const yt={instancePath:_+"/"+be+"/placeholder",schemaPath:"#/items/allOf/3/then/properties/placeholder/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[yt]:g.push(yt),x++}Se=De=B===x,q="then"}else{const B=x,zt=x,yt=x;if(ke&&"object"==typeof ke&&!Array.isArray(ke)&&void 0===ke.placeholder){const le={};null===g?g=[le]:g.push(le),x++}if(yt===x){const le={instancePath:_+"/"+be,schemaPath:"#/items/allOf/3/else/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[le]:g.push(le),x++}else x=zt,null!==g&&(zt?g.length=zt:g=null);Se=De=B===x,q="else"}if(!Se){const B={instancePath:_+"/"+be,schemaPath:"#/items/allOf/3/if",keyword:"if",params:{failingKeyword:q},message:'must match "'+q+'" schema'};null===g?g=[B]:g.push(B),x++}if(ke&&"object"==typeof ke&&!Array.isArray(ke)){if(void 0!==ke.value){let B=ke.value;if("string"!=typeof B&&"number"!=typeof B&&"boolean"!=typeof B){const zt={instancePath:_+"/"+be+"/value",schemaPath:"#/items/properties/value/type",keyword:"type",params:{type:f.items.properties.value.type},message:"must be string,number,boolean"};null===g?g=[zt]:g.push(zt),x++}}if(void 0!==ke.description&&"string"!=typeof ke.description){const B={instancePath:_+"/"+be+"/description",schemaPath:"#/items/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[B]:g.push(B),x++}if(void 0!==ke.label&&"string"!=typeof ke.label){const B={instancePath:_+"/"+be+"/label",schemaPath:"#/items/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[B]:g.push(B),x++}if(void 0!==ke.type&&"string"!=typeof ke.type){const B={instancePath:_+"/"+be+"/type",schemaPath:"#/items/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[B]:g.push(B),x++}if(void 0!==ke.editable&&"boolean"!=typeof ke.editable){const B={instancePath:_+"/"+be+"/editable",schemaPath:"#/items/properties/editable/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===g?g=[B]:g.push(B),x++}if(void 0!==ke.choices){let B=ke.choices;if(Array.isArray(B)){const zt=B.length;for(let yt=0;yt<zt;yt++){let X=B[yt];if(X&&"object"==typeof X&&!Array.isArray(X)){if(void 0===X.value){const le={instancePath:_+"/"+be+"/choices/"+yt,schemaPath:"#/items/properties/choices/items/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===g?g=[le]:g.push(le),x++}if(void 0===X.name){const le={instancePath:_+"/"+be+"/choices/"+yt,schemaPath:"#/items/properties/choices/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===g?g=[le]:g.push(le),x++}if(void 0!==X.name&&"string"!=typeof X.name){const le={instancePath:_+"/"+be+"/choices/"+yt+"/name",schemaPath:"#/items/properties/choices/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[le]:g.push(le),x++}if(void 0!==X.value&&"string"!=typeof X.value){const le={instancePath:_+"/"+be+"/choices/"+yt+"/value",schemaPath:"#/items/properties/choices/items/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[le]:g.push(le),x++}void 0!==X.condition&&(d(X.condition,{instancePath:_+"/"+be+"/choices/"+yt+"/condition",parentData:X,parentDataProperty:"condition",rootData:w})||(g=null===g?d.errors:g.concat(d.errors),x=g.length))}else{const le={instancePath:_+"/"+be+"/choices/"+yt,schemaPath:"#/items/properties/choices/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[le]:g.push(le),x++}if(x>0){const le={required:[]},li={};for(const Qn of g)"errorMessage"!==Qn.keyword&&!Qn.emUsed&&Qn.instancePath===_+"/"+be+"/choices/"+yt&&Qn.keyword in le&&0===Qn.schemaPath.indexOf("#/items/properties/choices/items")&&/^\/[^\/]*$/.test(Qn.schemaPath.slice(32))&&(le[Qn.keyword].push(Qn),Qn.emUsed=!0);for(const Qn in le)if(le[Qn].length){const $s={instancePath:_+"/"+be+"/choices/"+yt,schemaPath:"#/items/properties/choices/items/errorMessage",keyword:"errorMessage",params:{errors:le[Qn]},message:Qn in li?li[Qn]():f.items.properties.choices.items.errorMessage[Qn]};null===g?g=[$s]:g.push($s),x++}const Rr=[];for(const Qn of g)Qn.emUsed||Rr.push(Qn);g=Rr,x=Rr.length}}}else{const zt={instancePath:_+"/"+be+"/choices",schemaPath:"#/items/properties/choices/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[zt]:g.push(zt),x++}}if(void 0!==ke.constraints){let B=ke.constraints;if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0!==B.notEmpty&&"boolean"!=typeof B.notEmpty){const zt={instancePath:_+"/"+be+"/constraints/notEmpty",schemaPath:"#/items/properties/constraints/properties/notEmpty/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===g?g=[zt]:g.push(zt),x++}if(void 0!==B.minLength&&"number"!=typeof B.minLength){const zt={instancePath:_+"/"+be+"/constraints/minLength",schemaPath:"#/items/properties/constraints/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===g?g=[zt]:g.push(zt),x++}if(void 0!==B.maxLength&&"number"!=typeof B.maxLength){const zt={instancePath:_+"/"+be+"/constraints/maxLength",schemaPath:"#/items/properties/constraints/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===g?g=[zt]:g.push(zt),x++}if(void 0!==B.pattern){let zt=B.pattern;const yt=x;let X=!1,le=null;const li=x;if(zt&&"object"==typeof zt&&!Array.isArray(zt)){if(void 0!==zt.value&&"string"!=typeof zt.value){const Qn={instancePath:_+"/"+be+"/constraints/pattern/value",schemaPath:"#/items/properties/constraints/properties/pattern/oneOf/0/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Qn]:g.push(Qn),x++}if(void 0!==zt.message&&"string"!=typeof zt.message){const Qn={instancePath:_+"/"+be+"/constraints/pattern/message",schemaPath:"#/items/properties/constraints/properties/pattern/oneOf/0/properties/message/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Qn]:g.push(Qn),x++}}else{const Qn={instancePath:_+"/"+be+"/constraints/pattern",schemaPath:"#/items/properties/constraints/properties/pattern/oneOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[Qn]:g.push(Qn),x++}li===x&&(X=!0,le=0);const Rr=x;if("string"!=typeof zt){const Qn={instancePath:_+"/"+be+"/constraints/pattern",schemaPath:"#/items/properties/constraints/properties/pattern/oneOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Qn]:g.push(Qn),x++}var at;if((at=Rr===x)&&X?(X=!1,le=[le,1]):at&&(X=!0,le=1),X)x=yt,null!==g&&(yt?g.length=yt:g=null);else{const Qn={instancePath:_+"/"+be+"/constraints/pattern",schemaPath:"#/items/properties/constraints/properties/pattern/oneOf",keyword:"oneOf",params:{passingSchemas:le},message:"must match exactly one schema in oneOf"};null===g?g=[Qn]:g.push(Qn),x++}}}else{const zt={instancePath:_+"/"+be+"/constraints",schemaPath:"#/items/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[zt]:g.push(zt),x++}}if(void 0!==ke.group&&"string"!=typeof ke.group){const B={instancePath:_+"/"+be+"/group",schemaPath:"#/items/properties/group/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[B]:g.push(B),x++}}else{const B={instancePath:_+"/"+be,schemaPath:"#/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[B]:g.push(B),x++}}}else{const _e={instancePath:_,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[_e]:g.push(_e),x++}return h.errors=g,0===x}function m(E,{instancePath:_="",rootData:w=E}={}){let g=null,x=0;if(E&&"object"==typeof E&&!Array.isArray(E)){if(void 0===E.name){const re={instancePath:_,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===g?g=[re]:g.push(re),x++}if(void 0===E.id){const re={instancePath:_,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'"};null===g?g=[re]:g.push(re),x++}if(void 0===E.appliesTo){const re={instancePath:_,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:"appliesTo"},message:"must have required property 'appliesTo'"};null===g?g=[re]:g.push(re),x++}if(void 0===E.properties){const re={instancePath:_,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:"properties"},message:"must have required property 'properties'"};null===g?g=[re]:g.push(re),x++}if(void 0!==E.name&&"string"!=typeof E.name){const re={instancePath:_+"/name",schemaPath:"#/allOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[re]:g.push(re),x++}if(void 0!==E.id&&"string"!=typeof E.id){const re={instancePath:_+"/id",schemaPath:"#/allOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[re]:g.push(re),x++}if(void 0!==E.description&&"string"!=typeof E.description){const re={instancePath:_+"/description",schemaPath:"#/allOf/0/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[re]:g.push(re),x++}if(void 0!==E.version){let re=E.version;if("number"!=typeof re||re%1||isNaN(re)){const Se={instancePath:_+"/version",schemaPath:"#/allOf/0/properties/version/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===g?g=[Se]:g.push(Se),x++}}if(void 0!==E.isDefault&&"boolean"!=typeof E.isDefault){const re={instancePath:_+"/isDefault",schemaPath:"#/allOf/0/properties/isDefault/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===g?g=[re]:g.push(re),x++}if(void 0!==E.deprecated){let re=E.deprecated;if("boolean"!=typeof re&&(!re||"object"!=typeof re||Array.isArray(re))){const Se={instancePath:_+"/deprecated",schemaPath:"#/allOf/0/properties/deprecated/type",keyword:"type",params:{type:t.allOf[0].properties.deprecated.type},message:"must be boolean,object"};null===g?g=[Se]:g.push(Se),x++}if(re&&"object"==typeof re&&!Array.isArray(re)){if(void 0!==re.message&&"string"!=typeof re.message){const Se={instancePath:_+"/deprecated/message",schemaPath:"#/allOf/0/properties/deprecated/properties/message/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Se]:g.push(Se),x++}if(void 0!==re.documentationRef){let Se=re.documentationRef;if("string"==typeof Se){if(!i.test(Se)){const te={instancePath:_+"/deprecated/documentationRef",schemaPath:"#/allOf/0/properties/deprecated/properties/documentationRef/pattern",keyword:"pattern",params:{pattern:"^(https|http)://.*"},message:'must match pattern "^(https|http)://.*"'};null===g?g=[te]:g.push(te),x++}}else{const te={instancePath:_+"/deprecated/documentationRef",schemaPath:"#/allOf/0/properties/deprecated/properties/documentationRef/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[te]:g.push(te),x++}}}}if(void 0!==E.appliesTo){let re=E.appliesTo;if(Array.isArray(re)){const Se=re.length;for(let te=0;te<Se;te++){let Ke=re[te];if("string"==typeof Ke){if(!s.test(Ke)){const rt={instancePath:_+"/appliesTo/"+te,schemaPath:"#/allOf/0/properties/appliesTo/items/pattern",keyword:"pattern",params:{pattern:"^[\\w\\d]+:[\\w\\d]+$"},message:'must match pattern "^[\\w\\d]+:[\\w\\d]+$"'};null===g?g=[rt]:g.push(rt),x++}}else{const rt={instancePath:_+"/appliesTo/"+te,schemaPath:"#/allOf/0/properties/appliesTo/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[rt]:g.push(rt),x++}if(x>0){const rt={pattern:[]},Bt={};for(const ft of g)"errorMessage"!==ft.keyword&&!ft.emUsed&&ft.instancePath===_+"/appliesTo/"+te&&ft.keyword in rt&&0===ft.schemaPath.indexOf("#/allOf/0/properties/appliesTo/items")&&/^\/[^\/]*$/.test(ft.schemaPath.slice(36))&&(rt[ft.keyword].push(ft),ft.emUsed=!0);for(const ft in rt)if(rt[ft].length){const rn={instancePath:_+"/appliesTo/"+te,schemaPath:"#/allOf/0/properties/appliesTo/items/errorMessage",keyword:"errorMessage",params:{errors:rt[ft]},message:ft in Bt?Bt[ft]():t.allOf[0].properties.appliesTo.items.errorMessage[ft]};null===g?g=[rn]:g.push(rn),x++}const Kt=[];for(const ft of g)ft.emUsed||Kt.push(ft);g=Kt,x=Kt.length}}}else{const Se={instancePath:_+"/appliesTo",schemaPath:"#/allOf/0/properties/appliesTo/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[Se]:g.push(Se),x++}}if(void 0!==E.elementType){let re=E.elementType;if(re&&"object"==typeof re&&!Array.isArray(re)){if(void 0===re.value){const Se={instancePath:_+"/elementType",schemaPath:"#/allOf/0/properties/elementType/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===g?g=[Se]:g.push(Se),x++}if(void 0!==re.value){let Se=re.value;if("string"==typeof Se){if(!s.test(Se)){const te={instancePath:_+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/pattern",keyword:"pattern",params:{pattern:"^[\\w\\d]+:[\\w\\d]+$"},message:'must match pattern "^[\\w\\d]+:[\\w\\d]+$"'};null===g?g=[te]:g.push(te),x++}}else{const te={instancePath:_+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[te]:g.push(te),x++}if(x>0){const te={pattern:[]},Ke={};for(const Bt of g)"errorMessage"!==Bt.keyword&&!Bt.emUsed&&Bt.instancePath===_+"/elementType/value"&&Bt.keyword in te&&0===Bt.schemaPath.indexOf("#/allOf/0/properties/elementType/properties/value")&&/^\/[^\/]*$/.test(Bt.schemaPath.slice(49))&&(te[Bt.keyword].push(Bt),Bt.emUsed=!0);for(const Bt in te)if(te[Bt].length){const Kt={instancePath:_+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/errorMessage",keyword:"errorMessage",params:{errors:te[Bt]},message:Bt in Ke?Ke[Bt]():t.allOf[0].properties.elementType.properties.value.errorMessage[Bt]};null===g?g=[Kt]:g.push(Kt),x++}const rt=[];for(const Bt of g)Bt.emUsed||rt.push(Bt);g=rt,x=rt.length}}}else{const Se={instancePath:_+"/elementType",schemaPath:"#/allOf/0/properties/elementType/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[Se]:g.push(Se),x++}if(x>0){const Se={required:{value:[]}},te={required:{}};let Ke,rt;for(const Kt of g)"errorMessage"!==Kt.keyword&&!Kt.emUsed&&Kt.instancePath===_+"/elementType"&&Kt.keyword in Se&&0===Kt.schemaPath.indexOf("#/allOf/0/properties/elementType")&&/^\/[^\/]*$/.test(Kt.schemaPath.slice(32))&&(Ke=o[Kt.keyword],rt=Se[Kt.keyword][Kt.params[Ke]],rt&&(rt.push(Kt),Kt.emUsed=!0));for(const Kt in Se)for(const ft in Se[Kt])if(rt=Se[Kt][ft],rt.length){const rn=te[Kt]&&te[Kt][ft],q={instancePath:_+"/elementType",schemaPath:"#/allOf/0/properties/elementType/errorMessage",keyword:"errorMessage",params:{errors:rt},message:rn?rn():t.allOf[0].properties.elementType.errorMessage[Kt][ft]};null===g?g=[q]:g.push(q),x++}const Bt=[];for(const Kt of g)Kt.emUsed||Bt.push(Kt);g=Bt,x=Bt.length}}if(void 0!==E.metadata){let re=E.metadata;if(!re||"object"!=typeof re||Array.isArray(re)){const Se={instancePath:_+"/metadata",schemaPath:"#/allOf/0/properties/metadata/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[Se]:g.push(Se),x++}}if(void 0!==E.entriesVisible&&"boolean"!=typeof E.entriesVisible){const re={instancePath:_+"/entriesVisible",schemaPath:"#/allOf/0/properties/entriesVisible/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===g?g=[re]:g.push(re),x++}if(void 0!==E.groups){let re=E.groups;if(Array.isArray(re)){const Se=re.length;for(let te=0;te<Se;te++){let Ke=re[te];if(Ke&&"object"==typeof Ke&&!Array.isArray(Ke)){if(void 0===Ke.id){const rt={instancePath:_+"/groups/"+te,schemaPath:"#/allOf/0/properties/groups/items/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'"};null===g?g=[rt]:g.push(rt),x++}if(void 0===Ke.label){const rt={instancePath:_+"/groups/"+te,schemaPath:"#/allOf/0/properties/groups/items/required",keyword:"required",params:{missingProperty:"label"},message:"must have required property 'label'"};null===g?g=[rt]:g.push(rt),x++}if(void 0!==Ke.id&&"string"!=typeof Ke.id){const rt={instancePath:_+"/groups/"+te+"/id",schemaPath:"#/allOf/0/properties/groups/items/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[rt]:g.push(rt),x++}if(void 0!==Ke.label&&"string"!=typeof Ke.label){const rt={instancePath:_+"/groups/"+te+"/label",schemaPath:"#/allOf/0/properties/groups/items/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[rt]:g.push(rt),x++}}else{const rt={instancePath:_+"/groups/"+te,schemaPath:"#/allOf/0/properties/groups/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[rt]:g.push(rt),x++}if(x>0){const rt={required:{id:[],label:[]}},Bt={required:{id:function(){return'missing id for group "'+JSON.stringify(te)+'"'},label:function(){return'missing label for group "'+JSON.stringify(te)+'"'}}};let Kt,ft;for(const q of g)"errorMessage"!==q.keyword&&!q.emUsed&&q.instancePath===_+"/groups/"+te&&q.keyword in rt&&0===q.schemaPath.indexOf("#/allOf/0/properties/groups/items")&&/^\/[^\/]*$/.test(q.schemaPath.slice(33))&&(Kt=o[q.keyword],ft=rt[q.keyword][q.params[Kt]],ft&&(ft.push(q),q.emUsed=!0));for(const q in rt)for(const B in rt[q])if(ft=rt[q][B],ft.length){const zt=Bt[q]&&Bt[q][B],yt={instancePath:_+"/groups/"+te,schemaPath:"#/allOf/0/properties/groups/items/errorMessage",keyword:"errorMessage",params:{errors:ft},message:zt?zt():t.allOf[0].properties.groups.items.errorMessage[q][B]};null===g?g=[yt]:g.push(yt),x++}const rn=[];for(const q of g)q.emUsed||rn.push(q);g=rn,x=rn.length}}}else{const Se={instancePath:_+"/groups",schemaPath:"#/allOf/0/properties/groups/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[Se]:g.push(Se),x++}}if(void 0!==E.documentationRef){let re=E.documentationRef;if("string"==typeof re){if(!i.test(re)){const Se={instancePath:_+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/pattern",keyword:"pattern",params:{pattern:"^(https|http)://.*"},message:'must match pattern "^(https|http)://.*"'};null===g?g=[Se]:g.push(Se),x++}}else{const Se={instancePath:_+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Se]:g.push(Se),x++}if(x>0){const Se={pattern:[]},te={};for(const rt of g)"errorMessage"!==rt.keyword&&!rt.emUsed&&rt.instancePath===_+"/documentationRef"&&rt.keyword in Se&&0===rt.schemaPath.indexOf("#/allOf/0/properties/documentationRef")&&/^\/[^\/]*$/.test(rt.schemaPath.slice(37))&&(Se[rt.keyword].push(rt),rt.emUsed=!0);for(const rt in Se)if(Se[rt].length){const Bt={instancePath:_+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/errorMessage",keyword:"errorMessage",params:{errors:Se[rt]},message:rt in te?te[rt]():t.allOf[0].properties.documentationRef.errorMessage[rt]};null===g?g=[Bt]:g.push(Bt),x++}const Ke=[];for(const rt of g)rt.emUsed||Ke.push(rt);g=Ke,x=Ke.length}}}if(x>0){const re={required:{name:[],id:[],appliesTo:[],properties:[]}},Se={required:{}};let te,Ke;for(const Bt of g)"errorMessage"!==Bt.keyword&&!Bt.emUsed&&Bt.instancePath===_&&Bt.keyword in re&&0===Bt.schemaPath.indexOf("#/allOf/0")&&/^\/[^\/]*$/.test(Bt.schemaPath.slice(9))&&(te=o[Bt.keyword],Ke=re[Bt.keyword][Bt.params[te]],Ke&&(Ke.push(Bt),Bt.emUsed=!0));for(const Bt in re)for(const Kt in re[Bt])if(Ke=re[Bt][Kt],Ke.length){const ft=Se[Bt]&&Se[Bt][Kt],rn={instancePath:_,schemaPath:"#/allOf/0/errorMessage",keyword:"errorMessage",params:{errors:Ke},message:ft?ft():t.allOf[0].errorMessage[Bt][Kt]};null===g?g=[rn]:g.push(rn),x++}const rt=[];for(const Bt of g)Bt.emUsed||rt.push(Bt);g=rt,x=rt.length}if(E&&"object"==typeof E&&!Array.isArray(E)){if(void 0!==E.properties&&(p(E.properties,{instancePath:_+"/properties",parentData:E,parentDataProperty:"properties",rootData:w})||(g=null===g?p.errors:g.concat(p.errors),x=g.length)),void 0!==E.scopes){let re=E.scopes;if(Array.isArray(re)){const Se=re.length;for(let te=0;te<Se;te++){let Ke=re[te];const rt=x;let Bt=!0;const Kt=x;if(Ke&&"object"==typeof Ke&&!Array.isArray(Ke))if(void 0===Ke.type){const ft={};null===g?g=[ft]:g.push(ft),x++}else if(void 0!==Ke.type&&"bpmn:Error"!==Ke.type){const ft={};null===g?g=[ft]:g.push(ft),x++}var T=Kt===x;if(x=rt,null!==g&&(rt?g.length=rt:g=null),T){const ft=x;if(Ke&&"object"==typeof Ke&&!Array.isArray(Ke)&&void 0===Ke.id){const q={instancePath:_+"/scopes/"+te,schemaPath:"#/properties/scopes/items/allOf/0/then/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'"};null===g?g=[q]:g.push(q),x++}if(x>0){const q=[];for(const zt of g)"errorMessage"!==zt.keyword&&!zt.emUsed&&(zt.instancePath===_+"/scopes/"+te||0===zt.instancePath.indexOf(_+"/scopes/"+te)&&"/"===zt.instancePath[_+"/scopes/"+te.length])&&0===zt.schemaPath.indexOf("#/properties/scopes/items/allOf/0/then")&&"/"===zt.schemaPath[38]&&(q.push(zt),zt.emUsed=!0);if(q.length){const zt={instancePath:_+"/scopes/"+te,schemaPath:"#/properties/scopes/items/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:q},message:"invalid scope "+JSON.stringify(Ke&&Ke.type)+", missing id"};null===g?g=[zt]:g.push(zt),x++}const B=[];for(const zt of g)zt.emUsed||B.push(zt);g=B,x=B.length}Bt=T=ft===x}if(!Bt){const ft={instancePath:_+"/scopes/"+te,schemaPath:"#/properties/scopes/items/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[ft]:g.push(ft),x++}if(Ke&&"object"==typeof Ke&&!Array.isArray(Ke)){if(void 0===Ke.type){const ft={instancePath:_+"/scopes/"+te,schemaPath:"#/properties/scopes/items/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===g?g=[ft]:g.push(ft),x++}if(void 0===Ke.properties){const ft={instancePath:_+"/scopes/"+te,schemaPath:"#/properties/scopes/items/required",keyword:"required",params:{missingProperty:"properties"},message:"must have required property 'properties'"};null===g?g=[ft]:g.push(ft),x++}if(void 0!==Ke.type){let ft=Ke.type;if("string"!=typeof ft){const rn={instancePath:_+"/scopes/"+te+"/type",schemaPath:"#/properties/scopes/items/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[rn]:g.push(rn),x++}if("camunda:Connector"!==ft&&"bpmn:Error"!==ft){const rn={instancePath:_+"/scopes/"+te+"/type",schemaPath:"#/properties/scopes/items/properties/type/enum",keyword:"enum",params:{allowedValues:t.properties.scopes.items.properties.type.enum},message:"must be equal to one of the allowed values"};null===g?g=[rn]:g.push(rn),x++}if(x>0){const rn=[];for(const B of g)"errorMessage"!==B.keyword&&!B.emUsed&&(B.instancePath===_+"/scopes/"+te+"/type"||0===B.instancePath.indexOf(_+"/scopes/"+te+"/type")&&"/"===B.instancePath[_+"/scopes/"+te+5])&&0===B.schemaPath.indexOf("#/properties/scopes/items/properties/type")&&"/"===B.schemaPath[41]&&(rn.push(B),B.emUsed=!0);if(rn.length){const B={instancePath:_+"/scopes/"+te+"/type",schemaPath:"#/properties/scopes/items/properties/type/errorMessage",keyword:"errorMessage",params:{errors:rn},message:"invalid scope type "+JSON.stringify(ft)+"; must be any of { camunda:Connector, bpmn:Error }"};null===g?g=[B]:g.push(B),x++}const q=[];for(const B of g)B.emUsed||q.push(B);g=q,x=q.length}}if(void 0!==Ke.properties){let ft=Ke.properties;if(h(ft,{instancePath:_+"/scopes/"+te+"/properties",parentData:Ke,parentDataProperty:"properties",rootData:w})||(g=null===g?h.errors:g.concat(h.errors),x=g.length),Array.isArray(ft)){const rn=ft.length;for(let q=0;q<rn;q++){let B=ft[q];const zt=x;let yt=!0;const X=x;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.binding){const Oe={};null===g?g=[Oe]:g.push(Oe),x++}else if(void 0!==B.binding){let Oe=B.binding;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe))if(void 0===Oe.type){const Pt={};null===g?g=[Pt]:g.push(Pt),x++}else if(void 0!==Oe.type&&"property"!==Oe.type){const Pt={};null===g?g=[Pt]:g.push(Pt),x++}}var I=X===x;if(x=zt,null!==g&&(zt?g.length=zt:g=null),I){const Oe=x;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0!==B.type){let nn=B.type;if("String"!==nn&&"Text"!==nn&&"Hidden"!==nn&&"Dropdown"!==nn&&"Boolean"!==nn){const Yt={instancePath:_+"/scopes/"+te+"/properties/"+q+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/0/then/properties/type/enum",keyword:"enum",params:{allowedValues:n.items.allOf[0].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===g?g=[Yt]:g.push(Yt),x++}if(x>0){const Yt=[];for(const Dt of g)"errorMessage"!==Dt.keyword&&!Dt.emUsed&&(Dt.instancePath===_+"/scopes/"+te+"/properties/"+q+"/type"||0===Dt.instancePath.indexOf(_+"/scopes/"+te+"/properties/"+q+"/type")&&"/"===Dt.instancePath[_+"/scopes/"+te+"/properties/"+q+5])&&0===Dt.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/0/then/properties/type")&&"/"===Dt.schemaPath[67]&&(Yt.push(Dt),Dt.emUsed=!0);if(Yt.length){const Dt={instancePath:_+"/scopes/"+te+"/properties/"+q+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/0/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Yt},message:"invalid property type "+JSON.stringify(nn)+' for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean }'};null===g?g=[Dt]:g.push(Dt),x++}const we=[];for(const Dt of g)Dt.emUsed||we.push(Dt);g=we,x=we.length}}yt=I=Oe===x}if(!yt){const Oe={instancePath:_+"/scopes/"+te+"/properties/"+q,schemaPath:"#/definitions/properties/allOf/1/items/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[Oe]:g.push(Oe),x++}const le=x;let li=!0;const Rr=x;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.binding){const Oe={};null===g?g=[Oe]:g.push(Oe),x++}else if(void 0!==B.binding){let Oe=B.binding;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe))if(void 0===Oe.type){const Pt={};null===g?g=[Pt]:g.push(Pt),x++}else if(void 0!==Oe.type&&"camunda:executionListener"!==Oe.type){const Pt={};null===g?g=[Pt]:g.push(Pt),x++}}var A=Rr===x;if(x=le,null!==g&&(le?g.length=le:g=null),A){const Oe=x;if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0!==B.type){if("Hidden"!==B.type){const nn={instancePath:_+"/scopes/"+te+"/properties/"+q+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/type/enum",keyword:"enum",params:{allowedValues:n.items.allOf[1].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===g?g=[nn]:g.push(nn),x++}if(x>0){const nn=[];for(const we of g)"errorMessage"!==we.keyword&&!we.emUsed&&(we.instancePath===_+"/scopes/"+te+"/properties/"+q+"/type"||0===we.instancePath.indexOf(_+"/scopes/"+te+"/properties/"+q+"/type")&&"/"===we.instancePath[_+"/scopes/"+te+"/properties/"+q+5])&&0===we.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/1/then/properties/type")&&"/"===we.schemaPath[67]&&(nn.push(we),we.emUsed=!0);if(nn.length){const we={instancePath:_+"/scopes/"+te+"/properties/"+q+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:nn},message:"invalid property type "+JSON.stringify(B&&B.type)+' for binding type "camunda:executionListener"; must be "Hidden"'};null===g?g=[we]:g.push(we),x++}const Yt=[];for(const we of g)we.emUsed||Yt.push(we);g=Yt,x=Yt.length}}if(void 0!==B.binding){let nn=B.binding;const Yt=x;let we=!1,Dt=null;const sn=x,Ae=x,wt=x;if(nn&&"object"==typeof nn&&!Array.isArray(nn)&&void 0!==nn.implementationType&&"script"!==nn.implementationType){const Q={};null===g?g=[Q]:g.push(Q),x++}if(wt===x){const Q={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/binding/oneOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[Q]:g.push(Q),x++}else x=Ae,null!==g&&(Ae?g.length=Ae:g=null);(z=sn===x)&&(we=!0,Dt=0);const vt=x;if(nn&&"object"==typeof nn&&!Array.isArray(nn)&&void 0===nn.scriptFormat){const Q={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/binding/oneOf/1/required",keyword:"required",params:{missingProperty:"scriptFormat"},message:"must have required property 'scriptFormat'"};null===g?g=[Q]:g.push(Q),x++}if((z=vt===x)&&we)we=!1,Dt=[Dt,1];else{z&&(we=!0,Dt=1);const Q=x,F=x,xe=x;if(nn&&"object"==typeof nn&&!Array.isArray(nn)&&void 0===nn.implementationType){const Qe={};null===g?g=[Qe]:g.push(Qe),x++}if(xe===x){const Qe={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/binding/oneOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[Qe]:g.push(Qe),x++}else x=F,null!==g&&(F?g.length=F:g=null);const Fe=x,qe=x;if(nn&&"object"==typeof nn&&!Array.isArray(nn)&&void 0===nn.scriptFormat){const Qe={};null===g?g=[Qe]:g.push(Qe),x++}var z;if(qe===x){const Qe={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/binding/oneOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[Qe]:g.push(Qe),x++}else x=Fe,null!==g&&(Fe?g.length=Fe:g=null);(z=Q===x)&&we?(we=!1,Dt=[Dt,2]):z&&(we=!0,Dt=2)}if(we)x=Yt,null!==g&&(Yt?g.length=Yt:g=null);else{const Q={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/binding/oneOf",keyword:"oneOf",params:{passingSchemas:Dt},message:"must match exactly one schema in oneOf"};null===g?g=[Q]:g.push(Q),x++}if(nn&&"object"==typeof nn&&!Array.isArray(nn)&&void 0!==nn.implementationType){let Q=nn.implementationType;if("class"!==Q&&"delegateExpression"!==Q&&"expression"!==Q&&"script"!==Q){const F={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding/implementationType",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/binding/properties/implementationType/enum",keyword:"enum",params:{allowedValues:n.items.allOf[1].then.properties.binding.properties.implementationType.enum},message:"must be equal to one of the allowed values"};null===g?g=[F]:g.push(F),x++}}}}li=A=Oe===x}if(!li){const Oe={instancePath:_+"/scopes/"+te+"/properties/"+q,schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[Oe]:g.push(Oe),x++}const Qn=x;let $s=!0;const Ua=x;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.binding){const Oe={};null===g?g=[Oe]:g.push(Oe),x++}else if(void 0!==B.binding){let Oe=B.binding;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe))if(void 0===Oe.type){const Pt={};null===g?g=[Pt]:g.push(Pt),x++}else if(void 0!==Oe.type){let Pt=Oe.type;if("camunda:property"!==Pt&&"camunda:outputParameter"!==Pt&&"camunda:in"!==Pt&&"camunda:in:businessKey"!==Pt&&"camunda:out"!==Pt&&"camunda:errorEventDefinition"!==Pt){const nn={};null===g?g=[nn]:g.push(nn),x++}}}var H=Ua===x;if(x=Qn,null!==g&&(Qn?g.length=Qn:g=null),H){const Oe=x;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0!==B.type){let nn=B.type;if("String"!==nn&&"Hidden"!==nn&&"Dropdown"!==nn){const Yt={instancePath:_+"/scopes/"+te+"/properties/"+q+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/2/then/properties/type/enum",keyword:"enum",params:{allowedValues:n.items.allOf[2].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===g?g=[Yt]:g.push(Yt),x++}if(x>0){const Yt=[];for(const Dt of g)"errorMessage"!==Dt.keyword&&!Dt.emUsed&&(Dt.instancePath===_+"/scopes/"+te+"/properties/"+q+"/type"||0===Dt.instancePath.indexOf(_+"/scopes/"+te+"/properties/"+q+"/type")&&"/"===Dt.instancePath[_+"/scopes/"+te+"/properties/"+q+5])&&0===Dt.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/2/then/properties/type")&&"/"===Dt.schemaPath[67]&&(Yt.push(Dt),Dt.emUsed=!0);if(Yt.length){const Dt={instancePath:_+"/scopes/"+te+"/properties/"+q+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/2/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Yt},message:"invalid property type "+JSON.stringify(nn)+" for binding type "+JSON.stringify(B&&B.binding&&B.binding.type)+"; must be any of { String, Hidden, Dropdown }"};null===g?g=[Dt]:g.push(Dt),x++}const we=[];for(const Dt of g)Dt.emUsed||we.push(Dt);g=we,x=we.length}}$s=H=Oe===x}if(!$s){const Oe={instancePath:_+"/scopes/"+te+"/properties/"+q,schemaPath:"#/definitions/properties/allOf/1/items/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[Oe]:g.push(Oe),x++}const qo=x;let wn=!0;const Hi=x;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.binding){const Oe={};null===g?g=[Oe]:g.push(Oe),x++}else if(void 0!==B.binding){let Oe=B.binding;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe))if(void 0===Oe.type){const Pt={};null===g?g=[Pt]:g.push(Pt),x++}else if(void 0!==Oe.type){let Pt=Oe.type;if("camunda:inputParameter"!==Pt&&"camunda:field"!==Pt){const nn={};null===g?g=[nn]:g.push(nn),x++}}}var me=Hi===x;if(x=qo,null!==g&&(qo?g.length=qo:g=null),me){const Oe=x;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0!==B.type){let nn=B.type;if("String"!==nn&&"Text"!==nn&&"Hidden"!==nn&&"Dropdown"!==nn){const Yt={instancePath:_+"/scopes/"+te+"/properties/"+q+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/3/then/properties/type/enum",keyword:"enum",params:{allowedValues:n.items.allOf[3].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===g?g=[Yt]:g.push(Yt),x++}if(x>0){const Yt=[];for(const Dt of g)"errorMessage"!==Dt.keyword&&!Dt.emUsed&&(Dt.instancePath===_+"/scopes/"+te+"/properties/"+q+"/type"||0===Dt.instancePath.indexOf(_+"/scopes/"+te+"/properties/"+q+"/type")&&"/"===Dt.instancePath[_+"/scopes/"+te+"/properties/"+q+5])&&0===Dt.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/3/then/properties/type")&&"/"===Dt.schemaPath[67]&&(Yt.push(Dt),Dt.emUsed=!0);if(Yt.length){const Dt={instancePath:_+"/scopes/"+te+"/properties/"+q+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/3/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Yt},message:"invalid property type "+JSON.stringify(nn)+" for binding type "+JSON.stringify(B&&B.binding&&B.binding.type)+"; must be any of { String, Text, Hidden, Dropdown }"};null===g?g=[Dt]:g.push(Dt),x++}const we=[];for(const Dt of g)Dt.emUsed||we.push(Dt);g=we,x=we.length}}wn=me=Oe===x}if(!wn){const Oe={instancePath:_+"/scopes/"+te+"/properties/"+q,schemaPath:"#/definitions/properties/allOf/1/items/allOf/3/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[Oe]:g.push(Oe),x++}if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0===B.binding){const Oe={instancePath:_+"/scopes/"+te+"/properties/"+q,schemaPath:"#/definitions/properties/allOf/1/items/required",keyword:"required",params:{missingProperty:"binding"},message:"must have required property 'binding'"};null===g?g=[Oe]:g.push(Oe),x++}if(void 0!==B.binding){let Oe=B.binding;const Pt=x;let nn=!0;const Yt=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe))if(void 0===Oe.type){const Qe={};null===g?g=[Qe]:g.push(Qe),x++}else if(void 0!==Oe.type){let Qe=Oe.type;if("property"!==Qe&&"camunda:property"!==Qe&&"camunda:inputParameter"!==Qe&&"camunda:field"!==Qe){const ht={};null===g?g=[ht]:g.push(ht),x++}}var Re=Yt===x;if(x=Pt,null!==g&&(Pt?g.length=Pt:g=null),Re){const Qe=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)&&void 0===Oe.name){const We={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===g?g=[We]:g.push(We),x++}if(x>0){const We=[];for(const Ne of g)"errorMessage"!==Ne.keyword&&!Ne.emUsed&&(Ne.instancePath===_+"/scopes/"+te+"/properties/"+q+"/binding"||0===Ne.instancePath.indexOf(_+"/scopes/"+te+"/properties/"+q+"/binding")&&"/"===Ne.instancePath[_+"/scopes/"+te+"/properties/"+q+8])&&0===Ne.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then")&&"/"===Ne.schemaPath[70]&&(We.push(Ne),Ne.emUsed=!0);if(We.length){const Ne={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:We},message:"property.binding "+JSON.stringify(Oe&&Oe.type)+" requires name"};null===g?g=[Ne]:g.push(Ne),x++}const dt=[];for(const Ne of g)Ne.emUsed||dt.push(Ne);g=dt,x=dt.length}nn=Re=Qe===x}if(!nn){const Qe={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[Qe]:g.push(Qe),x++}const we=x;let Dt=!0;const sn=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe))if(void 0===Oe.type){const Qe={};null===g?g=[Qe]:g.push(Qe),x++}else if(void 0!==Oe.type&&"camunda:outputParameter"!==Oe.type){const Qe={};null===g?g=[Qe]:g.push(Qe),x++}var De=sn===x;if(x=we,null!==g&&(we?g.length=we:g=null),De){const Qe=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)&&void 0===Oe.source){const We={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then/required",keyword:"required",params:{missingProperty:"source"},message:"must have required property 'source'"};null===g?g=[We]:g.push(We),x++}if(x>0){const We=[];for(const Ne of g)"errorMessage"!==Ne.keyword&&!Ne.emUsed&&(Ne.instancePath===_+"/scopes/"+te+"/properties/"+q+"/binding"||0===Ne.instancePath.indexOf(_+"/scopes/"+te+"/properties/"+q+"/binding")&&"/"===Ne.instancePath[_+"/scopes/"+te+"/properties/"+q+8])&&0===Ne.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then")&&"/"===Ne.schemaPath[70]&&(We.push(Ne),Ne.emUsed=!0);if(We.length){const Ne={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then/errorMessage",keyword:"errorMessage",params:{errors:We},message:"property.binding "+JSON.stringify(Oe&&Oe.type)+" requires source"};null===g?g=[Ne]:g.push(Ne),x++}const dt=[];for(const Ne of g)Ne.emUsed||dt.push(Ne);g=dt,x=dt.length}Dt=De=Qe===x}if(!Dt){const Qe={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/1/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[Qe]:g.push(Qe),x++}const Ae=x;let wt=!0;const vt=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe))if(void 0===Oe.type){const Qe={};null===g?g=[Qe]:g.push(Qe),x++}else if(void 0!==Oe.type&&"camunda:in"!==Oe.type){const Qe={};null===g?g=[Qe]:g.push(Qe),x++}var ye=vt===x;if(x=Ae,null!==g&&(Ae?g.length=Ae:g=null),ye){const Qe=x,ht=x;let We=!1;const dt=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)&&void 0===Oe.variables){const Tt={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/anyOf/0/required",keyword:"required",params:{missingProperty:"variables"},message:"must have required property 'variables'"};null===g?g=[Tt]:g.push(Tt),x++}var at=dt===x;if(We=We||at,!We){const Tt=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)&&void 0===Oe.target){const gt={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/anyOf/1/required",keyword:"required",params:{missingProperty:"target"},message:"must have required property 'target'"};null===g?g=[gt]:g.push(gt),x++}at=Tt===x,We=We||at}if(We)x=ht,null!==g&&(ht?g.length=ht:g=null);else{const Tt={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};null===g?g=[Tt]:g.push(Tt),x++}if(x>0){const Tt=[];for(const gt of g)"errorMessage"!==gt.keyword&&!gt.emUsed&&(gt.instancePath===_+"/scopes/"+te+"/properties/"+q+"/binding"||0===gt.instancePath.indexOf(_+"/scopes/"+te+"/properties/"+q+"/binding")&&"/"===gt.instancePath[_+"/scopes/"+te+"/properties/"+q+8])&&0===gt.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then")&&"/"===gt.schemaPath[70]&&(Tt.push(gt),gt.emUsed=!0);if(Tt.length){const gt={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/errorMessage",keyword:"errorMessage",params:{errors:Tt},message:"property.binding "+JSON.stringify(Oe&&Oe.type)+" requires variables, target, or both"};null===g?g=[gt]:g.push(gt),x++}const mt=[];for(const gt of g)gt.emUsed||mt.push(gt);g=mt,x=mt.length}wt=ye=Qe===x}if(!wt){const Qe={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[Qe]:g.push(Qe),x++}const Q=x;let F=!0;const xe=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe))if(void 0===Oe.type){const Qe={};null===g?g=[Qe]:g.push(Qe),x++}else if(void 0!==Oe.type&&"camunda:out"!==Oe.type){const Qe={};null===g?g=[Qe]:g.push(Qe),x++}var _e=xe===x;if(x=Q,null!==g&&(Q?g.length=Q:g=null),_e){const Qe=x,ht=x;let We=!1,dt=null;const Ne=x,Tt=x,mt=x,gt=x;let Z=!1;const lt=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)&&void 0===Oe.source){const it={};null===g?g=[it]:g.push(it),x++}var be=lt===x;if(Z=Z||be,!Z){const it=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)&&void 0===Oe.sourceExpression){const Wn={};null===g?g=[Wn]:g.push(Wn),x++}be=it===x,Z=Z||be}if(Z)x=gt,null!==g&&(gt?g.length=gt:g=null);else{const it={};null===g?g=[it]:g.push(it),x++}if(mt===x){const it={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[it]:g.push(it),x++}else x=Tt,null!==g&&(Tt?g.length=Tt:g=null);if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)&&void 0===Oe.variables){const it={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/0/required",keyword:"required",params:{missingProperty:"variables"},message:"must have required property 'variables'"};null===g?g=[it]:g.push(it),x++}(ie=Ne===x)&&(We=!0,dt=0);const bt=x,Ye=x,kt=x,Ct=x;let qn=!1;const Lt=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)&&void 0===Oe.variables){const it={};null===g?g=[it]:g.push(it),x++}var Pe=Lt===x;if(qn=qn||Pe,!qn){const it=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)&&void 0===Oe.sourceExpression){const Wn={};null===g?g=[Wn]:g.push(Wn),x++}Pe=it===x,qn=qn||Pe}if(qn)x=Ct,null!==g&&(Ct?g.length=Ct:g=null);else{const it={};null===g?g=[it]:g.push(it),x++}if(kt===x){const it={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[it]:g.push(it),x++}else x=Ye,null!==g&&(Ye?g.length=Ye:g=null);if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)&&void 0===Oe.source){const it={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/1/required",keyword:"required",params:{missingProperty:"source"},message:"must have required property 'source'"};null===g?g=[it]:g.push(it),x++}if((ie=bt===x)&&We)We=!1,dt=[dt,1];else{ie&&(We=!0,dt=1);const it=x,Zt=x,Wn=x,Qr=x;let Vn=!1;const ls=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)&&void 0===Oe.variables){const It={};null===g?g=[It]:g.push(It),x++}var se=ls===x;if(Vn=Vn||se,!Vn){const It=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)&&void 0===Oe.source){const Ur={};null===g?g=[Ur]:g.push(Ur),x++}se=It===x,Vn=Vn||se}if(Vn)x=Qr,null!==g&&(Qr?g.length=Qr:g=null);else{const It={};null===g?g=[It]:g.push(It),x++}if(Wn===x){const It={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/2/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[It]:g.push(It),x++}else x=Zt,null!==g&&(Zt?g.length=Zt:g=null);if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)&&void 0===Oe.sourceExpression){const It={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/2/required",keyword:"required",params:{missingProperty:"sourceExpression"},message:"must have required property 'sourceExpression'"};null===g?g=[It]:g.push(It),x++}if((ie=it===x)&&We)We=!1,dt=[dt,2];else{ie&&(We=!0,dt=2);const It=x,gi=x,Ur=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)&&void 0===Oe.source){const vn={};null===g?g=[vn]:g.push(vn),x++}if(Ur===x){const vn={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[vn]:g.push(vn),x++}else x=gi,null!==g&&(gi?g.length=gi:g=null);if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)){if(void 0===Oe.variables){const vn={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/required",keyword:"required",params:{missingProperty:"variables"},message:"must have required property 'variables'"};null===g?g=[vn]:g.push(vn),x++}if(void 0===Oe.sourceExpression){const vn={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/required",keyword:"required",params:{missingProperty:"sourceExpression"},message:"must have required property 'sourceExpression'"};null===g?g=[vn]:g.push(vn),x++}}if((ie=It===x)&&We)We=!1,dt=[dt,3];else{ie&&(We=!0,dt=3);const vn=x,O2=x,K5=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)&&void 0===Oe.sourceExpression){const uo={};null===g?g=[uo]:g.push(uo),x++}var ie;if(K5===x){const uo={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/not",keyword:"not",params:{},message:"must NOT be valid"};null===g?g=[uo]:g.push(uo),x++}else x=O2,null!==g&&(O2?g.length=O2:g=null);if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)){if(void 0===Oe.variables){const uo={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/required",keyword:"required",params:{missingProperty:"variables"},message:"must have required property 'variables'"};null===g?g=[uo]:g.push(uo),x++}if(void 0===Oe.source){const uo={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/required",keyword:"required",params:{missingProperty:"source"},message:"must have required property 'source'"};null===g?g=[uo]:g.push(uo),x++}}(ie=vn===x)&&We?(We=!1,dt=[dt,4]):ie&&(We=!0,dt=4)}}}if(We)x=ht,null!==g&&(ht?g.length=ht:g=null);else{const it={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf",keyword:"oneOf",params:{passingSchemas:dt},message:"must match exactly one schema in oneOf"};null===g?g=[it]:g.push(it),x++}if(x>0){const it=[];for(const Wn of g)"errorMessage"!==Wn.keyword&&!Wn.emUsed&&(Wn.instancePath===_+"/scopes/"+te+"/properties/"+q+"/binding"||0===Wn.instancePath.indexOf(_+"/scopes/"+te+"/properties/"+q+"/binding")&&"/"===Wn.instancePath[_+"/scopes/"+te+"/properties/"+q+8])&&0===Wn.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then")&&"/"===Wn.schemaPath[70]&&(it.push(Wn),Wn.emUsed=!0);if(it.length){const Wn={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/errorMessage",keyword:"errorMessage",params:{errors:it},message:"property.binding "+JSON.stringify(Oe&&Oe.type)+" requires one of the following: variables, sourceExpression, source, (sourceExpression and variables), or (source and variables)"};null===g?g=[Wn]:g.push(Wn),x++}const Zt=[];for(const Wn of g)Wn.emUsed||Zt.push(Wn);g=Zt,x=Zt.length}F=_e=Qe===x}if(!F){const Qe={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[Qe]:g.push(Qe),x++}const Fe=x;let qe=!0;const nt=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe))if(void 0===Oe.type){const Qe={};null===g?g=[Qe]:g.push(Qe),x++}else if(void 0!==Oe.type&&"camunda:errorEventDefinition"!==Oe.type){const Qe={};null===g?g=[Qe]:g.push(Qe),x++}var k=nt===x;if(x=Fe,null!==g&&(Fe?g.length=Fe:g=null),k){const Qe=x,ht=x;let We=!1,dt=null;const Ne=x;if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)&&void 0===Oe.errorRef){const mt={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then/oneOf/0/required",keyword:"required",params:{missingProperty:"errorRef"},message:"must have required property 'errorRef'"};null===g?g=[mt]:g.push(mt),x++}if(Ne===x&&(We=!0,dt=0),We)x=ht,null!==g&&(ht?g.length=ht:g=null);else{const mt={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then/oneOf",keyword:"oneOf",params:{passingSchemas:dt},message:"must match exactly one schema in oneOf"};null===g?g=[mt]:g.push(mt),x++}if(x>0){const mt=[];for(const Z of g)"errorMessage"!==Z.keyword&&!Z.emUsed&&(Z.instancePath===_+"/scopes/"+te+"/properties/"+q+"/binding"||0===Z.instancePath.indexOf(_+"/scopes/"+te+"/properties/"+q+"/binding")&&"/"===Z.instancePath[_+"/scopes/"+te+"/properties/"+q+8])&&0===Z.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then")&&"/"===Z.schemaPath[70]&&(mt.push(Z),Z.emUsed=!0);if(mt.length){const Z={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then/errorMessage",keyword:"errorMessage",params:{errors:mt},message:"property.binding "+JSON.stringify(Oe&&Oe.type)+" requires errorRef"};null===g?g=[Z]:g.push(Z),x++}const gt=[];for(const Z of g)Z.emUsed||gt.push(Z);g=gt,x=gt.length}qe=k=Qe===x}if(!qe){const Qe={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/4/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===g?g=[Qe]:g.push(Qe),x++}if(Oe&&"object"==typeof Oe&&!Array.isArray(Oe)){if(void 0===Oe.type){const Qe={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===g?g=[Qe]:g.push(Qe),x++}if(void 0!==Oe.type){let Qe=Oe.type;if("string"!=typeof Qe){const ht={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding/type",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[ht]:g.push(ht),x++}if("property"!==Qe&&"camunda:property"!==Qe&&"camunda:inputParameter"!==Qe&&"camunda:outputParameter"!==Qe&&"camunda:in"!==Qe&&"camunda:out"!==Qe&&"camunda:in:businessKey"!==Qe&&"camunda:executionListener"!==Qe&&"camunda:field"!==Qe&&"camunda:errorEventDefinition"!==Qe){const ht={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding/type",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/type/enum",keyword:"enum",params:{allowedValues:n.items.properties.binding.properties.type.enum},message:"must be equal to one of the allowed values"};null===g?g=[ht]:g.push(ht),x++}if(x>0){const ht=[];for(const dt of g)"errorMessage"!==dt.keyword&&!dt.emUsed&&(dt.instancePath===_+"/scopes/"+te+"/properties/"+q+"/binding/type"||0===dt.instancePath.indexOf(_+"/scopes/"+te+"/properties/"+q+"/binding/type")&&"/"===dt.instancePath[_+"/scopes/"+te+"/properties/"+q+13])&&0===dt.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/properties/type")&&"/"===dt.schemaPath[73]&&(ht.push(dt),dt.emUsed=!0);if(ht.length){const dt={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding/type",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/type/errorMessage",keyword:"errorMessage",params:{errors:ht},message:"invalid property.binding type "+JSON.stringify(Qe)+"; must be any of { property, camunda:property, camunda:inputParameter, camunda:outputParameter, camunda:in, camunda:out, camunda:in:businessKey, camunda:executionListener, camunda:field, camunda:errorEventDefinition }"};null===g?g=[dt]:g.push(dt),x++}const We=[];for(const dt of g)dt.emUsed||We.push(dt);g=We,x=We.length}}if(void 0!==Oe.name&&"string"!=typeof Oe.name){const Qe={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding/name",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Qe]:g.push(Qe),x++}if(void 0!==Oe.event&&"string"!=typeof Oe.event){const Qe={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding/event",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/event/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Qe]:g.push(Qe),x++}if(void 0!==Oe.scriptFormat&&"string"!=typeof Oe.scriptFormat){const Qe={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding/scriptFormat",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/scriptFormat/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Qe]:g.push(Qe),x++}if(void 0!==Oe.source&&"string"!=typeof Oe.source){const Qe={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding/source",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/source/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Qe]:g.push(Qe),x++}if(void 0!==Oe.target&&"string"!=typeof Oe.target){const Qe={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding/target",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/target/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Qe]:g.push(Qe),x++}if(void 0!==Oe.expression&&"boolean"!=typeof Oe.expression){const Qe={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding/expression",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/expression/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===g?g=[Qe]:g.push(Qe),x++}if(void 0!==Oe.variables){let Qe=Oe.variables;if("string"!=typeof Qe){const ht={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding/variables",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/variables/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[ht]:g.push(ht),x++}if("all"!==Qe&&"local"!==Qe){const ht={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding/variables",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/variables/enum",keyword:"enum",params:{allowedValues:n.items.properties.binding.properties.variables.enum},message:"must be equal to one of the allowed values"};null===g?g=[ht]:g.push(ht),x++}}if(void 0!==Oe.sourceExpression&&"string"!=typeof Oe.sourceExpression){const Qe={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding/sourceExpression",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/sourceExpression/type",keyword:"type",params:{type:"string"},message:"must be string"};null===g?g=[Qe]:g.push(Qe),x++}}else{const Qe={instancePath:_+"/scopes/"+te+"/properties/"+q+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[Qe]:g.push(Qe),x++}}}else{const Oe={instancePath:_+"/scopes/"+te+"/properties/"+q,schemaPath:"#/definitions/properties/allOf/1/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[Oe]:g.push(Oe),x++}if(x>0){const Oe={required:[]},Pt={required:function(){return'missing binding for property "'+JSON.stringify(q)+'"'}};for(const Yt of g)"errorMessage"!==Yt.keyword&&!Yt.emUsed&&Yt.instancePath===_+"/scopes/"+te+"/properties/"+q&&Yt.keyword in Oe&&0===Yt.schemaPath.indexOf("#/definitions/properties/allOf/1/items")&&/^\/[^\/]*$/.test(Yt.schemaPath.slice(38))&&(Oe[Yt.keyword].push(Yt),Yt.emUsed=!0);for(const Yt in Oe)if(Oe[Yt].length){const we={instancePath:_+"/scopes/"+te+"/properties/"+q,schemaPath:"#/definitions/properties/allOf/1/items/errorMessage",keyword:"errorMessage",params:{errors:Oe[Yt]},message:Yt in Pt?Pt[Yt]():n.items.errorMessage[Yt]};null===g?g=[we]:g.push(we),x++}const nn=[];for(const Yt of g)Yt.emUsed||nn.push(Yt);g=nn,x=nn.length}}}else{const rn={instancePath:_+"/scopes/"+te+"/properties",schemaPath:"#/definitions/properties/allOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[rn]:g.push(rn),x++}}}else{const ft={instancePath:_+"/scopes/"+te,schemaPath:"#/properties/scopes/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[ft]:g.push(ft),x++}if(x>0){const ft={required:{type:[],properties:[]}},rn={required:{properties:function(){return"invalid scope "+JSON.stringify(Ke&&Ke.type)+", missing properties=[]"}}};let q,B;for(const yt of g)"errorMessage"!==yt.keyword&&!yt.emUsed&&yt.instancePath===_+"/scopes/"+te&&yt.keyword in ft&&0===yt.schemaPath.indexOf("#/properties/scopes/items")&&/^\/[^\/]*$/.test(yt.schemaPath.slice(25))&&(q=o[yt.keyword],B=ft[yt.keyword][yt.params[q]],B&&(B.push(yt),yt.emUsed=!0));for(const yt in ft)for(const X in ft[yt])if(B=ft[yt][X],B.length){const le=rn[yt]&&rn[yt][X],li={instancePath:_+"/scopes/"+te,schemaPath:"#/properties/scopes/items/errorMessage",keyword:"errorMessage",params:{errors:B},message:le?le():t.properties.scopes.items.errorMessage[yt][X]};null===g?g=[li]:g.push(li),x++}const zt=[];for(const yt of g)yt.emUsed||zt.push(yt);g=zt,x=zt.length}}}else{const Se={instancePath:_+"/scopes",schemaPath:"#/properties/scopes/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[Se]:g.push(Se),x++}}}else{const re={instancePath:_,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===g?g=[re]:g.push(re),x++}return m.errors=g,0===x}function y(E,{instancePath:_="",parentData:S,parentDataProperty:v,rootData:w=E}={}){let g=null,x=0;const T=x;let I=!1,A=null;const $=x;m(E,{instancePath:_,parentData:S,parentDataProperty:v,rootData:w})||(g=null===g?m.errors:g.concat(m.errors),x=g.length),$===x&&(I=!0,A=0);const z=x;if(Array.isArray(E)){const U=E.length;for(let H=0;H<U;H++)m(E[H],{instancePath:_+"/"+H,parentData:E,parentDataProperty:H,rootData:w})||(g=null===g?m.errors:g.concat(m.errors),x=g.length)}else{const U={instancePath:_,schemaPath:"#/oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===g?g=[U]:g.push(U),x++}var K;if((K=z===x)&&I?(I=!1,A=[A,1]):K&&(I=!0,A=1),I)x=T,null!==g&&(T?g.length=T:g=null);else{const U={instancePath:_,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:A},message:"must match exactly one schema in oneOf"};null===g?g=[U]:g.push(U),x++}return y.errors=g,0===x}return RN.exports}()),LN={},P9t=TJ(function O9t(){if(JPe)return LN;JPe=1;var t={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"};LN.parse=function(y,E,_){var S={},v=0,w=0,g=0,x=_&&_.bigint&&typeof BigInt<"u";return{data:function T(Y,ie){var se;I(),ye(Y,"value");var $e=H();switch($e){case"t":U("rue"),se=!0;break;case"f":U("alse"),se=!1;break;case"n":U("ull"),se=null;break;case'"':se=A();break;case"[":se=function z(Y){I();var ie=[],se=0;if("]"==H())return ie;for(me();;){ie.push(T(Y+"/"+se)),I();var j=H();if("]"==j)break;","!=j&&ke(),I(),se++}return ie}(Y);break;case"{":se=function K(Y){I();var ie={};if("}"==H())return ie;for(me();;){var se=_e();'"'!=H()&&ke();var $e=A(),j=Y+"/"+m($e);at(j,"key",se),ye(j,"keyEnd"),I(),":"!=H()&&ke(),I(),ie[$e]=T(j),I();var M=H();if("}"==M)break;","!=M&&ke(),I()}return ie}(Y);break;default:me(),"-0123456789".indexOf($e)>=0?se=function $(){var Y="",ie=!0;"-"==y[g]&&(Y+=H()),Y+="0"==y[g]?H():De(),"."==y[g]&&(Y+=H()+De(),ie=!1),("e"==y[g]||"E"==y[g])&&(Y+=H(),("+"==y[g]||"-"==y[g])&&(Y+=H()),Y+=De(),ie=!1);var se=+Y;return x&&ie&&(se>Number.MAX_SAFE_INTEGER||se<Number.MIN_SAFE_INTEGER)?BigInt(Y):se}():be()}return ye(Y,"valueEnd"),I(),ie&&g<y.length&&be(),se}("",!0),pointers:S};function I(){e:for(;g<y.length;){switch(y[g]){case" ":w++;break;case"\t":w+=4;break;case"\r":w=0;break;case"\n":w=0,v++;break;default:break e}g++}}function A(){for(var ie,Y="";'"'!=(ie=H());)"\\"==ie?(ie=H())in t?Y+=t[ie]:"u"==ie?Y+=Re():ke():Y+=ie;return Y}function U(Y){for(var ie=0;ie<Y.length;ie++)H()!==Y[ie]&&ke()}function H(){Pe();var Y=y[g];return g++,w++,Y}function me(){g--,w--}function Re(){for(var Y=4,ie=0;Y--;){ie<<=4;var se=H().toLowerCase();se>="a"&&se<="f"?ie+=se.charCodeAt()-97+10:se>="0"&&se<="9"?ie+=+se:ke()}return String.fromCharCode(ie)}function De(){for(var Y="";y[g]>="0"&&y[g]<="9";)Y+=H();if(Y.length)return Y;Pe(),be()}function ye(Y,ie){at(Y,ie,_e())}function at(Y,ie,se){S[Y]=S[Y]||{},S[Y][ie]=se}function _e(){return{line:v,column:w,pos:g}}function be(){throw new SyntaxError("Unexpected token "+y[g]+" in JSON at position "+g)}function ke(){me(),be()}function Pe(){if(g>=y.length)throw new SyntaxError("Unexpected end of JSON input")}},LN.stringify=function(y,E,_){if(s(y)){var v,w,S=0,g="object"==typeof _?_.space:_;switch(typeof g){case"number":var x=g>10?10:g<0?0:Math.floor(g);g=x&&at(x," "),v=x,w=x;break;case"string":g=g.slice(0,10),v=0,w=0;for(var T=0;T<g.length;T++){switch(g[T]){case" ":w++;break;case"\t":w+=4;break;case"\r":w=0;break;case"\n":w=0,S++;break;default:throw new Error("whitespace characters not allowed in JSON")}v++}break;default:g=void 0}var A="",$={},z=0,K=0,U=0,H=_&&_.es6&&"function"==typeof Map;return function me(_e,be,ke){switch(ye(ke,"value"),typeof _e){case"number":case"bigint":case"boolean":Re(""+_e);break;case"string":Re(p(_e));break;case"object":null===_e?Re("null"):"function"==typeof _e.toJSON?Re(p(_e.toJSON())):Array.isArray(_e)?Pe():H?_e.constructor.BYTES_PER_ELEMENT?Pe():_e instanceof Map?ie():_e instanceof Set?ie(!0):Y():Y()}function Pe(){if(_e.length){Re("[");for(var se=be+1,$e=0;$e<_e.length;$e++){$e&&Re(","),De(se);var j=s(_e[$e])?_e[$e]:null;me(j,se,ke+"/"+$e)}De(be),Re("]")}else Re("[]")}function Y(){var se=Object.keys(_e);if(se.length){Re("{");for(var $e=be+1,j=0;j<se.length;j++){var M=se[j],k=_e[M];if(s(k)){j&&Re(",");var ne=ke+"/"+m(M);De($e),ye(ne,"key"),Re(p(M)),ye(ne,"keyEnd"),Re(":"),g&&Re(" "),me(k,$e,ne)}}De(be),Re("}")}else Re("{}")}function ie(se){if(_e.size){Re("{");for(var $e=be+1,j=!0,M=_e.entries(),k=M.next();!k.done;){var ne=k.value,re=ne[0],Se=!!se||ne[1];if(s(Se)){j||Re(","),j=!1;var te=ke+"/"+m(re);De($e),ye(te,"key"),Re(p(re)),ye(te,"keyEnd"),Re(":"),g&&Re(" "),me(Se,$e,te)}k=M.next()}De(be),Re("}")}else Re("{}")}ye(ke,"valueEnd")}(y,0,""),{json:A,pointers:$}}function Re(_e){K+=_e.length,U+=_e.length,A+=_e}function De(_e){if(g){for(A+="\n"+at(_e,g),z++,K=0;_e--;)S?(z+=S,K=w):K+=w,U+=v;U+=1}}function ye(_e,be){$[_e]=$[_e]||{},$[_e][be]={line:z,column:K,pos:U}}function at(_e,be){return Array(_e+1).join(be)}};var i=["number","bigint","boolean","string","object"];function s(y){return i.indexOf(typeof y)>=0}var o=/"|\\/g,a=/[\b]/g,l=/\f/g,c=/\n/g,u=/\r/g,d=/\t/g;function p(y){return'"'+(y=y.replace(o,"\\$&").replace(l,"\\f").replace(a,"\\b").replace(c,"\\n").replace(u,"\\r").replace(d,"\\t"))+'"'}var f=/~/g,h=/\//g;function m(y){return y.replace(f,"~0").replace(h,"~1")}return LN}());function eDe(t,n){const i=function A9t(t){return P9t.stringify(t,null,2).pointers}(t),s=n(t);let o=n.errors;return o&&o.length&&(fe(o,D9t),o=function M9t(t){return Bn(t,function(n){return"if"!==n.keyword})}(o),fe(o,function(a){!function k9t(t,n){t.dataPointer=n[t.instancePath]}(a,i)})),{valid:s,object:t,errors:o}}function D9t(t){const n=t.params;n&&n.errors&&(n.rawErrors=n.errors,delete n.errors)}var rDe,FN={exports:{}},B9t=TJ(function L9t(){if(rDe)return FN.exports;rDe=1,FN.exports=h,FN.exports.default=h;const t={type:"object",allOf:[{required:["name","id","appliesTo","properties"],properties:{name:{$id:"#/name",type:"string",description:"The name of the element template."},id:{$id:"#/id",type:"string",description:"The identifier of the element template."},description:{$id:"#/description",type:"string",description:"The description of the element template."},version:{$id:"#/version",type:"integer",description:"Optional version of the template. If you add a version to a template it will be considered unique based on its ID and version. Two templates can have the same ID if their version is different."},isDefault:{$id:"#/isDefault",type:"boolean",description:"Indicates whether the element template is a default template."},deprecated:{$id:"#/deprecated",type:["boolean","object"],description:"Indicates whether the element template is deprecated.",properties:{message:{$id:"#/deprecated/message",type:"string",description:"Optional message to describe migration path."},documentationRef:{$id:"#/deprecated/documentationRef",type:"string",pattern:"^(https|http)://.*",description:"Optional link to migration documentation."}}},appliesTo:{$id:"#/appliesTo",type:"array",description:"List of BPMN types the template can be applied to.",default:[],items:{$id:"#/appliesTo/items",type:"string",pattern:"^[\\w\\d]+:[\\w\\d]+$",allOf:[{examples:["bpmn:Task","bpmn:ServiceTask","bpmn:SequenceFlow","bpmn:Process","bpmn:StartEvent","bpmn:Gateway"]}],errorMessage:{pattern:'invalid item for "appliesTo", should contain namespaced property, example: "bpmn:Task"'}}},elementType:{$id:"#/elementType",type:"object",description:"The BPMN type the element will be transformed into.",default:{},required:["value"],properties:{value:{$id:"#/elementType/value",type:"string",pattern:"^[\\w\\d]+:[\\w\\d]+$",allOf:[{examples:["bpmn:ServiceTask","bpmn:UserTask","bpmn:StartEvent","bpmn:ExclusiveGateway","bpmn:ParallelGateway"]}],errorMessage:{pattern:'invalid item for "elementType", should contain namespaced property, example: "bpmn:Task"'}}},errorMessage:{required:{value:"missing elementType value"}}},metadata:{$id:"#/metadata",type:"object",description:"Some custom properties for further configuration.",default:{}},entriesVisible:{$id:"#/entriesVisible",type:"boolean",description:"Select whether non-template entries are visible in the properties panel."},groups:{$id:"#/groups",type:"array",description:"Custom fields can be ordered together via groups.",allOf:[{examples:[[{id:"group-1",label:"My Group"}]]}],items:{$id:"#/groups/group",type:"object",default:{},required:["id","label"],properties:{id:{$id:"#/groups/group/id",type:"string",description:"The id of the custom group"},label:{$id:"#/groups/group/label",type:"string",description:"The label of the custom group"}},errorMessage:{required:{id:'missing id for group "${0#}"',label:'missing label for group "${0#}"'}}}},documentationRef:{$id:"#/documentationRef",type:"string",pattern:"^(https|http)://.*",errorMessage:{pattern:'Malformed documentation URL, must match "^(https|http)://.*"'}}},errorMessage:{required:{name:"missing template name",id:"missing template id",appliesTo:"missing appliesTo=[]",properties:"missing properties=[]"}}},{allOf:[{if:{properties:{properties:{contains:{properties:{binding:{properties:{type:{const:"bpmn:Message#property"}},required:["type"]}},required:["binding"]}}},required:["properties"]},then:{required:["elementType"],properties:{elementType:{required:["value"],properties:{value:{enum:["bpmn:ReceiveTask","bpmn:SendTask","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:EndEvent"]}},allOf:[{if:{properties:{value:{enum:["bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:EndEvent"]}}},then:{eventDefinition:{const:"bpmn:MessageEventDefinition"},required:["eventDefinition"]}}]}}}},{if:{properties:{properties:{contains:{properties:{binding:{properties:{type:{const:"bpmn:Message#zeebe:subscription#property"}},required:["type"]}},required:["binding"]}}},required:["properties"]},then:{required:["elementType"],properties:{elementType:{required:["value"],properties:{value:{enum:["bpmn:ReceiveTask","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:EndEvent"]}},allOf:[{if:{properties:{value:{enum:["bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:EndEvent"]}}},then:{eventDefinition:{const:"bpmn:MessageEventDefinition"},required:["eventDefinition"]}}]}}}},{if:{properties:{properties:{contains:{properties:{binding:{properties:{type:{const:"zeebe:calledElement"}},required:["type"]}},required:["binding"]}}},required:["properties"]},then:{anyOf:[{required:["elementType"],properties:{elementType:{required:["value"],properties:{value:{const:"bpmn:CallActivity"}}}}},{required:["appliesTo"],properties:{appliesTo:{const:["bpmn:CallActivity"]}}}]}}]}],properties:{properties:{$ref:"#/definitions/properties",$id:"#/properties"},engines:{$id:"#/engines",type:"object",description:"Defines the compatibility of this element template with different engines. Keys are engine names, values are semantic version ranges.",default:{},examples:[{camunda:"^8.5"}],properties:{camunda:{$id:"#/engines/camunda",type:"string",description:"A semantic version range that denotes compatible Camunda versions.",default:""}}},icon:{$id:"#/icon",type:"object",description:"Custom icon to be shown on the element",default:{},properties:{contents:{$id:"#/icon/contents",type:"string",description:"The URL of an icon.",pattern:"^(https?|data):.*",errorMessage:{pattern:"Malformed icon source, must be a valid HTTP(s) or data URL"}}},required:["contents"],errorMessage:{required:{contents:"missing icon contents"}}},elementType:{allOf:[{allOf:[{properties:{eventDefinition:{$id:"#/elementType/eventDefinition",enum:["bpmn:MessageEventDefinition"]}}},{if:{required:["eventDefinition"]},then:{properties:{value:{enum:["bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:EndEvent"]}},required:["value"]}}]}]},groups:{items:{properties:{tooltip:{$id:"#/groups/group/tooltip",type:"string"},openByDefault:{$id:"#/groups/group/openByDefault",type:"boolean",description:"Specifies whether the Group should be opened when first viewed. Defaults to true.",default:!0}}}}}},n=new RegExp("^(https|http)://.*","u"),i=new RegExp("^[\\w\\d]+:[\\w\\d]+$","u"),s=new RegExp("^(https?|data):.*","u"),o={required:"missingProperty",dependencies:"property",dependentRequired:"property"},a=QPe().default,l={allOf:[{type:"array",description:"List of properties of the element template.",allOf:[{examples:[[{label:"Name",type:"String",binding:{type:"property",name:"name"}}]]}],items:{type:"object",default:{},allOf:[{if:{properties:{type:{const:"Dropdown"}},required:["type"]},then:{required:["choices"],errorMessage:'must provide choices=[] with "Dropdown" type'}},{definitions:{condition:{type:"object",required:["property"],properties:{type:{$id:"#/condition/type",const:"simple",description:"The type of the condition.",default:"simple"},property:{$id:"#/condition/property",type:"string",description:"The id of the property to check."}},oneOf:[{properties:{equals:{type:["string","number","boolean"]}},required:["equals"]},{properties:{oneOf:{type:"array",items:{type:["string","number"]}}},required:["oneOf"]},{properties:{isActive:{type:"boolean",description:"For `true`, activates the property when given property is active"}},required:["isActive"]}],errorMessage:{required:{property:"missing property name for condition"}}},conditionDependingOnId:{required:["property"],properties:{property:{const:{$data:"2/id"}}}}},allOf:[{$comment:"property#condition should not depend on property#id",if:{required:["id","condition"],properties:{condition:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/conditionDependingOnId"}}},then:{not:{required:["condition"]},errorMessage:"Invalid condition.property, must be different than property.id"}},{then:{errorMessage:"Invalid condition.property, must be different than property.id"}}],properties:{id:{type:"string",description:"Unique identifier of the property."},condition:{type:"object",description:"Condition(s) to activate the binding.",allOf:[{examples:[{type:"simple",property:"httpMethod",equals:"GET"},{type:"simple",property:"httpMethod",oneOf:["POST","PUT","DELETE"]},{allMatch:[{type:"simple",property:"authType",equals:"Basic"},{type:"simple",property:"httpMethod",oneOf:["POST","PUT","DELETE"]}]}]}],oneOf:[{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition"},{properties:{allMatch:{$id:"#/allMatch",type:"array",items:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition"},minItems:1}},required:["allMatch"]}]}}},{if:{properties:{type:{not:{const:"Number"}}},required:["type"]},then:{properties:{value:{type:["string","boolean"]}}}},{if:{oneOf:[{properties:{type:{enum:["String","Text"]}},required:["type"]},{not:{required:["type"]}}]},then:{properties:{placeholder:{type:"string"}}},else:{not:{required:["placeholder"]}}}],properties:{value:{$id:"#/properties/property/value",type:["string","number","boolean"],description:"The value of a control field."},description:{$id:"#/properties/property/description",type:"string",description:"The description of a control field."},label:{$id:"#/properties/property/label",type:"string",description:"The label of a control field."},type:{$id:"#/properties/property/type",type:"string",description:"The type of a control field."},editable:{$id:"#/properties/property/editable",type:"boolean",description:"Indicates whether a control field is editable or not."},choices:{$id:"#/properties/property/choices",type:"array",description:"The choices for dropdown fields.",default:[],items:{$id:"#/properties/property/choices/item",type:"object",default:{},properties:{name:{$id:"#/properties/property/choices/item/name",type:"string",description:"The name of a choice."},value:{$id:"#/properties/property/choices/item/value",type:"string",description:"The value of a choice."},condition:{$ref:"#/definitions/properties/allOf/0/items/allOf/1/properties/condition"}},required:["value","name"],errorMessage:{required:'{ name, value } must be specified for "Dropdown" choices'}}},constraints:{$id:"#/properties/property/constraints",type:"object",description:"The validation constraints of a control field.",allOf:[{examples:[{notEmpty:!0}]}],properties:{notEmpty:{$id:"#/properties/property/constraints/notEmpty",type:"boolean",description:"The control field must not be empty."},minLength:{$id:"#/properties/property/constraints/minLength",type:"number",description:"The minimal length of a control field value."},maxLength:{$id:"#/properties/property/constraints/maxLength",type:"number",description:"The maximal length for a control field value."},pattern:{$id:"#/properties/property/constraints/pattern",description:"A regular expression pattern for a constraint.",oneOf:[{type:"object",default:{},properties:{value:{$id:"#/properties/property/constraints/pattern/value",type:"string",description:"The regular expression of a pattern."},message:{$id:"#/properties/property/constraints/pattern/message",type:"string",description:"The validation message of a pattern."}}},{type:"string"}]}}},group:{$id:"#/properties/property/group",type:"string",description:"The custom group of a control field."}}}},{$schema:"http://json-schema.org/draft-07/schema",type:"array",description:"List of properties of the element template.",items:{type:"object",default:{},required:["binding"],allOf:[{if:{properties:{binding:{properties:{type:{const:"property"}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown","Boolean","Number"],errorMessage:'invalid property type ${0} for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean, Number }'}}}},{if:{properties:{binding:{properties:{type:{enum:["zeebe:input","zeebe:output","zeebe:property","zeebe:taskHeader","zeebe:taskDefinition:type","bpmn:Message#property","bpmn:Message#zeebe:subscription#property","zeebe:taskDefinition","zeebe:calledElement","zeebe:linkedResource"]}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown","Boolean","Number"],errorMessage:"invalid property type ${0} for binding type ${1/binding/type}; must be any of { String, Text, Hidden, Dropdown, Boolean, Number }"}}}},{if:{properties:{optional:{const:!0}},required:["optional"]},then:{properties:{binding:{properties:{type:{enum:["zeebe:input","zeebe:output","zeebe:property","zeebe:taskHeader"],errorMessage:"optional is not supported for binding type ${0}; must be any of { zeebe:input, zeebe:output, zeebe:property, zeebe:taskHeader }"}},required:["type"]}}}},{if:{properties:{optional:{const:!0}},required:["optional"]},then:{properties:{constraints:{properties:{notEmpty:{const:!1,errorMessage:'optional is not allowed for truthy "notEmpty" constraint'}},required:["notEmpty"]}}}},{if:{properties:{feel:{not:{const:null}}},required:["feel"]},then:{properties:{type:{enum:["String","Text","Number","Boolean"],errorMessage:'feel is only supported for "String", "Text", "Number" and "Boolean" type'}},required:["type"]}},{if:{properties:{language:{not:{const:null}}},required:["language"]},then:{properties:{type:{enum:["Text"],errorMessage:'language is only supported for "Text" type'}}}},{if:{required:["value"]},then:{not:{required:["generatedValue"]}}},{if:{properties:{type:{enum:["Boolean","Dropdown"]}},required:["type"]},then:{not:{required:["generatedValue"]}}},{if:{properties:{type:{enum:["String","Text"]}},required:["feel"]},then:{properties:{feel:{enum:["optional","required"]}}}},{if:{properties:{feel:{const:"required"}},required:["feel"]},then:{properties:{value:{type:"string"}}}},{if:{properties:{binding:{properties:{type:{const:"zeebe:linkedResource"}},required:["type"]}},required:["binding"]},then:{properties:{binding:{properties:{linkName:{type:"string"},property:{enum:["resourceId","resourceType","bindingType","versionTag"],errorMessage:"invalid binding.property ${0}; must be any of { resourceId, resourceType, bindingType, versionTag }"}},required:["linkName","property"]}}}},{allOf:[{if:{properties:{binding:{properties:{type:{enum:["zeebe:input","zeebe:output"]}},required:["type"]},type:{enum:["Boolean","Number"]}},required:["binding","type"]},then:{properties:{feel:{default:"static"}}}}]}],properties:{binding:{$id:"#/properties/property/binding",type:"object",description:"Specifying how the property is mapped to BPMN or Zeebe extension elements and attributes.",required:["type"],allOf:[{if:{properties:{type:{enum:["property","zeebe:property","zeebe:input","bpmn:Message#property","bpmn:Message#zeebe:subscription#property"]}},required:["type"]},then:{required:["name"],errorMessage:"property.binding ${0/type} requires name"}},{if:{properties:{type:{const:"zeebe:output"}},required:["type"]},then:{required:["source"],errorMessage:"property.binding ${0/type} requires source"}},{if:{properties:{type:{const:"zeebe:taskHeader"}},required:["type"]},then:{required:["key"],errorMessage:"property.binding ${0/type} requires key"}},{if:{properties:{type:{const:"zeebe:taskDefinition"}},required:["type"]},then:{properties:{property:{enum:["type","retries"]}},required:["property"]}},{if:{properties:{type:{const:"zeebe:taskDefinition:type"}},required:["type"]},then:{deprecated:!0}},{if:{properties:{type:{const:"zeebe:calledElement"}},required:["type"]},then:{properties:{property:{const:"processId"}},required:["property"]}},{examples:[{type:"property",name:"name"},{type:"zeebe:input",name:"input"},{type:"zeebe:output",source:"output"},{type:"zeebe:property",name:"property"},{type:"zeebe:taskHeader",key:"key"},{type:"zeebe:taskDefinition",property:"retries"},{type:"zeebe:taskDefinition",property:"type"}]}],properties:{type:{$id:"#/properties/property/binding/type",type:"string",description:"The type of a property binding.",enum:["property","zeebe:taskDefinition:type","zeebe:input","zeebe:output","zeebe:property","zeebe:taskHeader","bpmn:Message#property","bpmn:Message#zeebe:subscription#property","zeebe:taskDefinition","zeebe:calledElement","zeebe:linkedResource"],errorMessage:"invalid property.binding type ${0}; must be any of { property, zeebe:taskDefinition:type, zeebe:input, zeebe:output, zeebe:property, zeebe:taskHeader, bpmn:Message#property, bpmn:Message#zeebe:subscription#property, zeebe:taskDefinition, zeebe:calledElement, zeebe:linkedResource }"},name:{$id:"#/properties/property/binding/name",type:"string",description:"The name of a property binding."},source:{$id:"#/properties/property/binding/source",type:"string",description:"The source value of a property binding (zeebe:output)."},key:{$id:"#/properties/property/binding/key",type:"string",description:"The key value of a property binding (zeebe:taskHeader)."},property:{$id:"#/properties/property/binding/property",type:"string",description:"The name of the property defined in the binding."},linkName:{$id:"#/properties/property/binding/linkName",type:"string",description:"The `linkName` of the element (zeebe:linkedResource)."}}},optional:{$id:"#/optional",type:"boolean",description:"Indicates whether a property is optional. Optional bindings do not persist empty values in the underlying BPMN 2.0 XML."},feel:{$id:"#/properties/property/feel",type:"string",description:"Indicates whether the property can be a feel expression",enum:["optional","required","static"]},language:{$id:"#/properties/property/language",type:"string",description:"Indicates that the field is a custom language editor"},generatedValue:{$id:"#/properties/property/generatedValue",type:"object",required:["type"],properties:{type:{const:"uuid"}},description:"Sets property to a generated value according to given scheme."},tooltip:{$id:"#/properties/property/tooltip",type:"string",description:"Hints for the control field."}},errorMessage:{required:{binding:'missing binding for property "${0#}"'}}}}]},c={required:["property"],properties:{property:{const:{$data:"2/id"}}}},u={type:"object",required:["property"],properties:{type:{$id:"#/condition/type",const:"simple",description:"The type of the condition.",default:"simple"},property:{$id:"#/condition/property",type:"string",description:"The id of the property to check."}},oneOf:[{properties:{equals:{type:["string","number","boolean"]}},required:["equals"]},{properties:{oneOf:{type:"array",items:{type:["string","number"]}}},required:["oneOf"]},{properties:{isActive:{type:"boolean",description:"For `true`, activates the property when given property is active"}},required:["isActive"]}],errorMessage:{required:{property:"missing property name for condition"}}};function d(m,{instancePath:y="",rootData:S=m}={}){let v=null,w=0;if(!m||"object"!=typeof m||Array.isArray(m)){const ye={instancePath:y,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[ye]:v.push(ye),w++}const g=w;let x=!1,T=null;const I=w,A=w;let $=!1,z=null;const K=w;if(m&&"object"==typeof m&&!Array.isArray(m)){if(void 0===m.equals){const ye={instancePath:y,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===v?v=[ye]:v.push(ye),w++}if(void 0!==m.equals){let ye=m.equals;if("string"!=typeof ye&&"number"!=typeof ye&&"boolean"!=typeof ye){const at={instancePath:y+"/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:u.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===v?v=[at]:v.push(at),w++}}}(H=K===w)&&($=!0,z=0);const U=w;if(m&&"object"==typeof m&&!Array.isArray(m)){if(void 0===m.oneOf){const ye={instancePath:y,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===v?v=[ye]:v.push(ye),w++}if(void 0!==m.oneOf){let ye=m.oneOf;if(Array.isArray(ye)){const at=ye.length;for(let _e=0;_e<at;_e++){let be=ye[_e];if("string"!=typeof be&&"number"!=typeof be){const ke={instancePath:y+"/oneOf/"+_e,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:u.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===v?v=[ke]:v.push(ke),w++}}}else{const at={instancePath:y+"/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===v?v=[at]:v.push(at),w++}}}if((H=U===w)&&$)$=!1,z=[z,1];else{H&&($=!0,z=1);const ye=w;if(m&&"object"==typeof m&&!Array.isArray(m)){if(void 0===m.isActive){const _e={instancePath:y,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===v?v=[_e]:v.push(_e),w++}if(void 0!==m.isActive&&"boolean"!=typeof m.isActive){const _e={instancePath:y+"/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===v?v=[_e]:v.push(_e),w++}}var H;(H=ye===w)&&$?($=!1,z=[z,2]):H&&($=!0,z=2)}if($)w=A,null!==v&&(A?v.length=A:v=null);else{const ye={instancePath:y,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:z},message:"must match exactly one schema in oneOf"};null===v?v=[ye]:v.push(ye),w++}if(m&&"object"==typeof m&&!Array.isArray(m)){if(void 0===m.property){const ye={instancePath:y,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===v?v=[ye]:v.push(ye),w++}if(void 0!==m.type&&"simple"!==m.type){const ye={instancePath:y+"/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===v?v=[ye]:v.push(ye),w++}if(void 0!==m.property&&"string"!=typeof m.property){const ye={instancePath:y+"/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[ye]:v.push(ye),w++}}else{const ye={instancePath:y,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[ye]:v.push(ye),w++}if(w>0){const ye={required:{property:[]}},at={required:{}};let _e,be;for(const Pe of v)"errorMessage"!==Pe.keyword&&!Pe.emUsed&&Pe.instancePath===y&&Pe.keyword in ye&&0===Pe.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(Pe.schemaPath.slice(68))&&(_e=o[Pe.keyword],be=ye[Pe.keyword][Pe.params[_e]],be&&(be.push(Pe),Pe.emUsed=!0));for(const Pe in ye)for(const Y in ye[Pe])if(be=ye[Pe][Y],be.length){const ie=at[Pe]&&at[Pe][Y],se={instancePath:y,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:be},message:ie?ie():u.errorMessage[Pe][Y]};null===v?v=[se]:v.push(se),w++}const ke=[];for(const Pe of v)Pe.emUsed||ke.push(Pe);v=ke,w=ke.length}I===w&&(x=!0,T=0);const me=w;if(m&&"object"==typeof m&&!Array.isArray(m)){if(void 0===m.allMatch){const ye={instancePath:y,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"allMatch"},message:"must have required property 'allMatch'"};null===v?v=[ye]:v.push(ye),w++}if(void 0!==m.allMatch){let ye=m.allMatch;if(Array.isArray(ye)){if(ye.length<1){const _e={instancePath:y+"/allMatch",schemaPath:"#/oneOf/1/properties/allMatch/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===v?v=[_e]:v.push(_e),w++}const at=ye.length;for(let _e=0;_e<at;_e++){let be=ye[_e];const ke=w;let Pe=!1,Y=null;const ie=w;if(be&&"object"==typeof be&&!Array.isArray(be)){if(void 0===be.equals){const $e={instancePath:y+"/allMatch/"+_e,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===v?v=[$e]:v.push($e),w++}if(void 0!==be.equals){let $e=be.equals;if("string"!=typeof $e&&"number"!=typeof $e&&"boolean"!=typeof $e){const j={instancePath:y+"/allMatch/"+_e+"/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:u.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===v?v=[j]:v.push(j),w++}}}(Re=ie===w)&&(Pe=!0,Y=0);const se=w;if(be&&"object"==typeof be&&!Array.isArray(be)){if(void 0===be.oneOf){const $e={instancePath:y+"/allMatch/"+_e,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===v?v=[$e]:v.push($e),w++}if(void 0!==be.oneOf){let $e=be.oneOf;if(Array.isArray($e)){const j=$e.length;for(let M=0;M<j;M++){let k=$e[M];if("string"!=typeof k&&"number"!=typeof k){const ne={instancePath:y+"/allMatch/"+_e+"/oneOf/"+M,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:u.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===v?v=[ne]:v.push(ne),w++}}}else{const j={instancePath:y+"/allMatch/"+_e+"/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===v?v=[j]:v.push(j),w++}}}if((Re=se===w)&&Pe)Pe=!1,Y=[Y,1];else{Re&&(Pe=!0,Y=1);const $e=w;if(be&&"object"==typeof be&&!Array.isArray(be)){if(void 0===be.isActive){const M={instancePath:y+"/allMatch/"+_e,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===v?v=[M]:v.push(M),w++}if(void 0!==be.isActive&&"boolean"!=typeof be.isActive){const M={instancePath:y+"/allMatch/"+_e+"/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===v?v=[M]:v.push(M),w++}}var Re;(Re=$e===w)&&Pe?(Pe=!1,Y=[Y,2]):Re&&(Pe=!0,Y=2)}if(Pe)w=ke,null!==v&&(ke?v.length=ke:v=null);else{const $e={instancePath:y+"/allMatch/"+_e,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:Y},message:"must match exactly one schema in oneOf"};null===v?v=[$e]:v.push($e),w++}if(be&&"object"==typeof be&&!Array.isArray(be)){if(void 0===be.property){const $e={instancePath:y+"/allMatch/"+_e,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===v?v=[$e]:v.push($e),w++}if(void 0!==be.type&&"simple"!==be.type){const $e={instancePath:y+"/allMatch/"+_e+"/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===v?v=[$e]:v.push($e),w++}if(void 0!==be.property&&"string"!=typeof be.property){const $e={instancePath:y+"/allMatch/"+_e+"/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[$e]:v.push($e),w++}}else{const $e={instancePath:y+"/allMatch/"+_e,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[$e]:v.push($e),w++}if(w>0){const $e={required:{property:[]}},j={required:{}};let M,k;for(const re of v)"errorMessage"!==re.keyword&&!re.emUsed&&re.instancePath===y+"/allMatch/"+_e&&re.keyword in $e&&0===re.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(re.schemaPath.slice(68))&&(M=o[re.keyword],k=$e[re.keyword][re.params[M]],k&&(k.push(re),re.emUsed=!0));for(const re in $e)for(const Se in $e[re])if(k=$e[re][Se],k.length){const te=j[re]&&j[re][Se],Ke={instancePath:y+"/allMatch/"+_e,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:k},message:te?te():u.errorMessage[re][Se]};null===v?v=[Ke]:v.push(Ke),w++}const ne=[];for(const re of v)re.emUsed||ne.push(re);v=ne,w=ne.length}}}else{const at={instancePath:y+"/allMatch",schemaPath:"#/oneOf/1/properties/allMatch/type",keyword:"type",params:{type:"array"},message:"must be array"};null===v?v=[at]:v.push(at),w++}}}var De;if((De=me===w)&&x?(x=!1,T=[T,1]):De&&(x=!0,T=1),x)w=g,null!==v&&(g?v.length=g:v=null);else{const ye={instancePath:y,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:T},message:"must match exactly one schema in oneOf"};null===v?v=[ye]:v.push(ye),w++}return d.errors=v,0===w}function p(m,{instancePath:y="",rootData:S=m}={}){let v=null,w=0;if(Array.isArray(m)){const rn=m.length;for(let q=0;q<rn;q++){let B=m[q];const zt=w;let yt=!0;const X=w;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.type){const Ae={};null===v?v=[Ae]:v.push(Ae),w++}else if(void 0!==B.type&&"Dropdown"!==B.type){const Ae={};null===v?v=[Ae]:v.push(Ae),w++}var g=X===w;if(w=zt,null!==v&&(zt?v.length=zt:v=null),g){const Ae=w;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0===B.choices){const vt={instancePath:y+"/"+q,schemaPath:"#/allOf/0/items/allOf/0/then/required",keyword:"required",params:{missingProperty:"choices"},message:"must have required property 'choices'"};null===v?v=[vt]:v.push(vt),w++}if(w>0){const vt=[];for(const F of v)"errorMessage"!==F.keyword&&!F.emUsed&&(F.instancePath===y+"/"+q||0===F.instancePath.indexOf(y+"/"+q)&&"/"===F.instancePath[y+"/"+q.length])&&0===F.schemaPath.indexOf("#/allOf/0/items/allOf/0/then")&&"/"===F.schemaPath[28]&&(vt.push(F),F.emUsed=!0);if(vt.length){const F={instancePath:y+"/"+q,schemaPath:"#/allOf/0/items/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:vt},message:'must provide choices=[] with "Dropdown" type'};null===v?v=[F]:v.push(F),w++}const Q=[];for(const F of v)F.emUsed||Q.push(F);v=Q,w=Q.length}yt=g=Ae===w}if(!yt){const Ae={instancePath:y+"/"+q,schemaPath:"#/allOf/0/items/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Ae]:v.push(Ae),w++}const le=w;let li=!0;const Rr=w;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.id||void 0===B.condition){const Ae={};null===v?v=[Ae]:v.push(Ae),w++}else if(void 0!==B.condition){let Ae=B.condition;if(Ae&&"object"==typeof Ae&&!Array.isArray(Ae))if(void 0===Ae.property){const wt={};null===v?v=[wt]:v.push(wt),w++}else if(void 0!==Ae.property&&!a(Ae.property,c.properties.property.const)){const wt={};null===v?v=[wt]:v.push(wt),w++}}var x=Rr===w;if(w=le,null!==v&&(le?v.length=le:v=null),x){const Ae=w,wt=w,vt=w;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0===B.condition){const F={};null===v?v=[F]:v.push(F),w++}if(vt===w){const F={instancePath:y+"/"+q,schemaPath:"#/allOf/0/items/allOf/1/allOf/0/then/not",keyword:"not",params:{},message:"must NOT be valid"};null===v?v=[F]:v.push(F),w++}else w=wt,null!==v&&(wt?v.length=wt:v=null);if(w>0){const F=[];for(const Fe of v)"errorMessage"!==Fe.keyword&&!Fe.emUsed&&(Fe.instancePath===y+"/"+q||0===Fe.instancePath.indexOf(y+"/"+q)&&"/"===Fe.instancePath[y+"/"+q.length])&&0===Fe.schemaPath.indexOf("#/allOf/0/items/allOf/1/allOf/0/then")&&"/"===Fe.schemaPath[36]&&(F.push(Fe),Fe.emUsed=!0);if(F.length){const Fe={instancePath:y+"/"+q,schemaPath:"#/allOf/0/items/allOf/1/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:F},message:"Invalid condition.property, must be different than property.id"};null===v?v=[Fe]:v.push(Fe),w++}const xe=[];for(const Fe of v)Fe.emUsed||xe.push(Fe);v=xe,w=xe.length}li=x=Ae===w}if(!li){const Ae={instancePath:y+"/"+q,schemaPath:"#/allOf/0/items/allOf/1/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Ae]:v.push(Ae),w++}if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0!==B.id&&"string"!=typeof B.id){const Ae={instancePath:y+"/"+q+"/id",schemaPath:"#/allOf/0/items/allOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[Ae]:v.push(Ae),w++}if(void 0!==B.condition){let Ae=B.condition;if(!Ae||"object"!=typeof Ae||Array.isArray(Ae)){const We={instancePath:y+"/"+q+"/condition",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[We]:v.push(We),w++}const wt=w;let vt=!1,Q=null;const F=w,xe=w;let Fe=!1,qe=null;const nt=w;if(Ae&&"object"==typeof Ae&&!Array.isArray(Ae)){if(void 0===Ae.equals){const We={instancePath:y+"/"+q+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===v?v=[We]:v.push(We),w++}if(void 0!==Ae.equals){let We=Ae.equals;if("string"!=typeof We&&"number"!=typeof We&&"boolean"!=typeof We){const dt={instancePath:y+"/"+q+"/condition/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:u.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===v?v=[dt]:v.push(dt),w++}}}(I=nt===w)&&(Fe=!0,qe=0);const Qe=w;if(Ae&&"object"==typeof Ae&&!Array.isArray(Ae)){if(void 0===Ae.oneOf){const We={instancePath:y+"/"+q+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===v?v=[We]:v.push(We),w++}if(void 0!==Ae.oneOf){let We=Ae.oneOf;if(Array.isArray(We)){const dt=We.length;for(let Ne=0;Ne<dt;Ne++){let Tt=We[Ne];if("string"!=typeof Tt&&"number"!=typeof Tt){const mt={instancePath:y+"/"+q+"/condition/oneOf/"+Ne,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:u.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===v?v=[mt]:v.push(mt),w++}}}else{const dt={instancePath:y+"/"+q+"/condition/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===v?v=[dt]:v.push(dt),w++}}}if((I=Qe===w)&&Fe)Fe=!1,qe=[qe,1];else{I&&(Fe=!0,qe=1);const We=w;if(Ae&&"object"==typeof Ae&&!Array.isArray(Ae)){if(void 0===Ae.isActive){const Ne={instancePath:y+"/"+q+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===v?v=[Ne]:v.push(Ne),w++}if(void 0!==Ae.isActive&&"boolean"!=typeof Ae.isActive){const Ne={instancePath:y+"/"+q+"/condition/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===v?v=[Ne]:v.push(Ne),w++}}var I;(I=We===w)&&Fe?(Fe=!1,qe=[qe,2]):I&&(Fe=!0,qe=2)}if(Fe)w=xe,null!==v&&(xe?v.length=xe:v=null);else{const We={instancePath:y+"/"+q+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:qe},message:"must match exactly one schema in oneOf"};null===v?v=[We]:v.push(We),w++}if(Ae&&"object"==typeof Ae&&!Array.isArray(Ae)){if(void 0===Ae.property){const We={instancePath:y+"/"+q+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===v?v=[We]:v.push(We),w++}if(void 0!==Ae.type&&"simple"!==Ae.type){const We={instancePath:y+"/"+q+"/condition/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===v?v=[We]:v.push(We),w++}if(void 0!==Ae.property&&"string"!=typeof Ae.property){const We={instancePath:y+"/"+q+"/condition/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[We]:v.push(We),w++}}else{const We={instancePath:y+"/"+q+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[We]:v.push(We),w++}if(w>0){const We={required:{property:[]}},dt={required:{}};let Ne,Tt;for(const gt of v)"errorMessage"!==gt.keyword&&!gt.emUsed&&gt.instancePath===y+"/"+q+"/condition"&&gt.keyword in We&&0===gt.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(gt.schemaPath.slice(68))&&(Ne=o[gt.keyword],Tt=We[gt.keyword][gt.params[Ne]],Tt&&(Tt.push(gt),gt.emUsed=!0));for(const gt in We)for(const Z in We[gt])if(Tt=We[gt][Z],Tt.length){const lt=dt[gt]&&dt[gt][Z],bt={instancePath:y+"/"+q+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:Tt},message:lt?lt():u.errorMessage[gt][Z]};null===v?v=[bt]:v.push(bt),w++}const mt=[];for(const gt of v)gt.emUsed||mt.push(gt);v=mt,w=mt.length}F===w&&(vt=!0,Q=0);const ht=w;if(Ae&&"object"==typeof Ae&&!Array.isArray(Ae)){if(void 0===Ae.allMatch){const We={instancePath:y+"/"+q+"/condition",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"allMatch"},message:"must have required property 'allMatch'"};null===v?v=[We]:v.push(We),w++}if(void 0!==Ae.allMatch){let We=Ae.allMatch;if(Array.isArray(We)){if(We.length<1){const Ne={instancePath:y+"/"+q+"/condition/allMatch",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/oneOf/1/properties/allMatch/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===v?v=[Ne]:v.push(Ne),w++}const dt=We.length;for(let Ne=0;Ne<dt;Ne++){let Tt=We[Ne];const mt=w;let gt=!1,Z=null;const lt=w;if(Tt&&"object"==typeof Tt&&!Array.isArray(Tt)){if(void 0===Tt.equals){const Ye={instancePath:y+"/"+q+"/condition/allMatch/"+Ne,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/required",keyword:"required",params:{missingProperty:"equals"},message:"must have required property 'equals'"};null===v?v=[Ye]:v.push(Ye),w++}if(void 0!==Tt.equals){let Ye=Tt.equals;if("string"!=typeof Ye&&"number"!=typeof Ye&&"boolean"!=typeof Ye){const kt={instancePath:y+"/"+q+"/condition/allMatch/"+Ne+"/equals",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/0/properties/equals/type",keyword:"type",params:{type:u.oneOf[0].properties.equals.type},message:"must be string,number,boolean"};null===v?v=[kt]:v.push(kt),w++}}}(A=lt===w)&&(gt=!0,Z=0);const bt=w;if(Tt&&"object"==typeof Tt&&!Array.isArray(Tt)){if(void 0===Tt.oneOf){const Ye={instancePath:y+"/"+q+"/condition/allMatch/"+Ne,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/required",keyword:"required",params:{missingProperty:"oneOf"},message:"must have required property 'oneOf'"};null===v?v=[Ye]:v.push(Ye),w++}if(void 0!==Tt.oneOf){let Ye=Tt.oneOf;if(Array.isArray(Ye)){const kt=Ye.length;for(let Ct=0;Ct<kt;Ct++){let qn=Ye[Ct];if("string"!=typeof qn&&"number"!=typeof qn){const Lt={instancePath:y+"/"+q+"/condition/allMatch/"+Ne+"/oneOf/"+Ct,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/items/type",keyword:"type",params:{type:u.oneOf[1].properties.oneOf.items.type},message:"must be string,number"};null===v?v=[Lt]:v.push(Lt),w++}}}else{const kt={instancePath:y+"/"+q+"/condition/allMatch/"+Ne+"/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/1/properties/oneOf/type",keyword:"type",params:{type:"array"},message:"must be array"};null===v?v=[kt]:v.push(kt),w++}}}if((A=bt===w)&&gt)gt=!1,Z=[Z,1];else{A&&(gt=!0,Z=1);const Ye=w;if(Tt&&"object"==typeof Tt&&!Array.isArray(Tt)){if(void 0===Tt.isActive){const Ct={instancePath:y+"/"+q+"/condition/allMatch/"+Ne,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/required",keyword:"required",params:{missingProperty:"isActive"},message:"must have required property 'isActive'"};null===v?v=[Ct]:v.push(Ct),w++}if(void 0!==Tt.isActive&&"boolean"!=typeof Tt.isActive){const Ct={instancePath:y+"/"+q+"/condition/allMatch/"+Ne+"/isActive",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf/2/properties/isActive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===v?v=[Ct]:v.push(Ct),w++}}var A;(A=Ye===w)&&gt?(gt=!1,Z=[Z,2]):A&&(gt=!0,Z=2)}if(gt)w=mt,null!==v&&(mt?v.length=mt:v=null);else{const Ye={instancePath:y+"/"+q+"/condition/allMatch/"+Ne,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/oneOf",keyword:"oneOf",params:{passingSchemas:Z},message:"must match exactly one schema in oneOf"};null===v?v=[Ye]:v.push(Ye),w++}if(Tt&&"object"==typeof Tt&&!Array.isArray(Tt)){if(void 0===Tt.property){const Ye={instancePath:y+"/"+q+"/condition/allMatch/"+Ne,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===v?v=[Ye]:v.push(Ye),w++}if(void 0!==Tt.type&&"simple"!==Tt.type){const Ye={instancePath:y+"/"+q+"/condition/allMatch/"+Ne+"/type",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/type/const",keyword:"const",params:{allowedValue:"simple"},message:"must be equal to constant"};null===v?v=[Ye]:v.push(Ye),w++}if(void 0!==Tt.property&&"string"!=typeof Tt.property){const Ye={instancePath:y+"/"+q+"/condition/allMatch/"+Ne+"/property",schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[Ye]:v.push(Ye),w++}}else{const Ye={instancePath:y+"/"+q+"/condition/allMatch/"+Ne,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[Ye]:v.push(Ye),w++}if(w>0){const Ye={required:{property:[]}},kt={required:{}};let Ct,qn;for(const Le of v)"errorMessage"!==Le.keyword&&!Le.emUsed&&Le.instancePath===y+"/"+q+"/condition/allMatch/"+Ne&&Le.keyword in Ye&&0===Le.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/1/definitions/condition")&&/^\/[^\/]*$/.test(Le.schemaPath.slice(68))&&(Ct=o[Le.keyword],qn=Ye[Le.keyword][Le.params[Ct]],qn&&(qn.push(Le),Le.emUsed=!0));for(const Le in Ye)for(const it in Ye[Le])if(qn=Ye[Le][it],qn.length){const Zt=kt[Le]&&kt[Le][it],Wn={instancePath:y+"/"+q+"/condition/allMatch/"+Ne,schemaPath:"#/definitions/properties/allOf/0/items/allOf/1/definitions/condition/errorMessage",keyword:"errorMessage",params:{errors:qn},message:Zt?Zt():u.errorMessage[Le][it]};null===v?v=[Wn]:v.push(Wn),w++}const Lt=[];for(const Le of v)Le.emUsed||Lt.push(Le);v=Lt,w=Lt.length}}}else{const dt={instancePath:y+"/"+q+"/condition/allMatch",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/oneOf/1/properties/allMatch/type",keyword:"type",params:{type:"array"},message:"must be array"};null===v?v=[dt]:v.push(dt),w++}}}var $;if(($=ht===w)&&vt?(vt=!1,Q=[Q,1]):$&&(vt=!0,Q=1),vt)w=wt,null!==v&&(wt?v.length=wt:v=null);else{const We={instancePath:y+"/"+q+"/condition",schemaPath:"#/allOf/0/items/allOf/1/properties/condition/oneOf",keyword:"oneOf",params:{passingSchemas:Q},message:"must match exactly one schema in oneOf"};null===v?v=[We]:v.push(We),w++}}}const Qn=w;let $s=!0;const Ua=w;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.type){const Ae={};null===v?v=[Ae]:v.push(Ae),w++}else if(void 0!==B.type){const Ae=w,wt=w;if("Number"!==B.type){const vt={};null===v?v=[vt]:v.push(vt),w++}if(wt===w){const vt={};null===v?v=[vt]:v.push(vt),w++}else w=Ae,null!==v&&(Ae?v.length=Ae:v=null)}var K=Ua===w;if(w=Qn,null!==v&&(Qn?v.length=Qn:v=null),K){const Ae=w;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0!==B.value){let vt=B.value;if("string"!=typeof vt&&"boolean"!=typeof vt){const Q={instancePath:y+"/"+q+"/value",schemaPath:"#/allOf/0/items/allOf/2/then/properties/value/type",keyword:"type",params:{type:l.allOf[0].items.allOf[2].then.properties.value.type},message:"must be string,boolean"};null===v?v=[Q]:v.push(Q),w++}}$s=K=Ae===w}if(!$s){const Ae={instancePath:y+"/"+q,schemaPath:"#/allOf/0/items/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Ae]:v.push(Ae),w++}const qo=w;let wn=!0;const Hi=w,Oe=w;let Pt=!1;const nn=w;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.type){const Ae={};null===v?v=[Ae]:v.push(Ae),w++}else if(void 0!==B.type){let Ae=B.type;if("String"!==Ae&&"Text"!==Ae){const wt={};null===v?v=[wt]:v.push(wt),w++}}nn===w&&(Pt=!0);const Yt=w,we=w,Dt=w;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0===B.type){const Ae={};null===v?v=[Ae]:v.push(Ae),w++}var H;if(Dt===w){const Ae={};null===v?v=[Ae]:v.push(Ae),w++}else w=we,null!==v&&(we?v.length=we:v=null);if((H=Yt===w)&&Pt?Pt=!1:H&&(Pt=!0),Pt)w=Oe,null!==v&&(Oe?v.length=Oe:v=null);else{const Ae={};null===v?v=[Ae]:v.push(Ae),w++}var me=Hi===w;let sn;if(w=qo,null!==v&&(qo?v.length=qo:v=null),me){const Ae=w;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0!==B.placeholder&&"string"!=typeof B.placeholder){const vt={instancePath:y+"/"+q+"/placeholder",schemaPath:"#/allOf/0/items/allOf/3/then/properties/placeholder/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[vt]:v.push(vt),w++}wn=me=Ae===w,sn="then"}else{const Ae=w,wt=w,vt=w;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0===B.placeholder){const F={};null===v?v=[F]:v.push(F),w++}if(vt===w){const F={instancePath:y+"/"+q,schemaPath:"#/allOf/0/items/allOf/3/else/not",keyword:"not",params:{},message:"must NOT be valid"};null===v?v=[F]:v.push(F),w++}else w=wt,null!==v&&(wt?v.length=wt:v=null);wn=me=Ae===w,sn="else"}if(!wn){const Ae={instancePath:y+"/"+q,schemaPath:"#/allOf/0/items/allOf/3/if",keyword:"if",params:{failingKeyword:sn},message:'must match "'+sn+'" schema'};null===v?v=[Ae]:v.push(Ae),w++}if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0!==B.value){let Ae=B.value;if("string"!=typeof Ae&&"number"!=typeof Ae&&"boolean"!=typeof Ae){const wt={instancePath:y+"/"+q+"/value",schemaPath:"#/allOf/0/items/properties/value/type",keyword:"type",params:{type:l.allOf[0].items.properties.value.type},message:"must be string,number,boolean"};null===v?v=[wt]:v.push(wt),w++}}if(void 0!==B.description&&"string"!=typeof B.description){const Ae={instancePath:y+"/"+q+"/description",schemaPath:"#/allOf/0/items/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[Ae]:v.push(Ae),w++}if(void 0!==B.label&&"string"!=typeof B.label){const Ae={instancePath:y+"/"+q+"/label",schemaPath:"#/allOf/0/items/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[Ae]:v.push(Ae),w++}if(void 0!==B.type&&"string"!=typeof B.type){const Ae={instancePath:y+"/"+q+"/type",schemaPath:"#/allOf/0/items/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[Ae]:v.push(Ae),w++}if(void 0!==B.editable&&"boolean"!=typeof B.editable){const Ae={instancePath:y+"/"+q+"/editable",schemaPath:"#/allOf/0/items/properties/editable/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===v?v=[Ae]:v.push(Ae),w++}if(void 0!==B.choices){let Ae=B.choices;if(Array.isArray(Ae)){const wt=Ae.length;for(let vt=0;vt<wt;vt++){let Q=Ae[vt];if(Q&&"object"==typeof Q&&!Array.isArray(Q)){if(void 0===Q.value){const F={instancePath:y+"/"+q+"/choices/"+vt,schemaPath:"#/allOf/0/items/properties/choices/items/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===v?v=[F]:v.push(F),w++}if(void 0===Q.name){const F={instancePath:y+"/"+q+"/choices/"+vt,schemaPath:"#/allOf/0/items/properties/choices/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===v?v=[F]:v.push(F),w++}if(void 0!==Q.name&&"string"!=typeof Q.name){const F={instancePath:y+"/"+q+"/choices/"+vt+"/name",schemaPath:"#/allOf/0/items/properties/choices/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[F]:v.push(F),w++}if(void 0!==Q.value&&"string"!=typeof Q.value){const F={instancePath:y+"/"+q+"/choices/"+vt+"/value",schemaPath:"#/allOf/0/items/properties/choices/items/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[F]:v.push(F),w++}void 0!==Q.condition&&(d(Q.condition,{instancePath:y+"/"+q+"/choices/"+vt+"/condition",parentData:Q,parentDataProperty:"condition",rootData:S})||(v=null===v?d.errors:v.concat(d.errors),w=v.length))}else{const F={instancePath:y+"/"+q+"/choices/"+vt,schemaPath:"#/allOf/0/items/properties/choices/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[F]:v.push(F),w++}if(w>0){const F={required:[]},xe={};for(const qe of v)"errorMessage"!==qe.keyword&&!qe.emUsed&&qe.instancePath===y+"/"+q+"/choices/"+vt&&qe.keyword in F&&0===qe.schemaPath.indexOf("#/allOf/0/items/properties/choices/items")&&/^\/[^\/]*$/.test(qe.schemaPath.slice(40))&&(F[qe.keyword].push(qe),qe.emUsed=!0);for(const qe in F)if(F[qe].length){const nt={instancePath:y+"/"+q+"/choices/"+vt,schemaPath:"#/allOf/0/items/properties/choices/items/errorMessage",keyword:"errorMessage",params:{errors:F[qe]},message:qe in xe?xe[qe]():l.allOf[0].items.properties.choices.items.errorMessage[qe]};null===v?v=[nt]:v.push(nt),w++}const Fe=[];for(const qe of v)qe.emUsed||Fe.push(qe);v=Fe,w=Fe.length}}}else{const wt={instancePath:y+"/"+q+"/choices",schemaPath:"#/allOf/0/items/properties/choices/type",keyword:"type",params:{type:"array"},message:"must be array"};null===v?v=[wt]:v.push(wt),w++}}if(void 0!==B.constraints){let Ae=B.constraints;if(Ae&&"object"==typeof Ae&&!Array.isArray(Ae)){if(void 0!==Ae.notEmpty&&"boolean"!=typeof Ae.notEmpty){const wt={instancePath:y+"/"+q+"/constraints/notEmpty",schemaPath:"#/allOf/0/items/properties/constraints/properties/notEmpty/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===v?v=[wt]:v.push(wt),w++}if(void 0!==Ae.minLength&&"number"!=typeof Ae.minLength){const wt={instancePath:y+"/"+q+"/constraints/minLength",schemaPath:"#/allOf/0/items/properties/constraints/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===v?v=[wt]:v.push(wt),w++}if(void 0!==Ae.maxLength&&"number"!=typeof Ae.maxLength){const wt={instancePath:y+"/"+q+"/constraints/maxLength",schemaPath:"#/allOf/0/items/properties/constraints/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===v?v=[wt]:v.push(wt),w++}if(void 0!==Ae.pattern){let wt=Ae.pattern;const vt=w;let Q=!1,F=null;const xe=w;if(wt&&"object"==typeof wt&&!Array.isArray(wt)){if(void 0!==wt.value&&"string"!=typeof wt.value){const qe={instancePath:y+"/"+q+"/constraints/pattern/value",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[qe]:v.push(qe),w++}if(void 0!==wt.message&&"string"!=typeof wt.message){const qe={instancePath:y+"/"+q+"/constraints/pattern/message",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/properties/message/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[qe]:v.push(qe),w++}}else{const qe={instancePath:y+"/"+q+"/constraints/pattern",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[qe]:v.push(qe),w++}xe===w&&(Q=!0,F=0);const Fe=w;if("string"!=typeof wt){const qe={instancePath:y+"/"+q+"/constraints/pattern",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[qe]:v.push(qe),w++}var De;if((De=Fe===w)&&Q?(Q=!1,F=[F,1]):De&&(Q=!0,F=1),Q)w=vt,null!==v&&(vt?v.length=vt:v=null);else{const qe={instancePath:y+"/"+q+"/constraints/pattern",schemaPath:"#/allOf/0/items/properties/constraints/properties/pattern/oneOf",keyword:"oneOf",params:{passingSchemas:F},message:"must match exactly one schema in oneOf"};null===v?v=[qe]:v.push(qe),w++}}}else{const wt={instancePath:y+"/"+q+"/constraints",schemaPath:"#/allOf/0/items/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[wt]:v.push(wt),w++}}if(void 0!==B.group&&"string"!=typeof B.group){const Ae={instancePath:y+"/"+q+"/group",schemaPath:"#/allOf/0/items/properties/group/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[Ae]:v.push(Ae),w++}}else{const Ae={instancePath:y+"/"+q,schemaPath:"#/allOf/0/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[Ae]:v.push(Ae),w++}}}else{const rn={instancePath:y,schemaPath:"#/allOf/0/type",keyword:"type",params:{type:"array"},message:"must be array"};null===v?v=[rn]:v.push(rn),w++}if(Array.isArray(m)){const rn=m.length;for(let q=0;q<rn;q++){let B=m[q];const zt=w;let yt=!0;const X=w;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.binding){const Z={};null===v?v=[Z]:v.push(Z),w++}else if(void 0!==B.binding){let Z=B.binding;if(Z&&"object"==typeof Z&&!Array.isArray(Z))if(void 0===Z.type){const lt={};null===v?v=[lt]:v.push(lt),w++}else if(void 0!==Z.type&&"property"!==Z.type){const lt={};null===v?v=[lt]:v.push(lt),w++}}var ye=X===w;if(w=zt,null!==v&&(zt?v.length=zt:v=null),ye){const Z=w;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0!==B.type){let bt=B.type;if("String"!==bt&&"Text"!==bt&&"Hidden"!==bt&&"Dropdown"!==bt&&"Boolean"!==bt&&"Number"!==bt){const Ye={instancePath:y+"/"+q+"/type",schemaPath:"#/allOf/1/items/allOf/0/then/properties/type/enum",keyword:"enum",params:{allowedValues:l.allOf[1].items.allOf[0].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===v?v=[Ye]:v.push(Ye),w++}if(w>0){const Ye=[];for(const Ct of v)"errorMessage"!==Ct.keyword&&!Ct.emUsed&&(Ct.instancePath===y+"/"+q+"/type"||0===Ct.instancePath.indexOf(y+"/"+q+"/type")&&"/"===Ct.instancePath[y+"/"+q+5])&&0===Ct.schemaPath.indexOf("#/allOf/1/items/allOf/0/then/properties/type")&&"/"===Ct.schemaPath[44]&&(Ye.push(Ct),Ct.emUsed=!0);if(Ye.length){const Ct={instancePath:y+"/"+q+"/type",schemaPath:"#/allOf/1/items/allOf/0/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Ye},message:"invalid property type "+JSON.stringify(bt)+' for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean, Number }'};null===v?v=[Ct]:v.push(Ct),w++}const kt=[];for(const Ct of v)Ct.emUsed||kt.push(Ct);v=kt,w=kt.length}}yt=ye=Z===w}if(!yt){const Z={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Z]:v.push(Z),w++}const le=w;let li=!0;const Rr=w;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.binding){const Z={};null===v?v=[Z]:v.push(Z),w++}else if(void 0!==B.binding){let Z=B.binding;if(Z&&"object"==typeof Z&&!Array.isArray(Z))if(void 0===Z.type){const lt={};null===v?v=[lt]:v.push(lt),w++}else if(void 0!==Z.type){let lt=Z.type;if("zeebe:input"!==lt&&"zeebe:output"!==lt&&"zeebe:property"!==lt&&"zeebe:taskHeader"!==lt&&"zeebe:taskDefinition:type"!==lt&&"bpmn:Message#property"!==lt&&"bpmn:Message#zeebe:subscription#property"!==lt&&"zeebe:taskDefinition"!==lt&&"zeebe:calledElement"!==lt&&"zeebe:linkedResource"!==lt){const bt={};null===v?v=[bt]:v.push(bt),w++}}}var at=Rr===w;if(w=le,null!==v&&(le?v.length=le:v=null),at){const Z=w;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0!==B.type){let bt=B.type;if("String"!==bt&&"Text"!==bt&&"Hidden"!==bt&&"Dropdown"!==bt&&"Boolean"!==bt&&"Number"!==bt){const Ye={instancePath:y+"/"+q+"/type",schemaPath:"#/allOf/1/items/allOf/1/then/properties/type/enum",keyword:"enum",params:{allowedValues:l.allOf[1].items.allOf[1].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===v?v=[Ye]:v.push(Ye),w++}if(w>0){const Ye=[];for(const Ct of v)"errorMessage"!==Ct.keyword&&!Ct.emUsed&&(Ct.instancePath===y+"/"+q+"/type"||0===Ct.instancePath.indexOf(y+"/"+q+"/type")&&"/"===Ct.instancePath[y+"/"+q+5])&&0===Ct.schemaPath.indexOf("#/allOf/1/items/allOf/1/then/properties/type")&&"/"===Ct.schemaPath[44]&&(Ye.push(Ct),Ct.emUsed=!0);if(Ye.length){const Ct={instancePath:y+"/"+q+"/type",schemaPath:"#/allOf/1/items/allOf/1/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Ye},message:"invalid property type "+JSON.stringify(bt)+" for binding type "+JSON.stringify(B&&B.binding&&B.binding.type)+"; must be any of { String, Text, Hidden, Dropdown, Boolean, Number }"};null===v?v=[Ct]:v.push(Ct),w++}const kt=[];for(const Ct of v)Ct.emUsed||kt.push(Ct);v=kt,w=kt.length}}li=at=Z===w}if(!li){const Z={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/allOf/1/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Z]:v.push(Z),w++}const Qn=w;let $s=!0;const Ua=w;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.optional){const Z={};null===v?v=[Z]:v.push(Z),w++}else if(void 0!==B.optional&&!0!==B.optional){const Z={};null===v?v=[Z]:v.push(Z),w++}var _e=Ua===w;if(w=Qn,null!==v&&(Qn?v.length=Qn:v=null),_e){const Z=w;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0!==B.binding){let bt=B.binding;if(bt&&"object"==typeof bt&&!Array.isArray(bt)){if(void 0===bt.type){const Ye={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/allOf/2/then/properties/binding/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===v?v=[Ye]:v.push(Ye),w++}if(void 0!==bt.type){let Ye=bt.type;if("zeebe:input"!==Ye&&"zeebe:output"!==Ye&&"zeebe:property"!==Ye&&"zeebe:taskHeader"!==Ye){const kt={instancePath:y+"/"+q+"/binding/type",schemaPath:"#/allOf/1/items/allOf/2/then/properties/binding/properties/type/enum",keyword:"enum",params:{allowedValues:l.allOf[1].items.allOf[2].then.properties.binding.properties.type.enum},message:"must be equal to one of the allowed values"};null===v?v=[kt]:v.push(kt),w++}if(w>0){const kt=[];for(const qn of v)"errorMessage"!==qn.keyword&&!qn.emUsed&&(qn.instancePath===y+"/"+q+"/binding/type"||0===qn.instancePath.indexOf(y+"/"+q+"/binding/type")&&"/"===qn.instancePath[y+"/"+q+13])&&0===qn.schemaPath.indexOf("#/allOf/1/items/allOf/2/then/properties/binding/properties/type")&&"/"===qn.schemaPath[63]&&(kt.push(qn),qn.emUsed=!0);if(kt.length){const qn={instancePath:y+"/"+q+"/binding/type",schemaPath:"#/allOf/1/items/allOf/2/then/properties/binding/properties/type/errorMessage",keyword:"errorMessage",params:{errors:kt},message:"optional is not supported for binding type "+JSON.stringify(Ye)+"; must be any of { zeebe:input, zeebe:output, zeebe:property, zeebe:taskHeader }"};null===v?v=[qn]:v.push(qn),w++}const Ct=[];for(const qn of v)qn.emUsed||Ct.push(qn);v=Ct,w=Ct.length}}}}$s=_e=Z===w}if(!$s){const Z={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Z]:v.push(Z),w++}const qo=w;let wn=!0;const Hi=w;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.optional){const Z={};null===v?v=[Z]:v.push(Z),w++}else if(void 0!==B.optional&&!0!==B.optional){const Z={};null===v?v=[Z]:v.push(Z),w++}var be=Hi===w;if(w=qo,null!==v&&(qo?v.length=qo:v=null),be){const Z=w;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0!==B.constraints){let bt=B.constraints;if(bt&&"object"==typeof bt&&!Array.isArray(bt)){if(void 0===bt.notEmpty){const Ye={instancePath:y+"/"+q+"/constraints",schemaPath:"#/allOf/1/items/allOf/3/then/properties/constraints/required",keyword:"required",params:{missingProperty:"notEmpty"},message:"must have required property 'notEmpty'"};null===v?v=[Ye]:v.push(Ye),w++}if(void 0!==bt.notEmpty){if(!1!==bt.notEmpty){const Ye={instancePath:y+"/"+q+"/constraints/notEmpty",schemaPath:"#/allOf/1/items/allOf/3/then/properties/constraints/properties/notEmpty/const",keyword:"const",params:{allowedValue:!1},message:"must be equal to constant"};null===v?v=[Ye]:v.push(Ye),w++}if(w>0){const Ye=[];for(const Ct of v)"errorMessage"!==Ct.keyword&&!Ct.emUsed&&(Ct.instancePath===y+"/"+q+"/constraints/notEmpty"||0===Ct.instancePath.indexOf(y+"/"+q+"/constraints/notEmpty")&&"/"===Ct.instancePath[y+"/"+q+21])&&0===Ct.schemaPath.indexOf("#/allOf/1/items/allOf/3/then/properties/constraints/properties/notEmpty")&&"/"===Ct.schemaPath[71]&&(Ye.push(Ct),Ct.emUsed=!0);if(Ye.length){const Ct={instancePath:y+"/"+q+"/constraints/notEmpty",schemaPath:"#/allOf/1/items/allOf/3/then/properties/constraints/properties/notEmpty/errorMessage",keyword:"errorMessage",params:{errors:Ye},message:'optional is not allowed for truthy "notEmpty" constraint'};null===v?v=[Ct]:v.push(Ct),w++}const kt=[];for(const Ct of v)Ct.emUsed||kt.push(Ct);v=kt,w=kt.length}}}}wn=be=Z===w}if(!wn){const Z={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/allOf/3/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Z]:v.push(Z),w++}const Oe=w;let Pt=!0;const nn=w;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.feel){const Z={};null===v?v=[Z]:v.push(Z),w++}else if(void 0!==B.feel){const Z=w,lt=w;if(null!==B.feel){const bt={};null===v?v=[bt]:v.push(bt),w++}if(lt===w){const bt={};null===v?v=[bt]:v.push(bt),w++}else w=Z,null!==v&&(Z?v.length=Z:v=null)}var Pe=nn===w;if(w=Oe,null!==v&&(Oe?v.length=Oe:v=null),Pe){const Z=w;if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0===B.type){const bt={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/allOf/4/then/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===v?v=[bt]:v.push(bt),w++}if(void 0!==B.type){let bt=B.type;if("String"!==bt&&"Text"!==bt&&"Number"!==bt&&"Boolean"!==bt){const Ye={instancePath:y+"/"+q+"/type",schemaPath:"#/allOf/1/items/allOf/4/then/properties/type/enum",keyword:"enum",params:{allowedValues:l.allOf[1].items.allOf[4].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===v?v=[Ye]:v.push(Ye),w++}if(w>0){const Ye=[];for(const Ct of v)"errorMessage"!==Ct.keyword&&!Ct.emUsed&&(Ct.instancePath===y+"/"+q+"/type"||0===Ct.instancePath.indexOf(y+"/"+q+"/type")&&"/"===Ct.instancePath[y+"/"+q+5])&&0===Ct.schemaPath.indexOf("#/allOf/1/items/allOf/4/then/properties/type")&&"/"===Ct.schemaPath[44]&&(Ye.push(Ct),Ct.emUsed=!0);if(Ye.length){const Ct={instancePath:y+"/"+q+"/type",schemaPath:"#/allOf/1/items/allOf/4/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:Ye},message:'feel is only supported for "String", "Text", "Number" and "Boolean" type'};null===v?v=[Ct]:v.push(Ct),w++}const kt=[];for(const Ct of v)Ct.emUsed||kt.push(Ct);v=kt,w=kt.length}}}Pt=Pe=Z===w}if(!Pt){const Z={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/allOf/4/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Z]:v.push(Z),w++}const Yt=w;let we=!0;const Dt=w;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.language){const Z={};null===v?v=[Z]:v.push(Z),w++}else if(void 0!==B.language){const Z=w,lt=w;if(null!==B.language){const bt={};null===v?v=[bt]:v.push(bt),w++}if(lt===w){const bt={};null===v?v=[bt]:v.push(bt),w++}else w=Z,null!==v&&(Z?v.length=Z:v=null)}var ie=Dt===w;if(w=Yt,null!==v&&(Yt?v.length=Yt:v=null),ie){const Z=w;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0!==B.type){if("Text"!==B.type){const bt={instancePath:y+"/"+q+"/type",schemaPath:"#/allOf/1/items/allOf/5/then/properties/type/enum",keyword:"enum",params:{allowedValues:l.allOf[1].items.allOf[5].then.properties.type.enum},message:"must be equal to one of the allowed values"};null===v?v=[bt]:v.push(bt),w++}if(w>0){const bt=[];for(const kt of v)"errorMessage"!==kt.keyword&&!kt.emUsed&&(kt.instancePath===y+"/"+q+"/type"||0===kt.instancePath.indexOf(y+"/"+q+"/type")&&"/"===kt.instancePath[y+"/"+q+5])&&0===kt.schemaPath.indexOf("#/allOf/1/items/allOf/5/then/properties/type")&&"/"===kt.schemaPath[44]&&(bt.push(kt),kt.emUsed=!0);if(bt.length){const kt={instancePath:y+"/"+q+"/type",schemaPath:"#/allOf/1/items/allOf/5/then/properties/type/errorMessage",keyword:"errorMessage",params:{errors:bt},message:'language is only supported for "Text" type'};null===v?v=[kt]:v.push(kt),w++}const Ye=[];for(const kt of v)kt.emUsed||Ye.push(kt);v=Ye,w=Ye.length}}we=ie=Z===w}if(!we){const Z={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/allOf/5/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Z]:v.push(Z),w++}const sn=w;let Ae=!0;const wt=w;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0===B.value){const Z={};null===v?v=[Z]:v.push(Z),w++}var se=wt===w;if(w=sn,null!==v&&(sn?v.length=sn:v=null),se){const Z=w,lt=w,bt=w;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0===B.generatedValue){const kt={};null===v?v=[kt]:v.push(kt),w++}if(bt===w){const kt={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/allOf/6/then/not",keyword:"not",params:{},message:"must NOT be valid"};null===v?v=[kt]:v.push(kt),w++}else w=lt,null!==v&&(lt?v.length=lt:v=null);Ae=se=Z===w}if(!Ae){const Z={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/allOf/6/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Z]:v.push(Z),w++}const vt=w;let Q=!0;const F=w;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.type){const Z={};null===v?v=[Z]:v.push(Z),w++}else if(void 0!==B.type){let Z=B.type;if("Boolean"!==Z&&"Dropdown"!==Z){const lt={};null===v?v=[lt]:v.push(lt),w++}}var j=F===w;if(w=vt,null!==v&&(vt?v.length=vt:v=null),j){const Z=w,lt=w,bt=w;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0===B.generatedValue){const kt={};null===v?v=[kt]:v.push(kt),w++}if(bt===w){const kt={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/allOf/7/then/not",keyword:"not",params:{},message:"must NOT be valid"};null===v?v=[kt]:v.push(kt),w++}else w=lt,null!==v&&(lt?v.length=lt:v=null);Q=j=Z===w}if(!Q){const Z={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/allOf/7/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Z]:v.push(Z),w++}const xe=w;let Fe=!0;const qe=w;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.feel){const Z={};null===v?v=[Z]:v.push(Z),w++}else if(void 0!==B.type){let Z=B.type;if("String"!==Z&&"Text"!==Z){const lt={};null===v?v=[lt]:v.push(lt),w++}}var k=qe===w;if(w=xe,null!==v&&(xe?v.length=xe:v=null),k){const Z=w;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0!==B.feel){let bt=B.feel;if("optional"!==bt&&"required"!==bt){const Ye={instancePath:y+"/"+q+"/feel",schemaPath:"#/allOf/1/items/allOf/8/then/properties/feel/enum",keyword:"enum",params:{allowedValues:l.allOf[1].items.allOf[8].then.properties.feel.enum},message:"must be equal to one of the allowed values"};null===v?v=[Ye]:v.push(Ye),w++}}Fe=k=Z===w}if(!Fe){const Z={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/allOf/8/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Z]:v.push(Z),w++}const nt=w;let Qe=!0;const ht=w;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.feel){const Z={};null===v?v=[Z]:v.push(Z),w++}else if(void 0!==B.feel&&"required"!==B.feel){const Z={};null===v?v=[Z]:v.push(Z),w++}var ne=ht===w;if(w=nt,null!==v&&(nt?v.length=nt:v=null),ne){const Z=w;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0!==B.value&&"string"!=typeof B.value){const bt={instancePath:y+"/"+q+"/value",schemaPath:"#/allOf/1/items/allOf/9/then/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[bt]:v.push(bt),w++}Qe=ne=Z===w}if(!Qe){const Z={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/allOf/9/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Z]:v.push(Z),w++}const We=w;let dt=!0;const Ne=w;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.binding){const Z={};null===v?v=[Z]:v.push(Z),w++}else if(void 0!==B.binding){let Z=B.binding;if(Z&&"object"==typeof Z&&!Array.isArray(Z))if(void 0===Z.type){const lt={};null===v?v=[lt]:v.push(lt),w++}else if(void 0!==Z.type&&"zeebe:linkedResource"!==Z.type){const lt={};null===v?v=[lt]:v.push(lt),w++}}var re=Ne===w;if(w=We,null!==v&&(We?v.length=We:v=null),re){const Z=w;if(B&&"object"==typeof B&&!Array.isArray(B)&&void 0!==B.binding){let bt=B.binding;if(bt&&"object"==typeof bt&&!Array.isArray(bt)){if(void 0===bt.linkName){const Ye={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/allOf/10/then/properties/binding/required",keyword:"required",params:{missingProperty:"linkName"},message:"must have required property 'linkName'"};null===v?v=[Ye]:v.push(Ye),w++}if(void 0===bt.property){const Ye={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/allOf/10/then/properties/binding/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===v?v=[Ye]:v.push(Ye),w++}if(void 0!==bt.linkName&&"string"!=typeof bt.linkName){const Ye={instancePath:y+"/"+q+"/binding/linkName",schemaPath:"#/allOf/1/items/allOf/10/then/properties/binding/properties/linkName/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[Ye]:v.push(Ye),w++}if(void 0!==bt.property){let Ye=bt.property;if("resourceId"!==Ye&&"resourceType"!==Ye&&"bindingType"!==Ye&&"versionTag"!==Ye){const kt={instancePath:y+"/"+q+"/binding/property",schemaPath:"#/allOf/1/items/allOf/10/then/properties/binding/properties/property/enum",keyword:"enum",params:{allowedValues:l.allOf[1].items.allOf[10].then.properties.binding.properties.property.enum},message:"must be equal to one of the allowed values"};null===v?v=[kt]:v.push(kt),w++}if(w>0){const kt=[];for(const qn of v)"errorMessage"!==qn.keyword&&!qn.emUsed&&(qn.instancePath===y+"/"+q+"/binding/property"||0===qn.instancePath.indexOf(y+"/"+q+"/binding/property")&&"/"===qn.instancePath[y+"/"+q+17])&&0===qn.schemaPath.indexOf("#/allOf/1/items/allOf/10/then/properties/binding/properties/property")&&"/"===qn.schemaPath[68]&&(kt.push(qn),qn.emUsed=!0);if(kt.length){const qn={instancePath:y+"/"+q+"/binding/property",schemaPath:"#/allOf/1/items/allOf/10/then/properties/binding/properties/property/errorMessage",keyword:"errorMessage",params:{errors:kt},message:"invalid binding.property "+JSON.stringify(Ye)+"; must be any of { resourceId, resourceType, bindingType, versionTag }"};null===v?v=[qn]:v.push(qn),w++}const Ct=[];for(const qn of v)qn.emUsed||Ct.push(qn);v=Ct,w=Ct.length}}}}dt=re=Z===w}if(!dt){const Z={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/allOf/10/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Z]:v.push(Z),w++}const Tt=w;let mt=!0;const gt=w;if(B&&"object"==typeof B&&!Array.isArray(B))if(void 0===B.binding||void 0===B.type){const Z={};null===v?v=[Z]:v.push(Z),w++}else{if(void 0!==B.binding){let Z=B.binding;const lt=w;if(Z&&"object"==typeof Z&&!Array.isArray(Z))if(void 0===Z.type){const bt={};null===v?v=[bt]:v.push(bt),w++}else if(void 0!==Z.type){let bt=Z.type;if("zeebe:input"!==bt&&"zeebe:output"!==bt){const Ye={};null===v?v=[Ye]:v.push(Ye),w++}}var Se=lt===w}else Se=!0;if(Se)if(void 0!==B.type){let Z=B.type;const lt=w;if("Boolean"!==Z&&"Number"!==Z){const Ye={};null===v?v=[Ye]:v.push(Ye),w++}Se=lt===w}else Se=!0}var te=gt===w;if(w=Tt,null!==v&&(Tt?v.length=Tt:v=null),te&&(mt=te=w==w),!mt){const Z={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/allOf/11/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Z]:v.push(Z),w++}if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0===B.binding){const Z={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/required",keyword:"required",params:{missingProperty:"binding"},message:"must have required property 'binding'"};null===v?v=[Z]:v.push(Z),w++}if(void 0!==B.binding){let Z=B.binding;const lt=w;let bt=!0;const Ye=w;if(Z&&"object"==typeof Z&&!Array.isArray(Z))if(void 0===Z.type){const It={};null===v?v=[It]:v.push(It),w++}else if(void 0!==Z.type){let It=Z.type;if("property"!==It&&"zeebe:property"!==It&&"zeebe:input"!==It&&"bpmn:Message#property"!==It&&"bpmn:Message#zeebe:subscription#property"!==It){const gi={};null===v?v=[gi]:v.push(gi),w++}}var Ke=Ye===w;if(w=lt,null!==v&&(lt?v.length=lt:v=null),Ke){const It=w;if(Z&&"object"==typeof Z&&!Array.isArray(Z)&&void 0===Z.name){const Ur={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/0/then/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===v?v=[Ur]:v.push(Ur),w++}if(w>0){const Ur=[];for(const vn of v)"errorMessage"!==vn.keyword&&!vn.emUsed&&(vn.instancePath===y+"/"+q+"/binding"||0===vn.instancePath.indexOf(y+"/"+q+"/binding")&&"/"===vn.instancePath[y+"/"+q+8])&&0===vn.schemaPath.indexOf("#/allOf/1/items/properties/binding/allOf/0/then")&&"/"===vn.schemaPath[47]&&(Ur.push(vn),vn.emUsed=!0);if(Ur.length){const vn={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/0/then/errorMessage",keyword:"errorMessage",params:{errors:Ur},message:"property.binding "+JSON.stringify(Z&&Z.type)+" requires name"};null===v?v=[vn]:v.push(vn),w++}const Xi=[];for(const vn of v)vn.emUsed||Xi.push(vn);v=Xi,w=Xi.length}bt=Ke=It===w}if(!bt){const It={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[It]:v.push(It),w++}const kt=w;let Ct=!0;const qn=w;if(Z&&"object"==typeof Z&&!Array.isArray(Z))if(void 0===Z.type){const It={};null===v?v=[It]:v.push(It),w++}else if(void 0!==Z.type&&"zeebe:output"!==Z.type){const It={};null===v?v=[It]:v.push(It),w++}var rt=qn===w;if(w=kt,null!==v&&(kt?v.length=kt:v=null),rt){const It=w;if(Z&&"object"==typeof Z&&!Array.isArray(Z)&&void 0===Z.source){const Ur={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/1/then/required",keyword:"required",params:{missingProperty:"source"},message:"must have required property 'source'"};null===v?v=[Ur]:v.push(Ur),w++}if(w>0){const Ur=[];for(const vn of v)"errorMessage"!==vn.keyword&&!vn.emUsed&&(vn.instancePath===y+"/"+q+"/binding"||0===vn.instancePath.indexOf(y+"/"+q+"/binding")&&"/"===vn.instancePath[y+"/"+q+8])&&0===vn.schemaPath.indexOf("#/allOf/1/items/properties/binding/allOf/1/then")&&"/"===vn.schemaPath[47]&&(Ur.push(vn),vn.emUsed=!0);if(Ur.length){const vn={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/1/then/errorMessage",keyword:"errorMessage",params:{errors:Ur},message:"property.binding "+JSON.stringify(Z&&Z.type)+" requires source"};null===v?v=[vn]:v.push(vn),w++}const Xi=[];for(const vn of v)vn.emUsed||Xi.push(vn);v=Xi,w=Xi.length}Ct=rt=It===w}if(!Ct){const It={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/1/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[It]:v.push(It),w++}const Lt=w;let Le=!0;const it=w;if(Z&&"object"==typeof Z&&!Array.isArray(Z))if(void 0===Z.type){const It={};null===v?v=[It]:v.push(It),w++}else if(void 0!==Z.type&&"zeebe:taskHeader"!==Z.type){const It={};null===v?v=[It]:v.push(It),w++}var Bt=it===w;if(w=Lt,null!==v&&(Lt?v.length=Lt:v=null),Bt){const It=w;if(Z&&"object"==typeof Z&&!Array.isArray(Z)&&void 0===Z.key){const Ur={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/2/then/required",keyword:"required",params:{missingProperty:"key"},message:"must have required property 'key'"};null===v?v=[Ur]:v.push(Ur),w++}if(w>0){const Ur=[];for(const vn of v)"errorMessage"!==vn.keyword&&!vn.emUsed&&(vn.instancePath===y+"/"+q+"/binding"||0===vn.instancePath.indexOf(y+"/"+q+"/binding")&&"/"===vn.instancePath[y+"/"+q+8])&&0===vn.schemaPath.indexOf("#/allOf/1/items/properties/binding/allOf/2/then")&&"/"===vn.schemaPath[47]&&(Ur.push(vn),vn.emUsed=!0);if(Ur.length){const vn={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/2/then/errorMessage",keyword:"errorMessage",params:{errors:Ur},message:"property.binding "+JSON.stringify(Z&&Z.type)+" requires key"};null===v?v=[vn]:v.push(vn),w++}const Xi=[];for(const vn of v)vn.emUsed||Xi.push(vn);v=Xi,w=Xi.length}Le=Bt=It===w}if(!Le){const It={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[It]:v.push(It),w++}const Zt=w;let Wn=!0;const Qr=w;if(Z&&"object"==typeof Z&&!Array.isArray(Z))if(void 0===Z.type){const It={};null===v?v=[It]:v.push(It),w++}else if(void 0!==Z.type&&"zeebe:taskDefinition"!==Z.type){const It={};null===v?v=[It]:v.push(It),w++}var Kt=Qr===w;if(w=Zt,null!==v&&(Zt?v.length=Zt:v=null),Kt){const It=w;if(Z&&"object"==typeof Z&&!Array.isArray(Z)){if(void 0===Z.property){const Ur={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===v?v=[Ur]:v.push(Ur),w++}if(void 0!==Z.property){let Ur=Z.property;if("type"!==Ur&&"retries"!==Ur){const Xi={instancePath:y+"/"+q+"/binding/property",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/then/properties/property/enum",keyword:"enum",params:{allowedValues:l.allOf[1].items.properties.binding.allOf[3].then.properties.property.enum},message:"must be equal to one of the allowed values"};null===v?v=[Xi]:v.push(Xi),w++}}}Wn=Kt=It===w}if(!Wn){const It={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/3/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[It]:v.push(It),w++}const Vn=w;let ls=!0;const mi=w;if(Z&&"object"==typeof Z&&!Array.isArray(Z))if(void 0===Z.type){const It={};null===v?v=[It]:v.push(It),w++}else if(void 0!==Z.type&&"zeebe:calledElement"!==Z.type){const It={};null===v?v=[It]:v.push(It),w++}var ft=mi===w;if(w=Vn,null!==v&&(Vn?v.length=Vn:v=null),ft){const It=w;if(Z&&"object"==typeof Z&&!Array.isArray(Z)){if(void 0===Z.property){const Ur={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/5/then/required",keyword:"required",params:{missingProperty:"property"},message:"must have required property 'property'"};null===v?v=[Ur]:v.push(Ur),w++}if(void 0!==Z.property&&"processId"!==Z.property){const Ur={instancePath:y+"/"+q+"/binding/property",schemaPath:"#/allOf/1/items/properties/binding/allOf/5/then/properties/property/const",keyword:"const",params:{allowedValue:"processId"},message:"must be equal to constant"};null===v?v=[Ur]:v.push(Ur),w++}}ls=ft=It===w}if(!ls){const It={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/properties/binding/allOf/5/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[It]:v.push(It),w++}if(Z&&"object"==typeof Z&&!Array.isArray(Z)){if(void 0===Z.type){const It={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/properties/binding/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===v?v=[It]:v.push(It),w++}if(void 0!==Z.type){let It=Z.type;if("string"!=typeof It){const gi={instancePath:y+"/"+q+"/binding/type",schemaPath:"#/allOf/1/items/properties/binding/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[gi]:v.push(gi),w++}if("property"!==It&&"zeebe:taskDefinition:type"!==It&&"zeebe:input"!==It&&"zeebe:output"!==It&&"zeebe:property"!==It&&"zeebe:taskHeader"!==It&&"bpmn:Message#property"!==It&&"bpmn:Message#zeebe:subscription#property"!==It&&"zeebe:taskDefinition"!==It&&"zeebe:calledElement"!==It&&"zeebe:linkedResource"!==It){const gi={instancePath:y+"/"+q+"/binding/type",schemaPath:"#/allOf/1/items/properties/binding/properties/type/enum",keyword:"enum",params:{allowedValues:l.allOf[1].items.properties.binding.properties.type.enum},message:"must be equal to one of the allowed values"};null===v?v=[gi]:v.push(gi),w++}if(w>0){const gi=[];for(const Xi of v)"errorMessage"!==Xi.keyword&&!Xi.emUsed&&(Xi.instancePath===y+"/"+q+"/binding/type"||0===Xi.instancePath.indexOf(y+"/"+q+"/binding/type")&&"/"===Xi.instancePath[y+"/"+q+13])&&0===Xi.schemaPath.indexOf("#/allOf/1/items/properties/binding/properties/type")&&"/"===Xi.schemaPath[50]&&(gi.push(Xi),Xi.emUsed=!0);if(gi.length){const Xi={instancePath:y+"/"+q+"/binding/type",schemaPath:"#/allOf/1/items/properties/binding/properties/type/errorMessage",keyword:"errorMessage",params:{errors:gi},message:"invalid property.binding type "+JSON.stringify(It)+"; must be any of { property, zeebe:taskDefinition:type, zeebe:input, zeebe:output, zeebe:property, zeebe:taskHeader, bpmn:Message#property, bpmn:Message#zeebe:subscription#property, zeebe:taskDefinition, zeebe:calledElement, zeebe:linkedResource }"};null===v?v=[Xi]:v.push(Xi),w++}const Ur=[];for(const Xi of v)Xi.emUsed||Ur.push(Xi);v=Ur,w=Ur.length}}if(void 0!==Z.name&&"string"!=typeof Z.name){const It={instancePath:y+"/"+q+"/binding/name",schemaPath:"#/allOf/1/items/properties/binding/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[It]:v.push(It),w++}if(void 0!==Z.source&&"string"!=typeof Z.source){const It={instancePath:y+"/"+q+"/binding/source",schemaPath:"#/allOf/1/items/properties/binding/properties/source/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[It]:v.push(It),w++}if(void 0!==Z.key&&"string"!=typeof Z.key){const It={instancePath:y+"/"+q+"/binding/key",schemaPath:"#/allOf/1/items/properties/binding/properties/key/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[It]:v.push(It),w++}if(void 0!==Z.property&&"string"!=typeof Z.property){const It={instancePath:y+"/"+q+"/binding/property",schemaPath:"#/allOf/1/items/properties/binding/properties/property/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[It]:v.push(It),w++}if(void 0!==Z.linkName&&"string"!=typeof Z.linkName){const It={instancePath:y+"/"+q+"/binding/linkName",schemaPath:"#/allOf/1/items/properties/binding/properties/linkName/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[It]:v.push(It),w++}}else{const It={instancePath:y+"/"+q+"/binding",schemaPath:"#/allOf/1/items/properties/binding/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[It]:v.push(It),w++}}if(void 0!==B.optional&&"boolean"!=typeof B.optional){const Z={instancePath:y+"/"+q+"/optional",schemaPath:"#/allOf/1/items/properties/optional/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===v?v=[Z]:v.push(Z),w++}if(void 0!==B.feel){let Z=B.feel;if("string"!=typeof Z){const lt={instancePath:y+"/"+q+"/feel",schemaPath:"#/allOf/1/items/properties/feel/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[lt]:v.push(lt),w++}if("optional"!==Z&&"required"!==Z&&"static"!==Z){const lt={instancePath:y+"/"+q+"/feel",schemaPath:"#/allOf/1/items/properties/feel/enum",keyword:"enum",params:{allowedValues:l.allOf[1].items.properties.feel.enum},message:"must be equal to one of the allowed values"};null===v?v=[lt]:v.push(lt),w++}}if(void 0!==B.language&&"string"!=typeof B.language){const Z={instancePath:y+"/"+q+"/language",schemaPath:"#/allOf/1/items/properties/language/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[Z]:v.push(Z),w++}if(void 0!==B.generatedValue){let Z=B.generatedValue;if(Z&&"object"==typeof Z&&!Array.isArray(Z)){if(void 0===Z.type){const lt={instancePath:y+"/"+q+"/generatedValue",schemaPath:"#/allOf/1/items/properties/generatedValue/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===v?v=[lt]:v.push(lt),w++}if(void 0!==Z.type&&"uuid"!==Z.type){const lt={instancePath:y+"/"+q+"/generatedValue/type",schemaPath:"#/allOf/1/items/properties/generatedValue/properties/type/const",keyword:"const",params:{allowedValue:"uuid"},message:"must be equal to constant"};null===v?v=[lt]:v.push(lt),w++}}else{const lt={instancePath:y+"/"+q+"/generatedValue",schemaPath:"#/allOf/1/items/properties/generatedValue/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[lt]:v.push(lt),w++}}if(void 0!==B.tooltip&&"string"!=typeof B.tooltip){const Z={instancePath:y+"/"+q+"/tooltip",schemaPath:"#/allOf/1/items/properties/tooltip/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[Z]:v.push(Z),w++}}else{const Z={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[Z]:v.push(Z),w++}if(w>0){const Z={required:{binding:[]}},lt={required:{binding:function(){return'missing binding for property "'+JSON.stringify(q)+'"'}}};let bt,Ye;for(const Ct of v)"errorMessage"!==Ct.keyword&&!Ct.emUsed&&Ct.instancePath===y+"/"+q&&Ct.keyword in Z&&0===Ct.schemaPath.indexOf("#/allOf/1/items")&&/^\/[^\/]*$/.test(Ct.schemaPath.slice(15))&&(bt=o[Ct.keyword],Ye=Z[Ct.keyword][Ct.params[bt]],Ye&&(Ye.push(Ct),Ct.emUsed=!0));for(const Ct in Z)for(const qn in Z[Ct])if(Ye=Z[Ct][qn],Ye.length){const Lt=lt[Ct]&&lt[Ct][qn],Le={instancePath:y+"/"+q,schemaPath:"#/allOf/1/items/errorMessage",keyword:"errorMessage",params:{errors:Ye},message:Lt?Lt():l.allOf[1].items.errorMessage[Ct][qn]};null===v?v=[Le]:v.push(Le),w++}const kt=[];for(const Ct of v)Ct.emUsed||kt.push(Ct);v=kt,w=kt.length}}}else{const rn={instancePath:y,schemaPath:"#/allOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===v?v=[rn]:v.push(rn),w++}return p.errors=v,0===w}function f(m,{instancePath:y="",rootData:S=m}={}){let v=null,w=0;if(m&&"object"==typeof m&&!Array.isArray(m)){if(void 0===m.name){const Y={instancePath:y,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===v?v=[Y]:v.push(Y),w++}if(void 0===m.id){const Y={instancePath:y,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'"};null===v?v=[Y]:v.push(Y),w++}if(void 0===m.appliesTo){const Y={instancePath:y,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:"appliesTo"},message:"must have required property 'appliesTo'"};null===v?v=[Y]:v.push(Y),w++}if(void 0===m.properties){const Y={instancePath:y,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:"properties"},message:"must have required property 'properties'"};null===v?v=[Y]:v.push(Y),w++}if(void 0!==m.name&&"string"!=typeof m.name){const Y={instancePath:y+"/name",schemaPath:"#/allOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[Y]:v.push(Y),w++}if(void 0!==m.id&&"string"!=typeof m.id){const Y={instancePath:y+"/id",schemaPath:"#/allOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[Y]:v.push(Y),w++}if(void 0!==m.description&&"string"!=typeof m.description){const Y={instancePath:y+"/description",schemaPath:"#/allOf/0/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[Y]:v.push(Y),w++}if(void 0!==m.version){let Y=m.version;if("number"!=typeof Y||Y%1||isNaN(Y)){const ie={instancePath:y+"/version",schemaPath:"#/allOf/0/properties/version/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===v?v=[ie]:v.push(ie),w++}}if(void 0!==m.isDefault&&"boolean"!=typeof m.isDefault){const Y={instancePath:y+"/isDefault",schemaPath:"#/allOf/0/properties/isDefault/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===v?v=[Y]:v.push(Y),w++}if(void 0!==m.deprecated){let Y=m.deprecated;if("boolean"!=typeof Y&&(!Y||"object"!=typeof Y||Array.isArray(Y))){const ie={instancePath:y+"/deprecated",schemaPath:"#/allOf/0/properties/deprecated/type",keyword:"type",params:{type:t.allOf[0].properties.deprecated.type},message:"must be boolean,object"};null===v?v=[ie]:v.push(ie),w++}if(Y&&"object"==typeof Y&&!Array.isArray(Y)){if(void 0!==Y.message&&"string"!=typeof Y.message){const ie={instancePath:y+"/deprecated/message",schemaPath:"#/allOf/0/properties/deprecated/properties/message/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[ie]:v.push(ie),w++}if(void 0!==Y.documentationRef){let ie=Y.documentationRef;if("string"==typeof ie){if(!n.test(ie)){const se={instancePath:y+"/deprecated/documentationRef",schemaPath:"#/allOf/0/properties/deprecated/properties/documentationRef/pattern",keyword:"pattern",params:{pattern:"^(https|http)://.*"},message:'must match pattern "^(https|http)://.*"'};null===v?v=[se]:v.push(se),w++}}else{const se={instancePath:y+"/deprecated/documentationRef",schemaPath:"#/allOf/0/properties/deprecated/properties/documentationRef/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[se]:v.push(se),w++}}}}if(void 0!==m.appliesTo){let Y=m.appliesTo;if(Array.isArray(Y)){const ie=Y.length;for(let se=0;se<ie;se++){let $e=Y[se];if("string"==typeof $e){if(!i.test($e)){const j={instancePath:y+"/appliesTo/"+se,schemaPath:"#/allOf/0/properties/appliesTo/items/pattern",keyword:"pattern",params:{pattern:"^[\\w\\d]+:[\\w\\d]+$"},message:'must match pattern "^[\\w\\d]+:[\\w\\d]+$"'};null===v?v=[j]:v.push(j),w++}}else{const j={instancePath:y+"/appliesTo/"+se,schemaPath:"#/allOf/0/properties/appliesTo/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[j]:v.push(j),w++}if(w>0){const j={pattern:[]},M={};for(const ne of v)"errorMessage"!==ne.keyword&&!ne.emUsed&&ne.instancePath===y+"/appliesTo/"+se&&ne.keyword in j&&0===ne.schemaPath.indexOf("#/allOf/0/properties/appliesTo/items")&&/^\/[^\/]*$/.test(ne.schemaPath.slice(36))&&(j[ne.keyword].push(ne),ne.emUsed=!0);for(const ne in j)if(j[ne].length){const re={instancePath:y+"/appliesTo/"+se,schemaPath:"#/allOf/0/properties/appliesTo/items/errorMessage",keyword:"errorMessage",params:{errors:j[ne]},message:ne in M?M[ne]():t.allOf[0].properties.appliesTo.items.errorMessage[ne]};null===v?v=[re]:v.push(re),w++}const k=[];for(const ne of v)ne.emUsed||k.push(ne);v=k,w=k.length}}}else{const ie={instancePath:y+"/appliesTo",schemaPath:"#/allOf/0/properties/appliesTo/type",keyword:"type",params:{type:"array"},message:"must be array"};null===v?v=[ie]:v.push(ie),w++}}if(void 0!==m.elementType){let Y=m.elementType;if(Y&&"object"==typeof Y&&!Array.isArray(Y)){if(void 0===Y.value){const ie={instancePath:y+"/elementType",schemaPath:"#/allOf/0/properties/elementType/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===v?v=[ie]:v.push(ie),w++}if(void 0!==Y.value){let ie=Y.value;if("string"==typeof ie){if(!i.test(ie)){const se={instancePath:y+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/pattern",keyword:"pattern",params:{pattern:"^[\\w\\d]+:[\\w\\d]+$"},message:'must match pattern "^[\\w\\d]+:[\\w\\d]+$"'};null===v?v=[se]:v.push(se),w++}}else{const se={instancePath:y+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[se]:v.push(se),w++}if(w>0){const se={pattern:[]},$e={};for(const M of v)"errorMessage"!==M.keyword&&!M.emUsed&&M.instancePath===y+"/elementType/value"&&M.keyword in se&&0===M.schemaPath.indexOf("#/allOf/0/properties/elementType/properties/value")&&/^\/[^\/]*$/.test(M.schemaPath.slice(49))&&(se[M.keyword].push(M),M.emUsed=!0);for(const M in se)if(se[M].length){const k={instancePath:y+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/errorMessage",keyword:"errorMessage",params:{errors:se[M]},message:M in $e?$e[M]():t.allOf[0].properties.elementType.properties.value.errorMessage[M]};null===v?v=[k]:v.push(k),w++}const j=[];for(const M of v)M.emUsed||j.push(M);v=j,w=j.length}}}else{const ie={instancePath:y+"/elementType",schemaPath:"#/allOf/0/properties/elementType/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[ie]:v.push(ie),w++}if(w>0){const ie={required:{value:[]}},se={required:{}};let $e,j;for(const k of v)"errorMessage"!==k.keyword&&!k.emUsed&&k.instancePath===y+"/elementType"&&k.keyword in ie&&0===k.schemaPath.indexOf("#/allOf/0/properties/elementType")&&/^\/[^\/]*$/.test(k.schemaPath.slice(32))&&($e=o[k.keyword],j=ie[k.keyword][k.params[$e]],j&&(j.push(k),k.emUsed=!0));for(const k in ie)for(const ne in ie[k])if(j=ie[k][ne],j.length){const re=se[k]&&se[k][ne],Se={instancePath:y+"/elementType",schemaPath:"#/allOf/0/properties/elementType/errorMessage",keyword:"errorMessage",params:{errors:j},message:re?re():t.allOf[0].properties.elementType.errorMessage[k][ne]};null===v?v=[Se]:v.push(Se),w++}const M=[];for(const k of v)k.emUsed||M.push(k);v=M,w=M.length}}if(void 0!==m.metadata){let Y=m.metadata;if(!Y||"object"!=typeof Y||Array.isArray(Y)){const ie={instancePath:y+"/metadata",schemaPath:"#/allOf/0/properties/metadata/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[ie]:v.push(ie),w++}}if(void 0!==m.entriesVisible&&"boolean"!=typeof m.entriesVisible){const Y={instancePath:y+"/entriesVisible",schemaPath:"#/allOf/0/properties/entriesVisible/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===v?v=[Y]:v.push(Y),w++}if(void 0!==m.groups){let Y=m.groups;if(Array.isArray(Y)){const ie=Y.length;for(let se=0;se<ie;se++){let $e=Y[se];if($e&&"object"==typeof $e&&!Array.isArray($e)){if(void 0===$e.id){const j={instancePath:y+"/groups/"+se,schemaPath:"#/allOf/0/properties/groups/items/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'"};null===v?v=[j]:v.push(j),w++}if(void 0===$e.label){const j={instancePath:y+"/groups/"+se,schemaPath:"#/allOf/0/properties/groups/items/required",keyword:"required",params:{missingProperty:"label"},message:"must have required property 'label'"};null===v?v=[j]:v.push(j),w++}if(void 0!==$e.id&&"string"!=typeof $e.id){const j={instancePath:y+"/groups/"+se+"/id",schemaPath:"#/allOf/0/properties/groups/items/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[j]:v.push(j),w++}if(void 0!==$e.label&&"string"!=typeof $e.label){const j={instancePath:y+"/groups/"+se+"/label",schemaPath:"#/allOf/0/properties/groups/items/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[j]:v.push(j),w++}}else{const j={instancePath:y+"/groups/"+se,schemaPath:"#/allOf/0/properties/groups/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[j]:v.push(j),w++}if(w>0){const j={required:{id:[],label:[]}},M={required:{id:function(){return'missing id for group "'+JSON.stringify(se)+'"'},label:function(){return'missing label for group "'+JSON.stringify(se)+'"'}}};let k,ne;for(const Se of v)"errorMessage"!==Se.keyword&&!Se.emUsed&&Se.instancePath===y+"/groups/"+se&&Se.keyword in j&&0===Se.schemaPath.indexOf("#/allOf/0/properties/groups/items")&&/^\/[^\/]*$/.test(Se.schemaPath.slice(33))&&(k=o[Se.keyword],ne=j[Se.keyword][Se.params[k]],ne&&(ne.push(Se),Se.emUsed=!0));for(const Se in j)for(const te in j[Se])if(ne=j[Se][te],ne.length){const Ke=M[Se]&&M[Se][te],rt={instancePath:y+"/groups/"+se,schemaPath:"#/allOf/0/properties/groups/items/errorMessage",keyword:"errorMessage",params:{errors:ne},message:Ke?Ke():t.allOf[0].properties.groups.items.errorMessage[Se][te]};null===v?v=[rt]:v.push(rt),w++}const re=[];for(const Se of v)Se.emUsed||re.push(Se);v=re,w=re.length}}}else{const ie={instancePath:y+"/groups",schemaPath:"#/allOf/0/properties/groups/type",keyword:"type",params:{type:"array"},message:"must be array"};null===v?v=[ie]:v.push(ie),w++}}if(void 0!==m.documentationRef){let Y=m.documentationRef;if("string"==typeof Y){if(!n.test(Y)){const ie={instancePath:y+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/pattern",keyword:"pattern",params:{pattern:"^(https|http)://.*"},message:'must match pattern "^(https|http)://.*"'};null===v?v=[ie]:v.push(ie),w++}}else{const ie={instancePath:y+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[ie]:v.push(ie),w++}if(w>0){const ie={pattern:[]},se={};for(const j of v)"errorMessage"!==j.keyword&&!j.emUsed&&j.instancePath===y+"/documentationRef"&&j.keyword in ie&&0===j.schemaPath.indexOf("#/allOf/0/properties/documentationRef")&&/^\/[^\/]*$/.test(j.schemaPath.slice(37))&&(ie[j.keyword].push(j),j.emUsed=!0);for(const j in ie)if(ie[j].length){const M={instancePath:y+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/errorMessage",keyword:"errorMessage",params:{errors:ie[j]},message:j in se?se[j]():t.allOf[0].properties.documentationRef.errorMessage[j]};null===v?v=[M]:v.push(M),w++}const $e=[];for(const j of v)j.emUsed||$e.push(j);v=$e,w=$e.length}}}if(w>0){const Y={required:{name:[],id:[],appliesTo:[],properties:[]}},ie={required:{}};let se,$e;for(const M of v)"errorMessage"!==M.keyword&&!M.emUsed&&M.instancePath===y&&M.keyword in Y&&0===M.schemaPath.indexOf("#/allOf/0")&&/^\/[^\/]*$/.test(M.schemaPath.slice(9))&&(se=o[M.keyword],$e=Y[M.keyword][M.params[se]],$e&&($e.push(M),M.emUsed=!0));for(const M in Y)for(const k in Y[M])if($e=Y[M][k],$e.length){const ne=ie[M]&&ie[M][k],re={instancePath:y,schemaPath:"#/allOf/0/errorMessage",keyword:"errorMessage",params:{errors:$e},message:ne?ne():t.allOf[0].errorMessage[M][k]};null===v?v=[re]:v.push(re),w++}const j=[];for(const M of v)M.emUsed||j.push(M);v=j,w=j.length}const g=w;let x=!0;const T=w;if(m&&"object"==typeof m&&!Array.isArray(m))if(void 0===m.properties){const Y={};null===v?v=[Y]:v.push(Y),w++}else if(void 0!==m.properties){let Y=m.properties;if(Array.isArray(Y)){const ie=w,se=Y.length;for(let $e=0;$e<se;$e++){let j=Y[$e];const M=w;if(j&&"object"==typeof j&&!Array.isArray(j))if(void 0===j.binding){const k={};null===v?v=[k]:v.push(k),w++}else if(void 0!==j.binding){let k=j.binding;if(k&&"object"==typeof k&&!Array.isArray(k))if(void 0===k.type){const ne={};null===v?v=[ne]:v.push(ne),w++}else if(void 0!==k.type&&"bpmn:Message#property"!==k.type){const ne={};null===v?v=[ne]:v.push(ne),w++}}var I=M===w;if(I)break}if(I)w=ie,null!==v&&(ie?v.length=ie:v=null);else{const $e={};null===v?v=[$e]:v.push($e),w++}}}var A=T===w;if(w=g,null!==v&&(g?v.length=g:v=null),A){const Y=w;if(m&&"object"==typeof m&&!Array.isArray(m)){if(void 0===m.elementType){const se={instancePath:y,schemaPath:"#/allOf/1/allOf/0/then/required",keyword:"required",params:{missingProperty:"elementType"},message:"must have required property 'elementType'"};null===v?v=[se]:v.push(se),w++}if(void 0!==m.elementType){let se=m.elementType;const $e=w;let j=!0;const M=w;if(se&&"object"==typeof se&&!Array.isArray(se)&&void 0!==se.value){let k=se.value;if("bpmn:StartEvent"!==k&&"bpmn:IntermediateCatchEvent"!==k&&"bpmn:IntermediateThrowEvent"!==k&&"bpmn:BoundaryEvent"!==k&&"bpmn:EndEvent"!==k){const ne={};null===v?v=[ne]:v.push(ne),w++}}var $=M===w;if(w=$e,null!==v&&($e?v.length=$e:v=null),$){const k=w;if(se&&"object"==typeof se&&!Array.isArray(se)&&void 0===se.eventDefinition){const re={instancePath:y+"/elementType",schemaPath:"#/allOf/1/allOf/0/then/properties/elementType/allOf/0/then/required",keyword:"required",params:{missingProperty:"eventDefinition"},message:"must have required property 'eventDefinition'"};null===v?v=[re]:v.push(re),w++}j=$=k===w}if(!j){const k={instancePath:y+"/elementType",schemaPath:"#/allOf/1/allOf/0/then/properties/elementType/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[k]:v.push(k),w++}if(se&&"object"==typeof se&&!Array.isArray(se)){if(void 0===se.value){const k={instancePath:y+"/elementType",schemaPath:"#/allOf/1/allOf/0/then/properties/elementType/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===v?v=[k]:v.push(k),w++}if(void 0!==se.value){let k=se.value;if("bpmn:ReceiveTask"!==k&&"bpmn:SendTask"!==k&&"bpmn:StartEvent"!==k&&"bpmn:IntermediateCatchEvent"!==k&&"bpmn:IntermediateThrowEvent"!==k&&"bpmn:BoundaryEvent"!==k&&"bpmn:EndEvent"!==k){const ne={instancePath:y+"/elementType/value",schemaPath:"#/allOf/1/allOf/0/then/properties/elementType/properties/value/enum",keyword:"enum",params:{allowedValues:t.allOf[1].allOf[0].then.properties.elementType.properties.value.enum},message:"must be equal to one of the allowed values"};null===v?v=[ne]:v.push(ne),w++}}}}}x=A=Y===w}if(!x){const Y={instancePath:y,schemaPath:"#/allOf/1/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Y]:v.push(Y),w++}const z=w;let K=!0;const U=w;if(m&&"object"==typeof m&&!Array.isArray(m))if(void 0===m.properties){const Y={};null===v?v=[Y]:v.push(Y),w++}else if(void 0!==m.properties){let Y=m.properties;if(Array.isArray(Y)){const ie=w,se=Y.length;for(let $e=0;$e<se;$e++){let j=Y[$e];const M=w;if(j&&"object"==typeof j&&!Array.isArray(j))if(void 0===j.binding){const k={};null===v?v=[k]:v.push(k),w++}else if(void 0!==j.binding){let k=j.binding;if(k&&"object"==typeof k&&!Array.isArray(k))if(void 0===k.type){const ne={};null===v?v=[ne]:v.push(ne),w++}else if(void 0!==k.type&&"bpmn:Message#zeebe:subscription#property"!==k.type){const ne={};null===v?v=[ne]:v.push(ne),w++}}var H=M===w;if(H)break}if(H)w=ie,null!==v&&(ie?v.length=ie:v=null);else{const $e={};null===v?v=[$e]:v.push($e),w++}}}var me=U===w;if(w=z,null!==v&&(z?v.length=z:v=null),me){const Y=w;if(m&&"object"==typeof m&&!Array.isArray(m)){if(void 0===m.elementType){const se={instancePath:y,schemaPath:"#/allOf/1/allOf/1/then/required",keyword:"required",params:{missingProperty:"elementType"},message:"must have required property 'elementType'"};null===v?v=[se]:v.push(se),w++}if(void 0!==m.elementType){let se=m.elementType;const $e=w;let j=!0;const M=w;if(se&&"object"==typeof se&&!Array.isArray(se)&&void 0!==se.value){let k=se.value;if("bpmn:StartEvent"!==k&&"bpmn:IntermediateCatchEvent"!==k&&"bpmn:IntermediateThrowEvent"!==k&&"bpmn:BoundaryEvent"!==k&&"bpmn:EndEvent"!==k){const ne={};null===v?v=[ne]:v.push(ne),w++}}var Re=M===w;if(w=$e,null!==v&&($e?v.length=$e:v=null),Re){const k=w;if(se&&"object"==typeof se&&!Array.isArray(se)&&void 0===se.eventDefinition){const re={instancePath:y+"/elementType",schemaPath:"#/allOf/1/allOf/1/then/properties/elementType/allOf/0/then/required",keyword:"required",params:{missingProperty:"eventDefinition"},message:"must have required property 'eventDefinition'"};null===v?v=[re]:v.push(re),w++}j=Re=k===w}if(!j){const k={instancePath:y+"/elementType",schemaPath:"#/allOf/1/allOf/1/then/properties/elementType/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[k]:v.push(k),w++}if(se&&"object"==typeof se&&!Array.isArray(se)){if(void 0===se.value){const k={instancePath:y+"/elementType",schemaPath:"#/allOf/1/allOf/1/then/properties/elementType/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===v?v=[k]:v.push(k),w++}if(void 0!==se.value){let k=se.value;if("bpmn:ReceiveTask"!==k&&"bpmn:StartEvent"!==k&&"bpmn:IntermediateCatchEvent"!==k&&"bpmn:IntermediateThrowEvent"!==k&&"bpmn:BoundaryEvent"!==k&&"bpmn:EndEvent"!==k){const ne={instancePath:y+"/elementType/value",schemaPath:"#/allOf/1/allOf/1/then/properties/elementType/properties/value/enum",keyword:"enum",params:{allowedValues:t.allOf[1].allOf[1].then.properties.elementType.properties.value.enum},message:"must be equal to one of the allowed values"};null===v?v=[ne]:v.push(ne),w++}}}}}K=me=Y===w}if(!K){const Y={instancePath:y,schemaPath:"#/allOf/1/allOf/1/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Y]:v.push(Y),w++}const De=w;let ye=!0;const at=w;if(m&&"object"==typeof m&&!Array.isArray(m))if(void 0===m.properties){const Y={};null===v?v=[Y]:v.push(Y),w++}else if(void 0!==m.properties){let Y=m.properties;if(Array.isArray(Y)){const ie=w,se=Y.length;for(let $e=0;$e<se;$e++){let j=Y[$e];const M=w;if(j&&"object"==typeof j&&!Array.isArray(j))if(void 0===j.binding){const k={};null===v?v=[k]:v.push(k),w++}else if(void 0!==j.binding){let k=j.binding;if(k&&"object"==typeof k&&!Array.isArray(k))if(void 0===k.type){const ne={};null===v?v=[ne]:v.push(ne),w++}else if(void 0!==k.type&&"zeebe:calledElement"!==k.type){const ne={};null===v?v=[ne]:v.push(ne),w++}}var _e=M===w;if(_e)break}if(_e)w=ie,null!==v&&(ie?v.length=ie:v=null);else{const $e={};null===v?v=[$e]:v.push($e),w++}}}var be=at===w;if(w=De,null!==v&&(De?v.length=De:v=null),be){const Y=w,ie=w;let se=!1;const $e=w;if(m&&"object"==typeof m&&!Array.isArray(m)){if(void 0===m.elementType){const M={instancePath:y,schemaPath:"#/allOf/1/allOf/2/then/anyOf/0/required",keyword:"required",params:{missingProperty:"elementType"},message:"must have required property 'elementType'"};null===v?v=[M]:v.push(M),w++}if(void 0!==m.elementType){let M=m.elementType;if(M&&"object"==typeof M&&!Array.isArray(M)){if(void 0===M.value){const k={instancePath:y+"/elementType",schemaPath:"#/allOf/1/allOf/2/then/anyOf/0/properties/elementType/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===v?v=[k]:v.push(k),w++}if(void 0!==M.value&&"bpmn:CallActivity"!==M.value){const k={instancePath:y+"/elementType/value",schemaPath:"#/allOf/1/allOf/2/then/anyOf/0/properties/elementType/properties/value/const",keyword:"const",params:{allowedValue:"bpmn:CallActivity"},message:"must be equal to constant"};null===v?v=[k]:v.push(k),w++}}}}var ke=$e===w;if(se=se||ke,!se){const M=w;if(m&&"object"==typeof m&&!Array.isArray(m)){if(void 0===m.appliesTo){const ne={instancePath:y,schemaPath:"#/allOf/1/allOf/2/then/anyOf/1/required",keyword:"required",params:{missingProperty:"appliesTo"},message:"must have required property 'appliesTo'"};null===v?v=[ne]:v.push(ne),w++}if(void 0!==m.appliesTo&&!a(m.appliesTo,t.allOf[1].allOf[2].then.anyOf[1].properties.appliesTo.const)){const ne={instancePath:y+"/appliesTo",schemaPath:"#/allOf/1/allOf/2/then/anyOf/1/properties/appliesTo/const",keyword:"const",params:{allowedValue:t.allOf[1].allOf[2].then.anyOf[1].properties.appliesTo.const},message:"must be equal to constant"};null===v?v=[ne]:v.push(ne),w++}}ke=M===w,se=se||ke}if(se)w=ie,null!==v&&(ie?v.length=ie:v=null);else{const M={instancePath:y,schemaPath:"#/allOf/1/allOf/2/then/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};null===v?v=[M]:v.push(M),w++}ye=be=Y===w}if(!ye){const Y={instancePath:y,schemaPath:"#/allOf/1/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[Y]:v.push(Y),w++}if(m&&"object"==typeof m&&!Array.isArray(m)){if(void 0!==m.properties&&(p(m.properties,{instancePath:y+"/properties",parentData:m,parentDataProperty:"properties",rootData:S})||(v=null===v?p.errors:v.concat(p.errors),w=v.length)),void 0!==m.engines){let Y=m.engines;if(Y&&"object"==typeof Y&&!Array.isArray(Y)){if(void 0!==Y.camunda&&"string"!=typeof Y.camunda){const ie={instancePath:y+"/engines/camunda",schemaPath:"#/properties/engines/properties/camunda/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[ie]:v.push(ie),w++}}else{const ie={instancePath:y+"/engines",schemaPath:"#/properties/engines/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[ie]:v.push(ie),w++}}if(void 0!==m.icon){let Y=m.icon;if(Y&&"object"==typeof Y&&!Array.isArray(Y)){if(void 0===Y.contents){const ie={instancePath:y+"/icon",schemaPath:"#/properties/icon/required",keyword:"required",params:{missingProperty:"contents"},message:"must have required property 'contents'"};null===v?v=[ie]:v.push(ie),w++}if(void 0!==Y.contents){let ie=Y.contents;if("string"==typeof ie){if(!s.test(ie)){const se={instancePath:y+"/icon/contents",schemaPath:"#/properties/icon/properties/contents/pattern",keyword:"pattern",params:{pattern:"^(https?|data):.*"},message:'must match pattern "^(https?|data):.*"'};null===v?v=[se]:v.push(se),w++}}else{const se={instancePath:y+"/icon/contents",schemaPath:"#/properties/icon/properties/contents/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[se]:v.push(se),w++}if(w>0){const se={pattern:[]},$e={};for(const M of v)"errorMessage"!==M.keyword&&!M.emUsed&&M.instancePath===y+"/icon/contents"&&M.keyword in se&&0===M.schemaPath.indexOf("#/properties/icon/properties/contents")&&/^\/[^\/]*$/.test(M.schemaPath.slice(37))&&(se[M.keyword].push(M),M.emUsed=!0);for(const M in se)if(se[M].length){const k={instancePath:y+"/icon/contents",schemaPath:"#/properties/icon/properties/contents/errorMessage",keyword:"errorMessage",params:{errors:se[M]},message:M in $e?$e[M]():t.properties.icon.properties.contents.errorMessage[M]};null===v?v=[k]:v.push(k),w++}const j=[];for(const M of v)M.emUsed||j.push(M);v=j,w=j.length}}}else{const ie={instancePath:y+"/icon",schemaPath:"#/properties/icon/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[ie]:v.push(ie),w++}if(w>0){const ie={required:{contents:[]}},se={required:{}};let $e,j;for(const k of v)"errorMessage"!==k.keyword&&!k.emUsed&&k.instancePath===y+"/icon"&&k.keyword in ie&&0===k.schemaPath.indexOf("#/properties/icon")&&/^\/[^\/]*$/.test(k.schemaPath.slice(17))&&($e=o[k.keyword],j=ie[k.keyword][k.params[$e]],j&&(j.push(k),k.emUsed=!0));for(const k in ie)for(const ne in ie[k])if(j=ie[k][ne],j.length){const re=se[k]&&se[k][ne],Se={instancePath:y+"/icon",schemaPath:"#/properties/icon/errorMessage",keyword:"errorMessage",params:{errors:j},message:re?re():t.properties.icon.errorMessage[k][ne]};null===v?v=[Se]:v.push(Se),w++}const M=[];for(const k of v)k.emUsed||M.push(k);v=M,w=M.length}}if(void 0!==m.elementType){let Y=m.elementType;if(Y&&"object"==typeof Y&&!Array.isArray(Y)&&void 0!==Y.eventDefinition&&"bpmn:MessageEventDefinition"!==Y.eventDefinition){const j={instancePath:y+"/elementType/eventDefinition",schemaPath:"#/properties/elementType/allOf/0/allOf/0/properties/eventDefinition/enum",keyword:"enum",params:{allowedValues:t.properties.elementType.allOf[0].allOf[0].properties.eventDefinition.enum},message:"must be equal to one of the allowed values"};null===v?v=[j]:v.push(j),w++}const ie=w;let se=!0;const $e=w;if(Y&&"object"==typeof Y&&!Array.isArray(Y)&&void 0===Y.eventDefinition){const j={};null===v?v=[j]:v.push(j),w++}var Pe=$e===w;if(w=ie,null!==v&&(ie?v.length=ie:v=null),Pe){const j=w;if(Y&&"object"==typeof Y&&!Array.isArray(Y)){if(void 0===Y.value){const k={instancePath:y+"/elementType",schemaPath:"#/properties/elementType/allOf/0/allOf/1/then/required",keyword:"required",params:{missingProperty:"value"},message:"must have required property 'value'"};null===v?v=[k]:v.push(k),w++}if(void 0!==Y.value){let k=Y.value;if("bpmn:StartEvent"!==k&&"bpmn:IntermediateCatchEvent"!==k&&"bpmn:IntermediateThrowEvent"!==k&&"bpmn:BoundaryEvent"!==k&&"bpmn:EndEvent"!==k){const ne={instancePath:y+"/elementType/value",schemaPath:"#/properties/elementType/allOf/0/allOf/1/then/properties/value/enum",keyword:"enum",params:{allowedValues:t.properties.elementType.allOf[0].allOf[1].then.properties.value.enum},message:"must be equal to one of the allowed values"};null===v?v=[ne]:v.push(ne),w++}}}se=Pe=j===w}if(!se){const j={instancePath:y+"/elementType",schemaPath:"#/properties/elementType/allOf/0/allOf/1/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};null===v?v=[j]:v.push(j),w++}}if(void 0!==m.groups){let Y=m.groups;if(Array.isArray(Y)){const ie=Y.length;for(let se=0;se<ie;se++){let $e=Y[se];if($e&&"object"==typeof $e&&!Array.isArray($e)){if(void 0!==$e.tooltip&&"string"!=typeof $e.tooltip){const j={instancePath:y+"/groups/"+se+"/tooltip",schemaPath:"#/properties/groups/items/properties/tooltip/type",keyword:"type",params:{type:"string"},message:"must be string"};null===v?v=[j]:v.push(j),w++}if(void 0!==$e.openByDefault&&"boolean"!=typeof $e.openByDefault){const j={instancePath:y+"/groups/"+se+"/openByDefault",schemaPath:"#/properties/groups/items/properties/openByDefault/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===v?v=[j]:v.push(j),w++}}}}}}else{const Y={instancePath:y,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===v?v=[Y]:v.push(Y),w++}return f.errors=v,0===w}function h(m,{instancePath:y="",parentData:E,parentDataProperty:_,rootData:S=m}={}){let v=null,w=0;const g=w;let x=!1,T=null;const I=w;f(m,{instancePath:y,parentData:E,parentDataProperty:_,rootData:S})||(v=null===v?f.errors:v.concat(f.errors),w=v.length),I===w&&(x=!0,T=0);const A=w;if(Array.isArray(m)){const z=m.length;for(let K=0;K<z;K++)f(m[K],{instancePath:y+"/"+K,parentData:m,parentDataProperty:K,rootData:S})||(v=null===v?f.errors:v.concat(f.errors),w=v.length)}else{const z={instancePath:y,schemaPath:"#/oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===v?v=[z]:v.push(z),w++}var $;if(($=A===w)&&x?(x=!1,T=[T,1]):$&&(x=!0,T=1),x)w=g,null!==v&&(g?v.length=g:v=null);else{const z={instancePath:y,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:T},message:"must match exactly one schema in oneOf"};null===v?v=[z]:v.push(z),w++}return h.errors=v,0===w}return FN.exports}());V(5324);const BN=t=>{const n=function z9t(t){return j9t.includes(t.binding.type)?t.feel||"static":t.feel}(t);return["optional","static"].includes(n)&&["Boolean","Number"].includes(t.type)},j9t=["zeebe:input","zeebe:output"],sDe=(t,n)=>"string"==typeof t&&t.startsWith("=")?t:"Boolean"===n?"="+!!(t="false"!==t&&t):typeof t>"u"?t:"="+t.toString(),$N="zeebe:modelerTemplate";function bc(t){const n=G(t);if(n)return n.get($N)}function oDe(t){const n=G(t);if(n)return n.get("zeebe:modelerTemplateVersion")}function es(t,n){const i=G(t);let s;if(s=D(i,"bpmn:ExtensionElements")?i:i.get("extensionElements"),s)return s.get("values").find(o=>D(o,n))}function aDe(t,n){return t.get("properties").find(i=>i.name===n.name)}function lDe(t,n){return t.get("inputParameters").find(s=>s.target===n.name)}function cDe(t,n){return t.get("outputParameters").find(s=>s.source===n.source)}function uDe(t,n){return t.get("values").find(s=>s.key===n.key)}function Ay(t){if(D(t,"bpmn:Event")){const n=t.get("eventDefinitions");if(!n||!n.length)return;t=n[0]}if(t)return t.get("messageRef")}function Da(t){if(BN(t))return sDe(t.value,t.type);if(void 0!==t.value)return t.value;if(t.generatedValue){const{type:n}=t.generatedValue;if("uuid"===n)return v9t()}}function JT(t){const n=G(t);if(n)return n.get("camunda:modelerTemplate")}let gDe=(()=>{let t=class{constructor(i,s,o,a,l){this._commandStack=i,this._eventBus=s,this._injector=a,this._modeling=o,this._templatesById={},this._templates=[],this._engines=this._coerceEngines((l=l||{}).engines||{}),s.on("elementTemplates.engines.changed",c=>{this.set(this._templates)})}get(i,s){const o=this._templatesById;let a;return Di(i)?null:Or(i)?(Di(s)&&(s="_"),o[i]&&o[i][s]?o[i][s]:null):(a=i,this.get(this._getTemplateId(a),this._getTemplateVersion(a)))}getDefault(i){return Gt(this.getAll(i),function(s){return s.isDefault})||null}getAll(i){return this._getTemplateVerions(i,{includeDeprecated:!0})}getLatest(i,s={}){return this._getTemplateVerions(i,{...s,latest:!0})}set(i){this._templatesById={},this._templates=i,i.forEach(s=>{const o=s.id,a=Di(s.version)?"_":s.version;this._templatesById[o]||(this._templatesById[o]={}),this._templatesById[o][a]=s;const l=this._templatesById[o].latest;this.isCompatible(s)&&(!l||Di(l.version)||l.version<a)&&(this._templatesById[o].latest=s)}),this._fire("changed")}getEngines(){return this._engines}setEngines(i){this._engines=this._coerceEngines(i),this._fire("engines.changed")}_coerceEngines(i){return Ts(i={elementTemplates:"2.5.3",...i},(s,o,a)=>{const l=(0,ZT.coerce)(o);return(0,ZT.valid)(l)?{...s,[a]:l.raw}:(console.error(new Error(`Engine <${a}> specifies unparseable version <${o}>`)),s)},{})}isCompatible(i){return!Object.keys(this.getIncompatibleEngines(i)).length}getIncompatibleEngines(i){const s=this._engines,o=i.engines;return Ts(o,(a,l,c)=>(Zo(s,c)&&((0,ZT.satisfies)(s[c],o[c])||(a[c]={actual:s[c],required:o[c]})),a),{})}_getTemplateVerions(i,s={}){const{latest:o,deprecated:a}=s,l=this._templatesById,c=u=>{const{latest:d,...p}=u;return o?!a&&d&&d.deprecated?[]:d?[d]:[]:bb(p)};if(Wd(i))return FS(bb(l).map(c));if(si(i)){const u=i;return Bn(this._getTemplateVerions(null,s),function(d){return un(u,d.appliesTo)})||[]}if(Or(i))return l[i]&&c(l[i]);throw new Error("argument must be of type {string|djs.model.Base|undefined}")}_getTemplateId(i){return JT(i)}_getTemplateVersion(i){return function dDe(t){const n=G(t);if(n)return n.get("camunda:modelerTemplateVersion")}(i)}applyTemplate(i,s){let o="apply",a={element:i,newTemplate:s};const l=this.get(i);l&&!s&&(o="unlink",a={element:i}),s&&l&&s.id===l.id&&(o="update");const c={element:i,newTemplate:s,oldTemplate:l};return this._commandStack.execute("propertiesPanel.camunda.changeTemplate",c),this._fire(o,a),c.element}_fire(i,s){return this._eventBus.fire(`elementTemplates.${i}`,s)}removeTemplate(i){this._fire("remove",{element:i});const s={element:i};return this._commandStack.execute("propertiesPanel.removeTemplate",s),s.newElement}unlinkTemplate(i){return this.applyTemplate(i,null)}};return t.$inject=["commandStack","eventBus","modeling","injector","config.elementTemplates"],t})(),DJ=(()=>{class t extends gDe{constructor(i,s,o,a,l,c){super(s,o,a,l,c),this._templateElementFactory=i}_getTemplateId(i){return bc(i)}_getTemplateVersion(i){return oDe(i)}createElement(i){if(!i)throw new Error("template is missing");return this._templateElementFactory.create(i)}applyTemplate(i,s){let o="apply",a={element:i,newTemplate:s};const l=this.get(i);l&&!s&&(o="unlink",a={element:i}),s&&l&&s.id===l.id&&(o="update");const c={element:i,newTemplate:s,oldTemplate:l};return this._commandStack.execute("propertiesPanel.zeebe.changeTemplate",c),this._eventBus.fire(`elementTemplates.${o}`,a),c.element}}return t.$inject=["templateElementFactory","commandStack","eventBus","modeling","injector","config.elementTemplates"],t})();const Y9t=["bpmn:Activity","bpmn:Event","bpmn:Gateway"];let vDe=class{constructor(n){this._templatesById={},this._validTemplates=[],this._errors=[],this._moddle=n}addAll(n){return Xt(n)?n.forEach(this.add,this):this._logError("templates must be []"),this}add(n){let s,o;return this._validateTemplate(n)||(s=n.id,o=n.version||"_",this._templatesById[s]||(this._templatesById[s]={}),this._templatesById[s][o]=n,this._validTemplates.push(n)),this}_validateTemplate(n){const i=n.id,s=n.version||"_",o=n.$schema&&bDe(n.$schema);if(o&&KPe()("0.18.1",o)<0)return this._logError(`unsupported element template schema version <${o}>. Your installation only supports up to version <0.18.1>. Please update your installation`,n);if(this._templatesById[i]&&this._templatesById[i][s])return this._logError("_"===s?`template id <${i}> already used`:`template id <${i}> and version <${s}> already used`,n);const a=this._validateElementType(n);if(a)return a;const l=function nDe(t){return eDe(t,S9t)}(n),{errors:c,valid:u}=l;return u?this._validateEngines(n)||null:(_De(c).forEach(p=>{this._logError(p.message,n)}),new Error("invalid template"))}_validateEngines(n){let i;return fe(n.engines,(s,o)=>{(0,ZT.validRange)(s)||(i=this._logError(new Error(`Engine <${o}> specifies invalid semver range <${s}>`),n))}),i}_validateElementType(n){if(n.elementType&&n.appliesTo){const i=n.elementType.value,s=n.appliesTo;if(!s.find(o=>this._isType(i,o)))return this._logError(`template does not apply to requested element type <${i}>`,n);for(const o of s)if(!this._canMorph(o,i))return this._logError(`can not morph <${o}> into <${i}>`,n)}}_isType(n,i){const s=this._moddle.getType(n);return s&&i in this._moddle.getElementDescriptor(s).allTypesByName}_canMorph(n,i){if(n===i)return!0;const s=Y9t.find(o=>this._isType(n,o));return!!s&&this._isType(i,s)}_logError(n,i){if(Or(n)){if(i){const{id:s,name:o}=i;n=`template(id: <${s}>, name: <${o}>): ${n}`}n=new Error(n)}return this._errors.push(n),n}getErrors(){return this._errors}getValidTemplates(){return this._validTemplates}};function bDe(t){const i=t.match(/\d+\.\d+\.\d+/g);return null===i?void 0:i[0]}function _De(t){return Bn(t,n=>{const{instancePath:i,keyword:s}=n;return!("errorMessage"!==s&&("type"!==s||!i||i.startsWith("/scopes/")))})}class kJ extends vDe{constructor(n){super(n)}_validateTemplate(n){const i=n.id,s=n.version||"_",o=n.$schema,a=o&&bDe(o);if(!o)return this._logError("missing $schema attribute.",n);if(!this.isSchemaValid(o))return this._logError(`unsupported $schema attribute <${o}>.`,n);if(a&&KPe()("0.22.3",a)<0)return this._logError(`unsupported element template schema version <${a}>. Your installation only supports up to version <0.22.3>. Please update your installation`,n);if(this._templatesById[i]&&this._templatesById[i][s])return this._logError("_"===s?`template id <${i}> already used`:`template id <${i}> and version <${s}> already used`,n);const l=this._validateElementType(n);if(l)return l;const c=function iDe(t){return eDe(t,B9t)}(n),{errors:u,valid:d}=c;return d?this._validateEngines(n)||null:(_De(u).forEach(f=>{this._logError(f.message,n)}),new Error("invalid template"))}isSchemaValid(n){return n&&n.includes("@camunda/zeebe-element-templates-json-schema")}_validateEngines(n){let i;return fe(n.engines,(s,o)=>{(0,ZT.validRange)(s)||(i=this._logError(new Error(`Engine <${o}> specifies invalid semver range <${s}>`),n))}),i}}let xDe=(()=>{let t=class{constructor(i,s,o,a){this._eventBus=s,this._elementTemplates=o,this._moddle=a,(Xt(i)||Ar(i))&&(this._loadTemplates=i),i&&i.loadTemplates&&(this._loadTemplates=i.loadTemplates),s.on("diagram.init",()=>{this.reload()})}reload(){const i=this._loadTemplates;if(!Di(i)){if(Ar(i))return i((s,o)=>{if(s)return this._templateErrors([s]);this.setTemplates(o)});if(i.length)return this.setTemplates(i)}}setTemplates(i){const s=this._elementTemplates,a=new vDe(this._moddle).addAll(i),l=a.getErrors(),c=a.getValidTemplates();s.set(c),l.length&&this._templateErrors(l)}_templateErrors(i){this._elementTemplates._fire("errors",{errors:i})}};return t.$inject=["config.elementTemplates","eventBus","elementTemplates","moddle"],t})(),Q9t=(()=>{class t extends xDe{constructor(i,s,o,a){super(i,s,o,a),this._elementTemplates=o}setTemplates(i){const s=this._elementTemplates,a=new kJ(this._moddle).addAll(i),l=a.getErrors(),c=a.getValidTemplates();s.set(c),l.length&&this._templateErrors(l)}}return t.$inject=["config.elementTemplates","eventBus","elementTemplates","moddle"],t})();function Ho(t,n,i,s){const o=s.create(t,n);return i&&(o.$parent=i),o}function nP(t){let n=t;for(;n.$parent;)n=n.$parent;return n}function CDe(t,n){return function Z9t(t,n){return(t||[]).filter(s=>D(s,n))}(nP(t).get("rootElements"),n)}function MJ(t,n,i){const{name:s}=t;return i.create("zeebe:Input",{source:n,target:s})}function AJ(t,n,i){const{source:s}=t;return i.create("zeebe:Output",{source:s,target:n})}function IJ(t,n,i){const{key:s}=t;return i.create("zeebe:Header",{key:s,value:n})}function SDe(t={},n){return n.create("zeebe:TaskDefinition",t)}function RJ(t,n="",i){const{name:s}=t;return i.create("zeebe:Property",{name:s,value:n})}function bd(t,n){const{optional:i}=n;return t||!i}function Ry(t,n,i){const s=G(t);let o=s.get("extensionElements");o||(o=Ho("bpmn:ExtensionElements",{},s,i),s.set("extensionElements",o));let a=es(o,n);return a||(a=i.create(n),a.$parent=o,o.get("values").push(a)),a}const NJ="property",tNt="zeebe:property",$w="zeebe:input",Vw="zeebe:output",jN="zeebe:property",H_="zeebe:taskDefinition:type",jw="zeebe:taskDefinition",rP="zeebe:taskHeader",Um="bpmn:Message#property",t0="bpmn:Message#zeebe:subscription#property",zw="zeebe:calledElement",qm="zeebe:linkedResource",nNt=[t0,$w,Vw,jN,H_,jw,rP,zw,qm],U_=[H_,jw],ODe=[$w,Vw],TDe=[Um,t0],rNt=[NJ,Um];function Hw(t){return t.type===H_?"type":t.property}function LJ(t,n){const i=n.get("modeling"),s=n.get("canvas"),o=n.get("bpmnjs"),a=s.getRootElement(),l=o.getDefinitions(),c=l.get("rootElements"),u=c.filter(d=>d!==t);u.length!==c.length&&i.updateModdleProperties(a,l,{rootElements:u})}function PDe(t){const n=G(t);return D(n,"bpmn:Event")?n.get("eventDefinitions")[0]:n}let sNt=(()=>{let t=class{constructor(i,s,o,a,l){this._bpmnFactory=i,this._bpmnReplace=s,this._modeling=a,this._commandStack=o,this._injector=l}preExecute(i){let s=i.newTemplate,o=i.oldTemplate,a=i.element;this._updateZeebeModelerTemplate(a,s),this._updateZeebeModelerTemplateIcon(a,s),s&&(a=i.element=this._updateElementType(a,o,s),this._updateProperties(a,o,s),this._updateZeebeTaskDefinition(a,o,s),this._updateZeebeInputOutputParameterProperties(a,o,s),this._updateZeebeTaskHeaderProperties(a,o,s),this._updateZeebePropertyProperties(a,o,s),this._updateMessage(a,o,s),this._updateCalledElement(a,o,s),this._updateLinkedResources(a,o,s))}_getOrCreateExtensionElements(i,s=G(i)){const o=this._bpmnFactory,a=this._modeling;let l=s.get("extensionElements");return l||(l=o.create("bpmn:ExtensionElements",{values:[]}),l.$parent=s,a.updateModdleProperties(i,s,{extensionElements:l})),l}_updateZeebeModelerTemplate(i,s){const o=this._modeling,a=s&&s.id,l=s&&s.version;(bc(i)!==a||oDe(i)!==l)&&o.updateProperties(i,{"zeebe:modelerTemplate":a,"zeebe:modelerTemplateVersion":l})}_updateZeebeModelerTemplateIcon(i,s){const o=this._modeling,a=s&&s.icon,l=a&&a.contents;(function q9t(t){const n=G(t);if(n)return n.get("zeebe:modelerTemplateIcon")})(i)!==l&&o.updateProperties(i,{"zeebe:modelerTemplateIcon":l})}_updateProperties(i,s,o){const a=this._commandStack,l=G(i),c=o.properties.filter(d=>"property"===d.binding.type),u=s&&s.properties.filter(d=>"property"===d.binding.type&&!c.find(h=>h.binding.name===d.binding.name))||[];if(u.length){const d=u.reduce((p,f)=>(p[f.binding.name]=void 0,p),{});a.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:d})}c.length&&c.forEach(d=>{const p=Wm(s,d),h=d.binding.name,m=Da(d);let E={};xp(l,p,d)||(E[h]=m,a.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:E}))})}_updateZeebeTaskDefinition(i,s,o){const a=this._bpmnFactory,l=this._commandStack,c=o.properties.filter(f=>U_.includes(f.binding.type)),u=this._getOrCreateExtensionElements(i);let d=es(u,"zeebe:TaskDefinition");c.length?(c.forEach(f=>{const h=Wm(s,f),m=Da(f),E=Hw(f.binding);d?xp(d,h,f)||l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{[E]:m}}):(d=SDe({[E]:m},a),d.$parent=u,l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:[...u.get("values"),d]}}))}),(s&&s.properties.filter(f=>U_.includes(f.binding.type)&&!c.find(y=>y.binding.property===f.binding.property))||[]).forEach(f=>{l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{[f.binding.property]:void 0}})})):l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:ar(u.get("values"),d)}})}_updateZeebeInputOutputParameterProperties(i,s,o){const a=this._bpmnFactory,l=this._commandStack,c=o.properties.filter(m=>{const E=m.binding.type;return"zeebe:input"===E||"zeebe:output"===E}),u=this._getOrCreateExtensionElements(i);let d=es(u,"zeebe:IoMapping");if(!c.length){if(!d)return;l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:ar(u.get("values"),d)}})}d||(d=a.create("zeebe:IoMapping"),d.$parent=u,l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:[...u.get("values"),d]}}));const p=d.get("zeebe:inputParameters")?d.get("zeebe:inputParameters").slice():[],f=d.get("zeebe:outputParameters")?d.get("zeebe:outputParameters").slice():[];let h;c.forEach(m=>{const y=Wm(s,m),E=iP(u,m),_=Da(m),S=m.binding,v=S.type;let w,g;E?((bd(_,m)||xp(E,y,m))&&(D(E,"zeebe:Input")?Uw(p,E):Uw(f,E)),xp(E,y,m)||(g=D(E,"zeebe:Input")?{source:_}:{target:_},l.execute("element.updateModdleProperties",{element:i,moddleElement:E,properties:g}))):bd(_,m)&&("zeebe:input"===v?(h="inputParameters",w=MJ(S,_,a)):(h="outputParameters",w=AJ(S,_,a)),w.$parent=d,l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{[h]:[...d.get(h),w]}}))}),p.length&&l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{inputParameters:ar(d.get("inputParameters"),m=>p.includes(m))}}),f.length&&l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{outputParameters:ar(d.get("outputParameters"),m=>f.includes(m))}})}_updateZeebeTaskHeaderProperties(i,s,o){const a=this._bpmnFactory,l=this._commandStack,c=o.properties.filter(f=>"zeebe:taskHeader"===f.binding.type),u=this._getOrCreateExtensionElements(i);let d=es(u,"zeebe:TaskHeaders");if(!c.length){if(!d)return;l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:ar(u.get("values"),d)}})}d||(d=a.create("zeebe:TaskHeaders"),d.$parent=u,l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:[...u.get("values"),d]}}));const p=d.get("zeebe:values")?d.get("zeebe:values").slice():[];c.forEach(f=>{const h=Wm(s,f),m=iP(u,f),y=Da(f),E=f.binding;if(m)xp(m,h,f)||l.execute("element.updateModdleProperties",{element:i,moddleElement:m,properties:{value:y}}),Uw(p,m);else if(y){const _=IJ(E,y,a);_.$parent=d,l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{values:[...d.get("values"),_]}})}}),p.length&&l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{values:ar(d.get("values"),f=>p.includes(f))}})}_updateZeebePropertyProperties(i,s,o){const a=this._bpmnFactory,l=this._commandStack,c=o.properties.filter(f=>"zeebe:property"===f.binding.type),u=this._getOrCreateExtensionElements(i);let d=es(u,"zeebe:Properties");if(!c.length){if(!d)return;l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:ar(u.get("values"),d)}})}d||(d=a.create("zeebe:Properties"),d.$parent=u,l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:[...u.get("values"),d]}}));const p=d.get("properties")?d.get("properties").slice():[];c.forEach(f=>{const h=Wm(s,f),m=iP(u,f),y=Da(f),E=f.binding;if(m)(bd(y,f)||xp(m,h,f))&&Uw(p,m),xp(m,h,f)||l.execute("element.updateModdleProperties",{element:i,moddleElement:m,properties:{value:y}});else if(bd(y,f)){const _=RJ(E,y,a);_.$parent=d,l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{properties:[...d.get("properties"),_]}})}}),p.length&&l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{properties:ar(d.get("properties"),f=>p.includes(f))}})}_updateMessage(i,s,o){this._updateMessageProperties(i,s,o),this._updateMessageZeebeSubscriptionProperties(i,s,o),this._updateZeebeModelerTemplateOnReferencedElement(i,s,o),function aNt(t){return t.properties.some(n=>TDe.includes(n.binding.type))}(o)||function iNt(t,n){const i=n.get("modeling"),s=PDe(t);if(!s)return;const o=Ay(s);o&&(i.updateModdleProperties(t,s,{messageRef:void 0}),LJ(o,n))}(i,this._injector)}_updateMessageProperties(i,s,o){const a=o.properties.filter(u=>u.binding.type===Um),l=s&&s.properties.filter(u=>u.binding.type===Um&&!a.find(f=>f.binding.name===u.binding.name))||[];let c=this._getMessage(i);c&&l.forEach(u=>{this._modeling.updateModdleProperties(i,c,{[u.binding.name]:void 0})}),a.length&&(c=this._getOrCreateMessage(i,o),a.forEach(u=>{const d=Wm(s,u),f=u.binding.name,h=Da(u),m=c;let y={};xp(m,d,u)||(y[f]=h,this._modeling.updateModdleProperties(i,m,y))}))}_updateMessageZeebeSubscriptionProperties(i,s,o){const a=o.properties.filter(h=>h.binding.type===t0),l=s&&s.properties.filter(h=>h.binding.type===t0&&!a.find(E=>E.binding.name===h.binding.name))||[];if(!a.length&&!l.length)return;let c=this._getMessage(i);if(!a.length&&!c)return;c=this._getOrCreateMessage(i,o);const u=this._getOrCreateExtensionElements(i,c),d=this._getSubscription(i,c),p=a.reduce((h,m)=>{const y=Wm(s,m),_=m.binding.name,S=Da(m);return xp(d,y,m)||(h[_]=S),h},{});if(d)this._modeling.updateModdleProperties(i,d,p);else{const h=Ho("zeebe:Subscription",p,c,this._bpmnFactory);this._modeling.updateModdleProperties(i,u,{values:[...u.get("values"),h]})}if(!s||!d)return;const f=l.reduce((h,m)=>(h[m.binding.name]=void 0,h),{});this._modeling.updateModdleProperties(i,d,f)}_updateZeebeModelerTemplateOnReferencedElement(i,s,o){const l=Ay(G(i));l&&bc(l)!==o.id&&this._modeling.updateModdleProperties(i,l,{"zeebe:modelerTemplate":o.id})}_getSubscription(i,s){const a=es(this._getOrCreateExtensionElements(i,s),"zeebe:Subscription");if(a)return a}_getOrCreateMessage(i,s){return this._getMessage(i)||this._createMessage(i,s)}_createMessage(i,s){let o=G(i);D(o,"bpmn:Event")&&(o=o.get("eventDefinitions")[0]);const a=this._bpmnFactory.create("bpmn:Message",{"zeebe:modelerTemplate":s.id});return a.$parent=nP(o),this._modeling.updateModdleProperties(i,o,{messageRef:a}),a}_getMessage(i){let s=G(i);return D(s,"bpmn:Event")&&(s=s.get("eventDefinitions")[0]),s&&s.get("messageRef")}_updateCalledElement(i,s,o){const a=this._bpmnFactory,l=this._commandStack,c=o.properties.filter(f=>f.binding.type===zw),u=this._getOrCreateExtensionElements(i);let d=es(u,"zeebe:CalledElement");c.length?(c.forEach(f=>{const h=Wm(s,f),m=Da(f),y=f.binding.property;d?xp(d,h,f)||l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{[y]:m}}):(d=function eNt(t={},n){return n.create("zeebe:CalledElement",t)}({[y]:m},a),d.$parent=u,l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:[...u.get("values"),d]}}))}),(s&&s.properties.filter(f=>f.binding.type===zw&&!c.find(y=>y.binding.property===f.binding.property))||[]).forEach(f=>{l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{[f.binding.property]:void 0}})})):l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:ar(u.get("values"),d)}})}_updateElementType(i,s,o){const a=o.elementType;if(!a||!function lNt(t,n,i){if(!n&&i.eventDefinition)return!0;const s=n&&n.elementType||{value:t.type,eventDefinition:cNt(t)};return!(s&&s.value===i.value&&s.eventDefinition===i.eventDefinition)}(i,s,a))return i;const l={type:a.value};return a.eventDefinition&&(l.eventDefinitionType=a.eventDefinition),this._bpmnReplace.replaceElement(i,l)}_updateLinkedResources(i,s,o){const a=this._bpmnFactory,l=this._commandStack,c=o.properties.filter(h=>"zeebe:linkedResource"===h.binding.type),u=this._getOrCreateExtensionElements(i);let d=es(u,"zeebe:LinkedResources");if(!c.length){if(!d)return;return void l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:ar(u.get("values"),d)}})}d||(d=a.create("zeebe:LinkedResources"),d.$parent=u,l.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{values:[...u.get("values"),d]}}));const p=d.get("values").slice(),f=(s?.properties.slice()||[]).filter(h=>h.binding.type===qm);c.forEach(h=>{const m=Wm(s,h),y=iP(u,h),E=Da(h),_=h.binding;if(m&&Uw(f,m),y)(bd(E,h)||xp(y,m,h))&&Uw(p,y),xp(y,m,h)||l.execute("element.updateModdleProperties",{element:i,moddleElement:y,properties:{[_.property]:E}});else if(bd(E,h)){const v=Ho("zeebe:LinkedResource",{linkName:_.linkName,[_.property]:E},u,a);l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{values:[...d.get("values"),v]}})}}),p.length&&l.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{values:ar(d.get("values"),h=>p.includes(h))}}),f.forEach(h=>{const m=iP(u,h),y=h.binding;m&&l.execute("element.updateModdleProperties",{element:i,moddleElement:m,properties:{[y.property]:void 0}})})}};return t.$inject=["bpmnFactory","bpmnReplace","commandStack","modeling","injector"],t})();function iP(t,n){const i=G(t),s=n.binding,o=s.type;if(U_.includes(o))return es(i,"zeebe:TaskDefinition");if("zeebe:input"===o||"zeebe:output"===o){const a=es(i,"zeebe:IoMapping");return a?"zeebe:input"===o?Gt(a.get("zeebe:inputParameters"),function(l){return l.get("zeebe:target")===s.name}):Gt(a.get("zeebe:outputParameters"),function(l){return l.get("zeebe:source")===s.source}):void 0}if("zeebe:taskHeader"===o){const a=es(i,"zeebe:TaskHeaders");return a?Gt(a.get("zeebe:values"),function(l){return l.get("zeebe:key")===s.key}):void 0}if("zeebe:property"===o){const a=es(i,"zeebe:Properties");return a?a.get("properties").find(l=>l.get("name")===s.name):void 0}if(o===qm){const a=es(i,"zeebe:LinkedResources");return a?a.get("values").find(l=>l.get("linkName")===s.linkName):void 0}}function Wm(t,n){if(!t)return;const i=t.properties,s=n.binding,o=s.name,a=s.type;return"property"===a?Gt(i,function(l){const c=l.binding;return"property"===c.type&&c.name===o}):U_.includes(a)?Gt(i,function(l){return Hw(l.binding)===Hw(s)}):"zeebe:input"===a?Gt(i,function(l){const c=l.binding;if("zeebe:input"===c.type)return c.name===o}):"zeebe:output"===a?Gt(i,function(l){const c=l.binding;if("zeebe:output"===c.type)return c.source===s.source}):"zeebe:taskHeader"===a?Gt(i,function(l){const c=l.binding;if("zeebe:taskHeader"===c.type)return c.key===s.key}):"zeebe:property"===a?i.find(l=>{const c=l.binding;if("zeebe:property"===c.type)return c.name===s.name}):a===Um?i.find(l=>{const c=l.binding;if(c.type===Um)return c.name===s.name}):a===t0?i.find(l=>{const c=l.binding;if(c.type===t0)return c.name===s.name}):a===qm?i.find(l=>{const c=l.binding;if(c.type===qm)return c.linkName===s.linkName&&c.property===s.property}):void 0}function xp(t,n,i){if("Hidden"===i.type)return!1;if("Dropdown"===i.type){const s=FJ(t,i);return i.choices&&i.choices.some(o=>o.value===s)}return n?function oNt(t,n){const i=n.value;return FJ(t,n)!==i}(t,n):!!FJ(t,i)}function FJ(t,n){const i=G(t);if(!i)return;const s=n.binding,o=s.name,a=s.type,l=s.property;return"property"===a?i.get(o):U_.includes(a)?i.get(Hw(s)):"zeebe:input"===a?i.get("zeebe:source"):"zeebe:output"===a?i.get("zeebe:target"):"zeebe:taskHeader"===a||"zeebe:property"===a?i.get("zeebe:value"):a===Um||a===t0?i.get(o):a===qm?i.get(l):void 0}function Uw(t,n){const i=t.indexOf(n);return i<0||t.splice(i,1),t}function cNt(t){const n=G(t);if(!n.eventDefinitions)return;const i=n.eventDefinitions[0];return i?i.$type:void 0}let uNt=(()=>{let t=class{constructor(i,s,o,a,l,c,u,d){this._modeling=i,this._elementFactory=s,this._elementRegistry=o,this._canvas=a,this._bpmnFactory=l,this._replace=c,this._commandStack=u,this._moddleCopy=d}preExecute(i){const{element:s}=i;i.newElement=s.parent?this._removeTemplate(s):this._removeRootTemplate(s)}_removeTemplate(i){const s=this._replace,o=G(i),a=o.$type,l=this._getEventDefinitionType(o),c=this._createNewBusinessObject(i);return s.replaceElement(i,{type:a,businessObject:c,eventDefinitionType:l},{createElementsBehavior:!1})}_removeRootTemplate(i){var s=this._modeling,o=this._elementFactory,a=this._elementRegistry,l=this._canvas;if(zx(i)){const f=V7(i),h=a.get(f);if(h&&h!==i)return l.setRootElement(l.findRoot(h)),this._removeTemplate(h)}const u=G(i).$type,d=this._createNewBusinessObject(i),p=o.create("root",{type:u,businessObject:d});return this._commandStack.execute("canvas.updateRoot",{newRoot:p,oldRoot:i}),s.moveElements(i.children,{x:0,y:0},p),p}_getEventDefinitionType(i){if(!i.eventDefinitions)return null;const s=i.eventDefinitions[0];return s?s.$type:null}_createNewBusinessObject(i){const s=this._bpmnFactory,o=G(i),a=s.create(o.$type),l=bu(i);return this._copyProperties(o,a,["documentation"]),this._copyExtensionElements(o,a,["zeebe:ExecutionListeners"]),l&&(D(i,"bpmn:Group")&&(a.categoryValueRef=s.create("bpmn:CategoryValue")),OH({businessObject:a},l)),a}_copyProperties(i,s,o){const a=this._moddleCopy;o.forEach(l=>{const c=i.get(l);if(c){const u=a.copyProperty(c,s,l);s.set(l,u)}})}_copyExtensionElements(i,s,o){const a=this._bpmnFactory;if(!i.extensionElements||!i.extensionElements.values)return;const l=i.extensionElements.values.filter(c=>o.some(u=>D(c,u)));l.length&&(s.extensionElements=a.create("bpmn:ExtensionElements",{values:l}))}};return t.$inject=["modeling","elementFactory","elementRegistry","canvas","bpmnFactory","replace","commandStack","moddleCopy"],t})(),DDe=(()=>{class t{constructor(i){this._commandStack=i}preExecute(i){const s=this._commandStack;fe(i,function(o){s.execute(o.cmd,o.context)})}}return t.$inject=["commandStack"],t})();function kDe(t,n,i){if(!n.get(t)&&n.getDefault(t)){const s="propertiesPanel.zeebe.changeTemplate",o={element:t,newTemplate:n.getDefault(t)};i.execute(s,o)}}var pNt={__init__:["elementTemplateCommands"],elementTemplateCommands:["type",(()=>{let t=class{constructor(i,s,o){i.registerHandler("element-templates.multi-command-executor",DDe),i.registerHandler("propertiesPanel.zeebe.changeTemplate",sNt),i.registerHandler("propertiesPanel.removeTemplate",uNt),o.on(["commandStack.shape.create.postExecuted"],function(a){const{context:{hints:l={},shape:c}}=a;!1!==l.createElementsBehavior&&kDe(c,s,i)}),o.on(["commandStack.connection.create.postExecuted"],function(a){const{context:{hints:l={},connection:c}}=a;!1!==l.createElementsBehavior&&kDe(c,s,i)})}};return t.$inject=["commandStack","elementTemplates","eventBus"],t})()]};class fNt{static create(n,i){const{property:s}=i,{binding:o}=s,{name:a}=o,l=Da(s);G(n)[a]=l}}class MDe{static create(n,i){const{property:s,bpmnFactory:o}=i,a=Da(s),l=Hw(s.binding);Ry(n,"zeebe:TaskDefinition",o).set(l,a)}}class hNt{static create(n,i){const{property:s,bpmnFactory:o}=i,{binding:a}=s,l=Da(s),c=Ry(n,"zeebe:IoMapping",o);if(!bd(l,s))return;const u=MJ(a,l,o);u.$parent=c,c.get("inputParameters").push(u)}}class mNt{static create(n,i){const{property:s,bpmnFactory:o}=i,{binding:a}=s,l=Da(s),c=Ry(n,"zeebe:IoMapping",o);if(!bd(l,s))return;const u=AJ(a,l,o);u.$parent=c,c.get("outputParameters").push(u)}}class gNt{static create(n,i){const{property:s,bpmnFactory:o}=i,{binding:a}=s,l=Da(s),c=Ry(n,"zeebe:TaskHeaders",o),u=IJ(a,l,o);u.$parent=c,c.get("values").push(u)}}class yNt{static create(n,i){const{property:s,bpmnFactory:o}=i,{binding:a}=s,l=Da(s),c=Ry(n,"zeebe:Properties",o);if(!bd(l,s))return;const u=RJ(a,l,o);u.$parent=c,c.get("properties").push(u)}}class vNt{static create(n,i){const{bpmnFactory:s,property:o}=i,{binding:a}=o,{name:l}=a,c=Da(o);let u=G(n);D(u,"bpmn:Event")&&(u=u.get("eventDefinitions")[0]);let d=u.get("messageRef");d||(d=s.create("bpmn:Message",{"zeebe:modelerTemplate":bc(n)}),u.set("messageRef",d)),d.set(l,c)}}class bNt{static create(n,i){const{bpmnFactory:s,property:o}=i,{binding:a}=o,{name:l}=a,c=Da(o);let u=G(n);D(u,"bpmn:Event")&&(u=u.get("eventDefinitions")[0]);let d=u.get("messageRef");d||(d=s.create("bpmn:Message",{"zeebe:modelerTemplate":bc(n)}),u.set("messageRef",d));const p=Ry(d,"zeebe:Subscription",s);bd(c,o)&&p.set(l,c)}}class _Nt{static create(n,i){const{property:s,bpmnFactory:o}=i,{binding:a}=s,{property:l}=a,c=Da(s),u=Ry(n,"zeebe:CalledElement",o);(function ENt(t){t.set("propagateAllChildVariables",!1),t.set("propagateAllParentVariables",!1)})(u),u.set(l,c)}}class xNt{static create(n,i){const{property:s,bpmnFactory:o}=i,{binding:{property:a,linkName:l}}=s,c=Da(s),u=G(n),d=Ry(n,"zeebe:LinkedResources",o);let p=d.get("values").find(f=>f.get("linkName")===l);p||(p=Ho("zeebe:LinkedResource",{linkName:l},u,o),d.get("values").push(p)),p.set(a,c)}}const wNt=["Boolean","Integer","String"];function zN(t,n,i){const s=function CNt(t,n){let s=G(t);const o="",{binding:a}=n,{name:l,property:c,type:u,linkName:d}=a;if("property"===u){const p=s.get(l);return Di(p)?o:p}if(U_.includes(u)){const p=es(s,"zeebe:TaskDefinition");if(p){if(u===H_)return p.get("type");if(u===jw)return p.get(c)}return o}if(ODe.includes(u)){const p=es(s,"zeebe:IoMapping");if(!p)return o;if(u===$w){const f=lDe(p,a);return f?f.get("source"):o}if(u===Vw){const f=cDe(p,a);return f?f.get("target"):o}}if(u===rP){const p=es(s,"zeebe:TaskHeaders");if(!p)return o;const f=uDe(p,a);return f?f.get("value"):o}if(u===jN){const p=es(s,"zeebe:Properties");if(p){const f=aDe(p,a);if(f)return f.get("value")}return o}if(u===Um){const p=Ay(s),f=p?p.get(l):void 0;return Di(f)?o:f}if(u===t0){const p=Ay(s);if(p){const f=es(p,"zeebe:Subscription");if(!Di(f?f.get(l):void 0))return f.get(l)}return o}if(u===zw){const p=es(s,"zeebe:CalledElement");return p?p.get(c):o}if(u===qm){const p=es(s,"zeebe:LinkedResources");if(!p)return o;const f=p.get("values").find(h=>h.get("linkName")===d);return f?f.get(c):o}throw RDe(t,n)}(t,n),{type:o}=n;return"Boolean"===o?function SNt(t){switch(t){case"true":return!0;case"false":return!1}return t}(s):s}function ADe(t,n,i,s,o){let a=G(i);const{binding:l}=s,{name:c,type:u,property:d,linkName:p}=l;let f,h;const m=[],y={element:i,property:s};if(TDe.includes(u)){D(a,"bpmn:Event")&&(a=a.get("eventDefinitions")[0]);let E=Ay(a);E||(E=t.create("bpmn:Message",{"zeebe:modelerTemplate":bc(i)}),m.push({cmd:"element.updateModdleProperties",context:{...y,moddleElement:a,properties:{messageRef:E}}})),a=E}if(nNt.includes(u)&&(f=a.get("extensionElements"),f?m.push(null):(f=Ho("bpmn:ExtensionElements",null,a,t),m.push({cmd:"element.updateModdleProperties",context:{...y,moddleElement:a,properties:{extensionElements:f}}}))),rNt.includes(u)){const E=a.$descriptor.propertiesByName[c];if(E){const{type:_}=E;if(!wNt.includes(_))throw new Error(`cannot set property of type <${_}>`);"Boolean"===_?h=!!o:"Integer"===_?(h=parseInt(o,10),isNaN(h)&&(h=void 0)):h=o||""}else h=o||"";Di(h)?m.push(null):m.push({cmd:"element.updateModdleProperties",context:{...y,moddleElement:a,properties:{[c]:h}}})}if(U_.includes(u)){const E=es(f,"zeebe:TaskDefinition"),_=Hw(l),S={[_]:o||""};if(E)m.push({cmd:"element.updateModdleProperties",context:{...y,properties:S,moddleElement:E}});else{const v=SDe(S,t);v.$parent=a;const w=f.get("values");m.push({cmd:"element.updateModdleProperties",context:{...y,moddleElement:f,properties:{values:[...w,v]}}})}}if(ODe.includes(u)){let E=es(f,"zeebe:IoMapping");if(E||(E=Ho("zeebe:IoMapping",null,a,t),m.push({cmd:"element.updateModdleProperties",context:{...y,moddleElement:f,properties:{values:[...f.get("values"),E]}}})),u===$w){const _=lDe(E,l),S=E.get("inputParameters").filter(v=>v!==_);if(bd(o,s)){const v=MJ(l,o,t);S.push(v)}m.push({cmd:"element.updateModdleProperties",context:{...y,moddleElement:E,properties:{inputParameters:[...S]}}})}if(u===Vw){const _=cDe(E,l),S=E.get("outputParameters").filter(v=>v!==_);if(bd(o,s)){const v=AJ(l,o,t);S.push(v)}m.push({cmd:"element.updateModdleProperties",context:{...y,moddleElement:E,properties:{outputParameters:[...S]}}})}}if(u===rP){let E=es(f,"zeebe:TaskHeaders");E||(E=Ho("zeebe:TaskHeaders",null,a,t),m.push({cmd:"element.updateModdleProperties",context:{...y,moddleElement:f,properties:{values:[...f.get("values"),E]}}}));const _=uDe(E,l),S=E.get("values").filter(v=>v!==_);if(o){const v=IJ(l,o,t);m.push({cmd:"element.updateModdleProperties",context:{...y,moddleElement:E,properties:{values:[...S,v]}}})}else m.push({cmd:"element.updateModdleProperties",context:{...y,moddleElement:E,properties:{values:S}}})}if(u===jN){let E=es(f,"zeebe:Properties");E||(E=Ho("zeebe:Properties",null,a,t),m.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:f,properties:{values:[...f.get("values"),E]}}}));const _=aDe(E,l),S=E.get("properties").filter(v=>v!==_);if(bd(o,s)){const v=RJ(l,o,t);S.push(v)}m.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:E,properties:{properties:S}}})}if(u===t0){let E=es(f,"zeebe:Subscription");const _={[c]:o||""};E?m.push({cmd:"element.updateModdleProperties",context:{element:i,properties:_,moddleElement:E}}):(E=Ho("zeebe:Subscription",_,f,t),m.push({cmd:"element.updateModdleProperties",context:{...y,moddleElement:f,properties:{values:[...f.get("values"),E]}}}))}if(u===zw){let E=es(i,"zeebe:CalledElement");const S={[l.property]:o||""};E?m.push({cmd:"element.updateModdleProperties",context:{element:i,properties:S,moddleElement:E}}):(E=Ho("zeebe:CalledElement",S,f,t),m.push({cmd:"element.updateModdleProperties",context:{...y,moddleElement:f,properties:{values:[...f.get("values"),E]}}}))}if(u===qm){let E=es(a,"zeebe:LinkedResources");E||(E=Ho("zeebe:LinkedResources",null,a,t),m.push({cmd:"element.updateModdleProperties",context:{...y,moddleElement:f,properties:{values:[...f.get("values"),E]}}}));let _=E.get("values").find(S=>S.get("linkName")===p);_||(_=Ho("zeebe:LinkedResource",{linkName:p},a,t),m.push({cmd:"element.updateModdleProperties",context:{...y,moddleElement:E,properties:{values:[...E.get("values"),_]}}})),m.push({cmd:"element.updateModdleProperties",context:{...y,moddleElement:_,properties:{[d]:o}}})}if(!m.length)throw RDe(i,s);{const E=m.filter(_=>null!==_);E.length&&n.execute("element-templates.multi-command-executor",E)}}function RDe(t,n){const s=G(t).get("id"),{binding:o}=n,{type:a}=o;return new Error(`unknown binding <${a}> for element <${s}>, this should never happen`)}function PNt(t,n){return n=n||{},t.replace(/{([^}]+)}/g,function(i,s){return n[s]||"{"+s+"}"})}function qw(t,n){const{properties:i}=n,s=i.filter(o=>function MNt(t,n){const{binding:i}=n,{type:s}=i;return!("bpmn:Message#zeebe:subscription#property"===s&&"correlationKey"===i.name&&D(t,"bpmn:StartEvent")&&!Ea(t.parent))}(t,o)&&HN(t,i,o));return{...n,properties:s}}function HN(t,n,i){const{condition:s}=i;return!s||(s.allMatch?s.allMatch.every(a=>NDe(t,n,a)):NDe(t,n,s))}function NDe(t,n,i){const{property:s,equals:o,oneOf:a,isActive:l}=i;if(typeof l<"u"){const u=n.find(d=>d.id===s);return u?l?HN(t,n,u):!HN(t,n,u):!l}const c=function kNt(t,n,i){const s=n.find(o=>o.id===i);if(s)return zN(t,s)}(t,n,s);return function ANt(t,n){return Object.prototype.hasOwnProperty.call(t,n)}(i,"equals")?c===o:!!a&&a.includes(c)}var FNt={__init__:["templateElementFactory"],templateElementFactory:["type",(()=>{class t{constructor(i,s){this._bpmnFactory=i,this._elementFactory=s,this._providers={[NJ]:fNt,[H_]:MDe,[jw]:MDe,[tNt]:yNt,[$w]:hNt,[Vw]:mNt,[rP]:gNt,[Um]:vNt,[t0]:bNt,[zw]:_Nt,[qm]:xNt}}create(i){const{properties:s}=i,o=this._createShape(i);return this._setModelerTemplate(o,i),function RNt(t){const{icon:n}=t;return!(!n||!n.contents)}(i)&&this._setModelerTemplateIcon(o,i),this._applyProperties(o,s),o}_createShape(i){const{appliesTo:s,elementType:o={}}=i,a=this._elementFactory,l={type:o.value||s[0]};return o.eventDefinition&&(l.eventDefinitionType=o.eventDefinition),a.createShape(l)}_ensureExtensionElements(i){const s=this._bpmnFactory,o=G(i);let a=o.get("extensionElements");return a||(a=s.create("bpmn:ExtensionElements",{values:[]}),a.$parent=o,o.set("extensionElements",a)),a}_setModelerTemplate(i,s){const{id:o,version:a}=s,l=G(i);l.set("zeebe:modelerTemplate",o),l.set("zeebe:modelerTemplateVersion",a)}_setModelerTemplateIcon(i,s){const{icon:o}=s,{contents:a}=o;G(i).set("zeebe:modelerTemplateIcon",a)}_applyProperties(i,s){const o=[];s.forEach(a=>this._applyProperty(i,a,s,o))}_applyProperty(i,s,o,a){a.includes(s)||(function NNt(t,n){const{condition:i}=t;if(!i)return[];const s=function LNt(t,n){return Gt(t,function(i){return i.id===n})}(n,i.property);return s?[s]:[]}(s,o).forEach(c=>this._applyProperty(i,c,o,a)),HN(i,o,s)&&this._bindProperty(s,i),a.push(s))}_bindProperty(i,s){const{binding:o}=i,{type:a}=o;this._providers[a].create(s,{property:i,bpmnFactory:this._bpmnFactory})}}return t.$inject=["bpmnFactory","elementFactory"],t})()]};let BNt=(()=>{class t extends pt{constructor(i,s,o,a,l){super(i),this._eventBus=i,this._elementTemplates=s,this._commandStack=o,this._bpmnFactory=a,this._injector=l,this.preExecute(["element.updateProperties","element.updateModdleProperties","element.move"],this._saveConditionalState,!0,this),this.postExecute(["element.updateProperties","element.updateModdleProperties","propertiesPanel.zeebe.changeTemplate","element.move"],this._applyConditions,!0,this),this.preExecute(["propertiesPanel.zeebe.changeTemplate"],this._ensureConditional,!0,this)}_saveConditionalState(i){const{element:s}=i,o=this._elementTemplates.get(s);o&&(i.oldTemplateWithConditions=qw(s,o))}_applyConditions(i,s){const{element:o,newTemplate:a,oldTemplateWithConditions:l}=i;if(function UNt(t,n){return"element.updateProperties"===t&&Object.keys(n.properties).every(i=>["zeebe:modelerTemplate","zeebe:modelerTemplateVersion"].includes(i))}(s,i))return;const c=this._elementTemplates.get(o),u=l||a;c&&u&&function $Nt(t,n){return function VNt(t,n){return n.properties.some(s=>!t.properties.find(o=>LDe(o,s)))}(t,n)||function jNt(t,n){return function zNt(t,n){return n.properties.filter(s=>!t.properties.find(o=>LDe(o,s)))}(n,t).some(s=>!function HNt(t,n){return t.properties.some(i=>BDe(n.binding,i.binding))}(n,s))}(t,n)}(qw(o,c),u)&&this._commandStack.execute("propertiesPanel.zeebe.changeTemplate",{element:o,newTemplate:c,oldTemplate:u})}_ensureConditional(i){const{element:s,newTemplate:o}=i;o&&(i.newTemplate=qw(s,o))}}return t.$inject=["eventBus","elementTemplates","commandStack","bpmnFactory","injector"],t})();function LDe(t,n){return BDe(t.binding,n.binding)&&VDe(t.condition,n.condition)}function FDe(t,n){return si(n)?Object.keys(n).sort().reduce((s,o)=>(s[o]=n[o],s),{}):n}function BDe(t,n){return VDe(t=$De(t),n=$De(n))}function $De(t){return t.type===H_?{...t,type:jw,property:"type"}:t}function VDe(t,n){return JSON.stringify(t,FDe)===JSON.stringify(n,FDe)}let qNt=(()=>{let t=class extends pt{constructor(i,s){super(s.get("eventBus")),this.postExecuted("shape.replace",function(o){var a=o.context,c=G(a.oldShape),u=a.newShape,d=G(u);if(!c.modelerTemplate)return;const h=i.get(d.modelerTemplate,d.modelerTemplateVersion);if(!h)return void i.unlinkTemplate(u);const{appliesTo:m,elementType:y}=h;y?(!D(u,y.value)||function WNt(t,n){if(!D(t,"bpmn:Event"))return!1;const{eventDefinition:i}=n,o=G(t).get("eventDefinitions");return i?!D(o[0],i):0!==o.length}(u,y))&&i.unlinkTemplate(u):m.reduce((_,S)=>_||D(d,S),!1)||i.unlinkTemplate(u)})}};return t.$inject=["elementTemplates","injector"],t})(),GNt=(()=>{class t extends pt{constructor(i,s,o,a){super(i),this._eventBus=i,this._elementTemplates=s,this._commandStack=o,this._bpmnFactory=a,this.postExecute(["element.updateProperties","element.updateModdleProperties"],this._updatePropertiesOrder,!0,this)}_updatePropertiesOrder(i){const{element:s}=i,o=this._elementTemplates.get(s),a=s.businessObject,l=[];if(!o)return;const c=qw(s,o).properties,u=es(a,"zeebe:Properties");u&&this._updateZeebePropertiesOrder(u,c,l,i);const d=es(a,"zeebe:IoMapping");d&&(this._updateInputOrder(d,c,l,i),this._updateOutputOrder(d,c,l,i));const p=es(a,"zeebe:TaskHeaders");if(p&&this._updateTaskHeadersOrder(p,c,l,i),l.length){const f=l.filter(h=>null!==h);f.length&&this._commandStack.execute("element-templates.multi-command-executor",f)}}_updateZeebePropertiesOrder(i,s,o,a){const c=i.get("properties");if(c.length<1)return;let u=[...c];qN(u,(d,p)=>d.findIndex(f=>"zeebe:property"==f.binding.type&&f.binding.name===p.get("name")),s),UN(u,c)||o.push({cmd:"element.updateModdleProperties",context:{...a,moddleElement:i,properties:{properties:u}}})}_updateInputOrder(i,s,o,a){const c=i.get("inputParameters");if(c.length<1)return;let u=[...c];qN(u,(d,p)=>d.findIndex(f=>"zeebe:input"==f.binding.type&&f.binding.name===p.get("target")),s),UN(u,c)||o.push({cmd:"element.updateModdleProperties",context:{...a,moddleElement:i,properties:{inputParameters:u}}})}_updateOutputOrder(i,s,o,a){const c=i.get("outputParameters");if(c.length<1)return;let u=[...c];qN(u,(d,p)=>d.findIndex(f=>"zeebe:output"==f.binding.type&&f.binding.source===p.get("source")),s),UN(u,c)||o.push({cmd:"element.updateModdleProperties",context:{...a,moddleElement:i,properties:{outputParameters:u}}})}_updateTaskHeadersOrder(i,s,o,a){const c=i.get("zeebe:values");if(c.length<1)return;let u=[...c];qN(u,(d,p)=>d.findIndex(f=>"zeebe:taskHeader"==f.binding.type&&f.binding.key===p.get("key")),s),UN(u,c)||o.push({cmd:"element.updateModdleProperties",context:{...a,moddleElement:i,properties:{values:u}}})}}return t.$inject=["eventBus","elementTemplates","commandStack","bpmnFactory"],t})();function jDe(t,n){return si(n)?Object.keys(n).sort().reduce((s,o)=>(s[o]=n[o],s),{}):n}function UN(t,n){return t.every((i,s)=>function KNt(t,n){return JSON.stringify(t,jDe)===JSON.stringify(n,jDe)}(i,n[s]))}function qN(t,n,i){return t.sort((s,o)=>n(i,s)-n(i,o))}let YNt=(()=>{class t extends pt{constructor(i,s,o,a,l,c){super(i),this._eventBus=i,this._elementTemplates=s,this._modeling=o,this._injector=a,this.postExecuted(["element.updateProperties","element.updateModdleProperties"],this._handlePropertiesUpdate,!0,this),this.postExecuted("shape.replace",this._handleReplacement,!0,this),this.postExecuted("shape.delete",this._handleRemoval,!0,this),i.on("copyPaste.pasteElement",function(u){const{referencedRootElement:d}=u.descriptor;d&&bc(d)&&(u.descriptor.referencedRootElement=l.copyElement(d,c.create(d.$type)))})}_handlePropertiesUpdate(i){const{element:s,properties:o}=i;if(!WN(s)||!($N in o)||Or(o[$N]))return;const l=Ay(G(s));l&&bc(l)&&this._modeling.updateModdleProperties(s,l,{[$N]:null})}_handleReplacement(i){const{oldShape:s,newShape:o}=i,a=bc(s),l=bc(o);if(!WN(s)||!a)return;const u=Ay(G(s));if(u&&bc(u)){if(!WN(o)||!l)return void LJ(u,this._injector);this._addMessage(o,u)}}_handleRemoval(i){const{shape:s}=i;if(function XNt(t){return"label"===t.type}(s)||!WN(s)||!bc(s))return;const a=Ay(G(s));a&&bc(a)&&LJ(a,this._injector)}_addMessage(i,s){const o=PDe(i);this._modeling.updateModdleProperties(i,o,{messageRef:s})}}return t.$inject=["eventBus","elementTemplates","modeling","injector","moddleCopy","bpmnFactory"],t})();function WN(t){if(D(t,"bpmn:Event")){const n=G(t);return n.get("eventDefinitions")&&n.get("eventDefinitions")[0]}return un(t,["bpmn:ReceiveTask","bpmn:SendTask"])}var ZNt={__depends__:[pNt,{__init__:["elementTemplatesReplaceBehavior","elementTemplatesConditionalBehavior","elementTemplatesGeneratedValueBehavior","elementTemplatesReferencedElementBehavior","elementTemplatesUpdatePropertiesOrderBehavior","elementTemplatesCalledElementBehavior"],elementTemplatesReplaceBehavior:["type",qNt],elementTemplatesConditionalBehavior:["type",BNt],elementTemplatesGeneratedValueBehavior:["type",(()=>{class t extends pt{constructor(i,s,o,a,l){super(i),this._eventBus=i,this._elementTemplates=s,this._modeling=o,this.preExecute("shape.create",c=>{const u=c.shape,d=s.get(u);d&&d.properties.filter(f=>f.generatedValue).forEach(f=>{if(!zN(u,f))return;const h=Da(f);ADe(l,a,u,f,h)})},!0)}}return t.$inject=["eventBus","elementTemplates","modeling","commandStack","bpmnFactory"],t})()],elementTemplatesReferencedElementBehavior:["type",YNt],elementTemplatesUpdatePropertiesOrderBehavior:["type",GNt],elementTemplatesCalledElementBehavior:["type",(()=>{class t extends pt{constructor(i,s,o){super(i),this._modeling=s,this._elementTemplates=o,this.postExecuted(["element.updateProperties","element.updateModdleProperties"],this._ensureNoPropagation,!0,this)}_ensureNoPropagation(i){const{element:s}=i;if(!this._elementTemplates.get(s)||!D(s,"bpmn:CallActivity"))return;const o=es(s,"zeebe:CalledElement");if(o)for(const a of["propagateAllChildVariables","propagateAllParentVariables"])!1!==o.get(a)&&this._modeling.updateModdleProperties(s,o,{[a]:!1})}}return t.$inject=["eventBus","modeling","elementTemplates"],t})()]},FNt],__init__:["elementTemplatesLoader"],elementTemplates:["type",DJ],elementTemplatesLoader:["type",Q9t]};function $J(t){const n=t.metadata,i=t.version;if(n){if(!Di(n.created))return zDe(n.created);if(!Di(n.updated))return zDe(n.updated)}return Di(i)?null:i}function zDe(t){const n=new Date(t),i=n.getFullYear(),s=GN(String(n.getMonth()+1));return GN(String(n.getDate()))+"."+s+"."+i+" "+GN(String(n.getHours()))+":"+GN(String(n.getMinutes()))}function GN(t){return function JNt(t,n,i){for(;t.length<n;)t=i+t;return t}(t,2,"0")}function HDe(t={}){const{getTemplateId:n=JT}=t;return function(s){const{id:o,label:a,element:l,entries:c=[]}=s,[u,d]=eQ(["groups",o,"open"],!1),p=!c.length;return L("div",{class:"bio-properties-panel-group bio-properties-panel-templates-group","data-group-id":"group-"+o,children:[L("div",{class:rr()("bio-properties-panel-group-header",{empty:p,open:u&&!p}),onClick:()=>!p&&d(!u),children:[L("div",{title:a,class:"bio-properties-panel-group-header-title",children:a}),L("div",{class:"bio-properties-panel-group-header-buttons",children:[L(tLt,{element:l,getTemplateId:n}),!p&&L(eLt,{open:u})]})]}),L("div",{class:rr()("bio-properties-panel-group-entries",{open:u&&!p}),children:c.map(h=>{const{component:m,id:y}=h;return Mi(m,{...h,key:y,element:l})})})]})}}function eLt({open:t}){return L(B_,{title:"Toggle section",class:"bio-properties-panel-arrow",children:L(Sf,{class:t?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})})}function tLt({element:t,getTemplateId:n}){const s=function fLt(t,n,i){const s=i(n),o=t.get(n);if(!s)return{type:"NO_TEMPLATE"};if(!o)return{type:"UNKNOWN_TEMPLATE",templateId:s};if(o.deprecated)return{type:"DEPRECATED_TEMPLATE",template:o};const a=t.isCompatible(o),l=t.getLatest(s,{deprecated:!0})[0];return l&&l!==o?{type:"OUTDATED_TEMPLATE",template:o,newerTemplate:l,compatible:a}:a?{type:"KNOWN_TEMPLATE",template:o}:{type:"INCOMPATIBLE_TEMPLATE",template:o}}(P("elementTemplates"),t,n);return"NO_TEMPLATE"===s.type?L(nLt,{element:t}):"KNOWN_TEMPLATE"===s.type?L(rLt,{element:t}):"UNKNOWN_TEMPLATE"===s.type?L(iLt,{element:t}):"DEPRECATED_TEMPLATE"===s.type?L(lLt,{element:t,templateState:s}):"INCOMPATIBLE_TEMPLATE"===s.type?L(dLt,{element:t}):"OUTDATED_TEMPLATE"===s.type?L(oLt,{element:t,templateState:s}):void 0}function nLt({element:t}){const n=P("translate"),i=P("eventBus");return L(B_,{title:"Select a template",class:"bio-properties-panel-select-template-button",onClick:()=>i.fire("elementTemplates.select",{element:t}),children:[L(aN,{}),L("span",{children:n("Select")})]})}function rLt({element:t}){const n=P("translate"),i=P("elementTemplates"),s=[{entry:n("Unlink"),action:()=>i.unlinkTemplate(t)},{entry:L(sP,{}),action:()=>i.removeTemplate(t)}];return L(AT,{menuItems:s,class:"bio-properties-panel-applied-template-button",children:L(B_,{children:[L("span",{children:n("Applied")}),L(Sf,{class:"bio-properties-panel-arrow-down"})]})})}function sP(){return L("span",{class:"bio-properties-panel-remove-template",children:P("translate")("Remove")})}function iLt({element:t}){const n=P("translate"),i=P("elementTemplates"),s=[{entry:L(sLt,{})},{separator:!0},{entry:n("Unlink"),action:()=>i.unlinkTemplate(t)},{entry:L(sP,{}),action:()=>i.removeTemplate(t)}];return L(AT,{menuItems:s,class:"bio-properties-panel-template-not-found",children:L(B_,{children:[L("span",{children:n("Not found")}),L(Sf,{class:"bio-properties-panel-arrow-down"})]})})}function sLt(){return L("div",{class:"bio-properties-panel-template-not-found-text",children:P("translate")("The template applied was not found. Therefore, its properties cannot be shown. Unlink to access the data.")})}function oLt({element:t,templateState:n}){const{newerTemplate:i,compatible:s}=n,o=P("translate"),a=P("elementTemplates"),l=[{entry:L(aLt,{newerTemplate:i,compatible:s})},{separator:!0},{entry:o("Update"),action:()=>a.applyTemplate(t,i)},{entry:o("Unlink"),action:()=>a.unlinkTemplate(t)},{entry:L(sP,{}),action:()=>a.removeTemplate(t)}];return L(AT,{menuItems:l,class:s?"bio-properties-panel-template-update-available":"bio-properties-panel-template-incompatible",children:L(B_,{children:[L("span",{children:o(s?"Update available":"Incompatible")}),L(Sf,{class:"bio-properties-panel-arrow-down"})]})})}function aLt({newerTemplate:t,compatible:n}){return L("div",{class:"bio-properties-panel-template-update-available-text",children:P("translate")(n?"A new version of the template is available: {templateVersion}":"A version of this template is available that supports your environment: {templateVersion}",{templateVersion:$J(t)})})}function lLt({element:t,templateState:n}){const{template:i}=n,s=P("translate"),o=P("elementTemplates"),a=[{entry:L(cLt,{template:i})},{separator:!0},{entry:s("Unlink"),action:()=>o.unlinkTemplate(t)},{entry:L(sP,{}),action:()=>o.removeTemplate(t)}];return L(AT,{menuItems:a,class:"bio-properties-panel-deprecated-template-button",children:L(B_,{children:[L("span",{children:s("Deprecated")}),L(Sf,{class:"bio-properties-panel-arrow-down"})]})})}function cLt({template:t}){const n=P("translate"),{message:i=n("This template is deprecated."),documentationRef:s}=t.deprecated;return L("div",{class:"bio-properties-panel-deprecated-template-text",children:[i,s&&L(lp,{children:["\xa0",L("a",{href:s,children:L(uLt,{})})]})]})}function uLt(){return L("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z",fill:"#818798"})})}function dLt({element:t}){const n=P("translate"),i=P("elementTemplates"),s=[{entry:L(pLt,{})},{separator:!0},{entry:n("Unlink"),action:()=>i.unlinkTemplate(t)},{entry:L(sP,{}),action:()=>i.removeTemplate(t)}];return L(AT,{menuItems:s,class:"bio-properties-panel-template-incompatible",children:L(B_,{children:[L("span",{children:n("Incompatible")}),L(Sf,{class:"bio-properties-panel-arrow-down"})]})})}function pLt(){return L("div",{class:"bio-properties-panel-template-incompatible-text",children:P("translate")("No compatible version of this template was found for your environment. Unlink to access the template\u2019s data.")})}function UDe({element:t,elementTemplates:n}){const i=n.get(t);return i?[{id:"template-name",component:hLt,template:i},{id:"template-version",component:mLt,template:i},{id:"template-description",component:gLt,template:i}].filter(s=>!!s.component):[]}function hLt({id:t,template:n}){return L(VJ,{id:t,label:P("translate")("Name"),content:n.name})}function mLt({id:t,template:n}){const i=P("translate"),s=$J(n);return s?L(VJ,{id:t,label:i("Version"),content:s}):null}function gLt({id:t,template:n}){const i=P("translate"),{description:s}=n;return s?L(VJ,{id:t,label:i("Description"),content:n.description}):null}function VJ({id:t,label:n,content:i}){return L("div",{"data-entry-id":t,class:"bio-properties-panel-entry bio-properties-panel-text-entry",children:[L("span",{class:"bio-properties-panel-label",children:n}),L("span",{class:"bio-properties-panel-text-entry__content",children:i})]})}var qDe,yLt={};function _d(t,n,i){if(3===t.nodeType){var s="textContent"in t?t.textContent:t.nodeValue||"";if(!1!==_d.options.trim){var o=0===n||n===i.length-1;if((!(s=s.match(/^[\s\n]+$/g)&&"all"!==_d.options.trim?" ":s.replace(/(^[\s\n]+|[\s\n]+$)/g,"all"===_d.options.trim||o?"":" "))||" "===s)&&i.length>1&&o)return null}return s}if(1!==t.nodeType)return null;var a=String(t.nodeName).toLowerCase();if("script"===a&&!_d.options.allowScripts)return null;var l,c,u=_d.h(a,function(d){var p=d&&d.length;if(!p)return null;for(var f={},h=0;h<p;h++){var m=d[h],y=m.name,E=m.value;"on"===y.substring(0,2)&&_d.options.allowEvents&&(E=new Function(E)),f[y]=E}return f}(t.attributes),(c=(l=t.childNodes)&&Array.prototype.map.call(l,_d).filter(vLt))&&c.length?c:null);return _d.visitor&&_d.visitor(u),u}var WDe,vLt=function(t){return t},bLt={};function KN(t){var n=(t.type||"").toLowerCase(),i=KN.map;i&&i.hasOwnProperty(n)?(t.type=i[n],t.props=Object.keys(t.props||{}).reduce(function(s,o){var a;return s[(a=o,a.replace(/-(.)/g,function(l,c){return c.toUpperCase()}))]=t.props[o],s},{})):t.type=n.replace(/[^a-z0-9-]/i,"")}var GDe=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.setReviver=function(i){WDe=i},n.prototype.shouldComponentUpdate=function(i){var s=this.props;return i.wrap!==s.wrap||i.type!==s.type||i.markup!==s.markup},n.prototype.setComponents=function(i){if(this.map={},i)for(var s in i)if(i.hasOwnProperty(s)){var o=s.replace(/([A-Z]+)([A-Z][a-z0-9])|([a-z0-9]+)([A-Z])/g,"$1$3-$2$4").toLowerCase();this.map[o]=i[s]}},n.prototype.render=function(i){var s=i.wrap;void 0===s&&(s=!0);var o,a=i.type,l=i.markup,c=i.components,u=i.reviver,d=i.onError,p=i["allow-scripts"],f=i["allow-events"],h=i.trim,m=function(v,w){var g={};for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&-1===w.indexOf(x)&&(g[x]=v[x]);return g}(i,["wrap","type","markup","components","reviver","onError","allow-scripts","allow-events","trim"]),y=u||this.reviver||this.constructor.prototype.reviver||WDe||Mi;this.setComponents(c);var E={allowScripts:p,allowEvents:f,trim:h};try{o=function(v,w,g,x,T){var I=function(z,K){var U,H,me,Re,De="html"===K?"text/html":"application/xml";"html"===K?(Re="body",me="<!DOCTYPE html>\n<html><body>"+z+"</body></html>"):(Re="xml",me='<?xml version="1.0" encoding="UTF-8"?>\n<xml>'+z+"</xml>");try{U=(new DOMParser).parseFromString(me,De)}catch(_e){H=_e}if(U||"html"!==K||((U=qDe||(qDe=function(){if(document.implementation&&document.implementation.createHTMLDocument)return document.implementation.createHTMLDocument("");var _e=document.createElement("iframe");return _e.style.cssText="position:absolute; left:0; top:-999em; width:1px; height:1px; overflow:hidden;",_e.setAttribute("sandbox","allow-forms"),document.body.appendChild(_e),_e.contentWindow.document}())).open(),U.write(me),U.close()),U){var ye=U.getElementsByTagName(Re)[0],at=ye.firstChild;return z&&!at&&(ye.error="Document parse failed."),at&&"parsererror"===String(at.nodeName).toLowerCase()&&(at.removeChild(at.firstChild),at.removeChild(at.lastChild),ye.error=at.textContent||at.nodeValue||H||"Unknown error",ye.removeChild(at)),ye}}(v,w);if(I&&I.error)throw new Error(I.error);var A=I&&I.body||I;KN.map=x||bLt;var z,U,H,$=A&&(z=A,U=g,H=T,_d.visitor=KN,_d.h=U,_d.options=H||yLt,_d(z));return KN.map=null,$&&$.props&&$.props.children||null}(l,a,y,this.map,E)}catch(v){d?d({error:v}):typeof console<"u"&&console.error&&console.error("preact-markup: "+v)}if(!1===s)return o||null;var _=m.hasOwnProperty("className")?"className":"class",S=m[_];return S?S.splice?S.splice(0,0,"markup"):"string"==typeof S?m[_]+=" markup":"object"==typeof S&&(S.markup=!0):m[_]="markup",y("div",m,o||null)},n}(hf);const xLt=["h1","h2","h3","h4","h5","span","em","a","p","div","ul","ol","li","hr","blockquote","img","pre","code","br","strong"],wLt=["align","alt","class","href","id","name","rel","target","src"],CLt=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,SLt=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,OLt=document.createElement("form");function KDe(t){const n=(new DOMParser).parseFromString(`<!DOCTYPE html>\n<html><body><div>${t}`,"text/html");n.normalize();const i=n.body.firstChild;return i?(YDe(i),(new XMLSerializer).serializeToString(i)):""}function YDe(t){if(3===t.nodeType)return;if(1!==t.nodeType)return t.remove();const n=t.tagName.toLowerCase();if(!xLt.includes(n))return t.remove();const i=t.attributes;for(let s=i.length;s--;){const o=i[s],a=o.name,l=a.toLowerCase(),c=o.value.trim();t.removeAttribute(a),TLt(0,l,c)&&t.setAttribute(a,c)}"a"===n&&"_blank"===t.getAttribute("target")&&"noopener"!==t.getAttribute("rel")&&t.setAttribute("rel","noopener");for(let s=t.childNodes.length;s--;)YDe(t.childNodes[s])}function TLt(t,n,i){return!(!wLt.includes(n)||("id"===n||"name"===n)&&(i in document||i in OLt)||"target"===n&&"_blank"!==i||"href"===n&&!CLt.test(i.replace(SLt,"")))}function Ny(t){const{tooltip:n}=t;return n&&L(GDe,{markup:KDe(n),trim:!1})}function XDe(t,n,i,s){const o=Cs(Gw(t,n,i,s),[t,n,i,s]),a=Cs(Ww(i,s),[i,s]),[l,c]=Ir(PLt(s,a())),u=Cs(f=>{!l&&"string"==typeof f&&f.startsWith("=")&&c(!0),l&&("string"!=typeof f||!f.startsWith("="))&&c(!1)},[l]),d=Cs((f,h)=>{u(f),o(sDe(f,s.type))},[o,s,u]),p=Cs(()=>l?a():QDe(a(),s.type),[a,s,l]);return BN(s)?[p,d]:[a,o]}const QDe=(t,n)=>typeof t>"u"?t:("string"==typeof t&&t.startsWith("=")&&(t=t.slice(1)),"Number"===n?Number(t):"Boolean"===n?"false"!==t:t),PLt=(t,n)=>!BN(t)||("Boolean"===t.type?!("=true"===n||"=false"===n):"Number"!==t.type||isNaN(QDe(n,t.type)));function Ww(t,n){return function(){return zN(t,n)}}function Gw(t,n,i,s){return function(a){return ADe(t,n,i,s,a)}}function Kw(t,n){return i=>function IDe(t,n,i=PNt){const{constraints:s={},label:o}=n,{maxLength:a,minLength:l,notEmpty:c}=s;if(c&&function ONt(t){return"string"==typeof t?!t.trim().length:void 0===t}(t))return`${o} ${i("must not be empty.")}`;if(n.feel&&function DNt(t){return Or(t)&&t.trim().startsWith("=")}(t))return;if(a&&(t||"").length>a)return`${o} ${i("must have max length {maxLength}.",{maxLength:a})}`;if(l&&(t||"").length<l)return`${o} ${i("must have min length {minLength}.",{minLength:l})}`;let{pattern:u}=s;if(u){let d;if(Or(u)||(d=u.message,u=u.value),!function TNt(t,n){return new RegExp(n).test(t)}(t,u))return d?`${o} ${i(d)}`:`${o} ${i("must match pattern {pattern}.",{pattern:u})}`}}(i,n,t)}function ZDe(t){return["zeebe:property","zeebe:taskHeader"].includes(t.binding.type)}function Ed(t){const{description:n}=t,i=P("translate");return n&&L(GDe,{markup:KDe(i(n)),trim:!1})}function MLt(t){const{element:n,id:i,property:s}=t,{description:o,editable:a,label:l,feel:c,language:u,placeholder:d,tooltip:p}=s,f=P("bpmnFactory"),h=P("commandStack"),m=P("debounceInput"),y=P("translate");return vc({debounce:m,element:n,id:i,label:l,feel:c,placeholder:d,monospace:!!u,autoResize:!0,description:Ed({description:o}),getValue:Ww(n,s),setValue:Gw(f,h,n,s),validate:Kw(y,s),disabled:!1===a,tooltip:Ny({tooltip:p})})}function ALt(t){const{element:n,id:i,property:s}=t,{description:o,editable:a,label:l,feel:c,placeholder:u,tooltip:d}=s,p=P("bpmnFactory"),f=P("commandStack"),h=P("debounceInput"),m=P("translate");return Ft({debounce:h,element:n,getValue:Ww(n,s),id:i,label:l,feel:c,placeholder:u,description:Ed({description:o}),setValue:Gw(p,f,n,s),validate:Kw(m,s),disabled:!1===a,tooltip:Ny({tooltip:d})})}function JDe(t){return n=>{const{bpmnElement:i,element:s}=n,o=(i||s).businessObject,[a,l]=Ir([]),c=P("eventBus"),u=function ILt(t,n){return P(t,!1)||n}("variableResolver",{getVariablesForElement:L6e});return Yn(()=>{const d=function(){var f=N(function*(){const h=yield u.getVariablesForElement(o);l(h.map(m=>({...m,info:m.info||m.origin&&"Written in "+m.origin.map(y=>y.name||y.id).join(", ")})))});return function(){return f.apply(this,arguments)}}(),p=()=>{d()};return c.on("commandStack.changed",p),p(),()=>{c.off("commandStack.changed",p)}},[o]),L(t,{...n,variables:a})}}function eke(t){return n=>{const i=ol(()=>{const s=P("config");return s&&s.propertiesPanel&&s.propertiesPanel.feelTooltipContainer},[]);return L(t,{...n,tooltipContainer:i})}}const tke=eke(F_),nke=eke(function r4t(t){return L(F_,{class:"bio-properties-panel-feel-textarea",OptionalComponent:J5t,...t})}),RLt=JDe(tke),NLt=JDe(nke);function rke(t){const{element:n,id:i,property:s}=t,{description:o,editable:a,label:l,feel:c,placeholder:u,tooltip:d}=s,p=P("bpmnFactory"),f=P("commandStack"),h=P("debounceInput"),m=P("translate");return(ZDe(s)?tke:RLt)({debounce:h,element:n,getValue:Ww(n,s),id:i,label:l,feel:c,placeholder:u,description:Ed({description:o}),setValue:Gw(p,f,n,s),validate:Kw(m,s),disabled:!1===a,tooltip:Ny({tooltip:d})})}function LLt(t){const{element:n,id:i,property:s}=t,{description:o,editable:a,label:l,feel:c,placeholder:u,tooltip:d}=s,p=P("bpmnFactory"),f=P("commandStack"),h=P("debounceInput"),m=P("translate");return(ZDe(s)?nke:NLt)({debounce:h,element:n,getValue:Ww(n,s),id:i,label:l,feel:c,placeholder:u,description:Ed({description:o}),setValue:Gw(p,f,n,s),validate:Kw(m,s),disabled:!1===a,tooltip:Ny({tooltip:d})})}function FLt(t){const{element:n,id:i,property:s}=t,{description:o,editable:a,label:l,tooltip:c}=s,u=P("bpmnFactory"),d=P("commandStack"),p=P("translate");return Yi({element:n,id:i,label:l,getOptions:()=>{const{choices:h,optional:m}=s;let y=[];return y=h.map(({name:E,value:_})=>({label:E,value:_})),m&&(y=[{label:"",value:void 0},...y]),y},description:Ed({description:o}),getValue:Ww(n,s),setValue:Gw(u,d,n,s),validate:Kw(p,s),disabled:!1===a,tooltip:Ny({tooltip:c})})}function BLt(t){const{element:n,id:i,property:s}=t,{description:o,editable:a,label:l,tooltip:c,feel:u}=s,d=P("bpmnFactory"),p=P("commandStack"),f=P("debounceInput"),h=P("translate"),m="optional"===u?i4t:ul,[y,E]=XDe(d,p,n,s);return m({element:n,debounce:f,translate:h,getValue:y,id:i,label:l,description:Ed({description:o}),setValue:E,disabled:!1===a,tooltip:Ny({tooltip:c})})}function $Lt(t){const{element:n,id:i,property:s}=t,{description:o,editable:a,label:l,feel:c,tooltip:u}=s,d="optional"===c?n4t:W5t,p=P("bpmnFactory"),f=P("commandStack"),h=P("debounceInput"),m=P("translate"),[y,E]=XDe(p,f,n,s),_=Cs(S=>BN(s)&&Ln(S)&&S.toString().includes("e")?m("Scientific notation is disallowed in FEEL."):Kw(m,s)(S),[m,s]);return d({debounce:h,element:n,getValue:y,id:i,label:l,description:Ed({description:o}),setValue:E,validate:_,disabled:!1===a,tooltip:Ny({tooltip:u})})}function ike(t,n){const{id:s,label:o,openByDefault:a=!0,properties:l,templateId:c,tooltip:u}=n,d={id:s,label:o,component:$r,entries:[],shouldOpen:a,tooltip:u};l.forEach((p,f)=>{const h=function jLt(t,n,i){let{type:s,feel:o}=i;return s||(s=function zLt(t){const{binding:n}=t,{type:i}=n;if([NJ,H_,jw,$w,Vw,jN,rP].includes(i))return"String"}(i)),"required"===o?{id:t,component:rke,isEdited:Fs,property:i}:"Number"===s?{id:t,component:$Lt,isEdited:G5t,property:i}:"Boolean"===s?{id:t,component:BLt,isEdited:vd,property:i}:"Dropdown"===s?{id:t,component:FLt,isEdited:ms,property:i}:"String"===s?o?{id:t,component:rke,isEdited:Fs,property:i}:{id:t,component:ALt,isEdited:en,property:i}:"Text"===s?o?{id:t,component:LLt,isEdited:Fs,property:i}:{id:t,component:MLt,isEdited:Mu,property:i}:void 0}(`custom-entry-${c}-${f}`,0,p);h&&d.entries.push(h)}),d.entries.length&&t.push(d)}function jJ(t){return D(t,"bpmn:ReceiveTask")?G(t):function ske(t,n){return Gt(G(t).get("eventDefinitions")||[],function(o){return D(o,n)})}(t,"bpmn:MessageEventDefinition")}const ake="create-new";function KLt(t){const{element:n}=t,i=P("bpmnFactory"),s=P("modeling"),o=P("translate"),a=jJ(n);return function HLt(t){const{autoFocusEntry:n,element:i,getOptions:s}=t,o=s(i),a=Cw(o);return Yn(()=>{if(n&&a&&o.length>a.length){const l=$n(`[data-entry-id="${n}"]`),c=$n(".bio-properties-panel-input",l);c&&c.select()}},[o]),L(Yi,{...t})}({element:n,id:"messageRef",label:o("Global message reference"),autoFocusEntry:"messageName",getValue:()=>{const d=function qLt(t){const n=jJ(t);return n&&n.get("messageRef")}(n);return d?d.get("id"):""},setValue:d=>{const p=nP(a);let f;if(d===ake){const h=function wDe(t){return new Yd([32,32,1]).nextPrefixed(t)}("Message_");f=Ho("bpmn:Message",{id:h,name:h},p,i),d=f.get("id")}return f=function J9t(t,n,i){return CDe(t,n).find(o=>o.id===i)}(a,"bpmn:Message",d)||f,s.updateModdleProperties(n,a,{messageRef:f})},getOptions:()=>{let d=[{value:"",label:o("<none>")},{value:ake,label:o("Create new ...")}];const f=function YLt(t){return t.filter(n=>!n.get("zeebe:modelerTemplate"))}(CDe(G(n),"bpmn:Message"));return function XLt(t){return ba(t,n=>(n.name||"").toLowerCase())}(f).forEach(h=>{d.push({value:h.get("id"),label:h.get("name")})}),d}})}const ZLt=["general","documentation","multiInstance","Zeebe__ExecutionListeners"];function lke(t,n,i){let s=t;Array.isArray(t)||(s=[t]);const o=n.reduce((a,l,c)=>s.includes(l.id)?c:a,-1);-1!==o?n.splice(o+1,0,...i):n.unshift(...i)}var sFt={__depends__:[ZNt,{__depends__:[nl],__init__:["elementTemplatesPropertiesProvider"],elementTemplatesPropertiesProvider:["type",(()=>{let t=class{constructor(i,s,o){s.registerProvider(300,this),this._elementTemplates=i,this._injector=o}getGroups(i){return s=>{const o=this._injector;if(function eFt(t,n){const i=function tFt(t,n){return t.find(i=>i.id===n)}(t,"message");i&&(i.entries=function nFt(t,n){return t.map(i=>n.find(s=>s.id===i.id)||i)}(i.entries,function GLt(t){const{element:n}=t;return function ULt(t){return D(t,"bpmn:ReceiveTask")||un(t,["bpmn:StartEvent","bpmn:EndEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"])&&!!jJ(t)}(n)?[{id:"messageRef",component:KLt,isEdited:ms}]:[]}({element:n})))}(s,i),!this._shouldShowTemplateProperties(i))return s;const a=o.get("translate");lke("documentation",s=s.slice(),[{element:i,id:"ElementTemplates__Template",label:a("Template"),component:HDe({getTemplateId:bc}),entries:UDe({element:i,elementTemplates:this._elementTemplates})}]);let c=this._elementTemplates.get(i);return c&&(c=qw(i,c),lke("ElementTemplates__Template",s,[].concat(function VLt(t){const{element:n,elementTemplate:i,injector:s}=t,o=s.get("translate"),a=[],{id:l,properties:c,groups:u}=i,d=function DLt(t){return of(t,"group")}(c),p=[];return fe(d,(f,h)=>{const m=function kLt(t,n){return Gt(t,i=>i.id===n)}(u,h);if(!m)return p.push(...f);ike(a,{element:n,id:`ElementTemplates__CustomProperties-${h}`,label:o(m.label),openByDefault:m.openByDefault,properties:f,templateId:`${l}-${h}`,tooltip:Ny({tooltip:m.tooltip})})}),p.length&&ike(a,{id:"ElementTemplates__CustomProperties",label:o("Custom properties"),element:n,properties:p,templateId:l}),a}({element:i,elementTemplate:c,injector:o})))),bc(i)&&(s=function rFt(t,n){return t.entriesVisible?n:n.filter(i=>ZLt.includes(i.id)||i.id.startsWith("ElementTemplates__"))}(c||{},s)),s}}_shouldShowTemplateProperties(i){return bc(i)||this._elementTemplates.getAll(i).length}};return t.$inject=["elementTemplates","propertiesPanel","injector"],t})()]}]};function GJ(){}function Pke(t,n){this.model=t,this.properties=n}GJ.prototype.get=function(t){return this.$model.properties.get(this,t)},GJ.prototype.set=function(t,n){this.$model.properties.set(this,t,n)},Pke.prototype.createType=function(t){var n=this.model,i=this.properties,s=Object.create(GJ.prototype);fe(t.properties,function(l){!l.isMany&&void 0!==l.default&&(s[l.name]=l.default)}),i.defineModel(s,n),i.defineDescriptor(s,t);var o=t.ns.name;function a(l){i.define(this,"$type",{value:o,enumerable:!0}),i.define(this,"$attrs",{value:{}}),i.define(this,"$parent",{writable:!0}),fe(l,Io(function(c,u){this.set(u,c)},this))}return a.prototype=s,a.hasType=s.$instanceOf=this.model.hasType,i.defineModel(a,n),i.defineDescriptor(a,t),a};var aBt={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},Dke={String:function(t){return t},Boolean:function(t){return"true"===t},Integer:function(t){return parseInt(t,10)},Real:function(t){return parseFloat(t)}};function KJ(t,n){var i=Dke[t];return i?i(n):n}function YJ(t){return!!aBt[t]}function kke(t){return!!Dke[t]}function zl(t,n){var s,o,i=t.split(/:/);if(1===i.length)s=t,o=n;else{if(2!==i.length)throw new Error("expected <prefix:localName> or <localName>, got "+t);s=i[1],o=i[0]}return{name:t=(o?o+":":"")+s,prefix:o,localName:s}}function xd(t){this.ns=t,this.name=t.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function Ly(t,n){this.packageMap={},this.typeMap={},this.packages=[],this.properties=n,fe(t,Io(this.registerPackage,this))}function Mke(t,n,i){var s=n[i];if(s in t)throw new Error("package with "+i+" <"+s+"> already defined")}function W_(t){this.model=t}function Ake(t,n,i){Object.defineProperty(t,n.name,{enumerable:!n.isReference,writable:!0,value:i,configurable:!0})}function XJ(t){return t.replace(/^:/,"")}function wp(t,n={}){this.properties=new W_(this),this.factory=new Pke(this,this.properties),this.registry=new Ly(t,this.properties),this.typeCache={},this.config=n}xd.prototype.build=function(){return td(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},xd.prototype.addProperty=function(t,n,i){"boolean"==typeof n&&(i=n,n=void 0),this.addNamedProperty(t,!1!==i);var s=this.properties;void 0!==n?s.splice(n,0,t):s.push(t)},xd.prototype.replaceProperty=function(t,n,i){var s=t.ns,o=this.properties,a=this.propertiesByName,l=t.name!==n.name;if(t.isId){if(!n.isId)throw new Error("property <"+n.ns.name+"> must be id property to refine <"+t.ns.name+">");this.setIdProperty(n,!1)}if(t.isBody){if(!n.isBody)throw new Error("property <"+n.ns.name+"> must be body property to refine <"+t.ns.name+">");this.setBodyProperty(n,!1)}var c=o.indexOf(t);if(-1===c)throw new Error("property <"+s.name+"> not found in property list");o.splice(c,1),this.addProperty(n,i?void 0:c,l),a[s.name]=a[s.localName]=n},xd.prototype.redefineProperty=function(t,n,i){var s=t.ns.prefix,o=n.split("#"),a=zl(o[0],s),l=zl(o[1],a.prefix).name,c=this.propertiesByName[l];if(!c)throw new Error("refined property <"+l+"> not found");this.replaceProperty(c,t,i),delete t.redefines},xd.prototype.addNamedProperty=function(t,n){var i=t.ns,s=this.propertiesByName;n&&(this.assertNotDefined(t,i.name),this.assertNotDefined(t,i.localName)),s[i.name]=s[i.localName]=t},xd.prototype.removeNamedProperty=function(t){var n=t.ns,i=this.propertiesByName;delete i[n.name],delete i[n.localName]},xd.prototype.setBodyProperty=function(t,n){if(n&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+t.ns.name+">)");this.bodyProperty=t},xd.prototype.setIdProperty=function(t,n){if(n&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+t.ns.name+">)");this.idProperty=t},xd.prototype.assertNotTrait=function(t){if((t.extends||[]).length)throw new Error(`cannot create <${t.name}> extending <${t.extends}>`)},xd.prototype.assertNotDefined=function(t,n){var i=t.name,s=this.propertiesByName[i];if(s)throw new Error("property <"+i+"> already defined; override of <"+s.definedBy.ns.name+"#"+s.ns.name+"> by <"+t.definedBy.ns.name+"#"+t.ns.name+"> not allowed without redefines")},xd.prototype.hasProperty=function(t){return this.propertiesByName[t]},xd.prototype.addTrait=function(t,n){n&&this.assertNotTrait(t);var i=this.allTypesByName,s=this.allTypes,o=t.name;o in i||(fe(t.properties,Io(function(a){a=Ce({},a,{name:a.ns.localName,inherited:n}),Object.defineProperty(a,"definedBy",{value:t});var l=a.replaces,c=a.redefines;l||c?this.redefineProperty(a,l||c,l):(a.isBody&&this.setBodyProperty(a),a.isId&&this.setIdProperty(a),this.addProperty(a))},this)),s.push(t),i[o]=t)},Ly.prototype.getPackage=function(t){return this.packageMap[t]},Ly.prototype.getPackages=function(){return this.packages},Ly.prototype.registerPackage=function(t){t=Ce({},t);var n=this.packageMap;Mke(n,t,"prefix"),Mke(n,t,"uri"),fe(t.types,Io(function(i){this.registerType(i,t)},this)),n[t.uri]=n[t.prefix]=t,this.packages.push(t)},Ly.prototype.registerType=function(t,n){var i=zl((t=Ce({},t,{superClass:(t.superClass||[]).slice(),extends:(t.extends||[]).slice(),properties:(t.properties||[]).slice(),meta:Ce(t.meta||{})})).name,n.prefix),s=i.name,o={};fe(t.properties,Io(function(a){var l=zl(a.name,i.prefix),c=l.name;YJ(a.type)||(a.type=zl(a.type,l.prefix).name),Ce(a,{ns:l,name:c}),o[c]=a},this)),Ce(t,{ns:i,name:s,propertiesByName:o}),fe(t.extends,Io(function(a){var l=zl(a,i.prefix),c=this.typeMap[l.name];c.traits=c.traits||[],c.traits.push(s)},this)),this.definePackage(t,n),this.typeMap[s]=t},Ly.prototype.mapTypes=function(t,n,i){var s=YJ(t.name)?{name:t.name}:this.typeMap[t.name],o=this;function a(u,d){var p=zl(u,YJ(u)?"":t.prefix);o.mapTypes(p,n,d)}function l(u){return a(u,!0)}if(!s)throw new Error("unknown type <"+t.name+">");fe(s.superClass,i?l:function c(u){return a(u,!1)}),n(s,!i),fe(s.traits,l)},Ly.prototype.getEffectiveDescriptor=function(t){var n=zl(t),i=new xd(n);this.mapTypes(n,function(o,a){i.addTrait(o,a)});var s=i.build();return this.definePackage(s,s.allTypes[s.allTypes.length-1].$pkg),s},Ly.prototype.definePackage=function(t,n){this.properties.define(t,"$pkg",{value:n})},W_.prototype.set=function(t,n,i){if(!Or(n)||!n.length)throw new TypeError("property name must be a non-empty string");var s=this.getProperty(t,n),o=s&&s.name;!function lBt(t){return typeof t>"u"}(i)?s?o in t?t[o]=i:Ake(t,s,i):t.$attrs[XJ(n)]=i:s?delete t[o]:delete t.$attrs[XJ(n)]},W_.prototype.get=function(t,n){var i=this.getProperty(t,n);if(!i)return t.$attrs[XJ(n)];var s=i.name;return!t[s]&&i.isMany&&Ake(t,i,[]),t[s]},W_.prototype.define=function(t,n,i){if(!i.writable){var s=i.value;delete(i=Ce({},i,{get:function(){return s}})).value}Object.defineProperty(t,n,i)},W_.prototype.defineDescriptor=function(t,n){this.define(t,"$descriptor",{value:n})},W_.prototype.defineModel=function(t,n){this.define(t,"$model",{value:n})},W_.prototype.getProperty=function(t,n){var i=this.model,s=i.getPropertyDescriptor(t,n);if(s)return s;if(n.includes(":"))return null;const o=i.config.strict;if(typeof o<"u"){const a=new TypeError(`unknown property <${n}> on <${t.$type}>`);if(o)throw a;typeof console<"u"&&console.warn(a)}return null},wp.prototype.create=function(t,n){var i=this.getType(t);if(!i)throw new Error("unknown type <"+t+">");return new i(n)},wp.prototype.getType=function(t){var n=this.typeCache,i=Or(t)?t:t.ns.name,s=n[i];return s||(t=this.registry.getEffectiveDescriptor(i),s=n[i]=this.factory.createType(t)),s},wp.prototype.createAny=function(t,n,i){var s=zl(t),o={$type:t,$instanceOf:function(l){return l===this.$type},get:function(l){return this[l]},set:function(l,c){gh(this,[l],c)}};return this.properties.defineDescriptor(o,{name:t,isGeneric:!0,ns:{prefix:s.prefix,localName:s.localName,uri:n}}),this.properties.defineModel(o,this),this.properties.define(o,"get",{enumerable:!1,writable:!0}),this.properties.define(o,"set",{enumerable:!1,writable:!0}),this.properties.define(o,"$parent",{enumerable:!1,writable:!0}),this.properties.define(o,"$instanceOf",{enumerable:!1,writable:!0}),fe(i,function(l,c){si(l)&&void 0!==l.value?o[l.name]=l.value:o[c]=l}),o},wp.prototype.getPackage=function(t){return this.registry.getPackage(t)},wp.prototype.getPackages=function(){return this.registry.getPackages()},wp.prototype.getElementDescriptor=function(t){return t.$descriptor},wp.prototype.hasType=function(t,n){return void 0===n&&(n=t,t=this),n in t.$model.getElementDescriptor(t).allTypesByName},wp.prototype.getPropertyDescriptor=function(t,n){return this.getElementDescriptor(t).propertiesByName[n]},wp.prototype.getTypeDescriptor=function(t){return this.registry.typeMap[t]};var Ike=String.fromCharCode,cBt=Object.prototype.hasOwnProperty,uBt=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,lP={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function dBt(t,n,i,s){return s?cBt.call(lP,s)?lP[s]:"&"+s+";":Ike(n||parseInt(i,16))}function G_(t){return t.length>3&&-1!==t.indexOf("&")?t.replace(uBt,dBt):t}Object.keys(lP).forEach(function(t){lP[t.toUpperCase()]=lP[t]});var Rke="non-whitespace outside of root node";function Zw(t){return new Error(t)}function Nke(t){return"missing namespace for prefix <"+t+">"}function iL(t){return{get:t,enumerable:!0}}function pBt(t){var i,n={};for(i in t)n[i]=t[i];return n}function QJ(t){return t+"$uri"}function Lke(){return{line:0,column:0}}function hBt(t){throw t}function Fke(t){if(!this)return new Fke(t);var i,s,o,a,c,u,d,p,_,n=t&&t.proxy,l=hBt,f=Lke,h=!1,m=!1,y=null,E=!1;function S(g){g instanceof Error||(g=Zw(g)),y=g,l(g,f)}function v(g){c&&(g instanceof Error||(g=Zw(g)),c(g,f))}this.on=function(g,x){if("function"!=typeof x)throw Zw("required args <name, cb>");switch(g){case"openTag":s=x;break;case"text":i=x;break;case"closeTag":o=x;break;case"error":l=x;break;case"warn":c=x;break;case"cdata":a=x;break;case"attention":p=x;break;case"question":d=x;break;case"comment":u=x;break;default:throw Zw("unsupported event: "+g)}return this},this.ns=function(g){if(typeof g>"u"&&(g={}),"object"!=typeof g)throw Zw("required args <nsMap={}>");var T,x={};for(T in g)x[T]=g[T];return m=!0,_=x,this},this.parse=function(g){if("string"!=typeof g)throw Zw("required args <xml=string>");return y=null,function w(g){var I,me,Re,De,ye,at,_e,be,ke,Pe,se,x=m?[]:null,T=m?function fBt(t){var i,s,n={};for(i in t)n[s=t[i]]=s,n[QJ(s)]=i;return n}(_):null,A=[],$=0,z=!1,K=!1,U=0,H=0,Y="",ie=0;function $e(){if(null!==se)return se;var M,k,ne,Bt,Kt,ft,rn,q,yt,X,le,re=m&&T.xmlns,Se=m&&h?[]:null,te=ie,Ke=Y,rt=Ke.length,B={},zt={};e:for(;te<rt;te++)if(yt=!1,X=Ke.charCodeAt(te),!(32===X||X<14&&X>8)){for((X<65||X>122||X>90&&X<97)&&95!==X&&58!==X&&(v("illegal first char attribute name"),yt=!0),le=te+1;le<rt;le++)if(!((X=Ke.charCodeAt(le))>96&&X<123||X>64&&X<91||X>47&&X<59||46===X||45===X||95===X)){if(32===X||X<14&&X>8){v("missing attribute value"),te=le;continue e}if(61===X)break;v("illegal attribute name char"),yt=!0}if("xmlns:xmlns"===(q=Ke.substring(te,le))&&(v("illegal declaration of xmlns"),yt=!0),34===(X=Ke.charCodeAt(le+1)))-1===(le=Ke.indexOf('"',te=le+2))&&-1!==(le=Ke.indexOf("'",te))&&(v("attribute value quote missmatch"),yt=!0);else if(39===X)-1===(le=Ke.indexOf("'",te=le+2))&&-1!==(le=Ke.indexOf('"',te))&&(v("attribute value quote missmatch"),yt=!0);else for(v("missing attribute value quotes"),yt=!0,le+=1;le<rt&&!(32===(X=Ke.charCodeAt(le+1))||X<14&&X>8);le++);for(-1===le&&(v("missing closing quotes"),le=rt,yt=!0),yt||(ft=Ke.substring(te,le)),te=le;le+1<rt&&!(32===(X=Ke.charCodeAt(le+1))||X<14&&X>8);le++)te===le&&(v("illegal character after attribute end"),yt=!0);if(te=le+1,yt)continue e;if(q in zt){v("attribute <"+q+"> already defined");continue}if(zt[q]=!0,!m){B[q]=ft;continue}if(h){if(null!==(Kt="xmlns"===q?"xmlns":120===q.charCodeAt(0)&&"xmlns:"===q.substr(0,6)?q.substr(6):null)){if(M=G_(ft),k=QJ(Kt),!(rn=_[M])){if("xmlns"===Kt||k in T&&T[k]!==M)do{rn="ns"+$++}while(typeof T[rn]<"u");else rn=Kt;_[M]=rn}T[Kt]!==rn&&(Bt||(T=pBt(T),Bt=!0),T[Kt]=rn,"xmlns"===Kt&&(T[QJ(rn)]=M,re=rn),T[k]=M),B[q]=ft;continue}Se.push(q,ft);continue}if(-1===(X=q.indexOf(":"))){B[q]=ft;continue}if(!(ne=T[q.substring(0,X)])){v(Nke(q.substring(0,X)));continue}B[q=re===ne?q.substr(X+1):ne+q.substr(X)]=ft}if(h)for(te=0,rt=Se.length;te<rt;te++){if(q=Se[te++],ft=Se[te],-1!==(X=q.indexOf(":"))){if(!(ne=T[q.substring(0,X)])){v(Nke(q.substring(0,X)));continue}q=re===ne?q.substr(X+1):ne+q.substr(X)}B[q]=ft}return se=B}for(f=function j(){for(var te,Ke,M=/(\r\n|\r|\n)/g,k=0,ne=0,re=0,Se=H;U>=re&&(te=M.exec(g))&&!((Se=te[0].length+te.index)>U);)k+=1,re=Se;return-1==U?(ne=Se,Ke=g.substring(H)):0===H?Ke=g.substring(H,U):(ne=U-re,Ke=-1==H?g.substring(U):g.substring(U,H+1)),{data:Ke,line:k,column:ne}},n&&(Pe=Object.create({},{name:iL(function(){return be}),originalName:iL(function(){return ke}),attrs:iL($e),ns:iL(function(){return T})}));-1!==H;){if(-1===(U=60===g.charCodeAt(H)?H:g.indexOf("<",H)))return A.length?S("unexpected end of file"):0===H?S("missing start tag"):void(H<g.length&&g.substring(H).trim()&&v(Rke));if(H!==U)if(A.length){if(i&&(i(g.substring(H,U),G_,f),E))return}else if(g.substring(H,U).trim()&&(v(Rke),E))return;if(33===(ye=g.charCodeAt(U+1))){if(91===(De=g.charCodeAt(U+2))&&"CDATA["===g.substr(U+3,6)){if(-1===(H=g.indexOf("]]>",U)))return S("unclosed cdata");if(a&&(a(g.substring(U+9,H),f),E))return;H+=3;continue}if(45===De&&45===g.charCodeAt(U+3)){if(-1===(H=g.indexOf("--\x3e",U)))return S("unclosed comment");if(u&&(u(g.substring(U+4,H),G_,f),E))return;H+=3;continue}}if(63!==ye){for(me=U+1;;me++){if(at=g.charCodeAt(me),isNaN(at))return H=-1,S("unclosed tag");if(34===at)me=-1!==(De=g.indexOf('"',me+1))?De:me;else if(39===at)me=-1!==(De=g.indexOf("'",me+1))?De:me;else if(62===at){H=me;break}}if(33!==ye){if(se={},47===ye){if(z=!1,K=!0,!A.length)return S("missing open tag");if(me=be=A.pop(),g.substring(U+2,De=U+2+me.length)!==me)return S("closing tag mismatch");for(;De<H;De++)if(!(32===(ye=g.charCodeAt(De))||ye>8&&ye<14))return S("close tag")}else{if(47===g.charCodeAt(H-1)?(me=be=g.substring(U+1,H-1),z=!0,K=!0):(me=be=g.substring(U+1,H),z=!0,K=!1),!(ye>96&&ye<123||ye>64&&ye<91||95===ye||58===ye))return S("illegal first char nodeName");for(De=1,Re=me.length;De<Re;De++)if(!((ye=me.charCodeAt(De))>96&&ye<123||ye>64&&ye<91||ye>47&&ye<59||45===ye||95===ye||46==ye)){if(32===ye||ye<14&&ye>8){be=me.substring(0,De),se=null;break}return S("invalid nodeName")}K||A.push(be)}if(m){if(I=T,z&&(K||x.push(I),null===se&&(h=-1!==me.indexOf("xmlns",De))&&(ie=De,Y=me,$e(),h=!1)),ke=be,-1!==(ye=be.indexOf(":"))){if(!(_e=T[be.substring(0,ye)]))return S("missing namespace on <"+ke+">");be=be.substr(ye+1)}else _e=T.xmlns;_e&&(be=_e+":"+be)}if(z&&(ie=De,Y=me,s&&(n?s(Pe,G_,K,f):s(be,$e,G_,K,f),E)))return;if(K){if(o&&(o(n?Pe:be,G_,z,f),E))return;m&&(T=z?I:x.pop())}H+=1}else{if(p&&(p(g.substring(U,H+1),G_,f),E))return;H+=1}}else{if(-1===(H=g.indexOf("?>",U)))return S("unclosed question");if(d&&(d(g.substring(U,H+2),f),E))return;H+=2}}}(g),f=Lke,E=!1,y},this.stop=function(){E=!0}}function Bke(t){return t.xml&&"lowerCase"===t.xml.tagAlias}var ZJ={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"};function Vke(t){return t.xml&&t.xml.serialize}function jke(t,n){return Bke(n)?t.prefix+":"+function gBt(t){return t.charAt(0).toUpperCase()+t.slice(1)}(t.localName):t.name}function Fy(t){return new Error(t)}function Gm(t){return t.$descriptor}function bBt(t){Ce(this,t),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(n){this.references.push(n)},this.addElement=function(n){if(!n)throw Fy("expected element");var a,i=this.elementsById,o=Gm(n).idProperty;if(o&&(a=n.get(o.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(a))throw new Error("illegal ID <"+a+">");if(i[a])throw Fy("duplicate ID <"+a+">");i[a]=n}},this.addWarning=function(n){this.warnings.push(n)}}function cP(){}function JJ(){}function Jw(){}function uP(t,n){this.property=t,this.context=n}function eee(t,n){this.element=n,this.propertyDesc=t}function sL(){}function _c(t,n,i){this.model=t,this.type=t.getType(n),this.context=i}function tee(t,n,i){_c.call(this,t,n,i)}function e5(t,n,i){this.model=t,this.context=i}function nee(t){t instanceof wp&&(t={model:t}),Ce(this,{lax:!1},t)}cP.prototype.handleEnd=function(){},cP.prototype.handleText=function(){},cP.prototype.handleNode=function(){},(JJ.prototype=Object.create(cP.prototype)).handleNode=function(){return this},(Jw.prototype=Object.create(cP.prototype)).handleText=function(t){this.body=(this.body||"")+t},(uP.prototype=Object.create(Jw.prototype)).handleNode=function(t){if(this.element)throw Fy("expected no sub nodes");return this.element=this.createReference(t),this},uP.prototype.handleEnd=function(){this.element.id=this.body},uP.prototype.createReference=function(t){return{property:this.property.ns.name,id:""}},(eee.prototype=Object.create(Jw.prototype)).handleEnd=function(){var t=this.body||"",n=this.element,i=this.propertyDesc;t=KJ(i.type,t),i.isMany?n.get(i.name).push(t):n.set(i.name,t)},(sL.prototype=Object.create(Jw.prototype)).handleNode=function(t){var n=this,i=this.element;return i?n=this.handleChild(t):(i=this.element=this.createElement(t),this.context.addElement(i)),n},(_c.prototype=Object.create(sL.prototype)).addReference=function(t){this.context.addReference(t)},_c.prototype.handleText=function(t){if(!Gm(this.element).bodyProperty)throw Fy("unexpected body text <"+t+">");Jw.prototype.handleText.call(this,t)},_c.prototype.handleEnd=function(){var t=this.body,n=this.element,s=Gm(n).bodyProperty;s&&void 0!==t&&(t=KJ(s.type,t),n.set(s.name,t))},_c.prototype.createElement=function(t){var c,n=t.attributes,i=this.type,s=Gm(i),o=this.context,a=new i({}),l=this.model;return fe(n,function(u,d){var p=s.propertiesByName[d];p&&p.isReference?p.isMany?fe(u.split(" "),function(h){o.addReference({element:a,property:p.ns.name,id:h})}):o.addReference({element:a,property:p.ns.name,id:u}):(p?u=KJ(p.type,u):"xmlns"===d?d=":"+d:(c=zl(d,s.ns.prefix),l.getPackage(c.prefix)&&o.addWarning({message:"unknown attribute <"+d+">",element:a,property:d,value:u})),a.set(d,u))}),a},_c.prototype.getPropertyForNode=function(t){var i=zl(t.name),o=this.model,a=Gm(this.type),c=a.propertiesByName[i.name];if(c&&!c.isAttr){const d=function mBt(t){const n=Vke(t);return"property"!==n&&(n||null)}(c);if(d){const p=t.attributes[d];if(p){const f=function vBt(t,n,i){const s=zl(t,n.xmlns),a=zl(`${n[s.prefix]||s.prefix}:${s.localName}`);return function yBt(t,n){var i=t.name,s=t.localName,o=n&&n.xml&&n.xml.typePrefix;return o&&0===s.indexOf(o)?t.prefix+":"+s.slice(o.length):i}(a,i.getPackage(a.prefix))}(p,t.ns,o);return Ce({},c,{effectiveType:Gm(o.getType(f)).name})}}return c}var u=o.getPackage(i.prefix);if(u){const d=jke(i,u),p=o.getType(d);if(c=Gt(a.properties,function(f){return!f.isVirtual&&!f.isReference&&!f.isAttribute&&p.hasType(f.type)}))return Ce({},c,{effectiveType:Gm(p).name})}else if(c=Gt(a.properties,function(d){return!d.isReference&&!d.isAttribute&&"Element"===d.type}))return c;throw Fy("unrecognized element <"+i.name+">")},_c.prototype.toString=function(){return"ElementDescriptor["+Gm(this.type).name+"]"},_c.prototype.valueHandler=function(t,n){return new eee(t,n)},_c.prototype.referenceHandler=function(t){return new uP(t,this.context)},_c.prototype.handler=function(t){return"Element"===t?new e5(this.model,t,this.context):new _c(this.model,t,this.context)},_c.prototype.handleChild=function(t){var n,i,s,o;if(n=this.getPropertyForNode(t),s=this.element,kke(i=n.effectiveType||n.type))return this.valueHandler(n,s);var a=(o=n.isReference?this.referenceHandler(n).handleNode(t):this.handler(i).handleNode(t)).element;return void 0!==a&&(n.isMany?s.get(n.name).push(a):s.set(n.name,a),n.isReference?(Ce(a,{element:s}),this.context.addReference(a)):a.$parent=s),o},(tee.prototype=Object.create(_c.prototype)).createElement=function(t){var n=t.name,i=zl(n),o=this.type,a=this.model.getPackage(i.prefix),l=a&&jke(i,a)||n;if(!o.hasType(l))throw Fy("unexpected element <"+t.originalName+">");return _c.prototype.createElement.call(this,t)},(e5.prototype=Object.create(sL.prototype)).createElement=function(t){var n=t.name,i=zl(n);return this.model.createAny(n,t.ns[i.prefix+"$uri"],t.attributes)},e5.prototype.handleChild=function(t){var n=new e5(this.model,"Element",this.context).handleNode(t),i=this.element,s=n.element;return void 0!==s&&((i.$children=i.$children||[]).push(s),s.$parent=i),n},e5.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},nee.prototype.fromXML=function(t,n,i){var s=n.rootHandler;n instanceof _c?(s=n,n={}):"string"==typeof n?(s=this.handler(n),n={}):"string"==typeof s&&(s=this.handler(s));var o=this.model,a=this.lax,l=new bBt(Ce({},n,{rootHandler:s})),c=new Fke({proxy:!0}),u=function _Bt(){var t=[];return Object.defineProperty(t,"peek",{value:function(){return this[this.length-1]}}),t}();function d(x,T,I){var A=T(),$=A.line,z=A.column,K=A.data;"<"===K.charAt(0)&&-1!==K.indexOf(" ")&&(K=K.slice(0,K.indexOf(" "))+">");var U="unparsable content "+(K?K+" ":"")+"detected\n\tline: "+$+"\n\tcolumn: "+z+"\n\tnested error: "+x.message;if(I)return l.addWarning({message:U,error:x}),!0;throw Fy(U)}function p(x,T){return d(x,T,!0)}s.context=l,u.push(s);var m=/^<\?xml /i,y=/ encoding="([^"]+)"/i,E=/^utf-8$/i;function v(x,T){try{u.peek().handleText(x)}catch(I){p(I,T)}}var g=o.getPackages().reduce(function(x,T){return x[T.uri]=T.prefix,x},Object.entries(ZJ).reduce(function(x,[T,I]){return x[I]=T,x},o.config&&o.config.nsMap||{}));return c.ns(g).on("openTag",function(x,T,I,A){var $=x.attrs||{},z=Object.keys($).reduce(function(U,H){var me=T($[H]);return U[H]=me,U},{});!function S(x,T){var I=u.peek();try{u.push(I.handleNode(x))}catch(A){d(A,T,a)&&u.push(new JJ)}}({name:x.name,originalName:x.originalName,attributes:z,ns:x.ns},A)}).on("question",function _(x){if(m.test(x)){var T=y.exec(x),I=T&&T[1];!I||E.test(I)||l.addWarning({message:"unsupported document encoding <"+I+">, falling back to UTF-8"})}}).on("closeTag",function h(){u.pop().handleEnd()}).on("cdata",v).on("text",function(x,T,I){!function w(x,T){x.trim()&&v(x,T)}(T(x),I)}).on("error",d).on("warn",p),new Promise(function(x,T){var I;try{c.parse(t),function f(){var I,A,x=l.elementsById,T=l.references;for(I=0;A=T[I];I++){var $=A.element,z=x[A.id],K=Gm($).propertiesByName[A.property];if(z||l.addWarning({message:"unresolved reference <"+A.id+">",element:A.element,property:A.property,value:A.id}),K.isMany){var U=$.get(K.name),H=U.indexOf(A);-1===H&&(H=U.length),z?U[H]=z:U.splice(H,1)}else $.set(K.name,z)}}()}catch(U){I=U}var A=s.element;!I&&!A&&(I=Fy("failed to parse document as <"+s.type.$descriptor.name+">"));var $=l.warnings,z=l.references,K=l.elementsById;return I?(I.warnings=$,T(I)):x({rootElement:A,elementsById:K,references:z,warnings:$})})},nee.prototype.handler=function(t){return new tee(this.model,t)};var xBt=/<|>|'|"|&|\n\r|\n/g,zke=/<|>|&/g;function n0(t){this.prefixMap={},this.uriMap={},this.used={},this.wellknown=[],this.custom=[],this.parent=t,this.defaultPrefixMap=t&&t.defaultPrefixMap||{}}function CBt(t,n){return Bke(n)?function wBt(t){return t.charAt(0).toLowerCase()+t.slice(1)}(t):t}function Hke(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function Uke(t){return Or(t)?t:(t.prefix?t.prefix+":":"")+t.localName}n0.prototype.mapDefaultPrefixes=function(t){this.defaultPrefixMap=t},n0.prototype.defaultUriByPrefix=function(t){return this.defaultPrefixMap[t]},n0.prototype.byUri=function(t){return this.uriMap[t]||this.parent&&this.parent.byUri(t)},n0.prototype.add=function(t,n){this.uriMap[t.uri]=t,n?this.wellknown.push(t):this.custom.push(t),this.mapPrefix(t.prefix,t.uri)},n0.prototype.uriByPrefix=function(t){return this.prefixMap[t||"xmlns"]||this.parent&&this.parent.uriByPrefix(t)},n0.prototype.mapPrefix=function(t,n){this.prefixMap[t||"xmlns"]=n},n0.prototype.getNSKey=function(t){return void 0!==t.prefix?t.uri+"|"+t.prefix:t.uri},n0.prototype.logUsed=function(t){var n=t.uri,i=this.getNSKey(t);this.used[i]=this.byUri(n),this.parent&&this.parent.logUsed(t)},n0.prototype.getUsed=function(t){return[].concat(this.wellknown,this.custom).filter(i=>{var s=this.getNSKey(i);return this.used[s]})};var DBt={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},kBt={"<":"lt",">":"gt","&":"amp"};function qke(t,n,i){return(t=Or(t)?t:""+t).replace(n,function(s){return"&"+i[s]+";"})}function ree(t){this.tagName=t}function K_(){}function iee(t){this.tagName=t}function Xs(t,n){this.body=[],this.attrs=[],this.parent=t,this.propertyDescriptor=n}function oL(t,n,i){Xs.call(this,t,n),this.serialization=i}function NBt(){this.value="",this.write=function(t){this.value+=t}}function LBt(t,n){var i=[""];this.append=function(s){return t.write(s),this},this.appendNewLine=function(){return n&&t.write("\n"),this},this.appendIndent=function(){return n&&t.write(i.join("  ")),this},this.indent=function(){return i.push(""),this},this.unindent=function(){return i.pop(),this}}function FBt(t){return t=Ce({format:!1,preamble:!0},t||{}),{toXML:function n(i,s){var o=s||new NBt,a=new LBt(o,t.format);t.preamble&&a.append('<?xml version="1.0" encoding="UTF-8"?>\n');var l=new Xs,c=i.$model;if(l.getNamespaces().mapDefaultPrefixes(function BBt(t){const n=t.config&&t.config.nsMap||{},i={};for(const s in ZJ)i[s]=ZJ[s];for(const s in n)i[n[s]]=s;for(const s of t.getPackages())i[s.prefix]=s.uri;return i}(c)),l.build(i).serializeTo(a),!s)return o.value}}}function aL(t,n){wp.call(this,t,n)}ree.prototype.build=function(t){return this.element=t,this},ree.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},K_.prototype.serializeValue=K_.prototype.serializeTo=function(t){t.append(this.escape?function ABt(t){return qke(t,zke,kBt)}(this.value):this.value)},K_.prototype.build=function(t,n){return this.value=n,"String"===t.type&&-1!==n.search(zke)&&(this.escape=!0),this},Hke(iee,K_),iee.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"),this.serializeValue(t),t.append("</"+this.tagName+">").appendNewLine()},Xs.prototype.build=function(t){this.element=t;var s,o,n=t.$descriptor,i=this.propertyDescriptor,a=n.isGeneric;return s=a?this.parseGenericNsAttributes(t):this.parseNsAttributes(t),this.ns=i?this.nsPropertyTagName(i):this.nsTagName(n),this.tagName=this.addTagName(this.ns),a?this.parseGenericContainments(t):(o=function PBt(t){return Bn(t.$descriptor.properties,function(i){var s=i.name;if(i.isVirtual||!Zo(t,s))return!1;var o=t[s];return o!==i.default&&null!==o&&(!i.isMany||o.length)})}(t),this.parseAttributes(function IBt(t){return Bn(t,function(n){return n.isAttr})}(o)),this.parseContainments(function RBt(t){return Bn(t,function(n){return!n.isAttr})}(o))),this.parseGenericAttributes(t,s),this},Xs.prototype.nsTagName=function(t){return function OBt(t,n){return Ce(n.isGeneric?{localName:n.ns.localName}:{localName:CBt(n.ns.localName,n.$pkg)},t)}(this.logNamespaceUsed(t.ns),t)},Xs.prototype.nsPropertyTagName=function(t){return function TBt(t,n){return Ce({localName:n.ns.localName},t)}(this.logNamespaceUsed(t.ns),t)},Xs.prototype.isLocalNs=function(t){return t.uri===this.ns.uri},Xs.prototype.nsAttributeName=function(t){var n;if(n=Or(t)?zl(t):t.ns,t.inherited)return{localName:n.localName};var i=this.logNamespaceUsed(n);return this.getNamespaces().logUsed(i),this.isLocalNs(i)?{localName:n.localName}:Ce({localName:n.localName},i)},Xs.prototype.parseGenericNsAttributes=function(t){return Object.entries(t).filter(([n,i])=>!n.startsWith("$")&&this.parseNsAttribute(t,n,i)).map(([n,i])=>({name:n,value:i}))},Xs.prototype.parseGenericContainments=function(t){var n=t.$body;n&&this.body.push((new K_).build({type:"String"},n));var i=t.$children;i&&fe(i,s=>{this.body.push(new Xs(this).build(s))})},Xs.prototype.parseNsAttribute=function(t,n,i){var a,s=t.$model,o=zl(n);if("xmlns"===o.prefix&&(a={prefix:o.localName,uri:i}),!o.prefix&&"xmlns"===o.localName&&(a={uri:i}),!a)return{name:n,value:i};if(s&&s.getPackage(i))this.logNamespace(a,!0,!0);else{var l=this.logNamespaceUsed(a,!0);this.getNamespaces().logUsed(l)}},Xs.prototype.parseNsAttributes=function(t){var n=this,s=[];return fe(t.$attrs,function(o,a){var l=n.parseNsAttribute(t,a,o);l&&s.push(l)}),s},Xs.prototype.parseGenericAttributes=function(t,n){var i=this;fe(n,function(s){try{i.addAttribute(i.nsAttributeName(s.name),s.value)}catch(o){typeof console<"u"&&console.warn(`missing namespace information for <${s.name}=${s.value}> on`,t,o)}})},Xs.prototype.parseContainments=function(t){var n=this,i=this.body,s=this.element;fe(t,function(o){var a=s.get(o.name),l=o.isReference;if(o.isMany||(a=[a]),o.isBody)i.push((new K_).build(o,a[0]));else if(kke(o.type))fe(a,function(d){i.push(new iee(n.addTagName(n.nsPropertyTagName(o))).build(o,d))});else if(l)fe(a,function(d){i.push(new ree(n.addTagName(n.nsPropertyTagName(o))).build(d))});else{var u=Vke(o);fe(a,function(d){var p;p=u?"property"===u?new Xs(n,o):new oL(n,o,u):new Xs(n),i.push(p.build(d))})}})},Xs.prototype.getNamespaces=function(t){var s,n=this.namespaces,i=this.parent;return n||(s=i&&i.getNamespaces(),t||!s?this.namespaces=n=new n0(s):n=s),n},Xs.prototype.logNamespace=function(t,n,i){var s=this.getNamespaces(i),o=t.uri,a=t.prefix;return(!s.byUri(o)||i)&&s.add(t,n),s.mapPrefix(a,o),t},Xs.prototype.logNamespaceUsed=function(t,n){var a,l,c,i=this.getNamespaces(n),s=t.prefix,o=t.uri;if(!s&&!o)return{localName:t.localName};if(c=i.defaultUriByPrefix(s),!(o=o||c||i.uriByPrefix(s)))throw new Error("no namespace uri given for prefix <"+s+">");if(!(t=i.byUri(o))&&!s&&(t=this.logNamespace({uri:o},c===o,!0)),!t){for(a=s,l=1;i.uriByPrefix(a);)a=s+"_"+l++;t=this.logNamespace({prefix:a,uri:o},c===o)}return s&&i.mapPrefix(s,o),t},Xs.prototype.parseAttributes=function(t){var n=this,i=this.element;fe(t,function(s){var o=i.get(s.name);if(s.isReference)if(s.isMany){var a=[];fe(o,function(l){a.push(l.id)}),o=a.join(" ")}else o=o.id;n.addAttribute(n.nsAttributeName(s),o)})},Xs.prototype.addTagName=function(t){var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),Uke(t)},Xs.prototype.addAttribute=function(t,n){var i=this.attrs;Or(n)&&(n=function MBt(t){return qke(t,xBt,DBt)}(n));var s=gu(i,function(a){return a.name.localName===t.localName&&a.name.uri===t.uri&&a.name.prefix===t.prefix}),o={name:t,value:n};-1!==s?i.splice(s,1,o):i.push(o)},Xs.prototype.serializeAttributes=function(t){var n=this.attrs,i=this.namespaces;i&&(n=function SBt(t){return t.getUsed().filter(function(n){return"xml"!==n.prefix}).map(function(n){return{name:"xmlns"+(n.prefix?":"+n.prefix:""),value:n.uri}})}(i).concat(n)),fe(n,function(s){t.append(" ").append(Uke(s.name)).append('="').append(s.value).append('"')})},Xs.prototype.serializeTo=function(t){var n=this.body[0],i=n&&n.constructor!==K_;t.appendIndent().append("<"+this.tagName),this.serializeAttributes(t),t.append(n?">":" />"),n&&(i&&t.appendNewLine().indent(),fe(this.body,function(s){s.serializeTo(t)}),i&&t.unindent().appendIndent(),t.append("</"+this.tagName+">")),t.appendNewLine()},Hke(oL,Xs),oL.prototype.parseNsAttributes=function(t){var n=Xs.prototype.parseNsAttributes.call(this,t).filter(l=>l.name!==this.serialization),i=t.$descriptor;if(i.name===this.propertyDescriptor.type)return n;var s=this.typeNs=this.nsTagName(i);this.getNamespaces().logUsed(this.typeNs);var o=t.$model.getPackage(s.uri),a=o.xml&&o.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(this.serialization),(s.prefix?s.prefix+":":"")+a+i.ns.localName),n},oL.prototype.isLocalNs=function(t){return t.uri===(this.typeNs||this.ns).uri},(aL.prototype=Object.create(wp.prototype)).fromXML=function(t,n,i){Or(n)||(i=n,n="bpmn:Definitions");var s=new nee(Ce({model:this,lax:!0},i)),o=s.handler(n);return s.fromXML(t,o)},aL.prototype.toXML=function(t,n){var i=new FBt(n);return new Promise(function(s,o){try{return s({xml:i.toXML(t)})}catch(l){return o(l)}})};class Kke{constructor(n){this._generate=n,this.value=null,this.valid=!1}invalidate(){this.valid=!1}get(){return this.valid||(this.value=this._generate(),this.valid=!0),this.value}}function see(t,n=void 0){const i=t.get("extensionElements");if(!i)return[];const s=i.get("values");return s&&s.length?n?s.filter(o=>D(o,n)):s:[]}function Yke(t){return Qke(t,"zeebe:IoMapping")[0]||Qke(t,"camunda:InputOutput")[0]}function Xke(t,n){var i=Yke(t);return i&&i.get(n)||[]}function Qke(t,n){var i=[],s=t.get("extensionElements");if(typeof s<"u"){var o=s.get("values");typeof o<"u"&&(i=Bn(o,function(a){return D(a,n)}))}return i}function H$t(t,n,i){var s=oee(t);return function $$t(t){return!!function z$t(t){return Xke(t,"outputParameters")}(t).length}(t)?t:s.find(function(a){return D(a,"bpmn:SubProcess")&&function V$t(t,n){return function j$t(t){return Xke(t,"inputParameters")}(t).find(function(i){return i.target===n||i.name===n})}(a,i)})||n}function oee(t){for(var n=[],i=t;i.$parent;)n.push(i.$parent),i=i.$parent;return n}let Zke=(()=>{class t{constructor(i,s){var o=this;this.providers=[],this._eventBus=i,this._bpmnjs=s,this.rawVariables=new Kke(this._generateRawVariables.bind(this)),this.parsedVariables=new Kke(N(function*(){const l={variables:yield o.getRawVariables()};return i.fire("variableResolver.parseVariables",l),l.variables})),i.on(["commandStack.changed","diagram.clear","import.done","variables.changed"],()=>{this.invalidateCache()}),i.on("variableResolver.parseVariables",(a,l)=>{l.variables=this._parseVariables(l.variables)})}_baseExtractor(){return[]}getRawVariables(){var i=this;return N(function*(){return yield i.rawVariables.get()})()}getVariables(){var i=this;return N(function*(){return yield i.parsedVariables.get()})()}invalidateCache(){this.rawVariables.invalidate(),this.parsedVariables.invalidate()}_generateRawVariables(){var i=this;return N(function*(){const o={},a=i._bpmnjs.getDefinitions().get("rootElements").map(function(){var l=N(function*(c){const u=yield i._baseExtractor(c,[i._extractor.bind(i)]);o[c.id]=u.map(d=>(d.provider||(d.provider=[i._baseExtractor]),d))});return function(c){return l.apply(this,arguments)}}());return yield Promise.all(a),o})()}_parseVariables(i){const s={};for(const o in i){const l=[];i[o].forEach(c=>{const u=l.find(d=>d.name===c.name&&d.scope===c.scope);u?(Jke("origin",u,c),Jke("provider",u,c),eMe(u,c)):l.push(c)}),nMe(l),s[o]=l}return s}_extractor(i){var s=this;return N(function*(){const{elements:o,containerElement:a,processVariables:l}=i,c=s,u=o.flatMap(d=>c.providers.map(function(){var p=N(function*(f){const h=yield f.getVariables(d);h&&h.forEach(m=>{l.push({...rMe(m),origin:[d],scope:m.scope||H$t(d,a,m.name),provider:[f]})})});return function(f){return p.apply(this,arguments)}}()));yield Promise.all(u)})()}registerProvider(i){this.providers.push(i),this.invalidateCache()}getProcessVariables(i){var s=this;return N(function*(){const o=G(i);return(yield s.getVariables())[o.id]||[]})()}getVariablesForElement(i){var s=this;return N(function*(){const o=G(i),a=function U$t(t){const n=G(t);if(D(n,"bpmn:Participant"))return n.processRef;if(D(n,"bpmn:Process"))return n;let i=n;for(;i.$parent&&!D(i,"bpmn:Process");)i=i.$parent;return i}(o),c=b7("name",(yield s.getProcessVariables(a)).reverse());var u=c.filter(function(f){return f.scope.id===o.id}),d=oee(o);return[...u,...c.filter(function(f){return d.find(function(h){return h.id===f.scope.id})})]})()}}return t.$inject=["eventBus","bpmnjs"],t})();function Jke(t,n,i){i[t]||(i[t]=[]),n[t]||(n[t]=[]);const s=i[t].filter(o=>!n[t].includes(o));n[t].push(...s)}function eMe(t,n,i=[]){i.includes(n)||i.includes(t)||(i.push(n),i.push(t),t.type=tMe(t.type,n.type,"|"),t.info=tMe(t.info,n.info,"\n"),t.isList=!!t.isList==!!n.isList?t.isList:"optional",n.entries&&(t.entries||(t.entries=[]),n.entries.forEach(s=>{const o=t.entries.find(a=>a.name===s.name);o?eMe(o,s,i):t.entries.push(s)})))}const tMe=(t,n,i)=>{if(!t||t===n)return n;{const s=t.split(i);return s.includes(n)||s.push(n),s.join(i)}};function nMe(t){t&&t.forEach(n=>{n.detail=n.type,nMe(n.entries)})}function rMe(t){const n={...t};return n.entries&&(n.entries=n.entries.map(rMe)),n}class t5 extends Nxe{constructor(n={entries:{}}){super(n),this.value.entries=this.value.entries||{};const i=this.value;for(const s in i.entries)i.entries[s]instanceof t5||(i.entries[s]=this.constructor.of(i.entries[s]))}getKeys(){return Object.keys(this.value.entries)}get(n){const i=this.value.entries[n];return i&&(i.atomic?i.atomicValue:i)}set(n,i){return this.constructor.of({...this.value,entries:{...this.value.entries,[n]:i}})}static of(...n){const i=o=>this.isAtomic(o)?o instanceof this?o.value:{atomic:!0,atomicValue:o}:{...o};return new this(n.reduce((o,a)=>{const{entries:l={},...c}=i(a);return{...o,...c,entries:{...o.entries,...l}}},{}))}}function W$t(t){const n=[];return t.forEach(i=>{i.origin.forEach(s=>{const o=function K$t(t,n){const i=t.scope!==n?iMe(t,n)||sMe(t,n):sMe(t,n)||iMe(t,n);if(!i)return;return{expression:i,unresolved:oMe(aee(i))}}(i,s);if(!o)return;const{expression:a,unresolved:l}=o;n.push({variable:i,expression:a,unresolved:l})})}),function G$t(t,n){const i=[];t.forEach(c=>{const{variable:u,unresolved:d}=c,p=i.findIndex(({unresolved:h})=>h.includes(u.name));if(p>-1)return void i.splice(p,0,c);const f=i.findLastIndex(({variable:h})=>d.includes(h.name));f>-1?i.splice(f+1,0,c):i.push(c)});const o={name:"OuterContext",entries:aMe(n.filter(c=>!t.find(({})=>{})))},a=[];return i.forEach(({variable:c,expression:u})=>{let p=aee(u,function J$t(t,n){const i={entries:{}},s=n.origin.flatMap(o=>[o,...oee(o)]);for(const o in t.entries){const a=t.entries[o];s.find(l=>l.id===a.scope.id)&&(i.entries[o]=a)}return i}(o,c)).computedValue();p instanceof t5||(p=t5.of(p)),p.scope=c.scope,o.entries[c.name]=p,a.push({newVariable:lee({[c.name]:p})[0],oldVariable:c})}),a.map(({newVariable:c,oldVariable:u})=>u?{...c,...u}:c)}(n,t)}function aee(t,n={}){const i=p_(n,t5);let s=null;const o=new $G({start:i.start,reduce(...l){const c=i.reduce(...l);return s=c,c}});return f_.configure({contextTracker:o}).parse(t),s}function iMe(t,n){const i=see(n,"zeebe:IoMapping")[0];if(!i)return;let s;if(s=n===t.scope?i.inputParameters:i.outputParameters,!s)return;const o=s.slice().reverse().find(a=>a.target===t.name);return o&&o.source?o.source.substring(1):void 0}function sMe(t,n){const i=see(n,"zeebe:Script")[0];if(i&&i.expression&&i.resultVariable===t.name)return i.expression.substring(1)}function oMe(t){const n=[];return n.push(...t.children.flatMap(oMe)),"VariableName"===t.name&&!t.value&&n.push(t.raw),n}function aMe(t){if(!t)return;const n={};return t.forEach(i=>{n[i.name]={...i},n[i.name].entries=aMe(i.entries)}),n}function lee(t){if(!t)return;const n=[];for(const i in t){let s=t[i];s instanceof t5&&(s=s.value),n.push(s?{...Y$t(s),entries:lee(s.entries),name:i,scope:s.scope}:{name:i})}return n}function Y$t(t){return{...t,type:X$t(t),info:Q$t(t)}}function X$t(t){return t?t.type?t.type:t.entries&&Object.keys(t.entries).length?"Context":t.atomicValue?function Z$t(t){return t.charAt(0).toUpperCase()+t.slice(1)}(typeof t.atomicValue):"":""}function Q$t(t){return t?t.info?t.info:t.atomicValue?""+t.atomicValue:"":""}let cee=(()=>{class t{constructor(i){this._variableResolver=i,this.register()}getVariables(i){}register(){this._variableResolver.registerProvider(this)}}return t.$inject=["variableResolver"],t})();const iVt={__init__:["variableResolver","connectorVariableProvider"],variableResolver:["type",class nVt extends Zke{constructor(n,i){super(n,i),this._baseExtractor=N6e,n.on("variableResolver.parseVariables",2e3,this._resolveVariables)}getVariablesForElement(n,i){var s=()=>super.getVariablesForElement,o=this;return N(function*(){const a=yield s().call(o,n),l=G(n);if(!i)return a;const c=Yke(l);if(!c)return a;const u=function eVt(t,n){const i=[];if(D(t,"zeebe:Input")){const o=n.inputParameters,a=o.slice(o.indexOf(t)).map(l=>l.target);i.push(...a)}const s=n.outputParameters;if(D(t,"zeebe:Output")){const o=s.slice(s.indexOf(t)).map(a=>a.target);i.push(...o)}else if(s){const o=s.map(a=>a.target);i.push(...o)}return i}(i,c);return a.filter(d=>!!(d.origin.length>1||d.origin[0]!==l||D(i,"zeebe:Output")&&d.provider.find(p=>p!==o._baseExtractor))||!u.includes(d.name))})()}_resolveVariables(n,i){const s=i.variables,o={};for(const a in s){const l=s[a],c=W$t(l);o[a]=[...l,...c]}i.variables=o}}],connectorVariableProvider:["type",class rVt extends cee{getVariables(n){const i=[],s=see(n,"zeebe:TaskHeaders")[0];if(!s||!s.values)return;const o=s.values,a=o.find(c=>"resultVariable"===c.key),l=o.find(c=>"resultExpression"===c.key);if(a&&a.value&&i.push({name:a.value}),l&&l.value){const u=lee(aee(l.value.substring(1)).computedValue());u&&u.length>0&&i.push(...u[0].entries)}return i}}]},lL="camundaModeler:exampleOutputJson";function lMe(t){const n=cMe(t,lL);if(n)return n.get("value")}function cMe(t,n){const i=function sVt(t,n){let s=[];const o=G(t).get("extensionElements");if(typeof o<"u"){const a=o.get("values");typeof a<"u"&&(s=a.filter(l=>D(l,n)))}return s}(t,"zeebe:Properties");return 0===i.length?void 0:i[0].get("properties").find(o=>o.get("name")===n)}function uee(t={}){if("object"==typeof t&&null!==t)return Object.keys(t).map(n=>{let i=t[n];const s={name:n,info:JSON.stringify(i,null,2)};return Array.isArray(i)?(s.isList=!0,s.type="List",i.length>0&&(s.entries=uee(i[0])),s):(s.type=function lVt(t){if(null===t)return"";const n=typeof t;return"object"===n?"Context":function cVt(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n)}(i),s.entries=uee(i),s)})}const dVt=t=>{const{element:n}=t,i=P("debounceInput"),s=P("translate"),o=P("commandStack"),a=P("moddle"),l=P("injector");return vc({element:n,label:s("Example output"),description:vo`
    <a href="https://docs.camunda.io/docs/components/modeler/data-handling/" target="_blank" rel="noopener" title=${s("Example Data documentation")}>
      ${s("About example data")}
    </a>`,id:"exampleJson",getValue:()=>lMe(n),setValue:p=>{const f=[],{commands:h,zeebeProperties:m}=pVt(n,l);f.push(...h);const y=cMe(n,lL);f.push(y?p?{cmd:"element.updateModdleProperties",context:{element:n,moddleElement:y,properties:{value:p}}}:{cmd:"element.updateModdleProperties",context:{element:n,moddleElement:m,properties:{properties:hVt(m.get("properties"))}}}:{cmd:"element.updateModdleProperties",context:{element:n,moddleElement:m,properties:{properties:[...m.get("properties"),fVt(p,a)]}}}),o.execute("properties-panel.multi-command-executor",f)},debounce:i,validate:p=>{if(p)try{if(!si(JSON.parse(p)))return s("Example data must be a JSON object literal.")}catch(f){return f.message}},monospace:!0})},pVt=(t,n)=>{const i=[],s=G(t),o=n.get("bpmnFactory");let a=s.get("extensionElements");a||(a=o.create("bpmn:ExtensionElements",{values:[]}),a.$parent=s,i.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:s,properties:{extensionElements:a}}}));let l=a.get("values").find(c=>"zeebe:Properties"===c.$type);return l||(l=o.create("zeebe:Properties",{properties:[]}),l.$parent=a,i.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:a,properties:{values:[...a.get("values"),l]}}})),{zeebeProperties:l,commands:i}};function fVt(t,n){return n.create("zeebe:Property",{name:lL,value:t})}function hVt(t){return t.filter(n=>n.get("name")!==lL)}const gVt={__depends__:[{__init__:["exampleProvider"],exampleProvider:["type",class oVt extends cee{getVariables(n){const i=lMe(n);return i?function aVt(t){try{return uee(JSON.parse(t))}catch{return[]}}(i):void 0}}]},{__init__:["dataPropertiesProvider"],dataPropertiesProvider:["type",(()=>{class t{constructor(i,s){this._injector=s,i.registerProvider(100,this)}getGroups(i){const s=this._injector.get("translate"),o=this._injector.get("elementTemplates",!1);let a=null;o&&(a=o.get(i));const l=!!a;return c=>{if(l)return c;const u={id:"additionalDataGroup",label:s("Example data"),entries:[{id:"exampleJson",component:dVt,isEdited:Mu}],component:$r};return c.push(u),c}}}return t.$inject=["propertiesPanel","injector"],t})()]}]};var Y_=1e6,dP="[big.js] ",X_=dP+"Invalid ",cL=X_+"decimal places",xVt=X_+"rounding mode",dMe=dP+"Division by zero",gs={},r0=void 0,wVt=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Q_(t,n,i,s){var o=t.c;if(i===r0&&(i=t.constructor.RM),0!==i&&1!==i&&2!==i&&3!==i)throw Error(xVt);if(n<1)s=3===i&&(s||!!o[0])||0===n&&(1===i&&o[0]>=5||2===i&&(o[0]>5||5===o[0]&&(s||o[1]!==r0))),o.length=1,s?(t.e=t.e-n+1,o[0]=1):o[0]=t.e=0;else if(n<o.length){if(s=1===i&&o[n]>=5||2===i&&(o[n]>5||5===o[n]&&(s||o[n+1]!==r0||1&o[n-1]))||3===i&&(s||!!o[0]),o.length=n,s)for(;++o[--n]>9;)if(o[n]=0,0===n){++t.e,o.unshift(1);break}for(n=o.length;!o[--n];)o.pop()}return t}function Z_(t,n,i){var s=t.e,o=t.c.join(""),a=o.length;if(n)o=o.charAt(0)+(a>1?"."+o.slice(1):"")+(s<0?"e":"e+")+s;else if(s<0){for(;++s;)o="0"+o;o="0."+o}else if(s>0)if(++s>a)for(s-=a;s--;)o+="0";else s<a&&(o=o.slice(0,s)+"."+o.slice(s));else a>1&&(o=o.charAt(0)+"."+o.slice(1));return t.s<0&&i?"-"+o:o}gs.abs=function(){var t=new this.constructor(this);return t.s=1,t},gs.cmp=function(t){var n,i=this,s=i.c,o=(t=new i.constructor(t)).c,a=i.s,l=t.s,c=i.e,u=t.e;if(!s[0]||!o[0])return s[0]?a:o[0]?-l:0;if(a!=l)return a;if(n=a<0,c!=u)return c>u^n?1:-1;for(l=(c=s.length)<(u=o.length)?c:u,a=-1;++a<l;)if(s[a]!=o[a])return s[a]>o[a]^n?1:-1;return c==u?0:c>u^n?1:-1},gs.div=function(t){var n=this,i=n.constructor,s=n.c,o=(t=new i(t)).c,a=n.s==t.s?1:-1,l=i.DP;if(l!==~~l||l<0||l>Y_)throw Error(cL);if(!o[0])throw Error(dMe);if(!s[0])return t.s=a,t.c=[t.e=0],t;var c,u,d,p,f,h=o.slice(),m=c=o.length,y=s.length,E=s.slice(0,c),_=E.length,S=t,v=S.c=[],w=0,g=l+(S.e=n.e-t.e)+1;for(S.s=a,a=g<0?0:g,h.unshift(0);_++<c;)E.push(0);do{for(d=0;d<10;d++){if(c!=(_=E.length))p=c>_?1:-1;else for(f=-1,p=0;++f<c;)if(o[f]!=E[f]){p=o[f]>E[f]?1:-1;break}if(!(p<0))break;for(u=_==c?o:h;_;){if(E[--_]<u[_]){for(f=_;f&&!E[--f];)E[f]=9;--E[f],E[_]+=10}E[_]-=u[_]}for(;!E[0];)E.shift()}v[w++]=p?d:++d,E[0]&&p?E[_]=s[m]||0:E=[s[m]]}while((m++<y||E[0]!==r0)&&a--);return!v[0]&&1!=w&&(v.shift(),S.e--,g--),w>g&&Q_(S,g,i.RM,E[0]!==r0),S},gs.eq=function(t){return 0===this.cmp(t)},gs.gt=function(t){return this.cmp(t)>0},gs.gte=function(t){return this.cmp(t)>-1},gs.lt=function(t){return this.cmp(t)<0},gs.lte=function(t){return this.cmp(t)<1},gs.minus=gs.sub=function(t){var n,i,s,o,a=this,l=a.constructor,c=a.s,u=(t=new l(t)).s;if(c!=u)return t.s=-u,a.plus(t);var d=a.c.slice(),p=a.e,f=t.c,h=t.e;if(!d[0]||!f[0])return f[0]?t.s=-u:d[0]?t=new l(a):t.s=1,t;if(c=p-h){for((o=c<0)?(c=-c,s=d):(h=p,s=f),s.reverse(),u=c;u--;)s.push(0);s.reverse()}else for(i=((o=d.length<f.length)?d:f).length,c=u=0;u<i;u++)if(d[u]!=f[u]){o=d[u]<f[u];break}if(o&&(s=d,d=f,f=s,t.s=-t.s),(u=(i=f.length)-(n=d.length))>0)for(;u--;)d[n++]=0;for(u=n;i>c;){if(d[--i]<f[i]){for(n=i;n&&!d[--n];)d[n]=9;--d[n],d[i]+=10}d[i]-=f[i]}for(;0===d[--u];)d.pop();for(;0===d[0];)d.shift(),--h;return d[0]||(t.s=1,d=[h=0]),t.c=d,t.e=h,t},gs.mod=function(t){var n,i=this,s=i.constructor,o=i.s,a=(t=new s(t)).s;if(!t.c[0])throw Error(dMe);return i.s=t.s=1,n=1==t.cmp(i),i.s=o,t.s=a,n?new s(i):(o=s.DP,a=s.RM,s.DP=s.RM=0,i=i.div(t),s.DP=o,s.RM=a,this.minus(i.times(t)))},gs.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t},gs.plus=gs.add=function(t){var n,i,s,o=this,a=o.constructor;if(t=new a(t),o.s!=t.s)return t.s=-t.s,o.minus(t);var l=o.e,c=o.c,u=t.e,d=t.c;if(!c[0]||!d[0])return d[0]||(c[0]?t=new a(o):t.s=o.s),t;if(c=c.slice(),n=l-u){for(n>0?(u=l,s=d):(n=-n,s=c),s.reverse();n--;)s.push(0);s.reverse()}for(c.length-d.length<0&&(s=d,d=c,c=s),n=d.length,i=0;n;c[n]%=10)i=(c[--n]=c[n]+d[n]+i)/10|0;for(i&&(c.unshift(i),++u),n=c.length;0===c[--n];)c.pop();return t.c=c,t.e=u,t},gs.pow=function(t){var n=this,i=new n.constructor("1"),s=i,o=t<0;if(t!==~~t||t<-1e6||t>1e6)throw Error(X_+"exponent");for(o&&(t=-t);1&t&&(s=s.times(n)),t>>=1;)n=n.times(n);return o?i.div(s):s},gs.prec=function(t,n){if(t!==~~t||t<1||t>Y_)throw Error(X_+"precision");return Q_(new this.constructor(this),t,n)},gs.round=function(t,n){if(t===r0)t=0;else if(t!==~~t||t<-Y_||t>Y_)throw Error(cL);return Q_(new this.constructor(this),t+this.e+1,n)},gs.sqrt=function(){var t,n,i,s=this,o=s.constructor,a=s.s,l=s.e,c=new o("0.5");if(!s.c[0])return new o(s);if(a<0)throw Error(dP+"No square root");0===(a=Math.sqrt(+Z_(s,!0,!0)))||a===1/0?((n=s.c.join("")).length+l&1||(n+="0"),l=((l+1)/2|0)-(l<0||1&l),t=new o(((a=Math.sqrt(n))==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+l)):t=new o(a+""),l=t.e+(o.DP+=4);do{t=c.times((i=t).plus(s.div(i)))}while(i.c.slice(0,l).join("")!==t.c.slice(0,l).join(""));return Q_(t,(o.DP-=4)+t.e+1,o.RM)},gs.times=gs.mul=function(t){var n,i=this,o=i.c,a=(t=new(0,i.constructor)(t)).c,l=o.length,c=a.length,u=i.e,d=t.e;if(t.s=i.s==t.s?1:-1,!o[0]||!a[0])return t.c=[t.e=0],t;for(t.e=u+d,l<c&&(n=o,o=a,a=n,d=l,l=c,c=d),n=new Array(d=l+c);d--;)n[d]=0;for(u=c;u--;){for(c=0,d=l+u;d>u;)c=n[d]+a[u]*o[d-u-1]+c,n[d--]=c%10,c=c/10|0;n[d]=c}for(c?++t.e:n.shift(),u=n.length;!n[--u];)n.pop();return t.c=n,t},gs.toExponential=function(t,n){var i=this,s=i.c[0];if(t!==r0){if(t!==~~t||t<0||t>Y_)throw Error(cL);for(i=Q_(new i.constructor(i),++t,n);i.c.length<t;)i.c.push(0)}return Z_(i,!0,!!s)},gs.toFixed=function(t,n){var i=this,s=i.c[0];if(t!==r0){if(t!==~~t||t<0||t>Y_)throw Error(cL);for(t=t+(i=Q_(new i.constructor(i),t+i.e+1,n)).e+1;i.c.length<t;)i.c.push(0)}return Z_(i,!1,!!s)},gs[Symbol.for("nodejs.util.inspect.custom")]=gs.toJSON=gs.toString=function(){var t=this,n=t.constructor;return Z_(t,t.e<=n.NE||t.e>=n.PE,!!t.c[0])},gs.toNumber=function(){var t=+Z_(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(t.toString()))throw Error(dP+"Imprecise conversion");return t},gs.toPrecision=function(t,n){var i=this,s=i.constructor,o=i.c[0];if(t!==r0){if(t!==~~t||t<1||t>Y_)throw Error(X_+"precision");for(i=Q_(new s(i),t,n);i.c.length<t;)i.c.push(0)}return Z_(i,t<=i.e||i.e<=s.NE||i.e>=s.PE,!!o)},gs.valueOf=function(){var t=this,n=t.constructor;if(!0===n.strict)throw Error(dP+"valueOf disallowed");return Z_(t,t.e<=n.NE||t.e>=n.PE,!0)};const s0=function pMe(){function t(n){var i=this;if(!(i instanceof t))return n===r0?pMe():new t(n);if(n instanceof t)i.s=n.s,i.e=n.e,i.c=n.c.slice();else{if("string"!=typeof n){if(!0===t.strict&&"bigint"!=typeof n)throw TypeError(X_+"value");n=0===n&&1/n<0?"-0":String(n)}!function CVt(t,n){var i,s,o;if(!wVt.test(n))throw Error(X_+"number");for(t.s="-"==n.charAt(0)?(n=n.slice(1),-1):1,(i=n.indexOf("."))>-1&&(n=n.replace(".","")),(s=n.search(/e/i))>0?(i<0&&(i=s),i+=+n.slice(s+1),n=n.substring(0,s)):i<0&&(i=n.length),o=n.length,s=0;s<o&&"0"==n.charAt(s);)++s;if(s==o)t.c=[t.e=0];else{for(;o>0&&"0"==n.charAt(--o););for(t.e=i-s-1,t.c=[],i=0;s<=o;)t.c[i++]=+n.charAt(s++)}}(i,n)}i.constructor=t}return t.prototype=gs,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}();var PVt=0;function Te(t,n,i,s,o,a){var l,c,u={};for(c in n)"ref"==c?l=n[c]:u[c]=n[c];var d={type:t,props:u,key:i,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--PVt,__i:-1,__u:0,__source:o,__self:a};if("function"==typeof t&&(l=t.defaultProps))for(c in l)void 0===u[c]&&(u[c]=l[c]);return er.vnode&&er.vnode(d),d}var AVt=V(8125),n5=V.n(AVt),dee=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],r5={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(t){return typeof console<"u"&&console.warn(t)},getWeek:function(t){var n=new Date(t.getTime());n.setHours(0,0,0,0),n.setDate(n.getDate()+3-(n.getDay()+6)%7);var i=new Date(n.getFullYear(),0,4);return 1+Math.round(((n.getTime()-i.getTime())/864e5-3+(i.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},pee={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var n=t%100;if(n>3&&n<21)return"th";switch(n%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1};const fee=pee;var Au=function(t,n){return void 0===n&&(n=2),("000"+t).slice(-1*n)},Cp=function(t){return!0===t?1:0};function mMe(t,n){var i;return function(){var s=this,o=arguments;clearTimeout(i),i=setTimeout(function(){return t.apply(s,o)},n)}}var hee=function(t){return t instanceof Array?t:[t]};function Yc(t,n,i){if(!0===i)return t.classList.add(n);t.classList.remove(n)}function ts(t,n,i){var s=window.document.createElement(t);return i=i||"",s.className=n=n||"",void 0!==i&&(s.textContent=i),s}function uL(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function gMe(t,n){return n(t)?t:t.parentNode?gMe(t.parentNode,n):void 0}function dL(t,n){var i=ts("div","numInputWrapper"),s=ts("input","numInput "+t),o=ts("span","arrowUp"),a=ts("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?s.type="number":(s.type="text",s.pattern="\\d*"),void 0!==n)for(var l in n)s.setAttribute(l,n[l]);return i.appendChild(s),i.appendChild(o),i.appendChild(a),i}function wd(t){try{return"function"==typeof t.composedPath?t.composedPath()[0]:t.target}catch{return t.target}}var mee=function(){},pL=function(t,n,i){return i.months[n?"shorthand":"longhand"][t]},IVt={D:mee,F:function(t,n,i){t.setMonth(i.months.longhand.indexOf(n))},G:function(t,n){t.setHours((t.getHours()>=12?12:0)+parseFloat(n))},H:function(t,n){t.setHours(parseFloat(n))},J:function(t,n){t.setDate(parseFloat(n))},K:function(t,n,i){t.setHours(t.getHours()%12+12*Cp(new RegExp(i.amPM[1],"i").test(n)))},M:function(t,n,i){t.setMonth(i.months.shorthand.indexOf(n))},S:function(t,n){t.setSeconds(parseFloat(n))},U:function(t,n){return new Date(1e3*parseFloat(n))},W:function(t,n,i){var s=parseInt(n),o=new Date(t.getFullYear(),0,2+7*(s-1),0,0,0,0);return o.setDate(o.getDate()-o.getDay()+i.firstDayOfWeek),o},Y:function(t,n){t.setFullYear(parseFloat(n))},Z:function(t,n){return new Date(n)},d:function(t,n){t.setDate(parseFloat(n))},h:function(t,n){t.setHours((t.getHours()>=12?12:0)+parseFloat(n))},i:function(t,n){t.setMinutes(parseFloat(n))},j:function(t,n){t.setDate(parseFloat(n))},l:mee,m:function(t,n){t.setMonth(parseFloat(n)-1)},n:function(t,n){t.setMonth(parseFloat(n)-1)},s:function(t,n){t.setSeconds(parseFloat(n))},u:function(t,n){return new Date(parseFloat(n))},w:mee,y:function(t,n){t.setFullYear(2e3+parseFloat(n))}},J_={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},pP={Z:function(t){return t.toISOString()},D:function(t,n,i){return n.weekdays.shorthand[pP.w(t,n,i)]},F:function(t,n,i){return pL(pP.n(t,n,i)-1,!1,n)},G:function(t,n,i){return Au(pP.h(t,n,i))},H:function(t){return Au(t.getHours())},J:function(t,n){return void 0!==n.ordinal?t.getDate()+n.ordinal(t.getDate()):t.getDate()},K:function(t,n){return n.amPM[Cp(t.getHours()>11)]},M:function(t,n){return pL(t.getMonth(),!0,n)},S:function(t){return Au(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,n,i){return i.getWeek(t)},Y:function(t){return Au(t.getFullYear(),4)},d:function(t){return Au(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return Au(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,n){return n.weekdays.longhand[t.getDay()]},m:function(t){return Au(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}},yMe=function(t){var n=t.config,i=void 0===n?r5:n,s=t.l10n,o=void 0===s?pee:s,a=t.isMobile,l=void 0!==a&&a;return function(c,u,d){var p=d||o;return void 0===i.formatDate||l?u.split("").map(function(f,h,m){return pP[f]&&"\\"!==m[h-1]?pP[f](c,p,i):"\\"!==f?f:""}).join(""):i.formatDate(c,u,p)}},gee=function(t){var n=t.config,i=void 0===n?r5:n,s=t.l10n,o=void 0===s?pee:s;return function(a,l,c,u){if(0===a||a){var p,d=u||o,f=a;if(a instanceof Date)p=new Date(a.getTime());else if("string"!=typeof a&&void 0!==a.toFixed)p=new Date(a);else if("string"==typeof a){var h=l||(i||r5).dateFormat,m=String(a).trim();if("today"===m)p=new Date,c=!0;else if(i&&i.parseDate)p=i.parseDate(a,h);else if(/Z$/.test(m)||/GMT$/.test(m))p=new Date(a);else{for(var y=void 0,E=[],_=0,S=0,v="";_<h.length;_++){var w=h[_],g="\\"===w;if(J_[w]&&"\\"!==h[_-1]&&!g){v+=J_[w];var T=new RegExp(v).exec(a);T&&(y=!0)&&E["Y"!==w?"push":"unshift"]({fn:IVt[w],val:T[++S]})}else g||(v+=".")}p=i&&i.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),E.forEach(function(I){return p=(0,I.fn)(p,I.val,d)||p}),p=y?p:void 0}}return p instanceof Date&&!isNaN(p.getTime())?(!0===c&&p.setHours(0,0,0,0),p):void i.errorHandler(new Error("Invalid date provided: "+f))}}};function Cd(t,n,i){return void 0===i&&(i=!0),!1!==i?new Date(t.getTime()).setHours(0,0,0,0)-new Date(n.getTime()).setHours(0,0,0,0):t.getTime()-n.getTime()}var yee=function(t,n,i){return 3600*t+60*n+i};function vee(t){var n=t.defaultHour,i=t.defaultMinute,s=t.defaultSeconds;if(void 0!==t.minDate){var o=t.minDate.getHours(),a=t.minDate.getMinutes(),l=t.minDate.getSeconds();n<o&&(n=o),n===o&&i<a&&(i=a),n===o&&i===a&&s<l&&(s=t.minDate.getSeconds())}if(void 0!==t.maxDate){var c=t.maxDate.getHours(),u=t.maxDate.getMinutes();(n=Math.min(n,c))===c&&(i=Math.min(u,i)),n===c&&i===u&&(s=t.maxDate.getSeconds())}return{hours:n,minutes:i,seconds:s}}V(5811);var Ec=function(){return Ec=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++)for(var o in n=arguments[i])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},Ec.apply(this,arguments)},vMe=function(){for(var t=0,n=0,i=arguments.length;n<i;n++)t+=arguments[n].length;var s=Array(t),o=0;for(n=0;n<i;n++)for(var a=arguments[n],l=0,c=a.length;l<c;l++,o++)s[o]=a[l];return s};function BVt(t,n){var i={config:Ec(Ec({},r5),ka.defaultConfig),l10n:fee};function a(){var Q;return(null===(Q=i.calendarContainer)||void 0===Q?void 0:Q.getRootNode()).activeElement||document.activeElement}function l(Q){return Q.bind(i)}function c(){var Q=i.config;!1===Q.weekNumbers&&1===Q.showMonths||!0!==Q.noCalendar&&window.requestAnimationFrame(function(){if(void 0!==i.calendarContainer&&(i.calendarContainer.style.visibility="hidden",i.calendarContainer.style.display="block"),void 0!==i.daysContainer){var F=(i.days.offsetWidth+1)*Q.showMonths;i.daysContainer.style.width=F+"px",i.calendarContainer.style.width=F+(void 0!==i.weekWrapper?i.weekWrapper.offsetWidth:0)+"px",i.calendarContainer.style.removeProperty("visibility"),i.calendarContainer.style.removeProperty("display")}})}function u(Q){if(0===i.selectedDates.length){var F=void 0===i.config.minDate||Cd(new Date,i.config.minDate)>=0?new Date:new Date(i.config.minDate.getTime()),xe=vee(i.config);F.setHours(xe.hours,xe.minutes,xe.seconds,F.getMilliseconds()),i.selectedDates=[F],i.latestSelectedDateObj=F}void 0!==Q&&"blur"!==Q.type&&function vt(Q){Q.preventDefault();var F="keydown"===Q.type,xe=wd(Q),Fe=xe;void 0!==i.amPM&&xe===i.amPM&&(i.amPM.textContent=i.l10n.amPM[Cp(i.amPM.textContent===i.l10n.amPM[0])]);var qe=parseFloat(Fe.getAttribute("min")),nt=parseFloat(Fe.getAttribute("max")),Qe=parseFloat(Fe.getAttribute("step")),ht=parseInt(Fe.value,10),dt=ht+Qe*(Q.delta||(F?38===Q.which?1:-1:0));if(typeof Fe.value<"u"&&2===Fe.value.length){var Ne=Fe===i.hourElement,Tt=Fe===i.minuteElement;dt<qe?(dt=nt+dt+Cp(!Ne)+(Cp(Ne)&&Cp(!i.amPM)),Tt&&g(void 0,-1,i.hourElement)):dt>nt&&(dt=Fe===i.hourElement?dt-nt-Cp(!i.amPM):qe,Tt&&g(void 0,1,i.hourElement)),i.amPM&&Ne&&(1===Qe?dt+ht===23:Math.abs(dt-ht)>Qe)&&(i.amPM.textContent=i.l10n.amPM[Cp(i.amPM.textContent===i.l10n.amPM[0])]),Fe.value=Au(dt)}}(Q);var Fe=i._input.value;f(),Ae(),i._input.value!==Fe&&i._debouncedChange()}function f(){if(void 0!==i.hourElement&&void 0!==i.minuteElement){var Q=(parseInt(i.hourElement.value.slice(-2),10)||0)%24,F=(parseInt(i.minuteElement.value,10)||0)%60,xe=void 0!==i.secondElement?(parseInt(i.secondElement.value,10)||0)%60:0;void 0!==i.amPM&&(Q=function d(Q,F){return Q%12+12*Cp(F===i.l10n.amPM[1])}(Q,i.amPM.textContent));var Fe=void 0!==i.config.minTime||i.config.minDate&&i.minDateHasTime&&i.latestSelectedDateObj&&0===Cd(i.latestSelectedDateObj,i.config.minDate,!0),qe=void 0!==i.config.maxTime||i.config.maxDate&&i.maxDateHasTime&&i.latestSelectedDateObj&&0===Cd(i.latestSelectedDateObj,i.config.maxDate,!0);if(void 0!==i.config.maxTime&&void 0!==i.config.minTime&&i.config.minTime>i.config.maxTime){var nt=yee(i.config.minTime.getHours(),i.config.minTime.getMinutes(),i.config.minTime.getSeconds()),Qe=yee(i.config.maxTime.getHours(),i.config.maxTime.getMinutes(),i.config.maxTime.getSeconds()),ht=yee(Q,F,xe);if(ht>Qe&&ht<nt){var We=function(t){var n=Math.floor(t/3600),i=(t-3600*n)/60;return[n,i,t-3600*n-60*i]}(nt);Q=We[0],F=We[1],xe=We[2]}}else{if(qe){var dt=void 0!==i.config.maxTime?i.config.maxTime:i.config.maxDate;(Q=Math.min(Q,dt.getHours()))===dt.getHours()&&(F=Math.min(F,dt.getMinutes())),F===dt.getMinutes()&&(xe=Math.min(xe,dt.getSeconds()))}if(Fe){var Ne=void 0!==i.config.minTime?i.config.minTime:i.config.minDate;(Q=Math.max(Q,Ne.getHours()))===Ne.getHours()&&F<Ne.getMinutes()&&(F=Ne.getMinutes()),F===Ne.getMinutes()&&(xe=Math.max(xe,Ne.getSeconds()))}}m(Q,F,xe)}}function h(Q){var F=Q||i.latestSelectedDateObj;F&&F instanceof Date&&m(F.getHours(),F.getMinutes(),F.getSeconds())}function m(Q,F,xe){void 0!==i.latestSelectedDateObj&&i.latestSelectedDateObj.setHours(Q%24,F,xe||0,0),i.hourElement&&i.minuteElement&&!i.isMobile&&(i.hourElement.value=Au(i.config.time_24hr?Q:(12+Q)%12+12*Cp(Q%12==0)),i.minuteElement.value=Au(F),void 0!==i.amPM&&(i.amPM.textContent=i.l10n.amPM[Cp(Q>=12)]),void 0!==i.secondElement&&(i.secondElement.value=Au(xe)))}function y(Q){var F=wd(Q),xe=parseInt(F.value)+(Q.delta||0);(xe/1e3>1||"Enter"===Q.key&&!/[^\d]/.test(xe.toString()))&&j(xe)}function E(Q,F,xe,Fe){return F instanceof Array?F.forEach(function(qe){return E(Q,qe,xe,Fe)}):Q instanceof Array?Q.forEach(function(qe){return E(qe,F,xe,Fe)}):(Q.addEventListener(F,xe,Fe),void i._handlers.push({remove:function(){return Q.removeEventListener(F,xe,Fe)}}))}function _(){Pt("onChange")}function v(Q,F){var xe=void 0!==Q?i.parseDate(Q):i.latestSelectedDateObj||(i.config.minDate&&i.config.minDate>i.now?i.config.minDate:i.config.maxDate&&i.config.maxDate<i.now?i.config.maxDate:i.now),Fe=i.currentYear,qe=i.currentMonth;try{void 0!==xe&&(i.currentYear=xe.getFullYear(),i.currentMonth=xe.getMonth())}catch(nt){nt.message="Invalid date supplied: "+xe,i.config.errorHandler(nt)}F&&i.currentYear!==Fe&&(Pt("onYearChange"),H()),F&&(i.currentYear!==Fe||i.currentMonth!==qe)&&Pt("onMonthChange"),i.redraw()}function w(Q){var F=wd(Q);~F.className.indexOf("arrow")&&g(Q,F.classList.contains("arrowUp")?1:-1)}function g(Q,F,xe){var Fe=Q&&wd(Q),qe=xe||Fe&&Fe.parentNode&&Fe.parentNode.firstChild,nt=nn("increment");nt.delta=F,qe&&qe.dispatchEvent(nt)}function T(Q,F,xe,Fe){var qe=M(F,!0),nt=ts("span",Q,F.getDate().toString());return nt.dateObj=F,nt.$i=Fe,nt.setAttribute("aria-label",i.formatDate(F,i.config.ariaDateFormat)),-1===Q.indexOf("hidden")&&0===Cd(F,i.now)&&(i.todayDateElem=nt,nt.classList.add("today"),nt.setAttribute("aria-current","date")),qe?(nt.tabIndex=-1,Yt(F)&&(nt.classList.add("selected"),i.selectedDateElem=nt,"range"===i.config.mode&&(Yc(nt,"startRange",i.selectedDates[0]&&0===Cd(F,i.selectedDates[0],!0)),Yc(nt,"endRange",i.selectedDates[1]&&0===Cd(F,i.selectedDates[1],!0)),"nextMonthDay"===Q&&nt.classList.add("inRange")))):nt.classList.add("flatpickr-disabled"),"range"===i.config.mode&&function we(Q){return!("range"!==i.config.mode||i.selectedDates.length<2)&&Cd(Q,i.selectedDates[0])>=0&&Cd(Q,i.selectedDates[1])<=0}(F)&&!Yt(F)&&nt.classList.add("inRange"),i.weekNumbers&&1===i.config.showMonths&&"prevMonthDay"!==Q&&Fe%7==6&&i.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+i.config.getWeek(F)+"</span>"),Pt("onDayCreate",nt),nt}function I(Q){Q.focus(),"range"===i.config.mode&&Se(Q)}function A(Q){for(var xe=Q>0?i.config.showMonths:-1,Fe=Q>0?0:i.config.showMonths-1;Fe!=xe;Fe+=Q)for(var qe=i.daysContainer.children[Fe],Qe=Q>0?qe.children.length:-1,ht=Q>0?0:qe.children.length-1;ht!=Qe;ht+=Q){var We=qe.children[ht];if(-1===We.className.indexOf("hidden")&&M(We.dateObj))return We}}function z(Q,F){var xe=a(),Fe=k(xe||document.body),qe=void 0!==Q?Q:Fe?xe:void 0!==i.selectedDateElem&&k(i.selectedDateElem)?i.selectedDateElem:void 0!==i.todayDateElem&&k(i.todayDateElem)?i.todayDateElem:A(F>0?1:-1);void 0===qe?i._input.focus():Fe?function $(Q,F){for(var xe=-1===Q.className.indexOf("Month")?Q.dateObj.getMonth():i.currentMonth,Fe=F>0?i.config.showMonths:-1,qe=F>0?1:-1,nt=xe-i.currentMonth;nt!=Fe;nt+=qe)for(var Qe=i.daysContainer.children[nt],We=Qe.children.length,dt=xe-i.currentMonth===nt?Q.$i+F:F<0?Qe.children.length-1:0;dt>=0&&dt<We&&dt!=(F>0?We:-1);dt+=qe){var Ne=Qe.children[dt];if(-1===Ne.className.indexOf("hidden")&&M(Ne.dateObj)&&Math.abs(Q.$i-dt)>=Math.abs(F))return I(Ne)}i.changeMonth(qe),z(A(qe),0)}(qe,F):I(qe)}function K(Q,F){for(var xe=(new Date(Q,F,1).getDay()-i.l10n.firstDayOfWeek+7)%7,Fe=i.utils.getDaysInMonth((F-1+12)%12,Q),qe=i.utils.getDaysInMonth(F,Q),nt=window.document.createDocumentFragment(),Qe=i.config.showMonths>1,ht=Qe?"prevMonthDay hidden":"prevMonthDay",We=Qe?"nextMonthDay hidden":"nextMonthDay",dt=Fe+1-xe,Ne=0;dt<=Fe;dt++,Ne++)nt.appendChild(T("flatpickr-day "+ht,new Date(Q,F-1,dt),0,Ne));for(dt=1;dt<=qe;dt++,Ne++)nt.appendChild(T("flatpickr-day",new Date(Q,F,dt),0,Ne));for(var Tt=qe+1;Tt<=42-xe&&(1===i.config.showMonths||Ne%7!=0);Tt++,Ne++)nt.appendChild(T("flatpickr-day "+We,new Date(Q,F+1,Tt%qe),0,Ne));var mt=ts("div","dayContainer");return mt.appendChild(nt),mt}function U(){if(void 0!==i.daysContainer){uL(i.daysContainer),i.weekNumbers&&uL(i.weekNumbers);for(var Q=document.createDocumentFragment(),F=0;F<i.config.showMonths;F++){var xe=new Date(i.currentYear,i.currentMonth,1);xe.setMonth(i.currentMonth+F),Q.appendChild(K(xe.getFullYear(),xe.getMonth()))}i.daysContainer.appendChild(Q),i.days=i.daysContainer.firstChild,"range"===i.config.mode&&1===i.selectedDates.length&&Se()}}function H(){if(!(i.config.showMonths>1||"dropdown"!==i.config.monthSelectorType)){i.monthsDropdownContainer.tabIndex=-1,i.monthsDropdownContainer.innerHTML="";for(var F=0;F<12;F++)if(Fe=F,!(void 0!==i.config.minDate&&i.currentYear===i.config.minDate.getFullYear()&&Fe<i.config.minDate.getMonth()||void 0!==i.config.maxDate&&i.currentYear===i.config.maxDate.getFullYear()&&Fe>i.config.maxDate.getMonth())){var xe=ts("option","flatpickr-monthDropdown-month");xe.value=new Date(i.currentYear,F).getMonth().toString(),xe.textContent=pL(F,i.config.shorthandCurrentMonth,i.l10n),xe.tabIndex=-1,i.currentMonth===F&&(xe.selected=!0),i.monthsDropdownContainer.appendChild(xe)}}var Fe}function me(){var xe,Q=ts("div","flatpickr-month"),F=window.document.createDocumentFragment();i.config.showMonths>1||"static"===i.config.monthSelectorType?xe=ts("span","cur-month"):(i.monthsDropdownContainer=ts("select","flatpickr-monthDropdown-months"),i.monthsDropdownContainer.setAttribute("aria-label",i.l10n.monthAriaLabel),E(i.monthsDropdownContainer,"change",function(Qe){var ht=wd(Qe),We=parseInt(ht.value,10);i.changeMonth(We-i.currentMonth),Pt("onMonthChange")}),H(),xe=i.monthsDropdownContainer);var Fe=dL("cur-year",{tabindex:"-1"}),qe=Fe.getElementsByTagName("input")[0];qe.setAttribute("aria-label",i.l10n.yearAriaLabel),i.config.minDate&&qe.setAttribute("min",i.config.minDate.getFullYear().toString()),i.config.maxDate&&(qe.setAttribute("max",i.config.maxDate.getFullYear().toString()),qe.disabled=!!i.config.minDate&&i.config.minDate.getFullYear()===i.config.maxDate.getFullYear());var nt=ts("div","flatpickr-current-month");return nt.appendChild(xe),nt.appendChild(Fe),F.appendChild(nt),Q.appendChild(F),{container:Q,yearElement:qe,monthElement:xe}}function Re(){uL(i.monthNav),i.monthNav.appendChild(i.prevMonthNav),i.config.showMonths&&(i.yearElements=[],i.monthElements=[]);for(var Q=i.config.showMonths;Q--;){var F=me();i.yearElements.push(F.yearElement),i.monthElements.push(F.monthElement),i.monthNav.appendChild(F.container)}i.monthNav.appendChild(i.nextMonthNav)}function at(){i.weekdayContainer?uL(i.weekdayContainer):i.weekdayContainer=ts("div","flatpickr-weekdays");for(var Q=i.config.showMonths;Q--;){var F=ts("div","flatpickr-weekdaycontainer");i.weekdayContainer.appendChild(F)}return _e(),i.weekdayContainer}function _e(){if(i.weekdayContainer){var Q=i.l10n.firstDayOfWeek,F=vMe(i.l10n.weekdays.shorthand);Q>0&&Q<F.length&&(F=vMe(F.splice(Q,F.length),F.splice(0,Q)));for(var xe=i.config.showMonths;xe--;)i.weekdayContainer.children[xe].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+F.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function ke(Q,F){void 0===F&&(F=!0);var xe=F?Q:Q-i.currentMonth;xe<0&&!0===i._hidePrevMonthArrow||xe>0&&!0===i._hideNextMonthArrow||(i.currentMonth+=xe,(i.currentMonth<0||i.currentMonth>11)&&(i.currentYear+=i.currentMonth>11?1:-1,i.currentMonth=(i.currentMonth+12)%12,Pt("onYearChange"),H()),U(),Pt("onMonthChange"),Dt())}function se(Q){return i.calendarContainer.contains(Q)}function $e(Q){if(i.isOpen&&!i.config.inline){var F=wd(Q),xe=se(F),qe=!(F===i.input||F===i.altInput||i.element.contains(F)||Q.path&&Q.path.indexOf&&(~Q.path.indexOf(i.input)||~Q.path.indexOf(i.altInput))||xe||se(Q.relatedTarget)),nt=!i.config.ignoredFocusElements.some(function(Qe){return Qe.contains(F)});qe&&nt&&(i.config.allowInput&&i.setDate(i._input.value,!1,i.config.altInput?i.config.altFormat:i.config.dateFormat),void 0!==i.timeContainer&&void 0!==i.minuteElement&&void 0!==i.hourElement&&""!==i.input.value&&void 0!==i.input.value&&u(),i.close(),i.config&&"range"===i.config.mode&&1===i.selectedDates.length&&i.clear(!1))}}function j(Q){if(!(!Q||i.config.minDate&&Q<i.config.minDate.getFullYear()||i.config.maxDate&&Q>i.config.maxDate.getFullYear())){var xe=i.currentYear!==Q;i.currentYear=Q||i.currentYear,i.config.maxDate&&i.currentYear===i.config.maxDate.getFullYear()?i.currentMonth=Math.min(i.config.maxDate.getMonth(),i.currentMonth):i.config.minDate&&i.currentYear===i.config.minDate.getFullYear()&&(i.currentMonth=Math.max(i.config.minDate.getMonth(),i.currentMonth)),xe&&(i.redraw(),Pt("onYearChange"),H())}}function M(Q,F){var xe;void 0===F&&(F=!0);var Fe=i.parseDate(Q,void 0,F);if(i.config.minDate&&Fe&&Cd(Fe,i.config.minDate,void 0!==F?F:!i.minDateHasTime)<0||i.config.maxDate&&Fe&&Cd(Fe,i.config.maxDate,void 0!==F?F:!i.maxDateHasTime)>0)return!1;if(!i.config.enable&&0===i.config.disable.length)return!0;if(void 0===Fe)return!1;for(var qe=!!i.config.enable,nt=null!==(xe=i.config.enable)&&void 0!==xe?xe:i.config.disable,Qe=0,ht=void 0;Qe<nt.length;Qe++){if("function"==typeof(ht=nt[Qe])&&ht(Fe))return qe;if(ht instanceof Date&&void 0!==Fe&&ht.getTime()===Fe.getTime())return qe;if("string"==typeof ht){var We=i.parseDate(ht,void 0,!0);return We&&We.getTime()===Fe.getTime()?qe:!qe}if("object"==typeof ht&&void 0!==Fe&&ht.from&&ht.to&&Fe.getTime()>=ht.from.getTime()&&Fe.getTime()<=ht.to.getTime())return qe}return!qe}function k(Q){return void 0!==i.daysContainer&&-1===Q.className.indexOf("hidden")&&-1===Q.className.indexOf("flatpickr-disabled")&&i.daysContainer.contains(Q)}function ne(Q){var F=Q.target===i._input,xe=i._input.value.trimEnd()!==sn();F&&xe&&(!Q.relatedTarget||!se(Q.relatedTarget))&&i.setDate(i._input.value,!0,Q.target===i.altInput?i.config.altFormat:i.config.dateFormat)}function re(Q){var F=wd(Q),xe=i.config.wrap?t.contains(F):F===i._input,Fe=i.config.allowInput,qe=i.isOpen&&(!Fe||!xe),nt=i.config.inline&&xe&&!Fe;if(13===Q.keyCode&&xe){if(Fe)return i.setDate(i._input.value,!0,F===i.altInput?i.config.altFormat:i.config.dateFormat),i.close(),F.blur();i.open()}else if(se(F)||qe||nt){var Qe=!!i.timeContainer&&i.timeContainer.contains(F);switch(Q.keyCode){case 13:Qe?(Q.preventDefault(),u(),yt()):X(Q);break;case 27:Q.preventDefault(),yt();break;case 8:case 46:xe&&!i.config.allowInput&&(Q.preventDefault(),i.clear());break;case 37:case 39:if(Qe||xe)i.hourElement&&i.hourElement.focus();else{Q.preventDefault();var ht=a();if(void 0!==i.daysContainer&&(!1===Fe||ht&&k(ht))){var We=39===Q.keyCode?1:-1;Q.ctrlKey?(Q.stopPropagation(),ke(We),z(A(1),0)):z(void 0,We)}}break;case 38:case 40:Q.preventDefault();var dt=40===Q.keyCode?1:-1;i.daysContainer&&void 0!==F.$i||F===i.input||F===i.altInput?Q.ctrlKey?(Q.stopPropagation(),j(i.currentYear-dt),z(A(1),0)):Qe||z(void 0,7*dt):F===i.currentYearElement?j(i.currentYear-dt):i.config.enableTime&&(!Qe&&i.hourElement&&i.hourElement.focus(),u(Q),i._debouncedChange());break;case 9:if(Qe){var Ne=[i.hourElement,i.minuteElement,i.secondElement,i.amPM].concat(i.pluginElements).filter(function(gt){return gt}),Tt=Ne.indexOf(F);if(-1!==Tt){var mt=Ne[Tt+(Q.shiftKey?-1:1)];Q.preventDefault(),(mt||i._input).focus()}}else!i.config.noCalendar&&i.daysContainer&&i.daysContainer.contains(F)&&Q.shiftKey&&(Q.preventDefault(),i._input.focus())}}if(void 0!==i.amPM&&F===i.amPM)switch(Q.key){case i.l10n.amPM[0].charAt(0):case i.l10n.amPM[0].charAt(0).toLowerCase():i.amPM.textContent=i.l10n.amPM[0],f(),Ae();break;case i.l10n.amPM[1].charAt(0):case i.l10n.amPM[1].charAt(0).toLowerCase():i.amPM.textContent=i.l10n.amPM[1],f(),Ae()}(xe||se(F))&&Pt("onKeyDown",Q)}function Se(Q,F){if(void 0===F&&(F="flatpickr-day"),1===i.selectedDates.length&&(!Q||Q.classList.contains(F)&&!Q.classList.contains("flatpickr-disabled"))){for(var xe=Q?Q.dateObj.getTime():i.days.firstElementChild.dateObj.getTime(),Fe=i.parseDate(i.selectedDates[0],void 0,!0).getTime(),qe=Math.min(xe,i.selectedDates[0].getTime()),nt=Math.max(xe,i.selectedDates[0].getTime()),Qe=!1,ht=0,We=0,dt=qe;dt<nt;dt+=864e5)M(new Date(dt),!0)||(Qe=Qe||dt>qe&&dt<nt,dt<Fe&&(!ht||dt>ht)?ht=dt:dt>Fe&&(!We||dt<We)&&(We=dt));Array.from(i.rContainer.querySelectorAll("*:nth-child(-n+"+i.config.showMonths+") > ."+F)).forEach(function(Tt){var gt=Tt.dateObj.getTime(),Z=ht>0&&gt<ht||We>0&&gt>We;if(Z)return Tt.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach(function(lt){Tt.classList.remove(lt)});Qe&&!Z||(["startRange","inRange","endRange","notAllowed"].forEach(function(lt){Tt.classList.remove(lt)}),void 0!==Q&&(Q.classList.add(xe<=i.selectedDates[0].getTime()?"startRange":"endRange"),Fe<xe&&gt===Fe?Tt.classList.add("startRange"):Fe>xe&&gt===Fe&&Tt.classList.add("endRange"),gt>=ht&&(0===We||gt<=We)&&function(t,n,i){return t>Math.min(n,i)&&t<Math.max(n,i)}(gt,Fe,xe)&&Tt.classList.add("inRange")))})}}function te(){i.isOpen&&!i.config.static&&!i.config.inline&&rn()}function rt(Q){return function(F){var xe=i.config["_"+Q+"Date"]=i.parseDate(F,i.config.dateFormat),Fe=i.config["_"+("min"===Q?"max":"min")+"Date"];void 0!==xe&&(i["min"===Q?"minDateHasTime":"maxDateHasTime"]=xe.getHours()>0||xe.getMinutes()>0||xe.getSeconds()>0),i.selectedDates&&(i.selectedDates=i.selectedDates.filter(function(qe){return M(qe)}),!i.selectedDates.length&&"min"===Q&&h(xe),Ae()),i.daysContainer&&(zt(),void 0!==xe?i.currentYearElement[Q]=xe.getFullYear().toString():i.currentYearElement.removeAttribute(Q),i.currentYearElement.disabled=!!Fe&&void 0!==xe&&Fe.getFullYear()===xe.getFullYear())}}function Kt(){return i.config.wrap?t.querySelector("[data-input]"):t}function ft(){"object"!=typeof i.config.locale&&typeof ka.l10ns[i.config.locale]>"u"&&i.config.errorHandler(new Error("flatpickr: invalid locale "+i.config.locale)),i.l10n=Ec(Ec({},ka.l10ns.default),"object"==typeof i.config.locale?i.config.locale:"default"!==i.config.locale?ka.l10ns[i.config.locale]:void 0),J_.D="("+i.l10n.weekdays.shorthand.join("|")+")",J_.l="("+i.l10n.weekdays.longhand.join("|")+")",J_.M="("+i.l10n.months.shorthand.join("|")+")",J_.F="("+i.l10n.months.longhand.join("|")+")",J_.K="("+i.l10n.amPM[0]+"|"+i.l10n.amPM[1]+"|"+i.l10n.amPM[0].toLowerCase()+"|"+i.l10n.amPM[1].toLowerCase()+")",void 0===Ec(Ec({},n),JSON.parse(JSON.stringify(t.dataset||{}))).time_24hr&&void 0===ka.defaultConfig.time_24hr&&(i.config.time_24hr=i.l10n.time_24hr),i.formatDate=yMe(i),i.parseDate=gee({config:i.config,l10n:i.l10n})}function rn(Q){if("function"!=typeof i.config.position){if(void 0!==i.calendarContainer){Pt("onPreCalendarPosition");var F=Q||i._positionElement,xe=Array.prototype.reduce.call(i.calendarContainer.children,function(Zt,Wn){return Zt+Wn.offsetHeight},0),Fe=i.calendarContainer.offsetWidth,qe=i.config.position.split(" "),nt=qe[0],Qe=qe.length>1?qe[1]:null,ht=F.getBoundingClientRect(),We=window.innerHeight-ht.bottom,dt="above"===nt||"below"!==nt&&We<xe&&ht.top>xe,Ne=window.pageYOffset+ht.top+(dt?-xe-2:F.offsetHeight+2);if(Yc(i.calendarContainer,"arrowTop",!dt),Yc(i.calendarContainer,"arrowBottom",dt),!i.config.inline){var Tt=window.pageXOffset+ht.left,mt=!1,gt=!1;"center"===Qe?(Tt-=(Fe-ht.width)/2,mt=!0):"right"===Qe&&(Tt-=Fe-ht.width,gt=!0),Yc(i.calendarContainer,"arrowLeft",!mt&&!gt),Yc(i.calendarContainer,"arrowCenter",mt),Yc(i.calendarContainer,"arrowRight",gt);var Z=window.document.body.offsetWidth-(window.pageXOffset+ht.right),lt=Tt+Fe>window.document.body.offsetWidth,bt=Z+Fe>window.document.body.offsetWidth;if(Yc(i.calendarContainer,"rightMost",lt),!i.config.static)if(i.calendarContainer.style.top=Ne+"px",lt)if(bt){var Ye=function q(){for(var Q=null,F=0;F<document.styleSheets.length;F++){var xe=document.styleSheets[F];if(xe.cssRules){Q=xe;break}}return Q??function B(){var Q=document.createElement("style");return document.head.appendChild(Q),Q.sheet}()}();if(void 0===Ye)return;var kt=window.document.body.offsetWidth,Ct=Math.max(0,kt/2-Fe/2),Le=Ye.cssRules.length,it="{left:"+ht.left+"px;right:auto;}";Yc(i.calendarContainer,"rightMost",!1),Yc(i.calendarContainer,"centerMost",!0),Ye.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+it,Le),i.calendarContainer.style.left=Ct+"px",i.calendarContainer.style.right="auto"}else i.calendarContainer.style.left="auto",i.calendarContainer.style.right=Z+"px";else i.calendarContainer.style.left=Tt+"px",i.calendarContainer.style.right="auto"}}}else i.config.position(i,Q)}function zt(){i.config.noCalendar||i.isMobile||(H(),Dt(),U())}function yt(){i._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(i.close,0):i.close()}function X(Q){Q.preventDefault(),Q.stopPropagation();var xe=gMe(wd(Q),function(Ne){return Ne.classList&&Ne.classList.contains("flatpickr-day")&&!Ne.classList.contains("flatpickr-disabled")&&!Ne.classList.contains("notAllowed")});if(void 0!==xe){var Fe=xe,qe=i.latestSelectedDateObj=new Date(Fe.dateObj.getTime()),nt=(qe.getMonth()<i.currentMonth||qe.getMonth()>i.currentMonth+i.config.showMonths-1)&&"range"!==i.config.mode;if(i.selectedDateElem=Fe,"single"===i.config.mode)i.selectedDates=[qe];else if("multiple"===i.config.mode){var Qe=Yt(qe);Qe?i.selectedDates.splice(parseInt(Qe),1):i.selectedDates.push(qe)}else"range"===i.config.mode&&(2===i.selectedDates.length&&i.clear(!1,!1),i.latestSelectedDateObj=qe,i.selectedDates.push(qe),0!==Cd(qe,i.selectedDates[0],!0)&&i.selectedDates.sort(function(Ne,Tt){return Ne.getTime()-Tt.getTime()}));if(f(),nt){var ht=i.currentYear!==qe.getFullYear();i.currentYear=qe.getFullYear(),i.currentMonth=qe.getMonth(),ht&&(Pt("onYearChange"),H()),Pt("onMonthChange")}Dt(),U(),Ae(),nt||"range"===i.config.mode||1!==i.config.showMonths?void 0!==i.selectedDateElem&&void 0===i.hourElement&&i.selectedDateElem&&i.selectedDateElem.focus():I(Fe),void 0!==i.hourElement&&void 0!==i.hourElement&&i.hourElement.focus(),i.config.closeOnSelect&&("single"===i.config.mode&&!i.config.enableTime||"range"===i.config.mode&&2===i.selectedDates.length&&!i.config.enableTime)&&yt(),_()}}i.parseDate=gee({config:i.config,l10n:i.l10n}),i._handlers=[],i.pluginElements=[],i.loadedPlugins=[],i._bind=E,i._setHoursFromDate=h,i._positionCalendar=rn,i.changeMonth=ke,i.changeYear=j,i.clear=function Pe(Q,F){if(void 0===Q&&(Q=!0),void 0===F&&(F=!0),i.input.value="",void 0!==i.altInput&&(i.altInput.value=""),void 0!==i.mobileInput&&(i.mobileInput.value=""),i.selectedDates=[],i.latestSelectedDateObj=void 0,!0===F&&(i.currentYear=i._initialDate.getFullYear(),i.currentMonth=i._initialDate.getMonth()),!0===i.config.enableTime){var xe=vee(i.config);m(xe.hours,xe.minutes,xe.seconds)}i.redraw(),Q&&Pt("onChange")},i.close=function Y(){i.isOpen=!1,i.isMobile||(void 0!==i.calendarContainer&&i.calendarContainer.classList.remove("open"),void 0!==i._input&&i._input.classList.remove("active")),Pt("onClose")},i.onMouseOver=Se,i._createElement=ts,i.createDay=T,i.destroy=function ie(){void 0!==i.config&&Pt("onDestroy");for(var Q=i._handlers.length;Q--;)i._handlers[Q].remove();if(i._handlers=[],i.mobileInput)i.mobileInput.parentNode&&i.mobileInput.parentNode.removeChild(i.mobileInput),i.mobileInput=void 0;else if(i.calendarContainer&&i.calendarContainer.parentNode)if(i.config.static&&i.calendarContainer.parentNode){var F=i.calendarContainer.parentNode;if(F.lastChild&&F.removeChild(F.lastChild),F.parentNode){for(;F.firstChild;)F.parentNode.insertBefore(F.firstChild,F);F.parentNode.removeChild(F)}}else i.calendarContainer.parentNode.removeChild(i.calendarContainer);i.altInput&&(i.input.type="text",i.altInput.parentNode&&i.altInput.parentNode.removeChild(i.altInput),delete i.altInput),i.input&&(i.input.type=i.input._type,i.input.classList.remove("flatpickr-input"),i.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(xe){try{delete i[xe]}catch{}})},i.isEnabled=M,i.jumpToDate=v,i.updateValue=Ae,i.open=function Ke(Q,F){if(void 0===F&&(F=i._positionElement),!0===i.isMobile){if(Q){Q.preventDefault();var xe=wd(Q);xe&&xe.blur()}return void 0!==i.mobileInput&&(i.mobileInput.focus(),i.mobileInput.click()),void Pt("onOpen")}if(!i._input.disabled&&!i.config.inline){var Fe=i.isOpen;i.isOpen=!0,Fe||(i.calendarContainer.classList.add("open"),i._input.classList.add("active"),Pt("onOpen"),rn(F)),!0===i.config.enableTime&&!0===i.config.noCalendar&&!1===i.config.allowInput&&(void 0===Q||!i.timeContainer.contains(Q.relatedTarget))&&setTimeout(function(){return i.hourElement.select()},50)}},i.redraw=zt,i.set=function li(Q,F){if(null!==Q&&"object"==typeof Q)for(var xe in Object.assign(i.config,Q),Q)void 0!==le[xe]&&le[xe].forEach(function(Fe){return Fe()});else i.config[Q]=F,void 0!==le[Q]?le[Q].forEach(function(Fe){return Fe()}):dee.indexOf(Q)>-1&&(i.config[Q]=hee(F));i.redraw(),Ae(!0)},i.setDate=function Qn(Q,F,xe){if(void 0===F&&(F=!1),void 0===xe&&(xe=i.config.dateFormat),0!==Q&&!Q||Q instanceof Array&&0===Q.length)return i.clear(F);Rr(Q,xe),i.latestSelectedDateObj=i.selectedDates[i.selectedDates.length-1],i.redraw(),v(void 0,F),h(),0===i.selectedDates.length&&i.clear(!1),Ae(F),F&&Pt("onChange")},i.toggle=function Oe(Q){if(!0===i.isOpen)return i.close();i.open(Q)};var le={locale:[ft,_e],showMonths:[Re,c,at],minDate:[v],maxDate:[v],positionElement:[wn],clickOpens:[function(){!0===i.config.clickOpens?(E(i._input,"focus",i.open),E(i._input,"click",i.open)):(i._input.removeEventListener("focus",i.open),i._input.removeEventListener("click",i.open))}]};function Rr(Q,F){var xe=[];if(Q instanceof Array)xe=Q.map(function(Fe){return i.parseDate(Fe,F)});else if(Q instanceof Date||"number"==typeof Q)xe=[i.parseDate(Q,F)];else if("string"==typeof Q)switch(i.config.mode){case"single":case"time":xe=[i.parseDate(Q,F)];break;case"multiple":xe=Q.split(i.config.conjunction).map(function(Fe){return i.parseDate(Fe,F)});break;case"range":xe=Q.split(i.l10n.rangeSeparator).map(function(Fe){return i.parseDate(Fe,F)})}else i.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(Q)));i.selectedDates=i.config.allowInvalidPreload?xe:xe.filter(function(Fe){return Fe instanceof Date&&M(Fe,!1)}),"range"===i.config.mode&&i.selectedDates.sort(function(Fe,qe){return Fe.getTime()-qe.getTime()})}function $s(Q){return Q.slice().map(function(F){return"string"==typeof F||"number"==typeof F||F instanceof Date?i.parseDate(F,void 0,!0):F&&"object"==typeof F&&F.from&&F.to?{from:i.parseDate(F.from,void 0),to:i.parseDate(F.to,void 0)}:F}).filter(function(F){return F})}function wn(){i._positionElement=i.config.positionElement||i._input}function Pt(Q,F){if(void 0!==i.config){var xe=i.config[Q];if(void 0!==xe&&xe.length>0)for(var Fe=0;xe[Fe]&&Fe<xe.length;Fe++)xe[Fe](i.selectedDates,i.input.value,i,F);"onChange"===Q&&(i.input.dispatchEvent(nn("change")),i.input.dispatchEvent(nn("input")))}}function nn(Q){var F=document.createEvent("Event");return F.initEvent(Q,!0,!0),F}function Yt(Q){for(var F=0;F<i.selectedDates.length;F++){var xe=i.selectedDates[F];if(xe instanceof Date&&0===Cd(xe,Q))return""+F}return!1}function Dt(){i.config.noCalendar||i.isMobile||!i.monthNav||(i.yearElements.forEach(function(Q,F){var xe=new Date(i.currentYear,i.currentMonth,1);xe.setMonth(i.currentMonth+F),i.config.showMonths>1||"static"===i.config.monthSelectorType?i.monthElements[F].textContent=pL(xe.getMonth(),i.config.shorthandCurrentMonth,i.l10n)+" ":i.monthsDropdownContainer.value=xe.getMonth().toString(),Q.value=xe.getFullYear().toString()}),i._hidePrevMonthArrow=void 0!==i.config.minDate&&(i.currentYear===i.config.minDate.getFullYear()?i.currentMonth<=i.config.minDate.getMonth():i.currentYear<i.config.minDate.getFullYear()),i._hideNextMonthArrow=void 0!==i.config.maxDate&&(i.currentYear===i.config.maxDate.getFullYear()?i.currentMonth+1>i.config.maxDate.getMonth():i.currentYear>i.config.maxDate.getFullYear()))}function sn(Q){var F=Q||(i.config.altInput?i.config.altFormat:i.config.dateFormat);return i.selectedDates.map(function(xe){return i.formatDate(xe,F)}).filter(function(xe,Fe,qe){return"range"!==i.config.mode||i.config.enableTime||qe.indexOf(xe)===Fe}).join("range"!==i.config.mode?i.config.conjunction:i.l10n.rangeSeparator)}function Ae(Q){void 0===Q&&(Q=!0),void 0!==i.mobileInput&&i.mobileFormatStr&&(i.mobileInput.value=void 0!==i.latestSelectedDateObj?i.formatDate(i.latestSelectedDateObj,i.mobileFormatStr):""),i.input.value=sn(i.config.dateFormat),void 0!==i.altInput&&(i.altInput.value=sn(i.config.altFormat)),!1!==Q&&Pt("onValueUpdate")}function wt(Q){var F=wd(Q),xe=i.prevMonthNav.contains(F),Fe=i.nextMonthNav.contains(F);xe||Fe?ke(xe?-1:1):i.yearElements.indexOf(F)>=0?F.select():F.classList.contains("arrowUp")?i.changeYear(i.currentYear+1):F.classList.contains("arrowDown")&&i.changeYear(i.currentYear-1)}return function o(){i.element=i.input=t,i.isOpen=!1,function Bt(){var Q=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],F=Ec(Ec({},JSON.parse(JSON.stringify(t.dataset||{}))),n),xe={};i.config.parseDate=F.parseDate,i.config.formatDate=F.formatDate,Object.defineProperty(i.config,"enable",{get:function(){return i.config._enable},set:function(Ne){i.config._enable=$s(Ne)}}),Object.defineProperty(i.config,"disable",{get:function(){return i.config._disable},set:function(Ne){i.config._disable=$s(Ne)}});var Fe="time"===F.mode;F.dateFormat||!F.enableTime&&!Fe||(xe.dateFormat=F.noCalendar||Fe?"H:i"+(F.enableSeconds?":S":""):(ka.defaultConfig.dateFormat||r5.dateFormat)+" H:i"+(F.enableSeconds?":S":"")),F.altInput&&(F.enableTime||Fe)&&!F.altFormat&&(xe.altFormat=F.noCalendar||Fe?"h:i"+(F.enableSeconds?":S K":" K"):(ka.defaultConfig.altFormat||r5.altFormat)+" h:i"+(F.enableSeconds?":S":"")+" K"),Object.defineProperty(i.config,"minDate",{get:function(){return i.config._minDate},set:rt("min")}),Object.defineProperty(i.config,"maxDate",{get:function(){return i.config._maxDate},set:rt("max")});var Qe=function(Ne){return function(Tt){i.config["min"===Ne?"_minTime":"_maxTime"]=i.parseDate(Tt,"H:i:S")}};Object.defineProperty(i.config,"minTime",{get:function(){return i.config._minTime},set:Qe("min")}),Object.defineProperty(i.config,"maxTime",{get:function(){return i.config._maxTime},set:Qe("max")}),"time"===F.mode&&(i.config.noCalendar=!0,i.config.enableTime=!0),Object.assign(i.config,xe,F);for(var ht=0;ht<Q.length;ht++)i.config[Q[ht]]=!0===i.config[Q[ht]]||"true"===i.config[Q[ht]];for(dee.filter(function(Ne){return void 0!==i.config[Ne]}).forEach(function(Ne){i.config[Ne]=hee(i.config[Ne]||[]).map(l)}),i.isMobile=!i.config.disableMobile&&!i.config.inline&&"single"===i.config.mode&&!i.config.disable.length&&!i.config.enable&&!i.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),ht=0;ht<i.config.plugins.length;ht++){var We=i.config.plugins[ht](i)||{};for(var dt in We)dee.indexOf(dt)>-1?i.config[dt]=hee(We[dt]).map(l).concat(i.config[dt]):typeof F[dt]>"u"&&(i.config[dt]=We[dt])}F.altInputClass||(i.config.altInputClass=Kt().className+" "+i.config.altInputClass),Pt("onParseConfig")}(),ft(),function qo(){i.input=Kt(),i.input?(i.input._type=i.input.type,i.input.type="text",i.input.classList.add("flatpickr-input"),i._input=i.input,i.config.altInput&&(i.altInput=ts(i.input.nodeName,i.config.altInputClass),i._input=i.altInput,i.altInput.placeholder=i.input.placeholder,i.altInput.disabled=i.input.disabled,i.altInput.required=i.input.required,i.altInput.tabIndex=i.input.tabIndex,i.altInput.type="text",i.input.setAttribute("type","hidden"),!i.config.static&&i.input.parentNode&&i.input.parentNode.insertBefore(i.altInput,i.input.nextSibling)),i.config.allowInput||i._input.setAttribute("readonly","readonly"),wn()):i.config.errorHandler(new Error("Invalid input element specified"))}(),function Ua(){i.selectedDates=[],i.now=i.parseDate(i.config.now)||new Date;var Q=i.config.defaultDate||("INPUT"!==i.input.nodeName&&"TEXTAREA"!==i.input.nodeName||!i.input.placeholder||i.input.value!==i.input.placeholder?i.input.value:null);Q&&Rr(Q,i.config.dateFormat),i._initialDate=i.selectedDates.length>0?i.selectedDates[0]:i.config.minDate&&i.config.minDate.getTime()>i.now.getTime()?i.config.minDate:i.config.maxDate&&i.config.maxDate.getTime()<i.now.getTime()?i.config.maxDate:i.now,i.currentYear=i._initialDate.getFullYear(),i.currentMonth=i._initialDate.getMonth(),i.selectedDates.length>0&&(i.latestSelectedDateObj=i.selectedDates[0]),void 0!==i.config.minTime&&(i.config.minTime=i.parseDate(i.config.minTime,"H:i")),void 0!==i.config.maxTime&&(i.config.maxTime=i.parseDate(i.config.maxTime,"H:i")),i.minDateHasTime=!!i.config.minDate&&(i.config.minDate.getHours()>0||i.config.minDate.getMinutes()>0||i.config.minDate.getSeconds()>0),i.maxDateHasTime=!!i.config.maxDate&&(i.config.maxDate.getHours()>0||i.config.maxDate.getMinutes()>0||i.config.maxDate.getSeconds()>0)}(),function s(){i.utils={getDaysInMonth:function(Q,F){return void 0===Q&&(Q=i.currentMonth),void 0===F&&(F=i.currentYear),1===Q&&(F%4==0&&F%100!=0||F%400==0)?29:i.l10n.daysInMonth[Q]}}}(),i.isMobile||function x(){var Q=window.document.createDocumentFragment();if(i.calendarContainer=ts("div","flatpickr-calendar"),i.calendarContainer.tabIndex=-1,!i.config.noCalendar){if(Q.appendChild(function De(){return i.monthNav=ts("div","flatpickr-months"),i.yearElements=[],i.monthElements=[],i.prevMonthNav=ts("span","flatpickr-prev-month"),i.prevMonthNav.innerHTML=i.config.prevArrow,i.nextMonthNav=ts("span","flatpickr-next-month"),i.nextMonthNav.innerHTML=i.config.nextArrow,Re(),Object.defineProperty(i,"_hidePrevMonthArrow",{get:function(){return i.__hidePrevMonthArrow},set:function(Q){i.__hidePrevMonthArrow!==Q&&(Yc(i.prevMonthNav,"flatpickr-disabled",Q),i.__hidePrevMonthArrow=Q)}}),Object.defineProperty(i,"_hideNextMonthArrow",{get:function(){return i.__hideNextMonthArrow},set:function(Q){i.__hideNextMonthArrow!==Q&&(Yc(i.nextMonthNav,"flatpickr-disabled",Q),i.__hideNextMonthArrow=Q)}}),i.currentYearElement=i.yearElements[0],Dt(),i.monthNav}()),i.innerContainer=ts("div","flatpickr-innerContainer"),i.config.weekNumbers){var F=function be(){i.calendarContainer.classList.add("hasWeeks");var Q=ts("div","flatpickr-weekwrapper");Q.appendChild(ts("span","flatpickr-weekday",i.l10n.weekAbbreviation));var F=ts("div","flatpickr-weeks");return Q.appendChild(F),{weekWrapper:Q,weekNumbers:F}}(),xe=F.weekWrapper,Fe=F.weekNumbers;i.innerContainer.appendChild(xe),i.weekNumbers=Fe,i.weekWrapper=xe}i.rContainer=ts("div","flatpickr-rContainer"),i.rContainer.appendChild(at()),i.daysContainer||(i.daysContainer=ts("div","flatpickr-days"),i.daysContainer.tabIndex=-1),U(),i.rContainer.appendChild(i.daysContainer),i.innerContainer.appendChild(i.rContainer),Q.appendChild(i.innerContainer)}i.config.enableTime&&Q.appendChild(function ye(){i.calendarContainer.classList.add("hasTime"),i.config.noCalendar&&i.calendarContainer.classList.add("noCalendar");var Q=vee(i.config);i.timeContainer=ts("div","flatpickr-time"),i.timeContainer.tabIndex=-1;var F=ts("span","flatpickr-time-separator",":"),xe=dL("flatpickr-hour",{"aria-label":i.l10n.hourAriaLabel});i.hourElement=xe.getElementsByTagName("input")[0];var Fe=dL("flatpickr-minute",{"aria-label":i.l10n.minuteAriaLabel});if(i.minuteElement=Fe.getElementsByTagName("input")[0],i.hourElement.tabIndex=i.minuteElement.tabIndex=-1,i.hourElement.value=Au(i.latestSelectedDateObj?i.latestSelectedDateObj.getHours():i.config.time_24hr?Q.hours:function p(Q){switch(Q%24){case 0:case 12:return 12;default:return Q%12}}(Q.hours)),i.minuteElement.value=Au(i.latestSelectedDateObj?i.latestSelectedDateObj.getMinutes():Q.minutes),i.hourElement.setAttribute("step",i.config.hourIncrement.toString()),i.minuteElement.setAttribute("step",i.config.minuteIncrement.toString()),i.hourElement.setAttribute("min",i.config.time_24hr?"0":"1"),i.hourElement.setAttribute("max",i.config.time_24hr?"23":"12"),i.hourElement.setAttribute("maxlength","2"),i.minuteElement.setAttribute("min","0"),i.minuteElement.setAttribute("max","59"),i.minuteElement.setAttribute("maxlength","2"),i.timeContainer.appendChild(xe),i.timeContainer.appendChild(F),i.timeContainer.appendChild(Fe),i.config.time_24hr&&i.timeContainer.classList.add("time24hr"),i.config.enableSeconds){i.timeContainer.classList.add("hasSeconds");var qe=dL("flatpickr-second");i.secondElement=qe.getElementsByTagName("input")[0],i.secondElement.value=Au(i.latestSelectedDateObj?i.latestSelectedDateObj.getSeconds():Q.seconds),i.secondElement.setAttribute("step",i.minuteElement.getAttribute("step")),i.secondElement.setAttribute("min","0"),i.secondElement.setAttribute("max","59"),i.secondElement.setAttribute("maxlength","2"),i.timeContainer.appendChild(ts("span","flatpickr-time-separator",":")),i.timeContainer.appendChild(qe)}return i.config.time_24hr||(i.amPM=ts("span","flatpickr-am-pm",i.l10n.amPM[Cp((i.latestSelectedDateObj?i.hourElement.value:i.config.defaultHour)>11)]),i.amPM.title=i.l10n.toggleTitle,i.amPM.tabIndex=-1,i.timeContainer.appendChild(i.amPM)),i.timeContainer}()),Yc(i.calendarContainer,"rangeMode","range"===i.config.mode),Yc(i.calendarContainer,"animate",!0===i.config.animate),Yc(i.calendarContainer,"multiMonth",i.config.showMonths>1),i.calendarContainer.appendChild(Q);var qe=void 0!==i.config.appendTo&&void 0!==i.config.appendTo.nodeType;if((i.config.inline||i.config.static)&&(i.calendarContainer.classList.add(i.config.inline?"inline":"static"),i.config.inline&&(!qe&&i.element.parentNode?i.element.parentNode.insertBefore(i.calendarContainer,i._input.nextSibling):void 0!==i.config.appendTo&&i.config.appendTo.appendChild(i.calendarContainer)),i.config.static)){var nt=ts("div","flatpickr-wrapper");i.element.parentNode&&i.element.parentNode.insertBefore(nt,i.element),nt.appendChild(i.element),i.altInput&&nt.appendChild(i.altInput),nt.appendChild(i.calendarContainer)}!i.config.static&&!i.config.inline&&(void 0!==i.config.appendTo?i.config.appendTo:window.document.body).appendChild(i.calendarContainer)}(),function S(){if(i.config.wrap&&["open","close","toggle","clear"].forEach(function(xe){Array.prototype.forEach.call(i.element.querySelectorAll("[data-"+xe+"]"),function(Fe){return E(Fe,"click",i[xe])})}),i.isMobile)!function Hi(){var Q=i.config.enableTime?i.config.noCalendar?"time":"datetime-local":"date";i.mobileInput=ts("input",i.input.className+" flatpickr-mobile"),i.mobileInput.tabIndex=1,i.mobileInput.type=Q,i.mobileInput.disabled=i.input.disabled,i.mobileInput.required=i.input.required,i.mobileInput.placeholder=i.input.placeholder,i.mobileFormatStr="datetime-local"===Q?"Y-m-d\\TH:i:S":"date"===Q?"Y-m-d":"H:i:S",i.selectedDates.length>0&&(i.mobileInput.defaultValue=i.mobileInput.value=i.formatDate(i.selectedDates[0],i.mobileFormatStr)),i.config.minDate&&(i.mobileInput.min=i.formatDate(i.config.minDate,"Y-m-d")),i.config.maxDate&&(i.mobileInput.max=i.formatDate(i.config.maxDate,"Y-m-d")),i.input.getAttribute("step")&&(i.mobileInput.step=String(i.input.getAttribute("step"))),i.input.type="hidden",void 0!==i.altInput&&(i.altInput.type="hidden");try{i.input.parentNode&&i.input.parentNode.insertBefore(i.mobileInput,i.input.nextSibling)}catch{}E(i.mobileInput,"change",function(F){i.setDate(wd(F).value,!1,i.mobileFormatStr),Pt("onChange"),Pt("onClose")})}();else{var Q=mMe(te,50);if(i._debouncedChange=mMe(_,300),i.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&E(i.daysContainer,"mouseover",function(xe){"range"===i.config.mode&&Se(wd(xe))}),E(i._input,"keydown",re),void 0!==i.calendarContainer&&E(i.calendarContainer,"keydown",re),!i.config.inline&&!i.config.static&&E(window,"resize",Q),void 0!==window.ontouchstart?E(window.document,"touchstart",$e):E(window.document,"mousedown",$e),E(window.document,"focus",$e,{capture:!0}),!0===i.config.clickOpens&&(E(i._input,"focus",i.open),E(i._input,"click",i.open)),void 0!==i.daysContainer&&(E(i.monthNav,"click",wt),E(i.monthNav,["keyup","increment"],y),E(i.daysContainer,"click",X)),void 0!==i.timeContainer&&void 0!==i.minuteElement&&void 0!==i.hourElement){E(i.timeContainer,["increment"],u),E(i.timeContainer,"blur",u,{capture:!0}),E(i.timeContainer,"click",w),E([i.hourElement,i.minuteElement],["focus","click"],function(xe){return wd(xe).select()}),void 0!==i.secondElement&&E(i.secondElement,"focus",function(){return i.secondElement&&i.secondElement.select()}),void 0!==i.amPM&&E(i.amPM,"click",function(xe){u(xe)})}i.config.allowInput&&E(i._input,"blur",ne)}}(),(i.selectedDates.length||i.config.noCalendar)&&(i.config.enableTime&&h(i.config.noCalendar?i.latestSelectedDateObj:void 0),Ae(!1)),c();var Q=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!i.isMobile&&Q&&rn(),Pt("onReady")}(),i}function i5(t,n){for(var i=Array.prototype.slice.call(t).filter(function(l){return l instanceof HTMLElement}),s=[],o=0;o<i.length;o++){var a=i[o];try{if(null!==a.getAttribute("data-fp-omit"))continue;void 0!==a._flatpickr&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=BVt(a,n||{}),s.push(a._flatpickr)}catch(l){console.error(l)}}return 1===s.length?s[0]:s}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return i5(this,t)},HTMLElement.prototype.flatpickr=function(t){return i5([this],t)});var ka=function(t,n){return"string"==typeof t?i5(window.document.querySelectorAll(t),n):t instanceof Node?i5([t],n):i5(t,n)};ka.defaultConfig={},ka.l10ns={en:Ec({},fee),default:Ec({},fee)},ka.localize=function(t){ka.l10ns.default=Ec(Ec({},ka.l10ns.default),t)},ka.setDefaults=function(t){ka.defaultConfig=Ec(Ec({},ka.defaultConfig),t)},ka.parseDate=gee({}),ka.formatDate=yMe({}),ka.compareDates=Cd,typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(t){return i5(this,t)}),Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof t?parseInt(t,10):t))},typeof window<"u"&&(window.flatpickr=ka);const $Vt=ka;function bee(t,n){for(var i in t)if("__source"!==i&&!(i in n))return!0;for(var s in n)if("__source"!==s&&t[s]!==n[s])return!0;return!1}function _ee(t){this.props=t}(_ee.prototype=new Dh).isPureReactComponent=!0,_ee.prototype.shouldComponentUpdate=function(t,n){return bee(this.props,t)||bee(this.state,n)};var _Me=er.__b;er.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),_Me&&_Me(t)},typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref");var UVt=er.__e;er.__e=function(t,n,i,s){if(t.then)for(var o,a=n;a=a.__;)if((o=a.__c)&&o.__c)return null==n.__e&&(n.__e=i.__e,n.__k=i.__k),o.__c(t,n);UVt(t,n,i,s)};var xMe=er.unmount;function wMe(t,n,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(s){"function"==typeof s.__c&&s.__c()}),t.__c.__H=null),null!=(t=function bMe(t,n){for(var i in n)t[i]=n[i];return t}({},t)).__c&&(t.__c.__P===i&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map(function(s){return wMe(s,n,i)})),t}function CMe(t,n,i){return t&&i&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(s){return CMe(s,n,i)}),t.__c&&t.__c.__P===n&&(t.__e&&i.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=i)),t}function fL(){this.__u=0,this.t=null,this.__b=null}function SMe(t){var n=t.__.__c;return n&&n.__a&&n.__a(t)}function fP(){this.u=null,this.o=null}er.unmount=function(t){var n=t.__c;n&&n.__R&&n.__R(),n&&32&t.__u&&(t.type=null),xMe&&xMe(t)},(fL.prototype=new Dh).__c=function(t,n){var i=n.__c,s=this;null==s.t&&(s.t=[]),s.t.push(i);var o=SMe(s.__v),a=!1,l=function(){a||(a=!0,i.__R=null,o?o(c):c())};i.__R=l;var c=function(){if(! --s.__u){if(s.state.__a){var u=s.state.__a;s.__v.__k[0]=CMe(u,u.__c.__P,u.__c.__O)}var d;for(s.setState({__a:s.__b=null});d=s.t.pop();)d.forceUpdate()}};s.__u++||32&n.__u||s.setState({__a:s.__b=s.__v.__k[0]}),t.then(l,l)},fL.prototype.componentWillUnmount=function(){this.t=[]},fL.prototype.render=function(t,n){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=wMe(this.__b,i,s.__O=s.__P)}this.__b=null}var o=n.__a&&Qt(wa,null,t.fallback);return o&&(o.__u&=-33),[Qt(wa,null,n.__a?null:t.children),o]};var OMe=function(t,n,i){if(++i[1]===i[0]&&t.o.delete(n),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(i=t.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;t.u=i=i[2]}};(fP.prototype=new Dh).__a=function(t){var n=this,i=SMe(n.__v),s=n.o.get(t);return s[0]++,function(o){var a=function(){n.props.revealOrder?(s.push(o),OMe(n,t,s)):o()};i?i(a):a()}},fP.prototype.render=function(t){this.u=null,this.o=new Map;var n=gm(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&n.reverse();for(var i=n.length;i--;)this.o.set(n[i],this.u=[1,0,this.u]);return t.children},fP.prototype.componentDidUpdate=fP.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(n,i){OMe(t,i,n)})};var PMe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,KVt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,YVt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,XVt=/[A-Z0-9]/g,QVt=typeof document<"u",ZVt=function(t){return(typeof Symbol<"u"&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(t)};Dh.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Dh.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var DMe=er.event;function tjt(){}function njt(){return this.cancelBubble}function rjt(){return this.defaultPrevented}er.event=function(t){return DMe&&(t=DMe(t)),t.persist=tjt,t.isPropagationStopped=njt,t.isDefaultPrevented=rjt,t.nativeEvent=t};var ijt={enumerable:!1,configurable:!0,get:function(){return this.class}},kMe=er.vnode;er.vnode=function(t){"string"==typeof t.type&&function(n){var i=n.props,s=n.type,o={};for(var a in i){var l=i[a];if(!("value"===a&&"defaultValue"in i&&null==l||QVt&&"children"===a&&"noscript"===s||"class"===a||"className"===a)){var c=a.toLowerCase();"defaultValue"===a&&"value"in i&&null==i.value?a="value":"download"===a&&!0===l?l="":"ondoubleclick"===c?a="ondblclick":"onchange"!==c||"input"!==s&&"textarea"!==s||ZVt(i.type)?"onfocus"===c?a="onfocusin":"onblur"===c?a="onfocusout":YVt.test(a)?a=c:-1===s.indexOf("-")&&KVt.test(a)?a=a.replace(XVt,"-$&").toLowerCase():null===l&&(l=void 0):c=a="oninput","oninput"===c&&o[a=c]&&(a="oninputCapture"),o[a]=l}}"select"==s&&o.multiple&&Array.isArray(o.value)&&(o.value=gm(i.children).forEach(function(u){u.props.selected=-1!=o.value.indexOf(u.props.value)})),"select"==s&&null!=o.defaultValue&&(o.value=gm(i.children).forEach(function(u){u.props.selected=o.multiple?-1!=o.defaultValue.indexOf(u.props.value):o.defaultValue==u.props.value})),i.class&&!i.className?(o.class=i.class,Object.defineProperty(o,"className",ijt)):(i.className&&!i.class||i.class&&i.className)&&(o.class=o.className=i.className),n.props=o}(t),t.$$typeof=PMe,kMe&&kMe(t)};var MMe=er.__r;er.__r=function(t){MMe&&MMe(t)};var AMe=er.diffed;er.diffed=function(t){AMe&&AMe(t);var n=t.props,i=t.__e;null!=i&&"textarea"===t.type&&"value"in n&&n.value!==i.value&&(i.value=null==n.value?"":n.value)};const{entries:RMe,setPrototypeOf:NMe,isFrozen:bjt,getPrototypeOf:_jt,getOwnPropertyDescriptor:Ejt}=Object;let{freeze:Xc,seal:Sp,create:LMe}=Object,{apply:wee,construct:Cee}=typeof Reflect<"u"&&Reflect;Xc||(Xc=function(n){return n}),Sp||(Sp=function(n){return n}),wee||(wee=function(n,i,s){return n.apply(i,s)}),Cee||(Cee=function(n,i){return new n(...i)});const mL=Zc(Array.prototype.forEach),xjt=Zc(Array.prototype.lastIndexOf),FMe=Zc(Array.prototype.pop),hP=Zc(Array.prototype.push),wjt=Zc(Array.prototype.splice),gL=Zc(String.prototype.toLowerCase),See=Zc(String.prototype.toString),BMe=Zc(String.prototype.match),mP=Zc(String.prototype.replace),Cjt=Zc(String.prototype.indexOf),Sjt=Zc(String.prototype.trim),Pf=Zc(Object.prototype.hasOwnProperty),Qc=Zc(RegExp.prototype.test),gP=function Ojt(t){return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return Cee(t,i)}}(TypeError);function Zc(t){return function(n){n instanceof RegExp&&(n.lastIndex=0);for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return wee(t,n,s)}}function Oi(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gL;NMe&&NMe(t,null);let s=n.length;for(;s--;){let o=n[s];if("string"==typeof o){const a=i(o);a!==o&&(bjt(n)||(n[s]=a),o=a)}t[o]=!0}return t}function Tjt(t){for(let n=0;n<t.length;n++)Pf(t,n)||(t[n]=null);return t}function e2(t){const n=LMe(null);for(const[i,s]of RMe(t))Pf(t,i)&&(n[i]=Array.isArray(s)?Tjt(s):s&&"object"==typeof s&&s.constructor===Object?e2(s):s);return n}function yP(t,n){for(;null!==t;){const s=Ejt(t,n);if(s){if(s.get)return Zc(s.get);if("function"==typeof s.value)return Zc(s.value)}t=_jt(t)}return function i(){return null}}const $Me=Xc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Oee=Xc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Tee=Xc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Pjt=Xc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Pee=Xc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Djt=Xc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),VMe=Xc(["#text"]),jMe=Xc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Dee=Xc(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),zMe=Xc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),yL=Xc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),kjt=Sp(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Mjt=Sp(/<%[\w\W]*|[\w\W]*%>/gm),Ajt=Sp(/\$\{[\w\W]*/gm),Ijt=Sp(/^data-[\-\w.\u00B7-\uFFFF]+$/),Rjt=Sp(/^aria-[\-\w]+$/),HMe=Sp(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Njt=Sp(/^(?:\w+script|data):/i),Ljt=Sp(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),UMe=Sp(/^html$/i),Fjt=Sp(/^[a-z][.\w]*(-[.\w]+)+$/i);var qMe=Object.freeze({__proto__:null,ARIA_ATTR:Rjt,ATTR_WHITESPACE:Ljt,CUSTOM_ELEMENT:Fjt,DATA_ATTR:Ijt,DOCTYPE_NAME:UMe,ERB_EXPR:Mjt,IS_ALLOWED_URI:HMe,IS_SCRIPT_OR_DATA:Njt,MUSTACHE_EXPR:kjt,TMPLIT_EXPR:Ajt});var Vjt=function GMe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:typeof window>"u"?null:window;const n=Lt=>GMe(Lt);if(n.version="3.2.5",n.removed=[],!t||!t.document||9!==t.document.nodeType||!t.Element)return n.isSupported=!1,n;let{document:i}=t;const s=i,o=s.currentScript,{DocumentFragment:a,HTMLTemplateElement:l,Node:c,Element:u,NodeFilter:d,NamedNodeMap:p=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:m}=t,y=u.prototype,E=yP(y,"cloneNode"),_=yP(y,"remove"),S=yP(y,"nextSibling"),v=yP(y,"childNodes"),w=yP(y,"parentNode");if("function"==typeof l){const Lt=i.createElement("template");Lt.content&&Lt.content.ownerDocument&&(i=Lt.content.ownerDocument)}let g,x="";const{implementation:T,createNodeIterator:I,createDocumentFragment:A,getElementsByTagName:$}=i,{importNode:z}=s;let K={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof RMe&&"function"==typeof w&&T&&void 0!==T.createHTMLDocument;const{MUSTACHE_EXPR:U,ERB_EXPR:H,TMPLIT_EXPR:me,DATA_ATTR:Re,ARIA_ATTR:De,IS_SCRIPT_OR_DATA:ye,ATTR_WHITESPACE:at,CUSTOM_ELEMENT:_e}=qMe;let{IS_ALLOWED_URI:be}=qMe,ke=null;const Pe=Oi({},[...$Me,...Oee,...Tee,...Pee,...VMe]);let Y=null;const ie=Oi({},[...jMe,...Dee,...zMe,...yL]);let se=Object.seal(LMe(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$e=null,j=null,M=!0,k=!0,ne=!1,re=!0,Se=!1,te=!0,Ke=!1,rt=!1,Bt=!1,Kt=!1,ft=!1,rn=!1,q=!0,B=!1,yt=!0,X=!1,le={},li=null;const Rr=Oi({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Qn=null;const $s=Oi({},["audio","video","img","source","image","track"]);let Ua=null;const qo=Oi({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),wn="http://www.w3.org/1998/Math/MathML",Hi="http://www.w3.org/2000/svg",Oe="http://www.w3.org/1999/xhtml";let Pt=Oe,nn=!1,Yt=null;const we=Oi({},[wn,Hi,Oe],See);let Dt=Oi({},["mi","mo","mn","ms","mtext"]),sn=Oi({},["annotation-xml"]);const Ae=Oi({},["title","style","font","a","script"]);let wt=null;const vt=["application/xhtml+xml","text/html"];let F=null,xe=null;const Fe=i.createElement("form"),qe=function(Le){return Le instanceof RegExp||Le instanceof Function},nt=function(){let Le=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!xe||xe!==Le){if((!Le||"object"!=typeof Le)&&(Le={}),Le=e2(Le),wt=-1===vt.indexOf(Le.PARSER_MEDIA_TYPE)?"text/html":Le.PARSER_MEDIA_TYPE,F="application/xhtml+xml"===wt?See:gL,ke=Pf(Le,"ALLOWED_TAGS")?Oi({},Le.ALLOWED_TAGS,F):Pe,Y=Pf(Le,"ALLOWED_ATTR")?Oi({},Le.ALLOWED_ATTR,F):ie,Yt=Pf(Le,"ALLOWED_NAMESPACES")?Oi({},Le.ALLOWED_NAMESPACES,See):we,Ua=Pf(Le,"ADD_URI_SAFE_ATTR")?Oi(e2(qo),Le.ADD_URI_SAFE_ATTR,F):qo,Qn=Pf(Le,"ADD_DATA_URI_TAGS")?Oi(e2($s),Le.ADD_DATA_URI_TAGS,F):$s,li=Pf(Le,"FORBID_CONTENTS")?Oi({},Le.FORBID_CONTENTS,F):Rr,$e=Pf(Le,"FORBID_TAGS")?Oi({},Le.FORBID_TAGS,F):{},j=Pf(Le,"FORBID_ATTR")?Oi({},Le.FORBID_ATTR,F):{},le=!!Pf(Le,"USE_PROFILES")&&Le.USE_PROFILES,M=!1!==Le.ALLOW_ARIA_ATTR,k=!1!==Le.ALLOW_DATA_ATTR,ne=Le.ALLOW_UNKNOWN_PROTOCOLS||!1,re=!1!==Le.ALLOW_SELF_CLOSE_IN_ATTR,Se=Le.SAFE_FOR_TEMPLATES||!1,te=!1!==Le.SAFE_FOR_XML,Ke=Le.WHOLE_DOCUMENT||!1,Kt=Le.RETURN_DOM||!1,ft=Le.RETURN_DOM_FRAGMENT||!1,rn=Le.RETURN_TRUSTED_TYPE||!1,Bt=Le.FORCE_BODY||!1,q=!1!==Le.SANITIZE_DOM,B=Le.SANITIZE_NAMED_PROPS||!1,yt=!1!==Le.KEEP_CONTENT,X=Le.IN_PLACE||!1,be=Le.ALLOWED_URI_REGEXP||HMe,Pt=Le.NAMESPACE||Oe,Dt=Le.MATHML_TEXT_INTEGRATION_POINTS||Dt,sn=Le.HTML_INTEGRATION_POINTS||sn,se=Le.CUSTOM_ELEMENT_HANDLING||{},Le.CUSTOM_ELEMENT_HANDLING&&qe(Le.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(se.tagNameCheck=Le.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Le.CUSTOM_ELEMENT_HANDLING&&qe(Le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(se.attributeNameCheck=Le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Le.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof Le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(se.allowCustomizedBuiltInElements=Le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Se&&(k=!1),ft&&(Kt=!0),le&&(ke=Oi({},VMe),Y=[],!0===le.html&&(Oi(ke,$Me),Oi(Y,jMe)),!0===le.svg&&(Oi(ke,Oee),Oi(Y,Dee),Oi(Y,yL)),!0===le.svgFilters&&(Oi(ke,Tee),Oi(Y,Dee),Oi(Y,yL)),!0===le.mathMl&&(Oi(ke,Pee),Oi(Y,zMe),Oi(Y,yL))),Le.ADD_TAGS&&(ke===Pe&&(ke=e2(ke)),Oi(ke,Le.ADD_TAGS,F)),Le.ADD_ATTR&&(Y===ie&&(Y=e2(Y)),Oi(Y,Le.ADD_ATTR,F)),Le.ADD_URI_SAFE_ATTR&&Oi(Ua,Le.ADD_URI_SAFE_ATTR,F),Le.FORBID_CONTENTS&&(li===Rr&&(li=e2(li)),Oi(li,Le.FORBID_CONTENTS,F)),yt&&(ke["#text"]=!0),Ke&&Oi(ke,["html","head","body"]),ke.table&&(Oi(ke,["tbody"]),delete $e.tbody),Le.TRUSTED_TYPES_POLICY){if("function"!=typeof Le.TRUSTED_TYPES_POLICY.createHTML)throw gP('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof Le.TRUSTED_TYPES_POLICY.createScriptURL)throw gP('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');g=Le.TRUSTED_TYPES_POLICY,x=g.createHTML("")}else void 0===g&&(g=function(n,i){if("object"!=typeof n||"function"!=typeof n.createPolicy)return null;let s=null;const o="data-tt-policy-suffix";i&&i.hasAttribute(o)&&(s=i.getAttribute(o));const a="dompurify"+(s?"#"+s:"");try{return n.createPolicy(a,{createHTML:l=>l,createScriptURL:l=>l})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}}(m,o)),null!==g&&"string"==typeof x&&(x=g.createHTML(""));Xc&&Xc(Le),xe=Le}},Qe=Oi({},[...Oee,...Tee,...Pjt]),ht=Oi({},[...Pee,...Djt]),dt=function(Le){hP(n.removed,{element:Le});try{w(Le).removeChild(Le)}catch{_(Le)}},Ne=function(Le,it){try{hP(n.removed,{attribute:it.getAttributeNode(Le),from:it})}catch{hP(n.removed,{attribute:null,from:it})}if(it.removeAttribute(Le),"is"===Le)if(Kt||ft)try{dt(it)}catch{}else try{it.setAttribute(Le,"")}catch{}},Tt=function(Le){let it=null,Zt=null;if(Bt)Le="<remove></remove>"+Le;else{const Vn=BMe(Le,/^[\r\n\t ]+/);Zt=Vn&&Vn[0]}"application/xhtml+xml"===wt&&Pt===Oe&&(Le='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Le+"</body></html>");const Wn=g?g.createHTML(Le):Le;if(Pt===Oe)try{it=(new h).parseFromString(Wn,wt)}catch{}if(!it||!it.documentElement){it=T.createDocument(Pt,"template",null);try{it.documentElement.innerHTML=nn?x:Wn}catch{}}const Qr=it.body||it.documentElement;return Le&&Zt&&Qr.insertBefore(i.createTextNode(Zt),Qr.childNodes[0]||null),Pt===Oe?$.call(it,Ke?"html":"body")[0]:Ke?it.documentElement:Qr},mt=function(Le){return I.call(Le.ownerDocument||Le,Le,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},gt=function(Le){return Le instanceof f&&("string"!=typeof Le.nodeName||"string"!=typeof Le.textContent||"function"!=typeof Le.removeChild||!(Le.attributes instanceof p)||"function"!=typeof Le.removeAttribute||"function"!=typeof Le.setAttribute||"string"!=typeof Le.namespaceURI||"function"!=typeof Le.insertBefore||"function"!=typeof Le.hasChildNodes)},Z=function(Le){return"function"==typeof c&&Le instanceof c};function lt(Lt,Le,it){mL(Lt,Zt=>{Zt.call(n,Le,it,xe)})}const bt=function(Le){let it=null;if(lt(K.beforeSanitizeElements,Le,null),gt(Le))return dt(Le),!0;const Zt=F(Le.nodeName);if(lt(K.uponSanitizeElement,Le,{tagName:Zt,allowedTags:ke}),Le.hasChildNodes()&&!Z(Le.firstElementChild)&&Qc(/<[/\w!]/g,Le.innerHTML)&&Qc(/<[/\w!]/g,Le.textContent)||7===Le.nodeType||te&&8===Le.nodeType&&Qc(/<[/\w]/g,Le.data))return dt(Le),!0;if(!ke[Zt]||$e[Zt]){if(!$e[Zt]&&kt(Zt)&&(se.tagNameCheck instanceof RegExp&&Qc(se.tagNameCheck,Zt)||se.tagNameCheck instanceof Function&&se.tagNameCheck(Zt)))return!1;if(yt&&!li[Zt]){const Wn=w(Le)||Le.parentNode,Qr=v(Le)||Le.childNodes;if(Qr&&Wn)for(let ls=Qr.length-1;ls>=0;--ls){const mi=E(Qr[ls],!0);mi.__removalCount=(Le.__removalCount||0)+1,Wn.insertBefore(mi,S(Le))}}return dt(Le),!0}return Le instanceof u&&!function(Le){let it=w(Le);(!it||!it.tagName)&&(it={namespaceURI:Pt,tagName:"template"});const Zt=gL(Le.tagName),Wn=gL(it.tagName);return!!Yt[Le.namespaceURI]&&(Le.namespaceURI===Hi?it.namespaceURI===Oe?"svg"===Zt:it.namespaceURI===wn?"svg"===Zt&&("annotation-xml"===Wn||Dt[Wn]):!!Qe[Zt]:Le.namespaceURI===wn?it.namespaceURI===Oe?"math"===Zt:it.namespaceURI===Hi?"math"===Zt&&sn[Wn]:!!ht[Zt]:Le.namespaceURI===Oe?!(it.namespaceURI===Hi&&!sn[Wn]||it.namespaceURI===wn&&!Dt[Wn])&&!ht[Zt]&&(Ae[Zt]||!Qe[Zt]):!("application/xhtml+xml"!==wt||!Yt[Le.namespaceURI]))}(Le)||("noscript"===Zt||"noembed"===Zt||"noframes"===Zt)&&Qc(/<\/no(script|embed|frames)/i,Le.innerHTML)?(dt(Le),!0):(Se&&3===Le.nodeType&&(it=Le.textContent,mL([U,H,me],Wn=>{it=mP(it,Wn," ")}),Le.textContent!==it&&(hP(n.removed,{element:Le.cloneNode()}),Le.textContent=it)),lt(K.afterSanitizeElements,Le,null),!1)},Ye=function(Le,it,Zt){if(q&&("id"===it||"name"===it)&&(Zt in i||Zt in Fe))return!1;if((!k||j[it]||!Qc(Re,it))&&(!M||!Qc(De,it)))if(!Y[it]||j[it]){if(!(kt(Le)&&(se.tagNameCheck instanceof RegExp&&Qc(se.tagNameCheck,Le)||se.tagNameCheck instanceof Function&&se.tagNameCheck(Le))&&(se.attributeNameCheck instanceof RegExp&&Qc(se.attributeNameCheck,it)||se.attributeNameCheck instanceof Function&&se.attributeNameCheck(it))||"is"===it&&se.allowCustomizedBuiltInElements&&(se.tagNameCheck instanceof RegExp&&Qc(se.tagNameCheck,Zt)||se.tagNameCheck instanceof Function&&se.tagNameCheck(Zt))))return!1}else if(!Ua[it]&&!Qc(be,mP(Zt,at,""))&&("src"!==it&&"xlink:href"!==it&&"href"!==it||"script"===Le||0!==Cjt(Zt,"data:")||!Qn[Le])&&(!ne||Qc(ye,mP(Zt,at,"")))&&Zt)return!1;return!0},kt=function(Le){return"annotation-xml"!==Le&&BMe(Le,_e)},Ct=function(Le){lt(K.beforeSanitizeAttributes,Le,null);const{attributes:it}=Le;if(!it||gt(Le))return;const Zt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y,forceKeepAttr:void 0};let Wn=it.length;for(;Wn--;){const Qr=it[Wn],{name:Vn,namespaceURI:ls,value:mi}=Qr,It=F(Vn);let gi="value"===Vn?mi:Sjt(mi);if(Zt.attrName=It,Zt.attrValue=gi,Zt.keepAttr=!0,Zt.forceKeepAttr=void 0,lt(K.uponSanitizeAttribute,Le,Zt),gi=Zt.attrValue,B&&("id"===It||"name"===It)&&(Ne(Vn,Le),gi="user-content-"+gi),te&&Qc(/((--!?|])>)|<\/(style|title)/i,gi)){Ne(Vn,Le);continue}if(Zt.forceKeepAttr||(Ne(Vn,Le),!Zt.keepAttr))continue;if(!re&&Qc(/\/>/i,gi)){Ne(Vn,Le);continue}Se&&mL([U,H,me],Xi=>{gi=mP(gi,Xi," ")});const Ur=F(Le.nodeName);if(Ye(Ur,It,gi)){if(g&&"object"==typeof m&&"function"==typeof m.getAttributeType&&!ls)switch(m.getAttributeType(Ur,It)){case"TrustedHTML":gi=g.createHTML(gi);break;case"TrustedScriptURL":gi=g.createScriptURL(gi)}try{ls?Le.setAttributeNS(ls,Vn,gi):Le.setAttribute(Vn,gi),gt(Le)?dt(Le):FMe(n.removed)}catch{}}}lt(K.afterSanitizeAttributes,Le,null)},qn=function Lt(Le){let it=null;const Zt=mt(Le);for(lt(K.beforeSanitizeShadowDOM,Le,null);it=Zt.nextNode();)lt(K.uponSanitizeShadowNode,it,null),bt(it),Ct(it),it.content instanceof a&&Lt(it.content);lt(K.afterSanitizeShadowDOM,Le,null)};return n.sanitize=function(Lt){let Le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},it=null,Zt=null,Wn=null,Qr=null;if(nn=!Lt,nn&&(Lt="\x3c!--\x3e"),"string"!=typeof Lt&&!Z(Lt)){if("function"!=typeof Lt.toString)throw gP("toString is not a function");if("string"!=typeof(Lt=Lt.toString()))throw gP("dirty is not a string, aborting")}if(!n.isSupported)return Lt;if(rt||nt(Le),n.removed=[],"string"==typeof Lt&&(X=!1),X){if(Lt.nodeName){const mi=F(Lt.nodeName);if(!ke[mi]||$e[mi])throw gP("root node is forbidden and cannot be sanitized in-place")}}else if(Lt instanceof c)it=Tt("\x3c!----\x3e"),Zt=it.ownerDocument.importNode(Lt,!0),1===Zt.nodeType&&"BODY"===Zt.nodeName||"HTML"===Zt.nodeName?it=Zt:it.appendChild(Zt);else{if(!Kt&&!Se&&!Ke&&-1===Lt.indexOf("<"))return g&&rn?g.createHTML(Lt):Lt;if(it=Tt(Lt),!it)return Kt?null:rn?x:""}it&&Bt&&dt(it.firstChild);const Vn=mt(X?Lt:it);for(;Wn=Vn.nextNode();)bt(Wn),Ct(Wn),Wn.content instanceof a&&qn(Wn.content);if(X)return Lt;if(Kt){if(ft)for(Qr=A.call(it.ownerDocument);it.firstChild;)Qr.appendChild(it.firstChild);else Qr=it;return(Y.shadowroot||Y.shadowrootmode)&&(Qr=z.call(s,Qr,!0)),Qr}let ls=Ke?it.outerHTML:it.innerHTML;return Ke&&ke["!doctype"]&&it.ownerDocument&&it.ownerDocument.doctype&&it.ownerDocument.doctype.name&&Qc(UMe,it.ownerDocument.doctype.name)&&(ls="<!DOCTYPE "+it.ownerDocument.doctype.name+">\n"+ls),Se&&mL([U,H,me],mi=>{ls=mP(ls,mi," ")}),g&&rn?g.createHTML(ls):ls},n.setConfig=function(){nt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),rt=!0},n.clearConfig=function(){xe=null,rt=!1},n.isValidAttribute=function(Lt,Le,it){xe||nt({});const Zt=F(Lt),Wn=F(Le);return Ye(Zt,Wn,it)},n.addHook=function(Lt,Le){"function"==typeof Le&&hP(K[Lt],Le)},n.removeHook=function(Lt,Le){if(void 0!==Le){const it=xjt(K[Lt],Le);return-1===it?void 0:wjt(K[Lt],it,1)[0]}return FMe(K[Lt])},n.removeHooks=function(Lt){K[Lt]=[]},n.removeAllHooks=function(){K={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}(),jjt=V(7376);function Sd(t){return Er.isDateTime(t)}function Df(t){return ai.isDuration(t)}function kf(t){return Array.isArray(t)}function Ha(t){return null==t?"nil":function Hjt(t){return"boolean"==typeof t}(t)?"boolean":Km(t)?"number":t2(t)?"string":function zjt(t){return Object.getPrototypeOf(t)===Object.prototype}(t)?"context":kf(t)?"list":Df(t)?"duration":Sd(t)?1900===t.year&&1===t.month&&1===t.day?"time":0===t.hour&&0===t.minute&&0===t.second&&0===t.millisecond&&t.zone===Va.utcInstance?"date":"date time":t instanceof Od?"range":t instanceof vL?"function":"literal"}function kee(t,n){return Ha(t)===n}class Od{constructor(n){Object.assign(this,n)}}function Km(t){return"number"==typeof t}function t2(t){return"string"==typeof t}function By(t,n,i=!1){if(null===t&&null!==n||null!==t&&null===n)return!1;kf(t)&&t.length<2&&(t=t[0]),kf(n)&&n.length<2&&(n=n[0]);const s=Ha(t),o=Ha(n),a=["date time","time","date"];if(a.includes(s))return!a.includes(o)||"time"===s&&"time"!==o||"time"===o&&"time"!==s?null:i||t.zone===Su.instance||n.zone===Su.instance?t.equals(n):t.toUTC().valueOf()===n.toUTC().valueOf();if(s!==o)return null;if("nil"===s)return!0;if("list"===s)return t.length===n.length&&t.every((l,c)=>By(l,n[c]));if("duration"===s)return Math.abs(t.as("days"))>180?0===Math.trunc(t.minus(n).as("months")):0===Math.trunc(t.minus(n).as("seconds"));if("context"===s){const l=Object.entries(t),c=Object.entries(n);return l.length===c.length&&l.every(([u,d])=>u in n&&By(d,n[u]))}return"range"===s?[[t.start,n.start],[t.end,n.end],[t["start included"],n["start included"]],[t["end included"],n["end included"]]].every(([l,c])=>l===c):t==n||s!==o&&null}class vL{constructor(n,i){this.fn=n,this.parameterNames=i}invoke(n){let i;if(kf(n)){if(i=n,i.length>this.parameterNames.length){const s=this.parameterNames[this.parameterNames.length-1];if(!s||!s.startsWith("..."))return null}}else{if(Object.keys(n).some(s=>!this.parameterNames.includes(s)&&!this.parameterNames.includes(`...${s}`)))return null;i=this.parameterNames.reduce((s,o)=>{if(o.startsWith("...")){o=o.slice(3);const a=n[o];return a?[...s,...kf(a)?a:[a]]:s}return[...s,n[o]]},[])}return this.fn.call(null,...i)}}function Mee(t){if(Array.isArray(t.$args))return t.$args;const n=t.toString(),i=/^(?:[^(]*\s*)?\(([^)]+)?\)/.exec(n);if(!i)throw new Error("failed to parse params: "+n);const[s,o]=i;return o?o.split(",").map(a=>a.trim()):[]}function pl(t){return new Error(`not implemented: ${t}`)}function bL(t,n){if(["nil","boolean","number","string"].includes(Ha(n)))return;if(t in n)return n[t];const i=dy(t);if(i in n)return n[i];const s=Object.entries(n).find(([o])=>i===dy(o));return s?s[1]:void 0}function KMe(t){return"number"==typeof t?ai.fromMillis(t):ai.fromISO(t)}function Op(t=null,n=null,i=null){if(n){if(t)throw new Error("<str> and <time> provided");return Op(`1900-01-01T${n}`,null)}if("string"==typeof t){if(t.startsWith("-"))throw pl("negative date");if(!t.includes("T"))return Op(t+"T00:00:00",null,i||Va.utcInstance);if(t.includes("@")){if(i)throw new Error("<zone> already provided");const[s,o]=t.split("@");return Op(s,null,U3.normalizeZone(o))}return Er.fromISO(t.toUpperCase(),{setZone:!0,zone:i})}return Er.now()}const Wjt={number:Pn(function(t,n,i){if(3!==arguments.length)return null;n&&(t=t.split(n).join("")),i&&"."!==i&&(t=t.split(".").join("#").split(i).join("."));const s=+t;return isNaN(s)?null:s},["string","string?","string?"],["from","grouping separator","decimal separator"]),string:Pn(function(t){return null===t?null:Iee(t)},["any"]),date:Pn(function(t,n,i,s){let o;if(!s&&!Km(t)&&(s=t,t=null),t2(s)&&(o=Op(s)),Sd(s)&&(o=s),t){if(!Km(n)||!Km(i))return null;o=Op().setZone("utc").set({year:t,month:n,day:i})}return o&&s5(o.setZone("utc").startOf("day"))||null},["any?","number?","number?","any?"]),"date and time":Pn(function(t,n,i){let s;if(Sd(t)&&Sd(n)){const o=t.toLocal();s=n.set({year:o.year,month:o.month,day:o.day})}return t2(t)&&(i=t,t=null),t2(i)&&(s=Op(i,null,i.includes("@")?null:Su.instance)),s&&s5(s)||null},["any?","time?","string?"],["date","time","from"]),time:Pn(function(t,n,i,s,o){let a;if(s)throw pl("time(..., offset)");if((t2(t)||Sd(t))&&(o=t,t=null),t2(o)&&o&&(a=Op(null,o)),Sd(o)&&(a=o.set({year:1900,month:1,day:1})),Km(t)){if(!Km(n)||!Km(i))return null;a=Op().set({hour:t,minute:n,second:i}).set({year:1900,month:1,day:1,millisecond:0})}return a&&s5(a)||null},["any?","number?","number?","any?","any?"]),duration:Pn(function(t){return s5(KMe(t))},["string"]),"years and months duration":Pn(function(t,n){return s5(n.diff(t,["years","months"]))},["date","date"]),"@":Pn(function(t){let n;return n=/^-?P/.test(t)?KMe(t):/^[\d]{1,2}:[\d]{1,2}:[\d]{1,2}/.test(t)?Op(null,t):Op(t),n&&s5(n)||null},["string"]),now:Pn(function(){return Op()},[]),today:Pn(function(){return Op().startOf("day")},[]),not:Pn(function(t){return kee(t,"boolean")?!t:null},["any"]),substring:Pn(function(t,n,i){const s=n<0?t.length+n:n-1,o=Array.from(t);return(typeof i<"u"?o.slice(s,s+i):o.slice(s)).join("")},["string","number","number?"],["string","start position","length"]),"string length":Pn(function(t){return function Xjt(t){return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}(t)},["string"]),"upper case":Pn(function(t){return t.toUpperCase()},["string"]),"lower case":Pn(function(t){return t.toLowerCase()},["string"]),"substring before":Pn(function(t,n){const i=t.indexOf(n);return-1===i?"":t.substring(0,i)},["string","string"]),"substring after":Pn(function(t,n){const i=t.indexOf(n);return-1===i?"":t.substring(i+n.length)},["string","string"]),replace:Pn(function(t,n,i,s){const o=Ree(n,s||"","g");return o&&t.replace(o,i.replace(/\$0/g,"$$&"))},["string","string","string","string?"]),contains:Pn(function(t,n){return t.includes(n)},["string","string"]),matches:Pn(function(t,n,i){const s=Ree(n,i||"","");return s&&s.test(t)},["string","string","string?"]),"starts with":Pn(function(t,n){return t.startsWith(n)},["string","string"]),"ends with":Pn(function(t,n){return t.endsWith(n)},["string","string"]),split:Pn(function(t,n){const i=Ree(n,"","");return i&&t.split(i)},["string","string"]),"string join":Pn(function(t,n){return t.some(i=>!t2(i)&&null!==i)?null:t.filter(i=>null!==i).join(n||"")},["list","string?"]),"list contains":Pn(function(t,n){return t.some(i=>XMe(i,n))},["list","any?"]),"list replace":Pn(function(t,n,i,s){return["number","function"].includes(Ha(n||s))?function Zjt(t,n,i){return Km(n)?[...t.slice(0,n-1),i,...t.slice(n)]:t.map((s,o)=>n.invoke([s,i])?i:s)}(t,n||s,i):null},["list","any?","any","function?"]),count:Pn(function(t){return t.length},["list"]),min:Td(function(...t){return t.reduce((n,i)=>null===n?i:Math.min(n,i),null)},"number"),max:Td(function(...t){return t.reduce((n,i)=>null===n?i:Math.max(n,i),null)},"number"),sum:Td(function(...t){return JMe(t)},"number"),mean:Td(function(...t){const n=JMe(t);return null===n?n:n/t.length},"number"),all:Td(function(...t){let n=!1;for(const i of t){if(!1===i)return!1;"boolean"!=typeof i&&(n=!0)}return!n||null},"any?"),any:Td(function(...t){let n=!1;for(const i of t){if(!0===i)return!0;"boolean"!=typeof i&&(n=!0)}return!!n&&null},"any?"),sublist:Pn(function(t,n,i){const s=n<0?t.length+n:n-1;return typeof i<"u"?t.slice(s,s+i):t.slice(s)},["list","number","number?"]),append:Pn(function(t,...n){return t.concat(n)},["list","any?"]),concatenate:Pn(function(...t){return t.reduce((n,i)=>n.concat(i),[])},["any"]),"insert before":Pn(function(t,n,i){return t.slice(0,n-1).concat([i],t.slice(n-1))},["list","number","any?"]),remove:Pn(function(t,n){return t.slice(0,n-1).concat(t.slice(n))},["list","number"]),reverse:Pn(function(t){return t.slice().reverse()},["list"]),"index of":Pn(function(t,n){return t.reduce(function(i,s,o){return XMe(s,n)&&i.push(o+1),i},[])},["list","any"]),union:Td(function(...t){return t.reduce((n,i)=>i.reduce((s,o)=>(s.some(a=>By(o,a))||s.push(o),s),n),[])},"list"),"distinct values":Pn(function(t){return t.reduce((n,i)=>(n.some(s=>By(i,s))||n.push(i),n),[])},["list"]),flatten:Pn(function(t){return Aee(t)},["list"]),product:Td(function(...t){return 0===t.length?null:t.reduce((n,i)=>n*i,1)},"number"),median:Td(function(...t){return 0===t.length?null:function Jjt(t){const n=t.length,i=t.slice().sort(),s=n/2-1,o=Math.ceil(s);return s===o?(i[o]+i[o+1])/2:i[o]}(t)},"number"),stddev:Td(function(...t){return t.length<2?null:function Qjt(t){const n=t.length,i=t.reduce((s,o)=>s+o)/n;return Math.sqrt(t.map(s=>Math.pow(s-i,2)).reduce((s,o)=>s+o)/(n-1))}(t)},"number"),mode:Td(function(...t){return function ezt(t){if(t.length<2)return t;const n={};for(const s of t)n[s]=(n[s]||0)+1;const i=Object.entries(n).sort((s,o)=>o[1]-s[1]);return i.filter(s=>s[1]===i[0][1]).map(s=>+s[0])}(t)},"number"),decimal:Pn(function(t,n){if(!n)return t8e(t);const i=Math.pow(10,n);return t8e(t*i)/i},["number","number"]),floor:Pn(function(t,n=0){if(null===n)return null;const i=Math.pow(10,n);return Math.floor(t*i)/i},["number","number?"]),ceiling:Pn(function(t,n=0){if(null===n)return null;const i=Math.pow(10,n);return Math.ceil(t*i)/i},["number","number?"]),abs:Pn(function(t){return"number"!=typeof t?null:Math.abs(t)},["number"]),"round up":Pn(function(t,n){throw pl("round up")},["number","number"]),"round down":Pn(function(t,n){throw pl("round down")},["number","number"]),"round half up":Pn(function(t,n){throw pl("round half up")},["number","number"]),"round half down":Pn(function(t,n){throw pl("round half down")},["number","number"]),modulo:Pn(function(t,n){if(!n)return null;const i=1e9;return Math.round((t%n+n)%n*i)/i},["number","number"]),sqrt:Pn(function(t){return t<0?null:Math.sqrt(t)},["number"]),log:Pn(function(t){return t<=0?null:Math.log(t)},["number"]),exp:Pn(function(t){return Math.exp(t)},["number"]),odd:Pn(function(t){return Math.abs(t)%2==1},["number"]),even:Pn(function(t){return Math.abs(t)%2==0},["number"]),is:Pn(function(t,n){return!(typeof t>"u"||typeof n>"u")&&By(t,n,!0)},["any?","any?"]),before:Pn(function(t,n){return _L(t,n)},["any","any"]),after:Pn(function(t,n){return _L(n,t)},["any","any"]),meets:Pn(function(t,n){return ZMe(t,n)},["range","range"]),"met by":Pn(function(t,n){return ZMe(n,t)},["range","range"]),overlaps:Pn(function(t,n){return!_L(t,n)&&!_L(n,t)},["range","range"]),"overlaps before":Pn(function(){throw pl("overlaps before")},["any?"]),"overlaps after":Pn(function(){throw pl("overlaps after")},["any?"]),finishes:Pn(function(){throw pl("finishes")},["any?"]),"finished by":Pn(function(){throw pl("finished by")},["any?"]),includes:Pn(function(){throw pl("includes")},["any?"]),during:Pn(function(){throw pl("during")},["any?"]),starts:Pn(function(){throw pl("starts")},["any?"]),"started by":Pn(function(){throw pl("started by")},["any?"]),coincides:Pn(function(){throw pl("coincides")},["any?"]),"day of year":Pn(function(t){return t.ordinal},["date time"]),"day of week":Pn(function(t){return t.weekdayLong},["date time"]),"month of year":Pn(function(t){return t.monthLong},["date time"]),"week of year":Pn(function(t){return t.weekNumber},["date time"]),sort:Pn(function(t,n){return Array.from(t).sort((i,s)=>n.invoke([i,s])?-1:1)},["list","function"]),"get value":Pn(function(t,n){return bL(n,t)??null},["context","string"]),"get entries":Pn(function(t){return 1!==arguments.length||Array.isArray(t)?null:Object.entries(t).map(([n,i])=>({key:n,value:i}))},["context"]),context:Td(function(...t){const n=t.reduce((i,s)=>{if(i===Mf||!["key","value"].every(a=>a in s))return Mf;const o=s.key;return null===o||o in i?Mf:Object.assign(Object.assign({},i),{[s.key]:s.value})},{});return n===Mf?null:n},"context"),"context merge":Td(function(...t){return Object.assign({},...t)},"context"),"context put":Pn(function(t,n,i,s){return typeof n>"u"&&typeof s>"u"?null:YMe(t,n||[s],i)},["context","list?","any","string?"],["context","keys","value","key"])};function YMe(t,n,i){const[s,...o]=n;return"string"!==Ha(s)||"nil"===Ha(t)||o.length&&null===(i=YMe(t[s],o,i))?null:Object.assign(Object.assign({},t),{[s]:i})}function XMe(t,n){return t===n}const Mf={};function QMe(t){const n=t.endsWith("?"),i=n?t.substring(0,t.length-1):t;return function(s){const o=Array.isArray(s);if("list"===i)return o||n&&typeof s>"u"?s:null===s?Mf:[s];"any"!==i&&o&&1===s.length&&(s=s[0]);const a=Ha(s);return"any"===i||i===a?n||typeof s<"u"?s:Mf:"nil"===a?n?s:Mf:function Ujt(t,n){if(Sd(t)){if("time"===n)return t.set({year:1900,month:1,day:1});if("date"===n)return t.setZone("utc",{keepLocalTime:!0}).startOf("day");if("date time"===n)return t}return null}(s,i)||Mf}}function Td(t,n,i=null){const s=QMe(n),o=function(...a){return 0!==a.length&&(Array.isArray(a[0])&&1===a.length&&(a=a[0]),a.every(l=>s(l)!==Mf))?t(...a):null};return o.$args=i||Mee(t),o}function Pn(t,n,i=null){const s=function Gjt(t){const n=t.map(QMe);return function(i){for(;i.length<t.length;)i.push(void 0);return i.reduce((s,o,a)=>{if(!1===s)return s;const l=n[a],c=l?l(o):o;return c!==Mf&&(s.push(c),s)},[])}}(n);i=i||Mee(t);const o=function(...a){const l=s(a);return l?t(...l):null};return o.$args=i,o}function ZMe(t,n){return[t.end===n.start,!0===t["end included"],!0===n["start included"]].every(i=>i)}function _L(t,n){return t instanceof Od&&n instanceof Od?t.end<n.start||(!t["end included"]||!n["start included"])&&t.end==n.start:t instanceof Od?t.end<n||!t["end included"]&&t.end===n:n instanceof Od?n.start>t||!n["start included"]&&n.start===t:t<n}function JMe(t){return t.reduce((n,i)=>null===n?i:n+i,null)}function Aee([t,...n]){return void 0!==t?[...Array.isArray(t)?Aee(t):[t],...Aee(n)]:[]}function e8e(t){return Iee(t,!0)}function Iee(t,n=!1){var i,s,o,a;const l=Ha(t);if("nil"===l)return"null";if("string"===l)return n?`"${function Yjt(t){return t.replace(/("|\\)/g,"\\$1")}(t)}"`:t;if("boolean"===l||"number"===l)return String(t);if("list"===l)return"["+t.map(e8e).join(", ")+"]";if("context"===l)return"{"+Object.entries(t).map(([c,u])=>function Kjt(t){return"string"==typeof t&&/\W/.test(t)?Iee(t,!0):t}(c)+": "+e8e(u)).join(", ")+"}";if("duration"===l)return t.shiftTo("years","months","days","hours","minutes","seconds").normalize().toISO();if("date time"===l)return t.zone===Su.instance?t.toISO({suppressMilliseconds:!0,includeOffset:!1}):null!==(i=t.zone)&&void 0!==i&&i.zoneName?t.toISO({suppressMilliseconds:!0,includeOffset:!1})+"@"+(null===(s=t.zone)||void 0===s?void 0:s.zoneName):t.toISO({suppressMilliseconds:!0});if("date"===l)return t.toISODate();if("range"===l)return"<range>";if("time"===l)return t.zone===Su.instance?t.toISOTime({suppressMilliseconds:!0,includeOffset:!1}):null!==(o=t.zone)&&void 0!==o&&o.zoneName?t.toISOTime({suppressMilliseconds:!0,includeOffset:!1})+"@"+(null===(a=t.zone)||void 0===a?void 0:a.zoneName):t.toISOTime({suppressMilliseconds:!0});if("function"===l)return"<function>";throw pl("string("+l+")")}function t8e(t){const n=Math.floor(t);return t-n==.5?n%2==0?n:n+1:Math.round(t)}function s5(t){return t.isValid?t:null}function Ree(t,n,i=""){try{return new RegExp(t,"u"+function tzt(t,n){const i=t.replace(/[smix]/g,"");if(i)throw new Error("illegal flags: "+i);if(/x/.test(t))throw pl("matches <x> flag");return t+n}(n,i))}catch(s){if(function qjt(t){return/^not implemented/.test(t.message)}(s))throw s}return null}function n8e(t,n={},i){return f_.configure({top:"Expression",contextTracker:p_(n),dialect:i}).parse(t)}function r8e(t,n={},i){return f_.configure({top:"UnaryTests",contextTracker:p_(n),dialect:i}).parse(t)}class nzt extends Error{constructor(n,i){super(n),Object.assign(this,i)}}const i8e=new class rzt{_buildExecutionTree(n,i){const s={args:[],nodeInput:i},o=[s];return n.iterate({enter(a){const{isError:l,isSkipped:c}=a.type,{from:u,to:d}=a;if(l){const{from:f,to:h,message:m}=function vzt(t){const n=t.node,i=n.parent;if(n.from!==n.to)return{from:n.from,to:n.to,message:`Unrecognized token in <${i.name}>`};const s=function bzt(t){let i,s=t.node;do{if(i=s.nextSibling,i)return i;s=s.parent}while(s);return null}(n);if(s)return{from:n.from,to:s.to,message:`Unrecognized token <${s.name}> in <${i.name}>`};{const o=i.enterUnfinishedNodesBefore(t.to);return{from:n.from,to:n.to,message:`Incomplete <${(o||i).name}>`}}}(a);throw new nzt(m,{input:i.slice(f,h),position:{from:f,to:h}})}if(c)return!1;const p=i.slice(u,d);o.push({nodeInput:p,args:[]})},leave(a){if(a.type.isSkipped)return;const{nodeInput:l,args:c}=o.pop(),u=o[o.length-1],d=function ozt(t,n,i){switch(t.name){case"ArithOp":return s=>{const o=(a,l=["number"])=>(c,u)=>{const d=c(s),p=u(s);if(kf(d)||kf(p))return null;const f=Ha(d),h=Ha(p),m=["date","time","date time","duration"];if(m.includes(f)){if(!m.includes(h))return null}else if(f!==h||!l.includes(f))return null;return a(d,p)};switch(n){case"+":return o((a,l)=>{if(Df(a)&&!Df(l)){const c=a;a=l,l=c}return kee(a,"time")&&Df(l)?a.plus(l).set({year:1900,month:1,day:1}):Sd(a)&&Sd(l)?null:Sd(a)&&Df(l)||Df(a)&&Df(l)?a.plus(l):a+l},["string","number","date","time","duration","date time"]);case"-":return o((a,l)=>kee(a,"time")&&Df(l)?a.minus(l).set({year:1900,month:1,day:1}):Sd(a)&&Sd(l)?a.diff(l):Sd(a)&&Df(l)||Df(a)&&Df(l)?a.minus(l):a-l,["number","date","time","duration","date time"]);case"*":return o((a,l)=>a*l);case"/":return o((a,l)=>l?a/l:null);case"**":case"^":return o((a,l)=>Math.pow(a,l))}};case"CompareOp":return Iu(()=>{switch(n){case">":return s=>n2(s,null,!1,!1);case">=":return s=>n2(s,null,!0,!1);case"<":return s=>n2(null,s,!1,!1);case"<=":return s=>n2(null,s,!1,!0);case"=":return s=>o=>By(o,s);case"!=":return s=>o=>!By(o,s)}},r2("boolean"));case"BacktickIdentifier":return n.replace(/`/g,"");case"Wildcard":return s=>!0;case"null":return s=>null;case"Disjunction":return Iu(s=>{const o=i[0](s),a=i[2](s),c="boolean"==typeof o?o:null,u="boolean"==typeof a?a:null;return[[!0,!0,!0],[!0,!1,!0],[!0,null,!0],[!1,!0,!0],[!1,!1,!1],[!1,null,null],[null,!0,!0],[null,!1,null],[null,null,null]].find(d=>d[0]===c&&d[1]===u)[2]},r2("boolean"));case"Conjunction":return Iu(s=>{const o=i[0](s),a=i[2](s),c="boolean"==typeof o?o:null,u="boolean"==typeof a?a:null;return[[!0,!0,!0],[!0,!1,!1],[!0,null,null],[!1,!0,!1],[!1,!1,!1],[!1,null,!1],[null,!0,null],[null,!1,!1],[null,null,null]].find(d=>d[0]===c&&d[1]===u)[2]},r2("boolean"));case"Context":return s=>i.slice(1,-1).reduce((o,a)=>{const[l,c]=a(Object.assign(Object.assign({},s),o));return Object.assign(Object.assign({},o),{[l]:c})},{});case"FunctionBody":case"FormalParameter":case"Key":case"Type":case"PositiveUnaryTest":return i[0];case"FormalParameters":return i;case"ParameterName":return i.join(" ");case"FunctionDefinition":return s=>{const o=i[2],a=i[4];return SL((...l)=>{const c=o.reduce((u,d,p)=>(u[d]=l[p],u),Object.assign({},s));return a(c)},o)};case"ContextEntry":return s=>["function"==typeof i[0]?i[0](s):i[0],i[1](s)];case"Identifier":return n;case"SpecialFunctionName":case"DateTimeConstructor":return s=>EL(n);case"Name":return n.replace(/\s{2,}/g," ");case"VariableName":return s=>{const o=i.join(" "),a=bL(o,s);return typeof a<"u"?a:EL(o)||null};case"QualifiedName":return s=>i.reduce((o,a)=>a(o),s);case"?":return s=>bL("?",s);case"IterationContext":return s=>{const o=i[0](s),a=i[1]&&i[1](s);return a?n2(o,a):o};case"InExpressions":return s=>{const o=d=>!(null===d||d.some(p=>"nil"===Ha(p))),l=(d,p,...f)=>o(d)?p?l(((d,p)=>[].concat(...d.map(f=>{const h=p(Object.assign(Object.assign({},s),f));return o(h)?h.map(m=>Object.assign(Object.assign({},f),m)):null})))(d,p),...f):d:null,u=(d=>{const[p,...f]=d,h=p(s);return l(h,...f)})(i);return u&&u.map(d=>Object.assign(Object.assign({},s),d))};case"InExpression":return s=>function azt(t,n,i){const s=i(t);return["list","range"].includes(Ha(s))?s.map(o=>({[n]:o})):null}(s,i[0],i[2]);case"SpecialType":throw pl("SpecialType");case"InstanceOfExpression":return Iu(s=>i[0](s)instanceof i[3](s),r2("boolean"));case"every":return Iu(s=>(o,a)=>{const l=o(s);return"list"!==Ha(l)?l:l.every(c=>CL(a(c)))},r2("boolean"));case"some":return Iu(s=>(o,a)=>{const l=o(s);return"list"!==Ha(l)?l:l.some(c=>CL(a(c)))},r2("boolean"));case"NumericLiteral":return Iu(s=>n.includes(".")?parseFloat(n):parseInt(n),"number");case"BooleanLiteral":return Iu(s=>"true"===n,"boolean");case"StringLiteral":return Iu(s=>function yzt(t){return t.startsWith('"')&&(t=t.slice(1)),t.endsWith('"')&&(t=t.slice(0,-1)),t.replace(/(\\")|(\\\\)|(\\n)|(\\r)|(\\t)|(\\u[a-fA-F0-9]{5,6})|((?:\\u[a-fA-F0-9]{1,4})+)/gi,function(n,...i){const[s,o,a,l,c,u,d]=i;if(s)return'"';if(a)return"\n";if(l)return"\r";if(c)return"\t";if(o)return"\\";const p=/\\u([a-fA-F0-9]+)/gi;if(u){const f=p.exec(u);return String.fromCodePoint(parseInt(f[1],16))}if(d){const f=[];let h;for(;null!==(h=p.exec(n));)f.push(parseInt(h[1],16));return String.fromCharCode(...f)}throw new Error("illegal match")})}(n),"string");case"PositionalParameters":case"PositiveUnaryTests":case"Expressions":return s=>i.map(o=>o(s));case"NamedParameter":return s=>[i[0],i[1](s)];case"NamedParameters":return s=>i.reduce((o,a)=>{const[l,c]=a(s);return o[l]=c,o},{});case"DateTimeLiteral":return s=>{if(1===i.length)return i[0](s);{const o=SL(i[0](s));if(!o)return null;const a=i[2](s);return o.invoke(a)}};case"AtLiteral":return s=>{const o=SL(EL("@"));return o?o.invoke([i[0](s)]):null};case"FunctionInvocation":return s=>{const o=SL(i[0](s));if(!o)return null;const a=i[2](s);return o.invoke(a)};case"IfExpression":return function(){const s=i[1],o=i[3],a=i[5];return Iu(c=>CL(s(c))?o(c):a?a(c):null,s8e(o,a))}();case"Parameters":return 3===i.length?i[1]:s=>[];case"Comparison":return s=>{const o=i[1];if("in"===o)return function lzt(t,n){if(!kf(n)){if("nil"===Ha(n))return null;n=[n]}return n.some(i=>Nee(i,t))}(i[0](s),(i[3]||i[2])(s));if("between"===o){const u=i[2](s),d=i[4](s);return null===u||null===d?null:n2(u,d).includes(i[0](s))}const a=i[0](s),l=i[2](s);return Nee(o()(l),a)};case"QuantifiedExpression":return s=>i[0](s)(i[1],i[3]);case"ForExpression":return s=>{const o=i[i.length-1],a=i[1](s);if("list"!==Ha(a))return a;const l=[];for(const c of a)l.push(o(Object.assign(Object.assign({},c),{partial:l})));return l};case"ArithmeticExpression":return function(){if(3===i.length){const[s,o,a]=i;return Iu(l=>o(l)(s,a),s8e(s,a))}if(2===i.length){const[s,o]=i;return Iu(a=>s(a)(()=>0,o),o.type)}}();case"ParenthesizedExpression":return i[1];case"PathExpression":return s=>{const o=i[0](s),a=i[1];return kf(o)?o.map(a):a(o)};case"FilterExpression":return s=>{const o=i[0](s),a=i[2],l=kf(o)?o:[o];if(null===o)return null;if(typeof a.type>"u")try{Km(a(s))&&(a.type="number")}catch{}if("number"===a.type){const c=a(s),u=l[c<0?l.length+c:c-1];return typeof u>"u"?null:u}if("boolean"===a.type)return a(s)?l:[];if("string"===a.type){const c=a(s);return l.filter(u=>u===c)}return l.map(c=>{const u=Object.assign(Object.assign(Object.assign({},s),{item:c}),c);let d=a(u);return"function"==typeof d&&(d=d(c)),d instanceof Od&&(d=d.includes(c)),!0===d?c:d}).filter(CL)};case"SimplePositiveUnaryTest":return Iu(s=>1===i.length?i[0](s):i[0](s)(i[1](s)),"test");case"List":return s=>i.slice(1,-1).map(o=>o(s));case"Interval":return Iu(s=>{const o=i[1](s),a=i[2](s);return n2(o,a,null!==o&&"["===i[0],null!==a&&"]"===i[3])},r2("boolean"));case"Expression":return s=>i[0](s);case"UnaryTests":return s=>(o=null)=>{const a="not"===i[0],c=(a?i.slice(2,-1):i).map(u=>u(s)).flat(1).map(u=>kf(u)?u.includes(o):null===u?null:"boolean"==typeof u?u:Nee(u,o)).reduce(gzt,void 0);return null===c?null:a?!c:c};default:return t.name}}(a,l,c);u.args.push(d)}}),s.args[s.args.length-1]}evaluate(n,i={},s){const o=n8e(n,i,s);return{parseTree:o,root:this._buildExecutionTree(o,n)}}unaryTest(n,i={},s){const o=r8e(n,i,s);return{parseTree:o,root:this._buildExecutionTree(o,n)}}};function EL(t,n){return bL(t,Wjt)}function Nee(t,n){return"function"==typeof t?t(n):t instanceof Od?t.includes(n):By(t,n)}const bP=Array.from("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");function o5(t,n){return n.some(i=>Ha(i)===t)&&n.every(i=>null===i||Ha(i)===t)}const czt=new Od({start:null,end:null,"start included":!1,"end included":!1,map:()=>[],includes:()=>null});function n2(t,n,i=!0,s=!0){if(o5("string",[t,n]))return function fzt(t,n,i=!0,s=!0){if(null!==t&&!bP.includes(t))throw new Error("illegal range start: "+t);if(null!==n&&!bP.includes(n))throw new Error("illegal range end: "+n);let o;if(null!==t&&null!==n){let c=bP.indexOf(t),u=bP.indexOf(n);const d=c>u?-1:1;!1===i&&(c+=d),!1===s&&(u-=d),o=bP.slice(c,u+1)}const a=o?function uzt(t){return n=>t.map(n)}(o):xL(),l=o?function dzt(t){return n=>t.includes(n)}(o):wL(t,n,i,s);return new Od({start:t,end:n,"start included":i,"end included":s,map:a,includes:l})}(t,n,i,s);if(o5("number",[t,n]))return function hzt(t,n,i,s){const o=null!==t&&null!==n?function pzt(t,n,i,s){const o=t>n?-1:1;return a=>{const l=[];for(let c=t;0===c&&!i||(c!==n||s)&&(l.push(a(c)),c!==n);c+=o);return l}}(t,n,i,s):xL(),a=wL(t,n,i,s);return new Od({start:t,end:n,"start included":i,"end included":s,map:o,includes:a})}(t,n,i,s);if(o5("duration",[t,n]))return function mzt(t,n,i,s){const o=c=>c?ai.fromDurationLike(c).toMillis():null,a=xL(),l=wL(o(t),o(n),i,s,o);return new Od({start:t,end:n,"start included":i,"end included":s,map:a,includes:l})}(t,n,i,s);if(o5("time",[t,n])||o5("date time",[t,n])||o5("date",[t,n]))return function Bee(t,n,i,s){const o=xL(),a=wL(t,n,i,s);return new Od({start:t,end:n,"start included":i,"end included":s,map:o,includes:a})}(t,n,i,s);if(null===t&&null===n)return czt;throw new Error(`unsupported range: ${t}..${n}`)}function xL(){return()=>{throw new Error("unsupported range operation: map")}}function Lee(t,n){return n?i=>t<=i:i=>t<i}function Fee(t,n){return n?i=>t>=i:i=>t>i}function wL(t,n,i,s,o=a=>a){let a=[];return null===t&&null===n?()=>null:(null!==t&&null!==n?a=t>n?[Lee(n,s),Fee(t,i)]:[Lee(t,i),Fee(n,s)]:null!==n?a=[Fee(n,s)]:null!==t&&(a=[Lee(t,i)]),l=>null===l?null:a.every(c=>c(o(l))))}function s8e(t,n){return n&&t.type!==n.type?"any":t.type}function Iu(t,n){return Object.assign(t,{type:n,toString:()=>`TaggedFunction[${n}] ${Function.prototype.toString.call(t)}`})}function gzt(t,n){return t||n}function CL(t){return!1!==t&&null!==t}function r2(t){return`Test<${t}>`}function SL(t,n=null){return t?t instanceof vL?t:t instanceof Od?new vL(i=>t.includes(i),["value"]):"function"!=typeof t?null:new vL(t,n||Mee(t)):null}let i2={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function o8e(t){i2=t}const _P={exec:()=>null};function as(t,n=""){let i="string"==typeof t?t:t.source;const s={replace:(o,a)=>{let l="string"==typeof a?a:a.source;return l=l.replace(Jc.caret,"$1"),i=i.replace(o,l),s},getRegex:()=>new RegExp(i,n)};return s}const Jc={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},EP=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Vee=/(?:[*+-]|\d{1,9}[.)])/,a8e=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,l8e=as(a8e).replace(/bull/g,Vee).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Czt=as(a8e).replace(/bull/g,Vee).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),jee=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,zee=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Ozt=as(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",zee).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Tzt=as(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Vee).getRegex(),OL="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Hee=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Pzt=as("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",Hee).replace("tag",OL).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),c8e=as(jee).replace("hr",EP).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",OL).getRegex(),Uee={blockquote:as(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",c8e).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:Ozt,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:EP,html:Pzt,lheading:l8e,list:Tzt,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:c8e,table:_P,text:/^[^\n]+/},u8e=as("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",EP).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",OL).getRegex(),Dzt={...Uee,lheading:Czt,table:u8e,paragraph:as(jee).replace("hr",EP).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",u8e).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",OL).getRegex()},kzt={...Uee,html:as("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Hee).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:_P,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:as(jee).replace("hr",EP).replace("heading"," *#{1,6} *[^\n]").replace("lheading",l8e).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},d8e=/^( {2,}|\\)\n(?!\s*$)/,TL=/[\p{P}\p{S}]/u,qee=/[\s\p{P}\p{S}]/u,p8e=/[^\s\p{P}\p{S}]/u,Rzt=as(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,qee).getRegex(),f8e=/(?!~)[\p{P}\p{S}]/u,h8e=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Bzt=as(h8e,"u").replace(/punct/g,TL).getRegex(),$zt=as(h8e,"u").replace(/punct/g,f8e).getRegex(),m8e="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Vzt=as(m8e,"gu").replace(/notPunctSpace/g,p8e).replace(/punctSpace/g,qee).replace(/punct/g,TL).getRegex(),jzt=as(m8e,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,f8e).getRegex(),zzt=as("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,p8e).replace(/punctSpace/g,qee).replace(/punct/g,TL).getRegex(),Hzt=as(/\\(punct)/,"gu").replace(/punct/g,TL).getRegex(),Uzt=as(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),qzt=as(Hee).replace("(?:--\x3e|$)","--\x3e").getRegex(),Wzt=as("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",qzt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),PL=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Gzt=as(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",PL).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),g8e=as(/^!?\[(label)\]\[(ref)\]/).replace("label",PL).replace("ref",zee).getRegex(),y8e=as(/^!?\[(ref)\](?:\[\])?/).replace("ref",zee).getRegex(),Wee={_backpedal:_P,anyPunctuation:Hzt,autolink:Uzt,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:d8e,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:_P,emStrongLDelim:Bzt,emStrongRDelimAst:Vzt,emStrongRDelimUnd:zzt,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:Gzt,nolink:y8e,punctuation:Rzt,reflink:g8e,reflinkSearch:as("reflink|nolink(?!\\()","g").replace("reflink",g8e).replace("nolink",y8e).getRegex(),tag:Wzt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:_P},Yzt={...Wee,link:as(/^!?\[(label)\]\((.*?)\)/).replace("label",PL).getRegex(),reflink:as(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",PL).getRegex()},Gee={...Wee,emStrongRDelimAst:jzt,emStrongLDelim:$zt,url:as(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Xzt={...Gee,br:as(d8e).replace("{2,}","*").getRegex(),text:as(Gee.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},DL={normal:Uee,gfm:Dzt,pedantic:kzt},xP={normal:Wee,gfm:Gee,breaks:Xzt,pedantic:Yzt},Qzt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},v8e=t=>Qzt[t];function o0(t,n){if(n){if(Jc.escapeTest.test(t))return t.replace(Jc.escapeReplace,v8e)}else if(Jc.escapeTestNoEncode.test(t))return t.replace(Jc.escapeReplaceNoEncode,v8e);return t}function b8e(t){try{t=encodeURI(t).replace(Jc.percentDecode,"%")}catch{return null}return t}function _8e(t,n){const s=t.replace(Jc.findPipe,(a,l,c)=>{let u=!1,d=l;for(;--d>=0&&"\\"===c[d];)u=!u;return u?"|":" |"}).split(Jc.splitPipe);let o=0;if(s[0].trim()||s.shift(),s.length>0&&!s.at(-1)?.trim()&&s.pop(),n)if(s.length>n)s.splice(n);else for(;s.length<n;)s.push("");for(;o<s.length;o++)s[o]=s[o].trim().replace(Jc.slashPipe,"|");return s}function wP(t,n,i){const s=t.length;if(0===s)return"";let o=0;for(;o<s&&t.charAt(s-o-1)===n;)o++;return t.slice(0,s-o)}function E8e(t,n,i,s,o){const a=n.href,l=n.title||null,c=t[1].replace(o.other.outputLinkReplace,"$1");if("!"!==t[0].charAt(0)){s.state.inLink=!0;const u={type:"link",raw:i,href:a,title:l,text:c,tokens:s.inlineTokens(c)};return s.state.inLink=!1,u}return{type:"image",raw:i,href:a,title:l,text:c}}class kL{options;rules;lexer;constructor(n){this.options=n||i2}space(n){const i=this.rules.block.newline.exec(n);if(i&&i[0].length>0)return{type:"space",raw:i[0]}}code(n){const i=this.rules.block.code.exec(n);if(i){const s=i[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?s:wP(s,"\n")}}}fences(n){const i=this.rules.block.fences.exec(n);if(i){const s=i[0],o=function Jzt(t,n,i){const s=t.match(i.other.indentCodeCompensation);if(null===s)return n;const o=s[1];return n.split("\n").map(a=>{const l=a.match(i.other.beginningSpace);if(null===l)return a;const[c]=l;return c.length>=o.length?a.slice(o.length):a}).join("\n")}(s,i[3]||"",this.rules);return{type:"code",raw:s,lang:i[2]?i[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):i[2],text:o}}}heading(n){const i=this.rules.block.heading.exec(n);if(i){let s=i[2].trim();if(this.rules.other.endingHash.test(s)){const o=wP(s,"#");(this.options.pedantic||!o||this.rules.other.endingSpaceChar.test(o))&&(s=o.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(n){const i=this.rules.block.hr.exec(n);if(i)return{type:"hr",raw:wP(i[0],"\n")}}blockquote(n){const i=this.rules.block.blockquote.exec(n);if(i){let s=wP(i[0],"\n").split("\n"),o="",a="";const l=[];for(;s.length>0;){let c=!1;const u=[];let d;for(d=0;d<s.length;d++)if(this.rules.other.blockquoteStart.test(s[d]))u.push(s[d]),c=!0;else{if(c)break;u.push(s[d])}s=s.slice(d);const p=u.join("\n"),f=p.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");o=o?`${o}\n${p}`:p,a=a?`${a}\n${f}`:f;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,l,!0),this.lexer.state.top=h,0===s.length)break;const m=l.at(-1);if("code"===m?.type)break;if("blockquote"===m?.type){const y=m,E=y.raw+"\n"+s.join("\n"),_=this.blockquote(E);l[l.length-1]=_,o=o.substring(0,o.length-y.raw.length)+_.raw,a=a.substring(0,a.length-y.text.length)+_.text;break}if("list"!==m?.type);else{const y=m,E=y.raw+"\n"+s.join("\n"),_=this.list(E);l[l.length-1]=_,o=o.substring(0,o.length-m.raw.length)+_.raw,a=a.substring(0,a.length-y.raw.length)+_.raw,s=E.substring(l.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:o,tokens:l,text:a}}}list(n){let i=this.rules.block.list.exec(n);if(i){let s=i[1].trim();const o=s.length>1,a={type:"list",raw:"",ordered:o,start:o?+s.slice(0,-1):"",loose:!1,items:[]};s=o?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=o?s:"[*+-]");const l=this.rules.other.listItemRegex(s);let c=!1;for(;n;){let d=!1,p="",f="";if(!(i=l.exec(n))||this.rules.block.hr.test(n))break;p=i[0],n=n.substring(p.length);let h=i[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,v=>" ".repeat(3*v.length)),m=n.split("\n",1)[0],y=!h.trim(),E=0;if(this.options.pedantic?(E=2,f=h.trimStart()):y?E=i[1].length+1:(E=i[2].search(this.rules.other.nonSpaceChar),E=E>4?1:E,f=h.slice(E),E+=i[1].length),y&&this.rules.other.blankLine.test(m)&&(p+=m+"\n",n=n.substring(m.length+1),d=!0),!d){const v=this.rules.other.nextBulletRegex(E),w=this.rules.other.hrRegex(E),g=this.rules.other.fencesBeginRegex(E),x=this.rules.other.headingBeginRegex(E),T=this.rules.other.htmlBeginRegex(E);for(;n;){const I=n.split("\n",1)[0];let A;if(m=I,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),A=m):A=m.replace(this.rules.other.tabCharGlobal,"    "),g.test(m)||x.test(m)||T.test(m)||v.test(m)||w.test(m))break;if(A.search(this.rules.other.nonSpaceChar)>=E||!m.trim())f+="\n"+A.slice(E);else{if(y||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||g.test(h)||x.test(h)||w.test(h))break;f+="\n"+m}!y&&!m.trim()&&(y=!0),p+=I+"\n",n=n.substring(I.length+1),h=A.slice(E)}}a.loose||(c?a.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(c=!0));let S,_=null;this.options.gfm&&(_=this.rules.other.listIsTask.exec(f),_&&(S="[ ] "!==_[0],f=f.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:p,task:!!_,checked:S,loose:!1,text:f,tokens:[]}),a.raw+=p}const u=a.items.at(-1);if(!u)return;u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd(),a.raw=a.raw.trimEnd();for(let d=0;d<a.items.length;d++)if(this.lexer.state.top=!1,a.items[d].tokens=this.lexer.blockTokens(a.items[d].text,[]),!a.loose){const p=a.items[d].tokens.filter(h=>"space"===h.type),f=p.length>0&&p.some(h=>this.rules.other.anyLine.test(h.raw));a.loose=f}if(a.loose)for(let d=0;d<a.items.length;d++)a.items[d].loose=!0;return a}}html(n){const i=this.rules.block.html.exec(n);if(i)return{type:"html",block:!0,raw:i[0],pre:"pre"===i[1]||"script"===i[1]||"style"===i[1],text:i[0]}}def(n){const i=this.rules.block.def.exec(n);if(i){const s=i[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),o=i[2]?i[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=i[3]?i[3].substring(1,i[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):i[3];return{type:"def",tag:s,raw:i[0],href:o,title:a}}}table(n){const i=this.rules.block.table.exec(n);if(!i||!this.rules.other.tableDelimiter.test(i[2]))return;const s=_8e(i[1]),o=i[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=i[3]?.trim()?i[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],l={type:"table",raw:i[0],header:[],align:[],rows:[]};if(s.length===o.length){for(const c of o)this.rules.other.tableAlignRight.test(c)?l.align.push("right"):this.rules.other.tableAlignCenter.test(c)?l.align.push("center"):this.rules.other.tableAlignLeft.test(c)?l.align.push("left"):l.align.push(null);for(let c=0;c<s.length;c++)l.header.push({text:s[c],tokens:this.lexer.inline(s[c]),header:!0,align:l.align[c]});for(const c of a)l.rows.push(_8e(c,l.header.length).map((u,d)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:l.align[d]})));return l}}lheading(n){const i=this.rules.block.lheading.exec(n);if(i)return{type:"heading",raw:i[0],depth:"="===i[2].charAt(0)?1:2,text:i[1],tokens:this.lexer.inline(i[1])}}paragraph(n){const i=this.rules.block.paragraph.exec(n);if(i){const s="\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1];return{type:"paragraph",raw:i[0],text:s,tokens:this.lexer.inline(s)}}}text(n){const i=this.rules.block.text.exec(n);if(i)return{type:"text",raw:i[0],text:i[0],tokens:this.lexer.inline(i[0])}}escape(n){const i=this.rules.inline.escape.exec(n);if(i)return{type:"escape",raw:i[0],text:i[1]}}tag(n){const i=this.rules.inline.tag.exec(n);if(i)return!this.lexer.state.inLink&&this.rules.other.startATag.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:i[0]}}link(n){const i=this.rules.inline.link.exec(n);if(i){const s=i[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(s)){if(!this.rules.other.endAngleBracket.test(s))return;const l=wP(s.slice(0,-1),"\\");if((s.length-l.length)%2==0)return}else{const l=function Zzt(t,n){if(-1===t.indexOf(n[1]))return-1;let i=0;for(let s=0;s<t.length;s++)if("\\"===t[s])s++;else if(t[s]===n[0])i++;else if(t[s]===n[1]&&(i--,i<0))return s;return i>0?-2:-1}(i[2],"()");if(-2===l)return;if(l>-1){const u=(0===i[0].indexOf("!")?5:4)+i[1].length+l;i[2]=i[2].substring(0,l),i[0]=i[0].substring(0,u).trim(),i[3]=""}}let o=i[2],a="";if(this.options.pedantic){const l=this.rules.other.pedanticHrefTitle.exec(o);l&&(o=l[1],a=l[3])}else a=i[3]?i[3].slice(1,-1):"";return o=o.trim(),this.rules.other.startAngleBracket.test(o)&&(o=this.options.pedantic&&!this.rules.other.endAngleBracket.test(s)?o.slice(1):o.slice(1,-1)),E8e(i,{href:o&&o.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},i[0],this.lexer,this.rules)}}reflink(n,i){let s;if((s=this.rules.inline.reflink.exec(n))||(s=this.rules.inline.nolink.exec(n))){const a=i[(s[2]||s[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!a){const l=s[0].charAt(0);return{type:"text",raw:l,text:l}}return E8e(s,a,s[0],this.lexer,this.rules)}}emStrong(n,i,s=""){let o=this.rules.inline.emStrongLDelim.exec(n);if(!(!o||o[3]&&s.match(this.rules.other.unicodeAlphaNumeric))&&(!o[1]&&!o[2]||!s||this.rules.inline.punctuation.exec(s))){const l=[...o[0]].length-1;let c,u,d=l,p=0;const f="*"===o[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,i=i.slice(-1*n.length+l);null!=(o=f.exec(i));){if(c=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!c)continue;if(u=[...c].length,o[3]||o[4]){d+=u;continue}if((o[5]||o[6])&&l%3&&!((l+u)%3)){p+=u;continue}if(d-=u,d>0)continue;u=Math.min(u,u+d+p);const h=[...o[0]][0].length,m=n.slice(0,l+o.index+h+u);if(Math.min(l,u)%2){const E=m.slice(1,-1);return{type:"em",raw:m,text:E,tokens:this.lexer.inlineTokens(E)}}const y=m.slice(2,-2);return{type:"strong",raw:m,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(n){const i=this.rules.inline.code.exec(n);if(i){let s=i[2].replace(this.rules.other.newLineCharGlobal," ");const o=this.rules.other.nonSpaceChar.test(s),a=this.rules.other.startingSpaceChar.test(s)&&this.rules.other.endingSpaceChar.test(s);return o&&a&&(s=s.substring(1,s.length-1)),{type:"codespan",raw:i[0],text:s}}}br(n){const i=this.rules.inline.br.exec(n);if(i)return{type:"br",raw:i[0]}}del(n){const i=this.rules.inline.del.exec(n);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2])}}autolink(n){const i=this.rules.inline.autolink.exec(n);if(i){let s,o;return"@"===i[2]?(s=i[1],o="mailto:"+s):(s=i[1],o=s),{type:"link",raw:i[0],text:s,href:o,tokens:[{type:"text",raw:s,text:s}]}}}url(n){let i;if(i=this.rules.inline.url.exec(n)){let s,o;if("@"===i[2])s=i[0],o="mailto:"+s;else{let a;do{a=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])?.[0]??""}while(a!==i[0]);s=i[0],o="www."===i[1]?"http://"+i[0]:i[0]}return{type:"link",raw:i[0],text:s,href:o,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(n){const i=this.rules.inline.text.exec(n);if(i)return{type:"text",raw:i[0],text:i[0],escaped:this.lexer.state.inRawBlock}}}class Tp{tokens;options;state;tokenizer;inlineQueue;constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||i2,this.options.tokenizer=this.options.tokenizer||new kL,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const i={other:Jc,block:DL.normal,inline:xP.normal};this.options.pedantic?(i.block=DL.pedantic,i.inline=xP.pedantic):this.options.gfm&&(i.block=DL.gfm,i.inline=this.options.breaks?xP.breaks:xP.gfm),this.tokenizer.rules=i}static get rules(){return{block:DL,inline:xP}}static lex(n,i){return new Tp(i).lex(n)}static lexInline(n,i){return new Tp(i).inlineTokens(n)}lex(n){n=n.replace(Jc.carriageReturn,"\n"),this.blockTokens(n,this.tokens);for(let i=0;i<this.inlineQueue.length;i++){const s=this.inlineQueue[i];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(n,i=[],s=!1){for(this.options.pedantic&&(n=n.replace(Jc.tabCharGlobal,"    ").replace(Jc.spaceLine,""));n;){let o;if(this.options.extensions?.block?.some(l=>!!(o=l.call({lexer:this},n,i))&&(n=n.substring(o.raw.length),i.push(o),!0)))continue;if(o=this.tokenizer.space(n)){n=n.substring(o.raw.length);const l=i.at(-1);1===o.raw.length&&void 0!==l?l.raw+="\n":i.push(o);continue}if(o=this.tokenizer.code(n)){n=n.substring(o.raw.length);const l=i.at(-1);"paragraph"===l?.type||"text"===l?.type?(l.raw+="\n"+o.raw,l.text+="\n"+o.text,this.inlineQueue.at(-1).src=l.text):i.push(o);continue}if(o=this.tokenizer.fences(n)){n=n.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.heading(n)){n=n.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.hr(n)){n=n.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.blockquote(n)){n=n.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.list(n)){n=n.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.html(n)){n=n.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.def(n)){n=n.substring(o.raw.length);const l=i.at(-1);"paragraph"===l?.type||"text"===l?.type?(l.raw+="\n"+o.raw,l.text+="\n"+o.raw,this.inlineQueue.at(-1).src=l.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(n)){n=n.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.lheading(n)){n=n.substring(o.raw.length),i.push(o);continue}let a=n;if(this.options.extensions?.startBlock){let l=1/0;const c=n.slice(1);let u;this.options.extensions.startBlock.forEach(d=>{u=d.call({lexer:this},c),"number"==typeof u&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(a=n.substring(0,l+1))}if(this.state.top&&(o=this.tokenizer.paragraph(a))){const l=i.at(-1);s&&"paragraph"===l?.type?(l.raw+="\n"+o.raw,l.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):i.push(o),s=a.length!==n.length,n=n.substring(o.raw.length)}else if(o=this.tokenizer.text(n)){n=n.substring(o.raw.length);const l=i.at(-1);"text"===l?.type?(l.raw+="\n"+o.raw,l.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):i.push(o)}else if(n){const l="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(l);break}throw new Error(l)}}return this.state.top=!0,i}inline(n,i=[]){return this.inlineQueue.push({src:n,tokens:i}),i}inlineTokens(n,i=[]){let s=n,o=null;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(s));)c.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,o.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let a=!1,l="";for(;n;){let c;if(a||(l=""),a=!1,this.options.extensions?.inline?.some(d=>!!(c=d.call({lexer:this},n,i))&&(n=n.substring(c.raw.length),i.push(c),!0)))continue;if(c=this.tokenizer.escape(n)){n=n.substring(c.raw.length),i.push(c);continue}if(c=this.tokenizer.tag(n)){n=n.substring(c.raw.length),i.push(c);continue}if(c=this.tokenizer.link(n)){n=n.substring(c.raw.length),i.push(c);continue}if(c=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(c.raw.length);const d=i.at(-1);"text"===c.type&&"text"===d?.type?(d.raw+=c.raw,d.text+=c.text):i.push(c);continue}if(c=this.tokenizer.emStrong(n,s,l)){n=n.substring(c.raw.length),i.push(c);continue}if(c=this.tokenizer.codespan(n)){n=n.substring(c.raw.length),i.push(c);continue}if(c=this.tokenizer.br(n)){n=n.substring(c.raw.length),i.push(c);continue}if(c=this.tokenizer.del(n)){n=n.substring(c.raw.length),i.push(c);continue}if(c=this.tokenizer.autolink(n)){n=n.substring(c.raw.length),i.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(n))){n=n.substring(c.raw.length),i.push(c);continue}let u=n;if(this.options.extensions?.startInline){let d=1/0;const p=n.slice(1);let f;this.options.extensions.startInline.forEach(h=>{f=h.call({lexer:this},p),"number"==typeof f&&f>=0&&(d=Math.min(d,f))}),d<1/0&&d>=0&&(u=n.substring(0,d+1))}if(c=this.tokenizer.inlineText(u)){n=n.substring(c.raw.length),"_"!==c.raw.slice(-1)&&(l=c.raw.slice(-1)),a=!0;const d=i.at(-1);"text"===d?.type?(d.raw+=c.raw,d.text+=c.text):i.push(c)}else if(n){const d="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}return i}}class ML{options;parser;constructor(n){this.options=n||i2}space(n){return""}code({text:n,lang:i,escaped:s}){const o=(i||"").match(Jc.notSpaceStart)?.[0],a=n.replace(Jc.endingNewline,"")+"\n";return o?'<pre><code class="language-'+o0(o)+'">'+(s?a:o0(a,!0))+"</code></pre>\n":"<pre><code>"+(s?a:o0(a,!0))+"</code></pre>\n"}blockquote({tokens:n}){return`<blockquote>\n${this.parser.parse(n)}</blockquote>\n`}html({text:n}){return n}heading({tokens:n,depth:i}){return`<h${i}>${this.parser.parseInline(n)}</h${i}>\n`}hr(n){return"<hr>\n"}list(n){const i=n.ordered,s=n.start;let o="";for(let c=0;c<n.items.length;c++)o+=this.listitem(n.items[c]);const a=i?"ol":"ul";return"<"+a+(i&&1!==s?' start="'+s+'"':"")+">\n"+o+"</"+a+">\n"}listitem(n){let i="";if(n.task){const s=this.checkbox({checked:!!n.checked});n.loose?"paragraph"===n.tokens[0]?.type?(n.tokens[0].text=s+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&"text"===n.tokens[0].tokens[0].type&&(n.tokens[0].tokens[0].text=s+" "+o0(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:s+" ",text:s+" ",escaped:!0}):i+=s+" "}return i+=this.parser.parse(n.tokens,!!n.loose),`<li>${i}</li>\n`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>\n`}table(n){let i="",s="";for(let a=0;a<n.header.length;a++)s+=this.tablecell(n.header[a]);i+=this.tablerow({text:s});let o="";for(let a=0;a<n.rows.length;a++){const l=n.rows[a];s="";for(let c=0;c<l.length;c++)s+=this.tablecell(l[c]);o+=this.tablerow({text:s})}return o&&(o=`<tbody>${o}</tbody>`),"<table>\n<thead>\n"+i+"</thead>\n"+o+"</table>\n"}tablerow({text:n}){return`<tr>\n${n}</tr>\n`}tablecell(n){const i=this.parser.parseInline(n.tokens),s=n.header?"th":"td";return(n.align?`<${s} align="${n.align}">`:`<${s}>`)+i+`</${s}>\n`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${o0(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:i,tokens:s}){const o=this.parser.parseInline(s),a=b8e(n);if(null===a)return o;let l='<a href="'+(n=a)+'"';return i&&(l+=' title="'+o0(i)+'"'),l+=">"+o+"</a>",l}image({href:n,title:i,text:s}){const o=b8e(n);if(null===o)return o0(s);let a=`<img src="${n=o}" alt="${s}"`;return i&&(a+=` title="${o0(i)}"`),a+=">",a}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:o0(n.text)}}class Kee{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}}class Pp{options;renderer;textRenderer;constructor(n){this.options=n||i2,this.options.renderer=this.options.renderer||new ML,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Kee}static parse(n,i){return new Pp(i).parse(n)}static parseInline(n,i){return new Pp(i).parseInline(n)}parse(n,i=!0){let s="";for(let o=0;o<n.length;o++){const a=n[o];if(this.options.extensions?.renderers?.[a.type]){const c=a,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(!1!==u||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){s+=u||"";continue}}const l=a;switch(l.type){case"space":s+=this.renderer.space(l);continue;case"hr":s+=this.renderer.hr(l);continue;case"heading":s+=this.renderer.heading(l);continue;case"code":s+=this.renderer.code(l);continue;case"table":s+=this.renderer.table(l);continue;case"blockquote":s+=this.renderer.blockquote(l);continue;case"list":s+=this.renderer.list(l);continue;case"html":s+=this.renderer.html(l);continue;case"paragraph":s+=this.renderer.paragraph(l);continue;case"text":{let c=l,u=this.renderer.text(c);for(;o+1<n.length&&"text"===n[o+1].type;)c=n[++o],u+="\n"+this.renderer.text(c);s+=i?this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):u;continue}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return s}parseInline(n,i=this.renderer){let s="";for(let o=0;o<n.length;o++){const a=n[o];if(this.options.extensions?.renderers?.[a.type]){const c=this.options.extensions.renderers[a.type].call({parser:this},a);if(!1!==c||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){s+=c||"";continue}}const l=a;switch(l.type){case"escape":case"text":s+=i.text(l);break;case"html":s+=i.html(l);break;case"link":s+=i.link(l);break;case"image":s+=i.image(l);break;case"strong":s+=i.strong(l);break;case"em":s+=i.em(l);break;case"codespan":s+=i.codespan(l);break;case"br":s+=i.br(l);break;case"del":s+=i.del(l);break;default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return s}}class AL{options;block;constructor(n){this.options=n||i2}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}provideLexer(){return this.block?Tp.lex:Tp.lexInline}provideParser(){return this.block?Pp.parse:Pp.parseInline}}const s2=new class eHt{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Pp;Renderer=ML;TextRenderer=Kee;Lexer=Tp;Tokenizer=kL;Hooks=AL;constructor(...n){this.use(...n)}walkTokens(n,i){let s=[];for(const o of n)switch(s=s.concat(i.call(this,o)),o.type){case"table":{const a=o;for(const l of a.header)s=s.concat(this.walkTokens(l.tokens,i));for(const l of a.rows)for(const c of l)s=s.concat(this.walkTokens(c.tokens,i));break}case"list":s=s.concat(this.walkTokens(o.items,i));break;default:{const a=o;this.defaults.extensions?.childTokens?.[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{const c=a[l].flat(1/0);s=s.concat(this.walkTokens(c,i))}):a.tokens&&(s=s.concat(this.walkTokens(a.tokens,i)))}}return s}use(...n){const i=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(s=>{const o={...s};if(o.async=this.defaults.async||o.async||!1,s.extensions&&(s.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const l=i.renderers[a.name];i.renderers[a.name]=l?function(...c){let u=a.renderer.apply(this,c);return!1===u&&(u=l.apply(this,c)),u}:a.renderer}if("tokenizer"in a){if(!a.level||"block"!==a.level&&"inline"!==a.level)throw new Error("extension level must be 'block' or 'inline'");const l=i[a.level];l?l.unshift(a.tokenizer):i[a.level]=[a.tokenizer],a.start&&("block"===a.level?i.startBlock?i.startBlock.push(a.start):i.startBlock=[a.start]:"inline"===a.level&&(i.startInline?i.startInline.push(a.start):i.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(i.childTokens[a.name]=a.childTokens)}),o.extensions=i),s.renderer){const a=this.defaults.renderer||new ML(this.defaults);for(const l in s.renderer){if(!(l in a))throw new Error(`renderer '${l}' does not exist`);if(["options","parser"].includes(l))continue;const u=s.renderer[l],d=a[l];a[l]=(...p)=>{let f=u.apply(a,p);return!1===f&&(f=d.apply(a,p)),f||""}}o.renderer=a}if(s.tokenizer){const a=this.defaults.tokenizer||new kL(this.defaults);for(const l in s.tokenizer){if(!(l in a))throw new Error(`tokenizer '${l}' does not exist`);if(["options","rules","lexer"].includes(l))continue;const u=s.tokenizer[l],d=a[l];a[l]=(...p)=>{let f=u.apply(a,p);return!1===f&&(f=d.apply(a,p)),f}}o.tokenizer=a}if(s.hooks){const a=this.defaults.hooks||new AL;for(const l in s.hooks){if(!(l in a))throw new Error(`hook '${l}' does not exist`);if(["options","block"].includes(l))continue;const u=s.hooks[l],d=a[l];a[l]=AL.passThroughHooks.has(l)?p=>{if(this.defaults.async)return Promise.resolve(u.call(a,p)).then(h=>d.call(a,h));const f=u.call(a,p);return d.call(a,f)}:(...p)=>{let f=u.apply(a,p);return!1===f&&(f=d.apply(a,p)),f}}o.hooks=a}if(s.walkTokens){const a=this.defaults.walkTokens,l=s.walkTokens;o.walkTokens=function(c){let u=[];return u.push(l.call(this,c)),a&&(u=u.concat(a.call(this,c))),u}}this.defaults={...this.defaults,...o}}),this}setOptions(n){return this.defaults={...this.defaults,...n},this}lexer(n,i){return Tp.lex(n,i??this.defaults)}parser(n,i){return Pp.parse(n,i??this.defaults)}parseMarkdown(n){return(s,o)=>{const a={...o},l={...this.defaults,...a},c=this.onError(!!l.silent,!!l.async);if(!0===this.defaults.async&&!1===a.async)return c(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof s>"u"||null===s)return c(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof s)return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));l.hooks&&(l.hooks.options=l,l.hooks.block=n);const u=l.hooks?l.hooks.provideLexer():n?Tp.lex:Tp.lexInline,d=l.hooks?l.hooks.provideParser():n?Pp.parse:Pp.parseInline;if(l.async)return Promise.resolve(l.hooks?l.hooks.preprocess(s):s).then(p=>u(p,l)).then(p=>l.hooks?l.hooks.processAllTokens(p):p).then(p=>l.walkTokens?Promise.all(this.walkTokens(p,l.walkTokens)).then(()=>p):p).then(p=>d(p,l)).then(p=>l.hooks?l.hooks.postprocess(p):p).catch(c);try{l.hooks&&(s=l.hooks.preprocess(s));let p=u(s,l);l.hooks&&(p=l.hooks.processAllTokens(p)),l.walkTokens&&this.walkTokens(p,l.walkTokens);let f=d(p,l);return l.hooks&&(f=l.hooks.postprocess(f)),f}catch(p){return c(p)}}}onError(n,i){return s=>{if(s.message+="\nPlease report this to https://github.com/markedjs/marked.",n){const o="<p>An error occurred:</p><pre>"+o0(s.message+"",!0)+"</pre>";return i?Promise.resolve(o):o}if(i)return Promise.reject(s);throw s}}};function ys(t,n){return s2.parse(t,n)}ys.options=ys.setOptions=function(t){return s2.setOptions(t),o8e(ys.defaults=s2.defaults),ys},ys.getDefaults=function $ee(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},ys.defaults=i2,ys.use=function(...t){return s2.use(...t),o8e(ys.defaults=s2.defaults),ys},ys.walkTokens=function(t,n){return s2.walkTokens(t,n)},ys.parseInline=s2.parseInline,ys.Parser=Pp,ys.parser=Pp.parse,ys.Renderer=ML,ys.TextRenderer=Kee,ys.Lexer=Tp,ys.lexer=Tp.lex,ys.Tokenizer=kL,ys.Hooks=AL,ys.parse=ys;const x8e=(t,n="expression",i={})=>{const{depth:s=0,specialDepthAccessors:o={}}=i;if(!["expression","unaryTest"].includes(n))return[];const a="expression"===n?n8e(t):r8e(t),c=function u(d){if("PathExpression"===d.name){const p=Yee(d)[0];return"Context"===p.name?u(p):0===Object.keys(o).length?0===s?[tHt(d,0)]:[]:Array.from(nHt(d,s,o))}if(0===s&&"VariableName"===d.name)return[d.variableName];if(d.children){const p=d.children.reduce((f,h)=>f.concat(u(h)),[]);return"FilterContext"===d.name?p.filter(f=>"item"!==f):p}return[]}(rHt(a,t));return[...new Set(c)]},tHt=(t,n)=>Yee(t)[n].variableName||null,nHt=(t,n,i)=>{let s=[{previous:null,current:n-1}];const o=new Set,a=Yee(t);for(let l=0;l<a.length;l++){const c=a[l].variableName;s=c in i?i[c].reduce((d,p)=>[...d,...s.map(f=>({previous:f.current,current:f.current+p}))],[]).filter(d=>d.current>=-1):s.map(u=>({previous:u.current,current:u.current+1})),s.some(u=>-1===u.previous&&0===u.current)&&o.add(c)}return new Set(o)},Yee=t=>{let n=t,i=[];for(;"PathExpression"===n.name;)i.push(n.children[1]),n=n.children[0];return i.push(n),i.reverse()},rHt=(t,n)=>{const i=[{children:[]}];return t.iterate({enter:s=>{const o={name:s.type.name,children:[]};"VariableName"===s.type.name&&(o.variableName=n.slice(s.from,s.to)),i.push(o)},leave:()=>{const s=i.pop();i[i.length-1].children.push(s)}}),iHt(i[0].children[0])},iHt=t=>{const n={name:"Root",children:[t]},i=s=>{if(s.children)for(let o=0;o<s.children.length;o++)if("FilterExpression"===s.children[o].name){const l=s.children[o].children[2];s.children[o]=s.children[o].children[0],n.children.push({name:"FilterContext",children:[l]}),i(l)}else i(s.children[o])};return i(t),n};let w8e=(()=>{class t{constructor(i){this._eventBus=i}isExpression(i){return Or(i)&&i.startsWith("=")}getVariableNames(i,s={}){const{type:o="expression"}=s;if(!this.isExpression(i))return[];if(!["unaryTest","expression"].includes(o))throw new Error("Unknown expression type: "+o);return x8e(i,o)}evaluate(i,s={}){if(!i||!Or(i)||!i.startsWith("="))return null;try{return function szt(t,n={},i){const{root:s}=i8e.evaluate(t,n,i);return s(n)}(i.slice(1),s)}catch(o){return this._eventBus.fire("error",{error:o}),null}}}return t.$inject=["eventBus"],t})(),C8e=(()=>{class t{constructor(){}isTemplate(i){return Or(i)&&(i.startsWith("=")||/{{.*?}}/.test(i))}getVariableNames(i){if(!this.isTemplate(i))return[];const s=this._extractExpressionsWithDepth(i),o={parent:[-1,1],_parent_:[-1],this:[0,1],_this_:[0]};return s.reduce((a,{expression:l,depth:c})=>a.concat(x8e(l,"expression",{depth:c,specialDepthAccessors:o})),[])}evaluate(i,s={},o={}){const{debug:a=!1,strict:l=!1,buildDebugString:c=d=>" {{\u26a0}} ",sanitizer:u=d=>d}=o;return((t,n={},i={})=>{const{debug:s=!1,strict:o=!1,buildDebugString:a=p=>`{{ ${p.message.toLowerCase()} }}`,sanitizer:l}=i,u=xSe(UX.parse(t),t);return(t=>{const{debug:n,strict:i,buildDebugString:s,sanitizer:o}=t,a=u=>{if(n)return s(u);throw u},c=(u,d={})=>{try{return((u,d={})=>{switch(u.name){case"SimpleTextBlock":return u.content;case"Insert":{const p=u.children[0].content;try{const f=jR(`string(${p})`,d);return o?o(f):f}catch{return a(new Error(`FEEL expression ${p} couldn't be evaluated`))}}case"EmptyInsert":return"";case"Feel":case"FeelBlock":{const p=u.content;try{const f=jR(`string(${p})`,d);return o?o(f):f}catch{return a(new Error(`FEEL expression ${p} couldn't be evaluated`))}}case"Feelers":return u.children.map(p=>c(p,d)).join("");case"ConditionalSpanner":{const p=u.children[0].content;let f;try{f=jR(p,d)}catch{return a(new Error(`FEEL expression ${p} couldn't be evaluated`))}if(i&&"boolean"!=typeof f)return a(new Error(`FEEL expression ${p} expected to evaluate to a boolean`));if(f){const m=u.children.slice(1,u.children.length-1).map(_=>c(_,d)).join(""),E=u.children[u.children.length-1].name.endsWith("Nl")&&!m.endsWith("\n");return m+(E?"\n":"")}return""}case"LoopSpanner":{const p=u.children[0].content;let f;try{f=jR(p,d)}catch{return a(new Error(`FEEL expression ${p} couldn't be evaluated`))}if(!Array.isArray(f)){if(i)return a(new Error(`FEEL expression ${p} expected to evaluate to an array`));f=null==f?[]:[f]}const h=u.children.slice(1,u.children.length-1),m=(S,v)=>{const w=wSe(S,v);return h.map(g=>c(g,w)).join("")},y=f.map(S=>m(S,d)).join(""),_=u.children[u.children.length-1].name.endsWith("Nl")&&!y.endsWith("\n");return y+(_?"\n":"")}}})(u,d)}catch(p){return a(p)}};return c})({debug:s,strict:o,buildDebugString:a,sanitizer:l})(u,wSe(n,null))})(i,s,{debug:a,strict:l,buildDebugString:c,sanitizer:u})}_extractExpressionsWithDepth(i){return function a(l,c=0){if(["Feel","FeelBlock"].includes(l.name))return[{depth:c,expression:l.content}];if("LoopSpanner"===l.name){const u=l.children[0].content,d=l.children.slice(1).reduce((p,f)=>p.concat(a(f,c+1)),[]);return[{depth:c,expression:u},...d]}return l.children.reduce((u,d)=>u.concat(a(d,c)),[])}(xSe(UX.parse(i),i))}}return t.$inject=[],t})();const Ym=1440,sHt=["subtype"],oHt=["dateLabel"],Xm="sandbox",IL="allow",S8e=[{attribute:Xm,directive:"allow-scripts",property:"allowScripts",label:"Script execution"},{attribute:Xm,directive:"allow-same-origin",property:"allowSameOrigin",label:"Allow same origin"},{attribute:IL,directive:"fullscreen",property:"fullscreen",label:"Open in fullscreen"},{attribute:IL,directive:"geolocation",property:"geolocation",label:"Geolocation"},{attribute:IL,directive:"camera",property:"camera",label:"Camera access"},{attribute:IL,directive:"microphone",property:"microphone",label:"Microphone access"},{attribute:Xm,directive:"allow-forms",property:"allowForms",label:"Forms submission"},{attribute:Xm,directive:"allow-modals",property:"allowModals",label:"Open modal windows"},{attribute:Xm,directive:"allow-popups",property:"allowPopups",label:"Open popups"},{attribute:Xm,directive:"allow-top-navigation",property:"allowTopNavigation",label:"Top level navigation"},{attribute:Xm,directive:"allow-storage-access-by-user-activation",property:"allowStorageAccessByUserActivation",label:"Storage access by user"}];function ra(t,{errors:n=[],disabled:i=!1,readonly:s=!1}={}){if(!t)throw new Error("type required");return rr()("fjs-form-field",`fjs-form-field-${t}`,{"fjs-has-errors":n.length>0,"fjs-disabled":i,"fjs-readonly":s})}function dHt(t){const{layout:n={}}=t,{columns:i}=n;return rr()("fjs-layout-column","cds--col"+(i?"-lg-"+i:""),"cds--col-sm-16","cds--col-md-16")}function l5(t,n,i){let s="fjs-form";return n&&(s+=`-${n}`),s+=`-${t}`,Object.values(i||{}).forEach(o=>{s+=`_${o}`}),s}const c5=BA({Empty:t=>null,Hidden:t=>null,Children:t=>Te("div",{class:t.class,style:t.style,children:t.children}),Element:t=>Te("div",{class:t.class,style:t.style,children:t.children}),Row:t=>Te("div",{class:t.class,style:t.style,children:t.children}),Column:t=>"default"===t.field.type?t.children:Te("div",{class:t.class,style:t.style,children:t.children}),hoverInfo:{cleanup:()=>{}}}),a0=BA({data:null,this:null,parent:null,i:null}),CP=BA({getService:function fHt(t,n){},formId:null});function vs(t,n){const{getService:i}=il(CP);return i(t,n)}function gHt(t){const n={};for(const[i,s]of Object.entries(t))n[`_${i}_`]=s;return n}function u5(t){const{data:n,...i}=t;return{...i,...n,...gHt(i)}}function Xee(t,n,i){return t&&t.isExpression(n)?t.evaluate(n,u5(i)):n}function O8e(t,n){const{valuesExpression:i,valuesKey:s,values:o}=t;return i?null:s?Ja(n,[s]):o}function Qee(t){return t.filter(T8e).map(vHt).filter(n=>!Wd(n))}function NL(t={}){const n={};return!t.valuesKey&&!t.valuesExpression&&(n.values=[{label:"Value",value:"value"}]),{...n,...t}}function vHt(t){if(Zee(t))return{value:t,label:`${t}`};if(si(t)){const n=function bHt(t){return t&&Or(t)}(t.label);if(!n&&Zee(t.value))return{value:t.value,label:`${t.value}`};if(n&&T8e(t.value))return t}return null}function Zee(t){return["number","string","boolean"].includes(typeof t)&&(t||0===t||!1===t)}function T8e(t){return si(t)?Object.keys(t).length>0:Zee(t)}function SP(t){const n=vs("expressionLanguage"),i=il(a0);return zr(()=>Xee(n,t,i),[n,i,t])}function d5(t){const n=Ds();return n5()(t,n.current)||(n.current=t),n.current}function OP(t){const{valuesExpression:n,valuesKey:i,values:s}=t,o=vs("form")._getState().initialData,l=d5(SP(n)||[]);return zr(()=>{let u=[];if(void 0!==i){const d=(o||{})[i];d&&Array.isArray(d)&&(u=d)}else if(void 0!==s)u=Array.isArray(s)?s:[];else{if(!(n&&l&&Array.isArray(l)))return _Ht("No options source defined in the form definition");u=l}return EHt(Qee(u))},[i,s,o,n,l])}const _Ht=t=>({options:[],error:t,loadState:"error"}),EHt=t=>({options:t,error:void 0,loadState:"loaded"}),P8e=t=>{const{html:n,transform:i=c=>c,sanitize:s=!0,sanitizeStyleTags:o=!0}=t,a=zr(()=>s?Vjt.sanitize(n,xHt(o)):n,[n,s,o]);return{__html:zr(()=>i(a),[a,i])}},xHt=t=>({FORCE_BODY:!0,FORBID_TAGS:t?["style"]:[]});function Jee(t){const n=zr(()=>Object.assign({},...t.map(i=>({[D8e(i.value)]:i.label}))),[t]);return oi(i=>n[D8e(i)],[n])}const D8e=t=>si(t)?JSON.stringify(t):t;function tte(t,n,i=window){function s({key:o}){o===t&&n()}Bi(()=>(i.addEventListener("keydown",s),()=>{i.removeEventListener("keydown",s)}))}function k8e(t,n=null){const i=Ds(n);return Bi(()=>i.current=t,[t]),i.current}function nte(t){const n=Ds(null),i=Ds(null),s=vs("config",!1),o=s&&s.debounce,a=!1!==o&&0!==o,l="number"==typeof o?o:300;return[oi((...d)=>{a?(i.current=d,n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{t(...i.current),i.current=null},l)):t(...d)},[t,l,a]),oi(()=>{n.current&&(clearTimeout(n.current),null!==i.current&&(t(...i.current),i.current=null),n.current=null)},[t])]}function rte(t,n={}){const i=vs("templating"),s=il(a0);return zr(()=>i&&i.isTemplate(t)?i.evaluate(t,u5(s),n):t,[i,t,s,n])}function If(t,n={}){const i=rte(t,n);return zr(()=>i&&i.split("\n")[0],[i])}const M8e=new KeyboardEvent("keydown",{code:"Enter",key:"Enter",charCode:13,keyCode:13,bubbles:!0});function A8e(t){if(!t)return;!t.isOpen&&t.open();const n=t.calendarContainer,i=n.querySelector(".flatpickr-day.selected")||n.querySelector(".flatpickr-day.today")||n.querySelector(".flatpickr-day");i&&i.focus()}function ite(t,n){if(null===n)return null;const i=n%1440,s=n%60;let o=Math.floor(i/60);if(t)return Rf(o)+":"+Rf(s);o=o%12||12;const a=i>=720;return Rf(o)+":"+Rf(s)+" "+(a?"PM":"AM")}function I8e(t){let n=t.toLowerCase();if(n.includes("am")||n.includes("pm")){const s=n.includes("pm"),o=n.match(/\d+/g),a=parseInt(o&&o[0]),l=parseInt(o&&o[1])||0;return Ln(a)&&a>=1&&a<=12&&l>=0&&l<=59?60*(a%12+(s?12:0))+l:null}{const s=n.match(/\d+/g),o=parseInt(s&&s[0]),a=parseInt(s&&s[1]),l=Ln(o)&&o>=0&&o<=23,c=Ln(a)&&a>=0&&a<=59;return l&&c?60*o+a:null}}function R8e(t,n,i){if("utc_normalized"===i){const a=(t+n+Ym)%Ym;return Rf(Math.floor(a/60))+":"+Rf(a%60)+"Z"}return Rf(Math.floor(t/60))+":"+Rf(t%60)+("utc_offset"===i?function $Ht(t){return function VHt(t){return t>0?"-"+Rf(Math.floor(t/60)):"+"+Rf(Math.floor((0-t)/60))}(t)+":"+Rf(Math.abs(t%60))}(n):"")}function N8e(t){if(!t)return null;const n=s=>{const o=s.split(":"),a=parseInt(o[0]),l=o.length>1?parseInt(o[1]):0;return isNaN(a)||a<0||a>24||isNaN(l)||l<0||l>60?null:60*a+l},i=(new Date).getTimezoneOffset();if(t.includes("Z")){const s=n(t=t.replace("Z",""));return null===s?null:(s-i+Ym)%Ym}if(t.includes("+")){const[s,o]=t.split("+"),a=n(s);let l=n(o);return null===a||null===l?null:(l=-l,(a+l-i+Ym)%Ym)}if(t.includes("-")){const[s,o]=t.split("-"),a=n(s);let l=n(o);return null===a||null===l?null:(a+l-i+Ym)%Ym}return n(t)}function L8e(t){return Er.fromJSDate(t).toISODate()}function F8e(t){return isNaN(new Date(Date.parse(t)).getTime())}function B8e(){return{date:new Date(Date.parse(null)),time:null}}function TP(t){return t&&!isNaN(t.getTime())}function LL(t){return!isNaN(parseInt(t))}function Rf(t){return t.toString().padStart(2,"0")}const jHt=/^(https?|data):.*/i,zHt=/^(https):\/\/*/i;function $y(t,n){return!!Array.isArray(n)&&n.some(i=>n5()(t,i))}function $8e(t){const{formField:n,data:i,value:s}=t,{valuesExpression:o}=n;try{return o||$y(s,Qee(O8e(n,i)).map(l=>l.value))?s:null}catch{return null}}function V8e(t){const{formField:n,data:i,value:s}=t,{valuesExpression:o}=n;try{if(o)return s;const a=Qee(O8e(n,i)).map(l=>l.value);return s.filter(l=>$y(l,a))}catch{return[]}}function WHt(t){const n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","{":"&#123;","}":"&#125;",":":"&#58;",";":"&#59;"};return t.replace(/[&<>"'{};:]/g,i=>n[i])}function ste(t){const{field:n,options:i,loadState:s,onChange:o,value:a}=t;Bi(()=>{if("loaded"!==s)return;const l=i.map(u=>u.value);a&&!$y(a,l)&&o({field:n,value:null})},[n,i,o,a,s])}function j8e(t){const{field:n,options:i,loadState:s,onChange:o,values:a}=t,l=d5(a||[]);Bi(()=>{if("loaded"!==s)return;const c=i.map(d=>d.value);l.some(d=>!$y(d,c))&&o({field:n,value:l.filter(d=>$y(d,c))})},[n,i,o,l,s])}function H8e(t){const{disabled:n,onFocus:i,onBlur:s,field:o}=t,{action:a="submit"}=o,l=If(o.label||"",{debug:!0});return Te("div",{class:ra("button"),children:Te("button",{class:"fjs-button",type:a,disabled:n,onFocus:()=>i&&i(),onBlur:()=>s&&s(),children:l})})}function Qm(t){const{description:n,id:i}=t,s=If(n||"",{debug:!0});return s?Te("div",{id:i,class:"fjs-form-field-description",children:s}):null}function Ru(t){const{errors:n,id:i}=t;return n.length?Te("div",{class:"fjs-form-field-error","aria-live":"polite",id:i,children:Te("ul",{children:n.map((s,o)=>Te("li",{children:s},o))})}):null}function hl(t){const{id:n,htmlFor:i,label:s,collapseOnEmpty:o=!0,required:a=!1}=t,l=If(s||"",{debug:!0});return Te("label",{id:n,htmlFor:i,class:rr()("fjs-form-field-label",{"fjs-incollapsible-label":!o},t.class),children:[t.children,l,a&&Te("span",{class:"fjs-asterix","aria-hidden":!0,children:"*"})]})}function q8e(t){const{disabled:n,errors:i=[],domId:s,onBlur:o,onFocus:a,field:l,readonly:c,value:u=!1}=t,{description:d,label:p,validate:f={}}=l,{required:h}=f,y=`${s}-description`,E=`${s}-error-message`;return Te("div",{class:rr()(ra("checkbox",{errors:i,disabled:n,readonly:c}),{"fjs-checked":u}),children:[Te("div",{class:"fjs-inline-label",children:[Te("input",{checked:u,class:"fjs-input",disabled:n,readOnly:c,id:s,type:"checkbox",onChange:({target:_})=>{t.onChange({value:_.checked})},onBlur:()=>o&&o(),onFocus:()=>a&&a(),required:h,"aria-invalid":i.length>0,"aria-describedby":[y,E].join(" ")}),Te(hl,{htmlFor:s,label:p,required:h})]}),Te(Qm,{id:y,description:d}),Te(Ru,{id:E,errors:i})]})}function G8e(t){const{disabled:n,errors:i=[],domId:s,onBlur:o,onFocus:a,field:l,readonly:c,value:u=[]}=t,{description:d,label:p,validate:f={}}=l,h=Ds(),{required:m}=f,E=x=>{h.current.contains(x.relatedTarget)||o&&o()},_=x=>{h.current.contains(x.relatedTarget)||a&&a()},{loadState:S,options:v}=OP(l);j8e({field:l,loadState:S,options:v,values:u,onChange:t.onChange});const w=`${s}-description`,g=`${s}-error-message`;return Te("div",{class:rr()(ra("checklist",{errors:i,disabled:n,readonly:c})),ref:h,children:[Te(hl,{label:p,required:m}),"loaded"==S&&v.map((x,T)=>{const I=`${s}-${T}`,A=$y(x.value,u);return Te("div",{className:rr()("fjs-inline-label",{"fjs-checked":A}),children:[Te("input",{checked:A,class:"fjs-input",disabled:n,readOnly:c,id:I,type:"checkbox",onClick:()=>(x=>{const T=$y(x,u)?u.filter(I=>!n5()(I,x)):[...u,x];t.onChange({value:T})})(x.value),onBlur:E,onFocus:_,required:m,"aria-invalid":i.length>0,"aria-describedby":[w,g].join(" ")}),Te(hl,{htmlFor:I,label:x.label,required:!1})]},x.value)}),Te(Qm,{id:w,description:d}),Te(Ru,{id:g,errors:i})]})}H8e.config={type:"button",keyed:!1,name:"Button",group:"action",create:(t={})=>({label:"Button",action:"submit",...t})},q8e.config={type:"checkbox",keyed:!0,name:"Checkbox",group:"selection",emptyValue:!1,sanitizeValue:({value:t})=>!0===t,create:(t={})=>({label:"Checkbox",...t})},G8e.config={type:"checklist",keyed:!0,name:"Checkbox group",group:"selection",emptyValue:[],sanitizeValue:V8e,create:(t={})=>({label:"Checkbox group",...NL(t)})};const ote=()=>!1,GHt=new Yd([32,36,1]);function K8e(t){const n=Ds(GHt.next()),{field:i,indexes:s,onChange:o}=t,a=vs("formFields"),l=vs("viewerCommands",!1),c=vs("formFieldInstanceRegistry",!1),u=vs("pathRegistry"),d=vs("eventBus"),p=vs("form"),{initialData:f,data:h,errors:m,properties:y}=p._getState(),{Element:E,Hidden:_,Column:S}=il(c5),{formId:v}=il(CP),[w,g]=Ci(!!l),x=a.get(i.type);if(!x)throw new Error(`cannot render field <${i.type}>`);const T=x.config,I=il(a0),A=zr(()=>u.getValuePath(i,{indexes:s}),[i,s,u]),$=zr(()=>Ja(f,A),[f,A]),z=function NHt(t,n={}){const i=vs("expressionLanguage"),s=vs("conditionChecker",!1),o=il(a0),{readonly:a}=t;return!!n.readOnly||(i&&i.isExpression(a)?!!s&&s.check(a,u5(o)):a||!1)}(i,y),K=Ja(h,A),U=!y.readOnly&&(y.disabled||i.disabled||!1),H=function yHt(t){const n=vs("conditionChecker",!1),i=il(a0);return zr(()=>n?n.check(t,u5(i)):null,[n,t,i])}(i.conditional&&i.conditional.hide||null),me=zr(()=>c?c.syncInstance(n.current,{id:i.id,expressionContextInfo:I,valuePath:A,value:K,indexes:s,hidden:H}):null,[c,i.id,I,A,K,s,H]),Re=me?c.get(me):null;Bi(()=>{const Pe=n.current;if(c)return()=>c.cleanupInstance(Pe)},[c]),Bi(()=>{if(!l)return;const Pe=()=>{g(!0)};return d.on("import.done",Pe),d.on("reset",Pe),()=>{d.off("import.done",Pe),d.off("reset",Pe)}},[d,l]),Bi(()=>{const Pe=$&&!n5()($,[]);w&&Pe&&Re&&(g(!1),l.updateFieldInstanceValidation(Re,$))},[Re,w,$,l]);const De=oi(()=>{const Pe=Ja(h,A);w&&(g(!1),l.updateFieldInstanceValidation(Re,Pe)),d.fire("formField.blur",{formField:i})},[h,d,i,Re,w,A,l]),ye=oi(()=>{d.fire("formField.focus",{formField:i})},[d,i]),at=oi(Pe=>{g(!1),o({field:i,indexes:s,fieldInstance:Re,...Pe})},[o,i,Re,s]);if(H)return Te(_,{field:i});const _e=`${l5(i.id,v,s)}`,be=Ja(m,[i.id,...Object.values(s||{})])||[],ke=Te(x,{...t,disabled:U,errors:be,domId:_e,onChange:U||z?ote:at,onBlur:U||z?ote:De,onFocus:U||z?ote:ye,readonly:z,value:K,fieldInstance:Re});return T.escapeGridRender?ke:Te(S,{field:i,class:dHt(i),children:Te(E,{class:"fjs-element",field:i,children:ke})})}function ate(t){const{Children:n}=il(c5),{field:i,Empty:s}=t,{id:o}=i,a=vs("repeatRenderManager",!1),l=a&&a.isFieldRepeating(o),c=a.Repeater,u=a.RepeatFooter;return l?Te(YHt,{...t,ChildrenRoot:n,Empty:s,Repeater:c,RepeatFooter:u,repeatRenderManager:a}):Te(KHt,{...t,ChildrenRoot:n,Empty:s})}function KHt(t){const{ChildrenRoot:n,Empty:i,field:s}=t,{components:o=[]}=s,a=!o.length;return Te(n,{class:"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed",field:s,children:[Te(lte,{...t}),a?Te(i,{field:s}):null]})}function YHt(t){const{ChildrenRoot:n,repeatRenderManager:i,Empty:s,field:o,...a}=t,{components:l=[]}=o,c=Ci({isCollapsed:!0}),u=i.Repeater,d=i.RepeatFooter;return Te(wa,{children:[Te(n,{class:"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed",field:o,children:[u?Te(u,{...a,useSharedState:c,field:o,RowsRenderer:lte}):Te(lte,{...a,field:o}),l.length?null:Te(s,{field:o})]}),d?Te(d,{...a,useSharedState:c,field:o}):null]})}function lte(t){const{field:n,indexes:i}=t,{id:s,verticalAlignment:o="start"}=n,a=vs("formLayouter"),l=vs("formFieldRegistry"),c=a.getRows(s),{Row:u}=il(c5);return Te(wa,{children:[" ",c.map(d=>{const{components:p=[]}=d;return p.length?Te(u,{row:d,class:"fjs-layout-row cds--row",style:{alignItems:o},children:p.map(f=>{const h=l.get(f);return h?Qt(K8e,{...t,key:f,field:h,indexes:i}):null})},d.id):null})," "]})}function Y8e(t){const{Empty:n}=il(c5);return Te(ate,{...{...t,Empty:n}})}var X8e;function cte(){return cte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},cte.apply(null,arguments)}Y8e.config={type:"default",keyed:!1,label:null,group:null,create:(t={})=>({components:[],...t}),getSubheading:t=>t.id};var Z8e,J8e,XHt=function(n){return Qt("svg",cte({xmlns:"http://www.w3.org/2000/svg",width:14,height:15,fill:"none",viewBox:"0 0 28 30"},n),X8e||(X8e=Qt("path",{fill:"currentColor",fillRule:"evenodd",d:"M19 2H9V0H7v2H2a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-5V0h-2zM7 7V4H2v5h24V4h-5v3h-2V4H9v3zm-5 4v17h24V11z",clipRule:"evenodd"})))};function Q8e(t="default"){return new Intl.DateTimeFormat(t).formatToParts(new Date(Date.UTC(2020,5,5))).map(i=>{const s=i.value.length;switch(i.type){case"day":return"d".repeat(s);case"month":return"M".repeat(s);case"year":return"y".repeat(s);default:return i.value}}).join("")}function QHt(t){let n=Q8e(t).toLowerCase();return n.includes("mm")||(n=n.replace("m","mm")),n.includes("dd")||(n=n.replace("d","dd")),n}function ZHt(t){return function JHt(t){const n_day=t.includes("dd"),n_month=t.includes("MM"),n_year=t.includes("yyyy");return t=n_day?t.replace("dd","d"):t.replace("d","j"),t=n_month?t.replace("MM","m"):t.replace("M","n"),t=n_year?t.replace("yyyy","Y"):t.replace("yy","y")}(Q8e(t))}function ute(t){const{pre:n,post:i,rootRef:s,inputRef:o,children:a,disabled:l,readonly:c,hasErrors:u}=t,d=()=>o&&o.current&&o.current.focus();return Te("div",{class:rr()("fjs-input-group",{"fjs-disabled":l,"fjs-readonly":c},{hasErrors:u}),ref:s,children:[n&&Te("span",{class:"fjs-input-adornment border-right border-radius-left",onClick:d,children:[" ",Or(n)?Te("span",{class:"fjs-input-adornment-text",children:n}):n," "]}),a,i&&Te("span",{class:"fjs-input-adornment border-left border-radius-right",onClick:d,children:[" ",Or(i)?Te("span",{class:"fjs-input-adornment-text",children:i}):i," "]})]})}function eUt(t){const{label:n,domId:i,collapseLabelOnEmpty:s,onDateTimeBlur:o,onDateTimeFocus:a,required:l,disabled:c,disallowPassedDates:u,date:d,readonly:p,setDate:f}=t,h=Ds(),m=Ds(),[y,E]=Ci(null),[_,S]=Ci(!1),[v,w]=Ci(!1),g=d5(d);Bi(()=>{!y||!y.config||(y.setDate(g,!0),S(!1))},[y,g]),Bi(()=>{v&&(A8e(y),w(!1))},[y,v]),Bi(()=>{let A={allowInput:!0,dateFormat:ZHt(),static:!0,clickOpens:!1,minDate:u?"today":"01/01/1900",errorHandler:()=>{}};const $=$Vt(h.current,A);E($);const z=U=>{!$.calendarContainer.contains(U.relatedTarget)&&U.relatedTarget!=h.current&&$.close()},K=U=>{U.target.classList.contains("flatpickr-day")&&S(!1)};$.config.onOpen=[()=>$.calendarContainer.addEventListener("focusout",z),()=>$.calendarContainer.addEventListener("mousedown",K)],$.config.onClose=[()=>$.calendarContainer.removeEventListener("focusout",z),()=>$.calendarContainer.removeEventListener("mousedown",K)]},[u]),Bi(()=>{!y||!y.config||(y.config.onChange=[A=>f(new Date(A)),()=>S(!1)])},[y,f]);const x=oi(A=>{y&&("Escape"===A.code&&y.close(),"ArrowDown"===A.code&&(_?(h.current.dispatchEvent(M8e),S(!1),w(!0)):A8e(y),A.preventDefault()),"Enter"===A.code&&S(!1))},[y,_]),T=oi(A=>{!y||m.current.contains(A.relatedTarget)||p||(y.open(),a(A))},[y,p,a]),I=oi(A=>{A.relatedTarget&&A.relatedTarget.classList.contains("flatpickr-day")||(_&&(h.current.dispatchEvent(M8e),S(!1)),o(A))},[_,o]);return Te("div",{class:"fjs-datetime-subsection",children:[Te(hl,{htmlFor:i,label:n,collapseOnEmpty:s,required:l}),Te(ute,{pre:Te(XHt,{}),disabled:c,readonly:p,rootRef:m,inputRef:h,children:Te("div",{class:"fjs-datepicker",style:{width:"100%"},children:Te("input",{ref:h,type:"text",id:i,class:"fjs-input",disabled:c,readOnly:p,placeholder:QHt(),autoComplete:"off",onFocus:T,onBlur:I,onKeyDown:x,onMouseDown:()=>!y.isOpen&&!p&&y.open(),onInput:()=>S(!0),"data-input":!0,"aria-describedby":t["aria-describedby"]})})})]})}function dte(){return dte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},dte.apply(null,arguments)}var tUt=function(n){return Qt("svg",dte({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 28 29"},n),Z8e||(Z8e=Qt("path",{fill:"currentColor",d:"M13 14.41 18.59 20 20 18.59l-5-5.01V5h-2z"})),J8e||(J8e=Qt("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.222 25.64A14 14 0 1 0 21.778 2.36 14 14 0 0 0 6.222 25.64M7.333 4.023a12 12 0 1 1 13.334 19.955A12 12 0 0 1 7.333 4.022Z",clipRule:"evenodd"})))};const nUt=t=>t,rUt=()=>{};function FL(t){const{listenerElement:n=window,values:i=[],getLabel:s=nUt,onValueSelected:o=rUt,height:a=235,emptyListMessage:l="No results",initialFocusIndex:c=0}=t,[u,d]=Ci(!1),[p,f]=Ci(c),[h,m]=Ci(!1),y=Ds(),E=Ds(),_=zr(()=>i.length?i[p]:null,[p,i]),S=oi(w=>{f(g=>Math.min(Math.max(0,g+w),i.length-1))},[i.length]);return Bi(()=>{0!==p&&(p&&i.length?p>=i.length&&f(i.length-1):f(0))},[p,i.length]),tte("ArrowUp",()=>{i.length&&(S(-1),d(!1))},n),tte("ArrowDown",()=>{i.length&&(S(1),d(!1))},n),tte("Enter",()=>{_&&o(_)},n),Bi(()=>{const w=y.current.children;if(w.length&&!u){const g=w[p];g&&g.scrollIntoView({block:"nearest",inline:"nearest"})}},[p,u]),Bi(()=>{m(!0)},[]),Te("div",{ref:y,tabIndex:-1,class:"fjs-dropdownlist",onMouseDown:w=>w.preventDefault(),style:{maxHeight:a,scrollBehavior:h?"smooth":"auto"},children:[i.length>0&&i.map((w,g)=>Te("div",{class:rr()("fjs-dropdownlist-item",{focused:p===g}),onMouseMove:u?void 0:x=>((w,g)=>{(!E.current||E.current.x!==w.screenX&&E.current.y!==w.screenY)&&(E.current={x:w.screenX,y:w.screenY},d(!0),f(g))})(x,g),onMouseEnter:u?()=>f(g):void 0,onMouseDown:x=>o(w),children:s(w)},w.value)),!i.length&&Te("div",{class:"fjs-dropdownlist-empty",children:l})]})}function iUt(t){const{label:n,collapseLabelOnEmpty:i,onDateTimeBlur:s,onDateTimeFocus:o,domId:a,required:l,disabled:c,readonly:u,use24h:d=!1,timeInterval:p,time:f,setTime:h}=t,m=zr(()=>[1,5,10,15,30,60].includes(p)?p:15,[p]),y=Ds(),[E,_]=Ci(!1),S=zr(()=>1!==m,[m]),[v,w]=Ci("");Bi(()=>{if(null===f)return void w("");const K=f-f%m;w(ite(d,K)),K!=f&&h(K)},[f,h,d,m]);const g=oi(K=>{const U=K||v;if(!U)return void h(null);const H=I8e(U);if(!Ln(H))return w(""),void h(null);const me=H-H%m;w(ite(d,me)),h(me)},[v,m,d,h]),x=zr(()=>{const U=Math.floor(1440/m);return[...Array(U).keys()].map(H=>ite(d,H*m))},[m,d]),T=zr(()=>{if(!x||!m)return null;if(f)return f/m;const K=I8e(v);return K?(K-K%m)/m:Math.floor(x.length/2)},[v,f,m,x]);return Te("div",{class:"fjs-datetime-subsection",children:[Te(hl,{htmlFor:a,label:n,collapseOnEmpty:i,required:l}),Te(ute,{pre:Te(tUt,{}),inputRef:y,disabled:c,readonly:u,children:Te("div",{class:"fjs-timepicker fjs-timepicker-anchor",children:[Te("input",{ref:y,type:"text",id:a,class:"fjs-input",value:v,disabled:c,readOnly:u,placeholder:d?"hh:mm":"hh:mm --",autoComplete:"off",onInput:K=>{w(K.target.value),S&&_(!1)},onBlur:K=>{_(!1),g(),s(K)},onFocus:K=>{o(K),!u&&S&&_(!0)},onClick:()=>!u&&S&&_(!0),onKeyDown:K=>{switch(K.key){case"ArrowUp":K.preventDefault();break;case"ArrowDown":S&&_(!0),K.preventDefault();break;case"Escape":S&&_(!1);break;case"Enter":!E&&g()}},"data-input":!0,"aria-describedby":t["aria-describedby"]}),E&&Te(FL,{values:x,height:150,onValueSelected:K=>{_(!1),g(K)},listenerElement:y.current,initialFocusIndex:T})]})})]})}function t7e(t){const{disabled:n,errors:i=[],domId:s,onBlur:o,onFocus:a,field:l,onChange:c,readonly:u,value:d=""}=t,{description:p,id:f,dateLabel:h,timeLabel:m,validate:y={},subtype:E,use24h:_,disallowPassedDates:S,timeInterval:v,timeSerializingFormat:w}=l,{required:g}=y,{formId:x}=il(CP),T=Ds(),[I,A]=Ci(B8e()),[$,z]=Ci(null),K=zr(()=>"date"===E||"datetime"===E,[E]),U=zr(()=>"time"===E||"datetime"===E,[E]),H=oi(Y=>{Y.relatedTarget&&T.current.contains(Y.relatedTarget)||o&&o()},[o]),me=oi(Y=>{Y.relatedTarget&&T.current.contains(Y.relatedTarget)||a&&a()},[a]);Bi(()=>{let{date:Y,time:ie}=B8e();switch(E){case"date":Y="string"==typeof d?Er.fromISO(d).toJSDate():new Date(NaN);break;case"time":ie=N8e(d);break;case"datetime":Y=new Date(Date.parse(d)),ie=TP(Y)?60*Y.getHours()+Y.getMinutes():null}A({date:Y,time:ie})},[E,d]);const Re=oi(({date:Y,time:ie})=>{let se=null;"date"===E&&TP(Y)?se=L8e(Y):"time"===E&&LL(ie)?se=R8e(ie,(new Date).getTimezoneOffset(),w):"datetime"===E&&TP(Y)&&LL(ie)&&(se=function BHt(t,n,i){const s=new Date;if(s.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),s.setHours(Math.floor(n/60),n%60,0,0),"utc_normalized"===i){const o=s.getTimezoneOffset(),a=n+o<0?-1:n+o>Ym?1:0;s.setHours(s.getHours()+24*a)}return L8e(s)+"T"+R8e(n,s.getTimezoneOffset(),i)}(Y,ie,w)),d!==se&&c({value:se,field:l})},[d,l,c,E,w]);Bi(()=>{if($){if($.refreshOnly)Re(I);else{const Y={...I,...$};A(Y),Re(Y)}z(null)}},[Re,I,$]),Bi(()=>{z({refreshOnly:!0})},[w]);const De=zr(()=>g||"datetime"!==E?i:TP(I.date)&&!LL(I.time)||!TP(I.date)&&LL(I.time)?["Date and time must both be entered.",...i]:i,[g,E,I,i]),ye=oi(Y=>{z(ie=>ie?{...ie,date:Y}:{date:Y})},[]),at=oi(Y=>{z(ie=>ie?{...ie,time:Y}:{time:Y})},[]),_e=0===De.length?void 0:`${l5(f,x)}-error-message`,be=`${l5(f,x)}-description`,ke={label:h,collapseLabelOnEmpty:!m,onDateTimeBlur:H,onDateTimeFocus:me,domId:`${s}-date`,required:g,disabled:n,disallowPassedDates:S,date:I.date,readonly:u,setDate:ye,"aria-describedby":[be,_e].join(" ")},Pe={label:m,collapseLabelOnEmpty:!h,onDateTimeBlur:H,onDateTimeFocus:me,domId:`${s}-time`,required:g,disabled:n,readonly:u,use24h:_,timeInterval:v,time:I.time,setTime:at,"aria-describedby":[be,_e].join(" ")};return Te("div",{class:ra("datetime",{errors:De,disabled:n,readonly:u}),children:[Te("div",{class:rr()("fjs-vertical-group"),ref:T,children:[K&&Te(eUt,{...ke}),U&&K&&Te("div",{class:"fjs-datetime-separator"}),U&&Te(iUt,{...Pe})]}),Te(Qm,{id:be,description:p}),Te(Ru,{errors:De,id:_e})]})}function n7e(t){const{field:n,domId:i}=t,{label:s,type:o,showOutline:a}=n,{Empty:l}=il(c5),c={...t,Empty:l};return Te("div",{className:rr()(ra(o),"fjs-form-field-grouplike",{"fjs-outlined":a}),role:"group","aria-labelledby":i,children:[Te(hl,{id:i,label:s}),Te(ate,{...c})]})}t7e.config={type:"datetime",keyed:!0,name:"Date time",group:"basic-input",emptyValue:null,sanitizeValue:function HHt(t){const{formField:n,value:i}=t,{subtype:s}=n;return"string"!=typeof i||"date"===s&&(F8e(i)||!function FHt(t){return!(!t||"string"!=typeof t||t.includes("T")||3!=t.split("-").length)}(i))||"time"===s&&null===N8e(i)||"datetime"===s&&(F8e(i)||!function LHt(t){if(!t||"string"!=typeof t)return!1;const n=t.split("T");return!(2!=n.length||3!=n[0].split("-").length)}(i))?null:i},create:(t={},n)=>{const i={};return gh(i,sHt,"date"),n&&gh(i,oHt,"Date"),{...i,...t}},getSubheading:t=>t.dateLabel||t.timeLabel},n7e.config={type:"group",pathed:!0,name:"Group",group:"container",create:(t={})=>({label:"Group",components:[],showOutline:!0,...t})};const sUt=300;function i7e(t){const{field:n,disabled:i,readonly:s,domId:o}=t,{height:a=sUt,label:l,url:c,security:u={}}=n,d=If(c,{debug:!0}),p=zr(()=>function qHt(t){return zHt.test(t)?t:""}(d),[d]),f=If(l,{debug:!0}),[h,m]=function wHt(t){const n=d5(t);return[zr(()=>S8e.filter(({attribute:o})=>o===Xm).filter(({property:o})=>Ja(n,[o],!1)).map(({directive:o})=>o).join(" "),[n]),zr(()=>S8e.filter(({attribute:o})=>o!==Xm).filter(({property:o})=>Ja(n,[o],!1)).map(({directive:o})=>o).join("; "),[n])]}(u),[y,E]=Ci(0);return Bi(()=>{E(_=>_+1)},[h,m]),Te("div",{class:ra("iframe",{disabled:i,readonly:s}),children:[Te(hl,{htmlFor:o,label:f}),!d&&Te(s7e,{text:"No content to show."}),d&&p&&Te("iframe",{src:p,title:f,height:a,class:"fjs-iframe",id:o,sandbox:h,allow:m},"iframe-"+y),d&&!p&&Te(s7e,{text:"External content couldn't be loaded."})]})}function s7e(t){const{text:n="iFrame"}=t;return Te("div",{class:"fjs-iframe-placeholder",children:Te("p",{class:"fjs-iframe-placeholder-text",children:n})})}var o7e;function pte(){return pte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},pte.apply(null,arguments)}i7e.config={type:"iframe",keyed:!1,name:"iFrame",group:"container",create:(t={})=>({label:"iFrame",security:{allowScripts:!0},...t})};var a7e,oUt=function(n){return Qt("svg",pte({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},n),o7e||(o7e=Qt("path",{fillRule:"evenodd",d:"M45 17a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V20a3 3 0 0 1 3-3zm-9 8.889H18v2.222h18z"})))};function fte(){return fte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},fte.apply(null,arguments)}var l7e,aUt=function(n){return Qt("svg",fte({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},n),a7e||(a7e=Qt("path",{d:"M34 18H20a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V20a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L25 29.17l7.59-7.59L34 23z"})))};function hte(){return hte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},hte.apply(null,arguments)}var c7e,u7e,d7e,lUt=function(n){return Qt("svg",hte({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},n),l7e||(l7e=Qt("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.35 24.75H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414M14.35 37.05H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414M14.35 12.45H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414m12.007 14.977a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293m0 12.3a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293m0-24.6a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293",clipRule:"evenodd"})))};function mte(){return mte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},mte.apply(null,arguments)}var p7e,f7e,cUt=function(n){return Qt("svg",mte({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},n),c7e||(c7e=Qt("path",{fillRule:"evenodd",d:"M37.908 13.418h-5.004v-2.354h-1.766v2.354H21.13v-2.354h-1.766v2.354H14.36a2.07 2.07 0 0 0-2.06 2.06v23.549a2.07 2.07 0 0 0 2.06 2.06h6.77v-1.766h-6.358a.707.707 0 0 1-.706-.706V15.89c0-.39.316-.707.706-.707h4.592v2.355h1.766v-2.355h10.008v2.355h1.766v-2.355h4.592a.71.71 0 0 1 .707.707v6.358h1.765v-6.77c0-1.133-.927-2.06-2.06-2.06"})),u7e||(u7e=Qt("path",{d:"m35.13 37.603 1.237-1.237-3.468-3.475v-5.926h-1.754v6.654l3.984 3.984Z"})),d7e||(d7e=Qt("path",{fillRule:"evenodd",d:"M23.08 36.962a9.678 9.678 0 1 0 17.883-7.408 9.678 9.678 0 0 0-17.882 7.408Zm4.54-10.292a7.924 7.924 0 1 1 8.805 13.177A7.924 7.924 0 0 1 27.62 26.67"})))};function gte(){return gte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},gte.apply(null,arguments)}var h7e,m7e,g7e,uUt=function(n){return Qt("svg",gte({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},n),p7e||(p7e=Qt("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1"})),f7e||(f7e=Qt("path",{d:"M11 22a1 1 0 0 1 1-1h19a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H12a1 1 0 0 1-1-1z"})))};function yte(){return yte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},yte.apply(null,arguments)}var y7e,dUt=function(n){return Qt("svg",yte({xmlns:"http://www.w3.org/2000/svg",width:54,height:54},n),h7e||(h7e=Qt("rect",{width:24,height:4,x:15,y:17,rx:1})),m7e||(m7e=Qt("rect",{width:24,height:4,x:15,y:25,rx:1})),g7e||(g7e=Qt("rect",{width:13,height:4,x:15,y:33,rx:1})))};function vte(){return vte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},vte.apply(null,arguments)}var b7e,v7e=function(n){return Qt("svg",vte({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},n),y7e||(y7e=Qt("path",{fill:"#000",fillRule:"evenodd",d:"M4.05 42.132v1.164c0 .693.604 1.254 1.35 1.254h1.35v-2.507h-2.7v.09Zm0-2.328h2.7v-2.328h-2.7zm0-4.656h2.7V32.82h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656v.09h2.7V9.45H5.4c-.746 0-1.35.561-1.35 1.254zm5.4-2.418v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7v-1.253c0-.693-.604-1.254-1.35-1.254zm2.7 4.746h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656v-.09h-2.7v2.508h1.35c.746 0 1.35-.561 1.35-1.254zm-5.4 2.418v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507z",clipRule:"evenodd"})))};function bte(){return bte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},bte.apply(null,arguments)}var _7e,pUt=function(n){return Qt("svg",bte({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},n),b7e||(b7e=Qt("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1M35 28.444h7l-3.5 4zM35 26h7l-3.5-4z"})))};function _te(){return _te=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},_te.apply(null,arguments)}var E7e,fUt=function(n){return Qt("svg",_te({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},n),_7e||(_7e=Qt("path",{d:"M27 22c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0-5c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10m0 18a8 8 0 1 1 0-16 8 8 0 1 1 0 16"})))};function Ete(){return Ete=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Ete.apply(null,arguments)}var x7e,hUt=function(n){return Qt("svg",Ete({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},n),E7e||(E7e=Qt("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1m-12 7h9l-4.5 6z"})))};function xte(){return xte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},xte.apply(null,arguments)}var w7e,mUt=function(n){return Qt("svg",xte({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},n),x7e||(x7e=Qt("path",{fill:"currentColor",d:"M26.293 16.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 18.414l-3.293 3.293a1 1 0 0 1-1.414-1.414zM9 26h36v2H9zm13.293 7.707 4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 35.586l-3.293-3.293a1 1 0 0 0-1.414 1.414"})))};function wte(){return wte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},wte.apply(null,arguments)}var C7e,gUt=function(n){return Qt("svg",wte({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},n),w7e||(w7e=Qt("path",{fill:"currentColor",d:"M9 15v2h36v-2zm0 22v2h36v-2zm17.293-17.707a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 21.414l-3.293 3.293a1 1 0 0 1-1.414-1.414zm-4 11.414 4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 32.586l-3.293-3.293a1 1 0 0 0-1.414 1.414"})))};function Cte(){return Cte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Cte.apply(null,arguments)}var S7e,yUt=function(n){return Qt("svg",Cte({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},n),C7e||(C7e=Qt("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.7 43.296v1.254c0 .746.604 1.35 1.35 1.35h1.275v-1.795q.074.211.075.445v-1.254h-.075V43.2H4.05c.177 0 .347.034.502.096zm2.7-2.507v-2.507H2.7v2.507zm0-5.014v-2.507H2.7v2.507zm0-5.014v-2.507H2.7v2.507zm0-5.015V23.24H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507zm0-5.014V13.21H2.7v2.507zm-2.7-5.014h1.852a1.4 1.4 0 0 1-.502.096h1.275v-.096H5.4V9.45q0 .235-.075.445V8.1H4.05A1.35 1.35 0 0 0 2.7 9.45zm5.175.096h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1-2.7v1.795a1.4 1.4 0 0 1-.075-.445v1.254h.075v.096h1.275a1.4 1.4 0 0 1-.502-.096H51.3V9.45a1.35 1.35 0 0 0-1.35-1.35zm-.075 5.11v2.508h2.7V13.21zm0 5.015v2.507h2.7v-2.507zm0 5.014v2.507h2.7V23.24zm0 5.015v2.507h2.7v-2.507zm0 5.014v2.507h2.7v-2.507zm0 5.014v2.507h2.7v-2.507zm2.7 5.014h-1.852a1.4 1.4 0 0 1 .502-.096h-1.275v.096H48.6v1.254q0-.235.075-.445V45.9h1.275a1.35 1.35 0 0 0 1.35-1.35zm-5.175-.096h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zM16.2 17.55a4.05 4.05 0 0 1 4.05 4.05v1.35A4.05 4.05 0 0 1 16.2 27h-1.35a4.05 4.05 0 0 1-4.05-4.05V21.6a4.05 4.05 0 0 1 4.05-4.05zm0 2.7h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35c0 .746.604 1.35 1.35 1.35h1.35a1.35 1.35 0 0 0 1.35-1.35V21.6a1.35 1.35 0 0 0-1.35-1.35m27 1.35a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35A4.05 4.05 0 0 0 29.7 27h9.45a4.05 4.05 0 0 0 4.05-4.05zm-13.5-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35a1.35 1.35 0 0 1-1.35 1.35H29.7a1.35 1.35 0 0 1-1.35-1.35V21.6c0-.746.604-1.35 1.35-1.35M43.2 37.8a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35h2.7V37.8c0-.746.604-1.35 1.35-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35h2.7zm-27-4.05a4.05 4.05 0 0 1 4.05 4.05v1.35h-2.7V37.8a1.35 1.35 0 0 0-1.35-1.35h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35h-2.7V37.8a4.05 4.05 0 0 1 4.05-4.05z",clipRule:"evenodd"})))};function Ste(){return Ste=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Ste.apply(null,arguments)}var O7e,vUt=function(n){return Qt("svg",Ste({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},n),S7e||(S7e=Qt("path",{d:"M20.58 33.77h-3l-1.18-3.08H11l-1.1 3.08H7l5.27-13.54h2.89zm-5-5.36-1.86-5-1.83 5zM22 20.23h5.41a15.5 15.5 0 0 1 2.4.14 3.4 3.4 0 0 1 1.41.55 3.5 3.5 0 0 1 1 1.14 3 3 0 0 1 .42 1.58 3.26 3.26 0 0 1-1.91 2.94 3.63 3.63 0 0 1 1.91 1.22 3.28 3.28 0 0 1 .66 2 4 4 0 0 1-.43 1.8 3.6 3.6 0 0 1-1.09 1.4 3.9 3.9 0 0 1-1.83.65q-.69.07-3.3.09H22zm2.73 2.25v3.13h3.8a1.8 1.8 0 0 0 1.1-.49 1.4 1.4 0 0 0 .41-1 1.5 1.5 0 0 0-.35-1 1.54 1.54 0 0 0-1-.48c-.27 0-1.05-.05-2.34-.05zm0 5.39v3.62h2.57a11.5 11.5 0 0 0 1.88-.09 1.65 1.65 0 0 0 1-.54 1.6 1.6 0 0 0 .38-1.14 1.75 1.75 0 0 0-.29-1 1.7 1.7 0 0 0-.86-.62 9.3 9.3 0 0 0-2.41-.23zm19.62.92 2.65.84a5.94 5.94 0 0 1-2 3.29A5.74 5.74 0 0 1 41.38 34a5.87 5.87 0 0 1-4.44-1.84 7.1 7.1 0 0 1-1.73-5A7.43 7.43 0 0 1 37 21.87 6 6 0 0 1 41.54 20a5.64 5.64 0 0 1 4 1.47A5.33 5.33 0 0 1 47 24l-2.7.65a2.8 2.8 0 0 0-2.86-2.27A3.09 3.09 0 0 0 39 23.42a5.3 5.3 0 0 0-.93 3.5 5.62 5.62 0 0 0 .93 3.65 3 3 0 0 0 2.4 1.09 2.72 2.72 0 0 0 1.82-.66 4 4 0 0 0 1.13-2.21"})))};function Ote(){return Ote=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Ote.apply(null,arguments)}var T7e,bUt=function(n){return Qt("svg",Ote({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},n),O7e||(O7e=Qt("path",{fill:"currentColor",fillRule:"evenodd",d:"M47.008 12.15c1.625 0 2.942 1.36 2.942 3.039v23.622c0 1.678-1.317 3.039-2.942 3.039H6.992c-1.625 0-2.942-1.36-2.942-3.039V15.189c0-1.678 1.317-3.039 2.942-3.039zm0 2.026H6.992c-.542 0-.98.454-.98 1.013V16.2h-.004v2.7h.003v19.911c0 .56.44 1.013.98 1.013h40.017c.542 0 .98-.453.98-1.013V18.9h.005v-2.7h-.004v-1.011c0-.56-.44-1.013-.98-1.013M14.934 26.055v-3.78h2.194v9.45h-2.194v-3.78h-3.29v3.78H9.45v-9.45h2.194v3.78zm4.388-1.89h2.194v7.56h2.193v-7.56h2.194v-1.89h-6.581zm14.26-1.89h2.193v9.45h-2.194V25.11l-1.645 3.78-1.645-3.78v6.615h-2.194v-9.45h2.194l1.645 3.78zm4.387 0h2.194v7.56h4.387v1.89h-6.581z",clipRule:"evenodd"})))};function Tte(){return Tte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Tte.apply(null,arguments)}var P7e,_Ut=function(n){return Qt("svg",Tte({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},n),T7e||(T7e=Qt("path",{fill:"currentcolor",fillRule:"evenodd",d:"M12.78 16.2v6.75c0 1.619-.635 3.059-1.618 4.05.983.991 1.618 2.431 1.618 4.05v6.75h3.51v2.7h-3.51c-1.289 0-2.34-1.213-2.34-2.7v-6.75c0-1.487-1.051-2.7-2.34-2.7v-2.7c1.289 0 2.34-1.213 2.34-2.7V16.2c0-1.487 1.051-2.7 2.34-2.7h3.51v2.7zm30.78 0v6.75c0 1.487 1.051 2.7 2.34 2.7v2.7c-1.289 0-2.34 1.213-2.34 2.7v6.75c0 1.487-1.051 2.7-2.34 2.7h-3.51v-2.7h3.51v-6.75c0-1.619.635-3.059 1.618-4.05-.983-.991-1.618-2.431-1.618-4.05V16.2h-3.51v-2.7h3.51c1.289 0 2.34 1.213 2.34 2.7M21.8 34.531q.7-.569.959-1.758l1.788-8.34h1.585l.387-1.828h-1.585l.405-1.878h1.585l.387-1.827H25.69q-1.271 0-1.972.569-.681.569-.94 1.758l-.294 1.378H21.34l-.387 1.827h1.142l-1.898 8.841h-1.585l-.387 1.827h1.622q1.272 0 1.953-.569m7.248-7.686-3.797 4.808h2.599l2.12-3.016h.22l.885 3.016h2.599l-1.677-4.36 3.778-4.688h-2.599l-2.12 2.947h-.22l-.885-2.947h-2.599z",clipRule:"evenodd"})))};function Pte(){return Pte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Pte.apply(null,arguments)}var D7e,EUt=function(n){return Qt("svg",Pte({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},n),P7e||(P7e=Qt("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1m-32 4v10h-2V22z"})))};function Dte(){return Dte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Dte.apply(null,arguments)}var k7e,xUt=function(n){return Qt("svg",Dte({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},n),D7e||(D7e=Qt("path",{fillRule:"evenodd",d:"M45 13a3 3 0 0 1 3 3v22a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V16a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v22a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V16a1 1 0 0 0-1-1m-1.136 15.5.849.849-6.364 6.364-.849-.849zm.264 3.5.849.849-2.828 2.828-.849-.849zM13 19v10h-2V19z"})))};function kte(){return kte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},kte.apply(null,arguments)}var M7e,A7e,wUt=function(n){return Qt("svg",kte({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},n),k7e||(k7e=Qt("path",{fill:"currentColor",fillRule:"evenodd",d:"M45.658 9.45c1.625 0 2.942 1.36 2.942 3.039V22.95h-1.961v-4.383H7.36V41.51c0 .56.44 1.013.98 1.013H27v2.026H8.342c-1.625 0-2.942-1.36-2.942-3.039V12.489c0-1.678 1.317-3.039 2.942-3.039zm0 2.026H8.342c-.542 0-.98.454-.98 1.013v4.052h39.277v-4.052c0-.56-.44-1.013-.98-1.013ZM31.05 35.775A8.77 8.77 0 0 1 39.825 27a8.77 8.77 0 0 1 8.775 8.775 8.77 8.77 0 0 1-8.775 8.775 8.77 8.77 0 0 1-8.775-8.775m12.388-.516h3.097c-.206-2.581-1.858-4.646-4.026-5.678.62 1.548.93 3.613.93 5.678Zm-5.162 2.065c.207 3.303 1.136 4.955 1.549 5.161.413-.206 1.239-1.858 1.445-5.161zm1.446-8.26c-.31.207-1.342 2.272-1.446 6.195h2.994c-.103-3.923-1.135-5.988-1.548-6.194Zm-3.51 6.195c.103-2.065.31-4.13.929-5.678-2.168 1.032-3.82 3.097-4.026 5.678zm0 2.065h-2.89c.515 2.064 1.96 3.82 3.819 4.645-.516-1.342-.826-2.994-.93-4.645Zm7.226 0q-.155 2.632-.929 4.645c1.858-.826 3.304-2.58 3.923-4.645z",clipRule:"evenodd"})))};function Mte(){return Mte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Mte.apply(null,arguments)}var I7e,CUt=function(n){return Qt("svg",Mte({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},n),M7e||(M7e=Qt("path",{fillRule:"evenodd",d:"M34.636 21.91A3.818 3.818 0 1 1 27 21.908a3.818 3.818 0 0 1 7.636 0Zm-2 0A1.818 1.818 0 1 1 29 21.908a1.818 1.818 0 0 1 3.636 0Z",clipRule:"evenodd"})),A7e||(A7e=Qt("path",{fillRule:"evenodd",d:"M15 13a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V15a2 2 0 0 0-2-2zm24 2H15v12.45l4.71-4.709a1.91 1.91 0 0 1 2.702 0l6.695 6.695 2.656-1.77a1.91 1.91 0 0 1 2.411.239L39 32.73zM15 39v-8.754a1 1 0 0 0 .168-.135l5.893-5.893 6.684 6.685a1.91 1.91 0 0 0 2.41.238l2.657-1.77 6.02 6.02q.078.077.168.135V39z",clipRule:"evenodd"})))};function Ate(){return Ate=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Ate.apply(null,arguments)}var R7e,SUt=function(n){return Qt("svg",Ate({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 54 54"},n),I7e||(I7e=Qt("path",{fill:"currentcolor",fillRule:"evenodd",d:"M42.545 12.273A2.455 2.455 0 0 1 45 14.727v24.546a2.455 2.455 0 0 1-2.455 2.454h-31.09A2.455 2.455 0 0 1 9 39.273V14.727a2.455 2.455 0 0 1 2.455-2.454zM27.818 40.09h14.727a.82.82 0 0 0 .819-.818v-4.91H27.818Zm-1.636-5.727v5.727H11.455a.82.82 0 0 1-.819-.818v-4.91zm1.636-1.637h15.546V27H27.818ZM26.182 27v5.727H10.636V27zm1.636-1.636h15.546v-5.728H27.818Zm-1.636-5.728v5.728H10.636v-5.728z",clipRule:"evenodd"})))};function Ite(){return Ite=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Ite.apply(null,arguments)}var N7e,OUt=function(n){return Qt("svg",Ite({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},n),R7e||(R7e=Qt("path",{fill:"currentcolor",fillRule:"evenodd",d:"M17.55 41.175H27v2.362h-9.45a2.37 2.37 0 0 1-2.363-2.362v-28.35a2.37 2.37 0 0 1 2.363-2.363h11.813a1.07 1.07 0 0 1 .826.355l8.27 8.269a1.07 1.07 0 0 1 .353.826v5.907H36.45v-3.544h-7.088A2.37 2.37 0 0 1 27 19.912v-7.087h-9.45zm18.427-21.263-6.614-6.615v6.615zm4.253 18.664 3.308 3.308-1.654 1.653-3.308-3.307a6.35 6.35 0 0 1-3.307.945c-3.308 0-5.906-2.599-5.906-5.906 0-3.308 2.598-5.907 5.906-5.907s5.906 2.6 5.906 5.907a6.35 6.35 0 0 1-.945 3.307m-4.961-6.851c-2.008 0-3.544 1.536-3.544 3.544s1.536 3.543 3.544 3.543 3.544-1.535 3.544-3.543-1.536-3.544-3.544-3.544",clipRule:"evenodd"})))};function Rte(){return Rte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Rte.apply(null,arguments)}var $7e,TUt=function(n){return Qt("svg",Rte({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},n),N7e||(N7e=Qt("path",{fill:"currentcolor",fillRule:"evenodd",d:"M17.55 41.175h6.75v2.363h-6.75a2.37 2.37 0 0 1-2.363-2.363v-28.35a2.37 2.37 0 0 1 2.363-2.362h11.813a1.07 1.07 0 0 1 .826.354l8.27 8.269a1.07 1.07 0 0 1 .353.827v7.256H36.45v-4.894h-7.088A2.37 2.37 0 0 1 27 19.913v-7.088h-9.45zm18.427-21.262-6.614-6.616v6.616zm-2.212 10.564-.015-.001h-.015a8.86 8.86 0 0 0-7.926 5.656l-.003.008a.9.9 0 0 0 0 .62l.003.008a8.85 8.85 0 0 0 7.926 5.655l.015.001h.015a8.86 8.86 0 0 0 7.926-5.656l.003-.008a.9.9 0 0 0 0-.62l-.003-.008a8.85 8.85 0 0 0-7.926-5.655M33.75 40.6c-2.456 0-5.088-1.802-6.107-4.151 1.019-2.349 3.651-4.151 6.107-4.151s5.088 1.802 6.107 4.151c-1.019 2.349-3.65 4.151-6.107 4.151m0-7.593a3.443 3.443 0 1 0 0 6.885 3.443 3.443 0 0 0 0-6.886Zm-.316 1.853a1.62 1.62 0 1 1 .632 3.178 1.62 1.62 0 0 1-.632-3.178",clipRule:"evenodd"})))};function F7e(t){const{field:n}=t,{alt:i,id:s,source:o}=n,a=(t=>({button:oUt,checkbox:aUt,checklist:lUt,columns:v7e,datetime:cUt,group:v7e,iframe:wUt,image:CUt,number:pUt,expression:_Ut,radio:fUt,select:hUt,separator:mUt,spacer:gUt,dynamiclist:yUt,taglist:uUt,text:vUt,html:bUt,textfield:EUt,textarea:xUt,table:SUt,filepicker:OUt,documentPreview:TUt,default:dUt}[t]))(n.type),l=If(o,{debug:!0}),c=zr(()=>function UHt(t){return jHt.test(t)?t:""}(l),[l]),u=If(i,{debug:!0}),{formId:d}=il(CP);return Te("div",{class:ra("image"),children:[c&&Te("div",{class:"fjs-image-container",children:Te("img",{alt:u,src:c,class:"fjs-image",id:l5(s,d)})}),!c&&Te("div",{class:"fjs-image-placeholder",children:Te("span",{class:"fjs-image-placeholder-inner",children:Te(a,{alt:"This is an image placeholder",width:"32",height:"32",viewBox:"0 0 56 56"})})})]})}function B7e(t){const{pre:n,post:i}=t,s=If(n,{debug:!0}),o=If(i,{debug:!0});return Te(ute,{...t,pre:s,post:o})}function Nte(){return Nte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Nte.apply(null,arguments)}F7e.config={type:"image",keyed:!1,name:"Image view",group:"presentation",create:(t={})=>t,getSubheading:t=>t.alt};var V7e,Lte=function(n){return Qt("svg",Nte({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},n),$7e||($7e=Qt("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M7.75 1.336 4 6.125.258 1.335 0 1.54l4 5.125L8 1.54Zm0 0",clipRule:"evenodd"})))};function Fte(){return Fte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Fte.apply(null,arguments)}var q7e,Bte=function(n){return Qt("svg",Fte({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},n),V7e||(V7e=Qt("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M7.75 6.664 4 1.875.258 6.665 0 6.46l4-5.125L8 6.46Zm0 0",clipRule:"evenodd"})))};function $te(t){return("number"==typeof t||"string"==typeof t)&&""!==t&&!isNaN(Number(t))}function j7e(t){return null==t||""===t}function Vte(t){const{disabled:n,errors:i=[],domId:s,onBlur:o,onFocus:a,field:l,value:c,readonly:u}=t,{description:d,label:p,appearance:f={},validate:h={},decimalDigits:m,increment:y}=l,{prefixAdorner:E,suffixAdorner:_}=f,{required:S}=h,v=Ds(),[w,g]=Ci(c),[x,T]=Ci(c),I=oi(ie=>Vte.config.sanitizeValue({value:ie,formField:l}),[l]),[A,$]=nte(t.onChange);k8e(c)!==w&&A({field:l,value:w});const H=oi(ie=>j7e(ie)?(T(""),void g(null)):"-"!==(ie=ie.replaceAll(",","."))?isNaN(Number(ie))?(T("NaN"),void g(null)):(T(ie),void g(I(ie))):void T("-"),[I]),Re=k8e(c)!=c,De=I(c)===I(w);Re&&!De&&H(c&&c.toString()||"");const ye=zr(()=>s0(y||(m?`1e-${m}`:"1")),[m,y]),at=()=>{if(u)return;const ie=$te(w)?s0(w):s0(0),se=ie.minus(ie.mod(ye));H(se.plus(ye).toFixed())},_e=()=>{if(u)return;const ie=$te(w)?s0(w):s0(0);if(0===ie.mod(ye).cmp(0))H(ie.minus(ye).toFixed());else{const $e=ie.minus(ie.mod(ye));H($e.toFixed())}},Pe=`${s}-description`,Y=`${s}-error-message`;return Te("div",{class:ra("number",{errors:i,disabled:n,readonly:u}),children:[Te(hl,{htmlFor:s,label:p,required:S}),Te(B7e,{disabled:n,readonly:u,pre:E,post:_,children:Te("div",{class:rr()("fjs-vertical-group",{"fjs-disabled":n,"fjs-readonly":u},{hasErrors:i.length}),children:[Te("input",{ref:v,class:"fjs-input",disabled:n,readOnly:u,id:s,onKeyDown:ie=>"NaN"!==x||"Backspace"!==ie.code&&"Delete"!==ie.code?"ArrowUp"===ie.code?(at(),void ie.preventDefault()):"ArrowDown"===ie.code?(_e(),void ie.preventDefault()):void 0:(H(""),void ie.preventDefault()),onKeyPress:ie=>{(function kUt(t,n,i,s,o){if("NaN"===n)return!1;const a=!(n=n.replace(",",".")).includes(".")&&("."===t||","===t),l=!n.includes("-")&&"-"===t&&0===i,c=/^[0-9]$/i.test(t),u=void 0===n?-1:n.indexOf("."),d="number"==typeof o&&0===s&&-1!==u&&n.includes(".")&&n.split(".")[1].length>=o&&i>u;return(c||0!==o&&a||l)&&!d})(ie.key,v.current.value,v.current.selectionStart,v.current.selectionStart-v.current.selectionEnd,m)||ie.preventDefault()},onBlur:()=>{$&&$(),o&&o()},onFocus:()=>{a&&a()},onInput:ie=>H(ie.target.value,!0),onPaste:ie=>"NaN"===x&&ie.preventDefault(),type:"text",autoComplete:"off",step:ye,value:x,"aria-describedby":[Pe,Y].join(" "),required:S,"aria-invalid":i.length>0}),Te("div",{class:rr()("fjs-number-arrow-container",{"fjs-disabled":n,"fjs-readonly":u}),children:[Te("button",{type:"button",class:"fjs-number-arrow-up","aria-label":"Increment",onClick:()=>at(),tabIndex:-1,children:Te(Bte,{})}),Te("div",{class:"fjs-number-arrow-separator"}),Te("button",{type:"button",class:"fjs-number-arrow-down","aria-label":"Decrement",onClick:()=>_e(),tabIndex:-1,children:Te(Lte,{})})]})]})}),Te(Qm,{id:Pe,description:d}),Te(Ru,{id:Y,errors:i})]})}function U7e(t){const{disabled:n,errors:i=[],domId:s,onBlur:o,onFocus:a,field:l,readonly:c,value:u}=t,{description:d,label:p,validate:f={}}=l,h=Ds(),{required:m}=f,E=x=>{h.current.contains(x.relatedTarget)||o&&o()},_=x=>{h.current.contains(x.relatedTarget)||a&&a()},{loadState:S,options:v}=OP(l);ste({field:l,loadState:S,options:v,value:u,onChange:t.onChange});const w=`${s}-description`,g=`${s}-error-message`;return Te("div",{class:ra("radio",{errors:i,disabled:n,readonly:c}),ref:h,children:[Te(hl,{label:p,required:m}),"loaded"==S&&v.map((x,T)=>{const I=`${s}-${T}`,A=n5()(x.value,u);return Te("div",{className:rr()("fjs-inline-label",{"fjs-checked":A}),children:[Te("input",{checked:A,class:"fjs-input",disabled:n,readOnly:c,name:s,id:I,type:"radio",onClick:()=>(x=>{t.onChange({value:x})})(x.value),onBlur:E,onFocus:_,"aria-describedby":[w,g].join(" "),required:m,"aria-invalid":i.length>0}),Te(hl,{htmlFor:I,label:x.label,class:rr()({"fjs-checked":A}),required:!1})]},x.value)}),Te(Qm,{id:w,description:d}),Te(Ru,{id:g,errors:i})]})}function jte(){return jte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},jte.apply(null,arguments)}Vte.config={type:"number",keyed:!0,name:"Number",group:"basic-input",emptyValue:null,sanitizeValue:({value:t,formField:n})=>j7e(t)||!$te(t)?null:n.serializeToString?t.toString():Number(t),create:(t={})=>({label:"Number",...t})},U7e.config={type:"radio",keyed:!0,name:"Radio group",group:"selection",emptyValue:null,sanitizeValue:$8e,create:(t={})=>({label:"Radio group",...NL(t)})};var zte=function(n){return Qt("svg",jte({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},n),q7e||(q7e=Qt("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M4 3.766 7.43.336l.234.234L4.234 4l3.43 3.43-.234.234L4 4.234.57 7.664.336 7.43 3.766 4 .336.57.57.336Zm0 0",clipRule:"evenodd"})))};function MUt(t){const{domId:n,disabled:i,errors:s,onBlur:o,onFocus:a,field:l,readonly:c,value:u}=t,[d,p]=Ci(""),[f,h]=Ci(!1),[m,y]=Ci(!0),[E,_]=Ci(!1),S=Ds(),v=vs("eventBus"),{loadState:w,options:g}=OP(l);ste({field:l,loadState:w,options:g,value:u,onChange:t.onChange});const x=Jee(g),T=zr(()=>u&&x(u),[u,x]);Bi(()=>{p(T||"")},[T]);const I=zr(()=>"loaded"!==w?[]:d&&m?g.filter(De=>De.label&&De.value&&De.label.toLowerCase().includes(d.toLowerCase())):g,[d,w,g,m]),A=oi(De=>{p(De&&De.label||""),t.onChange({value:De&&De.value||null})},[t]),$=zr(()=>{const De={};return De.componentReady=!i&&!c&&"loaded"===w,De.displayCross=De.componentReady&&null!=u,De.displayDropdown=!i&&!c&&f&&!E,De},[i,f,E,w,c,u]),z=oi(De=>{_(!1),h(!f);const ye=S.current;f?ye.blur():ye.focus(),De.preventDefault()},[f]),U=oi(De=>{switch(De.key){case"ArrowUp":De.preventDefault();break;case"ArrowDown":f||(h(!0),y(!1)),De.preventDefault();break;case"Escape":_(!0);break;case"Enter":E&&_(!1)}},[f,E]),H=oi(()=>{_(!1),h(!0),y(!1)},[]),me=oi(()=>{_(!1),h(!0),a&&a()},[a]),Re=oi(()=>{h(!1),p(T||""),o&&o()},[o,T]);return Te(wa,{children:[Te("div",{class:rr()("fjs-input-group",{disabled:i,readonly:c},{hasErrors:s.length}),children:[Te("input",{disabled:i,readOnly:c,class:"fjs-input",ref:S,id:n,onChange:({target:De})=>{_(!1),h(!0),y(!0),p(De.value||""),v.fire("formField.search",{formField:l,value:De.value||""})},type:"text",value:d,placeholder:"Search",autoComplete:"off",onKeyDown:U,onMouseDown:H,onFocus:me,onBlur:Re,"aria-describedby":t["aria-describedby"]}),$.displayCross&&Te("span",{class:"fjs-select-cross",onMouseDown:De=>{A(null),De.preventDefault()},children:[Te(zte,{})," "]}),Te("span",{class:"fjs-select-arrow",onMouseDown:De=>z(De),children:Te($.displayDropdown?Bte:Lte,{})})]}),Te("div",{class:"fjs-select-anchor",children:$.displayDropdown&&Te(FL,{values:I,getLabel:De=>De.label,onValueSelected:De=>{A(De),h(!1)},listenerElement:S.current})})]})}function AUt(t){const{domId:n,disabled:i,errors:s,onBlur:o,onFocus:a,field:l,readonly:c,value:u}=t,[d,p]=Ci(!1),f=Ds(),h=Ds(),{loadState:m,options:y}=OP(l);ste({field:l,loadState:m,options:y,value:u,onChange:t.onChange});const E=Jee(y),_=zr(()=>u&&E(u),[u,E]),S=oi(I=>{t.onChange({value:I&&I.value||null})},[t]),v=zr(()=>{const I={};return I.componentReady=!i&&!c&&"loaded"===m,I.displayCross=I.componentReady&&null!=u,I.displayDropdown=!i&&!c&&d,I},[i,d,m,c,u]),w=oi(I=>{const A=h.current;i||!A||(p(!d),d?A.blur():A.focus(),I.preventDefault())},[i,d]),g=zr(()=>u&&gu(y,I=>I.value===u)||0,[y,u]),x=oi(()=>{c||(p(!0),a&&a())},[a,c]),T=oi(()=>{c||(p(!1),o&&o())},[o,c]);return Te(wa,{children:[Te("div",{ref:f,class:rr()("fjs-input-group",{disabled:i,readonly:c},{hasErrors:s.length}),onFocus:x,onBlur:T,onMouseDown:w,children:[Te("div",{class:rr()("fjs-select-display",{"fjs-select-placeholder":!u}),id:`${n}-display`,children:_||"Select"}),!i&&Te("input",{ref:h,id:n,class:"fjs-select-hidden-input",value:_,onFocus:x,onBlur:T,"aria-describedby":t["aria-describedby"]}),v.displayCross&&Te("span",{class:"fjs-select-cross",onMouseDown:I=>{S(null),I.stopPropagation()},children:Te(zte,{})}),Te("span",{class:"fjs-select-arrow",children:Te(v.displayDropdown?Bte:Lte,{})})]}),Te("div",{class:"fjs-select-anchor",children:v.displayDropdown&&Te(FL,{values:y,getLabel:I=>I.label,initialFocusIndex:g,onValueSelected:I=>{S(I),p(!1)},listenerElement:f.current})})]})}function G7e(t){const{disabled:n,errors:i=[],domId:s,onBlur:o,onFocus:a,field:l,onChange:c,readonly:u,value:d}=t,{description:p,label:f,searchable:h=!1,validate:m={}}=l,{required:y}=m,E=`${s}-description`,_=`${s}-error-message`,S={domId:s,disabled:n,errors:i,onBlur:o,onFocus:a,field:l,value:d,onChange:c,readonly:u,required:y,"aria-invalid":i.length>0,"aria-describedby":[E,_].join(" ")};return Te("div",{class:ra("select",{errors:i,disabled:n,readonly:u}),onKeyDown:v=>{"Enter"===v.key&&(v.preventDefault(),v.stopPropagation())},children:[Te(hl,{htmlFor:s,label:f,required:y}),Te(h?MUt:AUt,{...S}),Te(Qm,{id:E,description:p}),Te(Ru,{id:_,errors:i})]})}function Y7e(){return Te("div",{class:ra("separator"),children:Te("hr",{})})}function Q7e(t){const{field:n}=t,{height:i=60}=n;return Te("div",{class:ra("spacer"),style:{height:i}})}function Z7e(t){const{field:n,domId:i,readonly:s}=t,{label:o,type:a,showOutline:l}=n,{Empty:c}=il(c5),u={...t,Empty:c};return Te("div",{className:rr()(ra(a,{readonly:s}),"fjs-form-field-grouplike",{"fjs-outlined":l}),role:"group","aria-labelledby":i,children:[Te(hl,{id:i,label:o}),Te(ate,{...u})]})}function IUt(t){const{className:n,label:i,onSkip:s}=t,o=oi(a=>{"Enter"===a.key&&(a.preventDefault(),a.stopPropagation(),s())},[s]);return Te("a",{href:"#",class:rr()("fjs-skip-link",n),onKeyDown:o,children:i})}function eAe(t){const{disabled:n,errors:i=[],onFocus:s,domId:o,onBlur:a,field:l,readonly:c,value:u}=t,{description:d,label:p,validate:f={}}=l,{required:h}=f,[m,y]=Ci(""),[E,_]=Ci(!1),[S,v]=Ci(!1),w=Ds(),g=Ds(),x=vs("eventBus"),{loadState:T,options:I}=OP(l),A=d5(u||[]);j8e({field:l,loadState:T,options:I,values:A,onChange:t.onChange});const $=Jee(I),z=zr(()=>I.length>A.length,[I.length,A.length]),K=zr(()=>"loaded"!==T?[]:I.filter($e=>$e.label.toLowerCase().includes(m.toLowerCase())&&!$y($e.value,A)),[m,I,A,T]),H=se=>{const $e=A.filter(j=>!n5()(j,se));t.onChange({value:$e})},De=se=>{w.current.contains(se.relatedTarget)||a&&a()},ye=se=>{w.current.contains(se.relatedTarget)||s&&s()},Pe=zr(()=>!n&&"loaded"===T&&E&&!S,[n,E,S,T]),Y=`${o}-description`,ie=`${o}-error-message`;return Te("div",{ref:w,class:ra("taglist",{errors:i,disabled:n,readonly:c}),onKeyDown:se=>{"Enter"===se.key&&(se.stopPropagation(),se.preventDefault())},children:[Te(hl,{label:p,required:h,htmlFor:o}),!n&&!c&&!!A.length&&Te(IUt,{className:"fjs-taglist-skip-link",label:"Skip to search",onSkip:()=>{g.current.focus()}}),Te("div",{class:rr()("fjs-taglist",{"fjs-disabled":n,"fjs-readonly":c}),children:["loaded"===T&&Te("div",{class:"fjs-taglist-tags",children:A.map(se=>Te("div",{class:rr()("fjs-taglist-tag",{"fjs-disabled":n,"fjs-readonly":c}),onMouseDown:$e=>$e.preventDefault(),children:[Te("span",{class:"fjs-taglist-tag-label",children:$(se)}),!n&&!c&&Te("button",{type:"button",title:"Remove tag",class:"fjs-taglist-tag-remove",onFocus:ye,onBlur:De,onClick:$e=>((se,$e)=>{const{target:j}=se;H($e),j.closest(".fjs-taglist-tag").nextSibling||g.current.focus()})($e,se),children:Te(zte,{})})]},se))}),Te("input",{disabled:n,readOnly:c,class:"fjs-taglist-input",ref:g,id:o,onChange:({target:se})=>{v(!1),y(se.value||""),x.fire("formField.search",{formField:l,value:se.value||""})},type:"text",value:m,placeholder:n||c?void 0:"Search",autoComplete:"off",onKeyDown:se=>{switch(se.key){case"ArrowUp":case"ArrowDown":se.preventDefault();break;case"Backspace":!m&&A.length&&H(A[A.length-1]);break;case"Escape":v(!0);break;case"Enter":S&&v(!1)}},onMouseDown:()=>v(!1),onFocus:se=>{c||_(!0),ye(se)},onBlur:se=>{c||(_(!1),y("")),De(se)},"aria-describedby":[Y,ie].join(" "),required:h,"aria-invalid":i.length>0})]}),Te("div",{class:"fjs-taglist-anchor",children:Pe&&Te(FL,{values:K,getLabel:se=>se.label,onValueSelected:se=>(se=>{y(""),A.at(-1)!==se&&t.onChange({value:[...A,se]})})(se.value),emptyListMessage:z?"No results":"All values selected",listenerElement:g.current})}),Te(Qm,{id:Y,description:d}),Te(Ru,{id:ie,errors:i})]})}G7e.config={type:"select",keyed:!0,name:"Select",group:"selection",emptyValue:null,sanitizeValue:$8e,create:(t={})=>({label:"Select",...NL(t)})},Y7e.config={type:"separator",keyed:!1,name:"Separator",group:"presentation",create:(t={})=>({...t})},Q7e.config={type:"spacer",keyed:!1,name:"Spacer",group:"presentation",create:(t={})=>({height:60,...t})},Z7e.config={type:"dynamiclist",pathed:!0,repeatable:!0,name:"Dynamic list",group:"container",create:(t={})=>({label:"Dynamic list",components:[],showOutline:!0,isRepeating:!0,allowAddRemove:!0,defaultRepetitions:1,...t})},eAe.config={type:"taglist",keyed:!0,name:"Tag list",group:"selection",emptyValue:[],sanitizeValue:V8e,create:(t={})=>({label:"Tag list",...NL(t)})};const LUt=["h1","h2","h3","h4","h5","h6","span","em","a","p","div","ul","ol","li","hr","blockquote","img","pre","code","br","strong","table","thead","tbody","tr","th","td"],FUt=["align","alt","class","href","id","name","rel","target","src"],BUt=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,$Ut=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,VUt=document.createElement("form");function jUt(t){const n=(new DOMParser).parseFromString(`<!DOCTYPE html>\n<html><body><div>${t}`,"text/html");n.normalize();const i=n.body.firstChild;return i?(tAe(i),i.innerHTML):""}function tAe(t){if(3===t.nodeType)return;if(1!==t.nodeType)return t.remove();const n=t.tagName.toLowerCase();if(!LUt.includes(n))return t.remove();const i=t.attributes;for(let s=i.length;s--;){const o=i[s],a=o.name,l=a.toLowerCase(),c=o.value.trim();t.removeAttribute(a),zUt(0,l,c)&&t.setAttribute(a,c)}"a"===n&&"_blank"===t.getAttribute("target")&&"noopener"!==t.getAttribute("rel")&&t.setAttribute("rel","noopener");for(let s=t.childNodes.length;s--;)tAe(t.childNodes[s])}function zUt(t,n,i){return!(!FUt.includes(n)||("id"===n||"name"===n)&&(i in document||i in VUt)||"target"===n&&"_blank"!==i||"href"===n&&!BUt.test(i.replace($Ut,"")))}function rAe(t){const n=vs("form"),{textLinkTarget:i}=n._getState().properties,{field:s,disableLinks:o}=t,{text:a="",strict:l=!1}=s,c=vs("markdownRenderer"),u=rte(a,{debug:!0,strict:l}),d=zr(()=>c.render(u),[c,u]),p=oi(h=>{const m=jUt(h),y=document.createElement("div");return y.innerHTML=m,y.querySelectorAll("a").forEach(_=>{o&&(_.setAttribute("class","fjs-disabled-link"),_.setAttribute("tabIndex","-1")),i&&_.setAttribute("target",i)}),y.innerHTML},[o,i]),f=P8e({html:d,transform:p,sanitize:!1,sanitizeStyleTags:!1});return Te("div",{class:ra("text"),dangerouslySetInnerHTML:f})}function sAe(t){const n=vs("form"),{textLinkTarget:i}=n._getState().properties,{field:s,disableLinks:o,domId:a}=t,{content:l="",strict:c=!1}=s,u=`${a}-style-scope`,d=rte(l,{debug:!0,strict:c,sanitizer:WHt}),p=oi(h=>{const m=document.createElement("div");return m.innerHTML=h,m.querySelectorAll("a").forEach(E=>{o&&(E.setAttribute("class","fjs-disabled-link"),E.setAttribute("tabIndex","-1")),i&&E.setAttribute("target",i)}),function CHt(t,n){t.querySelectorAll("style").forEach(s=>{const a=function SHt(t){let n=0,i=0,s=0;const o=[];for(;n<t.length;)"{"===t[n]&&s++,"}"===t[n]&&(s--,0===s&&(o.push(t.substring(i,n+1)),i=n+1)),n++;return o.map(a=>a.trim())}(s.textContent).map(l=>{const{selector:c,styles:u}=function OHt(t){const n=t.indexOf("{");return{selector:t.substring(0,n),styles:t.substring(n)}}(l);return`${function THt(t,n){return t.split(",").map(i=>`${n} ${i.trim()}`).join(", ")}(c,n)} ${u}`}).join(" ");s.textContent=a})}(m,`.${u}`),m.innerHTML},[o,u,i]),f=P8e({html:d,transform:p,sanitize:!0,sanitizeStyleTags:!1});return Te("div",{class:rr()(ra("html"),u),dangerouslySetInnerHTML:f})}function oAe(t){const{field:n,onChange:i,value:s}=t,{computeOn:o,expression:a}=n,c=d5(SP(a)),u=vs("eventBus"),d=vs("expressionLoopPreventer"),p=oi(()=>{i&&i({field:n,value:c,shouldNotRecompute:!0})},[n,c,i]);return Bi(()=>{"change"!==o||(0,jjt.isEqual)(c,s)||!d.registerExpressionExecution(this)||p()}),Bi(()=>{if("presubmit"===o)return u.on("presubmit",p),()=>u.off("presubmit",p)},[o,p,u]),null}function lAe(t){const{disabled:n,errors:i=[],domId:s,onBlur:o,onFocus:a,field:l,readonly:c,value:u=""}=t,{description:d,label:p,appearance:f={},validate:h={}}=l,{prefixAdorner:m,suffixAdorner:y}=f,{required:E}=h,[_,S]=nte(({target:T})=>{t.onChange({value:T.value})}),g=`${s}-description`,x=`${s}-error-message`;return Te("div",{class:ra("textfield",{errors:i,disabled:n,readonly:c}),children:[Te(hl,{htmlFor:s,label:p,required:E}),Te(B7e,{disabled:n,readonly:c,pre:m,post:y,children:Te("input",{class:"fjs-input",disabled:n,readOnly:c,id:s,onInput:_,onBlur:()=>{S&&S(),o&&o()},onFocus:()=>{a&&a()},type:"text",value:u,"aria-describedby":[g,x].join(" "),required:E,"aria-invalid":i.length>0})}),Te(Qm,{id:g,description:d}),Te(Ru,{id:x,errors:i})]})}function uAe(t){const{disabled:n,errors:i=[],domId:s,onBlur:o,onFocus:a,field:l,readonly:c,value:u=""}=t,{description:d,label:p,validate:f={}}=l,{required:h}=f,m=Ds(),[y,E]=nte(({target:x})=>{t.onChange({value:x.value})});F1(()=>{Hte(m.current)},[u]),Bi(()=>{Hte(m.current)},[]);const w=`${s}-description`,g=`${s}-error-message`;return Te("div",{class:ra("textarea",{errors:i,disabled:n,readonly:c}),children:[Te(hl,{htmlFor:s,label:p,required:h}),Te("textarea",{class:"fjs-textarea",disabled:n,readOnly:c,id:s,onInput:x=>{y({target:x.target}),Hte(m.current)},onBlur:()=>{E&&E(),o&&o()},onFocus:()=>{a&&a()},value:u,ref:m,"aria-describedby":[w,g].join(" "),required:h,"aria-invalid":i.length>0}),Te(Qm,{id:w,description:d}),Te(Ru,{id:g,errors:i})]})}rAe.config={type:"text",keyed:!1,name:"Text view",group:"presentation",create:(t={})=>({text:"# Text",...t}),getSubheading:t=>{!function pHt(t){if("string"!=typeof t)return null;for(const n of t.split("\n")){const i=n.trim();if(""!==i)return i}}(t.text)}},sAe.config={type:"html",keyed:!1,name:"HTML view",group:"presentation",create:(t={})=>({content:"",...t})},oAe.config={type:"expression",name:"Expression",group:"basic-input",keyed:!0,emptyValue:null,escapeGridRender:!0,create:(t={})=>({computeOn:"change",...t})},lAe.config={type:"textfield",keyed:!0,name:"Text field",group:"basic-input",emptyValue:"",sanitizeValue:({value:t})=>Xt(t)||si(t)||Wd(t)?"":"string"==typeof t?t.replace(/[\r\n\t]/g," "):String(t),create:(t={})=>({label:"Text field",...t})},uAe.config={type:"textarea",keyed:!0,name:"Text area",group:"basic-input",emptyValue:"",sanitizeValue:({value:t})=>Xt(t)||si(t)||Wd(t)?"":String(t),create:(t={})=>({label:"Text area",...t})};const Hte=t=>{t.style.height="0px";const n=window.getComputedStyle(t),s=parseInt(n.getPropertyValue("border-top-width"))+parseInt(n.getPropertyValue("padding-top"))+(t.scrollHeight||(()=>{const c=parseInt(n.getPropertyValue("line-height").replace("px",""))||0;return(t.value?t.value.toString().split("\n").length:0)*c})())+parseInt(n.getPropertyValue("padding-bottom"))+parseInt(n.getPropertyValue("border-bottom-width")),l=Math.max(Math.min(s||0,350),75);t.style.height=`${l}px`,t.style.overflow=s>350?"visible":"hidden"};var dAe;function Ute(){return Ute=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Ute.apply(null,arguments)}var pAe,UUt=function(n){return Qt("svg",Ute({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},n),dAe||(dAe=Qt("path",{fill:"currentcolor",d:"M24.59 16.59 17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10 10-10z"})))};function qte(){return qte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},qte.apply(null,arguments)}var fAe,qUt=function(n){return Qt("svg",qte({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},n),pAe||(pAe=Qt("path",{fill:"currentcolor",d:"M16 4 6 14l1.41 1.41L15 7.83V28h2V7.83l7.59 7.58L26 14z"})))};function Wte(){return Wte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Wte.apply(null,arguments)}var hAe,WUt=function(n){return Qt("svg",Wte({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 32 32"},n),fAe||(fAe=Qt("path",{fill:"currentcolor",d:"m20 24-10-8 10-8z"})))};function Gte(){return Gte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Gte.apply(null,arguments)}var GUt=function(n){return Qt("svg",Gte({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 32 32"},n),hAe||(hAe=Qt("path",{fill:"currentcolor",d:"m12 8 10 8-10 8z"})))};function gAe(t){const{field:n}=t,{columns:i=[],columnsExpression:s,dataSource:o="",rowCount:a,id:l,label:c}=n,[u,d]=Ci(null),p=function KUt(t,n){const i=SP(t||"");return Array.isArray(i)&&i.every(yAe)?i:n}(s||"",i),f=p.map(({key:g})=>g),h=SP(o),m=Array.isArray(h)?h.filter(g=>!Wd(g)||"object"!=typeof g):[],y=null===u?m:function XUt(t,n,i){return[...t].sort((s,o)=>si(s)&&si(o)?"asc"===i?s[n]>o[n]?1:-1:s[n]<o[n]?1:-1:0)}(m,u.key,u.direction),E=Ln(a)?function YUt(t,n){return t.reduce((i,s,o)=>(o%n==0?i.push([s]):i[i.length-1].push(s),i),[])}(y,a):[y],[_,S]=Ci(0),v=E[_]||[];function w(g){d(x=>null===x||x.key!==g?{key:g,direction:"asc"}:"desc"===x.direction?null:{key:g,direction:"desc"})}return Bi(()=>{S(0)},[a,u]),Te("div",{class:ra("table"),children:[Te(hl,{htmlFor:l5(l),label:c}),Te("div",{class:rr()("fjs-table-middle-container",{"fjs-table-empty":0===p.length}),children:[0===p.length?"Nothing to show.":Te("div",{class:"fjs-table-inner-container",children:Te("table",{class:"fjs-table",id:l5(l),children:[Te("thead",{class:"fjs-table-head",children:Te("tr",{class:"fjs-table-tr",children:p.map(({key:g,label:x})=>{const T=x||g;return Te("th",{tabIndex:0,class:"fjs-table-th",onClick:()=>{w(g)},onKeyDown:I=>{["Enter","Space"].includes(I.code)&&w(g)},"aria-label":QUt(u,g,T),children:Te("span",{class:"fjs-table-th-label",children:[T,null!==u&&u.key===g?Te(wa,{children:"asc"===u.direction?Te(qUt,{class:"fjs-table-sort-icon-asc"}):Te(UUt,{class:"fjs-table-sort-icon-desc"})}):null]})},g)})})}),Te("tbody",0===v.length?{class:"fjs-table-body",children:Te("tr",{class:"fjs-table-tr",children:Te("td",{class:"fjs-table-td",colSpan:p.length,children:"Nothing to show."})})}:{class:"fjs-table-body",children:v.map((g,x)=>Te("tr",{class:"fjs-table-tr",children:f.map(T=>Te("td",{class:"fjs-table-td",children:ZUt(g[T])},T))},x))})]})}),Ln(a)&&E.length>1&&p.length>0?Te("nav",{class:"fjs-table-nav",children:[Te("span",{class:"fjs-table-nav-label",children:[_+1," of ",E.length]}),Te("button",{type:"button",class:"fjs-table-nav-button",onClick:()=>{S(g=>Math.max(g-1,0))},disabled:0===_,"aria-label":"Previous page",children:Te(WUt,{})}),Te("button",{type:"button",class:"fjs-table-nav-button",onClick:()=>{S(g=>Math.min(g+1,E.length-1))},disabled:_>=E.length-1,"aria-label":"Next page",children:Te(GUt,{})})]}):null]})]})}function yAe(t){return si(t)&&Or(t.label)&&Or(t.key)}function QUt(t,n,i){return null===t||t.key!==n?`Click to sort by ${i} descending`:"asc"===t.direction?"Click to remove sorting":`Click to sort by ${i} ascending`}function ZUt(t){return null!==t&&"object"==typeof t?JSON.stringify(t):`${t||""}`}gAe.config={type:"table",keyed:!1,name:"Table",group:"presentation",create:(t={})=>{const{id:n,columnsExpression:i,columns:s,rowCount:o,...a}=t;return Ki(n)&&Ln(o)&&(a.rowCount=o),Or(i)?{...a,id:n,columnsExpression:i}:Array.isArray(s)&&s.every(yAe)?{...a,id:n,columns:s}:{...a,label:"Table",rowCount:10,columns:[{label:"ID",key:"id"},{label:"Name",key:"name"},{label:"Date",key:"date"}]}},generateInitialDemoData:t=>{const n=[{id:1,name:"John Doe",date:"31.01.2023"},{id:2,name:"Erika Muller",date:"20.02.2023"},{id:3,name:"Dominic Leaf",date:"11.03.2023"}],i=Object.keys(n[0]),{columns:s,id:o,dataSource:a}=t;if(Array.isArray(s)&&0!==s.length&&a===`=${o}`&&s.map(({key:l})=>l).every(l=>i.includes(l)))return n}};const eqt=new Yd,tqt=[];function bAe(t){const n=Ds(null),i=vs("fileRegistry",!1),{field:s,onChange:o,domId:a,errors:l=[],disabled:c,readonly:u,value:d=""}=t,{label:p,multiple:f=!1,accept:h="",validate:m={}}=s,y=If(h,{debug:!0}),E=function IHt(t){const n=vs("expressionLanguage"),i=il(a0);return zr(()=>{const s=Xee(n,t,i);return"boolean"==typeof s&&s},[n,i,t])}(f),_=`${a}-error-message`,S=null===i?tqt:i.getFiles(d);Bi(()=>{d&&null!==i&&!i.hasKey(d)&&o({value:null})},[i,d,o,S.length]),Bi(()=>{const g=new DataTransfer;S.forEach(x=>g.items.add(x)),n.current.files=g.files},[S]);const w=c||u||null===i;return Te("div",{className:ra("filepicker",{errors:l,disabled:c,readonly:u}),children:[Te(hl,{htmlFor:a,label:p,required:m.required}),Te("input",{type:"file",className:"fjs-hidden",ref:n,id:a,name:a,disabled:w,multiple:E||void 0,accept:y||void 0,onChange:g=>{const x=g.target;if((null===x.files||0===x.files.length)&&""!==d)return i.deleteFiles(d),void o({value:null});const T=Array.from(x.files),I=d||eqt.nextPrefixed("files::");i.setFiles(I,T),o({value:I})},required:m.required}),Te("div",{className:"fjs-filepicker-container",children:[Te("button",{type:"button",disabled:w,readOnly:u,className:"fjs-button fjs-filepicker-button",onClick:()=>{n.current.click()},children:"Browse"}),Te("span",{className:"fjs-form-field-label",children:nqt(S)})]}),Te(Ru,{id:_,errors:l})]})}function nqt(t){return 0===t.length?"No files selected":1===t.length?t[0].name:`${t.length} files selected`}var _Ae;function Kte(){return Kte=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Kte.apply(null,arguments)}bAe.config={type:"filepicker",keyed:!0,label:"File picker",group:"basic-input",emptyValue:null,create:(t={})=>({...t})};var rqt=function(n){return Qt("svg",Kte({xmlns:"http://www.w3.org/2000/svg",width:16,height:16},n),_Ae||(_Ae=Qt("path",{fill:"currentColor",d:"M13 12v2H3v-2H2v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2zm0-5-.705-.705-3.795 3.79V1h-1v9.085l-3.795-3.79L3 7l5 5z"})),Qt("path",{d:"M0 0h16v16H0z",style:{fill:"none"}}))};const Zm="documentPreview";function EAe(t){const n=vs("documentEndpointBuilder",!1),{field:i,domId:s}=t,{dataSource:o,maxHeight:a,label:l}=i,c=`${s}-error-message`,u=function aqt(t){const n=SP(t);return Array.isArray(n)?n.filter(oqt):[]}(o||""),d=If(l,{debug:!0});return Te("div",{class:ra(Zm),children:[Te(hl,{htmlFor:s,label:d}),Te("div",{class:`fjs-${Zm}-document-container`,id:s,children:u.map((p,f)=>{const h=dqt(()=>n?.buildUrl(p))??p.endpoint;return function sqt(t){return"string"==typeof t&&URL.canParse(t)}(h)?Te(cqt,{documentMetadata:p,endpoint:h,maxHeight:a,domId:`${s}-${f}`},p.documentId):null})}),Te(Ru,{id:c,errors:iqt({dataSource:o})})]})}function iqt(t){const{dataSource:n}=t;let i=[];return(!Or(n)||n.length<1)&&i.push("Document reference is not defined."),i}function oqt(t){return"object"==typeof t&&null!==t&&"documentId"in t&&"metadata"in t&&"object"==typeof t.metadata&&"fileName"in t.metadata}function lqt(t){const{url:n,onError:i,errorMessageId:s}=t,[o,a]=Ci(null),[l,c]=Ci(!1);return Bi(()=>{let u=null;return function(){var p=N(function*(){try{const f=yield fetch(n);if(!f.ok)return c(!0),void i();const h=yield f.blob();u=URL.createObjectURL(h),a(u)}catch{c(!0),i()}});return function(){return p.apply(this,arguments)}}()(),()=>{u&&URL.revokeObjectURL(u)}},[n,i]),Te(wa,{children:[null!==o?Te("embed",{src:o,type:"application/pdf",class:`fjs-${Zm}-pdf-viewer`}):null,l?Te(Ru,{id:s,errors:["Unable to download document"]}):null]})}function cqt(t){const{documentMetadata:n,endpoint:i,maxHeight:s,domId:o}=t,{metadata:a}=n,[l,c]=Ci(!1),u=Ds(null),d=function uqt(t){const[n,i]=Ci(!1);return Bi(()=>{const s=t.current;if(!s)return;const o=new IntersectionObserver(([a])=>{a.isIntersecting&&i(!0)},{threshold:0});return o.observe(s),()=>{s&&o.unobserve(s)}},[t]),n}(u),p=`fjs-${Zm}-single-document-container`,f=`${o}-error-message`,h="Unable to download document",m="string"==typeof a.contentType;return m&&a.contentType.toLowerCase().startsWith("image/")&&d?Te("div",{class:p,style:{maxHeight:s},"aria-describedby":l?f:void 0,children:[Te("img",{src:i,alt:a.fileName,class:`fjs-${Zm}-image`}),Te(xAe,{endpoint:i,fileName:a.fileName,onDownloadError:()=>{c(!0)}}),l?Te(Ru,{id:f,errors:[h]}):null]}):m&&"application/pdf"===a.contentType.toLowerCase()&&d?Te("div",{class:p,style:{maxHeight:s},"aria-describedby":l?f:void 0,children:Te(lqt,{url:i,fileName:a.fileName,onError:()=>c(!0),errorMessageId:f})}):Te("div",{class:rr()(`fjs-${Zm}-non-preview-item`,`fjs-${Zm}-single-document-container`),ref:u,"aria-describedby":l?f:void 0,children:[Te("div",{children:[Te("div",{class:"fjs-document-preview-title",children:a.fileName}),l?Te(Ru,{id:f,errors:[h]}):null]}),Te(xAe,{endpoint:i,fileName:a.fileName,onDownloadError:()=>{c(!0)}})]})}function xAe(t){const{endpoint:n,fileName:i,onDownloadError:s}=t;return Te("button",{type:"button",onClick:function(){var a=N(function*(){try{const l=yield fetch(n);if(!l.ok)return void s();const c=yield l.blob(),u=window.URL.createObjectURL(c),d=document.createElement("a");d.href=u,d.download=i,d.click(),window.URL.revokeObjectURL(u)}catch{s()}});return function(){return a.apply(this,arguments)}}(),class:rr()(`fjs-${Zm}-download-button`),"aria-label":`Download ${i}`,children:Te(rqt,{})})}EAe.config={type:Zm,keyed:!1,group:"presentation",name:"Document preview",create:(t={})=>({label:"Document preview",...t})};const dqt=t=>{try{return t()}catch(n){return console.error(n),null}};const gqt=[lAe,uAe,Vte,t7e,oAe,bAe,q8e,G8e,U7e,G7e,eAe,rAe,F7e,gAe,sAe,EAe,Q7e,Y7e,n7e,Z7e,i7e,H8e,Y8e];class CAe{constructor(){this._formFields={},gqt.forEach(n=>{this.register(n.config.type,n)})}register(n,i){this._formFields[n]=i}get(n){return this._formFields[n]}}const yqt=["alt","appearance.prefixAdorner","appearance.suffixAdorner","conditional.hide","description","label","source","readonly","text","validate.min","validate.max","validate.minLength","validate.maxLength","valuesExpression","url","dataSource","columnsExpression","expression","multiple","accept","title"],vqt=["alt","appearance.prefixAdorner","appearance.suffixAdorner","description","label","source","text","content","url","title"];function ao(t,n){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=n,this._eventBus=t,this._uid=1,t.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}ao.$inject=["eventBus","injector"],ao.prototype.execute=function(t,n){if(!t)throw new Error("command required");this._currentExecution.trigger="execute";const i={command:t,context:n};this._pushAction(i),this._internalExecute(i),this._popAction()},ao.prototype.canExecute=function(t,n){const i={command:t,context:n},s=this._getHandler(t);let o=this._fire(t,"canExecute",i);if(void 0===o){if(!s)return!1;s.canExecute&&(o=s.canExecute(n))}return o},ao.prototype.clear=function(t){this._stack.length=0,this._stackIdx=-1,!1!==t&&this._fire("changed",{trigger:"clear"})},ao.prototype.undo=function(){let n,t=this._getUndoAction();if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),n=this._getUndoAction(),n&&n.id===t.id);)t=n;this._popAction()}},ao.prototype.redo=function(){let n,t=this._getRedoAction();if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),n=this._getRedoAction(),n&&n.id===t.id);)t=n;this._popAction()}},ao.prototype.register=function(t,n){this._setHandler(t,n)},ao.prototype.registerHandler=function(t,n){if(!t||!n)throw new Error("command and handlerCls must be defined");const i=this._injector.instantiate(n);this.register(t,i)},ao.prototype.canUndo=function(){return!!this._getUndoAction()},ao.prototype.canRedo=function(){return!!this._getRedoAction()},ao.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},ao.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},ao.prototype._internalUndo=function(t){const n=t.command,i=t.context,s=this._getHandler(n);this._atomicDo(()=>{this._fire(n,"revert",t),s.revert&&this._markDirty(s.revert(i)),this._revertedAction(t),this._fire(n,"reverted",t)})},ao.prototype._fire=function(t,n,i){arguments.length<3&&(i=n,n=null);const s=n?[t+"."+n,n]:[t];let o;i=this._eventBus.createEvent(i);for(const a of s)if(o=this._eventBus.fire("commandStack."+a,i),i.cancelBubble)break;return o},ao.prototype._createId=function(){return this._uid++},ao.prototype._atomicDo=function(t){const n=this._currentExecution;n.atomic=!0;try{t()}finally{n.atomic=!1}},ao.prototype._internalExecute=function(t,n){const i=t.command,s=t.context,o=this._getHandler(i);if(!o)throw new Error("no command handler registered for <"+i+">");this._pushAction(t),n||(this._fire(i,"preExecute",t),o.preExecute&&o.preExecute(s),this._fire(i,"preExecuted",t)),this._atomicDo(()=>{this._fire(i,"execute",t),o.execute&&this._markDirty(o.execute(s)),this._executedAction(t,n),this._fire(i,"executed",t)}),n||(this._fire(i,"postExecute",t),o.postExecute&&o.postExecute(s),this._fire(i,"postExecuted",t)),this._popAction()},ao.prototype._pushAction=function(t){const n=this._currentExecution,i=n.actions,s=i[0];if(n.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+t.command+")");t.id||(t.id=s&&s.id||this._createId()),i.push(t)},ao.prototype._popAction=function(){const t=this._currentExecution,n=t.trigger,i=t.actions,s=t.dirty;i.pop(),i.length||(this._eventBus.fire("elements.changed",{elements:b7("id",s.reverse())}),s.length=0,this._fire("changed",{trigger:n}),t.trigger=null)},ao.prototype._markDirty=function(t){const n=this._currentExecution;t&&(t=Xt(t)?t:[t],n.dirty=n.dirty.concat(t))},ao.prototype._executedAction=function(t,n){const i=++this._stackIdx;n||this._stack.splice(i,this._stack.length,t)},ao.prototype._revertedAction=function(t){this._stackIdx--},ao.prototype._getHandler=function(t){return this._handlerMap[t]},ao.prototype._setHandler=function(t,n){if(!t||!n)throw new Error("command and handler required");if(this._handlerMap[t])throw new Error("overriding handler for command <"+t+">");this._handlerMap[t]=n};var $L="__fn",Iqt=Array.prototype.slice;function Nu(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function PP(){}Nu.prototype.on=function(t,n,i,s){if(t=Xt(t)?t:[t],Ar(n)&&(s=i,i=n,n=1e3),!Ln(n))throw new Error("priority must be a number");var o=i;s&&((o=Io(i,s))[$L]=i[$L]||i);var a=this;t.forEach(function(l){a._addListener(l,{priority:n,callback:o,next:null})})},Nu.prototype.once=function(t,n,i,s){var o=this;if(Ar(n)&&(s=i,i=n,n=1e3),!Ln(n))throw new Error("priority must be a number");function a(){a.__isTomb=!0;var l=i.apply(s,arguments);return o.off(t,a),l}a[$L]=i,this.on(t,n,a)},Nu.prototype.off=function(t,n){t=Xt(t)?t:[t];var i=this;t.forEach(function(s){i._removeListener(s,n)})},Nu.prototype.createEvent=function(t){var n=new PP;return n.init(t),n},Nu.prototype.fire=function(t,n){var i,s,o,a;if(a=Iqt.call(arguments),"object"==typeof t&&(t=(n=t).type),!t)throw new Error("no event type specified");if(s=this._listeners[t]){i=n instanceof PP?n:this.createEvent(n),a[0]=i;var l=i.type;t!==l&&(i.type=t);try{o=this._invokeListeners(i,a,s)}finally{t!==l&&(i.type=l)}return void 0===o&&i.defaultPrevented&&(o=!1),o}},Nu.prototype.handleError=function(t){return!1===this.fire("error",{error:t})},Nu.prototype._destroy=function(){this._listeners={}},Nu.prototype._invokeListeners=function(t,n,i){for(var s;i&&!t.cancelBubble;)s=this._invokeListener(t,n,i),i=i.next;return s},Nu.prototype._invokeListener=function(t,n,i){var s;if(i.callback.__isTomb)return s;try{s=function Rqt(t,n){return t.apply(null,n)}(i.callback,n),void 0!==s&&(t.returnValue=s,t.stopPropagation()),!1===s&&t.preventDefault()}catch(o){if(!this.handleError(o))throw console.error("unhandled error in event listener",o),o}return s},Nu.prototype._addListener=function(t,n){var s,i=this._getListeners(t);if(i){for(;i;){if(i.priority<n.priority)return n.next=i,void(s?s.next=n:this._setListeners(t,n));s=i,i=i.next}s.next=n}else this._setListeners(t,n)},Nu.prototype._getListeners=function(t){return this._listeners[t]},Nu.prototype._setListeners=function(t,n){this._listeners[t]=n},Nu.prototype._removeListener=function(t,n){var s,o,a,i=this._getListeners(t);if(n)for(;i;)s=i.next,((a=i.callback)===n||a[$L]===n)&&(o?o.next=s:this._setListeners(t,s)),o=i,i=s;else this._setListeners(t,null)},PP.prototype.stopPropagation=function(){this.cancelBubble=!0},PP.prototype.preventDefault=function(){this.defaultPrevented=!0},PP.prototype.init=function(t){Ce(this,t||{})};Symbol("fileRegistry"),Symbol("eventBus"),Symbol("formFieldRegistry"),Symbol("formFieldInstanceRegistry"),new Yd([32,36,1]);class Jqt extends cee{constructor(n,...i){super(...i),this._eventBus=n}getVariables(n){var i=this;return N(function*(){const s=yield i._eventBus.fire("formVariableProvider.getFormSchema",{element:n});if(!s)return;let o;try{o=function bqt(t,n={}){const{formFields:i=new CAe,expressionLanguage:s=new w8e(null),templating:o=new C8e,inputs:a=!0,outputs:l=!0}=n;if(!t.components)return[];const c=p=>{const f=[];return p.components&&p.components.forEach(h=>{f.push(h),f.push(...c(h))}),f},u=c(t).reduce((p,f)=>{const{valuesKey:h}=f;return a&&(h&&(p=[...p,h]),yqt.forEach(m=>{const y=Ja(f,m.split("."));if(y&&s.isExpression(y)){const E=s.getVariableNames(y,{type:"expression"});p=[...p,...E]}}),vqt.forEach(m=>{const y=Ja(f,m.split("."));if(y&&!s.isExpression(y)&&o.isTemplate(y)){const E=o.getVariableNames(y);p=[...p,...E]}})),p.filter(m=>"string"==typeof m)},[]),d=p=>{const f=[],h=i.get(p.type);return h&&h.config.keyed&&p.key?[p.key.split(".")[0]]:h&&h.config.pathed&&p.path?[p.path.split(".")[0]]:(p.components&&p.components.forEach(m=>{f.push(...d(m))}),f)};return(a||l)&&u.push(...d(t)),Array.from(new Set(u))}(JSON.parse(s),{inputs:!1,outputs:!0})}catch{return}return o.map(a=>({name:a,info:`Returned from Form in ${n.name||n.id}`}))})()}static $inject=["eventBus",...super.$inject]}function BAe(t,n){let s=[];const o=G(t).get("extensionElements");if(typeof o<"u"){const a=o.get("values");typeof a<"u"&&(s=a.filter(l=>D(l,n)))}return s}function $Ae(t){t.on("formVariableProvider.getFormSchema",eWt)}function eWt({element:t}){const n=BAe(t,"zeebe:FormDefinition")[0];if(!n)return;const i=n.formKey;if(!i)return;const s=i.replace("camunda-forms:bpmn:",""),o=function tWt(t){let n=t.$parent;for(;n&&!D(n,"bpmn:Process");)n=n.$parent;return n}(t),l=BAe(o,"zeebe:UserTaskForm").find(c=>c.id===s);return l?l.body:void 0}$Ae.$inject=["eventBus"];var nWt={__init__:["formVariableProvider","formVariableProvider.formExtractor"],formVariableProvider:["type",Jqt],"formVariableProvider.formExtractor":["type",$Ae]};function DP(t,n,i,s){this._contextPad=t,this._popupMenu=n,this._canvas=i,this._translate=s,t.registerProvider(this)}function iWt(t,n){var o=t.getPad(n).html.getBoundingClientRect();return{x:o.left,y:o.bottom+5}}DP.$inject=["contextPad","popupMenu","canvas","translate"],DP.prototype.getContextPadEntries=function(t){return this._createPopupAction([t])},DP.prototype.getMultiElementContextPadEntries=function(t){return this._createPopupAction(t)},DP.prototype._createPopupAction=function(t){const i=this._contextPad,s=this._popupMenu;return{"set-color":{group:"edit",className:"bpmn-icon-color",title:(0,this._translate)("Set color"),html:'<div class="entry"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor">\n  <path d="m12.5 5.5.3-.4 3.6-3.6c.5-.5 1.3-.5 1.7 0l1 1c.5.4.5 1.2 0 1.7l-3.6 3.6-.4.2v.2c0 1.4.6 2 1 2.7v.6l-1.7 1.6c-.2.2-.4.2-.6 0L7.3 6.6a.4.4 0 0 1 0-.6l.3-.3.5-.5.8-.8c.2-.2.4-.1.6 0 .9.5 1.5 1.1 3 1.1zm-9.9 6 4.2-4.2 6.3 6.3-4.2 4.2c-.3.3-.9.3-1.2 0l-.8-.8-.9-.8-2.3-2.9" />\n</svg></div>',action:{click:(o,a)=>{var l={...iWt(i,t),cursor:{x:o.x,y:o.y}};s.open(t,"color-picker",l)}}}}};const sWt=[{label:"Default",fill:void 0,stroke:void 0},{label:"Blue",fill:"#BBDEFB",stroke:"#0D4372"},{label:"Orange",fill:"#FFE0B2",stroke:"#6B3C00"},{label:"Green",fill:"#C8E6C9",stroke:"#205022"},{label:"Red",fill:"#FFCDD2",stroke:"#831311"},{label:"Purple",fill:"#E1BEE7",stroke:"#5B176D"}];function tne(t,n,i,s,o){this._popupMenu=i,this._modeling=s,this._translate=o,this._colors=t&&t.colors||sWt,this._defaultFillColor=n&&n.defaultFillColor||"white",this._defaultStrokeColor=n&&n.defaultStrokeColor||"rgb(34, 36, 42)",this._popupMenu.registerProvider("color-picker",this)}function oWt(t,n,i){return function(){t.setColor(n,i)}}tne.$inject=["config.colorPicker","config.bpmnRenderer","popupMenu","modeling","translate"],tne.prototype.getEntries=function(t){var n=this;return this._colors.map(function(o){var a='\n    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" height="100%" width="100%">\n      <rect rx="2" x="1" y="1" width="22" height="22" fill="var(--fill-color)" stroke="var(--stroke-color)" style="stroke-width:2"></rect>\n    </svg>\n  '.replace("var(--fill-color)",o.fill||n._defaultFillColor).replace("var(--stroke-color)",o.stroke||n._defaultStrokeColor);return{title:n._translate(o.label),id:o.label.toLowerCase()+"-color",imageHtml:a,action:oWt(n._modeling,t,o)}})};const aWt={__init__:["colorContextPadProvider","colorPopupProvider"],colorContextPadProvider:["type",DP],colorPopupProvider:["type",tne]};function nne(t,n,i,s,o){this._eventBus=n,this._elementTemplates=i,this._translate=s,this._popupMenu=o,(!t||!1!==t.elementTemplateChooser)&&n.on("elementTemplates.select",l=>{const{element:c}=l;this.open(c).then(u=>{i.applyTemplate(c,u)}).catch(u=>{"user-canceled"!==u&&console.error("elementTemplate.select :: error",u)})})}function p5(t,n,i,s){this._popupMenu=t,this._eventBus=n,this._translate=i,this._elementTemplates=s,this.register()}nne.$inject=["config.connectorsExtension","eventBus","elementTemplates","translate","popupMenu"],nne.prototype.open=function(t){const n=this._popupMenu,i=this._translate,s=this._eventBus;return new Promise((o,a)=>{const l=()=>a("user-canceled");s.once("popupMenu.close",l),s.once("elementTemplateChooser.chosen",c=>{const{template:u}=c;s.off("popupMenu.close",l),o(u)}),n.open(t,"element-template-chooser",{x:0,y:0},{title:i("Choose element template"),search:!0,width:350})})},p5.$inject=["popupMenu","eventBus","translate","elementTemplates"],p5.prototype.register=function(){this._popupMenu.registerProvider("element-template-chooser",this)},p5.prototype.getPopupMenuEntries=function(t){return this.getTemplateEntries(t).reduce((n,[i,s])=>(n[i]=s,n),{})},p5.prototype.getTemplateEntries=function(t){const n=this._eventBus,i=this._translate;return this._getMatchingTemplates(t).map(s=>{const{icon:o={},category:a}=s;return[`apply-template-${s.id}`,{label:s.name&&i(s.name),description:s.description&&i(s.description),documentationRef:s.documentationRef,imageUrl:o.contents,group:a&&{...a,name:i(a.name)},action:()=>{n.fire("elementTemplateChooser.chosen",{element:t,template:s})}}]})},p5.prototype._getMatchingTemplates=function(t){return this._elementTemplates.getLatest().filter(n=>un(t,n.appliesTo)&&!function lWt(t,n){const i=G(t);return!!i&&i.get("modelerTemplate")===n.id}(t,n))};var cWt={__init__:["elementTemplateChooser","elementTemplateChooserEntryProvider"],elementTemplateChooser:["type",nne],elementTemplateChooserEntryProvider:["type",p5]};const jL=Object.prototype.toString,uWt=Object.prototype.hasOwnProperty;function VAe(t){return void 0===t}function rne(t){return"[object Array]"===jL.call(t)}function jAe(t){return"[object Object]"===jL.call(t)}function zAe(t){return"[object Number]"===jL.call(t)}function kP(t){const n=jL.call(t);return"[object Function]"===n||"[object AsyncFunction]"===n||"[object GeneratorFunction]"===n||"[object AsyncGeneratorFunction]"===n||"[object Proxy]"===n}function HAe(t,n){return!function dWt(t){return null==t}(t)&&uWt.call(t,n)}function UAe(t,n){const i=function fWt(t){return kP(t)?t:n=>n===t}(n);let s;return qAe(t,function(o,a){if(i(o,a))return s=o,!1}),s}function qAe(t,n){let i,s;if(VAe(t))return;const o=rne(t)?mWt:hWt;for(let a in t)if(HAe(t,a)&&(i=t[a],s=n(i,o(a)),!1===s))return i}function hWt(t){return t}function mWt(t){return Number(t)}function MP(t,...n){return Object.assign(t,...n)}const AP={id:"events",name:"Events"},gWt={id:"tasks",name:"Tasks"},yWt={id:"data",name:"Data"},vWt={id:"participants",name:"Participants"},bWt={id:"subprocess",name:"Sub-processes"},_Wt={id:"gateways",name:"Gateways"},EWt=[{label:"Start event",actionName:"none-start-event",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"Boundary event",actionName:"none-boundary-event",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:BoundaryEvent"}},{label:"End event",actionName:"none-end-event",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}].map(t=>({...t,group:AP})),xWt=[{label:"Message start event",actionName:"message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer start event",actionName:"timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional start event",actionName:"conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal start event",actionName:"signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}].map(t=>({...t,group:AP})),wWt=[{label:"Message intermediate catch event",actionName:"message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer intermediate catch event",actionName:"timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link intermediate catch event",actionName:"link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link intermediate throw event",actionName:"link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation intermediate throw event",actionName:"compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal intermediate catch event",actionName:"signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}].map(t=>({...t,group:AP})),CWt=[{label:"Message boundary event",actionName:"message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer boundary event",actionName:"timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation boundary event",actionName:"escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional boundary event",actionName:"conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Error boundary event",actionName:"error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel boundary event",actionName:"cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Signal boundary event",actionName:"signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Compensation boundary event",actionName:"compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message boundary event (non-interrupting)",actionName:"non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer boundary event (non-interrupting)",actionName:"non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation boundary event (non-interrupting)",actionName:"non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional boundary event (non-interrupting)",actionName:"non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal boundary event (non-interrupting)",actionName:"non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}].map(t=>({...t,group:AP})),SWt=[{label:"Message end event",actionName:"message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation end event",actionName:"escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error end event",actionName:"error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel end event",actionName:"cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation end event",actionName:"compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal end event",actionName:"signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate end event",actionName:"terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}].map(t=>({...t,group:AP})),OWt=[{label:"Exclusive gateway",actionName:"exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel gateway",actionName:"parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive gateway",search:"or",actionName:"inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"},rank:-1},{label:"Complex gateway",actionName:"complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"},rank:-1},{label:"Event-based gateway",actionName:"event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}].map(t=>({...t,group:_Wt})),TWt=[{label:"Call activity",actionName:"call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Transaction",actionName:"transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",search:"subprocess",actionName:"event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub-process (collapsed)",search:"subprocess",actionName:"collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub-process (expanded)",search:"subprocess",actionName:"expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Ad-hoc sub-process (collapsed)",search:"adhoc subprocess",actionName:"collapsed-ad-hoc-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:AdHocSubProcess",isExpanded:!1}},{label:"Ad-hoc sub-process (expanded)",search:"adhoc subprocess",actionName:"expanded-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}}].map(t=>({...t,group:bWt})),WAe=[...OWt,...[{label:"Task",actionName:"task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User task",actionName:"user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service task",actionName:"service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send task",actionName:"send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"},rank:-1},{label:"Receive task",actionName:"receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"},rank:-1},{label:"Manual task",actionName:"manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"},rank:-1},{label:"Business rule task",actionName:"rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script task",actionName:"script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}}].map(t=>({...t,group:gWt})),...TWt,...EWt,...xWt,...wWt,...SWt,...CWt,...[{label:"Data store reference",actionName:"data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}},{label:"Data object reference",actionName:"data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}].map(t=>({...t,group:yWt})),...[{label:"Expanded pool/participant",search:"Non-empty pool/participant",actionName:"expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:"Empty pool/participant",search:"Collapsed pool/participant",actionName:"collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}].map(t=>({...t,group:vWt}))];function o2(t,n,i,s,o,a,l){this._elementFactory=t,this._popupMenu=n,this._create=i,this._autoPlace=s,this._rules=o,this._create=i,this._mouse=a,this._translate=l,this.register()}function IP(t,n,i,s,o){this._contextPad=t,this._popupMenu=n,this._translate=i,this._canvas=s,this._rules=o,this.register()}function ine(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}function jy(t,n){var i=f5(t);return i&&"function"==typeof i.$instanceOf&&i.$instanceOf(n)}function GAe(t,n){return function pWt(t,n){return!!UAe(t,n)}(n,function(i){return jy(t,i)})}function f5(t){return t&&t.businessObject||t}function Pd(t){this._eventBus=t}function Jm(t){return function(i,s,o,a,l){(kP(i)||zAe(i))&&(l=a,a=o,o=s,s=i,i=null),this.on(i,t,s,o,a,l)}}function h5(t){Pd.call(this,t),this.init()}function zL(t){h5.call(this,t)}o2.$inject=["elementFactory","popupMenu","create","autoPlace","rules","mouse","translate"],o2.prototype.register=function(){this._popupMenu.registerProvider("bpmn-append",this)},o2.prototype.getPopupMenuEntries=function(t){const i=this._translate,s={};return this._rules.allowed("shape.append",{element:t})?(this._filterEntries(WAe).forEach(a=>{const{actionName:l,className:c,label:u,target:d,description:p,group:f,search:h,rank:m}=a;s[`append-${l}`]={label:u&&i(u),className:c,description:p,group:f&&{...f,name:i(f.name)},search:h,rank:m,action:this._createEntryAction(t,d)}}),s):[]},o2.prototype._filterEntries=function(t){return t.filter(n=>{const i=n.target,{type:s,eventDefinitionType:o}=i;return!(["bpmn:StartEvent","bpmn:Participant"].includes(s)||"bpmn:BoundaryEvent"===s&&VAe(o))})},o2.prototype._createEntryAction=function(t,n){const i=this._elementFactory,s=this._autoPlace,o=this._create,a=this._mouse,c=u=>{const d=i.create("shape",n);return u instanceof KeyboardEvent&&(u=a.getLastMoveEvent()),o.start(u,d,{source:t})};return{click:this._canAutoPlaceElement(n)?()=>{const u=i.create("shape",n);s.append(t,u)}:c,dragstart:c}},o2.prototype._canAutoPlaceElement=t=>{const{type:n}=t;return!("bpmn:BoundaryEvent"===n||"bpmn:SubProcess"===n&&t.triggeredByEvent||"bpmn:IntermediateCatchEvent"===n&&"bpmn:LinkEventDefinition"===t.eventDefinitionType)},IP.$inject=["contextPad","popupMenu","translate","canvas","rules"],IP.prototype.register=function(){this._contextPad.registerProvider(this)},IP.prototype.getContextPadEntries=function(t){const n=this._popupMenu,i=this._translate,s=this._rules,o=this._getAppendMenuPosition.bind(this);if(s.allowed("shape.append",{element:t}))return{append:{group:"model",html:'<div class="entry"><svg width="22" height="22" viewBox="0 0 5.82 5.82" xmlns="http://www.w3.org/2000/svg" fill="currentColor">\n  <path d="M1.3 3.4c.3 0 .5-.2.5-.5s-.2-.4-.5-.4c-.2 0-.4.1-.4.4 0 .3.2.5.4.5zM3 3.4c.2 0 .4-.2.4-.5s-.2-.4-.4-.4c-.3 0-.5.1-.5.4 0 .3.2.5.5.5zM4.6 3.4c.2 0 .4-.2.4-.5s-.2-.4-.4-.4c-.3 0-.5.1-.5.4 0 .3.2.5.5.5z"/>\n</svg></div>',title:i("Append element"),action:{click:function(a,l){const c=MP(o(l),{cursor:{x:a.x,y:a.y}});n.open(l,"bpmn-append",c,{title:i("Append element"),width:300,search:!0})}}}}},IP.prototype._getAppendMenuPosition=function(t){const s=this._canvas.getContainer().querySelector(".djs-context-pad").getBoundingClientRect();return{x:s.right+5,y:s.top}},Pd.$inject=["eventBus"],Pd.prototype.on=function(t,n,i,s,o,a){if((kP(n)||zAe(n))&&(a=o,o=s,s=i,i=n,n=null),kP(i)&&(a=o,o=s,s=i,i=1e3),jAe(o)&&(a=o,o=!1),!kP(s))throw new Error("handlerFn must be a function");rne(t)||(t=[t]);var l=this._eventBus;qAe(t,function(c){var u=["commandStack",c,n].filter(function(d){return d}).join(".");l.on(u,i,o?function LWt(t,n){return function(i){return t.call(n||null,i.context,i.command,i)}}(s,a):s,a)})},Pd.prototype.canExecute=Jm("canExecute"),Pd.prototype.preExecute=Jm("preExecute"),Pd.prototype.preExecuted=Jm("preExecuted"),Pd.prototype.execute=Jm("execute"),Pd.prototype.executed=Jm("executed"),Pd.prototype.postExecute=Jm("postExecute"),Pd.prototype.postExecuted=Jm("postExecuted"),Pd.prototype.revert=Jm("revert"),Pd.prototype.reverted=Jm("reverted"),h5.$inject=["eventBus"],ine(h5,Pd),h5.prototype.addRule=function(t,n,i){var s=this;"string"==typeof t&&(t=[t]),t.forEach(function(o){s.canExecute(o,n,function(a,l,c){return i(a)},!0)})},h5.prototype.init=function(){},ine(zL,h5),zL.$inject=["eventBus"],zL.prototype.init=function(){this.addRule("shape.append",function(t){const n=t.element,i=f5(n);if(function RWt(t){return jAe(t)&&HAe(t,"labelTarget")}(n)||GAe(n,["bpmn:EndEvent","bpmn:Group","bpmn:TextAnnotation","bpmn:Lane","bpmn:Participant","bpmn:DataStoreReference","bpmn:DataObjectReference"])||function BWt(t){return t.waypoints}(n)||jy(n,"bpmn:IntermediateThrowEvent")&&function FWt(t,n){return!!UAe(f5(t).eventDefinitions||[],function(s){return jy(s,n)})}(n,"bpmn:LinkEventDefinition")||jy(n,"bpmn:SubProcess")&&i.triggeredByEvent)return!1})};var HL,sne={__init__:["appendMenuProvider","appendContextPadProvider","appendRules"],appendMenuProvider:["type",o2],appendContextPadProvider:["type",IP],appendRules:["type",zL]};function RP(t,n,i,s,o,a){this._elementFactory=t,this._popupMenu=n,this._create=i,this._autoPlace=s,this._mouse=o,this._translate=a,this.register()}function UL(t,n,i,s,o){this._palette=t,this._translate=n,this._popupMenu=i,this._canvas=s,this._mouse=o,this.register()}RP.$inject=["elementFactory","popupMenu","create","autoPlace","mouse","translate"],RP.prototype.register=function(){this._popupMenu.registerProvider("bpmn-create",this)},RP.prototype.getPopupMenuEntries=function(){const t={};return WAe.forEach(n=>{const{actionName:i,className:s,label:o,target:a,description:l,group:c,search:u,rank:d}=n,p=this._createEntryAction(a);t[`create-${i}`]={label:o&&this._translate(o),className:s,description:l,group:c&&{...c,name:this._translate(c.name)},search:u,rank:d,action:{click:p,dragstart:p}}}),t},RP.prototype._createEntryAction=function(t){const n=this._create,i=this._mouse,s=this._popupMenu,o=this._elementFactory;let a;return l=>(s.close(),a="bpmn:Participant"===t.type?o.createParticipantShape(t):o.create("shape",t),l instanceof KeyboardEvent&&(l=i.getLastMoveEvent()),n.start(l,a))},typeof document<"u"&&((HL=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',HL.getElementsByTagName("link"),HL=void 0),UL.$inject=["palette","translate","popupMenu","canvas","mouse"],UL.prototype.register=function(){this._palette.registerProvider(900,this)},UL.prototype.getPaletteEntries=function(t){const n=this._translate,i=this._popupMenu,s=this._canvas,o=this._mouse;return{create:{group:"create",html:'<div class="entry"> <svg width="46" height="46" viewBox="-2 -2 9.82 9.82" xmlns="http://www.w3.org/2000/svg" fill="currentColor">\n  <path d="M1.3 3.4c.3 0 .5-.2.5-.5s-.2-.4-.5-.4c-.2 0-.4.1-.4.4 0 .3.2.5.4.5zM3 3.4c.2 0 .4-.2.4-.5s-.2-.4-.4-.4c-.3 0-.5.1-.5.4 0 .3.2.5.5.5zM4.6 3.4c.2 0 .4-.2.4-.5s-.2-.4-.4-.4c-.3 0-.5.1-.5.4 0 .3.2.5.5.5z"/>\n</svg></div>',title:n("Create element"),action:{click:function(l){const c=(l=>{if(l instanceof KeyboardEvent)return{x:(l=o.getLastMoveEvent()).x,y:l.y};const d=l&&l.target||function $Wt(t,n){return(n=n||document).querySelector(t)}('.djs-palette [data-action="create"]'),p=d.getBoundingClientRect();return d&&{x:p.left+p.width/2+35,y:p.top+p.height/2+10}})(l),u=s.getRootElement();i.open(u,"bpmn-create",c,{title:n("Create element"),width:300,search:!0})}}}}};var one={__init__:["createMenuProvider","createPaletteProvider"],createMenuProvider:["type",RP],createPaletteProvider:["type",UL]};function ane(t){this._injector=t,this.registerActions()}ane.$inject=["injector"],ane.prototype.registerActions=function(){const t=this._injector.get("editorActions",!1),n=this._injector.get("selection",!1),i=this._injector.get("contextPad",!1),s=this._injector.get("palette",!1),o=this._injector.get("popupMenu",!1),a={};n&&i&&s&&o&&s&&MP(a,{appendElement:function(l){const c=n&&n.get();1!=c.length||o.isEmpty(c[0],"bpmn-append")?s.triggerEntry("create","click",l):i.triggerEntry("append","click",l)}}),s&&MP(a,{createElement:function(l){s.triggerEntry("create","click",l)}}),t&&t.register(a)};var jWt={__depends__:[sne,one],__init__:["createAppendEditorActions"],createAppendEditorActions:["type",ane]},zWt=["c","C"],HWt=["v","V"],UWt=["y","Y"],KAe=["z","Z"];function a2(t){return!t.altKey&&(t.ctrlKey||t.metaKey)}function eg(t,n){return-1!==(t=rne(t)?t:[t]).indexOf(n.key)||-1!==t.indexOf(n.code)}function YAe(t){return t.shiftKey}function NP(t,n){var i=this;t.on("editorActions.init",500,function(s){i.registerBindings(n,s.editorActions)})}function qL(t){this._injector=t,this._keyboard=this._injector.get("keyboard",!1),this._editorActions=this._injector.get("editorActions",!1),this._keyboard&&this._injector.invoke(NP,this)}NP.$inject=["eventBus","keyboard"],NP.prototype.registerBindings=function(t,n){function i(s,o){n.isRegistered(s)&&t.addListener(o)}i("undo",function(s){if(function GWt(t){return a2(t)&&!YAe(t)&&eg(KAe,t)}(s.keyEvent))return n.trigger("undo"),!0}),i("redo",function(s){if(function KWt(t){return a2(t)&&(eg(UWt,t)||eg(KAe,t)&&YAe(t))}(s.keyEvent))return n.trigger("redo"),!0}),i("copy",function(s){if(function qWt(t){return a2(t)&&eg(zWt,t)}(s.keyEvent))return n.trigger("copy"),!0}),i("paste",function(s){if(function WWt(t){return a2(t)&&eg(HWt,t)}(s.keyEvent))return n.trigger("paste"),!0}),i("stepZoom",function(s){var o=s.keyEvent;if(eg(["+","Add","="],o)&&a2(o))return n.trigger("stepZoom",{value:1}),!0}),i("stepZoom",function(s){var o=s.keyEvent;if(eg(["-","Subtract"],o)&&a2(o))return n.trigger("stepZoom",{value:-1}),!0}),i("zoom",function(s){var o=s.keyEvent;if(eg("0",o)&&a2(o))return n.trigger("zoom",{value:1}),!0}),i("removeSelection",function(s){if(eg(["Backspace","Delete","Del"],s.keyEvent))return n.trigger("removeSelection"),!0})},ine(qL,NP),qL.$inject=["injector"],qL.prototype.registerBindings=function(){const t=this._keyboard,n=this._editorActions;function i(s,o){n&&n.isRegistered(s)&&t&&t.addListener(o)}NP.prototype.registerBindings.call(this,t,n),i("appendElement",function(s){const o=s.keyEvent;if((!t||!t.hasModifier(o))&&t&&t.isKey(["a","A"],o))return n&&n.trigger("appendElement",o),!0}),i("createElement",function(s){const o=s.keyEvent;if((!t||!t.hasModifier(o))&&t&&t.isKey(["n","N"],o))return n&&n.trigger("createElement",o),!0})};var QWt={__depends__:[sne,one,jWt,{__depends__:[sne,one],__init__:["createAppendKeyboardBindings"],createAppendKeyboardBindings:["type",qL]}]};function l2(t,n,i,s,o,a,l){this._popupMenu=t,this._translate=n,this._elementTemplates=i,this._autoPlace=s,this._create=o,this._mouse=a,this._rules=l,this.register()}l2.$inject=["popupMenu","translate","elementTemplates","autoPlace","create","move","rules"],l2.prototype.register=function(){this._popupMenu.registerProvider("bpmn-append",this)},l2.prototype.getPopupMenuEntries=function(t){return n=>{if(!this._rules.allowed("shape.append",{element:t}))return[];const i=this._filterTemplates(this._elementTemplates.getLatest());return MP(n,this.getTemplateEntries(t,i)),n}},l2.prototype.getTemplateEntries=function(t,n){const i={};return n.map(s=>{const{icon:o={},category:a}=s,l=`append.template-${s.id}`,c={id:"templates",name:this._translate("Templates")};i[l]={label:s.name,description:s.description,documentationRef:s.documentationRef,imageUrl:o.contents,group:a||c,action:this._getEntryAction(t,s)}}),i},l2.prototype._filterTemplates=function(t){return t.filter(n=>{const{appliesTo:i,elementType:s}=n,o=s&&s.value||i[0];return!(["bpmn:StartEvent","bpmn:Participant"].includes(o)||"bpmn:SequenceFlow"===o)})},l2.prototype._getEntryAction=function(t,n){return{click:()=>{const i=this._elementTemplates.createElement(n);this._autoPlace.append(t,i)},dragstart:i=>{const s=this._elementTemplates.createElement(n);i instanceof KeyboardEvent&&(i=this._mouse.getLastMoveEvent()),this._create.start(i,s,{source:t})}}};var ZWt={__init__:["elementTemplatesAppendProvider"],elementTemplatesAppendProvider:["type",l2]};function m5(t,n,i,s,o){this._popupMenu=t,this._translate=n,this._elementTemplates=i,this._mouse=s,this._create=o,this.register()}m5.$inject=["popupMenu","translate","elementTemplates","mouse","create"],m5.prototype.register=function(){this._popupMenu.registerProvider("bpmn-create",this)},m5.prototype.getPopupMenuEntries=function(t){return n=>(MP(n,this.getTemplateEntries(t)),n)},m5.prototype.getTemplateEntries=function(){const t=this._elementTemplates.getLatest(),n={};return t.map(i=>{const{icon:s={},category:o}=i,a=`create.template-${i.id}`,l={id:"templates",name:this._translate("Templates")};n[a]={label:i.name,description:i.description,documentationRef:i.documentationRef,imageUrl:s.contents,group:o||l,action:{click:this._getEntryAction(i),dragstart:this._getEntryAction(i)}}}),n},m5.prototype._getEntryAction=function(t){const n=this._create,i=this._popupMenu,s=this._elementTemplates,o=this._mouse;return a=>{i.close();let l=s.createElement(t);return a instanceof KeyboardEvent&&(a=o.getLastMoveEvent()),n.start(a,l)}};var JWt={__init__:["elementTemplatesCreateProvider"],elementTemplatesCreateProvider:["type",m5]};function g5(t,n,i){this._popupMenu=t,this._translate=n,this._elementTemplates=i,this.register()}g5.$inject=["popupMenu","translate","elementTemplates"],g5.prototype.register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},g5.prototype.getPopupMenuEntries=function(t){return n=>{let i=Object.entries(n);return i=[...i,...this.getTemplateEntries(t)],i.reduce((s,[o,a])=>(s[o]=a,s),{})}},g5.prototype.getTemplateEntries=function(t){return this._getMatchingTemplates(t).map(i=>{const{icon:s={},category:o}=i,a=`replace.template-${i.id}`,l={id:"templates",name:this._translate("Templates")};return[a,{label:i.name,description:i.description,documentationRef:i.documentationRef,imageUrl:s.contents,group:o||l,action:()=>{this._elementTemplates.applyTemplate(t,i)}}]})},g5.prototype._getMatchingTemplates=function(t){return this._elementTemplates.getLatest().filter(n=>GAe(t,n.appliesTo)&&!function eGt(t,n){const i=f5(t);return!!i&&i.get("zeebe:modelerTemplate")===n.id}(t,n))};var tGt={__init__:["elementTemplatesReplaceProvider"],elementTemplatesReplaceProvider:["type",g5]};var XAe=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Ad-hoc sub-process",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}];const _Gt=Object.values(Object.freeze({__proto__:null,AD_HOC_SUBPROCESS_EXPANDED:[{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Ad-hoc sub-process (collapsed)",actionName:"replace-with-collapsed-ad-hoc-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:AdHocSubProcess",isExpanded:!1}}],BOUNDARY_EVENT:[{label:"Message boundary event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!0}},{label:"Timer boundary event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!0}},{label:"Escalation boundary event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!0}},{label:"Conditional boundary event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!0}},{label:"Error boundary event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",cancelActivity:!0}},{label:"Cancel boundary event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition",cancelActivity:!0}},{label:"Signal boundary event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!0}},{label:"Compensation boundary event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",cancelActivity:!0}},{label:"Message boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],DATA_OBJECT_REFERENCE:[{label:"Data store reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],DATA_STORE_REFERENCE:[{label:"Data object reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],END_EVENT:[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel end event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate end event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],EVENT_SUB_PROCESS:XAe,EVENT_SUB_PROCESS_START_EVENT:[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!0}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!0}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!0}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!0}},{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",isInterrupting:!0}},{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!0}},{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",isInterrupting:!0}},{label:"Message start event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer start event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional start event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal start event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation start event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],GATEWAY:[{label:"Exclusive gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event-based gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],INTERMEDIATE_EVENT:[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link intermediate catch event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link intermediate throw event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],PARTICIPANT:[{label:"Expanded pool/participant",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(t){var n="Empty pool/participant";return t.children&&t.children.length&&(n+=" (removes content)"),n},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}],SEQUENCE_FLOW:[{label:"Sequence flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],START_EVENT:[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],START_EVENT_SUB_PROCESS:[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],SUBPROCESS_EXPANDED:[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Ad-hoc sub-process",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],TASK:[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business rule task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub-process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Ad-hoc sub-process (collapsed)",actionName:"replace-with-collapsed-ad-hoc-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:AdHocSubProcess",isExpanded:!1}},{label:"Ad-hoc sub-process (expanded)",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}}],TRANSACTION:XAe}));function y5(t,n,i){this._popupMenu=t,this._translate=n,this._elementTemplates=i,this.register()}function QAe(t,n,i){const s=t[n];return!!s&&i.findIndex(([o])=>o===s.actionName)}y5.$inject=["popupMenu","translate","elementTemplates"],y5.prototype.register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},y5.prototype.getPopupMenuEntries=function(t){return n=>{let i=Object.entries(n);return this._elementTemplates&&this._elementTemplates.get(t)&&this.addPlainElementEntry(t,i,this._translate,this._elementTemplates),i.reduce((s,[o,a])=>(s[o]=a,s),{})}},y5.prototype.addPlainElementEntry=function(t,n,i,s){const o=this.getPlainEntry(t,n,i,s);if(!o)return;const[a,l]=o;n.splice(a,0,[l.id,l])},y5.prototype.getPlainEntry=function(t,n,i,s){const{options:o,option:a,optionIndex:l}=function xGt(t){const n=(i,s)=>s.target&&!function rGt(t){return function(n){var i=n.target,s=f5(t),o=s.eventDefinitions&&s.eventDefinitions[0],a=s.$type===i.type,l=(o&&o.$type)===i.eventDefinitionType,c=!!i.triggeredByEvent==!!s.triggeredByEvent,u=void 0===i.isExpanded||i.isExpanded===function nGt(t,n){return!jy(t,"bpmn:CallActivity")&&(jy(t,"bpmn:SubProcess")?(n=n||function IWt(t){return t&&t.di}(t),!(!n||!jy(n,"bpmndi:BPMNPlane"))||n&&!!n.isExpanded):!jy(t,"bpmn:Participant")||!!f5(t).processRef)}(t);return!(a&&l&&c&&u)}}(i)(s);return function EGt(){return _Gt}().reduce((i,s)=>{if(i)return i;const o=s.findIndex(a=>n(t,a));return-1!==o?{options:s,option:s[o],optionIndex:o}:void 0},null)}(t)||{};if(!o)return null;const c={id:"replace-remove-element-template",action:()=>{s.removeTemplate(t)},label:i(a.label),className:a.className},u=QAe(o,l-1,n);if(u)return[u+1,c];const d=QAe(o,l+1,n);return d?[d,c]:[0,c]};var CGt={__depends__:[ZWt,JWt,tGt,{__init__:["removeTemplateReplaceProvider"],removeTemplateReplaceProvider:["type",y5]}]};const SGt=Ts([{entries:["replace-with-call-activity","append-call-activity","create-call-activity"],search:"child process"},{entries:["replace-with-receive-task","append-receive-task","create-receive-task"],search:"message"},{entries:["replace-with-rule-task","append-rule-task","create-rule-task"],search:"dmn decision"},{entries:["replace-with-service-task","append-service-task","create-service-task","replace-with-script-task","append-script-task","create-script-task","replace-with-send-task","append-send-task","create-send-task","replace-with-message-intermediate-throw","append-message-intermediate-throw","create-message-intermediate-throw","replace-with-message-end","append-message-end","create-message-end"],search:"job worker"},{entries:["replace-with-user-task","append-user-task","create-user-task"],search:"form human"}],(t,n)=>{const{entries:i,search:s}=n;for(const o of i)t[o]?t[o].search+=" "+s:t[o]={search:s};return t},{});function LP(t){this._popupMenu=t,this.register()}LP.$inject=["popupMenu"],LP.prototype.register=function(){this._popupMenu.registerProvider("bpmn-create",250,this),this._popupMenu.registerProvider("bpmn-append",250,this),this._popupMenu.registerProvider("bpmn-replace",250,this)},LP.prototype.getPopupMenuEntries=function(t){return n=>Object.entries(n).reduce((i,[s,o])=>(i[s]=this._annotateEntry(s,o),i),{})},LP.prototype._annotateEntry=function(t,n){const i=SGt[t];return i?{...n,search:n.search?`${n.search} ${i.search}`:i.search}:n};const OGt={__init__:["camundaDetailsPopupMenuProvider"],camundaDetailsPopupMenuProvider:["type",LP]};let TGt=(()=>class t{static $inject=["config.resources"];constructor(i){this._resources=i||[]}set(i){this._resources=i}getAll(){return this._resources}filter(i){return this._resources.filter(i)}})(),PGt=(()=>class t{static $inject=["eventBus","resources"];constructor(i,s){this._resources=s,this._providers=[],i.on("diagram.init",()=>{this.reload()})}register(i){this._providers.push(i)}reload(){const i=this._providers.reduce((s,o)=>s.concat(o.getResources()),[]);this._resources.set(i)}})();function ZAe(t,n){return function DGt(t,n){const i=function kGt(t,n){return n.create("zeebe:CalledElement",{processId:t.processId})}(t,n),s=n.create("bpmn:ExtensionElements",{values:[i]});return n.create("bpmn:CallActivity",{name:t.name,extensionElements:s})}(t,n)}const cne=["resource","bpmn","call activity","child process"].join(" ");class une{constructor(n,i){this._elementFactory=n.get("elementFactory"),this._bpmnFactory=n.get("bpmnFactory"),this._popupMenu=n.get("popupMenu"),this._create=n.get("create"),this._autoPlace=n.get("autoPlace"),this._mouse=n.get("mouse"),this._translate=n.get("translate"),this._resources=n.get("resources"),n.get("popupMenu").registerProvider("bpmn-create",this),this._config=i}getPopupMenuEntries(){const{resourceType:n,className:i,groupName:s,createElement:o,search:a}=this._config,l=this._resources.filter(u=>u.type===n),c={};return l.forEach((u,d)=>{c[`resources-create-${n}-${d}`]={label:u.name,action:this._createEntryAction(()=>o(u,this._bpmnFactory)),group:{id:s.toLowerCase(),name:this._translate(s)},className:i,search:a}}),c}_createEntryAction(n){const i=this._create,s=this._mouse,o=this._popupMenu,a=this._elementFactory;return l=>{o.close();const c=n(),u=a.createShape({type:c.$type,businessObject:c});return l instanceof KeyboardEvent&&(l=s.getLastMoveEvent()),i.start(l,u)}}}let MGt=(()=>class t extends une{static $inject=["injector"];constructor(i){super(i,{resourceType:"bpmnProcess",groupName:"Processes",className:"bpmn-icon-call-activity",createElement:(s,o)=>ZAe(s,o),search:cne})}})();class dne{constructor(n,i){this._elementFactory=n.get("elementFactory"),this._bpmnFactory=n.get("bpmnFactory"),this._popupMenu=n.get("popupMenu"),this._create=n.get("create"),this._autoPlace=n.get("autoPlace"),this._rules=n.get("rules"),this._translate=n.get("translate"),this._resources=n.get("resources"),this._config=i,this._register()}_register(){this._popupMenu.registerProvider("bpmn-append",this)}getPopupMenuEntries(n){if(!this._rules.allowed("shape.append",{element:n}))return[];const{resourceType:s,className:o,groupName:a,createElement:l,search:c}=this._config,u=this._resources.filter(p=>p.type===s),d={};return u.forEach((p,f)=>{d[`resources-append-${s}-${f}`]={label:p.name,action:this._createEntryAction(n,()=>l(p,this._bpmnFactory)),group:{id:a.toLowerCase(),name:this._translate(a)},className:o,search:c}}),d}_createEntryAction(n,i){const s=this._elementFactory,o=this._autoPlace,a=this._create,l=()=>{const d=i();return s.createShape({type:d.$type,businessObject:d})};return{click:()=>{const d=l();o.append(n,d)},dragstart:d=>{const p=l();return a.start(d,p,{source:n})}}}}let AGt=(()=>class t extends dne{static $inject=["injector"];constructor(i){super(i,{resourceType:"bpmnProcess",groupName:"Processes",className:"bpmn-icon-call-activity",createElement:(s,o)=>ZAe(s,o),search:cne})}})();function JAe(t,n){return n.create("zeebe:CalledElement",{processId:t.processId})}class pne{constructor(n,i){this._injector=n,this._popupMenu=n.get("popupMenu"),this._rules=n.get("rules"),this._translate=n.get("translate"),this._resources=n.get("resources"),this._popupMenu.registerProvider("bpmn-replace",this),this._config=i}getPopupMenuEntries(n){const i=this._rules;if(Xt(n)||!i.allowed("shape.replace",{element:n}))return{};if(!D(n,"bpmn:Activity"))return{};const{resourceType:s,className:o,groupName:a,replaceElement:l,search:c}=this._config,u=this._resources.filter(p=>p.type===s),d={};return u.forEach((p,f)=>{d[`resources-replace-${s}-${f}`]={label:p.name,action:()=>l(n,p,this._injector),group:{id:a.toLowerCase(),name:this._translate(a)},className:o,search:c}}),d}}const NGt={__init__:["resources.processHandler.create","resources.processHandler.append","resources.processHandler.replace"],"resources.processHandler.create":["type",MGt],"resources.processHandler.append":["type",AGt],"resources.processHandler.replace":["type",(()=>class t extends pne{static $inject=["injector"];constructor(i){super(i,{resourceType:"bpmnProcess",groupName:"Processes",className:"bpmn-icon-call-activity",replaceElement:(s,o,a)=>function IGt(t,n,i){const s=i.get("bpmnFactory"),o=i.get("bpmnReplace"),a=i.get("modeling");i.get("commandStack").execute("external-resources.composed-command",{command:function c(){const u=o.replaceElement(t,{type:"bpmn:CallActivity"});a.updateProperties(u,{name:n.name});const p=G(u).get("extensionElements");if(!p)return void a.updateProperties(u,{extensionElements:s.create("bpmn:ExtensionElements",{values:[JAe(n,s)]})});const f=function RGt(t){return t.businessObject?.extensionElements?.values.find(n=>D(n,"zeebe:CalledElement"))}(u);f?a.updateModdleProperties(u,f,{processId:n.processId}):a.updateModdleProperties(u,p,{values:[...p.values,JAe(n,s)]})}})}(s,o,a),search:cne})}})()]};function eIe(t,n){return function LGt(t,n){const i=function FGt(t,n){return n.create("zeebe:CalledDecision",{decisionId:t.decisionId})}(t,n),s=n.create("bpmn:ExtensionElements",{values:[i]});return n.create("bpmn:BusinessRuleTask",{name:t.name,extensionElements:s})}(t,n)}const fne=["resource","dmn","business rule task","decision"].join(" ");function tIe(t,n){return n.create("zeebe:CalledDecision",{decisionId:t.decisionId})}const zGt={__init__:["resources.decisionHandler.create","resources.decisionHandler.append","resources.decisionHandler.replace"],"resources.decisionHandler.create":["type",(()=>class t extends une{static $inject=["injector"];constructor(i){super(i,{resourceType:"dmnDecision",groupName:"Decisions",className:"bpmn-icon-business-rule-task",createElement:(s,o)=>eIe(s,o),search:fne})}})()],"resources.decisionHandler.append":["type",(()=>class t extends dne{static $inject=["injector"];constructor(i){super(i,{resourceType:"dmnDecision",groupName:"Decisions",className:"bpmn-icon-business-rule-task",createElement:(s,o)=>eIe(s,o),search:fne})}})()],"resources.decisionHandler.replace":["type",(()=>class t extends pne{static $inject=["injector"];constructor(i){super(i,{resourceType:"dmnDecision",groupName:"Decisions",className:"bpmn-icon-business-rule-task",replaceElement:(s,o,a)=>function VGt(t,n,i){const s=i.get("bpmnFactory"),o=i.get("bpmnReplace"),a=i.get("modeling");i.get("commandStack").execute("external-resources.composed-command",{command:function c(){const u=o.replaceElement(t,{type:"bpmn:BusinessRuleTask"});a.updateProperties(u,{name:n.name});const p=G(u).get("extensionElements");if(!p)return void a.updateProperties(u,{extensionElements:s.create("bpmn:ExtensionElements",{values:[tIe(n,s)]})});const f=function jGt(t){return t.businessObject?.extensionElements?.values.find(n=>D(n,"zeebe:CalledDecision"))}(u);f?a.updateModdleProperties(u,f,{decisionId:n.decisionId}):a.updateModdleProperties(u,p,{values:[...p.values,tIe(n,s)]})}})}(s,o,a),search:fne})}})()]};function nIe(t,n){return function HGt(t,n){const i=function UGt(t,n){return n.create("zeebe:FormDefinition",{formId:t.formId})}(t,n),s=n.create("bpmn:ExtensionElements",{values:[qGt(n),i]});return n.create("bpmn:UserTask",{name:t.name,extensionElements:s})}(t,n)}function qGt(t){return t.create("zeebe:UserTask")}const hne=["resource","form","user task","human"].join(" ");function rIe(t,n){return n.create("zeebe:FormDefinition",{formId:t.formId})}function XGt(t){return t.create("zeebe:UserTask")}const QGt={__init__:["resources.formHandler.create","resources.formHandler.append","resources.formHandler.replace"],"resources.formHandler.create":["type",(()=>class t extends une{static $inject=["injector"];constructor(i){super(i,{resourceType:"form",groupName:"Forms",className:"bpmn-icon-user-task",createElement:(s,o)=>nIe(s,o),search:hne})}})()],"resources.formHandler.append":["type",(()=>class t extends dne{static $inject=["injector"];constructor(i){super(i,{resourceType:"form",groupName:"Forms",className:"bpmn-icon-user-task",createElement:(s,o)=>nIe(s,o),search:hne})}})()],"resources.formHandler.replace":["type",(()=>class t extends pne{static $inject=["injector"];constructor(i){super(i,{resourceType:"form",groupName:"Forms",className:"bpmn-icon-user-task",replaceElement:(s,o,a)=>function KGt(t,n,i){const s=i.get("bpmnFactory"),o=i.get("bpmnReplace"),a=i.get("modeling");i.get("commandStack").execute("external-resources.composed-command",{command:function c(){const u=o.replaceElement(t,{type:"bpmn:UserTask"});a.updateProperties(u,{name:n.name});const p=G(u).get("extensionElements");if(!p)return void a.updateProperties(u,{extensionElements:s.create("bpmn:ExtensionElements",{values:[XGt(s),rIe(n,s)]})});const f=function YGt(t){return t.businessObject?.extensionElements?.values.find(n=>D(n,"zeebe:FormDefinition"))}(u);f?a.updateModdleProperties(u,f,{formId:n.formId}):a.updateModdleProperties(u,p,{values:[...p.values,rIe(n,s)]})}})}(s,o,a),search:hne})}})()]},ZGt={"external-resources.composed-command":(()=>{class t{constructor(i){this._commandStack=i}preExecute(i){i.command()}}return t.$inject=["commandStack"],t})()};function iIe(t,n){t.on("diagram.init",function(){fe(ZGt,function(i,s){n.registerHandler(s,i)})})}iIe.$inject=["eventBus","commandStack"];const JGt={__init__:["resources.resourceLoader"],"resources.resourceLoader":["type",PGt],resources:["type",TGt]},eKt={__init__:[iIe],__depends__:[zGt,QGt,NGt]};function c2(t={}){t={...t,moddleExtensions:{...zhe,...t.moddleExtensions},propertiesPanel:{tooltip:fRt,getFeelPopupLinks:n=>"feel"===n?[{title:"Learn FEEL expressions",href:"https://docs.camunda.io/docs/components/modeler/feel/what-is-feel/"},{title:"Try FEEL Copilot",href:"https://feel-copilot.camunda.com/"}]:"feelers"===n?[{title:"Learn templating",href:"https://docs.camunda.io/docs/components/modeler/forms/configuration/forms-config-templating-syntax/"}]:void 0,...t.propertiesPanel}},this._addElementTemplateChooserModule(t),My.call(this,t)}Jt(c2,My),c2.prototype._addElementTemplateChooserModule=function(t){const{elementTemplateChooser:n}=t;!1!==n&&(this._modules=[...this._modules,cWt])},c2.prototype._camundaCloudModules=[...jhe,h9t,_kt,sFt,QWt,CGt,aWt,iVt,gVt,nWt,OGt,eKt,JGt],c2.prototype._modules=[].concat(My.prototype._modules,c2.prototype._camundaCloudModules);const tKt=["modeler"],nKt=["properties"];let rKt=(()=>{class t{constructor(i){this.execPlanService=i}ngAfterViewInit(){this.modeler=new c2({container:this.modelerElt.nativeElement,propertiesPanel:{parent:this.properties.nativeElement},height:"calc(100vh - 50px)",position:"center",additionalModules:[iA]}),this.modeler.importXML(this.execPlanService.executionPlan.xml)}save(){this.modeler.saveXML().then(i=>{this.execPlanService.updateDef(i.xml)})}static{this.\u0275fac=function(s){return new(s||t)(Ut(Ch))}}static{this.\u0275cmp=Rc({type:t,selectors:[["app-modeler"]],viewQuery:function(s,o){if(1&s&&(Zl(tKt,5),Zl(nKt,5)),2&s){let a;Jl(a=ec())&&(o.modelerElt=a.first),Jl(a=ec())&&(o.properties=a.first)}},standalone:!1,decls:8,vars:0,consts:[["modeler",""],["properties",""],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-floppy"],[1,"main"],[1,"modeler"],[1,"properties-panel"]],template:function(s,o){if(1&s){const a=Un();ce(0,"button",2),qt("click",function(){return Ot(a),St(o.save())}),cn(1,"i",3),je(2," Save modifications"),de(),ce(3,"div",4),cn(4,"div",5,0)(6,"div",6,1),de()}},styles:[".main[_ngcontent-%COMP%]{display:flex;flex:1 1 0%;overflow-x:hidden}.modeler[_ngcontent-%COMP%]{display:flex;flex:1 1 0%;position:relative;background-color:#fff;outline:none}.properties-panel[_ngcontent-%COMP%]{width:400px;max-height:calc(-48px + 100vh);position:relative;margin-top:-1px}"]})}}return t})();var FP=Object.prototype.toString,iKt=Object.prototype.hasOwnProperty;function mne(t){return"[object Array]"===FP.call(t)}function u2(t){return"[object String]"===FP.call(t)}function aIe(t,n){return iKt.call(t,n)}function gne(t,n){var i;return n=_ne(n),vi(t,function(s,o){if(n(s,o))return i=s,!1}),i}function yne(t,n){var i=[];return vi(t,function(s,o){n(s,o)&&i.push(s)}),i}function vi(t,n){var i;if(!function BP(t){return void 0===t}(t)){var o=mne(t)?fKt:pKt;for(var a in t)if(aIe(t,a)&&!1===n(i=t[a],o(a)))return i}}function _ne(t){return function oIe(t){var n=FP.call(t);return"[object Function]"===n||"[object AsyncFunction]"===n||"[object GeneratorFunction]"===n||"[object AsyncGeneratorFunction]"===n||"[object Proxy]"===n}(t)?t:function(n){return n===t}}function pKt(t){return t}function fKt(t){return Number(t)}function v5(t,n){return t.bind(n)}function Ene(){return Ene=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Ene.apply(this,arguments)}function Ma(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return Ene.apply(void 0,[t].concat(i))}function xne(){}function lIe(t,n){this.model=t,this.properties=n}xne.prototype.get=function(t){return this.$model.properties.get(this,t)},xne.prototype.set=function(t,n){this.$model.properties.set(this,t,n)},lIe.prototype.createType=function(t){var n=this.model,i=this.properties,s=Object.create(xne.prototype);vi(t.properties,function(l){!l.isMany&&void 0!==l.default&&(s[l.name]=l.default)}),i.defineModel(s,n),i.defineDescriptor(s,t);var o=t.ns.name;function a(l){i.define(this,"$type",{value:o,enumerable:!0}),i.define(this,"$attrs",{value:{}}),i.define(this,"$parent",{writable:!0}),vi(l,v5(function(c,u){this.set(u,c)},this))}return a.prototype=s,a.hasType=s.$instanceOf=this.model.hasType,i.defineModel(a,n),i.defineDescriptor(a,t),a};var gKt={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},cIe={String:function(t){return t},Boolean:function(t){return"true"===t},Integer:function(t){return parseInt(t,10)},Real:function(t){return parseFloat(t)}};function wne(t,n){var i=cIe[t];return i?i(n):n}function Cne(t){return!!gKt[t]}function uIe(t){return!!cIe[t]}function eu(t,n){var s,o,i=t.split(/:/);if(1===i.length)s=t,o=n;else{if(2!==i.length)throw new Error("expected <prefix:localName> or <localName>, got "+t);s=i[1],o=i[0]}return{name:t=(o?o+":":"")+s,prefix:o,localName:s}}function Mp(t){this.ns=t,this.name=t.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function zy(t,n){this.packageMap={},this.typeMap={},this.packages=[],this.properties=n,vi(t,v5(this.registerPackage,this))}function dIe(t,n,i){var s=n[i];if(s in t)throw new Error("package with "+i+" <"+s+"> already defined")}function b5(t){this.model=t}function pIe(t,n,i){Object.defineProperty(t,n.name,{enumerable:!n.isReference,writable:!0,value:i,configurable:!0})}function Ap(t){this.properties=new b5(this),this.factory=new lIe(this,this.properties),this.registry=new zy(t,this.properties),this.typeCache={}}Mp.prototype.build=function(){return function hKt(t,n){var i={},s=Object(t);return vi(n,function(o){o in s&&(i[o]=t[o])}),i}(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},Mp.prototype.addProperty=function(t,n,i){"boolean"==typeof n&&(i=n,n=void 0),this.addNamedProperty(t,!1!==i);var s=this.properties;void 0!==n?s.splice(n,0,t):s.push(t)},Mp.prototype.replaceProperty=function(t,n,i){var s=t.ns,o=this.properties,a=this.propertiesByName,l=t.name!==n.name;if(t.isId){if(!n.isId)throw new Error("property <"+n.ns.name+"> must be id property to refine <"+t.ns.name+">");this.setIdProperty(n,!1)}if(t.isBody){if(!n.isBody)throw new Error("property <"+n.ns.name+"> must be body property to refine <"+t.ns.name+">");this.setBodyProperty(n,!1)}var c=o.indexOf(t);if(-1===c)throw new Error("property <"+s.name+"> not found in property list");o.splice(c,1),this.addProperty(n,i?void 0:c,l),a[s.name]=a[s.localName]=n},Mp.prototype.redefineProperty=function(t,n,i){var s=t.ns.prefix,o=n.split("#"),a=eu(o[0],s),l=eu(o[1],a.prefix).name,c=this.propertiesByName[l];if(!c)throw new Error("refined property <"+l+"> not found");this.replaceProperty(c,t,i),delete t.redefines},Mp.prototype.addNamedProperty=function(t,n){var i=t.ns,s=this.propertiesByName;n&&(this.assertNotDefined(t,i.name),this.assertNotDefined(t,i.localName)),s[i.name]=s[i.localName]=t},Mp.prototype.removeNamedProperty=function(t){var n=t.ns,i=this.propertiesByName;delete i[n.name],delete i[n.localName]},Mp.prototype.setBodyProperty=function(t,n){if(n&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+t.ns.name+">)");this.bodyProperty=t},Mp.prototype.setIdProperty=function(t,n){if(n&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+t.ns.name+">)");this.idProperty=t},Mp.prototype.assertNotDefined=function(t,n){var i=t.name,s=this.propertiesByName[i];if(s)throw new Error("property <"+i+"> already defined; override of <"+s.definedBy.ns.name+"#"+s.ns.name+"> by <"+t.definedBy.ns.name+"#"+t.ns.name+"> not allowed without redefines")},Mp.prototype.hasProperty=function(t){return this.propertiesByName[t]},Mp.prototype.addTrait=function(t,n){var i=this.allTypesByName,s=this.allTypes,o=t.name;o in i||(vi(t.properties,v5(function(a){a=Ma({},a,{name:a.ns.localName,inherited:n}),Object.defineProperty(a,"definedBy",{value:t});var l=a.replaces,c=a.redefines;l||c?this.redefineProperty(a,l||c,l):(a.isBody&&this.setBodyProperty(a),a.isId&&this.setIdProperty(a),this.addProperty(a))},this)),s.push(t),i[o]=t)},zy.prototype.getPackage=function(t){return this.packageMap[t]},zy.prototype.getPackages=function(){return this.packages},zy.prototype.registerPackage=function(t){t=Ma({},t);var n=this.packageMap;dIe(n,t,"prefix"),dIe(n,t,"uri"),vi(t.types,v5(function(i){this.registerType(i,t)},this)),n[t.uri]=n[t.prefix]=t,this.packages.push(t)},zy.prototype.registerType=function(t,n){var i=eu((t=Ma({},t,{superClass:(t.superClass||[]).slice(),extends:(t.extends||[]).slice(),properties:(t.properties||[]).slice(),meta:Ma(t.meta||{})})).name,n.prefix),s=i.name,o={};vi(t.properties,v5(function(a){var l=eu(a.name,i.prefix),c=l.name;Cne(a.type)||(a.type=eu(a.type,l.prefix).name),Ma(a,{ns:l,name:c}),o[c]=a},this)),Ma(t,{ns:i,name:s,propertiesByName:o}),vi(t.extends,v5(function(a){var l=this.typeMap[a];l.traits=l.traits||[],l.traits.push(s)},this)),this.definePackage(t,n),this.typeMap[s]=t},zy.prototype.mapTypes=function(t,n,i){var s=Cne(t.name)?{name:t.name}:this.typeMap[t.name],o=this;function a(c){return l(c,!0)}function l(c,u){var d=eu(c,Cne(c)?"":t.prefix);o.mapTypes(d,n,u)}if(!s)throw new Error("unknown type <"+t.name+">");vi(s.superClass,i?a:l),n(s,!i),vi(s.traits,a)},zy.prototype.getEffectiveDescriptor=function(t){var n=eu(t),i=new Mp(n);this.mapTypes(n,function(o,a){i.addTrait(o,a)});var s=i.build();return this.definePackage(s,s.allTypes[s.allTypes.length-1].$pkg),s},zy.prototype.definePackage=function(t,n){this.properties.define(t,"$pkg",{value:n})},b5.prototype.set=function(t,n,i){if(!u2(n)||!n.length)throw new TypeError("property name must be a non-empty string");var s=this.model.getPropertyDescriptor(t,n),o=s&&s.name;!function yKt(t){return typeof t>"u"}(i)?s?o in t?t[o]=i:pIe(t,s,i):t.$attrs[n]=i:s?delete t[o]:delete t.$attrs[n]},b5.prototype.get=function(t,n){var i=this.model.getPropertyDescriptor(t,n);if(!i)return t.$attrs[n];var s=i.name;return!t[s]&&i.isMany&&pIe(t,i,[]),t[s]},b5.prototype.define=function(t,n,i){if(!i.writable){var s=i.value;delete(i=Ma({},i,{get:function(){return s}})).value}Object.defineProperty(t,n,i)},b5.prototype.defineDescriptor=function(t,n){this.define(t,"$descriptor",{value:n})},b5.prototype.defineModel=function(t,n){this.define(t,"$model",{value:n})},Ap.prototype.create=function(t,n){var i=this.getType(t);if(!i)throw new Error("unknown type <"+t+">");return new i(n)},Ap.prototype.getType=function(t){var n=this.typeCache,i=u2(t)?t:t.ns.name,s=n[i];return s||(t=this.registry.getEffectiveDescriptor(i),s=n[i]=this.factory.createType(t)),s},Ap.prototype.createAny=function(t,n,i){var s=eu(t),o={$type:t,$instanceOf:function(l){return l===this.$type}};return this.properties.defineDescriptor(o,{name:t,isGeneric:!0,ns:{prefix:s.prefix,localName:s.localName,uri:n}}),this.properties.defineModel(o,this),this.properties.define(o,"$parent",{enumerable:!1,writable:!0}),this.properties.define(o,"$instanceOf",{enumerable:!1,writable:!0}),vi(i,function(l,c){!function WL(t){return"[object Object]"===FP.call(t)}(l)||void 0===l.value?o[c]=l:o[l.name]=l.value}),o},Ap.prototype.getPackage=function(t){return this.registry.getPackage(t)},Ap.prototype.getPackages=function(){return this.registry.getPackages()},Ap.prototype.getElementDescriptor=function(t){return t.$descriptor},Ap.prototype.hasType=function(t,n){return void 0===n&&(n=t,t=this),n in t.$model.getElementDescriptor(t).allTypesByName},Ap.prototype.getPropertyDescriptor=function(t,n){return this.getElementDescriptor(t).propertiesByName[n]},Ap.prototype.getTypeDescriptor=function(t){return this.registry.typeMap[t]};var fIe=String.fromCharCode,vKt=Object.prototype.hasOwnProperty,bKt=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,$P={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function _Kt(t,n,i,s){return s?vKt.call($P,s)?$P[s]:"&"+s+";":fIe(n||parseInt(i,16))}function d2(t){return t.length>3&&-1!==t.indexOf("&")?t.replace(bKt,_Kt):t}Object.keys($P).forEach(function(t){$P[t.toUpperCase()]=$P[t]});var mIe="non-whitespace outside of root node";function _5(t){return new Error(t)}function gIe(t){return"missing namespace for prefix <"+t+">"}function KL(t){return{get:t,enumerable:!0}}function wKt(t){var i,n={};for(i in t)n[i]=t[i];return n}function Sne(t){return t+"$uri"}function yIe(){return{line:0,column:0}}function SKt(t){throw t}function vIe(t){if(!this)return new vIe(t);var i,s,o,a,c,u,d,p,_,n=t&&t.proxy,l=SKt,f=yIe,h=!1,m=!1,y=null,E=!1;function S(g){g instanceof Error||(g=_5(g)),y=g,l(g,f)}function v(g){c&&(g instanceof Error||(g=_5(g)),c(g,f))}this.on=function(g,x){if("function"!=typeof x)throw _5("required args <name, cb>");switch(g){case"openTag":s=x;break;case"text":i=x;break;case"closeTag":o=x;break;case"error":l=x;break;case"warn":c=x;break;case"cdata":a=x;break;case"attention":p=x;break;case"question":d=x;break;case"comment":u=x;break;default:throw _5("unsupported event: "+g)}return this},this.ns=function(g){if(typeof g>"u"&&(g={}),"object"!=typeof g)throw _5("required args <nsMap={}>");var T,x={};for(T in g)x[T]=g[T];return x["http://www.w3.org/2001/XMLSchema-instance"]="xsi",m=!0,_=x,this},this.parse=function(g){if("string"!=typeof g)throw _5("required args <xml=string>");return y=null,function w(g){var I,me,Re,De,ye,at,_e,be,ke,Pe,se,x=m?[]:null,T=m?function CKt(t){var i,s,n={};for(i in t)n[s=t[i]]=s,n[Sne(s)]=i;return n}(_):null,A=[],$=0,z=!1,K=!1,U=0,H=0,Y="",ie=0;function $e(){if(null!==se)return se;var M,k,ne,Bt,Kt,ft,rn,q,yt,X,le,re=m&&T.xmlns,Se=m&&h?[]:null,te=ie,Ke=Y,rt=Ke.length,B={},zt={};e:for(;te<rt;te++)if(yt=!1,X=Ke.charCodeAt(te),!(32===X||X<14&&X>8)){for((X<65||X>122||X>90&&X<97)&&95!==X&&58!==X&&(v("illegal first char attribute name"),yt=!0),le=te+1;le<rt;le++)if(!((X=Ke.charCodeAt(le))>96&&X<123||X>64&&X<91||X>47&&X<59||46===X||45===X||95===X)){if(32===X||X<14&&X>8){v("missing attribute value"),te=le;continue e}if(61===X)break;v("illegal attribute name char"),yt=!0}if("xmlns:xmlns"===(q=Ke.substring(te,le))&&(v("illegal declaration of xmlns"),yt=!0),34===(X=Ke.charCodeAt(le+1)))-1===(le=Ke.indexOf('"',te=le+2))&&-1!==(le=Ke.indexOf("'",te))&&(v("attribute value quote missmatch"),yt=!0);else if(39===X)-1===(le=Ke.indexOf("'",te=le+2))&&-1!==(le=Ke.indexOf('"',te))&&(v("attribute value quote missmatch"),yt=!0);else for(v("missing attribute value quotes"),yt=!0,le+=1;le<rt&&!(32===(X=Ke.charCodeAt(le+1))||X<14&&X>8);le++);for(-1===le&&(v("missing closing quotes"),le=rt,yt=!0),yt||(ft=Ke.substring(te,le)),te=le;le+1<rt&&!(32===(X=Ke.charCodeAt(le+1))||X<14&&X>8);le++)te===le&&(v("illegal character after attribute end"),yt=!0);if(te=le+1,yt)continue e;if(q in zt){v("attribute <"+q+"> already defined");continue}if(zt[q]=!0,!m){B[q]=ft;continue}if(h){if(null!==(Kt="xmlns"===q?"xmlns":120===q.charCodeAt(0)&&"xmlns:"===q.substr(0,6)?q.substr(6):null)){if(M=d2(ft),k=Sne(Kt),!(rn=_[M])){if("xmlns"===Kt||k in T&&T[k]!==M)do{rn="ns"+$++}while(typeof T[rn]<"u");else rn=Kt;_[M]=rn}T[Kt]!==rn&&(Bt||(T=wKt(T),Bt=!0),T[Kt]=rn,"xmlns"===Kt&&(T[Sne(rn)]=M,re=rn),T[k]=M),B[q]=ft;continue}Se.push(q,ft);continue}if(-1===(X=q.indexOf(":"))){B[q]=ft;continue}if(!(ne=T[q.substring(0,X)])){v(gIe(q.substring(0,X)));continue}"xsi:type"===(q=re===ne?q.substr(X+1):ne+q.substr(X))&&(-1!==(X=ft.indexOf(":"))?(ne=ft.substring(0,X),ft=(ne=T[ne]||ne)+ft.substring(X)):ft=re+":"+ft),B[q]=ft}if(h)for(te=0,rt=Se.length;te<rt;te++){if(q=Se[te++],ft=Se[te],-1!==(X=q.indexOf(":"))){if(!(ne=T[q.substring(0,X)])){v(gIe(q.substring(0,X)));continue}"xsi:type"===(q=re===ne?q.substr(X+1):ne+q.substr(X))&&(-1!==(X=ft.indexOf(":"))?(ne=ft.substring(0,X),ft=(ne=T[ne]||ne)+ft.substring(X)):ft=re+":"+ft)}B[q]=ft}return se=B}for(f=function j(){for(var te,Ke,M=/(\r\n|\r|\n)/g,k=0,ne=0,re=0,Se=H;U>=re&&(te=M.exec(g))&&!((Se=te[0].length+te.index)>U);)k+=1,re=Se;return-1==U?(ne=Se,Ke=g.substring(H)):0===H?Ke=g.substring(H,U):(ne=U-re,Ke=-1==H?g.substring(U):g.substring(U,H+1)),{data:Ke,line:k,column:ne}},n&&(Pe=Object.create({},{name:KL(function(){return be}),originalName:KL(function(){return ke}),attrs:KL($e),ns:KL(function(){return T})}));-1!==H;){if(-1===(U=60===g.charCodeAt(H)?H:g.indexOf("<",H)))return A.length?S("unexpected end of file"):0===H?S("missing start tag"):void(H<g.length&&g.substring(H).trim()&&v(mIe));if(H!==U)if(A.length){if(i&&(i(g.substring(H,U),d2,f),E))return}else if(g.substring(H,U).trim()&&(v(mIe),E))return;if(33===(ye=g.charCodeAt(U+1))){if(91===(De=g.charCodeAt(U+2))&&"CDATA["===g.substr(U+3,6)){if(-1===(H=g.indexOf("]]>",U)))return S("unclosed cdata");if(a&&(a(g.substring(U+9,H),f),E))return;H+=3;continue}if(45===De&&45===g.charCodeAt(U+3)){if(-1===(H=g.indexOf("--\x3e",U)))return S("unclosed comment");if(u&&(u(g.substring(U+4,H),d2,f),E))return;H+=3;continue}}if(63!==ye){for(me=U+1;;me++){if(at=g.charCodeAt(me),isNaN(at))return H=-1,S("unclosed tag");if(34===at)me=-1!==(De=g.indexOf('"',me+1))?De:me;else if(39===at)me=-1!==(De=g.indexOf("'",me+1))?De:me;else if(62===at){H=me;break}}if(33!==ye){if(se={},47===ye){if(z=!1,K=!0,!A.length)return S("missing open tag");if(me=be=A.pop(),g.substring(U+2,De=U+2+me.length)!==me)return S("closing tag mismatch");for(;De<H;De++)if(!(32===(ye=g.charCodeAt(De))||ye>8&&ye<14))return S("close tag")}else{if(47===g.charCodeAt(H-1)?(me=be=g.substring(U+1,H-1),z=!0,K=!0):(me=be=g.substring(U+1,H),z=!0,K=!1),!(ye>96&&ye<123||ye>64&&ye<91||95===ye||58===ye))return S("illegal first char nodeName");for(De=1,Re=me.length;De<Re;De++)if(!((ye=me.charCodeAt(De))>96&&ye<123||ye>64&&ye<91||ye>47&&ye<59||45===ye||95===ye||46==ye)){if(32===ye||ye<14&&ye>8){be=me.substring(0,De),se=null;break}return S("invalid nodeName")}K||A.push(be)}if(m){if(I=T,z&&(K||x.push(I),null===se&&(h=-1!==me.indexOf("xmlns",De))&&(ie=De,Y=me,$e(),h=!1)),ke=be,-1!==(ye=be.indexOf(":"))){if(!(_e=T[be.substring(0,ye)]))return S("missing namespace on <"+ke+">");be=be.substr(ye+1)}else _e=T.xmlns;_e&&(be=_e+":"+be)}if(z&&(ie=De,Y=me,s&&(n?s(Pe,d2,K,f):s(be,$e,d2,K,f),E)))return;if(K){if(o&&(o(n?Pe:be,d2,z,f),E))return;m&&(T=z?I:x.pop())}H+=1}else{if(p&&(p(g.substring(U,H+1),d2,f),E))return;H+=1}}else{if(-1===(H=g.indexOf("?>",U)))return S("unclosed question");if(d&&(d(g.substring(U,H+2),f),E))return;H+=2}}}(g),f=yIe,E=!1,y},this.stop=function(){E=!0}}function bIe(t){return t.xml&&"lowerCase"===t.xml.tagAlias}var OKt={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},YL="xsi:type";function _Ie(t){return t.xml&&t.xml.serialize}function EIe(t){return _Ie(t)===YL}function xIe(t,n){return bIe(n)?t.prefix+":"+function PKt(t){return t.charAt(0).toUpperCase()+t.slice(1)}(t.localName):t.name}function Hy(t){return new Error(t)}function tg(t){return t.$descriptor}function MKt(t){Ma(this,t),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(n){this.references.push(n)},this.addElement=function(n){if(!n)throw Hy("expected element");var a,i=this.elementsById,o=tg(n).idProperty;if(o&&(a=n.get(o.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(a))throw new Error("illegal ID <"+a+">");if(i[a])throw Hy("duplicate ID <"+a+">");i[a]=n}},this.addWarning=function(n){this.warnings.push(n)}}function VP(){}function One(){}function E5(){}function jP(t,n){this.property=t,this.context=n}function Tne(t,n){this.element=n,this.propertyDesc=t}function XL(){}function xc(t,n,i){this.model=t,this.type=t.getType(n),this.context=i}function Pne(t,n,i){xc.call(this,t,n,i)}function x5(t,n,i){this.model=t,this.context=i}function Dne(t){t instanceof Ap&&(t={model:t}),Ma(this,{lax:!1},t)}VP.prototype.handleEnd=function(){},VP.prototype.handleText=function(){},VP.prototype.handleNode=function(){},(One.prototype=Object.create(VP.prototype)).handleNode=function(){return this},(E5.prototype=Object.create(VP.prototype)).handleText=function(t){this.body=(this.body||"")+t},(jP.prototype=Object.create(E5.prototype)).handleNode=function(t){if(this.element)throw Hy("expected no sub nodes");return this.element=this.createReference(t),this},jP.prototype.handleEnd=function(){this.element.id=this.body},jP.prototype.createReference=function(t){return{property:this.property.ns.name,id:""}},(Tne.prototype=Object.create(E5.prototype)).handleEnd=function(){var t=this.body||"",n=this.element,i=this.propertyDesc;t=wne(i.type,t),i.isMany?n.get(i.name).push(t):n.set(i.name,t)},(XL.prototype=Object.create(E5.prototype)).handleNode=function(t){var n=this,i=this.element;return i?n=this.handleChild(t):(i=this.element=this.createElement(t),this.context.addElement(i)),n},(xc.prototype=Object.create(XL.prototype)).addReference=function(t){this.context.addReference(t)},xc.prototype.handleText=function(t){if(!tg(this.element).bodyProperty)throw Hy("unexpected body text <"+t+">");E5.prototype.handleText.call(this,t)},xc.prototype.handleEnd=function(){var t=this.body,n=this.element,s=tg(n).bodyProperty;s&&void 0!==t&&(t=wne(s.type,t),n.set(s.name,t))},xc.prototype.createElement=function(t){var c,n=t.attributes,i=this.type,s=tg(i),o=this.context,a=new i({}),l=this.model;return vi(n,function(u,d){var p=s.propertiesByName[d];p&&p.isReference?p.isMany?vi(u.split(" "),function(h){o.addReference({element:a,property:p.ns.name,id:h})}):o.addReference({element:a,property:p.ns.name,id:u}):(p?u=wne(p.type,u):"xmlns"!==d&&(c=eu(d,s.ns.prefix),l.getPackage(c.prefix)&&o.addWarning({message:"unknown attribute <"+d+">",element:a,property:d,value:u})),a.set(d,u))}),a},xc.prototype.getPropertyForNode=function(t){var u,d,i=eu(t.name),o=this.model,a=tg(this.type),c=a.propertiesByName[i.name];if(c&&!c.isAttr)return EIe(c)&&(u=t.attributes[YL])?(u=function kKt(t,n){var i=eu(t);return function DKt(t,n){var i=t.name,s=t.localName,o=n.xml&&n.xml.typePrefix;return o&&0===s.indexOf(o)?t.prefix+":"+s.slice(o.length):i}(i,n.getPackage(i.prefix))}(u,o),Ma({},c,{effectiveType:tg(d=o.getType(u)).name})):c;var p=o.getPackage(i.prefix);if(p){if(u=xIe(i,p),d=o.getType(u),c=gne(a.properties,function(f){return!f.isVirtual&&!f.isReference&&!f.isAttribute&&d.hasType(f.type)}))return Ma({},c,{effectiveType:tg(d).name})}else if(c=gne(a.properties,function(f){return!f.isReference&&!f.isAttribute&&"Element"===f.type}))return c;throw Hy("unrecognized element <"+i.name+">")},xc.prototype.toString=function(){return"ElementDescriptor["+tg(this.type).name+"]"},xc.prototype.valueHandler=function(t,n){return new Tne(t,n)},xc.prototype.referenceHandler=function(t){return new jP(t,this.context)},xc.prototype.handler=function(t){return"Element"===t?new x5(this.model,t,this.context):new xc(this.model,t,this.context)},xc.prototype.handleChild=function(t){var n,i,s,o;if(n=this.getPropertyForNode(t),s=this.element,uIe(i=n.effectiveType||n.type))return this.valueHandler(n,s);var a=(o=n.isReference?this.referenceHandler(n).handleNode(t):this.handler(i).handleNode(t)).element;return void 0!==a&&(n.isMany?s.get(n.name).push(a):s.set(n.name,a),n.isReference?(Ma(a,{element:s}),this.context.addReference(a)):a.$parent=s),o},(Pne.prototype=Object.create(xc.prototype)).createElement=function(t){var n=t.name,i=eu(n),o=this.type,a=this.model.getPackage(i.prefix),l=a&&xIe(i,a)||n;if(!o.hasType(l))throw Hy("unexpected element <"+t.originalName+">");return xc.prototype.createElement.call(this,t)},(x5.prototype=Object.create(XL.prototype)).createElement=function(t){var n=t.name,i=eu(n);return this.model.createAny(n,t.ns[i.prefix+"$uri"],t.attributes)},x5.prototype.handleChild=function(t){var n=new x5(this.model,"Element",this.context).handleNode(t),i=this.element,s=n.element;return void 0!==s&&((i.$children=i.$children||[]).push(s),s.$parent=i),n},x5.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},Dne.prototype.fromXML=function(t,n,i){var s=n.rootHandler;n instanceof xc?(s=n,n={}):"string"==typeof n?(s=this.handler(n),n={}):"string"==typeof s&&(s=this.handler(s));var o=this.model,a=this.lax,l=new MKt(Ma({},n,{rootHandler:s})),c=new vIe({proxy:!0}),u=function AKt(){var t=[];return Object.defineProperty(t,"peek",{value:function(){return this[this.length-1]}}),t}();function d(x,T,I){var A=T(),$=A.line,z=A.column,K=A.data;"<"===K.charAt(0)&&-1!==K.indexOf(" ")&&(K=K.slice(0,K.indexOf(" "))+">");var U="unparsable content "+(K?K+" ":"")+"detected\n\tline: "+$+"\n\tcolumn: "+z+"\n\tnested error: "+x.message;if(I)return l.addWarning({message:U,error:x}),!0;throw Hy(U)}function p(x,T){return d(x,T,!0)}s.context=l,u.push(s);var m=/^<\?xml /i,y=/ encoding="([^"]+)"/i,E=/^utf-8$/i;function v(x,T){try{u.peek().handleText(x)}catch(I){p(I,T)}}var g=o.getPackages().reduce(function(x,T){return x[T.uri]=T.prefix,x},{"http://www.w3.org/XML/1998/namespace":"xml"});return c.ns(g).on("openTag",function(x,T,I,A){var $=x.attrs||{},z=Object.keys($).reduce(function(U,H){var me=T($[H]);return U[H]=me,U},{});!function S(x,T){var I=u.peek();try{u.push(I.handleNode(x))}catch(A){d(A,T,a)&&u.push(new One)}}({name:x.name,originalName:x.originalName,attributes:z,ns:x.ns},A)}).on("question",function _(x){if(m.test(x)){var T=y.exec(x),I=T&&T[1];!I||E.test(I)||l.addWarning({message:"unsupported document encoding <"+I+">, falling back to UTF-8"})}}).on("closeTag",function h(){u.pop().handleEnd()}).on("cdata",v).on("text",function(x,T,I){!function w(x,T){x.trim()&&v(x,T)}(T(x),I)}).on("error",d).on("warn",p),new Promise(function(x,T){var I;try{c.parse(t),function f(){var I,A,x=l.elementsById,T=l.references;for(I=0;A=T[I];I++){var $=A.element,z=x[A.id],K=tg($).propertiesByName[A.property];if(z||l.addWarning({message:"unresolved reference <"+A.id+">",element:A.element,property:A.property,value:A.id}),K.isMany){var U=$.get(K.name),H=U.indexOf(A);-1===H&&(H=U.length),z?U[H]=z:U.splice(H,1)}else $.set(K.name,z)}}()}catch(U){I=U}var A=s.element;!I&&!A&&(I=Hy("failed to parse document as <"+s.type.$descriptor.name+">"));var $=l.warnings,z=l.references,K=l.elementsById;return I?(I.warnings=$,T(I)):x({rootElement:A,elementsById:K,references:z,warnings:$})})},Dne.prototype.handler=function(t){return new Pne(this.model,t)};var RKt=/<|>|'|"|&|\n\r|\n/g,wIe=/<|>|&/g;function NKt(t){var n={},i={},s={},o=[],a=[];this.byUri=function(l){return i[l]||t&&t.byUri(l)},this.add=function(l,c){i[l.uri]=l,c?o.push(l):a.push(l),this.mapPrefix(l.prefix,l.uri)},this.uriByPrefix=function(l){return n[l||"xmlns"]},this.mapPrefix=function(l,c){n[l||"xmlns"]=c},this.getNSKey=function(l){return void 0!==l.prefix?l.uri+"|"+l.prefix:l.uri},this.logUsed=function(l){var c=l.uri,u=this.getNSKey(l);s[u]=this.byUri(c),t&&t.logUsed(l)},this.getUsed=function(l){var u=this;return[].concat(o,a).filter(function c(p){var f=u.getNSKey(p);return s[f]})}}function FKt(t,n){return bIe(n)?function LKt(t){return t.charAt(0).toLowerCase()+t.slice(1)}(t):t}function CIe(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function SIe(t){return u2(t)?t:(t.prefix?t.prefix+":":"")+t.localName}var zKt={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},HKt={"<":"lt",">":"gt","&":"amp"};function OIe(t,n,i){return(t=u2(t)?t:""+t).replace(n,function(s){return"&"+i[s]+";"})}function kne(t){this.tagName=t}function p2(){}function Mne(t){this.tagName=t}function lo(t,n){this.body=[],this.attrs=[],this.parent=t,this.propertyDescriptor=n}function QL(t,n){lo.call(this,t,n)}function KKt(){this.value="",this.write=function(t){this.value+=t}}function YKt(t,n){var i=[""];this.append=function(s){return t.write(s),this},this.appendNewLine=function(){return n&&t.write("\n"),this},this.appendIndent=function(){return n&&t.write(i.join("  ")),this},this.indent=function(){return i.push(""),this},this.unindent=function(){return i.pop(),this}}function XKt(t){return t=Ma({format:!1,preamble:!0},t||{}),{toXML:function n(i,s){var o=s||new KKt,a=new YKt(o,t.format);if(t.preamble&&a.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new lo).build(i).serializeTo(a),!s)return o.value}}}function ZL(t,n){Ap.call(this,t,n)}kne.prototype.build=function(t){return this.element=t,this},kne.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},p2.prototype.serializeValue=p2.prototype.serializeTo=function(t){t.append(this.escape?function qKt(t){return OIe(t,wIe,HKt)}(this.value):this.value)},p2.prototype.build=function(t,n){return this.value=n,"String"===t.type&&-1!==n.search(wIe)&&(this.escape=!0),this},CIe(Mne,p2),Mne.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"),this.serializeValue(t),t.append("</"+this.tagName+">").appendNewLine()},lo.prototype.build=function(t){this.element=t;var s,o,n=t.$descriptor,i=this.propertyDescriptor,a=n.isGeneric;return s=a?this.parseGeneric(t):this.parseNsAttributes(t),this.ns=i?this.nsPropertyTagName(i):this.nsTagName(n),this.tagName=this.addTagName(this.ns),a||(o=function jKt(t){return yne(t.$descriptor.properties,function(i){var s=i.name;if(i.isVirtual||!aIe(t,s))return!1;var o=t[s];return o!==i.default&&null!==o&&(!i.isMany||o.length)})}(t),this.parseAttributes(function WKt(t){return yne(t,function(n){return n.isAttr})}(o)),this.parseContainments(function GKt(t){return yne(t,function(n){return!n.isAttr})}(o))),this.parseGenericAttributes(t,s),this},lo.prototype.nsTagName=function(t){return function $Kt(t,n){return Ma(n.isGeneric?{localName:n.ns.localName}:{localName:FKt(n.ns.localName,n.$pkg)},t)}(this.logNamespaceUsed(t.ns),t)},lo.prototype.nsPropertyTagName=function(t){return function VKt(t,n){return Ma({localName:n.ns.localName},t)}(this.logNamespaceUsed(t.ns),t)},lo.prototype.isLocalNs=function(t){return t.uri===this.ns.uri},lo.prototype.nsAttributeName=function(t){var n;if(n=u2(t)?eu(t):t.ns,t.inherited)return{localName:n.localName};var i=this.logNamespaceUsed(n);return this.getNamespaces().logUsed(i),this.isLocalNs(i)?{localName:n.localName}:Ma({localName:n.localName},i)},lo.prototype.parseGeneric=function(t){var n=this,i=this.body,s=[];return vi(t,function(o,a){"$body"===a?i.push((new p2).build({type:"String"},o)):"$children"===a?vi(o,function(c){i.push(new lo(n).build(c))}):0!==a.indexOf("$")&&n.parseNsAttribute(t,a,o)&&s.push({name:a,value:o})}),s},lo.prototype.parseNsAttribute=function(t,n,i){var a,s=t.$model,o=eu(n);if("xmlns"===o.prefix&&(a={prefix:o.localName,uri:i}),!o.prefix&&"xmlns"===o.localName&&(a={uri:i}),!a)return{name:n,value:i};if(s&&s.getPackage(i))this.logNamespace(a,!0,!0);else{var l=this.logNamespaceUsed(a,!0);this.getNamespaces().logUsed(l)}},lo.prototype.parseNsAttributes=function(t,n){var i=this,o=[];return vi(t.$attrs,function(a,l){var c=i.parseNsAttribute(t,l,a);c&&o.push(c)}),o},lo.prototype.parseGenericAttributes=function(t,n){var i=this;vi(n,function(s){if(s.name!==YL)try{i.addAttribute(i.nsAttributeName(s.name),s.value)}catch(o){console.warn("missing namespace information for ",s.name,"=",s.value,"on",t,o)}})},lo.prototype.parseContainments=function(t){var n=this,i=this.body,s=this.element;vi(t,function(o){var a=s.get(o.name),l=o.isReference;if(o.isMany||(a=[a]),o.isBody)i.push((new p2).build(o,a[0]));else if(uIe(o.type))vi(a,function(p){i.push(new Mne(n.addTagName(n.nsPropertyTagName(o))).build(o,p))});else if(l)vi(a,function(p){i.push(new kne(n.addTagName(n.nsPropertyTagName(o))).build(p))});else{var u=EIe(o),d=function TKt(t){return"property"===_Ie(t)}(o);vi(a,function(p){var f;f=u?new QL(n,o):d?new lo(n,o):new lo(n),i.push(f.build(p))})}})},lo.prototype.getNamespaces=function(t){var s,n=this.namespaces,i=this.parent;return n||(s=i&&i.getNamespaces(),t||!s?this.namespaces=n=new NKt(s):n=s),n},lo.prototype.logNamespace=function(t,n,i){var s=this.getNamespaces(i),o=t.uri,a=t.prefix;return(!s.byUri(o)||i)&&s.add(t,n),s.mapPrefix(a,o),t},lo.prototype.logNamespaceUsed=function(t,n){var c,u,d,s=this.element.$model,o=this.getNamespaces(n),a=t.prefix,l=t.uri;if(!a&&!l)return{localName:t.localName};if(d=OKt[a]||s&&(s.getPackage(a)||{}).uri,!(l=l||d||o.uriByPrefix(a)))throw new Error("no namespace uri given for prefix <"+a+">");if(!(t=o.byUri(l))){for(c=a,u=1;o.uriByPrefix(c);)c=a+"_"+u++;t=this.logNamespace({prefix:c,uri:l},d===l)}return a&&o.mapPrefix(a,l),t},lo.prototype.parseAttributes=function(t){var n=this,i=this.element;vi(t,function(s){var o=i.get(s.name);if(s.isReference)if(s.isMany){var a=[];vi(o,function(l){a.push(l.id)}),o=a.join(" ")}else o=o.id;n.addAttribute(n.nsAttributeName(s),o)})},lo.prototype.addTagName=function(t){var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),SIe(t)},lo.prototype.addAttribute=function(t,n){var i=this.attrs;u2(n)&&(n=function UKt(t){return OIe(t,RKt,zKt)}(n));var s=function aKt(t,n){n=_ne(n);var i=mne(t)?-1:void 0;return vi(t,function(s,o){if(n(s,o))return i=o,!1}),i}(i,function(a){return a.name.localName===t.localName&&a.name.uri===t.uri&&a.name.prefix===t.prefix}),o={name:t,value:n};-1!==s?i.splice(s,1,o):i.push(o)},lo.prototype.serializeAttributes=function(t){var n=this.attrs,i=this.namespaces;i&&(n=function BKt(t){return t.getUsed().filter(function(n){return"xml"!==n.prefix}).map(function(n){return{name:"xmlns"+(n.prefix?":"+n.prefix:""),value:n.uri}})}(i).concat(n)),vi(n,function(s){t.append(" ").append(SIe(s.name)).append('="').append(s.value).append('"')})},lo.prototype.serializeTo=function(t){var n=this.body[0],i=n&&n.constructor!==p2;t.appendIndent().append("<"+this.tagName),this.serializeAttributes(t),t.append(n?">":" />"),n&&(i&&t.appendNewLine().indent(),vi(this.body,function(s){s.serializeTo(t)}),i&&t.unindent().appendIndent(),t.append("</"+this.tagName+">")),t.appendNewLine()},CIe(QL,lo),QL.prototype.parseNsAttributes=function(t){var n=lo.prototype.parseNsAttributes.call(this,t),i=t.$descriptor;if(i.name===this.propertyDescriptor.type)return n;var s=this.typeNs=this.nsTagName(i);this.getNamespaces().logUsed(this.typeNs);var o=t.$model.getPackage(s.uri),a=o.xml&&o.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(YL),(s.prefix?s.prefix+":":"")+a+i.ns.localName),n},QL.prototype.isLocalNs=function(t){return t.uri===(this.typeNs||this.ns).uri},(ZL.prototype=Object.create(Ap.prototype)).fromXML=function(t,n,i){u2(n)||(i=n,n="dmn:Definitions");var s=new Dne(Ma({model:this,lax:!0},i)),o=s.handler(n);return s.fromXML(t,o)},ZL.prototype.toXML=function(t,n){var i=new XKt(n);return new Promise(function(s,o){try{return s({xml:i.toXML(t)})}catch(l){return o(l)}})};var IYt={dc:{name:"DC",prefix:"dc",uri:"http://www.omg.org/spec/DMN/20180521/DC/",types:[{name:"Dimension",properties:[{name:"width",isAttr:!0,type:"Real"},{name:"height",isAttr:!0,type:"Real"}]},{name:"Bounds",properties:[{name:"height",isAttr:!0,type:"Real"},{name:"width",isAttr:!0,type:"Real"},{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Point",properties:[{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Color",properties:[{name:"red",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"green",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"blue",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"}]}],associations:[],enumerations:[{name:"AlignmentKind",literalValues:[{name:"start"},{name:"center"},{name:"end"}]}]},di:{name:"DI",prefix:"di",uri:"http://www.omg.org/spec/DMN/20180521/DI/",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"extension",type:"Extension"},{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"style",isReference:!0,type:"Style",xml:{serialize:"property"}},{name:"sharedStyle",isReference:!0,isVirtual:!0,type:"Style"}]},{name:"Diagram",superClass:["DiagramElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"}]},{name:"Shape",isAbstract:!0,properties:[{name:"bounds",type:"dc:Bounds"}],superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,properties:[{name:"waypoint",type:"dc:Point",isMany:!0,xml:{serialize:"property"}}],superClass:["DiagramElement"]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],enumerations:[],xml:{tagAlias:"lowerCase"}},dmn:{name:"DMN",prefix:"dmn",uri:"https://www.omg.org/spec/DMN/20191111/MODEL/",types:[{name:"AuthorityRequirement",superClass:["DMNElement"],properties:[{name:"requiredAuthority",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"ItemDefinition",superClass:["NamedElement"],properties:[{name:"typeRef",type:"String"},{name:"allowedValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"typeLanguage",type:"String",isAttr:!0},{name:"itemComponent",type:"ItemDefinition",isMany:!0,xml:{serialize:"property"}},{name:"functionItem",type:"FunctionItem"},{name:"isCollection",isAttr:!0,type:"Boolean"}]},{name:"Definitions",superClass:["NamedElement"],properties:[{name:"import",type:"Import",isMany:!0},{name:"itemDefinition",type:"ItemDefinition",isMany:!0},{name:"drgElement",type:"DRGElement",isMany:!0},{name:"artifact",type:"Artifact",isMany:!0},{name:"elementCollection",type:"ElementCollection",isMany:!0},{name:"businessContextElement",type:"BusinessContextElement",isMany:!0},{name:"namespace",type:"String",isAttr:!0},{name:"expressionLanguage",type:"String",isAttr:!0},{name:"typeLanguage",type:"String",isAttr:!0},{name:"exporter",isAttr:!0,type:"String"},{name:"exporterVersion",isAttr:!0,type:"String"},{name:"dmnDI",type:"dmndi:DMNDI"}]},{name:"KnowledgeSource",superClass:["DRGElement"],properties:[{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0},{name:"type",type:"String"},{name:"owner",type:"DMNElementReference",xml:{serialize:"property"}},{name:"locationURI",type:"String",isAttr:!0}]},{name:"DecisionRule",superClass:["DMNElement"],properties:[{name:"inputEntry",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}},{name:"outputEntry",type:"LiteralExpression",isMany:!0,xml:{serialize:"property"}},{name:"annotationEntry",type:"RuleAnnotation",isMany:!0,xml:{serialize:"property"}}]},{name:"Expression",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"typeRef",isAttr:!0,type:"String"}]},{name:"InformationItem",superClass:["NamedElement"],properties:[{name:"typeRef",isAttr:!0,type:"String"}]},{name:"Decision",superClass:["DRGElement"],properties:[{name:"question",type:"String",xml:{serialize:"property"}},{name:"allowedAnswers",type:"String",xml:{serialize:"property"}},{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"informationRequirement",type:"InformationRequirement",isMany:!0},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0},{name:"supportedObjective",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"impactedPerformanceIndicator",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionMaker",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionOwner",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"usingProcess",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"usingTask",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"decisionLogic",type:"Expression"}]},{name:"Invocation",superClass:["Expression"],properties:[{name:"calledFunction",type:"Expression"},{name:"binding",type:"Binding",isMany:!0}]},{name:"OrganisationalUnit",superClass:["BusinessContextElement"],properties:[{name:"decisionMade",type:"Decision",isReference:!0,isMany:!0},{name:"decisionOwned",type:"Decision",isReference:!0,isMany:!0}]},{name:"Import",superClass:["NamedElement"],properties:[{name:"importType",type:"String",isAttr:!0},{name:"locationURI",type:"String",isAttr:!0},{name:"namespace",type:"String",isAttr:!0}]},{name:"InformationRequirement",superClass:["DMNElement"],properties:[{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"ElementCollection",superClass:["NamedElement"],properties:[{name:"drgElement",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"DRGElement",isAbstract:!0,superClass:["NamedElement"],properties:[]},{name:"InputData",superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"DMNElement",isAbstract:!0,properties:[{name:"description",type:"String"},{name:"extensionElements",type:"ExtensionElements"},{name:"id",type:"String",isAttr:!0,isId:!0},{name:"extensionAttribute",type:"ExtensionAttribute",isMany:!0},{name:"label",isAttr:!0,type:"String"}]},{name:"InputClause",superClass:["DMNElement"],properties:[{name:"inputExpression",type:"LiteralExpression",xml:{serialize:"property"}},{name:"inputValues",type:"UnaryTests",xml:{serialize:"property"}}]},{name:"DecisionTable",superClass:["Expression"],properties:[{name:"input",type:"InputClause",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"OutputClause",isMany:!0,xml:{serialize:"property"}},{name:"annotation",type:"RuleAnnotationClause",isMany:!0,xml:{serialize:"property"}},{name:"rule",type:"DecisionRule",isMany:!0,xml:{serialize:"property"}},{name:"hitPolicy",type:"HitPolicy",isAttr:!0,default:"UNIQUE"},{name:"aggregation",type:"BuiltinAggregator",isAttr:!0},{name:"preferredOrientation",type:"DecisionTableOrientation",isAttr:!0},{name:"outputLabel",isAttr:!0,type:"String"}]},{name:"LiteralExpression",superClass:["Expression"],properties:[{name:"expressionLanguage",type:"String",isAttr:!0},{name:"text",type:"String"},{name:"importedValues",type:"ImportedValues"}]},{name:"Binding",properties:[{name:"parameter",type:"InformationItem",xml:{serialize:"property"}},{name:"bindingFormula",type:"Expression"}]},{name:"KnowledgeRequirement",superClass:["DMNElement"],properties:[{name:"requiredKnowledge",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"BusinessKnowledgeModel",superClass:["Invocable"],properties:[{name:"encapsulatedLogic",type:"FunctionDefinition",xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0}]},{name:"BusinessContextElement",isAbstract:!0,superClass:["NamedElement"],properties:[{name:"URI",type:"String",isAttr:!0}]},{name:"PerformanceIndicator",superClass:["BusinessContextElement"],properties:[{name:"impactingDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"FunctionDefinition",superClass:["Expression"],properties:[{name:"formalParameter",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"body",type:"Expression"},{name:"kind",type:"FunctionKind",isAttr:!0}]},{name:"Context",superClass:["Expression"],properties:[{name:"contextEntry",type:"ContextEntry",isMany:!0}]},{name:"ContextEntry",superClass:["DMNElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"value",type:"Expression"}]},{name:"List",superClass:["Expression"],properties:[{name:"elements",isMany:!0,type:"Expression"}]},{name:"Relation",superClass:["Expression"],properties:[{name:"column",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"row",type:"List",isMany:!0,xml:{serialize:"property"}}]},{name:"OutputClause",superClass:["DMNElement"],properties:[{name:"outputValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"defaultOutputEntry",type:"LiteralExpression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"typeRef",isAttr:!0,type:"String"}]},{name:"UnaryTests",superClass:["Expression"],properties:[{name:"text",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"NamedElement",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ImportedValues",superClass:["Import"],properties:[{name:"importedElement",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"DecisionService",superClass:["Invocable"],properties:[{name:"outputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"encapsulatedDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputData",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"ExtensionElements",properties:[{name:"values",type:"Element",isMany:!0}]},{name:"ExtensionAttribute",properties:[{name:"value",type:"Element"},{name:"valueRef",type:"Element",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Element",isAbstract:!0,properties:[{name:"extensionAttribute",type:"ExtensionAttribute",isAttr:!0,isReference:!0},{name:"elements",type:"ExtensionElements",isAttr:!0,isReference:!0}]},{name:"Artifact",isAbstract:!0,superClass:["DMNElement"],properties:[]},{name:"Association",superClass:["Artifact"],properties:[{name:"sourceRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"targetRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"associationDirection",type:"AssociationDirection",isAttr:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",isAttr:!0,type:"String",default:"text/plain"}]},{name:"RuleAnnotationClause",properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"RuleAnnotation",properties:[{name:"text",type:"String"}]},{name:"Invocable",isAbstract:!0,superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"Group",superClass:["Artifact"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"FunctionItem",superClass:["DMNElement"],properties:[{name:"parameters",isMany:!0,type:"InformationItem",xml:{serialize:"property"}},{name:"outputTypeRef",isAttr:!0,type:"String"}]},{name:"DMNElementReference",properties:[{isAttr:!0,name:"href",type:"String"}]}],enumerations:[{name:"HitPolicy",literalValues:[{name:"UNIQUE"},{name:"FIRST"},{name:"PRIORITY"},{name:"ANY"},{name:"COLLECT"},{name:"RULE ORDER"},{name:"OUTPUT ORDER"}]},{name:"BuiltinAggregator",literalValues:[{name:"SUM"},{name:"COUNT"},{name:"MIN"},{name:"MAX"}]},{name:"DecisionTableOrientation",literalValues:[{name:"Rule-as-Row"},{name:"Rule-as-Column"},{name:"CrossTable"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"FunctionKind",literalValues:[{name:"FEEL"},{name:"Java"},{name:"PMML"}]}],associations:[],xml:{tagAlias:"lowerCase"}},dmndi:{name:"DMNDI",prefix:"dmndi",uri:"https://www.omg.org/spec/DMN/20191111/DMNDI/",types:[{name:"DMNDI",properties:[{name:"diagrams",type:"DMNDiagram",isMany:!0},{name:"styles",type:"DMNStyle",isMany:!0}]},{name:"DMNStyle",superClass:["di:Style"],properties:[{name:"fillColor",type:"dc:Color",isAttr:!0},{name:"strokeColor",type:"dc:Color",isAttr:!0},{name:"fontColor",type:"dc:Color",isAttr:!0},{name:"fontSize",isAttr:!0,type:"Real"},{name:"fontFamily",isAttr:!0,type:"String"},{name:"fontItalic",isAttr:!0,type:"Boolean"},{name:"fontBold",isAttr:!0,type:"Boolean"},{name:"fontUnderline",isAttr:!0,type:"Boolean"},{name:"fontStrikeThrough",isAttr:!0,type:"Boolean"},{name:"labelHorizontalAlignment",type:"dc:AlignmentKind",isAttr:!0},{name:"labelVerticalAlignment",type:"dc:AlignmentKind",isAttr:!0}]},{name:"DMNDiagram",superClass:["di:Diagram"],properties:[{name:"dmnElementRef",type:"dmn:DMNElement",isAttr:!0,isReference:!0},{name:"size",type:"Size"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"diagramElements",type:"DMNDiagramElement",isMany:!0}]},{name:"DMNDiagramElement",isAbstract:!0,superClass:["di:DiagramElement"],properties:[{name:"dmnElementRef",type:"dmn:DMNElement",isAttr:!0,isReference:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"label",type:"DMNLabel"}]},{name:"DMNLabel",superClass:["di:Shape"],properties:[{name:"text",type:"Text"}]},{name:"DMNShape",superClass:["di:Shape","DMNDiagramElement"],properties:[{name:"isListedInputData",isAttr:!0,type:"Boolean"},{name:"decisionServiceDividerLine",type:"DMNDecisionServiceDividerLine"},{name:"isCollapsed",isAttr:!0,type:"Boolean"}]},{name:"DMNEdge",superClass:["di:Edge","DMNDiagramElement"],properties:[{name:"sourceElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0},{name:"targetElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0}]},{name:"DMNDecisionServiceDividerLine",superClass:["di:Edge"]},{name:"Text",properties:[{name:"text",isBody:!0,type:"String"}]},{name:"Size",superClass:["dc:Dimension"]}],associations:[],enumerations:[]},biodi:{name:"bpmn.io DI for DMN",uri:"http://bpmn.io/schema/dmn/biodi/2.0",prefix:"biodi",xml:{tagAlias:"lowerCase"},types:[{name:"DecisionTable",isAbstract:!0,extends:["dmn:DecisionTable"],properties:[{name:"annotationsWidth",isAttr:!0,type:"Integer"}]},{name:"OutputClause",isAbstract:!0,extends:["dmn:OutputClause"],properties:[{name:"width",isAttr:!0,type:"Integer"}]},{name:"InputClause",isAbstract:!0,extends:["dmn:InputClause"],properties:[{name:"width",isAttr:!0,type:"Integer"}]}]}};const NYt=function RYt(t,n){return new ZL(Ma({},IYt,t),n)};function JL(t){return function(){if(!window.Promise)throw new Error("Promises is not supported in this environment. Please polyfill Promise.");var n=arguments.length;if(!(n>=1&&Ar(arguments[n-1])))return t.apply(this,arguments);var i=arguments[n-1];console.warn(new Error("Passing callbacks to "+function LYt(t){return t.replace("bound ","")}(t.name)+" is deprecated and will be removed in a future major release. Please switch to promises: https://bpmn.io/l/moving-to-promises.html"));var s=Array.prototype.slice.call(arguments,0,-1);t.apply(this,s).then(function(o){var a=Object.keys(o)[0];return i(null,o[a])},function(o){return i(o,o.warnings)})}}const FYt={width:"100%",height:"100%",position:"relative"};class BYt{constructor(n={}){this._eventBus=new Al,this._viewsChanged=Lx(this._viewsChanged,0),this._views=[],this._viewers={},this.open=JL(this.open.bind(this)),this.importXML=JL(this.importXML.bind(this)),this.saveXML=JL(this.saveXML.bind(this)),this._init(n)}importXML(n,i){var s=this;return i=i||{open:!0},new Promise(function(a,l){var c=s._activeView;s._clear().then(()=>{var u;n=s._emit("import.parse.start",{xml:n})||n,s._moddle.fromXML(n,"dmn:Definitions").then(d=>{var p=d.rootElement;if(p=s._emit("import.parse.complete",o({error:null,definitions:p,elementsById:d.elementsById,references:d.references,warnings:u=d.warnings}))||p,s._setDefinitions(p),!i.open)return s._emit("import.done",{error:null,warnings:u}),void a({warnings:u});var m=s._getInitialView(s._views,c);if(!m){var y=new Error("no displayable contents");return s._emit("import.done",{error:y,warnings:u}),y.warnings=u,l(y)}s.open(m).then(E=>({warnings:E.warnings})).catch(E=>({error:E,warnings:E.warnings})).then(E=>{var _=[].concat(u,E.warnings);s._emit("import.done",{error:E.error,warnings:_}),E.error?(E.error.warnings=_,l(E.error)):a({warnings:_})})}).catch(d=>(u=d.warnings,d=function $Yt(t,n){if("failed to parse document as <dmn:Definitions>"!==t.message)return null;var i=-1!==n.indexOf('"http://www.omg.org/spec/DMN/20151101/dmn.xsd"')?"1.1":-1!==n.indexOf('"http://www.omg.org/spec/DMN/20180521/MODEL/"')&&"1.2";return i?(t=new Error("unsupported DMN "+i+" file detected; only DMN 1.3 files can be opened"),console.error("Cannot open what looks like a DMN "+i+" diagram. Please refer to https://bpmn.io/l/dmn-compatibility.html to learn how to make the toolkit compatible with older DMN files",t),t):null}(d,n)||function VYt(t){var i=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(t.message);return i?(t.message="unparsable content <"+i[1]+"> detected; this may indicate an invalid DMN 1.3 diagram file"+i[2],t):null}(d)||d,s._emit("import.parse.complete",o({error:d,warnings:u})),s._emit("import.done",{error:d,warnings:u}),d.warnings=u,l(d)))}).catch(u=>(s._emit("import.done",{error:u,warnings:[]}),u.warnings=[],l(u)))});function o(a){var l=s._eventBus.createEvent(a);return Object.defineProperty(l,"context",{enumerable:!0,get:function(){return console.warn(new Error("import.parse.complete <context> is deprecated and will be removed in future library versions")),{warnings:a.warnings,references:a.references,elementsById:a.elementsById}}}),l}}getDefinitions(){return this._definitions}getActiveView(){return this._activeView}getActiveViewer(){var n=this.getActiveView();return n&&this._getViewer(n)}getView(n){return this._views.filter(function(i){return i.element===n})[0]}getViews(){return this._views}saveXML(n){var i=this;n=n||{};var s=this._definitions;return new Promise(function(o,a){s?(s=i._emit("saveXML.start",{definitions:s})||s,i._moddle.toXML(s,n).then(function(l){var c=l.xml;return{xml:c=i._emit("saveXML.serialized",{xml:c})||c}}).catch(l=>({error:l})).then(l=>{i._emit("saveXML.done",l),l.error?a(l.error):o({xml:l.xml})})):a(new Error("no definitions loaded"))})}on(...n){this._eventBus.on(...n)}off(...n){this._eventBus.off(...n)}once(...n){this._eventBus.once(...n)}attachTo(n){n.get&&n.constructor.prototype.jquery&&(n=n.get(0)),"string"==typeof n&&(n=$n(n)),n.appendChild(this._container),this._emit("attach",{})}detach(){this._emit("detach",{}),el(this._container)}destroy(){Object.keys(this._viewers).forEach(n=>{DIe(this._viewers[n],"destroy")}),el(this._container)}_init(n){this._options=n,this._moddle=this._createModdle(n),this._viewers={},this._views=[];const i=Xr('<div class="dmn-js-parent"></div>'),s=Ce({},FYt,n);Ce(i.style,{width:TIe(s.width),height:TIe(s.height),position:s.position}),this._container=i,n.container&&this.attachTo(n.container)}_clear(){return this._switchView(null)}open(n){return this._switchView(n)}_setDefinitions(n){this._definitions=n,this._updateViews()}_viewsChanged=()=>{this._emit("views.changed",{views:this._views,activeView:this._activeView})};_updateViews(){var n=this._definitions;if(!n)return this._views=[],void this._switchView(null);var i=this._getViewProviders(),s=[n,...n.drgElement||[]],o=this._views,a=[];for(var l of s){var c=Gt(i,function(m){return"string"==typeof m.opens?m.opens===l.$type:m.opens(l)});c&&a.push({element:l,id:l.id,name:l.name,type:c.id})}var p,d=this._activeView;if(!d||(p=Gt(a,function(m){return eF(d,m)})||this._getInitialView(a))){var f=!eF(d,p)||PIe(d,p),h=o.length!==a.length||!yu(a,function(m){return Gt(o,function(y){return eF(y,m)&&!PIe(y,m)})});this._activeView=p,this._views=a,(f||h)&&this._viewsChanged()}else this._switchView(null)}_getInitialView(n,i){var s;return i&&(s=Gt(n,function(o){return eF(o,i)})||Gt(n,function(o){return o.type===i})),s||n[0]}_switchView(n){var i=this;return new Promise(function(s,o){var c,a=(p,f)=>{i._viewsChanged(),p?o(p):s(f)},l=i.getActiveView(),u=n&&i._getViewer(n),d=n&&n.element;if(l&&(c=i._getViewer(l))!==u&&(DIe(c,"clear"),c.detach()),i._activeView=n,u)return c!==u&&u.attachTo(i._container),i._emit("import.render.start",{view:n,element:d}),void u.open(d).then(p=>{i._emit("import.render.complete",{view:n,error:null,warnings:p.warnings}),a(null,p)}).catch(p=>{i._emit("import.render.complete",{view:n,error:p,warnings:p.warnings}),a(p,null)});a()})}_getViewer(n){var i=n.type,s=this._viewers[i];return s||(s=this._viewers[i]=this._createViewer(n.type),this._emit("viewer.created",{type:i,viewer:s})),s}_createViewer(n){var i=Gt(this._getViewProviders(),function(l){return l.id===n});if(!i)throw new Error("no provider for view type <"+n+">");var o=this._options[n]||{};return new(0,i.constructor)({...this._options.common||{},...o,additionalModules:[...o.additionalModules||[],{_parent:["value",this],moddle:["value",this._moddle]}]})}_emit(...n){return this._eventBus.fire(...n)}_createModdle(n){return new NYt(n.moddleExtensions)}_getViewProviders(){return[]}}function TIe(t){return t+(Ln(t)?"px":"")}function eF(t,n){return Ki(t)?!!Ki(n)&&(t.element===n.element||t.id===n.id):!Ki(n)}function PIe(t,n){return!t||!n||t.name!==n.name}function DIe(t,n){Ar(t[n])&&t[n]()}function Je(t,n){var i=wc(t);return i&&"function"==typeof i.$instanceOf&&i.$instanceOf(n)}function zi(t){return Je(t,"dmn:InputClause")}function ml(t){return Je(t,"dmn:OutputClause")}function wc(t){return t&&t.businessObject||t}function tu(t,n){return Gd(n,function(i){return Je(t,i)})}function tF(t){var n=wc(t);if(Je(n,"dmn:Decision"))return n.get("decisionLogic");if(Je(n,"dmn:BusinessKnowledgeModel")){var i=n.get("encapsulatedLogic");return i&&i.get("body")}}class UYt extends BYt{_init(n){super._init(n),this.on("import.parse.complete",i=>{i.error||this._collectIds(i.definitions,i.elementsById)}),this.on("destroy",()=>{this._moddle.ids.clear()}),this.on("viewer.created",({viewer:i})=>{i.on("elements.changed",({elements:s})=>{s.some(function(a){return tu(a,["dmn:Decision","dmn:Definitions","dmn:BusinessKnowledgeModel"])})&&this._updateViews()})})}_collectIds(n,i){var a,o=n.$model.ids;for(a in o.clear(),i)o.claim(a,i[a])}_createModdle(n){var i=super._createModdle(n);return i.ids=new Yd([32,36,1]),i}}var qYt=new rd({name:"dmnElementRef",enumerable:!0},{name:"di",configurable:!0});function WYt(t,n){var i=[];function a(S){try{var v=S.di&&function s(S){if(S.gfx)throw new Error("already rendered "+S.id);return t.element(S)}(S);return v}catch(w){_(w.message,{element:S,error:w})}}function h(S){!function m(S){var v=S.dmnElementRef;v?v.di?_("multiple DI elements defined for element",{element:v}):(qYt.bind(v,"di"),v.di=S):_("no DMN element referenced in element",{element:S})}(S)}function y(S){i.push(S)}function _(S,v){t.error(S,v)}return{handleDefinitions:function l(S,v){var w=S.dmnDI;if(!w)throw new Error("no dmndi:DMNDI");var g=w.diagrams||[];if(v&&-1===g.indexOf(v))throw new Error("diagram not part of dmndi:DMNDI");if(!v&&g&&g.length&&(v=g[0]),!v)throw new Error("no diagram to display");S.di=v,function f(S){fe(S.diagramElements,h)}(v),function o(S){t.root(S)}(S),function c(S){fe(S,function(v){a(v),function p(S){fe(["informationRequirement","knowledgeRequirement","authorityRequirement"],function(v){fe(S[v],function(w){y(function(){a(w)})})})}(v)})}(S.get("drgElement")),function u(S){fe(S,function(v){Je(v,"dmn:Association")?function d(S){y(function(){a(S)})}(v):a(v)})}(S.get("artifact")),function E(){fe(i,function(S){S()})}()}}}var Ane="$NO_OP",nF=Array.isArray;function Ine(t){var n=typeof t;return"string"===n||"number"===n}function Ai(t){return rF(t)||co(t)}function Uy(t){return co(t)||!1===t||function YYt(t){return!0===t}(t)||rF(t)}function bi(t){return"function"==typeof t}function w5(t){return"string"==typeof t}function Rne(t){return"number"==typeof t}function co(t){return null===t}function rF(t){return void 0===t}function zP(t,n){var i={};if(t)for(var s in t)i[s]=t[s];if(n)for(var o in n)i[o]=n[o];return i}function Nne(t,n,i,s,o,a,l,c){return{childFlags:t,children:n,className:i,dom:null,flags:s,key:void 0===o?null:o,parentVNode:null,props:void 0===a?null:a,ref:void 0===l?null:l,type:c}}function J(t,n,i,s,o,a,l,c){var u=void 0===o?1:o,d=Nne(u,s,i,t,l,a,c,n),p=Ip.createVNode;return"function"==typeof p&&p(d),0===u&&AIe(d,d.children),d}function At(t,n,i,s,o){(2&t)>0&&(t=n.prototype&&bi(n.prototype.render)?4:8);var a=n.defaultProps;if(!Ai(a))for(var l in i||(i={}),a)rF(i[l])&&(i[l]=a[l]);if((8&t)>0){var c=n.defaultHooks;if(!Ai(c))if(o)for(var u in c)rF(o[u])&&(o[u]=c[u]);else o=c}var d=Nne(1,null,null,t,s,i,o,n),p=Ip.createVNode;return bi(p)&&p(d),d}function Vr(t,n){return Nne(1,Ai(t)?"":t,null,16,n,null,null,null)}function qy(t){var n=t.props;if(n){var i=t.flags;481&i&&(void 0!==n.children&&Ai(t.children)&&AIe(t,n.children),void 0!==n.className&&(t.className=n.className||null,n.className=void 0)),void 0!==n.key&&(t.key=n.key,n.key=void 0),void 0!==n.ref&&(t.ref=8&i?zP(t.ref,n.ref):n.ref,n.ref=void 0)}return t}function Cc(t){var n,i=t.flags;if(14&i){var s,o=t.props;if(!co(o))for(var a in s={},o)s[a]=o[a];n=At(i,t.type,s,t.key,t.ref)}else 481&i?n=J(i,t.type,t.className,t.children,t.childFlags,t.props,t.key,t.ref):16&i?n=Vr(t.children,t.key):1024&i&&(n=t);return n}function kIe(){return Vr("",null)}function MIe(t,n,i,s){for(var o=t.length;i<o;i++){var a=t[i];if(!Uy(a)){var l=s+"$"+i;if(nF(a))MIe(a,n,0,l);else{if(Ine(a))a=Vr(a,l);else{var c=a.key,u=w5(c)&&"$"===c[0];(!co(a.dom)||u)&&(a=Cc(a)),a.key=co(c)||u?l:s+c}n.push(a)}}}}function AIe(t,n){var i,s=1;if(Uy(n))i=n;else if(w5(n))s=2,i=Vr(n);else if(Rne(n))s=2,i=Vr(n+"");else if(nF(n)){var o=n.length;if(0===o)i=null,s=1;else{(Object.isFrozen(n)||!0===n.$)&&(n=n.slice()),s=8;for(var a=0;a<o;a++){var l=n[a];if(Uy(l)||nF(l)){i=i||n.slice(0,a),MIe(n,i,a,"");break}if(Ine(l))(i=i||n.slice(0,a)).push(Vr(l,"$"+a));else{var c=l.key,u=co(l.dom),d=co(c),p=!d&&w5(c)&&"$"===c[0];!u||d||p?(i=i||n.slice(0,a),(!u||p)&&(l=Cc(l)),(d||p)&&(l.key="$"+a),i.push(l)):i&&i.push(l)}}(i=i||n).$=!0}}else i=n,co(n.dom)||(i=Cc(n)),s=2;return t.children=i,t.childFlags=s,t}var Ip={afterRender:null,beforeRender:null,createVNode:null,renderComplete:null},f2="http://www.w3.org/1999/xlink",Lne="http://www.w3.org/XML/1998/namespace",IIe={"xlink:actuate":f2,"xlink:arcrole":f2,"xlink:href":f2,"xlink:role":f2,"xlink:show":f2,"xlink:title":f2,"xlink:type":f2,"xml:base":Lne,"xml:lang":Lne,"xml:space":Lne},gl={},l0=[];function iF(t,n){t.appendChild(n)}function sF(t,n,i){Ai(i)?iF(t,n):t.insertBefore(n,i)}function Fne(t,n,i){t.replaceChild(n,i)}function Bne(t){for(var n;void 0!==(n=t.shift());)n()}var oF={},$ne={};function RIe(t,n,i){var s=oF[t],o=i.$EV;n?(s||($ne[t]=function rXt(t){var n=function(s){var o=s.type,a="click"===o||"dblclick"===o;if(a&&0!==s.button)return s.stopPropagation(),!1;s.stopPropagation=nXt;var l={dom:document};Object.defineProperty(s,"currentTarget",{configurable:!0,get:function(){return l.dom}}),function tXt(t,n,i,s){for(var o=function eXt(t){return bi(t.composedPath)?t.composedPath()[0]:t.target}(t);!co(o);){if(n&&o.disabled)return;var a=o.$EV;if(a){var l=a[i];if(l&&(s.dom=o,l.event?l.event(l.data,t):l(t),t.cancelBubble))return}o=o.parentNode}}(s,a,t,l)};return document.addEventListener(NIe(t),n),n}(t),oF[t]=0),o||(o=i.$EV={}),o[t]||oF[t]++,o[t]=n):o&&o[t]&&(oF[t]--,1===s&&(document.removeEventListener(NIe(t),$ne[t]),$ne[t]=null),o[t]=n)}function NIe(t){return t.substr(2).toLowerCase()}function nXt(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function LIe(t,n){var i=document.createElement("i");return i.innerHTML=n,i.innerHTML===t.innerHTML}function FIe(t,n,i){if(t[n]){var s=t[n];s.event?s.event(s.data,i):s(i)}else{var o=n.toLowerCase();t[o]&&t[o](i)}}function UP(t,n){var i=function(o){o.stopPropagation();var a=this.$V;if(a){var l=a.props||gl,c=a.dom;if(w5(t))FIe(l,t,o);else for(var u=0;u<t.length;u++)FIe(l,t[u],o);if(bi(n)){var d=this.$V;n(d.props||gl,c,!1,d)}}};return Object.defineProperty(i,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),i}function Vne(t){return"checkbox"===t||"radio"===t}var sXt=UP("onInput",jne),oXt=UP(["onClick","onChange"],jne);function BIe(t){t.stopPropagation()}function jne(t,n){var i=t.type,s=t.value,o=t.checked,a=t.multiple,l=t.defaultValue,c=!Ai(s);i&&i!==n.type&&n.setAttribute("type",i),!Ai(a)&&a!==n.multiple&&(n.multiple=a),!Ai(l)&&!c&&(n.defaultValue=l+""),Vne(i)?(c&&(n.value=s),Ai(o)||(n.checked=o)):c&&n.value!==s?(n.defaultValue=s,n.value=s):Ai(o)||(n.checked=o)}function $Ie(t,n){if("optgroup"===t.type){var s=t.children,o=t.childFlags;if(12&o)for(var a=0,l=s.length;a<l;a++)zne(s[a],n);else 2===o&&zne(s,n)}else zne(t,n)}function zne(t,n){var i=t.props||gl,s=t.dom;s.value=i.value,nF(n)&&-1!==n.indexOf(i.value)||i.value===n?s.selected=!0:(!Ai(n)||!Ai(i.selected))&&(s.selected=i.selected||!1)}BIe.wrapped=!0;var lXt=UP("onChange",VIe);function VIe(t,n,i,s){var o=!!t.multiple;!Ai(t.multiple)&&o!==n.multiple&&(n.multiple=o);var a=s.childFlags;if(!(1&a)){var l=s.children,c=t.value;if(i&&Ai(c)&&(c=t.defaultValue),12&a)for(var u=0,d=l.length;u<d;u++)$Ie(l[u],c);else 2===a&&$Ie(l,c)}}var uXt=UP("onInput",jIe),dXt=UP("onChange");function jIe(t,n,i){var s=t.value,o=n.value;if(Ai(s)){if(i){var a=t.defaultValue;!Ai(a)&&a!==o&&(n.defaultValue=a,n.value=a)}}else o!==s&&(n.defaultValue=s,n.value=s)}function zIe(t,n,i,s,o,a){64&t?jne(s,i):256&t?VIe(s,i,o,n):128&t&&jIe(s,i,o),a&&(i.$V=n)}function HIe(t){return t.type&&Vne(t.type)?!Ai(t.checked):!Ai(t.value)}function Rp(t,n){h2(t),n&&t.dom&&(function JYt(t,n){t.removeChild(n)}(n,t.dom),t.dom=null)}function h2(t){var n=t.flags;if(481&n){var i=t.ref,s=t.props;bi(i)&&i(null);var o=t.children,a=t.childFlags;if(12&a?Hne(o):2===a&&h2(o),!co(s))for(var l in s)switch(l){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":RIe(l,null,t.dom)}}else{var c=t.children;if(c)if(14&n){var u=t.ref;4&n?(bi(c.componentWillUnmount)&&c.componentWillUnmount(),bi(u)&&u(null),c.$UN=!0,c.$LI&&h2(c.$LI)):(!Ai(u)&&bi(u.onComponentWillUnmount)&&u.onComponentWillUnmount(t.dom,t.props||gl),h2(c))}else 1024&n&&Rp(c,t.type)}}function Hne(t){for(var n=0,i=t.length;n<i;n++)h2(t[n])}function aF(t,n){Hne(n),t.textContent=""}function UIe(t,n){switch(t){case"animationIterationCount":case"borderImageOutset":case"borderImageSlice":case"borderImageWidth":case"boxFlex":case"boxFlexGroup":case"boxOrdinalGroup":case"columnCount":case"fillOpacity":case"flex":case"flexGrow":case"flexNegative":case"flexOrder":case"flexPositive":case"flexShrink":case"floodOpacity":case"fontWeight":case"gridColumn":case"gridRow":case"lineClamp":case"lineHeight":case"opacity":case"order":case"orphans":case"stopOpacity":case"strokeDasharray":case"strokeDashoffset":case"strokeMiterlimit":case"strokeOpacity":case"strokeWidth":case"tabSize":case"widows":case"zIndex":case"zoom":return n;default:return n+"px"}}function Une(t,n,i,s,o,a,l){switch(t){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":RIe(t,i,s);break;case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":break;case"autoFocus":s.autofocus=!!i;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":s[t]=!!i;break;case"defaultChecked":case"value":case"volume":if(a&&"value"===t)return;var c=Ai(i)?"":i;s[t]!==c&&(s[t]=c);break;case"dangerouslySetInnerHTML":var d=i&&i.__html||"";(n&&n.__html||"")!==d&&!Ai(d)&&!LIe(s,d)&&(co(l)||(12&l.childFlags?Hne(l.children):2===l.childFlags&&h2(l.children),l.children=null,l.childFlags=1),s.innerHTML=d);break;default:"o"===t[0]&&"n"===t[1]?function mXt(t,n,i){var s=t.toLowerCase();if(bi(n)||Ai(n)){var a=i[s];(!a||!a.wrapped)&&(i[s]=n)}else{var o=n.event;o&&bi(o)&&(i[s]=function hXt(t,n){return function(i){t(n.data,i)}}(o,n))}}(t,i,s):Ai(i)?s.removeAttribute(t):"style"===t?function gXt(t,n,i){var o,a,s=i.style;if(w5(n))s.cssText=n;else if(Ai(t)||w5(t))for(o in n)s[o]=Rne(a=n[o])?UIe(o,a):a;else{for(o in n)(a=n[o])!==t[o]&&(s[o]=Rne(a)?UIe(o,a):a);for(o in t)Ai(n[o])&&(s[o]="")}}(n,i,s):o&&IIe[t]?s.setAttributeNS(IIe[t],t,i):s.setAttribute(t,i)}}function qIe(t,n,i,s,o){var a=!1,l=(448&n)>0;for(var c in l&&(a=HIe(i))&&function fXt(t,n,i){64&t?function aXt(t,n){Vne(n.type)?(t.onchange=oXt,t.onclick=BIe):t.oninput=sXt}(n,i):256&t?function cXt(t){t.onchange=lXt}(n):128&t&&function pXt(t,n){t.oninput=uXt,n.onChange&&(t.onchange=dXt)}(n,i)}(n,s,i),i)Une(c,null,i[c],s,o,a,null);l&&zIe(n,t,s,i,!0,a)}function WIe(t,n,i,s){var o=new n(i,s);if(t.children=o,o.$V=t,o.$BS=!1,o.context=s,o.props===gl&&(o.props=i),o.$UN=!1,bi(o.componentWillMount)){if(o.$BR=!0,o.componentWillMount(),o.$PSS){var a=o.state,l=o.$PS;if(co(a))o.state=l;else for(var c in l)a[c]=l[c];o.$PSS=!1,o.$PS=null}o.$BR=!1}bi(Ip.beforeRender)&&Ip.beforeRender(o);var d,u=qP(o.render(i,o.state,s),t);return bi(o.getChildContext)&&(d=o.getChildContext()),o.$CX=Ai(d)?s:zP(s,d),bi(Ip.afterRender)&&Ip.afterRender(o),o.$LI=u,o}function qP(t,n){return Uy(t)?t=kIe():Ine(t)?t=Vr(t,null):(t.dom&&(t=Cc(t)),14&t.flags&&(t.parentVNode=n)),t}function nu(t,n,i,s){var o=t.flags;return 481&o?GIe(t,n,i,s):14&o?function yXt(t,n,i,s,o){var a,l=t.type,c=t.props||gl,u=t.ref;if(o){var d=WIe(t,l,c,i);t.dom=a=nu(d.$LI,null,d.$CX,s),KIe(0,u,d),d.$UPD=!1}else{var p=qP(l(c,i),t);t.children=p,t.dom=a=nu(p,null,i,s),YIe(c,u,a)}return co(n)||iF(n,a),a}(t,n,i,s,(4&o)>0):512&o||16&o?qne(t,n):1024&o?(nu(t.children,t.type,i,!1),t.dom=qne(kIe(),n)):void 0}function qne(t,n){var i=t.dom=document.createTextNode(t.children);return co(n)||iF(n,i),i}function GIe(t,n,i,s){var o=t.flags,a=t.children,l=t.props,c=t.className,u=t.ref,d=t.childFlags,p=function ZYt(t,n){return n?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t)}(t.type,s=s||(32&o)>0);if(t.dom=p,!Ai(c)&&""!==c&&(s?p.setAttribute("class",c):p.className=c),co(n)||iF(n,p),!(1&d)){var f=!0===s&&"foreignObject"!==t.type;2===d?nu(a,p,i,f):12&d&&WP(a,p,i,f)}return co(l)||qIe(t,o,l,p,s),bi(u)&&Wne(p,u),p}function WP(t,n,i,s){for(var o=0,a=t.length;o<a;o++){var l=t[o];co(l.dom)||(t[o]=l=Cc(l)),nu(l,n,i,s)}}function KIe(t,n,i){bi(n)&&n(i),bi(i.componentDidMount)&&l0.push(function vXt(t){return function(){t.$UPD=!0,t.componentDidMount(),t.$UPD=!1}}(i))}function YIe(t,n,i){Ai(n)||(bi(n.onComponentWillMount)&&n.onComponentWillMount(t),bi(n.onComponentDidMount)&&l0.push(function bXt(t,n,i){return function(){return t.onComponentDidMount(n,i)}}(n,i,t)))}function Wne(t,n){l0.push(function(){return n(t)})}function GP(t,n,i,s){var o=t.flags;14&o?function _Xt(t,n,i,s,o){var a=t.type,l=t.ref,c=t.props||gl;if(o){var u=WIe(t,a,c,i),d=u.$LI;GP(d,n,u.$CX,s),t.dom=d.dom,KIe(0,l,u),u.$UPD=!1}else{var p=qP(a(c,i),t);GP(p,n,i,s),t.children=p,t.dom=p.dom,YIe(c,l,n)}}(t,n,i,s,(4&o)>0):481&o?function EXt(t,n,i,s){var o=t.children,a=t.props,l=t.className,c=t.flags,u=t.ref;if(s=s||(32&c)>0,1!==n.nodeType||n.tagName.toLowerCase()!==t.type){var d=GIe(t,null,i,s);t.dom=d,Fne(n.parentNode,d,n)}else{t.dom=n;var p=n.firstChild,f=t.childFlags;if(1&f)!co(n.firstChild)&&!function iXt(t,n){return!!(n&&n.dangerouslySetInnerHTML&&n.dangerouslySetInnerHTML.__html&&LIe(t,n.dangerouslySetInnerHTML.__html))}(n,a)&&(n.textContent="",448&c&&(n.defaultValue=""));else{for(var h=null;p;)h=p.nextSibling,8===p.nodeType&&("!"===p.data?n.replaceChild(document.createTextNode(""),p):n.removeChild(p)),p=h;if(p=n.firstChild,2===f)co(p)?nu(o,n,i,s):(h=p.nextSibling,GP(o,p,i,s),p=h);else if(12&f)for(var m=0,y=o.length;m<y;m++){var E=o[m];co(p)?nu(E,n,i,s):(h=p.nextSibling,GP(E,p,i,s),p=h)}for(;p;)h=p.nextSibling,n.removeChild(p),p=h}co(a)||qIe(t,c,a,n,s),Ai(l)?""!==n.className&&n.removeAttribute("class"):s?n.setAttribute("class",l):n.className=l,bi(u)&&Wne(n,u)}}(t,n,i,s):16&o?function xXt(t,n){if(3!==n.nodeType){var i=qne(t,null);t.dom=i,Fne(n.parentNode,i,n)}else{var s=t.children;n.nodeValue!==s&&(n.nodeValue=s),t.dom=n}}(t,n):512&o?t.dom=n:function XYt(t){throw t||(t="a runtime error occured! Use Inferno in development environment to find the error."),new Error("Inferno Error: "+t)}()}function Gne(t,n,i,s,o){h2(t),Fne(i,nu(n,null,s,o),t.dom)}function ng(t,n,i,s,o){var a=0|n.flags;t.flags!==a||2048&a?Gne(t,n,i,s,o):481&a?function OXt(t,n,i,s,o,a){var l=n.type;if(t.type!==l)Gne(t,n,i,s,o);else{var h,c=t.dom,u=t.props,d=n.props,p=!1,f=!1;if(n.dom=c,o=o||(32&a)>0,u!==d){var m=u||gl;if((h=d||gl)!==gl)for(var y in(p=(448&a)>0)&&(f=HIe(h)),h){var E=m[y],_=h[y];E!==_&&Une(y,E,_,c,o,f,t)}if(m!==gl)for(var S in m)!h.hasOwnProperty(S)&&!Ai(m[S])&&Une(S,m[S],null,c,o,f,t)}var v=t.children,w=n.children,g=n.ref,x=t.className,T=n.className;4096&a?function CXt(t,n){t.textContent!==n.children&&(t.textContent=n.children)}(c,w):XIe(t.childFlags,n.childFlags,v,w,c,s,o&&"foreignObject"!==l),p&&zIe(a,n,c,h,!1,f),x!==T&&(Ai(T)?c.removeAttribute("class"):o?c.setAttribute("class",T):c.className=T),bi(g)&&t.ref!==g&&Wne(c,g)}}(t,n,i,s,o,a):14&a?function TXt(t,n,i,s,o,a){var l=n.type;if(t.type!==l||t.key!==n.key)Gne(t,n,i,s,o);else{var d=n.props||gl;if(a){var p=t.children;p.$UPD=!0,p.$V=n,QIe(p,p.state,n,d,i,s,o,!1,!1),p.$UPD=!1}else{var f=!0,h=t.props,m=n.ref,y=!Ai(m),E=t.children;if(n.dom=t.dom,n.children=E,y&&bi(m.onComponentShouldUpdate)&&(f=m.onComponentShouldUpdate(h,d)),!1!==f){y&&bi(m.onComponentWillUpdate)&&m.onComponentWillUpdate(h,d);var _=l(d,s);_!==Ane&&(ng(E,_=qP(_,n),i,s,o),n.children=_,n.dom=_.dom,y&&bi(m.onComponentDidUpdate)&&m.onComponentDidUpdate(h,d))}else 14&E.flags&&(E.parentVNode=n)}}}(t,n,i,s,o,(4&a)>0):16&a?function PXt(t,n){var i=n.children,s=t.dom;i!==t.children&&(s.nodeValue=i),n.dom=s}(t,n):512&a?n.dom=t.dom:function SXt(t,n,i){var s=t.type,o=n.type,a=n.children;if(XIe(t.childFlags,n.childFlags,t.children,a,s,i,!1),n.dom=t.dom,s!==o&&!Uy(a)){var l=a.dom;s.removeChild(l),o.appendChild(l)}}(t,n,s)}function XIe(t,n,i,s,o,a,l){switch(t){case 2:switch(n){case 2:ng(i,s,o,a,l);break;case 1:Rp(i,o);break;default:Rp(i,o),WP(s,o,a,l)}break;case 1:switch(n){case 2:nu(s,o,a,l);break;case 1:break;default:WP(s,o,a,l)}break;default:if(12&n){var c=i.length,u=s.length;0===c?u>0&&WP(s,o,a,l):0===u?aF(o,i):8===n&&8===t?function kXt(t,n,i,s,o,a,l){var d,m,c=a-1,u=l-1,p=0,f=t[p],h=n[p];e:{for(;f.key===h.key;){if(h.dom&&(n[p]=h=Cc(h)),ng(f,h,i,s,o),t[p]=h,++p>c||p>u)break e;f=t[p],h=n[p]}for(f=t[c],h=n[u];f.key===h.key;){if(h.dom&&(n[u]=h=Cc(h)),ng(f,h,i,s,o),t[c]=h,u--,p>--c||p>u)break e;f=t[c],h=n[u]}}if(p>c){if(p<=u)for(var y=(m=u+1)<l?n[m].dom:null;p<=u;)(h=n[p]).dom&&(n[p]=h=Cc(h)),p++,sF(i,nu(h,null,s,o),y)}else if(p>u)for(;p<=c;)Rp(t[p++],i);else{var E=p,_=p,S=c-p+1,v=u-p+1,w=[];for(d=0;d<v;d++)w.push(0);var g=S===a,x=!1,T=0,I=0;if(l<4||(S|v)<32)for(d=E;d<=c;d++)if(f=t[d],I<v){for(p=_;p<=u;p++)if(f.key===(h=n[p]).key){if(w[p-_]=d+1,g)for(g=!1;d>E;)Rp(t[E++],i);T>p?x=!0:T=p,h.dom&&(n[p]=h=Cc(h)),ng(f,h,i,s,o),I++;break}!g&&p>u&&Rp(f,i)}else g||Rp(f,i);else{var A={};for(d=_;d<=u;d++)A[n[d].key]=d;for(d=E;d<=c;d++)if(f=t[d],I<v)if(void 0!==(p=A[f.key])){if(g)for(g=!1;d>E;)Rp(t[E++],i);h=n[p],w[p-_]=d+1,T>p?x=!0:T=p,h.dom&&(n[p]=h=Cc(h)),ng(f,h,i,s,o),I++}else g||Rp(f,i);else g||Rp(f,i)}if(g)aF(i,t),WP(n,i,s,o);else if(x){var $=function MXt(t){var s,o,a,l,c,n=t.slice(),i=[0],u=t.length;for(s=0;s<u;s++){var d=t[s];if(0!==d){if(t[o=i[i.length-1]]<d){n[s]=o,i.push(s);continue}for(a=0,l=i.length-1;a<l;)t[i[c=(a+l)/2|0]]<d?a=c+1:l=c;d<t[i[a]]&&(a>0&&(n[s]=i[a-1]),i[a]=s)}}for(l=i[(a=i.length)-1];a-- >0;)i[a]=l,l=n[l];return i}(w);for(p=$.length-1,d=v-1;d>=0;d--)0===w[d]?((h=n[T=d+_]).dom&&(n[T]=h=Cc(h)),m=T+1,sF(i,nu(h,null,s,o),m<l?n[m].dom:null)):p<0||d!==$[p]?sF(i,(h=n[T=d+_]).dom,(m=T+1)<l?n[m].dom:null):p--}else if(I!==v)for(d=v-1;d>=0;d--)0===w[d]&&((h=n[T=d+_]).dom&&(n[T]=h=Cc(h)),m=T+1,sF(i,nu(h,null,s,o),m<l?n[m].dom:null))}}(i,s,o,a,l,c,u):function DXt(t,n,i,s,o,a,l){for(var d,p,c=a>l?l:a,u=0;u<c;u++)p=t[u],(d=n[u]).dom&&(d=n[u]=Cc(d)),ng(p,d,i,s,o),t[u]=d;if(a<l)for(u=c;u<l;u++)(d=n[u]).dom&&(d=n[u]=Cc(d)),nu(d,i,s,o);else if(a>l)for(u=c;u<a;u++)Rp(t[u],i)}(i,s,o,a,l,c,u)}else 1===n?aF(o,i):2===n&&(aF(o,i),nu(s,o,a,l))}}function QIe(t,n,i,s,o,a,l,c,u){var f,d=t.state,p=t.props;if(i.children=t,!t.$UN){if(p!==s||s===gl){if(!u&&bi(t.componentWillReceiveProps)){if(t.$BR=!0,t.componentWillReceiveProps(s,a),t.$UN)return;t.$BR=!1}t.$PSS&&(n=zP(n,t.$PS),t.$PSS=!1,t.$PS=null)}var h=!!t.shouldComponentUpdate;if(c||!h||h&&t.shouldComponentUpdate(s,n,a)){bi(t.componentWillUpdate)&&(t.$BS=!0,t.componentWillUpdate(s,n,a),t.$BS=!1),t.props=s,t.state=n,t.context=a,bi(Ip.beforeRender)&&Ip.beforeRender(t),f=t.render(s,n,a),bi(Ip.afterRender)&&Ip.afterRender(t);var y,m=f!==Ane;if(bi(t.getChildContext)&&(y=t.getChildContext()),y=Ai(y)?a:zP(a,y),t.$CX=y,m){var E=t.$LI,_=qP(f,i);ng(E,_,o,y,l),t.$LI=_,bi(t.componentDidUpdate)&&t.componentDidUpdate(p,d)}}else t.props=s,t.state=n,t.context=a;i.dom=t.$LI.dom}}function KP(t,n,i){if(t!==Ane){var s=n.$V;if(Ai(s)?Uy(t)||(t.dom&&(t=Cc(t)),co(n.firstChild)?(nu(t,n,gl,!1),n.$V=t):function wXt(t,n,i){var s=n.firstChild;if(!co(s))for(Uy(t)||GP(t,s,gl,!1),s=n.firstChild;s=s.nextSibling;)n.removeChild(s);l0.length>0&&Bne(l0),n.$V=t,bi(i)&&i()}(t,n),s=t):Ai(t)?(Rp(s,n),n.$V=null):(t.dom&&(t=Cc(t)),ng(s,t,n,gl,!1),s=n.$V=t),l0.length>0&&Bne(l0),bi(i)&&i(),bi(Ip.renderComplete)&&Ip.renderComplete(s),s&&14&s.flags)return s.children}}function ZIe(t,n){return J(1024,n,null,t,0,null,Uy(t)?null:t.key,null)}var JIe=typeof Promise>"u"?null:Promise.resolve(),AXt=typeof requestAnimationFrame>"u"?setTimeout:requestAnimationFrame.bind(window);function eRe(t,n,i,s){bi(n)&&(n=n(t.state,t.props,t.context));var o=t.$PS;if(Ai(o))t.$PS=n;else for(var a in n)o[a]=n[a];if(t.$PSS||t.$BR)t.$PSS=!0,t.$BR&&bi(i)&&l0.push(i.bind(t));else if(t.$UPD){var l=t.$QU;co(l)&&(l=t.$QU=[],function IXt(t){JIe?JIe.then(t):AXt(t)}(function RXt(t,n){return function(){t.$QU=null,t.$UPD=!0,tRe(t,!1,function(){for(var i=0,s=n.length;i<s;i++)n[i].call(t)}),t.$UPD=!1}}(t,l))),bi(i)&&l.push(i)}else t.$PSS=!0,t.$UPD=!0,tRe(t,s,i),t.$UPD=!1}function tRe(t,n,i){if(!t.$UN){if(n||!t.$BR){t.$PSS=!1;var a=zP(t.state,t.$PS),l=t.props,c=t.context;t.$PS=null;var u=t.$V,d=t.$LI;if(QIe(t,a,u,l,d.dom&&d.dom.parentNode,c,(32&u.flags)>0,n,!0),t.$UN)return;if(!(1024&t.$LI.flags))for(var f=t.$LI.dom;!co(u=u.parentVNode);)(14&u.flags)>0&&(u.dom=f);l0.length>0&&Bne(l0)}else t.state=t.$PS,t.$PS=null;bi(i)&&i.call(t)}}var yn=function(){function t(i,s){this.state=null,this.props=void 0,this.context=void 0,this.refs=void 0,this.$BR=!1,this.$BS=!0,this.$PSS=!1,this.$PS=null,this.$LI=null,this.$V=null,this.$UN=!1,this.$CX=null,this.$UPD=!0,this.$QU=null,this.props=i||gl,this.context=s||gl}var n=t.prototype;return n.forceUpdate=function(s){this.$UN||eRe(this,{},s,!0)},n.setState=function(s,o){if(!this.$UN){if(this.$BS)return;eRe(this,s,o,!1)}},n.render=function(s,o,a){},t}();yn.defaultProps=void 0;var nRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21" style="vertical-align:middle"><path fill="#000000" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="#000000" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>';function rRe(t){var i=Xr('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100;">'+nRe+"</a>");t.appendChild(i),mn.bind(i,"click",function(s){(function $Xt(){YP||(YP=Xr(BXt),kl_bind(YP,".backdrop","click",function(t){document.body.removeChild(YP)})),document.body.appendChild(YP)})(),s.preventDefault()})}class Kne extends yn{constructor(n,i){super(n,i),this.node=null}componentDidMount(){rRe(this.node)}render(){return J(1,"div",null,null,1,null,null,n=>this.node=n)}}function Yne(t){return t.join(";")}var YP,BXt='<div class="bjs-powered-by-lightbox" style="'+Yne(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"])+'"><div class="backdrop" style="'+Yne(["width: 100%","height: 100%","background: rgba(40,40,40,0.2)"])+'"></div><div class="notice" style="'+Yne(["position: absolute","left: 50%","top: 40%","transform: translate(-50%)","width: 260px","padding: 10px","background: white","box-shadow: 0 1px 4px rgba(0,0,0,0.3)","font-family: Helvetica, Arial, sans-serif","font-size: 14px","display: flex","line-height: 1.3"])+'"><a href="https://bpmn.io" target="_blank" rel="noopener" style="margin: 15px 20px 15px 10px; align-self: center;">'+nRe+'</a><span>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>',VXt=new Yd,lF="hsl(225, 10%, 15%)";function Xne(t,n,i,s,o,a){$c.call(this,n);var l=VXt.next(),c=s.computeStyle,u={},d=t&&t.defaultFillColor||"white",p=t&&t.defaultStrokeColor||lF,f=t&&t.defaultLabelColor;function h(I,A,$){var z=I+"-"+sRe(A)+"-"+sRe($)+"-"+l;return u[z]||function y(I,A,$,z){if("association-start"===A){var K=an("path");Wt(K,{d:"M 11 5 L 1 10 L 11 15"}),m(I,{element:K,attrs:{fill:"none",stroke:z,strokeWidth:1.5},ref:{x:1,y:10},scale:.5})}else if("association-end"===A){var U=an("path");Wt(U,{d:"M 1 5 L 11 10 L 1 15"}),m(I,{element:U,attrs:{fill:"none",stroke:z,strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}else if("information-requirement-end"===A){var H=an("path");Wt(H,{d:"M 1 5 L 11 10 L 1 15 Z"}),m(I,{element:H,attrs:{fill:z,stroke:"none"},ref:{x:11,y:10},scale:1})}else if("knowledge-requirement-end"===A){var me=an("path");Wt(me,{d:"M 1 3 L 11 10 L 1 17"}),m(I,{element:me,attrs:{fill:"none",stroke:z,strokeWidth:2},ref:{x:11,y:10},scale:.8})}else if("authority-requirement-end"===A){var Re=an("circle");Wt(Re,{cx:3,cy:3,r:3}),m(I,{element:Re,attrs:{fill:z,stroke:"none"},ref:{x:3,y:3},scale:.9})}}(z,I,0,$),"url(#"+z+")"}function m(I,A){var $=Ce({strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},A.attrs),z=A.ref||{x:0,y:0},K=A.scale||1;"none"===$.strokeDasharray&&($.strokeDasharray=[1e4,1]);var U=an("marker");Wt(A.element,$),On(U,A.element),Wt(U,{id:I,viewBox:"0 0 20 20",refX:z.x,refY:z.y,markerWidth:20*K,markerHeight:20*K,orient:"auto"});var H=$n("defs",a._svg);H||(H=an("defs"),On(a._svg,H)),On(H,U),u[I]=U}function E(I,A,$,z,K,U){si(K)&&(U=K,K=0),K=K||0,U=c(U,{stroke:lF,strokeWidth:2,fill:"white"});var H=an("rect");return Wt(H,{x:K,y:K,width:A-2*K,height:$-2*K,rx:z,ry:z}),Wt(H,U),On(I,H),H}function _(I,A,$){var z=o.createText(A||"",$);return xa(z,"class","djs-label"),On(I,z),z}function S(I,A,$,z){var K=function jYt(t){return wc(t).name}(A);return _(I,K,z=Ce({box:A,align:$,padding:5,style:{fill:oRe(0,f,p)}},z))}function v(I,A,$){$=c($,["no-fill"],{strokeWidth:2,stroke:lF});var z=an("path");return Wt(z,{d:A}),Wt(z,$),On(I,z),z}var w={"dmn:Decision":function(I,A){var $=E(I,A.width,A.height,0,{stroke:c0(0,p),fill:Wy(0,d)});return S(I,A,"center-middle"),$},"dmn:KnowledgeSource":function(I,A){var z=v(I,i.getScaledPath("KNOWLEDGE_SOURCE",{xScaleFactor:1.021,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:0,my:.075}}),{strokeWidth:2,fill:Wy(0,d),stroke:c0(0,p)});return S(I,A,"center-middle"),z},"dmn:BusinessKnowledgeModel":function(I,A){var z=v(I,i.getScaledPath("BUSINESS_KNOWLEDGE_MODEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:0,my:.3}}),{strokeWidth:2,fill:Wy(0,d),stroke:c0(0,p)});return S(I,A,"center-middle"),z},"dmn:InputData":function(I,A){var $=E(I,A.width,A.height,22,{stroke:c0(0,p),fill:Wy(0,d)});return S(I,A,"center-middle"),$},"dmn:TextAnnotation":function(I,A){var z=E(I,A.width,A.height,0,0,{fill:"none",stroke:"none"});return v(I,i.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:0,my:0}}),{stroke:c0(0,p)}),_(I,iRe(A).text||"",{style:{fill:oRe(0,f,p)},box:A,align:"left-top",padding:5}),z},"dmn:Association":function(I,A){var $=iRe(A),z=Wy(0,d),K=c0(0,p),U={stroke:K,strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"};return("One"===$.associationDirection||"Both"===$.associationDirection)&&(U.markerEnd=h("association-end",z,K)),"Both"===$.associationDirection&&(U.markerStart=h("association-start",z,K)),T(I,A.waypoints,U)},"dmn:InformationRequirement":function(I,A){var $=Wy(0,d),z=c0(0,p),K={stroke:z,strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:h("information-requirement-end",$,z)};return T(I,A.waypoints,K)},"dmn:KnowledgeRequirement":function(I,A){var $=Wy(0,d),z=c0(0,p),K={stroke:z,strokeWidth:1,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:h("knowledge-requirement-end",$,z)};return T(I,A.waypoints,K)},"dmn:AuthorityRequirement":function(I,A){var $=Wy(0,d),z=c0(0,p),K={stroke:z,strokeWidth:1.5,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:h("authority-requirement-end",$,z)};return T(I,A.waypoints,K)}};function T(I,A,$){var z=zS(A,$=c($,["no-fill"],{stroke:lF,strokeWidth:2,fill:"none"}));return On(I,z),z}this.canRender=function(I){return Je(I,"dmn:DMNElement")||Je(I,"dmn:InformationRequirement")||Je(I,"dmn:KnowledgeRequirement")||Je(I,"dmn:AuthorityRequirement")},this.drawShape=function g(I,A){var $=w[A.type];return $?$(I,A):$c.prototype.drawShape.apply(this,[I,A])},this.drawConnection=function x(I,A){var z=w[A.type];return z?z(I,A):$c.prototype.drawConnection.apply(this,[I,A])}}function iRe(t){return t.businessObject}function sRe(t){return t.replace(/[^0-9a-zA-z]+/g,"_")}function c0(t,n){return n}function Wy(t,n){return n}function oRe(t,n,i){return n||c0(0,i)}function aRe(t){var n=Ce({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},t&&t.defaultStyle||{}),i=parseInt(n.fontSize,10)-1,s=Ce({},n,{fontSize:i},t&&t.externalStyle||{}),o=new qS({style:n});this.getExternalLabelBounds=function(a,l){var c=o.getDimensions(l,{box:{width:90,height:30,x:a.width/2+a.x,y:a.height/2+a.y},style:s});return{x:Math.round(a.x+a.width/2-c.width/2),y:Math.round(a.y),width:Math.ceil(c.width),height:Math.ceil(c.height)}},this.getTextAnnotationBounds=function(a,l){var c=o.getDimensions(l,{box:a,style:n,align:"left-top",padding:5});return{x:a.x,y:a.y,width:a.width,height:Math.max(30,Math.round(c.height))}},this.createText=function(a,l){return o.createText(a,l||{})},this.getDefaultStyle=function(){return n},this.getExternalStyle=function(){return s}}Jt(Xne,$c),Xne.$inject=["config.drdRenderer","eventBus","pathMap","styles","textRenderer","canvas"],aRe.$inject=["config.textRenderer"];var qXt=/\{([^{}]+)\}/g,WXt=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;const YXt={__init__:["drdRenderer"],drdRenderer:["type",Xne],textRenderer:["type",aRe],pathMap:["type",function UXt(){this.pathMap={KNOWLEDGE_SOURCE:{d:"m {mx},{my} l 0,{e.y0} c {e.x0},{e.y1} {e.x1},-{e.y2} {e.x2},-{e.y3} c {e.x3},-{e.y4} {e.x4},{e.y5} {e.x5},{e.y6} l 0,-{e.y7}z",width:100,height:65,widthElements:[29.8,48.4,67.2,12.2,19.8,30.8],heightElements:[55.3,19.7,4.2,6.7,2.3,1.6,6.2,54.6]},BUSINESS_KNOWLEDGE_MODEL:{d:"m {mx},{my} l {e.x0},-{e.y0} l {e.x1},0 l 0,{e.y1} l -{e.x2},{e.y2} l -{e.x3},0z",width:125,height:45,widthElements:[13.8,109.2,13.8,109.1],heightElements:[13.2,29.8,13.2]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",width:10,height:30,widthElements:[10],heightElements:[30]}},this.getRawPath=function(n){return this.pathMap[n].d},this.getScaledPath=function(n,i){var o,a,s=this.pathMap[n];i.abspos?(o=i.abspos.x,a=i.abspos.y):(o=i.containerWidth*i.position.mx,a=i.containerHeight*i.position.my);var l={};if(i.position){for(var c=i.containerHeight/s.height*i.yScaleFactor,u=i.containerWidth/s.width*i.xScaleFactor,d=0;d<s.heightElements.length;d++)l["y"+d]=s.heightElements[d]*c;for(var p=0;p<s.widthElements.length;p++)l["x"+p]=s.widthElements[p]*u}var f=function KXt(t,n){return String(t).replace(qXt,function(i,s){return function GXt(t,n,i){var s=i;return n.replace(WXt,function(o,a,l,c,u){a=a||c,s&&(a in s&&(s=s[a]),"function"==typeof s&&u&&(s=s()))}),s=(null==s||s==i?t:s)+""}(i,s,n)})}(s.d,{mx:o,my:a,e:l});return f}}]};function m2(t,n,i,s){this._eventBus=t,this._canvas=n,this._elementRegistry=s,this._elementFactory=i}function Qne(t,n){return Ce({id:t.id,type:t.$type,businessObject:t},n)}function lRe(t){return t.split("#").pop()}m2.$inject=["eventBus","canvas","elementFactory","elementRegistry"],m2.prototype.root=function(t){var n=this._elementFactory.createRoot(Qne(t));return this._canvas.setRootElement(n),n},m2.prototype.add=function(t){var a,l,c,u,d,p,n=this._elementFactory,i=this._canvas,s=this._eventBus,o=t.di;if(o.$instanceOf("dmndi:DMNShape"))p=o.bounds,d=Qne(t,{x:Math.round(p.x),y:Math.round(p.y),width:Math.round(p.width),height:Math.round(p.height)}),a=n.createShape(d),i.addShape(a),s.fire("drdElement.added",{element:a,di:o});else{if(!o.$instanceOf("dmndi:DMNEdge"))throw new Error("unknown di for element "+t.id);l=function XXt(t){var n=t.waypoint;if(n)return Ao(n,function(i){var s={x:i.x,y:i.y};return Ce({original:s},s)})}(o),c=this._getSource(t),u=this._getTarget(t),c&&u&&(d=Qne(t,{hidden:!1,source:c,target:u,waypoints:l}),a=n.createConnection(d),i.addConnection(a),s.fire("drdElement.added",{element:a,di:o}))}return a},m2.prototype._getSource=function(t){var n,i;if(Je(t,"dmn:Association")?i=t.sourceRef:Je(t,"dmn:InformationRequirement")?i=t.requiredDecision||t.requiredInput:Je(t,"dmn:KnowledgeRequirement")?i=t.requiredKnowledge:Je(t,"dmn:AuthorityRequirement")&&(i=t.requiredDecision||t.requiredInput||t.requiredAuthority),i&&(n=i.href),n)return this._getShape(lRe(n))},m2.prototype._getTarget=function(t){return Je(t,"dmn:Association")?t.targetRef&&this._getShape(lRe(t.targetRef.href)):this._getShape(t.$parent.id)},m2.prototype._getShape=function(t){return this._elementRegistry.get(t)};const QXt={__depends__:[YXt,{drdImporter:["type",m2]}]};function cF(t,n,i){this._eventBus=t,this._canvas=n,this._translate=i,t.on("diagram.init",function(){this._init()},this),t.on("import.done",function(s){s.error||this.update()},this),this.HTML_MARKUP='<div class="dmn-definitions"><div class="dmn-definitions-name" title="'+this._translate("Definition name")+'" spellcheck="false"></div><div class="dmn-definitions-id" title="'+this._translate("Definition ID")+'" spellcheck="false"></div></div>'}function Zne(t,n){function i(s,o){br(n.getContainer()).toggle(s,o)}t.on("palette.create",function(){i("with-palette",!0)}),t.on("palette.changed",function(s){i("with-palette-two-column",s.twoColumn)})}cF.$inject=["eventBus","canvas","translate"],cF.prototype._init=function(){var n=this._eventBus,i=this._canvas.getContainer(),s=this._container=Xr(this.HTML_MARKUP);i.appendChild(s),this.nameElement=$n(".dmn-definitions-name",this._container),this.idElement=$n(".dmn-definitions-id",this._container),kl_bind(s,".dmn-definitions-name, .dmn-definitions-id","mousedown",function(o){o.stopPropagation()}),n.fire("definitionIdView.create",{html:s})},cF.prototype.update=function(){var t=this._canvas.getRootElement().businessObject;this.nameElement.textContent=t.name,this.idElement.textContent=t.id},Zne.$inject=["eventBus","canvas"];const Jne={__depends__:[nl],__init__:["definitionPropertiesView","definitionPropertiesPaletteAdapter"],definitionPropertiesView:["type",cF],definitionPropertiesPaletteAdapter:["type",Zne]};var cRe=[{className:"dmn-icon-decision-table",matches:function(t){var n=wc(t);return Je(n,"dmn:Decision")&&Je(n.decisionLogic,"dmn:DecisionTable")},title:"Open decision table"},{className:"dmn-icon-literal-expression",matches:function(t){return Je(tF(t),"dmn:LiteralExpression")},title:"Open literal expression"}];const ZXt={__depends__:[jx,nl],__init__:["drillDown"],drillDown:["type",(()=>{class t{constructor(i,s,o,a,l){this._injector=i,this._eventBus=s,this._overlays=o,this._translate=l,this._config=a||{enabled:!0},s.on(["shape.added"],({element:c})=>{for(let d=0;d<cRe.length;d++){const{matches:p,className:f,title:h}=cRe[d];p&&p(c)&&this.addOverlay(c,f,h)}})}addOverlay(i,s,o){const a=!1!==this._config.enabled,l=this._getOverlayNode(s,o,a),c=this._overlays.add(i,{position:{top:2,left:2},html:l});a&&(br(l).add("interactive"),this.bindEventListener(i,l,c))}_getOverlayNode(i,s,o){const a=document.createElement("div");if(a.className="drill-down-overlay",!o){const c=document.createElement("span");return c.className=i,a.appendChild(c),a}const l=document.createElement("button");return l.type="button",l.className=i,l.title=this._translate(s),a.appendChild(l),a}bindEventListener(i,s,o){const l=this._eventBus;kl_bind(this._overlays._overlayRoot,'[data-overlay-id="'+o+'"]',"click",()=>{!1!==l.fire("drillDown.click",{element:i})&&this.drillDown(i)})}drillDown(i){const s=this._injector.get("_parent",!1);if(!s)return!1;const o=s.getView(i.businessObject);return!!o&&(s.open(o),!0)}}return t.$inject=["injector","eventBus","overlays","config.drillDown","translate"],t})()]};function ru(t){this._container=this._createContainer(),rRe(this._container),this._init(this._container,t)}function uRe(t){return Je(t,"dmn:Decision")||Je(t,"dmn:BusinessKnowledgeModel")||Je(t,"dmn:InputData")||Je(t,"dmn:KnowledgeSource")?"name":Je(t,"dmn:TextAnnotation")?"text":void 0}function uF(t){var n=t.businessObject,i=uRe(n);if(i)return n[i]||""}function ere(t,n,i){this._elementRegistry=t,this._canvas=i,n.registerProvider(this)}function dRe(t){return Bn(t,function(i){return!!i.matched}).length>0}function pRe(t,n){const i=[],s=t;if(!t)return i;t=t.toLowerCase(),n=n.toLowerCase();const o=t.indexOf(n);return o>-1?(0!==o&&i.push({normal:s.substr(0,o)}),i.push({matched:s.substr(o,n.length)}),n.length+o<t.length&&i.push({normal:s.substr(n.length+o,t.length)})):i.push({normal:s}),i}Jt(ru,cf),ru.prototype.saveSVG=JL(function(t){var n=this;return new Promise(function(i){var s=n.get("canvas"),o=s.getActiveLayer(),a=$n("defs",s._svg),l=RH(o),c=a&&a.outerHTML||"",u=o.getBBox();i({svg:'<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with dmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+u.width+'" height="'+u.height+'" viewBox="'+u.x+" "+u.y+" "+u.width+" "+u.height+'" version="1.1">'+c+l+"</svg>"})})}),ru.prototype.getModules=function(){return this._modules},ru.prototype.destroy=function(){cf.prototype.destroy.call(this),el(this._container)},ru.prototype.on=function(t,n,i,s){return this.get("eventBus").on(t,n,i,s)},ru.prototype.off=function(t,n){this.get("eventBus").off(t,n)},ru.prototype._init=function(t,n){var{additionalModules:i,canvas:s,...o}=n,u={...o,canvas:{...s,container:t},modules:[{drd:["value",this]},...n.modules||this.getModules(),...i||[]]};cf.call(this,u),n&&n.container&&this.attachTo(n.container)},ru.prototype._emit=function(t,n){return this.get("eventBus").fire(t,n)},ru.prototype._createContainer=function(){return Xr('<div class="dmn-drd-container"></div>')},ru.prototype.open=function(t){var n=this;return new Promise((i,s)=>{var o;try{return n._definitions&&n.clear(),n._definitions=t,function GYt(t,n,i){var a,s=t.get("drdImporter"),o=t.get("eventBus"),l=[];o.fire("import.start",{definitions:n});try{!function c(u){new WYt({root:function(f){return s.root(f)},element:function(f,h){return s.add(f,h)},error:function(f,h){l.push({message:f,context:h})}}).handleDefinitions(u)}(n)}catch(u){a=u}o.fire("import.done",{error:a,warnings:l}),i(a,l)}(n,t,function(a,l){a?(a.warnings=l||[],s(a)):i({warnings:l||[]})})}catch(a){o=a}o?(o.warnings=o.warnings||[],s(o)):i({warnings:[]})})},ru.prototype.attachTo=function(t){if(!t)throw new Error("parentNode required");this.detach(),t.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},ru.prototype.detach=function(){var t=this._container,n=t.parentNode;n&&(this._emit("detach",{}),n.removeChild(t))},ru.prototype._modules=[QXt,nl,jc,jx,Jne,ZXt],ere.$inject=["elementRegistry","searchPad","canvas"],ere.prototype.find=function(t){const n=this._canvas.getRootElement();let i=this._elementRegistry.filter(function(s){return!s.labelTarget});return i=Bn(i,function(s){return s!==n}),i=Ao(i,function(s){return{primaryTokens:pRe(uF(s),t),secondaryTokens:pRe(s.id,t),element:s}}),i=Bn(i,function(s){return dRe(s.primaryTokens)||dRe(s.secondaryTokens)}),i=ba(i,function(s){return uF(s.element)+s.element.id}),i};const eQt={__depends__:[v_e],__init__:["dmnSearch"],dmnSearch:["type",ere]};function g2(t){ru.call(this,t)}Jt(g2,ru),g2.prototype._modules=[].concat(g2.prototype._modules,g2.prototype._navigationModules=[mU,pU,eQt]);var tQt={width:135,height:46},fRe={width:180,height:80},nQt={width:125,height:45},rQt={width:100,height:63};function y2(t){Xd.call(this),this._drdFactory=t}Jt(y2,Xd),y2.$inject=["drdFactory"],y2.prototype.baseCreate=Xd.prototype.create,y2.prototype.create=function(t,n){return this.createDrdElement(t,n)},y2.prototype.createDrdElement=function(t,n){var s,i=this._drdFactory,o=(n=n||{}).businessObject;if(!o){if(!n.type)throw new Error("no shape type specified");o=i.create(n.type)}return o.di||("connection"===t?o.di=i.createDiEdge(o,[]):"shape"===t&&(o.di=i.createDiShape(o,{}))),s=this._getDefaultSize(o),n=Ce({businessObject:o,id:o.id},s,n),this.baseCreate(t,n)},y2.prototype._getDefaultSize=function(t){return Je(t,"dmn:BusinessKnowledgeModel")?tQt:Je(t,"dmn:Decision")?fRe:Je(t,"dmn:InputData")?nQt:Je(t,"dmn:KnowledgeSource")?rQt:{width:100,height:80}};var mRe=fRe.width;function aQt(t){return!Je(t,"dmn:Association")}function gRe(t,n){return Math.abs(n.x-t.x)}function yRe(t){t.on("autoPlace",function(n){return function iQt(t,n){return Je(n,"dmn:TextAnnotation")?function sQt(t,n){var i=En(t);return A6(t,n,{x:i.right+n.width/2,y:i.top-50-n.height/2},UA({y:{margin:-30,minDistance:20}}))}(t,n):Je(n,"dmn:DRGElement")?function oQt(t,n){var i=En(t),s=An(t),a=Jge(t,{defaultDistance:180,direction:"s",getWeight:function o(c){return c.target===t?1:-1},filter:aQt,reference:"center"});return A6(t,n,{x:s.x,y:i.bottom+a},function lQt(t){var i,s,n=An(t);return function(o,a,l){var c;return i?(a.x<n.x?i=l:s=l,c=gRe(n,An(i))<gRe(n,An(s))?"left":"right"):(i=l,s=l,c=An(l).x-n.x>0?"left":"right"),"left"===c?{x:Math.min(An(i).x-mRe-60,En(i).left-60-o.width/2),y:a.y}:{x:Math.max(An(s).x+mRe+60,En(s).right+60+o.width/2),y:a.y}}}(t))}(t,n):void 0}(n.source,n.shape)})}yRe.$inject=["eventBus"];const cQt={__depends__:[n1e],__init__:["dmnAutoPlace"],dmnAutoPlace:["type",yRe]};function vRe(t,n,i,s){this.replaceElement=function o(a,l,c){c=c||{};var u=l.type,d=a.businessObject,p=t.create(u),f={type:u,businessObject:p};if(f.width=a.width,f.height=a.height,p.name=d.name,l.table){var h=t.create("dmn:DecisionTable");h.$parent=p;var m=t.create("dmn:OutputClause");m.typeRef="string",m.$parent=h,h.output=[m];var y=t.create("dmn:InputClause");y.$parent=h;var E=t.create("dmn:LiteralExpression",{typeRef:"string"});y.inputExpression=E,E.$parent=y,h.input=[y],bRe(p,h,t)}if(l.expression){var _=t.create("dmn:LiteralExpression"),S=t.create("dmn:InformationItem",{name:d.name});bRe(p,_,t,S)}return n.replaceElement(a,f,c)}}function bRe(t,n,i,s){if(Je(t,"dmn:Decision"))t.decisionLogic=n,n.$parent=t;else if(Je(t,"dmn:BusinessKnowledgeModel")){var o=i.create("dmn:FunctionDefinition",{body:n});t.encapsulatedLogic=o,o.$parent=t,n.$parent=o}s&&(t.variable=s,s.$parent=t)}vRe.$inject=["drdFactory","replace","selection","modeling"];const uQt={__depends__:[fve,jc],drdReplace:["type",vRe]},_Re_DECISION=[{label:"Empty",actionName:"replace-with-empty-decision",className:"dmn-icon-clear",target:{type:"dmn:Decision",table:!1,expression:!1}},{label:"Decision table",actionName:"replace-with-decision-table",className:"dmn-icon-decision-table",target:{type:"dmn:Decision",table:!0,expression:!1}},{label:"Literal expression",actionName:"replace-with-literal-expression",className:"dmn-icon-literal-expression",target:{type:"dmn:Decision",table:!1,expression:!0}}],_Re_BKM=[{label:"Empty",actionName:"replace-with-empty",className:"dmn-icon-clear",target:{type:"dmn:BusinessKnowledgeModel",table:!1,expression:!1}},{label:"Literal Expression",actionName:"replace-with-literal-expression",className:"dmn-icon-literal-expression",target:{type:"dmn:BusinessKnowledgeModel",table:!1,expression:!0}}];function v2(t,n,i,s,o,a){this._popupMenu=t,this._modeling=n,this._moddle=i,this._drdReplace=s,this._rules=o,this._translate=a,this.register()}v2.$inject=["popupMenu","modeling","moddle","drdReplace","rules","translate"],v2.prototype.register=function(){this._popupMenu.registerProvider("dmn-replace",this)},v2.prototype.getEntries=function(t){var s,o,n=t.businessObject;return this._rules.allowed("shape.replace",{element:t})?Je(n,"dmn:Decision")?(o=tF(n),s=Bn(_Re_DECISION,function(a){var l="replace-with-empty-decision"===a.actionName&&o,c="replace-with-decision-table"===a.actionName&&!Je(o,"dmn:DecisionTable"),u="replace-with-literal-expression"===a.actionName&&!Je(o,"dmn:LiteralExpression");return l||c||u}),this._createEntries(t,s)):Je(n,"dmn:BusinessKnowledgeModel")?(o=tF(n),s=Bn(_Re_BKM,function(a){var l="replace-with-empty"===a.actionName&&o,c="replace-with-decision-table"===a.actionName&&!Je(o,"dmn:DecisionTable"),u="replace-with-literal-expression"===a.actionName&&!Je(o,"dmn:LiteralExpression");return l||c||u}),this._createEntries(t,s)):[]:[]},v2.prototype._createEntries=function(t,n){var i=[],s=this;return fe(n,function(o){var a=s._createMenuEntry(o,t);i.push(a)}),i},v2.prototype._createMenuEntry=function(t,n,i){var s=this._drdReplace.replaceElement;return i=i||function(){return s(n,t.target)},{label:(0,this._translate)(t.label),className:t.className,id:t.actionName,action:i}},v2.prototype.getHeaderEntries=function(t){return[]};const dQt={__depends__:[nl,zA,uQt],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",v2]};function XP(t,n,i,s,o,a,l,c,u,d,p,f){p=p||{},n.registerProvider(this),this._contextPad=n,this._modeling=i,this._elementFactory=s,this._connect=o,this._create=a,this._rules=l,this._popupMenu=c,this._canvas=u,this._translate=d,!1!==p.autoPlace&&(this._autoPlace=f.get("autoPlace",!1)),t.on("create.end",250,function(h){var m=h.context.shape;if(Ux(h)){var y=n.getEntries(m);y.replace&&y.replace.action.click(h,m)}})}XP.$inject=["eventBus","contextPad","modeling","elementFactory","connect","create","rules","popupMenu","canvas","translate","config.contextPad","injector"],XP.prototype.getContextPadEntries=function(t){var n=this._modeling,i=this._elementFactory,s=this._connect,o=this._create,a=this._popupMenu,l=this._contextPad,c=this._rules,u=this._translate,d=this._autoPlace,p={};if("label"===t.type)return p;var f=t.businessObject;function h(S,v,w){s.start(S,v,w)}function E(S,v,w,g){function x(I,A){var $=i.createShape(Ce({type:S},g));o.start(I,$,{source:A,hints:{connectionTarget:A}})}return{group:"model",className:v,title:w,action:{dragstart:x,click:d?function(I,A){var $=i.createShape(Ce({type:S},g));d.append(A,$,{connectionTarget:A})}:x}}}Je(f,"dmn:Decision")&&Ce(p,{"append.decision":E("dmn:Decision","dmn-icon-decision",u("Append decision"))}),tu(f,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:KnowledgeSource"])&&Ce(p,{"append.knowledge-source":E("dmn:KnowledgeSource","dmn-icon-knowledge-source",u("Append knowledge source"))}),tu(f,["dmn:BusinessKnowledgeModel","dmn:Decision"])&&Ce(p,{"append.business-knowledge-model":E("dmn:BusinessKnowledgeModel","dmn-icon-business-knowledge",u("Append business knowledge model"))}),tu(f,["dmn:Decision","dmn:KnowledgeSource"])&&Ce(p,{"append.input-data":E("dmn:InputData","dmn-icon-input-data",u("Append input data"))}),Je(f,"dmn:DRGElement")&&Ce(p,{"append.text-annotation":E("dmn:TextAnnotation","dmn-icon-text-annotation",u("Add text annotation")),connect:{group:"connect",className:"dmn-icon-connection-multi",title:u("Connect to other element"),action:{click:h,dragstart:h}}}),Je(f,"dmn:TextAnnotation")&&Ce(p,{connect:{group:"connect",className:"dmn-icon-connection-multi",title:u("Connect to other element"),action:{click:h,dragstart:h}}}),a.isEmpty(t,"dmn-replace")||Ce(p,{replace:{group:"edit",className:"dmn-icon-screw-wrench",title:u("Change type"),action:{click:function(S,v){var w=Ce(function y(S){var g=l.getPad(S).html.getBoundingClientRect();return{x:g.left,y:g.bottom+5}}(v),{cursor:{x:S.x,y:S.y}});a.open(v,"dmn-replace",w)}}}});var _=c.allowed("elements.delete",{elements:[t]});return Xt(_)&&(_=_[0]===t),_&&Ce(p,{delete:{group:"edit",className:"dmn-icon-trash",title:u("Delete"),action:{click:function m(S){n.removeElements([t])}}}}),p},XP.prototype.getMultiElementContextPadEntries=function(t){var n=this._modeling,i=this._translate,s={};return this._isDeleteAllowed(t)&&Ce(s,{delete:{group:"edit",className:"dmn-icon-trash",title:i("Delete"),action:{click:(o,a)=>n.removeElements(a.slice())}}}),s},XP.prototype._isDeleteAllowed=function(t){var n=this._rules.allowed("elements.delete",{elements:t});return Xt(n)?yu(t,i=>n.includes(i)):n};const pQt={__depends__:[nl,lq,jc,QA,w3,dQt],__init__:["contextPadProvider"],contextPadProvider:["type",XP]},fQt=/\s/,hQt=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,mQt=/^[a-z_][\w-.]*$/i,gQt=/\$\{([^}]*)\}/g;function C5(t,n,i,s,o){this._eventBus=t,this._modeling=n,this._canvas=i,this._definitionPropertiesView=s,this._translate=o,t.on("definitionIdView.create",function(a){this._container=a.html;var l=$n(".dmn-definitions-name",this._container),c=$n(".dmn-definitions-id",this._container);this._setup(l,"name"),this._setup(c,"id")},this)}C5.$inject=["eventBus","modeling","canvas","definitionPropertiesView","translate"],C5.prototype.update=function(t,n){var i=this._canvas.getRootElement(),s={};if(s[t]=n,"id"===t){var o=function yQt(t,n){const i=t.$model.ids.assigned(n);return n?i&&i!==t?"Element must have unique ID.":function vQt(t){return function bQt(t){return fQt.test(t)}(t=function _Qt(t){return t.replace(gQt,"$1")}(t))?"Id must not contain spaces.":mQt.test(t)?void 0:hQt.test(t)?"Id must not contain prefix.":"Id must be a valid QName."}(n):"Element must have ID."}(wc(i),n);if(o)return void this._addErrorMessage(o);this._clearErrorMessage()}this._modeling.updateProperties(i,s)},C5.prototype._setup=function(t,n){var i=this;t.setAttribute("contenteditable",!0),t.addEventListener("input",Lx(function(s){i.update(n,(s.target.value||s.target.textContent).trim())},300)),t.addEventListener("keydown",function(s){13===s.keyCode&&(t.blur(),window.getSelection().removeAllRanges())}),t.addEventListener("blur",function(){i._clearErrorMessage(),i._definitionPropertiesView.update()})},C5.prototype._addErrorMessage=function(t){const n='<span class="dmn-definitions-error-message">'+this._translate(t)+"</span>";var i=$n(".dmn-definitions-id",this._container);this._clearErrorMessage(),br(i).add("dmn-definitions-error"),i.parentElement.appendChild(Xr(n))},C5.prototype._clearErrorMessage=function(){var t=$n(".dmn-definitions-id",this._container);if(br(t).has("dmn-definitions-error")){br(t).remove("dmn-definitions-error");const n=$n(".dmn-definitions-error-message",this._container);t.parentNode.removeChild(n)}};const xQt={__depends__:[Jne],__init__:["definitionPropertiesEdit","definitionPropertiesPaletteAdapter"],definitionPropertiesEdit:["type",C5],definitionPropertiesPaletteAdapter:["type",Zne]};function ERe(t){t.registerFilter(function(n){return Bn(n,function(i){var s=tu(i,["dmn:AuthorityRequirement","dmn:InformationRequirement","dmn:KnowledgeRequirement","dmn:Association","dmn:TextAnnotation"]);return!(i.labelTarget||s)})})}ERe.$inject=["distributeElements"];const wQt={__depends__:[pbe],__init__:["drdDistributeElements"],drdDistributeElements:["type",ERe]};function pF(t){t.invoke(Uc,this)}Jt(pF,Uc),pF.$inject=["injector"],pF.prototype._registerDefaultActions=function(t){Uc.prototype._registerDefaultActions.call(this,t);const n=t.get("canvas",!1),i=t.get("elementRegistry",!1),s=t.get("selection",!1),o=t.get("lassoTool",!1),a=t.get("handTool",!1),l=t.get("directEditing",!1),c=t.get("distributeElements",!1),u=t.get("alignElements",!1),d=t.get("searchPad",!1);n&&i&&s&&this._registerAction("selectElements",function(){var p=n.getRootElement(),f=i.filter(function(h){return h!==p});return s.select(f),f}),s&&c&&this._registerAction("distributeElements",function(p){var f=s.get();f.length>2&&c.trigger(f,p.type)}),s&&u&&this._registerAction("alignElements",function(p){var f=s.get();f.length>1&&u.trigger(f,p.type)}),o&&this._registerAction("lassoTool",function(){o.toggle()}),a&&this._registerAction("handTool",function(){a.toggle()}),s&&l&&this._registerAction("directEditing",function(){var p=s.get();p.length&&l.activate(p[0])}),s&&d&&this._registerAction("find",function(){d.toggle()})};const CQt={__depends__:[mbe],editorActions:["type",pF]};function xRe(t){return t.dmnDI&&t.dmnDI.diagrams&&t.dmnDI.diagrams[0]}function wRe(t,n,i,s){i.on("import.start",({definitions:a})=>{xRe(a)||function o(a){var l=a.dmnDI;l||(l=t.create("dmndi:DMNDI"),a.set("dmnDI",l));var c=t.create("dmndi:DMNDiagram");l.set("diagrams",[c]);var u=0;fe(a.get("drgElement"),function(d){if(Je(d,"dmn:Decision")){var p=n._getDefaultSize(d),f=t.createDiShape(d,{x:150+30*u,y:150+30*u,width:p.width,height:p.height});s.updateDiParent(f,c),u++}})}(a)})}wRe.$inject=["drdFactory","elementFactory","eventBus","drdUpdater"];const SQt={__init__:["diGenerator"],diGenerator:["type",wRe]};function fF(t){t.invoke(om,this)}Jt(fF,om),fF.$inject=["injector"],fF.prototype.registerBindings=function(t,n){function i(s,o){n.isRegistered(s)&&t.addListener(o)}om.prototype.registerBindings.call(this,t,n),i("selectElements",function(s){var o=s.keyEvent;if(t.isKey(["a","A"],o)&&t.isCmd(o))return n.trigger("selectElements"),!0}),i("lassoTool",function(s){var o=s.keyEvent;if(!t.hasModifier(o)&&t.isKey(["l","L"],o))return n.trigger("lassoTool"),!0}),i("handTool",function(s){var o=s.keyEvent;if(!t.hasModifier(o)&&t.isKey(["h","H"],o))return n.trigger("handTool"),!0}),i("directEditing",function(s){var o=s.keyEvent;if(!t.hasModifier(o)&&t.isKey(["e","E"],o))return n.trigger("directEditing"),!0}),i("find",function(s){var o=s.keyEvent;if(t.isKey(["f","F"],o)&&t.isCmd(o))return n.trigger("find"),!0})};const OQt={__depends__:[n6],__init__:["keyboardBindings"],keyboardBindings:["type",fF]};var CRe="djs-label-hidden";function QP(t,n,i,s,o){this._canvas=t,this._modeling=s,this._textRenderer=o,this._eventBus=i,n.registerProvider(this),i.on("element.dblclick",function(a){n.activate(a.element)}),i.on(["autoPlace.start","canvas.viewbox.changing","drag.init","drillDown.click","element.mousedown","popupMenu.open","selection.changed"],function(){n.complete()}),i.on(["commandStack.changed"],function(){n.cancel()}),i.on("create.end",500,function(a){var l=a.shape;(Je(l,"dmn:Decision")||Je(l,"dmn:InputData")||Je(l,"dmn:BusinessKnowledgeModel")||Je(l,"dmn:KnowledgeSource")||Je(l,"dmn:TextAnnotation"))&&n.activate(l)}),i.on("autoPlace.end",500,function(a){n.activate(a.shape)}),this._eventBus.on(["directEditing.complete","directEditing.cancel"],function(a){var l=a.active;l&&t.removeMarker(l.element.label||l.element,CRe)})}QP.$inject=["canvas","directEditing","eventBus","modeling","textRenderer"],QP.prototype.activate=function(t){var n=uF(t);if(Ki(n)){var i={text:n};Ce(i,this.getEditingBBox(t));var o={},a=i.style||{};return Je(t,"dmn:DRGElement")&&(Ce(o,{centerVertically:!0}),Ce(a,{backgroundColor:null,border:null})),Je(t,"dmn:TextAnnotation")&&Ce(o,{resizable:!0}),Ce(i,{options:o,style:a}),this._canvas.addMarker(t,CRe),i}},QP.prototype.getEditingBBox=function(t){var n=this._canvas,s=n.getAbsoluteBBox(t.label||t),o={x:s.x,y:s.y},a=n.zoom(),l=this._textRenderer.getDefaultStyle(),c=l.fontSize*a,u=l.lineHeight,d={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};return Je(t,"dmn:DRGElement")&&(Ce(o,{width:s.width,height:s.height}),Ce(d,{fontSize:c+"px",lineHeight:u,paddingTop:7*a+"px",paddingBottom:7*a+"px",paddingLeft:5*a+"px",paddingRight:5*a+"px"})),Je(t,"dmn:TextAnnotation")&&(Ce(o,{width:s.width,height:s.height,minWidth:30*a,minHeight:10*a}),Ce(d,{textAlign:"left",paddingTop:5*a+"px",paddingBottom:7*a+"px",paddingLeft:7*a+"px",paddingRight:5*a+"px",fontSize:c+"px",lineHeight:u})),{bounds:o,style:d}},QP.prototype.update=function(t,n,i,s){var o,a;Je(t,"dmn:TextAnnotation")&&(a=this._canvas.getAbsoluteBBox(t),o={x:t.x,y:t.y,width:t.width/a.width*s.width,height:t.height/a.height*s.height}),function TQt(t){return!t||!t.trim()}(n)&&(n=null),this._modeling.updateLabel(t,n,o)};const PQt={__depends__:[TI,XS,JW],__init__:["labelEditingProvider"],labelEditingProvider:["type",QP]};function nre(t,n){n.invoke(pt,this),this.preExecute("connection.create",function(i){var s=i.connection,o=s.businessObject,a=i.source,l=i.target;Je(s,"dmn:Association")?((o.sourceRef=t.create("dmn:DMNElementReference",{href:"#"+a.id})).$parent=o,(o.targetRef=t.create("dmn:DMNElementReference",{href:"#"+l.id})).$parent=o):(o["required"+function DQt(t){return Je(t,"dmn:BusinessKnowledgeModel")?"Knowledge":Je(t,"dmn:Decision")?"Decision":Je(t,"dmn:InputData")?"Input":Je(t,"dmn:KnowledgeSource")?"Authority":void 0}(a)]=t.create("dmn:DMNElementReference",{href:"#"+a.id})).$parent=o},!0)}function rre(t,n,i,s){function o(a,l,c){l||(l=a.incoming.filter(function(d){return Je(d,"dmn:InformationRequirement")}));var u={};c?u[c]=l:u=function IQt(t,n){var i={};return n.forEach(function(s){var o=Ws(s.source,t).split("-").shift();i[o]||(i[o]=[]),i[o].push(s)}),i}(a,l),fe(u,function(d,p){d=function RQt(t,n){var i;return i=n.includes("top")||n.includes("bottom")?"x":"y",t.sort(function(s,o){return An(s.source)[i]-An(o.source)[i]})}(d,p);var f=function AQt(t,n,i){return t.map(function(s,o){var a=s.source,l=An(a),c=En(a),u=En(n),d=t.length;return i.includes("bottom")?{start:{x:l.x,y:c.top},end:{x:u.left+n.width/(d+1)*(o+1),y:u.bottom}}:i.includes("top")?{start:{x:l.x,y:c.bottom},end:{x:u.left+n.width/(d+1)*(o+1),y:u.top}}:i.includes("right")?{start:{x:c.left,y:l.y},end:{x:u.right,y:u.top+n.height/(d+1)*(o+1)}}:{start:{x:c.right,y:l.y},end:{x:u.left,y:u.top+n.height/(d+1)*(o+1)}}})}(d,a,p);d.forEach((h,m)=>{var _=n.layoutConnection(h,{connectionStart:f[m].start,connectionEnd:f[m].end});i.updateWaypoints(h,_)})})}t.invoke(pt,this),this.preExecute(["connection.create","connection.reconnect"],function(a){var l=a.connection,c=a.newSource||a.source,u=a.newTarget||a.target;if((!Je(l,"dmn:InformationRequirement")||s.allowed("connection.connect",{connection:l,source:c,target:u}))&&Je(l,"dmn:InformationRequirement")){var d=Ws(c,u);a.hints||(a.hints={}),Ce(a.hints,function MQt(t,n,i){var s=An(t),o=An(n);return i.includes("bottom")?(s.y=t.y,o.y=n.y+n.height):i.includes("top")?(s.y=t.y+t.height,o.y=n.y):i.includes("right")?(s.x=t.x,o.x=n.x+n.width):(s.x=t.x+t.width,o.x=n.x),{connectionStart:s,connectionEnd:o}}(c,u,d))}},!0),this.postExecuted(["connection.create","connection.delete","connection.reconnect"],function(a){var l=a.connection,c=l.source||a.source,u=l.target||a.target;if(Je(l,"dmn:InformationRequirement")){var d=Ws(c,u),p=u.incoming.filter(f=>{var h=Ws(f.source,f.target);return Je(f,"dmn:InformationRequirement")&&SRe(h,d)});p.length&&o(u,p,d)}},!0),this.preExecute("connection.reconnect",function(a){var l=a.connection,c=l.source,u=l.target;if(Je(l,"dmn:InformationRequirement")){var d=Ws(c,u),p=u.incoming.filter(f=>{var h=Ws(f.source,f.target);return f!==l&&Je(f,"dmn:InformationRequirement")&&SRe(h,d)});p.length&&o(u,p,d)}},!0),this.postExecuted("elements.move",500,function(a){var u=a.closure.enclosedConnections;a.shapes.forEach(function(d){if(tu(d,["dmn:Decision","dmn:InputData"])){var p=d.incoming.filter(function(f){return Je(f,"dmn:InformationRequirement")&&!u[f.id]});p.length&&o(d,p),d.outgoing.forEach(function(f){!Je(f,"dmn:InformationRequirement")||u[f.id]||o(f.target)})}})},!0)}function SRe(t,n){return t&&n&&t.split("-").shift()===n.split("-").shift()}function ire(t,n,i){t.invoke(pt,this),this.preExecute("connection.reconnect",function(s){var o=s.connection,a=s.newSource||o.source,l=s.newTarget||o.target,c=o.waypoints.slice(),u=i.allowed("connection.reconnect",{connection:o,source:a,target:l});!u||u.type===o.type||(s.connection=n.connect(a,l,{type:u.type,waypoints:c}),n.removeConnection(o))},!0)}function sre(t,n,i){pt.call(this,t),this._modeling=n,this.postExecuted(["shape.replace"],1500,function(s){var o=s.context,a=o.oldShape,l=o.newShape;n.unclaimId(a.businessObject.id,a.businessObject),n.updateProperties(l,{id:a.id}),i.select(l)})}nre.$inject=["drdFactory","injector"],Jt(nre,pt),rre.$inject=["injector","layouter","modeling","rules"],Jt(rre,pt),Jt(ire,pt),ire.$inject=["injector","modeling","rules"],Jt(sre,pt),sre.$inject=["eventBus","modeling","selection"];let hF=(()=>{class t extends pt{constructor(i){super(i),this.executed("element.updateProperties",this.updateIds.bind(this))}updateIds({context:i}){const{element:s,oldProperties:o,properties:a}=i,l=wc(s);if(this.shouldSkipUpdate(l,o,a))return;const c=function LQt(t){let n=t;for(;!Je(n,"dmn:Definitions");)n=n.$parent;return n}(l);c.get("drgElement").forEach(p=>{!function FQt(t,n,i){fe({authorityRequirement:()=>{t.authorityRequirement.forEach(o=>{const{requiredAuthority:a,requiredDecision:l,requiredInput:c}=o;a&&a.href===`#${n}`&&(a.href=`#${i}`),l&&l.href===`#${n}`&&(l.href=`#${i}`),c&&c.href===`#${n}`&&(c.href=`#${i}`)})},informationRequirement:()=>{t.informationRequirement.forEach(o=>{const{requiredDecision:a,requiredInput:l}=o;a&&a.href===`#${n}`&&(a.href=`#${i}`),l&&l.href===`#${n}`&&(l.href=`#${i}`)})},knowledgeRequirement:()=>{t.knowledgeRequirement.forEach(o=>{const{requiredKnowledge:a}=o;a&&a.href===`#${n}`&&(a.href=`#${i}`)})}},(o,a)=>{t[a]&&o()})}(p,o.id,a.id)}),c.get("artifact").forEach(p=>{!function BQt(t,n,i){fe({sourceRef:()=>{const{sourceRef:o}=t;o.href===`#${n}`&&(o.href=`#${i}`)},targetRef:()=>{const{targetRef:o}=t;o.href===`#${n}`&&(o.href=`#${i}`)}},(o,a)=>{t[a]&&o()})}(p,o.id,a.id)})}shouldSkipUpdate(i,s,o){return!function NQt(t,n){return"id"in t&&"id"in n}(s,o)||!Je(i,"dmn:DRGElement")&&!Je(i,"dmn:TextAnnotation")}}return t.$inject=["eventBus"],t})(),ore=(()=>class t extends pt{static $inject=["eventBus","modeling"];constructor(i,s){super(i),this._modeling=s,this.postExecuted("element.updateProperties",this.updateVariableFromElement),this.postExecuted("element.updateLabel",this.updateVariableFromLabel)}updateVariableFromLabel=({context:i})=>{const{element:s,newLabel:o}=i,l=wc(s).variable;l&&this._modeling.updateProperties(l,{name:o})};updateVariableFromElement=({context:i})=>{const{element:s,properties:o}=i,a=wc(s);a.variable&&(Je(s,"dmn:Decision")||Je(s,"dmn:BusinessKnowledgeModel"))&&this.isNameChanged(o)&&(this.isVariable(s)||this.shouldSyncVariable(s)||this.syncElementVariableChange(a))};isNameChanged(i){return"name"in i}isVariable(i){const s=function $Qt(t){return t.$parent}(i);return Je(i,"dmn:InformationItem")&&s&&s.get("variable")===i}shouldSyncVariable(i){const s=wc(i),o=s.get("variable");return o&&s.name===o.name}syncElementVariableChange(i){const s=i.get("name");this._modeling.updateProperties(i.variable,{name:s})}})();const VQt={__init__:["createConnectionBehavior","idChangeBehavior","nameChangeBehavior","layoutConnectionBehavior","replaceConnectionBehavior","replaceElementBehavior"],createConnectionBehavior:["type",nre],idChangeBehavior:["type",hF],nameChangeBehavior:["type",ore],layoutConnectionBehavior:["type",rre],replaceConnectionBehavior:["type",ire],replaceElementBehavior:["type",sre]};function b2(t){t.invoke(Hc,this)}function are(t,n){if(!t||DRe(t)||!n||DRe(n))return null;if(t===n)return!1;if(Je(t,"dmn:BusinessKnowledgeModel")&&tu(n,["dmn:BusinessKnowledgeModel","dmn:Decision"]))return{type:"dmn:KnowledgeRequirement"};if(Je(t,"dmn:Decision")){if(Je(n,"dmn:Decision"))return{type:"dmn:InformationRequirement"};if(Je(n,"dmn:KnowledgeSource"))return{type:"dmn:AuthorityRequirement"}}if(Je(t,"dmn:Definitions")||Je(n,"dmn:Definitions"))return!1;if(Je(t,"dmn:InputData")){if(Je(n,"dmn:Decision"))return{type:"dmn:InformationRequirement"};if(Je(n,"dmn:KnowledgeSource"))return{type:"dmn:AuthorityRequirement"}}return Je(t,"dmn:KnowledgeSource")&&tu(n,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:KnowledgeSource"])?{type:"dmn:AuthorityRequirement"}:!!(Je(t,"dmn:TextAnnotation")&&!Je(n,"dmn:TextAnnotation")||!Je(t,"dmn:TextAnnotation")&&Je(n,"dmn:TextAnnotation"))&&{type:"dmn:Association"}}function TRe(t,n){return tu(t,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:InputData","dmn:KnowledgeSource","dmn:TextAnnotation"])&&Je(n,"dmn:Definitions")}function PRe(t,n){return Xt(t)||(t=[t]),!!(!n||yu(t,function(i){return tu(i,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:InputData","dmn:KnowledgeSource","dmn:TextAnnotation","dmn:InformationRequirement","dmn:AuthorityRequirement","dmn:KnowledgeRequirement","dmn:Association"])})&&Je(n,"dmn:Definitions"))}function DRe(t){return!!t.labelTarget}Jt(b2,Hc),b2.$inject=["injector"],b2.prototype.init=function(){this.addRule("connection.create",function(t){return are(t.source,t.target)}),this.addRule("connection.reconnect",function(t){return are(t.source,t.target)}),this.addRule("connection.updateWaypoints",function(t){const n=t.connection;return{type:n.type,businessObject:n.businessObject}}),this.addRule("elements.move",function(t){return PRe(t.shapes,t.target)}),this.addRule("shape.create",function(t){return TRe(t.shape,t.target)}),this.addRule("shape.resize",function(t){return Je(t.shape,"dmn:TextAnnotation")})},b2.prototype.canConnect=are,b2.prototype.canCreate=TRe,b2.prototype.canMove=PRe;const jQt={__depends__:[ep],__init__:["drdRules"],drdRules:["type",b2]};function Nf(t){this._model=t}function Gy(t,n,i,s,o){o.invoke(pt,this),this._definitionPropertiesView=n,this._drdFactory=i,this._drdRules=s;var a=this;function c(f){var h=f.connection,m=f.parent,y=f.shape;h&&!Je(h,"dmn:Association")&&(m=h.target),a.updateParent(y||h,m)}function u(f){var h=f.connection,m=f.shape,y=f.parent||f.newParent;h&&!Je(h,"dmn:Association")&&(y=h.target),a.updateParent(m||h,y)}function d(f){var h=f.shape;(Je(h,"dmn:DRGElement")||Je(h,"dmn:TextAnnotation"))&&a.updateBounds(h)}function p(f){a.updateConnectionWaypoints(f)}this.executed(["connection.create","connection.layout"],function l(f){var h=f.connection;f.cropped||(h.waypoints=t.getCroppedWaypoints(h),f.cropped=!0)},!0),this.reverted(["connection.layout"],function(f){delete f.cropped},!0),this.executed(["connection.create","connection.delete","connection.move","shape.create","shape.delete"],c,!0),this.reverted(["connection.create","connection.delete","connection.move","shape.create","shape.delete"],u,!0),this.executed(["shape.create","shape.move","shape.resize"],d,!0),this.reverted(["shape.create","shape.move","shape.resize"],d,!0),this.executed(["connection.create","connection.layout","connection.move","connection.updateWaypoints"],p,!0),this.reverted(["connection.create","connection.layout","connection.move","connection.updateWaypoints"],p,!0),this.executed("connection.create",function(f){var h=f.connection,m=h.businessObject,E=f.target.businessObject;Je(h,"dmn:Association")?c(f):a.updateSemanticParent(m,E)},!0),this.reverted("connection.create",function(f){u(f)},!0),this.executed("connection.reconnect",function(f){var m=f.connection.businessObject,E=f.newTarget.businessObject;Je(m,"dmn:Association")||a.updateSemanticParent(m,E)},!0),this.reverted("connection.reconnect",function(f){var m=f.connection.businessObject,E=f.oldTarget.businessObject;Je(m,"dmn:Association")||a.updateSemanticParent(m,E)},!0),this.executed("element.updateProperties",function(f){n.update()},!0),this.reverted("element.updateProperties",function(f){n.update()},!0)}function mF(t){this._moddle=t}function zQt(){function t(s,o){var a=s.label||s,l=s.labelTarget||s;return function JXt(t,n,i){var s=t.businessObject,o=uRe(s);o&&(s[o]=n),i&&(t.hidden=!n)}(a,o,l!==a),[a,l]}this.execute=function n(s){return s.oldLabel=uF(s.element),t(s.element,s.newLabel)},this.revert=function i(s){return t(s.element,s.oldLabel)}}Nf.$inject=["moddle"],Nf.prototype._needsId=function(t){return tu(t,["dmn:Artifact","dmn:DMNElement","dmn:DRGElement","dmndi:DMNDiagram","dmndi:DMNDiagramElement"])},Nf.prototype._ensureId=function(t){var n=(t.$type||"").replace(/^[^:]*:/g,"")+"_";!t.id&&this._needsId(t)&&(t.id=this._model.ids.nextPrefixed(n,t))},Nf.prototype.create=function(t,n){var i=this._model.create(t,n||{});return this._ensureId(i),i},Nf.prototype.createDiShape=function(t,n,i){return this.create("dmndi:DMNShape",Ce({dmnElementRef:t,bounds:this.createDiBounds(n)},i))},Nf.prototype.createDiBounds=function(t){return this.create("dc:Bounds",t)},Nf.prototype.createDiEdge=function(t,n,i){return this.create("dmndi:DMNEdge",{dmnElementRef:t,waypoint:this.createDiWaypoints(n)},i)},Nf.prototype.createDiWaypoints=function(t){var n=this;return t.map(function(i){return n.createDiWaypoint(i)})},Nf.prototype.createDiWaypoint=function(t){return this.create("dc:Point",td(t,["x","y"]))},Nf.prototype.createExtensionElements=function(){return this.create("dmn:ExtensionElements",{values:[]})},Jt(Gy,pt),Gy.$inject=["connectionDocking","definitionPropertiesView","drdFactory","drdRules","injector"],Gy.prototype.updateBounds=function(t){Ce(t.businessObject.di.bounds,{x:t.x,y:t.y,width:t.width,height:t.height})},Gy.prototype.updateConnectionWaypoints=function(t){var i=t.connection,o=i.businessObject.di;o.waypoint=this._drdFactory.createDiWaypoints(i.waypoints).map(function(a){return a.$parent=o,a})},Gy.prototype.updateParent=function(t,n){var i=t.parent;!Je(t,"dmn:DRGElement")&&!Je(t,"dmn:Artifact")&&(i=n);var s=t.businessObject,o=i&&i.businessObject;this.updateSemanticParent(s,o),this.updateDiParent(s.di,o&&o.di)},Gy.prototype.updateSemanticParent=function(t,n){var i,s;t.$parent!==n&&(Je(t,"dmn:DRGElement")?s="drgElement":Je(t,"dmn:Artifact")?s="artifact":Je(t,"dmn:InformationRequirement")?s="informationRequirement":Je(t,"dmn:AuthorityRequirement")?s="authorityRequirement":Je(t,"dmn:KnowledgeRequirement")&&(s="knowledgeRequirement"),t.$parent&&go(i=t.$parent.get(s),t),n?(i=n.get(s))&&(i.push(t),t.$parent=n):t.$parent=null)},Gy.prototype.updateDiParent=function(t,n){if(t.$parent!==n){if(!tu(t,["dmndi:DMNEdge","dmndi:DMNShape"]))throw new Error("unsupported");for(var i=n||t;!Je(i,"dmndi:DMNDiagram");)i=i.$parent;var s=i.get("diagramElements");n?(t.$parent=i,So(s,t)):(t.$parent=null,go(s,t))}},mF.$inject=["moddle"],mF.prototype.execute=function(t){var n=this._moddle.ids,i=t.id;t.claiming?n.claim(i,t.element):n.unclaim(i)},mF.prototype.revert=function(t){var n=this._moddle.ids,i=t.id,s=t.element;t.claiming?n.unclaim(i):n.claim(i,s)};const rg="id";function gF(t,n){this._elementRegistry=t,this._moddle=n}function kRe(t,n){return rg in t&&t[rg]!==n[rg]}function MRe(t,n){fe(n,function(i,s){t.set(s,i)})}function yF(t){this._elementRegistry=t}function ARe(t,n){fe(n,function(i,s){t.set(s,i)})}function u0(t,n,i){this._canvas=t,this._drdRules=n,i.invoke($i,this)}function bF(t){this._connectionDocking=t}function IRe(t,n){return t?t.original||t:An(n)}gF.$inject=["elementRegistry","moddle"],gF.prototype.execute=function(t){const{element:n,properties:i}=t,s=[n];if(!n)throw new Error("element required");const o=this._elementRegistry,a=this._moddle.ids,l=wc(n),c=t.oldProperties||function UQt(t,n){return Ts(n,function(i,s){return i[s]=t.get(s),i},{})}(l,vu(i));return kRe(i,l)&&(a.unclaim(l[rg]),o.updateId(n,i[rg]),a.claim(i[rg],l)),"name"in i&&n.label&&s.push(n.label),MRe(l,i),t.oldProperties=c,t.changed=s,s},gF.prototype.revert=function(t){const{element:n,properties:i,oldProperties:s}=t,o=wc(n),a=this._elementRegistry,l=this._moddle.ids;return MRe(o,s),kRe(i,o)&&(l.unclaim(i[rg]),a.updateId(n,s[rg]),l.claim(s[rg],o)),t.changed},yF.$inject=["elementRegistry"],yF.prototype.execute=function(t){var n=t.element,i=t.moddleElement,s=t.properties;if(!i)throw new Error("<moddleElement> required");var o=t.changed||[n],a=t.oldProperties||function qQt(t,n){return Ts(n,function(i,s){return i[s]=t.get(s),i},{})}(i,vu(s));return ARe(i,s),t.oldProperties=a,t.changed=o,o},yF.prototype.revert=function(t){var s=t.changed;return ARe(t.moddleElement,t.oldProperties),s},Jt(u0,$i),u0.$inject=["canvas","drdRules","injector"],u0.prototype.claimId=function(t,n){this._commandStack.execute("id.updateClaim",{id:t,element:n,claiming:!0})},u0.prototype.connect=function(t,n,i,s){var o=this._drdRules,a=this._canvas.getRootElement();return i||(i=o.canConnect(t,n)||{type:"dmn:Association"}),this.createConnection(t,n,i,a,s)},u0.prototype.getHandlers=function(){var t=$i.prototype.getHandlers.call(this);return t["id.updateClaim"]=mF,t["element.updateLabel"]=zQt,t["element.updateProperties"]=gF,t["element.updateModdleProperties"]=yF,t},u0.prototype.unclaimId=function(t,n){this._commandStack.execute("id.updateClaim",{id:t,element:n})},u0.prototype.updateModdleProperties=function(t,n,i){this._commandStack.execute("element.updateModdleProperties",{element:t,moddleElement:n,properties:i})},u0.prototype.updateProperties=function(t,n){this._commandStack.execute("element.updateProperties",{element:t,properties:n})},u0.prototype.updateLabel=function(t,n,i,s){this._commandStack.execute("element.updateLabel",{element:t,newLabel:n,newBounds:i,hints:s||{}})},Jt(bF,GW),bF.$inject=["connectionDocking"],bF.prototype.layoutConnection=function(t,n){var i=this._connectionDocking;n||(n={});var s=n.source||t.source,o=n.target||t.target,a=n.waypoints||t.waypoints||[],l=n.connectionStart,c=n.connectionEnd,u=Ws(s,o);if(l||(l=IRe(a[0],s)),c||(c=IRe(a[a.length-1],o)),Je(t,"dmn:InformationRequirement")){var d=i.getCroppedWaypoints(Ce({},t,{waypoints:a=[l,c]}),s,o),p={x:(c=d.pop()).x,y:c.y};return u.includes("bottom")?p.y+=20:u.includes("top")?p.y-=20:u.includes("right")?p.x+=20:p.x-=20,d.concat([p,c])}return[l,c]};const WQt={__init__:["modeling","drdUpdater"],__depends__:[VQt,jQt,Jne,TI,jc,XS],drdFactory:["type",Nf],drdUpdater:["type",Gy],elementFactory:["type",y2],modeling:["type",u0],layouter:["type",bF],connectionDocking:["type",Sm]},YQt={width:135,height:46},XQt={width:100,height:63};function RRe(t,n,i){return an("path",{d:t,strokeWidth:2,transform:`translate(${n.x}, ${n.y})`,...i})}function EF(t,n){this._styles=n,t.registerProvider(this)}function NRe(t,n){var i;return"dmn:BusinessKnowledgeModel"===n?i=YQt:"dmn:KnowledgeSource"===n&&(i=XQt),t.width===i.width&&t.height===i.height}EF.$inject=["outline","styles"],EF.prototype.getOutline=function(t){const n=this._styles.cls("djs-outline",["no-fill"]);var i;return Je(t,"dmn:InputData")?Wt(i=an("rect"),Ce({x:-5,y:-5,rx:27,width:t.width+10,height:t.height+10},n)):Je(t,"dmn:BusinessKnowledgeModel")&&NRe(t,"dmn:BusinessKnowledgeModel")?i=RRe("\nM2.45221 16.0068L18.7175 1.74436L18.0615 0.996331L18.7175 1.74436C19.2646 1.26455 19.9676 \n1 20.6953 1H140.926C142.583 1 143.926 2.34295 143.926 3.99967L143.93 37.5457C143.93 \n38.3668 143.593 39.152 142.999 39.7183L143.689 40.4424L142.999 39.7183L127.299 \n54.6723C126.741 55.2036 126 55.5 125.23 55.5H4.53787C2.88599 55.5 1.54491 54.1646 1.5379 \n52.5127L1.43066 27.229L1.43065 27.2248L1.4301 18.2626C1.43005 \n17.3986 1.80255 16.5765 2.45221 16.0068Z\n",{x:-6,y:-6},n):Je(t,"dmn:KnowledgeSource")&&NRe(t,"dmn:KnowledgeSource")&&(i=RRe("\nM1.79494 63.0032L1.2941 63.6423L1.79493 63.0032C1.71778 62.9427 1.6428 62.8741 1.57288 \n62.8L1.01736 63.3241L1.57288 62.8C1.20495 62.41 1 61.8941 1 61.3579V2.65067C1 1.74066 \n1.73867 1.00345 2.64868 1.00526L108.006 1.2145C109.66 1.21778 111 2.55996 111 \n4.21449V21.7015V61.6762C111 63.3188 109.679 64.656 108.037 64.676L107.06 64.6879C106.66 \n64.6927 106.26 64.6165 105.89 64.4652C105.04 64.1176 104.222 63.78 103.43 \n63.4531C93.4866 59.3517 87.6891 56.9603 76.3991 58.1057C71.7035 58.5821 66.8747 60.74 \n61.5721 63.1744C61.3243 63.2881 61.0753 63.4026 60.825 63.5177C55.6712 65.8868 49.9696 \n68.5077 43.2365 70.3468C31.101 73.6617 15.2135 73.5179 1.79494 63.0032Z\n",{x:-6,y:-1.5},n)),i},EF.prototype.updateOutline=function(t){return!!tu(t,["dmn:InputData","dmn:BusinessKnowledgeModel","dmn:KnowledgeSource"])};const QQt={__depends__:[oG],__init__:["outlineProvider"],outlineProvider:["type",EF]};function lre(t,n,i,s,o,a){this._palette=t,this._create=n,this._elementFactory=i,this._handTool=s,this._lassoTool=o,this._translate=a,t.registerProvider(this)}lre.$inject=["palette","create","elementFactory","handTool","lassoTool","translate"],lre.prototype.getPaletteEntries=function(t){var n={},i=this._create,s=this._elementFactory,o=this._handTool,a=this._lassoTool,l=this._translate;function c(u,d,p,f,h){function m(y){var E=s.createShape(Ce({type:u},h));i.start(y,E)}return{group:d,className:p,title:f,action:{dragstart:m,click:m}}}return Ce(n,{"hand-tool":{group:"tools",className:"dmn-icon-hand-tool",title:l("Activate hand tool"),action:{click:function(u){o.activateHand(u)}}},"lasso-tool":{group:"tools",className:"dmn-icon-lasso-tool",title:l("Activate lasso tool"),action:{click:function(u){a.activateSelection(u)}}},"tool-separator":{group:"tools",separator:!0},"create.decision":c("dmn:Decision","drd","dmn-icon-decision",l("Create decision")),"create.input-data":c("dmn:InputData","drd","dmn-icon-input-data",l("Create input data")),"create.knowledge-source":c("dmn:KnowledgeSource","drd","dmn-icon-knowledge-source",l("Create knowledge source")),"create.business-knowledge-model":c("dmn:BusinessKnowledgeModel","drd","dmn-icon-business-knowledge",l("Create knowledge model"))}),n};const ZQt={__depends__:[nl,Qbe,w3,Jbe,n_e],__init__:["paletteProvider"],paletteProvider:["type",lre]};function LRe(t){t.on(["bendpoint.move.move","bendpoint.move.end"],2e3,function(n){var i=n.context,s=i.allowed,o=i.hover,a=i.source,l=i.target,c=i.type;if(i.hints||(i.hints={}),delete i.hints.connectionStart,delete i.hints.connectionEnd,(!s||"dmn:InformationRequirement"===s.type)&&o&&tu(o,["dmn:Decision","dmn:InputData"])&&a!==l){var u="reconnectStart"===c||"reconnectEnd"===c,d=Ws(a,l);u&&o===a?(function nZt(t,n){var o=FRe(t.context.source,n),a=t.x-o.x,l=t.y-o.y;t.x-=a,t.y-=l,t.dx-=a,t.dy-=l}(n,d),i.hints.connectionEnd=BRe(l,d)):u&&o===l&&(i.hints.connectionStart=FRe(a,d),function rZt(t,n){var o=BRe(t.context.target,n),a=0,l=0;n.includes("top")||n.includes("bottom")?l=t.y-o.y:a=t.x-o.x,t.x-=a,t.y-=l,t.dx-=a,t.dy-=l}(n,d))}})}function FRe(t,n){var i=En(t),s=An(t);return n.includes("bottom")?s.y=i.top:n.includes("top")?s.y=i.bottom:s.x=n.includes("right")?i.left:i.right,s}function BRe(t,n){var i=En(t),s=An(t);return n.includes("bottom")?s.y=i.bottom:n.includes("top")?s.y=i.top:s.x=n.includes("right")?i.right:i.left,s}function $Re(t){t.on(["connect.hover","connect.move","connect.end"],250,function(n){var i=n.context,s=i.canExecute,o=i.hover,a=i.source,l=i.target;if(s&&"dmn:InformationRequirement"===s.type){var c=Ws(a,l);i.connectionStart=An(a),i.connectionEnd=o===a?An(l):{x:n.x,y:n.y},c.includes("bottom")?(i.connectionStart.y=En(a).top,i.connectionEnd.y=En(l).bottom):c.includes("top")?(i.connectionStart.y=En(a).bottom,i.connectionEnd.y=En(l).top):c.includes("right")?(i.connectionStart.x=En(a).left,i.connectionEnd.x=En(l).right):(i.connectionStart.x=En(a).right,i.connectionEnd.x=En(l).left)}else delete i.connectionStart,delete i.connectionEnd})}LRe.$inject=["eventBus"],$Re.$inject=["eventBus"];const sZt={__depends__:[m_e],__init__:["bendpointSnapping","connectSnapping"],bendpointSnapping:["type",LRe],connectSnapping:["type",$Re]};function S5(t){g2.call(this,t)}function aZt(t,n){O5(t,"dmn:Decision")?function lZt(t,n){for(const i of t.get("informationRequirement"))uZt(i,n);for(const i of t.get("knowledgeRequirement"))jRe(i,n)}(t,n):O5(t,"dmn:BusinessKnowledgeModel")?function cZt(t,n){for(const i of t.get("knowledgeRequirement"))jRe(i,n)}(t,n):O5(t,"dmn:Expression")&&function vZt(t,n){O5(t,"dmn:FunctionDefinition")&&function bZt(t,n){const i=t.get("formalParameter");for(const s of i)_Zt(s,n)}(t,n)}(t,n)}function uZt(t,n){const i=t.get("requiredInput");i&&function dZt(t,n){const i=cre(t,n.rootElement);if(!i)return;const s=i.get("name");s&&n.variables.push({name:s,origin:i})}(i,n);const s=t.get("requiredDecision");s&&function pZt(t,n){const i=cre(t,n.rootElement);if(!i)return;const s=i.get("name");if(!s)return;const o={name:s,origin:i},a=i.get("decisionLogic");a&&function fZt(t,n){O5(t,"dmn:DecisionTable")&&function hZt(t,n){if(1===t.length){const o={...VRe(t[0]),name:n.name};return void Object.assign(n,o)}const s=t.map(VRe);n.entries=s.filter(o=>!!o.name)}(t.get("output"),n)}(a,o),n.variables.push(o)}(s,n)}function VRe(t){const n={name:t.name};return t.typeRef&&(n.detail=t.typeRef),n}function jRe(t,n){const i=t.get("requiredKnowledge");i&&function mZt(t,n){const i=cre(t,n.rootElement);i&&O5(i,"dmn:BusinessKnowledgeModel")&&function gZt(t,n){const i=t.get("name");if(!i)return;const s={name:i,origin:t},o=t.get("encapsulatedLogic");o&&function yZt(t,n){const o=t.get("formalParameter").map((a,l)=>{const c={name:a.get("name")||`param ${l+1}`,type:a.get("typeRef")};return c.type||delete c.type,c});Object.assign(n,{type:"function",params:o})}(o,s),n.variables.push(s)}(i,n)}(i,n)}function _Zt(t,n){const i=t.get("name");if(!i)return;const s={name:i,origin:t};t.get("typeRef")&&(s.detail=t.get("typeRef")),n.variables.push(s)}function EZt(t){let n=t;for(;n.$parent;)n=n.$parent;return n}function cre(t,n){const i=t.get("href");if(!i||!i.startsWith("#"))return;const s=i.slice(1);return n.get("drgElement").find(a=>a.get("id")===s)}function O5(t,n){return t.$instanceOf(n)}Jt(S5,g2),S5.prototype._modules=[].concat(S5.prototype._modules,S5.prototype._modelingModules=[fge,cQt,d1e,$1e,pQt,U1e,xQt,wQt,CQt,SQt,_be,OQt,dU,Dbe,PQt,WQt,Gbe,QQt,ZQt,tG,sZt]);const ure={__init__:["dmnVariableProvider"],dmnVariableProvider:["type",(()=>{class t{constructor(i){i.registerProvider(this)}getVariables(i,s){return i.concat(function oZt(t){const n={variables:[],rootElement:EZt(t)};for(let i=t;i;i=i.$parent)aZt(i,n);return n.variables}(s))}}return t.$inject=["variableResolver"],t})()],variableResolver:["type",class wZt{constructor(){this._providers=[]}registerProvider(n){this._providers.push(n)}getVariables(n){return this._providers.reduce((i,s)=>s.getVariables(i,n),[])}}]};class ZP{constructor(n){Ce(this,n),ig(this,"businessObject",{writable:!0})}}class Lu extends ZP{constructor(n){super(n),ig(this,"root",{writable:!0}),ig(this,"cells",{enumerable:!0,value:this.cells||[]})}}class Fu extends ZP{constructor(n){super(n),ig(this,"root",{writable:!0}),ig(this,"cells",{enumerable:!0,value:this.cells||[]})}}class xF extends ZP{constructor(n){super(n),ig(this,"row",{writable:!0}),ig(this,"col",{writable:!0})}}const SZt={root:class CZt extends ZP{constructor(n){super(n),ig(this,"rows",{enumerable:!0,value:this.rows||[]}),ig(this,"cols",{enumerable:!0,value:this.cols||[]})}},row:Lu,col:Fu,cell:xF};function ig(t,n,i){Object.defineProperty(t,n,i)}class zRe{constructor(){this._uid=12}create(n,i={}){return i.id||(i.id=n+"_"+this._uid++),function OZt(t,n){const i=SZt[t];if(!i)throw new Error("unknown type "+t);return new i(n)}(n,i)}createRoot(n){return this.create("root",n)}createRow(n){return this.create("row",n)}createCol(n){return this.create("col",n)}createCell(n){return this.create("cell",n)}}let TZt=(()=>{class t{constructor(i){this._eventBus=i,this._elements={},i.on("table.clear",this.clear.bind(this))}add(i,s){const{id:o}=i;this._elements[o]=i}remove(i){delete this._elements[i.id||i]}get(i){return this._elements[i]}getAll(){return dre(this._elements)}forEach(i){dre(this._elements).forEach(s=>i(s))}filter(i){return dre(this._elements).filter(s=>i(s))}clear(){this._elements={}}updateId(i,s){this._validateId(s),"string"==typeof i&&(i=this.get(i)),this._eventBus.fire("element.updateId",{element:i,newId:s}),this.remove(i),i.id=s,this.add(i)}_validateId(i){if(!i)throw new Error("element must have an id");if(this._elements[i])throw new Error("element with id "+i+" already added")}}return t.$inject=["eventBus"],t})();function dre(t){return Object.keys(t).map(function(n){return t[n]})}let PZt=(()=>{class t{constructor(i){this._listeners={},i.on("elements.changed",({elements:s})=>{this.elementsChanged(s)}),i.on("root.remove",s=>{const o=s.root.id;this._listeners[o]&&i.once("root.add",a=>{this.updateId(o,a.root.id)})}),i.on("element.updateId",({element:s,newId:o})=>{this.updateId(s.id,o)})}elementsChanged(i){const s={},o=i.length;for(let a=0;a<o;a++){const{id:l}=i[a];if(s[l])return;s[l]=!0;const c=this._listeners[l]&&this._listeners[l].length;if(c)for(let u=0;u<c;u++)this._listeners[l][u]&&this._listeners[l][u]()}}onElementsChanged(i,s){this._listeners[i]||(this._listeners[i]=[]),this._listeners[i][this._listeners[i].length]=s}offElementsChanged(i,s){if(this._listeners[i])if(s){const o=this._listeners[i].indexOf(s);-1!==o&&this._listeners[i].splice(o,1)}else this._listeners[i].length=0}updateId(i,s){this._listeners[i]&&(this._listeners[s]=this._listeners[i],delete this._listeners[i])}}return t.$inject=["eventBus"],t})();class MZt extends yn{constructor(n){super(n);const i=this._injector=n.injector;this._sheet=i.get("sheet"),this._changeSupport=i.get("changeSupport"),this._components=i.get("components"),this._eventBus=i.get("eventBus");const s=i.get("throttle");this.onElementsChanged=this.onElementsChanged.bind(this),this.onScroll=s(this.onScroll.bind(this))}onElementsChanged(){this.forceUpdate()}onScroll(){this._eventBus.fire("sheet.scroll")}getChildContext(){return{changeSupport:this._changeSupport,components:this._components,injector:this._injector}}componentWillMount(){const{id:n}=this._sheet.getRoot();this._changeSupport.onElementsChanged(n,this.onElementsChanged)}componentWillUnmount(){const{id:n}=this._sheet.getRoot();this._changeSupport.offElementsChanged(n,this.onElementsChanged)}render(){const{rows:n,cols:i}=this._sheet.getRoot(),s=this._components.getComponents("table.before"),o=this._components.getComponents("table.after"),a=this._components.getComponent("table.head"),l=this._components.getComponent("table.body"),c=this._components.getComponent("table.foot");return J(1,"div","tjs-container",[s&&s.map((u,d)=>At(2,u,null,d)),J(1,"div","tjs-table-container",J(1,"table","tjs-table",[a&&At(2,a,{rows:n,cols:i}),l&&At(2,l,{rows:n,cols:i}),c&&At(2,c,{rows:n,cols:i})],0),2,{onScroll:this.onScroll}),o&&o.map((u,d)=>At(2,u,null,d))],0)}}const HRe={__init__:["changeSupport","components","renderer"],changeSupport:["type",PZt],components:["type",class kZt{constructor(){this._listeners={}}getComponent(n,i){const s=this._listeners[n];if(!s)return;let o;for(let a=0;a<s.length&&(o=s[a].callback(i),!o);a++);return o}getComponents(n,i){const s=this._listeners[n],o=[];if(!s)return o;for(let a=0;a<s.length;a++){const l=s[a].callback(i);l&&o.push(l)}return o}onGetComponent(n,i,s){if(Ar(i)&&(s=i,i=1e3),!Ln(i))throw new Error("priority must be a number");const o=this._getListeners(n);let a,l;const c={priority:i,callback:s};for(l=0;a=o[l];l++)if(a.priority<i)return void o.splice(l,0,c);o.push(c)}offGetComponent(n,i){const s=this._getListeners(n);let o,a,l;if(i)for(l=s.length-1;o=s[l];l--)a=o.callback,a===i&&s.splice(l,1);else s.length=0}_getListeners(n){let i=this._listeners[n];return i||(this._listeners[n]=i=[]),i}}],renderer:["type",(()=>{class t{constructor(i,s,o,a,l){const{container:c}=o;this._container=c,a.on("root.added",()=>{KP(At(2,MZt,{injector:l}),c)}),a.on("root.remove",()=>{KP(null,c)})}getContainer(){return this._container}}return t.$inject=["changeSupport","components","config.renderer","eventBus","injector"],t})()]};let AZt=(()=>{class t{constructor(i,s){this._elementRegistry=i,this._eventBus=s,this._root=null,s.on("table.clear",()=>{this.setRoot(null)})}setRoot(i){if(this._root){const s=this._root;this._eventBus.fire("root.remove",{root:s}),this._root=null,this._eventBus.fire("root.removed",{root:s})}i&&this._eventBus.fire("root.add",{root:i}),this._root=i,i&&this._eventBus.fire("root.added",{root:i})}getRoot(){return this._root||this.setRoot({id:"__implicitroot",rows:[],cols:[]}),this._root}addRow(i,s){const o=this.getRoot();if(o.cols.length!=i.cells.length)throw new Error("number of cells is not equal to number of cols");return typeof s>"u"&&(s=o.rows.length),wF(s,o.rows,i),i.root=o,this._elementRegistry.add(i),i.cells.forEach((a,l)=>{this._elementRegistry.add(a),a.row=i,a.col=o.cols[l],wF(s,o.cols[l].cells,a)}),this._eventBus.fire("row.add",{row:i}),i}removeRow(i){const s=this.getRoot();"string"==typeof i&&(i=this._elementRegistry.get(i));const o=s.rows.indexOf(i);-1!==o&&(CF(o,s.rows),i.root=void 0,this._elementRegistry.remove(i),i.cells.forEach((a,l)=>{this._elementRegistry.remove(a),a.col=void 0,CF(o,s.cols[l].cells)}),this._eventBus.fire("row.remove",{row:i}))}addCol(i,s){const o=this.getRoot();if(this._elementRegistry.add(i),o.rows.length!=i.cells.length)throw new Error("number of cells is not equal to number of rows");return typeof s>"u"&&(s=o.cols.length),wF(s,o.cols,i),i.root=o,i.cells.forEach((a,l)=>{this._elementRegistry.add(a),a.col=i,a.row=o.rows[l],wF(s,o.rows[l].cells,a)}),this._eventBus.fire("col.add",{col:i}),i}removeCol(i){const s=this.getRoot();"string"==typeof i&&(i=this._elementRegistry.get(i));const o=s.cols.indexOf(i);-1!==o&&(CF(o,s.cols),i.root=void 0,this._elementRegistry.remove(i),i.cells.forEach((a,l)=>{this._elementRegistry.remove(a),a.row=void 0,CF(o,s.rows[l].cells)}),this._eventBus.fire("col.remove",{col:i}))}resized(){this._eventBus.fire("sheet.resized")}}return t.$inject=["elementRegistry","eventBus"],t})();function wF(t,n,i){return n.splice(t,0,i)}function CF(t,n){return n.splice(t,1)}function URe(t=!0){const n="number"==typeof t?t:t?300:0;return n?i=>function DXe(t,n){let i=!1;return function(...s){i||(t(...s),i=!0,setTimeout(()=>{i=!1},n))}}(i,n):i=>i}URe.$inject=["config.throttle"];const IZt={__depends__:[HRe],__init__:["elementFactory","sheet"],elementFactory:["type",zRe],elementRegistry:["type",TZt],eventBus:["type",Al],sheet:["type",AZt],throttle:["factory",URe]},LZt=class RZt{constructor(n={}){let{injector:i}=n;if(!i){let{modules:s,config:o}=this._init(n);i=function NZt(t,n){const s=new W7([{config:["value",t]},IZt].concat(n||[]));return s.init(),s}(o,s)}this.get=i.get,this.invoke=i.invoke,this.get("eventBus").fire("table.init"),this.get("eventBus").fire("diagram.init")}_init(n){let{modules:i,...s}=n;return{modules:i,config:s}}destroy(){const n=this.get("eventBus");n.fire("table.destroy"),n.fire("diagram.destroy")}clear(){const n=this.get("eventBus");n.fire("table.clear"),n.fire("diagram.clear")}};function pre(t){return t?`<${t.$type}${t.id?` id="${t.id}"`:""} />`:"<null>"}function FZt(t,n){function i(u,d,p){if(u.gfx)throw new Error(`already rendered ${pre(u)}`);return t.element(u,d,p)}function a(u,d,p){fe(u,function(f){i(f,d,p)})}function c(u,d,p){fe(u,function(f){i(f,d,p)})}return{handleDecision:function o(u){u.id||(u.id="decision");const d=u.decisionLogic;if(!d)throw new Error(`no table for ${pre(u)}`);{if(!d.output)throw new Error(`missing output for ${pre(d)}`);const p=function s(u){return t.table(u)}(d);d.input&&a(d.input,p,d),a(d.output,p,d),function l(u,d,p){fe(u,function(f){i(f,d,p),c(f.inputEntry,f),c(f.outputEntry,f)})}(d.rule,p,d)}}}}function Hl(t){return qRe(t.constructor,t)}function qRe(t,n){const i=t.$inject;if(!i)return;const{injector:s}=n.context,o=[...i,function(...a){for(const l in a)n[i[l]]=a[l]}];s.invoke(o)}function _2(t,n){Object.keys(n).forEach(function(i){if("$inject"===i||"__init"===i)return;const s=n[i];"constructor"===i&&s.call(t,t.props,t.context);const o=t[i];if(typeof o<"u"){if("function"!=typeof o)throw new Error(`failed to mixin <${i}>: cannot combine with non-fn component value`);t[i]=function $Zt(t,...n){return function(...i){let s;return n.forEach(function(o){if(s=o.call(t,...i),typeof s<"u")return!1}),s}.bind(t)}(t,o,s)}else t[i]=s.bind(t)}),"$inject"in n&&qRe(n,t),"__init"in n&&n.__init.call(t,t.props,t.context)}const WRe={slotFill(t,n){const{type:i,context:s,...o}=t,a=this.components.getComponent(i,s)||n;return a?qy(At(2,a,{...s,...o})):null},slotFills(t){const{type:n,context:i,...s}=t;return this.components.getComponents(n,i).map(a=>qy(At(2,a,{...i,...s})))}},JP=WRe;WRe.$inject=["components"];let KRe=(()=>{class t extends yn{constructor(i,s){super(i,s),_2(this,JP),Hl(this)}componentDidMount(){this.changeSupport.onElementsChanged(this.getRoot(),this.onElementsChanged)}componentWillUnmount(){this.changeSupport.offElementsChanged(this.getRoot(),this.onElementsChanged)}onElementsChanged=()=>{this.forceUpdate()};getRoot(){return this.sheet.getRoot()}render(){const o=(this.getRoot().businessObject.get("annotationsWidth")||400)+"px";return J(1,"th","annotation header",[this.slotFills({type:"cell-inner",context:{cellType:"annotations",col:this.sheet.getRoot(),minWidth:400}}),this.translate("Annotations")],0,{style:{width:o}})}}return t.$inject=["changeSupport","sheet","translate"],t})();function YRe(t,n){const{elements:i,index:s}=t;return s[n]?t:{elements:[...i,n],index:{...s,[n]:!0}}}function fre(...t){let n={elements:[],index:{}};return t.forEach(function(i){const s=typeof i;"string"===s&&i.length>0?n=YRe(n,i):"object"===s&&null!==i&&Object.keys(i).forEach(function(o){i[o]&&(n=YRe(n,o))})}),function jZt(t,n){return t.elements.join(n)}(n," ")}const XRe={getSelectionClasses(){const{selected:t,selectedSecondary:n,focussed:i}=this.state;return fre({selected:t,"selected-secondary":n,focussed:i})},selectionChanged(t){this.setState(t)},componentWillUpdate(t){t.elementId!==this.props.elementId&&this.updateSelectionSubscription(!1)},componentDidUpdate(t){t.elementId!==this.props.elementId&&this.updateSelectionSubscription(!0)},componentDidMount(){this.updateSelectionSubscription(!0)},componentWillUnmount(){this.updateSelectionSubscription(!1)},updateSelectionSubscription(t){const{elementId:n}=this.props;n&&n&&this.eventBus[t?"on":"off"](`selection.${n}.changed`,this.selectionChanged)}},QRe=XRe;XRe.$inject=["eventBus"];class zZt extends yn{constructor(n,i){super(n,i),_2(this,QRe),Hl(this)}getRenderProps(...n){const{className:i,elementId:s,coords:o,...a}=this.props,l={className:fre(...n,this.getSelectionClasses(),i)};return s&&(l["data-element-id"]=s),o&&(l["data-coords"]=o),{...l,...a}}}class eD extends zZt{constructor(n,i){super(n,i),this.state={}}render(){const{children:n}=this.props;return qy(J(1,"td",null,n,0,{...this.getRenderProps("cell")}))}}function HZt(t){const{row:n}=t,{id:i,description:s}=n.businessObject;return At(2,eD,{className:"annotation",elementId:i,children:s||"-"})}function ZRe(t){t.onGetComponent("cell",({cellType:n})=>"after-label-cells"===n?KRe:"after-rule-cells"===n?HZt:void 0)}ZRe.$inject=["components"];const UZt={__init__:["annotationsProvider"],annotationsProvider:["type",ZRe]};function tD(t,n){return Ce({id:t.id,type:t.$type,businessObject:t},n)}const qZt={__depends__:[{__depends__:[nl],tableImporter:["type",(()=>{class t{constructor(i,s,o){this._elementFactory=i,this._eventBus=s,this._sheet=o}add(i){let s;if(Je(i,"dmn:DecisionTable"))s=this._elementFactory.createRoot(tD(i)),this._sheet.setRoot(s);else if(Je(i,"dmn:InputClause"))s=this._elementFactory.createCol(tD(i)),this._sheet.addCol(s);else if(Je(i,"dmn:OutputClause"))s=this._elementFactory.createCol(tD(i)),this._sheet.addCol(s);else if(Je(i,"dmn:DecisionRule")){i.inputEntry||(i.inputEntry=[]),i.outputEntry||(i.outputEntry=[]);const o=[...i.inputEntry,...i.outputEntry].map(a=>this._elementFactory.createCell(tD(a)));s=this._elementFactory.createRow(Ce(tD(i),{cells:o})),this._sheet.addRow(s)}return this._eventBus.fire("dmnElement.added",{element:s}),s}}return t.$inject=["elementFactory","eventBus","sheet"],t})()]},HRe]};class WZt extends yn{constructor(n,i){super(n,i),_2(this,JP),this._sheet=i.injector.get("sheet"),this._changeSupport=i.changeSupport}onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){const n=this._sheet.getRoot();this._changeSupport.onElementsChanged(n.id,this.onElementsChanged)}componentWillUnmount(){const n=this._sheet.getRoot();this._changeSupport.offElementsChanged(n.id,this.onElementsChanged)}render(){const n=this._sheet.getRoot();if(!Je(n,"dmn:DMNElement"))return null;const i=wc(n),s=i.input,o=i.output;return J(1,"thead",null,J(1,"tr",null,[J(1,"th","index-column"),this.slotFills({type:"cell",context:{cellType:"before-label-cells"}}),s&&s.map((a,l)=>this.slotFill({type:"cell",context:{cellType:"input-header",input:a,index:l,inputsLength:s.length,width:a.width||"192px"},key:a.id},GZt)),o.map((a,l)=>this.slotFill({type:"cell",context:{cellType:"output-header",output:a,index:l,outputsLength:o.length},key:a.id},KZt)),this.slotFills({type:"cell",context:{cellType:"after-label-cells"}})],0),2)}}function GZt(t,n){const{input:i,className:s,index:o}=t,{label:a,inputExpression:l,inputValues:c}=i,u=n.injector.get("translate");return J(1,"th",(s||"")+" input-cell",[J(1,"div","clause",u(0===o?"When":"And"),0),a?J(1,"div","input-label",a,0,{title:u("Input label: ")+a}):J(1,"div","input-expression",l.text,0,{title:u("Input expression: ")+l.text}),J(1,"div","input-variable",c&&c.text||l.typeRef,0,{title:u(c&&c.text?"Input values":"Input type")})],0,{"data-col-id":i.id},i.id)}function KZt(t,n){const{output:i,className:s,index:o}=t,{label:a,name:l,outputValues:c,typeRef:u}=i,d=n.injector.get("translate");return J(1,"th",(s||"")+" output-cell",[J(1,"div","clause",d(0===o?"Then":"And"),0),a?J(1,"div","output-label",a,0,{title:d("Output label")}):J(1,"div","output-name",l,0,{title:d("Output name")}),J(1,"div","output-variable",c&&c.text||u,0,{title:d(c&&c.text?"Output values":"Output type")})],0,null,i.id)}function JRe(t){t.onGetComponent("table.head",()=>WZt)}JRe.$inject=["components"];const YZt={__init__:["decisionTableHeadProvider"],decisionTableHeadProvider:["type",JRe]};let XZt=(()=>{class t extends yn{constructor(i,s){super(i,s),this._translate=s.injector.get("translate"),Hl(this)}render(){const i=this.sheet.getRoot();if(!Je(i,"dmn:DMNElement"))return null;const{name:s}=i.businessObject.$parent,o=this.components.getComponent("hit-policy")||QZt;return J(1,"div","decision-table-properties",[J(1,"div","decision-table-name",s,0,{title:this._translate("Decision name: ")+s}),J(1,"div","decision-table-header-separator"),At(2,o)],4)}}return t.$inject=["sheet","components"],t})();function QZt(){return null}const JZt={__init__:["decisionTableProperties"],decisionTableProperties:["type",(()=>{class t{constructor(i){i.onGetComponent("table.before",500,()=>XZt)}}return t.$inject=["components"],t})()]};class eJt extends yn{render(){const{row:n,rowIndex:i}=this.props,{components:s}=this.context,o=s.getComponents("cell-inner",{cellType:"rule-index",row:n,rowIndex:i});return J(1,"td","rule-index",[o&&o.map(a=>At(2,a,{row:n,rowIndex:i})),i+1],0,{"data-element-id":n.id,"data-row-id":n.id})}}const tJt={__init__:["decisionRuleIndices"],decisionRuleIndices:["type",(()=>{class t{constructor(i){i.onGetComponent("cell",({cellType:s})=>{if("before-rule-cells"===s)return eJt})}}return t.$inject=["components"],t})()]},nJt=[{label:"FEEL",value:"feel"}],Ky={__init__:["expressionLanguages"],expressionLanguages:["type",(()=>{class t{constructor(i){this._injector=i;const s=i.get("config.expressionLanguages")||{};this._config={options:nJt,defaults:{editor:"feel"}},s.options&&(this._config.options=s.options);const o=this._getLegacyDefaults();Ce(this._config.defaults,o,s.defaults)}getDefault(i){const{defaults:s}=this._config;return this._getLanguageByValue(s[i]||s.editor)||this.getAll()[0]}getLabel(i){const s=this._getLanguageByValue(i);return s?s.label:i}getAll(){return this._config.options}_getLegacyDefaults(){const i={},s=this._injector,o=s.get("config.defaultInputExpressionLanguage"),a=s.get("config.defaultOutputExpressionLanguage");return o&&(i.inputCell=o),a&&(i.outputCell=a),i}_getLanguageByValue(i){return Gt(this.getAll(),s=>i===s.value)}}return t.$inject=["injector"],t})()]};class rJt extends yn{render({rows:n,cols:i}){const{components:s}=this.context;return J(1,"tbody",null,n.map((o,a)=>{const l=s.getComponent("row",{rowType:"rule"});return l&&At(2,l,{row:o,rowIndex:a,cols:i},o.id)}),0)}}class iJt extends yn{constructor(n,i){super(n,i),_2(this,JP)}render(){const{row:n,rowIndex:i,cols:s}=this.props,{cells:o}=n;return J(1,"tr",null,[this.slotFills({type:"cell",context:{cellType:"before-rule-cells",row:n,rowIndex:i}}),o.map((a,l)=>this.slotFill({type:"cell",context:{cellType:"rule",cell:a,rowIndex:i,colIndex:l},key:a.id,row:n,col:s[l]})),this.slotFills({type:"cell",context:{cellType:"after-rule-cells",row:n,rowIndex:i}})],0)}}class sJt extends yn{render(){const{cell:n,row:i,col:s}=this.props;return Je(n,"dmn:UnaryTests")?At(2,eD,{className:"input-cell",elementId:n.id,"data-row-id":i.id,"data-col-id":s.id,children:n.businessObject.text}):At(2,eD,{className:"output-cell",elementId:n.id,"data-row-id":i.id,"data-col-id":s.id,children:n.businessObject.text})}}const e9e={__depends__:[Ky],__init__:["decisionRules"],decisionRules:["type",(()=>{class t{constructor(i){i.onGetComponent("table.body",()=>rJt),i.onGetComponent("row",({rowType:s})=>{if("rule"===s)return iJt}),i.onGetComponent("cell",({cellType:s})=>{if("rule"===s)return sJt})}}return t.$inject=["components"],t})()]},hre=[{label:"Unique",value:{hitPolicy:"UNIQUE",aggregation:void 0},explanation:"No overlap is possible and all rules are disjoint. Only a single rule can be matched"},{label:"First",value:{hitPolicy:"FIRST",aggregation:void 0},explanation:"Rules may overlap. The first matching rule will be chosen"},{label:"Priority",value:{hitPolicy:"PRIORITY",aggregation:void 0},explanation:"Rules may overlap. The one with the highest priority will be chosen"},{label:"Any",value:{hitPolicy:"ANY",aggregation:void 0},explanation:"Rules may overlap. Their output have to match"},{label:"Collect",value:{hitPolicy:"COLLECT",aggregation:void 0},explanation:"Collects the values of all matching rules"},{label:"Collect (Sum)",value:{hitPolicy:"COLLECT",aggregation:"SUM"},explanation:"Collects the values of all matching rules and sums up to a single value"},{label:"Collect (Min)",value:{hitPolicy:"COLLECT",aggregation:"MIN"},explanation:"Collects the values of all matching rules and uses the lowest value"},{label:"Collect (Max)",value:{hitPolicy:"COLLECT",aggregation:"MAX"},explanation:"Collects the values of all matching rules and uses the highest value"},{label:"Collect (Count)",value:{hitPolicy:"COLLECT",aggregation:"COUNT"},explanation:"Collects the values of all matching rules and counts the number of them"},{label:"Rule order",value:{hitPolicy:"RULE ORDER",aggregation:void 0},explanation:"Collects the values of all matching rules in rule order"},{label:"Output order",value:{hitPolicy:"OUTPUT ORDER",aggregation:void 0},explanation:"Collects the values of all matching rules in decreasing output priority order"}];let oJt=(()=>{class t extends yn{constructor(i,s){super(i,s),this._translate=s.injector.get("translate"),Hl(this)}getRoot(){return this.sheet.getRoot()}render(){const s=this.getRoot().businessObject,{aggregation:o,hitPolicy:a}=s,l=Gt(hre,c=>function aJt(t,n){return t.hitPolicy===n.hitPolicy&&t.aggregation===n.aggregation}(c.value,{aggregation:o,hitPolicy:a}));return J(1,"div","hit-policy header",[J(1,"label","dms-label",this._translate("Hit policy:"),0),J(1,"span","hit-policy-value",this._translate(l.label),0)],4,{title:this._translate(l.explanation)})}}return t.$inject=["sheet"],t})();function t9e(t){t.onGetComponent("hit-policy",()=>oJt)}t9e.$inject=["components"];const lJt={__init__:["hitPolicyProvider"],hitPolicyProvider:["type",t9e]};class cJt extends yn{constructor(n,i){super(n,i);const{injector:s}=i;this._translate=s.get("translate"),this._eventBus=s.get("eventBus")}onClick=()=>{this._eventBus.fire("showDrd")};render(){return J(1,"div","view-drd",J(1,"button","view-drd-button",this._translate("View DRD"),0,{type:"button",onClick:this.onClick}),2,null,null,n=>this.node=n)}}function n9e(t){const{businessObject:n}=t;return n?n.$parent.$parent:void 0}const dJt={__init__:["viewDrd"],viewDrd:["type",(()=>{class t{constructor(i,s,o,a){this._injector=o,this._sheet=a,i.onGetComponent("table.before",()=>{if(this.canViewDrd())return cJt}),s.on("showDrd",()=>{const l=o.get("_parent",!1),u=n9e(a.getRoot());if(!u)return;const d=l.getView(u);l.open(d)})}canViewDrd(){const i=this._injector.get("_parent",!1);if(!i)return!1;const o=n9e(this._sheet.getRoot());return!!i.getView(o)}}return t.$inject=["components","eventBus","injector","sheet"],t})()]},pJt={__init__:["poweredBy"],poweredBy:["type",(()=>{class t{constructor(i){i.onGetComponent("table.before",()=>Kne)}}return t.$inject=["components"],t})()]};class nD extends LZt{constructor(n={}){const i=nD._createContainer();super(Ce(n,{renderer:{container:i}})),this._container=i}open(n){var i=this;return new Promise((s,o)=>{var a;try{return i._decision&&i.clear(),i._decision=n,function BZt(t,n,i){const s=t.get("tableImporter"),o=t.get("eventBus"),a=t.get("sheet");let c,l=t.get("modeling",!1),u=[];o.fire("import.render.start",{decision:n});try{!function d(p){new FZt({create:(m,y,E,_)=>s.create(m,y,E,_),table:m=>s.add(m),element:(m,y,E)=>s.add(m,y,E),error(m,y){u.push({message:m,context:y})}},{canAddMissingEntries:l}).handleDecision(p)}(n)}catch(p){c=p}o.fire("import.render.complete",{error:c,warnings:u}),o.fire("elements.changed",{elements:[a.getRoot()]}),i(c,u)}(i,n,function(l,c){l?(l.warnings=c||[],o(l)):s({warnings:c||[]})})}catch(l){a=l}a?(a.warnings=a.warnings||[],o(a)):s({warnings:[]})})}_init(n){let{modules:i,additionalModules:s,...o}=n,a=i||this.getModules();return{modules:[pJt,...a,...s||[],{decisionTable:["value",this]}],config:o}}on(n,i,s,o){return this.get("eventBus").on(n,i,s,o)}off(n,i){this.get("eventBus").off(n,i)}_emit(n,i){return this.get("eventBus").fire(n,i)}attachTo(n){if(!n)throw new Error("parentNode required");this.detach(),n.appendChild(this._container),this._emit("attach",{})}detach(){const n=this._container;n.parentNode&&(this._emit("detach",{}),el(n))}destroy(){super.destroy(),this.detach()}getModules(){return nD._getModules()}static _getModules(){return[UZt,qZt,nl,YZt,JZt,tJt,e9e,lJt,dJt]}static _createContainer(){return Xr('<div class="dmn-decision-table-container"></div>')}}let fJt=(()=>{class t extends yn{constructor(i,s){super(i,s),Hl(this),this.addRule=this.addRule.bind(this)}componentWillMount(){this._eventBus=this.context.injector.get("eventBus")}handleClick=i=>{i.stopPropagation(),this.addRule(i.target.dataset.colIndex)};addRule(i){this._eventBus.fire("addRule",{colIndex:i})}render(){const{cols:i}=this.props,s=[J(1,"td","add-rule-add",J(1,"button","dmn-icon-plus action-icon",null,1,{title:this.translate("Add rule")}),2)],{businessObject:o}=this.sheet.getRoot();(!o.input||!o.input.length)&&s.push(J(1,"td","input-cell",Vr("-"),2));for(let a=0;a<i.length+1;a++){let l="add-rule";const c=i[a]&&i[a].businessObject;let u="";c?(c.$instanceOf("dmn:InputClause")&&(l+=" input-cell",u="-"),c.$instanceOf("dmn:OutputClause")&&(l+=" output-cell")):l+=" annotation",s.push(J(1,"td",l,u,0,{"data-col-index":a}))}return J(1,"tfoot","actionable add-rule",J(1,"tr",null,s,0),2,{onClick:this.handleClick})}}return t.$inject=["sheet","translate"],t})(),hJt=(()=>{class t{constructor(i,s,o,a){i.onGetComponent("table.foot",()=>fJt),o.on("addRule",(l,c)=>{const u=s.trigger("addRule"),d=c.colIndex;a.select(u.cells[d]?u.cells[d]:u.cells[0])})}}return t.$inject=["components","editorActions","eventBus","selection"],t})();const SF={__init__:["selection","selectionBehavior"],selection:["type",(()=>{class t{constructor(i,s,o){this._elementRegistry=i,this._eventBus=s,this._renderer=o,this._selection=void 0,s.on("diagram.clear",()=>{this._selection=void 0})}select(i){Or(i)&&(i=this._elementRegistry.get(i));const s=this._selection;s!==i&&(this._selection=i,this._eventBus.fire("selection.changed",{oldSelection:s,selection:i}))}deselect(){const i=this._selection;this._selection=void 0,this._eventBus.fire("selection.changed",{oldSelection:i,selection:this._selection})}get(){return this._selection}hasSelection(){return!!this._selection}}return t.$inject=["elementRegistry","eventBus","renderer"],t})()],selectionBehavior:["type",(()=>{class t{constructor(i,s,o,a){this._elementRegistry=i,this._renderer=o,this._selection=a,s.on(["cell.click","cell.contextmenu"],({id:l})=>{const c=i.get(l);c&&a.select(c)}),s.on("row.remove",({row:l})=>{const c=a.get();c&&l===c.row&&a.deselect()}),s.on("col.remove",({col:l})=>{const c=a.get();c&&l===c.col&&a.deselect()})}}return t.$inject=["elementRegistry","eventBus","renderer","selection"],t})()]},r9e=["click","dblclick","contextmenu","mousedown","mouseup","mouseenter","mouseleave","mouseout","mouseover","mousemove","focusin","focusout","drag","dragstart","dragend","dragover","dragenter","dragleave","drop"],mre={__init__:["interactionEvents"],interactionEvents:["type",(()=>{class t{constructor(i,s){(function mJt(t,n,i){n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i})(this,"_handleEvent",o=>{const{target:a,type:l}=o,c=function yJt(t){return Vc(t,"[data-element-id]",!0)}(a);if(!c)return;const u=c.getAttribute("data-element-id");if(u){const d=this._eventBus.createEvent({id:u,event:o,node:c,target:c});this._eventBus.fire(`cell.${l}`,d),d.defaultPrevented&&o.preventDefault(),d.cancelBubble&&o.stopPropagation()}}),this._eventBus=s,this._container=i.container,s.on("table.init",()=>{this._addEventListeners(r9e)}),s.on("table.destroy",()=>{this._removeEventListeners(r9e)})}_addEventListeners(i){const s=this._container;i.forEach(o=>{s.addEventListener(o,this._handleEvent)})}_removeEventListeners(i){const s=this._container;i.forEach(o=>{s.removeEventListener(o,this._handleEvent)})}}return t.$inject=["config.renderer","eventBus"],t})()]};var vJt=V(3306),i9e=V.n(vJt),s9e=function bJt(t,n){return t^n},_Jt=/\b(Array|Date|Object|Math|JSON)\b/g,o9e=ia;function ia(t,n){if(!(this instanceof ia))return new ia(t,n);if(this.node=this.start=this.peeked=t,this.root=n,this.closingTag=!1,this._revisit=!0,this._selects=[],this._rejects=[],t&&this.higher(t))throw new Error("root must be a parent or ancestor to node")}function a9e(t,n){var i="nextSibling"==t;return function(o,a,l){o=this.compile(o),a=a&&a>0?a:1;for(var c=this.node,u=this.closingTag,d=this._revisit;c;){if(s9e(i,u)&&c[n])c=c[n],u=!i;else if(1==c.nodeType&&!c[n]&&s9e(i,u)){if(u=i,!d)continue}else if(c[t])c=c[t],u=!i;else if(c=c.parentNode,u=i,!d)continue;if(!c||this.higher(c,this.root))break;if(o(c)&&this.selects(c,l)&&this.rejects(c,l)){if(--a)continue;return l||(this.node=c),this.closingTag=u,c}}return null}}ia.prototype.reset=function(t){return this.node=t||this.start,this},ia.prototype.revisit=function(t){return this._revisit=t??!0,this},ia.prototype.opening=function(){return 1==this.node.nodeType&&(this.closingTag=!1),this},ia.prototype.atOpening=function(){return!this.closingTag},ia.prototype.closing=function(){return 1==this.node.nodeType&&(this.closingTag=!0),this},ia.prototype.atClosing=function(){return this.closingTag},ia.prototype.next=a9e("nextSibling","firstChild"),ia.prototype.previous=ia.prototype.prev=a9e("previousSibling","lastChild"),ia.prototype.select=function(t){return t=this.compile(t),this._selects.push(t),this},ia.prototype.selects=function(t,n){var i=this._selects,s=i.length;if(!s)return!0;for(var o=0;o<s;o++)if(i[o].call(this,t,n))return!0;return!1},ia.prototype.reject=function(t){return t=this.compile(t),this._rejects.push(t),this},ia.prototype.rejects=function(t,n){var i=this._rejects,s=i.length;if(!s)return!0;for(var o=0;o<s;o++)if(i[o].call(this,t,n))return!1;return!0},ia.prototype.higher=function(t){var n=this.root;if(!n)return!1;for(t=t.parentNode;t&&t!=n;)t=t.parentNode;return t!=n},ia.prototype.compile=function(t){switch(typeof t){case"number":return function(n){return t==n.nodeType};case"string":return new Function("node","return "+function(t,n){var i=function CJt(t){for(var n=[],i=0;i<t.length;i++)~n.indexOf(t[i])||n.push(t[i]);return n}(function xJt(t){return t.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(_Jt,"").match(/[a-zA-Z_]\w*/g)||[]}(t));return n&&"string"==typeof n&&(n=function SJt(t){return function(n){return t+n}}(n)),n?function wJt(t,n,i){return t.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g,function(o){return"("==o[o.length-1]||~n.indexOf(o)?i(o):o})}(t,i,n):i}(t,"node."));case"function":return t;default:return function(){return!0}}},ia.prototype.peak=ia.prototype.peek=function(t,n){return 1==arguments.length&&(n=t,t=!0),(n=n??1)?n>0?this.next(t,n,!0):this.prev(t,Math.abs(n),!0):this.node},ia.prototype.use=function(t){return t(this),this};var T5=window.getSelection();function l9e(t){T5.removeAllRanges(),T5.addRange(t)}function gre(t){if(!function TJt(t){if(!T5.rangeCount)return null;var n=T5.focusNode;return OF(n)&&(n=n.parentNode),t==n||t.contains(n)}(t))return null;var u,p,n=T5.getRangeAt(0),i=n.startContainer,s=n.endContainer,o=n.startOffset,a=n.endOffset,l=o9e(t.firstChild,t),c=l.node,d=!1,f=0;function h(y,E){return 1===arguments.length&&(E=y),y.parentNode===s&&E==s.childNodes[a]}function m(y,E){return 1===arguments.length&&(E=y),y.parentNode===i&&E==i.childNodes[o]}for(;c&&(m(c)&&(p=f),!h(c));){if(d||(c9e(c)||u&&u.nextSibling==c&&(u9e(c)||d9e(c)))&&f++,OF(c)){if(i===c&&(p=f+o),s===c){f+=a;break}f+=c.textContent.length}if((OF(c)||d)&&(m(c,c.nextSibling)&&(p=f),h(c,c.nextSibling)))break;u=c,c=l.next(),d=l.closingTag}return{start:typeof p>"u"?f:p,end:f}}function OF(t){return 3===t.nodeType}function c9e(t){return 1===t.nodeType&&"BR"===t.nodeName}function u9e(t){return 1===t.nodeType&&"DIV"===t.nodeName}function d9e(t){return 1===t.nodeType&&"P"===t.nodeName}function TF(t){return t.getAttribute("data-element-id")}function P5(t,n){return $n(`[data-element-id="${i9e()(t)}"]`,n)}function yre(t){return Vc(t,"[data-element-id]",!0)}function p9e(t){const n="[contenteditable]";return P7(t,n)?t:$n(n,t)}const LJt={above:!0,below:!0,right:!0,left:!0};function f9e(t,n,i,s,o){const{container:a}=t;let l=null;function c(h,m){n.fire("selection."+h+".changed",m),n.fire("cellSelection.changed",{elementId:h,selection:m})}function f(h,m=!0){l!==h&&c(l,{selected:!1,focussed:!1}),l=h,h&&c(h,{selected:!0,focussed:m}),h?s.select(h):s.deselect()}n.on("cell.click",500,function u(h){const m=h.target;if(function RJt(t){return Vc(t,".no-deselect",!0)}(m))return;const y=yre(m);f(y&&TF(y),!h.defaultPrevented)}),n.on("cell.focusin",500,function d(h){const m=TF(h.target),y=!h.defaultPrevented;return h.stopPropagation(),f(m,y)}),n.on("cell.focusout",500,function p(h){c(TF(h.target),{focussed:!1})}),n.on("cellSelection.changed",function(h){const{elementId:m,selection:y}=h,E=P5(m,a);y.focussed&&E&&function NJt(t){const n=p9e(t);if(!n||!document.body.contains(n)||document.activeElement===n)return;n.focus();const i=gre(n);(!i||0===i.end)&&window.getSelection().setPosition(n.firstChild,n.firstChild.length)}(E)}),n.on("selection.changed",function(h){const{selection:m,oldSelection:y}=h;var E=m&&m.id,_=y&&y.id;E&&E!==l?f(m.id):_&&_===l&&f()}),this.isCellSelected=function(){return!!l},this.getCellSelection=function(){return l},this.selectCell=function(h){if(!l)return;if(!(h in LJt))throw new Error("direction must be any of { above, below, left, right }");const y=function AJt(t){const n=t.getAttribute("data-coords");if(!n)return null;const[i,s]=n.split(":");return{row:i,col:s}}(P5(l,a));if(!y)return!1;const E=function FJt(t,n){const{row:i,col:s}=t;if("above"===n||"below"===n){const o=parseInt(i,10);return isNaN(o)?t:{col:s,row:"above"===n?o-1:o+1}}if("left"===n||"right"===n){const o=parseInt(s,10);return isNaN(o)?t:{row:i,col:"left"===n?o-1:o+1}}throw new Error("invalid direction <"+n+">")}(y,h),_=function IJt(t,n){const i=`${t.row}:${t.col}`;return $n(`[data-coords="${i9e()(i)}"]`,n)}(E,a);if(!_)return!1;const S=TF(_);return S&&f(S,{focussed:!0,selected:!0}),!0},n.on("contextMenu.close",function(){if(l)return f(l)})}f9e.$inject=["config.renderer","eventBus","sheet","selection","elementRegistry"];const PF={__depends__:[mre,SF],__init__:["cellSelection"],cellSelection:["type",f9e]},_re={__depends__:[{__depends__:[ep]}],__init__:["decisionTableModelingRules"],decisionTableModelingRules:["type",(()=>{class t extends Hc{constructor(i,s){super(i),this._sheet=s}init(){this.addRule("col.move",2e3,({col:i,index:s})=>{const{businessObject:o}=this._sheet.getRoot(),{input:a}=o;return zi(i)?s<a.length:s>=a.length}),this.addRule("col.remove",2e3,({col:i})=>{const{cols:s}=this._sheet.getRoot();return!ml(i)||s.filter(o=>ml(o)).length>1}),this.addRule("paste",2e3,({data:i,target:s})=>{if(!i||!s)return!1;const{root:o}=i;return s instanceof Lu?this.canPasteRows(o):s instanceof Fu&&this.canPasteCols(o,s)})}canPasteRows(i){const{cols:s}=this._sheet.getRoot();return yu(i,o=>"row"===o.type&&o.cells.length===s.length&&yu(o.cells,(a,l)=>zi(s[l])?"dmn:UnaryTests"===a.businessObject.$type:"dmn:LiteralExpression"===a.businessObject.$type))}canPasteCols(i,s){const{rows:o}=this._sheet.getRoot();return yu(i,a=>"col"===a.type&&a.cells.length===o.length&&(zi(s)?"dmn:InputClause"===a.businessObject.$type:"dmn:OutputClause"===a.businessObject.$type))}}return t.$inject=["eventBus","sheet"],t})()]};let BJt=(()=>{class t{constructor(i,s,o){this._clipboard=i,this._modeling=s,this._sheet=o}execute(i){let{data:s}=i;return i.oldData=this._clipboard.get(),this._clipboard.set(s),this._sheet.getRoot()}postExecute(i){let{elements:s}=i;s.forEach(o=>{o instanceof Lu?this._modeling.removeRow(o):o instanceof Fu&&this._modeling.removeCol(o)})}revert(i){const{oldData:s}=i;return this._clipboard.set(s),this._sheet.getRoot()}}return t.$inject=["clipboard","modeling","sheet"],t})();const $Jt=[function HJt(t,n,i,s){var o=i,a={...n,type:qJt(t)};if(t instanceof Lu||t instanceof Fu){let l=s(t.cells,o);a.cells=l.root,o=l.descriptorCache}return{root:a,descriptorCache:o}},function UJt(t,n,i){var s=t.businessObject;if(!s)return{root:n,descriptorCache:i};var o=xre(s,i);return{root:{...n,businessObject:o.root},descriptorCache:o.descriptorCache}}],VJt=[function YJt(t,n,i){var s=t.root.businessObject;if(!s)return{root:n,reviveCache:i};var o=wre({root:s,descriptorCache:t.descriptorCache},i);return{root:{...n,businessObject:o.root},reviveCache:o.reviveCache}},function KJt(t,n,i,s){var o=t.root,a=t.descriptorCache,l={...n};if(n.businessObject&&n.businessObject.id&&(l.id=n.businessObject.id),"row"===o.type||"col"===o.type){let d=s({root:o.cells,descriptorCache:a},i);l.cells=d.root,i=d.reviveCache}var u=new(function XJt(t){switch(t.type){case"row":return Lu;case"cell":return xF;case"col":return Fu;default:throw new Error("unknown element type: #"+t.type)}}(o))(l);return u instanceof Lu?u.cells.forEach(d=>{d.row=u}):u instanceof Fu&&u.cells.forEach(d=>{d.col=u}),{root:u,reviveCache:i}}];function Ere(t,n,i){return i=i||$Jt,n=n||{},Xt(t)?function jJt(t,n,i){return Ts(t,(s,o)=>{var a=s.descriptorCache,l=s.root;let{root:c,descriptorCache:u}=h9e(o,a,i);return{root:[...l,c],descriptorCache:{...a,...u}}},{root:[],descriptorCache:n})}(t,n,i):h9e(t,n,i)}function h9e(t,n,i){var s=t.id,a=n.elements||{},l=a[s];if(l)return{root:l,descriptorCache:n};let c=function zJt(t,n,i,s){function o(a,l){return Ere(a,l,i)}return Ts(i,function(a,l){return l(t,a.root,a.descriptorCache,o)},{root:n,descriptorCache:s})}(t,{id:s},i,{...n,elements:a});return{root:c.root,descriptorCache:{...c.descriptorCache,elements:{...c.descriptorCache.elements,[s]:c.root}}}}function qJt(t){if(t instanceof Lu)return"row";if(t instanceof Fu)return"col";if(t instanceof xF)return"cell";throw new Error("cannot deduce element type: #"+t.id)}function xre(t,n){var i,s,o=t.id;if(o&&(s=(i=n.boCache||{})[o]))return{root:s,descriptorCache:n};var a={$type:t.$type};return o&&(a.id=o,i={...i,[o]:a},n={...n,boCache:i}),t.$descriptor.properties.forEach(function(l){var c=t[l.name];if(c){if(Xt(c)&&(c=c.map(u=>{var d=xre(u,n);return n=d.descriptorCache,d.root})),c.$type){let u=xre(c,n);n=u.descriptorCache,c=u.root}a[l.name]=c}}),{root:a,descriptorCache:n}}function m9e(t,n,i){return i=i||VJt,n=n||{},Xt(t.root)?function WJt(t,n,i){let o=t.descriptorCache;return Ts(t.root,(a,l)=>{var c=a.reviveCache,u=a.root;let{root:d,reviveCache:p}=g9e({root:l,descriptorCache:o},c,i);return{root:[...u,d],reviveCache:p}},{root:[],reviveCache:n})}(t,n,i):g9e(t,n,i)}function g9e(t,n,i){var o=t.root.id,a=n.elements||{},l=a[o];if(l)return{root:l,reviveCache:n};let u=function GJt(t,n,i,s){function o(a,l){return m9e(a,l,i)}return Ts(i,function(a,l){return l(t,a.root,a.reviveCache,o)},{root:n,reviveCache:s})}(t,{id:o},i,{...n,elements:a});return{root:u.root,reviveCache:{...u.reviveCache,elements:{...u.reviveCache.elements,[o]:u.root}}}}function wre(t,n){var i=t.root,s=i.id;let o,a;if(s&&(o=n.boCache||{},a=o[s],a))return{root:a,reviveCache:n};var l={};vu(i).forEach(d=>{let p,f;i[d].$type?(f=wre({root:i[d]},n),p=f.root,o=(n=f.reviveCache).boCache||{}):p=Xt(i[d])?i[d].map(h=>(f=wre({root:h},n),o=(n=f.reviveCache).boCache||{},f.root)):i[d],l[d]=p});const c=l.$type;delete l.$type,(!n._keepIds||n._model.ids.assigned(l.id))&&delete l.id;var u=n._dmnFactory.create(c,l);return fe(l,d=>{d.$type&&(d.$parent=u),Xt(d)&&d.forEach(p=>p.$parent=u)}),s&&(o={...o,[s]:u},n={...n,boCache:o}),{root:u,reviveCache:n}}let QJt=(()=>{class t{constructor(i,s,o,a,l,c,u,d){this._clipboard=i,this._dmnFactory=s,this._elementFactory=o,this._elementRegistry=a,this._eventBus=l,this._model=c,this._modeling=u,this._sheet=d}postExecute(i){let{element:s,after:o}=i;const a=this._clipboard.get();if(!a)throw new Error("missing clipboard data");const l=this._sheet.getRoot(),c=m9e(a.elements,{_dmnFactory:this._dmnFactory,_keepIds:a.keepIds,_model:this._model}).root;if(s instanceof Lu){let u=l.rows.indexOf(s);if(-1===u)return;c.forEach(d=>{o&&u++,this._modeling.addRow(d,u)})}else if(s instanceof Fu){let u=l.cols.indexOf(s);if(-1===u)return;c.forEach(d=>{o&&u++,this._modeling.addCol(d,u)})}return i.oldElements=this._clipboard.get(),this._sheet.getRoot()}revert(i){}}return t.$inject=["clipboard","dmnFactory","elementFactory","elementRegistry","eventBus","moddle","modeling","sheet"],t})();const y9e={__depends__:[OW,_re],__init__:["copyCutPaste"],copyCutPaste:["type",(()=>{class t{constructor(i,s,o,a,l,c){this._clipboard=i,this._commandStack=s,this._eventBus=o,this._modeling=a,this._sheet=l,this._rules=c,s.registerHandler("cut",BJt),s.registerHandler("paste",QJt)}copy(i){Xt(i)||(i=[i]);const s={elements:Ere(i)};this._eventBus.fire("copyCutPaste.copy",{data:s}),this._clipboard.set(s)}cut(i){Xt(i)||(i=[i]);const s={elements:Ere(i),keepIds:!0},o={elements:i,data:s};this._eventBus.fire("copyCutPaste.cut",{data:s}),this._commandStack.execute("cut",o)}pasteBefore(i){return this._paste(i,{before:!0})}pasteAfter(i){return this._paste(i,{after:!0})}_paste(i,s){const o=this._clipboard.get();return o?!!this._rules.allowed("paste",{data:o.elements,target:i})&&(this._commandStack.execute("paste",{element:i,...s}),this._clipboard.clear(),!0):void 0}pasteAt(i){}}return t.$inject=["clipboard","commandStack","eventBus","modeling","sheet","rules"],t})()]};let ZJt=(()=>{class t{constructor(i,s,o,a,l,c){const u={addRule:()=>o.addRow({type:"dmn:DecisionRule"}),addRuleAbove(d){let p=d&&d.rule;if(!p&&!a.hasSelection())return;p=p||a.get().row;const h=c.getRoot().rows.indexOf(p);return-1!==h?o.addRow({type:"dmn:DecisionRule"},h):void 0},addRuleBelow(d){let p=d&&d.rule;if(!p&&!a.hasSelection())return;p=p||a.get().row;const h=c.getRoot().rows.indexOf(p);return-1!==h?o.addRow({type:"dmn:DecisionRule"},h+1):void 0},removeRule(d){let p=d&&d.rule;!p&&!a.hasSelection()||(p=p||a.get().row,o.removeRow(p))},addInput(){const p=c.getRoot().businessObject,{input:f}=p;return o.addCol({type:"dmn:InputClause"},f?f.length:0)},addInputLeft(d){let p=d&&d.input;if(!p&&!a.hasSelection())return;p=p||a.get().col;const h=c.getRoot().cols.indexOf(p);return-1!==h?o.addCol({type:"dmn:InputClause"},h):void 0},addInputRight(d){let p=d&&d.input;if(!p&&!a.hasSelection())return;p=p||a.get().col;const h=c.getRoot().cols.indexOf(p);return-1!==h?o.addCol({type:"dmn:InputClause"},h+1):void 0},removeInput(d){let p=d&&d.input;!p&&!a.hasSelection()||(p=p||a.get().col,o.removeCol(p))},addOutput(){const p=c.getRoot().businessObject,f=p.get("input"),h=p.get("output");return o.addCol({type:"dmn:OutputClause"},f.length+h.length)},addOutputLeft(d){let p=d&&d.output;if(!p&&!a.hasSelection())return;p=p||a.get().col;const h=c.getRoot().cols.indexOf(p);return-1!==h?o.addCol({type:"dmn:OutputClause"},h):void 0},addOutputRight(d){let p=d&&d.output;if(!p&&!a.hasSelection())return;p=p||a.get().col;const h=c.getRoot().cols.indexOf(p);return-1!==h?o.addCol({type:"dmn:OutputClause"},h+1):void 0},removeOutput(d){let p=d&&d.output;!p&&!a.hasSelection()||(p=p||a.get().col,o.removeCol(p))},addClause(){if(!a.hasSelection())return;const d=a.get().col;return Je(d,"dmn:InputClause")?u.addInput({input:d}):Je(d,"dmn:OutputClause")?u.addOutput({output:d}):void 0},addClauseLeft(){if(!a.hasSelection())return;const d=a.get().col;return Je(d,"dmn:InputClause")?u.addInputLeft({input:d}):Je(d,"dmn:OutputClause")?u.addOutputLeft({output:d}):void 0},addClauseRight(){if(!a.hasSelection())return;const d=a.get().col;return Je(d,"dmn:InputClause")?u.addInputRight({input:d}):Je(d,"dmn:OutputClause")?u.addOutputRight({output:d}):void 0},removeClause(){if(!a.hasSelection())return;const d=a.get().col;return Je(d,"dmn:InputClause")?u.removeInput({input:d}):Je(d,"dmn:OutputClause")?u.removeOutput({output:d}):void 0},selectCellAbove:()=>l.selectCell("above"),selectCellBelow:()=>l.selectCell("below"),copy({element:d}){i.copy(d)},cut({element:d}){i.cut(d)},pasteBefore:({element:d})=>i.pasteBefore(d),pasteAfter:({element:d})=>i.pasteAfter(d)};s.register(u)}}return t.$inject=["copyCutPaste","editorActions","modeling","selection","cellSelection","sheet"],t})();const v9e="is not a registered action";function Cre(t,n){return new Error(t+" "+n)}const b9e={__depends__:[SF],__init__:["editorActions"],editorActions:["type",(()=>{class t{constructor(i,s,o,a){this._actions={undo(){i.undo()},redo(){i.redo()},select({cell:l}){a.select(l)},deselect(){a.deselect()},addRow({attrs:l,index:c}){o.addRow(l,c)},removeRow({row:l}){o.removeRow(l)},moveRow({row:l,index:c}){o.moveRow(l,c)},addCol({attrs:l,index:c}){o.addCol(l,c)},removeCol({col:l}){o.removeCol(l)},moveCol({col:l,index:c}){o.moveCol(l,c)}}}trigger(i,s){if(!this._actions[i])throw Cre(i,v9e);return this._actions[i](s)}register(i,s){if("string"==typeof i)return this._registerAction(i,s);fe(i,(o,a)=>{this._registerAction(a,o)})}_registerAction(i,s){if(this.isRegistered(i))throw Cre(i,"is already registered");this._actions[i]=s}unregister(i){if(!this.isRegistered(i))throw Cre(i,v9e);this._actions[i]=void 0}isRegistered(i){return!!this._actions[i]}}return t.$inject=["commandStack","eventBus","modeling","selection"],t})()]},D5={__depends__:[PF,y9e,b9e,SF],__init__:["decisionTableEditorActions"],decisionTableEditorActions:["type",ZJt]},ten={__depends__:[D5],__init__:["addRule"],addRule:["type",hJt]};var nen=V(2107),ren=V.n(nen),ien=V(3264),sen=V.n(ien);class k5 extends yn{constructor(n,i){super(n,i),this.state={},function len(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0}()&&(this.onInputIEPolyfill=s=>{var o=this.node.innerHTML;setTimeout(()=>{o!==this.node.innerHTML&&this.onInput(s)},0)})}componentWillUpdate(n,i){var s=this.node,o=i.focussed&&gre(s);this.selected=o&&{range:o,text:DF(s)}}componentDidUpdate(){var n=this.selected;if(!n)return;const i=n.range,s=n.text,o=this.node,a=DF(o);!function PJt(t,n){var i=function DJt(t,n){for(var d,i=n.start,s=n.end,o=document.createRange(),a=o9e(t.firstChild,t),l=a.node,c=!1,u=0;l;){if(u===i&&(c?o.setStartAfter(l):o.setStartBefore(l)),u===s)return c?o.setEndAfter(l):o.setEndBefore(l),o;if(c||(c9e(l)||l.previousSibling&&(u9e(l)||d9e(l)))&&u++,OF(l)){if(d=l.textContent.length,u<=i&&u+d>i&&o.setStart(l,i-u),u+d>s)return o.setEnd(l,s-u),o;u+=d}l=a.next(),c=a.closingTag}return u<=i&&(t.lastChild?o.setStartAfter(t.lastChild):o.setStart(t,0)),t.lastChild?o.setEndAfter(t.lastChild):o.setEnd(t,0),o}(t,n);l9e(i)}(o,a!==s?sen()(i,s,a):i)}onFocus=n=>{var i=this.props.onFocus;this.setState({focussed:!0}),"function"==typeof i&&i(n)};onBlur=n=>{const{onBlur:i,onChange:s,value:o}=this.props;if(this.setState({focussed:!1}),"function"==typeof s&&this.node){const a=DF(this.node);a!==o&&s(a)}"function"==typeof i&&i(n)};onkeydown=n=>{if(13===n.which){if(n.preventDefault(),this.props.ctrlForNewline&&!function cen(t){return t.metaKey||t.ctrlKey}(n)||this.props.singleLine)return;n.stopPropagation(),function aen(){var n=function OJt(){return T5}().getRangeAt(0);if(n){var i=n.cloneRange(),s=function oen(){return document.createElement("br")}();i.deleteContents(),i.insertNode(s),i.setStartAfter(s),i.setEndAfter(s),l9e(i)}}(),this.onInput(n)}};onInput=n=>{var i=this.props.onInput;"function"==typeof i&&i(DF(this.node))};onkeypress=n=>{this.onInputIEPolyfill&&this.onInputIEPolyfill(n)};onPaste=n=>{if(this.onInputIEPolyfill&&this.onInputIEPolyfill(n),this.props.singleLine){const i=(n.clipboardData||window.clipboardData).getData("text");document.execCommand("insertText",!1,i.replace(/\n/g," ")),n.preventDefault()}};getClassName(){const{className:n,placeholder:i,value:s}=this.props;return[n||"","content-editable",!s&&i?"placeholder":""].join(" ")}render(n){var{label:i,value:s,placeholder:o}=n;return s=ren()(s).replace(/\r?\n/g,"<br/>")+"<br/>",J(1,"div",this.getClassName(),null,1,{"aria-label":i,role:"textbox","aria-multiline":!this.props.singleLine,tabIndex:"0",contentEditable:"true",spellCheck:"false","data-placeholder":o||"",onInput:this.onInput,onkeypress:this.onkeypress,onPaste:this.onPaste,onFocus:this.onFocus,onBlur:this.onBlur,onkeydown:this.onkeydown,dangerouslySetInnerHTML:{__html:s}},null,a=>this.node=a)}}function DF(t){return t.innerText.replace(/\n$/,"")}class M5 extends yn{constructor(n,i){super(n,i),this.state={changing:!1,focussed:!1};const{injector:s}=i,o=s.get("debounceInput");this.inputChanged=o(a=>{const{onChange:l}=this.props;"function"==typeof l&&l(a);const c=this.state.changing;this.setState({changing:c!==a&&c})}),this.onInput=a=>{var c=(this.props.validate||function(){})(a);this.setState({changing:a,invalid:c}),c||this.inputChanged(a)}}onFocus=n=>{this.setState({focussed:!0});var{onFocus:i}=this.props;"function"==typeof i&&i(n)};onBlur=n=>{this.setState({focussed:!1});const{invalid:i}=this.state;i&&this.setState({changing:!1,invalid:!1});const{onBlur:s}=this.props;"function"==typeof s&&s(n)};getClassName(){var{className:n,value:i}=this.props,{changing:s,focussed:o,invalid:a}=this.state;return n+=" editable",o&&(n+=" focussed"),a&&(n+=" invalid"),!i&&!s&&(n+=" empty"),n}getDisplayValue(){var{value:n,placeholder:i}=this.props,{focussed:s,changing:o}=this.state;return"string"==typeof o&&(n=o),n||(n=s?"":i||""),n}getEditor(n={}){return At(2,k5,{className:n.className,ctrlForNewline:this.props.ctrlForNewline,label:this.props.label,onFocus:this.onFocus,onBlur:this.onBlur,onInput:this.onInput,value:this.getDisplayValue()})}}let uen=(()=>{class t extends yn{constructor(i,s){super(i,s),Hl(this)}componentWillMount(){const{row:i}=this.props;this.changeSupport.onElementsChanged(i.id,this.onElementsChanged)}componentWillUnmount(){const{row:i}=this.props;this.changeSupport.offElementsChanged(i.id,this.onElementsChanged)}onElementsChanged=()=>{this.forceUpdate()};setAnnotationValue=i=>{const{row:s}=this.props;this.modeling.editAnnotation(s.businessObject,i)};render(){const{row:i,rowIndex:s}=this.props,{description:o,id:a}=i.businessObject;return At(2,eD,{className:"annotation",onChange:this.setAnnotationValue,coords:`${s}:annotation`,value:o,elementId:a,"data-row-id":i.id,children:At(2,den,{label:this.translate("Annotation"),ctrlForNewline:!0,className:"annotation-editor",onChange:this.setAnnotationValue,value:o})})}}return t.$inject=["changeSupport","modeling","translate"],t})();class den extends M5{render(){return J(1,"div",this.getClassName(),this.getEditor(),0)}}function _9e(t){t.onGetComponent("cell",({cellType:n})=>"after-label-cells"===n?KRe:"after-rule-cells"===n?uen:void 0)}function E9e(t){return function(i){return!1!==t?Lx(i,Ln(t)?t:300):i}}_9e.$inject=["components"],E9e.$inject=["config.debounceInput"];const Yy={debounceInput:["factory",E9e]},fen={__depends__:[Yy],__init__:["annotationsProvider"],annotationsProvider:["type",_9e]};function hen(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sre,x9e,Ore,w9e,Tre,C9e;var S9e=hen(function yen(){if(C9e)return Tre;C9e=1;var t=function men(){return x9e?Sre:(x9e=1,Sre=function t(n,i){return n^i})}(),n=function gen(){if(w9e)return Ore;w9e=1;var t=/\b(Array|Date|Object|Math|JSON)\b/g;return Ore=function(a,l){var c=function s(a){for(var l=[],c=0;c<a.length;c++)~l.indexOf(a[c])||l.push(a[c]);return l}(function n(a){return a.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(t,"").match(/[a-zA-Z_]\w*/g)||[]}(a));return l&&"string"==typeof l&&(l=function o(a){return function(l){return a+l}}(l)),l?function i(a,l,c){return a.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g,function(d){return"("==d[d.length-1]||~l.indexOf(d)?c(d):d})}(a,c,l):c}}();function i(o,a){if(!(this instanceof i))return new i(o,a);if(this.node=this.start=this.peeked=o,this.root=a,this.closingTag=!1,this._revisit=!0,this._selects=[],this._rejects=[],o&&this.higher(o))throw new Error("root must be a parent or ancestor to node")}function s(o,a){var l="nextSibling"==o;return function(u,d,p){u=this.compile(u),d=d&&d>0?d:1;for(var f=this.node,h=this.closingTag,m=this._revisit;f;){if(t(l,h)&&f[a])f=f[a],h=!l;else if(1==f.nodeType&&!f[a]&&t(l,h)){if(h=l,!m)continue}else if(f[o])f=f[o],h=!l;else if(f=f.parentNode,h=l,!m)continue;if(!f||this.higher(f,this.root))break;if(u(f)&&this.selects(f,p)&&this.rejects(f,p)){if(--d)continue;return p||(this.node=f),this.closingTag=h,f}}return null}}return Tre=i,i.prototype.reset=function(o){return this.node=o||this.start,this},i.prototype.revisit=function(o){return this._revisit=o??!0,this},i.prototype.opening=function(){return 1==this.node.nodeType&&(this.closingTag=!1),this},i.prototype.atOpening=function(){return!this.closingTag},i.prototype.closing=function(){return 1==this.node.nodeType&&(this.closingTag=!0),this},i.prototype.atClosing=function(){return this.closingTag},i.prototype.next=s("nextSibling","firstChild"),i.prototype.previous=i.prototype.prev=s("previousSibling","lastChild"),i.prototype.select=function(o){return o=this.compile(o),this._selects.push(o),this},i.prototype.selects=function(o,a){var l=this._selects,c=l.length;if(!c)return!0;for(var u=0;u<c;u++)if(l[u].call(this,o,a))return!0;return!1},i.prototype.reject=function(o){return o=this.compile(o),this._rejects.push(o),this},i.prototype.rejects=function(o,a){var l=this._rejects,c=l.length;if(!c)return!0;for(var u=0;u<c;u++)if(l[u].call(this,o,a))return!1;return!0},i.prototype.higher=function(o){var a=this.root;if(!a)return!1;for(o=o.parentNode;o&&o!=a;)o=o.parentNode;return o!=a},i.prototype.compile=function(o){switch(typeof o){case"number":return function(a){return o==a.nodeType};case"string":return new Function("node","Object.freeze(node); return "+n(o,"node."));case"function":return o;default:return function(){return!0}}},i.prototype.peak=i.prototype.peek=function(o,a){return 1==arguments.length&&(a=o,o=!0),(a=a??1)?a>0?this.next(o,a,!0):this.prev(o,Math.abs(a),!0):this.node},i.prototype.use=function(o){return o(this),this},Tre}()),A5=window.getSelection();function kF(t){return 3===t.nodeType}function Pre(t){return 1===t.nodeType&&"BR"===t.nodeName}function O9e(t){return 1===t.nodeType&&"DIV"===t.nodeName}function T9e(t){return 1===t.nodeType&&"P"===t.nodeName}function E2(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}const wen={position:"absolute"};let Cen=(()=>{class t extends yn{constructor(i,s){super(i,s),E2(this,"open",({position:o,context:a})=>{this.close(),this.setState({isOpen:!0,position:o||{x:0,y:0},context:a||{}})}),E2(this,"close",()=>{this.state.isOpen&&this.setState({context:void 0,isOpen:!1,position:{x:0,y:0}})}),E2(this,"triggerClose",()=>{this.eventBus.fire("contextMenu.close")}),this.state={isOpen:!1,position:{x:0,y:0}},Hl(this)}componentDidMount(){this.eventBus.on("contextMenu.open",this.open),this.eventBus.on("contextMenu.close",this.close)}componentWillUnmount(){this.eventBus.off("contextMenu.open",this.open),this.eventBus.off("contextMenu.close",this.close)}render(){const{isOpen:i,context:s,position:o}=this.state;if(!i)return null;const a=this.components.getComponents("context-menu",s);return a.length?At(2,Sen,{className:"context-menu no-deselect",context:s,position:o,offset:s.offset||{x:0,y:0},autoFocus:!1!==s.autoFocus,autoClose:!1!==s.autoClose,components:a,onClose:this.triggerClose}):null}}return t.$inject=["eventBus","components"],t})(),Sen=(()=>{class t extends yn{constructor(i,s){super(i,s),E2(this,"onGlobalMouseDown",o=>{this.checkClose(o.target)}),E2(this,"onGlobalKey",o=>{var a=o.which;(13===a||27===a)&&(o.stopPropagation(),o.preventDefault(),this.close())}),E2(this,"onFocusChanged",o=>{this.checkClose(o.target)}),E2(this,"setNode",o=>{this.node=o;const{autoFocus:a}=this.props;o&&(this.updatePosition(),a&&function Ten(t){var n=$n(Oen,t);n&&(n.focus(),n.selectionStart&&"text"===n.type?n.selectionStart=1e5:"contentEditable"in n&&function Een(t,n){var i=function xen(t,n){for(var d,i=n.start,s=n.end,o=document.createRange(),a=S9e(t.firstChild,t),l=a.node,c=!1,u=0;l;){if(u===i&&(c?o.setStartAfter(l):o.setStartBefore(l)),u===s)return c?o.setEndAfter(l):o.setEndBefore(l),o;if(c||(Pre(l)||l.previousSibling&&(O9e(l)||T9e(l)))&&u++,kF(l)){if(d=l.textContent.length,u<=i&&u+d>i&&o.setStart(l,i-u),u+d>s)return o.setEnd(l,s-u),o;u+=d}l=a.next(),c=a.closingTag}return u<=i&&(t.lastChild?o.setStartAfter(t.lastChild):o.setStart(t,0)),t.lastChild?o.setEndAfter(t.lastChild):o.setEnd(t,0),o}(t,n);!function ben(t){A5.removeAllRanges(),A5.addRange(t)}(i)}(n,{start:1e5,end:1e5}))}(o))}),Hl(this)}close(){const{onClose:i}=this.props;Ar(i)&&i()}checkClose(i){const{autoClose:s}=this.props;if(s){var o=this.node;o&&o!==i&&(o.contains(i)||this.close())}}componentDidMount(){document.addEventListener("focusin",this.onFocusChanged),document.addEventListener("keydown",this.onGlobalKey),document.addEventListener("mousedown",this.onGlobalMouseDown)}componentWillUnmount(){document.removeEventListener("focusin",this.onFocusChanged),document.removeEventListener("keydown",this.onGlobalKey),document.removeEventListener("mousedown",this.onGlobalMouseDown)}updatePosition(){const{position:i,offset:s}=this.props,{node:o}=this,a=o.getBoundingClientRect();i.width||(i.width=0),i.height||(i.height=0);const c=this.renderer.getContainer().getBoundingClientRect();c.width>c.height?(this.node.classList.add("horizontal"),this.node.classList.remove("vertical")):(this.node.classList.add("vertical"),this.node.classList.remove("horizontal"));const{scrollLeft:u,scrollTop:d}=function Pen(t){const n=Vc(t,".tjs-container");if(!n)return{scrollTop:0,scrollLeft:0};const{scrollLeft:i,scrollTop:s}=n;return{scrollTop:s,scrollLeft:i}}(o),p={};let f,h,m;i.align&&(f=i.align.split("-")),"left"===(f&&f[1]||(i.x+i.width/2>c.width/2?"left":"right"))?(h=i.x-c.left-a.width+s.x+u,o.classList.remove("right"),o.classList.add("left")):(h=-c.left+i.x+i.width-s.x+u,o.classList.remove("left"),o.classList.add("right")),h=f?h:P9e(h,0+u,c.width-a.width+u),p.left=h+"px","top"===(f&&f[0]||(i.y+i.height/2>c.height/2?"top":"bottom"))?(m=i.y-c.top-a.height+s.y+d,o.classList.remove("bottom"),o.classList.add("top")):(m=-c.top+i.y-s.y+d,o.classList.remove("top"),o.classList.add("bottom")),m=f?m:P9e(m,0+d,c.height-a.height+d),p.top=m+"px",p.overflowY="auto",p.maxHeight=c.height-m+d+"px",Ce(this.node.style,wen,p)}render(){const{context:i,components:s,className:o}=this.props;return J(1,"div",o,s.map((a,l)=>At(2,a,{context:i},l)),0,{onContextMenu:a=>a.preventDefault()},null,this.setNode)}}return t.$inject=["renderer"],t})();function P9e(t,n,i){return Math.max(n,Math.min(i,t))}const Oen="\n  input[type=text],\n  input[type=number],\n  input[type=button],\n  input[type=submit],\n  [contenteditable],\n  [tabindex],\n  a[href],\n  textarea,\n  button\n",Xy={__init__:["contextMenu"],contextMenu:["type",(()=>{class t{constructor(i,s,o){this._eventBus=s,i.onGetComponent("table.before",()=>Cen)}open(i,s){this._eventBus.fire("contextMenu.open",{position:i,context:s})}close(){this._eventBus.fire("contextMenu.close")}}return t.$inject=["components","eventBus","renderer"],t})()]};function x2(t){return!t.altKey&&(t.ctrlKey||t.metaKey)}function w2(t){return t.shiftKey}const Den={__depends__:[OW,PF],__init__:["copyCutPasteKeyBindings"],copyCutPasteKeyBindings:["type",(()=>{class t{constructor(i,s,o,a,l,c,u){this._clipboard=o,this._cellSelection=a,this._elementRegistry=l,this._editorActions=c,this._keyboard=i.get("keyboard",!1),this._renderer=u,this._keyboard&&(s.on("keyboard.init",this._registerBindings),s.on("keyboard.bind",()=>{mn.bind(document,"copy",this._clearClipboard,!0),mn.bind(document,"cut",this._clearClipboard,!0)}),s.on("keyboard.unbind",()=>{mn.unbind(document,"copy",this._clearClipboard,!0),mn.unbind(document,"cut",this._clearClipboard,!0)}))}_clearClipboard=()=>{this._clipboard.clear()};_getSelectedCell(){const i=this._cellSelection.getCellSelection();if(!i)return;const s=this._elementRegistry.get(i);if(!s)return;const a=P5(i,this._renderer.getContainer()),l=p9e(a);if(document.activeElement!==l)return;const c=gre(a);return c&&c.start!==c.end?void 0:s}_registerBindings=()=>{[(a,l)=>{if(x2(l)&&67===a){const c=this._getSelectedCell();return c?(w2(l)?this._editorActions.trigger("copy",{element:c.col}):this._editorActions.trigger("copy",{element:c.row}),!0):void 0}},(a,l)=>{if(x2(l)&&88===a){const c=this._getSelectedCell();return c?(w2(l)?this._editorActions.trigger("cut",{element:c.col}):this._editorActions.trigger("cut",{element:c.row}),!0):void 0}},(a,l)=>{let c;if(x2(l)&&86===a){const u=this._getSelectedCell();if(!u)return;w2(l)?(c=this._editorActions.trigger("pasteAfter",{element:u.col}),c&&this._cellSelection.selectCell("right")):(c=this._editorActions.trigger("pasteAfter",{element:u.row}),c&&this._cellSelection.selectCell("below"))}return typeof c<"u"}].forEach(a=>{this._keyboard.addListener(a)})}}return t.$inject=["injector","eventBus","clipboard","cellSelection","elementRegistry","editorActions","renderer"],t})()]};let ken=(()=>{class t extends yn{constructor(i,s){super(i,s),Hl(this)}onClick=i=>{this.editorActions.trigger("addInput")};render(){return J(1,"th","input-cell create-inputs header actionable",[this.translate("Input"),Vr(" "),J(1,"button","add-input dmn-icon-plus action-icon",null,1,{title:this.translate("Add input")})],0,{onClick:this.onClick,title:this.translate("Add input")})}}return t.$inject=["editorActions","translate"],t})(),Men=(()=>{class t extends yn{constructor(i,s){super(i,s),Hl(this)}onClick=i=>{this.editorActions.trigger("addInput")};render(){return J(1,"td","input-cell create-inputs",Vr("-"),2,{onClick:this.onClick,title:this.translate("Add input")})}}return t.$inject=["editorActions","translate"],t})();const Ien={__depends__:[D5],__init__:["createInputsProvider"],createInputsProvider:["type",(()=>{class t{constructor(i,s){i.onGetComponent("cell",500,({cellType:o})=>{const{businessObject:a}=s.getRoot();if(!a.input||!a.input.length){if("before-label-cells"===o)return ken;if("before-rule-cells"===o)return Men}})}}return t.$inject=["components","sheet"],t})()]},Ren=["string","boolean","number","date","time","dateTime","dayTimeDuration","yearMonthDuration","Any"];let D9e=(()=>{class t{constructor(i){this._dataTypes=i||Ren}getAll(){return this._dataTypes}}return t.$inject=["config.dataTypes"],t})();const MF={__init__:["dataTypes"],dataTypes:["type",D9e]},Fen=["row.add","row.remove","col.add","col.remove"],zen={__depends__:[D5,Xy,_re],__init__:["decisionTableContextMenu","contextMenuCloseBehavior","contextMenuKeyboard"],decisionTableContextMenu:["type",(()=>{class t{constructor(i,s,o,a,l,c,u,d,p,f,h){this._contextMenu=s,this._clipboard=o,this._editorActions=a,this._elementRegistry=c,this._eventBus=l,this._modeling=u,this._selection=d,this._sheet=p,this._rules=f,this._translate=h,this._getEntries=this._getEntries.bind(this),i.onGetComponent("context-menu",(m={})=>{if(m.contextMenuType&&"context-menu"===m.contextMenuType){const y=this._getEntries(m),_=function Len(t){return t instanceof xF}(this._elementRegistry.get(m.id))&&i.getComponents("context-menu-cell-additional",m);if(_&&_.length){const S=J(1,"div","context-menu-group context-menu-group-cell",_,0,{role:"presentation"});y.push(S)}return()=>J(1,"div","context-menu-flex",y,0,{tabIndex:0,role:"menu","aria-label":"Decision table context menu"})}}),l.on("cell.contextmenu",({event:m,id:y})=>{m.preventDefault(),s.open({x:m.pageX,y:m.pageY},{contextMenuType:"context-menu",event:m,id:y})})}_getEntries(i){const s_addRuleAbove=d=>{const p=d.cells.map(h=>h.id).indexOf(i.id),f=this._editorActions.trigger("addRuleAbove",{rule:d});this._selection.select(f.cells[p]?f.cells[p]:f.cells[0]),this._contextMenu.close()},s_addRuleBelow=d=>{const p=d.cells.map(h=>h.id).indexOf(i.id),f=this._editorActions.trigger("addRuleBelow",{rule:d});this._selection.select(f.cells[p]?f.cells[p]:f.cells[0]),this._contextMenu.close()},s_removeRule=d=>{this._editorActions.trigger("removeRule",{rule:d}),this._contextMenu.close()},s_addInputLeft=d=>{this._editorActions.trigger("addInputLeft",{input:d}),this._contextMenu.close()},s_addInputRight=d=>{this._editorActions.trigger("addInputRight",{input:d}),this._contextMenu.close()},s_removeInput=d=>{this._editorActions.trigger("removeInput",{input:d}),this._contextMenu.close()},s_addOutputLeft=d=>{this._editorActions.trigger("addOutputLeft",{output:d}),this._contextMenu.close()},s_addOutputRight=d=>{this._editorActions.trigger("addOutputRight",{output:d}),this._contextMenu.close()},s_removeOutput=d=>{this._editorActions.trigger("removeOutput",{output:d}),this._contextMenu.close()},s_copy=d=>{this._editorActions.trigger("copy",{element:d}),this._contextMenu.close()},s_cut=d=>{this._editorActions.trigger("cut",{element:d}),this._contextMenu.close()},s_pasteBefore=d=>{this._editorActions.trigger("pasteBefore",{element:d}),this._contextMenu.close()},s_pasteAfter=d=>{this._editorActions.trigger("pasteAfter",{element:d}),this._contextMenu.close()},o=i&&i.id;if(!o)return null;const a=this._elementRegistry.get(o);if(!a)return null;const l=this._clipboard.get()||{},c=[],u=a.row||a;if(Je(u,"dmn:DecisionRule")){const d=this._rules.allowed("paste",{data:l.elements,target:u});c.push(J(1,"div","context-menu-group",[J(1,"div","context-menu-group-entry context-menu-entry-copy-rule",this._translate("Copy rule"),0,{onClick:()=>s_copy(u),tabIndex:"-1",role:"menuitem"}),J(1,"div","context-menu-group-entry context-menu-entry-cut-rule",this._translate("Cut rule"),0,{onClick:()=>s_cut(u),tabIndex:"-1",role:"menuitem"}),J(1,"div",`context-menu-group-entry ${d?"":"disabled"} context-menu-entry-paste-rule-above`,this._translate("Paste rule above"),0,{onClick:()=>s_pasteBefore(u),tabIndex:"-1",role:"menuitem","aria-disabled":!d}),J(1,"div",`context-menu-group-entry ${d?"":"disabled"} context-menu-entry-paste-rule-below`,this._translate("Paste rule below"),0,{onClick:()=>s_pasteAfter(u),tabIndex:"-1",role:"menuitem","aria-disabled":!d})],4,{role:"presentation"}),J(1,"div","context-menu-group",[J(1,"div","context-menu-group-entry context-menu-entry-add-rule-above",this._translate("Add rule above"),0,{onClick:()=>s_addRuleAbove(u),tabIndex:"-1",role:"menuitem"}),J(1,"div","context-menu-group-entry context-menu-entry-add-rule-below",this._translate("Add rule below"),0,{onClick:()=>s_addRuleBelow(u),tabIndex:"-1",role:"menuitem"}),J(1,"div","context-menu-group-entry context-menu-entry-remove-rule",this._translate("Remove rule"),0,{onClick:()=>s_removeRule(u),tabIndex:"-1",role:"menuitem"})],4,{role:"presentation"}))}else if(Je(a,"dmn:InputClause")){const d=Je(a,"dmn:InputClause")?a:a.col,p=this._rules.allowed("col.remove",{col:a.col||a}),f=this._rules.allowed("paste",{data:l.elements,target:a.col||a});c.push(J(1,"div","context-menu-group",[J(1,"div","context-menu-group-entry context-menu-entry-copy-input",this._translate("Copy input column"),0,{onClick:()=>s_copy(d),tabIndex:"-1",role:"menuitem"}),J(1,"div",`context-menu-group-entry ${p?"":"disabled"} context-menu-entry-cut-input`,this._translate("Cut input column"),0,{onClick:()=>s_cut(d),tabIndex:"-1",role:"menuitem","aria-disabled":!p}),J(1,"div",`context-menu-group-entry ${f?"":"disabled"} context-menu-entry-paste-input-left`,this._translate("Paste input column left"),0,{onClick:()=>s_pasteBefore(d),tabIndex:"-1",role:"menuitem","aria-disabled":!f}),J(1,"div",`context-menu-group-entry ${f?"":"disabled"} context-menu-entry-paste-input-right`,this._translate("Paste input column right"),0,{onClick:()=>s_pasteAfter(d),tabIndex:"-1",role:"menuitem","aria-disabled":!f})],4,{role:"presentation"}),J(1,"div","context-menu-group",[J(1,"div","context-menu-group-entry context-menu-entry-add-input-left",this._translate("Add input column left"),0,{onClick:()=>s_addInputLeft(d),tabIndex:"-1",role:"menuitem"}),J(1,"div","context-menu-group-entry context-menu-entry-add-input-right",this._translate("Add input column right"),0,{onClick:()=>s_addInputRight(d),tabIndex:"-1",role:"menuitem"}),J(1,"div",`context-menu-group-entry ${p?"":"disabled"} context-menu-entry-remove-input`,this._translate("Remove input column"),0,{onClick:()=>s_removeInput(d),tabIndex:"-1",role:"menuitem","aria-disabled":!p})],4,{role:"presentation"}))}else if(Je(a,"dmn:OutputClause")||Je(a.col,"dmn:OutputClause")){const d=Je(a,"dmn:OutputClause")?a:a.col,p=this._rules.allowed("col.remove",{col:a.col||a}),f=this._rules.allowed("paste",{data:l.elements,target:a.col||a});c.push(J(1,"div","context-menu-group",[J(1,"div","context-menu-group-entry context-menu-entry-copy-output",this._translate("Copy output column"),0,{onClick:()=>s_copy(d),tabIndex:"-1",role:"menuitem"}),J(1,"div",`context-menu-group-entry ${p?"":"disabled"} context-menu-entry-cut-output`,this._translate("Cut output column"),0,{onClick:()=>s_cut(d),tabIndex:"-1",role:"menuitem","aria-disabled":!p}),J(1,"div",`context-menu-group-entry ${f?"":"disabled"} context-menu-entry-paste-output-left`,this._translate("Paste output column left"),0,{onClick:()=>s_pasteBefore(d),tabIndex:"-1",role:"menuitem","aria-disabled":!f}),J(1,"div",`context-menu-group-entry ${f?"":"disabled"} context-menu-entry-paste-output-right`,this._translate("Paste output column right"),0,{onClick:()=>s_pasteAfter(d),tabIndex:"-1",role:"menuitem","aria-disabled":!f})],4,{role:"presentation"}),J(1,"div","context-menu-group",[J(1,"div","context-menu-group-entry context-menu-entry-add-output-left",this._translate("Add output column left"),0,{onClick:()=>s_addOutputLeft(d),tabIndex:"-1",role:"menuitem"}),J(1,"div","context-menu-group-entry context-menu-entry-add-output-right",this._translate("Add output column right"),0,{onClick:()=>s_addOutputRight(d),tabIndex:"-1",role:"menuitem"}),J(1,"div",`context-menu-group-entry ${p?"":"disabled"} context-menu-entry-remove-output`,this._translate("Remove output column"),0,{onClick:()=>s_removeOutput(d),tabIndex:"-1",role:"menuitem","aria-disabled":!p})],4,{role:"presentation"}))}return c}}return t.$inject=["components","contextMenu","clipboard","editorActions","eventBus","elementRegistry","modeling","selection","sheet","rules","translate"],t})()],contextMenuCloseBehavior:["type",(()=>{class t{constructor(i,s){s.on("commandStack.executed",({command:o})=>{-1!==Fen.indexOf(o)&&i.close()}),s.on("commandStack.reverted",()=>{i.close()})}}return t.$inject=["contextMenu","eventBus"],t})()],contextMenuKeyboard:["type",(()=>{class t{constructor(i){i.on("contextMenu.open",()=>this.addEventListeners()),i.on("contextMenu.close",()=>this.removeEventListeners()),i.on("commandStack.executed",()=>this.removeEventListeners())}addEventListeners=()=>{document.addEventListener("keydown",this.handleKeyEvent),document.addEventListener("mouseover",this.handleMouseOver)};removeEventListeners=()=>{document.removeEventListener("keydown",this.handleKeyEvent),document.removeEventListener("mouseover",this.handleMouseOver)};handleKeyEvent=i=>{"ArrowUp"===i.key?(i.preventDefault(),this.move(i.target,-1)):"ArrowDown"===i.key?(i.preventDefault(),this.move(i.target,1)):"Enter"===i.key&&(i.preventDefault(),this.clickCurrentEntry())};handleMouseOver=()=>{this.getEntries().forEach(o=>function jen(t){t.style.removeProperty("background-color"),t.style.removeProperty("pointer-events")}(o));const{focused:s}=this.getActiveEntries(document);s&&br(s).remove("focused")};getEntries=()=>Array.from(lf(".context-menu-group-entry")).filter(i=>!br(i).has("disabled"));getActiveEntries=i=>{const s=$n(".context-menu-group-entry:hover",i),o=$n(".context-menu-group-entry.focused",i);return{hover:s,focused:o,current:o||s}};move=(i,s)=>{const o=this.getEntries(),{current:a,hover:l}=this.getActiveEntries(i);if(!a)return void br(o[0]).add("focused");const c=o.indexOf(a)+s;let u=o[c];c<0&&(u=o[o.length-1]),c>=o.length&&(u=o[0]),l&&function Ven(t){t.style.setProperty("pointer-events","none"),t.style.setProperty("background-color","transparent")}(l),br(a).remove("focused"),br(u).add("focused"),u.style.removeProperty("background-color")};clickCurrentEntry=()=>{const{current:i}=this.getActiveEntries(document);i&&i.click()}}return t.$inject=["eventBus"],t})()]};class Hen extends yn{constructor(n,i){super(n,i),_2(this,JP),this._translate=i.injector.get("translate")}onClick=n=>{const{output:i}=this.props;this._eventBus.fire("output.edit",{event:n,output:i})};onContextmenu=n=>{const{id:i}=this.props.output;this._eventBus.fire("cell.contextmenu",{event:n,id:i})};onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){const{injector:n}=this.context;this._changeSupport=this.context.changeSupport,this._eventBus=n.get("eventBus"),this._elementRegistry=n.get("elementRegistry");const{output:i}=this.props;this._changeSupport.onElementsChanged(i.id,this.onElementsChanged)}componentWillUnmount(){const{output:n}=this.props;this._changeSupport.offElementsChanged(n.id,this.onElementsChanged)}render(){const{output:n,index:i,outputsLength:s}=this.props,{label:o,name:a,outputValues:l,typeRef:c}=n,u=n.width?n.width+"px":"192px";return J(1,"th","output-cell output-editor",[this.slotFills({type:"cell-inner",context:{cellType:"output-cell",col:this._elementRegistry.get(n.id),index:i,outputsLength:s},col:n}),J(1,"div","clause",this._translate(0===i?"Then":"And"),0),o?J(1,"div","output-label",o,0,{title:this._translate("Output label: ")+o}):J(1,"div","output-name",a,0,{title:this._translate("Output name: ")+a}),J(1,"div","output-variable",l&&l.text||this._translate(c||""),0,{title:this._translate(l&&l.text?"Output values":"Output type")})],0,{"data-col-id":n.id,onDblClick:this.onClick,onContextMenu:this.onContextmenu,style:{width:u}})}}class sg extends yn{constructor(n,i){super(n,i),this.state={value:n.value}}onInput=n=>{const{onInput:i}=this.props,s=n.target.value;this.setState({value:s},()=>{"function"==typeof i&&i(s)})};onChange=n=>{const{onChange:i}=this.props;"function"==typeof i&&i(n.target.value)};onKeyDown=n=>{const{onKeyDown:i}=this.props;"function"==typeof i&&i(n)};onKeyUp=n=>{const{onKeyUp:i}=this.props;"function"==typeof i&&i(n)};componentDidUpdate(n){const{value:i}=this.props;i!==n.value&&i!==this.state.value&&this.setState({value:i})}render(){const{className:n,label:i,id:s,placeholder:o,type:a}=this.props,{value:l}=this.state;return J(64,"input",[n||"","dms-input"].join(" "),null,1,{"aria-label":i,placeholder:o||"",onChange:this.onChange,onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,spellCheck:"false",type:a||"text",value:l,id:s})}}class Uen extends yn{constructor(n,i){super(n,i),this.translate=i.injector?i.injector.get("translate"):qen,this.setName=s=>{this.handleChange({name:s=s||void 0})},this.setLabel=s=>{this.handleChange({label:s=s||void 0})}}handleChange(n){var{onChange:i}=this.props;"function"==typeof i&&i(n)}render(){const{name:n,label:i}=this.props;return J(1,"div","context-menu-container ref-output-editor output-edit",[J(1,"div","dms-form-control",At(2,k5,{label:this.translate("Output label"),className:"dms-output-label",value:i||"",placeholder:this.translate("Output"),singleLine:!0,onInput:this.setLabel}),2),J(1,"div","dms-form-control",[J(1,"label","dms-label",this.translate("Output name"),0),At(2,sg,{label:this.translate("Output name"),className:"ref-output-name",value:n||"",onInput:this.setName})],4)],4)}}function qen(t){return t}let Wen=(()=>{class t extends yn{constructor(i,s){super(i,s),this.state={},Hl(this),this.persistChanges=this.debounceInput(this.persistChanges)}persistChanges=()=>{const{output:i}=this.props.context,{unsaved:s}=this.state;s&&(this.modeling.updateProperties(i,s),this.setState({unsaved:!1}))};handleChange=i=>{this.setState({unsaved:{...this.state.unsaved,...i}},this.persistChanges)};getValue(i){const{output:s}=this.props.context,{unsaved:o}=this.state;return o&&i in o?o[i]:s.get(i)}render(){return At(2,Uen,{name:this.getValue("name"),label:this.getValue("label"),onChange:this.handleChange})}}return t.$inject=["debounceInput","modeling"],t})();class Gen extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._eventBus=i.injector.get("eventBus")}onClick=n=>{const{col:i}=this.props;this._eventBus.fire("output.edit",{event:n,output:i})};render(){return J(1,"button","edit-button dmn-icon-edit",null,1,{"aria-label":this._translate("Edit output"),type:"button",onClick:this.onClick})}}let Ken=(()=>{class t{constructor(i,s,o,a){i.onGetComponent("cell",({cellType:l})=>{if("output-header"===l)return Hen}),i.onGetComponent("context-menu",(l={})=>{if("output-edit"===l.contextMenuType)return Wen}),i.onGetComponent("cell-inner",(l={})=>{const{cellType:c}=l;if("output-cell"===c)return Gen}),o.on("output.edit",({event:l,output:c})=>{const{target:u}=l,d=Vc(u,"th",!0),{left:p,top:f}=d.getBoundingClientRect(),h=function Yen(t){if(!P7(t,".output-cell + .output-cell"))return{x:-1,y:0}}(d);s.open({x:p,y:f,align:"bottom-right"},{contextMenuType:"output-edit",output:c,offset:h})})}}return t.$inject=["components","contextMenu","eventBus","renderer"],t})();class Xen extends yn{constructor(n,i){super(n,i),_2(this,JP),this._translate=i.injector.get("translate")}onClick=n=>{const{input:i}=this.props;this._eventBus.fire("input.edit",{event:n,input:i})};onContextmenu=n=>{const{id:i}=this.props.input;this._eventBus.fire("cell.contextmenu",{event:n,id:i})};onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){const{injector:n}=this.context;this._changeSupport=this.context.changeSupport,this._sheet=n.get("sheet"),this._eventBus=n.get("eventBus"),this._elementRegistry=n.get("elementRegistry");const i=this._sheet.getRoot(),{input:s}=this.props;this._changeSupport.onElementsChanged(i.id,this.onElementsChanged),this._changeSupport.onElementsChanged(s.id,this.onElementsChanged)}componentWillUnmount(){const n=this._sheet.getRoot(),{input:i}=this.props;this._changeSupport.offElementsChanged(n.id,this.onElementsChanged),this._changeSupport.offElementsChanged(i.id,this.onElementsChanged)}render(){const{input:n,index:i,inputsLength:s}=this.props,{inputExpression:o,inputValues:a}=n,l=n.get("label"),c=n.width?n.width+"px":"192px";return J(1,"th","input-cell input-editor",[this.slotFills({type:"cell-inner",context:{cellType:"input-cell",col:this._elementRegistry.get(n.id),index:i,inputsLength:s},col:n}),J(1,"div","clause",this._translate(0===i?"When":"And"),0),l?J(1,"div","input-label",l,0,{title:this._translate("Input label: ")+l}):J(1,"div","input-expression",o.text,0,{title:this._translate("Input expression: ")+o.text}),J(1,"div","input-variable",a&&a.text||this._translate(o.typeRef||""),0,{title:this._translate(a&&a.text?"Input values":"Input type")})],0,{"data-col-id":n.id,onDblClick:this.onClick,onContextMenu:this.onContextmenu,style:{width:c}})}}class AF extends yn{constructor(n,i){super(n,i),this.node=null,this.editor=null,this.state={value:n.value}}componentDidMount(){this.editor=new I_({contentAttributes:{"aria-label":this.props.label},container:this.node,onChange:this.handleChange,value:this.state.value,variables:this.props.variables||[],extensions:[kn.lineWrapping]}),this.node.addEventListener("mousedown",this.handleMouseEvent),this.node.addEventListener("keydown",this.handleKeyDownCapture,!0),this.node.addEventListener("keydown",this.handleKeyDown),this.props.autoFocus&&this.editor.focus(this.state.value.length)}componentDidUpdate(n){const{value:i}=this.props;n.value!==i&&i!==this.state.value&&this.setState({value:i},()=>{this.editor.setValue(i)}),function Jen(t,n){return JSON.stringify(t)===JSON.stringify(n)}(n.variables,this.props.variables)||this.editor.setVariables(this.props.variables)}componentWillUnmount(){this.node.removeEventListener("mousedown",this.handleMouseEvent),this.node.removeEventListener("keydown",this.handleKeyDownCapture,!0),this.node.removeEventListener("keydown",this.handleKeyDown)}handleMouseEvent=n=>{n.stopPropagation()};handleKeyDownCapture=n=>{if("Enter"===n.key){if(function Zen(t){return t.querySelector(".cm-tooltip-autocomplete")}(this.node))return void(n.triggeredFromAutocomplete=!0);this.props.ctrlForNewline&&!function Qen(t){return t.metaKey||t.ctrlKey}(n)&&n.preventDefault(),this.props.singleLine&&n.preventDefault()}};handleKeyDown=n=>{["Enter","Escape"].includes(n.key)&&n.triggeredFromAutocomplete&&n.stopPropagation()};handleChange=n=>{const{onInput:i}=this.props;this.setState({value:n}),i&&i(n)};handleBlur=()=>{const{onBlur:n,onChange:i}=this.props;i&&this.state.value!==this.props.value&&i(this.state.value),n&&n()};setNode=n=>{this.node=n};render(){return J(1,"div",["literal-expression",this.props.className||""].join(" "),null,1,{onClick:this.handleMouseEvent,onFocusIn:this.props.onFocus,onFocusOut:this.handleBlur},null,this.setNode)}}class etn extends yn{constructor(n,i){super(n,i),this.translate=i.injector.get("translate"),this.expressionLanguages=i.injector.get("expressionLanguages",!1),this.variableResolver=i.injector.get("variableResolver",!1),this.handleValue=s=>{this.handleChange({text:s})},this.handleLabelChange=s=>{this.handleChange({label:s||void 0})}}handleChange(n){var{onChange:i}=this.props;"function"==typeof i&&i(n)}getExpressionEditorComponent(){return this.expressionLanguages&&"feel"!==this.expressionLanguages.getDefault("inputCell").value?k5:AF}handleKeyDown=n=>{"Enter"===n.key&&n.stopPropagation()};_getVariables(){return this.variableResolver&&this.variableResolver.getVariables(this.props.element)}render(){const{label:n,text:i}=this.props,s=this.getExpressionEditorComponent(),o=this._getVariables();return J(1,"div","context-menu-container ref-input-editor input-edit",[J(1,"div","dms-form-control",At(2,k5,{label:this.translate("Input label"),className:"dms-input-label",value:n||"",placeholder:this.translate("Input"),singleLine:!0,onInput:this.handleLabelChange}),2),J(1,"div","dms-form-control",[J(1,"label","dms-label",this.translate("Expression"),0),At(2,s,{label:this.translate("Input expression"),placeholder:this.translate("Enter expression"),className:["ref-text","dms-input"].join(" "),onInput:this.handleValue,value:i||"",variables:o})],4)],4,{onKeyDown:this.handleKeyDown})}}let ttn=(()=>{class t extends yn{constructor(i,s){super(i,s),this.state={},Hl(this),this.persistChanges=this.debounceInput(this.persistChanges)}persistChanges=()=>{const{input:i}=this.props.context,{unsaved:s}=this.state;if(!s)return;const{label:o,...a}=s;var l={};"label"in s&&(l.label=o),function ntn(t){return Object.keys(t).length}(a)&&(l.inputExpression=a),this.modeling.updateProperties(i,l),this.setState({unsaved:!1})};handleChange=i=>{this.setState({unsaved:{...this.state.unsaved,...i}},this.persistChanges)};getValue(i){let{input:s}=this.props.context;const{unsaved:o}=this.state;let a=s;return"text"===i&&(a=a.inputExpression),o&&i in o?o[i]:a.get(i)}render(){return At(2,etn,{label:this.getValue("label"),text:this.getValue("text"),element:this.props.context.input,onChange:this.handleChange})}}return t.$inject=["debounceInput","modeling","injector"],t})();class rtn extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._eventBus=i.injector.get("eventBus")}onClick=n=>{const{col:i}=this.props;this._eventBus.fire("input.edit",{event:n,input:i})};render(){return J(1,"button","edit-button dmn-icon-edit",null,1,{"aria-label":this._translate("Edit input"),type:"button",onClick:this.onClick})}}let itn=(()=>{class t{constructor(i,s,o,a){i.onGetComponent("cell",({cellType:l})=>{if("input-header"===l)return Xen}),i.onGetComponent("context-menu",(l={})=>{if("input-edit"===l.contextMenuType)return ttn}),i.onGetComponent("cell-inner",(l={})=>{const{cellType:c}=l;if("input-cell"===c)return rtn}),o.on("input.edit",({event:l,input:c})=>{const{target:u}=l,d=Vc(u,"th",!0),{left:p,top:f}=d.getBoundingClientRect();s.open({x:p,y:f,align:"bottom-right"},{contextMenuType:"input-edit",input:c})})}}return t.$inject=["components","contextMenu","eventBus","renderer"],t})(),Uo=(()=>{class t extends yn{constructor(i,s){super(i,s),Hl(this);const{value:o}=i;this.state={value:o,optionsVisible:!1},this._portalEl=null}componentDidMount(){document.addEventListener("mousedown",this.onGlobalClick),document.addEventListener("focusin",this.onFocusChanged),this.keyboard.addListener(this.onKeyboard)}componentWillUnmount(){document.removeEventListener("focusin",this.onFocusChanged),document.removeEventListener("mousedown",this.onGlobalClick),this.keyboard.removeListener(this.onKeyboard),this.removePortalEl()}componentWillReceiveProps(i){const{value:s}=i;this.setState({value:s})}componentWillUpdate(i,s){const{optionsVisible:o}=s;o?this._portalEl||this.addPortalEl():this._portalEl&&this.removePortalEl()}componentDidUpdate(){const{optionsVisible:i}=this.state;if(!i||!this.inputNode)return;const s=this.getOptionsBounds();Ce(this._portalEl.style,s)}getOptionsBounds(){const i=this.renderer.getContainer(),{top:s,left:o,bottom:a}=i.getBoundingClientRect(),{top:l,left:c,width:u,height:d,bottom:p}=this.inputNode.getBoundingClientRect(),f=l+d-s+i.scrollTop,m={top:`${f}px`,left:`${c-o+i.scrollLeft}px`,width:`${u}px`,"max-height":`calc(100% - ${f}px)`};if(a-p<d){const y=a-l;m.bottom=`${y}px`,m["max-height"]=`calc(100% - ${y})`,delete m.top}return m}addPortalEl(){this._portalEl=Xr('<div class="dms-select-options"></div>'),this.renderer.getContainer().appendChild(this._portalEl),this._portalEl.addEventListener("mousedown",k9e)}removePortalEl(){this._portalEl&&(this._portalEl.removeEventListener("mousedown",k9e),el(this._portalEl),this._portalEl=null)}onChange=i=>{this.setState({value:i});const{onChange:s}=this.props;"function"==typeof s&&s(i)};onInputClick=i=>{i.preventDefault(),i.stopPropagation(),this.setOptionsVisible(!this.state.optionsVisible),this.focusInput()};onInput=i=>{const{value:s}=i.target;this.onChange(s)};onOptionClick=(i,s)=>{s.preventDefault(),s.stopPropagation(),this.setOptionsVisible(!1),this.onChange(i),this.focusInput()};focusInput(){const i=this.inputNode;i.focus(),"selectionStart"in i&&(i.selectionStart=1e5)}checkClose(i){this._portalEl&&!this._portalEl.contains(i)&&!this.parentNode.contains(i)&&this.setOptionsVisible(!1)}onFocusChanged=i=>{this.checkClose(i.target)};onGlobalClick=i=>{this.checkClose(i.target)};select(i){const{options:s}=this.props,{value:o}=this.state;if(!s)return;const a=s.filter(d=>d.value===o)[0],l=a?s.indexOf(a):-1,c=-1===l?1===i?0:s.length-1:(l+i)%s.length;this.onChange(s[c<0?s.length+c:c].value)}setOptionsVisible(i){this.setState({optionsVisible:i})}onKeyDown=i=>{const{optionsVisible:s}=this.state;var o=i.which;(40===o||38===o)&&(i.stopPropagation(),i.preventDefault(),s?this.select(40===o?1:-1):this.setOptionsVisible(!0)),s&&(13===o||27===o)&&(i.stopPropagation(),i.preventDefault(),this.setOptionsVisible(!1))};onKeyboard=i=>{const{optionsVisible:s}=this.state;if(s&&27===i)return this.setOptionsVisible(!1),!0};renderOptions(i,s){return J(1,"div","options",i.map(o=>J(1,"div",["option",s===o?"active":""].join(" "),o.label,0,{"data-value":o.value,onClick:a=>this.onOptionClick(o.value,a)})),0)}render(){const{className:i,label:s,id:o,options:a,noInput:l,title:c}=this.props,{optionsVisible:u,value:d}=this.state,p=!!a&&a.filter(h=>h.value===d)[0],f=p?p.label:d;return J(1,"div",[i||"","dms-input-select"].join(" "),[l?J(1,"div","dms-input",f,0,{"aria-label":s,tabIndex:"0",onKeyDown:this.onKeyDown},null,h=>this.inputNode=h):J(64,"input","dms-input",null,1,{"aria-label":s,onInput:this.onInput,onKeyDown:this.onKeyDown,spellCheck:"false",type:"text",value:d,id:o},null,h=>this.inputNode=h),J(1,"span",["dms-input-select-icon",u?"dmn-icon-up":"dmn-icon-down"].join(" ")),u&&ZIe(this.renderOptions(a,p),this._portalEl)],0,{title:c,onClick:this.onInputClick},null,h=>this.parentNode=h)}}return t.$inject=["keyboard","renderer"],t})();function k9e(t){t.stopPropagation()}class stn extends yn{constructor(n,i){super(n),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling"),this._dataTypes=i.injector.get("dataTypes")}onTypeChange=n=>{const i=this.getElement(),s=Je(i,"dmn:LiteralExpression")?i.$parent:i;let o;zi(s)?o={inputExpression:{typeRef:n}}:ml(s)&&(o={typeRef:n}),this._modeling.updateProperties(s,o)};getElement(){return this.props.context.input||this.props.context.output}render(){const n=this.getElement(),i=(Je(n,"dmn:InputClause")?n.inputExpression:n).typeRef,s=this._dataTypes.getAll().map(a=>({label:this._translate(a),value:a})),o=this._translate("Type");return J(1,"div","type-ref-edit context-menu-container",J(1,"div","dms-form-control",[J(1,"label","dms-label",[o,Vr(":")],0),At(2,Uo,{className:"type-ref-edit-select",label:o,onChange:this.onTypeChange,options:s,value:i})],4),2)}}const atn={__depends__:[Xy,MF],__init__:["typeRefEditingProvider"],typeRefEditingProvider:["type",(()=>{class t{constructor(i){i.onGetComponent("context-menu",750,(s={})=>{const{contextMenuType:o}=s;if("input-edit"===o||"output-edit"===o)return stn})}}return t.$inject=["components"],t})()]};let ltn=(()=>{class t extends pt{constructor(i,s){super(i),this.postExecuted("element.updateProperties",o=>{const{element:a,properties:l}=o.context,c=zi(a)?l.inputExpression:l;if(c&&c.typeRef&&"string"!==c.typeRef){const u=Je(a,"dmn:LiteralExpression")?a.$parent:a;s.editAllowedValues(u,null)}})}}return t.$inject=["eventBus","modeling"],t})();class M9e extends yn{constructor(n,i){super(n,i);const{items:s}=n;this.state={items:s}}componentWillReceiveProps(n){const{items:i}=n;this.setState({items:i})}getRemoveClickHandler=n=>i=>{i.stopPropagation(),this.removeItem(n)};getToggleClickHandler=n=>i=>{i.stopPropagation(),this.toggleItem(n)};removeItem=n=>{const{onChange:i}=this.props,s=this.state.items.filter(o=>o!==n);this.setState({items:s}),i&&i(s)};toggleItem=n=>{const{onChange:i,type:s}=this.props,o=this.state.items.map(a=>(a===n?a.isChecked=!a.isChecked:"radio"===s&&(a.isChecked=!1),a));this.setState({items:o}),i&&i(o)};render(){const{className:n,items:i,type:s,labelComponent:o}=this.props,a=["dms-list-component"];n&&a.push(n);const c=function dtn(t){const n=[];for(let i in t)n.push([i,t[i]]);return n}(of(i,"group"));return J(1,"div",a.join(" "),c.map(u=>{const d=u[0],p=u[1];return J(1,"div","group",[o&&o(d)||J(1,"h4","dms-heading",d,0),J(1,"ul","items no-wrap",p.map(f=>J(1,"li","item",[s&&J(64,"input","item-toggle",null,1,{type:s,checked:f.isChecked,onClick:this.getToggleClickHandler(f)}),Vr("\xa0"),f.value,f.isRemovable&&J(1,"span","remove dmn-icon-clear",null,1,{title:"Remove item",onClick:this.getRemoveClickHandler(f)})],0)),0)],0)}),0)}}class Np extends yn{constructor(n,i){super(n,i);const{validate:s,value:o}=n,a=s?s(o||""):void 0;this.state={validationWarning:a,value:o},this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this)}componentWillReceiveProps(n){const{validate:i,value:s}=n,o=i?i(s||""):void 0;this.setState({validationWarning:o,value:s})}onInput(n){const{onInput:i,validate:s}=this.props,o=s?s(n):void 0;this.setState({validationWarning:o,value:n}),"function"==typeof i&&i&&i({isValid:!o,value:n})}onKeyDown(n){const{target:i}=n,{value:s}=i,{onKeyDown:o,validate:a}=this.props,l=a?a(s):void 0;"function"==typeof o&&o({isValid:!l,value:s,event:n})}onKeyUp(n){const{target:i}=n,{value:s}=i,{onKeyUp:o,validate:a}=this.props,l=a?a(s):void 0;"function"==typeof o&&o({isValid:!l,value:s,event:n})}render(){const{placeholder:n,type:i,className:s,label:o}=this.props,{validationWarning:a,value:l}=this.state,c=["dms-validated-input",s].join(" "),u=[];return a&&u.push("invalid"),J(1,"div",c,[At(2,sg,{className:u,label:o,onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,placeholder:n||"",type:i,value:l||""}),a&&J(1,"p","dms-hint dms-validation-warning",a,0)],0)}}function Dre(t){if(!t||function ptn(t){return""===t}(t.trim()))return{values:[]};let n=t.split(",");const i={values:[]};let s="";return n.forEach(o=>{s+=o,/^"[^"]*"$/.test(s.trim())?(i.values.push(s.trim()),s=""):s+=","}),s?void 0:i}class htn extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling"),this._changeSupport=i.changeSupport;const s=this.getAllowedValuesTarget(),o=Dre(s.inputValues&&s.inputValues.text||s.outputValues&&s.outputValues.text||"");this.state=o?{values:o.values.map(a=>({value:a,isCheckable:!1,isRemovable:!0,group:this._translate("Predefined values")})),inputValue:""}:{values:null,inputValue:""}}onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){const n=this.getAllowedValuesTarget();this._changeSupport.onElementsChanged(n.id,this.onElementsChanged)}componentWillUnmount(){const n=this.getAllowedValuesTarget();this._changeSupport.offElementsChanged(n.id,this.onElementsChanged)}setPredefinedValues=n=>{const i=this.getAllowedValuesTarget();this.setState({values:n}),this._modeling.editAllowedValues(i,n&&function ftn(t){return t.map(n=>n.value)}(n))};onListChange=n=>{this.setPredefinedValues(n)};getAllowedValuesTarget(){const n=this.getElement();return Je(n,"dmn:LiteralExpression")?n.$parent:n}onInput=({value:i})=>{this.setState({inputValue:i})};onKeyDown=({isValid:n,event:i})=>{if(function gtn(t){return 13===t}(i.keyCode)&&(i.stopPropagation(),i.preventDefault(),n)){const{inputValue:s,values:o}=this.state,a=Dre(s);this.onListChange((o||[]).concat(a.values.map(l=>({value:l,isCheckable:!1,isRemovable:!0,group:this._translate("Predefined values")})))),this.setState({inputValue:""})}};handleRemovePredifinedValuesClick=n=>{n.stopPropagation(),this.removePredefinedValues()};removePredefinedValues=()=>{this.setPredefinedValues(null)};getElement(){return this.props.context.output||this.props.context.input.inputExpression}render(){const n=this.getElement(),{inputValue:i,values:s}=this.state;return"string"===n.typeRef?J(1,"div","context-menu-container allowed-values-edit",J(1,"div","dms-form-control",[!kre(s)&&s.length>0&&At(2,M9e,{labelComponent:mtn,items:s,onChange:this.onListChange}),!kre(s)&&!s.length&&J(1,"div",null,[J(1,"label","dms-label",this._translate("Predefined values"),0),J(1,"span","placeholder",this._translate("No values"),0)],4),!kre(s)&&J(1,"p","dms-hint",J(1,"button","del-values",this._translate("Clear predefined values"),0,{type:"button",onClick:this.handleRemovePredifinedValuesClick}),2),J(1,"label","dms-label",this._translate("Add predefined values"),0),At(2,Np,{onInput:this.onInput,onKeyDown:this.onKeyDown,placeholder:this._translate('"value", "value", ...'),type:"text",validate:o=>{if(!Dre(o))return this._translate("Strings must be in double quotes")},value:i})],0),2):null}}function mtn(t){return J(1,"label","dms-label",t,0)}function kre(t){return null===t}const vtn={__init__:["allowedValuesUpdateBehavior","allowedValuesEditingProvider"],allowedValuesUpdateBehavior:["type",ltn],allowedValuesEditingProvider:["type",(()=>{class t{constructor(i){i.onGetComponent("context-menu",500,(s={})=>{const{contextMenuType:o}=s;if("input-edit"===o||"output-edit"===o)return htn})}}return t.$inject=["components"],t})()]};class btn extends yn{constructor(n,i){super(n,i),this._sheet=i.injector.get("sheet"),this._eventBus=i.injector.get("eventBus"),this._changeSupport=i.changeSupport,this._translate=i.injector.get("translate")}onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){const n=this.getRoot();this._changeSupport.onElementsChanged(n.id,this.onElementsChanged)}componentWillUnmount(){const n=this.getRoot();this._changeSupport.offElementsChanged(n.id,this.onElementsChanged)}getRoot(){return this._sheet.getRoot()}handleClick=n=>{n.stopPropagation(),this.add()};add=()=>{this._eventBus.fire("addInput")};render(){return J(1,"div","add-input actionable",J(1,"button","dmn-icon-plus action-icon",null,1,{title:this._translate("Add input")}),2,{onClick:this.handleClick})}}class _tn extends yn{constructor(n,i){super(n,i),this._sheet=i.injector.get("sheet"),this._eventBus=i.injector.get("eventBus"),this._changeSupport=i.changeSupport,this._translate=i.injector.get("translate")}onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){const n=this.getRoot();this._changeSupport.onElementsChanged(n.id,this.onElementsChanged)}componentWillUnmount(){const n=this.getRoot();this._changeSupport.offElementsChanged(n.id,this.onElementsChanged)}getRoot(){return this._sheet.getRoot()}handleClick=n=>{n.stopPropagation(),this.add()};add=()=>{this._eventBus.fire("addOutput")};render(){return J(1,"div","add-output actionable",J(1,"button","dmn-icon-plus action-icon",null,1,{title:this._translate("Add output")}),2,{onClick:this.handleClick})}}function A9e(t,n,i){t.onGetComponent("cell-inner",(s={})=>{const{cellType:o,index:a,inputsLength:l,outputsLength:c}=s;return"input-cell"===o&&a===l-1?btn:"output-cell"===o&&a===c-1?_tn:void 0}),i.on("addInput",()=>{n.trigger("addInput")}),i.on("addOutput",()=>{n.trigger("addOutput")})}A9e.$inject=["components","editorActions","eventBus"];const Etn={__depends__:[D5],__init__:["addInputOutputProvider"],addInputOutputProvider:["type",A9e]};var I9e="Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/pull/662";const og={__depends__:[D5],__init__:["keyboard"],keyboard:["type",(()=>{class t{constructor(i,s,o,a,l){this._config=i||{},this._editorActions=o,this._eventBus=s,this._cellSelection=a,this._listeners=[],s.on("table.destroy",this._destroy),s.on("table.init",this._init),s.on("attach",()=>{this._config.bindTo&&console.error("unsupported configuration <keyboard.bindTo>",new Error(I9e)),this._target=l.getContainer(),this._config&&!1!==this._config.bind&&this.bind()}),s.on("detach",this.unbind)}_init=()=>{this._registerDefaultBindings(),this._fire("init")};_destroy=()=>{this._fire("destroy"),this.unbind(),this._listeners=null};_keyHandler=i=>{var s,o,a=this._listeners,l=i.keyCode||i.charCode||-1;for(s=0;o=a[s];s++)if(o(l,i))return i.preventDefault(),void i.stopPropagation()};bind(i){i&&console.error("unsupported argument <node>",new Error(I9e)),this.unbind(),i=this._node=this._target,mn.bind(i,"keydown",this._keyHandler),this._fire("bind")}getBinding(){return this._node}unbind=()=>{var i=this._node;i&&(this._fire("unbind"),mn.unbind(i,"keydown",this._keyHandler)),this._node=null};_fire(i){this._eventBus.fire("keyboard."+i,{node:this._node,listeners:this._listeners})}_registerDefaultBindings(){var i=this._listeners,s=this._editorActions,o=this._cellSelection;i.push(function a(d,p){if(x2(p)&&!w2(p)&&90===d)return s.trigger("undo"),!0}),i.push(function l(d,p){if(x2(p)&&(89===d||90===d&&w2(p)))return s.trigger("redo"),!0}),i.push(function c(d,p){if(13===d&&!x2(p)&&w2(p)&&yre(p.target))return s.trigger("selectCellAbove"),!0}),i.push(function u(d,p){if(13!==d||x2(p)||w2(p)||!yre(p.target))return;const f=s.trigger("selectCellBelow"),h=o.getCellSelection();if(!f&&h&&!function wtn(t){return"__decisionProperties_name"===t}(h)){const m=s.trigger("addRule");return s.trigger("selectCellBelow"),m}return!0})}addListener(i){this._listeners.unshift(i)}removeListener(i){this._listeners=this._listeners.filter(s=>s!==i)}}return t.$inject=["config.keyboard","eventBus","editorActions","cellSelection","renderer"],t})()]},Ctn={__depends__:[Etn,vtn,Xy,Yy,Ky,og,atn],__init__:["inputEditingProvider","outputEditingProvider"],inputEditingProvider:["type",itn],outputEditingProvider:["type",Ken]};function Mre(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function IF(t,n){t.stopPropagation(),!0!==n&&t.preventDefault()}function Rre(t){fe(lf(".dragover",t),i=>{I5(i)&&(br(i).remove("dragover"),br(i).remove("top"),br(i).remove("right"),br(i).remove("bottom"),br(i).remove("left"))})}function L9e(t,n){const i=n.getBoundingClientRect();return t.clientX<i.left+i.width/2?"left":"right"}function F9e(t,n){const i=n.getBoundingClientRect();return t.clientY<i.top+i.height/2?"top":"bottom"}function I5(t){return t&&(1===t.nodeType||11==t.nodeType)}const jtn={__depends__:[{__init__:["dragAndDrop"],dragAndDrop:["type",(()=>{class t{constructor(i,s,o,a){Mre(this,"handleDragOver",l=>{IF(l);const u=Vc(l.target,".dmn-decision-table-container td,\n   .dmn-decision-table-container th",!0);let d=!!u;const{hoverEl:p}=this._dragContext;p&&p!==u&&(this._emit("dragAndDrop.dragLeave",l),this._dragContext.targetEl=null,this._dragContext.hoverEl=null),u&&(u!==p&&(this._dragContext.hoverEl=u,d=this._emit("dragAndDrop.dragEnter",l),!1!==d&&(this._dragContext.targetEl=u)),d=this._emit("dragAndDrop.dragOver",l)),l.dataTransfer.dropEffect=!1!==d?"move":"none"}),Mre(this,"handleDrop",l=>{IF(l);const c=this._emit("dragAndDrop.drop",l);if(c){const{draggedElement:u}=this._dragContext;if(u instanceof Lu){const{rows:d}=this._sheet.getRoot();let p=d.indexOf(c);this._modeling.moveRow(u,p)}else if(u instanceof Fu){const{cols:d}=this._sheet.getRoot();let p=d.indexOf(c);this._modeling.moveCol(u,p)}}this.handleDragEnd(l)}),Mre(this,"handleDragEnd",l=>{IF(l),this._unbindListeners(),this._emit("dragAndDrop.dragEnd",l),this._dragContext=null}),this._eventBus=i,this._renderer=s,this._modeling=o,this._sheet=a,this._dragContext=null,i.on("table.destroy",()=>{this._unbindListeners()})}_bindListeners(){mn.bind(document,"dragover",this.handleDragOver),mn.bind(document,"drop",this.handleDrop),mn.bind(document,"dragend",this.handleDragEnd)}_unbindListeners(){mn.unbind(document,"dragover",this.handleDragOver),mn.unbind(document,"drop",this.handleDrop),mn.unbind(document,"dragend",this.handleDragEnd)}_emit(i,s){return this._eventBus.fire(i,{dragContext:this._dragContext,originalEvent:s})}startDrag(i,s){IF(s,!0),s.dataTransfer.effectAllowed="move",s.dataTransfer.setData&&s.dataTransfer.setData("text","__DUMMY"),this._dragContext={draggedElement:i},this._bindListeners(),this._emit("dragAndDrop.dragStart",s)}}return t.$inject=["eventBus","renderer","modeling","sheet"],t})()]},_re],__init__:["dmnDragAndDrop"],dmnDragAndDrop:["type",(()=>{class t{constructor(i,s,o,a,l,c,u,d){this._elementRegistry=s,this._dragAndDrop=a,this._renderer=l,this._rules=c,this._sheet=u,this._translate=d,i.onGetComponent("cell-inner",({cellType:p,col:f,row:h})=>{if("rule-index"===p)return()=>J(1,"span","dmn-icon-drag vertical",Vr("\xa0"),2,{draggable:"true",onDragStart:m=>this.startDrag(h,m),title:this._translate("Move rule")});if("input-cell"===p||"output-cell"===p){let m="Move "+(zi(f)?"Input":"Output");return()=>J(1,"span","dmn-icon-drag horizontal",null,1,{draggable:"true",onDragStart:y=>this.startDrag(f,y),title:m})}}),o.on("dragAndDrop.dragEnter",p=>{const{dragContext:f}=p,{draggedElement:h,hoverEl:m}=f;if(h instanceof Lu)return!0;if(h instanceof Fu){const y=function Mtn(t,n,i){const s=n.get(t.dataset.colId);if(!s)return-1;const{cols:o}=i.getRoot();return o.indexOf(s)}(m,this._elementRegistry,this._sheet);return-1!==y&&this._rules.allowed("col.move",{col:h,index:y})}return!1}),o.on("dragAndDrop.dragLeave",p=>{const{dragContext:f}=p,{targetEl:h}=f;h&&Rre(this._renderer.getContainer())}),o.on("dragAndDrop.dragOver",p=>{const{dragContext:f,originalEvent:h}=p,{draggedElement:m,lastPosition:y,targetEl:E}=f,_=this._renderer.getContainer();if(!E)return!1;let S;return m instanceof Lu&&(S=F9e(h,E)),m instanceof Fu&&(S=L9e(h,E)),y===S||(Rre(_),m instanceof Lu&&function R9e(t,n,i){const s=t.dataset.rowId;s&&fe(lf(`[data-row-id=${s}]`,n),a=>{I5(a)&&(br(a).add("dragover"),br(a).add(i))})}(E,_,"top"===S?"top":"bottom"),m instanceof Fu&&function N9e(t,n,i){const s=t.dataset.colId;s&&fe(lf(`[data-col-id=${s}]`,n),a=>{I5(a)&&(br(a).add("dragover"),br(a).add(i))})}(E,_,"left"===S?"left":"right"),f.lastPosition=S),!0}),o.on("dragAndDrop.drop",p=>{const{dragContext:f,originalEvent:h}=p,{draggedElement:m,targetEl:y}=f;if(!y)return!1;if(m instanceof Lu){const E=F9e(h,y),S=this._elementRegistry.get(y.dataset.rowId);if(!S||S===m)return;const v=function Ntn(t,n,i,s){return s.indexOf(t)>s.indexOf(n)&&(n=function Btn(t,n){const i=n.indexOf(t);return n[Math.min(n.length-1,i+1)]}(n,s)),"top"===i?function Ftn(t,n){const i=n.indexOf(t);return n[Math.max(0,i-1)]}(n,s):n}(m,S,E,this._sheet.getRoot().rows);return v===m?void 0:v}if(m instanceof Fu){const E=L9e(h,y),S=this._elementRegistry.get(y.dataset.colId);if(!S||S===m)return;const v=function Ltn(t,n,i,s){return s.indexOf(t)>s.indexOf(n)&&(n=function Vtn(t,n){const i=n.indexOf(t);if(zi(t)){const s=n.filter(l=>zi(l)),a=n.indexOf(s[s.length-1]);return n[Math.min(a,i+1)]}return n[Math.min(n.length-1,i+1)]}(n,s)),"left"===i?function $tn(t,n){const i=n.indexOf(t);if(ml(t)){const s=n.filter(a=>ml(a))[0],o=n.indexOf(s);return n[Math.max(o,i-1)]}return n[Math.max(0,i-1)]}(n,s):n}(m,S,E,this._sheet.getRoot().cols);return v===m?void 0:v}}),o.on("dragAndDrop.dragEnd",this._cleanup)}startDrag(i,s){const o=this._renderer.getContainer();this._dragImage=Xr('<span style="\n          visibility: hidden;\n          position: fixed;\n          top: -10000px\n      "></span>'),document.body.appendChild(this._dragImage),s.dataTransfer.setDragImage&&s.dataTransfer.setDragImage(this._dragImage,0,0),i instanceof Lu?function Atn(t,n){fe(lf(`[data-row-id=${t.id}]`,n),s=>{I5(s)&&br(s).add("dragged")})}(i,o):i instanceof Fu&&function Itn(t,n){fe(lf(`[data-col-id=${t.id}]`,n),s=>{I5(s)&&br(s).add("dragged")})}(i,o),this._dragAndDrop.startDrag(i,s)}_cleanup=()=>{const i=this._renderer.getContainer();Rre(i),function Rtn(t){fe(lf(".dragged",t),i=>{I5(i)&&br(i).remove("dragged")})}(i),this._dragImage&&(el(this._dragImage),this._dragImage=null)}}return t.$inject=["components","elementRegistry","eventBus","dragAndDrop","renderer","rules","sheet","translate"],t})()]};class ztn extends yn{constructor(n,i){super(n,i),this._elementRegistry=i.injector.get("elementRegistry"),this._modeling=i.injector.get("modeling"),this._changeSupport=this.context.changeSupport;const{id:s}=this.props.context;this._element=this._elementRegistry.get(s)}onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){this._element&&this._changeSupport.onElementsChanged(this._element.id,this.onElementsChanged)}componentDidMount(){const{autoFocus:n}=this.props.context;n&&this.node&&function Utn(t){return $n(".content-editable",t)}(this.node).focus()}componentWillUnmount(){if(this._element){this._changeSupport.offElementsChanged(this._element.id,this.onElementsChanged);const{businessObject:n}=this._element,{description:i}=n;Or(i)&&!i.length&&this.changeDescription(null)}}changeDescription=n=>{this._modeling.updateProperties(this._element,{description:n})};render(){if(!this._element)return;const{businessObject:n}=this._element,{description:i}=n;return Or(i)?J(1,"div","context-menu-container description-editor",At(2,Htn,{className:"dms-input",onChange:this.changeDescription,value:i}),2,null,null,s=>this.node=s):void 0}}class Htn extends M5{render(){return J(1,"div",this.getClassName(),this.getEditor(),0)}}function $9e(t,n){const{top:i,left:s,width:o,height:a}=n;return{x:s+t.parentNode.scrollLeft-26,y:i+t.parentNode.scrollTop,width:o+52,height:a}}function V9e(t){return t&&t.businessObject&&t.businessObject.description}const Ktn={__depends__:[Xy,mre],__init__:["description"],description:["type",(()=>{class t{constructor(i,s,o,a,l,c,u){this._contextMenu=s,this._modeling=l,this._renderer=c,this._translate=u,a.on("cell.click",750,d=>{if(d.defaultPrevented)return;const{target:p,id:f}=d,h=o.get(f);if(!tu(h,["dmn:UnaryTests","dmn:LiteralExpression"]))return;V9e(h)||d.preventDefault();const _=$9e(c.getContainer(),p.getBoundingClientRect());s.open(_,{contextMenuType:"cell-description",autoFocus:!1,id:f,offset:{x:4,y:4}})}),i.onGetComponent("context-menu",(d={})=>{if(d.contextMenuType&&"cell-description"===d.contextMenuType&&Or(V9e(o.get(d.id))))return ztn}),i.onGetComponent("context-menu-cell-additional",500,(d={})=>{if(d.contextMenuType&&"context-menu"===d.contextMenuType){const{id:p}=d;if(!p)return;const f=o.get(p);if(!f)return;const{businessObject:h}=f,{description:m}=h,y=Or(m),_=y?()=>this.removeDescription(f):()=>this.addDescription(f);return J(1,"div","context-menu-group-entry "+(y?"remove-description":"add-description"),Or(m)?this._translate("Remove cell description"):this._translate("Add cell description"),0,{onClick:_})}})}addDescription=i=>{this._modeling.updateProperties(i,{description:""});const s=this._renderer.getContainer(),l=$9e(s,P5(i.id,s).getBoundingClientRect());this._contextMenu.open(l,{contextMenuType:"cell-description",id:i.id,autoFocus:!0,offset:{x:4,y:4}})};removeDescription=i=>{this._modeling.updateProperties(i,{description:null}),this._contextMenu.close()}}return t.$inject=["components","contextMenu","elementRegistry","eventBus","modeling","renderer","translate"],t})()]},Ytn={__depends__:[Ky],__init__:["expressionLanguage"],expressionLanguage:["type",(()=>{class t{constructor(i,s,o,a,l,c){this._modeling=o,this._translate=l,this._expressionLanguages=a,i.onGetComponent("context-menu-cell-additional",(u={})=>{if(u.contextMenuType&&"context-menu"===u.contextMenuType){const{event:d,id:p}=u;if(!p)return;const f=s.get(p);if(!f||!this._shouldDisplayContextMenuEntry(f))return;const h=m=>{c.open({x:(d||m).pageX,y:(d||m).pageY},{contextMenuType:"expression-language",id:p})};return J(1,"div","context-menu-group-entry",this._translate("Change cell expression language"),0,{onClick:h})}}),i.onGetComponent("context-menu",(u={})=>{if(u.contextMenuType&&"expression-language"===u.contextMenuType){const{id:d}=u;if(!d)return;const p=s.get(d);if(!p)return;const f=this._getElementExpressionLanguage(p),h=a.getAll(),m="context-menu-group-entry context-menu-entry-set-expression-language",y=this._translate("Expression language");return()=>J(1,"div","context-menu-flex",J(1,"div","context-menu-group",J(1,"div",m,[J(1,"div",null,y,0),At(2,Uo,{label:y,className:"expression-language",onChange:E=>this.onChange(p,E),options:h,value:f})],4),2),2)}}),i.onGetComponent("context-menu",(u={})=>{if("input-edit"===u.contextMenuType)return()=>{const{inputExpression:d}=u.input;if(!this._shouldDisplayContextMenuEntry(d))return;const p=this._getElementExpressionLanguage(d),f=a.getAll(),h=this._translate("Expression language");return J(1,"div","context-menu-container ref-language",J(1,"div","dms-form-control",[J(1,"label","dms-label",h,0),At(2,Uo,{label:h,className:"ref-language",value:p||"",onChange:m=>this.onChange(d,m),options:f})],4),2)}})}onChange(i,s){this._modeling.editExpressionLanguage(i,s)}_shouldDisplayContextMenuEntry(i){return this._expressionLanguages.getAll().length>1||this._getElementExpressionLanguage(i)!==this._getDefaultElementExpressionLanguage(i)}_getElementExpressionLanguage(i){return wc(i).expressionLanguage||this._getDefaultElementExpressionLanguage(i)}_getDefaultElementExpressionLanguage(i){return this._expressionLanguages.getDefault(zi(i.col)?"inputCell":"outputCell").value}}return t.$inject=["components","elementRegistry","modeling","expressionLanguages","translate","contextMenu"],t})()]};let Xtn=(()=>{class t extends yn{constructor(i,s){super(i,s),Hl(this)}componentWillMount(){this.setupChangeListeners({bind:this.getBusinessObject().id})}componentWillUnmount(){this.setupChangeListeners({unbind:this.getBusinessObject().id})}setupChangeListeners({bind:i,unbind:s}){"string"==typeof s&&this.changeSupport.offElementsChanged(s,this.onElementsChanged),"string"==typeof i&&this.changeSupport.onElementsChanged(i,this.onElementsChanged)}getBusinessObject(){return this.sheet.getRoot().businessObject.$parent}onElementsChanged=()=>{this.forceUpdate()};setDecisionTableName=i=>{this.modeling.editDecisionTableName(i)};render(){const i=this.getBusinessObject(),{name:s}=i,o=this.components.getComponent("hit-policy")||Ztn;return J(1,"div","decision-table-properties",[At(2,Qtn,{label:this.translate("Decision name"),className:"decision-table-name",value:s,ctrlForNewline:!0,onBlur:Jtn,onChange:this.setDecisionTableName,elementId:"__decisionProperties_name",coords:"0:__decisionProperties"}),J(1,"div","decision-table-header-separator"),At(2,o)],4)}}return t.$inject=["sheet","modeling","changeSupport","components","translate"],t})();class Qtn extends M5{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),_2(this,QRe)}render(){const n=this.props.value;return J(1,"div",fre(this.getSelectionClasses(),this.getClassName()),this.getEditor(),0,{"data-element-id":this.props.elementId,"data-coords":this.props.coords,title:this._translate("Decision name: ")+n})}}function Ztn(){return null}function Jtn(t){t.target.scroll(0,0)}const tnn={__depends__:[Yy],__init__:["decisionTableProperties"],decisionTableProperties:["type",(()=>{class t{constructor(i){i.onGetComponent("table.before",500,()=>Xtn)}}return t.$inject=["components"],t})()]};let nnn=(()=>{class t extends yn{constructor(i,s){super(i,s),this._translate=s.injector.get("translate"),Hl(this)}onChange=({aggregation:i,hitPolicy:s})=>{this.modeling.editHitPolicy(s,i)};onElementsChanged=()=>{this.forceUpdate()};componentDidMount(){this.changeSupport.onElementsChanged(this.getRoot().id,this.onElementsChanged)}componentWillUnmount(){this.changeSupport.offElementsChanged(this.getRoot().id,this.onElementsChanged)}getRoot(){return this.sheet.getRoot()}render(){const s=this.getRoot().businessObject,{aggregation:o,hitPolicy:a}=s,l=Gt(hre,c=>function rnn(t,n){return t.hitPolicy===n.hitPolicy&&t.aggregation===n.aggregation}(c.value,{aggregation:o,hitPolicy:a}));return J(1,"div","hit-policy",[J(1,"label","dms-label",this._translate("Hit policy:"),0),At(2,Uo,{className:"hit-policy-edit-policy-select",label:this._translate("Hit policy"),onChange:this.onChange,options:hre.map(c=>({...c,label:this._translate(c.label)})),value:l.value,"data-hit-policy":"true",noInput:!0})],4,{title:this._translate(l.explanation)})}}return t.$inject=["changeSupport","sheet","modeling"],t})();function j9e(t){t.onGetComponent("hit-policy",()=>nnn)}j9e.$inject=["components"];const inn={__depends__:[Xy],__init__:["hitPolicyProvider"],hitPolicyProvider:["type",j9e]};let snn=(()=>{class t extends pt{constructor(i,s){super(i),this.executed(["row.add","row.remove","col.add","col.remove"],z9e(o=>{var a=o.context;this.updateRoot(a.row||a.col,a.oldRoot)})),this.reverted(["row.add","row.remove","col.add","col.remove"],z9e(o=>{var a=o.context;this.updateRoot(a.row||a.col,a.newRoot)}))}updateRoot(i,s){var o=i.root,a=i.businessObject;if(Je(i,"dmn:DecisionRule")){if(s){let c=s.businessObject.get("rule"),u=c.indexOf(a);c.splice(u,1),a.$parent=null}if(o){let l=o.businessObject,c=o.rows.indexOf(i);l.get("rule").splice(c,0,a),a.$parent=l,i.cells.forEach((u,d)=>{this.wireCell(u,i,d)})}}if(Je(i,"dmn:InputClause")||Je(i,"dmn:OutputClause")){let l,c;if(s){let u=s.businessObject,d=u.get("input"),p=u.get("output");if(Je(i,"dmn:InputClause")&&(l=d,c=d.indexOf(a)),Je(i,"dmn:OutputClause")&&(l=p,c=p.indexOf(a)),-1===c)throw new Error("inconsistent model: clause not in table");l.splice(c,1),a.$parent=null,i.cells.forEach((f,h)=>{this.unwireCell(f,s.rows[h])})}if(o){let h,m,u=o.businessObject,d=u.get("input"),p=u.get("output"),f=o.cols.indexOf(i);Je(i,"dmn:InputClause")&&(m=d,h=f),Je(i,"dmn:OutputClause")&&(m=p,h=f-d.length),m.splice(h,0,a),a.$parent=u,i.cells.forEach((y,E)=>{this.wireCell(y,o.rows[E],f)})}}}unwireCell(i,s){var o=i.businessObject;let u,d,a=s.businessObject,l=a.get("inputEntry"),c=a.get("outputEntry");if(Je(i,"dmn:UnaryTests")&&(u=l),Je(i,"dmn:LiteralExpression")&&(u=c),d=u.indexOf(o),-1===d)throw new Error("cell not in row");u.splice(d,1),o.$parent=null}wireCell(i,s,o){var a=i.businessObject;let d,p,l=s.businessObject,c=l.get("inputEntry"),u=l.get("outputEntry");a.$parent!==l&&(Je(i,"dmn:UnaryTests")&&(d=c,p=o),Je(i,"dmn:LiteralExpression")&&(d=u,p=o-c.length),d.splice(p,0,a),a.$parent=l)}}return t.$inject=["eventBus","sheet"],t})();function z9e(t){return function(n){var i=n.context;Je(i.row||i.col,"dmn:DMNElement")&&t(n)}}let onn=(()=>{class t{constructor(i){this._model=i}create(i,s={}){var o=this._model.create(i,s||{});return Je(o,"dmn:InputClause")&&(s.inputExpression?o.inputExpression=s.inputExpression:(o.inputExpression=this.create("dmn:LiteralExpression",{typeRef:"string"}),o.inputExpression.$parent=o)),Je(o,"dmn:OutputClause")&&(o.typeRef=s.typeRef||"string"),(Je(o,"dmn:UnaryTests")||Je(o,"dmn:LiteralExpression"))&&(o.text=s.text||""),this._ensureId(o),o}_needsId(i){return Je(i,"dmn:DMNElement")}_ensureId(i){var s=(i.$type||"").replace(/^[^:]*:/g,"")+"_";!i.id&&this._needsId(i)&&(i.id=this._model.ids.nextPrefixed(s,i))}}return t.$inject=["moddle"],t})(),ann=(()=>{class t extends zRe{constructor(i){super(),this._dmnFactory=i}create(i,s){const o=this._dmnFactory;let{businessObject:a,type:l,...c}=s;if(!a){if(!l){if("root"===i)l="dmn:DecisionTable";else if("cell"===i){let{col:u}=c;Je(u,"dmn:OutputClause")&&(l="dmn:LiteralExpression"),Je(u,"dmn:InputClause")&&(l="dmn:UnaryTests")}if(!l)throw new Error("cannot guess <type>")}a=o.create(l)}return super.create(i,{businessObject:a,id:a.id,...c})}}return t.$inject=["dmnFactory"],t})(),lnn=(()=>{class t{constructor(i,s){this._sheet=i,this._elementFactory=s}execute(i){const s=this._sheet,o=this._elementFactory,a=s.getRoot();let{row:l,index:c}=i;return typeof c>"u"&&(c=i.index=a.rows.length),i.newRoot=a,l.cells.length||a.cols.forEach((u,d)=>{const p=o.create("cell",{row:l,col:u});l.cells[d]=p}),s.addRow(l,c),s.getRoot()}revert(i){const{row:s}=i,o=this._sheet;return o.removeRow(s),o.getRoot()}}return t.$inject=["sheet","elementFactory"],t})(),cnn=(()=>{class t{constructor(i){this._sheet=i}execute(i){const s=this._sheet,o=s.getRoot();let{row:a}=i;const l=i.oldIndex=o.rows.indexOf(a);if(i.oldRoot=a.root,-1===l)throw new Error(`row#${a.id} not in sheet`);return s.removeRow(a),s.getRoot()}revert(i){const{row:s,oldIndex:o}=i,a=this._sheet;return a.addRow(s,o),a.getRoot()}}return t.$inject=["sheet"],t})(),unn=(()=>{class t{constructor(i){this._modeling=i}preExecute(i){let{row:s}=i;this._modeling.removeRow(s)}postExecute(i){let{row:s,index:o}=i;this._modeling.addRow(s,o)}}return t.$inject=["modeling"],t})(),dnn=(()=>{class t{constructor(i,s){this._sheet=i,this._elementFactory=s}execute(i){const s=this._sheet,o=this._elementFactory,a=s.getRoot();let{col:l,index:c}=i;return typeof c>"u"&&(c=i.index=a.cols.length),i.newRoot=a,l.cells.length||a.rows.forEach((u,d)=>{const p=o.create("cell",{row:u,col:l});l.cells[d]=p}),s.addCol(l,c),s.getRoot()}revert(i){const{col:s}=i,o=this._sheet;return o.removeCol(s),o.getRoot()}}return t.$inject=["sheet","elementFactory"],t})(),pnn=(()=>{class t{constructor(i,s){this._sheet=i,this._elementFactory=s}execute(i){const s=this._sheet;let{col:o}=i;const a=i.oldRoot=o.root;if(-1===(i.oldIndex=a.cols.indexOf(o)))throw new Error(`col#${o.id} not in sheet`);return s.removeCol(o),s.getRoot()}revert(i){const{col:s,oldIndex:o}=i,a=this._sheet;return a.addCol(s,o),a.getRoot()}}return t.$inject=["sheet","elementFactory"],t})(),fnn=(()=>{class t{constructor(i){this._modeling=i}preExecute(i){let{col:s}=i;this._modeling.removeCol(s)}postExecute(i){let{col:s,index:o}=i;this._modeling.addCol(s,o)}}return t.$inject=["modeling"],t})();class hnn{execute(n){let{cell:i}=n;return i}revert(n){const{cell:i}=n;return i}}let mnn=(()=>{class t{constructor(i,s,o){this._eventBus=i,this._elementFactory=s,this._commandStack=o,i.on("table.init",()=>{!function gnn(t,n){fe(t,function(i,s){n.registerHandler(s,i)})}(this.getHandlers(),o)})}getHandlers(){return t._getHandlers()}static _getHandlers(){return{"row.add":lnn,"row.remove":cnn,"row.move":unn,"col.add":dnn,"col.remove":pnn,"col.move":fnn,"cell.edit":hnn}}_create(i,s){return s instanceof ZP?s:this._elementFactory.create(i,s)}addRow(i,s){const o=this._create("row",i);return this._commandStack.execute("row.add",{row:o,index:s}),o}removeRow(i){this._commandStack.execute("row.remove",{row:i})}moveRow(i,s){this._commandStack.execute("row.move",{row:i,index:s})}addCol(i,s){const o=this._create("col",i);return this._commandStack.execute("col.add",{col:o,index:s}),o}removeCol(i){this._commandStack.execute("col.remove",{col:i})}moveCol(i,s){this._commandStack.execute("col.move",{col:i,index:s})}editCell(i,s){const o={cell:i,...s};this._commandStack.execute("cell.edit",o)}}return t.$inject=["eventBus","elementFactory","commandStack"],t})(),ynn=(()=>{class t{constructor(i,s,o){this._dmnFactory=i,this._moddle=s,this._modeling=o}execute(i){const{element:s,allowedValues:o}=i;return Je(s,"dmn:InputClause")?(s.inputValues?i.oldAllowedValues=s.inputValues.text:RF(o)||(s.inputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),RF(o)?s.inputValues&&delete s.inputValues:s.inputValues.text=o.join(",")):(s.outputValues&&s?i.oldAllowedValues=s.outputValues.text:RF(o)||(s.outputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),RF(o)?s.outputValues&&delete s.outputValues:s.outputValues.text=o.join(",")),s}revert(i){const{element:s,oldAllowedValues:o}=i;return Je(s,"dmn:InputClause")?o?(s.inputValues||(s.inputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),s.inputValues.text=o):delete s.inputValues:o?(s.outputValues||(s.outputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),s.outputValues.text=o):delete s.outputValues,s}}return t.$inject=["dmnFactory","moddle","modeling"],t})();function RF(t){return null===t}let Lre=(()=>{class t{constructor(i,s){this._elementRegistry=i,this._moddle=s}execute(i){const{element:s,properties:o}=i,a=wc(s),{changed:l,oldProperties:c}=this.updateProperties(a,o);return i.oldProperties=c,[...l,s]}revert(i){const{element:s,oldProperties:o}=i;var a=wc(s),{changed:l}=this.updateProperties(a,o);return[...l,s]}updateProperties(i,s){const o=this._moddle.ids;return Ts(s,(a,l,c)=>{const u=i.get(c);if(H9e(l)){if(!H9e(u))throw new Error(`non-existing property <${c}>: cannot update values`);let{changed:d,oldProperties:p}=this.updateProperties(u,l);return{changed:[...a.changed,...d,u],oldProperties:{...a.oldProperties,[c]:p}}}return"id"===c&&function vnn(t,n){return t.id!==n}(i,l)&&(o.unclaim(i.id),this._elementRegistry.updateId(i,l),o.claim(l,i)),i.set(c,l),{changed:a.changed,oldProperties:{...a.oldProperties,[c]:u}}},{changed:[],oldProperties:{}})}}return t.$inject=["elementRegistry","moddle"],t})();function H9e(t){return Ki(t)&&si(t)}let bnn=(()=>{class t{constructor(i){this._moddle=i}execute(i){const s=this._moddle.ids,o=i.id;i.claiming?s.claim(o,i.element):s.unclaim(o)}revert(i){const s=this._moddle.ids,o=i.id,a=i.element;i.claiming?s.unclaim(o):s.claim(o,a)}}return t.$inject=["moddle"],t})();const _nn={__init__:["dmnUpdater","idChangeBehavior","nameChangeBehavior","modeling"],__depends__:[{__init__:["idClaimBehavior","idUnclaimBehavior"],idClaimBehavior:["type",(()=>{class t extends pt{constructor(i,s,o){super(i),this._ids=s.ids,this._modeling=o,this.preExecute(["row.add","col.add"],a=>{const l=a.context,c=l.row||l.col;this.claimId(c.businessObject),c.cells&&c.cells.forEach(u=>this.claimId(u.businessObject))})}claimId(i){i.id&&!this._ids.assigned(i.id)&&this._modeling.claimId(i.id,i),i.$descriptor.properties.forEach(s=>{const o=i[s.name];o&&(Xt(o)&&o.forEach(a=>this.claimId(a)),o.$type&&this.claimId(o))})}}return t.$inject=["eventBus","moddle","modeling"],t})()],idUnclaimBehavior:["type",(()=>{class t extends pt{constructor(i,s){super(i),this._modeling=s,this.preExecute(["row.remove","col.remove"],o=>{const a=o.context,l=a.row||a.col;this.unclaimId(l.businessObject),l.cells&&l.cells.forEach(c=>this.unclaimId(c.businessObject))})}unclaimId(i){i.id&&this._modeling.unclaimId(i.id,i),i.$descriptor.properties.forEach(s=>{const o=i[s.name];o&&(Xt(o)&&o.forEach(a=>this.unclaimId(a)),o.$type&&this.unclaimId(o))})}}return t.$inject=["eventBus","modeling"],t})()]},TI],dmnUpdater:["type",snn],dmnFactory:["type",onn],elementFactory:["type",ann],idChangeBehavior:["type",hF],nameChangeBehavior:["type",ore],modeling:["type",(()=>{class t extends mnn{constructor(i,s,o,a){super(i,s,o),this._eventBus=i,this._elementFactory=s,this._commandStack=o,this._sheet=a}getHandlers(){return t._getHandlers()}static _getHandlers(){return Ce({},super._getHandlers(),{editAllowedValues:ynn,"element.updateProperties":Lre,"id.updateClaim":bnn})}editDecisionTableName(i){const l={element:this._sheet.getRoot().businessObject.$parent,properties:{name:i}};this._commandStack.execute("element.updateProperties",l)}editDecisionTableId(i){const l={element:this._sheet.getRoot().businessObject.$parent,properties:{id:i}};this._commandStack.execute("element.updateProperties",l)}editHitPolicy(i,s){const l={element:this._sheet.getRoot().businessObject,properties:{hitPolicy:i,aggregation:s}};this._commandStack.execute("element.updateProperties",l)}updateProperties(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:s})}editInputExpression(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:s})}editOutputName(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:{name:s}})}editInputExpressionTypeRef(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:{typeRef:s}})}editOutputTypeRef(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:{typeRef:s}})}editCell(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:{text:s}})}editAnnotation(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:{description:s}})}editAllowedValues(i,s){this._commandStack.execute("editAllowedValues",{element:i,allowedValues:s})}editExpressionLanguage(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:{expressionLanguage:s}})}claimId(i,s){this._commandStack.execute("id.updateClaim",{id:i,element:s,claiming:!0})}unclaimId(i,s){this._commandStack.execute("id.updateClaim",{id:i,element:s})}}return t.$inject=["eventBus","elementFactory","commandStack","sheet"],t})()]};class Enn extends yn{constructor(n,i){super(n,i),this.changeCellValue=this.changeCellValue.bind(this),this.onElementsChanged=this.onElementsChanged.bind(this)}onElementsChanged(){this.forceUpdate()}componentWillMount(){const{injector:n}=this.context,{cell:i}=this.props,s=this._changeSupport=this.context.changeSupport;this._modeling=n.get("modeling"),s.onElementsChanged(i.id,this.onElementsChanged)}componentWillUnmount(){const{cell:n}=this.props;this._changeSupport.offElementsChanged(n.id,this.onElementsChanged)}changeCellValue(n){const{cell:i}=this.props;this._modeling.editCell(i.businessObject,n)}render(){const{cell:n,rowIndex:i,row:s,col:o,colIndex:a}=this.props,l=Je(n,"dmn:UnaryTests"),c=n.businessObject;return At(2,eD,{className:l?"input-cell":"output-cell",elementId:n.id,coords:`${i}:${a}`,"data-row-id":s.id,"data-col-id":o.id,children:At(2,wnn,{placeholder:l?"-":"",onChange:this.changeCellValue,value:c.text,businessObject:c})})}}class xnn extends yn{constructor(n,i){super(n,i),this.state={focussed:!1},this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this)}onFocus(){this.setState({focussed:!0})}onBlur(){this.setState({focussed:!1})}render(){const{focussed:n}=this.state;return J(1,"div","feel-editor"+(n?" focussed":""),[n&&qy(At(2,AF,{...this.props,autoFocus:!0,onBlur:this.onBlur})),qy(At(2,k5,{...this.props,onInput:()=>{},onFocus:this.onFocus}))],0,{onClick:this.onFocus})}}class wnn extends yn{constructor(n,i){super(n,i),this._expressionLanguages=i.injector.get("expressionLanguages"),this._translate=i.injector.get("translate"),this._variableResolver=i.injector.get("variableResolver",!1)}isDefaultExpressionLanguage(n){const{expressionLanguage:i}=n,s=this.getDefaultExpressionLanguage().value;return!i||i===s}getDescription(n){return n.description}getExpressionLanguageLabel(n){const{expressionLanguage:i}=n,s=this.getDefaultExpressionLanguage();return this._expressionLanguages.getLabel(i)||s.label}isScript(){const{businessObject:n}=this.props,i=this.getDefaultExpressionLanguage();return!!this._isInputCell()&&(-1!==n.text.indexOf("\n")||n.expressionLanguage&&n.expressionLanguage!==i)}_isInputCell(){return Je(this.props.businessObject,"dmn:UnaryTests")}getDefaultExpressionLanguage(){const n=this._isInputCell()?"inputCell":"outputCell";return this._expressionLanguages.getDefault(n)}getEditor(){return this.isFEEL()?xnn:k5}isFEEL(){return"feel"===this.getExpressionLanguage()}getExpressionLanguage(){const{businessObject:n}=this.props;return n.expressionLanguage||this.getDefaultExpressionLanguage().value}_getVariables(){const{businessObject:n}=this.props;return this._variableResolver&&this._variableResolver.getVariables(n)}_getLabel(){return this._isInputCell()?this._translate("Input"):this._translate("Output")}render(){const{businessObject:n,placeholder:i,value:s,onChange:o}=this.props,a=this.getDescription(n),l=this.isDefaultExpressionLanguage(n),c=this.getExpressionLanguageLabel(n),u=this.isScript(),d=this.getEditor(),p=this._getVariables();return J(1,"div","cell-editor",[Or(a)&&J(1,"div","description-indicator"),At(2,d,{label:this._getLabel(),className:u?"script-editor":"",ctrlForNewline:!0,onInput:o,value:s,placeholder:i,variables:p}),!l&&J(1,"span","dms-badge dmn-expression-language",[J(1,"span","dms-badge-icon dmn-icon-file-code"),J(1,"span","dms-badge-label",c,0)],4,{title:this._translate("Expression language: {expressionLanguageLabel}",{expressionLanguageLabel:c})})],0)}}const Snn={__depends__:[Yy,e9e],__init__:["decisionRulesEditor"],decisionRulesEditor:["type",(()=>{class t{constructor(i){i.onGetComponent("cell",1500,({cellType:s})=>{if("rule"===s)return Enn})}}return t.$inject=["components"],t})()]};let Onn=(()=>{class t extends yn{constructor(i,s){super(i,s),this._translate=s.injector.get("translate"),this.state={top:0,left:0,isVisible:!1,isDisabled:!1,selection:null},Hl(this);const{debounceInput:o}=this;this.onClick=this.onClick.bind(this),this.handleSelectionChanged=this.handleSelectionChanged.bind(this),this.hideAndShowDebounced=this.hideAndShowDebounced.bind(this),this.showDebounced=o(this.showDebounced.bind(this)),this.updatePosition=this.updatePosition.bind(this)}componentDidMount(){const{eventBus:i}=this;i.on("cellSelection.changed",this.handleSelectionChanged),i.on("commandStack.changed",this.updatePosition),i.on("sheet.scroll",this.hideAndShowDebounced)}componentWillUnmount(){const{eventBus:i}=this;i.off("cellSelection.changed",this.handleSelectionChanged),i.off("commandStack.changed",this.updatePosition),i.off("sheet.scroll",this.hideAndShowDebounced)}hideAndShowDebounced(){this.state.isVisible&&(this.hide(),this.showDebounced())}showDebounced(){this.show()}hide(i={}){this.setState({...i,isVisible:!1})}show(i={}){this.setState({...i,isVisible:!0}),this.updatePosition()}handleSelectionChanged({elementId:i}){const{elementRegistry:s,expressionLanguages:o,simpleMode:a}=this,l=s.get(i);if(!l||!a.canSimpleEdit(l))return void this.hide({isDisabled:!1,selection:null});const c=function Tnn(t){return t.businessObject.expressionLanguage}(l),u=!function Pnn(t,n,i){return!n||n===function Dnn(t,n){return zi(t.col)?n.getDefault("inputCell").value:ml(t.col)?n.getDefault("outputCell").value:void 0}(t,i)}(l,c,o);this.show({isDisabled:u,selection:l})}updatePosition(){const{selection:i}=this.state,{node:s}=this;if(!i||!s)return;const{renderer:o}=this,a=o.getContainer(),l=a.getBoundingClientRect(),u=P5(i.id,a).getBoundingClientRect(),d=this.node.getBoundingClientRect(),{scrollLeft:p,scrollTop:f}=function knn(t){const n=Vc(t,".tjs-table-container");if(!n)return{scrollTop:0,scrollLeft:0};const{scrollLeft:i,scrollTop:s}=n;return{scrollTop:s,scrollLeft:i}}(s),h={};h.left=u.left+u.width/2>l.width/2?-l.left+u.left-d.width+4+p+"px":-l.left+u.left+u.width-4+p+"px",h.top=u.top+u.height/2>l.height/2?-l.top+u.top-d.height+4+f+"px":-l.top+u.top-4+f+"px",Ce(this.node.style,h)}onClick(){const{eventBus:i}=this,{isDisabled:s}=this.state;if(s)return;const{selection:o}=this,a=o.get();a&&(i.fire("simpleMode.open",{element:a,node:P5(a.id,this._container)}),this.hide())}render(){const{isDisabled:i,isVisible:s,top:o,left:a}=this.state,l=["simple-mode-button","no-deselect"];return i&&l.push("disabled"),s?J(1,"div",l.join(" "),J(1,"span","dmn-icon-edit"),2,{onClick:this.onClick,style:{top:o,left:a},title:this._translate(i?"Editing not supported for set expression language":"Edit")},null,c=>this.node=c):null}}return t.$inject=["debounceInput","elementRegistry","eventBus","expressionLanguages","renderer","selection","simpleMode"],t})();const Qy={__depends__:[Xy,PF,Ky],__init__:["simpleMode"],simpleMode:["type",(()=>{class t{constructor(i,s,o,a,l){this._providers=[],i.onGetComponent("table.before",()=>Onn),a.on("simpleMode.open",({element:c,node:u})=>{const{left:d,top:p,width:f,height:h}=u.getBoundingClientRect(),m=l.getContainer();s.open({x:d+m.parentNode.scrollLeft,y:p+m.parentNode.scrollTop,width:f,height:h},{contextMenuType:"simple-mode-edit",element:c,offset:{x:4,y:4}})}),a.on("cell.click",c=>{const{event:u,node:d,id:p}=c;if(function Ann(t){return!t.altKey&&(t.ctrlKey||t.metaKey)}(u)){const f=o.get(p);f&&a.fire("simpleMode.open",{node:d,element:f}),c.preventDefault()}})}registerProvider(i){this._providers.push(i)}canSimpleEdit(i){return this._providers.reduce((s,o)=>s||o(i),!1)}}return t.$inject=["components","contextMenu","elementRegistry","eventBus","renderer"],t})()]};class Fnn extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=function Inn(t){return!t||function Rnn(t){return""===t}(t)?"none":"true"===t.trim()?"true":"false"===t.trim()?"false":void 0}(s.businessObject.text);this.state={value:o||"none"},this.editCell=this.editCell.bind(this),this.onChange=this.onChange.bind(this)}editCell(n,i){this._modeling.editCell(n,i)}onChange(n){const{element:i}=this.props.context;this.editCell(i.businessObject,"none"===n?"":n),this.setState({value:n})}render(){const{value:n}=this.state,i=[{label:"-",value:"none"},{label:this._translate("Yes"),value:"true"},{label:this._translate("No"),value:"false"}];return J(1,"div","simple-boolean-edit context-menu-container",[J(1,"h3","dms-heading",this._translate("Edit boolean"),0),J(1,"h4","dms-heading",this._translate("Set value"),0),At(2,Uo,{label:this._translate("Boolean value"),noInput:!0,className:"dms-block",onChange:this.onChange,options:i,value:n})],4)}}function U9e(t){return zi(t.col)?t.col&&t.col.businessObject.inputExpression.typeRef:t.col&&t.col.businessObject.typeRef}const $nn={__depends__:[og,Qy],__init__:["simpleBooleanEdit"],simpleBooleanEdit:["type",(()=>{class t{constructor(i,s){s.registerProvider(o=>(zi(o.col)||ml(o.col))&&"boolean"===U9e(o)),i.onGetComponent("context-menu",(o={})=>{if(o.contextMenuType&&"simple-mode-edit"===o.contextMenuType){if(!o.element)return;if("boolean"===U9e(o.element))return Fnn}})}}return t.$inject=["components","simpleMode"],t})()]},Vnn=/^\d{4}(?:-\d\d){2}$/,jnn=/^\[date\("([^"]*)"\)..date\("([^"]*)"\)\]$/,znn=/^(<|>)\s*date\("([^"]*)"\)$/,Hnn=/^date\("([^"]*)"\)$/;function R5(t){if(!Vnn.test(t.trim()))return"Date must match pattern yyyy-MM-dd"}function Zy(t,n){return"exact"===t?`date("${n[0]}")`:"before"===t?`< date("${n[0]}")`:"after"===t?`> date("${n[0]}")`:"between"===t?`[date("${n[0]}")..date("${n[1]}")]`:void 0}function ag(){const t=new Date;return t.setUTCHours(0,0,0,0),t.toISOString().slice(0,10)}function rD(t){if(!t||""===t.trim())return{type:"exact",date:""};let n=t.match(jnn);return n?{type:"between",dates:[n[1],n[2]]}:(n=t.match(znn),n?{type:"<"===n[1]?"before":"after",date:n[2]}:(n=t.match(Hnn),n?{type:"exact",date:n[1]}:void 0))}const iD="between";class Xnn extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=rD(s.businessObject.text);if(o){let l;l=o.date?[o.date,""]:o.dates?o.dates:["",""],this.state={type:o.type,dates:l}}else this.state={type:"exact",dates:["",""]};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onSetStartDateTodayClick=this.onSetStartDateTodayClick.bind(this),this.onSetEndDateTodayClick=this.onSetEndDateTodayClick.bind(this),this.onStartDateInput=this.onStartDateInput.bind(this),this.onEndDateInput=this.onEndDateInput.bind(this)}editCell(n,i){this._modeling.editCell(n,i)}onTypeChange(n){const{element:i}=this.props.context,{dates:s}=this.state;this.setState({type:n}),rD(Zy(n,s))&&this.editCell(i.businessObject,Zy(n,s))}onSetStartDateTodayClick(){const{element:n}=this.props.context,{dates:i,type:s}=this.state,o=ag();this.setState({dates:[o,i[1]]}),rD(Zy(s,[o,i[1]]))&&this.editCell(n.businessObject,Zy(s,[o,i[1]]))}onSetEndDateTodayClick(){const{element:n}=this.props.context,{dates:i,type:s}=this.state,o=ag();this.setState({dates:[i[0],o]}),rD(Zy(s,[i[0],o]))&&this.editCell(n.businessObject,Zy(s,[i[0],o]))}onStartDateInput({value:n}){const{element:i}=this.props.context,{dates:s,type:o}=this.state;this.setState({dates:[n,s[1]]}),this.debouncedEditCell(i.businessObject,Zy(o,[n,s[1]]))}onEndDateInput({value:n}){const{element:i}=this.props.context,{dates:s,type:o}=this.state;this.setState({dates:[s[0],n]}),this.debouncedEditCell(i.businessObject,Zy(o,[s[0],n]))}render(){const{dates:n,type:i}=this.state,s=[{label:this._translate("Exactly"),value:"exact"},{label:this._translate("Before"),value:"before"},{label:this._translate("After"),value:"after"},{label:this._translate("Between"),value:iD}];return J(1,"div","context-menu-container simple-date-edit",[J(1,"h3","dms-heading",this._translate("Edit date"),0),J(1,"div","dms-fill-row",At(2,Uo,{label:this._translate("Test type"),noInput:!0,onChange:this.onTypeChange,options:s,value:i}),2),J(1,"h4","dms-heading",this._translate(i===iD?"Edit start date":"Set date"),0),J(1,"div",null,[At(2,Np,{label:this._translate(i===iD?"Start date":"Date"),className:"start-date-input dms-block",onInput:this.onStartDateInput,placeholder:this._translate("e.g. { sample }",{sample:ag()}),validate:o=>R5(o)&&this._translate(R5(o)),value:n[0]}),J(1,"p","dms-hint",[J(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onSetStartDateTodayClick}),Vr(".")],4)],4),i===iD&&J(1,"h4","dms-heading",this._translate("Edit end date"),0),i===iD&&J(1,"div",null,[At(2,Np,{label:this._translate("End date"),className:"end-date-input dms-block",onInput:this.onEndDateInput,placeholder:this._translate("e.g. { sample }",{sample:ag()}),validate:o=>R5(o)&&this._translate(R5(o)),value:n[1]}),J(1,"p","dms-hint",[J(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onSetEndDateTodayClick}),Vr(".")],4)],4)],0)}}class Qnn extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=rD(s.businessObject.text);this.state={date:o?o.date:""};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onClick=this.onClick.bind(this),this.onInput=this.onInput.bind(this)}editCell(n,i){this._modeling.editCell(n,i)}onClick(){const{element:n}=this.props.context,i=ag();this.setState({date:i}),this.editCell(n.businessObject,`date("${i}")`)}onInput({value:n}){const{element:i}=this.props.context;this.setState({date:n}),this.debouncedEditCell(i.businessObject,`date("${n}")`)}render(){const{date:n}=this.state;return J(1,"div","context-menu-container simple-date-edit",[J(1,"h3","dms-heading",this._translate("Edit date"),0),J(1,"h4","dms-heading",this._translate("Set date"),0),J(1,"div",null,[At(2,Np,{label:this._translate("Date value"),onInput:this.onInput,placeholder:this._translate("e.g. { example } ",{example:ag()}),validate:i=>R5(i)&&this._translate(R5(i)),value:n,className:"dms-block"}),J(1,"p","dms-hint",J(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onClick}),2)],4)],4)}}function W9e(t){return zi(t.col)?t.col&&t.col.businessObject.inputExpression.typeRef:t.col&&t.col.businessObject.typeRef}function G9e(t){return"date"===t}const Jnn={__depends__:[og,Qy],__init__:["simpleDateEdit"],simpleDateEdit:["type",(()=>{class t{constructor(i,s){s.registerProvider(o=>{const a=W9e(o);return(zi(o.col)||ml(o.col))&&G9e(a)}),i.onGetComponent("context-menu",(o={})=>{if(o.contextMenuType&&"simple-mode-edit"===o.contextMenuType){if(!o.element)return;if(G9e(W9e(o.element))){if(zi(o.element.col))return Xnn;if(ml(o.element.col))return Qnn}}})}}return t.$inject=["components","simpleMode"],t})()]},ern=/^\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d(?:Z|(?:[@+-][^")]+))?$/,trn=/^\[date and time\("([^"]*)"\)..date and time\("([^"]*)"\)\]$/,nrn=/^(<|>)\s*date and time\("([^"]*)"\)$/,rrn=/^date and time\("([^"]*)"\)$/;function N5(t){if(!ern.test(t.trim()))return"Date and time must match pattern yyyy-MM-ddTHH:mm:ss[time zone]"}function Jy(t,n){return"exact"===t?`date and time("${n[0]}")`:"before"===t?`< date and time("${n[0]}")`:"after"===t?`> date and time("${n[0]}")`:"between"===t?`[date and time("${n[0]}")..date and time("${n[1]}")]`:void 0}function L5(){const t=new Date;return t.setUTCHours(0,0,0,0),t.toISOString().replace(".000Z","Z")}function sD(t){if(!t||""===t.trim())return{type:"exact",date:""};let n=t.match(trn);return n?{type:"between",dates:[n[1],n[2]]}:(n=t.match(nrn),n?{type:"<"===n[1]?"before":"after",date:n[2]}:(n=t.match(rrn),n?{type:"exact",date:n[1]}:void 0))}const oD="between";class urn extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=sD(s.businessObject.text);if(o){let l;l=o.date?[o.date,""]:o.dates?o.dates:["",""],this.state={type:o.type,dates:l}}else this.state={type:"exact",dates:["",""]};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onSetStartDateTodayClick=this.onSetStartDateTodayClick.bind(this),this.onSetEndDateTodayClick=this.onSetEndDateTodayClick.bind(this),this.onStartDateInput=this.onStartDateInput.bind(this),this.onEndDateInput=this.onEndDateInput.bind(this)}editCell(n,i){this._modeling.editCell(n,i)}onTypeChange(n){const{element:i}=this.props.context,{dates:s}=this.state;this.setState({type:n}),sD(Jy(n,s))&&this.editCell(i.businessObject,Jy(n,s))}onSetStartDateTodayClick(){const{element:n}=this.props.context,{dates:i,type:s}=this.state,o=L5();this.setState({dates:[o,i[1]]}),sD(Jy(s,[o,i[1]]))&&this.editCell(n.businessObject,Jy(s,[o,i[1]]))}onSetEndDateTodayClick(){const{element:n}=this.props.context,{dates:i,type:s}=this.state,o=L5();this.setState({dates:[i[0],o]}),sD(Jy(s,[i[0],o]))&&this.editCell(n.businessObject,Jy(s,[i[0],o]))}onStartDateInput({value:n}){const{element:i}=this.props.context,{dates:s,type:o}=this.state;this.setState({dates:[n,s[1]]}),this.debouncedEditCell(i.businessObject,Jy(o,[n,s[1]]))}onEndDateInput({value:n}){const{element:i}=this.props.context,{dates:s,type:o}=this.state;this.setState({dates:[s[0],n]}),this.debouncedEditCell(i.businessObject,Jy(o,[s[0],n]))}render(){const{dates:n,type:i}=this.state,s=[{label:this._translate("Exactly"),value:"exact"},{label:this._translate("Before"),value:"before"},{label:this._translate("After"),value:"after"},{label:this._translate("Between"),value:oD}];return J(1,"div","context-menu-container simple-date-edit",[J(1,"h3","dms-heading",this._translate("Edit date and time"),0),J(1,"div","dms-fill-row",At(2,Uo,{label:this._translate("Test type"),noInput:!0,onChange:this.onTypeChange,options:s,value:i}),2),J(1,"h4","dms-heading",this._translate(i===oD?"Edit start date and time":"Set date and time"),0),J(1,"div",null,[At(2,Np,{label:this._translate(i===oD?"Start date and time":"Date and time"),className:"start-date-input dms-block",onInput:this.onStartDateInput,placeholder:this._translate("e.g. { sample }",{sample:L5()}),validate:o=>N5(o)&&this._translate(N5(o)),value:n[0]}),J(1,"p","dms-hint",J(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onSetStartDateTodayClick}),2)],4),i===oD&&J(1,"h4","dms-heading",this._translate("Edit end date and time"),0),i===oD&&J(1,"div",null,[At(2,Np,{label:this._translate("End date and time"),className:"end-date-input dms-block",onInput:this.onEndDateInput,placeholder:this._translate("e.g. { sample }",{sample:L5()}),validate:o=>N5(o)&&this._translate(N5(o)),value:n[1]}),J(1,"p","dms-hint",J(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onSetEndDateTodayClick}),2)],4)],0)}}class drn extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=sD(s.businessObject.text);this.state={date:o?o.date:""};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onClick=this.onClick.bind(this),this.onInput=this.onInput.bind(this)}editCell(n,i){this._modeling.editCell(n,i)}onClick(){const{element:n}=this.props.context,i=L5();this.setState({date:i}),this.editCell(n.businessObject,`date and time("${i}")`)}onInput({value:n}){const{element:i}=this.props.context;this.setState({date:n}),this.debouncedEditCell(i.businessObject,`date and time("${n}")`)}render(){const{date:n}=this.state;return J(1,"div","context-menu-container simple-date-edit",[J(1,"h3","dms-heading",this._translate("Edit date and time"),0),J(1,"h4","dms-heading",this._translate("Set date and time"),0),J(1,"div",null,[At(2,Np,{label:this._translate("Date and time value"),onInput:this.onInput,placeholder:this._translate("e.g. { sample }",{sample:L5()}),validate:i=>N5(i)&&this._translate(N5(i)),value:n,className:"dms-block"}),J(1,"p","dms-hint",J(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onClick}),2)],4)],4)}}function Y9e(t){return zi(t.col)?t.col&&t.col.businessObject.inputExpression.typeRef:t.col&&t.col.businessObject.typeRef}function X9e(t){return"dateTime"===t}const frn={__depends__:[og,Qy],__init__:["simpleDateTimeEdit"],simpleDateTimeEdit:["type",(()=>{class t{constructor(i,s){s.registerProvider(o=>{const a=Y9e(o);return(zi(o.col)||ml(o.col))&&X9e(a)}),i.onGetComponent("context-menu",(o={})=>{if(o.contextMenuType&&"simple-mode-edit"===o.contextMenuType){if(!o.element)return;if(X9e(Y9e(o.element))){if(zi(o.element.col))return urn;if(ml(o.element.col))return drn}}})}}return t.$inject=["components","simpleMode"],t})()]},Bre={equals:"=",less:"<",lessEquals:"<=",greater:">",greaterEquals:">="};function hrn(t){return vu(Bre).filter(n=>t===Bre[n])[0]}function $re(t,n){return"equals"===t?`duration("${n}")`:`${Bre[t]} duration("${n}")`}function aD(t,n,i,s){return`${"exclude"===i?"]":"["}duration("${t}")..duration("${n}")${"exclude"===s?"[":"]"}`}function Q9e(t){const n=/^duration\("([^"]*)"\)$/.exec(t);return n&&n[1]}function Z9e(t,n){const{groups:i}=t.exec(n)||{groups:{}};return i}const xrn={yearMonthDuration:"Must match PnYnM",dayTimeDuration:"Must match PnDTnH"};class LF extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._type=n.type,this.onInput=this.onInput.bind(this),this.validate=this.validate.bind(this),this.state={value:n.value}}onInput({value:n}){this.setState({value:n}),this.props.onInput(n)}validate(n){if(!function yrn(t,n){return"yearMonthDuration"===t?function vrn(t){return/^P(\d+Y\d+M|\d+Y|\d+M)$/.test(t)}(n):"dayTimeDuration"===t?function brn(t){return/^P(\d+DT\d+H|\d+D|T\d+H)$/.test(t)}(n):void 0}(this._type,n))return this._translate(xrn[this._type])}_getPlaceholder(){if("yearMonthDuration"===this._type)return this._translate("e.g. { sample }",{sample:"P1Y2M"});"dayTimeDuration"===this._type&&this._translate("e.g. { sample }",{sample:"P1DT2H"})}render(){return At(2,Np,{label:this.props.label,type:"text",onInput:this.onInput,placeholder:this._getPlaceholder(),validate:this.validate,value:this.state.value,className:this.props.className})}}const F5="comparison",B5="range";class wrn extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context;this._type=function Crn(t){return t.col.businessObject.inputExpression.typeRef}(s);const o=function mrn(t){if(!t||function grn(t){return""===t}(t.trim()))return{type:"comparison",values:[]};const n=function _rn(t){const n=Q9e(t);if(n)return{type:"comparison",operator:"equals",values:[n]};const{operator:i,value:s}=Z9e(/^(?<operator>=|(:?<|>)=?)\s*duration\("(?<value>[^"]*)"\)$/,t);return i&&s?{type:"comparison",values:[s],operator:hrn(i)}:void 0}(t);if(n)return n;const i=function Ern(t){const{start:n,end:i,firstValue:s,secondValue:o}=Z9e(/^(?<start>[[\]])duration\("(?<firstValue>[^"]*)"\)\.\.duration\("(?<secondValue>[^"]*)"\)(?<end>[[\]])$/,t);if(n&&i)return{type:"range",values:[s,o],start:"]"===n?"exclude":"include",end:"["===i?"exclude":"include"}}(t);return i||void 0}(s.businessObject.text);this.state=o?{type:o.type,comparisonOperator:o.operator||"equals",startValue:o.values[0]||"",endValue:o.values[1]||"",rangeStartType:o.start||"include",rangeEndType:o.end||"include"}:{type:F5,comparisonOperator:"equals",startValue:"",endValue:"",rangeStartType:"include",rangeEndType:"include"};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onComparisonOperatorChange=this.onComparisonOperatorChange.bind(this),this.onComparisonValueChange=this.onComparisonValueChange.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onRangeStartTypeChange=this.onRangeStartTypeChange.bind(this),this.onRangeStartValueChange=this.onRangeStartValueChange.bind(this),this.onRangeEndTypeChange=this.onRangeEndTypeChange.bind(this),this.onRangeEndValueChange=this.onRangeEndValueChange.bind(this)}editCell(n,i){this._modeling.editCell(n,i)}onTypeChange(n){const{element:i}=this.props.context,{comparisonOperator:s,startValue:o,endValue:a,rangeStartType:l,rangeEndType:c}=this.state;this.editCell(i.businessObject,n===F5?$re(s,o):aD(o,a,l,c)),this.setState({type:n})}onComparisonOperatorChange(n){const{element:i}=this.props.context,{type:s,startValue:o}=this.state;s===F5&&(this.editCell(i.businessObject,$re(n,o)),this.setState({comparisonOperator:n}))}onComparisonValueChange(n){const{element:i}=this.props.context,{type:s,comparisonOperator:o}=this.state;s===F5&&(this.debouncedEditCell(i.businessObject,$re(o,n)),this.setState({startValue:n}))}onRangeStartTypeChange(n){const{element:i}=this.props.context,{type:s,startValue:o,endValue:a,rangeEndType:l}=this.state;s===B5&&(this.editCell(i.businessObject,aD(o,a,n,l)),this.setState({rangeStartType:n}))}onRangeStartValueChange(n){const{element:i}=this.props.context,{type:s,endValue:o,rangeStartType:a,rangeEndType:l}=this.state;s===B5&&(this.editCell(i.businessObject,aD(n,o,a,l)),this.setState({startValue:n}))}onRangeEndTypeChange(n){const{element:i}=this.props.context,{type:s,startValue:o,endValue:a,rangeStartType:l}=this.state;s===B5&&(this.editCell(i.businessObject,aD(o,a,l,n)),this.setState({rangeEndType:n}))}onRangeEndValueChange(n){const{element:i}=this.props.context,{type:s,startValue:o,rangeStartType:a,rangeEndType:l}=this.state;s===B5&&(this.editCell(i.businessObject,aD(o,n,a,l)),this.setState({endValue:n}))}renderComparison(n,i){const s=[{label:this._translate("Equals"),value:"equals"},{label:this._translate("Less"),value:"less"},{label:this._translate("Less or equals"),value:"lessEquals"},{label:this._translate("Greater"),value:"greater"},{label:this._translate("Greater or equals"),value:"greaterEquals"}];return J(1,"div","comparison",[J(1,"h4","dms-heading",Vr("Value"),2),J(1,"div","dms-fill-row dms-input-duration-edit-row",[At(2,Uo,{label:this._translate("Comparison operator"),noInput:!0,onChange:this.onComparisonOperatorChange,options:s,value:n}),Vr("\xa0"),At(2,LF,{label:this._translate("Duration value"),type:this._type,className:"comparison-duration-input",onInput:this.onComparisonValueChange,value:i})],4)],4)}renderRange(n,i,s,o){const a=[{label:this._translate("Include"),value:"include"},{label:this._translate("Exclude"),value:"exclude"}];return J(1,"div","range",[J(1,"h4","dms-heading",this._translate("Start value"),0),J(1,"div","dms-fill-row dms-input-duration-edit-row",[At(2,Uo,{label:this._translate("Range start operator"),noInput:!0,onChange:this.onRangeStartTypeChange,options:a,value:s}),Vr("\xa0"),At(2,LF,{label:this._translate("Range start value"),type:this._type,className:"range-start-duration-input",onInput:this.onRangeStartValueChange,value:n})],4),J(1,"h4","dms-heading",this._translate("End value"),0),J(1,"div","dms-fill-row dms-input-duration-edit-row",[At(2,Uo,{label:this._translate("Range end operator"),noInput:!0,onChange:this.onRangeEndTypeChange,options:a,value:o}),Vr("\xa0"),At(2,LF,{label:this._translate("Range end value"),type:this._type,className:"range-end-duration-input",onInput:this.onRangeEndValueChange,value:i})],4)],4)}render(){const{type:n,comparisonOperator:i,startValue:s,endValue:o,rangeStartType:a,rangeEndType:l}=this.state,c=[{label:this._translate("Comparison"),value:F5},{label:this._translate("Range"),value:B5}];return J(1,"div","context-menu-container simple-duration-edit",[J(1,"h3","dms-heading",this._translate("Edit duration"),0),J(1,"div","dms-fill-row",At(2,Uo,{label:this._translate("Test type"),noInput:!0,onChange:this.onTypeChange,options:c,value:n}),2),n===F5&&this.renderComparison(i,s),n===B5&&this.renderRange(s,o,a,l)],0)}}class Srn extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context;this._type=function Orn(t){return t.col.businessObject.typeRef}(s);const o=i.injector.get("debounceInput");this.debouncedEditCell=o(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onInput=this.onInput.bind(this)}editCell(n,i){this._modeling.editCell(n,i)}onInput(n){const{element:i}=this.props.context;this.debouncedEditCell(i.businessObject,`duration("${n}")`)}render(){const n=Q9e(this.props.context.element.businessObject.text);return J(1,"div","context-menu-container simple-duration-edit",[J(1,"h3","dms-heading",this._translate("Edit duration"),0),J(1,"h4","dms-heading",this._translate("Set duration"),0),At(2,LF,{label:this._translate("Duration value"),onInput:this.onInput,value:n,type:this._type,className:"dms-block"})],4)}}function J9e(t){return zi(t.col)?t.col&&t.col.businessObject.inputExpression.typeRef:t.col&&t.col.businessObject.typeRef}const Prn=["yearMonthDuration","dayTimeDuration"];function eNe(t){return Prn.includes(t)}const Drn={__depends__:[og,Qy],__init__:["simpleDurationEdit"],simpleDurationEdit:["type",(()=>{class t{constructor(i,s){s.registerProvider(o=>{const a=J9e(o);return(zi(o.col)||ml(o.col))&&eNe(a)}),i.onGetComponent("context-menu",(o={})=>{if(o.contextMenuType&&"simple-mode-edit"===o.contextMenuType){if(!o.element)return;if(eNe(J9e(o.element))){if(zi(o.element.col))return wrn;if(ml(o.element.col))return Srn}}})}}return t.$inject=["components","simpleMode"],t})()]},krn=/^(-?(?:[0-9]|\.[0-9])+)$|^((?:<|>|=){0,2})\s*(-?(?:[0-9]|\.[0-9])+)$/,Mrn=/^(\[|\]){1}(-?(?:[0-9]|\.[0-9])+){1,}\.\.(-?(?:[0-9]|\.[0-9])+){1,}(\[|\]){1}$/,Vre={equals:"=",less:"<",lessEquals:"<=",greater:">",greaterEquals:">="};function Arn(t){return vu(Vre).filter(n=>t===Vre[n])[0]}function tNe(t){if(!t||function Irn(t){return""===t}(t.trim()))return{type:"comparison"};const n=t.match(krn),i=t.match(Mrn);if(n){if(function Rrn(t){return t[0]&&t[1]&&!t[2]&&!t[3]}(n))return{type:"comparison",value:parseFloat(n[1]),operator:"equals"};if(function Nrn(t){return t[0]&&!t[1]&&t[2]&&t[3]}(n))return{type:"comparison",value:parseFloat(n[3]),operator:Arn(n[2])}}else if(i)return{type:"range",values:[i[2],i[3]].map(s=>parseFloat(s)),start:"]"===i[1]?"exclude":"include",end:"["===i[4]?"exclude":"include"}}function jre(t,n){return"equals"===t?`${n}`:`${Vre[t]} ${n}`}function lD(t,n,i,s){return`${"exclude"===i?"]":"["}${t}..${n}${"exclude"===s?"[":"]"}`}const $5="comparison",V5="range";class Lrn extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=tNe(s.businessObject.text);this.state=o?{type:o.type,comparisonOperator:o.operator||"equals",comparisonValue:o.value||0,rangeStartValue:o.values?o.values[0]:0,rangeEndValue:o.values?o.values[1]:0,rangeStartType:o.start||"include",rangeEndType:o.end||"include"}:{type:$5,comparisonOperator:"equals",comparisonValue:0,rangeStartValue:0,rangeEndValue:0,rangeStartType:"include",rangeEndType:"include"};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onComparisonOperatorChange=this.onComparisonOperatorChange.bind(this),this.onComparisonValueChange=this.onComparisonValueChange.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onRangeStartTypeChange=this.onRangeStartTypeChange.bind(this),this.onRangeStartValueChange=this.onRangeStartValueChange.bind(this),this.onRangeEndTypeChange=this.onRangeEndTypeChange.bind(this),this.onRangeEndValueChange=this.onRangeEndValueChange.bind(this)}editCell(n,i){this._modeling.editCell(n,i)}onTypeChange(n){const{element:i}=this.props.context,{comparisonOperator:s,comparisonValue:o,rangeStartValue:a,rangeEndValue:l,rangeStartType:c,rangeEndType:u}=this.state;this.editCell(i.businessObject,n===$5?jre(s,o):lD(a,l,c,u)),this.setState({type:n})}onComparisonOperatorChange(n){const{element:i}=this.props.context,{type:s,comparisonValue:o}=this.state;s===$5&&(this.editCell(i.businessObject,jre(n,o)),this.setState({comparisonOperator:n}))}onComparisonValueChange(n){const{element:i}=this.props.context,{type:s,comparisonOperator:o}=this.state;s===$5&&(this.debouncedEditCell(i.businessObject,jre(o,n)),this.setState({comparisonValue:n}))}onRangeStartTypeChange(n){const{element:i}=this.props.context,{type:s,rangeStartValue:o,rangeEndValue:a,rangeEndType:l}=this.state;s===V5&&(this.editCell(i.businessObject,lD(o,a,n,l)),this.setState({rangeStartType:n}))}onRangeStartValueChange(n){const{element:i}=this.props.context,{type:s,rangeEndValue:o,rangeStartType:a,rangeEndType:l}=this.state;s===V5&&(this.editCell(i.businessObject,lD(n,o,a,l)),this.setState({rangeStartValue:n}))}onRangeEndTypeChange(n){const{element:i}=this.props.context,{type:s,rangeStartValue:o,rangeEndValue:a,rangeStartType:l}=this.state;s===V5&&(this.editCell(i.businessObject,lD(o,a,l,n)),this.setState({rangeEndType:n}))}onRangeEndValueChange(n){const{element:i}=this.props.context,{type:s,rangeStartValue:o,rangeStartType:a,rangeEndType:l}=this.state;s===V5&&(this.editCell(i.businessObject,lD(o,n,a,l)),this.setState({rangeEndValue:n}))}renderComparison(n,i){const s=[{label:this._translate("Equals"),value:"equals"},{label:this._translate("Less"),value:"less"},{label:this._translate("Less or equals"),value:"lessEquals"},{label:this._translate("Greater"),value:"greater"},{label:this._translate("Greater or equals"),value:"greaterEquals"}];return J(1,"div","comparison",[J(1,"h4","dms-heading",this._translate("Value"),0),J(1,"div","dms-fill-row",[At(2,Uo,{label:this._translate("Comparison operator"),noInput:!0,onChange:this.onComparisonOperatorChange,options:s,value:n}),Vr("\xa0"),At(2,sg,{label:this._translate("Value"),className:"comparison-number-input",onInput:this.onComparisonValueChange,type:"number",value:i})],4)],4)}renderRange(n,i,s,o){const a=[{label:this._translate("Include"),value:"include"},{label:this._translate("Exclude"),value:"exclude"}];return J(1,"div","range",[J(1,"h4","dms-heading",this._translate("Start value"),0),J(1,"div","dms-fill-row",[At(2,Uo,{label:this._translate("Start value"),noInput:!0,onChange:this.onRangeStartTypeChange,options:a,value:s}),Vr("\xa0"),At(2,sg,{className:"range-start-number-input",onInput:this.onRangeStartValueChange,type:"number",value:n})],4),J(1,"h4","dms-heading",this._translate("End value"),0),J(1,"div","dms-fill-row",[At(2,Uo,{label:this._translate("End value"),noInput:!0,onChange:this.onRangeEndTypeChange,options:a,value:o}),Vr("\xa0"),At(2,sg,{className:"range-end-number-input",onInput:this.onRangeEndValueChange,type:"number",value:i})],4)],4)}render(){const{type:n,comparisonOperator:i,comparisonValue:s,rangeStartValue:o,rangeEndValue:a,rangeStartType:l,rangeEndType:c}=this.state,u=[{label:this._translate("Comparison"),value:$5},{label:this._translate("Range"),value:V5}];return J(1,"div","context-menu-container simple-number-edit",[J(1,"h3","dms-heading",this._translate("Edit number"),0),J(1,"div","dms-fill-row",At(2,Uo,{label:this._translate("Test type"),noInput:!0,onChange:this.onTypeChange,options:u,value:n}),2),n===$5&&this.renderComparison(i,s),n===V5&&this.renderRange(o,a,l,c)],0)}}class Frn extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=tNe(s.businessObject.text);this.state=o?{value:o.value}:{value:""};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onInput=this.onInput.bind(this)}editCell(n,i){this._modeling.editCell(n,i)}onInput(n){const{element:i}=this.props.context;this.debouncedEditCell(i.businessObject,n),this.setState({value:n})}render(){const{value:n}=this.state;return J(1,"div","context-menu-container simple-number-edit",[J(1,"h3","dms-heading",this._translate("Edit number"),0),J(1,"h4","dms-heading",this._translate("Set value"),0),At(2,sg,{onInput:this.onInput,type:"number",value:n})],4)}}function nNe(t){return zi(t.col)?t.col&&t.col.businessObject.inputExpression.typeRef:t.col&&t.col.businessObject.typeRef}const $rn=["number","integer","long","double"];function rNe(t){return $rn.includes(t)}const Vrn={__depends__:[og,Qy],__init__:["simpleNumberEdit"],simpleNumberEdit:["type",(()=>{class t{constructor(i,s){s.registerProvider(o=>{const a=nNe(o);return(zi(o.col)||ml(o.col))&&rNe(a)}),i.onGetComponent("context-menu",(o={})=>{if(o.contextMenuType&&"simple-mode-edit"===o.contextMenuType){if(!o.element)return;if(rNe(nNe(o.element))){if(zi(o.element.col))return Lrn;if(ml(o.element.col))return Frn}}})}}return t.$inject=["components","simpleMode"],t})()]};function FF(t){if(!t||iNe(t.trim()))return{type:"disjunction",values:[]};let n=t.split(",");const i={type:"disjunction",values:[]};let s="";if(n.forEach(a=>{s+=a,/^"[^"]*"$/.test(s.trim())?(i.values.push(s.trim()),s=""):s+=","}),!s)return i;i.type="negation",i.values=[],s="";const o=t.match(/^\s*not\((.*)\)\s*$/);return o&&(n=o[1].split(","),n.forEach(a=>{s+=a,/^"[^"]*"$/.test(s.trim())?(i.values.push(s.trim()),s=""):s+=","}),!s)?i:void 0}function iNe(t){return""===t}const C2="disjunction",BF="negation";class qrn extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");let s=FF(n.context.element.businessObject.text);s||(s={values:[],type:C2});const o=function jrn(t){const n=zi(t)?t.inputValues:t.outputValues;return!n||iNe(n.text)?[]:n.text.split(",").map(i=>i.trim())}(n.context.element.col.businessObject),a=s.values.filter(p=>!Hre(o,p)),l=zi(n.context.element.col);let c=o.map(p=>({value:p,isChecked:Hre(s.values,p),isRemovable:!1,group:this._translate("Predefined values")}));l&&(c=c.concat(a.map(p=>({value:p,isChecked:!0,isRemovable:!0,group:this._translate("Custom values")}))));let u="";!l&&s.values.length&&!Hre(o,s.values[0])&&(u=s.values[0]),this.state={items:c,unaryTestsType:s.type,inputValue:u,isOutputValueInputChecked:""!==u};const d=i.injector.get("debounceInput");this.debouncedEditCell=d(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.addUnaryTestsListItem=this.addUnaryTestsListItem.bind(this),this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onOutputValueInputClick=this.onOutputValueInputClick.bind(this),this.onUnaryTestsListChanged=this.onUnaryTestsListChanged.bind(this),this.onUnaryTestsTypeChange=this.onUnaryTestsTypeChange.bind(this)}editCell(n,i){this._modeling.editCell(n,i)}onUnaryTestsTypeChange(n){const{items:i}=this.state,s=zre(i),{element:o}=this.props.context;n===C2?(this.editCell(o.businessObject,s.join(",")),this.setState({unaryTestsType:C2})):(this.editCell(o.businessObject,`not(${s.join(",")})`),this.setState({unaryTestsType:BF}))}onUnaryTestsListChanged(n){const i=zre(n),{element:s}=this.props.context,{unaryTestsType:o}=this.state;this.editCell(s.businessObject,o===C2?i.join(","):`not(${i.join(",")})`),this.setState({items:n,isOutputValueInputChecked:!1})}onOutputValueInputClick(){const{element:n}=this.props.context,{inputValue:i,items:s}=this.state,o=FF(i);!o||o.values.length>1||(this.editCell(n.businessObject,`${o.values.join("")}`),this.setState({items:s.map(a=>(a.isChecked=!1,a)),isOutputValueInputChecked:!0}))}onInput({isValid:n,value:i}){const{isOutputValueInputChecked:s}=this.state;this.setState({inputValue:i});const{element:o}=this.props.context;!zi(o)&&n&&s&&this.debouncedEditCell(o.businessObject,i)}onKeyDown({isValid:n,event:i}){if(!function Wrn(t){return 13===t}(i.keyCode))return;const{element:s}=this.props.context,o=zi(s.col);(o||!n)&&(i.stopPropagation(),i.preventDefault()),n&&(o?this.addUnaryTestsListItem():this.onOutputValueInputClick())}addUnaryTestsListItem(){const{inputValue:n,items:i,unaryTestsType:s}=this.state,o=FF(n);if(!o)return;const{element:a}=this.props.context,l=zre(i),c=[].concat(l,o.values);this.editCell(a.businessObject,s===C2?c.join(","):`not(${c.join(",")})`);const u=i.concat(o.values.map(d=>({value:d,isChecked:!0,isRemovable:!0,group:this._translate("Custom values")})));this.setState({items:u,inputValue:""})}render(){const{element:n}=this.props.context,{inputValue:i,isOutputValueInputChecked:s,items:o,unaryTestsType:a}=this.state,l=[{label:this._translate("Match one"),value:C2},{label:this._translate("Match none"),value:BF}],c=zi(n.col),u=a===BF,d=!c&&o.length>0;return J(1,"div","simple-string-edit context-menu-container",[J(1,"h3","dms-heading",this._translate("Edit string"),0),c&&J(1,"p",null,At(2,Uo,{label:this._translate("String value"),noInput:!0,onChange:this.onUnaryTestsTypeChange,options:l,value:u?BF:C2},null,p=>this.selectNode=p),2),At(2,M9e,{onChange:this.onUnaryTestsListChanged,items:o,type:c?"checkbox":"radio"}),J(1,"h4","dms-heading",this._translate(c?"Add values":"Set value"),0),J(1,"div","dms-fill-row",[d&&J(64,"input","cursor-pointer",null,1,{checked:s,onClick:this.onOutputValueInputClick,type:"radio",style:{marginRight:"8px"}}),At(2,Np,{label:this._translate(c?"Values":"Value"),className:"dms-block",onKeyDown:this.onKeyDown,onInput:this.onInput,placeholder:this._translate(c?'"value", "value", ...':'"value"'),type:"text",validate:p=>{if(!FF(p))return this._translate("Strings must be in double quotes")},value:i})],0)],0)}}function zre(t){return t.filter(n=>n.isChecked).map(n=>n.value)}function Hre(t,n){return-1!==t.indexOf(n)}function sNe(t){return zi(t.col)?t.col&&t.col.businessObject.inputExpression.typeRef:t.col&&t.col.businessObject.typeRef}const Krn={__depends__:[og,Qy],__init__:["simpleStringEdit"],simpleStringEdit:["type",(()=>{class t{constructor(i,s){s.registerProvider(o=>(zi(o.col)||ml(o.col))&&"string"===sNe(o)),i.onGetComponent("context-menu",(o={})=>{if(o.contextMenuType&&"simple-mode-edit"===o.contextMenuType){if(!o.element)return;if("string"===sNe(o.element))return qrn}})}}return t.$inject=["components","simpleMode"],t})()]},Yrn=/^(?:\d\d:){2}\d\d(?:Z|(?:[@+-][^")]+))?$/,Xrn=/^\[time\("([^"]*)"\)..time\("([^"]*)"\)\]$/,Qrn=/^(<|>)\s*time\("([^"]*)"\)$/,Zrn=/^time\("([^"]*)"\)$/;function j5(t){if(!Yrn.test(t.trim()))return"Time must match pattern hh:mm:ss[time zone]"}function ev(t,n){return"exact"===t?`time("${n[0]}")`:"before"===t?`< time("${n[0]}")`:"after"===t?`> time("${n[0]}")`:"between"===t?`[time("${n[0]}")..time("${n[1]}")]`:void 0}function Ure(){return(new Date).toISOString().slice(11,-5)+"Z"}function cD(t){if(!t||""===t.trim())return{type:"exact",time:""};let n=t.match(Xrn);return n?{type:"between",times:[n[1],n[2]]}:(n=t.match(Qrn),n?{type:"<"===n[1]?"before":"after",time:n[2]}:(n=t.match(Zrn),n?{type:"exact",time:n[1]}:void 0))}const $F="between";class sin extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=cD(s.businessObject.text);if(o){let l;l=o.time?[o.time,""]:o.times?o.times:["",""],this.state={type:o.type,times:l}}else this.state={type:"exact",times:["",""]};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onSetStartTimeNowClick=this.onSetStartTimeNowClick.bind(this),this.onSetEndTimeNowClick=this.onSetEndTimeNowClick.bind(this),this.onStartTimeInput=this.onStartTimeInput.bind(this),this.onEndTimeInput=this.onEndTimeInput.bind(this)}editCell(n,i){this._modeling.editCell(n,i)}onTypeChange(n){const{element:i}=this.props.context,{times:s}=this.state;this.setState({type:n}),cD(ev(n,s))&&this.editCell(i.businessObject,ev(n,s))}onSetStartTimeNowClick(){const{element:n}=this.props.context,{times:i,type:s}=this.state,o=Ure();this.setState({times:[o,i[1]]}),cD(ev(s,[o,i[1]]))&&this.editCell(n.businessObject,ev(s,[o,i[1]]))}onSetEndTimeNowClick(){const{element:n}=this.props.context,{times:i,type:s}=this.state,o=Ure();this.setState({times:[i[0],o]}),cD(ev(s,[i[0],o]))&&this.editCell(n.businessObject,ev(s,[i[0],o]))}onStartTimeInput({value:n}){const{element:i}=this.props.context,{times:s,type:o}=this.state;this.setState({times:[n,s[1]]}),this.debouncedEditCell(i.businessObject,ev(o,[n,s[1]]))}onEndTimeInput({value:n}){const{element:i}=this.props.context,{times:s,type:o}=this.state;this.setState({times:[s[0],n]}),this.debouncedEditCell(i.businessObject,ev(o,[s[0],n]))}render(){const{times:n,type:i}=this.state,s=[{label:this._translate("Exactly"),value:"exact"},{label:this._translate("Before"),value:"before"},{label:this._translate("After"),value:"after"},{label:this._translate("Between"),value:$F}];return J(1,"div","context-menu-container simple-time-edit",[J(1,"h3","dms-heading",this._translate("Edit time"),0),J(1,"div","dms-fill-row",At(2,Uo,{label:this._translate("Time"),noInput:!0,onChange:this.onTypeChange,options:s,value:i}),2),J(1,"h4","dms-heading",this._translate(i===$F?"Edit start time":"Set time"),0),J(1,"div",null,[At(2,Np,{label:this._translate("Start time"),className:"start-time-input dms-block",onInput:this.onStartTimeInput,placeholder:this._translate("e.g. { example } ",{example:ag()}),validate:o=>j5(o)&&this._translate(j5(o)),value:n[0]}),J(1,"p","dms-hint",[J(1,"button","use-now",this._translate("Use now"),0,{type:"button",onClick:this.onSetStartTimeNowClick}),Vr(".")],4)],4),i===$F&&J(1,"h4","dms-heading",this._translate("Edit end time"),0),i===$F&&J(1,"div",null,[At(2,Np,{label:this._translate("End time"),className:"end-time-input dms-block",onInput:this.onEndTimeInput,placeholder:this._translate("e.g. { example } ",{example:ag()}),validate:o=>j5(o)&&this._translate(j5(o)),value:n[1]}),J(1,"p","dms-hint",[J(1,"button","use-now",this._translate("Use now"),0,{type:"button",onClick:this.onSetEndTimeNowClick}),Vr(".")],4)],4)],0)}}class oin extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._modeling=i.injector.get("modeling");const{element:s}=this.props.context,o=cD(s.businessObject.text);this.state={date:o?o.date:""};const a=i.injector.get("debounceInput");this.debouncedEditCell=a(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onClick=this.onClick.bind(this),this.onInput=this.onInput.bind(this)}editCell(n,i){this._modeling.editCell(n,i)}onClick(){const{element:n}=this.props.context,i=Ure();this.setState({date:i}),this.editCell(n.businessObject,`time("${i}")`)}onInput({value:n}){const{element:i}=this.props.context;this.setState({date:n}),this.debouncedEditCell(i.businessObject,`time("${n}")`)}render(){const{date:n}=this.state;return J(1,"div","context-menu-container simple-time-edit",[J(1,"h3","dms-heading",this._translate("Edit time"),0),J(1,"h4","dms-heading",this._translate("Set time"),0),J(1,"div",null,[At(2,Np,{label:this._translate("Time value"),onInput:this.onInput,placeholder:this._translate("e.g. { example } ",{example:ag()}),validate:i=>j5(i)&&this._translate(j5(i)),value:n,className:"dms-block"}),J(1,"p","dms-hint",[J(1,"button","use-now",this._translate("Use now"),0,{type:"button",onClick:this.onClick}),Vr(".")],4)],4)],4)}}function aNe(t){return zi(t.col)?t.col&&t.col.businessObject.inputExpression.typeRef:t.col&&t.col.businessObject.typeRef}function lNe(t){return"time"===t}const lin={__depends__:[og,Qy],__init__:["simpleTimeEdit"],simpleTimeEdit:["type",(()=>{class t{constructor(i,s){s.registerProvider(o=>{const a=aNe(o);return(zi(o.col)||ml(o.col))&&lNe(a)}),i.onGetComponent("context-menu",(o={})=>{if(o.contextMenuType&&"simple-mode-edit"===o.contextMenuType){if(!o.element)return;if(lNe(aNe(o.element))){if(zi(o.element.col))return sin;if(ml(o.element.col))return oin}}})}}return t.$inject=["components","simpleMode"],t})()]};let cin=(()=>{class t extends yn{constructor(i,s){super(i,s),Hl(this)}componentDidMount(){const i=this.getRoot();this.changeSupport.onElementsChanged(i,this.onElementsChanged)}componentWillUnmount(){const i=this.getRoot();this.changeSupport.offElementsChanged(i,this.onElementsChanged)}getRoot(){return this.sheet.getRoot()}onElementsChanged=()=>{this.forceUpdate()};handleMouseDown=i=>{!function uin({node:t,event:n,minWidth:i,onEnd:s=din}){n.preventDefault();const o=t.getBoundingClientRect().width,a=n.clientX;let l;function c(p){p.preventDefault();const f=d(p.clientX);l&&cancelAnimationFrame(l),l=requestAnimationFrame(()=>{t.style.width=f+"px"})}function d(p){return Math.max(o+(p-a),i)}document.addEventListener("mousemove",c),document.addEventListener("mouseup",function u(p){p.preventDefault(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u);const f=d(p.clientX);s(f)})}({node:Vc(i.target,"th",!1),event:i,minWidth:this.props.minWidth||150,onEnd:this.saveWidth})};saveWidth=i=>{const{col:s}=this.props,o={};Je(s,"dmn:DecisionTable")?o.annotationsWidth=i:o.width=i,this.modeling.updateProperties(s,o)};isLastInputOrOutput(){const{col:i}=this.props,o=wc(this.getRoot());if(Je(i,"dmn:InputClause")){const a=o.get("input");return a.indexOf(i)===a.length-1}if(Je(i,"dmn:OutputClause")){const a=o.get("output");return a.indexOf(i)===a.length-1}}render(){const i=this.isLastInputOrOutput()?{right:"-7px",width:"27px"}:null;return J(1,"div","resize-column-handle",null,1,{onMouseDown:this.handleMouseDown,title:this.translate("Resize"),style:i})}}return t.$inject=["sheet","changeSupport","translate","modeling"],t})();function din(){}function cNe(t){t.onGetComponent("cell-inner",(n={})=>{const{cellType:i}=n;if("input-cell"===i||"output-cell"===i||"annotations"===i)return cin})}cNe.$inject=["components"];const pin={__init__:["columnResizeProvider"],columnResizeProvider:["type",cNe]};class qre extends nD{getModules(){return[...nD._getModules(),...qre._getModules()]}static _getModules(){return[ten,fen,PF,Xy,y9e,Den,Ien,MF,zen,D5,Ctn,pin,jtn,Ktn,Ytn,Ky,og,tnn,b9e,inn,mre,_nn,Snn,SF,Qy,$nn,Jnn,frn,Drn,Vrn,Krn,lin,ure]}}let fin=(()=>{class t{constructor(i){this._listeners={},i.on("elements.changed",({elements:s})=>{this.elementsChanged(s)}),i.on("element.updateId",({element:s,newId:o})=>{this.updateId(s.id,o)})}elementsChanged(i){const s={},o=i.length;for(let a=0;a<o;a++){const{id:l}=i[a];if(s[l])return;s[l]=!0;const c=this._listeners[l]&&this._listeners[l].length;if(c)for(let u=0;u<c;u++)this._listeners[l][u]&&this._listeners[l][u]()}}onElementsChanged(i,s){this._listeners[i]||(this._listeners[i]=[]),this._listeners[i][this._listeners[i].length]=s}offElementsChanged(i,s){if(this._listeners[i])if(s){const o=this._listeners[i].indexOf(s);-1!==o&&this._listeners[i].splice(o,1)}else this._listeners[i].length=0}updateId(i,s){this._listeners[i]&&(this._listeners[s]=this._listeners[i],delete this._listeners[i])}}return t.$inject=["eventBus"],t})();class gin extends yn{constructor(n){super(n);const i=this._injector=n.injector;this._changeSupport=i.get("changeSupport"),this._components=i.get("components"),this._renderer=i.get("renderer")}getChildContext(){return{changeSupport:this._changeSupport,components:this._components,renderer:this._renderer,injector:this._injector}}render(){const n=this._components.getComponents("viewer");return J(1,"div","viewer-container",n&&n.map((i,s)=>At(2,i,null,s)),0)}}const yin={__init__:["changeSupport","components","renderer"],changeSupport:["type",fin],components:["type",class min{constructor(){this._listeners={}}getComponent(n,i){const s=this._listeners[n];if(!s)return;let o;for(let a=0;a<s.length&&(o=s[a].callback(i),!o);a++);return o}getComponents(n,i){const s=this._listeners[n];if(!s)return;const o=[];for(let a=0;a<s.length;a++){const l=s[a].callback(i);l&&o.push(l)}return o.length?o:void 0}onGetComponent(n,i,s){if(Ar(i)&&(s=i,i=1e3),!Ln(i))throw new Error("priority must be a number");const o=this._getListeners(n);let a,l;const c={priority:i,callback:s};for(l=0;a=o[l];l++)if(a.priority<i)return void o.splice(l,0,c);o.push(c)}offGetComponent(n,i){const s=this._getListeners(n);let o,a,l;if(i)for(l=s.length-1;o=s[l];l--)a=o.callback,a===i&&s.splice(l,1);else s.length=0}_getListeners(n){let i=this._listeners[n];return i||(this._listeners[n]=i=[]),i}}],eventBus:["type",Al],renderer:["type",(()=>{class t{constructor(i,s,o,a,l){const{container:c}=o;this._container=c,a.on("renderer.mount",()=>{KP(At(2,gin,{injector:l}),c)}),a.on("renderer.unmount",()=>{KP(null,c)})}getContainer(){return this._container}}return t.$inject=["changeSupport","components","config.renderer","eventBus","injector"],t})()]};class uNe{constructor(n={}){let{injector:i}=n;if(!i){let{modules:s,config:o}=this._init(n);i=function vin(t,n){const s=new W7([{config:["value",t]},yin].concat(n||[]));return s.init(),s}(o,s)}this.get=i.get,this.invoke=i.invoke,this.get("eventBus").fire("viewer.init")}_init(n){let{modules:i,...s}=n;return{modules:i,config:s}}destroy(){this.get("eventBus").fire("viewer.destroy")}clear(){this.get("eventBus").fire("viewer.clear")}}const bin={__init__:["elementRegistry"],elementRegistry:["type",(()=>{class t{constructor(i,s){this._eventBus=s,this._viewer=i}getDecision(){return this._viewer.getDecision()}updateId(i,s){if(i!==this.getDecision())throw new Error("element !== decision");this._eventBus.fire("element.updateId",{element:i,newId:s}),i.id=s}}return t.$inject=["viewer","eventBus"],t})()]};class _in extends yn{constructor(n,i){super(n,i),this._viewer=i.injector.get("viewer")}render(){const{name:n}=this._viewer.getDecision();return J(1,"div","decision-properties",J(1,"h3","decision-name",n,0),2)}}const xin={__init__:["decisionProperties"],decisionProperties:["type",(()=>{class t{constructor(i){i.onGetComponent("viewer",1500,()=>_in)}}return t.$inject=["components"],t})()]};class win extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._viewer=i.injector.get("viewer")}render(){const{decisionLogic:n,variable:i}=this._viewer.getDecision();return J(1,"div","literal-expression-properties",J(1,"table",null,[J(1,"tr",null,[J(1,"td",null,this._translate("Variable name:"),0),J(1,"td",null,J(1,"span",null,i.name||"-",0),2)],4),J(1,"tr",null,[J(1,"td",null,this._translate("Variable type:"),0),J(1,"td",null,J(1,"span",null,this._translate(i.typeRef||"")||"-",0),2)],4),J(1,"tr",null,[J(1,"td",null,this._translate("Expression language:"),0),J(1,"td",null,J(1,"span",null,n.expressionLanguage||"-",0),2)],4)],4),2)}}const Sin={__depends__:[],__init__:["literalExpressionProperties"],literalExpressionProperties:["type",(()=>{class t{constructor(i){i.onGetComponent("viewer",500,()=>win)}}return t.$inject=["components"],t})()]},Tin={__init__:["poweredBy"],poweredBy:["type",(()=>{class t{constructor(i){i.onGetComponent("viewer",2e3,()=>Kne)}}return t.$inject=["components"],t})()]};class Pin extends yn{constructor(n,i){super(n,i),this._viewer=i.injector.get("viewer")}render(){const{text:n}=this._viewer.getDecision().decisionLogic;return J(1,"div","textarea",J(1,"div","content",n,0),2)}}const Din={__init__:["textarea"],textarea:["type",(()=>{class t{constructor(i){i.onGetComponent("viewer",()=>Pin)}}return t.$inject=["components"],t})()]};let kin=(()=>{class t extends yn{constructor(i,s){super(i,s);const{injector:o}=s;this._translate=o.get("translate"),this._eventBus=o.get("eventBus")}onClick=()=>{this._eventBus.fire("showDrd")};render(){return J(1,"div","view-drd",J(1,"button","view-drd-button",this._translate("View DRD"),0,{type:"button",onClick:this.onClick}),2,null,null,i=>this.node=i)}}return t.$inject=["translate"],t})();const Rin={__init__:["viewDrd"],viewDrd:["type",(()=>{class t{constructor(i,s,o,a){this._injector=a,this._viewer=s,i.onGetComponent("viewer",2e3,()=>{if(this.canViewDrd())return kin}),o.on("showDrd",()=>{const l=a.get("_parent",!1),c=this.getDefinitions(),u=l.getView(c);l.open(u)})}canViewDrd(){const i=this._injector.get("_parent",!1);if(!i)return;const s=this.getDefinitions();return!!i.getView(s)}getDefinitions(){return function Iin(t){return t.$parent}(this._viewer.getDecision())}}return t.$inject=["components","viewer","eventBus","injector"],t})()]};class uD extends uNe{constructor(n={}){const i=uD._createContainer();super(Ce(n,{renderer:{container:i}})),this._container=i}open(n){var i=this;return new Promise(function(s,o){var a;try{i._decision&&(i.clear(),i.get("eventBus").fire("renderer.unmount")),i._decision=n,i.get("eventBus").fire("import",n),i.get("eventBus").fire("renderer.mount")}catch(l){a=l}a?(a.warnings=a.warnings||[],o(a)):s({warnings:[]})})}_init(n){let{modules:i,additionalModules:s,...o}=n;return{modules:[...i||this.getModules(),...s||[],{viewer:["value",this]}],config:o}}on(n,i,s,o){return this.get("eventBus").on(n,i,s,o)}off(n,i){this.get("eventBus").off(n,i)}_emit(n,i){return this.get("eventBus").fire(n,i)}getDecision(){return this._decision}attachTo(n){if(!n)throw new Error("parentNode required");this.detach(),n.appendChild(this._container),this._emit("attach",{})}detach(){const n=this._container;n.parentNode&&(this._emit("detach",{}),el(n))}destroy(){super.destroy(),this.detach()}getModules(){return uD._getModules()}static _getModules(){return[bin,nl,xin,Sin,Tin,Din,Rin]}static _createContainer(){return Xr('<div class="dmn-literal-expression-container"></div>')}}class Nin extends yn{constructor(n,i){super(n,i),this._viewer=i.injector.get("viewer"),this._modeling=i.injector.get("modeling"),this._translate=i.injector.get("translate"),this.setupChangeListeners({bind:this.getDecision().id})}componentWillUnmount(){this.setupChangeListeners({unbind:this.getDecision().id})}getDecision(){return this._viewer.getDecision()}onElementsChanged=()=>{this.forceUpdate()};setupChangeListeners({bind:n,unbind:i}){const{changeSupport:s}=this.context;"string"==typeof i&&s.offElementsChanged(i,this.onElementsChanged),"string"==typeof n&&s.onElementsChanged(n,this.onElementsChanged)}setDecisionName=n=>{this._modeling.editDecisionName(n)};render(){const{name:n}=this.getDecision();return J(1,"header","decision-properties",At(2,Lin,{label:this._translate("Decision name"),className:"decision-name editor",value:n,onBlur:Fin,onChange:this.setDecisionName}),2)}}class Lin extends M5{render(){return J(1,"h3",this.getClassName(),this.getEditor(),0)}}function Fin(t){t.target.scroll(0,0)}const $in={__depends__:[Yy,nl],__init__:["decisionProperties"],decisionProperties:["type",(()=>{class t{constructor(i){i.onGetComponent("viewer",1500,()=>Nin)}}return t.$inject=["components"],t})()]},dNe="is not a registered action";function Wre(t,n){return new Error(t+" "+n)}function pNe(t){return!t.altKey&&(t.ctrlKey||t.metaKey)}function fNe(t){return t.shiftKey}var hNe="Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/pull/662";const mNe={__depends__:[{__init__:["editorActions"],editorActions:["type",(()=>{class t{constructor(i,s){this._actions={undo(){i.undo()},redo(){i.redo()}}}trigger(i,s){if(!this._actions[i])throw Wre(i,dNe);return this._actions[i](s)}register(i,s){if("string"==typeof i)return this._registerAction(i,s);fe(i,(o,a)=>{this._registerAction(a,o)})}_registerAction(i,s){if(this.isRegistered(i))throw Wre(i,"is already registered");this._actions[i]=s}unregister(i){if(!this.isRegistered(i))throw Wre(i,dNe);this._actions[i]=void 0}isRegistered(i){return!!this._actions[i]}}return t.$inject=["commandStack","eventBus"],t})()]}],__init__:["keyboard"],keyboard:["type",(()=>{class t{constructor(i,s,o,a){this._config=i||{},this._eventBus=s,this._editorActions=o,this._listeners=[],s.on("viewer.destroy",this._destroy),s.on("viewer.init",this._init),s.on("attach",()=>{this._config.bindTo&&console.error("unsupported configuration <keyboard.bindTo>",new Error(hNe)),this._target=a.getContainer(),this._config&&!1!==this._config.bind&&this.bind()}),s.on("detach",this.unbind)}_init=()=>{this._registerDefaultBindings(),this._fire("init")};_destroy=()=>{this._fire("destroy"),this.unbind(),this._listeners=null};_keyHandler=i=>{var s,o,a=this._listeners,l=i.keyCode||i.charCode||-1;for(s=0;o=a[s];s++)if(o(l,i))return i.preventDefault(),void i.stopPropagation()};bind(i){i&&console.error("unsupported argument <node>",new Error(hNe)),this.unbind(),i=this._node=this._target,mn.bind(i,"keydown",this._keyHandler,!0),this._fire("bind")}getBinding(){return this._node}unbind=()=>{var i=this._node;i&&(this._fire("unbind"),mn.unbind(i,"keydown",this._keyHandler,!0)),this._node=null};_fire(i){this._eventBus.fire("keyboard."+i,{node:this._node,listeners:this._listeners})}_registerDefaultBindings(){var i=this._listeners,s=this._editorActions;i.push(function o(l,c){if(pNe(c)&&!fNe(c)&&90===l)return s.trigger("undo"),!0}),i.push(function a(l,c){if(pNe(c)&&(89===l||90===l&&fNe(c)))return s.trigger("redo"),!0})}addListener(i){this._listeners.unshift(i)}removeListener(i){this._listeners=this._listeners.filter(s=>s!==i)}}return t.$inject=["config.keyboard","eventBus","editorActions","renderer"],t})()]};class Hin extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._viewer=i.injector.get("viewer"),this._modeling=i.injector.get("modeling"),this._dataTypes=i.injector.get("dataTypes"),this._eventBus=i.injector.get("eventBus");const s=this._viewer.getDecision();this.state={name:s.variable.name,typeRef:s.variable.typeRef},this.setVariableName=this.setVariableName.bind(this),this.setVariableType=this.setVariableType.bind(this)}setVariableName(n){this._modeling.editVariableName(n),this.setState({name:n})}componentWillMount(){this._eventBus.on("elements.changed",this.onChange)}componentWillUnmount(){this._eventBus.off("elements.changed",this.onChange)}onChange=()=>{const n=this._viewer.getDecision();n.variable&&this.setState({name:n.variable.name})};setVariableType(n){""===n?(this._modeling.editVariableType(void 0),this.setState({typeRef:void 0})):(this._modeling.editVariableType(n),this.setState({typeRef:n}))}render(){const{name:n,typeRef:i}=this.state,s=this._dataTypes.getAll().map(o=>({label:this._translate(o),value:o}));return J(1,"div","literal-expression-properties",J(1,"table","variables-table",[J(1,"tr",null,[J(1,"td",null,this._translate("Variable name:"),0),J(1,"td",null,At(2,sg,{label:this._translate("Variable name"),className:"variable-name-input",onInput:this.setVariableName,placeholder:this._translate("name"),value:n||""}),2)],4),J(1,"tr",null,[J(1,"td",null,this._translate("Variable type:"),0),J(1,"td",null,J(1,"div","dms-fill-row",At(2,Uo,{label:this._translate("Variable type"),onChange:this.setVariableType,options:s,value:i,className:"variable-type-select dms-block"}),2),2)],4),At(2,Uin)],4),2)}}class Uin extends yn{constructor(n,i){super(n,i),this._translate=i.injector.get("translate"),this._viewer=i.injector.get("viewer"),this._modeling=i.injector.get("modeling"),this._expressionLanguages=i.injector.get("expressionLanguages"),this.setExpressionLanguage=this.setExpressionLanguage.bind(this)}setExpressionLanguage(n){this._modeling.editExpressionLanguage(""===n?void 0:n)}_getExpressionLanguage(){const i=this._viewer.getDecision().decisionLogic;return i&&i.expressionLanguage?i.expressionLanguage.toLowerCase():this._getDefaultExpressionLanguage()}_getDefaultExpressionLanguage(){return this._expressionLanguages.getDefault().value}_shouldRender(){return this._expressionLanguages.getAll().length>1||this._getExpressionLanguage()!==this._getDefaultExpressionLanguage()}render(){if(!this._shouldRender())return null;const n=this._getExpressionLanguage(),i=this._expressionLanguages.getAll();return J(1,"tr",null,[J(1,"td",null,this._translate("Expression language:"),0),J(1,"td",null,J(1,"div","dms-fill-row",At(2,Uo,{label:this._translate("Expression language"),onChange:this.setExpressionLanguage,options:i,value:n,className:"expression-language-select dms-block"}),2),2)],4)}}const Win={__depends__:[Yy,mNe,Ky,D9e],__init__:["literalExpressionProperties"],literalExpressionProperties:["type",(()=>{class t{constructor(i){i.onGetComponent("viewer",500,()=>Hin)}}return t.$inject=["components"],t})()]},Yin={__init__:["idChangeBehavior","nameChangeBehavior","modeling"],commandStack:["type",ks],idChangeBehavior:["type",hF],nameChangeBehavior:["type",ore],modeling:["type",(()=>{class t{constructor(i,s,o){this._commandStack=i,this._viewer=s,this._eventBus=o,o.on("viewer.init",()=>{!function Kin(t,n){fe(t,function(i,s){n.registerHandler(s,i)})}(this.getHandlers(),i)})}getHandlers(){return t._getHandlers()}static _getHandlers(){return{"element.updateProperties":Lre}}getDecision(){return this._viewer.getDecision()}editDecisionName(i){const o={element:this.getDecision(),properties:{name:i}};this._commandStack.execute("element.updateProperties",o)}editDecisionId(i){const o={element:this.getDecision(),properties:{id:i}};this._commandStack.execute("element.updateProperties",o)}editLiteralExpressionText(i){const a={element:this.getDecision().decisionLogic,properties:{text:i}};this._commandStack.execute("element.updateProperties",a)}editExpressionLanguage(i){const a={element:this.getDecision().decisionLogic,properties:{expressionLanguage:i}};this._commandStack.execute("element.updateProperties",a)}editVariableName(i){const a={element:this.getDecision().variable,properties:{name:i}};this._commandStack.execute("element.updateProperties",a)}editVariableType(i){const a={element:this.getDecision().variable,properties:{typeRef:i}};this._commandStack.execute("element.updateProperties",a)}updateProperties(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:s})}}return t.$inject=["commandStack","viewer","eventBus"],t})()]};class Xin extends yn{constructor(n,i){super(n,i),this._modeling=i.injector.get("modeling"),this._viewer=i.injector.get("viewer"),this._expressionLanguages=i.injector.get("expressionLanguages"),this._variableResolver=i.injector.get("variableResolver",!1),this._translate=i.injector.get("translate"),this.editLiteralExpressionText=this.editLiteralExpressionText.bind(this),this.onElementsChanged=this.onElementsChanged.bind(this);const{id:s}=this.getLiteralExpression();i.changeSupport.onElementsChanged(s,this.onElementsChanged)}getLiteralExpression(){return this._viewer.getDecision().decisionLogic}onElementsChanged(){this.forceUpdate()}editLiteralExpressionText(n){this._modeling.editLiteralExpressionText(n)}getEditor(){return this.isFeel()?Qin:Zin}isFeel(){return"feel"===this.getExpressionLanguage()}getExpressionLanguage(){return this.getLiteralExpression().expressionLanguage||this._expressionLanguages.getDefault().value}_getVariables(){const n=this.getLiteralExpression();return this._variableResolver&&this._variableResolver.getVariables(n)}render(){const{text:n}=this.getLiteralExpression(),i=this.getEditor(),s=this._getVariables();return At(2,i,{label:this._translate("Literal expression editor"),className:"textarea editor",value:n,onChange:this.editLiteralExpressionText,variables:s})}}class Qin extends yn{render(){return At(2,AF,{label:this.props.label,className:this.props.className,value:this.props.value,onInput:this.props.onChange,variables:this.props.variables})}}class Zin extends M5{render(){return J(1,"div",this.getClassName(),this.getEditor(),0)}}const Jin={__depends__:[Yy,nl],__init__:["textarea"],textarea:["type",(()=>{class t{constructor(i){i.onGetComponent("viewer",()=>Xin)}}return t.$inject=["components"],t})()]};class Gre extends uD{getModules(){return[...uD._getModules(),...Gre._getModules()]}static _getModules(){return[$in,mNe,Win,Yin,Ky,MF,Jin,ure]}}function tsn(t,{injector:n}){const s=n.get("components").getComponents("header");return J(1,"div","dmn-boxed-expression-section dmn-boxed-expression-header",s&&s.map((o,a)=>At(2,o,null,a)),0)}function nsn(t,{injector:n}){const s=n.get("components").getComponents("body");return J(1,"div","dmn-boxed-expression-section dmn-boxed-expression-body",s&&s.map((o,a)=>At(2,o,null,a)),0)}function rsn(t,{injector:n}){const s=n.get("components").getComponents("footer");return J(1,"div","dmn-boxed-expression-section dmn-boxed-expression-footer",s&&s.map((o,a)=>At(2,o,null,a)),0)}const isn={__init__:["viewRenderer","tableJsSupport"],viewRenderer:["type",(()=>class t{static $inject=["components"];constructor(i){i.onGetComponent("viewer",()=>tsn),i.onGetComponent("viewer",()=>nsn),i.onGetComponent("viewer",()=>rsn)}})()],tableJsSupport:["type",(()=>class t{static $inject=["components"];constructor(i){i.onGetComponent("viewer",()=>{const s=i.getComponents("table.before")||[];return()=>J(1,"div",null,s.map((o,a)=>At(2,o,null,a)),0)})}})()]},osn={__init__:["poweredBy"],poweredBy:["type",(()=>{class t{constructor(i){i.onGetComponent("viewer",2e3,()=>Kne)}}return t.$inject=["components"],t})()]};let asn=(()=>class t{static $inject=["components"];constructor(i){i.onGetComponent("expression",({expression:s})=>{if(Je(s,"dmn:LiteralExpression"))return lsn})}})();function lsn({expression:t},n){return J(1,"div","textarea",J(1,"div","content",n.injector.get("literalExpression").getText(t),0),2)}class gNe{getText(n){return n.get("text")}}const csn={__init__:["literalExpressionComponent"],literalExpressionComponent:["type",asn],literalExpression:["type",gNe]};class yNe{getParameters(n){return n.get("formalParameter")}getBody(n){return n.get("body")}getKind(n){return n.get("kind")||"FEEL"}}function dsn({expression:t},n){const i=n.injector.get("functionDefinition"),s=i.getKind(t),o=i.getParameters(t),a=i.getBody(t);return J(1,"div","function-definition",[At(2,fsn,{kind:s}),At(2,hsn,{parameters:o}),At(2,gsn,{expression:a})],4)}const psn={FEEL:"F",Java:"J",PMML:"P"};function fsn({kind:t},n){const i=n.injector.get("translate");return J(1,"div","function-definition-kind",psn[t],0,{title:i("Function kind: {kind}",{kind:t})})}function hsn({parameters:t}){return J(1,"div","function-definition-parameters",J(1,"div",null,[Vr("("),t.reduce((n,i)=>n.concat(At(2,msn,{parameter:i}),", "),[]).slice(0,-1),Vr(")")],0),2)}function msn({parameter:t}){const{name:n,typeRef:i}=t,s=n||"<unnamed>";return J(1,"span",null,i?`${s}: ${i}`:s,0)}function gsn({expression:t},n){return J(1,"div","function-definition-body",At(2,n.components.getComponent("expression",{expression:t}),{expression:t}),2)}const ysn={__init__:["functionDefinitionComponent"],functionDefinition:["type",yNe],functionDefinitionComponent:["type",(()=>class t{static $inject=["components"];constructor(i){i.onGetComponent("expression",({expression:s})=>{if(Je(s,"dmn:FunctionDefinition"))return dsn})}})()]};let vsn=(()=>{class t extends yn{constructor(i,s){super(i,s);const{injector:o}=s;this._translate=o.get("translate"),this._eventBus=o.get("eventBus")}onClick=()=>{this._eventBus.fire("showDrd")};render(){return J(1,"div","view-drd",J(1,"button","view-drd-button",this._translate("View DRD"),0,{type:"button",onClick:this.onClick}),2,null,null,i=>this.node=i)}}return t.$inject=["translate"],t})();const _sn={__init__:["viewDrd"],viewDrd:["type",(()=>{class t{constructor(i,s,o){this._injector=o,i.onGetComponent("viewer",2e3,()=>{if(this.canViewDrd())return vsn}),s.on("showDrd",()=>{const a=o.get("_parent",!1),l=a.getDefinitions(),c=a.getView(l);a.open(c)})}canViewDrd(){const i=this._injector.get("_parent",!1);if(!i)return;const s=i.getDefinitions();return!!i.getView(s)}}return t.$inject=["components","eventBus","injector"],t})()]};function Esn(t,n){const i=n.injector.get("viewer"),{name:s}=i.getRootElement();return J(1,"div","element-properties",J(1,"h2","element-name",s,0),2)}const xsn={__init__:["elementProperties"],elementProperties:["type",(()=>{class t{constructor(i){i.onGetComponent("header",()=>Esn)}}return t.$inject=["components"],t})()]};function Ssn(t,{injector:n}){const i=n.get("components"),a=function Osn(t){return Je(t,"dmn:Decision")?t.get("decisionLogic"):Je(t,"dmn:BusinessKnowledgeModel")?t.get("encapsulatedLogic"):void 0}(n.get("viewer").getRootElement());return At(2,i.getComponent("expression",{expression:a}),{expression:a})}function Tsn({expression:t}){return J(1,"div",null,J(1,"span",null,[Vr("Expression of type "),t.$type,Vr(" is not supported.")],0,{style:"color:red;"}),2)}const Psn={__init__:["elementLogic"],elementLogic:["type",(()=>class t{static $inject=["components"];constructor(i){i.onGetComponent("body",()=>Ssn),i.onGetComponent("expression",100,()=>Tsn)}})()]};let vNe=(()=>class t{static $inject=["viewer"];constructor(i){this._viewer=i}getName(){const i=this.getVariable(),s=this._getElement();return(i?i.get("name"):null)||s.get("name")}getType(){const i=this.getVariable();return i?i.get("typeRef"):"Any"}_getElement(){return this._viewer.getRootElement()}getVariable(){return this._getElement().get("variable")}})();function ksn(t,n){const i=n.injector.get("elementVariable"),s=n.injector.get("translate"),o=i.getName(),a=i.getType();return J(1,"div","element-variable",[J(1,"h2",null,Vr("Result"),2),J(1,"div","element-variable-name",[J(1,"span","element-variable-name-label",s("Variable name"),0),J(1,"span",null,o,0)],4),J(1,"div","element-variable-type",[J(1,"span","element-variable-type-label",s("Variable type"),0),J(1,"span",null,a,0)],4)],4)}const Msn={__init__:["elementVariableComponent"],elementVariable:["type",vNe],elementVariableComponent:["type",(()=>class t{static $inject=["components"];constructor(i){i.onGetComponent("footer",()=>ksn)}})()]};class Kre extends uNe{constructor(n={}){const i=Kre._createContainer();super(Ce(n,{renderer:{container:i}})),this._container=i}open(n){const i=this.get("eventBus");return new Promise((s,o)=>{let a;try{this.getRootElement()&&(this.clear(),i.fire("renderer.unmount")),this._setRootElement(n),i.fire("import",n),i.fire("renderer.mount")}catch(l){a=l}a?(a.warnings=a.warnings||[],o(a)):s({warnings:[]})})}_init(n){let{modules:i,additionalModules:s,...o}=n;return{modules:[...i||this.getModules(),...s||[],{viewer:["value",this]}],config:o}}on(n,i,s,o){return this.get("eventBus").on(n,i,s,o)}off(n,i){this.get("eventBus").off(n,i)}_emit(n,i){return this.get("eventBus").fire(n,i)}getRootElement(){return this._root}_setRootElement(n){this._root=n}attachTo(n){if(!n)throw new Error("parentNode required");this.detach(),n.appendChild(this._container),this._emit("attach",{})}detach(){const n=this._container;n.parentNode&&(this._emit("detach",{}),el(n))}destroy(){super.destroy(),this.detach()}getModules(){return[isn,nl,osn,_sn,xsn,Psn,ysn,csn,Msn]}static _createContainer(){return Xr('<div class="dmn-boxed-expression-container"></div>')}}const Asn={__depends__:[n6],__init__:["keyboardBindings"],keyboardBindings:["type",(()=>class t{static $inject=["editorActions","keyboard"];constructor(i,s){this.registerBindings(s,i)}registerBindings(i,s){function o(a,l){s.isRegistered(a)&&i.addListener(l)}o("undo",function(a){if(eA(a.keyEvent))return s.trigger("undo"),!0}),o("redo",function(a){if(tA(a.keyEvent))return s.trigger("redo"),!0})}})()]};let Isn=(()=>class t extends pt{static $inject=["eventBus","modeling"];constructor(i,s){super(i),this._modeling=s,this.postExecuted("element.updateProperties",this.updateName)}updateName=({context:i})=>{const{element:s,properties:o}=i;this.isNameChanged(o)&&(this.isVariable(s)?this.handleVariableNameChange(s):this.isVariableContainer(s)&&this.handleVariableContainerNameChange(s))};isNameChanged(i){return"name"in i}isVariable(i){const s=bNe(i);return Je(i,"dmn:InformationItem")&&s&&s.get("variable")===i}isVariableContainer(i){const s=i.get("variable");return s&&Je(s,"dmn:InformationItem")}handleVariableNameChange(i){const s=bNe(i),o=i.get("name");o!==s.get("name")&&this._modeling.updateProperties(s,{name:o})}handleVariableContainerNameChange(i){const s=i.get("variable"),o=i.get("name");s&&o!==s.get("name")&&this._modeling.updateProperties(s,{name:o})}})();function bNe(t){return t.$parent}const Lsn={__init__:["idChangeBehavior","modeling","nameChangeBehavior"],commandStack:["type",ks],idChangeBehavior:["type",hF],modeling:["type",(()=>{class t{constructor(i,s,o){this._commandStack=i,this._viewer=s,this._eventBus=o,function Nsn(t,n){fe(t,function(i,s){n.registerHandler(s,i)})}(this._getHandlers(),i)}_getHandlers(){return{"element.updateProperties":Lre}}updateProperties(i,s){this._commandStack.execute("element.updateProperties",{element:i,properties:s})}}return t.$inject=["commandStack","viewer","eventBus"],t})()],nameChangeBehavior:["type",Isn]};function tv(t,n){return function(i){return qy(At(2,Fsn,{...i,_component:t,_selectDependencies:n}))}}class Fsn extends yn{constructor(n,i){super(n,i),this._eventBus=i.injector.get("eventBus")}componentDidMount(){this._subscribe()}componentWillUnmount(){this._unsubscribe()}_subscribe(){this._eventBus.on("elements.changed",this.onChange)}_unsubscribe(){this._eventBus.off("elements.changed",this.onChange)}onChange=({elements:n})=>{this.props._selectDependencies(this.props).some(s=>n.includes(s))&&this.forceUpdate()};render(){return qy(At(2,this.props._component,{...this.props}))}}function $sn(t){return qy(At(2,AF,{...t,onChange:t.onChange}))}class Vsn extends M5{render(){return J(1,"div",this.getClassName(),this.getEditor(),0)}}const jsn=tv(class Bsn extends yn{constructor(n,i){super(n,i),this._literalExpression=i.injector.get("literalExpression"),this._translate=i.injector.get("translate"),this._expressionLanguages=i.injector.get("expressionLanguages"),this._variableResolver=i.injector.get("variableResolver",!1)}getLiteralExpression(){return this.props.expression}editLiteralExpressionText=n=>{const i=this.getLiteralExpression();this._literalExpression.setText(i,n)};getEditor(){return this.isFeel()?$sn:Vsn}isFeel(){return function HYt(t){for(let n=t;n;n=n.$parent){const i=n.get("expressionLanguage");if(i)return!("https://www.omg.org/spec/DMN/20191111/FEEL/"!==i&&!/feel/i.test(i));if(Je(n,"dmn:FunctionDefinition"))return"FEEL"===(n.get("kind")||"FEEL")}return!0}(this.getLiteralExpression())}_getVariables(){const n=this.getLiteralExpression();return this._variableResolver&&this._variableResolver.getVariables(n)}render(){const{text:n}=this.getLiteralExpression(),i=this.getEditor(),s=this._getVariables();return At(2,i,{label:this._translate("Literal expression"),className:"textarea editor",value:n,onChange:this.editLiteralExpressionText,variables:s})}},t=>[t.expression]),zsn={__init__:["literalExpressionComponent"],literalExpressionComponent:["type",(()=>class t{static $inject=["components"];constructor(i){i.onGetComponent("expression",({expression:s})=>{if(Je(s,"dmn:LiteralExpression"))return jsn})}})()],literalExpression:["type",(()=>{class t extends gNe{constructor(i){super(),this._modeling=i}setText(i,s){this._modeling.updateProperties(i,{text:s})}}return t.$inject=["modeling"],t})()]};let Hsn=(()=>class t extends yNe{static $inject=["modeling","dmnFactory"];constructor(i,s){super(),this._modeling=i,this._dmnFactory=s}addParameter(i){this._modeling.updateProperties(i,{formalParameter:[...this.getParameters(i),this._dmnFactory.create("dmn:InformationItem",{name:"",typeRef:""})]})}removeParameter(i,s){this._modeling.updateProperties(i,{formalParameter:this.getParameters(i).filter(o=>o!==s)})}updateParameter(i,s){this._modeling.updateProperties(i,s)}setKind(i,s){this._modeling.updateProperties(i,{kind:s})}})();function _Ne({label:t,onClick:n}){return J(1,"button","edit-button dmn-icon-edit",null,1,{"aria-label":t,type:"button",onClick:n})}let Usn=(()=>class t{static $inject=["components"];constructor(i){i.onGetComponent("expression",({expression:s})=>{if(Je(s,"dmn:FunctionDefinition"))return qsn})}})();const qsn=tv(function Wsn({expression:t},n){const i=n.injector.get("functionDefinition"),s=n.injector.get("contextMenu"),o=i.getKind(t),a=i.getParameters(t),l=i.getBody(t);return J(1,"div","function-definition",[At(2,Ksn,{kind:o,openEditor:d=>{const p=ENe(d);s.open(p,{contextMenuType:"kind-editor",expression:t})}}),At(2,Ysn,{parameters:a,openEditor:d=>{const p=ENe(d);s.open(p,{contextMenuType:"formal-parameters-editor",expression:t})}}),At(2,Zsn,{expression:l,parameters:a})],4)},t=>[t.expression]),Gsn={FEEL:"F",Java:"J",PMML:"P"};function Ksn({kind:t,openEditor:n},i){const s=i.injector.get("translate");return J(1,"div","function-definition-kind",[Gsn[t],At(2,_Ne,{label:s("Edit function kind"),onClick:n})],0)}function Ysn({openEditor:t,parameters:n},i){const s=i.injector.get("translate");return J(1,"div","function-definition-parameters",[J(1,"div",null,[Vr("("),n.reduce((o,a)=>o.concat(At(2,Xsn,{parameter:a}),", "),[]).slice(0,-1),Vr(")")],0),At(2,_Ne,{label:s("Edit formal parameters"),onClick:t})],4)}const Xsn=tv(function Qsn({parameter:t}){const{name:n,typeRef:i}=t,s=n||"<unnamed>";return J(1,"span",null,i?`${s}: ${i}`:s,0)},t=>[t.parameter]),Zsn=tv(function Jsn({expression:t,parameters:n},i){return J(1,"div","function-definition-body",At(2,i.components.getComponent("expression",{expression:t}),{expression:t,parameters:n}),2)},t=>t.parameters);function ENe(t){const i=t.target.parentElement.getBoundingClientRect();return{x:i.x,y:i.y}}const eon=[{value:"FEEL",label:"FEEL"},{value:"Java",label:"Java"},{value:"PMML",label:"PMML"}];let ton=(()=>class t{static $inject=["components"];constructor(i){i.onGetComponent("context-menu",(s={})=>{if(s.contextMenuType&&"kind-editor"===s.contextMenuType)return non})}})();function non({context:{expression:t}},n){const i=n.injector.get("functionDefinition"),s=n.injector.get("translate"),o=i.getKind(t);return J(1,"div","context-menu-container",[J(1,"h3",null,s("Edit function kind"),0),At(2,Uo,{label:s("Kind"),options:eon,value:o,onChange:l=>{i.setKind(t,l)},noInput:!0})],4)}let ron=(()=>class t{static $inject=["components"];constructor(i){i.onGetComponent("context-menu",(s={})=>{if(s.contextMenuType&&"formal-parameters-editor"===s.contextMenuType)return ion})}})();const ion=tv(function son({context:{expression:t}},n){const i=n.injector.get("functionDefinition"),s=n.injector.get("translate"),o=i.getParameters(t);return J(1,"div","context-menu-container formal-parameters",[J(1,"h3",null,s("Edit formal parameters"),0),o.length?J(1,"table",null,[J(1,"thead",null,J(1,"tr",null,[J(1,"th",null,Vr("Name"),2),J(1,"th",null,Vr("Type"),2)],4),2),J(1,"tbody",null,o.map((c,u)=>At(2,oon,{parameter:c,remove:()=>(c=>{i.removeParameter(t,c)})(c)},u)),0)],4):null,J(1,"button","add-parameter",s("Add parameter"),0,{type:"button",onClick:()=>{i.addParameter(t)}})],0)},t=>[t.context.expression]),oon=tv(function({parameter:t,remove:n},i){const s=i.injector.get("dataTypes"),o=i.injector.get("translate"),a=i.injector.get("functionDefinition"),{name:l,typeRef:c}=t,p=s.getAll().map(f=>({label:o(f),value:f}));return J(1,"tr","function-definition-parameter",[J(1,"td",null,At(2,sg,{onChange:f=>{a.updateParameter(t,{name:f})},value:l}),2),J(1,"td",null,At(2,Uo,{onChange:f=>{a.updateParameter(t,{typeRef:f})},value:c,options:p}),2),J(1,"td",null,J(1,"button","dmn-icon-trash",null,1,{type:"button",onClick:n,"aria-label":o("Remove parameter")}),2)],4)},t=>[t.parameter]),aon={__init__:["formalParametersEditorComponent","functionDefinitionComponent","kindEditorComponent"],__depends__:[Xy],formalParametersEditorComponent:["type",ron],functionDefinition:["type",Hsn],functionDefinitionComponent:["type",Usn],kindEditorComponent:["type",ton]},lon=tv(function(t,n){const{element:i}=t,s=n.injector.get("modeling"),o=n.injector.get("translate"),a=i.get("name");return At(2,sg,{label:o("Element name"),className:"element-name editor",value:a,onChange:c=>{s.updateProperties(i,{name:c})}})},t=>[t.element]);function con(t,n){const s=n.injector.get("viewer").getRootElement();return J(1,"div","element-properties",At(2,lon,{element:s}),2)}const uon={__depends__:[Yy],__init__:["elementProperties"],elementProperties:["type",(()=>{class t{constructor(i){i.onGetComponent("header",()=>con)}}return t.$inject=["components"],t})()]},don={__init__:["elementRegistry"],elementRegistry:["type",(()=>{class t{constructor(i,s){this._eventBus=s,this._viewer=i}updateId(i,s){if(i!==this._viewer.getRootElement())throw new Error("element !== rootElement");this._eventBus.fire("element.updateId",{element:i,newId:s}),i.id=s}}return t.$inject=["viewer","eventBus"],t})()],dmnFactory:["type",(()=>class t{static $inject=["moddle"];constructor(i){this._moddle=i}create(i,s={}){return this._moddle.create(i,s)}})()]},xNe="dmn-boxed-expression-variable-type";function hon(t,n){const i=n.injector.get("elementVariable"),s=n.injector.get("translate"),o=i.getName();return J(1,"div","element-variable",[J(1,"h2",null,Vr("Result"),2),J(1,"div","element-variable-name",[J(1,"span","element-variable-name-label",s("Variable name"),0),J(1,"span",null,o,0)],4),J(1,"div","element-variable-type",[J(1,"label","element-variable-type-label",Vr("Result type"),2,{for:xNe}),At(2,mon)],4)],4)}function mon(t,n){const i=n.injector.get("elementVariable"),s=n.injector.get("dataTypes"),o=n.injector.get("translate"),a=i.getType(),c=s.getAll().map(u=>({label:o(u),value:u}));return At(2,Uo,{value:a,onChange:u=>i.setType(u),options:c,id:xNe})}const gon={__init__:["elementVariableComponent"],elementVariable:["type",(()=>class t extends vNe{static $inject=["viewer","modeling","dmnFactory"];constructor(i,s,o){super(i),this._modeling=s,this._dmnFactory=o}setType(i){const s=this.getVariable();if(s)this._modeling.updateProperties(s,{typeRef:i});else{const o=this._getElement();this._modeling.updateProperties(o,{variable:this._dmnFactory.create("dmn:InformationItem",{name:o.get("name"),typeRef:i})})}}})()],elementVariableComponent:["type",(()=>class t{static $inject=["components","elementVariable"];constructor(i,s){const o=tv(hon,()=>[s.getVariable()]);i.onGetComponent("footer",()=>o)}})()]},wNe="is not a registered action";function Yre(t,n){return new Error(t+" "+n)}const bon={__init__:["editorActions"],editorActions:["type",(()=>{class t{constructor(i,s){this._actions={undo(){i.undo()},redo(){i.redo()}}}trigger(i,s){if(!this._actions[i])throw Yre(i,wNe);return this._actions[i](s)}register(i,s){if("string"==typeof i)return this._registerAction(i,s);fe(i,(o,a)=>{this._registerAction(a,o)})}_registerAction(i,s){if(this.isRegistered(i))throw Yre(i,"is already registered");this._actions[i]=s}unregister(i){if(!this.isRegistered(i))throw Yre(i,wNe);this._actions[i]=void 0}isRegistered(i){return!!this._actions[i]}}return t.$inject=["commandStack","eventBus"],t})()]};class _on extends Kre{getModules(){return[...super.getModules(),don,Lsn,bon,uon,aon,Ky,zsn,Asn,MF,gon,ure]}}class Eon extends UYt{_getViewProviders(){return[{id:"drd",constructor:S5,opens:"dmn:Definitions"},{id:"decisionTable",constructor:qre,opens:n=>Je(n,"dmn:Decision")&&Je(n.decisionLogic,"dmn:DecisionTable")},{id:"literalExpression",constructor:Gre,opens:n=>Je(n,"dmn:Decision")&&Je(n.decisionLogic,"dmn:LiteralExpression")},{id:"boxedExpression",constructor:_on,opens:n=>Je(n,"dmn:BusinessKnowledgeModel")&&tF(n)}]}_getInitialView(n,...i){let s=super._getInitialView(n,...i);if(!s)return;const o=s.element;return Je(o,"dmn:Definitions")&&!xRe(o)&&(s=Gt(n,a=>!Je(a.element,"dmn:Definitions"))||s),s}}const CNe=km({selectedElement:null,injector:null,getService:()=>null});function iu(t,n){var i=su(t);return i&&"function"==typeof i.$instanceOf&&i.$instanceOf(n)}function su(t){return t&&t.businessObject||t}var SNe,ONe,TNe,PNe,DNe;function Xre(){return Xre=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Xre.apply(null,arguments)}function Qre(){return Qre=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Qre.apply(null,arguments)}function Zre(){return Zre=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Zre.apply(null,arguments)}function Jre(){return Jre=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Jre.apply(null,arguments)}function eie(){return eie=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},eie.apply(null,arguments)}var kNe,MNe,ANe,INe,RNe,tie=function(n){return Mi("svg",eie({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},n),DNe||(DNe=Mi("path",{d:"M3.563 0A3.554 3.554 0 0 0 .01 3.552L0 28.446A3.554 3.554 0 0 0 3.555 32h24.882a3.554 3.554 0 0 0 3.554-3.552L32 3.554A3.554 3.554 0 0 0 28.445 0H3.563ZM14 14l15 .016V20l-15-.016V14Zm0-11 15 .022V11l-15-.022V3Zm-3 16.992L3 20v-5.992L11 14v5.992Zm0-9.003L3 11V3.01L11 3v7.99ZM3 23.008 11 23v5.992L3 29v-5.992Zm11 5.984V23l15 .016V29l-15-.008Z"})))};function nie(){return nie=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},nie.apply(null,arguments)}function rie(){return rie=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},rie.apply(null,arguments)}function iie(){return iie=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},iie.apply(null,arguments)}function sie(){return sie=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},sie.apply(null,arguments)}function oie(){return oie=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},oie.apply(null,arguments)}var Ron={Association:function(n){return Mi("svg",Xre({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},n),SNe||(SNe=Mi("path",{fill:"none",stroke:"#000",strokeDasharray:"3.3,6",strokeLinecap:"square",strokeWidth:2,d:"m1.5 30.5 29-29"})))},AuthorityRequirement:function(n){return Mi("svg",Qre({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},n),ONe||(ONe=Mi("path",{fillRule:"evenodd",d:"m6.364 24.235 1.414 1.414-6.364 6.364L0 30.598l6.364-6.363Zm8-8 1.414 1.414-6.364 6.364L8 22.598l6.364-6.363Zm8-8 1.414 1.414-6.364 6.364L16 14.598l6.364-6.363ZM28 0a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z"})))},BusinessKnowledgeModel:function(n){return Mi("svg",Zre({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},n),TNe||(TNe=Mi("path",{d:"M6.258 8 0 15.358l.001.325.028 8.259h25.977L32 16.518V8H6.258Zm.812 1.756h23.174v6.142l-5.077 6.288H1.779L1.759 16l5.31-6.245Z"})))},Decision:function(n){return Mi("svg",Jre({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},n),PNe||(PNe=Mi("path",{fillRule:"evenodd",d:"M0 6v20.711h32V6H0Zm1.697 1.697h28.606v17.317H1.697V7.697Z"})))},DecisionTable:tie,Definitions:tie,DRD:tie,InformationRequirement:function(n){return Mi("svg",nie({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},n),kNe||(kNe=Mi("path",{d:"M32 .06S20.33 6.015 14.403 8.8c1.27 1.16 2.451 2.41 3.676 3.615L0 30.734 1.325 32l18.08-18.32c1.227 1.223 2.448 2.453 3.676 3.676C26.247 11.121 32 .06 32 .06Z"})))},InputData:function(n){return Mi("svg",rie({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},n),MNe||(MNe=Mi("path",{d:"M6.384 8c-1.825 0-3.458.945-4.587 2.382C.667 11.82 0 13.756 0 15.88c0 2.125.667 4.062 1.797 5.499 1.13 1.437 2.762 2.382 4.587 2.382h19.232c1.825 0 3.458-.945 4.587-2.382C31.333 19.942 32 18.005 32 15.88c0-2.124-.667-4.06-1.797-5.498C29.073 8.945 27.441 8 25.616 8H6.384Zm0 1.763h19.232c1.223 0 2.342.616 3.201 1.709.86 1.093 1.42 2.656 1.42 4.408 0 1.753-.56 3.316-1.42 4.409-.86 1.093-1.978 1.708-3.2 1.708H6.383c-1.223 0-2.342-.615-3.201-1.708-.86-1.093-1.42-2.656-1.42-4.409 0-1.752.56-3.315 1.42-4.408.86-1.093 1.978-1.709 3.2-1.709Z"})))},KnowledgeRequirement:function(n){return Mi("svg",iie({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},n),ANe||(ANe=Mi("path",{fillRule:"evenodd",d:"m6.364 24.235 1.414 1.414-6.364 6.364L0 30.598l6.364-6.363Zm8-8 1.414 1.414-6.364 6.364L8 22.598l6.364-6.363Zm8-8 1.414 1.414-6.364 6.364L16 14.598l6.364-6.363ZM32 12.06h-2V3.426l-4.586 4.587L24 6.598l4.537-4.538H20v-2h12v12Z"})))},KnowledgeSource:function(n){return Mi("svg",sie({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},n),INe||(INe=Mi("path",{d:"M0 5V23.376l.348.23c4.812 3.182 8.946 2.865 12.41 1.63 3.464-1.235 6.366-3.239 8.999-3.589l.02-.003.021-.003c3.576-.675 5.681.439 9.126 1.88l1.076.45V5.064L0 5Zm1.553 1.557 28.894.059v15.016c-2.89-1.22-5.358-2.187-8.918-1.521-3.199.433-6.1 2.523-9.293 3.662C9.12 24.884 5.83 25.23 1.553 22.535V6.557Z"})))},TextAnnotation:function(n){return Mi("svg",oie({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},n),RNe||(RNe=Mi("path",{d:"M22.087 0v31.647H32v-1.788h-8.125V1.788H32V0h-9.913Zm-2.924 13.999-2.737 2.167 2.167 2.738 2.738-2.167-2.168-2.738Zm-5.475 4.335L10.95 20.5l2.168 2.738 2.737-2.168-2.167-2.737Zm-5.475 4.335-2.738 2.167 2.168 2.738 2.737-2.168-2.167-2.737Zm-5.476 4.335L0 29.17l2.167 2.738 2.738-2.168-2.168-2.737Z"})))}};function NNe(t){const{type:n}=t;return function Lon(t){return t.split(":")[1]}(n)}const Non={getElementLabel:t=>iu(t,"dmn:Definitions")?su(t).get("name"):function Con(t){var n=t.businessObject,i=function won(t){return iu(t,"dmn:Decision")||iu(t,"dmn:BusinessKnowledgeModel")||iu(t,"dmn:InputData")||iu(t,"dmn:KnowledgeSource")?"name":iu(t,"dmn:TextAnnotation")?"text":void 0}(n);if(i)return n[i]||""}(t),getElementIcon:t=>{const n=NNe(t);return Ron[n]},getTypeLabel:t=>NNe(t).replace(/(\B[A-Z])/g," $1").replace(/(\bNon Interrupting)/g,"($1)")},Fon={getEmpty:()=>({text:"Select an element to edit its properties.",icon:null}),getMultiple:()=>({text:"Multiple elements are selected. Select a single element to edit its properties.",icon:null})};function Bon(t){const{element:n,injector:i,getProviders:s,layoutConfig:o,descriptionConfig:a,tooltipConfig:l}=t,c=i.get("canvas"),u=i.get("elementRegistry"),d=i.get("eventBus"),[p,f]=Ir({selectedElement:n}),h=p.selectedElement,m=g=>{if(!g)return;let x=g;x&&"label"===x.type&&(x=x.labelTarget),f({...p,selectedElement:x}),d.fire("propertiesPanel.updated",{element:x})};Yn(()=>{const g=x=>{const{newSelection:T=[]}=x;if(T.length>1)return m(T);const I=T[0],A=c.getRootElement();LNe(A)||m(I||A)};return d.on("selection.changed",g),()=>{d.off("selection.changed",g)}},[]),Yn(()=>{const g=x=>{const I=function $on(t,n){return Gt(t,i=>i===n)}(x.elements,h);I&&function Von(t,n){return t&&n.get(t.id)}(I,u)&&m(I)};return d.on("elements.changed",g),()=>{d.off("elements.changed",g)}},[h]),Yn(()=>{const g=x=>{const T=x.element;LNe(T)||m(T)};return d.on("root.added",g),()=>{d.off("root.added",g)}},[h]),Yn(()=>{const g=()=>{m(h)};return d.on("propertiesPanel.providersChanged",g),()=>{d.off("propertiesPanel.providersChanged",g)}},[h]);const y={selectedElement:h,injector:i,getService:(g,x)=>i.get(g,x)},E=s(h),_=ol(()=>Ts(E,function(g,x){return Xt(h)?[]:x.getGroups(h)(g)},[]),[E,h]);return L(CNe.Provider,{value:y,children:L(E6e,{element:h,headerProvider:Non,placeholderProvider:Fon,groups:_,layoutConfig:o,layoutChanged:g=>{d.fire("propertiesPanel.layoutChanged",{layout:g})},descriptionConfig:a,descriptionLoaded:g=>{d.fire("propertiesPanel.descriptionLoaded",{description:g})},tooltipConfig:l,tooltipLoaded:g=>{d.fire("propertiesPanel.tooltipLoaded",{tooltip:g})},eventBus:d})})}function LNe(t){return t&&t.isImplicit}let zon=(()=>{class t{constructor(i,s,o,a){const{parent:l,layout:c,description:u,tooltip:d}=i||{};this._eventBus=o,this._injector=s,this._layoutConfig=c,this._descriptionConfig=u,this._tooltipConfig=d,this._container=Xr('<div style="height: 100%" tabindex="-1" class="bio-properties-panel-container"></div>');var p=s.get("commandStack",!1);p&&function Uon(t,n,i){function s(a){a.preventDefault(),a.stopPropagation()}function o(a){return eA(a)?(i.undo(),s(a)):tA(a)?(i.redo(),s(a)):void 0}n.on("keyboard.bind",function(){mn.bind(t,"keydown",o)}),n.on("keyboard.unbind",function(){mn.unbind(t,"keydown",o)})}(this._container,o,p),o.on("diagram.destroy",()=>{this.detach()}),o.on("import.done",f=>{const{element:h}=f;l&&this.attachTo(l),this._render(h)}),o.on("detach",f=>{this.detach()}),a.on("detach",()=>{this.detach()})}attachTo(i){if(!i)throw new Error("container required");i.get&&i.constructor.prototype.jquery&&(i=i.get(0)),"string"==typeof i&&(i=$n(i)),this.detach(),i.appendChild(this._container),this._eventBus.fire("propertiesPanel.attach")}detach(){const i=this._container.parentNode;i&&(i.removeChild(this._container),this._eventBus.fire("propertiesPanel.detach"))}registerProvider(i,s){s||(s=i,i=1e3),"function"==typeof s.getGroups?(this._eventBus.on("propertiesPanel.getProviders",i,function(o){o.providers.push(s)}),this._eventBus.fire("propertiesPanel.providersChanged")):console.error("Properties provider does not implement #getGroups(element) API")}_getProviders(){const i=this._eventBus.createEvent({type:"propertiesPanel.getProviders",providers:[]});return this._eventBus.fire(i),i.providers}_render(i){const s=this._injector.get("canvas");i||(i=s.getRootElement()),!function Hon(t){return t&&t.isImplicit}(i)&&(Dm(L(Bon,{element:i,injector:this._injector,getProviders:this._getProviders.bind(this),layoutConfig:this._layoutConfig,descriptionConfig:this._descriptionConfig,tooltipConfig:this._tooltipConfig}),this._container),this._eventBus.fire("propertiesPanel.rendered"))}_destroy(){this._container&&(Dm(null,this._container),this._eventBus.fire("propertiesPanel.destroyed"))}}return t.$inject=["config.propertiesPanel","injector","eventBus","_parent"],t})();const qon={"properties-panel.multi-command-executor":(()=>{class t{constructor(i){this._commandStack=i}preExecute(i){const s=this._commandStack;fe(i,function(o){s.execute(o.cmd,o.context)})}}return t.$inject=["commandStack"],t})()};function FNe(t,n){t.on("diagram.init",function(){fe(qon,function(i,s){n.registerHandler(s,i)})})}FNe.$inject=["eventBus","commandStack"];var Gon={__depends__:[{__init__:[FNe]},D6e,k6e],__init__:["propertiesPanel"],propertiesPanel:["type",zon]};function bs(t,n){const{getService:i}=lc(CNe);return i(t,n)}function Kon(t){const{element:n}=t;if(!iu(n,"dmn:DMNElement"))return[];const i=[{id:"description",component:Yon,element:n,isEdited:Mu}];return iu(n,"dmn:Decision")?i.concat([{id:"question",component:Xon,element:n,isEdited:Mu},{id:"allowedAnswers",component:Qon,element:n,isEdited:Mu}]):i}function Yon(t){const{element:n,id:i}=t,s=bs("modeling"),o=bs("debounceInput"),a=bs("translate");return vc({element:n,id:i,label:a("Description"),debounce:o,getValue:c=>su(c).get("description"),setValue:c=>{s.updateProperties(n,{description:c})}})}function Xon(t){const{element:n,id:i}=t,s=bs("modeling"),o=bs("debounceInput"),a=bs("translate");return vc({element:n,id:i,label:a("Question"),debounce:o,getValue:c=>su(c).get("question"),setValue:c=>{s.updateProperties(n,{question:c})}})}function Qon(t){const{element:n,id:i}=t,s=bs("modeling"),o=bs("debounceInput"),a=bs("translate");return vc({element:n,id:i,label:a("Allowed answers"),debounce:o,getValue:c=>su(c).get("allowedAnswers"),setValue:c=>{s.updateProperties(n,{allowedAnswers:c})}})}const Zon=/\s/,Jon=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,ean=/^[a-z_][\w-.]*$/i;function ran(t){const{element:n}=t;return[{id:"id",component:ian,element:n,isEdited:en}]}function ian(t){const{element:n,id:i}=t,s=bs("modeling"),o=bs("debounceInput"),a=bs("translate"),c=Cs(d=>su(d).id,[n]),u=Cs(d=>function BNe(t,n,i){const s=t.$model.ids.assigned(n);return n?s&&s!==t?i("ID must be unique."):function tan(t,n){return function nan(t){return Zon.test(t)}(t)?n("ID must not contain spaces."):ean.test(t)?void 0:Jon.test(t)?n("ID must not contain prefix."):n("ID must be a valid QName.")}(n,i):i("ID must not be empty.")}(su(n),d,a),[n,a]);return Ft({element:n,id:i,label:a("ID"),getValue:c,setValue:(d,p)=>{p||s.updateProperties(n,{id:d})},debounce:o,validate:u})}function san(t){const{element:n}=t;return function xon(t,n){return Gd(n,function(i){return iu(t,i)})}(n,["dmn:DRGElement","dmn:Definitions","dmn:TextAnnotation"])?[{id:"name",component:oan,element:n,isEdited:Mu}]:[]}function oan(t){const{element:n,id:i}=t,s=bs("modeling"),o=bs("debounceInput"),a=bs("translate");let l={element:n,id:i,label:a("Name"),debounce:o,getValue:c=>su(c).get("name"),setValue:c=>{s.updateProperties(n,{name:c})},autoResize:!0};return iu(n,"dmn:TextAnnotation")&&(l={...l,getValue:c=>su(c).get("text"),setValue:c=>{s.updateProperties(n,{text:c})}}),vc(l)}function lan(t){return[can(t),uan(t)].filter(i=>null!==i)}function can(t){return{id:"general",label:"General",entries:[...san({element:t}),...ran({element:t})],component:$r}}function uan(t){const n=[...Kon({element:t})];return n.length?{id:"documentation",label:"Documentation",entries:n,component:$r}:null}var dan={__init__:["dmnPropertiesProvider"],dmnPropertiesProvider:["type",(()=>{class t{constructor(i){i.registerProvider(this)}getGroups(i){return s=>[...s,...lan(i)]}}return t.$inject=["propertiesPanel"],t})()]};function $Ne(t,n,i,s){const o=s.create(t,n);return i&&(o.$parent=i),o}function Oan(t){const{element:n}=t,i=bs("drdFactory"),s=bs("commandStack"),o=bs("debounceInput"),a=bs("translate");return Ft({element:n,id:"versionTag",label:a("Version tag"),getValue:()=>{const u=VNe(n);if(u)return u.get("value")},setValue:u=>{let d=[];const p=su(n);let f=p.get("extensionElements");f||(f=$Ne("dmn:ExtensionElements",{values:[]},p,i),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:p,properties:{extensionElements:f}}}));let h=VNe(n);h||(h=$Ne("zeebe:VersionTag",{},f,i),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:f,properties:{values:[...f.get("values"),h]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{value:u}}}),s.execute("properties-panel.multi-command-executor",d)},debounce:o})}function VNe(t){return function Can(t,n){const i=t.get("extensionElements");if(!i)return[];const s=i.get("values");return s&&s.length?n?s.filter(o=>iu(o,n)):s:[]}(su(t),"zeebe:VersionTag")[0]}var Man={__init__:["zeebePropertiesProvider"],zeebePropertiesProvider:["type",(()=>{class t{constructor(i,s){i.registerProvider(500,this),this._injector=s}getGroups(i){return s=>(function Dan(t,n){const i=function kan(t,n){return t.find(i=>i.id===n)}(t,"general");if(!i)return;const{entries:s}=i,o=gu(s,a=>"id"===a.id);s.splice(o+1,0,...function San(t){const{element:n}=t;return iu(n,"dmn:Decision")?[{id:"versionTag",component:Oan,isEdited:en}]:[]}({element:n}))}(s,i),s)}}return t.$inject=["propertiesPanel","injector"],t})()]};const Aan={versionTag:t=>L("div",{children:L("p",{children:bs("translate")("Version tag by which this decision can be referenced.")})})},Ian=JSON.parse('{"name":"zeebe","prefix":"zeebe","uri":"http://camunda.org/schema/zeebe/1.0","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"VersionTag","superClass":["Element"],"meta":{"allowedIn":["dmn:Decision"]},"properties":[{"name":"value","type":"String","isAttr":true}]}]}');function aie(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,s=Array(n);i<n;i++)s[i]=t[i];return s}function dD(t,n,i){return n=VF(n),function zan(t,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function Nan(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,jNe()?Reflect.construct(n,i||[],VF(t).constructor):n.apply(t,i))}function nv(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function rv(t,n,i){return n&&function Lan(t,n){for(var i=0;i<n.length;i++){var s=n[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,HNe(s.key),s)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fan(t,n,i){return(n=HNe(n))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function VF(t){return(VF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)})(t)}function pD(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&lie(t,n)}function jNe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jNe=function(){return!!t})()}function zNe(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,s)}return i}function yl(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?zNe(Object(i),!0).forEach(function(s){Fan(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):zNe(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}function lie(t,n){return(lie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i})(t,n)}function z5(t){return function Ran(t){if(Array.isArray(t))return aie(t)}(t)||function Ban(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function Uan(t,n){if(t){if("string"==typeof t)return aie(t,n);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?aie(t,n):void 0}}(t)||function $an(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HNe(t){var n=function Han(t,n){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,n);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof n?n:n+""}function cie(t,n){var i=function qan(t){return t&&t.businessObject||t}(t);return i&&"function"==typeof i.$instanceOf&&i.$instanceOf(n)}function uie(t){return cie(t,"dmn:InputClause")}function UNe(t){return cie(t,"dmn:OutputClause")}var qNe=function(){return rv(function t(n){nv(this,t),n.registerProvider(this)},[{key:"getVariables",value:function(i,s){return i.map(function(o){return yl(yl({},o),{},{name:(t=o,n=t.origin,n&&cie(n,"dmn:Decision")?n.get("id"):t.name)});var t,n})}}])}();qNe.$inject=["variableResolver"];var die={__init__:["camundaVariableProvider"],camundaVariableProvider:["type",qNe]},Gan=["boxedExpression","common","decisionTable","drd","literalExpression"],Kan=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};nv(this,n);var s=i.boxedExpression,o=void 0===s?{}:s,a=i.common,l=void 0===a?{}:a,c=i.decisionTable,u=void 0===c?{}:c,d=i.drd,p=void 0===d?{}:d,f=i.literalExpression,h=void 0===f?{}:f,m=function Van(t,n){if(null==t)return{};var i,s,o=function jan(t,n){if(null==t)return{};var i={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(n.includes(s))continue;i[s]=t[s]}return i}(t,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n.includes(i=a[s])||{}.propertyIsEnumerable.call(t,i)&&(o[i]=t[i])}return o}(i,Gan),y=p.disableAdjustOrigin||l.disableAdjustOrigin,E=p.disableGrid||l.disableGrid;return dD(this,n,[yl(yl({},m),{},{common:l,boxedExpression:jF(o,[die]),decisionTable:jF(u,[die]),drd:jF(p,[y?D_e:M_e,E?{}:O_e,Gon,dan]),literalExpression:jF(h,[die])})])}return pD(n,t),rv(n)}(Eon);function jF(t,n){var i=t.additionalModules||[];return yl(yl({},t),{},{additionalModules:[].concat(z5(n),z5(i))})}class WNe extends yn{constructor(n,i){super(n,i),this.state={value:n.value}}onInput=n=>{const{onInput:i}=this.props,s=n.target.value;this.setState({value:s},()=>{"function"==typeof i&&i(s)})};onChange=n=>{const{onChange:i}=this.props;"function"==typeof i&&i(n.target.value)};onKeyDown=n=>{const{onKeyDown:i}=this.props;"function"==typeof i&&i(n)};onKeyUp=n=>{const{onKeyUp:i}=this.props;"function"==typeof i&&i(n)};componentDidUpdate(n){const{value:i}=this.props;i!==n.value&&i!==this.state.value&&this.setState({value:i})}render(){const{className:n,label:i,id:s,placeholder:o,type:a}=this.props,{value:l}=this.state;return J(64,"input",[n||"","dms-input"].join(" "),null,1,{"aria-label":i,placeholder:o||"",onChange:this.onChange,onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,spellCheck:"false",type:a||"text",value:l,id:s})}}var Yan=function(t){function n(i,s){var o;nv(this,n),(o=dD(this,n,[i,s]))._translate=s.injector.get("translate"),o._modeling=s.injector.get("modeling");var a=s.injector.get("debounceInput");return o.state={inputVariable:o.props.context.input.get("camunda:inputVariable")||""},o.handleInputVariableChange=o.handleInputVariableChange.bind(o),o._setInputVariable=a(o._setInputVariable),o}return pD(n,t),rv(n,[{key:"handleInputVariableChange",value:function(s){var o=this;this.setState({inputVariable:s||void 0},function(){return o._setInputVariable(s)})}},{key:"_setInputVariable",value:function(s){return this._modeling.updateProperties(this.props.context.input,{"camunda:inputVariable":s||void 0})}},{key:"render",value:function(){var s=this.state.inputVariable;return J(1,"div","context-menu-container",J(1,"div","dms-form-control",[J(1,"label","dms-label",this._translate("Input Variable"),0),At(2,WNe,{className:"ref-input-variable",value:s||"",onInput:this.handleInputVariableChange,placeholder:this._translate("cellInput")})],4),2)}}])}(yn);rv(function t(n){nv(this,t),n.onGetComponent("context-menu",function(){if("input-edit"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).contextMenuType)return Yan})}).$inject=["components"];class pie extends yn{constructor(n,i){super(n,i);const{validate:s,value:o}=n,a=s?s(o||""):void 0;this.state={validationWarning:a,value:o},this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this)}componentWillReceiveProps(n){const{validate:i,value:s}=n,o=i?i(s||""):void 0;this.setState({validationWarning:o,value:s})}onInput(n){const{onInput:i,validate:s}=this.props,o=s?s(n):void 0;this.setState({validationWarning:o,value:n}),"function"==typeof i&&i&&i({isValid:!o,value:n})}onKeyDown(n){const{target:i}=n,{value:s}=i,{onKeyDown:o,validate:a}=this.props,l=a?a(s):void 0;"function"==typeof o&&o({isValid:!l,value:s,event:n})}onKeyUp(n){const{target:i}=n,{value:s}=i,{onKeyUp:o,validate:a}=this.props,l=a?a(s):void 0;"function"==typeof o&&o({isValid:!l,value:s,event:n})}render(){const{placeholder:n,type:i,className:s,label:o}=this.props,{validationWarning:a,value:l}=this.state,c=["dms-validated-input",s].join(" "),u=[];return a&&u.push("invalid"),J(1,"div",c,[At(2,WNe,{className:u,label:o,onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,placeholder:n||"",type:i,value:l||""}),a&&J(1,"p","dms-hint dms-validation-warning",a,0)],0)}}var zF,KNe=!1;typeof document<"u"&&((zF=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',KNe=!zF.getElementsByTagName("link").length,zF=void 0);var sa={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:KNe?[1,"X<div>","</div>"]:[0,"",""]};sa.td=sa.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],sa.option=sa.optgroup=[1,'<select multiple="multiple">',"</select>"],sa.thead=sa.tbody=sa.colgroup=sa.caption=sa.tfoot=[1,"<table>","</table>"],sa.polyline=sa.ellipse=sa.polygon=sa.circle=sa.text=sa.line=sa.path=sa.rect=sa.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var eln=function Jan(t,n){if("string"!=typeof t)throw new TypeError("String expected");n||(n=document);var i=/<([\w:]+)/.exec(t);if(!i)return n.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var s=i[1];if("body"==s)return(u=n.createElement("html")).innerHTML=t,u.removeChild(u.lastChild);var u,o=Object.prototype.hasOwnProperty.call(sa,s)?sa[s]:sa._default,a=o[0],l=o[1],c=o[2];for((u=n.createElement("div")).innerHTML=l+t+c;a--;)u=u.lastChild;if(u.firstChild==u.lastChild)return u.removeChild(u.firstChild);for(var d=n.createDocumentFragment();u.firstChild;)d.appendChild(u.removeChild(u.firstChild));return d};let nln=(()=>{class t extends yn{constructor(i,s){super(i,s),function Xan(t){(function Qan(t,n){const i=t.$inject;if(!i)return;const{injector:s}=n.context,o=[...i,function(...a){for(const l in a)n[i[l]]=a[l]}];s.invoke(o)})(t.constructor,t)}(this);const{value:o}=i;this.state={value:o,optionsVisible:!1},this._portalEl=null}componentDidMount(){document.addEventListener("mousedown",this.onGlobalClick),document.addEventListener("focusin",this.onFocusChanged),this.keyboard.addListener(this.onKeyboard)}componentWillUnmount(){document.removeEventListener("focusin",this.onFocusChanged),document.removeEventListener("mousedown",this.onGlobalClick),this.keyboard.removeListener(this.onKeyboard),this.removePortalEl()}componentWillReceiveProps(i){const{value:s}=i;this.setState({value:s})}componentWillUpdate(i,s){const{optionsVisible:o}=s;o?this._portalEl||this.addPortalEl():this._portalEl&&this.removePortalEl()}componentDidUpdate(){const{optionsVisible:i}=this.state;if(!i||!this.inputNode)return;const s=this.getOptionsBounds();Ce(this._portalEl.style,s)}getOptionsBounds(){const i=this.renderer.getContainer(),{top:s,left:o,bottom:a}=i.getBoundingClientRect(),{top:l,left:c,width:u,height:d,bottom:p}=this.inputNode.getBoundingClientRect(),f=l+d-s+i.scrollTop,m={top:`${f}px`,left:`${c-o+i.scrollLeft}px`,width:`${u}px`,"max-height":`calc(100% - ${f}px)`};if(a-p<d){const y=a-l;m.bottom=`${y}px`,m["max-height"]=`calc(100% - ${y})`,delete m.top}return m}addPortalEl(){this._portalEl=eln('<div class="dms-select-options"></div>'),this.renderer.getContainer().appendChild(this._portalEl),this._portalEl.addEventListener("mousedown",YNe)}removePortalEl(){this._portalEl&&(this._portalEl.removeEventListener("mousedown",YNe),function tln(t){t.parentNode&&t.parentNode.removeChild(t)}(this._portalEl),this._portalEl=null)}onChange=i=>{this.setState({value:i});const{onChange:s}=this.props;"function"==typeof s&&s(i)};onInputClick=i=>{i.preventDefault(),i.stopPropagation(),this.setOptionsVisible(!this.state.optionsVisible),this.focusInput()};onInput=i=>{const{value:s}=i.target;this.onChange(s)};onOptionClick=(i,s)=>{s.preventDefault(),s.stopPropagation(),this.setOptionsVisible(!1),this.onChange(i),this.focusInput()};focusInput(){const i=this.inputNode;i.focus(),"selectionStart"in i&&(i.selectionStart=1e5)}checkClose(i){this._portalEl&&!this._portalEl.contains(i)&&!this.parentNode.contains(i)&&this.setOptionsVisible(!1)}onFocusChanged=i=>{this.checkClose(i.target)};onGlobalClick=i=>{this.checkClose(i.target)};select(i){const{options:s}=this.props,{value:o}=this.state;if(!s)return;const a=s.filter(d=>d.value===o)[0],l=a?s.indexOf(a):-1,c=-1===l?1===i?0:s.length-1:(l+i)%s.length;this.onChange(s[c<0?s.length+c:c].value)}setOptionsVisible(i){this.setState({optionsVisible:i})}onKeyDown=i=>{const{optionsVisible:s}=this.state;var o=i.which;(40===o||38===o)&&(i.stopPropagation(),i.preventDefault(),s?this.select(40===o?1:-1):this.setOptionsVisible(!0)),s&&(13===o||27===o)&&(i.stopPropagation(),i.preventDefault(),this.setOptionsVisible(!1))};onKeyboard=i=>{const{optionsVisible:s}=this.state;if(s&&27===i)return this.setOptionsVisible(!1),!0};renderOptions(i,s){return J(1,"div","options",i.map(o=>J(1,"div",["option",s===o?"active":""].join(" "),o.label,0,{"data-value":o.value,onClick:a=>this.onOptionClick(o.value,a)})),0)}render(){const{className:i,label:s,id:o,options:a,noInput:l,title:c}=this.props,{optionsVisible:u,value:d}=this.state,p=!!a&&a.filter(h=>h.value===d)[0],f=p?p.label:d;return J(1,"div",[i||"","dms-input-select"].join(" "),[l?J(1,"div","dms-input",f,0,{"aria-label":s,tabIndex:"0",onKeyDown:this.onKeyDown},null,h=>this.inputNode=h):J(64,"input","dms-input",null,1,{"aria-label":s,onInput:this.onInput,onKeyDown:this.onKeyDown,spellCheck:"false",type:"text",value:d,id:o},null,h=>this.inputNode=h),J(1,"span",["dms-input-select-icon",u?"dmn-icon-up":"dmn-icon-down"].join(" ")),u&&ZIe(this.renderOptions(a,p),this._portalEl)],0,{title:c,onClick:this.onInputClick},null,h=>this.parentNode=h)}}return t.$inject=["keyboard","renderer"],t})();function YNe(t){t.stopPropagation()}var rln=/^\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d$/,iln=/^\[date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)..date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"/,sln=/^(<|>)\s*date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)/,oln=/^date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)$/;function fie(t){if(!rln.test(t.trim()))return"Date must match pattern yyyy-MM-ddTHH:mm:ss."}function iv(t,n){return"exact"===t?'date and time("'.concat(n[0],'")'):"before"===t?'< date and time("'.concat(n[0],'")'):"after"===t?'> date and time("'.concat(n[0],'")'):"between"===t?'[date and time("'.concat(n[0],'")..date and time("').concat(n[1],'")]'):void 0}function H5(){var t=new Date;return t.setUTCHours(0,0,0,0),t.toISOString().slice(0,-5)}function fD(t){if(!t||""===t.trim())return{type:"exact",date:""};var n=t.match(iln);return n?{type:"between",dates:[n[1],n[2]]}:(n=t.match(sln))?{type:"<"===n[1]?"before":"after",date:n[2]}:(n=t.match(oln))?{type:"exact",date:n[1]}:void 0}var HF="between",fln=function(t){function n(i,s){var o;nv(this,n),(o=dD(this,n,[i,s]))._modeling=s.injector.get("modeling");var l=fD(o.props.context.element.businessObject.text);o.state=l?{type:l.type,dates:l.date?[l.date,""]:l.dates?l.dates:["",""]}:{type:"exact",dates:["",""]};var u=s.injector.get("debounceInput");return o.debouncedEditCell=u(o.editCell.bind(o)),o.editCell=o.editCell.bind(o),o.onTypeChange=o.onTypeChange.bind(o),o.onSetStartDateTodayClick=o.onSetStartDateTodayClick.bind(o),o.onSetEndDateTodayClick=o.onSetEndDateTodayClick.bind(o),o.onStartDateInput=o.onStartDateInput.bind(o),o.onEndDateInput=o.onEndDateInput.bind(o),o}return pD(n,t),rv(n,[{key:"editCell",value:function(s,o){this._modeling.editCell(s,o)}},{key:"onTypeChange",value:function(s){var o=this.props.context.element,a=this.state.dates;this.setState({type:s}),fD(iv(s,a))&&this.editCell(o.businessObject,iv(s,a))}},{key:"onSetStartDateTodayClick",value:function(){var s=this.props.context.element,o=this.state,a=o.dates,l=o.type,c=H5();this.setState({dates:[c,a[1]]}),fD(iv(l,[c,a[1]]))&&this.editCell(s.businessObject,iv(l,[c,a[1]]))}},{key:"onSetEndDateTodayClick",value:function(){var s=this.props.context.element,o=this.state,a=o.dates,l=o.type,c=H5();this.setState({dates:[a[0],c]}),fD(iv(l,[a[0],c]))&&this.editCell(s.businessObject,iv(l,[a[0],c]))}},{key:"onStartDateInput",value:function(s){var a=s.value;if(s.isValid){var l=this.props.context.element,c=this.state,u=c.dates,d=c.type;this.setState({dates:[a,u[1]]}),this.debouncedEditCell(l.businessObject,iv(d,[a,u[1]]))}}},{key:"onEndDateInput",value:function(s){var a=s.value;if(s.isValid){var l=this.props.context.element,c=this.state,u=c.dates,d=c.type;this.setState({dates:[u[0],a]}),this.debouncedEditCell(l.businessObject,iv(d,[u[0],a]))}}},{key:"render",value:function(){var s=this.state,o=s.dates,a=s.type,l=[{label:"Exactly",value:"exact"},{label:"Before",value:"before"},{label:"After",value:"after"},{label:"Between",value:HF}];return J(1,"div","context-menu-container simple-date-edit",[J(1,"h3","dms-heading",Vr("Edit Date"),2),J(1,"div","dms-fill-row",At(2,nln,{noInput:!0,onChange:this.onTypeChange,options:l,value:a}),2),J(1,"h4","dms-heading",a===HF?"Edit Start Date":"Set Date",0),J(1,"div",null,[At(2,pie,{className:"start-date-input dms-block",onInput:this.onStartDateInput,placeholder:"e.g. ".concat(H5()),validate:fie,value:o[0]}),J(1,"p","dms-hint",[J(1,"button","use-today",Vr("Use today"),2,{type:"button",onClick:this.onSetStartDateTodayClick}),Vr(".")],4)],4),a===HF&&J(1,"h4","dms-heading",Vr("Edit End Date"),2),a===HF&&J(1,"div",null,[At(2,pie,{className:"end-date-input dms-block",onInput:this.onEndDateInput,placeholder:"e.g. ".concat(H5()),validate:fie,value:o[1]}),J(1,"p","dms-hint",[J(1,"button","use-today",Vr("Use today"),2,{type:"button",onClick:this.onSetEndDateTodayClick}),Vr(".")],4)],4)],0)}}])}(yn),hln=function(t){function n(i,s){var o;nv(this,n),(o=dD(this,n,[i,s]))._modeling=s.injector.get("modeling");var l=fD(o.props.context.element.businessObject.text);o.state={date:l?l.date:""};var c=s.injector.get("debounceInput");return o.debouncedEditCell=c(o.editCell.bind(o)),o.editCell=o.editCell.bind(o),o.onClick=o.onClick.bind(o),o.onInput=o.onInput.bind(o),o}return pD(n,t),rv(n,[{key:"editCell",value:function(s,o){this._modeling.editCell(s,o)}},{key:"onClick",value:function(){var s=this.props.context.element,o=H5();this.setState({date:o}),this.editCell(s.businessObject,'date and time("'.concat(o,'")'))}},{key:"onInput",value:function(s){var a=s.value;if(s.isValid){var l=this.props.context.element;this.setState({date:a}),this.debouncedEditCell(l.businessObject,'date and time("'.concat(a,'")'))}}},{key:"render",value:function(){var s=this.state.date;return J(1,"div","context-menu-container simple-date-edit",[J(1,"h3","dms-heading",Vr("Edit Date"),2),J(1,"h4","dms-heading",Vr("Set Date"),2),J(1,"div",null,[At(2,pie,{onInput:this.onInput,placeholder:"e.g. ".concat(H5()),validate:fie,value:s,className:"dms-block"}),J(1,"p","dms-hint",[Vr("Set date "),J(1,"button","use-today",Vr("to today"),2,{type:"button",onClick:this.onClick}),Vr(".")],4)],4)],4)}}])}(yn);function ZNe(t){return uie(t.col)?t.col&&t.col.businessObject.inputExpression.typeRef:t.col&&t.col.businessObject.typeRef}function JNe(t){return"date"===t}rv(function t(n,i){nv(this,t),i.registerProvider(function(s){var o=ZNe(s);return(uie(s.col)||UNe(s.col))&&JNe(o)}),n.onGetComponent("context-menu",function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s.contextMenuType&&"simple-mode-edit"===s.contextMenuType){if(!s.element)return;if(JNe(ZNe(s.element))){if(uie(s.element.col))return fln;if(UNe(s.element.col))return hln}}})}).$inject=["components","simpleMode"];var gln={zeebe:Ian},yln=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};nv(this,n);var s=i.common,o=void 0===s?{}:s,a=i.drd,l=void 0===a?{}:a,c=i.moddleExtensions,u=void 0===c?{}:c,d=o.propertiesPanel,p=void 0===d?{}:d;return dD(this,n,[yl(yl({},i),{},{common:yl(yl({},o),{},{propertiesPanel:yl(yl({},p),{},{tooltip:Aan})}),drd:vln(l,[Man]),moddleExtensions:yl(yl({},gln),u)})])}return pD(n,t),rv(n)}(Kan);function vln(t,n){var i=t.additionalModules||[];return yl(yl({},t),{},{additionalModules:[].concat(z5(n),z5(i))})}const eLe="function"==typeof String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;class U5{constructor(n,i,s=0,o=n.length,a,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=n.iterRange(s,o),this.bufferStart=s,this.normalize=a?c=>a(eLe(c)):eLe,this.query=this.normalize(i)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Tu(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let n=this.peek();if(n<0)return this.done=!0,this;let i=DK(n),s=this.bufferStart+this.bufferPos;this.bufferPos+=Bh(n);let o=this.normalize(i);if(o.length)for(let a=0,l=s;;a++){let c=o.charCodeAt(a),u=this.match(c,l,this.bufferPos+this.bufferStart);if(a==o.length-1){if(u)return this.value=u,this;break}l==s&&a<i.length&&i.charCodeAt(a)==c&&l++}}}match(n,i,s){let o=null;for(let a=0;a<this.matches.length;a+=2){let l=this.matches[a],c=!1;this.query.charCodeAt(l)==n&&(l==this.query.length-1?o={from:this.matches[a+1],to:s}:(this.matches[a]++,c=!0)),c||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==n&&(1==this.query.length?o={from:i,to:s}:this.matches.push(1,i)),o&&this.test&&!this.test(o.from,o.to,this.buffer,this.bufferStart)&&(o=null),o}}typeof Symbol<"u"&&(U5.prototype[Symbol.iterator]=function(){return this});const tLe={from:-1,to:-1,match:/.*/.exec("")},mie="gm"+(null==/x/.unicode?"":"u");class nLe{constructor(n,i,s,o=0,a=n.length){if(this.text=n,this.to=a,this.curLine="",this.done=!1,this.value=tLe,/\\[sWDnr]|\n|\r|\[\^/.test(i))return new rLe(n,i,s,o,a);this.re=new RegExp(i,mie+(s?.ignoreCase?"i":"")),this.test=s?.test,this.iter=n.iter();let l=n.lineAt(o);this.curLineStart=l.from,this.matchPos=UF(n,o),this.getLine(this.curLineStart)}getLine(n){this.iter.next(n),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let n=this.matchPos-this.curLineStart;;){this.re.lastIndex=n;let i=this.matchPos<=this.to&&this.re.exec(this.curLine);if(i){let s=this.curLineStart+i.index,o=s+i[0].length;if(this.matchPos=UF(this.text,o+(s==o?1:0)),s==this.curLineStart+this.curLine.length&&this.nextLine(),(s<o||s>this.value.to)&&(!this.test||this.test(s,o,i)))return this.value={from:s,to:o,match:i},this;n=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),n=0}}}}const gie=new WeakMap;class q5{constructor(n,i){this.from=n,this.text=i}get to(){return this.from+this.text.length}static get(n,i,s){let o=gie.get(n);if(!o||o.from>=s||o.to<=i){let c=new q5(i,n.sliceString(i,s));return gie.set(n,c),c}if(o.from==i&&o.to==s)return o;let{text:a,from:l}=o;return l>i&&(a=n.sliceString(i,l)+a,l=i),o.to<s&&(a+=n.sliceString(o.to,s)),gie.set(n,new q5(l,a)),new q5(i,a.slice(i-l,s-l))}}class rLe{constructor(n,i,s,o,a){this.text=n,this.to=a,this.done=!1,this.value=tLe,this.matchPos=UF(n,o),this.re=new RegExp(i,mie+(s?.ignoreCase?"i":"")),this.test=s?.test,this.flat=q5.get(n,o,this.chunkEnd(o+5e3))}chunkEnd(n){return n>=this.to?this.to:this.text.lineAt(n).to}next(){for(;;){let n=this.re.lastIndex=this.matchPos-this.flat.from,i=this.re.exec(this.flat.text);if(i&&!i[0]&&i.index==n&&(this.re.lastIndex=n+1,i=this.re.exec(this.flat.text)),i){let s=this.flat.from+i.index,o=s+i[0].length;if((this.flat.to>=this.to||i.index+i[0].length<=this.flat.text.length-10)&&(!this.test||this.test(s,o,i)))return this.value={from:s,to:o,match:i},this.matchPos=UF(this.text,o+(s==o?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=q5.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function UF(t,n){if(n>=t.length)return n;let s,i=t.lineAt(n);for(;n<i.to&&(s=i.text.charCodeAt(n-i.from))>=56320&&s<57344;)n++;return n}function yie(t){let i=Ls("input",{class:"cm-textfield",name:"line",value:String(t.state.doc.lineAt(t.state.selection.main.head).number)});function o(){let a=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(i.value);if(!a)return;let{state:l}=t,c=l.doc.lineAt(l.selection.main.head),[,u,d,p,f]=a,h=p?+p.slice(1):0,m=d?+d:c.number;if(d&&f){let _=m/100;u&&(_=_*("-"==u?-1:1)+c.number/l.doc.lines),m=Math.round(l.doc.lines*_)}else d&&u&&(m=m*("-"==u?-1:1)+c.number);let y=l.doc.line(Math.max(1,Math.min(l.doc.lines,m))),E=Rt.cursor(y.from+Math.max(0,Math.min(h,y.length)));t.dispatch({effects:[hD.of(!1),kn.scrollIntoView(E.from,{y:"center"})],selection:E}),t.focus()}return{dom:Ls("form",{class:"cm-gotoLine",onkeydown:a=>{27==a.keyCode?(a.preventDefault(),t.dispatch({effects:hD.of(!1)}),t.focus()):13==a.keyCode&&(a.preventDefault(),o())},onsubmit:a=>{a.preventDefault(),o()}},Ls("label",t.state.phrase("Go to line"),": ",i)," ",Ls("button",{class:"cm-button",type:"submit"},t.state.phrase("go")),Ls("button",{name:"close",onclick:()=>{t.dispatch({effects:hD.of(!1)}),t.focus()},"aria-label":t.state.phrase("close"),type:"button"},["\xd7"]))}}typeof Symbol<"u"&&(nLe.prototype[Symbol.iterator]=rLe.prototype[Symbol.iterator]=function(){return this});const hD=hi.define(),iLe=Ta.define({create:()=>!0,update(t,n){for(let i of n.effects)i.is(hD)&&(t=i.value);return t},provide:t=>oT.from(t,n=>n?yie:null)}),Eln=kn.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),xln={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},sLe=xn.define({combine:t=>xf(t,xln,{highlightWordAroundCursor:(n,i)=>n||i,minSelectionLength:Math.min,maxMatches:Math.min})}),Cln=Xn.mark({class:"cm-selectionMatch"}),Sln=Xn.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function oLe(t,n,i,s){return!(0!=i&&t(n.sliceDoc(i-1,i))==bo.Word||s!=n.doc.length&&t(n.sliceDoc(s,s+1))==bo.Word)}const Tln=Eo.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let n=t.state.facet(sLe),{state:i}=t,s=i.selection;if(s.ranges.length>1)return Xn.none;let a,o=s.main,l=null;if(o.empty){if(!n.highlightWordAroundCursor)return Xn.none;let u=i.wordAt(o.head);if(!u)return Xn.none;l=i.charCategorizer(o.head),a=i.sliceDoc(u.from,u.to)}else{let u=o.to-o.from;if(u<n.minSelectionLength||u>200)return Xn.none;if(n.wholeWords){if(a=i.sliceDoc(o.from,o.to),l=i.charCategorizer(o.head),!oLe(l,i,o.from,o.to)||!function Oln(t,n,i,s){return t(n.sliceDoc(i,i+1))==bo.Word&&t(n.sliceDoc(s-1,s))==bo.Word}(l,i,o.from,o.to))return Xn.none}else if(a=i.sliceDoc(o.from,o.to),!a)return Xn.none}let c=[];for(let u of t.visibleRanges){let d=new U5(i.doc,a,u.from,u.to);for(;!d.next().done;){let{from:p,to:f}=d.value;if((!l||oLe(l,i,p,f))&&(o.empty&&p<=o.from&&f>=o.to?c.push(Sln.range(p,f)):(p>=o.to||f<=o.from)&&c.push(Cln.range(p,f)),c.length>n.maxMatches))return Xn.none}}return Xn.set(c)}},{decorations:t=>t.decorations}),Pln=kn.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),S2=xn.define({combine:t=>xf(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:n=>new Hln(n),scrollToMatch:n=>kn.scrollIntoView(n)})});class aLe{constructor(n){this.search=n.search,this.caseSensitive=!!n.caseSensitive,this.literal=!!n.literal,this.regexp=!!n.regexp,this.replace=n.replace||"",this.valid=!!this.search&&(!this.regexp||function bln(t){try{return new RegExp(t,mie),!0}catch{return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!n.wholeWord}unquote(n){return this.literal?n:n.replace(/\\([nrt\\])/g,(i,s)=>"n"==s?"\n":"r"==s?"\r":"t"==s?"\t":"\\")}eq(n){return this.search==n.search&&this.replace==n.replace&&this.caseSensitive==n.caseSensitive&&this.regexp==n.regexp&&this.wholeWord==n.wholeWord}create(){return this.regexp?new Nln(this):new Iln(this)}getCursor(n,i=0,s){let o=n.doc?n:Wc.create({doc:n});return null==s&&(s=o.doc.length),this.regexp?G5(this,o,i,s):W5(this,o,i,s)}}class lLe{constructor(n){this.spec=n}}function W5(t,n,i,s){return new U5(n.doc,t.unquoted,i,s,t.caseSensitive?void 0:o=>o.toLowerCase(),t.wholeWord?function Aln(t,n){return(i,s,o,a)=>((a>i||a+o.length<s)&&(a=Math.max(0,i-2),o=t.sliceString(a,Math.min(t.length,s+2))),!(n(qF(o,i-a))==bo.Word&&n(WF(o,i-a))==bo.Word||n(WF(o,s-a))==bo.Word&&n(qF(o,s-a))==bo.Word))}(n.doc,n.charCategorizer(n.selection.main.head)):void 0)}class Iln extends lLe{constructor(n){super(n)}nextMatch(n,i,s){let o=W5(this.spec,n,s,n.doc.length).nextOverlapping();if(o.done){let a=Math.min(n.doc.length,i+this.spec.unquoted.length);o=W5(this.spec,n,0,a).nextOverlapping()}return o.done||o.value.from==i&&o.value.to==s?null:o.value}prevMatchInRange(n,i,s){for(let o=s;;){let a=Math.max(i,o-1e4-this.spec.unquoted.length),l=W5(this.spec,n,a,o),c=null;for(;!l.nextOverlapping().done;)c=l.value;if(c)return c;if(a==i)return null;o-=1e4}}prevMatch(n,i,s){let o=this.prevMatchInRange(n,0,i);return o||(o=this.prevMatchInRange(n,Math.max(0,s-this.spec.unquoted.length),n.doc.length)),!o||o.from==i&&o.to==s?null:o}getReplacement(n){return this.spec.unquote(this.spec.replace)}matchAll(n,i){let s=W5(this.spec,n,0,n.doc.length),o=[];for(;!s.next().done;){if(o.length>=i)return null;o.push(s.value)}return o}highlight(n,i,s,o){let a=W5(this.spec,n,Math.max(0,i-this.spec.unquoted.length),Math.min(s+this.spec.unquoted.length,n.doc.length));for(;!a.next().done;)o(a.value.from,a.value.to)}}function G5(t,n,i,s){return new nLe(n.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?Rln(n.charCategorizer(n.selection.main.head)):void 0},i,s)}function qF(t,n){return t.slice(Nl(t,n,!1),n)}function WF(t,n){return t.slice(n,Nl(t,n))}function Rln(t){return(n,i,s)=>!s[0].length||(t(qF(s.input,s.index))!=bo.Word||t(WF(s.input,s.index))!=bo.Word)&&(t(WF(s.input,s.index+s[0].length))!=bo.Word||t(qF(s.input,s.index+s[0].length))!=bo.Word)}class Nln extends lLe{nextMatch(n,i,s){let o=G5(this.spec,n,s,n.doc.length).next();return o.done&&(o=G5(this.spec,n,0,i).next()),o.done?null:o.value}prevMatchInRange(n,i,s){for(let o=1;;o++){let a=Math.max(i,s-1e4*o),l=G5(this.spec,n,a,s),c=null;for(;!l.next().done;)c=l.value;if(c&&(a==i||c.from>a+10))return c;if(a==i)return null}}prevMatch(n,i,s){return this.prevMatchInRange(n,0,i)||this.prevMatchInRange(n,s,n.doc.length)}getReplacement(n){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(i,s)=>{if("&"==s)return n.match[0];if("$"==s)return"$";for(let o=s.length;o>0;o--){let a=+s.slice(0,o);if(a>0&&a<n.match.length)return n.match[a]+s.slice(o)}return i})}matchAll(n,i){let s=G5(this.spec,n,0,n.doc.length),o=[];for(;!s.next().done;){if(o.length>=i)return null;o.push(s.value)}return o}highlight(n,i,s,o){let a=G5(this.spec,n,Math.max(0,i-250),Math.min(s+250,n.doc.length));for(;!a.next().done;)o(a.value.from,a.value.to)}}const mD=hi.define(),vie=hi.define(),d0=Ta.define({create:t=>new bie(YF(t).create(),null),update(t,n){for(let i of n.effects)i.is(mD)?t=new bie(i.value.create(),t.panel):i.is(vie)&&(t=new bie(t.query,i.value?_ie:null));return t},provide:t=>oT.from(t,n=>n.panel)});class bie{constructor(n,i){this.query=n,this.panel=i}}const Lln=Xn.mark({class:"cm-searchMatch"}),Fln=Xn.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Bln=Eo.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(d0))}update(t){let n=t.state.field(d0);(n!=t.startState.field(d0)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(n))}highlight({query:t,panel:n}){if(!n||!t.spec.valid)return Xn.none;let{view:i}=this,s=new Vh;for(let o=0,a=i.visibleRanges,l=a.length;o<l;o++){let{from:c,to:u}=a[o];for(;o<l-1&&u>a[o+1].from-500;)u=a[++o].to;t.highlight(i.state,c,u,(d,p)=>{let f=i.state.selection.ranges.some(h=>h.from==d&&h.to==p);s.add(d,p,f?Fln:Lln)})}return s.finish()}},{decorations:t=>t.decorations});function gD(t){return n=>{let i=n.state.field(d0,!1);return i&&i.query.spec.valid?t(n,i):pLe(n)}}const GF=gD((t,{query:n})=>{let{to:i}=t.state.selection.main,s=n.nextMatch(t.state,i,i);if(!s)return!1;let o=Rt.single(s.from,s.to),a=t.state.facet(S2);return t.dispatch({selection:o,effects:[Eie(t,s),a.scrollToMatch(o.main,t)],userEvent:"select.search"}),dLe(t),!0}),KF=gD((t,{query:n})=>{let{state:i}=t,{from:s}=i.selection.main,o=n.prevMatch(i,s,s);if(!o)return!1;let a=Rt.single(o.from,o.to),l=t.state.facet(S2);return t.dispatch({selection:a,effects:[Eie(t,o),l.scrollToMatch(a.main,t)],userEvent:"select.search"}),dLe(t),!0}),$ln=gD((t,{query:n})=>{let i=n.matchAll(t.state,1e3);return!(!i||!i.length||(t.dispatch({selection:Rt.create(i.map(s=>Rt.range(s.from,s.to))),userEvent:"select.search.matches"}),0))}),cLe=gD((t,{query:n})=>{let{state:i}=t,{from:s,to:o}=i.selection.main;if(i.readOnly)return!1;let a=n.nextMatch(i,s,s);if(!a)return!1;let u,d,l=a,c=[],p=[];if(l.from==s&&l.to==o&&(d=i.toText(n.getReplacement(l)),c.push({from:l.from,to:l.to,insert:d}),l=n.nextMatch(i,l.from,l.to),p.push(kn.announce.of(i.phrase("replaced match on line $",i.doc.lineAt(s).number)+"."))),l){let f=0==c.length||c[0].from>=a.to?0:a.to-a.from-d.length;u=Rt.single(l.from-f,l.to-f),p.push(Eie(t,l)),p.push(i.facet(S2).scrollToMatch(u.main,t))}return t.dispatch({changes:c,selection:u,effects:p,userEvent:"input.replace"}),!0}),jln=gD((t,{query:n})=>{if(t.state.readOnly)return!1;let i=n.matchAll(t.state,1e9).map(o=>{let{from:a,to:l}=o;return{from:a,to:l,insert:n.getReplacement(o)}});if(!i.length)return!1;let s=t.state.phrase("replaced $ matches",i.length)+".";return t.dispatch({changes:i,effects:kn.announce.of(s),userEvent:"input.replace.all"}),!0});function _ie(t){return t.state.facet(S2).createPanel(t)}function YF(t,n){var i,s,o,a,l;let c=t.selection.main,u=c.empty||c.to>c.from+100?"":t.sliceDoc(c.from,c.to);if(n&&!u)return n;let d=t.facet(S2);return new aLe({search:(null!==(i=n?.literal)&&void 0!==i?i:d.literal)?u:u.replace(/\n/g,"\\n"),caseSensitive:null!==(s=n?.caseSensitive)&&void 0!==s?s:d.caseSensitive,literal:null!==(o=n?.literal)&&void 0!==o?o:d.literal,regexp:null!==(a=n?.regexp)&&void 0!==a?a:d.regexp,wholeWord:null!==(l=n?.wholeWord)&&void 0!==l?l:d.wholeWord})}function uLe(t){let n=sT(t,_ie);return n&&n.dom.querySelector("[main-field]")}function dLe(t){let n=uLe(t);n&&n==t.root.activeElement&&n.select()}const pLe=t=>{let n=t.state.field(d0,!1);if(n&&n.panel){let i=uLe(t);if(i&&i!=t.root.activeElement){let s=YF(t.state,n.query.spec);s.valid&&t.dispatch({effects:mD.of(s)}),i.focus(),i.select()}}else t.dispatch({effects:[vie.of(!0),n?mD.of(YF(t.state,n.query.spec)):hi.appendConfig.of(xie)]});return!0},fLe=t=>{let n=t.state.field(d0,!1);if(!n||!n.panel)return!1;let i=sT(t,_ie);return i&&i.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:vie.of(!1)}),!0},zln=[{key:"Mod-f",run:pLe,scope:"editor search-panel"},{key:"F3",run:GF,shift:KF,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:GF,shift:KF,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:fLe,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:t,dispatch:n})=>{let i=t.selection;if(i.ranges.length>1||i.main.empty)return!1;let{from:s,to:o}=i.main,a=[],l=0;for(let c=new U5(t.doc,t.sliceDoc(s,o));!c.next().done;){if(a.length>1e3)return!1;c.value.from==s&&(l=a.length),a.push(Rt.range(c.value.from,c.value.to))}return n(t.update({selection:Rt.create(a,l),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:t=>{let n=sT(t,yie);if(!n){let i=[hD.of(!0)];null==t.state.field(iLe,!1)&&i.push(hi.appendConfig.of([iLe,Eln])),t.dispatch({effects:i}),n=sT(t,yie)}return n&&n.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:t,dispatch:n})=>{let{ranges:i}=t.selection;if(i.some(a=>a.from===a.to))return(({state:t,dispatch:n})=>{let{selection:i}=t,s=Rt.create(i.ranges.map(o=>t.wordAt(o.head)||Rt.cursor(o.head)),i.mainIndex);return!s.eq(i)&&(n(t.update({selection:s})),!0)})({state:t,dispatch:n});let s=t.sliceDoc(i[0].from,i[0].to);if(t.selection.ranges.some(a=>t.sliceDoc(a.from,a.to)!=s))return!1;let o=function kln(t,n){let{main:i,ranges:s}=t.selection,o=t.wordAt(i.head),a=o&&o.from==i.from&&o.to==i.to;for(let l=!1,c=new U5(t.doc,n,s[s.length-1].to);;){if(c.next(),!c.done){if(l&&s.some(u=>u.from==c.value.from))continue;if(a){let u=t.wordAt(c.value.from);if(!u||u.from!=c.value.from||u.to!=c.value.to)continue}return c.value}if(l)return null;c=new U5(t.doc,n,0,Math.max(0,s[s.length-1].from-1)),l=!0}}(t,s);return!!o&&(n(t.update({selection:t.selection.addRange(Rt.range(o.from,o.to),!1),effects:kn.scrollIntoView(o.to)})),!0)},preventDefault:!0}];class Hln{constructor(n){this.view=n;let i=this.query=n.state.field(d0).query.spec;function s(o,a,l){return Ls("button",{class:"cm-button",name:o,onclick:a,type:"button"},l)}this.commit=this.commit.bind(this),this.searchField=Ls("input",{value:i.search,placeholder:Dd(n,"Find"),"aria-label":Dd(n,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Ls("input",{value:i.replace,placeholder:Dd(n,"Replace"),"aria-label":Dd(n,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Ls("input",{type:"checkbox",name:"case",form:"",checked:i.caseSensitive,onchange:this.commit}),this.reField=Ls("input",{type:"checkbox",name:"re",form:"",checked:i.regexp,onchange:this.commit}),this.wordField=Ls("input",{type:"checkbox",name:"word",form:"",checked:i.wholeWord,onchange:this.commit}),this.dom=Ls("div",{onkeydown:o=>this.keydown(o),class:"cm-search"},[this.searchField,s("next",()=>GF(n),[Dd(n,"next")]),s("prev",()=>KF(n),[Dd(n,"previous")]),s("select",()=>$ln(n),[Dd(n,"all")]),Ls("label",null,[this.caseField,Dd(n,"match case")]),Ls("label",null,[this.reField,Dd(n,"regexp")]),Ls("label",null,[this.wordField,Dd(n,"by word")]),...n.state.readOnly?[]:[Ls("br"),this.replaceField,s("replace",()=>cLe(n),[Dd(n,"replace")]),s("replaceAll",()=>jln(n),[Dd(n,"replace all")])],Ls("button",{name:"close",onclick:()=>fLe(n),"aria-label":Dd(n,"close"),type:"button"},["\xd7"])])}commit(){let n=new aLe({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});n.eq(this.query)||(this.query=n,this.view.dispatch({effects:mD.of(n)}))}keydown(n){!function Ybt(t,n,i){return t5e(e5e(t.state),n,t,i)}(this.view,n,"search-panel")?13==n.keyCode&&n.target==this.searchField?(n.preventDefault(),(n.shiftKey?KF:GF)(this.view)):13==n.keyCode&&n.target==this.replaceField&&(n.preventDefault(),cLe(this.view)):n.preventDefault()}update(n){for(let i of n.transactions)for(let s of i.effects)s.is(mD)&&!s.value.eq(this.query)&&this.setQuery(s.value)}setQuery(n){this.query=n,this.searchField.value=n.search,this.replaceField.value=n.replace,this.caseField.checked=n.caseSensitive,this.reField.checked=n.regexp,this.wordField.checked=n.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(S2).top}}function Dd(t,n){return t.state.phrase(n)}const XF=30,QF=/[\s\.,:;?!]/;function Eie(t,{from:n,to:i}){let s=t.state.doc.lineAt(n),o=t.state.doc.lineAt(i).to,a=Math.max(s.from,n-XF),l=Math.min(o,i+XF),c=t.state.sliceDoc(a,l);if(a!=s.from)for(let u=0;u<XF;u++)if(!QF.test(c[u+1])&&QF.test(c[u])){c=c.slice(u);break}if(l!=o)for(let u=c.length-1;u>c.length-XF;u--)if(!QF.test(c[u-1])&&QF.test(c[u])){c=c.slice(0,u);break}return kn.announce.of(`${t.state.phrase("current match")}. ${c} ${t.state.phrase("on line")} ${s.number}.`)}const Uln=kn.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),xie=[d0,Fm.low(Bln),Uln],ZF=[FY(),function G_t(){return W_t}(),function d_t(t={}){return[x9.of(t),c5e||(c5e=Eo.fromClass(class{constructor(t){this.view=t,this.decorations=Xn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(x9)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new PY({regexp:t.specialChars,decoration:(n,i,s)=>{let{doc:o}=i.state,a=Tu(n[0],0);if(9==a){let l=o.lineAt(s),c=i.state.tabSize,u=J3(l.text,c,s-l.from);return Xn.replace({widget:new g_t((c-u%c)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=Xn.replace({widget:new m_t(t,a)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let n=t.state.facet(x9);t.startState.facet(x9)!=n?(this.decorator=this.makeDecorator(n),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))]}(),function KEt(t={}){return[mX,A4e.of(t),kn.domEventHandlers({beforeinput(n,i){let s="historyUndo"==n.inputType?I4e:"historyRedo"==n.inputType?gX:null;return!!s&&(n.preventDefault(),s(i))}})]}(),function x2t(t={}){let n=Object.assign(Object.assign({},E2t),t),i=new qY(n,!0),s=new qY(n,!1),o=Eo.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(_y)!=l.state.facet(_y)||l.startState.field(Ey,!1)!=l.state.field(Ey,!1)||Ns(l.startState)!=Ns(l.state)||n.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let c=new Vh;for(let u of l.viewportLineBlocks){let d=mT(l.state,u.from,u.to)?s:fT(l.state,u.from,u.to)?i:null;d&&c.add(u.from,u.from,d)}return c.finish()}}),{domEventHandlers:a}=n;return[o,_5e({class:"cm-foldGutter",markers(l){var c;return(null===(c=l.plugin(o))||void 0===c?void 0:c.markers)||_o.empty},initialSpacer:()=>new qY(n,!1),domEventHandlers:Object.assign(Object.assign({},a),{click:(l,c,u)=>{if(a.click&&a.click(l,c,u))return!0;let d=mT(l.state,c.from,c.to);if(d)return l.dispatch({effects:pw.of(d)}),!0;let p=fT(l.state,c.from,c.to);return!!p&&(l.dispatch({effects:hT.of(p)}),!0)}})}),F5e()]}(),function t_t(t={}){return[ow.of(t),n_t,r_t,i_t,iwe.of(!0)]}(),function o_t(){return[nT,s_t]}(),Wc.allowMultipleSelections.of(!0),jY(),gT(O2t,{fallback:!0}),GY(),uX(),P4e(),function C_t(t){let n=t?.eventFilter||(i=>i.altKey&&0==i.button);return kn.mouseSelectionStyle.of((i,s)=>n(s)?function w_t(t,n){let i=p5e(t,n),s=t.state.selection;return i?{update(o){if(o.docChanged){let a=o.changes.mapPos(o.startState.doc.line(i.line).from),l=o.state.doc.lineAt(a);i={line:l.number,col:i.col,off:Math.min(i.off,l.length)},s=s.map(o.changes)}},get(o,a,l){let c=p5e(t,o);if(!c)return s;let u=function E_t(t,n,i){let s=Math.min(n.line,i.line),o=Math.max(n.line,i.line),a=[];if(n.off>2e3||i.off>2e3||n.col<0||i.col<0){let l=Math.min(n.off,i.off),c=Math.max(n.off,i.off);for(let u=s;u<=o;u++){let d=t.doc.line(u);d.length<=c&&a.push(Rt.range(d.from+l,d.to+c))}}else{let l=Math.min(n.col,i.col),c=Math.max(n.col,i.col);for(let u=s;u<=o;u++){let d=t.doc.line(u),p=UK(d.text,l,t.tabSize,!0);if(p<0)a.push(Rt.cursor(d.to));else{let f=UK(d.text,c,t.tabSize);a.push(Rt.range(d.from+p,d.from+f))}}}return a}(t.state,i,c);return u.length?Rt.create(l?u.concat(s.ranges):u):s}}:null}(i,s):null)}(),function T_t(t={}){let[n,i]=S_t[t.key||"Alt"],s=Eo.fromClass(class{constructor(o){this.view=o,this.isDown=!1}set(o){this.isDown!=o&&(this.isDown=o,this.view.update([]))}},{eventObservers:{keydown(o){this.set(o.keyCode==n||i(o))},keyup(o){(o.keyCode==n||!i(o))&&this.set(!1)},mousemove(o){this.set(i(o))}}});return[s,kn.contentAttributes.of(o=>{var a;return null!==(a=o.plugin(s))&&void 0!==a&&a.isDown?O_t:null})]}(),function y_t(){return b_t}(),function wln(t){let n=[Pln,Tln];return t&&n.push(sLe.of(t)),n}(),sw.of([...MEt,...SX,...zln,...rxt,...v2t,...D4e,...Zxt])];function ecn(t){return 45==t||46==t||58==t||t>=65&&t<=90||95==t||t>=97&&t<=122||t>=161}function tcn(t){return 9==t||10==t||13==t||32==t}let hLe=null,mLe=null,gLe=0;function Cie(t,n){let i=t.pos+n;if(mLe==t&&gLe==i)return hLe;for(;tcn(t.peek(n));)n++;let s="";for(;;){let o=t.peek(n);if(!ecn(o))break;s+=String.fromCharCode(o),n++}return mLe=t,gLe=i,hLe=s||null}function yLe(t,n){this.name=t,this.parent=n}const ncn=new $G({start:null,shift:(t,n,i,s)=>1==n?new yLe(Cie(s,1)||"",t):t,reduce:(t,n)=>11==n&&t?t.parent:t,reuse(t,n,i,s){let o=n.type.id;return 1==o||13==o?new yLe(Cie(s,1)||"",t):t},strict:!1}),rcn=new ry((t,n)=>{if(60==t.next)if(t.advance(),47==t.next){t.advance();let i=Cie(t,0);if(!i)return t.acceptToken(5);if(n.context&&i==n.context.name)return t.acceptToken(2);for(let s=n.context;s;s=s.parent)if(s.name==i)return t.acceptToken(3,-2);t.acceptToken(4)}else if(33!=t.next&&63!=t.next)return t.acceptToken(1)},{contextual:!0});function Sie(t,n){return new ry(i=>{let s=0,o=n.charCodeAt(0);e:for(;!(i.next<0);i.advance(),s++)if(i.next==o){for(let a=1;a<n.length;a++)if(i.peek(a)!=n.charCodeAt(a))continue e;break}s&&i.acceptToken(t)})}const icn=Sie(36,"--\x3e"),scn=Sie(37,"?>"),ocn=Sie(38,"]]>"),acn=o_({Text:he.content,"StartTag StartCloseTag EndTag SelfCloseEndTag":he.angleBracket,TagName:he.tagName,"MismatchedCloseTag/TagName":[he.tagName,he.invalid],AttributeName:he.attributeName,AttributeValue:he.attributeValue,Is:he.definitionOperator,"EntityReference CharacterReference":he.character,Comment:he.blockComment,ProcessingInst:he.processingInstruction,DoctypeDecl:he.documentMeta,Cdata:he.special(he.string)}),lcn=s_.deserialize({version:14,states:",lOQOaOOOrOxO'#CfOzOpO'#CiO!tOaO'#CgOOOP'#Cg'#CgO!{OrO'#CrO#TOtO'#CsO#]OpO'#CtOOOP'#DT'#DTOOOP'#Cv'#CvQQOaOOOOOW'#Cw'#CwO#eOxO,59QOOOP,59Q,59QOOOO'#Cx'#CxO#mOpO,59TO#uO!bO,59TOOOP'#C|'#C|O$TOaO,59RO$[OpO'#CoOOOP,59R,59ROOOQ'#C}'#C}O$dOrO,59^OOOP,59^,59^OOOS'#DO'#DOO$lOtO,59_OOOP,59_,59_O$tOpO,59`O$|OpO,59`OOOP-E6t-E6tOOOW-E6u-E6uOOOP1G.l1G.lOOOO-E6v-E6vO%UO!bO1G.oO%UO!bO1G.oO%dOpO'#CkO%lO!bO'#CyO%zO!bO1G.oOOOP1G.o1G.oOOOP1G.w1G.wOOOP-E6z-E6zOOOP1G.m1G.mO&VOpO,59ZO&_OpO,59ZOOOQ-E6{-E6{OOOP1G.x1G.xOOOS-E6|-E6|OOOP1G.y1G.yO&gOpO1G.zO&gOpO1G.zOOOP1G.z1G.zO&oO!bO7+$ZO&}O!bO7+$ZOOOP7+$Z7+$ZOOOP7+$c7+$cO'YOpO,59VO'bOpO,59VO'mO!bO,59eOOOO-E6w-E6wO'{OpO1G.uO'{OpO1G.uOOOP1G.u1G.uO(TOpO7+$fOOOP7+$f7+$fO(]O!bO<<GuOOOP<<Gu<<GuOOOP<<G}<<G}O'bOpO1G.qO'bOpO1G.qO(hO#tO'#CnO(vO&jO'#CnOOOO1G.q1G.qO)UOpO7+$aOOOP7+$a7+$aOOOP<<HQ<<HQOOOPAN=aAN=aOOOPAN=iAN=iO'bOpO7+$]OOOO7+$]7+$]OOOO'#Cz'#CzO)^O#tO,59YOOOO,59Y,59YOOOO'#C{'#C{O)lO&jO,59YOOOP<<G{<<G{OOOO<<Gw<<GwOOOO-E6x-E6xOOOO1G.t1G.tOOOO-E6y-E6y",stateData:")z~OPQOSVOTWOVWOWWOXWOiXOyPO!QTO!SUO~OvZOx]O~O^`Oz^O~OPQOQcOSVOTWOVWOWWOXWOyPO!QTO!SUO~ORdO~P!SOteO!PgO~OuhO!RjO~O^lOz^O~OvZOxoO~O^qOz^O~O[vO`sOdwOz^O~ORyO~P!SO^{Oz^O~OteO!P}O~OuhO!R!PO~O^!QOz^O~O[!SOz^O~O[!VO`sOd!WOz^O~Oa!YOz^O~Oz^O[mX`mXdmX~O[!VO`sOd!WO~O^!]Oz^O~O[!_Oz^O~O[!aOz^O~O[!cO`sOd!dOz^O~O[!cO`sOd!dO~Oa!eOz^O~Oz^O{!gO}!hO~Oz^O[ma`madma~O[!kOz^O~O[!lOz^O~O[!mO`sOd!nO~OW!qOX!qO{!sO|!qO~OW!tOX!tO}!sO!O!tO~O[!vOz^O~OW!qOX!qO{!yO|!qO~OW!tOX!tO}!yO!O!tO~O",goto:"%cxPPPPPPPPPPyyP!PP!VPP!`!jP!pyyyP!v!|#S$[$k$q$w$}%TPPPP%ZXWORYbXRORYb_t`qru!T!U!bQ!i!YS!p!e!fR!w!oQdRRybXSORYbQYORmYQ[PRn[Q_QQkVjp_krz!R!T!X!Z!^!`!f!j!oQr`QzcQ!RlQ!TqQ!XsQ!ZtQ!^{Q!`!QQ!f!YQ!j!]R!o!eQu`S!UqrU![u!U!bR!b!TQ!r!gR!x!rQ!u!hR!z!uQbRRxbQfTR|fQiUR!OiSXOYTaRb",nodeNames:"\u26a0 StartTag StartCloseTag MissingCloseTag StartCloseTag StartCloseTag Document Text EntityReference CharacterReference Cdata Element EndTag OpenTag TagName Attribute AttributeName Is AttributeValue CloseTag SelfCloseEndTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag DoctypeDecl",maxTerm:50,context:ncn,nodeProps:[["closedBy",1,"SelfCloseEndTag EndTag",13,"CloseTag MissingCloseTag"],["openedBy",12,"StartTag StartCloseTag",19,"OpenTag",20,"StartTag"],["isolate",-6,13,18,19,21,22,24,""]],propSources:[acn],skippedNodes:[0],repeatNodeCount:9,tokenData:"!)v~R!YOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs*vsv$qvw+fwx/ix}$q}!O0[!O!P$q!P!Q2z!Q![$q![!]4n!]!^$q!^!_8U!_!`!#t!`!a!$l!a!b!%d!b!c$q!c!}4n!}#P$q#P#Q!'W#Q#R$q#R#S4n#S#T$q#T#o4n#o%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U$q4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qi$zXVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qa%nVVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%gP&YTVPOv&Tw!^&T!_;'S&T;'S;=`&i<%lO&TP&lP;=`<%l&T`&tS!O`Ov&ox;'S&o;'S;=`'Q<%lO&o`'TP;=`<%l&oa'ZP;=`<%l%gX'eWVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^W(ST|WOr'}sv'}w;'S'};'S;=`(c<%lO'}W(fP;=`<%l'}X(lP;=`<%l'^h(vV|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oh)`P;=`<%l(oi)fP;=`<%l$qo)t`VP|W!O`zUOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk+PV{YVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%g~+iast,n![!]-r!c!}-r#R#S-r#T#o-r%W%o-r%p&a-r&b1p-r4U4d-r4e$IS-r$I`$Ib-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~,qQ!Q![,w#l#m-V~,zQ!Q![,w!]!^-Q~-VOX~~-YR!Q![-c!c!i-c#T#Z-c~-fS!Q![-c!]!^-Q!c!i-c#T#Z-c~-ug}!O-r!O!P-r!Q![-r![!]-r!]!^/^!c!}-r#R#S-r#T#o-r$}%O-r%W%o-r%p&a-r&b1p-r1p4U-r4U4d-r4e$IS-r$I`$Ib-r$Je$Jg-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~/cOW~~/fP;=`<%l-rk/rW}bVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^k0eZVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O1W!O!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk1aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a2S!a;'S$q;'S;=`)c<%lO$qk2_X!PQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qm3TZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a3v!a;'S$q;'S;=`)c<%lO$qm4RXdSVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo4{!P`S^QVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O4n!O!P4n!P!Q$q!Q![4n![!]4n!]!^$q!^!_(o!_!c$q!c!}4n!}#R$q#R#S4n#S#T$q#T#o4n#o$}$q$}%O4n%O%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U4n4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Je$q$Je$Jg4n$Jg$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qo8RP;=`<%l4ni8]Y|W!O`Oq(oqr8{rs&osv(owx'}x!a(o!a!b!#U!b;'S(o;'S;=`)]<%lO(oi9S_|W!O`Or(ors&osv(owx'}x}(o}!O:R!O!f(o!f!g;e!g!}(o!}#ODh#O#W(o#W#XLp#X;'S(o;'S;=`)]<%lO(oi:YX|W!O`Or(ors&osv(owx'}x}(o}!O:u!O;'S(o;'S;=`)]<%lO(oi;OV!QP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oi;lX|W!O`Or(ors&osv(owx'}x!q(o!q!r<X!r;'S(o;'S;=`)]<%lO(oi<`X|W!O`Or(ors&osv(owx'}x!e(o!e!f<{!f;'S(o;'S;=`)]<%lO(oi=SX|W!O`Or(ors&osv(owx'}x!v(o!v!w=o!w;'S(o;'S;=`)]<%lO(oi=vX|W!O`Or(ors&osv(owx'}x!{(o!{!|>c!|;'S(o;'S;=`)]<%lO(oi>jX|W!O`Or(ors&osv(owx'}x!r(o!r!s?V!s;'S(o;'S;=`)]<%lO(oi?^X|W!O`Or(ors&osv(owx'}x!g(o!g!h?y!h;'S(o;'S;=`)]<%lO(oi@QY|W!O`Or?yrs@psv?yvwA[wxBdx!`?y!`!aCr!a;'S?y;'S;=`Db<%lO?ya@uV!O`Ov@pvxA[x!`@p!`!aAy!a;'S@p;'S;=`B^<%lO@pPA_TO!`A[!`!aAn!a;'SA[;'S;=`As<%lOA[PAsOiPPAvP;=`<%lA[aBQSiP!O`Ov&ox;'S&o;'S;=`'Q<%lO&oaBaP;=`<%l@pXBiX|WOrBdrsA[svBdvwA[w!`Bd!`!aCU!a;'SBd;'S;=`Cl<%lOBdXC]TiP|WOr'}sv'}w;'S'};'S;=`(c<%lO'}XCoP;=`<%lBdiC{ViP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiDeP;=`<%l?yiDoZ|W!O`Or(ors&osv(owx'}x!e(o!e!fEb!f#V(o#V#WIr#W;'S(o;'S;=`)]<%lO(oiEiX|W!O`Or(ors&osv(owx'}x!f(o!f!gFU!g;'S(o;'S;=`)]<%lO(oiF]X|W!O`Or(ors&osv(owx'}x!c(o!c!dFx!d;'S(o;'S;=`)]<%lO(oiGPX|W!O`Or(ors&osv(owx'}x!v(o!v!wGl!w;'S(o;'S;=`)]<%lO(oiGsX|W!O`Or(ors&osv(owx'}x!c(o!c!dH`!d;'S(o;'S;=`)]<%lO(oiHgX|W!O`Or(ors&osv(owx'}x!}(o!}#OIS#O;'S(o;'S;=`)]<%lO(oiI]V|W!O`yPOr(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiIyX|W!O`Or(ors&osv(owx'}x#W(o#W#XJf#X;'S(o;'S;=`)]<%lO(oiJmX|W!O`Or(ors&osv(owx'}x#T(o#T#UKY#U;'S(o;'S;=`)]<%lO(oiKaX|W!O`Or(ors&osv(owx'}x#h(o#h#iK|#i;'S(o;'S;=`)]<%lO(oiLTX|W!O`Or(ors&osv(owx'}x#T(o#T#UH`#U;'S(o;'S;=`)]<%lO(oiLwX|W!O`Or(ors&osv(owx'}x#c(o#c#dMd#d;'S(o;'S;=`)]<%lO(oiMkX|W!O`Or(ors&osv(owx'}x#V(o#V#WNW#W;'S(o;'S;=`)]<%lO(oiN_X|W!O`Or(ors&osv(owx'}x#h(o#h#iNz#i;'S(o;'S;=`)]<%lO(oi! RX|W!O`Or(ors&osv(owx'}x#m(o#m#n! n#n;'S(o;'S;=`)]<%lO(oi! uX|W!O`Or(ors&osv(owx'}x#d(o#d#e!!b#e;'S(o;'S;=`)]<%lO(oi!!iX|W!O`Or(ors&osv(owx'}x#X(o#X#Y?y#Y;'S(o;'S;=`)]<%lO(oi!#_V!SP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(ok!$PXaQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo!$wX[UVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!%mZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!&`!a;'S$q;'S;=`)c<%lO$qk!&kX!RQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!'aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_#P$q#P#Q!(S#Q;'S$q;'S;=`)c<%lO$qk!(]ZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!)O!a;'S$q;'S;=`)c<%lO$qk!)ZXxQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$q",tokenizers:[rcn,icn,scn,ocn,0,1,2,3,4],topRules:{Document:[0,6]},tokenPrec:0});function JF(t,n){let i=n&&n.getChild("TagName");return i?t.sliceString(i.from,i.to):""}function Oie(t,n){let i=n&&n.firstChild;return i&&"OpenTag"==i.name?JF(t,i):""}function Tie(t){for(let n=t&&t.parent;n;n=n.parent)if("Element"==n.name)return n;return null}class dcn{constructor(n,i,s){this.attrs=i,this.attrValues=s,this.children=[],this.name=n.name,this.completion=Object.assign(Object.assign({type:"type"},n.completion||{}),{label:this.name}),this.openCompletion=Object.assign(Object.assign({},this.completion),{label:"<"+this.name}),this.closeCompletion=Object.assign(Object.assign({},this.completion),{label:"</"+this.name+">",boost:2}),this.closeNameCompletion=Object.assign(Object.assign({},this.completion),{label:this.name+">"}),this.text=n.textContent?n.textContent.map(o=>({label:o,type:"text"})):[]}}const Pie=/^[:\-\.\w\u00b7-\uffff]*$/;function vLe(t){return Object.assign(Object.assign({type:"property"},t.completion||{}),{label:t.name})}function bLe(t){return"string"==typeof t?{label:`"${t}"`,type:"constant"}:/^"/.test(t.label)?t:Object.assign(Object.assign({},t),{label:`"${t.label}"`})}function pcn(t,n){let i=[],s=[],o=Object.create(null);for(let u of n){let d=vLe(u);i.push(d),u.global&&s.push(d),u.values&&(o[u.name]=u.values.map(bLe))}let a=[],l=[],c=Object.create(null);for(let u of t){let d=s,p=o;u.attributes&&(d=d.concat(u.attributes.map(h=>"string"==typeof h?i.find(m=>m.label==h)||{label:h,type:"property"}:(h.values&&(p==o&&(p=Object.create(p)),p[h.name]=h.values.map(bLe)),vLe(h)))));let f=new dcn(u,d,p);c[f.name]=f,a.push(f),u.top&&l.push(f)}l.length||(l=a);for(let u=0;u<a.length;u++){let d=t[u],p=a[u];if(d.children)for(let f of d.children)c[f]&&p.children.push(c[f]);else p.children=a}return u=>{var d;let{doc:p}=u.state,f=function ucn(t,n){var i;let s=Ns(t).resolveInner(n,-1),o=null;for(let a=s;!o&&a.parent;a=a.parent)("OpenTag"==a.name||"CloseTag"==a.name||"SelfClosingTag"==a.name||"MismatchedCloseTag"==a.name)&&(o=a);if(o&&(o.to>n||o.lastChild.type.isError)){let a=o.parent;if("TagName"==s.name)return"CloseTag"==o.name||"MismatchedCloseTag"==o.name?{type:"closeTag",from:s.from,context:a}:{type:"openTag",from:s.from,context:Tie(a)};if("AttributeName"==s.name)return{type:"attrName",from:s.from,context:o};if("AttributeValue"==s.name)return{type:"attrValue",from:s.from,context:o};let l=s==o||"Attribute"==s.name?s.childBefore(n):s;return"StartTag"==l?.name?{type:"openTag",from:n,context:Tie(a)}:"StartCloseTag"==l?.name&&l.to<=n?{type:"closeTag",from:n,context:a}:"Is"==l?.name?{type:"attrValue",from:n,context:o}:l?{type:"attrName",from:n,context:o}:null}if("StartCloseTag"==s.name)return{type:"closeTag",from:n,context:s.parent};for(;s.parent&&s.to==n&&(null===(i=s.lastChild)||void 0===i||!i.type.isError);)s=s.parent;return"Element"==s.name||"Text"==s.name||"Document"==s.name?{type:"tag",from:n,context:"Element"==s.name?s:Tie(s)}:null}(u.state,u.pos);if(!f||"tag"==f.type&&!u.explicit)return null;let{type:h,from:m,context:y}=f;if("openTag"==h){let E=l,_=Oie(p,y);if(_){let S=c[_];E=S?.children||a}return{from:m,options:E.map(S=>S.completion),validFor:Pie}}if("closeTag"==h){let E=Oie(p,y);return E?{from:m,to:u.pos+(">"==p.sliceString(u.pos,u.pos+1)?1:0),options:[(null===(d=c[E])||void 0===d?void 0:d.closeNameCompletion)||{label:E+">",type:"type"}],validFor:Pie}:null}if("attrName"==h){let E=c[JF(p,y)];return{from:m,options:E?.attrs||s,validFor:Pie}}if("attrValue"==h){let E=function ccn(t,n,i){let s=n&&n.getChildren("Attribute").find(a=>a.from<=i&&a.to>=i),o=s&&s.getChild("AttributeName");return o?t.sliceString(o.from,o.to):""}(p,y,m);if(!E)return null;let _=c[JF(p,y)],S=(_?.attrValues||o)[E];return S&&S.length?{from:m,to:u.pos+('"'==p.sliceString(u.pos,u.pos+1)?1:0),options:S,validFor:/^"[^"]*"?$/}:null}if("tag"==h){let E=Oie(p,y),_=c[E],S=[],v=y&&y.lastChild;E&&(!v||"CloseTag"!=v.name||JF(p,v)!=E)&&S.push(_?_.closeCompletion:{label:"</"+E+">",type:"type",boost:2});let w=S.concat((_?.children||(y?a:l)).map(g=>g.openCompletion));if(y&&_?.text.length){let g=y.firstChild;g.to>u.pos-20&&!/\S/.test(u.state.sliceDoc(g.to,u.pos))&&(w=w.concat(_.text))}return{from:m,options:w,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}return null}}const Die=S_.define({name:"xml",parser:lcn.configure({props:[uT.add({Element(t){let n=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(n?0:t.unit)},"OpenTag CloseTag SelfClosingTag":t=>t.column(t.node.from)+t.unit}),pT.add({Element(t){let n=t.firstChild,i=t.lastChild;return n&&"OpenTag"==n.name?{from:n.to,to:"CloseTag"==i.name?i.from:t.to}:null}}),U5e.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"\x3c!--",close:"--\x3e"}},indentOnInput:/^\s*<\/$/}});function fcn(t={}){let n=[Die.data.of({autocomplete:pcn(t.elements||[],t.attributes||[])})];return!1!==t.autoCloseTags&&n.push(hcn),new k9(Die,n)}function _Le(t,n,i=t.length){if(!n)return"";let s=n.firstChild,o=s&&s.getChild("TagName");return o?t.sliceString(o.from,Math.min(o.to,i)):""}const hcn=kn.inputHandler.of((t,n,i,s,o)=>{if(t.composing||t.state.readOnly||n!=i||">"!=s&&"/"!=s||!Die.isActiveAt(t.state,n,-1))return!1;let a=o(),{state:l}=a,c=l.changeByRange(u=>{var d,p,f;let E,{head:h}=u,m=l.doc.sliceString(h-1,h)==s,y=Ns(l).resolveInner(h,-1);if(m&&">"==s&&"EndTag"==y.name){let _=y.parent;if("CloseTag"!=(null===(p=null===(d=_.parent)||void 0===d?void 0:d.lastChild)||void 0===p?void 0:p.name)&&(E=_Le(l.doc,_.parent,h)))return{range:u,changes:{from:h,to:h+(">"===l.doc.sliceString(h,h+1)?1:0),insert:`</${E}>`}}}else if(m&&"/"==s&&"StartCloseTag"==y.name){let _=y.parent;if(y.from==h-2&&"CloseTag"!=(null===(f=_.lastChild)||void 0===f?void 0:f.name)&&(E=_Le(l.doc,_,h))){let S=h+(">"===l.doc.sliceString(h,h+1)?1:0),v=`${E}>`;return{range:Rt.cursor(h+v.length,-1),changes:{from:h,to:S,insert:v}}}}return{range:u}});return!c.changes.empty&&(t.dispatch([a,l.update(c,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),mcn=["viewer"],gcn=["dmn"],ycn=["dmnProperties"],vcn=["jsonDepDefinition"],bcn=["modelerDepDefinition"],_cn=["modelerProperties"];function Ecn(t,n){if(1&t){const i=Un();ce(0,"div",37)(1,"button",38),qt("click",function(){const o=Ot(i).$implicit;return St(ot().openDef(o))}),je(2),de(),ce(3,"button",36),qt("click",function(){const o=Ot(i).$implicit;return St(ot().toggleEditDep(o))}),cn(4,"i",39),de()()}if(2&t){const i=n.$implicit;tt(2),hh(i)}}function xcn(t,n){if(1&t){const i=Un();ce(0,"button",40),qt("click",function(){const o=Ot(i).$implicit;return St(ot().openDmn(o))}),je(1),de()}if(2&t){const i=n.$implicit;tt(),hh(i)}}function wcn(t,n){if(1&t&&(ce(0,"div",22),je(1),de()),2&t){const i=ot();tt(),Qo(" Do you want to add a step for ",i.selectedElt.id," into the current scenario ? ")}}function Ccn(t,n){if(1&t&&(ce(0,"option",44),je(1),de()),2&t){const i=n.$implicit;gS("value",i.id),tt(),Tx("",i.name," (",i.id,")")}}function Scn(t,n){if(1&t){const i=Un();ce(0,"div",22),je(1,' To manage Intermediate catch event, you should add a Post Step activity in the previous task. Please select the activity that will "host" this post step : '),ce(2,"div",41)(3,"span",28),je(4,"Hosting activity"),de(),ce(5,"select",42),fr("ngModelChange",function(o){Ot(i);const a=ot();return mr(a.intermediateCatchEventSource,o)||(a.intermediateCatchEventSource=o),St(o)}),dr(6,Ccn,2,3,"option",43),de()()()}if(2&t){const i=ot();tt(5),pr("ngModel",i.intermediateCatchEventSource),tt(),Jn("ngForOf",i.origins)}}function Ocn(t,n){1&t&&(ce(0,"div",22),je(1," To manage a boundary event, you should add a Pre Step activity in the parent task. Do you want to create that Pre Step ? "),de())}function Tcn(t,n){if(1&t){const i=Un();ce(0,"button",36),qt("click",function(){return Ot(i),St(ot().createStep())}),cn(1,"i",45),je(2," Create"),de()}}let Pcn=(()=>{class t{constructor(i){this.execPlanService=i,this.showDmn=!1,this.xmlDeps=["Main definition"],this.dmnDeps=[],this.currentDmn="",this.currentDep="Main definition",this.selectedElt=null,this.origins=[],this.addDepModal=!1,this.editDepModal=!1,this.editDepType="modeler",this.selectActivity=s=>{this.selectedElt=s.element,this.execPlanService.isManagedActivity(this.selectedElt.type)&&!this.execPlanService.scenario.steps[s.element.id]?this.opennewstepModal():this.execPlanService.selectActivity(this.selectedElt.id)},this.loopControl=[],this.execPlanService.activitySubject.subscribe(s=>{this.colorSelectedActivity(s)})}colorSelectedActivity(i){if(this.viewer&&this.execPlanService.scenario){let s=[];for(let a in this.execPlanService.scenario.steps)this.colorActivity(a,"#009900"),s.push(a);this.viewer.get("elementRegistry").forEach(a=>{this.execPlanService.isManagedActivity(a.type)&&s.indexOf(a.id)<0&&this.colorActivity(a.id,"#000000")}),this.previousActivity=i,this.colorActivity(i,"#00CCFF")}}ngOnInit(){if(this.execPlanService.executionPlan.xmlDependencies)for(let i in this.execPlanService.executionPlan.xmlDependencies)this.xmlDeps.push(i);if(this.execPlanService.executionPlan.dmnDependencies)for(let i in this.execPlanService.executionPlan.dmnDependencies)this.dmnDeps.push(i)}ngAfterViewInit(){this.viewer=new Ab({container:this.viewerElt.nativeElement,height:400,additionalModules:[iA]}),this.viewer.importXML(this.execPlanService.executionPlan.xml).then(i=>{this.colorSelectedActivity("blop")}),this.viewer.on("element.click",this.selectActivity),this.viewer.on("canvas.viewbox.changing",()=>{})}openDef(i){this.showDmn=!1,this.currentDep=i,"Main definition"==i?this.viewer.importXML(this.execPlanService.executionPlan.xml).then(s=>{this.colorSelectedActivity("blop")}):this.viewer.importXML(this.execPlanService.executionPlan.xmlDependencies[i]).then(s=>{this.colorSelectedActivity("blop")})}buildDmnEditor(){this.showDmn=!0,this.dmnEditor||(this.dmnEditor=new yln({container:this.dmnElt.nativeElement,drd:{propertiesPanel:{parent:this.dmnPropElt.nativeElement}},height:400,width:"100%",keyboard:{bindTo:window}}))}openDmn(i){this.buildDmnEditor(),this.currentDmn=i;let s=this.dmnEditor;this.dmnEditor.importXML(this.execPlanService.executionPlan.dmnDependencies[i],function(o){"drd"===s.getActiveView().type&&s.getActiveViewer()})}colorActivity(i,s){const o=this.viewer?.get("elementRegistry"),a=this.viewer?.get("graphicsFactory"),l=o?.get(i);if(void 0!==l?.di){l.di.set("stroke",s);const c=o?.getGraphics(l);void 0!==c&&a?.update("connection",l,c)}}findOrigins(i){let s=[];if(i.incoming)for(let o of i.incoming)this.loopControl.indexOf(o.sourceRef.id)<0&&(console.log(o.sourceRef),this.loopControl.push(o.sourceRef.id),"bpmn:ServiceTask"==o.sourceRef.$type||"bpmn:UserTask"==o.sourceRef.$type?s.push(o.sourceRef):s=s.concat(this.findOrigins(o.sourceRef)));return s}opennewstepModal(){this.origins=[],this.loopControl=[this.selectedElt.id],"bpmn:IntermediateCatchEvent"==this.selectedElt.type&&(console.log(this.selectedElt),this.origins=this.findOrigins(this.selectedElt.businessObject),this.origins&&this.origins.length>0&&(this.intermediateCatchEventSource=this.origins[0].id)),window.bootstrap.Modal.getOrCreateInstance(document.getElementById("newstep")).show()}closenewstepModal(){window.bootstrap.Modal.getInstance(document.getElementById("newstep")).hide()}createStep(){if("bpmn:BoundaryEvent"==this.selectedElt.type){let i=this.selectedElt.businessObject.eventDefinitions[0].$type,s=this.selectedElt.businessObject.attachedToRef.id;if("bpmn:MessageEventDefinition"==i)this.execPlanService.createPreStepInScenario(s,"MSG",this.selectedElt.businessObject.eventDefinitions[0].messageRef,3600);else if("bpmn:TimerEventDefinition"==i){let o=this.selectedElt.businessObject.eventDefinitions[0],a="PT10M";o.timeCycle?a=o.timeCycle.body.substring(2):o.timeDuration&&(a=o.timeDuration.body),this.execPlanService.createPreStepInScenario(s,"CLOCK",null,a)}else"bpmn:ErrorEventDefinition"==i?this.execPlanService.createPreStepInScenario(s,"BPMN_ERROR",this.selectedElt.businessObject.eventDefinitions[0].errorRef,1):"bpmn:SignalEventDefinition"==i?this.execPlanService.createPreStepInScenario(s,"SIGNAL",this.selectedElt.businessObject.eventDefinitions[0].signalRef,1):alert("Implementation for the type "+i+" is missing.")}else if("bpmn:IntermediateCatchEvent"==this.selectedElt.type&&"bpmn:TimerEventDefinition"==this.selectedElt.businessObject.eventDefinitions[0].$type)this.execPlanService.createClockStepInScenario(this.selectedElt.id,this.selectedElt.businessObject.eventDefinitions[0].timeDuration.body);else if("bpmn:IntermediateCatchEvent"==this.selectedElt.type){let i=this.selectedElt.businessObject.eventDefinitions[0].$type;"bpmn:MessageEventDefinition"==i?this.execPlanService.createPostStepInScenario(this.intermediateCatchEventSource,"MSG",this.selectedElt.businessObject.eventDefinitions[0].messageRef,3600):"bpmn:ErrorEventDefinition"==i?this.execPlanService.createPostStepInScenario(this.intermediateCatchEventSource,"BPMN_ERROR",this.selectedElt.businessObject.eventDefinitions[0].errorRef,1):"bpmn:SignalEventDefinition"==i?this.execPlanService.createPostStepInScenario(this.intermediateCatchEventSource,"SIGNAL",this.selectedElt.businessObject.eventDefinitions[0].signalRef,1):alert("Implementation for the type "+i+" is missing.")}else this.execPlanService.createStepInScenario(this.selectedElt.id);this.closenewstepModal()}toggleAddDep(){this.addDepModal=!this.addDepModal,this.addDepModal?window.bootstrap.Modal.getOrCreateInstance(document.getElementById("addDepModal")).show():(this.newDepXml=void 0,window.bootstrap.Modal.getInstance(document.getElementById("addDepModal")).hide())}loadBpmnFile(i){var s=i.target.files[0];if(s){var o=new FileReader;o.readAsText(s,"UTF-8"),o.onload=this._handleReaderLoaded.bind(this),o.onerror=this._handleReaderError.bind(this)}}_handleReaderLoaded(i){this.newDepXml=i.target.result}_handleReaderError(){this.newDepXml=void 0}addDep(){let i=this.newDepXml;this.viewer.importXML(i).then(s=>{let o=this.viewer?.getDefinitions().rootElements;for(let a of o)"bpmn:Process"==a.$type&&((!this.execPlanService.executionPlan.xmlDependencies||null==this.execPlanService.executionPlan.xmlDependencies)&&(this.execPlanService.executionPlan.xmlDependencies={}),this.execPlanService.executionPlan.xmlDependencies[a.id]=i,this.xmlDeps.push(a.id))}).catch(()=>{i.indexOf("decision")>0&&(this.buildDmnEditor(),this.dmnEditor.importXML(i).then(s=>{let o=this.dmnEditor._definitions.name;(!this.execPlanService.executionPlan.dmnDependencies||null==this.execPlanService.executionPlan.dmnDependencies)&&(this.execPlanService.executionPlan.dmnDependencies={}),this.execPlanService.executionPlan.dmnDependencies[o]=i,this.dmnDeps.push(o),this.currentDmn=o}))}),this.toggleAddDep()}saveDmn(){this.dmnEditor.saveXML().then(i=>{this.execPlanService.executionPlan.dmnDependencies[this.currentDmn]=i.xml})}toggleEditDep(i){if(""!=i&&(this.currentDep=i),this.editDepModal=!this.editDepModal,this.editDepModal){window.bootstrap.Modal.getOrCreateInstance(document.getElementById("editDepModal")).show();let s="";s="Main definition"==this.currentDep?this.execPlanService.executionPlan.xml:this.execPlanService.executionPlan.xmlDependencies[this.currentDep],this.prepareDefinitionEdition(s)}else this.newDepXml=void 0,window.bootstrap.Modal.getInstance(document.getElementById("editDepModal")).hide()}setEditDepType(i){this.editDepType=i,"XML"==this.editDepType?this.editDepModeler.saveXML({format:!0}).then(s=>{this.prepareDefinitionEdition(s.xml)}):this.prepareDefinitionEdition(this.editDepJson.state.doc.toString())}prepareDefinitionEdition(i){"XML"==this.editDepType?this.editDepJson?this.editDepJson.dispatch({changes:{from:0,to:this.editDepJson.state.doc.length,insert:i}}):this.editDepJson=new kn({doc:i,extensions:[ZF,fcn()],parent:this.jsonDepDefinition.nativeElement}):(this.editDepModeler||(this.editDepModeler=new c2({container:this.modelerDepDefinition.nativeElement,propertiesPanel:{parent:this.modelerProperties.nativeElement},height:600,additionalModules:[iA]})),this.editDepModeler.importXML(i).then(s=>{}))}applyDepModif(){"XML"==this.editDepType?(this.execPlanService.updateDep(this.currentDep,this.editDepJson.state.doc.toString()),this.toggleEditDep("")):this.editDepModeler.saveXML({format:!0}).then(i=>{this.execPlanService.updateDep(this.currentDep,i.xml),this.toggleEditDep("")})}static{this.\u0275fac=function(s){return new(s||t)(Ut(Ch))}}static{this.\u0275cmp=Rc({type:t,selectors:[["app-viewer"]],viewQuery:function(s,o){if(1&s&&(Zl(mcn,5),Zl(gcn,5),Zl(ycn,5),Zl(vcn,5),Zl(bcn,5),Zl(_cn,5)),2&s){let a;Jl(a=ec())&&(o.viewerElt=a.first),Jl(a=ec())&&(o.dmnElt=a.first),Jl(a=ec())&&(o.dmnPropElt=a.first),Jl(a=ec())&&(o.jsonDepDefinition=a.first),Jl(a=ec())&&(o.modelerDepDefinition=a.first),Jl(a=ec())&&(o.modelerProperties=a.first)}},standalone:!1,decls:71,vars:11,consts:[["viewer",""],["dmn",""],["dmnProperties",""],["modelerDepDefinition",""],["modelerProperties",""],["jsonDepDefinition",""],[3,"ngClass"],[1,"renderer"],[1,"prop"],[1,"btn","btn-primary","saveDmn",3,"click"],[1,"bi","bi-floppy"],[1,"mt-3","bottom"],["class","btn-group m-1","role","group","aria-label","Basic example",4,"ngFor","ngForOf"],["class","btn btn-outline-primary m-1",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus"],["id","newstep","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"],["id","addDepModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade","modal-xl"],[1,"input-group","mb-1"],[1,"input-group-text"],["type","file","min","0","max","100",1,"form-control",3,"change"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["id","editDepModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade","modal-xxl"],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],[3,"click","ngClass"],[1,"modeler"],[1,"properties-panel"],["type","button",1,"btn","btn-primary",3,"click"],["role","group","aria-label","Basic example",1,"btn-group","m-1"],[1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-outline-primary","m-1",3,"click"],[1,"input-group","mb-3"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"bi","bi-plus-circle"]],template:function(s,o){if(1&s){const a=Un();cn(0,"div",6,0),ce(2,"div",6),cn(3,"div",7,1)(5,"div",8,2),ce(7,"button",9),qt("click",function(){return Ot(a),St(o.saveDmn())}),cn(8,"i",10),je(9," Save modifications"),de()(),ce(10,"div",11),dr(11,Ecn,5,1,"div",12)(12,xcn,2,1,"button",13),ce(13,"button",14),qt("click",function(){return Ot(a),St(o.toggleAddDep())}),cn(14,"i",15),de()(),ce(15,"div",16)(16,"div",17)(17,"div",18)(18,"div",19)(19,"h5",20),je(20,"Prepare step"),de(),ce(21,"button",21),qt("click",function(){return Ot(a),St(o.closenewstepModal())}),de()(),dr(22,wcn,2,1,"div",22)(23,Scn,7,2,"div",22)(24,Ocn,2,0,"div",22),ce(25,"div",23),dr(26,Tcn,3,0,"button",24),ce(27,"button",25),qt("click",function(){return Ot(a),St(o.closenewstepModal())}),je(28,"Close"),de()()()()(),ce(29,"div",26)(30,"div",17)(31,"div",18)(32,"div",19)(33,"h5",20),je(34,"Add new BPMN dependency (call activity)"),de(),ce(35,"button",21),qt("click",function(){return Ot(a),St(o.toggleAddDep())}),de()(),ce(36,"div",22)(37,"div",27)(38,"span",28),je(39,"BPMN file"),de(),ce(40,"input",29),qt("change",function(c){return Ot(a),St(o.loadBpmnFile(c))}),de()()(),ce(41,"div",23)(42,"button",30),qt("click",function(){return Ot(a),St(o.addDep())}),je(43,"Create"),de(),ce(44,"button",25),qt("click",function(){return Ot(a),St(o.toggleAddDep())}),je(45,"Close"),de()()()()(),ce(46,"div",31)(47,"div",17)(48,"div",18)(49,"div",19)(50,"h5",20),je(51," Edit a BPMN definition "),ce(52,"div",32)(53,"buttun",33),qt("click",function(){return Ot(a),St(o.setEditDepType("modeler"))}),je(54," Modeler "),de(),ce(55,"buttun",33),qt("click",function(){return Ot(a),St(o.setEditDepType("XML"))}),je(56," XML "),de()()(),ce(57,"button",21),qt("click",function(){return Ot(a),St(o.toggleEditDep(""))}),de()(),ce(58,"div",22)(59,"div",6),cn(60,"div",34,3)(62,"div",35,4),de(),cn(64,"div",6,5),de(),ce(66,"div",23)(67,"button",36),qt("click",function(){return Ot(a),St(o.applyDepModif())}),je(68,"Apply"),de(),ce(69,"button",25),qt("click",function(){return Ot(a),St(o.toggleEditDep(""))}),je(70,"Close"),de()()()()()}2&s&&(Jn("ngClass",o.showDmn?"hidden":""),tt(2),Jn("ngClass",o.showDmn?"dmn":"hidden"),tt(9),Jn("ngForOf",o.xmlDeps),tt(),Jn("ngForOf",o.dmnDeps),tt(10),Gi(!o.selectedElt||"bpmn:IntermediateCatchEvent"===o.selectedElt.type&&"bpmn:TimerEventDefinition"!=o.selectedElt.businessObject.eventDefinitions[0].$type||"bpmn:BoundaryEvent"===o.selectedElt.type?o.selectedElt&&"bpmn:IntermediateCatchEvent"==o.selectedElt.type?23:o.selectedElt&&"bpmn:BoundaryEvent"==o.selectedElt.type?24:-1:22),tt(4),Gi(o.selectedElt?26:-1),tt(16),Jn("disabled",!o.newDepXml),tt(11),Jn("ngClass","modeler"==o.editDepType?"btn btn-primary active":"btn btn-outline-primary"),tt(2),Jn("ngClass","modeler"!=o.editDepType?"btn btn-primary active":"btn btn-outline-primary"),tt(4),Jn("ngClass","modeler"==o.editDepType?"modelermain":"modelermain hidden"),tt(5),Jn("ngClass","modeler"==o.editDepType?"hidden":""))},dependencies:[fb,Q0,NS,LS,yb,gb,y1],styles:[".bottom[_ngcontent-%COMP%]{position:absolute;bottom:0}.hidden[_ngcontent-%COMP%]{display:none}.dmn[_ngcontent-%COMP%]{display:flex;flex:1 1 0%;overflow-x:hidden}.dmn[_ngcontent-%COMP%]   .renderer[_ngcontent-%COMP%]{display:flex;flex:1 1 0%;position:relative;background-color:#fff;flex-wrap:wrap}.dmn[_ngcontent-%COMP%]   .prop[_ngcontent-%COMP%]{width:400px}button.saveDmn[_ngcontent-%COMP%]{display:block;position:absolute;right:5px;top:5px;z-index:10}.modelermain[_ngcontent-%COMP%]{display:flex;flex:1 1 0%;overflow-x:hidden}.modelermain.hidden[_ngcontent-%COMP%]{display:none}.modeler[_ngcontent-%COMP%]{display:flex;flex:1 1 0%;position:relative;background-color:#fff;outline:none}.properties-panel[_ngcontent-%COMP%]{width:400px;max-height:calc(-48px + 100vh);position:relative;margin-top:-1px}"]})}}return t})();const Dcn=o_({String:he.string,Number:he.number,"True False":he.bool,PropertyName:he.propertyName,Null:he.null,", :":he.separator,"[ ]":he.squareBracket,"{ }":he.brace}),kcn=s_.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"\u26a0 JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[Dcn],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),Acn=S_.define({name:"json",parser:kcn.configure({props:[uT.add({Object:dT({except:/^\s*\}/}),Array:dT({except:/^\s*\]/})}),pT.add({"Object Array":dw})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function kie(){return new k9(Acn)}const Icn=["jsonTemplate"],Rcn=["contextTemplate"];function Ncn(t,n){if(1&t&&(ce(0,"i"),je(1),de()),2&t){const i=n.$implicit;tt(),Qo("",i.example,". ")}}function Lcn(t,n){if(1&t&&(ce(0,"span"),je(1,"(e.g. "),dr(2,Ncn,2,1,"i",13),je(3,")"),de()),2&t){const i=ot().$implicit;tt(2),Jn("ngForOf",i.methods)}}function Fcn(t,n){if(1&t){const i=Un();ce(0,"span")(1,"a",15),qt("click",function(){const o=Ot(i).index;return St(ot(2).showExample(o))}),ce(2,"b"),je(3),de(),dr(4,Lcn,4,1,"span",16),de(),je(5,", "),de()}if(2&t){const i=n.$implicit;tt(3),hh(i.name),tt(),Jn("ngIf",i.showExample)}}function Bcn(t,n){if(1&t){const i=Un();ce(0,"div",8),je(1," List of available methods (click on its name to have an example) :"),cn(2,"br"),dr(3,Fcn,6,2,"span",13),cn(4,"br"),ce(5,"b"),je(6,"Note :"),de(),je(7,' to pass an aray parameter, use the following syntax : {"string1", "string2", "string3"}'),cn(8,"br"),ce(9,"button",14),qt("click",function(){return Ot(i),St(ot().closeHelp())}),de()()}if(2&t){const i=ot();tt(3),Jn("ngForOf",i.templatingMethods)}}function $cn(t,n){if(1&t&&(ce(0,"div",12)(1,"pre"),je(2),de()()),2&t){const i=ot();tt(2),hh(i.checkResult)}}let ELe=(()=>{class t{constructor(i){this.templatingService=i,this.label="Json Template",this.classnames="",this.templateChange=new Qa,this.displayHelp=!1,this.displayCheck=!1,this.updateTemplate=kn.updateListener.of(s=>{this.template.template=s.state.doc.toString(),this.templateChange.emit(this.template)}),this.updateContext=kn.updateListener.of(s=>{try{this.template.exampleContext=JSON.parse(s.state.doc.toString()),this.templateChange.emit(this.template)}catch{}})}help(){this.templatingMethods?this.displayHelp=!0:this.templatingService.listTemplatingMethodsNames().subscribe(i=>{this.templatingMethods=[];for(let s of i)this.templatingMethods.push({name:s});this.displayHelp=!0})}closeHelp(){this.displayHelp=!1}showExample(i){this.templatingMethods[i].methods?this.templatingMethods[i].showExample=!this.templatingMethods[i].showExample:this.templatingService.listTemplatingMethods(this.templatingMethods[i].name).subscribe(s=>{this.templatingMethods[i].methods=s,this.templatingMethods[i].showExample=!0})}toggleCheck(){this.checkResult=void 0,this.displayCheck=!this.displayCheck}checkTemplate(){this.templatingService.checkTemplate(this.template).subscribe(i=>{this.checkResult=JSON.stringify(i,null,2)})}ngAfterViewInit(){new kn({doc:this.prettifyJsonTemplate(this.template.template),extensions:[ZF,kie(),this.updateTemplate],parent:this.jsonTemplate.nativeElement}),new kn({doc:JSON.stringify(this.template.exampleContext,null,2),extensions:[ZF,kie(),this.updateContext],parent:this.contextTemplate.nativeElement})}prettifyJsonTemplate(i){let s=i,o=s.indexOf("templateUtils."),a=[],l=0;for(;o>0;){let c=s.indexOf("(",o),u=this.findClosingBracket(s,c),d=s.substring(o,u+1);s=s.substring(0,o)+'"R3P1AC^^3||T'+l+++'"'+s.substring(u+1),a.push(d),o=s.indexOf("templateUtils.")}try{let c=JSON.stringify(JSON.parse(s),null,2);for(let u=0;u<a.length;u++)c=c.replace('"R3P1AC^^3||T'+u+'"',a[u]);return c}catch{return i}}findClosingBracket(i,s){let o=s,a=1;for(;a>0;){let l=i.charAt(++o);"("==l?a++:")"==l&&a--}return o}static{this.\u0275fac=function(s){return new(s||t)(Ut(i6))}}static{this.\u0275cmp=Rc({type:t,selectors:[["app-json-editor"]],viewQuery:function(s,o){if(1&s&&(Zl(Icn,5),Zl(Rcn,5)),2&s){let a;Jl(a=ec())&&(o.jsonTemplate=a.first),Jl(a=ec())&&(o.contextTemplate=a.first)}},inputs:{label:"label",classnames:"classnames",template:"template"},outputs:{templateChange:"templateChange"},standalone:!1,decls:18,vars:5,consts:[["jsonTemplate",""],["contextTemplate",""],[3,"ngClass"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-question-circle","text-info",3,"click"],[1,"bi","bi-check2-circle","text-success",3,"click"],[1,"form-control"],[1,"alert","alert-info"],[1,"input-group",3,"ngClass"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-check2-circle"],[1,"alert","alert-success"],[4,"ngFor","ngForOf"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"click"],[4,"ngIf"]],template:function(s,o){if(1&s){const a=Un();ce(0,"div",2)(1,"div",3)(2,"span",4),je(3),ce(4,"i",5),qt("click",function(){return Ot(a),St(o.help())}),de(),ce(5,"i",6),qt("click",function(){return Ot(a),St(o.toggleCheck())}),de()(),cn(6,"div",7,0),de(),dr(8,Bcn,10,1,"div",8),ce(9,"div",9)(10,"span",4),je(11,"Test context"),de(),cn(12,"div",7,1),ce(14,"button",10),qt("click",function(){return Ot(a),St(o.checkTemplate())}),cn(15,"i",11),je(16," Check template"),de()(),dr(17,$cn,3,1,"div",12),de()}2&s&&(Jn("ngClass",o.classnames),tt(3),Qo("",o.label," "),tt(5),Gi(o.displayHelp?8:-1),tt(),Jn("ngClass",o.displayCheck?"":"hidden"),tt(8),Gi(o.checkResult?17:-1))},dependencies:[fb,Q0,U8],encapsulation:2})}}return t})();const Vcn=["preview"];function jcn(t,n){if(1&t){const i=Un();ce(0,"div",1)(1,"div",8)(2,"div",3)(3,"span",4),je(4,"Day time start (hour)"),de(),ce(5,"input",35),fr("ngModelChange",function(o){Ot(i);const a=ot();return mr(a.execPlanService.scenario.dayTimeStart,o)||(a.execPlanService.scenario.dayTimeStart=o),St(o)}),de()()(),ce(6,"div",8)(7,"div",3)(8,"span",4),je(9,"Day end time (hour)"),de(),ce(10,"input",35),fr("ngModelChange",function(o){Ot(i);const a=ot();return mr(a.execPlanService.scenario.dayTimeEnd,o)||(a.execPlanService.scenario.dayTimeEnd=o),St(o)}),de()()()()}if(2&t){const i=ot();tt(5),pr("ngModel",i.execPlanService.scenario.dayTimeStart),tt(5),pr("ngModel",i.execPlanService.scenario.dayTimeEnd)}}function zcn(t,n){if(1&t){const i=Un();ce(0,"div",3)(1,"span",4),je(2,"Message name"),de(),ce(3,"input",5),fr("ngModelChange",function(o){Ot(i);const a=ot();return mr(a.execPlanService.scenario.startMsgName,o)||(a.execPlanService.scenario.startMsgName=o),St(o)}),de()()}if(2&t){const i=ot();tt(3),pr("ngModel",i.execPlanService.scenario.startMsgName)}}function Hcn(t,n){if(1&t){const i=Un();ce(0,"div",31)(1,"input",36),fr("ngModelChange",function(o){Ot(i);const a=ot();return mr(a.execPlanService.scenario.evolution.decreasing,o)||(a.execPlanService.scenario.evolution.decreasing=o),St(o)}),de(),ce(2,"label",37),je(3,"Decreasing evolution"),de()()}if(2&t){const i=ot();tt(),pr("ngModel",i.execPlanService.scenario.evolution.decreasing)}}function Ucn(t,n){if(1&t){const i=Un();ce(0,"div",3)(1,"span",4),je(2,"Salt (min)"),de(),ce(3,"input",30),fr("ngModelChange",function(o){Ot(i);const a=ot();return mr(a.execPlanService.scenario.evolution.saltMin,o)||(a.execPlanService.scenario.evolution.saltMin=o),St(o)}),de()(),ce(4,"div",3)(5,"span",4),je(6,"Salt (max)"),de(),ce(7,"input",30),fr("ngModelChange",function(o){Ot(i);const a=ot();return mr(a.execPlanService.scenario.evolution.saltMax,o)||(a.execPlanService.scenario.evolution.saltMax=o),St(o)}),de()()}if(2&t){const i=ot();tt(3),pr("ngModel",i.execPlanService.scenario.evolution.saltMin),tt(4),pr("ngModel",i.execPlanService.scenario.evolution.saltMax)}}function qcn(t,n){if(1&t){const i=Un();ce(0,"div",3)(1,"span",4),je(2,"Exponent"),de(),ce(3,"input",30),fr("ngModelChange",function(o){Ot(i);const a=ot();return mr(a.execPlanService.scenario.evolution.exponent,o)||(a.execPlanService.scenario.evolution.exponent=o),St(o)}),de()()}if(2&t){const i=ot();tt(3),pr("ngModel",i.execPlanService.scenario.evolution.exponent)}}function Wcn(t,n){if(1&t){const i=Un();ce(0,"div",3)(1,"span",4),je(2,"Mean"),de(),ce(3,"input",38),fr("ngModelChange",function(o){Ot(i);const a=ot();return mr(a.execPlanService.scenario.evolution.mean,o)||(a.execPlanService.scenario.evolution.mean=o),St(o)}),de()(),ce(4,"div",3)(5,"span",4),je(6,"Standard derivation"),de(),ce(7,"input",38),fr("ngModelChange",function(o){Ot(i);const a=ot();return mr(a.execPlanService.scenario.evolution.derivation,o)||(a.execPlanService.scenario.evolution.derivation=o),St(o)}),de()()}if(2&t){const i=ot();tt(3),pr("ngModel",i.execPlanService.scenario.evolution.mean),tt(4),pr("ngModel",i.execPlanService.scenario.evolution.derivation)}}let Gcn=(()=>{class t{constructor(i){this.execPlanService=i}openStartPlanModal(){window.bootstrap.Modal.getOrCreateInstance(document.getElementById("startPlanModal")).show()}closeStartPlanModal(){window.bootstrap.Modal.getInstance(document.getElementById("startPlanModal")).hide()}previewEvol(){this.execPlanService.previewEvol(this.execPlanService.scenario.evolution).subscribe(i=>{this.chart?(this.chart.data=i,this.chart.update()):this.chart=new oq(this.preview.nativeElement,{type:"line",data:i})})}static{this.\u0275fac=function(s){return new(s||t)(Ut(Ch))}}static{this.\u0275cmp=Rc({type:t,selectors:[["app-instantiate"]],viewQuery:function(s,o){if(1&s&&Zl(Vcn,5),2&s){let a;Jl(a=ec())&&(o.preview=a.first)}},standalone:!1,decls:90,vars:15,consts:[["preview",""],[1,"row"],[1,"col-12"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-send"],[1,"col-6"],[1,"alert","alert-info"],[1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-pencil"],[1,"col-4"],[1,"form-select",3,"ngModelChange","ngModel"],["value","START"],["value","MSG"],[1,"col-8"],["label","JSON template","classnames","mb-3",3,"templateChange","template"],["id","startPlanModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["selected",""],["value","linear"],["value","saltedlinear"],["value","exponential"],["value","normal"],["type","number","min","0",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-check","form-switch","mb-3"],[1,"bi","bi-eye"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","number","min","0","max","23",1,"form-control",3,"ngModelChange","ngModel"],["type","checkbox","role","switch",1,"form-check-input",3,"ngModelChange","ngModel"],["for","flexSwitchCheckDefault",1,"form-check-label"],["type","number","min","0","step","0.01","max","1",1,"form-control",3,"ngModelChange","ngModel"]],template:function(s,o){if(1&s){const a=Un();ce(0,"div",1)(1,"div",2)(2,"div",3)(3,"span",4),je(4,"Scenario name"),de(),ce(5,"input",5),fr("ngModelChange",function(c){return Ot(a),mr(o.execPlanService.scenario.name,c)||(o.execPlanService.scenario.name=c),St(c)}),de(),ce(6,"button",6),qt("click",function(){return Ot(a),St(o.execPlanService.executeCurrentScenario())}),cn(7,"i",7),je(8," Start scenario"),de()()()(),ce(9,"div",1)(10,"div",8)(11,"div",3)(12,"span",4),je(13,"First day (FEEL)"),de(),ce(14,"input",5),fr("ngModelChange",function(c){return Ot(a),mr(o.execPlanService.scenario.firstDayFeelExpression,c)||(o.execPlanService.scenario.firstDayFeelExpression=c),St(c)}),de()()(),ce(15,"div",8)(16,"div",3)(17,"span",4),je(18,"Last day (FEEL)"),de(),ce(19,"input",5),fr("ngModelChange",function(c){return Ot(a),mr(o.execPlanService.scenario.lastDayFeelExpression,c)||(o.execPlanService.scenario.lastDayFeelExpression=c),St(c)}),de()()()(),ce(20,"div",9),je(21," If you start your instances too far in the past, you're likely to increment number of shards used in ElasticSearch and SaaS clusters have a default limit to 1000 shards. Therefore, it's recommended not to go further than 40 days ago.\n"),de(),dr(22,jcn,11,2,"div",1),cn(23,"hr"),ce(24,"div",1)(25,"div",2)(26,"div",3)(27,"span",4),je(28,"Instances distribution"),de(),ce(29,"button",10),qt("click",function(){return Ot(a),St(o.openStartPlanModal())}),cn(30,"i",11),je(31),de()()()(),ce(32,"div",1)(33,"div",12)(34,"div",3)(35,"span",4),je(36,"Start type"),de(),ce(37,"select",13),fr("ngModelChange",function(c){return Ot(a),mr(o.execPlanService.scenario.startType,c)||(o.execPlanService.scenario.startType=c),St(c)}),ce(38,"option",14),je(39,"START"),de(),ce(40,"option",15),je(41,"MSG"),de()()()(),ce(42,"div",16),dr(43,zcn,4,1,"div",3),de()(),ce(44,"div",1)(45,"div",2)(46,"app-json-editor",17),fr("templateChange",function(c){return Ot(a),mr(o.execPlanService.scenario.jsonTemplate,c)||(o.execPlanService.scenario.jsonTemplate=c),St(c)}),de()()(),ce(47,"div",18)(48,"div",19)(49,"div",20)(50,"div",21)(51,"h5",22),je(52,"Start Plan"),de(),ce(53,"button",23),qt("click",function(){return Ot(a),St(o.closeStartPlanModal())}),de()(),ce(54,"div",24)(55,"div",3)(56,"span",4),je(57,"Progression"),de(),ce(58,"select",13),fr("ngModelChange",function(c){return Ot(a),mr(o.execPlanService.scenario.evolution.type,c)||(o.execPlanService.scenario.evolution.type=c),St(c)}),ce(59,"option",25),je(60,"Choose..."),de(),ce(61,"option",26),je(62,"Linear"),de(),ce(63,"option",27),je(64,"Salted linear"),de(),ce(65,"option",28),je(66,"Exponential"),de(),ce(67,"option",29),je(68,"Normally distributed"),de()()(),ce(69,"div",3)(70,"span",4),je(71,"Minimum instances"),de(),ce(72,"input",30),fr("ngModelChange",function(c){return Ot(a),mr(o.execPlanService.scenario.evolution.min,c)||(o.execPlanService.scenario.evolution.min=c),St(c)}),de()(),ce(73,"div",3)(74,"span",4),je(75,"Maximum instances"),de(),ce(76,"input",30),fr("ngModelChange",function(c){return Ot(a),mr(o.execPlanService.scenario.evolution.max,c)||(o.execPlanService.scenario.evolution.max=c),St(c)}),de()(),dr(77,Hcn,4,1,"div",31)(78,Ucn,8,2)(79,qcn,4,1,"div",3)(80,Wcn,8,2),ce(81,"button",6),qt("click",function(){return Ot(a),St(o.previewEvol())}),cn(82,"i",32),je(83," Preview"),de(),cn(84,"br")(85,"canvas",null,0),de(),ce(87,"div",33)(88,"button",34),qt("click",function(){return Ot(a),St(o.closeStartPlanModal())}),je(89,"Close"),de()()()()()}2&s&&(tt(5),pr("ngModel",o.execPlanService.scenario.name),tt(9),pr("ngModel",o.execPlanService.scenario.firstDayFeelExpression),tt(5),pr("ngModel",o.execPlanService.scenario.lastDayFeelExpression),tt(3),Gi("HOURS"==o.execPlanService.executionPlan.instanceDistribution?22:-1),tt(9),ez(" ",o.execPlanService.scenario.evolution.type," [",o.execPlanService.scenario.evolution.min," TO ",o.execPlanService.scenario.evolution.max,"]"),tt(6),pr("ngModel",o.execPlanService.scenario.startType),tt(6),Gi("MSG"==o.execPlanService.scenario.startType?43:-1),tt(3),pr("template",o.execPlanService.scenario.jsonTemplate),tt(12),pr("ngModel",o.execPlanService.scenario.evolution.type),tt(14),pr("ngModel",o.execPlanService.scenario.evolution.min),tt(4),pr("ngModel",o.execPlanService.scenario.evolution.max),tt(),Gi("normal"!=o.execPlanService.scenario.evolution.type?77:-1),tt(),Gi("saltedlinear"==o.execPlanService.scenario.evolution.type?78:"exponential"==o.execPlanService.scenario.evolution.type?79:"normal"==o.execPlanService.scenario.evolution.type?80:-1))},dependencies:[NS,LS,h1,h7,iH,yb,gb,v7,y7,y1,ELe],encapsulation:2})}}return t})();function Kcn(t,n){if(1&t){const i=Un();ce(0,"input",9),fr("ngModelChange",function(o){Ot(i);const a=ot().$implicit;return mr(a.delay,o)||(a.delay=o),St(o)}),de()}2&t&&pr("ngModel",ot().$implicit.delay)}function Ycn(t,n){if(1&t){const i=Un();ce(0,"input",10),fr("ngModelChange",function(o){Ot(i);const a=ot().$implicit;return mr(a.delay,o)||(a.delay=o),St(o)}),de()}2&t&&pr("ngModel",ot().$implicit.delay)}function Xcn(t,n){if(1&t&&(ce(0,"div",1)(1,"div",2)(2,"span",3),je(3),de(),dr(4,Kcn,1,1,"input",7)(5,Ycn,1,1,"input",8),de()()),2&t){const i=ot(2);tt(3),Qo("Wait (",i.execPlanService.executionPlan.durationsType,")"),tt(),Gi("FEEL"!=i.execPlanService.executionPlan.durationsType?4:5)}}function Qcn(t,n){if(1&t){const i=Un();ce(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),je(4,"Element Id"),de(),cn(5,"input",4),ce(6,"button",5),qt("click",function(){return Ot(i),St(ot().execPlanService.deleteCurrentStep())}),cn(7,"i",6),de()()(),h8(8,Xcn,6,2,"div",1,f8),de()}if(2&t){const i=ot();tt(5),gS("value",i.step.elementId),tt(3),m8(i.step.preSteps)}}function Zcn(t,n){if(1&t){const i=Un();ce(0,"div",0)(1,"app-json-editor",30),fr("templateChange",function(o){Ot(i);const a=ot(3);return mr(a.step.jsonTemplate,o)||(a.step.jsonTemplate=o),St(o)}),de()()}if(2&t){const i=ot(3);tt(),pr("template",i.step.jsonTemplate)}}function Jcn(t,n){if(1&t){const i=Un();ce(0,"div",0)(1,"div",2)(2,"span",3),je(3,"Incident"),de(),ce(4,"select",13),fr("ngModelChange",function(o){Ot(i);const a=ot(3);return mr(a.step.incident,o)||(a.step.incident=o),St(o)}),ce(5,"option",14),je(6,"Choose..."),de(),ce(7,"option",31),je(8,"NULLPOINTER"),de(),ce(9,"option",32),je(10,"ARITHMETIC"),de(),ce(11,"option",33),je(12,"OUT_OF_BOUND"),de(),ce(13,"option",33),je(14,"ILLEGAL_ARGUMENT"),de(),ce(15,"option",33),je(16,"TIME_OUT"),de()()()()}if(2&t){const i=ot(3);tt(4),pr("ngModel",i.step.incident)}}function eun(t,n){if(1&t){const i=Un();ce(0,"div",0)(1,"div",27)(2,"div",2)(3,"span",3),je(4),de(),ce(5,"button",28),qt("click",function(){return Ot(i),St(ot(2).openDurationModal())}),cn(6,"i",29),je(7),de()()()(),dr(8,Zcn,2,1,"div",0)(9,Jcn,17,1,"div",0)}if(2&t){const i=ot(2);tt(4),Qo("Completion time (",i.execPlanService.executionPlan.durationsType,")"),tt(3),tz(" Avg from ",i.step.duration.startDesiredAvg," to ",i.step.duration.endDesiredAvg," (variation ",i.step.duration.minMaxPercent,"%). Progression ",i.step.duration.avgProgression,""),tt(),Gi("COMPLETE"==i.step.action?8:9)}}function tun(t,n){if(1&t){const i=Un();ce(0,"li")(1,"div",34)(2,"button",28),qt("click",function(){const o=Ot(i).index;return St(ot(2).openPreStepModal(o))}),cn(3,"i",29),je(4),de(),ce(5,"button",5),qt("click",function(){const o=Ot(i).index;return St(ot(2).deletePreStep(o))}),cn(6,"i",6),de()()()}if(2&t){const i=n.$implicit,s=ot(2);tt(4),Qo(" ",s.displayAdditionalStep(i),"")}}function nun(t,n){if(1&t){const i=Un();ce(0,"li")(1,"div",34)(2,"button",28),qt("click",function(){const o=Ot(i).index;return St(ot(3).openPostStepModal(o))}),cn(3,"i",29),je(4),de(),ce(5,"button",5),qt("click",function(){const o=Ot(i).index;return St(ot(3).deletePostStep(o))}),cn(6,"i",6),de()()()}if(2&t){const i=n.$implicit,s=ot(3);tt(4),Qo(" ",s.displayAdditionalStep(i),"")}}function run(t,n){if(1&t){const i=Un();ce(0,"div",1)(1,"h4"),je(2," Post-steps "),ce(3,"button",35),je(4,"?"),de(),ce(5,"button",19),qt("click",function(){return Ot(i),St(ot(2).addPostStep())}),je(6,"+"),de()(),ce(7,"ul"),dr(8,nun,7,1,"li",20),de()()}if(2&t){const i=ot(2);tt(8),Jn("ngForOf",i.step.postSteps)}}function iun(t,n){if(1&t){const i=Un();ce(0,"input",9),fr("ngModelChange",function(o){Ot(i);const a=ot(3);return mr(a.step.duration.startDesiredAvg,o)||(a.step.duration.startDesiredAvg=o),St(o)}),de()}2&t&&pr("ngModel",ot(3).step.duration.startDesiredAvg)}function sun(t,n){if(1&t){const i=Un();ce(0,"input",10),fr("ngModelChange",function(o){Ot(i);const a=ot(3);return mr(a.step.duration.startDesiredAvg,o)||(a.step.duration.startDesiredAvg=o),St(o)}),de()}2&t&&pr("ngModel",ot(3).step.duration.startDesiredAvg)}function oun(t,n){if(1&t){const i=Un();ce(0,"input",9),fr("ngModelChange",function(o){Ot(i);const a=ot(3);return mr(a.step.duration.endDesiredAvg,o)||(a.step.duration.endDesiredAvg=o),St(o)}),de()}2&t&&pr("ngModel",ot(3).step.duration.endDesiredAvg)}function aun(t,n){if(1&t){const i=Un();ce(0,"input",10),fr("ngModelChange",function(o){Ot(i);const a=ot(3);return mr(a.step.duration.endDesiredAvg,o)||(a.step.duration.endDesiredAvg=o),St(o)}),de()}2&t&&pr("ngModel",ot(3).step.duration.endDesiredAvg)}function lun(t,n){if(1&t){const i=Un();ce(0,"div",2)(1,"span",3),je(2,"progression salt (MS)"),de(),ce(3,"input",9),fr("ngModelChange",function(o){Ot(i);const a=ot(3);return mr(a.step.duration.progressionSalt,o)||(a.step.duration.progressionSalt=o),St(o)}),de()()}if(2&t){const i=ot(3);tt(3),pr("ngModel",i.step.duration.progressionSalt)}}function cun(t,n){if(1&t){const i=Un();ce(0,"div",22)(1,"div",23)(2,"div",24)(3,"div",36)(4,"h5",37),je(5,"Duration"),de(),ce(6,"button",38),qt("click",function(){return Ot(i),St(ot(2).closeDurationModal())}),de()(),ce(7,"div",39)(8,"div",2)(9,"span",3),je(10),de(),dr(11,iun,1,1,"input",7)(12,sun,1,1,"input",8),de(),ce(13,"div",2)(14,"span",3),je(15),de(),dr(16,oun,1,1,"input",7)(17,aun,1,1,"input",8),de(),ce(18,"div",2)(19,"span",3),je(20,"Percentage variations"),de(),ce(21,"input",40),fr("ngModelChange",function(o){Ot(i);const a=ot(2);return mr(a.step.duration.minMaxPercent,o)||(a.step.duration.minMaxPercent=o),St(o)}),de()(),ce(22,"div",2)(23,"span",3),je(24,"Progression"),de(),ce(25,"select",13),fr("ngModelChange",function(o){Ot(i);const a=ot(2);return mr(a.step.duration.avgProgression,o)||(a.step.duration.avgProgression=o),St(o)}),ce(26,"option",14),je(27,"Choose..."),de(),ce(28,"option",41),je(29,"LINEAR"),de(),ce(30,"option",42),je(31,"LINEAR_SALTED"),de()()(),dr(32,lun,4,1,"div",2),de(),ce(33,"div",25)(34,"button",26),qt("click",function(){return Ot(i),St(ot(2).closeDurationModal())}),je(35,"Close"),de()()()()()}if(2&t){const i=ot(2);Ox("id","",i.step.elementId,"-durationModal"),tt(10),Qo("Duration avg at start (",i.execPlanService.executionPlan.durationsType,")"),tt(),Gi("FEEL"!=i.execPlanService.executionPlan.durationsType?11:12),tt(4),Qo("Duration avg at end (",i.execPlanService.executionPlan.durationsType,")"),tt(),Gi("FEEL"!=i.execPlanService.executionPlan.durationsType?16:17),tt(5),pr("ngModel",i.step.duration.minMaxPercent),tt(4),pr("ngModel",i.step.duration.avgProgression),tt(7),Gi("LINEAR_SALTED"==i.step.duration.avgProgression?32:-1)}}function uun(t,n){if(1&t){const i=Un();ce(0,"input",9),fr("ngModelChange",function(o){Ot(i);const a=ot(3);return mr(a.prestep.delay,o)||(a.prestep.delay=o),St(o)}),de()}2&t&&pr("ngModel",ot(3).prestep.delay)}function dun(t,n){if(1&t){const i=Un();ce(0,"input",10),fr("ngModelChange",function(o){Ot(i);const a=ot(3);return mr(a.prestep.delay,o)||(a.prestep.delay=o),St(o)}),de()}2&t&&pr("ngModel",ot(3).prestep.delay)}function pun(t,n){if(1&t){const i=Un();ce(0,"div",2)(1,"span",3),je(2,"Message"),de(),ce(3,"input",10),fr("ngModelChange",function(o){Ot(i);const a=ot(3);return mr(a.prestep.msg,o)||(a.prestep.msg=o),St(o)}),de()(),ce(4,"div",2)(5,"span",3),je(6,"Correlation Key"),de(),ce(7,"input",10),fr("ngModelChange",function(o){Ot(i);const a=ot(3);return mr(a.prestep.correlationKey,o)||(a.prestep.correlationKey=o),St(o)}),de()()}if(2&t){const i=ot(3);tt(3),pr("ngModel",i.prestep.msg),tt(4),pr("ngModel",i.prestep.correlationKey)}}function fun(t,n){if(1&t){const i=Un();ce(0,"div",2)(1,"span",3),je(2,"Signal"),de(),ce(3,"input",10),fr("ngModelChange",function(o){Ot(i);const a=ot(3);return mr(a.prestep.signal,o)||(a.prestep.signal=o),St(o)}),de()()}if(2&t){const i=ot(3);tt(3),pr("ngModel",i.prestep.signal)}}function hun(t,n){if(1&t){const i=Un();ce(0,"div",2)(1,"span",3),je(2,"Error Code"),de(),ce(3,"input",10),fr("ngModelChange",function(o){Ot(i);const a=ot(3);return mr(a.prestep.errorCode,o)||(a.prestep.errorCode=o),St(o)}),de()()}if(2&t){const i=ot(3);tt(3),pr("ngModel",i.prestep.errorCode)}}function mun(t,n){if(1&t){const i=Un();ce(0,"app-json-editor",30),fr("templateChange",function(o){Ot(i);const a=ot(3);return mr(a.prestep.jsonTemplate,o)||(a.prestep.jsonTemplate=o),St(o)}),de()}2&t&&pr("template",ot(3).prestep.jsonTemplate)}function gun(t,n){if(1&t){const i=Un();ce(0,"div",36)(1,"h5",37),je(2),de(),ce(3,"button",38),qt("click",function(){return Ot(i),St(ot(2).closePreStepModal())}),de()(),ce(4,"div",39)(5,"div",2)(6,"span",3),je(7,"Type"),de(),ce(8,"select",13),fr("ngModelChange",function(o){Ot(i);const a=ot(2);return mr(a.prestep.type,o)||(a.prestep.type=o),St(o)}),ce(9,"option",14),je(10,"Choose..."),de(),ce(11,"option",43),je(12,"CLOCK"),de(),ce(13,"option",44),je(14,"MSG"),de(),ce(15,"option",45),je(16,"SIGNAL"),de(),ce(17,"option",46),je(18,"BPMN_ERROR"),de()()(),ce(19,"div",2)(20,"span",3),je(21),de(),dr(22,uun,1,1,"input",7)(23,dun,1,1,"input",8),de(),dr(24,pun,8,2)(25,fun,4,1,"div",2)(26,hun,4,1,"div",2)(27,mun,1,1,"app-json-editor",47),de()}if(2&t){const i=ot(2);tt(2),Tx("Pre step (executed ",i.prestep.delay,"(",i.execPlanService.executionPlan.durationsType,") after creation time)"),tt(6),pr("ngModel",i.prestep.type),tt(13),Qo("Delay (",i.execPlanService.executionPlan.durationsType,")"),tt(),Gi("FEEL"!=i.execPlanService.executionPlan.durationsType?22:23),tt(2),Gi("MSG"==i.prestep.type?24:"SIGNAL"==i.prestep.type?25:"BPMN_ERROR"==i.prestep.type?26:-1),tt(3),Gi("CLOCK"!=i.prestep.type?27:-1)}}function yun(t,n){if(1&t){const i=Un();ce(0,"input",9),fr("ngModelChange",function(o){Ot(i);const a=ot(4);return mr(a.poststep.delay,o)||(a.poststep.delay=o),St(o)}),de()}2&t&&pr("ngModel",ot(4).poststep.delay)}function vun(t,n){1&t&&dr(0,yun,1,1,"input",48),2&t&&Jn("ngIf","FEEL"!=ot(3).execPlanService.executionPlan.durationsType)}function bun(t,n){if(1&t){const i=Un();ce(0,"input",10),fr("ngModelChange",function(o){Ot(i);const a=ot(4);return mr(a.poststep.delay,o)||(a.poststep.delay=o),St(o)}),de()}2&t&&pr("ngModel",ot(4).poststep.delay)}function _un(t,n){1&t&&dr(0,bun,1,1,"input",49),2&t&&Jn("ngIf","FEEL"===ot(3).execPlanService.executionPlan.durationsType)}function Eun(t,n){if(1&t){const i=Un();ce(0,"div",2)(1,"span",3),je(2,"Message"),de(),ce(3,"input",10),fr("ngModelChange",function(o){Ot(i);const a=ot(3);return mr(a.poststep.msg,o)||(a.poststep.msg=o),St(o)}),de()(),ce(4,"div",2)(5,"span",3),je(6,"Correlation Key"),de(),ce(7,"input",10),fr("ngModelChange",function(o){Ot(i);const a=ot(3);return mr(a.poststep.correlationKey,o)||(a.poststep.correlationKey=o),St(o)}),de()()}if(2&t){const i=ot(3);tt(3),pr("ngModel",i.poststep.msg),tt(4),pr("ngModel",i.poststep.correlationKey)}}function xun(t,n){if(1&t){const i=Un();ce(0,"div",2)(1,"span",3),je(2,"Signal"),de(),ce(3,"input",10),fr("ngModelChange",function(o){Ot(i);const a=ot(3);return mr(a.poststep.signal,o)||(a.poststep.signal=o),St(o)}),de()()}if(2&t){const i=ot(3);tt(3),pr("ngModel",i.poststep.signal)}}function wun(t,n){if(1&t){const i=Un();ce(0,"div",2)(1,"span",3),je(2,"Error Code"),de(),ce(3,"input",10),fr("ngModelChange",function(o){Ot(i);const a=ot(4);return mr(a.poststep.errorCode,o)||(a.poststep.errorCode=o),St(o)}),de()()}if(2&t){const i=ot(4);tt(3),pr("ngModel",i.poststep.errorCode)}}function Cun(t,n){1&t&&dr(0,wun,4,1,"div",50),2&t&&Jn("ngIf","BPMN_ERROR"==ot(3).poststep.type)}function Sun(t,n){if(1&t){const i=Un();ce(0,"app-json-editor",30),fr("templateChange",function(o){Ot(i);const a=ot(3);return mr(a.poststep.jsonTemplate,o)||(a.poststep.jsonTemplate=o),St(o)}),de()}2&t&&pr("template",ot(3).poststep.jsonTemplate)}function Oun(t,n){if(1&t){const i=Un();ce(0,"div",36)(1,"h5",37),je(2),de(),ce(3,"button",38),qt("click",function(){return Ot(i),St(ot(2).closePostStepModal())}),de()(),ce(4,"div",39)(5,"div",2)(6,"span",3),je(7,"Type"),de(),ce(8,"select",13),fr("ngModelChange",function(o){Ot(i);const a=ot(2);return mr(a.poststep.type,o)||(a.poststep.type=o),St(o)}),ce(9,"option",14),je(10,"Choose..."),de(),ce(11,"option",43),je(12,"CLOCK"),de(),ce(13,"option",44),je(14,"MSG"),de(),ce(15,"option",45),je(16,"SIGNAL"),de(),ce(17,"option",46),je(18,"BPMN_ERROR"),de()()(),ce(19,"div",2)(20,"span",3),je(21),de(),dr(22,vun,1,1,"input",7)(23,_un,1,1,"input",8),de(),dr(24,Eun,8,2)(25,xun,4,1,"div",2)(26,Cun,1,1,"div",2)(27,Sun,1,1,"app-json-editor",47),de()}if(2&t){const i=ot(2);tt(2),Tx("Post step (executed ",i.poststep.delay," (",i.execPlanService.executionPlan.durationsType,") after completion time)"),tt(6),pr("ngModel",i.poststep.type),tt(13),Qo("Delay (",i.execPlanService.executionPlan.durationsType,")"),tt(),Gi("FEEL"!=i.execPlanService.executionPlan.durationsType?22:23),tt(2),Gi("MSG"==i.poststep.type?24:"SIGNAL"==i.poststep.type?25:"BPMN_ERROR"==i.poststep.type?26:-1),tt(3),Gi("CLOCK"!=i.poststep.type?27:-1)}}function Tun(t,n){if(1&t){const i=Un();ce(0,"div",0)(1,"div",11)(2,"div",2)(3,"span",3),je(4,"Element Id"),de(),cn(5,"input",4),ce(6,"button",5),qt("click",function(){return Ot(i),St(ot().execPlanService.deleteCurrentStep())}),cn(7,"i",6),de()()(),ce(8,"div",12)(9,"div",2)(10,"span",3),je(11,"Action"),de(),ce(12,"select",13),fr("ngModelChange",function(o){Ot(i);const a=ot();return mr(a.step.action,o)||(a.step.action=o),St(o)}),ce(13,"option",14),je(14,"Choose..."),de(),ce(15,"option",15),je(16,"COMPLETE"),de(),ce(17,"option",16),je(18,"DO_NOTHING"),de(),ce(19,"option",17),je(20,"INCIDENT"),de()()()()(),dr(21,eun,10,6),ce(22,"div",0)(23,"div",1)(24,"h4"),je(25," Pre-steps "),ce(26,"button",18),je(27,"?"),de(),ce(28,"button",19),qt("click",function(){return Ot(i),St(ot().addPreStep())}),je(29,"+"),de()(),ce(30,"ul"),dr(31,tun,7,1,"li",20),de()(),dr(32,run,9,1,"div",21),de(),dr(33,cun,36,9,"div",22),ce(34,"div",22)(35,"div",23)(36,"div",24),dr(37,gun,28,7),ce(38,"div",25)(39,"button",26),qt("click",function(){return Ot(i),St(ot().closePreStepModal())}),je(40,"Close"),de()()()()(),ce(41,"div",22)(42,"div",23)(43,"div",24),dr(44,Oun,28,7),ce(45,"div",25)(46,"button",26),qt("click",function(){return Ot(i),St(ot().closePostStepModal())}),je(47,"Close"),de()()()()()}if(2&t){const i=ot();tt(5),gS("value",i.step.elementId),tt(7),pr("ngModel",i.step.action),tt(9),Gi("COMPLETE"==i.step.action||"INCIDENT"==i.step.action?21:-1),tt(10),Jn("ngForOf",i.step.preSteps),tt(),Jn("ngIf","COMPLETE"==i.step.action),tt(),Gi("COMPLETE"==i.step.action||"INCIDENT"==i.step.action?33:-1),tt(),Ox("id","",i.step.elementId,"-prestep"),tt(3),Gi(i.prestep?37:-1),tt(4),Ox("id","",i.step.elementId,"-poststep"),tt(3),Gi(i.poststep?44:-1)}}let Pun=(()=>{class t{constructor(i){this.execPlanService=i}ngOnInit(){this.step.preSteps&&this.step.preSteps.length>0&&(this.prestep=this.step.preSteps[0]),this.step.postSteps&&this.step.postSteps.length>0&&(this.poststep=this.step.postSteps[0])}ngAfterViewInit(){var i=document.querySelectorAll(".btn-tooltip");for(let s=0;s<i.length;s++)window.bootstrap.Tooltip.getOrCreateInstance(i[s])}displayAdditionalStep(i){return"CLOCK"==i.type?"CLOCK at "+i.delay:"MSG"==i.type?"Publish "+i.msg+" after "+i.delay+"("+this.execPlanService.executionPlan.durationsType+")":"SIGNAL"==i.type?"Broadcast "+i.signal+" after "+i.delay+"("+this.execPlanService.executionPlan.durationsType+")":"Error "+i.errorCode+" after "+i.delay+"("+this.execPlanService.executionPlan.durationsType+")"}openDurationModal(){window.bootstrap.Modal.getOrCreateInstance(document.getElementById(this.step.elementId+"-durationModal")).show()}closeDurationModal(){window.bootstrap.Modal.getInstance(document.getElementById(this.step.elementId+"-durationModal")).hide()}openPreStepModal(i){this.prestep=this.step.preSteps[i],window.bootstrap.Modal.getOrCreateInstance(document.getElementById(this.step.elementId+"-prestep")).show()}closePreStepModal(){window.bootstrap.Modal.getInstance(document.getElementById(this.step.elementId+"-prestep")).hide()}openPostStepModal(i){this.poststep=this.step.postSteps[i],window.bootstrap.Modal.getOrCreateInstance(document.getElementById(this.step.elementId+"-poststep")).show()}closePostStepModal(){window.bootstrap.Modal.getInstance(document.getElementById(this.step.elementId+"-poststep")).hide()}addPreStep(){this.prestep={type:"CLOCK",feelDelay:"PT5M",jsonTemplate:{template:"{}",exampleContext:{}}},this.step.preSteps||(this.step.preSteps=[]),this.step.preSteps.push(this.prestep),this.openPreStepModal(this.step.preSteps.length-1)}addPostStep(){this.poststep={type:"CLOCK",feelDelay:"PT5M",jsonTemplate:{template:"{}",exampleContext:{}}},this.step.postSteps||(this.step.postSteps=[]),this.step.postSteps.push(this.poststep),this.openPostStepModal(this.step.postSteps.length-1)}deletePreStep(i){this.step.preSteps.splice(i,1)}deletePostStep(i){this.step.postSteps.splice(i,1)}static{this.\u0275fac=function(s){return new(s||t)(Ut(Ch))}}static{this.\u0275cmp=Rc({type:t,selectors:[["app-step"]],inputs:{step:"step"},standalone:!1,decls:2,vars:1,consts:[[1,"row"],[1,"col-6"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text","readonly","","disabled","",1,"form-control",3,"value"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],["type","number","min","0",1,"form-control",3,"ngModel"],["type","text",1,"form-control",3,"ngModel"],["type","number","min","0",1,"form-control",3,"ngModelChange","ngModel"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-8"],[1,"col-4"],[1,"form-select",3,"ngModelChange","ngModel"],["selected",""],["value","COMPLETE"],["value","DO_NOTHING"],["value","INCIDENT"],["type","button","data-bs-toggle","tooltip","data-bs-placement","top","title","Steps time will be calculated based on the main task creation time",1,"btn","btn-outline-primary","btn-tooltip"],["type","button",1,"btn","btn-outline-warning","btn-icon",3,"click"],[4,"ngFor","ngForOf"],["class","col-6",4,"ngIf"],["tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"col"],[1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-pencil"],["label","JSON template","classnames","mb-3",3,"templateChange","template"],["value","NULLPOINTER"],["value","ARITHMETIC"],["value","OUT_OF_BOUND"],[1,"btn-group"],["type","button","data-bs-toggle","tooltip","data-bs-placement","top","title","Steps time will be calculated based on the main task completion time",1,"btn","btn-outline-primary","btn-tooltip"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["type","number","min","0","max","100",1,"form-control",3,"ngModelChange","ngModel"],["value","LINEAR"],["value","LINEAR_SALTED"],["value","CLOCK"],["value","MSG"],["value","SIGNAL"],["value","BPMN_ERROR"],["label","JSON template","classnames","mb-3",3,"template"],["type","number","class","form-control","min","0",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["class","input-group mb-3 ",4,"ngIf"]],template:function(s,o){1&s&&dr(0,Qcn,10,1,"div",0)(1,Tun,48,12),2&s&&Gi("DO_NOTHING"==o.step.action&&1==o.step.preSteps.length&&"CLOCK"==o.step.duration.startDesiredAvg?0:1)},dependencies:[Q0,U8,NS,LS,h1,h7,yb,gb,v7,y7,y1,ELe],encapsulation:2})}}return t})();const Dun=["addListener","removeListener"],kun=["addEventListener","removeEventListener"],Mun=["on","off"];function yD(t,n,i,s){if(Li(i)&&(s=i,i=void 0),s)return yD(t,n,i).pipe(Kde(s));const[o,a]=function Run(t){return Li(t.addEventListener)&&Li(t.removeEventListener)}(t)?kun.map(l=>c=>t[l](n,c,i)):function Aun(t){return Li(t.addListener)&&Li(t.removeListener)}(t)?Dun.map(xLe(t,n)):function Iun(t){return Li(t.on)&&Li(t.off)}(t)?Mun.map(xLe(t,n)):[];if(!o&&Yz(t))return G8(l=>yD(l,n,i))(Z0(t));if(!o)throw new TypeError("Invalid event target");return new vl(l=>{const c=(...u)=>l.next(1<u.length?u:u[0]);return o(c),()=>a(c)})}function xLe(t,n){return i=>s=>t[i](n,s)}function vD(t){return Fp((n,i)=>{Z0(t).subscribe(kd(i,()=>i.complete(),av)),!i.closed&&n.subscribe(i)})}const Lun=["scenarionav"];let Fun=(()=>{class t{constructor(){this.destroy$$=new g0,this.ngZone=on(Wi),this.cdRef=on(S8),this.dragging=!1}ngAfterViewInit(){let i=this.scenarioNav.nativeElement;this.cdRef.detach(),this.ngZone.runOutsideAngular(()=>{const s=yD(i,"mousedown").pipe(vD(this.destroy$$)),o=yD(document,"mousemove").pipe(vD(this.destroy$$)),a=yD(document,"mouseup").pipe(vD(this.destroy$$));s.pipe(Cde(c=>o.pipe(Bp(u=>({startEvent:c,moveEvent:u})),vD(a))),function Nun(t,n,i){const s=Li(t)||n||i?{next:t,error:n,complete:i}:t;return s?Fp((o,a)=>{var l;null===(l=s.subscribe)||void 0===l||l.call(s);let c=!0;o.subscribe(kd(a,u=>{var d;null===(d=s.next)||void 0===d||d.call(s,u),a.next(u)},()=>{var u;c=!1,null===(u=s.complete)||void 0===u||u.call(s),a.complete()},u=>{var d;c=!1,null===(d=s.error)||void 0===d||d.call(s,u),a.error(u)},()=>{var u,d;c&&(null===(u=s.unsubscribe)||void 0===u||u.call(s)),null===(d=s.finalize)||void 0===d||d.call(s)}))}):xD}(({startEvent:c,moveEvent:u})=>{const d=u.y-c.offsetY-56;i.offsetParent.style.top=d+"px",i.offsetParent.style.height="calc(100vh - "+(d+56)+"px)",i.offsetParent.offsetParent.firstChild.firstChild.firstChild.firstChild.style.height=d+"px",i.offsetParent.offsetParent.firstChild.firstChild.children[1].firstChild.firstChild&&(i.offsetParent.offsetParent.firstChild.firstChild.children[1].firstChild.firstChild.style.height=d+"px")}),vD(this.destroy$$)).subscribe(),a.subscribe(()=>{this.dragging=!1,this.cdRef.detectChanges()}),s.subscribe(()=>{this.dragging=!0,this.cdRef.detectChanges()})})}ngOnDestroy(){this.destroy$$.next()}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275cmp=Rc({type:t,selectors:[["app-draggable"]],viewQuery:function(s,o){if(1&s&&Zl(Lun,5),2&s){let a;Jl(a=ec())&&(o.scenarioNav=a.first)}},standalone:!1,decls:2,vars:0,consts:[["scenarionav",""],[1,"draggable"]],template:function(s,o){1&s&&cn(0,"hr",1,0)},styles:["hr[_ngcontent-%COMP%]{border:2px solid gray;margin:0;cursor:ns-resize}"]})}}return t})();function Bun(t,n){if(1&t){const i=Un();ce(0,"li",1)(1,"a",2),qt("click",function(){const o=Ot(i).index;return St(ot().selectScenario(o))}),cn(2,"i",22),je(3),de()()}if(2&t){const i=n.$implicit,s=n.index,o=ot();tt(),Jn("ngClass",o.state==""+s?"nav-link active":"nav-link"),tt(2),Qo(" ",i.name,"")}}function $un(t,n){if(1&t){const i=Un();ce(0,"div",23)(1,"div",16)(2,"span",24),je(3,"Time precision"),de(),ce(4,"select",25),fr("ngModelChange",function(o){Ot(i);const a=ot();return mr(a.execPlanService.executionPlan.timePrecision,o)||(a.execPlanService.executionPlan.timePrecision=o),St(o)}),ce(5,"option",26),je(6,"Choose..."),de(),ce(7,"option",27),je(8,"SECOND"),de(),ce(9,"option",28),je(10,"HUNDRED_MILLIS"),de(),ce(11,"option",29),je(12,"TEN_MILLIS"),de(),ce(13,"option",30),je(14,"MILLIS"),de()()(),ce(15,"div",16)(16,"span",24),je(17,"Instance distribution"),de(),ce(18,"select",25),fr("ngModelChange",function(o){Ot(i);const a=ot();return mr(a.execPlanService.executionPlan.instanceDistribution,o)||(a.execPlanService.executionPlan.instanceDistribution=o),St(o)}),ce(19,"option",26),je(20,"Choose..."),de(),ce(21,"option",31),je(22,"DAYS"),de(),ce(23,"option",32),je(24,"HALF_DAYS"),de(),ce(25,"option",33),je(26,"HOURS"),de()()(),ce(27,"div",16)(28,"span",24),je(29,"Duration expression type"),de(),ce(30,"select",25),fr("ngModelChange",function(o){Ot(i);const a=ot();return mr(a.execPlanService.executionPlan.durationsType,o)||(a.execPlanService.executionPlan.durationsType=o),St(o)}),ce(31,"option",26),je(32,"Choose..."),de(),ce(33,"option",34),je(34,"FEEL"),de(),ce(35,"option",35),je(36,"SECONDS"),de(),ce(37,"option",30),je(38,"MILLIS"),de()()(),ce(39,"div",16)(40,"span",24),je(41,"Steps label"),de(),ce(42,"select",25),fr("ngModelChange",function(o){Ot(i);const a=ot();return mr(a.execPlanService.executionPlan.stepLabel,o)||(a.execPlanService.executionPlan.stepLabel=o),St(o)}),ce(43,"option",26),je(44,"Choose..."),de(),ce(45,"option",36),je(46,"id"),de(),ce(47,"option",37),je(48,"name"),de(),ce(49,"option",38),je(50,"id and name"),de()()(),ce(51,"div",39),je(52," Time precision and instance distribution will impact the realism of the simulation but will negatively impact the simulation performance. Time precision HUNDRED_MILLIS will be more realistic than SECOND (but less efficient). Instance distribution DAYS is more efficient than HOURS (but less realistic) "),de()()}if(2&t){const i=ot();tt(4),pr("ngModel",i.execPlanService.executionPlan.timePrecision),tt(14),pr("ngModel",i.execPlanService.executionPlan.instanceDistribution),tt(12),pr("ngModel",i.execPlanService.executionPlan.durationsType),tt(12),pr("ngModel",i.execPlanService.executionPlan.stepLabel)}}function Vun(t,n){if(1&t){const i=Un();ce(0,"button",50),qt("click",function(){const o=Ot(i).$implicit;return St(ot(3).execPlanService.selectActivity(o.key))}),je(1),de()}if(2&t){const i=n.$implicit,s=ot(3);Jn("ngClass",s.execPlanService.currentActivity==i.key?"nav-link active":"nav-link"),tt(),Qo(" ",s.execPlanService.stepLabel(i.key),"")}}function jun(t,n){if(1&t&&(ce(0,"div",40),cn(1,"app-step",51),de()),2&t){const i=n.$implicit;Jn("ngClass",ot(3).execPlanService.currentActivity==i.key?"tab-pane fade show active":"tab-pane fade"),tt(),Jn("step",i.value)}}function zun(t,n){if(1&t){const i=Un();ce(0,"div",42)(1,"div",43)(2,"div",44)(3,"button",2),qt("click",function(){return Ot(i),St(ot(2).execPlanService.selectActivity("startInstances"))}),je(4,"Scenario settings"),de(),dr(5,Vun,2,2,"button",45),Px(6,"keyvalue"),ce(7,"button",46),qt("click",function(){return Ot(i),St(ot(2).openAddStepModal())}),cn(8,"i",6),je(9," Add step"),de(),cn(10,"hr"),ce(11,"button",47),qt("click",function(){Ot(i);const o=ot().index;return St(ot().deleteScenario(o))}),cn(12,"i",48),je(13," Delete scenario"),de()(),ce(14,"div",49)(15,"div",40),cn(16,"app-instantiate"),de(),dr(17,jun,2,2,"div",8),Px(18,"keyvalue"),de()()()}if(2&t){const i=ot().$implicit,s=ot();tt(3),Jn("ngClass","startInstances"==s.execPlanService.currentActivity?"nav-link active":"nav-link"),tt(2),Jn("ngForOf",Dx(6,4,i.steps)),tt(10),Jn("ngClass","startInstances"==s.execPlanService.currentActivity?"tab-pane fade show active":"tab-pane fade"),tt(2),Jn("ngForOf",Dx(18,6,i.steps))}}function Hun(t,n){if(1&t&&(ce(0,"div",40),dr(1,zun,19,8,"div",41),de()),2&t){const i=n.index,s=ot();Jn("ngClass",s.state==""+i?"scrollable":""),tt(),Jn("ngIf",s.state==""+i)}}let Uun=(()=>{class t{constructor(i){this.execPlanService=i,this.state="general",this.newStepElementId=""}ngOnInit(){this.selectScenario(0)}addScenario(){this.execPlanService.addScenario()}selectScenario(i){this.execPlanService.selectScenario(this.execPlanService.executionPlan.scenarii[i]),this.state=""+i}deleteScenario(i){this.execPlanService.deleteScenario(i),this.state="general"}openAddStepModal(){window.bootstrap.Modal.getOrCreateInstance(document.getElementById("addnewstep")).show()}closeAddStepModal(){window.bootstrap.Modal.getInstance(document.getElementById("addnewstep")).hide()}createStep(){this.execPlanService.createStepInScenario(this.newStepElementId),this.closeAddStepModal()}labelStep(i){let s=this.execPlanService.getActivityName(i);return s?s+" ("+i+")":i}static{this.\u0275fac=function(s){return new(s||t)(Ut(Ch))}}static{this.\u0275cmp=Rc({type:t,selectors:[["app-actions-plan"]],standalone:!1,decls:32,vars:5,consts:[[1,"nav","nav-tabs","navbar-dark","bg-dark"],[1,"nav-item"],[3,"click","ngClass"],[1,"bi","bi-gear"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-link","text-warning",3,"click"],[1,"bi","bi-plus-circle"],["class","tab-pane scrollable",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],["id","addnewstep","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-list-ol"],[1,"tab-pane","scrollable"],["id","basic-addon1",1,"input-group-text"],[1,"form-select",3,"ngModelChange","ngModel"],["selected",""],["value","SECOND"],["value","HUNDRED_MILLIS"],["value","TEN_MILLIS"],["value","MILLIS"],["value","DAYS"],["value","HALF_DAYS"],["value","HOURS"],["value","FEEL"],["value","SECONDS"],["value","id"],["value","name"],["value","idName"],[1,"alert","alert-info"],[3,"ngClass"],["class","tab-pane",4,"ngIf"],[1,"tab-pane"],[1,"d-flex","align-items-start"],["role","tablist",1,"nav","flex-column","nav-pills","me-3"],["role","tab",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"btn","btn-outline-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],["id","v-pills-tabContent",1,"tab-content"],["role","tab",3,"click","ngClass"],[3,"step"]],template:function(s,o){1&s&&(cn(0,"app-draggable"),ce(1,"ul",0)(2,"li",1)(3,"a",2),qt("click",function(){return o.state="general"}),cn(4,"i",3),je(5," Global settings"),de()(),dr(6,Bun,4,2,"li",4),ce(7,"li",1)(8,"a",5),qt("click",function(){return o.addScenario()}),cn(9,"i",6),je(10," Add scenario"),de()()(),dr(11,$un,53,4,"div",7)(12,Hun,2,2,"div",8),ce(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"h5",13),je(18,"Create new step"),de(),ce(19,"button",14),qt("click",function(){return o.closeAddStepModal()}),de()(),ce(20,"div",15),je(21," Please provide the elementId that you want to add as a step "),ce(22,"div",16)(23,"span",17),je(24,"Element Id"),de(),ce(25,"input",18),fr("ngModelChange",function(l){return mr(o.newStepElementId,l)||(o.newStepElementId=l),l}),de()()(),ce(26,"div",19)(27,"button",20),qt("click",function(){return o.createStep()}),cn(28,"i",6),je(29," Add step"),de(),ce(30,"button",21),qt("click",function(){return o.closeAddStepModal()}),je(31,"Close"),de()()()()()),2&s&&(tt(3),Jn("ngClass","general"==o.state?"nav-link active":"nav-link"),tt(3),Jn("ngForOf",o.execPlanService.executionPlan.scenarii),tt(5),Jn("ngIf","general"==o.state),tt(),Jn("ngForOf",o.execPlanService.executionPlan.scenarii),tt(13),pr("ngModel",o.newStepElementId))},dependencies:[fb,Q0,U8,NS,LS,h1,yb,gb,y1,Gcn,Pun,Fun,q8],styles:[".nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{box-shadow:0 0 4px var(--bs-nav-link-color);position:relative}.tab-pane[_ngcontent-%COMP%]{background:#fff;position:relative;padding:20px}.tab-content[_ngcontent-%COMP%]{width:100%;padding:0 20px}.scrollable[_ngcontent-%COMP%]{height:calc(100% - 42px);overflow-y:auto}"]})}}return t})();const qun=["jsonResult"],Wun=["testviewer"];function Gun(t,n){if(1&t){const i=Un();ce(0,"button",13),qt("click",function(){return Ot(i),St(ot().testPlan())}),cn(1,"i",14),je(2," Rerun test"),de()}}function Kun(t,n){1&t&&(ce(0,"button",5),cn(1,"i",15),je(2," Loading test"),de())}function Yun(t,n){if(1&t){const i=Un();ce(0,"button",7),qt("click",function(){const o=Ot(i).$implicit;return St(ot().selectTab(o.name))}),je(1),de()}if(2&t){const i=n.$implicit;Jn("ngClass",ot().currentTab==i.name?"nav-link active":"nav-link"),tt(),Qo(" ",i.name,"")}}function Xun(t,n){if(1&t){const i=Un();ce(0,"button",16),qt("click",function(){const o=Ot(i).$implicit;return St(ot(2).openDef(o.key))}),je(1),de()}if(2&t){const i=n.$implicit;tt(),hh(i.key)}}function Qun(t,n){if(1&t){const i=Un();ce(0,"div",12)(1,"button",16),qt("click",function(){return Ot(i),St(ot().openDef("Main definition"))}),je(2,"Main definition"),de(),dr(3,Xun,2,1,"button",17),Px(4,"keyvalue"),de()}if(2&t){const i=ot();tt(3),Jn("ngForOf",Dx(4,1,i.execPlanService.executionPlan.xmlDependencies))}}function Zun(t,n){if(1&t&&(ce(0,"div",10)(1,"b"),je(2),de(),cn(3,"br"),je(4),de()),2&t){const i=n.$implicit;Jn("ngClass","alert alert-"+i.status),tt(2),Tx("",i.status," : ",i.elementId,""),tt(2),Qo(" ",i.message," ")}}let Jun=(()=>{class t{constructor(i){this.execPlanService=i,this.alerts=[],this.testLoading=!1}ngOnInit(){this.testPlan()}ngAfterViewInit(){this.testResult&&this.selectTab(Object.keys(this.testResult)[0])}testPlan(){this.testLoading=!0,this.execPlanService.testPlan().subscribe(i=>{this.editor=void 0,this.testResult=i,this.selectTab(Object.keys(this.testResult)[0]),this.testLoading=!1})}selectTab(i){this.currentTab=i,"rawResult"!=this.currentTab||this.editor?(this.viewer||(this.viewer=new Ab({container:this.viewerElt.nativeElement,height:400})),this.viewer.importXML(this.execPlanService.executionPlan.xml).then(s=>{this.checkExecution()})):(this.jsonTemplate.nativeElement.innerHTML="",this.editor=new kn({doc:JSON.stringify(this.testResult,null,2),extensions:[ZF,kie()],parent:this.jsonTemplate.nativeElement}))}checkExecution(){this.viewer.get("canvas").zoom("fit-viewport"),this.alerts=[],this.viewer.get("elementRegistry").forEach(s=>{let o=this.getStatus(s.id);"success"!=o.status&&this.alerts.push(o)});for(let s=0;s<this.testResult[this.currentTab].length;s++){let o=this.testResult[this.currentTab][s];!o.expected&&"Engine incident"==o.errorCode&&this.alerts.push({status:"danger",elementId:o.elementId,message:"Instance got an incident on "+o.elementId+" with message : "+o.message})}0==this.alerts.length&&this.alerts.push({status:"success",message:"This scenario seems perfect."})}getStatus(i){let s=null;for(let l=0;l<this.execPlanService.executionPlan.scenarii.length;l++)if(this.currentTab==this.execPlanService.executionPlan.scenarii[l].name){s=this.execPlanService.executionPlan.scenarii[l];break}let o=s.steps[i],a=!1;for(let l=0;l<this.testResult[this.currentTab].length;l++){let c=this.testResult[this.currentTab][l];if(i==c.elementId){if(!c.jobKey&&c.expected)return this.colorActivity(i,"#009933"),{status:"success"};a=!0;break}}return o&&a?(this.colorActivity(i,"#009933"),{status:"success"}):o&&!a?{status:"warning",message:"The activity is defined but not used. It will cause useless memory consumption.",elementId:i}:!o&&a?(this.colorActivity(i,"#FF0000"),{status:"danger",message:"The activity is not defined but executed. It will cause errors during simulation.",elementId:i}):{status:"success"}}colorActivity(i,s){const o=this.viewer?.get("elementRegistry"),a=this.viewer?.get("graphicsFactory"),l=o?.get(i);if(void 0!==l?.di){l.di.set("stroke",s);const c=o?.getGraphics(l);void 0!==c&&a?.update("connection",l,c)}}openDef(i){"Main definition"==i?this.viewer.importXML(this.execPlanService.executionPlan.xml).then(s=>{this.checkExecution()}):this.viewer.importXML(this.execPlanService.executionPlan.xmlDependencies[i]).then(s=>{this.checkExecution()})}showDeps(){return null!=this.execPlanService.executionPlan.xmlDependencies&&Object.keys(this.execPlanService.executionPlan.xmlDependencies).length>0}static{this.\u0275fac=function(s){return new(s||t)(Ut(Ch))}}static{this.\u0275cmp=Rc({type:t,selectors:[["app-test-plan"]],viewQuery:function(s,o){if(1&s&&(Zl(qun,5),Zl(Wun,5)),2&s){let a;Jl(a=ec())&&(o.jsonTemplate=a.first),Jl(a=ec())&&(o.viewerElt=a.first)}},standalone:!1,decls:20,vars:5,consts:[["jsonResult",""],["testviewer",""],[1,"d-flex","align-items-start"],["role","tablist",1,"nav","flex-column","nav-pills","me-3","tablist"],[1,"btn","btn-info"],["disabled","",1,"btn","btn-info"],["role","tab",3,"ngClass"],["role","tab",3,"click","ngClass"],[1,"bi","bi-filetype-json"],[1,"tab-content","overflow"],[3,"ngClass"],[1,"form-control"],[1,"mt-3","bottom"],[1,"btn","btn-info",3,"click"],[1,"bi","bi-clipboard-check"],[1,"bi","bi-hourglass"],[1,"btn","btn-outline-info","m-1",3,"click"],["class","btn btn-outline-info m-1",3,"click",4,"ngFor","ngForOf"]],template:function(s,o){if(1&s){const a=Un();ce(0,"div",2)(1,"div",3),dr(2,Gun,3,0,"button",4)(3,Kun,3,0,"button",5),h8(4,Yun,2,2,"button",6,f8),ce(6,"button",7),qt("click",function(){return Ot(a),St(o.selectTab("rawResult"))}),cn(7,"i",8),je(8,"Raw result"),de()(),ce(9,"div",9)(10,"div",10),cn(11,"div",11,0),de(),ce(13,"div",10)(14,"div"),cn(15,"div",null,1),dr(17,Qun,5,3,"div",12),h8(18,Zun,5,4,"div",10,f8),de()()()()}2&s&&(tt(2),Gi(o.testLoading?3:2),tt(2),m8(o.execPlanService.executionPlan.scenarii),tt(2),Jn("ngClass","rawResult"==o.currentTab?"nav-link active":"nav-link"),tt(4),Jn("ngClass","rawResult"==o.currentTab?"tab-pane fade show active ":"tab-pane fade"),tt(3),Jn("ngClass","rawResult"!=o.currentTab?"tab-pane fade show active":"tab-pane fade"),tt(4),Gi(o.showDeps()?17:-1),tt(),m8(o.alerts))},dependencies:[fb,Q0,q8],styles:[".tablist[_ngcontent-%COMP%]{width:250px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{box-shadow:0 0 4px var(--bs-nav-link-color);position:relative}.tab-content[_ngcontent-%COMP%]{width:100%;padding:0 20px;height:calc(100vh - 50px)}"]})}}return t})();function edn(t,n){if(1&t){const i=Un();ce(0,"li",8)(1,"a",15),qt("click",function(){return Ot(i),St(ot().execute())}),cn(2,"i",16),je(3," Execute plan"),de()()}}function tdn(t,n){1&t&&(ce(0,"div"),cn(1,"app-viewer")(2,"app-actions-plan"),de())}function ndn(t,n){1&t&&cn(0,"app-modeler")}function rdn(t,n){1&t&&cn(0,"app-optimize-preview")}function idn(t,n){1&t&&cn(0,"app-test-plan")}let sdn=(()=>{class t{constructor(i){this.execPlanService=i,this.state="plan",this.running=!1}ngOnInit(){this.execPlanService.currentlyRunning().subscribe(i=>{i&&(this.running=!0)})}back(){this.execPlanService.clear()}save(){this.execPlanService.updatePlan()}execute(){this.execPlanService.executeCurrentPlan()}static{this.\u0275fac=function(s){return new(s||t)(Ut(Ch))}}static{this.\u0275cmp=Rc({type:t,selectors:[["app-executionplan"]],standalone:!1,decls:29,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand",3,"click"],[1,"bi","bi-house"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],[3,"click","ngClass"],[1,"bi","bi-eye"],[1,"bi","bi-clipboard-check"],[1,"nav-link","text-light",3,"click"],[1,"bi","bi-floppy"],[1,"mainContent"],[1,"nav-link","text-light","text-bold",3,"click"],[1,"bi","bi-send"]],template:function(s,o){1&s&&(ce(0,"nav",0)(1,"div",1)(2,"a",2),qt("click",function(){return o.back()}),cn(3,"i",3),de(),ce(4,"button",4),cn(5,"span",5),de(),ce(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),qt("click",function(){return o.state="plan"}),je(10,"Execution plan"),de()(),ce(11,"li",8)(12,"a",9),qt("click",function(){return o.state="preview"}),cn(13,"i",10),je(14," Preview"),de()(),ce(15,"li",8)(16,"a",9),qt("click",function(){return o.state="test"}),cn(17,"i",11),je(18," Test"),de()(),ce(19,"li",8)(20,"a",12),qt("click",function(){return o.save()}),cn(21,"i",13),je(22," Save"),de()(),dr(23,edn,4,0,"li",8),de()()()(),ce(24,"div",14),dr(25,tdn,3,0,"div")(26,ndn,1,0,"app-modeler")(27,rdn,1,0,"app-optimize-preview")(28,idn,1,0,"app-test-plan"),de()),2&s&&(tt(9),Jn("ngClass","plan"==o.state?"nav-link text-light active":"nav-link text-light "),tt(3),Jn("ngClass","preview"==o.state?"nav-link text-info active":"nav-link text-info"),tt(4),Jn("ngClass","test"==o.state?"nav-link text-info active":"nav-link text-info "),tt(7),Gi(o.running?-1:23),tt(2),Gi("plan"==o.state?25:"modif"==o.state?26:"preview"==o.state?27:"test"==o.state?28:-1))},dependencies:[fb,Kot,rKt,Pcn,Uun,Jun],styles:["nav[_ngcontent-%COMP%]{z-index:2}.mainContent[_ngcontent-%COMP%]{height:calc(100vh - 56px);position:absolute;top:56px;width:100vw;overflow:hidden}app-actions-plan[_ngcontent-%COMP%]{position:absolute;width:100vW;height:calc(100vh - 445px);background:#fff}app-viewer[_ngcontent-%COMP%]{position:relative}"]})}}return t})();function odn(t,n){if(1&t){const i=Un();ce(0,"li",15)(1,"a",19),qt("click",function(){const o=Ot(i).$implicit;return St(ot().selectCategory(o.key))}),je(2),de()()}if(2&t){const i=n.$implicit,s=ot();tt(),Jn("ngClass",s.category==i.key?"nav-link active":"nav-link"),tt(),Qo(" ",i.key," ")}}function adn(t,n){if(1&t){const i=Un();ce(0,"div",27)(1,"span",8)(2,"button",28),cn(3,"i",23),de()(),ce(4,"input",29),qt("change",function(o){const a=Ot(i).index;return St(ot(3).updateVal(a,o))}),de()()}if(2&t){const i=n.$implicit;tt(4),Jn("value",i)}}function ldn(t,n){if(1&t){const i=Un();ce(0,"div",20)(1,"div",21),je(2,"You can add values for the dataset "),ce(3,"b"),je(4),de(),je(5," in the "),ce(6,"b"),je(7),de(),je(8," category. If you want to remove this category, just press the following button "),ce(9,"button",22),qt("click",function(){Ot(i);const o=ot().$implicit;return St(ot().deleteCategory(o.key))}),cn(10,"i",23),de()(),ce(11,"button",24),qt("click",function(){return Ot(i),St(ot(2).addValue())}),cn(12,"i",25),de(),je(13," Values "),dr(14,adn,5,1,"div",26),de()}if(2&t){const i=ot().$implicit,s=ot();tt(4),hh(s.templatingService.dataset.name),tt(3),hh(i.key),tt(7),Jn("ngForOf",i.value)}}function cdn(t,n){if(1&t&&(ce(0,"div"),dr(1,ldn,15,3,"div",20),de()),2&t){const i=n.$implicit,s=ot();tt(),Gi(s.category==i.key?1:-1)}}let udn=(()=>{class t{constructor(i){this.templatingService=i,this.category="en",this.newCategory="Cat1"}ngOnInit(){}back(){this.templatingService.clear()}addCategory(){this.templatingService.dataset.categorizedData[this.newCategory]=[],this.newCategory="Cat"+Object.keys(this.templatingService.dataset.categorizedData).length}save(){this.templatingService.saveDataset(this.templatingService.dataset).subscribe()}selectCategory(i){this.category=i}deleteCategory(i){delete this.templatingService.dataset.categorizedData[i]}addValue(){this.templatingService.dataset.categorizedData[this.category].push("")}updateVal(i,s){this.templatingService.dataset.categorizedData[this.category][i]=s.target.value}static{this.\u0275fac=function(s){return new(s||t)(Ut(i6))}}static{this.\u0275cmp=Rc({type:t,selectors:[["app-dataset"]],standalone:!1,decls:28,vars:8,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand",3,"click"],[1,"bi","bi-house"],[1,"mainContent","mx-4","mt-4"],[1,"row"],[1,"col-6"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle"],[1,"nav","nav-tabs","navbar-dark","bg-dark"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item"],[1,"nav-link","text-light",3,"click"],[1,"bi","bi-floppy"],[4,"ngFor","ngForOf"],[3,"click","ngClass"],[1,"tab-pane"],[1,"alert","alert-info"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"btn","btn-success",3,"click"],[1,"bi","bi-plus"],["class","input-group mb-1",4,"ngFor","ngForOf"],[1,"input-group","mb-1"],[1,"btn","btn-danger"],["type","text",1,"form-control",3,"change","value"]],template:function(s,o){1&s&&(ce(0,"nav",0)(1,"div",1)(2,"a",2),qt("click",function(){return o.back()}),cn(3,"i",3),de()()(),ce(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"span",8),je(9,"Dataset name"),de(),ce(10,"input",9),fr("ngModelChange",function(l){return mr(o.templatingService.dataset.name,l)||(o.templatingService.dataset.name=l),l}),de()()(),ce(11,"div",6)(12,"div",10)(13,"span",8),je(14,"Category code"),de(),ce(15,"input",9),fr("ngModelChange",function(l){return mr(o.newCategory,l)||(o.newCategory=l),l}),de(),ce(16,"a",11),qt("click",function(){return o.addCategory()}),cn(17,"i",12),je(18," Add Category"),de()()()(),ce(19,"ul",13),dr(20,odn,3,2,"li",14),Px(21,"keyvalue"),ce(22,"li",15)(23,"a",16),qt("click",function(){return o.save()}),cn(24,"i",17),je(25," Save"),de()()(),dr(26,cdn,2,1,"div",18),Px(27,"keyvalue"),de()),2&s&&(tt(10),pr("ngModel",o.templatingService.dataset.name),tt(5),pr("ngModel",o.newCategory),tt(5),Jn("ngForOf",Dx(21,4,o.templatingService.dataset.categorizedData)),tt(6),Jn("ngForOf",Dx(27,6,o.templatingService.dataset.categorizedData)))},dependencies:[fb,Q0,h1,gb,y1,q8],encapsulation:2})}}return t})();function ddn(t,n){if(1&t){const i=Un();ce(0,"div",16)(1,"span",8)(2,"button",17),cn(3,"i",18),de()(),ce(4,"input",19),qt("change",function(o){const a=Ot(i).index;return St(ot().updateVal(a,o))}),de()()}if(2&t){const i=n.$implicit;tt(4),Jn("value",i)}}let pdn=(()=>{class t{constructor(i){this.templatingService=i}ngOnInit(){}back(){this.templatingService.clear()}save(){this.templatingService.saveJsonDataset().subscribe()}addValue(){this.templatingService.jsondataset.data.push("{}")}updateVal(i,s){this.templatingService.jsondataset.data[i]=s.target.value}static{this.\u0275fac=function(s){return new(s||t)(Ut(i6))}}static{this.\u0275cmp=Rc({type:t,selectors:[["app-jsondataset"]],standalone:!1,decls:20,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand",3,"click"],[1,"bi","bi-house"],[1,"mainContent","mx-4","mt-4"],[1,"row"],[1,"col-8"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-4"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-floppy"],[1,"btn","btn-success",3,"click"],[1,"bi","bi-plus"],["class","input-group mb-1",4,"ngFor","ngForOf"],[1,"input-group","mb-1"],[1,"btn","btn-danger"],[1,"bi","bi-trash"],["type","text",1,"form-control",3,"change","value"]],template:function(s,o){1&s&&(ce(0,"nav",0)(1,"div",1)(2,"a",2),qt("click",function(){return o.back()}),cn(3,"i",3),de()()(),ce(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"span",8),je(9,"Dataset name"),de(),ce(10,"input",9),fr("ngModelChange",function(l){return mr(o.templatingService.jsondataset.name,l)||(o.templatingService.jsondataset.name=l),l}),de()()(),ce(11,"div",10)(12,"button",11),qt("click",function(){return o.save()}),cn(13,"i",12),je(14," Save"),de()()(),ce(15,"div")(16,"button",13),qt("click",function(){return o.addValue()}),cn(17,"i",14),de(),je(18," Values "),dr(19,ddn,5,1,"div",15),de()()),2&s&&(tt(10),pr("ngModel",o.templatingService.jsondataset.name),tt(9),Jn("ngForOf",o.templatingService.jsondataset.data))},dependencies:[Q0,h1,gb,y1],encapsulation:2})}}return t})();function fdn(t,n){1&t&&cn(0,"app-home")}function hdn(t,n){1&t&&cn(0,"app-executionplan")}function mdn(t,n){1&t&&cn(0,"app-dataset")}function gdn(t,n){1&t&&cn(0,"app-jsondataset")}let ydn=(()=>{class t{constructor(i,s){this.execPlanService=i,this.templatingService=s,this.title="data loader"}static{this.\u0275fac=function(s){return new(s||t)(Ut(Ch),Ut(i6))}}static{this.\u0275cmp=Rc({type:t,selectors:[["app-root"]],standalone:!1,decls:4,vars:1,template:function(s,o){1&s&&dr(0,fdn,1,0,"app-home")(1,hdn,1,0,"app-executionplan")(2,mdn,1,0,"app-dataset")(3,gdn,1,0,"app-jsondataset"),2&s&&Gi(o.execPlanService.executionPlan||o.templatingService.dataset||o.templatingService.jsondataset?o.execPlanService.executionPlan?1:o.templatingService.dataset?2:o.templatingService.jsondataset?3:-1:0)},dependencies:[Dtt,sdn,udn,pdn],encapsulation:2})}}return t})(),vdn=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275mod=ab({type:t,bootstrap:[ydn]})}static{this.\u0275inj=$f({providers:[lYe(hb(f1.LegacyInterceptors,[{provide:Gde,useFactory:QKe},{provide:DS,useExisting:Gde,multi:!0}]))],imports:[HGe,xXe]})}}return t})();zGe().bootstrapModule(vdn).catch(t=>console.error(t))},178:(pe,Be,V)=>{const oe=/\s+/g;class N{constructor(tn,Fn){if(Fn=Ee(Fn),tn instanceof N)return tn.loose===!!Fn.loose&&tn.includePrerelease===!!Fn.includePrerelease?tn:new N(tn.raw,Fn);if(tn instanceof Me)return this.raw=tn.value,this.set=[[tn]],this.formatted=void 0,this;if(this.options=Fn,this.loose=!!Fn.loose,this.includePrerelease=!!Fn.includePrerelease,this.raw=tn.trim().replace(oe," "),this.set=this.raw.split("||").map(Hn=>this.parseRange(Hn.trim())).filter(Hn=>Hn.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const Hn=this.set[0];if(this.set=this.set.filter(vr=>!pn(vr[0])),0===this.set.length)this.set=[Hn];else if(this.set.length>1)for(const vr of this.set)if(1===vr.length&&Cn(vr[0])){this.set=[vr];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let tn=0;tn<this.set.length;tn++){tn>0&&(this.formatted+="||");const Fn=this.set[tn];for(let Hn=0;Hn<Fn.length;Hn++)Hn>0&&(this.formatted+=" "),this.formatted+=Fn[Hn].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(tn){const Hn=((this.options.includePrerelease&&ut)|(this.options.loose&&dn))+":"+tn,vr=ge.get(Hn);if(vr)return vr;const Kn=this.options.loose;tn=tn.replace(Kn?Ze[xt.HYPHENRANGELOOSE]:Ze[xt.HYPHENRANGE],qa(this.options.includePrerelease)),ue("hyphen replace",tn),tn=tn.replace(Ze[xt.COMPARATORTRIM],et),ue("comparator trim",tn),tn=tn.replace(Ze[xt.TILDETRIM],st),ue("tilde trim",tn),tn=tn.replace(Ze[xt.CARETTRIM],_t),ue("caret trim",tn);let Ni=tn.split(" ").map(us=>In(us,this.options)).join(" ").split(/\s+/).map(us=>ti(us,this.options));Kn&&(Ni=Ni.filter(us=>(ue("loose invalid filter",us,this.options),!!us.match(Ze[xt.COMPARATORLOOSE])))),ue("range list",Ni);const qr=new Map,cs=Ni.map(us=>new Me(us,this.options));for(const us of cs){if(pn(us))return[us];qr.set(us.value,us)}qr.size>1&&qr.has("")&&qr.delete("");const xo=[...qr.values()];return ge.set(Hn,xo),xo}intersects(tn,Fn){if(!(tn instanceof N))throw new TypeError("a Range is required");return this.set.some(Hn=>lr(Hn,Fn)&&tn.set.some(vr=>lr(vr,Fn)&&Hn.every(Kn=>vr.every(cr=>Kn.intersects(cr,Fn)))))}test(tn){if(!tn)return!1;if("string"==typeof tn)try{tn=new ze(tn,this.options)}catch{return!1}for(let Fn=0;Fn<this.set.length;Fn++)if(oa(this.set[Fn],tn,this.options))return!0;return!1}}pe.exports=N;const ge=new(V(5363)),Ee=V(8016),Me=V(4119),ue=V(51),ze=V(319),{safeRe:Ze,t:xt,comparatorTrimReplace:et,tildeTrimReplace:st,caretTrimReplace:_t}=V(8267),{FLAG_INCLUDE_PRERELEASE:ut,FLAG_LOOSE:dn}=V(9473),pn=fn=>"<0.0.0-0"===fn.value,Cn=fn=>""===fn.value,lr=(fn,tn)=>{let Fn=!0;const Hn=fn.slice();let vr=Hn.pop();for(;Fn&&Hn.length;)Fn=Hn.every(Kn=>vr.intersects(Kn,tn)),vr=Hn.pop();return Fn},In=(fn,tn)=>(ue("comp",fn,tn),fn=Mn(fn,tn),ue("caret",fn),fn=ir(fn,tn),ue("tildes",fn),fn=zn(fn,tn),ue("xrange",fn),fn=Wo(fn,tn),ue("stars",fn),fn),nr=fn=>!fn||"x"===fn.toLowerCase()||"*"===fn,ir=(fn,tn)=>fn.trim().split(/\s+/).map(Fn=>jr(Fn,tn)).join(" "),jr=(fn,tn)=>fn.replace(tn.loose?Ze[xt.TILDELOOSE]:Ze[xt.TILDE],(Hn,vr,Kn,cr,Ni)=>{let qr;return ue("tilde",fn,Hn,vr,Kn,cr,Ni),nr(vr)?qr="":nr(Kn)?qr=`>=${vr}.0.0 <${+vr+1}.0.0-0`:nr(cr)?qr=`>=${vr}.${Kn}.0 <${vr}.${+Kn+1}.0-0`:Ni?(ue("replaceTilde pr",Ni),qr=`>=${vr}.${Kn}.${cr}-${Ni} <${vr}.${+Kn+1}.0-0`):qr=`>=${vr}.${Kn}.${cr} <${vr}.${+Kn+1}.0-0`,ue("tilde return",qr),qr}),Mn=(fn,tn)=>fn.trim().split(/\s+/).map(Fn=>Zn(Fn,tn)).join(" "),Zn=(fn,tn)=>{ue("caret",fn,tn);const Hn=tn.includePrerelease?"-0":"";return fn.replace(tn.loose?Ze[xt.CARETLOOSE]:Ze[xt.CARET],(vr,Kn,cr,Ni,qr)=>{let cs;return ue("caret",fn,vr,Kn,cr,Ni,qr),nr(Kn)?cs="":nr(cr)?cs=`>=${Kn}.0.0${Hn} <${+Kn+1}.0.0-0`:nr(Ni)?cs="0"===Kn?`>=${Kn}.${cr}.0${Hn} <${Kn}.${+cr+1}.0-0`:`>=${Kn}.${cr}.0${Hn} <${+Kn+1}.0.0-0`:qr?(ue("replaceCaret pr",qr),cs="0"===Kn?"0"===cr?`>=${Kn}.${cr}.${Ni}-${qr} <${Kn}.${cr}.${+Ni+1}-0`:`>=${Kn}.${cr}.${Ni}-${qr} <${Kn}.${+cr+1}.0-0`:`>=${Kn}.${cr}.${Ni}-${qr} <${+Kn+1}.0.0-0`):(ue("no pr"),cs="0"===Kn?"0"===cr?`>=${Kn}.${cr}.${Ni}${Hn} <${Kn}.${cr}.${+Ni+1}-0`:`>=${Kn}.${cr}.${Ni}${Hn} <${Kn}.${+cr+1}.0-0`:`>=${Kn}.${cr}.${Ni} <${+Kn+1}.0.0-0`),ue("caret return",cs),cs})},zn=(fn,tn)=>(ue("replaceXRanges",fn,tn),fn.split(/\s+/).map(Fn=>_s(Fn,tn)).join(" ")),_s=(fn,tn)=>(fn=fn.trim()).replace(tn.loose?Ze[xt.XRANGELOOSE]:Ze[xt.XRANGE],(Hn,vr,Kn,cr,Ni,qr)=>{ue("xRange",fn,Hn,vr,Kn,cr,Ni,qr);const cs=nr(Kn),xo=cs||nr(cr),us=xo||nr(Ni);return"="===vr&&us&&(vr=""),qr=tn.includePrerelease?"-0":"",cs?Hn=">"===vr||"<"===vr?"<0.0.0-0":"*":vr&&us?(xo&&(cr=0),Ni=0,">"===vr?(vr=">=",xo?(Kn=+Kn+1,cr=0,Ni=0):(cr=+cr+1,Ni=0)):"<="===vr&&(vr="<",xo?Kn=+Kn+1:cr=+cr+1),"<"===vr&&(qr="-0"),Hn=`${vr+Kn}.${cr}.${Ni}${qr}`):xo?Hn=`>=${Kn}.0.0${qr} <${+Kn+1}.0.0-0`:us&&(Hn=`>=${Kn}.${cr}.0${qr} <${Kn}.${+cr+1}.0-0`),ue("xRange return",Hn),Hn}),Wo=(fn,tn)=>(ue("replaceStars",fn,tn),fn.trim().replace(Ze[xt.STAR],"")),ti=(fn,tn)=>(ue("replaceGTE0",fn,tn),fn.trim().replace(Ze[tn.includePrerelease?xt.GTE0PRE:xt.GTE0],"")),qa=fn=>(tn,Fn,Hn,vr,Kn,cr,Ni,qr,cs,xo,us,Ff)=>`${Fn=nr(Hn)?"":nr(vr)?`>=${Hn}.0.0${fn?"-0":""}`:nr(Kn)?`>=${Hn}.${vr}.0${fn?"-0":""}`:cr?`>=${Fn}`:`>=${Fn}${fn?"-0":""}`} ${qr=nr(cs)?"":nr(xo)?`<${+cs+1}.0.0-0`:nr(us)?`<${cs}.${+xo+1}.0-0`:Ff?`<=${cs}.${xo}.${us}-${Ff}`:fn?`<${cs}.${xo}.${+us+1}-0`:`<=${qr}`}`.trim(),oa=(fn,tn,Fn)=>{for(let Hn=0;Hn<fn.length;Hn++)if(!fn[Hn].test(tn))return!1;if(tn.prerelease.length&&!Fn.includePrerelease){for(let Hn=0;Hn<fn.length;Hn++)if(ue(fn[Hn].semver),fn[Hn].semver!==Me.ANY&&fn[Hn].semver.prerelease.length>0){const vr=fn[Hn].semver;if(vr.major===tn.major&&vr.minor===tn.minor&&vr.patch===tn.patch)return!0}return!1}return!0}},181:(pe,Be,V)=>{var oe=V(2873),N=V(2260),ge=Object.prototype.propertyIsEnumerable,Ee=Object.getOwnPropertySymbols;pe.exports=Ee?function(ue){return null==ue?[]:(ue=Object(ue),oe(Ee(ue),function(ze){return ge.call(ue,ze)}))}:N},298:(pe,Be,V)=>{var oe=V(8653),N=V(8401),ve=V(3278),ge=V(8020),Me=/^\[object .+?Constructor\]$/,et=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");pe.exports=function st(_t){return!(!ve(_t)||N(_t))&&(oe(_t)?et:Me).test(ge(_t))}},319:(pe,Be,V)=>{const oe=V(51),{MAX_LENGTH:N,MAX_SAFE_INTEGER:ve}=V(9473),{safeRe:ge,safeSrc:Ee,t:Me}=V(8267),ue=V(8016),{compareIdentifiers:ze}=V(384);class Ze{constructor(et,st){if(st=ue(st),et instanceof Ze){if(et.loose===!!st.loose&&et.includePrerelease===!!st.includePrerelease)return et;et=et.version}else if("string"!=typeof et)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof et}".`);if(et.length>N)throw new TypeError(`version is longer than ${N} characters`);oe("SemVer",et,st),this.options=st,this.loose=!!st.loose,this.includePrerelease=!!st.includePrerelease;const _t=et.trim().match(st.loose?ge[Me.LOOSE]:ge[Me.FULL]);if(!_t)throw new TypeError(`Invalid Version: ${et}`);if(this.raw=et,this.major=+_t[1],this.minor=+_t[2],this.patch=+_t[3],this.major>ve||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ve||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ve||this.patch<0)throw new TypeError("Invalid patch version");this.prerelease=_t[4]?_t[4].split(".").map(ut=>{if(/^[0-9]+$/.test(ut)){const dn=+ut;if(dn>=0&&dn<ve)return dn}return ut}):[],this.build=_t[5]?_t[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(et){if(oe("SemVer.compare",this.version,this.options,et),!(et instanceof Ze)){if("string"==typeof et&&et===this.version)return 0;et=new Ze(et,this.options)}return et.version===this.version?0:this.compareMain(et)||this.comparePre(et)}compareMain(et){return et instanceof Ze||(et=new Ze(et,this.options)),ze(this.major,et.major)||ze(this.minor,et.minor)||ze(this.patch,et.patch)}comparePre(et){if(et instanceof Ze||(et=new Ze(et,this.options)),this.prerelease.length&&!et.prerelease.length)return-1;if(!this.prerelease.length&&et.prerelease.length)return 1;if(!this.prerelease.length&&!et.prerelease.length)return 0;let st=0;do{const _t=this.prerelease[st],ut=et.prerelease[st];if(oe("prerelease compare",st,_t,ut),void 0===_t&&void 0===ut)return 0;if(void 0===ut)return 1;if(void 0===_t)return-1;if(_t!==ut)return ze(_t,ut)}while(++st)}compareBuild(et){et instanceof Ze||(et=new Ze(et,this.options));let st=0;do{const _t=this.build[st],ut=et.build[st];if(oe("build compare",st,_t,ut),void 0===_t&&void 0===ut)return 0;if(void 0===ut)return 1;if(void 0===_t)return-1;if(_t!==ut)return ze(_t,ut)}while(++st)}inc(et,st,_t){if(et.startsWith("pre")){if(!st&&!1===_t)throw new Error("invalid increment argument: identifier is empty");if(st){const ut=new RegExp(`^${this.options.loose?Ee[Me.PRERELEASELOOSE]:Ee[Me.PRERELEASE]}$`),dn=`-${st}`.match(ut);if(!dn||dn[1]!==st)throw new Error(`invalid identifier: ${st}`)}}switch(et){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",st,_t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",st,_t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",st,_t),this.inc("pre",st,_t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",st,_t),this.inc("pre",st,_t);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const ut=Number(_t)?1:0;if(0===this.prerelease.length)this.prerelease=[ut];else{let dn=this.prerelease.length;for(;--dn>=0;)"number"==typeof this.prerelease[dn]&&(this.prerelease[dn]++,dn=-2);if(-1===dn){if(st===this.prerelease.join(".")&&!1===_t)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(ut)}}if(st){let dn=[st,ut];!1===_t&&(dn=[st]),0===ze(this.prerelease[0],st)?isNaN(this.prerelease[1])&&(this.prerelease=dn):this.prerelease=dn}break}default:throw new Error(`invalid increment argument: ${et}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}pe.exports=Ze},322:(pe,Be,V)=>{var oe=V(9038);pe.exports=function N(ve){return oe(this,ve).has(ve)}},324:pe=>{pe.exports=function Be(V){return this.__data__.has(V)}},336:(pe,Be,V)=>{var oe=V(1464);pe.exports=oe["__core-js_shared__"]},342:(pe,Be,V)=>{var oe=V(752),N=V(4643),ve=V(2768);function ge(Ee){var Me=-1,ue=null==Ee?0:Ee.length;for(this.__data__=new oe;++Me<ue;)this.add(Ee[Me])}ge.prototype.add=ge.prototype.push=N,ge.prototype.has=ve,pe.exports=ge},361:(pe,Be,V)=>{const oe=V(3964);pe.exports=(ve,ge,Ee)=>oe(ve,ge,"<",Ee)},384:pe=>{const Be=/^[0-9]+$/,V=(N,ve)=>{const ge=Be.test(N),Ee=Be.test(ve);return ge&&Ee&&(N=+N,ve=+ve),N===ve?0:ge&&!Ee?-1:Ee&&!ge?1:N<ve?-1:1};pe.exports={compareIdentifiers:V,rcompareIdentifiers:(N,ve)=>V(ve,N)}},502:(pe,Be,V)=>{const oe=V(319);pe.exports=(ve,ge,Ee,Me,ue)=>{"string"==typeof Ee&&(ue=Me,Me=Ee,Ee=void 0);try{return new oe(ve instanceof oe?ve.version:ve,Ee).inc(ge,Me,ue).version}catch{return null}}},512:(pe,Be,V)=>{pe=V.nmd(pe);var oe=V(8657),N=Be&&!Be.nodeType&&Be,ve=N&&pe&&!pe.nodeType&&pe,Ee=ve&&ve.exports===N&&oe.process,Me=function(){try{return ve&&ve.require&&ve.require("util").types||Ee&&Ee.binding&&Ee.binding("util")}catch{}}();pe.exports=Me},554:(pe,Be,V)=>{const oe=V(2118),N=V(7546),ve=V(9163),ge=V(3304),Ee=V(3524),Me=V(1585);pe.exports=(ze,Ze,xt,et)=>{switch(Ze){case"===":return"object"==typeof ze&&(ze=ze.version),"object"==typeof xt&&(xt=xt.version),ze===xt;case"!==":return"object"==typeof ze&&(ze=ze.version),"object"==typeof xt&&(xt=xt.version),ze!==xt;case"":case"=":case"==":return oe(ze,xt,et);case"!=":return N(ze,xt,et);case">":return ve(ze,xt,et);case">=":return ge(ze,xt,et);case"<":return Ee(ze,xt,et);case"<=":return Me(ze,xt,et);default:throw new TypeError(`Invalid operator: ${Ze}`)}}},752:(pe,Be,V)=>{var oe=V(1891),N=V(2759),ve=V(7766),ge=V(322),Ee=V(7258);function Me(ue){var ze=-1,Ze=null==ue?0:ue.length;for(this.clear();++ze<Ze;){var xt=ue[ze];this.set(xt[0],xt[1])}}Me.prototype.clear=oe,Me.prototype.delete=N,Me.prototype.get=ve,Me.prototype.has=ge,Me.prototype.set=Ee,pe.exports=Me},763:(pe,Be,V)=>{const oe=V(2229);pe.exports=(ve,ge)=>{const Ee=oe(ve.trim().replace(/^[=v]+/,""),ge);return Ee?Ee.version:null}},828:(pe,Be,V)=>{var oe=V(5013),N=V(1012),ve=V(1339),ge=V(7814),Ee=V(2248),Me=V(1057),ue=V(8020),ze="[object Map]",xt="[object Promise]",et="[object Set]",st="[object WeakMap]",_t="[object DataView]",ut=ue(oe),dn=ue(N),pn=ue(ve),Cn=ue(ge),lr=ue(Ee),In=Me;(oe&&In(new oe(new ArrayBuffer(1)))!=_t||N&&In(new N)!=ze||ve&&In(ve.resolve())!=xt||ge&&In(new ge)!=et||Ee&&In(new Ee)!=st)&&(In=function(nr){var ir=Me(nr),jr="[object Object]"==ir?nr.constructor:void 0,Mn=jr?ue(jr):"";if(Mn)switch(Mn){case ut:return _t;case dn:return ze;case pn:return xt;case Cn:return et;case lr:return st}return ir}),pe.exports=In},992:(pe,Be,V)=>{const oe=V(3964);pe.exports=(ve,ge,Ee)=>oe(ve,ge,">",Ee)},1012:(pe,Be,V)=>{var ve=V(4385)(V(1464),"Map");pe.exports=ve},1028:(pe,Be,V)=>{var oe=V(8068),N=V(2502),ve=V(512),ge=ve&&ve.isTypedArray,Ee=ge?N(ge):oe;pe.exports=Ee},1057:(pe,Be,V)=>{var oe=V(8516),N=V(8488),ve=V(3327),Me=oe?oe.toStringTag:void 0;pe.exports=function ue(ze){return null==ze?void 0===ze?"[object Undefined]":"[object Null]":Me&&Me in Object(ze)?N(ze):ve(ze)}},1090:(pe,Be,V)=>{var oe=V(6316);pe.exports=function N(ve,ge){var Ee=this.__data__,Me=oe(Ee,ve);return Me<0?(++this.size,Ee.push([ve,ge])):Ee[Me][1]=ge,this}},1339:(pe,Be,V)=>{var ve=V(4385)(V(1464),"Promise");pe.exports=ve},1464:(pe,Be,V)=>{var oe=V(8657),N="object"==typeof self&&self&&self.Object===Object&&self,ve=oe||N||Function("return this")();pe.exports=ve},1483:pe=>{pe.exports=function Be(V){var oe=this.has(V)&&delete this.__data__[V];return this.size-=oe?1:0,oe}},1585:(pe,Be,V)=>{const oe=V(9225);pe.exports=(ve,ge,Ee)=>oe(ve,ge,Ee)<=0},1610:(pe,Be,V)=>{var oe=V(6316);pe.exports=function N(ve){return oe(this.__data__,ve)>-1}},1679:(pe,Be,V)=>{const oe=V(319);pe.exports=(ve,ge)=>new oe(ve,ge).minor},1890:pe=>{pe.exports=function Be(V,oe){return V.has(oe)}},1891:(pe,Be,V)=>{var oe=V(3028),N=V(5752),ve=V(1012);pe.exports=function ge(){this.size=0,this.__data__={hash:new oe,map:new(ve||N),string:new oe}}},1924:(pe,Be,V)=>{const oe=V(8420);pe.exports=(ve,ge)=>ve.sort((Ee,Me)=>oe(Me,Ee,ge))},2107:pe=>{"use strict";var Be=/["'&<>]/;pe.exports=function V(oe){var N=""+oe,ve=Be.exec(N);if(!ve)return N;var ge,Ee="",Me=0,ue=0;for(Me=ve.index;Me<N.length;Me++){switch(N.charCodeAt(Me)){case 34:ge="&quot;";break;case 38:ge="&amp;";break;case 39:ge="&#39;";break;case 60:ge="&lt;";break;case 62:ge="&gt;";break;default:continue}ue!==Me&&(Ee+=N.substring(ue,Me)),ue=Me+1,Ee+=ge}return ue!==Me?Ee+N.substring(ue,Me):Ee}},2118:(pe,Be,V)=>{const oe=V(9225);pe.exports=(ve,ge,Ee)=>0===oe(ve,ge,Ee)},2229:(pe,Be,V)=>{const oe=V(319);pe.exports=(ve,ge,Ee=!1)=>{if(ve instanceof oe)return ve;try{return new oe(ve,ge)}catch(Me){if(!Ee)return null;throw Me}}},2248:(pe,Be,V)=>{var ve=V(4385)(V(1464),"WeakMap");pe.exports=ve},2260:pe=>{pe.exports=function Be(){return[]}},2502:pe=>{pe.exports=function Be(V){return function(oe){return V(oe)}}},2561:(pe,Be,V)=>{var oe=V(8548),N=V(3809),ve=V(7291);pe.exports=function ge(Ee){return ve(Ee)?oe(Ee):N(Ee)}},2651:pe=>{pe.exports=function Be(V,oe){return V===oe||V!=V&&oe!=oe}},2737:(pe,Be,V)=>{var oe=V(1464);pe.exports=oe.Uint8Array},2759:(pe,Be,V)=>{var oe=V(9038);pe.exports=function N(ve){var ge=oe(this,ve).delete(ve);return this.size-=ge?1:0,ge}},2768:pe=>{pe.exports=function Be(V){return this.__data__.has(V)}},2852:pe=>{pe.exports=function Be(V,oe){return function(N){return V(oe(N))}}},2873:pe=>{pe.exports=function Be(V,oe){for(var N=-1,ve=null==V?0:V.length,ge=0,Ee=[];++N<ve;){var Me=V[N];oe(Me,N,V)&&(Ee[ge++]=Me)}return Ee}},2900:(pe,Be,V)=>{var oe=V(342),N=V(7371),ve=V(1890);pe.exports=function Me(ue,ze,Ze,xt,et,st){var _t=1&Ze,ut=ue.length,dn=ze.length;if(ut!=dn&&!(_t&&dn>ut))return!1;var pn=st.get(ue),Cn=st.get(ze);if(pn&&Cn)return pn==ze&&Cn==ue;var lr=-1,In=!0,nr=2&Ze?new oe:void 0;for(st.set(ue,ze),st.set(ze,ue);++lr<ut;){var ir=ue[lr],jr=ze[lr];if(xt)var Mn=_t?xt(jr,ir,lr,ze,ue,st):xt(ir,jr,lr,ue,ze,st);if(void 0!==Mn){if(Mn)continue;In=!1;break}if(nr){if(!N(ze,function(Zn,zn){if(!ve(nr,zn)&&(ir===Zn||et(ir,Zn,Ze,xt,st)))return nr.push(zn)})){In=!1;break}}else if(ir!==jr&&!et(ir,jr,Ze,xt,st)){In=!1;break}}return st.delete(ue),st.delete(ze),In}},2925:(pe,Be,V)=>{var oe=V(9471),N=V(7433);pe.exports=function ve(ge,Ee,Me,ue,ze){return ge===Ee||(null==ge||null==Ee||!N(ge)&&!N(Ee)?ge!=ge&&Ee!=Ee:oe(ge,Ee,Me,ue,ve,ze))}},3028:(pe,Be,V)=>{var oe=V(6399),N=V(1483),ve=V(3434),ge=V(5230),Ee=V(3718);function Me(ue){var ze=-1,Ze=null==ue?0:ue.length;for(this.clear();++ze<Ze;){var xt=ue[ze];this.set(xt[0],xt[1])}}Me.prototype.clear=oe,Me.prototype.delete=N,Me.prototype.get=ve,Me.prototype.has=ge,Me.prototype.set=Ee,pe.exports=Me},3136:(pe,Be,V)=>{const oe=V(2229);pe.exports=(ve,ge)=>{const Ee=oe(ve,ge);return Ee?Ee.version:null}},3151:(pe,Be,V)=>{pe=V.nmd(pe);var oe=V(1464),N=V(5710),ve=Be&&!Be.nodeType&&Be,ge=ve&&pe&&!pe.nodeType&&pe,Me=ge&&ge.exports===ve?oe.Buffer:void 0;pe.exports=(Me?Me.isBuffer:void 0)||N},3164:pe=>{var Be=Object.prototype;pe.exports=function V(oe){var N=oe&&oe.constructor;return oe===("function"==typeof N&&N.prototype||Be)}},3264:pe=>{"use strict";function oe(ve,ge){return{start:ve,end:void 0===ge?ve:ge}}pe.exports=function Be(ve,ge,Ee){var Me=ve.start,ue=Me,xt=ge.substring(Me);Ee.lastIndexOf(xt)===Ee.length-xt.length&&(ge=ge.substring(0,ge.length-xt.length),Ee=Ee.substring(0,Ee.length-xt.length));var et=function V(ve,ge){var Ee,Me,Ze,ze=0,et=0;for(ge.length>ve.length?(Me=ge,Ze=ve):(Me=ve,Ze=ge);ze<Me.length;)Me.charAt(ze)!==Ze.charAt(et)?(Ee||(Ee={l_start:ze,s_start:et}),ze++):(Ee&&!Ee.complete&&(Ee.l_end=ze,Ee.s_end=et,Ee.complete=!0),et++,ze++);if(Ee&&!Ee.complete&&(Ee.complete=!0,Ee.s_end=Ze.length,Ee.l_end=Me.length),Ee)return ge.length>ve.length?{newStart:Ee.l_start,newEnd:Ee.l_end,type:"add"}:{newStart:Ee.s_start,newEnd:Ee.s_end,type:ge.length<ve.length?"remove":"replace"}}(ge,Ee);return et&&(ue="remove"===et.type?et.newStart:et.newEnd),oe(ue)},pe.exports.range=oe},3278:pe=>{pe.exports=function Be(V){var oe=typeof V;return null!=V&&("object"==oe||"function"==oe)}},3304:(pe,Be,V)=>{const oe=V(9225);pe.exports=(ve,ge,Ee)=>oe(ve,ge,Ee)>=0},3306:function(pe){var Be;Be=typeof global<"u"?global:this,pe.exports=function(Be){if(Be.CSS&&Be.CSS.escape)return Be.CSS.escape;var V=function(oe){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var Ee,N=String(oe),ve=N.length,ge=-1,Me="",ue=N.charCodeAt(0);++ge<ve;)0!=(Ee=N.charCodeAt(ge))?Me+=Ee>=1&&Ee<=31||127==Ee||0==ge&&Ee>=48&&Ee<=57||1==ge&&Ee>=48&&Ee<=57&&45==ue?"\\"+Ee.toString(16)+" ":0==ge&&1==ve&&45==Ee||!(Ee>=128||45==Ee||95==Ee||Ee>=48&&Ee<=57||Ee>=65&&Ee<=90||Ee>=97&&Ee<=122)?"\\"+N.charAt(ge):N.charAt(ge):Me+="\ufffd";return Me};return Be.CSS||(Be.CSS={}),Be.CSS.escape=V,V}(Be)},3327:pe=>{var V=Object.prototype.toString;pe.exports=function oe(N){return V.call(N)}},3329:pe=>{pe.exports=function Be(V){var oe=typeof V;return"string"==oe||"number"==oe||"symbol"==oe||"boolean"==oe?"__proto__"!==V:null===V}},3434:(pe,Be,V)=>{var oe=V(8247),ge=Object.prototype.hasOwnProperty;pe.exports=function Ee(Me){var ue=this.__data__;if(oe){var ze=ue[Me];return"__lodash_hash_undefined__"===ze?void 0:ze}return ge.call(ue,Me)?ue[Me]:void 0}},3483:(pe,Be,V)=>{const oe=V(319);pe.exports=(ve,ge)=>new oe(ve,ge).major},3524:(pe,Be,V)=>{const oe=V(9225);pe.exports=(ve,ge,Ee)=>oe(ve,ge,Ee)<0},3539:(pe,Be,V)=>{var oe=V(9926),N=V(181),ve=V(2561);pe.exports=function ge(Ee){return oe(Ee,ve,N)}},3578:pe=>{pe.exports=function Be(V){var oe=-1,N=Array(V.size);return V.forEach(function(ve){N[++oe]=ve}),N}},3643:pe=>{pe.exports=function Be(){this.__data__=[],this.size=0}},3718:(pe,Be,V)=>{var oe=V(8247);pe.exports=function ve(ge,Ee){var Me=this.__data__;return this.size+=this.has(ge)?0:1,Me[ge]=oe&&void 0===Ee?"__lodash_hash_undefined__":Ee,this}},3809:(pe,Be,V)=>{var oe=V(3164),N=V(6199),ge=Object.prototype.hasOwnProperty;pe.exports=function Ee(Me){if(!oe(Me))return N(Me);var ue=[];for(var ze in Object(Me))ge.call(Me,ze)&&"constructor"!=ze&&ue.push(ze);return ue}},3839:(pe,Be,V)=>{const oe=V(319),N=V(178);pe.exports=(ge,Ee,Me)=>{let ue=null,ze=null,Ze=null;try{Ze=new N(Ee,Me)}catch{return null}return ge.forEach(xt=>{Ze.test(xt)&&(!ue||1===ze.compare(xt))&&(ue=xt,ze=new oe(ue,Me))}),ue}},3845:(pe,Be,V)=>{const oe=V(178);pe.exports=(ve,ge,Ee)=>(ve=new oe(ve,Ee),ge=new oe(ge,Ee),ve.intersects(ge,Ee))},3964:(pe,Be,V)=>{const oe=V(319),N=V(4119),{ANY:ve}=N,ge=V(178),Ee=V(6351),Me=V(9163),ue=V(3524),ze=V(1585),Ze=V(3304);pe.exports=(et,st,_t,ut)=>{let dn,pn,Cn,lr,In;switch(et=new oe(et,ut),st=new ge(st,ut),_t){case">":dn=Me,pn=ze,Cn=ue,lr=">",In=">=";break;case"<":dn=ue,pn=Ze,Cn=Me,lr="<",In="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ee(et,st,ut))return!1;for(let nr=0;nr<st.set.length;++nr){let jr=null,Mn=null;if(st.set[nr].forEach(Zn=>{Zn.semver===ve&&(Zn=new N(">=0.0.0")),jr=jr||Zn,Mn=Mn||Zn,dn(Zn.semver,jr.semver,ut)?jr=Zn:Cn(Zn.semver,Mn.semver,ut)&&(Mn=Zn)}),jr.operator===lr||jr.operator===In||(!Mn.operator||Mn.operator===lr)&&pn(et,Mn.semver))return!1;if(Mn.operator===In&&Cn(et,Mn.semver))return!1}return!0}},4119:(pe,Be,V)=>{const oe=Symbol("SemVer ANY");class N{static get ANY(){return oe}constructor(et,st){if(st=ve(st),et instanceof N){if(et.loose===!!st.loose)return et;et=et.value}et=et.trim().split(/\s+/).join(" "),ue("comparator",et,st),this.options=st,this.loose=!!st.loose,this.parse(et),this.value=this.semver===oe?"":this.operator+this.semver.version,ue("comp",this)}parse(et){const _t=et.match(this.options.loose?ge[Ee.COMPARATORLOOSE]:ge[Ee.COMPARATOR]);if(!_t)throw new TypeError(`Invalid comparator: ${et}`);this.operator=void 0!==_t[1]?_t[1]:"","="===this.operator&&(this.operator=""),this.semver=_t[2]?new ze(_t[2],this.options.loose):oe}toString(){return this.value}test(et){if(ue("Comparator.test",et,this.options.loose),this.semver===oe||et===oe)return!0;if("string"==typeof et)try{et=new ze(et,this.options)}catch{return!1}return Me(et,this.operator,this.semver,this.options)}intersects(et,st){if(!(et instanceof N))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new Ze(et.value,st).test(this.value):""===et.operator?""===et.value||new Ze(this.value,st).test(et.semver):!((st=ve(st)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===et.value)||!st.includePrerelease&&(this.value.startsWith("<0.0.0")||et.value.startsWith("<0.0.0"))||!(this.operator.startsWith(">")&&et.operator.startsWith(">")||this.operator.startsWith("<")&&et.operator.startsWith("<")||this.semver.version===et.semver.version&&this.operator.includes("=")&&et.operator.includes("=")||Me(this.semver,"<",et.semver,st)&&this.operator.startsWith(">")&&et.operator.startsWith("<")||Me(this.semver,">",et.semver,st)&&this.operator.startsWith("<")&&et.operator.startsWith(">")))}}pe.exports=N;const ve=V(8016),{safeRe:ge,t:Ee}=V(8267),Me=V(554),ue=V(51),ze=V(319),Ze=V(178)},4133:(pe,Be,V)=>{const oe=V(319),N=V(2229),{safeRe:ve,t:ge}=V(8267);pe.exports=(Me,ue)=>{if(Me instanceof oe)return Me;if("number"==typeof Me&&(Me=String(Me)),"string"!=typeof Me)return null;let ze=null;if((ue=ue||{}).rtl){const ut=ue.includePrerelease?ve[ge.COERCERTLFULL]:ve[ge.COERCERTL];let dn;for(;(dn=ut.exec(Me))&&(!ze||ze.index+ze[0].length!==Me.length);)(!ze||dn.index+dn[0].length!==ze.index+ze[0].length)&&(ze=dn),ut.lastIndex=dn.index+dn[1].length+dn[2].length;ut.lastIndex=-1}else ze=Me.match(ue.includePrerelease?ve[ge.COERCEFULL]:ve[ge.COERCE]);return null===ze?null:N(`${ze[2]}.${ze[3]||"0"}.${ze[4]||"0"}${ue.includePrerelease&&ze[5]?`-${ze[5]}`:""}${ue.includePrerelease&&ze[6]?`+${ze[6]}`:""}`,ue)}},4237:(pe,Be,V)=>{const oe=V(319),N=V(178);pe.exports=(ge,Ee,Me)=>{let ue=null,ze=null,Ze=null;try{Ze=new N(Ee,Me)}catch{return null}return ge.forEach(xt=>{Ze.test(xt)&&(!ue||-1===ze.compare(xt))&&(ue=xt,ze=new oe(ue,Me))}),ue}},4385:(pe,Be,V)=>{var oe=V(298),N=V(8737);pe.exports=function ve(ge,Ee){var Me=N(ge,Ee);return oe(Me)?Me:void 0}},4457:(pe,Be,V)=>{const oe=V(9225);pe.exports=(ve,ge,Ee)=>oe(ge,ve,Ee)},4516:(pe,Be,V)=>{var oe=V(5752),N=V(1012),ve=V(752);pe.exports=function Ee(Me,ue){var ze=this.__data__;if(ze instanceof oe){var Ze=ze.__data__;if(!N||Ze.length<199)return Ze.push([Me,ue]),this.size=++ze.size,this;ze=this.__data__=new ve(Ze)}return ze.set(Me,ue),this.size=ze.size,this}},4643:pe=>{pe.exports=function V(oe){return this.__data__.set(oe,"__lodash_hash_undefined__"),this}},4680:(pe,Be,V)=>{const oe=V(6351),N=V(9225);pe.exports=(ve,ge,Ee)=>{const Me=[];let ue=null,ze=null;const Ze=ve.sort((_t,ut)=>N(_t,ut,Ee));for(const _t of Ze)oe(_t,ge,Ee)?(ze=_t,ue||(ue=_t)):(ze&&Me.push([ue,ze]),ze=null,ue=null);ue&&Me.push([ue,null]);const xt=[];for(const[_t,ut]of Me)xt.push(_t===ut?_t:ut||_t!==Ze[0]?ut?_t===Ze[0]?`<=${ut}`:`${_t} - ${ut}`:`>=${_t}`:"*");const et=xt.join(" || "),st="string"==typeof ge.raw?ge.raw:String(ge);return et.length<st.length?et:ge}},4986:(pe,Be,V)=>{const oe=V(178);pe.exports=(ve,ge)=>new oe(ve,ge).set.map(Ee=>Ee.map(Me=>Me.value).join(" ").trim().split(" "))},5013:(pe,Be,V)=>{var ve=V(4385)(V(1464),"DataView");pe.exports=ve},5187:(pe,Be,V)=>{const oe=V(2229);pe.exports=(ve,ge)=>{const Ee=oe(ve,null,!0),Me=oe(ge,null,!0),ue=Ee.compare(Me);if(0===ue)return null;const ze=ue>0,Ze=ze?Ee:Me,xt=ze?Me:Ee,et=!!Ze.prerelease.length;if(xt.prerelease.length&&!et){if(!xt.patch&&!xt.minor)return"major";if(0===xt.compareMain(Ze))return xt.minor&&!xt.patch?"minor":"patch"}const _t=et?"pre":"";return Ee.major!==Me.major?_t+"major":Ee.minor!==Me.minor?_t+"minor":Ee.patch!==Me.patch?_t+"patch":"prerelease"}},5230:(pe,Be,V)=>{var oe=V(8247),ve=Object.prototype.hasOwnProperty;pe.exports=function ge(Ee){var Me=this.__data__;return oe?void 0!==Me[Ee]:ve.call(Me,Ee)}},5236:(pe,Be,V)=>{const oe=V(8420);pe.exports=(ve,ge)=>ve.sort((Ee,Me)=>oe(Ee,Me,ge))},5280:pe=>{pe.exports=function Be(V){return this.__data__.get(V)}},5324:pe=>{function Be(V){this.cache=V}pe.exports=Be,Be.prototype.resolveRule=function(V,oe){return this.resolve("rule",V,oe)},Be.prototype.resolveConfig=function(V,oe){return this.resolve("config",V,oe)},Be.prototype.resolve=function(V,oe,N){const ve=`${oe}/${N}`,ge=this.cache[`${V}:${ve}`];if(!ge)throw new Error(`unknown ${V} <${ve}>`);return ge}},5363:pe=>{pe.exports=class Be{constructor(){this.max=1e3,this.map=new Map}get(oe){const N=this.map.get(oe);if(void 0!==N)return this.map.delete(oe),this.map.set(oe,N),N}delete(oe){return this.map.delete(oe)}set(oe,N){if(!this.delete(oe)&&void 0!==N){if(this.map.size>=this.max){const ge=this.map.keys().next().value;this.delete(ge)}this.map.set(oe,N)}return this}}},5624:(pe,Be,V)=>{const oe=V(319);pe.exports=(ve,ge)=>new oe(ve,ge).patch},5710:pe=>{pe.exports=function Be(){return!1}},5748:(pe,Be,V)=>{const oe=V(8267),N=V(9473),ve=V(319),ge=V(384),Ee=V(2229),Me=V(3136),ue=V(763),ze=V(502),Ze=V(5187),xt=V(3483),et=V(1679),st=V(5624),_t=V(8510),ut=V(9225),dn=V(4457),pn=V(9670),Cn=V(8420),lr=V(5236),In=V(1924),nr=V(9163),ir=V(3524),jr=V(2118),Mn=V(7546),Zn=V(3304),zn=V(1585),_s=V(554),Wo=V(4133),ti=V(4119),qa=V(178),oa=V(6351),fn=V(4986),tn=V(4237),Fn=V(3839),Hn=V(9774),vr=V(6229),Kn=V(3964),cr=V(992),Ni=V(361),qr=V(3845),cs=V(4680),xo=V(9261);pe.exports={parse:Ee,valid:Me,clean:ue,inc:ze,diff:Ze,major:xt,minor:et,patch:st,prerelease:_t,compare:ut,rcompare:dn,compareLoose:pn,compareBuild:Cn,sort:lr,rsort:In,gt:nr,lt:ir,eq:jr,neq:Mn,gte:Zn,lte:zn,cmp:_s,coerce:Wo,Comparator:ti,Range:qa,satisfies:oa,toComparators:fn,maxSatisfying:tn,minSatisfying:Fn,minVersion:Hn,validRange:vr,outside:Kn,gtr:cr,ltr:Ni,intersects:qr,simplifyRange:cs,subset:xo,SemVer:ve,re:oe.re,src:oe.src,tokens:oe.t,SEMVER_SPEC_VERSION:N.SEMVER_SPEC_VERSION,RELEASE_TYPES:N.RELEASE_TYPES,compareIdentifiers:ge.compareIdentifiers,rcompareIdentifiers:ge.rcompareIdentifiers}},5752:(pe,Be,V)=>{var oe=V(3643),N=V(7103),ve=V(62),ge=V(1610),Ee=V(1090);function Me(ue){var ze=-1,Ze=null==ue?0:ue.length;for(this.clear();++ze<Ze;){var xt=ue[ze];this.set(xt[0],xt[1])}}Me.prototype.clear=oe,Me.prototype.delete=N,Me.prototype.get=ve,Me.prototype.has=ge,Me.prototype.set=Ee,pe.exports=Me},5811:()=>{"use strict";"function"!=typeof Object.assign&&(Object.assign=function(pe){for(var Be=[],V=1;V<arguments.length;V++)Be[V-1]=arguments[V];if(!pe)throw TypeError("Cannot convert undefined or null to object");for(var oe=function(Ee){Ee&&Object.keys(Ee).forEach(function(Me){return pe[Me]=Ee[Me]})},N=0,ve=Be;N<ve.length;N++)oe(ve[N]);return pe})},6199:(pe,Be,V)=>{var N=V(2852)(Object.keys,Object);pe.exports=N},6229:(pe,Be,V)=>{const oe=V(178);pe.exports=(ve,ge)=>{try{return new oe(ve,ge).range||"*"}catch{return null}}},6265:(pe,Be,V)=>{var oe=V(8313),N=V(7433),ve=Object.prototype,ge=ve.hasOwnProperty,Ee=ve.propertyIsEnumerable,Me=oe(function(){return arguments}())?oe:function(ue){return N(ue)&&ge.call(ue,"callee")&&!Ee.call(ue,"callee")};pe.exports=Me},6316:(pe,Be,V)=>{var oe=V(2651);pe.exports=function N(ve,ge){for(var Ee=ve.length;Ee--;)if(oe(ve[Ee][0],ge))return Ee;return-1}},6319:pe=>{pe.exports=function Be(V,oe){for(var N=-1,ve=oe.length,ge=V.length;++N<ve;)V[ge+N]=oe[N];return V}},6351:(pe,Be,V)=>{const oe=V(178);pe.exports=(ve,ge,Ee)=>{try{ge=new oe(ge,Ee)}catch{return!1}return ge.test(ve)}},6399:(pe,Be,V)=>{var oe=V(8247);pe.exports=function N(){this.__data__=oe?oe(null):{},this.size=0}},6898:(pe,Be,V)=>{var oe=V(5752),N=V(8945),ve=V(8425),ge=V(5280),Ee=V(324),Me=V(4516);function ue(ze){var Ze=this.__data__=new oe(ze);this.size=Ze.size}ue.prototype.clear=N,ue.prototype.delete=ve,ue.prototype.get=ge,ue.prototype.has=Ee,ue.prototype.set=Me,pe.exports=ue},7103:(pe,Be,V)=>{var oe=V(6316),ve=Array.prototype.splice;pe.exports=function ge(Ee){var Me=this.__data__,ue=oe(Me,Ee);return!(ue<0||(ue==Me.length-1?Me.pop():ve.call(Me,ue,1),--this.size,0))}},7152:pe=>{pe.exports=function Be(V){var oe=-1,N=Array(V.size);return V.forEach(function(ve,ge){N[++oe]=[ge,ve]}),N}},7258:(pe,Be,V)=>{var oe=V(9038);pe.exports=function N(ve,ge){var Ee=oe(this,ve),Me=Ee.size;return Ee.set(ve,ge),this.size+=Ee.size==Me?0:1,this}},7291:(pe,Be,V)=>{var oe=V(8653),N=V(8845);pe.exports=function ve(ge){return null!=ge&&N(ge.length)&&!oe(ge)}},7371:pe=>{pe.exports=function Be(V,oe){for(var N=-1,ve=null==V?0:V.length;++N<ve;)if(oe(V[N],N,V))return!0;return!1}},7376:function(pe,Be,V){var oe;pe=V.nmd(pe),function(){var N,Me="Expected a function",ze="__lodash_hash_undefined__",xt="__lodash_placeholder__",Fn=1/0,Hn=9007199254740991,cr=4294967295,cs=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],xo="[object Arguments]",us="[object Array]",T2="[object Boolean]",lg="[object Date]",sv="[object Error]",P2="[object Function]",bD="[object GeneratorFunction]",Bu="[object Map]",D2="[object Number]",$u="[object Object]",ov="[object Promise]",p0="[object RegExp]",Vu="[object Set]",k2="[object String]",Li="[object Symbol]",f0="[object WeakMap]",Wa="[object ArrayBuffer]",h0="[object DataView]",M2="[object Float32Array]",A2="[object Float64Array]",Lp="[object Int8Array]",cg="[object Int16Array]",I2="[object Int32Array]",av="[object Uint8Array]",X5="[object Uint8ClampedArray]",Q5="[object Uint16Array]",Z5="[object Uint32Array]",J5=/\b__p \+= '';/g,m0=/\b(__p \+=) '' \+/g,R2=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ED=/&(?:amp|lt|gt|quot|#39);/g,N2=/[&<>"']/g,nB=RegExp(ED.source),e4=RegExp(N2.source),rB=/<%-([\s\S]+?)%>/g,t4=/<%([\s\S]+?)%>/g,lv=/<%=([\s\S]+?)%>/g,iB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n4=/^\w*$/,sB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cv=/[\\^$.*+?()[\]{}|]/g,xD=RegExp(cv.source),wD=/^\s+/,CD=/\s/,vl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,SD=/\{\n\/\* \[wrapped with (.+)\] \*/,oB=/,? & /,aB=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lB=/[()=,{}\[\]\/\s]/,g0=/\\(\\)?/g,OD=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,r4=/\w*$/,cB=/^[-+]0x[0-9a-f]+$/i,Fp=/^0b[01]+$/i,kd=/^\[object .+?Constructor\]$/,uB=/^0o[0-7]+$/i,Bp=/^(?:0|[1-9]\d*)$/,Aie=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,uv=/($^)/,$t=/['\n\r\u2028\u2029\\]/g,L2="\\ud800-\\udfff",dB="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",i4="\\u2700-\\u27bf",Md="a-z\\xdf-\\xf6\\xf8-\\xff",B2="A-Z\\xc0-\\xd6\\xd8-\\xde",y0="\\ufe0e\\ufe0f",pB="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Iie="["+L2+"]",fB="["+pB+"]",Fi="["+dB+"]",DD="\\d+",Go="["+i4+"]",$2="["+Md+"]",hB="[^"+L2+pB+DD+i4+Md+B2+"]",s4="\\ud83c[\\udffb-\\udfff]",Pr="[^"+L2+"]",fg="(?:\\ud83c[\\udde6-\\uddff]){2}",bl="[\\ud800-\\udbff][\\udc00-\\udfff]",dv="["+B2+"]",mB="(?:"+$2+"|"+hB+")",v0="(?:"+dv+"|"+hB+")",gB="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",yB="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",vB="(?:"+Fi+"|"+s4+")?",bB="["+y0+"]?",_l=bB+vB+"(?:\\u200d(?:"+[Pr,fg,bl].join("|")+")"+bB+vB+")*",hr="(?:"+[Go,fg,bl].join("|")+")"+_l,Nie="(?:"+[Pr+Fi+"?",Fi,fg,bl,Iie].join("|")+")",Lie=RegExp("['\u2019]","g"),Fie=RegExp(Fi,"g"),MD=RegExp(s4+"(?="+s4+")|"+Nie+_l,"g"),Bie=RegExp([dv+"?"+$2+"+"+gB+"(?="+[fB,dv,"$"].join("|")+")",v0+"+"+yB+"(?="+[fB,dv+mB,"$"].join("|")+")",dv+"?"+mB+"+"+gB,dv+"+"+yB,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",DD,hr].join("|"),"g"),Nr=RegExp("[\\u200d"+L2+dB+y0+"]"),$ie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$f=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],V2=-1,js={};js[M2]=js[A2]=js[Lp]=js[cg]=js[I2]=js[av]=js[X5]=js[Q5]=js[Z5]=!0,js[xo]=js[us]=js[Wa]=js[T2]=js[h0]=js[lg]=js[sv]=js[P2]=js[Bu]=js[D2]=js[$u]=js[p0]=js[Vu]=js[k2]=js[f0]=!1;var ds={};ds[xo]=ds[us]=ds[Wa]=ds[h0]=ds[T2]=ds[lg]=ds[M2]=ds[A2]=ds[Lp]=ds[cg]=ds[I2]=ds[Bu]=ds[D2]=ds[$u]=ds[p0]=ds[Vu]=ds[k2]=ds[Li]=ds[av]=ds[X5]=ds[Q5]=ds[Z5]=!0,ds[sv]=ds[P2]=ds[f0]=!1;var o4={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},AD=parseFloat,wB=parseInt,bn="object"==typeof global&&global&&global.Object===Object&&global,a4="object"==typeof self&&self&&self.Object===Object&&self,Po=bn||a4||Function("return this")(),l4=Be&&!Be.nodeType&&Be,b0=l4&&pe&&!pe.nodeType&&pe,ID=b0&&b0.exports===l4,hg=ID&&bn.process,ju=function(){try{return b0&&b0.require&&b0.require("util").types||hg&&hg.binding&&hg.binding("util")}catch{}}(),CB=ju&&ju.isArrayBuffer,SB=ju&&ju.isDate,OB=ju&&ju.isMap,TB=ju&&ju.isRegExp,H2=ju&&ju.isSet,_0=ju&&ju.isTypedArray;function El(Ue,Et,ct){switch(ct.length){case 0:return Ue.call(Et);case 1:return Ue.call(Et,ct[0]);case 2:return Ue.call(Et,ct[0],ct[1]);case 3:return Ue.call(Et,ct[0],ct[1],ct[2])}return Ue.apply(Et,ct)}function c4(Ue,Et,ct,Dn){for(var or=-1,Rn=null==Ue?0:Ue.length;++or<Rn;){var Ei=Ue[or];Et(Dn,Ei,ct(Ei),Ue)}return Dn}function Sc(Ue,Et){for(var ct=-1,Dn=null==Ue?0:Ue.length;++ct<Dn&&!1!==Et(Ue[ct],ct,Ue););return Ue}function Vp(Ue,Et){for(var ct=null==Ue?0:Ue.length;ct--&&!1!==Et(Ue[ct],ct,Ue););return Ue}function mg(Ue,Et){for(var ct=-1,Dn=null==Ue?0:Ue.length;++ct<Dn;)if(!Et(Ue[ct],ct,Ue))return!1;return!0}function jp(Ue,Et){for(var ct=-1,Dn=null==Ue?0:Ue.length,or=0,Rn=[];++ct<Dn;){var Ei=Ue[ct];Et(Ei,ct,Ue)&&(Rn[or++]=Ei)}return Rn}function Dr(Ue,Et){return!(null==Ue||!Ue.length)&&E0(Ue,Et,0)>-1}function Ii(Ue,Et,ct){for(var Dn=-1,or=null==Ue?0:Ue.length;++Dn<or;)if(ct(Et,Ue[Dn]))return!0;return!1}function Qs(Ue,Et){for(var ct=-1,Dn=null==Ue?0:Ue.length,or=Array(Dn);++ct<Dn;)or[ct]=Et(Ue[ct],ct,Ue);return or}function Vf(Ue,Et){for(var ct=-1,Dn=Et.length,or=Ue.length;++ct<Dn;)Ue[or+ct]=Et[ct];return Ue}function U2(Ue,Et,ct,Dn){var or=-1,Rn=null==Ue?0:Ue.length;for(Dn&&Rn&&(ct=Ue[++or]);++or<Rn;)ct=Et(ct,Ue[or],or,Ue);return ct}function Vie(Ue,Et,ct,Dn){var or=null==Ue?0:Ue.length;for(Dn&&or&&(ct=Ue[--or]);or--;)ct=Et(ct,Ue[or],or,Ue);return ct}function u4(Ue,Et){for(var ct=-1,Dn=null==Ue?0:Ue.length;++ct<Dn;)if(Et(Ue[ct],ct,Ue))return!0;return!1}var d4=pv("length");function f4(Ue,Et,ct){var Dn;return ct(Ue,function(or,Rn,Ei){if(Et(or,Rn,Ei))return Dn=Rn,!1}),Dn}function Aa(Ue,Et,ct,Dn){for(var or=Ue.length,Rn=ct+(Dn?1:-1);Dn?Rn--:++Rn<or;)if(Et(Ue[Rn],Rn,Ue))return Rn;return-1}function E0(Ue,Et,ct){return Et==Et?function LD(Ue,Et,ct){for(var Dn=ct-1,or=Ue.length;++Dn<or;)if(Ue[Dn]===Et)return Dn;return-1}(Ue,Et,ct):Aa(Ue,PB,ct)}function jie(Ue,Et,ct,Dn){for(var or=ct-1,Rn=Ue.length;++or<Rn;)if(Dn(Ue[or],Et))return or;return-1}function PB(Ue){return Ue!=Ue}function jf(Ue,Et){var ct=null==Ue?0:Ue.length;return ct?h4(Ue,Et)/ct:NaN}function pv(Ue){return function(Et){return null==Et?N:Et[Ue]}}function q2(Ue){return function(Et){return null==Ue?N:Ue[Et]}}function fv(Ue,Et,ct,Dn,or){return or(Ue,function(Rn,Ei,ni){ct=Dn?(Dn=!1,Rn):Et(ct,Rn,Ei,ni)}),ct}function h4(Ue,Et){for(var ct,Dn=-1,or=Ue.length;++Dn<or;){var Rn=Et(Ue[Dn]);Rn!==N&&(ct=ct===N?Rn:ct+Rn)}return ct}function m4(Ue,Et){for(var ct=-1,Dn=Array(Ue);++ct<Ue;)Dn[ct]=Et(ct);return Dn}function ND(Ue){return Ue&&Ue.slice(0,v4(Ue)+1).replace(wD,"")}function sr(Ue){return function(Et){return Ue(Et)}}function W2(Ue,Et){return Qs(Et,function(ct){return Ue[ct]})}function on(Ue,Et){return Ue.has(Et)}function hv(Ue,Et){for(var ct=-1,Dn=Ue.length;++ct<Dn&&E0(Et,Ue[ct],0)>-1;);return ct}function G2(Ue,Et){for(var ct=Ue.length;ct--&&E0(Et,Ue[ct],0)>-1;);return ct}var kB=q2({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),MB=q2({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function AB(Ue){return"\\"+o4[Ue]}function zf(Ue){return Nr.test(Ue)}function y4(Ue){var Et=-1,ct=Array(Ue.size);return Ue.forEach(function(Dn,or){ct[++Et]=[or,Dn]}),ct}function Hf(Ue,Et){return function(ct){return Ue(Et(ct))}}function Uf(Ue,Et){for(var ct=-1,Dn=Ue.length,or=0,Rn=[];++ct<Dn;){var Ei=Ue[ct];(Ei===Et||Ei===xt)&&(Ue[ct]=xt,Rn[or++]=ct)}return Rn}function Ia(Ue){var Et=-1,ct=Array(Ue.size);return Ue.forEach(function(Dn){ct[++Et]=Dn}),ct}function zp(Ue){return zf(Ue)?function b4(Ue){for(var Et=MD.lastIndex=0;MD.test(Ue);)++Et;return Et}(Ue):d4(Ue)}function ou(Ue){return zf(Ue)?function gv(Ue){return Ue.match(MD)||[]}(Ue):function yi(Ue){return Ue.split("")}(Ue)}function v4(Ue){for(var Et=Ue.length;Et--&&CD.test(Ue.charAt(Et)););return Et}var Oc=q2({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),_i=function Ue(Et){var b,ct=(Et=null==Et?Po:_i.defaults(Po.Object(),Et,_i.pick(Po,$f))).Array,Dn=Et.Date,or=Et.Error,Rn=Et.Function,Ei=Et.Math,ni=Et.Object,qf=Et.RegExp,Wf=Et.String,Hu=Et.TypeError,Y2=ct.prototype,x0=ni.prototype,w0=Et["__core-js_shared__"],E4=Rn.prototype.toString,Ui=x0.hasOwnProperty,LB=0,X2=(b=/[^.]+$/.exec(w0&&w0.keys&&w0.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",yv=x0.toString,FD=E4.call(ni),C0=Po._,FB=qf("^"+E4.call(Ui).replace(cv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yg=ID?Et.Buffer:N,Uu=Et.Symbol,vv=Et.Uint8Array,Q2=yg?yg.allocUnsafe:N,S0=Hf(ni.getPrototypeOf,ni),Tc=ni.create,Gf=x0.propertyIsEnumerable,vg=Y2.splice,BD=Uu?Uu.isConcatSpreadable:N,bv=Uu?Uu.iterator:N,Kf=Uu?Uu.toStringTag:N,Yf=function(){try{var b=L0(ni,"defineProperty");return b({},"",{}),b}catch{}}(),bg=Et.clearTimeout!==Po.clearTimeout&&Et.clearTimeout,BB=Dn&&Dn.now!==Po.Date.now&&Dn.now,$B=Et.setTimeout!==Po.setTimeout&&Et.setTimeout,Z2=Ei.ceil,_g=Ei.floor,_v=ni.getOwnPropertySymbols,$D=yg?yg.isBuffer:N,O0=Et.isFinite,Eg=Y2.join,VB=Hf(ni.keys,ni),Ko=Ei.max,Ti=Ei.min,VD=Dn.now,jB=Et.parseInt,xg=Ei.random,zB=Y2.reverse,x4=L0(Et,"DataView"),Ev=L0(Et,"Map"),w4=L0(Et,"Promise"),wg=L0(Et,"Set"),xv=L0(Et,"WeakMap"),T0=L0(ni,"create"),P0=xv&&new xv,Pi={},Ht=B0(x4),gr=B0(Ev),Zs=B0(w4),Ga=B0(wg),aa=B0(xv),la=Uu?Uu.prototype:N,Ad=la?la.valueOf:N,qi=la?la.toString:N;function ee(b){if(ps(b)&&!Lr(b)&&!(b instanceof ri)){if(b instanceof ca)return b;if(Ui.call(b,"__wrapped__"))return l$(b)}return new ca(b)}var xl=function(){function b(){}return function(C){if(!Ss(C))return{};if(Tc)return Tc(C);b.prototype=C;var O=new b;return b.prototype=N,O}}();function ur(){}function ca(b,C){this.__wrapped__=b,this.__actions__=[],this.__chain__=!!C,this.__index__=0,this.__values__=N}function ri(b){this.__wrapped__=b,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=cr,this.__views__=[]}function au(b){var C=-1,O=null==b?0:b.length;for(this.clear();++C<O;){var R=b[C];this.set(R[0],R[1])}}function wl(b){var C=-1,O=null==b?0:b.length;for(this.clear();++C<O;){var R=b[C];this.set(R[0],R[1])}}function ua(b){var C=-1,O=null==b?0:b.length;for(this.clear();++C<O;){var R=b[C];this.set(R[0],R[1])}}function Up(b){var C=-1,O=null==b?0:b.length;for(this.__data__=new ua;++C<O;)this.add(b[C])}function Js(b){var C=this.__data__=new wl(b);this.size=C.size}function UD(b,C){var O=Lr(b),R=!O&&Xl(b),W=!O&&!R&&Ju(b),ae=!O&&!R&&!W&&Uv(b),Ie=O||R||W||ae,Ve=Ie?m4(b.length,Wf):[],Xe=Ve.length;for(var Mt in b)(C||Ui.call(b,Mt))&&(!Ie||!("length"==Mt||W&&("offset"==Mt||"parent"==Mt)||ae&&("buffer"==Mt||"byteLength"==Mt||"byteOffset"==Mt)||Yp(Mt,Xe)))&&Ve.push(Mt);return Ve}function Cv(b){var C=b.length;return C?b[L4(0,C-1)]:N}function zie(b,C){return Fv(Wl(b),Tg(C,0,b.length))}function Hie(b){return Fv(Wl(b))}function qD(b,C,O){(O!==N&&!kc(b[C],O)||O===N&&!(C in b))&&Zf(b,C,O)}function nE(b,C,O){var R=b[C];(!Ui.call(b,C)||!kc(R,O)||O===N&&!(C in b))&&Zf(b,C,O)}function S4(b,C){for(var O=b.length;O--;)if(kc(b[O][0],C))return O;return-1}function Uie(b,C,O,R){return Jf(b,function(W,ae,Ie){C(R,W,O(W),Ie)}),R}function O4(b,C){return b&&xs(C,Do(C),b)}function Zf(b,C,O){"__proto__"==C&&Yf?Yf(b,C,{configurable:!0,enumerable:!0,value:O,writable:!0}):b[C]=O}function WD(b,C){for(var O=-1,R=C.length,W=ct(R),ae=null==b;++O<R;)W[O]=ae?N:TC(b,C[O]);return W}function Tg(b,C,O){return b==b&&(O!==N&&(b=b<=O?b:O),C!==N&&(b=b>=C?b:C)),b}function Dc(b,C,O,R,W,ae){var Ie,Ve=1&C,Xe=2&C,Mt=4&C;if(O&&(Ie=W?O(b,R,W,ae):O(b)),Ie!==N)return Ie;if(!Ss(b))return b;var Nt=Lr(b);if(Nt){if(Ie=function i$(b){var C=b.length,O=new b.constructor(C);return C&&"string"==typeof b[0]&&Ui.call(b,"index")&&(O.index=b.index,O.input=b.input),O}(b),!Ve)return Wl(b,Ie)}else{var jt=pa(b),_n=jt==P2||jt==bD;if(Ju(b))return pE(b,Ve);if(jt==$u||jt==xo||_n&&!W){if(Ie=Xe||_n?{}:X4(b),!Ve)return Xe?function ns(b,C){return xs(b,Iv(b),C)}(b,function qie(b,C){return b&&xs(C,Za(C),b)}(Ie,b)):function A0(b,C){return xs(b,Y4(b),C)}(b,O4(Ie,b))}else{if(!ds[jt])return W?b:{};Ie=function fk(b,C,O){var R=b.constructor;switch(C){case Wa:return Rg(b);case T2:case lg:return new R(+b);case h0:return function e$(b,C){var O=C?Rg(b.buffer):b.buffer;return new b.constructor(O,b.byteOffset,b.byteLength)}(b,O);case M2:case A2:case Lp:case cg:case I2:case av:case X5:case Q5:case Z5:return z4(b,O);case Bu:return new R;case D2:case k2:return new R(b);case p0:return function rk(b){var C=new b.constructor(b.source,r4.exec(b));return C.lastIndex=b.lastIndex,C}(b);case Vu:return new R;case Li:return function j4(b){return Ad?ni(Ad.call(b)):{}}(b)}}(b,jt,Ve)}}ae||(ae=new Js);var Gn=ae.get(b);if(Gn)return Gn;ae.set(b,Ie),SC(b)?b.forEach(function(Sr){Ie.add(Dc(Sr,C,O,Sr,b,ae))}):xC(b)&&b.forEach(function(Sr,ci){Ie.set(ci,Dc(Sr,C,O,ci,b,ae))});var ii=Nt?N:(Mt?Xe?K4:R0:Xe?Za:Do)(b);return Sc(ii||b,function(Sr,ci){ii&&(Sr=b[ci=Sr]),nE(Ie,ci,Dc(Sr,C,O,ci,b,ae))}),Ie}function UB(b,C,O){var R=O.length;if(null==b)return!R;for(b=ni(b);R--;){var W=O[R],Ie=b[W];if(Ie===N&&!(W in b)||!(0,C[W])(Ie))return!1}return!0}function qB(b,C,O){if("function"!=typeof b)throw new Hu(Me);return jg(function(){b.apply(N,O)},C)}function rE(b,C,O,R){var W=-1,ae=Dr,Ie=!0,Ve=b.length,Xe=[],Mt=C.length;if(!Ve)return Xe;O&&(C=Qs(C,sr(O))),R?(ae=Ii,Ie=!1):C.length>=200&&(ae=on,Ie=!1,C=new Up(C));e:for(;++W<Ve;){var Nt=b[W],jt=null==O?Nt:O(Nt);if(Nt=R||0!==Nt?Nt:0,Ie&&jt==jt){for(var _n=Mt;_n--;)if(C[_n]===jt)continue e;Xe.push(Nt)}else ae(C,jt,R)||Xe.push(Nt)}return Xe}ee.templateSettings={escape:rB,evaluate:t4,interpolate:lv,variable:"",imports:{_:ee}},(ee.prototype=ur.prototype).constructor=ee,(ca.prototype=xl(ur.prototype)).constructor=ca,(ri.prototype=xl(ur.prototype)).constructor=ri,au.prototype.clear=function Hp(){this.__data__=T0?T0(null):{},this.size=0},au.prototype.delete=function wv(b){var C=this.has(b)&&delete this.__data__[b];return this.size-=C?1:0,C},au.prototype.get=function jD(b){var C=this.__data__;if(T0){var O=C[b];return O===ze?N:O}return Ui.call(C,b)?C[b]:N},au.prototype.has=function Xf(b){var C=this.__data__;return T0?C[b]!==N:Ui.call(C,b)},au.prototype.set=function J2(b,C){var O=this.__data__;return this.size+=this.has(b)?0:1,O[b]=T0&&C===N?ze:C,this},wl.prototype.clear=function Pc(){this.__data__=[],this.size=0},wl.prototype.delete=function Sg(b){var C=this.__data__,O=S4(C,b);return!(O<0||(O==C.length-1?C.pop():vg.call(C,O,1),--this.size,0))},wl.prototype.get=function Nn(b){var C=this.__data__,O=S4(C,b);return O<0?N:C[O][1]},wl.prototype.has=function C4(b){return S4(this.__data__,b)>-1},wl.prototype.set=function qu(b,C){var O=this.__data__,R=S4(O,b);return R<0?(++this.size,O.push([b,C])):O[R][1]=C,this},ua.prototype.clear=function eE(){this.size=0,this.__data__={hash:new au,map:new(Ev||wl),string:new au}},ua.prototype.delete=function Og(b){var C=Av(this,b).delete(b);return this.size-=C?1:0,C},ua.prototype.get=function Hs(b){return Av(this,b).get(b)},ua.prototype.has=function po(b){return Av(this,b).has(b)},ua.prototype.set=function Yo(b,C){var O=Av(this,b),R=O.size;return O.set(b,C),this.size+=O.size==R?0:1,this},Up.prototype.add=Up.prototype.push=function Wu(b){return this.__data__.set(b,ze),this},Up.prototype.has=function tE(b){return this.__data__.has(b)},Js.prototype.clear=function qp(){this.__data__=new wl,this.size=0},Js.prototype.delete=function zD(b){var C=this.__data__,O=C.delete(b);return this.size=C.size,O},Js.prototype.get=function HB(b){return this.__data__.get(b)},Js.prototype.has=function Qf(b){return this.__data__.has(b)},Js.prototype.set=function HD(b,C){var O=this.__data__;if(O instanceof wl){var R=O.__data__;if(!Ev||R.length<199)return R.push([b,C]),this.size=++O.size,this;O=this.__data__=new ua(R)}return O.set(b,C),this.size=O.size,this};var Jf=sk(lu),T4=sk(P4,!0);function eh(b,C){var O=!0;return Jf(b,function(R,W,ae){return O=!!C(R,W,ae)}),O}function Sv(b,C,O){for(var R=-1,W=b.length;++R<W;){var ae=b[R],Ie=C(ae);if(null!=Ie&&(Ve===N?Ie==Ie&&!Ql(Ie):O(Ie,Ve)))var Ve=Ie,Xe=ae}return Xe}function KD(b,C){var O=[];return Jf(b,function(R,W,ae){C(R,W,ae)&&O.push(R)}),O}function da(b,C,O,R,W){var ae=-1,Ie=b.length;for(O||(O=mk),W||(W=[]);++ae<Ie;){var Ve=b[ae];C>0&&O(Ve)?C>1?da(Ve,C-1,O,R,W):Vf(W,Ve):R||(W[W.length]=Ve)}return W}var iE=ok(),YD=ok(!0);function lu(b,C){return b&&iE(b,C,Do)}function P4(b,C){return b&&YD(b,C,Do)}function Ri(b,C){return jp(C,function(O){return Vd(b[O])})}function th(b,C){for(var O=0,R=(C=nh(C,b)).length;null!=b&&O<R;)b=b[Xu(C[O++])];return O&&O==R?b:N}function D4(b,C,O){var R=C(b);return Lr(b)?R:Vf(R,O(b))}function kr(b){return null==b?b===N?"[object Undefined]":"[object Null]":Kf&&Kf in ni(b)?function Ld(b){var C=Ui.call(b,Kf),O=b[Kf];try{b[Kf]=N;var R=!0}catch{}var W=yv.call(b);return R&&(C?b[Kf]=O:delete b[Kf]),W}(b):function vk(b){return yv.call(b)}(b)}function Ov(b,C){return b>C}function Pg(b,C){return null!=b&&Ui.call(b,C)}function Cl(b,C){return null!=b&&C in ni(b)}function Wp(b,C,O){for(var R=O?Ii:Dr,W=b[0].length,ae=b.length,Ie=ae,Ve=ct(ae),Xe=1/0,Mt=[];Ie--;){var Nt=b[Ie];Ie&&C&&(Nt=Qs(Nt,sr(C))),Xe=Ti(Nt.length,Xe),Ve[Ie]=!O&&(C||W>=120&&Nt.length>=120)?new Up(Ie&&Nt):N}Nt=b[0];var jt=-1,_n=Ve[0];e:for(;++jt<W&&Mt.length<Xe;){var Gn=Nt[jt],yr=C?C(Gn):Gn;if(Gn=O||0!==Gn?Gn:0,!(_n?on(_n,yr):R(Mt,yr,O))){for(Ie=ae;--Ie;){var ii=Ve[Ie];if(!(ii?on(ii,yr):R(b[Ie],yr,O)))continue e}_n&&_n.push(yr),Mt.push(Gn)}}return Mt}function Xo(b,C,O){var R=null==(b=bk(b,C=nh(C,b)))?b:b[Xu(Sl(C))];return null==R?N:El(R,b,O)}function XD(b){return ps(b)&&kr(b)==xo}function Ka(b,C,O,R,W){return b===C||(null==b||null==C||!ps(b)&&!ps(C)?b!=b&&C!=C:function QD(b,C,O,R,W,ae){var Ie=Lr(b),Ve=Lr(C),Xe=Ie?us:pa(b),Mt=Ve?us:pa(C),Nt=(Xe=Xe==xo?$u:Xe)==$u,jt=(Mt=Mt==xo?$u:Mt)==$u,_n=Xe==Mt;if(_n&&Ju(b)){if(!Ju(C))return!1;Ie=!0,Nt=!1}if(_n&&!Nt)return ae||(ae=new Js),Ie||Uv(b)?G4(b,C,O,R,W,ae):function $g(b,C,O,R,W,ae,Ie){switch(O){case h0:if(b.byteLength!=C.byteLength||b.byteOffset!=C.byteOffset)return!1;b=b.buffer,C=C.buffer;case Wa:return!(b.byteLength!=C.byteLength||!ae(new vv(b),new vv(C)));case T2:case lg:case D2:return kc(+b,+C);case sv:return b.name==C.name&&b.message==C.message;case p0:case k2:return b==C+"";case Bu:var Ve=y4;case Vu:if(Ve||(Ve=Ia),b.size!=C.size&&!(1&R))return!1;var Mt=Ie.get(b);if(Mt)return Mt==C;R|=2,Ie.set(b,C);var Nt=G4(Ve(b),Ve(C),R,W,ae,Ie);return Ie.delete(b),Nt;case Li:if(Ad)return Ad.call(b)==Ad.call(C)}return!1}(b,C,Xe,O,R,W,ae);if(!(1&O)){var Gn=Nt&&Ui.call(b,"__wrapped__"),yr=jt&&Ui.call(C,"__wrapped__");if(Gn||yr){var ii=Gn?b.value():b,Sr=yr?C.value():C;return ae||(ae=new Js),W(ii,Sr,O,R,ae)}}return!!_n&&(ae||(ae=new Js),function dk(b,C,O,R,W,ae){var Ie=1&O,Ve=R0(b),Xe=Ve.length;if(Xe!=R0(C).length&&!Ie)return!1;for(var jt=Xe;jt--;){var _n=Ve[jt];if(!(Ie?_n in C:Ui.call(C,_n)))return!1}var Gn=ae.get(b),yr=ae.get(C);if(Gn&&yr)return Gn==C&&yr==b;var ii=!0;ae.set(b,C),ae.set(C,b);for(var Sr=Ie;++jt<Xe;){var ci=b[_n=Ve[jt]],xi=C[_n];if(R)var Ac=Ie?R(xi,ci,_n,C,b,ae):R(ci,xi,_n,b,C,ae);if(!(Ac===N?ci===xi||W(ci,xi,O,R,ae):Ac)){ii=!1;break}Sr||(Sr="constructor"==_n)}if(ii&&!Sr){var Pl=b.constructor,Ic=C.constructor;Pl!=Ic&&"constructor"in b&&"constructor"in C&&!("function"==typeof Pl&&Pl instanceof Pl&&"function"==typeof Ic&&Ic instanceof Ic)&&(ii=!1)}return ae.delete(b),ae.delete(C),ii}(b,C,O,R,W,ae))}(b,C,O,R,Ka,W))}function sE(b,C,O,R){var W=O.length,ae=W,Ie=!R;if(null==b)return!ae;for(b=ni(b);W--;){var Ve=O[W];if(Ie&&Ve[2]?Ve[1]!==b[Ve[0]]:!(Ve[0]in b))return!1}for(;++W<ae;){var Xe=(Ve=O[W])[0],Mt=b[Xe],Nt=Ve[1];if(Ie&&Ve[2]){if(Mt===N&&!(Xe in b))return!1}else{var jt=new Js;if(R)var _n=R(Mt,Nt,Xe,b,C,jt);if(!(_n===N?Ka(Nt,Mt,3,R,jt):_n))return!1}}return!0}function Dg(b){return!(!Ss(b)||function gk(b){return!!X2&&X2 in b}(b))&&(Vd(b)?FB:kd).test(B0(b))}function aE(b){return"function"==typeof b?b:null==b?Tl:"object"==typeof b?Lr(b)?Pv(b[0],b[1]):Mr(b):XE(b)}function Gu(b){if(!Yu(b))return VB(b);var C=[];for(var O in ni(b))Ui.call(b,O)&&"constructor"!=O&&C.push(O);return C}function Tv(b,C){return b<C}function ZD(b,C){var O=-1,R=ha(b)?ct(b.length):[];return Jf(b,function(W,ae,Ie){R[++O]=C(W,ae,Ie)}),R}function Mr(b){var C=_E(b);return 1==C.length&&C[0][2]?yk(C[0][0],C[0][1]):function(O){return O===b||sE(O,b,C)}}function Pv(b,C){return F0(b)&&eo(C)?yk(Xu(b),C):function(O){var R=TC(O,b);return R===N&&R===C?zE(O,b):Ka(C,R,3)}}function Mg(b,C,O,R,W){b!==C&&iE(C,function(ae,Ie){if(W||(W=new Js),Ss(ae))!function R4(b,C,O,R,W,ae,Ie){var Ve=Nv(b,O),Xe=Nv(C,O),Mt=Ie.get(Xe);if(Mt)qD(b,O,Mt);else{var Nt=ae?ae(Ve,Xe,O+"",b,C,Ie):N,jt=Nt===N;if(jt){var _n=Lr(Xe),Gn=!_n&&Ju(Xe),yr=!_n&&!Gn&&Uv(Xe);Nt=Xe,_n||Gn||yr?Lr(Ve)?Nt=Ve:to(Ve)?Nt=Wl(Ve):Gn?(jt=!1,Nt=pE(Xe,!0)):yr?(jt=!1,Nt=z4(Xe,!0)):Nt=[]:Kg(Xe)||Xl(Xe)?(Nt=Ve,Xl(Ve)?Nt=cM(Ve):(!Ss(Ve)||Vd(Ve))&&(Nt=X4(Xe))):jt=!1}jt&&(Ie.set(Xe,Nt),W(Nt,Xe,R,ae,Ie),Ie.delete(Xe)),qD(b,O,Nt)}}(b,C,Ie,O,Mg,R,W);else{var Ve=R?R(Nv(b,Ie),ae,Ie+"",b,C,W):N;Ve===N&&(Ve=ae),qD(b,Ie,Ve)}},Za)}function JD(b,C){var O=b.length;if(O)return Yp(C+=C<0?O:0,O)?b[C]:N}function ek(b,C,O){C=C.length?Qs(C,function(ae){return Lr(ae)?function(Ie){return th(Ie,1===ae.length?ae[0]:ae)}:ae}):[Tl];var R=-1;return C=Qs(C,sr(wr())),function DB(Ue,Et){var ct=Ue.length;for(Ue.sort(Et);ct--;)Ue[ct]=Ue[ct].value;return Ue}(ZD(b,function(ae,Ie,Ve){return{criteria:Qs(C,function(Mt){return Mt(ae)}),index:++R,value:ae}}),function(ae,Ie){return function ik(b,C,O){for(var R=-1,W=b.criteria,ae=C.criteria,Ie=W.length,Ve=O.length;++R<Ie;){var Xe=H4(W[R],ae[R]);if(Xe)return R>=Ve?Xe:Xe*("desc"==O[R]?-1:1)}return b.index-C.index}(ae,Ie,O)})}function lE(b,C,O){for(var R=-1,W=C.length,ae={};++R<W;){var Ie=C[R],Ve=th(b,Ie);O(Ve,Ie)&&St(ae,nh(Ie,b),Ve)}return ae}function N4(b,C,O,R){var W=R?jie:E0,ae=-1,Ie=C.length,Ve=b;for(b===C&&(C=Wl(C)),O&&(Ve=Qs(b,sr(O)));++ae<Ie;)for(var Xe=0,Mt=C[ae],Nt=O?O(Mt):Mt;(Xe=W(Ve,Nt,Xe,R))>-1;)Ve!==b&&vg.call(Ve,Xe,1),vg.call(b,Xe,1);return b}function tk(b,C){for(var O=b?C.length:0,R=O-1;O--;){var W=C[O];if(O==R||W!==ae){var ae=W;Yp(W)?vg.call(b,W,1):Ig(b,W)}}return b}function L4(b,C){return b+_g(xg()*(C-b+1))}function F4(b,C){var O="";if(!b||C<1||C>Hn)return O;do{C%2&&(O+=b),(C=_g(C/2))&&(b+=b)}while(C);return O}function Ge(b,C){return Z4(Rv(b,C,Tl),b+"")}function Cr(b){return Cv(U0(b))}function Ot(b,C){var O=U0(b);return Fv(O,Tg(C,0,O.length))}function St(b,C,O,R){if(!Ss(b))return b;for(var W=-1,ae=(C=nh(C,b)).length,Ie=ae-1,Ve=b;null!=Ve&&++W<ae;){var Xe=Xu(C[W]),Mt=O;if("__proto__"===Xe||"constructor"===Xe||"prototype"===Xe)return b;if(W!=Ie){var Nt=Ve[Xe];(Mt=R?R(Nt,Xe,Ve):N)===N&&(Mt=Ss(Nt)?Nt:Yp(C[W+1])?[]:{})}nE(Ve,Xe,Mt),Ve=Ve[Xe]}return b}var Zr=P0?function(b,C){return P0.set(b,C),b}:Tl,nk=Yf?function(b,C){return Yf(b,"toString",{configurable:!0,enumerable:!1,value:LC(C),writable:!0})}:Tl;function Dv(b){return Fv(U0(b))}function fo(b,C,O){var R=-1,W=b.length;C<0&&(C=-C>W?0:W+C),(O=O>W?W:O)<0&&(O+=W),W=C>O?0:O-C>>>0,C>>>=0;for(var ae=ct(W);++R<W;)ae[R]=b[R+C];return ae}function B4(b,C){var O;return Jf(b,function(R,W,ae){return!(O=C(R,W,ae))}),!!O}function Ag(b,C,O){var R=0,W=null==b?R:b.length;if("number"==typeof C&&C==C&&W<=2147483647){for(;R<W;){var ae=R+W>>>1,Ie=b[ae];null!==Ie&&!Ql(Ie)&&(O?Ie<=C:Ie<C)?R=ae+1:W=ae}return W}return cE(b,C,Tl,O)}function cE(b,C,O,R){var W=0,ae=null==b?0:b.length;if(0===ae)return 0;for(var Ie=(C=O(C))!=C,Ve=null===C,Xe=Ql(C),Mt=C===N;W<ae;){var Nt=_g((W+ae)/2),jt=O(b[Nt]),_n=jt!==N,Gn=null===jt,yr=jt==jt,ii=Ql(jt);if(Ie)var Sr=R||yr;else Sr=Mt?yr&&(R||_n):Ve?yr&&_n&&(R||!Gn):Xe?yr&&_n&&!Gn&&(R||!ii):!Gn&&!ii&&(R?jt<=C:jt<C);Sr?W=Nt+1:ae=Nt}return Ti(ae,4294967294)}function QB(b,C){for(var O=-1,R=b.length,W=0,ae=[];++O<R;){var Ie=b[O],Ve=C?C(Ie):Ie;if(!O||!kc(Ve,Xe)){var Xe=Ve;ae[W++]=0===Ie?0:Ie}}return ae}function ZB(b){return"number"==typeof b?b:Ql(b)?NaN:+b}function Ul(b){if("string"==typeof b)return b;if(Lr(b))return Qs(b,Ul)+"";if(Ql(b))return qi?qi.call(b):"";var C=b+"";return"0"==C&&1/b==-Fn?"-0":C}function Gp(b,C,O){var R=-1,W=Dr,ae=b.length,Ie=!0,Ve=[],Xe=Ve;if(O)Ie=!1,W=Ii;else if(ae>=200){var Mt=C?null:n$(b);if(Mt)return Ia(Mt);Ie=!1,W=on,Xe=new Up}else Xe=C?[]:Ve;e:for(;++R<ae;){var Nt=b[R],jt=C?C(Nt):Nt;if(Nt=O||0!==Nt?Nt:0,Ie&&jt==jt){for(var _n=Xe.length;_n--;)if(Xe[_n]===jt)continue e;C&&Xe.push(jt),Ve.push(Nt)}else W(Xe,jt,O)||(Xe!==Ve&&Xe.push(jt),Ve.push(Nt))}return Ve}function Ig(b,C){return null==(b=bk(b,C=nh(C,b)))||delete b[Xu(Sl(C))]}function Ya(b,C,O,R){return St(b,C,O(th(b,C)),R)}function cu(b,C,O,R){for(var W=b.length,ae=R?W:-1;(R?ae--:++ae<W)&&C(b[ae],ae,b););return O?fo(b,R?0:ae,R?ae+1:W):fo(b,R?ae+1:0,R?W:ae)}function $4(b,C){var O=b;return O instanceof ri&&(O=O.value()),U2(C,function(R,W){return W.func.apply(W.thisArg,Vf([R],W.args))},O)}function ql(b,C,O){var R=b.length;if(R<2)return R?Gp(b[0]):[];for(var W=-1,ae=ct(R);++W<R;)for(var Ie=b[W],Ve=-1;++Ve<R;)Ve!=W&&(ae[W]=rE(ae[W]||Ie,b[Ve],C,O));return Gp(da(ae,1),C,O)}function Id(b,C,O){for(var R=-1,W=b.length,ae=C.length,Ie={};++R<W;)O(Ie,b[R],R<ae?C[R]:N);return Ie}function V4(b){return to(b)?b:[]}function uE(b){return"function"==typeof b?b:Tl}function nh(b,C){return Lr(b)?b:F0(b,C)?[b]:wk(Qi(b))}var JB=Ge;function Rd(b,C,O){var R=b.length;return O=O===N?R:O,!C&&O>=R?b:fo(b,C,O)}var dE=bg||function(b){return Po.clearTimeout(b)};function pE(b,C){if(C)return b.slice();var O=b.length,R=Q2?Q2(O):new b.constructor(O);return b.copy(R),R}function Rg(b){var C=new b.constructor(b.byteLength);return new vv(C).set(new vv(b)),C}function z4(b,C){var O=C?Rg(b.buffer):b.buffer;return new b.constructor(O,b.byteOffset,b.length)}function H4(b,C){if(b!==C){var O=b!==N,R=null===b,W=b==b,ae=Ql(b),Ie=C!==N,Ve=null===C,Xe=C==C,Mt=Ql(C);if(!Ve&&!Mt&&!ae&&b>C||ae&&Ie&&Xe&&!Ve&&!Mt||R&&Ie&&Xe||!O&&Xe||!W)return 1;if(!R&&!ae&&!Mt&&b<C||Mt&&O&&W&&!R&&!ae||Ve&&O&&W||!Ie&&W||!Xe)return-1}return 0}function U4(b,C,O,R){for(var W=-1,ae=b.length,Ie=O.length,Ve=-1,Xe=C.length,Mt=Ko(ae-Ie,0),Nt=ct(Xe+Mt),jt=!R;++Ve<Xe;)Nt[Ve]=C[Ve];for(;++W<Ie;)(jt||W<ae)&&(Nt[O[W]]=b[W]);for(;Mt--;)Nt[Ve++]=b[W++];return Nt}function fE(b,C,O,R){for(var W=-1,ae=b.length,Ie=-1,Ve=O.length,Xe=-1,Mt=C.length,Nt=Ko(ae-Ve,0),jt=ct(Nt+Mt),_n=!R;++W<Nt;)jt[W]=b[W];for(var Gn=W;++Xe<Mt;)jt[Gn+Xe]=C[Xe];for(;++Ie<Ve;)(_n||W<ae)&&(jt[Gn+O[Ie]]=b[W++]);return jt}function Wl(b,C){var O=-1,R=b.length;for(C||(C=ct(R));++O<R;)C[O]=b[O];return C}function xs(b,C,O,R){var W=!O;O||(O={});for(var ae=-1,Ie=C.length;++ae<Ie;){var Ve=C[ae],Xe=R?R(O[Ve],b[Ve],Ve,O,b):N;Xe===N&&(Xe=b[Ve]),W?Zf(O,Ve,Xe):nE(O,Ve,Xe)}return O}function hE(b,C){return function(O,R){var W=Lr(O)?c4:Uie,ae=C?C():{};return W(O,b,wr(R,2),ae)}}function Ng(b){return Ge(function(C,O){var R=-1,W=O.length,ae=W>1?O[W-1]:N,Ie=W>2?O[2]:N;for(ae=b.length>3&&"function"==typeof ae?(W--,ae):N,Ie&&fa(O[0],O[1],Ie)&&(ae=W<3?N:ae,W=1),C=ni(C);++R<W;){var Ve=O[R];Ve&&b(C,Ve,R,ae)}return C})}function sk(b,C){return function(O,R){if(null==O)return O;if(!ha(O))return b(O,R);for(var W=O.length,ae=C?W:-1,Ie=ni(O);(C?ae--:++ae<W)&&!1!==R(Ie[ae],ae,Ie););return O}}function ok(b){return function(C,O,R){for(var W=-1,ae=ni(C),Ie=R(C),Ve=Ie.length;Ve--;){var Xe=Ie[b?Ve:++W];if(!1===O(ae[Xe],Xe,ae))break}return C}}function q4(b){return function(C){var O=zf(C=Qi(C))?ou(C):N,R=O?O[0]:C.charAt(0),W=O?Rd(O,1).join(""):C.slice(1);return R[b]()+W}}function Nd(b){return function(C){return U2(NC(J$(C).replace(Lie,"")),b,"")}}function Gl(b){return function(){var C=arguments;switch(C.length){case 0:return new b;case 1:return new b(C[0]);case 2:return new b(C[0],C[1]);case 3:return new b(C[0],C[1],C[2]);case 4:return new b(C[0],C[1],C[2],C[3]);case 5:return new b(C[0],C[1],C[2],C[3],C[4]);case 6:return new b(C[0],C[1],C[2],C[3],C[4],C[5]);case 7:return new b(C[0],C[1],C[2],C[3],C[4],C[5],C[6])}var O=xl(b.prototype),R=b.apply(O,C);return Ss(R)?R:O}}function mE(b){return function(C,O,R){var W=ni(C);if(!ha(C)){var ae=wr(O,3);C=Do(C),O=function(Ve){return ae(W[Ve],Ve,W)}}var Ie=b(C,O,R);return Ie>-1?W[ae?C[Ie]:Ie]:N}}function kv(b){return Ku(function(C){var O=C.length,R=O,W=ca.prototype.thru;for(b&&C.reverse();R--;){var ae=C[R];if("function"!=typeof ae)throw new Hu(Me);if(W&&!Ie&&"wrapper"==Vg(ae))var Ie=new ca([],!0)}for(R=Ie?R:O;++R<O;){var Ve=Vg(ae=C[R]),Xe="wrapper"==Ve?N0(ae):N;Ie=Xe&&wE(Xe[0])&&424==Xe[1]&&!Xe[4].length&&1==Xe[9]?Ie[Vg(Xe[0])].apply(Ie,Xe[3]):1==ae.length&&wE(ae)?Ie[Ve]():Ie.thru(ae)}return function(){var Mt=arguments,Nt=Mt[0];if(Ie&&1==Mt.length&&Lr(Nt))return Ie.plant(Nt).value();for(var jt=0,_n=O?C[jt].apply(this,Mt):Nt;++jt<O;)_n=C[jt].call(this,_n);return _n}})}function I0(b,C,O,R,W,ae,Ie,Ve,Xe,Mt){var Nt=128&C,jt=1&C,_n=2&C,Gn=24&C,yr=512&C,ii=_n?N:Gl(b);return function Sr(){for(var ci=arguments.length,xi=ct(ci),Ac=ci;Ac--;)xi[Ac]=arguments[Ac];if(Gn)var Pl=Kp(Sr),Ic=function mv(Ue,Et){for(var ct=Ue.length,Dn=0;ct--;)Ue[ct]===Et&&++Dn;return Dn}(xi,Pl);if(R&&(xi=U4(xi,R,W,Gn)),ae&&(xi=fE(xi,ae,Ie,Gn)),ci-=Ic,Gn&&ci<Mt){var Co=Uf(xi,Pl);return bE(b,C,I0,Sr.placeholder,O,xi,Co,Ve,Xe,Mt-ci)}var pu=jt?O:this,jd=_n?pu[b]:b;return ci=xi.length,Ve?xi=function _k(b,C){for(var O=b.length,R=Ti(C.length,O),W=Wl(b);R--;){var ae=C[R];b[R]=Yp(ae,O)?W[ae]:N}return b}(xi,Ve):yr&&ci>1&&xi.reverse(),Nt&&Xe<ci&&(xi.length=Xe),this&&this!==Po&&this instanceof Sr&&(jd=ii||Gl(jd)),jd.apply(pu,xi)}}function gE(b,C){return function(O,R){return function k0(b,C,O,R){return lu(b,function(W,ae,Ie){C(R,O(W),ae,Ie)}),R}(O,b,C(R),{})}}function Mv(b,C){return function(O,R){var W;if(O===N&&R===N)return C;if(O!==N&&(W=O),R!==N){if(W===N)return R;"string"==typeof O||"string"==typeof R?(O=Ul(O),R=Ul(R)):(O=ZB(O),R=ZB(R)),W=b(O,R)}return W}}function yE(b){return Ku(function(C){return C=Qs(C,sr(wr())),Ge(function(O){var R=this;return b(C,function(W){return El(W,R,O)})})})}function vE(b,C){var O=(C=C===N?" ":Ul(C)).length;if(O<2)return O?F4(C,b):C;var R=F4(C,Z2(b/zp(C)));return zf(C)?Rd(ou(R),0,b).join(""):R.slice(0,b)}function Fg(b){return function(C,O,R){return R&&"number"!=typeof R&&fa(C,O,R)&&(O=R=N),C=Na(C),O===N?(O=C,C=0):O=Na(O),function XB(b,C,O,R){for(var W=-1,ae=Ko(Z2((C-b)/(O||1)),0),Ie=ct(ae);ae--;)Ie[R?ae:++W]=b,b+=O;return Ie}(C,O,R=R===N?C<O?1:-1:Na(R),b)}}function Bg(b){return function(C,O){return"string"==typeof C&&"string"==typeof O||(C=uu(C),O=uu(O)),b(C,O)}}function bE(b,C,O,R,W,ae,Ie,Ve,Xe,Mt){var Nt=8&C;C|=Nt?32:64,4&(C&=~(Nt?64:32))||(C&=-4);var ii=[b,C,W,Nt?ae:N,Nt?Ie:N,Nt?N:ae,Nt?N:Ie,Ve,Xe,Mt],Sr=O.apply(N,ii);return wE(b)&&Lv(Sr,ii),Sr.placeholder=R,Ek(Sr,b,C)}function W4(b){var C=Ei[b];return function(O,R){if(O=uu(O),(R=null==R?0:Ti(Fr(R),292))&&O0(O)){var W=(Qi(O)+"e").split("e");return+((W=(Qi(C(W[0]+"e"+(+W[1]+R)))+"e").split("e"))[0]+"e"+(+W[1]-R))}return C(O)}}var n$=wg&&1/Ia(new wg([,-0]))[1]==Fn?function(b){return new wg(b)}:BC;function lk(b){return function(C){var O=pa(C);return O==Bu?y4(C):O==Vu?function gg(Ue){var Et=-1,ct=Array(Ue.size);return Ue.forEach(function(Dn){ct[++Et]=[Dn,Dn]}),ct}(C):function RD(Ue,Et){return Qs(Et,function(ct){return[ct,Ue[ct]]})}(C,b(C))}}function rh(b,C,O,R,W,ae,Ie,Ve){var Xe=2&C;if(!Xe&&"function"!=typeof b)throw new Hu(Me);var Mt=R?R.length:0;if(Mt||(C&=-97,R=W=N),Ie=Ie===N?Ie:Ko(Fr(Ie),0),Ve=Ve===N?Ve:Fr(Ve),Mt-=W?W.length:0,64&C){var Nt=R,jt=W;R=W=N}var _n=Xe?N:N0(b),Gn=[b,C,O,R,W,Nt,jt,ae,Ie,Ve];if(_n&&function Q4(b,C){var O=b[1],R=C[1],W=O|R;if(!(W<131)&&!(128==R&&8==O||128==R&&256==O&&b[7].length<=C[8]||384==R&&C[7].length<=C[8]&&8==O))return b;1&R&&(b[2]=C[2],W|=1&O?0:4);var Ve=C[3];if(Ve){var Xe=b[3];b[3]=Xe?U4(Xe,Ve,C[4]):Ve,b[4]=Xe?Uf(b[3],xt):C[4]}(Ve=C[5])&&(b[5]=(Xe=b[5])?fE(Xe,Ve,C[6]):Ve,b[6]=Xe?Uf(b[5],xt):C[6]),(Ve=C[7])&&(b[7]=Ve),128&R&&(b[8]=null==b[8]?C[8]:Ti(b[8],C[8])),null==b[9]&&(b[9]=C[9]),b[0]=C[0],b[1]=W}(Gn,_n),b=Gn[0],C=Gn[1],O=Gn[2],R=Gn[3],W=Gn[4],!(Ve=Gn[9]=Gn[9]===N?Xe?0:b.length:Ko(Gn[9]-Mt,0))&&24&C&&(C&=-25),C&&1!=C)yr=8==C||16==C?function t$(b,C,O){var R=Gl(b);return function W(){for(var ae=arguments.length,Ie=ct(ae),Ve=ae,Xe=Kp(W);Ve--;)Ie[Ve]=arguments[Ve];var Mt=ae<3&&Ie[0]!==Xe&&Ie[ae-1]!==Xe?[]:Uf(Ie,Xe);return(ae-=Mt.length)<O?bE(b,C,I0,W.placeholder,N,Ie,Mt,N,N,O-ae):El(this&&this!==Po&&this instanceof W?R:b,this,Ie)}}(b,C,Ve):32!=C&&33!=C||W.length?I0.apply(N,Gn):function Lg(b,C,O,R){var W=1&C,ae=Gl(b);return function Ie(){for(var Ve=-1,Xe=arguments.length,Mt=-1,Nt=R.length,jt=ct(Nt+Xe),_n=this&&this!==Po&&this instanceof Ie?ae:b;++Mt<Nt;)jt[Mt]=R[Mt];for(;Xe--;)jt[Mt++]=arguments[++Ve];return El(_n,W?O:this,jt)}}(b,C,O,R);else var yr=function ak(b,C,O){var R=1&C,W=Gl(b);return function ae(){return(this&&this!==Po&&this instanceof ae?W:b).apply(R?O:this,arguments)}}(b,C,O);return Ek((_n?Zr:Lv)(yr,Gn),b,C)}function r$(b,C,O,R){return b===N||kc(b,x0[O])&&!Ui.call(R,O)?C:b}function ck(b,C,O,R,W,ae){return Ss(b)&&Ss(C)&&(ae.set(C,b),Mg(b,C,N,ck,ae),ae.delete(C)),b}function uk(b){return Kg(b)?N:b}function G4(b,C,O,R,W,ae){var Ie=1&O,Ve=b.length,Xe=C.length;if(Ve!=Xe&&!(Ie&&Xe>Ve))return!1;var Mt=ae.get(b),Nt=ae.get(C);if(Mt&&Nt)return Mt==C&&Nt==b;var jt=-1,_n=!0,Gn=2&O?new Up:N;for(ae.set(b,C),ae.set(C,b);++jt<Ve;){var yr=b[jt],ii=C[jt];if(R)var Sr=Ie?R(ii,yr,jt,C,b,ae):R(yr,ii,jt,b,C,ae);if(Sr!==N){if(Sr)continue;_n=!1;break}if(Gn){if(!u4(C,function(ci,xi){if(!on(Gn,xi)&&(yr===ci||W(yr,ci,O,R,ae)))return Gn.push(xi)})){_n=!1;break}}else if(yr!==ii&&!W(yr,ii,O,R,ae)){_n=!1;break}}return ae.delete(b),ae.delete(C),_n}function Ku(b){return Z4(Rv(b,N,J4),b+"")}function R0(b){return D4(b,Do,Y4)}function K4(b){return D4(b,Za,Iv)}var N0=P0?function(b){return P0.get(b)}:BC;function Vg(b){for(var C=b.name+"",O=Pi[C],R=Ui.call(Pi,C)?O.length:0;R--;){var W=O[R],ae=W.func;if(null==ae||ae==b)return W.name}return C}function Kp(b){return(Ui.call(ee,"placeholder")?ee:b).placeholder}function wr(){var b=ee.iteratee||FC;return b=b===FC?aE:b,arguments.length?b(arguments[0],arguments[1]):b}function Av(b,C){var O=b.__data__;return function s$(b){var C=typeof b;return"string"==C||"number"==C||"symbol"==C||"boolean"==C?"__proto__"!==b:null===b}(C)?O["string"==typeof C?"string":"hash"]:O.map}function _E(b){for(var C=Do(b),O=C.length;O--;){var R=C[O],W=b[R];C[O]=[R,W,eo(W)]}return C}function L0(b,C){var O=function IB(Ue,Et){return null==Ue?N:Ue[Et]}(b,C);return Dg(O)?O:N}var Y4=_v?function(b){return null==b?[]:(b=ni(b),jp(_v(b),function(C){return Gf.call(b,C)}))}:ZE,Iv=_v?function(b){for(var C=[];b;)Vf(C,Y4(b)),b=S0(b);return C}:ZE,pa=kr;function xE(b,C,O){for(var R=-1,W=(C=nh(C,b)).length,ae=!1;++R<W;){var Ie=Xu(C[R]);if(!(ae=null!=b&&O(b,Ie)))break;b=b[Ie]}return ae||++R!=W?ae:!!(W=null==b?0:b.length)&&Wg(W)&&Yp(Ie,W)&&(Lr(b)||Xl(b))}function X4(b){return"function"!=typeof b.constructor||Yu(b)?{}:xl(S0(b))}function mk(b){return Lr(b)||Xl(b)||!!(BD&&b&&b[BD])}function Yp(b,C){var O=typeof b;return!!(C=C??Hn)&&("number"==O||"symbol"!=O&&Bp.test(b))&&b>-1&&b%1==0&&b<C}function fa(b,C,O){if(!Ss(O))return!1;var R=typeof C;return!!("number"==R?ha(O)&&Yp(C,O.length):"string"==R&&C in O)&&kc(O[C],b)}function F0(b,C){if(Lr(b))return!1;var O=typeof b;return!("number"!=O&&"symbol"!=O&&"boolean"!=O&&null!=b&&!Ql(b))||n4.test(b)||!iB.test(b)||null!=C&&b in ni(C)}function wE(b){var C=Vg(b),O=ee[C];if("function"!=typeof O||!(C in ri.prototype))return!1;if(b===O)return!0;var R=N0(O);return!!R&&b===R[0]}(x4&&pa(new x4(new ArrayBuffer(1)))!=h0||Ev&&pa(new Ev)!=Bu||w4&&pa(w4.resolve())!=ov||wg&&pa(new wg)!=Vu||xv&&pa(new xv)!=f0)&&(pa=function(b){var C=kr(b),O=C==$u?b.constructor:N,R=O?B0(O):"";if(R)switch(R){case Ht:return h0;case gr:return Bu;case Zs:return ov;case Ga:return Vu;case aa:return f0}return C});var ih=w0?Vd:oh;function Yu(b){var C=b&&b.constructor;return b===("function"==typeof C&&C.prototype||x0)}function eo(b){return b==b&&!Ss(b)}function yk(b,C){return function(O){return null!=O&&O[b]===C&&(C!==N||b in ni(O))}}function Rv(b,C,O){return C=Ko(C===N?b.length-1:C,0),function(){for(var R=arguments,W=-1,ae=Ko(R.length-C,0),Ie=ct(ae);++W<ae;)Ie[W]=R[C+W];W=-1;for(var Ve=ct(C+1);++W<C;)Ve[W]=R[W];return Ve[C]=O(Ie),El(b,this,Ve)}}function bk(b,C){return C.length<2?b:th(b,fo(C,0,-1))}function Nv(b,C){if(("constructor"!==C||"function"!=typeof b[C])&&"__proto__"!=C)return b[C]}var Lv=xk(Zr),jg=$B||function(b,C){return Po.setTimeout(b,C)},Z4=xk(nk);function Ek(b,C,O){var R=C+"";return Z4(b,function hk(b,C){var O=C.length;if(!O)return b;var R=O-1;return C[R]=(O>1?"& ":"")+C[R],C=C.join(O>2?", ":" "),b.replace(vl,"{\n/* [wrapped with "+C+"] */\n")}(R,function a$(b,C){return Sc(cs,function(O){var R="_."+O[0];C&O[1]&&!Dr(b,R)&&b.push(R)}),b.sort()}(function EE(b){var C=b.match(SD);return C?C[1].split(oB):[]}(R),O)))}function xk(b){var C=0,O=0;return function(){var R=VD(),W=16-(R-O);if(O=R,W>0){if(++C>=800)return arguments[0]}else C=0;return b.apply(N,arguments)}}function Fv(b,C){var O=-1,R=b.length,W=R-1;for(C=C===N?R:C;++O<C;){var ae=L4(O,W),Ie=b[ae];b[ae]=b[O],b[O]=Ie}return b.length=C,b}var wk=function Xa(b){var C=$d(b,function(R){return 500===O.size&&O.clear(),R}),O=C.cache;return C}(function(b){var C=[];return 46===b.charCodeAt(0)&&C.push(""),b.replace(sB,function(O,R,W,ae){C.push(W?ae.replace(g0,"$1"):R||O)}),C});function Xu(b){if("string"==typeof b||Ql(b))return b;var C=b+"";return"0"==C&&1/b==-Fn?"-0":C}function B0(b){if(null!=b){try{return E4.call(b)}catch{}try{return b+""}catch{}}return""}function l$(b){if(b instanceof ri)return b.clone();var C=new ca(b.__wrapped__,b.__chain__);return C.__actions__=Wl(b.__actions__),C.__index__=b.__index__,C.__values__=b.__values__,C}var Wie=Ge(function(b,C){return to(b)?rE(b,da(C,1,to,!0)):[]}),c$=Ge(function(b,C){var O=Sl(C);return to(O)&&(O=N),to(b)?rE(b,da(C,1,to,!0),wr(O,2)):[]}),Gie=Ge(function(b,C){var O=Sl(C);return to(O)&&(O=N),to(b)?rE(b,da(C,1,to,!0),N,O):[]});function zg(b,C,O){var R=null==b?0:b.length;if(!R)return-1;var W=null==O?0:Fr(O);return W<0&&(W=Ko(R+W,0)),Aa(b,wr(C,3),W)}function d$(b,C,O){var R=null==b?0:b.length;if(!R)return-1;var W=R-1;return O!==N&&(W=Fr(O),W=O<0?Ko(R+W,0):Ti(W,R-1)),Aa(b,wr(C,3),W,!0)}function J4(b){return null!=b&&b.length?da(b,1):[]}function Pk(b){return b&&b.length?b[0]:N}var Dk=Ge(function(b){var C=Qs(b,V4);return C.length&&C[0]===b[0]?Wp(C):[]}),kk=Ge(function(b){var C=Sl(b),O=Qs(b,V4);return C===Sl(O)?C=N:O.pop(),O.length&&O[0]===b[0]?Wp(O,wr(C,2)):[]}),Kie=Ge(function(b){var C=Sl(b),O=Qs(b,V4);return(C="function"==typeof C?C:N)&&O.pop(),O.length&&O[0]===b[0]?Wp(O,N,C):[]});function Sl(b){var C=null==b?0:b.length;return C?b[C-1]:N}var h$=Ge(CE);function CE(b,C){return b&&b.length&&C&&C.length?N4(b,C):b}var nC=Ku(function(b,C){var O=null==b?0:b.length,R=WD(b,C);return tk(b,Qs(C,function(W){return Yp(W,O)?+W:W}).sort(H4)),R});function SE(b){return null==b?b:zB.call(b)}var Hg=Ge(function(b){return Gp(da(b,1,to,!0))}),Zu=Ge(function(b){var C=Sl(b);return to(C)&&(C=N),Gp(da(b,1,to,!0),wr(C,2))}),Rk=Ge(function(b){var C=Sl(b);return C="function"==typeof C?C:N,Gp(da(b,1,to,!0),N,C)});function Ug(b){if(!b||!b.length)return[];var C=0;return b=jp(b,function(O){if(to(O))return C=Ko(O.length,C),!0}),m4(C,function(O){return Qs(b,pv(O))})}function iC(b,C){if(!b||!b.length)return[];var O=Ug(b);return null==C?O:Qs(O,function(R){return El(C,N,R)})}var x$=Ge(function(b,C){return to(b)?rE(b,C):[]}),w$=Ge(function(b){return ql(jp(b,to))}),$v=Ge(function(b){var C=Sl(b);return to(C)&&(C=N),ql(jp(b,to),wr(C,2))}),C$=Ge(function(b){var C=Sl(b);return C="function"==typeof C?C:N,ql(jp(b,to),N,C)}),sC=Ge(Ug),jv=Ge(function(b){var C=b.length,O=C>1?b[C-1]:N;return O="function"==typeof O?(b.pop(),O):N,iC(b,O)});function oC(b){var C=ee(b);return C.__chain__=!0,C}function $0(b,C){return C(b)}var S$=Ku(function(b){var C=b.length,O=C?b[0]:0,R=this.__wrapped__,W=function(ae){return WD(ae,b)};return!(C>1||this.__actions__.length)&&R instanceof ri&&Yp(O)?((R=R.slice(O,+O+(C?1:0))).__actions__.push({func:$0,args:[W],thisArg:N}),new ca(R,this.__chain__).thru(function(ae){return C&&!ae.length&&ae.push(N),ae})):this.thru(W)}),lC=hE(function(b,C,O){Ui.call(b,O)?++b[O]:Zf(b,O,1)}),Yl=mE(zg),zv=mE(d$);function dC(b,C){return(Lr(b)?Sc:Jf)(b,wr(C,3))}function Vk(b,C){return(Lr(b)?Vp:T4)(b,wr(C,3))}var jk=hE(function(b,C,O){Ui.call(b,O)?b[O].push(C):Zf(b,O,[C])}),zk=Ge(function(b,C,O){var R=-1,W="function"==typeof C,ae=ha(b)?ct(b.length):[];return Jf(b,function(Ie){ae[++R]=W?El(C,Ie,O):Xo(Ie,C,O)}),ae}),A$=hE(function(b,C,O){Zf(b,O,C)});function TE(b,C){return(Lr(b)?Qs:ZD)(b,wr(C,3))}var R$=hE(function(b,C,O){b[O?0:1].push(C)},function(){return[[],[]]}),N$=Ge(function(b,C){if(null==b)return[];var O=C.length;return O>1&&fa(b,C[0],C[1])?C=[]:O>2&&fa(C[0],C[1],C[2])&&(C=[C[0]]),ek(b,da(C,1),[])}),DE=BB||function(){return Po.Date.now()};function Xk(b,C,O){return C=O?N:C,rh(b,128,N,N,N,N,C=b&&null==C?b.length:C)}function Qk(b,C){var O;if("function"!=typeof C)throw new Hu(Me);return b=Fr(b),function(){return--b>0&&(O=C.apply(this,arguments)),b<=1&&(C=N),O}}var kE=Ge(function(b,C,O){var R=1;if(O.length){var W=Uf(O,Kp(kE));R|=32}return rh(b,R,C,O,W)}),Zk=Ge(function(b,C,O){var R=3;if(O.length){var W=Uf(O,Kp(Zk));R|=32}return rh(C,R,b,O,W)});function pC(b,C,O){var R,W,ae,Ie,Ve,Xe,Mt=0,Nt=!1,jt=!1,_n=!0;if("function"!=typeof b)throw new Hu(Me);function Gn(Co){var pu=R,jd=W;return R=W=N,Mt=Co,Ie=b.apply(jd,pu)}function Sr(Co){var pu=Co-Xe;return Xe===N||pu>=C||pu<0||jt&&Co-Mt>=ae}function ci(){var Co=DE();if(Sr(Co))return xi(Co);Ve=jg(ci,function ii(Co){var IM=C-(Co-Xe);return jt?Ti(IM,ae-(Co-Mt)):IM}(Co))}function xi(Co){return Ve=N,_n&&R?Gn(Co):(R=W=N,Ie)}function Ic(){var Co=DE(),pu=Sr(Co);if(R=arguments,W=this,Xe=Co,pu){if(Ve===N)return function yr(Co){return Mt=Co,Ve=jg(ci,C),Nt?Gn(Co):Ie}(Xe);if(jt)return dE(Ve),Ve=jg(ci,C),Gn(Xe)}return Ve===N&&(Ve=jg(ci,C)),Ie}return C=uu(C)||0,Ss(O)&&(Nt=!!O.leading,ae=(jt="maxWait"in O)?Ko(uu(O.maxWait)||0,C):ae,_n="trailing"in O?!!O.trailing:_n),Ic.cancel=function Ac(){Ve!==N&&dE(Ve),Mt=0,R=Xe=W=Ve=N},Ic.flush=function Pl(){return Ve===N?Ie:xi(DE())},Ic}var fC=Ge(function(b,C){return qB(b,1,C)}),F$=Ge(function(b,C,O){return qB(b,uu(C)||0,O)});function $d(b,C){if("function"!=typeof b||null!=C&&"function"!=typeof C)throw new Hu(Me);var O=function(){var R=arguments,W=C?C.apply(this,R):R[0],ae=O.cache;if(ae.has(W))return ae.get(W);var Ie=b.apply(this,R);return O.cache=ae.set(W,Ie)||ae,Ie};return O.cache=new($d.Cache||ua),O}function ME(b){if("function"!=typeof b)throw new Hu(Me);return function(){var C=arguments;switch(C.length){case 0:return!b.call(this);case 1:return!b.call(this,C[0]);case 2:return!b.call(this,C[0],C[1]);case 3:return!b.call(this,C[0],C[1],C[2])}return!b.apply(this,C)}}$d.Cache=ua;var AE=JB(function(b,C){var O=(C=1==C.length&&Lr(C[0])?Qs(C[0],sr(wr())):Qs(da(C,1),sr(wr()))).length;return Ge(function(R){for(var W=-1,ae=Ti(R.length,O);++W<ae;)R[W]=C[W].call(this,R[W]);return El(b,this,R)})}),tM=Ge(function(b,C){var O=Uf(C,Kp(tM));return rh(b,32,N,C,O)}),B$=Ge(function(b,C){var O=Uf(C,Kp(B$));return rh(b,64,N,C,O)}),nM=Ku(function(b,C){return rh(b,256,N,N,N,C)});function kc(b,C){return b===C||b!=b&&C!=C}var Hv=Bg(Ov),RE=Bg(function(b,C){return b>=C}),Xl=XD(function(){return arguments}())?XD:function(b){return ps(b)&&Ui.call(b,"callee")&&!Gf.call(b,"callee")},Lr=ct.isArray,NE=CB?sr(CB):function k4(b){return ps(b)&&kr(b)==Wa};function ha(b){return null!=b&&Wg(b.length)&&!Vd(b)}function to(b){return ps(b)&&ha(b)}var Ju=$D||oh,iM=SB?sr(SB):function KB(b){return ps(b)&&kr(b)==lg};function LE(b){if(!ps(b))return!1;var C=kr(b);return C==sv||"[object DOMException]"==C||"string"==typeof b.message&&"string"==typeof b.name&&!Kg(b)}function Vd(b){if(!Ss(b))return!1;var C=kr(b);return C==P2||C==bD||"[object AsyncFunction]"==C||"[object Proxy]"==C}function EC(b){return"number"==typeof b&&b==Fr(b)}function Wg(b){return"number"==typeof b&&b>-1&&b%1==0&&b<=Hn}function Ss(b){var C=typeof b;return null!=b&&("object"==C||"function"==C)}function ps(b){return null!=b&&"object"==typeof b}var xC=OB?sr(OB):function M4(b){return ps(b)&&pa(b)==Bu};function CC(b){return"number"==typeof b||ps(b)&&kr(b)==D2}function Kg(b){if(!ps(b)||kr(b)!=$u)return!1;var C=S0(b);if(null===C)return!0;var O=Ui.call(C,"constructor")&&C.constructor;return"function"==typeof O&&O instanceof O&&E4.call(O)==FD}var BE=TB?sr(TB):function A4(b){return ps(b)&&kr(b)==p0},SC=H2?sr(H2):function kg(b){return ps(b)&&pa(b)==Vu};function $E(b){return"string"==typeof b||!Lr(b)&&ps(b)&&kr(b)==k2}function Ql(b){return"symbol"==typeof b||ps(b)&&kr(b)==Li}var Uv=_0?sr(_0):function oE(b){return ps(b)&&Wg(b.length)&&!!js[kr(b)]},rs=Bg(Tv),Yg=Bg(function(b,C){return b<=C});function j0(b){if(!b)return[];if(ha(b))return $E(b)?ou(b):Wl(b);if(bv&&b[bv])return function g4(Ue){for(var Et,ct=[];!(Et=Ue.next()).done;)ct.push(Et.value);return ct}(b[bv]());var C=pa(b);return(C==Bu?y4:C==Vu?Ia:U0)(b)}function Na(b){return b?(b=uu(b))===Fn||b===-Fn?17976931348623157e292*(b<0?-1:1):b==b?b:0:0===b?b:0}function Fr(b){var C=Na(b),O=C%1;return C==C?O?C-O:C:0}function qv(b){return b?Tg(Fr(b),0,cr):0}function uu(b){if("number"==typeof b)return b;if(Ql(b))return NaN;if(Ss(b)){var C="function"==typeof b.valueOf?b.valueOf():b;b=Ss(C)?C+"":C}if("string"!=typeof b)return 0===b?b:+b;b=ND(b);var O=Fp.test(b);return O||uB.test(b)?wB(b.slice(2),O?2:8):cB.test(b)?NaN:+b}function cM(b){return xs(b,Za(b))}function Qi(b){return null==b?"":Ul(b)}var Qg=Ng(function(b,C){if(Yu(C)||ha(C))xs(C,Do(C),b);else for(var O in C)Ui.call(C,O)&&nE(b,O,C[O])}),uM=Ng(function(b,C){xs(C,Za(C),b)}),Wv=Ng(function(b,C,O,R){xs(C,Za(C),b,R)}),Gv=Ng(function(b,C,O,R){xs(C,Do(C),b,R)}),jE=Ku(WD),pM=Ge(function(b,C){b=ni(b);var O=-1,R=C.length,W=R>2?C[2]:N;for(W&&fa(C[0],C[1],W)&&(R=1);++O<R;)for(var ae=C[O],Ie=Za(ae),Ve=-1,Xe=Ie.length;++Ve<Xe;){var Mt=Ie[Ve],Nt=b[Mt];(Nt===N||kc(Nt,x0[Mt])&&!Ui.call(b,Mt))&&(b[Mt]=ae[Mt])}return b}),Kv=Ge(function(b){return b.push(N,ck),El(z0,N,b)});function TC(b,C,O){var R=null==b?N:th(b,C);return R===N?O:R}function zE(b,C){return null!=b&&xE(b,C,Cl)}var G$=gE(function(b,C,O){null!=C&&"function"!=typeof C.toString&&(C=yv.call(C)),b[C]=O},LC(Tl)),ise=gE(function(b,C,O){null!=C&&"function"!=typeof C.toString&&(C=yv.call(C)),Ui.call(b,C)?b[C].push(O):b[C]=[O]},wr),HE=Ge(Xo);function Do(b){return ha(b)?UD(b):Gu(b)}function Za(b){return ha(b)?UD(b,!0):function I4(b){if(!Ss(b))return function o$(b){var C=[];if(null!=b)for(var O in ni(b))C.push(O);return C}(b);var C=Yu(b),O=[];for(var R in b)"constructor"==R&&(C||!Ui.call(b,R))||O.push(R);return O}(b)}var qE=Ng(function(b,C,O){Mg(b,C,O)}),z0=Ng(function(b,C,O,R){Mg(b,C,O,R)}),PC=Ku(function(b,C){var O={};if(null==b)return O;var R=!1;C=Qs(C,function(ae){return ae=nh(ae,b),R||(R=ae.length>1),ae}),xs(b,K4(b),O),R&&(O=Dc(O,7,uk));for(var W=C.length;W--;)Ig(O,C[W]);return O}),mM=Ku(function(b,C){return null==b?{}:function YB(b,C){return lE(b,C,function(O,R){return zE(b,R)})}(b,C)});function kC(b,C){if(null==b)return{};var O=Qs(K4(b),function(R){return[R]});return C=wr(C),lE(b,O,function(R,W){return C(R,W[0])})}var H0=lk(Do),Jg=lk(Za);function U0(b){return null==b?[]:W2(b,Do(b))}var ose=Nd(function(b,C,O){return C=C.toLowerCase(),b+(O?WE(C):C)});function WE(b){return RC(Qi(b).toLowerCase())}function J$(b){return(b=Qi(b))&&b.replace(Aie,kB).replace(Fie,"")}var bM=Nd(function(b,C,O){return b+(O?"-":"")+C.toLowerCase()}),tV=Nd(function(b,C,O){return b+(O?" ":"")+C.toLowerCase()}),nV=q4("toLowerCase"),AC=Nd(function(b,C,O){return b+(O?"_":"")+C.toLowerCase()}),ase=Nd(function(b,C,O){return b+(O?" ":"")+RC(C)}),wM=Nd(function(b,C,O){return b+(O?" ":"")+C.toUpperCase()}),RC=q4("toUpperCase");function NC(b,C,O){return b=Qi(b),(C=O?N:C)===N?function RB(Ue){return $ie.test(Ue)}(b)?function NB(Ue){return Ue.match(Bie)||[]}(b):function p4(Ue){return Ue.match(aB)||[]}(b):b.match(C)||[]}var YE=Ge(function(b,C){try{return El(b,N,C)}catch(O){return LE(O)?O:new or(O)}}),CM=Ku(function(b,C){return Sc(C,function(O){O=Xu(O),Zf(b,O,kE(b[O],b))}),b});function LC(b){return function(){return b}}var lV=kv(),cV=kv(!0);function Tl(b){return b}function FC(b){return aE("function"==typeof b?b:Dc(b,1))}var pV=Ge(function(b,C){return function(O){return Xo(O,b,C)}}),fV=Ge(function(b,C){return function(O){return Xo(b,O,C)}});function Jv(b,C,O){var R=Do(C),W=Ri(C,R);null==O&&(!Ss(C)||!W.length&&R.length)&&(O=C,C=b,b=this,W=Ri(C,Do(C)));var ae=!(Ss(O)&&"chain"in O&&!O.chain),Ie=Vd(b);return Sc(W,function(Ve){var Xe=C[Ve];b[Ve]=Xe,Ie&&(b.prototype[Ve]=function(){var Mt=this.__chain__;if(ae||Mt){var Nt=b(this.__wrapped__);return(Nt.__actions__=Wl(this.__actions__)).push({func:Xe,args:arguments,thisArg:b}),Nt.__chain__=Mt,Nt}return Xe.apply(b,Vf([this.value()],arguments))})}),b}function BC(){}var OM=yE(Qs),mV=yE(mg),TM=yE(u4);function XE(b){return F0(b)?pv(Xu(b)):function M0(b){return function(C){return th(C,b)}}(b)}var du=Fg(),QE=Fg(!0);function ZE(){return[]}function oh(){return!1}var MM=Mv(function(b,C){return b+C},0),yV=W4("ceil"),vV=Mv(function(b,C){return b/C},1),bV=W4("floor"),fse=Mv(function(b,C){return b*C},1),hse=W4("round"),mse=Mv(function(b,C){return b-C},0);return ee.after=function L$(b,C){if("function"!=typeof C)throw new Hu(Me);return b=Fr(b),function(){if(--b<1)return C.apply(this,arguments)}},ee.ary=Xk,ee.assign=Qg,ee.assignIn=uM,ee.assignInWith=Wv,ee.assignWith=Gv,ee.at=jE,ee.before=Qk,ee.bind=kE,ee.bindAll=CM,ee.bindKey=Zk,ee.castArray=function z$(){if(!arguments.length)return[];var b=arguments[0];return Lr(b)?b:[b]},ee.chain=oC,ee.chunk=function Ck(b,C,O){C=(O?fa(b,C,O):C===N)?1:Ko(Fr(C),0);var R=null==b?0:b.length;if(!R||C<1)return[];for(var W=0,ae=0,Ie=ct(Z2(R/C));W<R;)Ie[ae++]=fo(b,W,W+=C);return Ie},ee.compact=function Sk(b){for(var C=-1,O=null==b?0:b.length,R=0,W=[];++C<O;){var ae=b[C];ae&&(W[R++]=ae)}return W},ee.concat=function Ra(){var b=arguments.length;if(!b)return[];for(var C=ct(b-1),O=arguments[0],R=b;R--;)C[R-1]=arguments[R];return Vf(Lr(O)?Wl(O):[O],da(C,1))},ee.cond=function q0(b){var C=null==b?0:b.length,O=wr();return b=C?Qs(b,function(R){if("function"!=typeof R[1])throw new Hu(Me);return[O(R[0]),R[1]]}):[],Ge(function(R){for(var W=-1;++W<C;){var ae=b[W];if(El(ae[0],this,R))return El(ae[1],this,R)}})},ee.conforms=function SM(b){return function GD(b){var C=Do(b);return function(O){return UB(O,b,C)}}(Dc(b,1))},ee.constant=LC,ee.countBy=lC,ee.create=function dM(b,C){var O=xl(b);return null==C?O:O4(O,C)},ee.curry=function Jk(b,C,O){var R=rh(b,8,N,N,N,N,N,C=O?N:C);return R.placeholder=Jk.placeholder,R},ee.curryRight=function eM(b,C,O){var R=rh(b,16,N,N,N,N,N,C=O?N:C);return R.placeholder=eM.placeholder,R},ee.debounce=pC,ee.defaults=pM,ee.defaultsDeep=Kv,ee.defer=fC,ee.delay=F$,ee.difference=Wie,ee.differenceBy=c$,ee.differenceWith=Gie,ee.drop=function Ok(b,C,O){var R=null==b?0:b.length;return R?fo(b,(C=O||C===N?1:Fr(C))<0?0:C,R):[]},ee.dropRight=function sh(b,C,O){var R=null==b?0:b.length;return R?fo(b,0,(C=R-(C=O||C===N?1:Fr(C)))<0?0:C):[]},ee.dropRightWhile=function Tk(b,C){return b&&b.length?cu(b,wr(C,3),!0,!0):[]},ee.dropWhile=function u$(b,C){return b&&b.length?cu(b,wr(C,3),!0):[]},ee.fill=function Xp(b,C,O,R){var W=null==b?0:b.length;return W?(O&&"number"!=typeof O&&fa(b,C,O)&&(O=0,R=W),function WB(b,C,O,R){var W=b.length;for((O=Fr(O))<0&&(O=-O>W?0:W+O),(R=R===N||R>W?W:Fr(R))<0&&(R+=W),R=O>R?0:qv(R);O<R;)b[O++]=C;return b}(b,C,O,R)):[]},ee.filter=function cC(b,C){return(Lr(b)?jp:KD)(b,wr(C,3))},ee.flatMap=function uC(b,C){return da(TE(b,C),1)},ee.flatMapDeep=function $k(b,C){return da(TE(b,C),Fn)},ee.flatMapDepth=function k$(b,C,O){return O=O===N?1:Fr(O),da(TE(b,C),O)},ee.flatten=J4,ee.flattenDeep=function eC(b){return null!=b&&b.length?da(b,Fn):[]},ee.flattenDepth=function Qp(b,C){return null!=b&&b.length?da(b,C=C===N?1:Fr(C)):[]},ee.flip=function Bd(b){return rh(b,512)},ee.flow=lV,ee.flowRight=cV,ee.fromPairs=function p$(b){for(var C=-1,O=null==b?0:b.length,R={};++C<O;){var W=b[C];R[W[0]]=W[1]}return R},ee.functions=function fM(b){return null==b?[]:Ri(b,Do(b))},ee.functionsIn=function hM(b){return null==b?[]:Ri(b,Za(b))},ee.groupBy=jk,ee.initial=function Bv(b){return null!=b&&b.length?fo(b,0,-1):[]},ee.intersection=Dk,ee.intersectionBy=kk,ee.intersectionWith=Kie,ee.invert=G$,ee.invertBy=ise,ee.invokeMap=zk,ee.iteratee=FC,ee.keyBy=A$,ee.keys=Do,ee.keysIn=Za,ee.map=TE,ee.mapKeys=function Zg(b,C){var O={};return C=wr(C,3),lu(b,function(R,W,ae){Zf(O,C(R,W,ae),R)}),O},ee.mapValues=function UE(b,C){var O={};return C=wr(C,3),lu(b,function(R,W,ae){Zf(O,W,C(R,W,ae))}),O},ee.matches=function uV(b){return Mr(Dc(b,1))},ee.matchesProperty=function dV(b,C){return Pv(b,Dc(C,1))},ee.memoize=$d,ee.merge=qE,ee.mergeWith=z0,ee.method=pV,ee.methodOf=fV,ee.mixin=Jv,ee.negate=ME,ee.nthArg=function $C(b){return b=Fr(b),Ge(function(C){return JD(C,b)})},ee.omit=PC,ee.omitBy=function DC(b,C){return kC(b,ME(wr(C)))},ee.once=function hC(b){return Qk(2,b)},ee.orderBy=function I$(b,C,O,R){return null==b?[]:(Lr(C)||(C=null==C?[]:[C]),Lr(O=R?N:O)||(O=null==O?[]:[O]),ek(b,C,O))},ee.over=OM,ee.overArgs=AE,ee.overEvery=mV,ee.overSome=TM,ee.partial=tM,ee.partialRight=B$,ee.partition=R$,ee.pick=mM,ee.pickBy=kC,ee.property=XE,ee.propertyOf=function VC(b){return function(C){return null==b?N:th(b,C)}},ee.pull=h$,ee.pullAll=CE,ee.pullAllBy=function m$(b,C,O){return b&&b.length&&C&&C.length?N4(b,C,wr(O,2)):b},ee.pullAllWith=function g$(b,C,O){return b&&b.length&&C&&C.length?N4(b,C,N,O):b},ee.pullAt=nC,ee.range=du,ee.rangeRight=QE,ee.rearg=nM,ee.reject=function qk(b,C){return(Lr(b)?jp:KD)(b,ME(wr(C,3)))},ee.remove=function Mk(b,C){var O=[];if(!b||!b.length)return O;var R=-1,W=[],ae=b.length;for(C=wr(C,3);++R<ae;){var Ie=b[R];C(Ie,R,b)&&(O.push(Ie),W.push(R))}return tk(b,W),O},ee.rest=function $$(b,C){if("function"!=typeof b)throw new Hu(Me);return Ge(b,C=C===N?C:Fr(C))},ee.reverse=SE,ee.sampleSize=function Wk(b,C,O){return C=(O?fa(b,C,O):C===N)?1:Fr(C),(Lr(b)?zie:Ot)(b,C)},ee.set=function K$(b,C,O){return null==b?b:St(b,C,O)},ee.setWith=function Y$(b,C,O,R){return R="function"==typeof R?R:N,null==b?b:St(b,C,O,R)},ee.shuffle=function Gk(b){return(Lr(b)?Hie:Dv)(b)},ee.slice=function rC(b,C,O){var R=null==b?0:b.length;return R?(O&&"number"!=typeof O&&fa(b,C,O)?(C=0,O=R):(C=null==C?0:Fr(C),O=O===N?R:Fr(O)),fo(b,C,O)):[]},ee.sortBy=N$,ee.sortedUniq=function Ik(b){return b&&b.length?QB(b):[]},ee.sortedUniqBy=function Yie(b,C){return b&&b.length?QB(b,wr(C,2)):[]},ee.split=function sV(b,C,O){return O&&"number"!=typeof O&&fa(b,C,O)&&(C=O=N),(O=O===N?cr:O>>>0)?(b=Qi(b))&&("string"==typeof C||null!=C&&!BE(C))&&!(C=Ul(C))&&zf(b)?Rd(ou(b),0,O):b.split(C,O):[]},ee.spread=function V$(b,C){if("function"!=typeof b)throw new Hu(Me);return C=null==C?0:Ko(Fr(C),0),Ge(function(O){var R=O[C],W=Rd(O,0,C);return R&&Vf(W,R),El(b,this,W)})},ee.tail=function Xie(b){var C=null==b?0:b.length;return C?fo(b,1,C):[]},ee.take=function Qie(b,C,O){return b&&b.length?fo(b,0,(C=O||C===N?1:Fr(C))<0?0:C):[]},ee.takeRight=function Zie(b,C,O){var R=null==b?0:b.length;return R?fo(b,(C=R-(C=O||C===N?1:Fr(C)))<0?0:C,R):[]},ee.takeRightWhile=function Jie(b,C){return b&&b.length?cu(b,wr(C,3),!1,!0):[]},ee.takeWhile=function E$(b,C){return b&&b.length?cu(b,wr(C,3)):[]},ee.tap=function OE(b,C){return C(b),b},ee.throttle=function tse(b,C,O){var R=!0,W=!0;if("function"!=typeof b)throw new Hu(Me);return Ss(O)&&(R="leading"in O?!!O.leading:R,W="trailing"in O?!!O.trailing:W),pC(b,C,{leading:R,maxWait:C,trailing:W})},ee.thru=$0,ee.toArray=j0,ee.toPairs=H0,ee.toPairsIn=Jg,ee.toPath=function DM(b){return Lr(b)?Qs(b,Xu):Ql(b)?[b]:Wl(wk(Qi(b)))},ee.toPlainObject=cM,ee.transform=function gM(b,C,O){var R=Lr(b),W=R||Ju(b)||Uv(b);if(C=wr(C,4),null==O){var ae=b&&b.constructor;O=W?R?new ae:[]:Ss(b)&&Vd(ae)?xl(S0(b)):{}}return(W?Sc:lu)(b,function(Ie,Ve,Xe){return C(O,Ie,Ve,Xe)}),O},ee.unary=function j$(b){return Xk(b,1)},ee.union=Hg,ee.unionBy=Zu,ee.unionWith=Rk,ee.uniq=function Nk(b){return b&&b.length?Gp(b):[]},ee.uniqBy=function ese(b,C){return b&&b.length?Gp(b,wr(C,2)):[]},ee.uniqWith=function Fd(b,C){return C="function"==typeof C?C:N,b&&b.length?Gp(b,N,C):[]},ee.unset=function X$(b,C){return null==b||Ig(b,C)},ee.unzip=Ug,ee.unzipWith=iC,ee.update=function yM(b,C,O){return null==b?b:Ya(b,C,uE(O))},ee.updateWith=function sse(b,C,O,R){return R="function"==typeof R?R:N,null==b?b:Ya(b,C,uE(O),R)},ee.values=U0,ee.valuesIn=function Q$(b){return null==b?[]:W2(b,Za(b))},ee.without=x$,ee.words=NC,ee.wrap=function V0(b,C){return tM(uE(C),b)},ee.xor=w$,ee.xorBy=$v,ee.xorWith=C$,ee.zip=sC,ee.zipObject=function Lk(b,C){return Id(b||[],C||[],nE)},ee.zipObjectDeep=function Vv(b,C){return Id(b||[],C||[],St)},ee.zipWith=jv,ee.entries=H0,ee.entriesIn=Jg,ee.extend=uM,ee.extendWith=Wv,Jv(ee,ee),ee.add=MM,ee.attempt=YE,ee.camelCase=ose,ee.capitalize=WE,ee.ceil=yV,ee.clamp=function vM(b,C,O){return O===N&&(O=C,C=N),O!==N&&(O=(O=uu(O))==O?O:0),C!==N&&(C=(C=uu(C))==C?C:0),Tg(uu(b),C,O)},ee.clone=function mC(b){return Dc(b,4)},ee.cloneDeep=function yC(b){return Dc(b,5)},ee.cloneDeepWith=function rM(b,C){return Dc(b,5,C="function"==typeof C?C:N)},ee.cloneWith=function gC(b,C){return Dc(b,4,C="function"==typeof C?C:N)},ee.conformsTo=function IE(b,C){return null==C||UB(b,C,Do(C))},ee.deburr=J$,ee.defaultTo=function aV(b,C){return null==b||b!=b?C:b},ee.divide=vV,ee.endsWith=function GE(b,C,O){b=Qi(b),C=Ul(C);var R=b.length,W=O=O===N?R:Tg(Fr(O),0,R);return(O-=C.length)>=0&&b.slice(O,W)==C},ee.eq=kc,ee.escape=function Yv(b){return(b=Qi(b))&&e4.test(b)?b.replace(N2,MB):b},ee.escapeRegExp=function eV(b){return(b=Qi(b))&&xD.test(b)?b.replace(cv,"\\$&"):b},ee.every=function Bk(b,C,O){var R=Lr(b)?mg:eh;return O&&fa(b,C,O)&&(C=N),R(b,wr(C,3))},ee.find=Yl,ee.findIndex=zg,ee.findKey=function Ol(b,C){return f4(b,wr(C,3),lu)},ee.findLast=zv,ee.findLastIndex=d$,ee.findLastKey=function U$(b,C){return f4(b,wr(C,3),P4)},ee.floor=bV,ee.forEach=dC,ee.forEachRight=Vk,ee.forIn=function ma(b,C){return null==b?b:iE(b,wr(C,3),Za)},ee.forInRight=function q$(b,C){return null==b?b:YD(b,wr(C,3),Za)},ee.forOwn=function W$(b,C){return b&&lu(b,wr(C,3))},ee.forOwnRight=function OC(b,C){return b&&P4(b,wr(C,3))},ee.get=TC,ee.gt=Hv,ee.gte=RE,ee.has=function rse(b,C){return null!=b&&xE(b,C,Pg)},ee.hasIn=zE,ee.head=Pk,ee.identity=Tl,ee.includes=function M$(b,C,O,R){b=ha(b)?b:U0(b),O=O&&!R?Fr(O):0;var W=b.length;return O<0&&(O=Ko(W+O,0)),$E(b)?O<=W&&b.indexOf(C,O)>-1:!!W&&E0(b,C,O)>-1},ee.indexOf=function Qa(b,C,O){var R=null==b?0:b.length;if(!R)return-1;var W=null==O?0:Fr(O);return W<0&&(W=Ko(R+W,0)),E0(b,C,W)},ee.inRange=function Zp(b,C,O){return C=Na(C),O===N?(O=C,C=0):O=Na(O),function GB(b,C,O){return b>=Ti(C,O)&&b<Ko(C,O)}(b=uu(b),C,O)},ee.invoke=HE,ee.isArguments=Xl,ee.isArray=Lr,ee.isArrayBuffer=NE,ee.isArrayLike=ha,ee.isArrayLikeObject=to,ee.isBoolean=function vC(b){return!0===b||!1===b||ps(b)&&kr(b)==T2},ee.isBuffer=Ju,ee.isDate=iM,ee.isElement=function bC(b){return ps(b)&&1===b.nodeType&&!Kg(b)},ee.isEmpty=function qg(b){if(null==b)return!0;if(ha(b)&&(Lr(b)||"string"==typeof b||"function"==typeof b.splice||Ju(b)||Uv(b)||Xl(b)))return!b.length;var C=pa(b);if(C==Bu||C==Vu)return!b.size;if(Yu(b))return!Gu(b).length;for(var O in b)if(Ui.call(b,O))return!1;return!0},ee.isEqual=function sM(b,C){return Ka(b,C)},ee.isEqualWith=function oM(b,C,O){var R=(O="function"==typeof O?O:N)?O(b,C):N;return R===N?Ka(b,C,N,O):!!R},ee.isError=LE,ee.isFinite=function _C(b){return"number"==typeof b&&O0(b)},ee.isFunction=Vd,ee.isInteger=EC,ee.isLength=Wg,ee.isMap=xC,ee.isMatch=function Mc(b,C){return b===C||sE(b,C,_E(C))},ee.isMatchWith=function nse(b,C,O){return O="function"==typeof O?O:N,sE(b,C,_E(C),O)},ee.isNaN=function FE(b){return CC(b)&&b!=+b},ee.isNative=function H$(b){if(ih(b))throw new or("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dg(b)},ee.isNil=function wC(b){return null==b},ee.isNull=function Gg(b){return null===b},ee.isNumber=CC,ee.isObject=Ss,ee.isObjectLike=ps,ee.isPlainObject=Kg,ee.isRegExp=BE,ee.isSafeInteger=function aM(b){return EC(b)&&b>=-Hn&&b<=Hn},ee.isSet=SC,ee.isString=$E,ee.isSymbol=Ql,ee.isTypedArray=Uv,ee.isUndefined=function wo(b){return b===N},ee.isWeakMap=function VE(b){return ps(b)&&pa(b)==f0},ee.isWeakSet=function lM(b){return ps(b)&&"[object WeakSet]"==kr(b)},ee.join=function tC(b,C){return null==b?"":Eg.call(b,C)},ee.kebabCase=bM,ee.last=Sl,ee.lastIndexOf=function f$(b,C,O){var R=null==b?0:b.length;if(!R)return-1;var W=R;return O!==N&&(W=(W=Fr(O))<0?Ko(R+W,0):Ti(W,R-1)),C==C?function K2(Ue,Et,ct){for(var Dn=ct+1;Dn--;)if(Ue[Dn]===Et)return Dn;return Dn}(b,C,W):Aa(b,PB,W,!0)},ee.lowerCase=tV,ee.lowerFirst=nV,ee.lt=rs,ee.lte=Yg,ee.max=function _V(b){return b&&b.length?Sv(b,Tl,Ov):N},ee.maxBy=function EV(b,C){return b&&b.length?Sv(b,wr(C,2),Ov):N},ee.mean=function ah(b){return jf(b,Tl)},ee.meanBy=function eb(b,C){return jf(b,wr(C,2))},ee.min=function xV(b){return b&&b.length?Sv(b,Tl,Tv):N},ee.minBy=function pse(b,C){return b&&b.length?Sv(b,wr(C,2),Tv):N},ee.stubArray=ZE,ee.stubFalse=oh,ee.stubObject=function gV(){return{}},ee.stubString=function JE(){return""},ee.stubTrue=function jC(){return!0},ee.multiply=fse,ee.nth=function Wi(b,C){return b&&b.length?JD(b,Fr(C)):N},ee.noConflict=function hV(){return Po._===this&&(Po._=C0),this},ee.noop=BC,ee.now=DE,ee.pad=function _M(b,C,O){b=Qi(b);var R=(C=Fr(C))?zp(b):0;if(!C||R>=C)return b;var W=(C-R)/2;return vE(_g(W),O)+b+vE(Z2(W),O)},ee.padEnd=function EM(b,C,O){b=Qi(b);var R=(C=Fr(C))?zp(b):0;return C&&R<C?b+vE(C-R,O):b},ee.padStart=function rV(b,C,O){b=Qi(b);var R=(C=Fr(C))?zp(b):0;return C&&R<C?vE(C-R,O)+b:b},ee.parseInt=function iV(b,C,O){return O||null==C?C=0:C&&(C=+C),jB(Qi(b).replace(wD,""),C||0)},ee.random=function Z$(b,C,O){if(O&&"boolean"!=typeof O&&fa(b,C,O)&&(C=O=N),O===N&&("boolean"==typeof C?(O=C,C=N):"boolean"==typeof b&&(O=b,b=N)),b===N&&C===N?(b=0,C=1):(b=Na(b),C===N?(C=b,b=0):C=Na(C)),b>C){var R=b;b=C,C=R}if(O||b%1||C%1){var W=xg();return Ti(b+W*(C-b+AD("1e-"+((W+"").length-1))),C)}return L4(b,C)},ee.reduce=function Hk(b,C,O){var R=Lr(b)?U2:fv,W=arguments.length<3;return R(b,wr(C,4),O,W,Jf)},ee.reduceRight=function Uk(b,C,O){var R=Lr(b)?Vie:fv,W=arguments.length<3;return R(b,wr(C,4),O,W,T4)},ee.repeat=function Xv(b,C,O){return C=(O?fa(b,C,O):C===N)?1:Fr(C),F4(Qi(b),C)},ee.replace=function xM(){var b=arguments,C=Qi(b[0]);return b.length<3?C:C.replace(b[1],b[2])},ee.result=function MC(b,C,O){var R=-1,W=(C=nh(C,b)).length;for(W||(W=1,b=N);++R<W;){var ae=null==b?N:b[Xu(C[R])];ae===N&&(R=W,ae=O),b=Vd(ae)?ae.call(b):ae}return b},ee.round=hse,ee.runInContext=Ue,ee.sample=function PE(b){return(Lr(b)?Cv:Cr)(b)},ee.size=function Kk(b){if(null==b)return 0;if(ha(b))return $E(b)?zp(b):b.length;var C=pa(b);return C==Bu||C==Vu?b.size:Gu(b).length},ee.snakeCase=AC,ee.some=function Yk(b,C,O){var R=Lr(b)?u4:B4;return O&&fa(b,C,O)&&(C=N),R(b,wr(C,3))},ee.sortedIndex=function y$(b,C){return Ag(b,C)},ee.sortedIndexBy=function v$(b,C,O){return cE(b,C,wr(O,2))},ee.sortedIndexOf=function Ak(b,C){var O=null==b?0:b.length;if(O){var R=Ag(b,C);if(R<O&&kc(b[R],C))return R}return-1},ee.sortedLastIndex=function b$(b,C){return Ag(b,C,!0)},ee.sortedLastIndexBy=function Qu(b,C,O){return cE(b,C,wr(O,2),!0)},ee.sortedLastIndexOf=function _$(b,C){if(null!=b&&b.length){var R=Ag(b,C,!0)-1;if(kc(b[R],C))return R}return-1},ee.startCase=ase,ee.startsWith=function lse(b,C,O){return b=Qi(b),O=null==O?0:Tg(Fr(O),0,b.length),C=Ul(C),b.slice(O,O+C.length)==C},ee.subtract=mse,ee.sum=function gse(b){return b&&b.length?h4(b,Tl):0},ee.sumBy=function AM(b,C){return b&&b.length?h4(b,wr(C,2)):0},ee.template=function cse(b,C,O){var R=ee.templateSettings;O&&fa(b,C,O)&&(C=N),b=Qi(b),C=Wv({},C,R,r$);var Ve,Xe,W=Wv({},C.imports,R.imports,r$),ae=Do(W),Ie=W2(W,ae),Mt=0,Nt=C.interpolate||uv,jt="__p += '",_n=qf((C.escape||uv).source+"|"+Nt.source+"|"+(Nt===lv?OD:uv).source+"|"+(C.evaluate||uv).source+"|$","g"),Gn="//# sourceURL="+(Ui.call(C,"sourceURL")?(C.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++V2+"]")+"\n";b.replace(_n,function(Sr,ci,xi,Ac,Pl,Ic){return xi||(xi=Ac),jt+=b.slice(Mt,Ic).replace($t,AB),ci&&(Ve=!0,jt+="' +\n__e("+ci+") +\n'"),Pl&&(Xe=!0,jt+="';\n"+Pl+";\n__p += '"),xi&&(jt+="' +\n((__t = ("+xi+")) == null ? '' : __t) +\n'"),Mt=Ic+Sr.length,Sr}),jt+="';\n";var yr=Ui.call(C,"variable")&&C.variable;if(yr){if(lB.test(yr))throw new or("Invalid `variable` option passed into `_.template`")}else jt="with (obj) {\n"+jt+"\n}\n";jt=(Xe?jt.replace(J5,""):jt).replace(m0,"$1").replace(R2,"$1;"),jt="function("+(yr||"obj")+") {\n"+(yr?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Ve?", __e = _.escape":"")+(Xe?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+jt+"return __p\n}";var ii=YE(function(){return Rn(ae,Gn+"return "+jt).apply(N,Ie)});if(ii.source=jt,LE(ii))throw ii;return ii},ee.times=function PM(b,C){if((b=Fr(b))<1||b>Hn)return[];var O=cr,R=Ti(b,cr);C=wr(C),b-=cr;for(var W=m4(R,C);++O<b;)C(O);return W},ee.toFinite=Na,ee.toInteger=Fr,ee.toLength=qv,ee.toLower=function Qv(b){return Qi(b).toLowerCase()},ee.toNumber=uu,ee.toSafeInteger=function Xg(b){return b?Tg(Fr(b),-Hn,Hn):0===b?b:0},ee.toString=Qi,ee.toUpper=function oV(b){return Qi(b).toUpperCase()},ee.trim=function KE(b,C,O){if((b=Qi(b))&&(O||C===N))return ND(b);if(!b||!(C=Ul(C)))return b;var R=ou(b),W=ou(C);return Rd(R,hv(R,W),G2(R,W)+1).join("")},ee.trimEnd=function IC(b,C,O){if((b=Qi(b))&&(O||C===N))return b.slice(0,v4(b)+1);if(!b||!(C=Ul(C)))return b;var R=ou(b);return Rd(R,0,G2(R,ou(C))+1).join("")},ee.trimStart=function Zv(b,C,O){if((b=Qi(b))&&(O||C===N))return b.replace(wD,"");if(!b||!(C=Ul(C)))return b;var R=ou(b);return Rd(R,hv(R,ou(C))).join("")},ee.truncate=function use(b,C){var O=30,R="...";if(Ss(C)){var W="separator"in C?C.separator:W;O="length"in C?Fr(C.length):O,R="omission"in C?Ul(C.omission):R}var ae=(b=Qi(b)).length;if(zf(b)){var Ie=ou(b);ae=Ie.length}if(O>=ae)return b;var Ve=O-zp(R);if(Ve<1)return R;var Xe=Ie?Rd(Ie,0,Ve).join(""):b.slice(0,Ve);if(W===N)return Xe+R;if(Ie&&(Ve+=Xe.length-Ve),BE(W)){if(b.slice(Ve).search(W)){var Mt,Nt=Xe;for(W.global||(W=qf(W.source,Qi(r4.exec(W))+"g")),W.lastIndex=0;Mt=W.exec(Nt);)var jt=Mt.index;Xe=Xe.slice(0,jt===N?Ve:jt)}}else if(b.indexOf(Ul(W),Ve)!=Ve){var _n=Xe.lastIndexOf(W);_n>-1&&(Xe=Xe.slice(0,_n))}return Xe+R},ee.unescape=function dse(b){return(b=Qi(b))&&nB.test(b)?b.replace(ED,Oc):b},ee.uniqueId=function kM(b){var C=++LB;return Qi(b)+C},ee.upperCase=wM,ee.upperFirst=RC,ee.each=dC,ee.eachRight=Vk,ee.first=Pk,Jv(ee,function(){var b={};return lu(ee,function(C,O){Ui.call(ee.prototype,O)||(b[O]=C)}),b}(),{chain:!1}),ee.VERSION="4.17.21",Sc(["bind","bindKey","curry","curryRight","partial","partialRight"],function(b){ee[b].placeholder=ee}),Sc(["drop","take"],function(b,C){ri.prototype[b]=function(O){O=O===N?1:Ko(Fr(O),0);var R=this.__filtered__&&!C?new ri(this):this.clone();return R.__filtered__?R.__takeCount__=Ti(O,R.__takeCount__):R.__views__.push({size:Ti(O,cr),type:b+(R.__dir__<0?"Right":"")}),R},ri.prototype[b+"Right"]=function(O){return this.reverse()[b](O).reverse()}}),Sc(["filter","map","takeWhile"],function(b,C){var O=C+1,R=1==O||3==O;ri.prototype[b]=function(W){var ae=this.clone();return ae.__iteratees__.push({iteratee:wr(W,3),type:O}),ae.__filtered__=ae.__filtered__||R,ae}}),Sc(["head","last"],function(b,C){var O="take"+(C?"Right":"");ri.prototype[b]=function(){return this[O](1).value()[0]}}),Sc(["initial","tail"],function(b,C){var O="drop"+(C?"":"Right");ri.prototype[b]=function(){return this.__filtered__?new ri(this):this[O](1)}}),ri.prototype.compact=function(){return this.filter(Tl)},ri.prototype.find=function(b){return this.filter(b).head()},ri.prototype.findLast=function(b){return this.reverse().find(b)},ri.prototype.invokeMap=Ge(function(b,C){return"function"==typeof b?new ri(this):this.map(function(O){return Xo(O,b,C)})}),ri.prototype.reject=function(b){return this.filter(ME(wr(b)))},ri.prototype.slice=function(b,C){b=Fr(b);var O=this;return O.__filtered__&&(b>0||C<0)?new ri(O):(b<0?O=O.takeRight(-b):b&&(O=O.drop(b)),C!==N&&(O=(C=Fr(C))<0?O.dropRight(-C):O.take(C-b)),O)},ri.prototype.takeRightWhile=function(b){return this.reverse().takeWhile(b).reverse()},ri.prototype.toArray=function(){return this.take(cr)},lu(ri.prototype,function(b,C){var O=/^(?:filter|find|map|reject)|While$/.test(C),R=/^(?:head|last)$/.test(C),W=ee[R?"take"+("last"==C?"Right":""):C],ae=R||/^find/.test(C);W&&(ee.prototype[C]=function(){var Ie=this.__wrapped__,Ve=R?[1]:arguments,Xe=Ie instanceof ri,Mt=Ve[0],Nt=Xe||Lr(Ie),jt=function(ci){var xi=W.apply(ee,Vf([ci],Ve));return R&&_n?xi[0]:xi};Nt&&O&&"function"==typeof Mt&&1!=Mt.length&&(Xe=Nt=!1);var _n=this.__chain__,yr=ae&&!_n,ii=Xe&&!this.__actions__.length;if(!ae&&Nt){Ie=ii?Ie:new ri(this);var Sr=b.apply(Ie,Ve);return Sr.__actions__.push({func:$0,args:[jt],thisArg:N}),new ca(Sr,_n)}return yr&&ii?b.apply(this,Ve):(Sr=this.thru(jt),yr?R?Sr.value()[0]:Sr.value():Sr)})}),Sc(["pop","push","shift","sort","splice","unshift"],function(b){var C=Y2[b],O=/^(?:push|sort|unshift)$/.test(b)?"tap":"thru",R=/^(?:pop|shift)$/.test(b);ee.prototype[b]=function(){var W=arguments;if(R&&!this.__chain__){var ae=this.value();return C.apply(Lr(ae)?ae:[],W)}return this[O](function(Ie){return C.apply(Lr(Ie)?Ie:[],W)})}}),lu(ri.prototype,function(b,C){var O=ee[C];if(O){var R=O.name+"";Ui.call(Pi,R)||(Pi[R]=[]),Pi[R].push({name:C,func:O})}}),Pi[I0(N,2).name]=[{name:"wrapper",func:N}],ri.prototype.clone=function Cg(){var b=new ri(this.__wrapped__);return b.__actions__=Wl(this.__actions__),b.__dir__=this.__dir__,b.__filtered__=this.__filtered__,b.__iteratees__=Wl(this.__iteratees__),b.__takeCount__=this.__takeCount__,b.__views__=Wl(this.__views__),b},ri.prototype.reverse=function zs(){if(this.__filtered__){var b=new ri(this);b.__dir__=-1,b.__filtered__=!0}else(b=this.clone()).__dir__*=-1;return b},ri.prototype.value=function D0(){var b=this.__wrapped__.value(),C=this.__dir__,O=Lr(b),R=C<0,W=O?b.length:0,ae=function pk(b,C,O){for(var R=-1,W=O.length;++R<W;){var ae=O[R],Ie=ae.size;switch(ae.type){case"drop":b+=Ie;break;case"dropRight":C-=Ie;break;case"take":C=Ti(C,b+Ie);break;case"takeRight":b=Ko(b,C-Ie)}}return{start:b,end:C}}(0,W,this.__views__),Ie=ae.start,Ve=ae.end,Xe=Ve-Ie,Mt=R?Ve:Ie-1,Nt=this.__iteratees__,jt=Nt.length,_n=0,Gn=Ti(Xe,this.__takeCount__);if(!O||!R&&W==Xe&&Gn==Xe)return $4(b,this.__actions__);var yr=[];e:for(;Xe--&&_n<Gn;){for(var ii=-1,Sr=b[Mt+=C];++ii<jt;){var ci=Nt[ii],Ac=ci.type,Pl=(0,ci.iteratee)(Sr);if(2==Ac)Sr=Pl;else if(!Pl){if(1==Ac)continue e;break e}}yr[_n++]=Sr}return yr},ee.prototype.at=S$,ee.prototype.chain=function O$(){return oC(this)},ee.prototype.commit=function T$(){return new ca(this.value(),this.__chain__)},ee.prototype.next=function Fk(){this.__values__===N&&(this.__values__=j0(this.value()));var b=this.__index__>=this.__values__.length;return{done:b,value:b?N:this.__values__[this.__index__++]}},ee.prototype.plant=function P$(b){for(var C,O=this;O instanceof ur;){var R=l$(O);R.__index__=0,R.__values__=N,C?W.__wrapped__=R:C=R;var W=R;O=O.__wrapped__}return W.__wrapped__=b,C},ee.prototype.reverse=function D$(){var b=this.__wrapped__;if(b instanceof ri){var C=b;return this.__actions__.length&&(C=new ri(this)),(C=C.reverse()).__actions__.push({func:$0,args:[SE],thisArg:N}),new ca(C,this.__chain__)}return this.thru(SE)},ee.prototype.toJSON=ee.prototype.valueOf=ee.prototype.value=function Kl(){return $4(this.__wrapped__,this.__actions__)},ee.prototype.first=ee.prototype.head,bv&&(ee.prototype[bv]=function aC(){return this}),ee}();Po._=_i,(oe=function(){return _i}.call(Be,V,Be,pe))!==N&&(pe.exports=oe)}.call(this)},7433:pe=>{pe.exports=function Be(V){return null!=V&&"object"==typeof V}},7546:(pe,Be,V)=>{const oe=V(9225);pe.exports=(ve,ge,Ee)=>0!==oe(ve,ge,Ee)},7766:(pe,Be,V)=>{var oe=V(9038);pe.exports=function N(ve){return oe(this,ve).get(ve)}},7814:(pe,Be,V)=>{var ve=V(4385)(V(1464),"Set");pe.exports=ve},7880:(pe,Be,V)=>{var oe=V(3539),ge=Object.prototype.hasOwnProperty;pe.exports=function Ee(Me,ue,ze,Ze,xt,et){var st=1&ze,_t=oe(Me),ut=_t.length;if(ut!=oe(ue).length&&!st)return!1;for(var Cn=ut;Cn--;){var lr=_t[Cn];if(!(st?lr in ue:ge.call(ue,lr)))return!1}var In=et.get(Me),nr=et.get(ue);if(In&&nr)return In==ue&&nr==Me;var ir=!0;et.set(Me,ue),et.set(ue,Me);for(var jr=st;++Cn<ut;){var Mn=Me[lr=_t[Cn]],Zn=ue[lr];if(Ze)var zn=st?Ze(Zn,Mn,lr,ue,Me,et):Ze(Mn,Zn,lr,Me,ue,et);if(!(void 0===zn?Mn===Zn||xt(Mn,Zn,ze,Ze,et):zn)){ir=!1;break}jr||(jr="constructor"==lr)}if(ir&&!jr){var _s=Me.constructor,Wo=ue.constructor;_s!=Wo&&"constructor"in Me&&"constructor"in ue&&!("function"==typeof _s&&_s instanceof _s&&"function"==typeof Wo&&Wo instanceof Wo)&&(ir=!1)}return et.delete(Me),et.delete(ue),ir}},7987:(pe,Be,V)=>{var oe=V(8516),N=V(2737),ve=V(2651),ge=V(2900),Ee=V(7152),Me=V(3578),nr=oe?oe.prototype:void 0,ir=nr?nr.valueOf:void 0;pe.exports=function jr(Mn,Zn,zn,_s,Wo,ti,qa){switch(zn){case"[object DataView]":if(Mn.byteLength!=Zn.byteLength||Mn.byteOffset!=Zn.byteOffset)return!1;Mn=Mn.buffer,Zn=Zn.buffer;case"[object ArrayBuffer]":return!(Mn.byteLength!=Zn.byteLength||!ti(new N(Mn),new N(Zn)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ve(+Mn,+Zn);case"[object Error]":return Mn.name==Zn.name&&Mn.message==Zn.message;case"[object RegExp]":case"[object String]":return Mn==Zn+"";case"[object Map]":var oa=Ee;case"[object Set]":if(oa||(oa=Me),Mn.size!=Zn.size&&!(1&_s))return!1;var tn=qa.get(Mn);if(tn)return tn==Zn;_s|=2,qa.set(Mn,Zn);var Fn=ge(oa(Mn),oa(Zn),_s,Wo,ti,qa);return qa.delete(Mn),Fn;case"[object Symbol]":if(ir)return ir.call(Mn)==ir.call(Zn)}return!1}},8016:pe=>{const Be=Object.freeze({loose:!0}),V=Object.freeze({});pe.exports=N=>N?"object"!=typeof N?Be:N:V},8020:pe=>{var V=Function.prototype.toString;pe.exports=function oe(N){if(null!=N){try{return V.call(N)}catch{}try{return N+""}catch{}}return""}},8068:(pe,Be,V)=>{var oe=V(1057),N=V(8845),ve=V(7433),ti={};ti["[object Float32Array]"]=ti["[object Float64Array]"]=ti["[object Int8Array]"]=ti["[object Int16Array]"]=ti["[object Int32Array]"]=ti["[object Uint8Array]"]=ti["[object Uint8ClampedArray]"]=ti["[object Uint16Array]"]=ti["[object Uint32Array]"]=!0,ti["[object Arguments]"]=ti["[object Array]"]=ti["[object ArrayBuffer]"]=ti["[object Boolean]"]=ti["[object DataView]"]=ti["[object Date]"]=ti["[object Error]"]=ti["[object Function]"]=ti["[object Map]"]=ti["[object Number]"]=ti["[object Object]"]=ti["[object RegExp]"]=ti["[object Set]"]=ti["[object String]"]=ti["[object WeakMap]"]=!1,pe.exports=function qa(oa){return ve(oa)&&N(oa.length)&&!!ti[oe(oa)]}},8125:(pe,Be,V)=>{var oe=V(2925);pe.exports=function N(ve,ge){return oe(ve,ge)}},8247:(pe,Be,V)=>{var N=V(4385)(Object,"create");pe.exports=N},8267:(pe,Be,V)=>{const{MAX_SAFE_COMPONENT_LENGTH:oe,MAX_SAFE_BUILD_LENGTH:N,MAX_LENGTH:ve}=V(9473),ge=V(51),Ee=(Be=pe.exports={}).re=[],Me=Be.safeRe=[],ue=Be.src=[],ze=Be.safeSrc=[],Ze=Be.t={};let xt=0;const et="[a-zA-Z0-9-]",st=[["\\s",1],["\\d",ve],[et,N]],ut=(dn,pn,Cn)=>{const lr=(dn=>{for(const[pn,Cn]of st)dn=dn.split(`${pn}*`).join(`${pn}{0,${Cn}}`).split(`${pn}+`).join(`${pn}{1,${Cn}}`);return dn})(pn),In=xt++;ge(dn,In,pn),Ze[dn]=In,ue[In]=pn,ze[In]=lr,Ee[In]=new RegExp(pn,Cn?"g":void 0),Me[In]=new RegExp(lr,Cn?"g":void 0)};ut("NUMERICIDENTIFIER","0|[1-9]\\d*"),ut("NUMERICIDENTIFIERLOOSE","\\d+"),ut("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${et}*`),ut("MAINVERSION",`(${ue[Ze.NUMERICIDENTIFIER]})\\.(${ue[Ze.NUMERICIDENTIFIER]})\\.(${ue[Ze.NUMERICIDENTIFIER]})`),ut("MAINVERSIONLOOSE",`(${ue[Ze.NUMERICIDENTIFIERLOOSE]})\\.(${ue[Ze.NUMERICIDENTIFIERLOOSE]})\\.(${ue[Ze.NUMERICIDENTIFIERLOOSE]})`),ut("PRERELEASEIDENTIFIER",`(?:${ue[Ze.NUMERICIDENTIFIER]}|${ue[Ze.NONNUMERICIDENTIFIER]})`),ut("PRERELEASEIDENTIFIERLOOSE",`(?:${ue[Ze.NUMERICIDENTIFIERLOOSE]}|${ue[Ze.NONNUMERICIDENTIFIER]})`),ut("PRERELEASE",`(?:-(${ue[Ze.PRERELEASEIDENTIFIER]}(?:\\.${ue[Ze.PRERELEASEIDENTIFIER]})*))`),ut("PRERELEASELOOSE",`(?:-?(${ue[Ze.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ue[Ze.PRERELEASEIDENTIFIERLOOSE]})*))`),ut("BUILDIDENTIFIER",`${et}+`),ut("BUILD",`(?:\\+(${ue[Ze.BUILDIDENTIFIER]}(?:\\.${ue[Ze.BUILDIDENTIFIER]})*))`),ut("FULLPLAIN",`v?${ue[Ze.MAINVERSION]}${ue[Ze.PRERELEASE]}?${ue[Ze.BUILD]}?`),ut("FULL",`^${ue[Ze.FULLPLAIN]}$`),ut("LOOSEPLAIN",`[v=\\s]*${ue[Ze.MAINVERSIONLOOSE]}${ue[Ze.PRERELEASELOOSE]}?${ue[Ze.BUILD]}?`),ut("LOOSE",`^${ue[Ze.LOOSEPLAIN]}$`),ut("GTLT","((?:<|>)?=?)"),ut("XRANGEIDENTIFIERLOOSE",`${ue[Ze.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),ut("XRANGEIDENTIFIER",`${ue[Ze.NUMERICIDENTIFIER]}|x|X|\\*`),ut("XRANGEPLAIN",`[v=\\s]*(${ue[Ze.XRANGEIDENTIFIER]})(?:\\.(${ue[Ze.XRANGEIDENTIFIER]})(?:\\.(${ue[Ze.XRANGEIDENTIFIER]})(?:${ue[Ze.PRERELEASE]})?${ue[Ze.BUILD]}?)?)?`),ut("XRANGEPLAINLOOSE",`[v=\\s]*(${ue[Ze.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ue[Ze.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ue[Ze.XRANGEIDENTIFIERLOOSE]})(?:${ue[Ze.PRERELEASELOOSE]})?${ue[Ze.BUILD]}?)?)?`),ut("XRANGE",`^${ue[Ze.GTLT]}\\s*${ue[Ze.XRANGEPLAIN]}$`),ut("XRANGELOOSE",`^${ue[Ze.GTLT]}\\s*${ue[Ze.XRANGEPLAINLOOSE]}$`),ut("COERCEPLAIN",`(^|[^\\d])(\\d{1,${oe}})(?:\\.(\\d{1,${oe}}))?(?:\\.(\\d{1,${oe}}))?`),ut("COERCE",`${ue[Ze.COERCEPLAIN]}(?:$|[^\\d])`),ut("COERCEFULL",ue[Ze.COERCEPLAIN]+`(?:${ue[Ze.PRERELEASE]})?(?:${ue[Ze.BUILD]})?(?:$|[^\\d])`),ut("COERCERTL",ue[Ze.COERCE],!0),ut("COERCERTLFULL",ue[Ze.COERCEFULL],!0),ut("LONETILDE","(?:~>?)"),ut("TILDETRIM",`(\\s*)${ue[Ze.LONETILDE]}\\s+`,!0),Be.tildeTrimReplace="$1~",ut("TILDE",`^${ue[Ze.LONETILDE]}${ue[Ze.XRANGEPLAIN]}$`),ut("TILDELOOSE",`^${ue[Ze.LONETILDE]}${ue[Ze.XRANGEPLAINLOOSE]}$`),ut("LONECARET","(?:\\^)"),ut("CARETTRIM",`(\\s*)${ue[Ze.LONECARET]}\\s+`,!0),Be.caretTrimReplace="$1^",ut("CARET",`^${ue[Ze.LONECARET]}${ue[Ze.XRANGEPLAIN]}$`),ut("CARETLOOSE",`^${ue[Ze.LONECARET]}${ue[Ze.XRANGEPLAINLOOSE]}$`),ut("COMPARATORLOOSE",`^${ue[Ze.GTLT]}\\s*(${ue[Ze.LOOSEPLAIN]})$|^$`),ut("COMPARATOR",`^${ue[Ze.GTLT]}\\s*(${ue[Ze.FULLPLAIN]})$|^$`),ut("COMPARATORTRIM",`(\\s*)${ue[Ze.GTLT]}\\s*(${ue[Ze.LOOSEPLAIN]}|${ue[Ze.XRANGEPLAIN]})`,!0),Be.comparatorTrimReplace="$1$2$3",ut("HYPHENRANGE",`^\\s*(${ue[Ze.XRANGEPLAIN]})\\s+-\\s+(${ue[Ze.XRANGEPLAIN]})\\s*$`),ut("HYPHENRANGELOOSE",`^\\s*(${ue[Ze.XRANGEPLAINLOOSE]})\\s+-\\s+(${ue[Ze.XRANGEPLAINLOOSE]})\\s*$`),ut("STAR","(<|>)?=?\\s*\\*"),ut("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),ut("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},8313:(pe,Be,V)=>{var oe=V(1057),N=V(7433);pe.exports=function ge(Ee){return N(Ee)&&"[object Arguments]"==oe(Ee)}},8401:(pe,Be,V)=>{var ge,oe=V(336),N=(ge=/[^.]+$/.exec(oe&&oe.keys&&oe.keys.IE_PROTO||""))?"Symbol(src)_1."+ge:"";pe.exports=function ve(ge){return!!N&&N in ge}},8420:(pe,Be,V)=>{const oe=V(319);pe.exports=(ve,ge,Ee)=>{const Me=new oe(ve,Ee),ue=new oe(ge,Ee);return Me.compare(ue)||Me.compareBuild(ue)}},8425:pe=>{pe.exports=function Be(V){var oe=this.__data__,N=oe.delete(V);return this.size=oe.size,N}},8426:pe=>{var V=/^(?:0|[1-9]\d*)$/;pe.exports=function oe(N,ve){var ge=typeof N;return!!(ve=ve??9007199254740991)&&("number"==ge||"symbol"!=ge&&V.test(N))&&N>-1&&N%1==0&&N<ve}},8488:(pe,Be,V)=>{var oe=V(8516),N=Object.prototype,ve=N.hasOwnProperty,ge=N.toString,Ee=oe?oe.toStringTag:void 0;pe.exports=function Me(ue){var ze=ve.call(ue,Ee),Ze=ue[Ee];try{ue[Ee]=void 0;var xt=!0}catch{}var et=ge.call(ue);return xt&&(ze?ue[Ee]=Ze:delete ue[Ee]),et}},8510:(pe,Be,V)=>{const oe=V(2229);pe.exports=(ve,ge)=>{const Ee=oe(ve,ge);return Ee&&Ee.prerelease.length?Ee.prerelease:null}},8516:(pe,Be,V)=>{var oe=V(1464);pe.exports=oe.Symbol},8548:(pe,Be,V)=>{var oe=V(9695),N=V(6265),ve=V(9812),ge=V(3151),Ee=V(8426),Me=V(1028),ze=Object.prototype.hasOwnProperty;pe.exports=function Ze(xt,et){var st=ve(xt),_t=!st&&N(xt),ut=!st&&!_t&&ge(xt),dn=!st&&!_t&&!ut&&Me(xt),pn=st||_t||ut||dn,Cn=pn?oe(xt.length,String):[],lr=Cn.length;for(var In in xt)(et||ze.call(xt,In))&&(!pn||!("length"==In||ut&&("offset"==In||"parent"==In)||dn&&("buffer"==In||"byteLength"==In||"byteOffset"==In)||Ee(In,lr)))&&Cn.push(In);return Cn}},8653:(pe,Be,V)=>{var oe=V(1057),N=V(3278);pe.exports=function ue(ze){if(!N(ze))return!1;var Ze=oe(ze);return"[object Function]"==Ze||"[object GeneratorFunction]"==Ze||"[object AsyncFunction]"==Ze||"[object Proxy]"==Ze}},8657:pe=>{var Be="object"==typeof global&&global&&global.Object===Object&&global;pe.exports=Be},8709:(pe,Be)=>{var oe;!function(){"use strict";var N={}.hasOwnProperty;function ve(){for(var Me="",ue=0;ue<arguments.length;ue++){var ze=arguments[ue];ze&&(Me=Ee(Me,ge(ze)))}return Me}function ge(Me){if("string"==typeof Me||"number"==typeof Me)return Me;if("object"!=typeof Me)return"";if(Array.isArray(Me))return ve.apply(null,Me);if(Me.toString!==Object.prototype.toString&&!Me.toString.toString().includes("[native code]"))return Me.toString();var ue="";for(var ze in Me)N.call(Me,ze)&&Me[ze]&&(ue=Ee(ue,ze));return ue}function Ee(Me,ue){return ue?Me?Me+" "+ue:Me+ue:Me}pe.exports?(ve.default=ve,pe.exports=ve):void 0!==(oe=function(){return ve}.apply(Be,[]))&&(pe.exports=oe)}()},8737:pe=>{pe.exports=function Be(V,oe){return V?.[oe]}},8822:pe=>{pe.exports=function(V,oe){for(var N=V.split("."),ve=oe.split("."),ge=0;ge<3;ge++){var Ee=Number(N[ge]),Me=Number(ve[ge]);if(Ee>Me)return 1;if(Me>Ee)return-1;if(!isNaN(Ee)&&isNaN(Me))return 1;if(isNaN(Ee)&&!isNaN(Me))return-1}return 0}},8845:pe=>{pe.exports=function V(oe){return"number"==typeof oe&&oe>-1&&oe%1==0&&oe<=9007199254740991}},8945:(pe,Be,V)=>{var oe=V(5752);pe.exports=function N(){this.__data__=new oe,this.size=0}},9038:(pe,Be,V)=>{var oe=V(3329);pe.exports=function N(ve,ge){var Ee=ve.__data__;return oe(ge)?Ee["string"==typeof ge?"string":"hash"]:Ee.map}},9163:(pe,Be,V)=>{const oe=V(9225);pe.exports=(ve,ge,Ee)=>oe(ve,ge,Ee)>0},9225:(pe,Be,V)=>{const oe=V(319);pe.exports=(ve,ge,Ee)=>new oe(ve,Ee).compare(new oe(ge,Ee))},9261:(pe,Be,V)=>{const oe=V(178),N=V(4119),{ANY:ve}=N,ge=V(6351),Ee=V(9225),ue=[new N(">=0.0.0-0")],ze=[new N(">=0.0.0")],Ze=(st,_t,ut)=>{if(st===_t)return!0;if(1===st.length&&st[0].semver===ve){if(1===_t.length&&_t[0].semver===ve)return!0;st=ut.includePrerelease?ue:ze}if(1===_t.length&&_t[0].semver===ve){if(ut.includePrerelease)return!0;_t=ze}const dn=new Set;let pn,Cn,lr;for(const zn of st)">"===zn.operator||">="===zn.operator?pn=xt(pn,zn,ut):"<"===zn.operator||"<="===zn.operator?Cn=et(Cn,zn,ut):dn.add(zn.semver);if(dn.size>1)return null;if(pn&&Cn){if(lr=Ee(pn.semver,Cn.semver,ut),lr>0)return null;if(0===lr&&(">="!==pn.operator||"<="!==Cn.operator))return null}for(const zn of dn){if(pn&&!ge(zn,String(pn),ut)||Cn&&!ge(zn,String(Cn),ut))return null;for(const _s of _t)if(!ge(zn,String(_s),ut))return!1;return!0}let In,nr,ir,jr,Mn=!(!Cn||ut.includePrerelease||!Cn.semver.prerelease.length)&&Cn.semver,Zn=!(!pn||ut.includePrerelease||!pn.semver.prerelease.length)&&pn.semver;Mn&&1===Mn.prerelease.length&&"<"===Cn.operator&&0===Mn.prerelease[0]&&(Mn=!1);for(const zn of _t){if(jr=jr||">"===zn.operator||">="===zn.operator,ir=ir||"<"===zn.operator||"<="===zn.operator,pn)if(Zn&&zn.semver.prerelease&&zn.semver.prerelease.length&&zn.semver.major===Zn.major&&zn.semver.minor===Zn.minor&&zn.semver.patch===Zn.patch&&(Zn=!1),">"===zn.operator||">="===zn.operator){if(In=xt(pn,zn,ut),In===zn&&In!==pn)return!1}else if(">="===pn.operator&&!ge(pn.semver,String(zn),ut))return!1;if(Cn)if(Mn&&zn.semver.prerelease&&zn.semver.prerelease.length&&zn.semver.major===Mn.major&&zn.semver.minor===Mn.minor&&zn.semver.patch===Mn.patch&&(Mn=!1),"<"===zn.operator||"<="===zn.operator){if(nr=et(Cn,zn,ut),nr===zn&&nr!==Cn)return!1}else if("<="===Cn.operator&&!ge(Cn.semver,String(zn),ut))return!1;if(!zn.operator&&(Cn||pn)&&0!==lr)return!1}return!(pn&&ir&&!Cn&&0!==lr||Cn&&jr&&!pn&&0!==lr||Zn||Mn)},xt=(st,_t,ut)=>{if(!st)return _t;const dn=Ee(st.semver,_t.semver,ut);return dn>0?st:dn<0||">"===_t.operator&&">="===st.operator?_t:st},et=(st,_t,ut)=>{if(!st)return _t;const dn=Ee(st.semver,_t.semver,ut);return dn<0?st:dn>0||"<"===_t.operator&&"<="===st.operator?_t:st};pe.exports=(st,_t,ut={})=>{if(st===_t)return!0;st=new oe(st,ut),_t=new oe(_t,ut);let dn=!1;e:for(const pn of st.set){for(const Cn of _t.set){const lr=Ze(pn,Cn,ut);if(dn=dn||null!==lr,lr)continue e}if(dn)return!1}return!0}},9471:(pe,Be,V)=>{var oe=V(6898),N=V(2900),ve=V(7987),ge=V(7880),Ee=V(828),Me=V(9812),ue=V(3151),ze=V(1028),xt="[object Arguments]",et="[object Array]",st="[object Object]",ut=Object.prototype.hasOwnProperty;pe.exports=function dn(pn,Cn,lr,In,nr,ir){var jr=Me(pn),Mn=Me(Cn),Zn=jr?et:Ee(pn),zn=Mn?et:Ee(Cn),_s=(Zn=Zn==xt?st:Zn)==st,Wo=(zn=zn==xt?st:zn)==st,ti=Zn==zn;if(ti&&ue(pn)){if(!ue(Cn))return!1;jr=!0,_s=!1}if(ti&&!_s)return ir||(ir=new oe),jr||ze(pn)?N(pn,Cn,lr,In,nr,ir):ve(pn,Cn,Zn,lr,In,nr,ir);if(!(1&lr)){var qa=_s&&ut.call(pn,"__wrapped__"),oa=Wo&&ut.call(Cn,"__wrapped__");if(qa||oa){var fn=qa?pn.value():pn,tn=oa?Cn.value():Cn;return ir||(ir=new oe),nr(fn,tn,lr,In,ir)}}return!!ti&&(ir||(ir=new oe),ge(pn,Cn,lr,In,nr,ir))}},9473:pe=>{pe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},9670:(pe,Be,V)=>{const oe=V(9225);pe.exports=(ve,ge)=>oe(ve,ge,!0)},9695:pe=>{pe.exports=function Be(V,oe){for(var N=-1,ve=Array(V);++N<V;)ve[N]=oe(N);return ve}},9774:(pe,Be,V)=>{const oe=V(319),N=V(178),ve=V(9163);pe.exports=(Ee,Me)=>{Ee=new N(Ee,Me);let ue=new oe("0.0.0");if(Ee.test(ue)||(ue=new oe("0.0.0-0"),Ee.test(ue)))return ue;ue=null;for(let ze=0;ze<Ee.set.length;++ze){let xt=null;Ee.set[ze].forEach(et=>{const st=new oe(et.semver.version);switch(et.operator){case">":0===st.prerelease.length?st.patch++:st.prerelease.push(0),st.raw=st.format();case"":case">=":(!xt||ve(st,xt))&&(xt=st);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${et.operator}`)}}),xt&&(!ue||ve(ue,xt))&&(ue=xt)}return ue&&Ee.test(ue)?ue:null}},9812:pe=>{pe.exports=Array.isArray},9926:(pe,Be,V)=>{var oe=V(6319),N=V(9812);pe.exports=function ve(ge,Ee,Me){var ue=Ee(ge);return N(ge)?ue:oe(ue,Me(ge))}}},pe=>{pe(pe.s=149)}]);